{"version":3,"sources":["webpack:///./src/api/songList.js","webpack:///./src/common/js/songlist.js","webpack:///src/components/hotsonglist/hotsonglist.vue","webpack:///./src/components/hotsonglist/hotsonglist.vue?31f4","webpack:///./src/components/hotsonglist/hotsonglist.vue"],"names":["__webpack_exports__","id","url","baseUrl","data","axios","get","concatUrl","num","page","orderType","pageSize","__WEBPACK_IMPORTED_MODULE_0__config__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","n","__WEBPACK_IMPORTED_MODULE_2__kit__","SongList","_ref","name","tag","desc","ctime","picUrl","classCallCheck_default","this","hotsonglist","beforeRouteEnter","to","from","next","vm","setCurrentPage","created","_getRecommendList","hottestList","isLoading","title","total","methods","extends_default","_this","Object","songList","then","res","code","config","forEach","item","listObj","coverImgUrl","kit","tags","createTime","description","push","songlist","selectedList","listItem","setSongList","$router","path","vuex_esm","watch","currentPage","newPage","computed","components","Grid","grid","MTitle","Pagination","pagination","hotsonglist_hotsonglist","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","_v","directives","rawName","value","expression","dataList","on","selected","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/6.c4d79df16958dcedb3c7.js","sourcesContent":["/* eslint-disable space-before-function-paren */\r\nimport {\r\n  baseUrl\r\n} from './config'\r\nimport axios from 'axios'\r\nimport {\r\n  concatUrl\r\n} from './kit'\r\n\r\nexport function getListSong(id) {\r\n  const url = baseUrl + 'netease/songList'\r\n  const data = {\r\n    id: id\r\n  }\r\n  return axios.get(concatUrl(url, data))\r\n}\r\n\r\nexport function getRecommendList(num, page) {\r\n  const url = baseUrl + 'netease/songList/hot'\r\n  const pageAll = page * num\r\n  const data = {\r\n    orderType: 'hot',\r\n    pageSize: num,\r\n    page: pageAll\r\n  }\r\n  return axios.get(concatUrl(url, data))\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/songList.js","export default class SongList {\r\n  // eslint-disable-next-line space-before-function-paren\r\n  constructor({\r\n    name,\r\n    tag,\r\n    id,\r\n    desc,\r\n    ctime,\r\n    picUrl\r\n  }) {\r\n    this.name = name\r\n    this.tag = tag\r\n    this.id = id\r\n    this.desc = desc\r\n    this.ctime = ctime\r\n    this.picUrl = picUrl\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/songlist.js","<template>\r\n  <el-row class=\"songList-container\">\r\n    <m-title :data=\"title\" :push=\"3\" :span=\"18\"/>\r\n    <el-col class=\"loading-box\" v-if=\"isLoading\" v-loading=\"isLoading\" :push=\"3\" :span=\"18\"></el-col>\r\n    <el-col class=\"hottest-songlist\" v-else :push=\"3\" :span=\"18\">\r\n      <grid :dataList=\"hottestList\" @selected=\"selectedList\"/>\r\n    </el-col>\r\n    <el-col :push=\"3\" :span=\"18\">\r\n      <pagination :pageSize=\"pageSize\" :total=\"total\"/>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex'\r\nimport { ERR_OK } from 'api/config'\r\nimport SongList from 'common/js/songlist'\r\nimport { getRecommendList } from 'api/songList'\r\nimport Grid from 'base/grid/grid'\r\nimport MTitle from 'base/title/title'\r\nimport Pagination from 'base/pagination/pagination'\r\nimport { divideByTag, splitTags } from 'api/kit'\r\n\r\nexport default {\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      vm.setCurrentPage(1)\r\n    })\r\n  },\r\n  created() {\r\n    this._getRecommendList(0)\r\n  },\r\n  data() {\r\n    return {\r\n      hottestList: [],\r\n      isLoading: true,\r\n      pageSize: 24,\r\n      title: '热门歌单',\r\n      total: 240\r\n    }\r\n  },\r\n  methods: {\r\n    _getRecommendList(page) {\r\n      getRecommendList(this.pageSize, page).then(res => {\r\n        if (res.data.code === ERR_OK) {\r\n          const data = res.data.data\r\n          let hottestList = []\r\n          data.forEach(item => {\r\n            let listObj = {}\r\n            listObj.name = item.name\r\n            listObj.id = item.id\r\n            listObj.picUrl = item.coverImgUrl\r\n            listObj.tag = splitTags(item.tags)\r\n            listObj.ctime = item.createTime\r\n            listObj.desc = item.description\r\n            hottestList.push(new SongList(listObj))\r\n          })\r\n          this.hottestList = hottestList\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    selectedList(listItem) {\r\n      this.setSongList(listItem)\r\n      this.$router.push({\r\n        path: `songlist/${listItem.id}`\r\n      })\r\n    },\r\n    ...mapMutations({\r\n      setSongList: 'SET_CURRENT_SONG_LIST',\r\n      setCurrentPage: 'SET_CURRENT_PAGE'\r\n    })\r\n  },\r\n  watch: {\r\n    currentPage(newPage) {\r\n      this.isLoading = true\r\n      this._getRecommendList(newPage)\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentPage'])\r\n  },\r\n  components: {\r\n    Grid,\r\n    MTitle,\r\n    Pagination\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '~common/stylus/variables.styl';\r\n@import '~common/stylus/reset.styl';\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/hotsonglist/hotsonglist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"songList-container\"},[_c('m-title',{attrs:{\"data\":_vm.title,\"push\":3,\"span\":18}}),_vm._v(\" \"),(_vm.isLoading)?_c('el-col',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"loading-box\",attrs:{\"push\":3,\"span\":18}}):_c('el-col',{staticClass:\"hottest-songlist\",attrs:{\"push\":3,\"span\":18}},[_c('grid',{attrs:{\"dataList\":_vm.hottestList},on:{\"selected\":_vm.selectedList}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"push\":3,\"span\":18}},[_c('pagination',{attrs:{\"pageSize\":_vm.pageSize,\"total\":_vm.total}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-aebb5384\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/hotsonglist/hotsonglist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-aebb5384\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./hotsonglist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./hotsonglist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./hotsonglist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-aebb5384\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./hotsonglist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-aebb5384\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/hotsonglist/hotsonglist.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}