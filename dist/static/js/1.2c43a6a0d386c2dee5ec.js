webpackJsonp([1],{"2cl1":function(t,e){},"MnM/":function(t,e){},UNID:function(t,e,a){"use strict";var s={created:function(){this.rowNum=Math.ceil(this.dataList.length/this.eachRowNum)},data:function(){return{displayIdx1:-1,displayIdx2:-1,rowNum:0}},props:{dataList:{type:Array,default:function(){return[]}},eachRowNum:{type:Number,default:4}},methods:{displayBlock:function(t,e){this.displayIdx1=t,this.displayIdx2=e},hideBlock:function(){this.displayIdx1=-1,this.displayIdx2=-1},selected:function(t){this.$emit("selected",t)}},watch:{dataList:function(t){0!==t.length&&(this.rowNum=Math.ceil(this.dataList.length/this.eachRowNum))}},computed:{eachRowList:function(){for(var t=[],e=0;e<this.eachRowNum;e++){var a=[];a=(e+1)*this.eachRowNum>this.dataList.length?this.dataList.slice(e):this.dataList.slice(e*this.eachRowNum,(e+1)*this.eachRowNum),t.push(a)}return t}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"grid-container"},t._l(t.rowNum,function(e){return a("el-row",{key:e,staticClass:"mv-item-container"},t._l(t.eachRowList[e-1],function(s,i){return a("el-col",{key:i,staticClass:"mv-item",attrs:{span:24/t.eachRowNum},nativeOn:{mouseenter:function(a){return t.displayBlock(e,i)},mouseleave:function(e){return t.hideBlock(e)},click:function(e){return t.selected(s)}}},[a("div",{staticClass:"pic"},[a("img",{attrs:{src:s.picUrl}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e===t.displayIdx1&&i===t.displayIdx2,expression:"idx1===displayIdx1&&idx2===displayIdx2"}],staticClass:"block-layer"},[a("p",{staticClass:"layer-play iconfont icon-zanting"})])]),t._v(" "),a("p",{staticClass:"mv-name",attrs:{title:s.name}},[t._v(t._s(s.name))]),t._v(" "),a("p",{staticClass:"mv-singer",attrs:{title:s.singer}},[t._v(t._s(s.singer))])])}),1)}),1)},staticRenderFns:[]};var r=a("C7Lr")(s,i,!1,function(t){a("MnM/")},"data-v-3abcd334",null);e.a=r.exports},ggiw:function(t,e,a){"use strict";a.d(e,"b",function(){return m}),a.d(e,"a",function(){return v});var s=a("AA3o"),i=a.n(s),r=a("xSur"),n=a.n(r),c=a("W/7t"),o=a("Gdqy"),h=a("PvFA"),u=a("0aAL"),d=a("Dta8"),l=a("qwao"),g=a("AcUZ"),p=function(){function t(e){var a=e.count,s=e.category,r=e.data;i()(this,t),this.count=a,this.category=s,this.data=r}return n()(t,[{key:"analyzeSearchData",value:function(t){var e=[];return this.category===c.c.song&&t===c.c.song?(this.data.forEach(function(t){var a={};a.name=t.name,a.singer=Object(o.f)(t.ar),a.id=t.id,a.album=t.al.name,a.duration=t.dt,a.albumPic=t.al.picUrl,a.albumId=t.al.id,e.push(new h.a(a))}),e):t===c.c.singer?(this.data.forEach(function(t){var a={};a.name=t.name,a.id=t.id,a.img1v1Url=t.img1v1Url,e.push(new u.a(a))}),e):t===c.c.songList?(this.data.forEach(function(t){var a={};a.name=t.name,a.id=t.id,a.picUrl=t.coverImgUrl,a.desc=t.description,e.push(new d.a(a))}),e):t===c.c.album?(this.data.forEach(function(t){var a={};a.name=t.name,a.id=t.id,a.picUrl=t.picUrl,a.desc=t.description,a.company=t.company,a.singer=Object(o.f)(t.artists),e.push(new l.a(a))}),e):t===c.c.mv?(this.data.forEach(function(t){var a={};a.name=t.name,a.id=t.id,a.cover=t.cover,a.singer=Object(o.f)(t.artists),e.push(new g.a(a))}),e):void 0}}]),t}();e.c=p;var m=50,v=24},"y/ct":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("4YfN"),i=a.n(s),r=a("2bvH"),n=a("T452"),c=a("84iU"),o=a.n(c),h=a("Gdqy"),u=a("W/7t");var d=a("ggiw"),l=a("9Wym"),g=a("PSSQ"),p=a("UNID"),m=a("dybo"),v={created:function(){this.searchKeywords.length&&this.searchCategory?this._search(this.searchKeywords,this.searchCategory,0,this.perPage):this.$emit("turenBack")},beforeRouteEnter:function(t,e,a){a(function(t){t.searchKeywords.length&&t.searchCategory?t.setCurrentPage(1):t.$router.push({path:"/search"})})},data:function(){return{pagerDisplay:0,isNotFound:!1,recordCount:0,displayList:[],isLoading:!0,eachLength:3}},methods:i()({_search:function(t,e,a,s){var i=this;this.isLoading=!0,function(t,e,a,s){var i=n.b+"netease/search",r={keyword:t,type:e===u.c.song?"song":e===u.c.singer?"singer":e===u.c.album?"album":e===u.c.songList?"songList":"mv",page:a*s||0,pageSize:s};return o.a.get(Object(h.b)(i,r))}(t,e,a,s).then(function(t){t.data.code===n.a&&t.data.data?(i.dataHandler(t.data.data),i.displayList=i.searchResult.analyzeSearchData(e),i.isLoading=!1):(i.isLoading=!1,i.isNotFound=!0,i.setSearchResult({}))})},dataHandler:function(t){var e=t;this.recordCount=e.songCount||e.artistCount||e.playlistCount||e.albumCount||e.mvCount||0;var a=e.songs||e.artists||e.playlists||e.albums||e.mvs;this.setSearchResult(new d.c({count:this.recordCount,category:this.searchCategory,data:a}))},selected:function(t){this.searchCategory===u.c.singer&&(this.setSinger(t),this.$router.push({path:"/singer/"+t.id})),this.searchCategory===u.c.songList&&(this.setSongList(t),this.$router.push({path:"/songlist/"+t.id})),this.searchCategory===u.c.album&&(this.setAlbum(t),this.$router.push({path:"/albumdetail/"+t.id})),this.searchCategory===u.c.album&&(this.setAlbum(t),this.$router.push({path:"/albumdetail/"+t.id}))},selectedMV:function(t){this.setCurrentMV(t),this.$router.push({path:"/mvdetail/"+t.id})}},Object(r.d)({setSearchResult:"SET_SEARCH_RESULT",setSinger:"SET_SINGER",setSongList:"SET_CURRENT_SONG_LIST",setAlbum:"SET_CURRENT_ALBUM",setMV:"SET_CURRENT_MV",setCurrentPage:"SET_CURRENT_PAGE",setCurrentMV:"SET_CURRENT_MV"})),watch:{currentPage:function(t){this._search(this.searchKeywords,this.searchCategory,t,this.perPage)},searchKeywords:function(t){this._search(t,this.searchCategory,0,this.perPage)},searchCategory:function(t){this._search(this.searchKeywords,t,0,this.perPage)}},computed:i()({perPage:function(){return this.searchCategory===u.c.song?d.b:d.a},isTag:function(){return this.searchCategory===u.c.album}},Object(r.c)(["searchKeywords","searchCategory","currentPage","searchResult"])),components:{List:l.a,Grid:g.a,Pagination:m.a,MvGrid:p.a}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"result-container"},[t.isNotFound?a("el-col",{staticClass:"not-found iconfont icon-shanchu"},[t._v(" 服务器上没有相关资源")]):t._e(),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"},{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"loading-box"}),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.isNotFound&&!t.isLoading,expression:"!isNotFound&&!isLoading"}],staticClass:"result"},[a("el-row",{staticClass:"record-count"},[a("el-col",{attrs:{span:21,push:3}},[t._v('共找到"'+t._s(t.searchKeywords)+'"相关的记录共'+t._s(t.recordCount)+"条")])],1),t._v(" "),1===t.searchCategory?a("el-col",{attrs:{push:3,span:18}},[a("list",{attrs:{dataList:t.displayList}})],1):t._e(),t._v(" "),2===t.searchCategory||3===t.searchCategory||4===t.searchCategory?a("el-col",{attrs:{push:3,span:18}},[a("grid",{attrs:{dataList:t.displayList,"each-length":t.eachLength,isTag:t.isTag},on:{selected:t.selected}})],1):t._e(),t._v(" "),5===t.searchCategory?a("el-col",{attrs:{push:3,span:18}},[a("mv-grid",{attrs:{dataList:t.displayList},on:{selected:t.selectedMV}})],1):t._e(),t._v(" "),a("el-col",{staticClass:"pager",attrs:{push:3}},[a("pagination",{attrs:{total:t.searchResult.count,pageSize:t.perPage}})],1)],1)],1)},staticRenderFns:[]};var f=a("C7Lr")(v,y,!1,function(t){a("2cl1")},"data-v-68f74b40",null);e.default=f.exports}});
//# sourceMappingURL=1.2c43a6a0d386c2dee5ec.js.map