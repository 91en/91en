{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"bbsAutoSign","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http*://*/plugin.php?id=*sign*","http*://bbs.kafan.cn/*","http*://bbs.wstx.com/*","http*://bbs.gfan.com/*","http*://www.horou.com/*","http*://www.92jh.cn/*","http*://bbs.ntrqq.net/*","http*://www.gn00.com/*","http*://www.52pojie.cn/*","http*://zhidao.baidu.com/question/*","http*://wenku.baidu.com/task/browse/daily*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1571242711080},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/22511-bbsautosign/code/bbsAutoSign.user.js","uuid":"6c277686-27ea-46a7-aa1b-45413cee2b72","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUJCSBiYnNBdXRvU2lnbgovLyBAbmFtZTp6aC1DTiAgIOiuuuWdm+etvuWIsOW3peWFtwovLyBAbmFtZXNwYWNlICAgIGJic3NpZ24KLy8gQHZlcnNpb24gICAgICAxLjUuMQovLyBAZGVzY3JpcHRpb24gIOeUqOS6juWQhOenjeiuuuWdm+iHquWKqOetvuWIsAovLyBAaW5jbHVkZSAgICAgIGh0dHAqOi8vKi9wbHVnaW4ucGhwP2lkPSpzaWduKgovLyBAaW5jbHVkZSAgICAgIGh0dHAqOi8vYmJzLmthZmFuLmNuLyoKLy8gQGluY2x1ZGUgICAgICBodHRwKjovL2Jicy53c3R4LmNvbS8qCi8vIEBpbmNsdWRlICAgICAgaHR0cCo6Ly9iYnMuZ2Zhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHAqOi8vd3d3Lmhvcm91LmNvbS8qCi8vIEBpbmNsdWRlICAgICAgaHR0cCo6Ly93d3cuOTJqaC5jbi8qCi8vIEBpbmNsdWRlICAgICAgaHR0cCo6Ly9iYnMubnRycXEubmV0LyoKLy8gQGluY2x1ZGUgICAgICBodHRwKjovL3d3dy5nbjAwLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgaHR0cCo6Ly93d3cuNTJwb2ppZS5jbi8qCi8vIEBpbmNsdWRlICAgICAgaHR0cCo6Ly96aGlkYW8uYmFpZHUuY29tL3F1ZXN0aW9uLyoKLy8gQGluY2x1ZGUgICAgICBodHRwKjovL3dlbmt1LmJhaWR1LmNvbS90YXNrL2Jyb3dzZS9kYWlseSoKLy8gQG5vdGUgICAgICAgICDorrrlnZvnrb7liLDlt6Xlhbcs5pW05ZCI6Ieq5Y2h6aWtQ29vbGtpZHPorrrlnZvoh6rliqjnrb7liLDlkoxqYXNvbnNoYXfnvZHpobXoh6rliqjljJbns7vliJfngrnlh7ss5YGa5LqG5LiA54K55b6u5bCP55qE5L+u5pS5Ci8vIEBncmFudCAJCUdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAJCXVuc2FmZVdpbmRvdwovLyBAcnVuLWF0IAkJZG9jdW1lbnQtZW5kCi8vIEBjb3B5cmlnaHQgCTIwMTMrLCBDb29sa2lkCi8vIEBjb3B5cmlnaHQgCTIwMTQrLCBqYXNvbnNoYXcKLy8gQGNvcHlyaWdodCAJMjAxNissIHd5Y2FjYQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbiAoKSB7CglpZiAoaXNVUkwoImJicy5rYWZhbi5jbiIpKSB7CgkJLy/ljaHppa3orrrlnZsKCQl2YXIgaW1ncyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcGVyX2EiKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiSU1HIik7CgkJaWYgKGltZ3NbMF0uc3JjLmluZGV4T2YoIndiLnBuZyIpID09IC0xKSB7CgkJCXZhciBhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBwZXJfYSIpOwoJCQlhLmNsaWNrKCk7CgkJCXJldHVybjsKCQl9Cgl9CgllbHNlIGlmIChpc1VSTCgiemhpZGFvLmJhaWR1LmNvbS9xdWVzdGlvbiIpKSB7CgkJLy/nmb7luqbnn6XpgZMKCQl2YXIgcWRidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdncmlkLWwgZ28tc2lnbi1pbicpWzBdOwoJCXZhciBmbGFnVGV4dCA9IHFkYnV0dG9uLmlubmVySFRNTDsKCQlpZiAoZmxhZ1RleHQuaW5kZXhPZigi5bey562+5YiwIikgPT0gLTEpIHsKCQkJZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ3JpZC1sIGdvLXNpZ24taW4nKVswXS5jbGljaygpOwoJCX0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lnbi1pbi1idG4nKS5jbGljaygpOwoJCXJldHVybjsKCX0KCWVsc2UgaWYgKGlzVVJMKCJ3ZW5rdS5iYWlkdS5jb20vdGFzay9icm93c2UvZGFpbHkiKSkgewoJCS8v55m+5bqm5paH5bqTCgkJdmFyIHFkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZy1idG4gZy1idG4tcGFzcyBqcy1zaWduaW4tYnRuIGctYnRuLW5vJylbMF07CgkJdmFyIGZsYWdUZXh0ID0gcWRCdXR0b24uaW5uZXJIVE1MOwoJCWlmIChmbGFnVGV4dC5pbmRleE9mKCLpqazkuIrnrb7liLAiKSAhPSAtMSkgewoJCQlxZEJ1dHRvbi5jbGljaygpOwoJCX0KCQlyZXR1cm47Cgl9CgllbHNlIGlmIChpc1VSTCgid3d3Lmhvcm91LmNvbSIpKSB7CgkJLy/msrPmtJsKCQl2YXIgaW1ncyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmeF9jaGVja2luX2IiKTsKCQlpZiAoaW1ncy5hbHQuaW5kZXhPZigi5beyIikgPT0gLTEpIHsKCQkJaW1ncy5jbGljaygpOwoJCQlyZXR1cm47CgkJfQoJfQoKCWVsc2UgaWYgKGlzVVJMKCJjbi5jbHViLnZtYWxsLmNvbS9wbHVnaW4ucGhwP2lkPWRzdV9wYXVsc2lnbjpzaWduIikgfHwgaXNVUkwoImNuLmNsdWIudm1hbGwuY29tL2RzdV9wYXVsc2lnbi1zaWduIikpIHsKCQkvL+WNjuS4ugoJCWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NpZ24tYnRuIGJ0bl9ycycpWzBdLmNsaWNrKCk7CgkJcmV0dXJuOwoJfSBlbHNlIGlmIChsb2NhdGlvbi5ocmVmLmluZGV4T2YoInBsdWdpbi5waHA/aWQ9ZHN1X3BhdWxzaWduOnNpZ24iKSAhPSAtMSkgewoJCXFkMigpOwoJCXJldHVybjsKCX0KCgllbHNlIGlmIChpc1VSTCgiaHR0cDovL2Jicy5nZmFuLmNvbS8iKSkgeyAvL+acuumUiwoJCXFkKCk7CgkJaWYgKHdpbmRvdy5maW5kKCLnrb7liLDpooblpZYhIikpIHsKCQkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiaHR0cDovL2Jicy5nZmFuLmNvbS9wbHVnaW4ucGhwP2lkPWRzdV9wYXVsc2lnbjpzaWduIjsKCQkJcmV0dXJuOwoJCX0KCX0KCgllbHNlIGlmIChpc1VSTCgiaHR0cDovL2Jicy5udHJxcS5uZXQvIikpIHsgLy9OVFJRUQoJCXFkKCk7CgkJaWYgKHdpbmRvdy5maW5kKCLnrb7liLDpooblpZYhIikpIHsKCQkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiaHR0cDovL2Jicy5udHJxcS5uZXQvcGx1Z2luLnBocD9pZD1kc3VfcGF1bHNpZ246c2lnbiI7CgkJCXJldHVybjsKCQl9Cgl9CgoJLy/ljaHppa0g5LqR5Lit5rC0IOaPkOS+mwoJZWxzZSBpZiAoaXNVUkwoIm11c2ljLjE2My5jb20iKSkgewoJCS8v572R5piT5LqR6Z+z5LmQCgkJdmFyIHAgPSB7CgkJCWVsZW1lbnRzOiBbJy51LWJ0bjItMiddCgkJfQoJCXFkMygpOwoJCXJldHVybjsKCX0KCgllbHNlIGlmIChpc1VSTCgid3d3LnhpYW1pLmNvbSIpKSB7CgkJLy/omb7nsbPpn7PkuZAKCQl2YXIgcCA9IHsKCQkJZWxlbWVudHM6IFsnLmljb24udG9zaWduJ10KCQl9CgkJcWQzKCk7CgkJcmV0dXJuOwoJfQoKCS8v5oSf6LCiIHBlcnNpYTdlbWlseSDmj5DkvpsKCWVsc2UgaWYgKGlzVVJMKCI1MnBvamllLmNuIikpIHsgLy81MuegtOinowoJCWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3FxX2JpbmQnKVswXS5jbGljaygpOwoJCXJldHVybjsKCX0KCgllbHNlIGlmIChpc1VSTCgiZ21nYXJkLmNvbSIpIHx8IGlzVVJMKCJoZ2dhcmQuY29tIikpIHsKCQkvL+e7heWjq+S5i+W6rQoJCXZhciBwID0gewoJCQllbGVtZW50czogWycuc2lnbmRpdiAuYnRuLWRhbmdlciddCgkJfQoJCXFkMygpOwoJCXJldHVybjsKCX0KCgllbHNlIGlmIChpc1VSTCgid3d3LmR4ZGJiYi5jb20iKSkgewoJCS8v6JCM5a2Q5bKbCgkJdmFyIHAgPSB7CgkJCWVsZW1lbnRzOiBbJy5kb19zaWduJ10KCQl9CgkJcWQzKCk7CgkJcmV0dXJuOwoJfQoKCWVsc2UgaWYgKGlzVVJMKCJ3d3cuYWNmdW4uY24iKSkgewoJCS8vYWNmdW4KCQkvL2F1dGhvcjogaHR0cHM6Ly9naXRodWIuY29tL21hY2hzaXgvcGVyc29uYWwtc2NyaXB0cwoJCXZhciBhY2Z1bl9tYWluID0gL15odHRwcz86XC9cL3d3dy5hY2Z1bi5jblwvPyQvOwoJCXZhciBhY2Z1bl9tZW1iZXIgPSAvXmh0dHBzPzpcL1wvd3d3LmFjZnVuLmNuXC9tZW1iZXIoPzpcLyMuKik/LzsKCQl2YXIgaXNsb2dpbiA9IGZ1bmN0aW9uIChkb2MpIHsKCQkJcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnVzZXIpLm5hbWUgIT0gIua4uOWuoiI7CgkJfTsKCQlpZiAoYWNmdW5fbWFpbi50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSkgewoJCQljb25zb2xlLmxvZygi5oiQ5Yqf6L+b5YWlYWNmdW7kuJbnlYwiKTsKCQkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7CgkJCQlpZiAoIWlzbG9naW4oZG9jdW1lbnQpKSB7CgkJCQkJY29uc29sZS5sb2coJ+iEkeazouayoeWvueaOpScpOwoJCQkJfSBlbHNlIHsKCQkJCQl2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwoJCQkJCWkubmFtZSA9ICdhdXRvbG9naW4taWZyYW1lJzsKCQkJCQlpLndpZHRoID0gJzEwMCUnOwoJCQkJCWkuaGVpZ2h0ID0gJzAnOwoJCQkJCWkuZnJhbWVCb3JkZXIgPSAiMCI7CgkJCQkJaS5zdHlsZS5jc3NUZXh0ID0gJ1wKICAgIAkJCQkJICAgICAgICAgICAgICAgICAgICBtYXJnaW46MCFpbXBvcnRhbnQ7XAogICAgCQkJCQkgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6MCFpbXBvcnRhbnQ7XAogICAgCQkJCQkgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6aGlkZGVuIWltcG9ydGFudDtcCiAgICAJCQkJCSAgICAgICAgICAgICAgICAnOwoJCQkJCWkuc3JjID0gJ2h0dHA6Ly93d3cuYWNmdW4uY24vbWVtYmVyLyc7CgkJCQkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpKTsKCQkJCX0KCQkJfSwgZmFsc2UpOwoJCX0gZWxzZSBpZiAoYWNmdW5fbWVtYmVyLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpKSB7CgkJCWNvbnNvbGUubG9nKCfov5vlhaVhY2Z1buS8muWRmCcpOwoJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCXZhciBpc2NoZWNrZWQgPSBmdW5jdGlvbiAoZG9jKSB7CgkJCQkJcmV0dXJuIGRvYy5ldmFsdWF0ZSgnLy8qW0BpZD0iYnRuLXNpZ24tdXNlciJdL3RleHQoKScsCgkJCQkJCWRvYywgbnVsbCwgWFBhdGhSZXN1bHQuRklSU1RfT1JERVJFRF9OT0RFX1RZUEUsCgkJCQkJCW51bGwpLnNpbmdsZU5vZGVWYWx1ZS5kYXRhID09ICLlt7Lnrb7liLAiOwoJCQkJfTsKCQkJCWlmICghaXNjaGVja2VkKGRvY3VtZW50KSkgewoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG4tc2lnbi11c2VyIikuY2xpY2soKTsKCQkJCQljb25zb2xlLmxvZygnQWNmdW4g562+5Yiw5a6M5oiQJyk7CgkJCQl9IGVsc2UgewoJCQkJCWNvbnNvbGUubG9nKCdBY2Z1biDlt7Lnrb7liLAnKTsKCQkJCX0KCQkJfSwgMzAwMCk7CgkJfQoJCXJldHVybjsKCX0KCgllbHNlIGlmIChpc1VSTCgid3d3LmxpZ2h0bm92ZWwuY24vaG9tZS5waHA/bW9kPXRhc2siKSkgewoJCS8v6L275Zu9CgkJaWYgKHdpbmRvdy5maW5kKCLmr4/ml6Xku7vliqEiKSAmJiB3aW5kb3cuZmluZCgi5ZWq5ZWq5ZWqIikpIHsKCQkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiaHR0cDovL3d3dy5saWdodG5vdmVsLmNuL2hvbWUucGhwP21vZD10YXNrJmRvPWFwcGx5JmlkPTk4IjsKCQkJcmV0dXJuOwoJCX0KCX0gZWxzZSB7CgkJLy/lhbbku5borrrlnZsKCQlxZCgpOwoJCXFkMigpOwoJfQp9KSgpOwoKZnVuY3Rpb24gaXNVUkwoeCkgewoJcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoeCkgIT0gLTE7Cn0KCmZ1bmN0aW9uIHFkKCkgewoJaWYgKHdpbmRvdy5maW5kKCLku4rlpKnnrb7liLDkuoblkJciKSAmJiB3aW5kb3cuZmluZCgi5YaZ5LiL5LuK5aSp5pyA5oOz6K+055qE6K+dIikpIHsKCQl2YXIga3hJbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hfcyIpOwoJCXZhciB0b2RheVNheVRleHRBcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvZGF5c2F5Iik7CgkJaWYgKGt4SW1nID09IG51bGwpIHsKCQkJcmV0dXJuOwoJCX0KCQlreEltZy5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCB0cnVlKTsKCQl0b2RheVNheVRleHRBcmVhLnZhbHVlID0gIuWFqOiHquWKqOetvuWIsCzlsLHmmK/niL1+IjsKCQl2YXIgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInFpYW5kYW8iKTsKCQlidXR0b24uc3VibWl0KCk7CgkJcmV0dXJuOwoJfQp9CgpmdW5jdGlvbiBxZDIoKSB7Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgia3giKS5jbGljaygpOwoJdmFyIHRvZGF5U2F5VGV4dEFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9kYXlzYXkiKTsKCWlmICh0b2RheVNheVRleHRBcmVhICE9IG51bGwpIHsKCQl0b2RheVNheVRleHRBcmVhLnZhbHVlID0gIuWFqOiHquWKqOetvuWIsCzlsLHmmK/niL1+IjsKCX0KCXVuc2FmZVdpbmRvdy5zaG93V2luZG93KCdxd2luZG93JywgJ3FpYW5kYW8nLCAncG9zdCcsICcwJyk7CglyZXR1cm47Cn0KCmZ1bmN0aW9uIHFkMygpIHsKCXZhciBlbGVtZW50cyA9IHAuZWxlbWVudHMsCgkJaSA9IDA7CglzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQl0cnkgewoJCQlpZiAoZWxlbWVudHMgaW5zdGFuY2VvZiBBcnJheSkgdmFyIGVscyA9IHAuZWxlbWVudHM7CgkJCWVsc2UgeyAvL2Z1bmN0aW9uCgkJCQl2YXIgZWxzID0gcC5lbGVtZW50cygpOwoJCQl9CgkJCXdoaWxlIChlbHNbaV0pIHsKCQkJCXZhciBvYmogPSAocC5lbGVtZW50cyBpbnN0YW5jZW9mIEFycmF5KSA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxzW2ldKSA6IGVsc1tpXTsKCQkJCWlmIChvYmogPT0gbnVsbCkgcmV0dXJuOwoJCQkJaWYgKG9iai50YWdOYW1lID09ICJBIiAmJiBvYmouaHJlZi5pbmRleE9mKCJqYXZhc2NyaXB0IikgPCAwICYmIG9iai5vbmNsaWNrID09ICJ1bmRlZmluZWQiKSBHTV9vcGVuSW5UYWIob2JqLmhyZWYpOwoJCQkJZWxzZSBvYmouY2xpY2soKTsKCQkJCWkrKzsKCQkJfQoJCX0gY2F0Y2ggKGUpIHsKCQkJYWxlcnQoZSk7CgkJfQoJfSwgNDAwKTsKCXNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJCWlmIChhdXRvQ2xvc2UpIHdpbmRvdy5jbG9zZSgpOwoJfSwgZGVsYXkgKyAxMDApOwoJcmV0dXJuOwp9"},{"name":"Baidu Pan SuperKey","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["https://pan.baidu.com/share/init?surl=*","https://pan.baidu.com/wap/init?surl=*","https://pan.baidu.com/share/init?shareid=*","https://pan.baidu.com/wap/init?shareid=*","https://pan.baidu.com/s/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":["ypsuperkey.meek.com.cn"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1571242711085},"enabled":false,"position":2,"file_url":"https://greasyfork.org/scripts/369544-baidu-pan-superkey/code/Baidu%20Pan%20SuperKey.user.js","uuid":"95a1639e-3403-4d96-b653-e4b8cc6b6927","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUJCUJhaWR1IFBhbiBTdXBlcktleQovLyBAbmFtZXNwYWNlCWFAYi5jCi8vIEBhdXRob3IJCWphc2FrZQovLyBAZGVzY3JpcHRpb24J5bqm55uY5LiH6IO96ZKl5YyZ77yM5LqR55uY5LiH6IO96ZKl5YyZ5omp5bGV5pS55oiQIEdNIOiEmuacrAovLyBAZGVzY3JpcHRpb24J5pyJ6ZyA6KaB55qE6K+35L2/55So5Y6f54mI5omp5bGV77yaaHR0cHM6Ly9hZGRvbnMubW96aWxsYS5vcmcvemgtQ04vZmlyZWZveC9hZGRvbi95cHN1cGVya2V5LwovLyBAaW5jbHVkZQkJaHR0cHM6Ly9wYW4uYmFpZHUuY29tL3NoYXJlL2luaXQ/c3VybD0qCi8vIEBpbmNsdWRlCQlodHRwczovL3Bhbi5iYWlkdS5jb20vd2FwL2luaXQ/c3VybD0qCi8vIEBpbmNsdWRlCQlodHRwczovL3Bhbi5iYWlkdS5jb20vc2hhcmUvaW5pdD9zaGFyZWlkPSoKLy8gQGluY2x1ZGUJCWh0dHBzOi8vcGFuLmJhaWR1LmNvbS93YXAvaW5pdD9zaGFyZWlkPSoKLy8gQGluY2x1ZGUJCWh0dHBzOi8vcGFuLmJhaWR1LmNvbS9zLyoKLy8gQGNoYXJzZXQJCVVURi04Ci8vIEB2ZXJzaW9uCQkwLjUuMgovLyBAZ3JhbnQJCUdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBydW4tYXQJCWRvY3VtZW50LWVuZAovLyA9PS9Vc2VyU2NyaXB0PT0KCmZ1bmN0aW9uIHNoYXJlSGlzdG9yeShpZCwgcHcpIHsvL+acrOWcsOWOhuWPsuiusOW9le+8jOacieaViOacnzMw5aSpCglpZiAoIS8oPzpcd3wtKXs1LH0vLnRlc3QoaWQpKSByZXR1cm47Cgl2YXIgbG9nID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2hhcmVIaXN0b3J5IikgfHwgJ3t9JyksIEtleXMgPSBPYmplY3Qua2V5cyhsb2cpLmZpbHRlcih4ID0+IHggIT0gJ19sYXN0Q2hlY2snKSwgbGFzdCA9IGxvZ1snX2xhc3RDaGVjayddLCB0ID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDFlMyksIGV4cCA9IHQgKyAzMCAqIDg2NDAwOwoJaWYgKCFsYXN0KSB7CgkJS2V5cy5mb3JFYWNoKHggPT4gewoJCQlpZiAobG9nW3hdLnNwbGl0KCd8JykubGVuZ3RoID09IDEpIGxvZ1t4XSArPSAnfCcgKyBleHA7CgkJfSk7CgkJbG9nWydfbGFzdENoZWNrJ10gPSB0OwoJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzaGFyZUhpc3RvcnkiLCBKU09OLnN0cmluZ2lmeShsb2cpKTsKCX0gZWxzZSBpZiAobGFzdCAmJiB0IC0gbGFzdCA+IDM2MDApIHsKCQlLZXlzLmZvckVhY2goeCA9PiB7CgkJCXZhciBhcnIgPSBsb2dbeF0uc3BsaXQoJ3wnKTsKCQkJaWYgKCthcnJbMV0gPCB0KSBsb2dbeF0gPSB1bmRlZmluZWQ7CgkJfSk7CgkJbG9nWydfbGFzdENoZWNrJ10gPSB0OwoJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzaGFyZUhpc3RvcnkiLCBKU09OLnN0cmluZ2lmeShsb2cpKTsKCX0KCWlmIChwdyA9PSB1bmRlZmluZWQpIHsKCQlyZXR1cm4gbG9nW2lkXSAmJiBsb2dbaWRdLnNwbGl0KCd8Jykuc2hpZnQoKSB8fCAnJzsKCX0gZWxzZSBpZiAoL15bYS16QS1aMC05XXs0fSQvLnRlc3QocHcpKSB7CgkJbG9nW2lkXSA9IHB3ICsgJ3wnICsgZXhwOwoJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzaGFyZUhpc3RvcnkiLCBKU09OLnN0cmluZ2lmeShsb2cpKTsKCX0KfQoKdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoICYmIC9eIyhbYS16QS1aMC05XXs0fSkkLy50ZXN0KGxvY2F0aW9uLmhhc2gpICYmIFJlZ0V4cC4kMSwKCSQgPSB1bnNhZmVXaW5kb3cucmVxdWlyZSgnc3lzdGVtLWNvcmU6Y29udGV4dC9jb250ZXh0LmpzJykuaW5zdGFuY2VGb3JTeXN0ZW0ubGlicy5KUXVlcnksCglpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waWNrcHcgaW5wdXRbdGFiaW5kZXg9IjEiXSwgLmFjY2Vzcy1ib3ggaW5wdXQjYWNjZXNzQ29kZScpLAoJYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBpY2twdyBhLmctYnV0dG9uLCAuYWNjZXNzLWJveCBhI2dldGZpbGVCdG4nKSwKCWxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBpY2twdyBkdCwgLmFjY2Vzcy1ib3ggbGFiZWxbZm9yPWFjY2Vzc0NvZGVdJyksCglzaGFyZUlEID0gKGxvY2F0aW9uLmhyZWYubWF0Y2goL1wvaW5pdFw/KD86c3VybHxzaGFyZWlkKT0oKD86XHd8LSkrKS8pIHx8IGxvY2F0aW9uLmhyZWYubWF0Y2goL1wvc1wvMSgoPzpcd3wtKSspLykpWzFdLAoJaGlzdG9yeSA9IHNoYXJlSGlzdG9yeShzaGFyZUlEKTsKCmlmIChsb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2JhaWR1LmNvbS9zLycpID4gMCkgey8vdjUKCXZhciB1cmwgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ2JhaWR1LmNvbScsICdiYWlkdXdwLmNvbScpLm1hdGNoKC9eKFteI10rKS8pWzFdICsgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZignPycpID09IC0xID8gJz8nIDogJyYnKSArICdwd2Q9JyArIGhpc3Rvcnk7CgkkKCc8YSBjbGFzcz0iZy1idXR0b24iIGhyZWY9IicgKyB1cmwgKyAnIiB0aXRsZT0i6L2s5YiwIFBhbmRvd25sb2FkIOe9kemhteeJiCI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0Ij48ZW0gY2xhc3M9Imljb24gaWNvbi1waWNwcmUtZG93bmxvYWQiIHN0eWxlPSJjb2xvcjojZDYwOyI+PGZvbnQgY29sb3I9IiMwOTAiPjwvZW0+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDogYXV0bzsiPjxmb250IGNvbG9yPSIjMDkwIj5QYW5kb3dubG9hZCDnvZHpobXniYg8L2ZvbnQ+PC9zcGFuPjwvc3Bhbj48L2E+JykuaW5zZXJ0QmVmb3JlKCcueC1idXR0b24tYm94IGEuZy1idXR0b25bZGF0YS1idXR0b24taWQ9YjNdJyk7Cn0KCmlmICghaW5wdXQgfHwgIWJ0bikgcmV0dXJuOwovL2lmIChsb2NhdGlvbi5oYXNoICYmIC9eIyhbYS16QS1aMC05XXs0fSkkLy50ZXN0KGxvY2F0aW9uLmhhc2gpKSByZXR1cm47Ly92MgoKbGFiZWwuc3R5bGUubWFyZ2luPSItNXB4IDAgMTBweCI7CmxhYmVsLmlubmVySFRNTCArPSAnPGJyPuW6puebmOS4h+iDvemSpeWMme+8mic7CgppZiAoaGFzaCB8fCBoaXN0b3J5KSB7Ly92NO+8jOS4gOenkuWQjgoJbGFiZWwuaW5uZXJIVE1MICs9ICflj5HnjrDmj5Dlj5bnoIHvvIgnLmZvbnRjb2xvcignZ3JlZW4nKSArIChoYXNoIHx8IGhpc3RvcnkpLmZvbnRjb2xvcigncmVkJykgKyAn77yJ77yM56iN5ZCO5aGr5YaZ5bm254K55Ye7Jy5mb250Y29sb3IoJ2dyZWVuJyk7CglzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCWlucHV0LnZhbHVlID0gaGFzaCB8fCBoaXN0b3J5OwoJCWlmIChoYXNoKSBzaGFyZUhpc3Rvcnkoc2hhcmVJRCwgaGFzaCk7Ly/kv53lrZgKCQlidG4uY2xpY2soKTsKCX0sCgkxZTMpOwoJcmV0dXJuOwp9Cgp2YXIgdXJsID0naHR0cHM6Ly95cHN1cGVya2V5Lm1lZWsuY29tLmNuL2FwaS9pdGVtcy9CRFktJwoJCSsgc2hhcmVJRCArICc/YWNjZXNzX2tleT00ZnhOYmtLS0pYMnBBbTNiOEFFdTJ6VDVkMk1icUdiRCZjbGllbnRfdmVyc2lvbj0yMDE4LjgnOwoKR01feG1saHR0cFJlcXVlc3QoewoJbWV0aG9kOiAnR0VUJywKCXVybDogdXJsLAoJb25sb2FkOiBmdW5jdGlvbih4aHIpIHsKCQl2YXIgZSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7CgkJY29uc29sZS5sb2coeGhyLnJlc3BvbnNlVGV4dCk7CgkJbGFiZWwuaW5uZXJIVE1MICs9IHhoci5zdGF0dXMgPT0gMjAwID8gKCfov57mjqXmiJDlip/vvIwnLmZvbnRjb2xvcignYmx1ZScpICsgKGUuYWNjZXNzX2NvZGUgPyAn5a+G56CB5bey6I635Y+WJy5mb250Y29sb3IoJ2JsdWUnKSA6ICfkvYblr4bnoIHmib7kuI3liLAnLmZvbnRjb2xvcigncmVkJykpKSA6IChlLm1lc3NhZ2UgKyAn77yM5pyN5Yqh5Zmo54q25oCB77yaJyArIHhoci5zdGF0dXNUZXh0ICsgJygnICsgeGhyLnN0YXR1cyArICcpJykuZm9udGNvbG9yKCdyZWQnKTsvL+eKtuaAgeaPkOekugoJCWlmICh4aHIuc3RhdHVzID09IDIwMCAmJiBlLmFjY2Vzc19jb2RlKSB7CgkJCWlucHV0LnZhbHVlID0gZS5hY2Nlc3NfY29kZTsvL+Whq+WGmeWvhueggQoJCQlzaGFyZUhpc3Rvcnkoc2hhcmVJRCwgZS5hY2Nlc3NfY29kZSk7CgkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKXtidG4uY2xpY2soKTt9LCAxZTMpOy8v5LiA56eS5ZCO6Ieq5Yqo54K55Ye7CgkJfQoJfQp9KTs="},{"name":"Local YouTube Downloader","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["googlevideo.com"],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://*.youtube.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1571242711133},"enabled":false,"position":3,"file_url":"https://greasyfork.org/scripts/369400-local-youtube-downloader/code/Local%20YouTube%20Downloader.user.js","uuid":"2f8a9457-84ce-4781-b506-155701da9c87","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBMb2NhbCBZb3VUdWJlIERvd25sb2FkZXIKLy8gQG5hbWU6emgtVFcgICDmnKzlnLAgWW91VHViZSDkuIvovInlmagKLy8gQG5hbWU6emgtQ04gICDmnKzlnLAgWW91VHViZSDkuIvovb3lmagKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2Jsb2cubWFwbGUzMTQyLm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjkuMTcKLy8gQGRlc2NyaXB0aW9uICBHZXQgeW91dHViZSByYXcgbGluayB3aXRob3V0IGV4dGVybmFsIHNlcnZpY2UuCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg5LiN6ZyA6KaB6YCP6YGO56ys5LiJ5pa555qE5pyN5YuZ5bCx6IO95LiL6LyJIFlvdVR1YmUg5b2x54mH44CCCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiAg5LiN6ZyA6KaB6YCP6L+H56ys5LiJ5pa555qE5pyN5Yqh5bCx6IO95LiL6L29IFlvdVR1YmUg5b2x54mH44CCCi8vIEBhdXRob3IgICAgICAgbWFwbGUzMTQyCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLnlvdXR1YmUuY29tLyoKLy8gQHJlcXVpcmUgICAgICBodHRwczovL3VucGtnLmNvbS92dWVAMi42LjEwL2Rpc3QvdnVlLmpzCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly91bnBrZy5jb20veGZldGNoLWpzQDAuMy40L3hmZXRjaC5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL3VucGtnLmNvbS9AZmZtcGVnL2ZmbXBlZ0AwLjUuMi9kaXN0L2ZmbXBlZy5taW4uanMKLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAY29ubmVjdCAgICAgIGdvb2dsZXZpZGVvLmNvbQovLyBAY29tcGF0aWJsZSAgIGZpcmVmb3ggPj01MgovLyBAY29tcGF0aWJsZSAgIGNocm9tZSA+PTU1Ci8vIEBsaWNlbnNlICAgICAgTUlUCi8vID09L1VzZXJTY3JpcHQ9PQoKOyhmdW5jdGlvbigpIHsKCSd1c2Ugc3RyaWN0JwoJY29uc3QgREVCVUcgPSB0cnVlCgljb25zdCBSRVNUT1JFX09SSUdJTkFMX1RJVExFX0ZPUl9DVVJSRU5UX1ZJREVPID0gdHJ1ZQoJY29uc3QgY3JlYXRlTG9nZ2VyID0gKGNvbnNvbGUsIHRhZykgPT4KCQlPYmplY3Qua2V5cyhjb25zb2xlKQoJCQkubWFwKGsgPT4gWwoJCQkJaywKCQkJCSguLi5hcmdzKSA9PgoJCQkJCURFQlVHCgkJCQkJCT8gY29uc29sZVtrXSh0YWcgKyAnOiAnICsgYXJnc1swXSwgLi4uYXJncy5zbGljZSgxKSkKCQkJCQkJOiB2b2lkIDAKCQkJXSkKCQkJLnJlZHVjZSgoYWNjLCBbaywgZm5dKSA9PiAoKGFjY1trXSA9IGZuKSwgYWNjKSwge30pCgljb25zdCBsb2dnZXIgPSBjcmVhdGVMb2dnZXIoY29uc29sZSwgJ1lUREwnKQoJY29uc3Qgc2xlZXAgPSBtcyA9PiBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIG1zKSkKCgljb25zdCBMQU5HX0ZBTExCQUNLID0gJ2VuJwoJY29uc3QgTE9DQUxFID0gewoJCWVuOiB7CgkJCXRvZ2dsZWxpbmtzOiAnU2hvdy9IaWRlIExpbmtzJywKCQkJc3RyZWFtOiAnU3RyZWFtJywKCQkJYWRhcHRpdmU6ICdBZGFwdGl2ZScsCgkJCXZpZGVvaWQ6ICdWaWRlbyBJZDogJywKCQkJaW5icm93c2VyX2FkYXB0aXZlX21lcmdlcjoKCQkJCSdJbiBicm93c2VyIGFkYXB0aXZlIHZpZGVvICYgYXVkaW8gbWVyZ2VyIChGRm1wZWcpJywKCQkJZGxtcDQ6ICdEb3dubG9hZCBoaWdoZXN0IHJlc29sdXRpb24gbXA0IGluIG9uZSBjbGljaycKCQl9LAoJCSd6aC10dyc6IHsKCQkJdG9nZ2xlbGlua3M6ICfpoa/npLogLyDpmrHol4/pgKPntZAnLAoJCQlzdHJlYW06ICfkuLLmtYEgU3RyZWFtJywKCQkJYWRhcHRpdmU6ICfoh6rpganmh4kgQWRhcHRpdmUnLAoJCQl2aWRlb2lkOiAn5b2x54mHIElEOiAnLAoJCQlpbmJyb3dzZXJfYWRhcHRpdmVfbWVyZ2VyOgoJCQkJJ+eAj+imveWZqOeJiOiHqumBqeaHieW9seeJh+WPiuiBsumfs+WQiOaIkOWZqCAoRkZtcGVnKScsCgkJCWRsbXA0OiAn5LiA6Y215LiL6LyJ6auY55Wr6LOqIG1wNCcKCQl9LAoJCXpoOiB7CgkJCXRvZ2dsZWxpbmtzOiAn5pi+56S6IC8g6ZqQ6JeP6ZO+5o6lJywKCQkJc3RyZWFtOiAn5Liy5rWBIFN0cmVhbScsCgkJCWFkYXB0aXZlOiAn6Ieq6YCC5bqUIEFkYXB0aXZlJywKCQkJdmlkZW9pZDogJ+inhumikSBJRDogJywKCQkJaW5icm93c2VyX2FkYXB0aXZlX21lcmdlcjoKCQkJCSfmtY/op4jlmajniYjoh6rpgILlupTop4bpopHlj4rlo7Dpn7PlkIjmiJDlmaggKEZGbXBlZyknLAoJCQlkbG1wNDogJ+S4gOmUruS4i+i9vemrmOeUu+i0qCBtcDQnCgkJfSwKCQlrcjogewoJCQl0b2dnbGVsaW5rczogJ+unge2BrCDrs7TsnbTquLAv7Iio6riw6riwJywKCQkJc3RyZWFtOiAn7Iqk7Yq466as67CNJywKCQkJYWRhcHRpdmU6ICfsobDsoJUg6rCA64ql7ZWcJywKCQkJdmlkZW9pZDogJ1ZpZGVvIElkOiAnCgkJfSwKCQllczogewoJCQl0b2dnbGVsaW5rczogJ01vc3RyYXIvT2N1bHRhciBMaW5rcycsCgkJCXN0cmVhbTogJ1N0cmVhbScsCgkJCWFkYXB0aXZlOiAnQWRhcHRhYmxlJywKCQkJdmlkZW9pZDogJ0lkIGRlbCBWaWRlbzogJywKCQkJaW5icm93c2VyX2FkYXB0aXZlX21lcmdlcjogJ0Fjb3BsYXIgQXVkaW8gYSBWaWRlbyAoRkZtcGVnKScKCQl9LAoJCWhlOiB7CgkJCXRvZ2dsZWxpbmtzOiAn15TXpteSL9eU16HXqteoINen15nXqdeV16jXmdedJywKCQkJc3RyZWFtOiAn16HXmNeo15nXnScsCgkJCWFkYXB0aXZlOiAn15DXk9ek15jXmdeR15knLAoJCQl2aWRlb2lkOiAn157XlteU15Qg16HXqNeY15XXnzogJwoJCX0KCX0KCWNvbnN0IGZpbmRMYW5nID0gbCA9PiB7CgkJLy8gbGFuZ3VhZ2UgcmVzb2x1dGlvbiBsb2dpYzogemgtdHcgLS0oaWYgbm90IGV4aXN0cyktLT4gemggLS0oaWYgbm90IGV4aXN0cyktLT4gTEFOR19GQUxMQkFDSyhlbikKCQlsID0gbC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpCgkJaWYgKGwgaW4gTE9DQUxFKSByZXR1cm4gbAoJCWVsc2UgaWYgKGwubGVuZ3RoID4gMikgcmV0dXJuIGZpbmRMYW5nKGwuc3BsaXQoJy0nKVswXSkKCQllbHNlIHJldHVybiBMQU5HX0ZBTExCQUNLCgl9Cgljb25zdCAkID0gKHMsIHggPSBkb2N1bWVudCkgPT4geC5xdWVyeVNlbGVjdG9yKHMpCgljb25zdCAkZWwgPSAodGFnLCBvcHRzKSA9PiB7CgkJY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZykKCQlPYmplY3QuYXNzaWduKGVsLCBvcHRzKQoJCXJldHVybiBlbAoJfQoJY29uc3QgZXNjYXBlUmVnRXhwID0gcyA9PiBzLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpCgljb25zdCBwYXJzZURlY3NpZyA9IGRhdGEgPT4gewoJCXRyeSB7CgkJCWlmIChkYXRhLnN0YXJ0c1dpdGgoJ3ZhciBzY3JpcHQnKSkgewoJCQkJLy8gdGhleSBpbmplY3QgdGhlIHNjcmlwdCB2aWEgc2NyaXB0IHRhZwoJCQkJY29uc3Qgb2JqID0ge30KCQkJCWNvbnN0IGRvY3VtZW50ID0gewoJCQkJCWNyZWF0ZUVsZW1lbnQ6ICgpID0+IG9iaiwKCQkJCQloZWFkOiB7IGFwcGVuZENoaWxkOiAoKSA9PiB7fSB9CgkJCQl9CgkJCQlldmFsKGRhdGEpCgkJCQlkYXRhID0gb2JqLmlubmVySFRNTAoJCQl9CgkJCWNvbnN0IGZubmFtZXJlc3VsdCA9IC89KFthLXpBLVowLTlcJF0rPylcKGRlY29kZVVSSUNvbXBvbmVudC8uZXhlYygKCQkJCWRhdGEKCQkJKQoJCQljb25zdCBmbm5hbWUgPSBmbm5hbWVyZXN1bHRbMV0KCQkJY29uc3QgX2FyZ25hbWVmbmJvZHlyZXN1bHQgPSBuZXcgUmVnRXhwKAoJCQkJZXNjYXBlUmVnRXhwKGZubmFtZSkgKyAnPWZ1bmN0aW9uXFwoKC4rPylcXCl7KC4rPyl9JwoJCQkpLmV4ZWMoZGF0YSkKCQkJY29uc3QgW18sIGFyZ25hbWUsIGZuYm9keV0gPSBfYXJnbmFtZWZuYm9keXJlc3VsdAoJCQljb25zdCBoZWxwZXJuYW1lcmVzdWx0ID0gLzsoLis/KVwuLis/XCgvLmV4ZWMoZm5ib2R5KQoJCQljb25zdCBoZWxwZXJuYW1lID0gaGVscGVybmFtZXJlc3VsdFsxXQoJCQljb25zdCBoZWxwZXJyZXN1bHQgPSBuZXcgUmVnRXhwKAoJCQkJJ3ZhciAnICsgZXNjYXBlUmVnRXhwKGhlbHBlcm5hbWUpICsgJz17W1xcc1xcU10rP307JwoJCQkpLmV4ZWMoZGF0YSkKCQkJY29uc3QgaGVscGVyID0gaGVscGVycmVzdWx0WzBdCgkJCWxvZ2dlci5sb2coCgkJCQlgcGFyc2VkZWNzaWcgcmVzdWx0OiAlcz0+eyVzXG4lc31gLAoJCQkJYXJnbmFtZSwKCQkJCWhlbHBlciwKCQkJCWZuYm9keQoJCQkpCgkJCXJldHVybiBuZXcgRnVuY3Rpb24oW2FyZ25hbWVdLCBoZWxwZXIgKyAnXG4nICsgZm5ib2R5KQoJCX0gY2F0Y2ggKGUpIHsKCQkJbG9nZ2VyLmVycm9yKCdwYXJzZWRlY3NpZyBlcnJvcjogJW8nLCBlKQoJCQlsb2dnZXIuaW5mbygnc2NyaXB0IGNvbnRlbnQ6ICVzJywgZGF0YSkKCQkJbG9nZ2VyLmluZm8oCgkJCQknSWYgeW91IGVuY291bnRlciB0aGlzIGVycm9yLCBwbGVhc2UgY29weSB0aGUgZnVsbCAic2NyaXB0IGNvbnRlbnQiIHRvIGh0dHBzOi8vcGFzdGViaW4uY29tLyBmb3IgbWUuJwoJCQkpCgkJfQoJfQoJY29uc3QgcGFyc2VRdWVyeSA9IHMgPT4KCQlbLi4ubmV3IFVSTFNlYXJjaFBhcmFtcyhzKS5lbnRyaWVzKCldLnJlZHVjZSgKCQkJKGFjYywgW2ssIHZdKSA9PiAoKGFjY1trXSA9IHYpLCBhY2MpLAoJCQl7fQoJCSkKCWNvbnN0IGdldFZpZGVvID0gYXN5bmMgKGlkLCBkZWNzaWcpID0+IHsKCQlyZXR1cm4geGYKCQkJLmdldCgKCQkJCWBodHRwczovL3d3dy55b3V0dWJlLmNvbS9nZXRfdmlkZW9faW5mbz92aWRlb19pZD0ke2lkfSZlbD1kZXRhaWxwYWdlYAoJCQkpCgkJCS50ZXh0KCkKCQkJLnRoZW4oYXN5bmMgZGF0YSA9PiB7CgkJCQljb25zdCBvYmogPSBwYXJzZVF1ZXJ5KGRhdGEpCgkJCQljb25zdCBwbGF5ZXJSZXNwb25zZSA9IEpTT04ucGFyc2Uob2JqLnBsYXllcl9yZXNwb25zZSkKCQkJCWxvZ2dlci5sb2coYHZpZGVvICVzIGRhdGE6ICVvYCwgaWQsIG9iaikKCQkJCWxvZ2dlci5sb2coYHZpZGVvICVzIHBsYXllclJlc3BvbnNlOiAlb2AsIGlkLCBwbGF5ZXJSZXNwb25zZSkKCQkJCWlmIChvYmouc3RhdHVzID09PSAnZmFpbCcpIHsKCQkJCQl0aHJvdyBvYmoKCQkJCX0KCQkJCWxldCBzdHJlYW0gPSBbXQoJCQkJaWYgKHBsYXllclJlc3BvbnNlLnN0cmVhbWluZ0RhdGEuZm9ybWF0cykgewoJCQkJCXN0cmVhbSA9IHBsYXllclJlc3BvbnNlLnN0cmVhbWluZ0RhdGEuZm9ybWF0cy5tYXAoeCA9PgoJCQkJCQlPYmplY3QuYXNzaWduKHgsIHBhcnNlUXVlcnkoeC5jaXBoZXIpKQoJCQkJCSkKCQkJCQlsb2dnZXIubG9nKGB2aWRlbyAlcyBzdHJlYW06ICVvYCwgaWQsIHN0cmVhbSkKCQkJCQlpZiAoc3RyZWFtWzBdLnNwICYmIHN0cmVhbVswXS5zcC5pbmNsdWRlcygnc2lnJykpIHsKCQkJCQkJc3RyZWFtID0gc3RyZWFtCgkJCQkJCQkubWFwKHggPT4gKHsgLi4ueCwgczogZGVjc2lnKHgucykgfSkpCgkJCQkJCQkubWFwKHggPT4gKHsgLi4ueCwgdXJsOiB4LnVybCArIGAmc2lnPSR7eC5zfWAgfSkpCgkJCQkJfQoJCQkJfQoKCQkJCWxldCBhZGFwdGl2ZSA9IFtdCgkJCQlpZiAocGxheWVyUmVzcG9uc2Uuc3RyZWFtaW5nRGF0YS5hZGFwdGl2ZUZvcm1hdHMpIHsKCQkJCQlhZGFwdGl2ZSA9IHBsYXllclJlc3BvbnNlLnN0cmVhbWluZ0RhdGEuYWRhcHRpdmVGb3JtYXRzLm1hcCgKCQkJCQkJeCA9PiBPYmplY3QuYXNzaWduKHgsIHBhcnNlUXVlcnkoeC5jaXBoZXIpKQoJCQkJCSkKCQkJCQlsb2dnZXIubG9nKGB2aWRlbyAlcyBhZGFwdGl2ZTogJW9gLCBpZCwgYWRhcHRpdmUpCgkJCQkJaWYgKGFkYXB0aXZlWzBdLnNwICYmIGFkYXB0aXZlWzBdLnNwLmluY2x1ZGVzKCdzaWcnKSkgewoJCQkJCQlhZGFwdGl2ZSA9IGFkYXB0aXZlCgkJCQkJCQkubWFwKHggPT4gKHsgLi4ueCwgczogZGVjc2lnKHgucykgfSkpCgkJCQkJCQkubWFwKHggPT4gKHsgLi4ueCwgdXJsOiB4LnVybCArIGAmc2lnPSR7eC5zfWAgfSkpCgkJCQkJfQoJCQkJfQoJCQkJbG9nZ2VyLmxvZyhgdmlkZW8gJXMgcmVzdWx0OiAlb2AsIGlkLCB7IHN0cmVhbSwgYWRhcHRpdmUgfSkKCQkJCXJldHVybiB7IHN0cmVhbSwgYWRhcHRpdmUsIG1ldGE6IG9iaiB9CgkJCX0pCgl9Cgljb25zdCBnZXRWaWRlb0RldGFpbHMgPSBpZCA9PgoJCXhmCgkJCS5nZXQoJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3lvdXR1YmUvdjMvdmlkZW9zJywgewoJCQkJcXM6IHsKCQkJCQlrZXk6ICdBSXphU3lBX3pkZndFeTJVTGZQQ1Rsd2s5RGZoQlZzMkg1cUdOVTgnLAoJCQkJCXBhcnQ6ICdzbmlwcGV0JywKCQkJCQlpZAoJCQkJfQoJCQl9KQoJCQkuanNvbihyID0+IHIuaXRlbXNbMF0pCgljb25zdCB3b3JrZXJNZXNzYWdlSGFuZGxlciA9IGFzeW5jIGUgPT4gewoJCWNvbnN0IGRlY3NpZyA9IGF3YWl0IHhmLmdldChlLmRhdGEucGF0aCkudGV4dChwYXJzZURlY3NpZykKCQljb25zdCByZXN1bHQgPSBhd2FpdCBnZXRWaWRlbyhlLmRhdGEuaWQsIGRlY3NpZykKCQlzZWxmLnBvc3RNZXNzYWdlKHJlc3VsdCkKCX0KCWNvbnN0IHl0ZGxXb3JrZXJDb2RlID0gYAppbXBvcnRTY3JpcHRzKCdodHRwczovL3VucGtnLmNvbS94ZmV0Y2gtanNAMC4zLjQveGZldGNoLm1pbi5qcycpCmNvbnN0IERFQlVHPSR7REVCVUd9CmNvbnN0IGxvZ2dlcj0oJHtjcmVhdGVMb2dnZXJ9KShjb25zb2xlLCAnWVRETCcpCmNvbnN0IGVzY2FwZVJlZ0V4cD0ke2VzY2FwZVJlZ0V4cH0KY29uc3QgcGFyc2VRdWVyeT0ke3BhcnNlUXVlcnl9CmNvbnN0IHBhcnNlRGVjc2lnPSR7cGFyc2VEZWNzaWd9CmNvbnN0IGdldFZpZGVvPSR7Z2V0VmlkZW99CnNlbGYub25tZXNzYWdlPSR7d29ya2VyTWVzc2FnZUhhbmRsZXJ9YAoJY29uc3QgeXRkbFdvcmtlciA9IG5ldyBXb3JrZXIoCgkJVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbeXRkbFdvcmtlckNvZGVdKSkKCSkKCWNvbnN0IHdvcmtlckdldFZpZGVvID0gKGlkLCBwYXRoKSA9PiB7CgkJbG9nZ2VyLmxvZyhgd29ya2VyR2V0VmlkZW8gc3RhcnQ6ICVzICVzYCwgaWQsIHBhdGgpCgkJcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4gewoJCQljb25zdCBjYWxsYmFjayA9IGUgPT4gewoJCQkJeXRkbFdvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgY2FsbGJhY2spCgkJCQlsb2dnZXIubG9nKCd3b3JrZXJHZXRWaWRlbyBlbmQ6ICVvJywgZS5kYXRhKQoJCQkJcmVzKGUuZGF0YSkKCQkJfQoJCQl5dGRsV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBjYWxsYmFjaykKCQkJeXRkbFdvcmtlci5wb3N0TWVzc2FnZSh7IGlkLCBwYXRoIH0pCgkJfSkKCX0KCgkvLyB2aWRlbyBkb3dubG9hZGVyCgljb25zdCB4aHJEb3dubG9hZEJ1ZmZlciA9ICh1cmwsIHByb2dyZXNzQ2IpID0+IHsKCQlsZXQgY29udHJvbCwgb3V0cmVqCgkJY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4gewoJCQlpZiAodHlwZW9mIEdNX3htbGh0dHBSZXF1ZXN0ID09PSAndW5kZWZpbmVkJykgewoJCQkJcmV0dXJuIGFsZXJ0KAoJCQkJCSJZb3VyIHVzZXJzY3JpcHQgbWFuYWdlciBkb2Vzbid0IHN1cHBvcnQgdGhpcyBmZWF0dXJlLiIKCQkJCSkKCQkJfQoJCQkvLyB1c2UgZ214aHIgdG8gYnlwYXNzIENPUlMgcHJvYmxlbSB3aGVuIGNvbWluZyBmcm9tIGhvbWUgcGFnZQoJCQljb25zdCBzdGFydCA9IERhdGUubm93KCkKCQkJY29uc3QgeGhyID0ge30KCQkJeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcicKCQkJeGhyLm9ubG9hZCA9IHJlc3AgPT4gcmVzKHJlc3AucmVzcG9uc2UpCgkJCXhoci5vbmVycm9yID0gcmVqCgkJCXhoci5vbnByb2dyZXNzID0gZSA9PiB7CgkJCQlpZiAoIWUubGVuZ3RoQ29tcHV0YWJsZSkgcmV0dXJuCgkJCQljb25zdCBkdCA9IChEYXRlLm5vdygpIC0gc3RhcnQpIC8gMTAwMCAvLyB1bml0OiBzZWNvbmQKCQkJCXByb2dyZXNzQ2IoewoJCQkJCXRvdGFsOiBlLnRvdGFsLCAvLyBieXRlcwoJCQkJCWxvYWRlZDogZS5sb2FkZWQsIC8vIGJ5dGVzCgkJCQkJc3BlZWQ6IGUubG9hZGVkIC8gZHQgLy8gYnl0ZXMvcwoJCQkJfSkKCQkJfQoJCQl4aHIubWV0aG9kID0gJ0dFVCcKCQkJeGhyLnVybCA9IHVybAoKCQkJLy8gYWJvcnQgaGFjawoJCQljb250cm9sID0gR01feG1saHR0cFJlcXVlc3QoeGhyKQoJCQlvdXRyZWogPSByZWoKCQl9KQoJCXByb21pc2UuYWJvcnQgPSAoKSA9PiB7CgkJCWNvbnRyb2wuYWJvcnQoKQoJCQlvdXRyZWooJ2Fib3J0ZWQnKQoJCX0KCQlyZXR1cm4gcHJvbWlzZQoJfQoKCWNvbnN0IGZmV29ya2VyID0gRkZtcGVnLmNyZWF0ZVdvcmtlcih7CgkJbG9nZ2VyOiBERUJVRyA/IG0gPT4gbG9nZ2VyLmxvZyhtLm1lc3NhZ2UpIDogKCkgPT4ge30KCX0pCglsZXQgZmZXb3JrZXJMb2FkZWQgPSBmYWxzZQoJY29uc3QgbWVyZ2VWaWRlbyA9IGFzeW5jICh2aWRlbywgYXVkaW8pID0+IHsKCQlpZiAoIWZmV29ya2VyTG9hZGVkKSBhd2FpdCBmZldvcmtlci5sb2FkKCkKCQlhd2FpdCBmZldvcmtlci53cml0ZSgndmlkZW8ubXA0JywgdmlkZW8pCgkJYXdhaXQgZmZXb3JrZXIud3JpdGUoJ2F1ZGlvLm1wNCcsIGF1ZGlvKQoJCWF3YWl0IGZmV29ya2VyLnJ1bigKCQkJJy1pIC9kYXRhL3ZpZGVvLm1wNCAtaSAvZGF0YS9hdWRpby5tcDQgLWMgY29weSBvdXRwdXQubXA0JywKCQkJewoJCQkJaW5wdXQ6IFsndmlkZW8ubXA0JywgJ2F1ZGlvLm1wNCddLAoJCQkJb3V0cHV0OiAnb3V0cHV0Lm1wNCcKCQkJfQoJCSkKCQljb25zdCB7IGRhdGEgfSA9IGF3YWl0IGZmV29ya2VyLnJlYWQoJ291dHB1dC5tcDQnKQoJCXJldHVybiBkYXRhCgl9Cgljb25zdCB0cmlnZ2VyRG93bmxvYWQgPSAodXJsLCBmaWxlbmFtZSkgPT4gewoJCWNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykKCQlhLmhyZWYgPSB1cmwKCQlhLmRvd25sb2FkID0gZmlsZW5hbWUKCQlkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpCgkJYS5jbGljaygpCgkJYS5yZW1vdmUoKQoJfQoJY29uc3QgZGxNb2RhbFRlbXBsYXRlID0gYAo8ZGl2IHN0eWxlPSJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyI+Cgk8ZGl2IHYtaWY9Im1lcmdpbmciIHN0eWxlPSJoZWlnaHQ6IDEwMCU7IHdpZHRoOiAxMDAlOyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZm9udC1zaXplOiAyNHB4OyI+TWVyZ2luZyB2aWRlbywgcGxlYXNlIHdhaXQuLi48L2Rpdj4KCTxkaXYgdi1lbHNlIHN0eWxlPSJoZWlnaHQ6IDEwMCU7IHdpZHRoOiAxMDAlOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyI+CiAJCTxkaXYgc3R5bGU9ImZsZXg6IDE7IG1hcmdpbjogMTBweDsiPgoJCQk8cCBzdHlsZT0iZm9udC1zaXplOiAyNHB4OyI+VmlkZW88L3A+CgkJCTxwcm9ncmVzcyBzdHlsZT0id2lkdGg6IDEwMCU7IiA6dmFsdWU9InZpZGVvLnByb2dyZXNzIiBtaW49IjAiIG1heD0iMTAwIj48L3Byb2dyZXNzPgoJCQk8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Ij4KCQkJCTxzcGFuPnt7dmlkZW8uc3BlZWR9fSBrQi9zPC9zcGFuPgoJCQkJPHNwYW4+e3t2aWRlby5sb2FkZWR9fS97e3ZpZGVvLnRvdGFsfX0gTUI8L3NwYW4+CgkJCTwvZGl2PgoJCTwvZGl2PgoJCTxkaXYgc3R5bGU9ImZsZXg6IDE7IG1hcmdpbjogMTBweDsiPgoJCQk8cCBzdHlsZT0iZm9udC1zaXplOiAyNHB4OyI+QXVkaW88L3A+CgkJCTxwcm9ncmVzcyBzdHlsZT0id2lkdGg6IDEwMCU7IiA6dmFsdWU9ImF1ZGlvLnByb2dyZXNzIiBtaW49IjAiIG1heD0iMTAwIj48L3Byb2dyZXNzPgoJCQk8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Ij4KCQkJCTxzcGFuPnt7YXVkaW8uc3BlZWR9fSBrQi9zPC9zcGFuPgoJCQkJPHNwYW4+e3thdWRpby5sb2FkZWR9fS97e2F1ZGlvLnRvdGFsfX0gTUI8L3NwYW4+CgkJCTwvZGl2PgoJCTwvZGl2PgoJPC9kaXY+CjwvZGl2PgpgCglmdW5jdGlvbiBvcGVuRG93bmxvYWRNb2RlbChhZGFwdGl2ZSwgdGl0bGUpIHsKCQljb25zdCB3aW4gPSBvcGVuKAoJCQknJywKCQkJJ1ZpZGVvIERvd25sb2FkJywKCQkJYHRvb2xiYXI9bm8saGVpZ2h0PSR7c2NyZWVuLmhlaWdodCAvIDJ9LHdpZHRoPSR7c2NyZWVuLndpZHRoIC8KCQkJCTJ9LGxlZnQ9JHtzY3JlZW5MZWZ0fSx0b3A9JHtzY3JlZW5Ub3B9YAoJCSkKCQljb25zdCBkaXYgPSB3aW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykKCQl3aW4uZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpCgkJd2luLmRvY3VtZW50LnRpdGxlID0gYERvd25sb2FkaW5nICIke3RpdGxlfSJgCgkJY29uc3QgZGxNb2RhbEFwcCA9IG5ldyBWdWUoewoJCQl0ZW1wbGF0ZTogZGxNb2RhbFRlbXBsYXRlLAoJCQlkYXRhKCkgewoJCQkJcmV0dXJuIHsKCQkJCQl2aWRlbzogewoJCQkJCQlwcm9ncmVzczogMCwKCQkJCQkJdG90YWw6IDAsCgkJCQkJCWxvYWRlZDogMCwKCQkJCQkJc3BlZWQ6IDAKCQkJCQl9LAoJCQkJCWF1ZGlvOiB7CgkJCQkJCXByb2dyZXNzOiAwLAoJCQkJCQl0b3RhbDogMCwKCQkJCQkJbG9hZGVkOiAwLAoJCQkJCQlzcGVlZDogMAoJCQkJCX0sCgkJCQkJbWVyZ2luZzogZmFsc2UKCQkJCX0KCQkJfSwKCQkJbWV0aG9kczogewoJCQkJYXN5bmMgc3RhcnQoYWRhcHRpdmUsIHRpdGxlKSB7CgkJCQkJd2luLm9uYmVmb3JldW5sb2FkID0gKCkgPT4gdHJ1ZQoJCQkJCS8vIFlvdVR1YmUncyBkZWZhdWx0IG9yZGVyIGlzIGRlc2NlbmRpbmcgYnkgdmlkZW8gcXVhbGl0eQoJCQkJCWNvbnN0IHZVcmwgPSBhZGFwdGl2ZQoJCQkJCQkuZmlsdGVyKHggPT4geC5taW1lVHlwZS5pbmNsdWRlcygndmlkZW8vbXA0JykpCgkJCQkJCS5tYXAodiA9PiB7CgkJCQkJCQljb25zdCBbXywgcXVhbGl0eSwgZnBzXSA9IC8oXGQrKXAoXGQqKS8uZXhlYygKCQkJCQkJCQl2LnF1YWxpdHlMYWJlbAoJCQkJCQkJKQoJCQkJCQkJdi5xdWFsaXR5TnVtID0gcGFyc2VJbnQocXVhbGl0eSkKCQkJCQkJCXYuZnBzID0gZnBzID8gcGFyc2VJbnQoZnBzKSA6IDMwCgkJCQkJCQlyZXR1cm4gdgoJCQkJCQl9KQoJCQkJCQkuc29ydCgoYSwgYikgPT4gewoJCQkJCQkJaWYgKGEucXVhbGl0eU51bSA9PT0gYi5xdWFsaXR5TnVtKQoJCQkJCQkJCXJldHVybiBiLmZwcyAtIGEuZnBzIC8vIGV4OiAzMC02MD0tMzAsIHRoZW4gYSB3aWxsIGJlIHB1dCBiZWZvcmUgYgoJCQkJCQkJcmV0dXJuIGIucXVhbGl0eU51bSAtIGEucXVhbGl0eU51bQoJCQkJCQl9KVswXS51cmwKCQkJCQljb25zdCBhVXJsID0gYWRhcHRpdmUuZmluZCh4ID0+CgkJCQkJCXgubWltZVR5cGUuaW5jbHVkZXMoJ2F1ZGlvL21wNCcpCgkJCQkJKS51cmwKCQkJCQljb25zdCB2UHJvbWlzZSA9IHhockRvd25sb2FkQnVmZmVyKHZVcmwsIGUgPT4gewoJCQkJCQl0aGlzLnZpZGVvLnByb2dyZXNzID0gKGUubG9hZGVkIC8gZS50b3RhbCkgKiAxMDAKCQkJCQkJdGhpcy52aWRlby5sb2FkZWQgPSAoZS5sb2FkZWQgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKQoJCQkJCQl0aGlzLnZpZGVvLnRvdGFsID0gKGUudG90YWwgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKQoJCQkJCQl0aGlzLnZpZGVvLnNwZWVkID0gKGUuc3BlZWQgLyAxMDI0KS50b0ZpeGVkKDIpCgkJCQkJfSkKCQkJCQljb25zdCBhUHJvbWlzZSA9IHhockRvd25sb2FkQnVmZmVyKGFVcmwsIGUgPT4gewoJCQkJCQl0aGlzLmF1ZGlvLnByb2dyZXNzID0gKGUubG9hZGVkIC8gZS50b3RhbCkgKiAxMDAKCQkJCQkJdGhpcy5hdWRpby5sb2FkZWQgPSAoZS5sb2FkZWQgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKQoJCQkJCQl0aGlzLmF1ZGlvLnRvdGFsID0gKGUudG90YWwgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKQoJCQkJCQl0aGlzLmF1ZGlvLnNwZWVkID0gKGUuc3BlZWQgLyAxMDI0KS50b0ZpeGVkKDIpCgkJCQkJfSkKCQkJCQl3aW4ub251bmxvYWQgPSAoKSA9PiB7CgkJCQkJCS8vIGJlY2F1c2UgR01feG1saHR0cFJlcXVlc3Qgd29uJ3QgYXV0b21hdGljYWxseSBzdG9wIHdoZW4gd2luZG93IGNsb3NlcwoJCQkJCQl2UHJvbWlzZS5hYm9ydCgpCgkJCQkJCWFQcm9taXNlLmFib3J0KCkKCQkJCQl9CgkJCQkJY29uc3QgW3ZidWYsIGFidWZdID0gYXdhaXQgUHJvbWlzZS5hbGwoW3ZQcm9taXNlLCBhUHJvbWlzZV0pCgkJCQkJdGhpcy5tZXJnaW5nID0gdHJ1ZQoJCQkJCWNvbnN0IHZhcnIgPSBuZXcgVWludDhBcnJheSh2YnVmKQoJCQkJCWNvbnN0IGFhcnIgPSBuZXcgVWludDhBcnJheShhYnVmKQoJCQkJCWNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbCgkJCQkJCW1lcmdlVmlkZW8odmFyciwgYWFyciksCgkJCQkJCXNsZWVwKDEwMDAgKiAyNSkudGhlbigoKSA9PiBudWxsKQoJCQkJCV0pCgkJCQkJaWYgKCFyZXN1bHQpIHsKCQkJCQkJYWxlcnQoJ0FuIGVycm9yIGhhcyBvY2N1cnJlZCB3aGVuIG1lcmdpbmcgdmlkZW8nKQoJCQkJCQljb25zdCBidnVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3ZhcnJdKSkKCQkJCQkJY29uc3QgYmF1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFthYXJyXSkpCgkJCQkJCXRyaWdnZXJEb3dubG9hZChidnVybCwgdGl0bGUgKyAnLXZpZGVvb25seS5tcDQnKQoJCQkJCQl0cmlnZ2VyRG93bmxvYWQoYmF1cmwsIHRpdGxlICsgJy1hdWRpb29ubHkubXA0JykKCQkJCQkJcmV0dXJuIHRoaXMuY2xvc2UoKQoJCQkJCX0KCQkJCQl0aGlzLm1lcmdpbmcgPSBmYWxzZQoJCQkJCWNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlc3VsdF0pKQoJCQkJCXRyaWdnZXJEb3dubG9hZCh1cmwsIHRpdGxlICsgJy5tcDQnKQoJCQkJCXdpbi5vbmJlZm9yZXVubG9hZCA9IG51bGwKCQkJCQl3aW4uY2xvc2UoKQoJCQkJfQoJCQl9CgkJfSkuJG1vdW50KGRpdikKCQlkbE1vZGFsQXBwLnN0YXJ0KGFkYXB0aXZlLCB0aXRsZSkKCX0KCgljb25zdCB0ZW1wbGF0ZSA9IGAKPGRpdiBjbGFzcz0iYm94IiA6Y2xhc3M9InsnZGFyayc6ZGFya30iPgoJPGRpdiB2LWlmPSJhZGFwdGl2ZS5sZW5ndGgiIGNsYXNzPSJvZi1oIHQtY2VudGVyIGMtcG9pbnRlciBsaC0yMCI+CgkJPGEgY2xhc3M9ImZzLTE0cHgiIEBjbGljaz0iZGxtcDQiIHYtdGV4dD0ic3RyaW5ncy5kbG1wNCI+PC9hPgoJPC9kaXY+Cgk8ZGl2IEBjbGljaz0iaGlkZT0haGlkZSIgY2xhc3M9ImJveC10b2dnbGUgZGl2LWEgdC1jZW50ZXIgZnMtMTRweCBjLXBvaW50ZXIgbGgtMjAiIHYtdGV4dD0ic3RyaW5ncy50b2dnbGVsaW5rcyI+PC9kaXY+Cgk8ZGl2IDpjbGFzcz0ieydoaWRlJzpoaWRlfSI+CgkJPGRpdiBjbGFzcz0idC1jZW50ZXIgZnMtMTRweCIgdi10ZXh0PSJzdHJpbmdzLnZpZGVvaWQraWQiPjwvZGl2PgoJCTxkaXYgY2xhc3M9ImQtZmxleCI+CgkJCTxkaXYgY2xhc3M9ImYtMSBvZi1oIj4KCQkJCTxkaXYgY2xhc3M9InQtY2VudGVyIGZzLTE0cHgiIHYtdGV4dD0ic3RyaW5ncy5zdHJlYW0iPjwvZGl2PgoJCQkJPGEgY2xhc3M9Inl0ZGwtbGluay1idG4gZnMtMTRweCIgdGFyZ2V0PSJfYmxhbmsiIHYtZm9yPSJ2aWQgaW4gc3RyZWFtIiA6aHJlZj0idmlkLnVybCIgOnRpdGxlPSJ2aWQudHlwZSIgdi10ZXh0PSJ2aWQucXVhbGl0eXx8dmlkLnR5cGUiPjwvYT4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9ImYtMSBvZi1oIj4KCQkJCTxkaXYgY2xhc3M9InQtY2VudGVyIGZzLTE0cHgiIHYtdGV4dD0ic3RyaW5ncy5hZGFwdGl2ZSI+PC9kaXY+CgkJCQk8YSBjbGFzcz0ieXRkbC1saW5rLWJ0biBmcy0xNHB4IiB0YXJnZXQ9Il9ibGFuayIgdi1mb3I9InZpZCBpbiBhZGFwdGl2ZSIgOmhyZWY9InZpZC51cmwiIDp0aXRsZT0idmlkLnR5cGUiIHYtdGV4dD0iW3ZpZC5xdWFsaXR5TGFiZWwsdmlkLm1pbWVUeXBlXS5maWx0ZXIoeD0+eCkuam9pbignOicpIj48L2E+CgkJCTwvZGl2PgoJCTwvZGl2PgoJCTxkaXYgY2xhc3M9Im9mLWggdC1jZW50ZXIiPgoJCQk8YSBjbGFzcz0iZnMtMTRweCIgaHJlZj0iaHR0cHM6Ly9tYXBsZTMxNDIuZ2l0aHViLmlvL21lcmdlbXA0LyIgdGFyZ2V0PSJfYmxhbmsiIHYtdGV4dD0ic3RyaW5ncy5pbmJyb3dzZXJfYWRhcHRpdmVfbWVyZ2VyIj48L2E+CgkJPC9kaXY+Cgk8L2Rpdj4KPC9kaXY+CmAuc2xpY2UoMSkKCWNvbnN0IGFwcCA9IG5ldyBWdWUoewoJCWRhdGEoKSB7CgkJCXJldHVybiB7CgkJCQloaWRlOiB0cnVlLAoJCQkJaWQ6ICcnLAoJCQkJc3RyZWFtOiBbXSwKCQkJCWFkYXB0aXZlOiBbXSwKCQkJCW1ldGE6IG51bGwsCgkJCQlkYXJrOiBmYWxzZSwKCQkJCWxhbmc6IGZpbmRMYW5nKG5hdmlnYXRvci5sYW5ndWFnZSkKCQkJfQoJCX0sCgkJY29tcHV0ZWQ6IHsKCQkJc3RyaW5ncygpIHsKCQkJCXJldHVybiBMT0NBTEVbdGhpcy5sYW5nLnRvTG93ZXJDYXNlKCldCgkJCX0KCQl9LAoJCW1ldGhvZHM6IHsKCQkJZGxtcDQoKSB7CgkJCQljb25zdCByID0gSlNPTi5wYXJzZSh0aGlzLm1ldGEucGxheWVyX3Jlc3BvbnNlKQoJCQkJb3BlbkRvd25sb2FkTW9kZWwodGhpcy5hZGFwdGl2ZSwgci52aWRlb0RldGFpbHMudGl0bGUpCgkJCX0KCQl9LAoJCXRlbXBsYXRlCgl9KQoJbG9nZ2VyLmxvZyhgZGVmYXVsdCBsYW5ndWFnZTogJXNgLCBhcHAubGFuZykKCgkvLyBhdHRhY2ggZWxlbWVudAoJY29uc3Qgc2hhZG93SG9zdCA9ICRlbCgnZGl2JykKCWNvbnN0IHNoYWRvdyA9IHNoYWRvd0hvc3QuYXR0YWNoU2hhZG93CgkJPyBzaGFkb3dIb3N0LmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdjbG9zZWQnIH0pCgkJOiBzaGFkb3dIb3N0IC8vIG5vIHNoYWRvdyBkb20KCWxvZ2dlci5sb2coJ3NoYWRvd0hvc3Q6ICVvJywgc2hhZG93SG9zdCkKCWNvbnN0IGNvbnRhaW5lciA9ICRlbCgnZGl2JykKCXNoYWRvdy5hcHBlbmRDaGlsZChjb250YWluZXIpCglhcHAuJG1vdW50KGNvbnRhaW5lcikKCglpZiAoREVCVUcgJiYgdHlwZW9mIHVuc2FmZVdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsKCQkvLyBleHBvc2Ugc29tZSBmdW5jdGlvbnMgZm9yIGRlYnVnZ2luZwoJCXVuc2FmZVdpbmRvdy4kYXBwID0gYXBwCgkJdW5zYWZlV2luZG93LnBhcnNlUXVlcnkgPSBwYXJzZVF1ZXJ5CgkJdW5zYWZlV2luZG93LnBhcnNlRGVjc2lnID0gcGFyc2VEZWNzaWcKCQl1bnNhZmVXaW5kb3cuZ2V0VmlkZW8gPSBnZXRWaWRlbwoJfQoKCWNvbnN0IGdldExhbmdDb2RlID0gKCkgPT4gewoJCWlmICh0eXBlb2YgeXRwbGF5ZXIgIT09ICd1bmRlZmluZWQnICYmIHl0cGxheWVyLmNvbmZpZykgewoJCQlyZXR1cm4geXRwbGF5ZXIuY29uZmlnLmFyZ3MuaG9zdF9sYW5ndWFnZQoJCX0gZWxzZSBpZiAodHlwZW9mIHl0ICE9PSAndW5kZWZpbmVkJykgewoJCQlyZXR1cm4geXQuY29uZmlnXy5HQVBJX0xPQ0FMRQoJCX0gZWxzZSB7CgkJCXJldHVybiBuYXZpZ2F0b3IubGFuZ3VhZ2UKCQl9CgkJcmV0dXJuIG51bGwKCX0KCWNvbnN0IHRleHRUb0h0bWwgPSB0ID0+IHsKCQkvLyBVUkxzIHN0YXJ0aW5nIHdpdGggaHR0cDovLywgaHR0cHM6Ly8KCQl0ID0gdC5yZXBsYWNlKAoJCQkvKFxiKGh0dHBzPyk6XC9cL1stQS1aMC05KyZAI1wvJT89fl98ITosLjtdKlstQS1aMC05KyZAI1wvJT1+X3xdKS9naW0sCgkJCSc8YSBocmVmPSIkMSIgdGFyZ2V0PSJfYmxhbmsiPiQxPC9hPicKCQkpCgkJdCA9IHQucmVwbGFjZSgvXG4vZywgJzxicj4nKQoJCXJldHVybiB0Cgl9Cgljb25zdCBhcHBseU9yaWdpbmFsVGl0bGUgPSBtZXRhID0+IHsKCQljb25zdCBkYXRhID0gZXZhbChgKCR7bWV0YS5wbGF5ZXJfcmVzcG9uc2V9KWApLnZpZGVvRGV0YWlscyAvLyBub3QgYSB2YWxpZCBqc29uLCBzbyBKU09OLnBhcnNlIHdvbid0IHdvcmsKCQlpZiAoJCgnI2Vvdy10aXRsZScpKSB7CgkJCS8vIGxlZ2FjeSB5b3V0dWJlCgkJCSQoJyNlb3ctdGl0bGUnKS50ZXh0Q29udGVudCA9IGRhdGEudGl0bGUKCQkJJCgnI2Vvdy1kZXNjcmlwdGlvbicpLmlubmVySFRNTCA9IHRleHRUb0h0bWwoZGF0YS5zaG9ydERlc2NyaXB0aW9uKQoJCX0gZWxzZSBpZiAoJCgnaDEudGl0bGUnKSkgewoJCQkvLyBuZXcgeW91dHViZSAocG9seW1lcikKCQkJJCgnaDEudGl0bGUnKS50ZXh0Q29udGVudCA9IGRhdGEudGl0bGUKCQkJJCgneXQtZm9ybWF0dGVkLXN0cmluZy5jb250ZW50JykuaW5uZXJIVE1MID0gdGV4dFRvSHRtbCgKCQkJCWRhdGEuc2hvcnREZXNjcmlwdGlvbgoJCQkpCgkJfQoJfQoJY29uc3QgbG9hZCA9IGFzeW5jIGlkID0+IHsKCQl0cnkgewoJCQljb25zdCBiYXNlanMgPQoJCQkJdHlwZW9mIHl0cGxheWVyICE9PSAndW5kZWZpbmVkJyAmJiB5dHBsYXllci5jb25maWcKCQkJCQk/ICdodHRwczovLycgKyBsb2NhdGlvbi5ob3N0ICsgeXRwbGF5ZXIuY29uZmlnLmFzc2V0cy5qcwoJCQkJCTogJCgnc2NyaXB0W3NyYyQ9ImJhc2UuanMiXScpLnNyYwoJCQljb25zdCBkYXRhID0gYXdhaXQgd29ya2VyR2V0VmlkZW8oaWQsIGJhc2VqcykKCQkJbG9nZ2VyLmxvZygndmlkZW8gbG9hZGVkOiAlcycsIGlkKQoJCQlpZiAoUkVTVE9SRV9PUklHSU5BTF9USVRMRV9GT1JfQ1VSUkVOVF9WSURFTykgewoJCQkJdHJ5IHsKCQkJCQlhcHBseU9yaWdpbmFsVGl0bGUoZGF0YS5tZXRhKQoJCQkJfSBjYXRjaCAoZSkgewoJCQkJCS8vIGp1c3QgbWFrZSBzdXJlIHRoZSBtYWluIGZ1bmN0aW9uIHdpbGwgd29yayBldmVuIGlmIG9yaWdpbmFsIHRpdGxlIGFwcGxpZXIgZG9lc24ndCB3b3JrCgkJCQl9CgkJCX0KCQkJYXBwLmlkID0gaWQKCQkJYXBwLnN0cmVhbSA9IGRhdGEuc3RyZWFtCgkJCWFwcC5hZGFwdGl2ZSA9IGRhdGEuYWRhcHRpdmUKCQkJYXBwLm1ldGEgPSBkYXRhLm1ldGEKCgkJCWNvbnN0IGFjdExhbmcgPSBnZXRMYW5nQ29kZSgpCgkJCWlmIChhY3RMYW5nICE9PSBudWxsKSB7CgkJCQljb25zdCBsYW5nID0gZmluZExhbmcoYWN0TGFuZykKCQkJCWxvZ2dlci5sb2coJ3lvdXR1YmUgdWkgbGFuZzogJXMnLCBhY3RMYW5nKQoJCQkJbG9nZ2VyLmxvZygneXRkbCBsYW5nOicsIGxhbmcpCgkJCQlhcHAubGFuZyA9IGxhbmcKCQkJfQoJCX0gY2F0Y2ggKGVycikgewoJCQlsb2dnZXIuZXJyb3IoJ2xvYWQnLCBlcnIpCgkJfQoJfQoJbGV0IHByZXYgPSBudWxsCglzZXRJbnRlcnZhbCgoKSA9PiB7CgkJY29uc3QgZWwgPQoJCQkkKCcjaW5mby1jb250ZW50cycpIHx8CgkJCSQoJyN3YXRjaC1oZWFkZXInKSB8fAoJCQkkKAoJCQkJJy5wYWdlLWNvbnRhaW5lcjpub3QoW2hpZGRlbl0pIHl0bS1pdGVtLXNlY3Rpb24tcmVuZGVyZXI+bGF6eS1saXN0JwoJCQkpCgkJaWYgKGVsICYmICFlbC5jb250YWlucyhzaGFkb3dIb3N0KSkgewoJCQllbC5hcHBlbmRDaGlsZChzaGFkb3dIb3N0KQoJCX0KCQlpZiAobG9jYXRpb24uaHJlZiAhPT0gcHJldikgewoJCQlsb2dnZXIubG9nKGBwYWdlIGNoYW5nZTogJHtwcmV2fSAtPiAke2xvY2F0aW9uLmhyZWZ9YCkKCQkJcHJldiA9IGxvY2F0aW9uLmhyZWYKCQkJaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3dhdGNoJykgewoJCQkJc2hhZG93SG9zdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJwoJCQkJY29uc3QgaWQgPSBwYXJzZVF1ZXJ5KGxvY2F0aW9uLnNlYXJjaCkudgoJCQkJbG9nZ2VyLmxvZygnc3RhcnQgbG9hZGluZyBuZXcgdmlkZW86ICVzJywgaWQpCgkJCQlhcHAuaGlkZSA9IHRydWUgLy8gZm9sZCBpdAoJCQkJbG9hZChpZCkKCQkJfSBlbHNlIHsKCQkJCXNoYWRvd0hvc3Quc3R5bGUuZGlzcGxheSA9ICdub25lJwoJCQl9CgkJfQoJfSwgMTAwMCkKCgkvLyBsaXN0ZW4gdG8gZGFyayBtb2RlIHRvZ2dsZQoJY29uc3QgJGh0bWwgPSAkKCdodG1sJykKCW5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHsKCQlhcHAuZGFyayA9ICRodG1sLmdldEF0dHJpYnV0ZSgnZGFyaycpID09PSAndHJ1ZScKCX0pLm9ic2VydmUoJGh0bWwsIHsgYXR0cmlidXRlczogdHJ1ZSB9KQoJYXBwLmRhcmsgPSAkaHRtbC5nZXRBdHRyaWJ1dGUoJ2RhcmsnKSA9PT0gJ3RydWUnCgoJY29uc3QgY3NzID0gYAouaGlkZXsKCWRpc3BsYXk6IG5vbmU7Cn0KLnQtY2VudGVyewoJdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5kLWZsZXh7CglkaXNwbGF5OiBmbGV4Owp9Ci5mLTF7CglmbGV4OiAxOwp9Ci5mcy0xNHB4ewoJZm9udC1zaXplOiAxNHB4Owp9Ci5vZi1oewoJb3ZlcmZsb3c6IGhpZGRlbjsKfQouYm94ewoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLXl0LWJvcmRlci1jb2xvcik7Cglmb250LWZhbWlseTogQXJpYWw7Cn0KLmJveC10b2dnbGV7CgltYXJnaW46IDNweDsKCXVzZXItc2VsZWN0OiBub25lOwoJLW1vei11c2VyLXNlbGVjdDogLW1vei1ub25lOwp9Ci55dGRsLWxpbmstYnRuewoJZGlzcGxheTogYmxvY2s7Cglib3JkZXI6IDFweCBzb2xpZCAhaW1wb3J0YW50OwoJYm9yZGVyLXJhZGl1czogM3B4OwoJdGV4dC1kZWNvcmF0aW9uOiBub25lICFpbXBvcnRhbnQ7CglvdXRsaW5lOiAwOwoJdGV4dC1hbGlnbjogY2VudGVyOwoJcGFkZGluZzogMnB4OwoJbWFyZ2luOiA1cHg7Cgljb2xvcjogYmxhY2s7Cn0KYSwgLmRpdi1hewoJdGV4dC1kZWNvcmF0aW9uOiBub25lOwoJY29sb3I6IHZhcigtLXl0LWJ1dHRvbi1jb2xvciwgaW5oZXJpdCk7Cn0KYTpob3ZlciwgLmRpdi1hOmhvdmVyewoJY29sb3I6IHZhcigtLXl0LXNwZWMtY2FsbC10by1hY3Rpb24sIGJsdWUpOwp9Ci5ib3guZGFya3sKCWNvbG9yOiB2YXIoLS15dGQtdmlkZW8tcHJpbWFyeS1pbmZvLXJlbmRlcmVyLXRpdGxlLWNvbG9yLCB2YXIoLS15dC1wcmltYXJ5LXRleHQtY29sb3IpKTsKfQouYm94LmRhcmsgLnl0ZGwtbGluay1idG57Cgljb2xvcjogdmFyKC0teXRkLXZpZGVvLXByaW1hcnktaW5mby1yZW5kZXJlci10aXRsZS1jb2xvciwgdmFyKC0teXQtcHJpbWFyeS10ZXh0LWNvbG9yKSk7Cn0KLmJveC5kYXJrIC55dGRsLWxpbmstYnRuOmhvdmVyewoJY29sb3I6IHJnYmEoMjAwLCAyMDAsIDI1NSwgMC44KTsKfQouYm94LmRhcmsgLmJveC10b2dnbGU6aG92ZXJ7Cgljb2xvcjogcmdiYSgyMDAsIDIwMCwgMjU1LCAwLjgpOwp9Ci5jLXBvaW50ZXJ7CgljdXJzb3I6IHBvaW50ZXI7Cn0KLmxoLTIwewoJbGluZS1oZWlnaHQ6IDIwcHg7Cn0KYAoJc2hhZG93LmFwcGVuZENoaWxkKCRlbCgnc3R5bGUnLCB7IHRleHRDb250ZW50OiBjc3MgfSkpCn0pKCkK","requires":[{"meta":{"name":"vue.js","url":"https://unpkg.com/vue@2.6.10/dist/vue.js","ts":1582340732448,"mimetype":"text/javascript"},"source":"LyohCiAqIFZ1ZS5qcyB2Mi42LjEwCiAqIChjKSAyMDE0LTIwMTkgRXZhbiBZb3UKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLgogKi8KKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHsKICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6CiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDoKICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5WdWUgPSBmYWN0b3J5KCkpOwp9KHRoaXMsIGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnOwoKICAvKiAgKi8KCiAgdmFyIGVtcHR5T2JqZWN0ID0gT2JqZWN0LmZyZWV6ZSh7fSk7CgogIC8vIFRoZXNlIGhlbHBlcnMgcHJvZHVjZSBiZXR0ZXIgVk0gY29kZSBpbiBKUyBlbmdpbmVzIGR1ZSB0byB0aGVpcgogIC8vIGV4cGxpY2l0bmVzcyBhbmQgZnVuY3Rpb24gaW5saW5pbmcuCiAgZnVuY3Rpb24gaXNVbmRlZiAodikgewogICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSBudWxsCiAgfQoKICBmdW5jdGlvbiBpc0RlZiAodikgewogICAgcmV0dXJuIHYgIT09IHVuZGVmaW5lZCAmJiB2ICE9PSBudWxsCiAgfQoKICBmdW5jdGlvbiBpc1RydWUgKHYpIHsKICAgIHJldHVybiB2ID09PSB0cnVlCiAgfQoKICBmdW5jdGlvbiBpc0ZhbHNlICh2KSB7CiAgICByZXR1cm4gdiA9PT0gZmFsc2UKICB9CgogIC8qKgogICAqIENoZWNrIGlmIHZhbHVlIGlzIHByaW1pdGl2ZS4KICAgKi8KICBmdW5jdGlvbiBpc1ByaW1pdGl2ZSAodmFsdWUpIHsKICAgIHJldHVybiAoCiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwKICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fAogICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgICAgdHlwZW9mIHZhbHVlID09PSAnc3ltYm9sJyB8fAogICAgICB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJwogICAgKQogIH0KCiAgLyoqCiAgICogUXVpY2sgb2JqZWN0IGNoZWNrIC0gdGhpcyBpcyBwcmltYXJpbHkgdXNlZCB0byB0ZWxsCiAgICogT2JqZWN0cyBmcm9tIHByaW1pdGl2ZSB2YWx1ZXMgd2hlbiB3ZSBrbm93IHRoZSB2YWx1ZQogICAqIGlzIGEgSlNPTi1jb21wbGlhbnQgdHlwZS4KICAgKi8KICBmdW5jdGlvbiBpc09iamVjdCAob2JqKSB7CiAgICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnCiAgfQoKICAvKioKICAgKiBHZXQgdGhlIHJhdyB0eXBlIHN0cmluZyBvZiBhIHZhbHVlLCBlLmcuLCBbb2JqZWN0IE9iamVjdF0uCiAgICovCiAgdmFyIF90b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7CgogIGZ1bmN0aW9uIHRvUmF3VHlwZSAodmFsdWUpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpCiAgfQoKICAvKioKICAgKiBTdHJpY3Qgb2JqZWN0IHR5cGUgY2hlY2suIE9ubHkgcmV0dXJucyB0cnVlCiAgICogZm9yIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0cy4KICAgKi8KICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0IChvYmopIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJwogIH0KCiAgZnVuY3Rpb24gaXNSZWdFeHAgKHYpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgUmVnRXhwXScKICB9CgogIC8qKgogICAqIENoZWNrIGlmIHZhbCBpcyBhIHZhbGlkIGFycmF5IGluZGV4LgogICAqLwogIGZ1bmN0aW9uIGlzVmFsaWRBcnJheUluZGV4ICh2YWwpIHsKICAgIHZhciBuID0gcGFyc2VGbG9hdChTdHJpbmcodmFsKSk7CiAgICByZXR1cm4gbiA+PSAwICYmIE1hdGguZmxvb3IobikgPT09IG4gJiYgaXNGaW5pdGUodmFsKQogIH0KCiAgZnVuY3Rpb24gaXNQcm9taXNlICh2YWwpIHsKICAgIHJldHVybiAoCiAgICAgIGlzRGVmKHZhbCkgJiYKICAgICAgdHlwZW9mIHZhbC50aGVuID09PSAnZnVuY3Rpb24nICYmCiAgICAgIHR5cGVvZiB2YWwuY2F0Y2ggPT09ICdmdW5jdGlvbicKICAgICkKICB9CgogIC8qKgogICAqIENvbnZlcnQgYSB2YWx1ZSB0byBhIHN0cmluZyB0aGF0IGlzIGFjdHVhbGx5IHJlbmRlcmVkLgogICAqLwogIGZ1bmN0aW9uIHRvU3RyaW5nICh2YWwpIHsKICAgIHJldHVybiB2YWwgPT0gbnVsbAogICAgICA/ICcnCiAgICAgIDogQXJyYXkuaXNBcnJheSh2YWwpIHx8IChpc1BsYWluT2JqZWN0KHZhbCkgJiYgdmFsLnRvU3RyaW5nID09PSBfdG9TdHJpbmcpCiAgICAgICAgPyBKU09OLnN0cmluZ2lmeSh2YWwsIG51bGwsIDIpCiAgICAgICAgOiBTdHJpbmcodmFsKQogIH0KCiAgLyoqCiAgICogQ29udmVydCBhbiBpbnB1dCB2YWx1ZSB0byBhIG51bWJlciBmb3IgcGVyc2lzdGVuY2UuCiAgICogSWYgdGhlIGNvbnZlcnNpb24gZmFpbHMsIHJldHVybiBvcmlnaW5hbCBzdHJpbmcuCiAgICovCiAgZnVuY3Rpb24gdG9OdW1iZXIgKHZhbCkgewogICAgdmFyIG4gPSBwYXJzZUZsb2F0KHZhbCk7CiAgICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuCiAgfQoKICAvKioKICAgKiBNYWtlIGEgbWFwIGFuZCByZXR1cm4gYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYSBrZXkKICAgKiBpcyBpbiB0aGF0IG1hcC4KICAgKi8KICBmdW5jdGlvbiBtYWtlTWFwICgKICAgIHN0ciwKICAgIGV4cGVjdHNMb3dlckNhc2UKICApIHsKICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgdmFyIGxpc3QgPSBzdHIuc3BsaXQoJywnKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICBtYXBbbGlzdFtpXV0gPSB0cnVlOwogICAgfQogICAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2UKICAgICAgPyBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBtYXBbdmFsLnRvTG93ZXJDYXNlKCldOyB9CiAgICAgIDogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbF07IH0KICB9CgogIC8qKgogICAqIENoZWNrIGlmIGEgdGFnIGlzIGEgYnVpbHQtaW4gdGFnLgogICAqLwogIHZhciBpc0J1aWx0SW5UYWcgPSBtYWtlTWFwKCdzbG90LGNvbXBvbmVudCcsIHRydWUpOwoKICAvKioKICAgKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgaXMgYSByZXNlcnZlZCBhdHRyaWJ1dGUuCiAgICovCiAgdmFyIGlzUmVzZXJ2ZWRBdHRyaWJ1dGUgPSBtYWtlTWFwKCdrZXkscmVmLHNsb3Qsc2xvdC1zY29wZSxpcycpOwoKICAvKioKICAgKiBSZW1vdmUgYW4gaXRlbSBmcm9tIGFuIGFycmF5LgogICAqLwogIGZ1bmN0aW9uIHJlbW92ZSAoYXJyLCBpdGVtKSB7CiAgICBpZiAoYXJyLmxlbmd0aCkgewogICAgICB2YXIgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTsKICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICByZXR1cm4gYXJyLnNwbGljZShpbmRleCwgMSkKICAgICAgfQogICAgfQogIH0KCiAgLyoqCiAgICogQ2hlY2sgd2hldGhlciBhbiBvYmplY3QgaGFzIHRoZSBwcm9wZXJ0eS4KICAgKi8KICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwogIGZ1bmN0aW9uIGhhc093biAob2JqLCBrZXkpIHsKICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KQogIH0KCiAgLyoqCiAgICogQ3JlYXRlIGEgY2FjaGVkIHZlcnNpb24gb2YgYSBwdXJlIGZ1bmN0aW9uLgogICAqLwogIGZ1bmN0aW9uIGNhY2hlZCAoZm4pIHsKICAgIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICByZXR1cm4gKGZ1bmN0aW9uIGNhY2hlZEZuIChzdHIpIHsKICAgICAgdmFyIGhpdCA9IGNhY2hlW3N0cl07CiAgICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKQogICAgfSkKICB9CgogIC8qKgogICAqIENhbWVsaXplIGEgaHlwaGVuLWRlbGltaXRlZCBzdHJpbmcuCiAgICovCiAgdmFyIGNhbWVsaXplUkUgPSAvLShcdykvZzsKICB2YXIgY2FtZWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIGZ1bmN0aW9uIChfLCBjKSB7IHJldHVybiBjID8gYy50b1VwcGVyQ2FzZSgpIDogJyc7IH0pCiAgfSk7CgogIC8qKgogICAqIENhcGl0YWxpemUgYSBzdHJpbmcuCiAgICovCiAgdmFyIGNhcGl0YWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKQogIH0pOwoKICAvKioKICAgKiBIeXBoZW5hdGUgYSBjYW1lbENhc2Ugc3RyaW5nLgogICAqLwogIHZhciBoeXBoZW5hdGVSRSA9IC9cQihbQS1aXSkvZzsKICB2YXIgaHlwaGVuYXRlID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZShoeXBoZW5hdGVSRSwgJy0kMScpLnRvTG93ZXJDYXNlKCkKICB9KTsKCiAgLyoqCiAgICogU2ltcGxlIGJpbmQgcG9seWZpbGwgZm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBzdXBwb3J0IGl0LAogICAqIGUuZy4sIFBoYW50b21KUyAxLnguIFRlY2huaWNhbGx5LCB3ZSBkb24ndCBuZWVkIHRoaXMgYW55bW9yZQogICAqIHNpbmNlIG5hdGl2ZSBiaW5kIGlzIG5vdyBwZXJmb3JtYW50IGVub3VnaCBpbiBtb3N0IGJyb3dzZXJzLgogICAqIEJ1dCByZW1vdmluZyBpdCB3b3VsZCBtZWFuIGJyZWFraW5nIGNvZGUgdGhhdCB3YXMgYWJsZSB0byBydW4gaW4KICAgKiBQaGFudG9tSlMgMS54LCBzbyB0aGlzIG11c3QgYmUga2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS4KICAgKi8KCiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICBmdW5jdGlvbiBwb2x5ZmlsbEJpbmQgKGZuLCBjdHgpIHsKICAgIGZ1bmN0aW9uIGJvdW5kRm4gKGEpIHsKICAgICAgdmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoOwogICAgICByZXR1cm4gbAogICAgICAgID8gbCA+IDEKICAgICAgICAgID8gZm4uYXBwbHkoY3R4LCBhcmd1bWVudHMpCiAgICAgICAgICA6IGZuLmNhbGwoY3R4LCBhKQogICAgICAgIDogZm4uY2FsbChjdHgpCiAgICB9CgogICAgYm91bmRGbi5fbGVuZ3RoID0gZm4ubGVuZ3RoOwogICAgcmV0dXJuIGJvdW5kRm4KICB9CgogIGZ1bmN0aW9uIG5hdGl2ZUJpbmQgKGZuLCBjdHgpIHsKICAgIHJldHVybiBmbi5iaW5kKGN0eCkKICB9CgogIHZhciBiaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQKICAgID8gbmF0aXZlQmluZAogICAgOiBwb2x5ZmlsbEJpbmQ7CgogIC8qKgogICAqIENvbnZlcnQgYW4gQXJyYXktbGlrZSBvYmplY3QgdG8gYSByZWFsIEFycmF5LgogICAqLwogIGZ1bmN0aW9uIHRvQXJyYXkgKGxpc3QsIHN0YXJ0KSB7CiAgICBzdGFydCA9IHN0YXJ0IHx8IDA7CiAgICB2YXIgaSA9IGxpc3QubGVuZ3RoIC0gc3RhcnQ7CiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGkpOwogICAgd2hpbGUgKGktLSkgewogICAgICByZXRbaV0gPSBsaXN0W2kgKyBzdGFydF07CiAgICB9CiAgICByZXR1cm4gcmV0CiAgfQoKICAvKioKICAgKiBNaXggcHJvcGVydGllcyBpbnRvIHRhcmdldCBvYmplY3QuCiAgICovCiAgZnVuY3Rpb24gZXh0ZW5kICh0bywgX2Zyb20pIHsKICAgIGZvciAodmFyIGtleSBpbiBfZnJvbSkgewogICAgICB0b1trZXldID0gX2Zyb21ba2V5XTsKICAgIH0KICAgIHJldHVybiB0bwogIH0KCiAgLyoqCiAgICogTWVyZ2UgYW4gQXJyYXkgb2YgT2JqZWN0cyBpbnRvIGEgc2luZ2xlIE9iamVjdC4KICAgKi8KICBmdW5jdGlvbiB0b09iamVjdCAoYXJyKSB7CiAgICB2YXIgcmVzID0ge307CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBpZiAoYXJyW2ldKSB7CiAgICAgICAgZXh0ZW5kKHJlcywgYXJyW2ldKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi8KCiAgLyoqCiAgICogUGVyZm9ybSBubyBvcGVyYXRpb24uCiAgICogU3R1YmJpbmcgYXJncyB0byBtYWtlIEZsb3cgaGFwcHkgd2l0aG91dCBsZWF2aW5nIHVzZWxlc3MgdHJhbnNwaWxlZCBjb2RlCiAgICogd2l0aCAuLi5yZXN0IChodHRwczovL2Zsb3cub3JnL2Jsb2cvMjAxNy8wNS8wNy9TdHJpY3QtRnVuY3Rpb24tQ2FsbC1Bcml0eS8pLgogICAqLwogIGZ1bmN0aW9uIG5vb3AgKGEsIGIsIGMpIHt9CgogIC8qKgogICAqIEFsd2F5cyByZXR1cm4gZmFsc2UuCiAgICovCiAgdmFyIG5vID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsgcmV0dXJuIGZhbHNlOyB9OwoKICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovCgogIC8qKgogICAqIFJldHVybiB0aGUgc2FtZSB2YWx1ZS4KICAgKi8KICB2YXIgaWRlbnRpdHkgPSBmdW5jdGlvbiAoXykgeyByZXR1cm4gXzsgfTsKCiAgLyoqCiAgICogR2VuZXJhdGUgYSBzdHJpbmcgY29udGFpbmluZyBzdGF0aWMga2V5cyBmcm9tIGNvbXBpbGVyIG1vZHVsZXMuCiAgICovCiAgZnVuY3Rpb24gZ2VuU3RhdGljS2V5cyAobW9kdWxlcykgewogICAgcmV0dXJuIG1vZHVsZXMucmVkdWNlKGZ1bmN0aW9uIChrZXlzLCBtKSB7CiAgICAgIHJldHVybiBrZXlzLmNvbmNhdChtLnN0YXRpY0tleXMgfHwgW10pCiAgICB9LCBbXSkuam9pbignLCcpCiAgfQoKICAvKioKICAgKiBDaGVjayBpZiB0d28gdmFsdWVzIGFyZSBsb29zZWx5IGVxdWFsIC0gdGhhdCBpcywKICAgKiBpZiB0aGV5IGFyZSBwbGFpbiBvYmplY3RzLCBkbyB0aGV5IGhhdmUgdGhlIHNhbWUgc2hhcGU/CiAgICovCiAgZnVuY3Rpb24gbG9vc2VFcXVhbCAoYSwgYikgewogICAgaWYgKGEgPT09IGIpIHsgcmV0dXJuIHRydWUgfQogICAgdmFyIGlzT2JqZWN0QSA9IGlzT2JqZWN0KGEpOwogICAgdmFyIGlzT2JqZWN0QiA9IGlzT2JqZWN0KGIpOwogICAgaWYgKGlzT2JqZWN0QSAmJiBpc09iamVjdEIpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgaXNBcnJheUEgPSBBcnJheS5pc0FycmF5KGEpOwogICAgICAgIHZhciBpc0FycmF5QiA9IEFycmF5LmlzQXJyYXkoYik7CiAgICAgICAgaWYgKGlzQXJyYXlBICYmIGlzQXJyYXlCKSB7CiAgICAgICAgICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGUsIGkpIHsKICAgICAgICAgICAgcmV0dXJuIGxvb3NlRXF1YWwoZSwgYltpXSkKICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgRGF0ZSAmJiBiIGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgcmV0dXJuIGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKQogICAgICAgIH0gZWxzZSBpZiAoIWlzQXJyYXlBICYmICFpc0FycmF5QikgewogICAgICAgICAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMoYSk7CiAgICAgICAgICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhiKTsKICAgICAgICAgIHJldHVybiBrZXlzQS5sZW5ndGggPT09IGtleXNCLmxlbmd0aCAmJiBrZXlzQS5ldmVyeShmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIHJldHVybiBsb29zZUVxdWFsKGFba2V5XSwgYltrZXldKQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgIH0gZWxzZSBpZiAoIWlzT2JqZWN0QSAmJiAhaXNPYmplY3RCKSB7CiAgICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlCiAgICB9CiAgfQoKICAvKioKICAgKiBSZXR1cm4gdGhlIGZpcnN0IGluZGV4IGF0IHdoaWNoIGEgbG9vc2VseSBlcXVhbCB2YWx1ZSBjYW4gYmUKICAgKiBmb3VuZCBpbiB0aGUgYXJyYXkgKGlmIHZhbHVlIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGUgYXJyYXkgbXVzdAogICAqIGNvbnRhaW4gYW4gb2JqZWN0IG9mIHRoZSBzYW1lIHNoYXBlKSwgb3IgLTEgaWYgaXQgaXMgbm90IHByZXNlbnQuCiAgICovCiAgZnVuY3Rpb24gbG9vc2VJbmRleE9mIChhcnIsIHZhbCkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGxvb3NlRXF1YWwoYXJyW2ldLCB2YWwpKSB7IHJldHVybiBpIH0KICAgIH0KICAgIHJldHVybiAtMQogIH0KCiAgLyoqCiAgICogRW5zdXJlIGEgZnVuY3Rpb24gaXMgY2FsbGVkIG9ubHkgb25jZS4KICAgKi8KICBmdW5jdGlvbiBvbmNlIChmbikgewogICAgdmFyIGNhbGxlZCA9IGZhbHNlOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFjYWxsZWQpIHsKICAgICAgICBjYWxsZWQgPSB0cnVlOwogICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciBTU1JfQVRUUiA9ICdkYXRhLXNlcnZlci1yZW5kZXJlZCc7CgogIHZhciBBU1NFVF9UWVBFUyA9IFsKICAgICdjb21wb25lbnQnLAogICAgJ2RpcmVjdGl2ZScsCiAgICAnZmlsdGVyJwogIF07CgogIHZhciBMSUZFQ1lDTEVfSE9PS1MgPSBbCiAgICAnYmVmb3JlQ3JlYXRlJywKICAgICdjcmVhdGVkJywKICAgICdiZWZvcmVNb3VudCcsCiAgICAnbW91bnRlZCcsCiAgICAnYmVmb3JlVXBkYXRlJywKICAgICd1cGRhdGVkJywKICAgICdiZWZvcmVEZXN0cm95JywKICAgICdkZXN0cm95ZWQnLAogICAgJ2FjdGl2YXRlZCcsCiAgICAnZGVhY3RpdmF0ZWQnLAogICAgJ2Vycm9yQ2FwdHVyZWQnLAogICAgJ3NlcnZlclByZWZldGNoJwogIF07CgogIC8qICAqLwoKCgogIHZhciBjb25maWcgPSAoewogICAgLyoqCiAgICAgKiBPcHRpb24gbWVyZ2Ugc3RyYXRlZ2llcyAodXNlZCBpbiBjb3JlL3V0aWwvb3B0aW9ucykKICAgICAqLwogICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lCiAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IE9iamVjdC5jcmVhdGUobnVsbCksCgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIHN1cHByZXNzIHdhcm5pbmdzLgogICAgICovCiAgICBzaWxlbnQ6IGZhbHNlLAoKICAgIC8qKgogICAgICogU2hvdyBwcm9kdWN0aW9uIG1vZGUgdGlwIG1lc3NhZ2Ugb24gYm9vdD8KICAgICAqLwogICAgcHJvZHVjdGlvblRpcDogImRldmVsb3BtZW50IiAhPT0gJ3Byb2R1Y3Rpb24nLAoKICAgIC8qKgogICAgICogV2hldGhlciB0byBlbmFibGUgZGV2dG9vbHMKICAgICAqLwogICAgZGV2dG9vbHM6ICJkZXZlbG9wbWVudCIgIT09ICdwcm9kdWN0aW9uJywKCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gcmVjb3JkIHBlcmYKICAgICAqLwogICAgcGVyZm9ybWFuY2U6IGZhbHNlLAoKICAgIC8qKgogICAgICogRXJyb3IgaGFuZGxlciBmb3Igd2F0Y2hlciBlcnJvcnMKICAgICAqLwogICAgZXJyb3JIYW5kbGVyOiBudWxsLAoKICAgIC8qKgogICAgICogV2FybiBoYW5kbGVyIGZvciB3YXRjaGVyIHdhcm5zCiAgICAgKi8KICAgIHdhcm5IYW5kbGVyOiBudWxsLAoKICAgIC8qKgogICAgICogSWdub3JlIGNlcnRhaW4gY3VzdG9tIGVsZW1lbnRzCiAgICAgKi8KICAgIGlnbm9yZWRFbGVtZW50czogW10sCgogICAgLyoqCiAgICAgKiBDdXN0b20gdXNlciBrZXkgYWxpYXNlcyBmb3Igdi1vbgogICAgICovCiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgIGtleUNvZGVzOiBPYmplY3QuY3JlYXRlKG51bGwpLAoKICAgIC8qKgogICAgICogQ2hlY2sgaWYgYSB0YWcgaXMgcmVzZXJ2ZWQgc28gdGhhdCBpdCBjYW5ub3QgYmUgcmVnaXN0ZXJlZCBhcyBhCiAgICAgKiBjb21wb25lbnQuIFRoaXMgaXMgcGxhdGZvcm0tZGVwZW5kZW50IGFuZCBtYXkgYmUgb3ZlcndyaXR0ZW4uCiAgICAgKi8KICAgIGlzUmVzZXJ2ZWRUYWc6IG5vLAoKICAgIC8qKgogICAgICogQ2hlY2sgaWYgYW4gYXR0cmlidXRlIGlzIHJlc2VydmVkIHNvIHRoYXQgaXQgY2Fubm90IGJlIHVzZWQgYXMgYSBjb21wb25lbnQKICAgICAqIHByb3AuIFRoaXMgaXMgcGxhdGZvcm0tZGVwZW5kZW50IGFuZCBtYXkgYmUgb3ZlcndyaXR0ZW4uCiAgICAgKi8KICAgIGlzUmVzZXJ2ZWRBdHRyOiBubywKCiAgICAvKioKICAgICAqIENoZWNrIGlmIGEgdGFnIGlzIGFuIHVua25vd24gZWxlbWVudC4KICAgICAqIFBsYXRmb3JtLWRlcGVuZGVudC4KICAgICAqLwogICAgaXNVbmtub3duRWxlbWVudDogbm8sCgogICAgLyoqCiAgICAgKiBHZXQgdGhlIG5hbWVzcGFjZSBvZiBhbiBlbGVtZW50CiAgICAgKi8KICAgIGdldFRhZ05hbWVzcGFjZTogbm9vcCwKCiAgICAvKioKICAgICAqIFBhcnNlIHRoZSByZWFsIHRhZyBuYW1lIGZvciB0aGUgc3BlY2lmaWMgcGxhdGZvcm0uCiAgICAgKi8KICAgIHBhcnNlUGxhdGZvcm1UYWdOYW1lOiBpZGVudGl0eSwKCiAgICAvKioKICAgICAqIENoZWNrIGlmIGFuIGF0dHJpYnV0ZSBtdXN0IGJlIGJvdW5kIHVzaW5nIHByb3BlcnR5LCBlLmcuIHZhbHVlCiAgICAgKiBQbGF0Zm9ybS1kZXBlbmRlbnQuCiAgICAgKi8KICAgIG11c3RVc2VQcm9wOiBubywKCiAgICAvKioKICAgICAqIFBlcmZvcm0gdXBkYXRlcyBhc3luY2hyb25vdXNseS4gSW50ZW5kZWQgdG8gYmUgdXNlZCBieSBWdWUgVGVzdCBVdGlscwogICAgICogVGhpcyB3aWxsIHNpZ25pZmljYW50bHkgcmVkdWNlIHBlcmZvcm1hbmNlIGlmIHNldCB0byBmYWxzZS4KICAgICAqLwogICAgYXN5bmM6IHRydWUsCgogICAgLyoqCiAgICAgKiBFeHBvc2VkIGZvciBsZWdhY3kgcmVhc29ucwogICAgICovCiAgICBfbGlmZWN5Y2xlSG9va3M6IExJRkVDWUNMRV9IT09LUwogIH0pOwoKICAvKiAgKi8KCiAgLyoqCiAgICogdW5pY29kZSBsZXR0ZXJzIHVzZWQgZm9yIHBhcnNpbmcgaHRtbCB0YWdzLCBjb21wb25lbnQgbmFtZXMgYW5kIHByb3BlcnR5IHBhdGhzLgogICAqIHVzaW5nIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTMvc2VtYW50aWNzLXNjcmlwdGluZy5odG1sI3BvdGVudGlhbGN1c3RvbWVsZW1lbnRuYW1lCiAgICogc2tpcHBpbmcgXHUxMDAwMC1cdUVGRkZGIGR1ZSB0byBpdCBmcmVlemluZyB1cCBQaGFudG9tSlMKICAgKi8KICB2YXIgdW5pY29kZVJlZ0V4cCA9IC9hLXpBLVpcdTAwQjdcdTAwQzAtXHUwMEQ2XHUwMEQ4LVx1MDBGNlx1MDBGOC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjAzRi1cdTIwNDBcdTIwNzAtXHUyMThGXHUyQzAwLVx1MkZFRlx1MzAwMS1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZGRC87CgogIC8qKgogICAqIENoZWNrIGlmIGEgc3RyaW5nIHN0YXJ0cyB3aXRoICQgb3IgXwogICAqLwogIGZ1bmN0aW9uIGlzUmVzZXJ2ZWQgKHN0cikgewogICAgdmFyIGMgPSAoc3RyICsgJycpLmNoYXJDb2RlQXQoMCk7CiAgICByZXR1cm4gYyA9PT0gMHgyNCB8fCBjID09PSAweDVGCiAgfQoKICAvKioKICAgKiBEZWZpbmUgYSBwcm9wZXJ0eS4KICAgKi8KICBmdW5jdGlvbiBkZWYgKG9iaiwga2V5LCB2YWwsIGVudW1lcmFibGUpIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsLAogICAgICBlbnVtZXJhYmxlOiAhIWVudW1lcmFibGUsCiAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUKICAgIH0pOwogIH0KCiAgLyoqCiAgICogUGFyc2Ugc2ltcGxlIHBhdGguCiAgICovCiAgdmFyIGJhaWxSRSA9IG5ldyBSZWdFeHAoKCJbXiIgKyAodW5pY29kZVJlZ0V4cC5zb3VyY2UpICsgIi4kX1xcZF0iKSk7CiAgZnVuY3Rpb24gcGFyc2VQYXRoIChwYXRoKSB7CiAgICBpZiAoYmFpbFJFLnRlc3QocGF0aCkpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcuJyk7CiAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKCFvYmopIHsgcmV0dXJuIH0KICAgICAgICBvYmogPSBvYmpbc2VnbWVudHNbaV1dOwogICAgICB9CiAgICAgIHJldHVybiBvYmoKICAgIH0KICB9CgogIC8qICAqLwoKICAvLyBjYW4gd2UgdXNlIF9fcHJvdG9fXz8KICB2YXIgaGFzUHJvdG8gPSAnX19wcm90b19fJyBpbiB7fTsKCiAgLy8gQnJvd3NlciBlbnZpcm9ubWVudCBzbmlmZmluZwogIHZhciBpbkJyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJzsKICB2YXIgaW5XZWV4ID0gdHlwZW9mIFdYRW52aXJvbm1lbnQgIT09ICd1bmRlZmluZWQnICYmICEhV1hFbnZpcm9ubWVudC5wbGF0Zm9ybTsKICB2YXIgd2VleFBsYXRmb3JtID0gaW5XZWV4ICYmIFdYRW52aXJvbm1lbnQucGxhdGZvcm0udG9Mb3dlckNhc2UoKTsKICB2YXIgVUEgPSBpbkJyb3dzZXIgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTsKICB2YXIgaXNJRSA9IFVBICYmIC9tc2llfHRyaWRlbnQvLnRlc3QoVUEpOwogIHZhciBpc0lFOSA9IFVBICYmIFVBLmluZGV4T2YoJ21zaWUgOS4wJykgPiAwOwogIHZhciBpc0VkZ2UgPSBVQSAmJiBVQS5pbmRleE9mKCdlZGdlLycpID4gMDsKICB2YXIgaXNBbmRyb2lkID0gKFVBICYmIFVBLmluZGV4T2YoJ2FuZHJvaWQnKSA+IDApIHx8ICh3ZWV4UGxhdGZvcm0gPT09ICdhbmRyb2lkJyk7CiAgdmFyIGlzSU9TID0gKFVBICYmIC9pcGhvbmV8aXBhZHxpcG9kfGlvcy8udGVzdChVQSkpIHx8ICh3ZWV4UGxhdGZvcm0gPT09ICdpb3MnKTsKICB2YXIgaXNDaHJvbWUgPSBVQSAmJiAvY2hyb21lXC9cZCsvLnRlc3QoVUEpICYmICFpc0VkZ2U7CiAgdmFyIGlzUGhhbnRvbUpTID0gVUEgJiYgL3BoYW50b21qcy8udGVzdChVQSk7CiAgdmFyIGlzRkYgPSBVQSAmJiBVQS5tYXRjaCgvZmlyZWZveFwvKFxkKykvKTsKCiAgLy8gRmlyZWZveCBoYXMgYSAid2F0Y2giIGZ1bmN0aW9uIG9uIE9iamVjdC5wcm90b3R5cGUuLi4KICB2YXIgbmF0aXZlV2F0Y2ggPSAoe30pLndhdGNoOwoKICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7CiAgaWYgKGluQnJvd3NlcikgewogICAgdHJ5IHsKICAgICAgdmFyIG9wdHMgPSB7fTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9wdHMsICdwYXNzaXZlJywgKHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCAoKSB7CiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzI4NQogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdC1wYXNzaXZlJywgbnVsbCwgb3B0cyk7CiAgICB9IGNhdGNoIChlKSB7fQogIH0KCiAgLy8gdGhpcyBuZWVkcyB0byBiZSBsYXp5LWV2YWxlZCBiZWNhdXNlIHZ1ZSBtYXkgYmUgcmVxdWlyZWQgYmVmb3JlCiAgLy8gdnVlLXNlcnZlci1yZW5kZXJlciBjYW4gc2V0IFZVRV9FTlYKICB2YXIgX2lzU2VydmVyOwogIHZhciBpc1NlcnZlclJlbmRlcmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIGlmIChfaXNTZXJ2ZXIgPT09IHVuZGVmaW5lZCkgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKCFpbkJyb3dzZXIgJiYgIWluV2VleCAmJiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIC8vIGRldGVjdCBwcmVzZW5jZSBvZiB2dWUtc2VydmVyLXJlbmRlcmVyIGFuZCBhdm9pZAogICAgICAgIC8vIFdlYnBhY2sgc2hpbW1pbmcgdGhlIHByb2Nlc3MKICAgICAgICBfaXNTZXJ2ZXIgPSBnbG9iYWxbJ3Byb2Nlc3MnXSAmJiBnbG9iYWxbJ3Byb2Nlc3MnXS5lbnYuVlVFX0VOViA9PT0gJ3NlcnZlcic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX2lzU2VydmVyID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfaXNTZXJ2ZXIKICB9OwoKICAvLyBkZXRlY3QgZGV2dG9vbHMKICB2YXIgZGV2dG9vbHMgPSBpbkJyb3dzZXIgJiYgd2luZG93Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX187CgogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgZnVuY3Rpb24gaXNOYXRpdmUgKEN0b3IpIHsKICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoQ3Rvci50b1N0cmluZygpKQogIH0KCiAgdmFyIGhhc1N5bWJvbCA9CiAgICB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShTeW1ib2wpICYmCiAgICB0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUmVmbGVjdC5vd25LZXlzKTsKCiAgdmFyIF9TZXQ7CiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovIC8vICRmbG93LWRpc2FibGUtbGluZQogIGlmICh0eXBlb2YgU2V0ICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShTZXQpKSB7CiAgICAvLyB1c2UgbmF0aXZlIFNldCB3aGVuIGF2YWlsYWJsZS4KICAgIF9TZXQgPSBTZXQ7CiAgfSBlbHNlIHsKICAgIC8vIGEgbm9uLXN0YW5kYXJkIFNldCBwb2x5ZmlsbCB0aGF0IG9ubHkgd29ya3Mgd2l0aCBwcmltaXRpdmUga2V5cy4KICAgIF9TZXQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uICgpIHsKICAgICAgZnVuY3Rpb24gU2V0ICgpIHsKICAgICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgIH0KICAgICAgU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkgewogICAgICAgIHJldHVybiB0aGlzLnNldFtrZXldID09PSB0cnVlCiAgICAgIH07CiAgICAgIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChrZXkpIHsKICAgICAgICB0aGlzLnNldFtrZXldID0gdHJ1ZTsKICAgICAgfTsKICAgICAgU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHsKICAgICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgIH07CgogICAgICByZXR1cm4gU2V0OwogICAgfSgpKTsKICB9CgogIC8qICAqLwoKICB2YXIgd2FybiA9IG5vb3A7CiAgdmFyIHRpcCA9IG5vb3A7CiAgdmFyIGdlbmVyYXRlQ29tcG9uZW50VHJhY2UgPSAobm9vcCk7IC8vIHdvcmsgYXJvdW5kIGZsb3cgY2hlY2sKICB2YXIgZm9ybWF0Q29tcG9uZW50TmFtZSA9IChub29wKTsKCiAgewogICAgdmFyIGhhc0NvbnNvbGUgPSB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCc7CiAgICB2YXIgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFx3KS9nOwogICAgdmFyIGNsYXNzaWZ5ID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gc3RyCiAgICAgIC5yZXBsYWNlKGNsYXNzaWZ5UkUsIGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnRvVXBwZXJDYXNlKCk7IH0pCiAgICAgIC5yZXBsYWNlKC9bLV9dL2csICcnKTsgfTsKCiAgICB3YXJuID0gZnVuY3Rpb24gKG1zZywgdm0pIHsKICAgICAgdmFyIHRyYWNlID0gdm0gPyBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlKHZtKSA6ICcnOwoKICAgICAgaWYgKGNvbmZpZy53YXJuSGFuZGxlcikgewogICAgICAgIGNvbmZpZy53YXJuSGFuZGxlci5jYWxsKG51bGwsIG1zZywgdm0sIHRyYWNlKTsKICAgICAgfSBlbHNlIGlmIChoYXNDb25zb2xlICYmICghY29uZmlnLnNpbGVudCkpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCgiW1Z1ZSB3YXJuXTogIiArIG1zZyArIHRyYWNlKSk7CiAgICAgIH0KICAgIH07CgogICAgdGlwID0gZnVuY3Rpb24gKG1zZywgdm0pIHsKICAgICAgaWYgKGhhc0NvbnNvbGUgJiYgKCFjb25maWcuc2lsZW50KSkgewogICAgICAgIGNvbnNvbGUud2FybigiW1Z1ZSB0aXBdOiAiICsgbXNnICsgKAogICAgICAgICAgdm0gPyBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlKHZtKSA6ICcnCiAgICAgICAgKSk7CiAgICAgIH0KICAgIH07CgogICAgZm9ybWF0Q29tcG9uZW50TmFtZSA9IGZ1bmN0aW9uICh2bSwgaW5jbHVkZUZpbGUpIHsKICAgICAgaWYgKHZtLiRyb290ID09PSB2bSkgewogICAgICAgIHJldHVybiAnPFJvb3Q+JwogICAgICB9CiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIHZtID09PSAnZnVuY3Rpb24nICYmIHZtLmNpZCAhPSBudWxsCiAgICAgICAgPyB2bS5vcHRpb25zCiAgICAgICAgOiB2bS5faXNWdWUKICAgICAgICAgID8gdm0uJG9wdGlvbnMgfHwgdm0uY29uc3RydWN0b3Iub3B0aW9ucwogICAgICAgICAgOiB2bTsKICAgICAgdmFyIG5hbWUgPSBvcHRpb25zLm5hbWUgfHwgb3B0aW9ucy5fY29tcG9uZW50VGFnOwogICAgICB2YXIgZmlsZSA9IG9wdGlvbnMuX19maWxlOwogICAgICBpZiAoIW5hbWUgJiYgZmlsZSkgewogICAgICAgIHZhciBtYXRjaCA9IGZpbGUubWF0Y2goLyhbXi9cXF0rKVwudnVlJC8pOwogICAgICAgIG5hbWUgPSBtYXRjaCAmJiBtYXRjaFsxXTsKICAgICAgfQoKICAgICAgcmV0dXJuICgKICAgICAgICAobmFtZSA/ICgiPCIgKyAoY2xhc3NpZnkobmFtZSkpICsgIj4iKSA6ICI8QW5vbnltb3VzPiIpICsKICAgICAgICAoZmlsZSAmJiBpbmNsdWRlRmlsZSAhPT0gZmFsc2UgPyAoIiBhdCAiICsgZmlsZSkgOiAnJykKICAgICAgKQogICAgfTsKCiAgICB2YXIgcmVwZWF0ID0gZnVuY3Rpb24gKHN0ciwgbikgewogICAgICB2YXIgcmVzID0gJyc7CiAgICAgIHdoaWxlIChuKSB7CiAgICAgICAgaWYgKG4gJSAyID09PSAxKSB7IHJlcyArPSBzdHI7IH0KICAgICAgICBpZiAobiA+IDEpIHsgc3RyICs9IHN0cjsgfQogICAgICAgIG4gPj49IDE7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlcwogICAgfTsKCiAgICBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlID0gZnVuY3Rpb24gKHZtKSB7CiAgICAgIGlmICh2bS5faXNWdWUgJiYgdm0uJHBhcmVudCkgewogICAgICAgIHZhciB0cmVlID0gW107CiAgICAgICAgdmFyIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA9IDA7CiAgICAgICAgd2hpbGUgKHZtKSB7CiAgICAgICAgICBpZiAodHJlZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHZhciBsYXN0ID0gdHJlZVt0cmVlLmxlbmd0aCAtIDFdOwogICAgICAgICAgICBpZiAobGFzdC5jb25zdHJ1Y3RvciA9PT0gdm0uY29uc3RydWN0b3IpIHsKICAgICAgICAgICAgICBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UrKzsKICAgICAgICAgICAgICB2bSA9IHZtLiRwYXJlbnQ7CiAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UgPiAwKSB7CiAgICAgICAgICAgICAgdHJlZVt0cmVlLmxlbmd0aCAtIDFdID0gW2xhc3QsIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZV07CiAgICAgICAgICAgICAgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdHJlZS5wdXNoKHZtKTsKICAgICAgICAgIHZtID0gdm0uJHBhcmVudDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICdcblxuZm91bmQgaW5cblxuJyArIHRyZWUKICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZtLCBpKSB7IHJldHVybiAoIiIgKyAoaSA9PT0gMCA/ICctLS0+ICcgOiByZXBlYXQoJyAnLCA1ICsgaSAqIDIpKSArIChBcnJheS5pc0FycmF5KHZtKQogICAgICAgICAgICAgID8gKChmb3JtYXRDb21wb25lbnROYW1lKHZtWzBdKSkgKyAiLi4uICgiICsgKHZtWzFdKSArICIgcmVjdXJzaXZlIGNhbGxzKSIpCiAgICAgICAgICAgICAgOiBmb3JtYXRDb21wb25lbnROYW1lKHZtKSkpOyB9KQogICAgICAgICAgLmpvaW4oJ1xuJykKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gKCJcblxuKGZvdW5kIGluICIgKyAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgIikiKQogICAgICB9CiAgICB9OwogIH0KCiAgLyogICovCgogIHZhciB1aWQgPSAwOwoKICAvKioKICAgKiBBIGRlcCBpcyBhbiBvYnNlcnZhYmxlIHRoYXQgY2FuIGhhdmUgbXVsdGlwbGUKICAgKiBkaXJlY3RpdmVzIHN1YnNjcmliaW5nIHRvIGl0LgogICAqLwogIHZhciBEZXAgPSBmdW5jdGlvbiBEZXAgKCkgewogICAgdGhpcy5pZCA9IHVpZCsrOwogICAgdGhpcy5zdWJzID0gW107CiAgfTsKCiAgRGVwLnByb3RvdHlwZS5hZGRTdWIgPSBmdW5jdGlvbiBhZGRTdWIgKHN1YikgewogICAgdGhpcy5zdWJzLnB1c2goc3ViKTsKICB9OwoKICBEZXAucHJvdG90eXBlLnJlbW92ZVN1YiA9IGZ1bmN0aW9uIHJlbW92ZVN1YiAoc3ViKSB7CiAgICByZW1vdmUodGhpcy5zdWJzLCBzdWIpOwogIH07CgogIERlcC5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHsKICAgIGlmIChEZXAudGFyZ2V0KSB7CiAgICAgIERlcC50YXJnZXQuYWRkRGVwKHRoaXMpOwogICAgfQogIH07CgogIERlcC5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gbm90aWZ5ICgpIHsKICAgIC8vIHN0YWJpbGl6ZSB0aGUgc3Vic2NyaWJlciBsaXN0IGZpcnN0CiAgICB2YXIgc3VicyA9IHRoaXMuc3Vicy5zbGljZSgpOwogICAgaWYgKCFjb25maWcuYXN5bmMpIHsKICAgICAgLy8gc3VicyBhcmVuJ3Qgc29ydGVkIGluIHNjaGVkdWxlciBpZiBub3QgcnVubmluZyBhc3luYwogICAgICAvLyB3ZSBuZWVkIHRvIHNvcnQgdGhlbSBub3cgdG8gbWFrZSBzdXJlIHRoZXkgZmlyZSBpbiBjb3JyZWN0CiAgICAgIC8vIG9yZGVyCiAgICAgIHN1YnMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5pZCAtIGIuaWQ7IH0pOwogICAgfQogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdWJzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBzdWJzW2ldLnVwZGF0ZSgpOwogICAgfQogIH07CgogIC8vIFRoZSBjdXJyZW50IHRhcmdldCB3YXRjaGVyIGJlaW5nIGV2YWx1YXRlZC4KICAvLyBUaGlzIGlzIGdsb2JhbGx5IHVuaXF1ZSBiZWNhdXNlIG9ubHkgb25lIHdhdGNoZXIKICAvLyBjYW4gYmUgZXZhbHVhdGVkIGF0IGEgdGltZS4KICBEZXAudGFyZ2V0ID0gbnVsbDsKICB2YXIgdGFyZ2V0U3RhY2sgPSBbXTsKCiAgZnVuY3Rpb24gcHVzaFRhcmdldCAodGFyZ2V0KSB7CiAgICB0YXJnZXRTdGFjay5wdXNoKHRhcmdldCk7CiAgICBEZXAudGFyZ2V0ID0gdGFyZ2V0OwogIH0KCiAgZnVuY3Rpb24gcG9wVGFyZ2V0ICgpIHsKICAgIHRhcmdldFN0YWNrLnBvcCgpOwogICAgRGVwLnRhcmdldCA9IHRhcmdldFN0YWNrW3RhcmdldFN0YWNrLmxlbmd0aCAtIDFdOwogIH0KCiAgLyogICovCgogIHZhciBWTm9kZSA9IGZ1bmN0aW9uIFZOb2RlICgKICAgIHRhZywKICAgIGRhdGEsCiAgICBjaGlsZHJlbiwKICAgIHRleHQsCiAgICBlbG0sCiAgICBjb250ZXh0LAogICAgY29tcG9uZW50T3B0aW9ucywKICAgIGFzeW5jRmFjdG9yeQogICkgewogICAgdGhpcy50YWcgPSB0YWc7CiAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuOwogICAgdGhpcy50ZXh0ID0gdGV4dDsKICAgIHRoaXMuZWxtID0gZWxtOwogICAgdGhpcy5ucyA9IHVuZGVmaW5lZDsKICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7CiAgICB0aGlzLmZuQ29udGV4dCA9IHVuZGVmaW5lZDsKICAgIHRoaXMuZm5PcHRpb25zID0gdW5kZWZpbmVkOwogICAgdGhpcy5mblNjb3BlSWQgPSB1bmRlZmluZWQ7CiAgICB0aGlzLmtleSA9IGRhdGEgJiYgZGF0YS5rZXk7CiAgICB0aGlzLmNvbXBvbmVudE9wdGlvbnMgPSBjb21wb25lbnRPcHRpb25zOwogICAgdGhpcy5jb21wb25lbnRJbnN0YW5jZSA9IHVuZGVmaW5lZDsKICAgIHRoaXMucGFyZW50ID0gdW5kZWZpbmVkOwogICAgdGhpcy5yYXcgPSBmYWxzZTsKICAgIHRoaXMuaXNTdGF0aWMgPSBmYWxzZTsKICAgIHRoaXMuaXNSb290SW5zZXJ0ID0gdHJ1ZTsKICAgIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7CiAgICB0aGlzLmlzQ2xvbmVkID0gZmFsc2U7CiAgICB0aGlzLmlzT25jZSA9IGZhbHNlOwogICAgdGhpcy5hc3luY0ZhY3RvcnkgPSBhc3luY0ZhY3Rvcnk7CiAgICB0aGlzLmFzeW5jTWV0YSA9IHVuZGVmaW5lZDsKICAgIHRoaXMuaXNBc3luY1BsYWNlaG9sZGVyID0gZmFsc2U7CiAgfTsKCiAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgY2hpbGQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTsKCiAgLy8gREVQUkVDQVRFRDogYWxpYXMgZm9yIGNvbXBvbmVudEluc3RhbmNlIGZvciBiYWNrd2FyZHMgY29tcGF0LgogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgcHJvdG90eXBlQWNjZXNzb3JzLmNoaWxkLmdldCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmNvbXBvbmVudEluc3RhbmNlCiAgfTsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFZOb2RlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7CgogIHZhciBjcmVhdGVFbXB0eVZOb2RlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgIGlmICggdGV4dCA9PT0gdm9pZCAwICkgdGV4dCA9ICcnOwoKICAgIHZhciBub2RlID0gbmV3IFZOb2RlKCk7CiAgICBub2RlLnRleHQgPSB0ZXh0OwogICAgbm9kZS5pc0NvbW1lbnQgPSB0cnVlOwogICAgcmV0dXJuIG5vZGUKICB9OwoKICBmdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUgKHZhbCkgewogICAgcmV0dXJuIG5ldyBWTm9kZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBTdHJpbmcodmFsKSkKICB9CgogIC8vIG9wdGltaXplZCBzaGFsbG93IGNsb25lCiAgLy8gdXNlZCBmb3Igc3RhdGljIG5vZGVzIGFuZCBzbG90IG5vZGVzIGJlY2F1c2UgdGhleSBtYXkgYmUgcmV1c2VkIGFjcm9zcwogIC8vIG11bHRpcGxlIHJlbmRlcnMsIGNsb25pbmcgdGhlbSBhdm9pZHMgZXJyb3JzIHdoZW4gRE9NIG1hbmlwdWxhdGlvbnMgcmVseQogIC8vIG9uIHRoZWlyIGVsbSByZWZlcmVuY2UuCiAgZnVuY3Rpb24gY2xvbmVWTm9kZSAodm5vZGUpIHsKICAgIHZhciBjbG9uZWQgPSBuZXcgVk5vZGUoCiAgICAgIHZub2RlLnRhZywKICAgICAgdm5vZGUuZGF0YSwKICAgICAgLy8gIzc5NzUKICAgICAgLy8gY2xvbmUgY2hpbGRyZW4gYXJyYXkgdG8gYXZvaWQgbXV0YXRpbmcgb3JpZ2luYWwgaW4gY2FzZSBvZiBjbG9uaW5nCiAgICAgIC8vIGEgY2hpbGQuCiAgICAgIHZub2RlLmNoaWxkcmVuICYmIHZub2RlLmNoaWxkcmVuLnNsaWNlKCksCiAgICAgIHZub2RlLnRleHQsCiAgICAgIHZub2RlLmVsbSwKICAgICAgdm5vZGUuY29udGV4dCwKICAgICAgdm5vZGUuY29tcG9uZW50T3B0aW9ucywKICAgICAgdm5vZGUuYXN5bmNGYWN0b3J5CiAgICApOwogICAgY2xvbmVkLm5zID0gdm5vZGUubnM7CiAgICBjbG9uZWQuaXNTdGF0aWMgPSB2bm9kZS5pc1N0YXRpYzsKICAgIGNsb25lZC5rZXkgPSB2bm9kZS5rZXk7CiAgICBjbG9uZWQuaXNDb21tZW50ID0gdm5vZGUuaXNDb21tZW50OwogICAgY2xvbmVkLmZuQ29udGV4dCA9IHZub2RlLmZuQ29udGV4dDsKICAgIGNsb25lZC5mbk9wdGlvbnMgPSB2bm9kZS5mbk9wdGlvbnM7CiAgICBjbG9uZWQuZm5TY29wZUlkID0gdm5vZGUuZm5TY29wZUlkOwogICAgY2xvbmVkLmFzeW5jTWV0YSA9IHZub2RlLmFzeW5jTWV0YTsKICAgIGNsb25lZC5pc0Nsb25lZCA9IHRydWU7CiAgICByZXR1cm4gY2xvbmVkCiAgfQoKICAvKgogICAqIG5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBwbGF5IHdlbGwgd2l0aAogICAqIGR5bmFtaWNhbGx5IGFjY2Vzc2luZyBtZXRob2RzIG9uIEFycmF5IHByb3RvdHlwZQogICAqLwoKICB2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTsKICB2YXIgYXJyYXlNZXRob2RzID0gT2JqZWN0LmNyZWF0ZShhcnJheVByb3RvKTsKCiAgdmFyIG1ldGhvZHNUb1BhdGNoID0gWwogICAgJ3B1c2gnLAogICAgJ3BvcCcsCiAgICAnc2hpZnQnLAogICAgJ3Vuc2hpZnQnLAogICAgJ3NwbGljZScsCiAgICAnc29ydCcsCiAgICAncmV2ZXJzZScKICBdOwoKICAvKioKICAgKiBJbnRlcmNlcHQgbXV0YXRpbmcgbWV0aG9kcyBhbmQgZW1pdCBldmVudHMKICAgKi8KICBtZXRob2RzVG9QYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsKICAgIC8vIGNhY2hlIG9yaWdpbmFsIG1ldGhvZAogICAgdmFyIG9yaWdpbmFsID0gYXJyYXlQcm90b1ttZXRob2RdOwogICAgZGVmKGFycmF5TWV0aG9kcywgbWV0aG9kLCBmdW5jdGlvbiBtdXRhdG9yICgpIHsKICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsKICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTsKCiAgICAgIHZhciByZXN1bHQgPSBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgdmFyIG9iID0gdGhpcy5fX29iX187CiAgICAgIHZhciBpbnNlcnRlZDsKICAgICAgc3dpdGNoIChtZXRob2QpIHsKICAgICAgICBjYXNlICdwdXNoJzoKICAgICAgICBjYXNlICd1bnNoaWZ0JzoKICAgICAgICAgIGluc2VydGVkID0gYXJnczsKICAgICAgICAgIGJyZWFrCiAgICAgICAgY2FzZSAnc3BsaWNlJzoKICAgICAgICAgIGluc2VydGVkID0gYXJncy5zbGljZSgyKTsKICAgICAgICAgIGJyZWFrCiAgICAgIH0KICAgICAgaWYgKGluc2VydGVkKSB7IG9iLm9ic2VydmVBcnJheShpbnNlcnRlZCk7IH0KICAgICAgLy8gbm90aWZ5IGNoYW5nZQogICAgICBvYi5kZXAubm90aWZ5KCk7CiAgICAgIHJldHVybiByZXN1bHQKICAgIH0pOwogIH0pOwoKICAvKiAgKi8KCiAgdmFyIGFycmF5S2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGFycmF5TWV0aG9kcyk7CgogIC8qKgogICAqIEluIHNvbWUgY2FzZXMgd2UgbWF5IHdhbnQgdG8gZGlzYWJsZSBvYnNlcnZhdGlvbiBpbnNpZGUgYSBjb21wb25lbnQncwogICAqIHVwZGF0ZSBjb21wdXRhdGlvbi4KICAgKi8KICB2YXIgc2hvdWxkT2JzZXJ2ZSA9IHRydWU7CgogIGZ1bmN0aW9uIHRvZ2dsZU9ic2VydmluZyAodmFsdWUpIHsKICAgIHNob3VsZE9ic2VydmUgPSB2YWx1ZTsKICB9CgogIC8qKgogICAqIE9ic2VydmVyIGNsYXNzIHRoYXQgaXMgYXR0YWNoZWQgdG8gZWFjaCBvYnNlcnZlZAogICAqIG9iamVjdC4gT25jZSBhdHRhY2hlZCwgdGhlIG9ic2VydmVyIGNvbnZlcnRzIHRoZSB0YXJnZXQKICAgKiBvYmplY3QncyBwcm9wZXJ0eSBrZXlzIGludG8gZ2V0dGVyL3NldHRlcnMgdGhhdAogICAqIGNvbGxlY3QgZGVwZW5kZW5jaWVzIGFuZCBkaXNwYXRjaCB1cGRhdGVzLgogICAqLwogIHZhciBPYnNlcnZlciA9IGZ1bmN0aW9uIE9ic2VydmVyICh2YWx1ZSkgewogICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgdGhpcy5kZXAgPSBuZXcgRGVwKCk7CiAgICB0aGlzLnZtQ291bnQgPSAwOwogICAgZGVmKHZhbHVlLCAnX19vYl9fJywgdGhpcyk7CiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgaWYgKGhhc1Byb3RvKSB7CiAgICAgICAgcHJvdG9BdWdtZW50KHZhbHVlLCBhcnJheU1ldGhvZHMpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvcHlBdWdtZW50KHZhbHVlLCBhcnJheU1ldGhvZHMsIGFycmF5S2V5cyk7CiAgICAgIH0KICAgICAgdGhpcy5vYnNlcnZlQXJyYXkodmFsdWUpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy53YWxrKHZhbHVlKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBXYWxrIHRocm91Z2ggYWxsIHByb3BlcnRpZXMgYW5kIGNvbnZlcnQgdGhlbSBpbnRvCiAgICogZ2V0dGVyL3NldHRlcnMuIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuCiAgICogdmFsdWUgdHlwZSBpcyBPYmplY3QuCiAgICovCiAgT2JzZXJ2ZXIucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiB3YWxrIChvYmopIHsKICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgewogICAgICBkZWZpbmVSZWFjdGl2ZSQkMShvYmosIGtleXNbaV0pOwogICAgfQogIH07CgogIC8qKgogICAqIE9ic2VydmUgYSBsaXN0IG9mIEFycmF5IGl0ZW1zLgogICAqLwogIE9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlQXJyYXkgPSBmdW5jdGlvbiBvYnNlcnZlQXJyYXkgKGl0ZW1zKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBvYnNlcnZlKGl0ZW1zW2ldKTsKICAgIH0KICB9OwoKICAvLyBoZWxwZXJzCgogIC8qKgogICAqIEF1Z21lbnQgYSB0YXJnZXQgT2JqZWN0IG9yIEFycmF5IGJ5IGludGVyY2VwdGluZwogICAqIHRoZSBwcm90b3R5cGUgY2hhaW4gdXNpbmcgX19wcm90b19fCiAgICovCiAgZnVuY3Rpb24gcHJvdG9BdWdtZW50ICh0YXJnZXQsIHNyYykgewogICAgLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi8KICAgIHRhcmdldC5fX3Byb3RvX18gPSBzcmM7CiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXByb3RvICovCiAgfQoKICAvKioKICAgKiBBdWdtZW50IGEgdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBkZWZpbmluZwogICAqIGhpZGRlbiBwcm9wZXJ0aWVzLgogICAqLwogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgZnVuY3Rpb24gY29weUF1Z21lbnQgKHRhcmdldCwgc3JjLCBrZXlzKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIHZhciBrZXkgPSBrZXlzW2ldOwogICAgICBkZWYodGFyZ2V0LCBrZXksIHNyY1trZXldKTsKICAgIH0KICB9CgogIC8qKgogICAqIEF0dGVtcHQgdG8gY3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlIGZvciBhIHZhbHVlLAogICAqIHJldHVybnMgdGhlIG5ldyBvYnNlcnZlciBpZiBzdWNjZXNzZnVsbHkgb2JzZXJ2ZWQsCiAgICogb3IgdGhlIGV4aXN0aW5nIG9ic2VydmVyIGlmIHRoZSB2YWx1ZSBhbHJlYWR5IGhhcyBvbmUuCiAgICovCiAgZnVuY3Rpb24gb2JzZXJ2ZSAodmFsdWUsIGFzUm9vdERhdGEpIHsKICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IHZhbHVlIGluc3RhbmNlb2YgVk5vZGUpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICB2YXIgb2I7CiAgICBpZiAoaGFzT3duKHZhbHVlLCAnX19vYl9fJykgJiYgdmFsdWUuX19vYl9fIGluc3RhbmNlb2YgT2JzZXJ2ZXIpIHsKICAgICAgb2IgPSB2YWx1ZS5fX29iX187CiAgICB9IGVsc2UgaWYgKAogICAgICBzaG91bGRPYnNlcnZlICYmCiAgICAgICFpc1NlcnZlclJlbmRlcmluZygpICYmCiAgICAgIChBcnJheS5pc0FycmF5KHZhbHVlKSB8fCBpc1BsYWluT2JqZWN0KHZhbHVlKSkgJiYKICAgICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkgJiYKICAgICAgIXZhbHVlLl9pc1Z1ZQogICAgKSB7CiAgICAgIG9iID0gbmV3IE9ic2VydmVyKHZhbHVlKTsKICAgIH0KICAgIGlmIChhc1Jvb3REYXRhICYmIG9iKSB7CiAgICAgIG9iLnZtQ291bnQrKzsKICAgIH0KICAgIHJldHVybiBvYgogIH0KCiAgLyoqCiAgICogRGVmaW5lIGEgcmVhY3RpdmUgcHJvcGVydHkgb24gYW4gT2JqZWN0LgogICAqLwogIGZ1bmN0aW9uIGRlZmluZVJlYWN0aXZlJCQxICgKICAgIG9iaiwKICAgIGtleSwKICAgIHZhbCwKICAgIGN1c3RvbVNldHRlciwKICAgIHNoYWxsb3cKICApIHsKICAgIHZhciBkZXAgPSBuZXcgRGVwKCk7CgogICAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7CiAgICBpZiAocHJvcGVydHkgJiYgcHJvcGVydHkuY29uZmlndXJhYmxlID09PSBmYWxzZSkgewogICAgICByZXR1cm4KICAgIH0KCiAgICAvLyBjYXRlciBmb3IgcHJlLWRlZmluZWQgZ2V0dGVyL3NldHRlcnMKICAgIHZhciBnZXR0ZXIgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5nZXQ7CiAgICB2YXIgc2V0dGVyID0gcHJvcGVydHkgJiYgcHJvcGVydHkuc2V0OwogICAgaWYgKCghZ2V0dGVyIHx8IHNldHRlcikgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgewogICAgICB2YWwgPSBvYmpba2V5XTsKICAgIH0KCiAgICB2YXIgY2hpbGRPYiA9ICFzaGFsbG93ICYmIG9ic2VydmUodmFsKTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIGdldDogZnVuY3Rpb24gcmVhY3RpdmVHZXR0ZXIgKCkgewogICAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7CiAgICAgICAgaWYgKERlcC50YXJnZXQpIHsKICAgICAgICAgIGRlcC5kZXBlbmQoKTsKICAgICAgICAgIGlmIChjaGlsZE9iKSB7CiAgICAgICAgICAgIGNoaWxkT2IuZGVwLmRlcGVuZCgpOwogICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICAgICAgICBkZXBlbmRBcnJheSh2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZhbHVlCiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gcmVhY3RpdmVTZXR0ZXIgKG5ld1ZhbCkgewogICAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7CiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlICovCiAgICAgICAgaWYgKG5ld1ZhbCA9PT0gdmFsdWUgfHwgKG5ld1ZhbCAhPT0gbmV3VmFsICYmIHZhbHVlICE9PSB2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtY29tcGFyZSAqLwogICAgICAgIGlmIChjdXN0b21TZXR0ZXIpIHsKICAgICAgICAgIGN1c3RvbVNldHRlcigpOwogICAgICAgIH0KICAgICAgICAvLyAjNzk4MTogZm9yIGFjY2Vzc29yIHByb3BlcnRpZXMgd2l0aG91dCBzZXR0ZXIKICAgICAgICBpZiAoZ2V0dGVyICYmICFzZXR0ZXIpIHsgcmV0dXJuIH0KICAgICAgICBpZiAoc2V0dGVyKSB7CiAgICAgICAgICBzZXR0ZXIuY2FsbChvYmosIG5ld1ZhbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhbCA9IG5ld1ZhbDsKICAgICAgICB9CiAgICAgICAgY2hpbGRPYiA9ICFzaGFsbG93ICYmIG9ic2VydmUobmV3VmFsKTsKICAgICAgICBkZXAubm90aWZ5KCk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgLyoqCiAgICogU2V0IGEgcHJvcGVydHkgb24gYW4gb2JqZWN0LiBBZGRzIHRoZSBuZXcgcHJvcGVydHkgYW5kCiAgICogdHJpZ2dlcnMgY2hhbmdlIG5vdGlmaWNhdGlvbiBpZiB0aGUgcHJvcGVydHkgZG9lc24ndAogICAqIGFscmVhZHkgZXhpc3QuCiAgICovCiAgZnVuY3Rpb24gc2V0ICh0YXJnZXQsIGtleSwgdmFsKSB7CiAgICBpZiAoaXNVbmRlZih0YXJnZXQpIHx8IGlzUHJpbWl0aXZlKHRhcmdldCkKICAgICkgewogICAgICB3YXJuKCgiQ2Fubm90IHNldCByZWFjdGl2ZSBwcm9wZXJ0eSBvbiB1bmRlZmluZWQsIG51bGwsIG9yIHByaW1pdGl2ZSB2YWx1ZTogIiArICgodGFyZ2V0KSkpKTsKICAgIH0KICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgaXNWYWxpZEFycmF5SW5kZXgoa2V5KSkgewogICAgICB0YXJnZXQubGVuZ3RoID0gTWF0aC5tYXgodGFyZ2V0Lmxlbmd0aCwga2V5KTsKICAgICAgdGFyZ2V0LnNwbGljZShrZXksIDEsIHZhbCk7CiAgICAgIHJldHVybiB2YWwKICAgIH0KICAgIGlmIChrZXkgaW4gdGFyZ2V0ICYmICEoa2V5IGluIE9iamVjdC5wcm90b3R5cGUpKSB7CiAgICAgIHRhcmdldFtrZXldID0gdmFsOwogICAgICByZXR1cm4gdmFsCiAgICB9CiAgICB2YXIgb2IgPSAodGFyZ2V0KS5fX29iX187CiAgICBpZiAodGFyZ2V0Ll9pc1Z1ZSB8fCAob2IgJiYgb2Iudm1Db3VudCkpIHsKICAgICAgd2FybigKICAgICAgICAnQXZvaWQgYWRkaW5nIHJlYWN0aXZlIHByb3BlcnRpZXMgdG8gYSBWdWUgaW5zdGFuY2Ugb3IgaXRzIHJvb3QgJGRhdGEgJyArCiAgICAgICAgJ2F0IHJ1bnRpbWUgLSBkZWNsYXJlIGl0IHVwZnJvbnQgaW4gdGhlIGRhdGEgb3B0aW9uLicKICAgICAgKTsKICAgICAgcmV0dXJuIHZhbAogICAgfQogICAgaWYgKCFvYikgewogICAgICB0YXJnZXRba2V5XSA9IHZhbDsKICAgICAgcmV0dXJuIHZhbAogICAgfQogICAgZGVmaW5lUmVhY3RpdmUkJDEob2IudmFsdWUsIGtleSwgdmFsKTsKICAgIG9iLmRlcC5ub3RpZnkoKTsKICAgIHJldHVybiB2YWwKICB9CgogIC8qKgogICAqIERlbGV0ZSBhIHByb3BlcnR5IGFuZCB0cmlnZ2VyIGNoYW5nZSBpZiBuZWNlc3NhcnkuCiAgICovCiAgZnVuY3Rpb24gZGVsICh0YXJnZXQsIGtleSkgewogICAgaWYgKGlzVW5kZWYodGFyZ2V0KSB8fCBpc1ByaW1pdGl2ZSh0YXJnZXQpCiAgICApIHsKICAgICAgd2FybigoIkNhbm5vdCBkZWxldGUgcmVhY3RpdmUgcHJvcGVydHkgb24gdW5kZWZpbmVkLCBudWxsLCBvciBwcmltaXRpdmUgdmFsdWU6ICIgKyAoKHRhcmdldCkpKSk7CiAgICB9CiAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpICYmIGlzVmFsaWRBcnJheUluZGV4KGtleSkpIHsKICAgICAgdGFyZ2V0LnNwbGljZShrZXksIDEpOwogICAgICByZXR1cm4KICAgIH0KICAgIHZhciBvYiA9ICh0YXJnZXQpLl9fb2JfXzsKICAgIGlmICh0YXJnZXQuX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkgewogICAgICB3YXJuKAogICAgICAgICdBdm9pZCBkZWxldGluZyBwcm9wZXJ0aWVzIG9uIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgKwogICAgICAgICctIGp1c3Qgc2V0IGl0IHRvIG51bGwuJwogICAgICApOwogICAgICByZXR1cm4KICAgIH0KICAgIGlmICghaGFzT3duKHRhcmdldCwga2V5KSkgewogICAgICByZXR1cm4KICAgIH0KICAgIGRlbGV0ZSB0YXJnZXRba2V5XTsKICAgIGlmICghb2IpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICBvYi5kZXAubm90aWZ5KCk7CiAgfQoKICAvKioKICAgKiBDb2xsZWN0IGRlcGVuZGVuY2llcyBvbiBhcnJheSBlbGVtZW50cyB3aGVuIHRoZSBhcnJheSBpcyB0b3VjaGVkLCBzaW5jZQogICAqIHdlIGNhbm5vdCBpbnRlcmNlcHQgYXJyYXkgZWxlbWVudCBhY2Nlc3MgbGlrZSBwcm9wZXJ0eSBnZXR0ZXJzLgogICAqLwogIGZ1bmN0aW9uIGRlcGVuZEFycmF5ICh2YWx1ZSkgewogICAgZm9yICh2YXIgZSA9ICh2b2lkIDApLCBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBlID0gdmFsdWVbaV07CiAgICAgIGUgJiYgZS5fX29iX18gJiYgZS5fX29iX18uZGVwLmRlcGVuZCgpOwogICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkgewogICAgICAgIGRlcGVuZEFycmF5KGUpOwogICAgICB9CiAgICB9CiAgfQoKICAvKiAgKi8KCiAgLyoqCiAgICogT3B0aW9uIG92ZXJ3cml0aW5nIHN0cmF0ZWdpZXMgYXJlIGZ1bmN0aW9ucyB0aGF0IGhhbmRsZQogICAqIGhvdyB0byBtZXJnZSBhIHBhcmVudCBvcHRpb24gdmFsdWUgYW5kIGEgY2hpbGQgb3B0aW9uCiAgICogdmFsdWUgaW50byB0aGUgZmluYWwgdmFsdWUuCiAgICovCiAgdmFyIHN0cmF0cyA9IGNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXM7CgogIC8qKgogICAqIE9wdGlvbnMgd2l0aCByZXN0cmljdGlvbnMKICAgKi8KICB7CiAgICBzdHJhdHMuZWwgPSBzdHJhdHMucHJvcHNEYXRhID0gZnVuY3Rpb24gKHBhcmVudCwgY2hpbGQsIHZtLCBrZXkpIHsKICAgICAgaWYgKCF2bSkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAib3B0aW9uIFwiIiArIGtleSArICJcIiBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBpbnN0YW5jZSAiICsKICAgICAgICAgICdjcmVhdGlvbiB3aXRoIHRoZSBgbmV3YCBrZXl3b3JkLicKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiBkZWZhdWx0U3RyYXQocGFyZW50LCBjaGlsZCkKICAgIH07CiAgfQoKICAvKioKICAgKiBIZWxwZXIgdGhhdCByZWN1cnNpdmVseSBtZXJnZXMgdHdvIGRhdGEgb2JqZWN0cyB0b2dldGhlci4KICAgKi8KICBmdW5jdGlvbiBtZXJnZURhdGEgKHRvLCBmcm9tKSB7CiAgICBpZiAoIWZyb20pIHsgcmV0dXJuIHRvIH0KICAgIHZhciBrZXksIHRvVmFsLCBmcm9tVmFsOwoKICAgIHZhciBrZXlzID0gaGFzU3ltYm9sCiAgICAgID8gUmVmbGVjdC5vd25LZXlzKGZyb20pCiAgICAgIDogT2JqZWN0LmtleXMoZnJvbSk7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGtleSA9IGtleXNbaV07CiAgICAgIC8vIGluIGNhc2UgdGhlIG9iamVjdCBpcyBhbHJlYWR5IG9ic2VydmVkLi4uCiAgICAgIGlmIChrZXkgPT09ICdfX29iX18nKSB7IGNvbnRpbnVlIH0KICAgICAgdG9WYWwgPSB0b1trZXldOwogICAgICBmcm9tVmFsID0gZnJvbVtrZXldOwogICAgICBpZiAoIWhhc093bih0bywga2V5KSkgewogICAgICAgIHNldCh0bywga2V5LCBmcm9tVmFsKTsKICAgICAgfSBlbHNlIGlmICgKICAgICAgICB0b1ZhbCAhPT0gZnJvbVZhbCAmJgogICAgICAgIGlzUGxhaW5PYmplY3QodG9WYWwpICYmCiAgICAgICAgaXNQbGFpbk9iamVjdChmcm9tVmFsKQogICAgICApIHsKICAgICAgICBtZXJnZURhdGEodG9WYWwsIGZyb21WYWwpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdG8KICB9CgogIC8qKgogICAqIERhdGEKICAgKi8KICBmdW5jdGlvbiBtZXJnZURhdGFPckZuICgKICAgIHBhcmVudFZhbCwKICAgIGNoaWxkVmFsLAogICAgdm0KICApIHsKICAgIGlmICghdm0pIHsKICAgICAgLy8gaW4gYSBWdWUuZXh0ZW5kIG1lcmdlLCBib3RoIHNob3VsZCBiZSBmdW5jdGlvbnMKICAgICAgaWYgKCFjaGlsZFZhbCkgewogICAgICAgIHJldHVybiBwYXJlbnRWYWwKICAgICAgfQogICAgICBpZiAoIXBhcmVudFZhbCkgewogICAgICAgIHJldHVybiBjaGlsZFZhbAogICAgICB9CiAgICAgIC8vIHdoZW4gcGFyZW50VmFsICYgY2hpbGRWYWwgYXJlIGJvdGggcHJlc2VudCwKICAgICAgLy8gd2UgbmVlZCB0byByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlCiAgICAgIC8vIG1lcmdlZCByZXN1bHQgb2YgYm90aCBmdW5jdGlvbnMuLi4gbm8gbmVlZCB0bwogICAgICAvLyBjaGVjayBpZiBwYXJlbnRWYWwgaXMgYSBmdW5jdGlvbiBoZXJlIGJlY2F1c2UKICAgICAgLy8gaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb24gdG8gcGFzcyBwcmV2aW91cyBtZXJnZXMuCiAgICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4gKCkgewogICAgICAgIHJldHVybiBtZXJnZURhdGEoCiAgICAgICAgICB0eXBlb2YgY2hpbGRWYWwgPT09ICdmdW5jdGlvbicgPyBjaGlsZFZhbC5jYWxsKHRoaXMsIHRoaXMpIDogY2hpbGRWYWwsCiAgICAgICAgICB0eXBlb2YgcGFyZW50VmFsID09PSAnZnVuY3Rpb24nID8gcGFyZW50VmFsLmNhbGwodGhpcywgdGhpcykgOiBwYXJlbnRWYWwKICAgICAgICApCiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWRJbnN0YW5jZURhdGFGbiAoKSB7CiAgICAgICAgLy8gaW5zdGFuY2UgbWVyZ2UKICAgICAgICB2YXIgaW5zdGFuY2VEYXRhID0gdHlwZW9mIGNoaWxkVmFsID09PSAnZnVuY3Rpb24nCiAgICAgICAgICA/IGNoaWxkVmFsLmNhbGwodm0sIHZtKQogICAgICAgICAgOiBjaGlsZFZhbDsKICAgICAgICB2YXIgZGVmYXVsdERhdGEgPSB0eXBlb2YgcGFyZW50VmFsID09PSAnZnVuY3Rpb24nCiAgICAgICAgICA/IHBhcmVudFZhbC5jYWxsKHZtLCB2bSkKICAgICAgICAgIDogcGFyZW50VmFsOwogICAgICAgIGlmIChpbnN0YW5jZURhdGEpIHsKICAgICAgICAgIHJldHVybiBtZXJnZURhdGEoaW5zdGFuY2VEYXRhLCBkZWZhdWx0RGF0YSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGRlZmF1bHREYXRhCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBzdHJhdHMuZGF0YSA9IGZ1bmN0aW9uICgKICAgIHBhcmVudFZhbCwKICAgIGNoaWxkVmFsLAogICAgdm0KICApIHsKICAgIGlmICghdm0pIHsKICAgICAgaWYgKGNoaWxkVmFsICYmIHR5cGVvZiBjaGlsZFZhbCAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHdhcm4oCiAgICAgICAgICAnVGhlICJkYXRhIiBvcHRpb24gc2hvdWxkIGJlIGEgZnVuY3Rpb24gJyArCiAgICAgICAgICAndGhhdCByZXR1cm5zIGEgcGVyLWluc3RhbmNlIHZhbHVlIGluIGNvbXBvbmVudCAnICsKICAgICAgICAgICdkZWZpbml0aW9ucy4nLAogICAgICAgICAgdm0KICAgICAgICApOwoKICAgICAgICByZXR1cm4gcGFyZW50VmFsCiAgICAgIH0KICAgICAgcmV0dXJuIG1lcmdlRGF0YU9yRm4ocGFyZW50VmFsLCBjaGlsZFZhbCkKICAgIH0KCiAgICByZXR1cm4gbWVyZ2VEYXRhT3JGbihwYXJlbnRWYWwsIGNoaWxkVmFsLCB2bSkKICB9OwoKICAvKioKICAgKiBIb29rcyBhbmQgcHJvcHMgYXJlIG1lcmdlZCBhcyBhcnJheXMuCiAgICovCiAgZnVuY3Rpb24gbWVyZ2VIb29rICgKICAgIHBhcmVudFZhbCwKICAgIGNoaWxkVmFsCiAgKSB7CiAgICB2YXIgcmVzID0gY2hpbGRWYWwKICAgICAgPyBwYXJlbnRWYWwKICAgICAgICA/IHBhcmVudFZhbC5jb25jYXQoY2hpbGRWYWwpCiAgICAgICAgOiBBcnJheS5pc0FycmF5KGNoaWxkVmFsKQogICAgICAgICAgPyBjaGlsZFZhbAogICAgICAgICAgOiBbY2hpbGRWYWxdCiAgICAgIDogcGFyZW50VmFsOwogICAgcmV0dXJuIHJlcwogICAgICA/IGRlZHVwZUhvb2tzKHJlcykKICAgICAgOiByZXMKICB9CgogIGZ1bmN0aW9uIGRlZHVwZUhvb2tzIChob29rcykgewogICAgdmFyIHJlcyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykgewogICAgICBpZiAocmVzLmluZGV4T2YoaG9va3NbaV0pID09PSAtMSkgewogICAgICAgIHJlcy5wdXNoKGhvb2tzW2ldKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgTElGRUNZQ0xFX0hPT0tTLmZvckVhY2goZnVuY3Rpb24gKGhvb2spIHsKICAgIHN0cmF0c1tob29rXSA9IG1lcmdlSG9vazsKICB9KTsKCiAgLyoqCiAgICogQXNzZXRzCiAgICoKICAgKiBXaGVuIGEgdm0gaXMgcHJlc2VudCAoaW5zdGFuY2UgY3JlYXRpb24pLCB3ZSBuZWVkIHRvIGRvCiAgICogYSB0aHJlZS13YXkgbWVyZ2UgYmV0d2VlbiBjb25zdHJ1Y3RvciBvcHRpb25zLCBpbnN0YW5jZQogICAqIG9wdGlvbnMgYW5kIHBhcmVudCBvcHRpb25zLgogICAqLwogIGZ1bmN0aW9uIG1lcmdlQXNzZXRzICgKICAgIHBhcmVudFZhbCwKICAgIGNoaWxkVmFsLAogICAgdm0sCiAgICBrZXkKICApIHsKICAgIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKHBhcmVudFZhbCB8fCBudWxsKTsKICAgIGlmIChjaGlsZFZhbCkgewogICAgICBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTsKICAgICAgcmV0dXJuIGV4dGVuZChyZXMsIGNoaWxkVmFsKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHJlcwogICAgfQogIH0KCiAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewogICAgc3RyYXRzW3R5cGUgKyAncyddID0gbWVyZ2VBc3NldHM7CiAgfSk7CgogIC8qKgogICAqIFdhdGNoZXJzLgogICAqCiAgICogV2F0Y2hlcnMgaGFzaGVzIHNob3VsZCBub3Qgb3ZlcndyaXRlIG9uZQogICAqIGFub3RoZXIsIHNvIHdlIG1lcmdlIHRoZW0gYXMgYXJyYXlzLgogICAqLwogIHN0cmF0cy53YXRjaCA9IGZ1bmN0aW9uICgKICAgIHBhcmVudFZhbCwKICAgIGNoaWxkVmFsLAogICAgdm0sCiAgICBrZXkKICApIHsKICAgIC8vIHdvcmsgYXJvdW5kIEZpcmVmb3gncyBPYmplY3QucHJvdG90eXBlLndhdGNoLi4uCiAgICBpZiAocGFyZW50VmFsID09PSBuYXRpdmVXYXRjaCkgeyBwYXJlbnRWYWwgPSB1bmRlZmluZWQ7IH0KICAgIGlmIChjaGlsZFZhbCA9PT0gbmF0aXZlV2F0Y2gpIHsgY2hpbGRWYWwgPSB1bmRlZmluZWQ7IH0KICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKCFjaGlsZFZhbCkgeyByZXR1cm4gT2JqZWN0LmNyZWF0ZShwYXJlbnRWYWwgfHwgbnVsbCkgfQogICAgewogICAgICBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTsKICAgIH0KICAgIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9CiAgICB2YXIgcmV0ID0ge307CiAgICBleHRlbmQocmV0LCBwYXJlbnRWYWwpOwogICAgZm9yICh2YXIga2V5JDEgaW4gY2hpbGRWYWwpIHsKICAgICAgdmFyIHBhcmVudCA9IHJldFtrZXkkMV07CiAgICAgIHZhciBjaGlsZCA9IGNoaWxkVmFsW2tleSQxXTsKICAgICAgaWYgKHBhcmVudCAmJiAhQXJyYXkuaXNBcnJheShwYXJlbnQpKSB7CiAgICAgICAgcGFyZW50ID0gW3BhcmVudF07CiAgICAgIH0KICAgICAgcmV0W2tleSQxXSA9IHBhcmVudAogICAgICAgID8gcGFyZW50LmNvbmNhdChjaGlsZCkKICAgICAgICA6IEFycmF5LmlzQXJyYXkoY2hpbGQpID8gY2hpbGQgOiBbY2hpbGRdOwogICAgfQogICAgcmV0dXJuIHJldAogIH07CgogIC8qKgogICAqIE90aGVyIG9iamVjdCBoYXNoZXMuCiAgICovCiAgc3RyYXRzLnByb3BzID0KICBzdHJhdHMubWV0aG9kcyA9CiAgc3RyYXRzLmluamVjdCA9CiAgc3RyYXRzLmNvbXB1dGVkID0gZnVuY3Rpb24gKAogICAgcGFyZW50VmFsLAogICAgY2hpbGRWYWwsCiAgICB2bSwKICAgIGtleQogICkgewogICAgaWYgKGNoaWxkVmFsICYmICJkZXZlbG9wbWVudCIgIT09ICdwcm9kdWN0aW9uJykgewogICAgICBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTsKICAgIH0KICAgIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9CiAgICB2YXIgcmV0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7CiAgICBpZiAoY2hpbGRWYWwpIHsgZXh0ZW5kKHJldCwgY2hpbGRWYWwpOyB9CiAgICByZXR1cm4gcmV0CiAgfTsKICBzdHJhdHMucHJvdmlkZSA9IG1lcmdlRGF0YU9yRm47CgogIC8qKgogICAqIERlZmF1bHQgc3RyYXRlZ3kuCiAgICovCiAgdmFyIGRlZmF1bHRTdHJhdCA9IGZ1bmN0aW9uIChwYXJlbnRWYWwsIGNoaWxkVmFsKSB7CiAgICByZXR1cm4gY2hpbGRWYWwgPT09IHVuZGVmaW5lZAogICAgICA/IHBhcmVudFZhbAogICAgICA6IGNoaWxkVmFsCiAgfTsKCiAgLyoqCiAgICogVmFsaWRhdGUgY29tcG9uZW50IG5hbWVzCiAgICovCiAgZnVuY3Rpb24gY2hlY2tDb21wb25lbnRzIChvcHRpb25zKSB7CiAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5jb21wb25lbnRzKSB7CiAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShrZXkpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lIChuYW1lKSB7CiAgICBpZiAoIW5ldyBSZWdFeHAoKCJeW2EtekEtWl1bXFwtXFwuMC05XyIgKyAodW5pY29kZVJlZ0V4cC5zb3VyY2UpICsgIl0qJCIpKS50ZXN0KG5hbWUpKSB7CiAgICAgIHdhcm4oCiAgICAgICAgJ0ludmFsaWQgY29tcG9uZW50IG5hbWU6ICInICsgbmFtZSArICciLiBDb21wb25lbnQgbmFtZXMgJyArCiAgICAgICAgJ3Nob3VsZCBjb25mb3JtIHRvIHZhbGlkIGN1c3RvbSBlbGVtZW50IG5hbWUgaW4gaHRtbDUgc3BlY2lmaWNhdGlvbi4nCiAgICAgICk7CiAgICB9CiAgICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGNvbmZpZy5pc1Jlc2VydmVkVGFnKG5hbWUpKSB7CiAgICAgIHdhcm4oCiAgICAgICAgJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgJyArCiAgICAgICAgJ2lkOiAnICsgbmFtZQogICAgICApOwogICAgfQogIH0KCiAgLyoqCiAgICogRW5zdXJlIGFsbCBwcm9wcyBvcHRpb24gc3ludGF4IGFyZSBub3JtYWxpemVkIGludG8gdGhlCiAgICogT2JqZWN0LWJhc2VkIGZvcm1hdC4KICAgKi8KICBmdW5jdGlvbiBub3JtYWxpemVQcm9wcyAob3B0aW9ucywgdm0pIHsKICAgIHZhciBwcm9wcyA9IG9wdGlvbnMucHJvcHM7CiAgICBpZiAoIXByb3BzKSB7IHJldHVybiB9CiAgICB2YXIgcmVzID0ge307CiAgICB2YXIgaSwgdmFsLCBuYW1lOwogICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMpKSB7CiAgICAgIGkgPSBwcm9wcy5sZW5ndGg7CiAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICB2YWwgPSBwcm9wc1tpXTsKICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIG5hbWUgPSBjYW1lbGl6ZSh2YWwpOwogICAgICAgICAgcmVzW25hbWVdID0geyB0eXBlOiBudWxsIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdhcm4oJ3Byb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC4nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChwcm9wcykpIHsKICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7CiAgICAgICAgdmFsID0gcHJvcHNba2V5XTsKICAgICAgICBuYW1lID0gY2FtZWxpemUoa2V5KTsKICAgICAgICByZXNbbmFtZV0gPSBpc1BsYWluT2JqZWN0KHZhbCkKICAgICAgICAgID8gdmFsCiAgICAgICAgICA6IHsgdHlwZTogdmFsIH07CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHdhcm4oCiAgICAgICAgIkludmFsaWQgdmFsdWUgZm9yIG9wdGlvbiBcInByb3BzXCI6IGV4cGVjdGVkIGFuIEFycmF5IG9yIGFuIE9iamVjdCwgIiArCiAgICAgICAgImJ1dCBnb3QgIiArICh0b1Jhd1R5cGUocHJvcHMpKSArICIuIiwKICAgICAgICB2bQogICAgICApOwogICAgfQogICAgb3B0aW9ucy5wcm9wcyA9IHJlczsKICB9CgogIC8qKgogICAqIE5vcm1hbGl6ZSBhbGwgaW5qZWN0aW9ucyBpbnRvIE9iamVjdC1iYXNlZCBmb3JtYXQKICAgKi8KICBmdW5jdGlvbiBub3JtYWxpemVJbmplY3QgKG9wdGlvbnMsIHZtKSB7CiAgICB2YXIgaW5qZWN0ID0gb3B0aW9ucy5pbmplY3Q7CiAgICBpZiAoIWluamVjdCkgeyByZXR1cm4gfQogICAgdmFyIG5vcm1hbGl6ZWQgPSBvcHRpb25zLmluamVjdCA9IHt9OwogICAgaWYgKEFycmF5LmlzQXJyYXkoaW5qZWN0KSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluamVjdC5sZW5ndGg7IGkrKykgewogICAgICAgIG5vcm1hbGl6ZWRbaW5qZWN0W2ldXSA9IHsgZnJvbTogaW5qZWN0W2ldIH07CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChpbmplY3QpKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBpbmplY3QpIHsKICAgICAgICB2YXIgdmFsID0gaW5qZWN0W2tleV07CiAgICAgICAgbm9ybWFsaXplZFtrZXldID0gaXNQbGFpbk9iamVjdCh2YWwpCiAgICAgICAgICA/IGV4dGVuZCh7IGZyb206IGtleSB9LCB2YWwpCiAgICAgICAgICA6IHsgZnJvbTogdmFsIH07CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHdhcm4oCiAgICAgICAgIkludmFsaWQgdmFsdWUgZm9yIG9wdGlvbiBcImluamVjdFwiOiBleHBlY3RlZCBhbiBBcnJheSBvciBhbiBPYmplY3QsICIgKwogICAgICAgICJidXQgZ290ICIgKyAodG9SYXdUeXBlKGluamVjdCkpICsgIi4iLAogICAgICAgIHZtCiAgICAgICk7CiAgICB9CiAgfQoKICAvKioKICAgKiBOb3JtYWxpemUgcmF3IGZ1bmN0aW9uIGRpcmVjdGl2ZXMgaW50byBvYmplY3QgZm9ybWF0LgogICAqLwogIGZ1bmN0aW9uIG5vcm1hbGl6ZURpcmVjdGl2ZXMgKG9wdGlvbnMpIHsKICAgIHZhciBkaXJzID0gb3B0aW9ucy5kaXJlY3RpdmVzOwogICAgaWYgKGRpcnMpIHsKICAgICAgZm9yICh2YXIga2V5IGluIGRpcnMpIHsKICAgICAgICB2YXIgZGVmJCQxID0gZGlyc1trZXldOwogICAgICAgIGlmICh0eXBlb2YgZGVmJCQxID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICBkaXJzW2tleV0gPSB7IGJpbmQ6IGRlZiQkMSwgdXBkYXRlOiBkZWYkJDEgfTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGFzc2VydE9iamVjdFR5cGUgKG5hbWUsIHZhbHVlLCB2bSkgewogICAgaWYgKCFpc1BsYWluT2JqZWN0KHZhbHVlKSkgewogICAgICB3YXJuKAogICAgICAgICJJbnZhbGlkIHZhbHVlIGZvciBvcHRpb24gXCIiICsgbmFtZSArICJcIjogZXhwZWN0ZWQgYW4gT2JqZWN0LCAiICsKICAgICAgICAiYnV0IGdvdCAiICsgKHRvUmF3VHlwZSh2YWx1ZSkpICsgIi4iLAogICAgICAgIHZtCiAgICAgICk7CiAgICB9CiAgfQoKICAvKioKICAgKiBNZXJnZSB0d28gb3B0aW9uIG9iamVjdHMgaW50byBhIG5ldyBvbmUuCiAgICogQ29yZSB1dGlsaXR5IHVzZWQgaW4gYm90aCBpbnN0YW50aWF0aW9uIGFuZCBpbmhlcml0YW5jZS4KICAgKi8KICBmdW5jdGlvbiBtZXJnZU9wdGlvbnMgKAogICAgcGFyZW50LAogICAgY2hpbGQsCiAgICB2bQogICkgewogICAgewogICAgICBjaGVja0NvbXBvbmVudHMoY2hpbGQpOwogICAgfQoKICAgIGlmICh0eXBlb2YgY2hpbGQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgY2hpbGQgPSBjaGlsZC5vcHRpb25zOwogICAgfQoKICAgIG5vcm1hbGl6ZVByb3BzKGNoaWxkLCB2bSk7CiAgICBub3JtYWxpemVJbmplY3QoY2hpbGQsIHZtKTsKICAgIG5vcm1hbGl6ZURpcmVjdGl2ZXMoY2hpbGQpOwoKICAgIC8vIEFwcGx5IGV4dGVuZHMgYW5kIG1peGlucyBvbiB0aGUgY2hpbGQgb3B0aW9ucywKICAgIC8vIGJ1dCBvbmx5IGlmIGl0IGlzIGEgcmF3IG9wdGlvbnMgb2JqZWN0IHRoYXQgaXNuJ3QKICAgIC8vIHRoZSByZXN1bHQgb2YgYW5vdGhlciBtZXJnZU9wdGlvbnMgY2FsbC4KICAgIC8vIE9ubHkgbWVyZ2VkIG9wdGlvbnMgaGFzIHRoZSBfYmFzZSBwcm9wZXJ0eS4KICAgIGlmICghY2hpbGQuX2Jhc2UpIHsKICAgICAgaWYgKGNoaWxkLmV4dGVuZHMpIHsKICAgICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBjaGlsZC5leHRlbmRzLCB2bSk7CiAgICAgIH0KICAgICAgaWYgKGNoaWxkLm1peGlucykgewogICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGQubWl4aW5zLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgcGFyZW50ID0gbWVyZ2VPcHRpb25zKHBhcmVudCwgY2hpbGQubWl4aW5zW2ldLCB2bSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdmFyIG9wdGlvbnMgPSB7fTsKICAgIHZhciBrZXk7CiAgICBmb3IgKGtleSBpbiBwYXJlbnQpIHsKICAgICAgbWVyZ2VGaWVsZChrZXkpOwogICAgfQogICAgZm9yIChrZXkgaW4gY2hpbGQpIHsKICAgICAgaWYgKCFoYXNPd24ocGFyZW50LCBrZXkpKSB7CiAgICAgICAgbWVyZ2VGaWVsZChrZXkpOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBtZXJnZUZpZWxkIChrZXkpIHsKICAgICAgdmFyIHN0cmF0ID0gc3RyYXRzW2tleV0gfHwgZGVmYXVsdFN0cmF0OwogICAgICBvcHRpb25zW2tleV0gPSBzdHJhdChwYXJlbnRba2V5XSwgY2hpbGRba2V5XSwgdm0sIGtleSk7CiAgICB9CiAgICByZXR1cm4gb3B0aW9ucwogIH0KCiAgLyoqCiAgICogUmVzb2x2ZSBhbiBhc3NldC4KICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYmVjYXVzZSBjaGlsZCBpbnN0YW5jZXMgbmVlZCBhY2Nlc3MKICAgKiB0byBhc3NldHMgZGVmaW5lZCBpbiBpdHMgYW5jZXN0b3IgY2hhaW4uCiAgICovCiAgZnVuY3Rpb24gcmVzb2x2ZUFzc2V0ICgKICAgIG9wdGlvbnMsCiAgICB0eXBlLAogICAgaWQsCiAgICB3YXJuTWlzc2luZwogICkgewogICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykgewogICAgICByZXR1cm4KICAgIH0KICAgIHZhciBhc3NldHMgPSBvcHRpb25zW3R5cGVdOwogICAgLy8gY2hlY2sgbG9jYWwgcmVnaXN0cmF0aW9uIHZhcmlhdGlvbnMgZmlyc3QKICAgIGlmIChoYXNPd24oYXNzZXRzLCBpZCkpIHsgcmV0dXJuIGFzc2V0c1tpZF0gfQogICAgdmFyIGNhbWVsaXplZElkID0gY2FtZWxpemUoaWQpOwogICAgaWYgKGhhc093bihhc3NldHMsIGNhbWVsaXplZElkKSkgeyByZXR1cm4gYXNzZXRzW2NhbWVsaXplZElkXSB9CiAgICB2YXIgUGFzY2FsQ2FzZUlkID0gY2FwaXRhbGl6ZShjYW1lbGl6ZWRJZCk7CiAgICBpZiAoaGFzT3duKGFzc2V0cywgUGFzY2FsQ2FzZUlkKSkgeyByZXR1cm4gYXNzZXRzW1Bhc2NhbENhc2VJZF0gfQogICAgLy8gZmFsbGJhY2sgdG8gcHJvdG90eXBlIGNoYWluCiAgICB2YXIgcmVzID0gYXNzZXRzW2lkXSB8fCBhc3NldHNbY2FtZWxpemVkSWRdIHx8IGFzc2V0c1tQYXNjYWxDYXNlSWRdOwogICAgaWYgKHdhcm5NaXNzaW5nICYmICFyZXMpIHsKICAgICAgd2FybigKICAgICAgICAnRmFpbGVkIHRvIHJlc29sdmUgJyArIHR5cGUuc2xpY2UoMCwgLTEpICsgJzogJyArIGlkLAogICAgICAgIG9wdGlvbnMKICAgICAgKTsKICAgIH0KICAgIHJldHVybiByZXMKICB9CgogIC8qICAqLwoKCgogIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcCAoCiAgICBrZXksCiAgICBwcm9wT3B0aW9ucywKICAgIHByb3BzRGF0YSwKICAgIHZtCiAgKSB7CiAgICB2YXIgcHJvcCA9IHByb3BPcHRpb25zW2tleV07CiAgICB2YXIgYWJzZW50ID0gIWhhc093bihwcm9wc0RhdGEsIGtleSk7CiAgICB2YXIgdmFsdWUgPSBwcm9wc0RhdGFba2V5XTsKICAgIC8vIGJvb2xlYW4gY2FzdGluZwogICAgdmFyIGJvb2xlYW5JbmRleCA9IGdldFR5cGVJbmRleChCb29sZWFuLCBwcm9wLnR5cGUpOwogICAgaWYgKGJvb2xlYW5JbmRleCA+IC0xKSB7CiAgICAgIGlmIChhYnNlbnQgJiYgIWhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7CiAgICAgICAgdmFsdWUgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSB7CiAgICAgICAgLy8gb25seSBjYXN0IGVtcHR5IHN0cmluZyAvIHNhbWUgbmFtZSB0byBib29sZWFuIGlmCiAgICAgICAgLy8gYm9vbGVhbiBoYXMgaGlnaGVyIHByaW9yaXR5CiAgICAgICAgdmFyIHN0cmluZ0luZGV4ID0gZ2V0VHlwZUluZGV4KFN0cmluZywgcHJvcC50eXBlKTsKICAgICAgICBpZiAoc3RyaW5nSW5kZXggPCAwIHx8IGJvb2xlYW5JbmRleCA8IHN0cmluZ0luZGV4KSB7CiAgICAgICAgICB2YWx1ZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvLyBjaGVjayBkZWZhdWx0IHZhbHVlCiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICB2YWx1ZSA9IGdldFByb3BEZWZhdWx0VmFsdWUodm0sIHByb3AsIGtleSk7CiAgICAgIC8vIHNpbmNlIHRoZSBkZWZhdWx0IHZhbHVlIGlzIGEgZnJlc2ggY29weSwKICAgICAgLy8gbWFrZSBzdXJlIHRvIG9ic2VydmUgaXQuCiAgICAgIHZhciBwcmV2U2hvdWxkT2JzZXJ2ZSA9IHNob3VsZE9ic2VydmU7CiAgICAgIHRvZ2dsZU9ic2VydmluZyh0cnVlKTsKICAgICAgb2JzZXJ2ZSh2YWx1ZSk7CiAgICAgIHRvZ2dsZU9ic2VydmluZyhwcmV2U2hvdWxkT2JzZXJ2ZSk7CiAgICB9CiAgICB7CiAgICAgIGFzc2VydFByb3AocHJvcCwga2V5LCB2YWx1ZSwgdm0sIGFic2VudCk7CiAgICB9CiAgICByZXR1cm4gdmFsdWUKICB9CgogIC8qKgogICAqIEdldCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIHByb3AuCiAgICovCiAgZnVuY3Rpb24gZ2V0UHJvcERlZmF1bHRWYWx1ZSAodm0sIHByb3AsIGtleSkgewogICAgLy8gbm8gZGVmYXVsdCwgcmV0dXJuIHVuZGVmaW5lZAogICAgaWYgKCFoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkgewogICAgICByZXR1cm4gdW5kZWZpbmVkCiAgICB9CiAgICB2YXIgZGVmID0gcHJvcC5kZWZhdWx0OwogICAgLy8gd2FybiBhZ2FpbnN0IG5vbi1mYWN0b3J5IGRlZmF1bHRzIGZvciBPYmplY3QgJiBBcnJheQogICAgaWYgKGlzT2JqZWN0KGRlZikpIHsKICAgICAgd2FybigKICAgICAgICAnSW52YWxpZCBkZWZhdWx0IHZhbHVlIGZvciBwcm9wICInICsga2V5ICsgJyI6ICcgKwogICAgICAgICdQcm9wcyB3aXRoIHR5cGUgT2JqZWN0L0FycmF5IG11c3QgdXNlIGEgZmFjdG9yeSBmdW5jdGlvbiAnICsKICAgICAgICAndG8gcmV0dXJuIHRoZSBkZWZhdWx0IHZhbHVlLicsCiAgICAgICAgdm0KICAgICAgKTsKICAgIH0KICAgIC8vIHRoZSByYXcgcHJvcCB2YWx1ZSB3YXMgYWxzbyB1bmRlZmluZWQgZnJvbSBwcmV2aW91cyByZW5kZXIsCiAgICAvLyByZXR1cm4gcHJldmlvdXMgZGVmYXVsdCB2YWx1ZSB0byBhdm9pZCB1bm5lY2Vzc2FyeSB3YXRjaGVyIHRyaWdnZXIKICAgIGlmICh2bSAmJiB2bS4kb3B0aW9ucy5wcm9wc0RhdGEgJiYKICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhW2tleV0gPT09IHVuZGVmaW5lZCAmJgogICAgICB2bS5fcHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkCiAgICApIHsKICAgICAgcmV0dXJuIHZtLl9wcm9wc1trZXldCiAgICB9CiAgICAvLyBjYWxsIGZhY3RvcnkgZnVuY3Rpb24gZm9yIG5vbi1GdW5jdGlvbiB0eXBlcwogICAgLy8gYSB2YWx1ZSBpcyBGdW5jdGlvbiBpZiBpdHMgcHJvdG90eXBlIGlzIGZ1bmN0aW9uIGV2ZW4gYWNyb3NzIGRpZmZlcmVudCBleGVjdXRpb24gY29udGV4dAogICAgcmV0dXJuIHR5cGVvZiBkZWYgPT09ICdmdW5jdGlvbicgJiYgZ2V0VHlwZShwcm9wLnR5cGUpICE9PSAnRnVuY3Rpb24nCiAgICAgID8gZGVmLmNhbGwodm0pCiAgICAgIDogZGVmCiAgfQoKICAvKioKICAgKiBBc3NlcnQgd2hldGhlciBhIHByb3AgaXMgdmFsaWQuCiAgICovCiAgZnVuY3Rpb24gYXNzZXJ0UHJvcCAoCiAgICBwcm9wLAogICAgbmFtZSwKICAgIHZhbHVlLAogICAgdm0sCiAgICBhYnNlbnQKICApIHsKICAgIGlmIChwcm9wLnJlcXVpcmVkICYmIGFic2VudCkgewogICAgICB3YXJuKAogICAgICAgICdNaXNzaW5nIHJlcXVpcmVkIHByb3A6ICInICsgbmFtZSArICciJywKICAgICAgICB2bQogICAgICApOwogICAgICByZXR1cm4KICAgIH0KICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICFwcm9wLnJlcXVpcmVkKSB7CiAgICAgIHJldHVybgogICAgfQogICAgdmFyIHR5cGUgPSBwcm9wLnR5cGU7CiAgICB2YXIgdmFsaWQgPSAhdHlwZSB8fCB0eXBlID09PSB0cnVlOwogICAgdmFyIGV4cGVjdGVkVHlwZXMgPSBbXTsKICAgIGlmICh0eXBlKSB7CiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0eXBlKSkgewogICAgICAgIHR5cGUgPSBbdHlwZV07CiAgICAgIH0KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aCAmJiAhdmFsaWQ7IGkrKykgewogICAgICAgIHZhciBhc3NlcnRlZFR5cGUgPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlW2ldKTsKICAgICAgICBleHBlY3RlZFR5cGVzLnB1c2goYXNzZXJ0ZWRUeXBlLmV4cGVjdGVkVHlwZSB8fCAnJyk7CiAgICAgICAgdmFsaWQgPSBhc3NlcnRlZFR5cGUudmFsaWQ7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIXZhbGlkKSB7CiAgICAgIHdhcm4oCiAgICAgICAgZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSwKICAgICAgICB2bQogICAgICApOwogICAgICByZXR1cm4KICAgIH0KICAgIHZhciB2YWxpZGF0b3IgPSBwcm9wLnZhbGlkYXRvcjsKICAgIGlmICh2YWxpZGF0b3IpIHsKICAgICAgaWYgKCF2YWxpZGF0b3IodmFsdWUpKSB7CiAgICAgICAgd2FybigKICAgICAgICAgICdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wICInICsgbmFtZSArICciLicsCiAgICAgICAgICB2bQogICAgICAgICk7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciBzaW1wbGVDaGVja1JFID0gL14oU3RyaW5nfE51bWJlcnxCb29sZWFufEZ1bmN0aW9ufFN5bWJvbCkkLzsKCiAgZnVuY3Rpb24gYXNzZXJ0VHlwZSAodmFsdWUsIHR5cGUpIHsKICAgIHZhciB2YWxpZDsKICAgIHZhciBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpOwogICAgaWYgKHNpbXBsZUNoZWNrUkUudGVzdChleHBlY3RlZFR5cGUpKSB7CiAgICAgIHZhciB0ID0gdHlwZW9mIHZhbHVlOwogICAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpOwogICAgICAvLyBmb3IgcHJpbWl0aXZlIHdyYXBwZXIgb2JqZWN0cwogICAgICBpZiAoIXZhbGlkICYmIHQgPT09ICdvYmplY3QnKSB7CiAgICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnT2JqZWN0JykgewogICAgICB2YWxpZCA9IGlzUGxhaW5PYmplY3QodmFsdWUpOwogICAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdBcnJheScpIHsKICAgICAgdmFsaWQgPSBBcnJheS5pc0FycmF5KHZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlOwogICAgfQogICAgcmV0dXJuIHsKICAgICAgdmFsaWQ6IHZhbGlkLAogICAgICBleHBlY3RlZFR5cGU6IGV4cGVjdGVkVHlwZQogICAgfQogIH0KCiAgLyoqCiAgICogVXNlIGZ1bmN0aW9uIHN0cmluZyBuYW1lIHRvIGNoZWNrIGJ1aWx0LWluIHR5cGVzLAogICAqIGJlY2F1c2UgYSBzaW1wbGUgZXF1YWxpdHkgY2hlY2sgd2lsbCBmYWlsIHdoZW4gcnVubmluZwogICAqIGFjcm9zcyBkaWZmZXJlbnQgdm1zIC8gaWZyYW1lcy4KICAgKi8KICBmdW5jdGlvbiBnZXRUeXBlIChmbikgewogICAgdmFyIG1hdGNoID0gZm4gJiYgZm4udG9TdHJpbmcoKS5tYXRjaCgvXlxzKmZ1bmN0aW9uIChcdyspLyk7CiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6ICcnCiAgfQoKICBmdW5jdGlvbiBpc1NhbWVUeXBlIChhLCBiKSB7CiAgICByZXR1cm4gZ2V0VHlwZShhKSA9PT0gZ2V0VHlwZShiKQogIH0KCiAgZnVuY3Rpb24gZ2V0VHlwZUluZGV4ICh0eXBlLCBleHBlY3RlZFR5cGVzKSB7CiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRUeXBlcykpIHsKICAgICAgcmV0dXJuIGlzU2FtZVR5cGUoZXhwZWN0ZWRUeXBlcywgdHlwZSkgPyAwIDogLTEKICAgIH0KICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBleHBlY3RlZFR5cGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgIGlmIChpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXNbaV0sIHR5cGUpKSB7CiAgICAgICAgcmV0dXJuIGkKICAgICAgfQogICAgfQogICAgcmV0dXJuIC0xCiAgfQoKICBmdW5jdGlvbiBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UgKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7CiAgICB2YXIgbWVzc2FnZSA9ICJJbnZhbGlkIHByb3A6IHR5cGUgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiIiArIG5hbWUgKyAiXCIuIiArCiAgICAgICIgRXhwZWN0ZWQgIiArIChleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKCcsICcpKTsKICAgIHZhciBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdOwogICAgdmFyIHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7CiAgICB2YXIgZXhwZWN0ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIGV4cGVjdGVkVHlwZSk7CiAgICB2YXIgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7CiAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIHNwZWNpZnkgZXhwZWN0ZWQgdmFsdWUKICAgIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJgogICAgICAgIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmCiAgICAgICAgIWlzQm9vbGVhbihleHBlY3RlZFR5cGUsIHJlY2VpdmVkVHlwZSkpIHsKICAgICAgbWVzc2FnZSArPSAiIHdpdGggdmFsdWUgIiArIGV4cGVjdGVkVmFsdWU7CiAgICB9CiAgICBtZXNzYWdlICs9ICIsIGdvdCAiICsgcmVjZWl2ZWRUeXBlICsgIiAiOwogICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IHJlY2VpdmVkIHZhbHVlCiAgICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHsKICAgICAgbWVzc2FnZSArPSAid2l0aCB2YWx1ZSAiICsgcmVjZWl2ZWRWYWx1ZSArICIuIjsKICAgIH0KICAgIHJldHVybiBtZXNzYWdlCiAgfQoKICBmdW5jdGlvbiBzdHlsZVZhbHVlICh2YWx1ZSwgdHlwZSkgewogICAgaWYgKHR5cGUgPT09ICdTdHJpbmcnKSB7CiAgICAgIHJldHVybiAoIlwiIiArIHZhbHVlICsgIlwiIikKICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ051bWJlcicpIHsKICAgICAgcmV0dXJuICgiIiArIChOdW1iZXIodmFsdWUpKSkKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAoIiIgKyB2YWx1ZSkKICAgIH0KICB9CgogIGZ1bmN0aW9uIGlzRXhwbGljYWJsZSAodmFsdWUpIHsKICAgIHZhciBleHBsaWNpdFR5cGVzID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXTsKICAgIHJldHVybiBleHBsaWNpdFR5cGVzLnNvbWUoZnVuY3Rpb24gKGVsZW0pIHsgcmV0dXJuIHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW07IH0pCiAgfQoKICBmdW5jdGlvbiBpc0Jvb2xlYW4gKCkgewogICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsKICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07CgogICAgcmV0dXJuIGFyZ3Muc29tZShmdW5jdGlvbiAoZWxlbSkgeyByZXR1cm4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSAnYm9vbGVhbic7IH0pCiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaGFuZGxlRXJyb3IgKGVyciwgdm0sIGluZm8pIHsKICAgIC8vIERlYWN0aXZhdGUgZGVwcyB0cmFja2luZyB3aGlsZSBwcm9jZXNzaW5nIGVycm9yIGhhbmRsZXIgdG8gYXZvaWQgcG9zc2libGUgaW5maW5pdGUgcmVuZGVyaW5nLgogICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVleC9pc3N1ZXMvMTUwNQogICAgcHVzaFRhcmdldCgpOwogICAgdHJ5IHsKICAgICAgaWYgKHZtKSB7CiAgICAgICAgdmFyIGN1ciA9IHZtOwogICAgICAgIHdoaWxlICgoY3VyID0gY3VyLiRwYXJlbnQpKSB7CiAgICAgICAgICB2YXIgaG9va3MgPSBjdXIuJG9wdGlvbnMuZXJyb3JDYXB0dXJlZDsKICAgICAgICAgIGlmIChob29rcykgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHZhciBjYXB0dXJlID0gaG9va3NbaV0uY2FsbChjdXIsIGVyciwgdm0sIGluZm8pID09PSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmIChjYXB0dXJlKSB7IHJldHVybiB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgZ2xvYmFsSGFuZGxlRXJyb3IoZSwgY3VyLCAnZXJyb3JDYXB0dXJlZCBob29rJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGdsb2JhbEhhbmRsZUVycm9yKGVyciwgdm0sIGluZm8pOwogICAgfSBmaW5hbGx5IHsKICAgICAgcG9wVGFyZ2V0KCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyAoCiAgICBoYW5kbGVyLAogICAgY29udGV4dCwKICAgIGFyZ3MsCiAgICB2bSwKICAgIGluZm8KICApIHsKICAgIHZhciByZXM7CiAgICB0cnkgewogICAgICByZXMgPSBhcmdzID8gaGFuZGxlci5hcHBseShjb250ZXh0LCBhcmdzKSA6IGhhbmRsZXIuY2FsbChjb250ZXh0KTsKICAgICAgaWYgKHJlcyAmJiAhcmVzLl9pc1Z1ZSAmJiBpc1Byb21pc2UocmVzKSAmJiAhcmVzLl9oYW5kbGVkKSB7CiAgICAgICAgcmVzLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBoYW5kbGVFcnJvcihlLCB2bSwgaW5mbyArICIgKFByb21pc2UvYXN5bmMpIik7IH0pOwogICAgICAgIC8vIGlzc3VlICM5NTExCiAgICAgICAgLy8gYXZvaWQgY2F0Y2ggdHJpZ2dlcmluZyBtdWx0aXBsZSB0aW1lcyB3aGVuIG5lc3RlZCBjYWxscwogICAgICAgIHJlcy5faGFuZGxlZCA9IHRydWU7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sIGluZm8pOwogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gZ2xvYmFsSGFuZGxlRXJyb3IgKGVyciwgdm0sIGluZm8pIHsKICAgIGlmIChjb25maWcuZXJyb3JIYW5kbGVyKSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGNvbmZpZy5lcnJvckhhbmRsZXIuY2FsbChudWxsLCBlcnIsIHZtLCBpbmZvKQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gaWYgdGhlIHVzZXIgaW50ZW50aW9uYWxseSB0aHJvd3MgdGhlIG9yaWdpbmFsIGVycm9yIGluIHRoZSBoYW5kbGVyLAogICAgICAgIC8vIGRvIG5vdCBsb2cgaXQgdHdpY2UKICAgICAgICBpZiAoZSAhPT0gZXJyKSB7CiAgICAgICAgICBsb2dFcnJvcihlLCBudWxsLCAnY29uZmlnLmVycm9ySGFuZGxlcicpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgbG9nRXJyb3IoZXJyLCB2bSwgaW5mbyk7CiAgfQoKICBmdW5jdGlvbiBsb2dFcnJvciAoZXJyLCB2bSwgaW5mbykgewogICAgewogICAgICB3YXJuKCgiRXJyb3IgaW4gIiArIGluZm8gKyAiOiBcIiIgKyAoZXJyLnRvU3RyaW5nKCkpICsgIlwiIiksIHZtKTsKICAgIH0KICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICBpZiAoKGluQnJvd3NlciB8fCBpbldlZXgpICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykgewogICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBlcnIKICAgIH0KICB9CgogIC8qICAqLwoKICB2YXIgaXNVc2luZ01pY3JvVGFzayA9IGZhbHNlOwoKICB2YXIgY2FsbGJhY2tzID0gW107CiAgdmFyIHBlbmRpbmcgPSBmYWxzZTsKCiAgZnVuY3Rpb24gZmx1c2hDYWxsYmFja3MgKCkgewogICAgcGVuZGluZyA9IGZhbHNlOwogICAgdmFyIGNvcGllcyA9IGNhbGxiYWNrcy5zbGljZSgwKTsKICAgIGNhbGxiYWNrcy5sZW5ndGggPSAwOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3BpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29waWVzW2ldKCk7CiAgICB9CiAgfQoKICAvLyBIZXJlIHdlIGhhdmUgYXN5bmMgZGVmZXJyaW5nIHdyYXBwZXJzIHVzaW5nIG1pY3JvdGFza3MuCiAgLy8gSW4gMi41IHdlIHVzZWQgKG1hY3JvKSB0YXNrcyAoaW4gY29tYmluYXRpb24gd2l0aCBtaWNyb3Rhc2tzKS4KICAvLyBIb3dldmVyLCBpdCBoYXMgc3VidGxlIHByb2JsZW1zIHdoZW4gc3RhdGUgaXMgY2hhbmdlZCByaWdodCBiZWZvcmUgcmVwYWludAogIC8vIChlLmcuICM2ODEzLCBvdXQtaW4gdHJhbnNpdGlvbnMpLgogIC8vIEFsc28sIHVzaW5nIChtYWNybykgdGFza3MgaW4gZXZlbnQgaGFuZGxlciB3b3VsZCBjYXVzZSBzb21lIHdlaXJkIGJlaGF2aW9ycwogIC8vIHRoYXQgY2Fubm90IGJlIGNpcmN1bXZlbnRlZCAoZS5nLiAjNzEwOSwgIzcxNTMsICM3NTQ2LCAjNzgzNCwgIzgxMDkpLgogIC8vIFNvIHdlIG5vdyB1c2UgbWljcm90YXNrcyBldmVyeXdoZXJlLCBhZ2Fpbi4KICAvLyBBIG1ham9yIGRyYXdiYWNrIG9mIHRoaXMgdHJhZGVvZmYgaXMgdGhhdCB0aGVyZSBhcmUgc29tZSBzY2VuYXJpb3MKICAvLyB3aGVyZSBtaWNyb3Rhc2tzIGhhdmUgdG9vIGhpZ2ggYSBwcmlvcml0eSBhbmQgZmlyZSBpbiBiZXR3ZWVuIHN1cHBvc2VkbHkKICAvLyBzZXF1ZW50aWFsIGV2ZW50cyAoZS5nLiAjNDUyMSwgIzY2OTAsIHdoaWNoIGhhdmUgd29ya2Fyb3VuZHMpCiAgLy8gb3IgZXZlbiBiZXR3ZWVuIGJ1YmJsaW5nIG9mIHRoZSBzYW1lIGV2ZW50ICgjNjU2NikuCiAgdmFyIHRpbWVyRnVuYzsKCiAgLy8gVGhlIG5leHRUaWNrIGJlaGF2aW9yIGxldmVyYWdlcyB0aGUgbWljcm90YXNrIHF1ZXVlLCB3aGljaCBjYW4gYmUgYWNjZXNzZWQKICAvLyB2aWEgZWl0aGVyIG5hdGl2ZSBQcm9taXNlLnRoZW4gb3IgTXV0YXRpb25PYnNlcnZlci4KICAvLyBNdXRhdGlvbk9ic2VydmVyIGhhcyB3aWRlciBzdXBwb3J0LCBob3dldmVyIGl0IGlzIHNlcmlvdXNseSBidWdnZWQgaW4KICAvLyBVSVdlYlZpZXcgaW4gaU9TID49IDkuMy4zIHdoZW4gdHJpZ2dlcmVkIGluIHRvdWNoIGV2ZW50IGhhbmRsZXJzLiBJdAogIC8vIGNvbXBsZXRlbHkgc3RvcHMgd29ya2luZyBhZnRlciB0cmlnZ2VyaW5nIGEgZmV3IHRpbWVzLi4uIHNvLCBpZiBuYXRpdmUKICAvLyBQcm9taXNlIGlzIGF2YWlsYWJsZSwgd2Ugd2lsbCB1c2UgaXQ6CiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQsICRmbG93LWRpc2FibGUtbGluZSAqLwogIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUHJvbWlzZSkpIHsKICAgIHZhciBwID0gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHAudGhlbihmbHVzaENhbGxiYWNrcyk7CiAgICAgIC8vIEluIHByb2JsZW1hdGljIFVJV2ViVmlld3MsIFByb21pc2UudGhlbiBkb2Vzbid0IGNvbXBsZXRlbHkgYnJlYWssIGJ1dAogICAgICAvLyBpdCBjYW4gZ2V0IHN0dWNrIGluIGEgd2VpcmQgc3RhdGUgd2hlcmUgY2FsbGJhY2tzIGFyZSBwdXNoZWQgaW50byB0aGUKICAgICAgLy8gbWljcm90YXNrIHF1ZXVlIGJ1dCB0aGUgcXVldWUgaXNuJ3QgYmVpbmcgZmx1c2hlZCwgdW50aWwgdGhlIGJyb3dzZXIKICAgICAgLy8gbmVlZHMgdG8gZG8gc29tZSBvdGhlciB3b3JrLCBlLmcuIGhhbmRsZSBhIHRpbWVyLiBUaGVyZWZvcmUgd2UgY2FuCiAgICAgIC8vICJmb3JjZSIgdGhlIG1pY3JvdGFzayBxdWV1ZSB0byBiZSBmbHVzaGVkIGJ5IGFkZGluZyBhbiBlbXB0eSB0aW1lci4KICAgICAgaWYgKGlzSU9TKSB7IHNldFRpbWVvdXQobm9vcCk7IH0KICAgIH07CiAgICBpc1VzaW5nTWljcm9UYXNrID0gdHJ1ZTsKICB9IGVsc2UgaWYgKCFpc0lFICYmIHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJyAmJiAoCiAgICBpc05hdGl2ZShNdXRhdGlvbk9ic2VydmVyKSB8fAogICAgLy8gUGhhbnRvbUpTIGFuZCBpT1MgNy54CiAgICBNdXRhdGlvbk9ic2VydmVyLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0nCiAgKSkgewogICAgLy8gVXNlIE11dGF0aW9uT2JzZXJ2ZXIgd2hlcmUgbmF0aXZlIFByb21pc2UgaXMgbm90IGF2YWlsYWJsZSwKICAgIC8vIGUuZy4gUGhhbnRvbUpTLCBpT1M3LCBBbmRyb2lkIDQuNAogICAgLy8gKCM2NDY2IE11dGF0aW9uT2JzZXJ2ZXIgaXMgdW5yZWxpYWJsZSBpbiBJRTExKQogICAgdmFyIGNvdW50ZXIgPSAxOwogICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZmx1c2hDYWxsYmFja3MpOwogICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKGNvdW50ZXIpKTsKICAgIG9ic2VydmVyLm9ic2VydmUodGV4dE5vZGUsIHsKICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZQogICAgfSk7CiAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGNvdW50ZXIgPSAoY291bnRlciArIDEpICUgMjsKICAgICAgdGV4dE5vZGUuZGF0YSA9IFN0cmluZyhjb3VudGVyKTsKICAgIH07CiAgICBpc1VzaW5nTWljcm9UYXNrID0gdHJ1ZTsKICB9IGVsc2UgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKHNldEltbWVkaWF0ZSkpIHsKICAgIC8vIEZhbGxiYWNrIHRvIHNldEltbWVkaWF0ZS4KICAgIC8vIFRlY2hpbmljYWxseSBpdCBsZXZlcmFnZXMgdGhlIChtYWNybykgdGFzayBxdWV1ZSwKICAgIC8vIGJ1dCBpdCBpcyBzdGlsbCBhIGJldHRlciBjaG9pY2UgdGhhbiBzZXRUaW1lb3V0LgogICAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkgewogICAgICBzZXRJbW1lZGlhdGUoZmx1c2hDYWxsYmFja3MpOwogICAgfTsKICB9IGVsc2UgewogICAgLy8gRmFsbGJhY2sgdG8gc2V0VGltZW91dC4KICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHsKICAgICAgc2V0VGltZW91dChmbHVzaENhbGxiYWNrcywgMCk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gbmV4dFRpY2sgKGNiLCBjdHgpIHsKICAgIHZhciBfcmVzb2x2ZTsKICAgIGNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKGNiKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNiLmNhbGwoY3R4KTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBoYW5kbGVFcnJvcihlLCBjdHgsICduZXh0VGljaycpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChfcmVzb2x2ZSkgewogICAgICAgIF9yZXNvbHZlKGN0eCk7CiAgICAgIH0KICAgIH0pOwogICAgaWYgKCFwZW5kaW5nKSB7CiAgICAgIHBlbmRpbmcgPSB0cnVlOwogICAgICB0aW1lckZ1bmMoKTsKICAgIH0KICAgIC8vICRmbG93LWRpc2FibGUtbGluZQogICAgaWYgKCFjYiAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgX3Jlc29sdmUgPSByZXNvbHZlOwogICAgICB9KQogICAgfQogIH0KCiAgLyogICovCgogIHZhciBtYXJrOwogIHZhciBtZWFzdXJlOwoKICB7CiAgICB2YXIgcGVyZiA9IGluQnJvd3NlciAmJiB3aW5kb3cucGVyZm9ybWFuY2U7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmICgKICAgICAgcGVyZiAmJgogICAgICBwZXJmLm1hcmsgJiYKICAgICAgcGVyZi5tZWFzdXJlICYmCiAgICAgIHBlcmYuY2xlYXJNYXJrcyAmJgogICAgICBwZXJmLmNsZWFyTWVhc3VyZXMKICAgICkgewogICAgICBtYXJrID0gZnVuY3Rpb24gKHRhZykgeyByZXR1cm4gcGVyZi5tYXJrKHRhZyk7IH07CiAgICAgIG1lYXN1cmUgPSBmdW5jdGlvbiAobmFtZSwgc3RhcnRUYWcsIGVuZFRhZykgewogICAgICAgIHBlcmYubWVhc3VyZShuYW1lLCBzdGFydFRhZywgZW5kVGFnKTsKICAgICAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpOwogICAgICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpOwogICAgICAgIC8vIHBlcmYuY2xlYXJNZWFzdXJlcyhuYW1lKQogICAgICB9OwogICAgfQogIH0KCiAgLyogbm90IHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgZmxvdyBkb2Vzbid0IHBsYXkgd2VsbCB3aXRoIFByb3h5ICovCgogIHZhciBpbml0UHJveHk7CgogIHsKICAgIHZhciBhbGxvd2VkR2xvYmFscyA9IG1ha2VNYXAoCiAgICAgICdJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLCcgKwogICAgICAncGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsJyArCiAgICAgICdNYXRoLE51bWJlcixEYXRlLEFycmF5LE9iamVjdCxCb29sZWFuLFN0cmluZyxSZWdFeHAsTWFwLFNldCxKU09OLEludGwsJyArCiAgICAgICdyZXF1aXJlJyAvLyBmb3IgV2VicGFjay9Ccm93c2VyaWZ5CiAgICApOwoKICAgIHZhciB3YXJuTm9uUHJlc2VudCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgewogICAgICB3YXJuKAogICAgICAgICJQcm9wZXJ0eSBvciBtZXRob2QgXCIiICsga2V5ICsgIlwiIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBpbnN0YW5jZSBidXQgIiArCiAgICAgICAgJ3JlZmVyZW5jZWQgZHVyaW5nIHJlbmRlci4gTWFrZSBzdXJlIHRoYXQgdGhpcyBwcm9wZXJ0eSBpcyByZWFjdGl2ZSwgJyArCiAgICAgICAgJ2VpdGhlciBpbiB0aGUgZGF0YSBvcHRpb24sIG9yIGZvciBjbGFzcy1iYXNlZCBjb21wb25lbnRzLCBieSAnICsKICAgICAgICAnaW5pdGlhbGl6aW5nIHRoZSBwcm9wZXJ0eS4gJyArCiAgICAgICAgJ1NlZTogaHR0cHM6Ly92dWVqcy5vcmcvdjIvZ3VpZGUvcmVhY3Rpdml0eS5odG1sI0RlY2xhcmluZy1SZWFjdGl2ZS1Qcm9wZXJ0aWVzLicsCiAgICAgICAgdGFyZ2V0CiAgICAgICk7CiAgICB9OwoKICAgIHZhciB3YXJuUmVzZXJ2ZWRQcmVmaXggPSBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsKICAgICAgd2FybigKICAgICAgICAiUHJvcGVydHkgXCIiICsga2V5ICsgIlwiIG11c3QgYmUgYWNjZXNzZWQgd2l0aCBcIiRkYXRhLiIgKyBrZXkgKyAiXCIgYmVjYXVzZSAiICsKICAgICAgICAncHJvcGVydGllcyBzdGFydGluZyB3aXRoICIkIiBvciAiXyIgYXJlIG5vdCBwcm94aWVkIGluIHRoZSBWdWUgaW5zdGFuY2UgdG8gJyArCiAgICAgICAgJ3ByZXZlbnQgY29uZmxpY3RzIHdpdGggVnVlIGludGVybmFscycgKwogICAgICAgICdTZWU6IGh0dHBzOi8vdnVlanMub3JnL3YyL2FwaS8jZGF0YScsCiAgICAgICAgdGFyZ2V0CiAgICAgICk7CiAgICB9OwoKICAgIHZhciBoYXNQcm94eSA9CiAgICAgIHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUHJveHkpOwoKICAgIGlmIChoYXNQcm94eSkgewogICAgICB2YXIgaXNCdWlsdEluTW9kaWZpZXIgPSBtYWtlTWFwKCdzdG9wLHByZXZlbnQsc2VsZixjdHJsLHNoaWZ0LGFsdCxtZXRhLGV4YWN0Jyk7CiAgICAgIGNvbmZpZy5rZXlDb2RlcyA9IG5ldyBQcm94eShjb25maWcua2V5Q29kZXMsIHsKICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCAodGFyZ2V0LCBrZXksIHZhbHVlKSB7CiAgICAgICAgICBpZiAoaXNCdWlsdEluTW9kaWZpZXIoa2V5KSkgewogICAgICAgICAgICB3YXJuKCgiQXZvaWQgb3ZlcndyaXRpbmcgYnVpbHQtaW4gbW9kaWZpZXIgaW4gY29uZmlnLmtleUNvZGVzOiAuIiArIGtleSkpOwogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7CiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICB2YXIgaGFzSGFuZGxlciA9IHsKICAgICAgaGFzOiBmdW5jdGlvbiBoYXMgKHRhcmdldCwga2V5KSB7CiAgICAgICAgdmFyIGhhcyA9IGtleSBpbiB0YXJnZXQ7CiAgICAgICAgdmFyIGlzQWxsb3dlZCA9IGFsbG93ZWRHbG9iYWxzKGtleSkgfHwKICAgICAgICAgICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXkuY2hhckF0KDApID09PSAnXycgJiYgIShrZXkgaW4gdGFyZ2V0LiRkYXRhKSk7CiAgICAgICAgaWYgKCFoYXMgJiYgIWlzQWxsb3dlZCkgewogICAgICAgICAgaWYgKGtleSBpbiB0YXJnZXQuJGRhdGEpIHsgd2FyblJlc2VydmVkUHJlZml4KHRhcmdldCwga2V5KTsgfQogICAgICAgICAgZWxzZSB7IHdhcm5Ob25QcmVzZW50KHRhcmdldCwga2V5KTsgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gaGFzIHx8ICFpc0FsbG93ZWQKICAgICAgfQogICAgfTsKCiAgICB2YXIgZ2V0SGFuZGxlciA9IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQgKHRhcmdldCwga2V5KSB7CiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmICEoa2V5IGluIHRhcmdldCkpIHsKICAgICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0LiRkYXRhKSB7IHdhcm5SZXNlcnZlZFByZWZpeCh0YXJnZXQsIGtleSk7IH0KICAgICAgICAgIGVsc2UgeyB3YXJuTm9uUHJlc2VudCh0YXJnZXQsIGtleSk7IH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldCiAgICAgIH0KICAgIH07CgogICAgaW5pdFByb3h5ID0gZnVuY3Rpb24gaW5pdFByb3h5ICh2bSkgewogICAgICBpZiAoaGFzUHJveHkpIHsKICAgICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggcHJveHkgaGFuZGxlciB0byB1c2UKICAgICAgICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zOwogICAgICAgIHZhciBoYW5kbGVycyA9IG9wdGlvbnMucmVuZGVyICYmIG9wdGlvbnMucmVuZGVyLl93aXRoU3RyaXBwZWQKICAgICAgICAgID8gZ2V0SGFuZGxlcgogICAgICAgICAgOiBoYXNIYW5kbGVyOwogICAgICAgIHZtLl9yZW5kZXJQcm94eSA9IG5ldyBQcm94eSh2bSwgaGFuZGxlcnMpOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLl9yZW5kZXJQcm94eSA9IHZtOwogICAgICB9CiAgICB9OwogIH0KCiAgLyogICovCgogIHZhciBzZWVuT2JqZWN0cyA9IG5ldyBfU2V0KCk7CgogIC8qKgogICAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIGFuIG9iamVjdCB0byBldm9rZSBhbGwgY29udmVydGVkCiAgICogZ2V0dGVycywgc28gdGhhdCBldmVyeSBuZXN0ZWQgcHJvcGVydHkgaW5zaWRlIHRoZSBvYmplY3QKICAgKiBpcyBjb2xsZWN0ZWQgYXMgYSAiZGVlcCIgZGVwZW5kZW5jeS4KICAgKi8KICBmdW5jdGlvbiB0cmF2ZXJzZSAodmFsKSB7CiAgICBfdHJhdmVyc2UodmFsLCBzZWVuT2JqZWN0cyk7CiAgICBzZWVuT2JqZWN0cy5jbGVhcigpOwogIH0KCiAgZnVuY3Rpb24gX3RyYXZlcnNlICh2YWwsIHNlZW4pIHsKICAgIHZhciBpLCBrZXlzOwogICAgdmFyIGlzQSA9IEFycmF5LmlzQXJyYXkodmFsKTsKICAgIGlmICgoIWlzQSAmJiAhaXNPYmplY3QodmFsKSkgfHwgT2JqZWN0LmlzRnJvemVuKHZhbCkgfHwgdmFsIGluc3RhbmNlb2YgVk5vZGUpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICBpZiAodmFsLl9fb2JfXykgewogICAgICB2YXIgZGVwSWQgPSB2YWwuX19vYl9fLmRlcC5pZDsKICAgICAgaWYgKHNlZW4uaGFzKGRlcElkKSkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHNlZW4uYWRkKGRlcElkKTsKICAgIH0KICAgIGlmIChpc0EpIHsKICAgICAgaSA9IHZhbC5sZW5ndGg7CiAgICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtpXSwgc2Vlbik7IH0KICAgIH0gZWxzZSB7CiAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh2YWwpOwogICAgICBpID0ga2V5cy5sZW5ndGg7CiAgICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtrZXlzW2ldXSwgc2Vlbik7IH0KICAgIH0KICB9CgogIC8qICAqLwoKICB2YXIgbm9ybWFsaXplRXZlbnQgPSBjYWNoZWQoZnVuY3Rpb24gKG5hbWUpIHsKICAgIHZhciBwYXNzaXZlID0gbmFtZS5jaGFyQXQoMCkgPT09ICcmJzsKICAgIG5hbWUgPSBwYXNzaXZlID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7CiAgICB2YXIgb25jZSQkMSA9IG5hbWUuY2hhckF0KDApID09PSAnfic7IC8vIFByZWZpeGVkIGxhc3QsIGNoZWNrZWQgZmlyc3QKICAgIG5hbWUgPSBvbmNlJCQxID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7CiAgICB2YXIgY2FwdHVyZSA9IG5hbWUuY2hhckF0KDApID09PSAnISc7CiAgICBuYW1lID0gY2FwdHVyZSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lOwogICAgcmV0dXJuIHsKICAgICAgbmFtZTogbmFtZSwKICAgICAgb25jZTogb25jZSQkMSwKICAgICAgY2FwdHVyZTogY2FwdHVyZSwKICAgICAgcGFzc2l2ZTogcGFzc2l2ZQogICAgfQogIH0pOwoKICBmdW5jdGlvbiBjcmVhdGVGbkludm9rZXIgKGZucywgdm0pIHsKICAgIGZ1bmN0aW9uIGludm9rZXIgKCkgewogICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7CgogICAgICB2YXIgZm5zID0gaW52b2tlci5mbnM7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGZucykpIHsKICAgICAgICB2YXIgY2xvbmVkID0gZm5zLnNsaWNlKCk7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbG9uZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGNsb25lZFtpXSwgbnVsbCwgYXJndW1lbnRzJDEsIHZtLCAidi1vbiBoYW5kbGVyIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIHJldHVybiBoYW5kbGVyIHJldHVybiB2YWx1ZSBmb3Igc2luZ2xlIGhhbmRsZXJzCiAgICAgICAgcmV0dXJuIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGZucywgbnVsbCwgYXJndW1lbnRzLCB2bSwgInYtb24gaGFuZGxlciIpCiAgICAgIH0KICAgIH0KICAgIGludm9rZXIuZm5zID0gZm5zOwogICAgcmV0dXJuIGludm9rZXIKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZUxpc3RlbmVycyAoCiAgICBvbiwKICAgIG9sZE9uLAogICAgYWRkLAogICAgcmVtb3ZlJCQxLAogICAgY3JlYXRlT25jZUhhbmRsZXIsCiAgICB2bQogICkgewogICAgdmFyIG5hbWUsIGRlZiQkMSwgY3VyLCBvbGQsIGV2ZW50OwogICAgZm9yIChuYW1lIGluIG9uKSB7CiAgICAgIGRlZiQkMSA9IGN1ciA9IG9uW25hbWVdOwogICAgICBvbGQgPSBvbGRPbltuYW1lXTsKICAgICAgZXZlbnQgPSBub3JtYWxpemVFdmVudChuYW1lKTsKICAgICAgaWYgKGlzVW5kZWYoY3VyKSkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAiSW52YWxpZCBoYW5kbGVyIGZvciBldmVudCBcIiIgKyAoZXZlbnQubmFtZSkgKyAiXCI6IGdvdCAiICsgU3RyaW5nKGN1ciksCiAgICAgICAgICB2bQogICAgICAgICk7CiAgICAgIH0gZWxzZSBpZiAoaXNVbmRlZihvbGQpKSB7CiAgICAgICAgaWYgKGlzVW5kZWYoY3VyLmZucykpIHsKICAgICAgICAgIGN1ciA9IG9uW25hbWVdID0gY3JlYXRlRm5JbnZva2VyKGN1ciwgdm0pOwogICAgICAgIH0KICAgICAgICBpZiAoaXNUcnVlKGV2ZW50Lm9uY2UpKSB7CiAgICAgICAgICBjdXIgPSBvbltuYW1lXSA9IGNyZWF0ZU9uY2VIYW5kbGVyKGV2ZW50Lm5hbWUsIGN1ciwgZXZlbnQuY2FwdHVyZSk7CiAgICAgICAgfQogICAgICAgIGFkZChldmVudC5uYW1lLCBjdXIsIGV2ZW50LmNhcHR1cmUsIGV2ZW50LnBhc3NpdmUsIGV2ZW50LnBhcmFtcyk7CiAgICAgIH0gZWxzZSBpZiAoY3VyICE9PSBvbGQpIHsKICAgICAgICBvbGQuZm5zID0gY3VyOwogICAgICAgIG9uW25hbWVdID0gb2xkOwogICAgICB9CiAgICB9CiAgICBmb3IgKG5hbWUgaW4gb2xkT24pIHsKICAgICAgaWYgKGlzVW5kZWYob25bbmFtZV0pKSB7CiAgICAgICAgZXZlbnQgPSBub3JtYWxpemVFdmVudChuYW1lKTsKICAgICAgICByZW1vdmUkJDEoZXZlbnQubmFtZSwgb2xkT25bbmFtZV0sIGV2ZW50LmNhcHR1cmUpOwogICAgICB9CiAgICB9CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gbWVyZ2VWTm9kZUhvb2sgKGRlZiwgaG9va0tleSwgaG9vaykgewogICAgaWYgKGRlZiBpbnN0YW5jZW9mIFZOb2RlKSB7CiAgICAgIGRlZiA9IGRlZi5kYXRhLmhvb2sgfHwgKGRlZi5kYXRhLmhvb2sgPSB7fSk7CiAgICB9CiAgICB2YXIgaW52b2tlcjsKICAgIHZhciBvbGRIb29rID0gZGVmW2hvb2tLZXldOwoKICAgIGZ1bmN0aW9uIHdyYXBwZWRIb29rICgpIHsKICAgICAgaG9vay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAvLyBpbXBvcnRhbnQ6IHJlbW92ZSBtZXJnZWQgaG9vayB0byBlbnN1cmUgaXQncyBjYWxsZWQgb25seSBvbmNlCiAgICAgIC8vIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrCiAgICAgIHJlbW92ZShpbnZva2VyLmZucywgd3JhcHBlZEhvb2spOwogICAgfQoKICAgIGlmIChpc1VuZGVmKG9sZEhvb2spKSB7CiAgICAgIC8vIG5vIGV4aXN0aW5nIGhvb2sKICAgICAgaW52b2tlciA9IGNyZWF0ZUZuSW52b2tlcihbd3JhcHBlZEhvb2tdKTsKICAgIH0gZWxzZSB7CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICBpZiAoaXNEZWYob2xkSG9vay5mbnMpICYmIGlzVHJ1ZShvbGRIb29rLm1lcmdlZCkpIHsKICAgICAgICAvLyBhbHJlYWR5IGEgbWVyZ2VkIGludm9rZXIKICAgICAgICBpbnZva2VyID0gb2xkSG9vazsKICAgICAgICBpbnZva2VyLmZucy5wdXNoKHdyYXBwZWRIb29rKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBleGlzdGluZyBwbGFpbiBob29rCiAgICAgICAgaW52b2tlciA9IGNyZWF0ZUZuSW52b2tlcihbb2xkSG9vaywgd3JhcHBlZEhvb2tdKTsKICAgICAgfQogICAgfQoKICAgIGludm9rZXIubWVyZ2VkID0gdHJ1ZTsKICAgIGRlZltob29rS2V5XSA9IGludm9rZXI7CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YSAoCiAgICBkYXRhLAogICAgQ3RvciwKICAgIHRhZwogICkgewogICAgLy8gd2UgYXJlIG9ubHkgZXh0cmFjdGluZyByYXcgdmFsdWVzIGhlcmUuCiAgICAvLyB2YWxpZGF0aW9uIGFuZCBkZWZhdWx0IHZhbHVlcyBhcmUgaGFuZGxlZCBpbiB0aGUgY2hpbGQKICAgIC8vIGNvbXBvbmVudCBpdHNlbGYuCiAgICB2YXIgcHJvcE9wdGlvbnMgPSBDdG9yLm9wdGlvbnMucHJvcHM7CiAgICBpZiAoaXNVbmRlZihwcm9wT3B0aW9ucykpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICB2YXIgcmVzID0ge307CiAgICB2YXIgYXR0cnMgPSBkYXRhLmF0dHJzOwogICAgdmFyIHByb3BzID0gZGF0YS5wcm9wczsKICAgIGlmIChpc0RlZihhdHRycykgfHwgaXNEZWYocHJvcHMpKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykgewogICAgICAgIHZhciBhbHRLZXkgPSBoeXBoZW5hdGUoa2V5KTsKICAgICAgICB7CiAgICAgICAgICB2YXIga2V5SW5Mb3dlckNhc2UgPSBrZXkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAga2V5ICE9PSBrZXlJbkxvd2VyQ2FzZSAmJgogICAgICAgICAgICBhdHRycyAmJiBoYXNPd24oYXR0cnMsIGtleUluTG93ZXJDYXNlKQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRpcCgKICAgICAgICAgICAgICAiUHJvcCBcIiIgKyBrZXlJbkxvd2VyQ2FzZSArICJcIiBpcyBwYXNzZWQgdG8gY29tcG9uZW50ICIgKwogICAgICAgICAgICAgIChmb3JtYXRDb21wb25lbnROYW1lKHRhZyB8fCBDdG9yKSkgKyAiLCBidXQgdGhlIGRlY2xhcmVkIHByb3AgbmFtZSBpcyIgKwogICAgICAgICAgICAgICIgXCIiICsga2V5ICsgIlwiLiAiICsKICAgICAgICAgICAgICAiTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgY2FtZWxDYXNlZCAiICsKICAgICAgICAgICAgICAicHJvcHMgbmVlZCB0byB1c2UgdGhlaXIga2ViYWItY2FzZSBlcXVpdmFsZW50cyB3aGVuIHVzaW5nIGluLURPTSAiICsKICAgICAgICAgICAgICAidGVtcGxhdGVzLiBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiIgKyBhbHRLZXkgKyAiXCIgaW5zdGVhZCBvZiBcIiIgKyBrZXkgKyAiXCIuIgogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjaGVja1Byb3AocmVzLCBwcm9wcywga2V5LCBhbHRLZXksIHRydWUpIHx8CiAgICAgICAgY2hlY2tQcm9wKHJlcywgYXR0cnMsIGtleSwgYWx0S2V5LCBmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXMKICB9CgogIGZ1bmN0aW9uIGNoZWNrUHJvcCAoCiAgICByZXMsCiAgICBoYXNoLAogICAga2V5LAogICAgYWx0S2V5LAogICAgcHJlc2VydmUKICApIHsKICAgIGlmIChpc0RlZihoYXNoKSkgewogICAgICBpZiAoaGFzT3duKGhhc2gsIGtleSkpIHsKICAgICAgICByZXNba2V5XSA9IGhhc2hba2V5XTsKICAgICAgICBpZiAoIXByZXNlcnZlKSB7CiAgICAgICAgICBkZWxldGUgaGFzaFtrZXldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9IGVsc2UgaWYgKGhhc093bihoYXNoLCBhbHRLZXkpKSB7CiAgICAgICAgcmVzW2tleV0gPSBoYXNoW2FsdEtleV07CiAgICAgICAgaWYgKCFwcmVzZXJ2ZSkgewogICAgICAgICAgZGVsZXRlIGhhc2hbYWx0S2V5XTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWUKICAgICAgfQogICAgfQogICAgcmV0dXJuIGZhbHNlCiAgfQoKICAvKiAgKi8KCiAgLy8gVGhlIHRlbXBsYXRlIGNvbXBpbGVyIGF0dGVtcHRzIHRvIG1pbmltaXplIHRoZSBuZWVkIGZvciBub3JtYWxpemF0aW9uIGJ5CiAgLy8gc3RhdGljYWxseSBhbmFseXppbmcgdGhlIHRlbXBsYXRlIGF0IGNvbXBpbGUgdGltZS4KICAvLwogIC8vIEZvciBwbGFpbiBIVE1MIG1hcmt1cCwgbm9ybWFsaXphdGlvbiBjYW4gYmUgY29tcGxldGVseSBza2lwcGVkIGJlY2F1c2UgdGhlCiAgLy8gZ2VuZXJhdGVkIHJlbmRlciBmdW5jdGlvbiBpcyBndWFyYW50ZWVkIHRvIHJldHVybiBBcnJheTxWTm9kZT4uIFRoZXJlIGFyZQogIC8vIHR3byBjYXNlcyB3aGVyZSBleHRyYSBub3JtYWxpemF0aW9uIGlzIG5lZWRlZDoKCiAgLy8gMS4gV2hlbiB0aGUgY2hpbGRyZW4gY29udGFpbnMgY29tcG9uZW50cyAtIGJlY2F1c2UgYSBmdW5jdGlvbmFsIGNvbXBvbmVudAogIC8vIG1heSByZXR1cm4gYW4gQXJyYXkgaW5zdGVhZCBvZiBhIHNpbmdsZSByb290LiBJbiB0aGlzIGNhc2UsIGp1c3QgYSBzaW1wbGUKICAvLyBub3JtYWxpemF0aW9uIGlzIG5lZWRlZCAtIGlmIGFueSBjaGlsZCBpcyBhbiBBcnJheSwgd2UgZmxhdHRlbiB0aGUgd2hvbGUKICAvLyB0aGluZyB3aXRoIEFycmF5LnByb3RvdHlwZS5jb25jYXQuIEl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgb25seSAxLWxldmVsIGRlZXAKICAvLyBiZWNhdXNlIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBhbHJlYWR5IG5vcm1hbGl6ZSB0aGVpciBvd24gY2hpbGRyZW4uCiAgZnVuY3Rpb24gc2ltcGxlTm9ybWFsaXplQ2hpbGRyZW4gKGNoaWxkcmVuKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuW2ldKSkgewogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBjaGlsZHJlbikKICAgICAgfQogICAgfQogICAgcmV0dXJuIGNoaWxkcmVuCiAgfQoKICAvLyAyLiBXaGVuIHRoZSBjaGlsZHJlbiBjb250YWlucyBjb25zdHJ1Y3RzIHRoYXQgYWx3YXlzIGdlbmVyYXRlZCBuZXN0ZWQgQXJyYXlzLAogIC8vIGUuZy4gPHRlbXBsYXRlPiwgPHNsb3Q+LCB2LWZvciwgb3Igd2hlbiB0aGUgY2hpbGRyZW4gaXMgcHJvdmlkZWQgYnkgdXNlcgogIC8vIHdpdGggaGFuZC13cml0dGVuIHJlbmRlciBmdW5jdGlvbnMgLyBKU1guIEluIHN1Y2ggY2FzZXMgYSBmdWxsIG5vcm1hbGl6YXRpb24KICAvLyBpcyBuZWVkZWQgdG8gY2F0ZXIgdG8gYWxsIHBvc3NpYmxlIHR5cGVzIG9mIGNoaWxkcmVuIHZhbHVlcy4KICBmdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbiAoY2hpbGRyZW4pIHsKICAgIHJldHVybiBpc1ByaW1pdGl2ZShjaGlsZHJlbikKICAgICAgPyBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV0KICAgICAgOiBBcnJheS5pc0FycmF5KGNoaWxkcmVuKQogICAgICAgID8gbm9ybWFsaXplQXJyYXlDaGlsZHJlbihjaGlsZHJlbikKICAgICAgICA6IHVuZGVmaW5lZAogIH0KCiAgZnVuY3Rpb24gaXNUZXh0Tm9kZSAobm9kZSkgewogICAgcmV0dXJuIGlzRGVmKG5vZGUpICYmIGlzRGVmKG5vZGUudGV4dCkgJiYgaXNGYWxzZShub2RlLmlzQ29tbWVudCkKICB9CgogIGZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5Q2hpbGRyZW4gKGNoaWxkcmVuLCBuZXN0ZWRJbmRleCkgewogICAgdmFyIHJlcyA9IFtdOwogICAgdmFyIGksIGMsIGxhc3RJbmRleCwgbGFzdDsKICAgIGZvciAoaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICBjID0gY2hpbGRyZW5baV07CiAgICAgIGlmIChpc1VuZGVmKGMpIHx8IHR5cGVvZiBjID09PSAnYm9vbGVhbicpIHsgY29udGludWUgfQogICAgICBsYXN0SW5kZXggPSByZXMubGVuZ3RoIC0gMTsKICAgICAgbGFzdCA9IHJlc1tsYXN0SW5kZXhdOwogICAgICAvLyAgbmVzdGVkCiAgICAgIGlmIChBcnJheS5pc0FycmF5KGMpKSB7CiAgICAgICAgaWYgKGMubGVuZ3RoID4gMCkgewogICAgICAgICAgYyA9IG5vcm1hbGl6ZUFycmF5Q2hpbGRyZW4oYywgKChuZXN0ZWRJbmRleCB8fCAnJykgKyAiXyIgKyBpKSk7CiAgICAgICAgICAvLyBtZXJnZSBhZGphY2VudCB0ZXh0IG5vZGVzCiAgICAgICAgICBpZiAoaXNUZXh0Tm9kZShjWzBdKSAmJiBpc1RleHROb2RlKGxhc3QpKSB7CiAgICAgICAgICAgIHJlc1tsYXN0SW5kZXhdID0gY3JlYXRlVGV4dFZOb2RlKGxhc3QudGV4dCArIChjWzBdKS50ZXh0KTsKICAgICAgICAgICAgYy5zaGlmdCgpOwogICAgICAgICAgfQogICAgICAgICAgcmVzLnB1c2guYXBwbHkocmVzLCBjKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaXNQcmltaXRpdmUoYykpIHsKICAgICAgICBpZiAoaXNUZXh0Tm9kZShsYXN0KSkgewogICAgICAgICAgLy8gbWVyZ2UgYWRqYWNlbnQgdGV4dCBub2RlcwogICAgICAgICAgLy8gdGhpcyBpcyBuZWNlc3NhcnkgZm9yIFNTUiBoeWRyYXRpb24gYmVjYXVzZSB0ZXh0IG5vZGVzIGFyZQogICAgICAgICAgLy8gZXNzZW50aWFsbHkgbWVyZ2VkIHdoZW4gcmVuZGVyZWQgdG8gSFRNTCBzdHJpbmdzCiAgICAgICAgICByZXNbbGFzdEluZGV4XSA9IGNyZWF0ZVRleHRWTm9kZShsYXN0LnRleHQgKyBjKTsKICAgICAgICB9IGVsc2UgaWYgKGMgIT09ICcnKSB7CiAgICAgICAgICAvLyBjb252ZXJ0IHByaW1pdGl2ZSB0byB2bm9kZQogICAgICAgICAgcmVzLnB1c2goY3JlYXRlVGV4dFZOb2RlKGMpKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGlzVGV4dE5vZGUoYykgJiYgaXNUZXh0Tm9kZShsYXN0KSkgewogICAgICAgICAgLy8gbWVyZ2UgYWRqYWNlbnQgdGV4dCBub2RlcwogICAgICAgICAgcmVzW2xhc3RJbmRleF0gPSBjcmVhdGVUZXh0Vk5vZGUobGFzdC50ZXh0ICsgYy50ZXh0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gZGVmYXVsdCBrZXkgZm9yIG5lc3RlZCBhcnJheSBjaGlsZHJlbiAobGlrZWx5IGdlbmVyYXRlZCBieSB2LWZvcikKICAgICAgICAgIGlmIChpc1RydWUoY2hpbGRyZW4uX2lzVkxpc3QpICYmCiAgICAgICAgICAgIGlzRGVmKGMudGFnKSAmJgogICAgICAgICAgICBpc1VuZGVmKGMua2V5KSAmJgogICAgICAgICAgICBpc0RlZihuZXN0ZWRJbmRleCkpIHsKICAgICAgICAgICAgYy5rZXkgPSAiX192bGlzdCIgKyBuZXN0ZWRJbmRleCArICJfIiArIGkgKyAiX18iOwogICAgICAgICAgfQogICAgICAgICAgcmVzLnB1c2goYyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzCiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaW5pdFByb3ZpZGUgKHZtKSB7CiAgICB2YXIgcHJvdmlkZSA9IHZtLiRvcHRpb25zLnByb3ZpZGU7CiAgICBpZiAocHJvdmlkZSkgewogICAgICB2bS5fcHJvdmlkZWQgPSB0eXBlb2YgcHJvdmlkZSA9PT0gJ2Z1bmN0aW9uJwogICAgICAgID8gcHJvdmlkZS5jYWxsKHZtKQogICAgICAgIDogcHJvdmlkZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGluaXRJbmplY3Rpb25zICh2bSkgewogICAgdmFyIHJlc3VsdCA9IHJlc29sdmVJbmplY3Qodm0uJG9wdGlvbnMuaW5qZWN0LCB2bSk7CiAgICBpZiAocmVzdWx0KSB7CiAgICAgIHRvZ2dsZU9ic2VydmluZyhmYWxzZSk7CiAgICAgIE9iamVjdC5rZXlzKHJlc3VsdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KICAgICAgICB7CiAgICAgICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwga2V5LCByZXN1bHRba2V5XSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB3YXJuKAogICAgICAgICAgICAgICJBdm9pZCBtdXRhdGluZyBhbiBpbmplY3RlZCB2YWx1ZSBkaXJlY3RseSBzaW5jZSB0aGUgY2hhbmdlcyB3aWxsIGJlICIgKwogICAgICAgICAgICAgICJvdmVyd3JpdHRlbiB3aGVuZXZlciB0aGUgcHJvdmlkZWQgY29tcG9uZW50IHJlLXJlbmRlcnMuICIgKwogICAgICAgICAgICAgICJpbmplY3Rpb24gYmVpbmcgbXV0YXRlZDogXCIiICsga2V5ICsgIlwiIiwKICAgICAgICAgICAgICB2bQogICAgICAgICAgICApOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdG9nZ2xlT2JzZXJ2aW5nKHRydWUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcmVzb2x2ZUluamVjdCAoaW5qZWN0LCB2bSkgewogICAgaWYgKGluamVjdCkgewogICAgICAvLyBpbmplY3QgaXMgOmFueSBiZWNhdXNlIGZsb3cgaXMgbm90IHNtYXJ0IGVub3VnaCB0byBmaWd1cmUgb3V0IGNhY2hlZAogICAgICB2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgdmFyIGtleXMgPSBoYXNTeW1ib2wKICAgICAgICA/IFJlZmxlY3Qub3duS2V5cyhpbmplY3QpCiAgICAgICAgOiBPYmplY3Qua2V5cyhpbmplY3QpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07CiAgICAgICAgLy8gIzY1NzQgaW4gY2FzZSB0aGUgaW5qZWN0IG9iamVjdCBpcyBvYnNlcnZlZC4uLgogICAgICAgIGlmIChrZXkgPT09ICdfX29iX18nKSB7IGNvbnRpbnVlIH0KICAgICAgICB2YXIgcHJvdmlkZUtleSA9IGluamVjdFtrZXldLmZyb207CiAgICAgICAgdmFyIHNvdXJjZSA9IHZtOwogICAgICAgIHdoaWxlIChzb3VyY2UpIHsKICAgICAgICAgIGlmIChzb3VyY2UuX3Byb3ZpZGVkICYmIGhhc093bihzb3VyY2UuX3Byb3ZpZGVkLCBwcm92aWRlS2V5KSkgewogICAgICAgICAgICByZXN1bHRba2V5XSA9IHNvdXJjZS5fcHJvdmlkZWRbcHJvdmlkZUtleV07CiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICB9CiAgICAgICAgICBzb3VyY2UgPSBzb3VyY2UuJHBhcmVudDsKICAgICAgICB9CiAgICAgICAgaWYgKCFzb3VyY2UpIHsKICAgICAgICAgIGlmICgnZGVmYXVsdCcgaW4gaW5qZWN0W2tleV0pIHsKICAgICAgICAgICAgdmFyIHByb3ZpZGVEZWZhdWx0ID0gaW5qZWN0W2tleV0uZGVmYXVsdDsKICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB0eXBlb2YgcHJvdmlkZURlZmF1bHQgPT09ICdmdW5jdGlvbicKICAgICAgICAgICAgICA/IHByb3ZpZGVEZWZhdWx0LmNhbGwodm0pCiAgICAgICAgICAgICAgOiBwcm92aWRlRGVmYXVsdDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHdhcm4oKCJJbmplY3Rpb24gXCIiICsga2V5ICsgIlwiIG5vdCBmb3VuZCIpLCB2bSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQKICAgIH0KICB9CgogIC8qICAqLwoKCgogIC8qKgogICAqIFJ1bnRpbWUgaGVscGVyIGZvciByZXNvbHZpbmcgcmF3IGNoaWxkcmVuIFZOb2RlcyBpbnRvIGEgc2xvdCBvYmplY3QuCiAgICovCiAgZnVuY3Rpb24gcmVzb2x2ZVNsb3RzICgKICAgIGNoaWxkcmVuLAogICAgY29udGV4dAogICkgewogICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgIHJldHVybiB7fQogICAgfQogICAgdmFyIHNsb3RzID0ge307CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTsKICAgICAgdmFyIGRhdGEgPSBjaGlsZC5kYXRhOwogICAgICAvLyByZW1vdmUgc2xvdCBhdHRyaWJ1dGUgaWYgdGhlIG5vZGUgaXMgcmVzb2x2ZWQgYXMgYSBWdWUgc2xvdCBub2RlCiAgICAgIGlmIChkYXRhICYmIGRhdGEuYXR0cnMgJiYgZGF0YS5hdHRycy5zbG90KSB7CiAgICAgICAgZGVsZXRlIGRhdGEuYXR0cnMuc2xvdDsKICAgICAgfQogICAgICAvLyBuYW1lZCBzbG90cyBzaG91bGQgb25seSBiZSByZXNwZWN0ZWQgaWYgdGhlIHZub2RlIHdhcyByZW5kZXJlZCBpbiB0aGUKICAgICAgLy8gc2FtZSBjb250ZXh0LgogICAgICBpZiAoKGNoaWxkLmNvbnRleHQgPT09IGNvbnRleHQgfHwgY2hpbGQuZm5Db250ZXh0ID09PSBjb250ZXh0KSAmJgogICAgICAgIGRhdGEgJiYgZGF0YS5zbG90ICE9IG51bGwKICAgICAgKSB7CiAgICAgICAgdmFyIG5hbWUgPSBkYXRhLnNsb3Q7CiAgICAgICAgdmFyIHNsb3QgPSAoc2xvdHNbbmFtZV0gfHwgKHNsb3RzW25hbWVdID0gW10pKTsKICAgICAgICBpZiAoY2hpbGQudGFnID09PSAndGVtcGxhdGUnKSB7CiAgICAgICAgICBzbG90LnB1c2guYXBwbHkoc2xvdCwgY2hpbGQuY2hpbGRyZW4gfHwgW10pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzbG90LnB1c2goY2hpbGQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAoc2xvdHMuZGVmYXVsdCB8fCAoc2xvdHMuZGVmYXVsdCA9IFtdKSkucHVzaChjaGlsZCk7CiAgICAgIH0KICAgIH0KICAgIC8vIGlnbm9yZSBzbG90cyB0aGF0IGNvbnRhaW5zIG9ubHkgd2hpdGVzcGFjZQogICAgZm9yICh2YXIgbmFtZSQxIGluIHNsb3RzKSB7CiAgICAgIGlmIChzbG90c1tuYW1lJDFdLmV2ZXJ5KGlzV2hpdGVzcGFjZSkpIHsKICAgICAgICBkZWxldGUgc2xvdHNbbmFtZSQxXTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHNsb3RzCiAgfQoKICBmdW5jdGlvbiBpc1doaXRlc3BhY2UgKG5vZGUpIHsKICAgIHJldHVybiAobm9kZS5pc0NvbW1lbnQgJiYgIW5vZGUuYXN5bmNGYWN0b3J5KSB8fCBub2RlLnRleHQgPT09ICcgJwogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIG5vcm1hbGl6ZVNjb3BlZFNsb3RzICgKICAgIHNsb3RzLAogICAgbm9ybWFsU2xvdHMsCiAgICBwcmV2U2xvdHMKICApIHsKICAgIHZhciByZXM7CiAgICB2YXIgaGFzTm9ybWFsU2xvdHMgPSBPYmplY3Qua2V5cyhub3JtYWxTbG90cykubGVuZ3RoID4gMDsKICAgIHZhciBpc1N0YWJsZSA9IHNsb3RzID8gISFzbG90cy4kc3RhYmxlIDogIWhhc05vcm1hbFNsb3RzOwogICAgdmFyIGtleSA9IHNsb3RzICYmIHNsb3RzLiRrZXk7CiAgICBpZiAoIXNsb3RzKSB7CiAgICAgIHJlcyA9IHt9OwogICAgfSBlbHNlIGlmIChzbG90cy5fbm9ybWFsaXplZCkgewogICAgICAvLyBmYXN0IHBhdGggMTogY2hpbGQgY29tcG9uZW50IHJlLXJlbmRlciBvbmx5LCBwYXJlbnQgZGlkIG5vdCBjaGFuZ2UKICAgICAgcmV0dXJuIHNsb3RzLl9ub3JtYWxpemVkCiAgICB9IGVsc2UgaWYgKAogICAgICBpc1N0YWJsZSAmJgogICAgICBwcmV2U2xvdHMgJiYKICAgICAgcHJldlNsb3RzICE9PSBlbXB0eU9iamVjdCAmJgogICAgICBrZXkgPT09IHByZXZTbG90cy4ka2V5ICYmCiAgICAgICFoYXNOb3JtYWxTbG90cyAmJgogICAgICAhcHJldlNsb3RzLiRoYXNOb3JtYWwKICAgICkgewogICAgICAvLyBmYXN0IHBhdGggMjogc3RhYmxlIHNjb3BlZCBzbG90cyB3LyBubyBub3JtYWwgc2xvdHMgdG8gcHJveHksCiAgICAgIC8vIG9ubHkgbmVlZCB0byBub3JtYWxpemUgb25jZQogICAgICByZXR1cm4gcHJldlNsb3RzCiAgICB9IGVsc2UgewogICAgICByZXMgPSB7fTsKICAgICAgZm9yICh2YXIga2V5JDEgaW4gc2xvdHMpIHsKICAgICAgICBpZiAoc2xvdHNba2V5JDFdICYmIGtleSQxWzBdICE9PSAnJCcpIHsKICAgICAgICAgIHJlc1trZXkkMV0gPSBub3JtYWxpemVTY29wZWRTbG90KG5vcm1hbFNsb3RzLCBrZXkkMSwgc2xvdHNba2V5JDFdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8vIGV4cG9zZSBub3JtYWwgc2xvdHMgb24gc2NvcGVkU2xvdHMKICAgIGZvciAodmFyIGtleSQyIGluIG5vcm1hbFNsb3RzKSB7CiAgICAgIGlmICghKGtleSQyIGluIHJlcykpIHsKICAgICAgICByZXNba2V5JDJdID0gcHJveHlOb3JtYWxTbG90KG5vcm1hbFNsb3RzLCBrZXkkMik7CiAgICAgIH0KICAgIH0KICAgIC8vIGF2b3JpYXogc2VlbXMgdG8gbW9jayBhIG5vbi1leHRlbnNpYmxlICRzY29wZWRTbG90cyBvYmplY3QKICAgIC8vIGFuZCB3aGVuIHRoYXQgaXMgcGFzc2VkIGRvd24gdGhpcyB3b3VsZCBjYXVzZSBhbiBlcnJvcgogICAgaWYgKHNsb3RzICYmIE9iamVjdC5pc0V4dGVuc2libGUoc2xvdHMpKSB7CiAgICAgIChzbG90cykuX25vcm1hbGl6ZWQgPSByZXM7CiAgICB9CiAgICBkZWYocmVzLCAnJHN0YWJsZScsIGlzU3RhYmxlKTsKICAgIGRlZihyZXMsICcka2V5Jywga2V5KTsKICAgIGRlZihyZXMsICckaGFzTm9ybWFsJywgaGFzTm9ybWFsU2xvdHMpOwogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gbm9ybWFsaXplU2NvcGVkU2xvdChub3JtYWxTbG90cywga2V5LCBmbikgewogICAgdmFyIG5vcm1hbGl6ZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXMgPSBhcmd1bWVudHMubGVuZ3RoID8gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKSA6IGZuKHt9KTsKICAgICAgcmVzID0gcmVzICYmIHR5cGVvZiByZXMgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHJlcykKICAgICAgICA/IFtyZXNdIC8vIHNpbmdsZSB2bm9kZQogICAgICAgIDogbm9ybWFsaXplQ2hpbGRyZW4ocmVzKTsKICAgICAgcmV0dXJuIHJlcyAmJiAoCiAgICAgICAgcmVzLmxlbmd0aCA9PT0gMCB8fAogICAgICAgIChyZXMubGVuZ3RoID09PSAxICYmIHJlc1swXS5pc0NvbW1lbnQpIC8vICM5NjU4CiAgICAgICkgPyB1bmRlZmluZWQKICAgICAgICA6IHJlcwogICAgfTsKICAgIC8vIHRoaXMgaXMgYSBzbG90IHVzaW5nIHRoZSBuZXcgdi1zbG90IHN5bnRheCB3aXRob3V0IHNjb3BlLiBhbHRob3VnaCBpdCBpcwogICAgLy8gY29tcGlsZWQgYXMgYSBzY29wZWQgc2xvdCwgcmVuZGVyIGZuIHVzZXJzIHdvdWxkIGV4cGVjdCBpdCB0byBiZSBwcmVzZW50CiAgICAvLyBvbiB0aGlzLiRzbG90cyBiZWNhdXNlIHRoZSB1c2FnZSBpcyBzZW1hbnRpY2FsbHkgYSBub3JtYWwgc2xvdC4KICAgIGlmIChmbi5wcm94eSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9ybWFsU2xvdHMsIGtleSwgewogICAgICAgIGdldDogbm9ybWFsaXplZCwKICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgICB9KTsKICAgIH0KICAgIHJldHVybiBub3JtYWxpemVkCiAgfQoKICBmdW5jdGlvbiBwcm94eU5vcm1hbFNsb3Qoc2xvdHMsIGtleSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNsb3RzW2tleV07IH0KICB9CgogIC8qICAqLwoKICAvKioKICAgKiBSdW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIHYtZm9yIGxpc3RzLgogICAqLwogIGZ1bmN0aW9uIHJlbmRlckxpc3QgKAogICAgdmFsLAogICAgcmVuZGVyCiAgKSB7CiAgICB2YXIgcmV0LCBpLCBsLCBrZXlzLCBrZXk7CiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpIHx8IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7CiAgICAgIHJldCA9IG5ldyBBcnJheSh2YWwubGVuZ3RoKTsKICAgICAgZm9yIChpID0gMCwgbCA9IHZhbC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICByZXRbaV0gPSByZW5kZXIodmFsW2ldLCBpKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykgewogICAgICByZXQgPSBuZXcgQXJyYXkodmFsKTsKICAgICAgZm9yIChpID0gMDsgaSA8IHZhbDsgaSsrKSB7CiAgICAgICAgcmV0W2ldID0gcmVuZGVyKGkgKyAxLCBpKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7CiAgICAgIGlmIChoYXNTeW1ib2wgJiYgdmFsW1N5bWJvbC5pdGVyYXRvcl0pIHsKICAgICAgICByZXQgPSBbXTsKICAgICAgICB2YXIgaXRlcmF0b3IgPSB2YWxbU3ltYm9sLml0ZXJhdG9yXSgpOwogICAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7CiAgICAgICAgd2hpbGUgKCFyZXN1bHQuZG9uZSkgewogICAgICAgICAgcmV0LnB1c2gocmVuZGVyKHJlc3VsdC52YWx1ZSwgcmV0Lmxlbmd0aCkpOwogICAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTsKICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpOwogICAgICAgIGZvciAoaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAga2V5ID0ga2V5c1tpXTsKICAgICAgICAgIHJldFtpXSA9IHJlbmRlcih2YWxba2V5XSwga2V5LCBpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGlmICghaXNEZWYocmV0KSkgewogICAgICByZXQgPSBbXTsKICAgIH0KICAgIChyZXQpLl9pc1ZMaXN0ID0gdHJ1ZTsKICAgIHJldHVybiByZXQKICB9CgogIC8qICAqLwoKICAvKioKICAgKiBSdW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIDxzbG90PgogICAqLwogIGZ1bmN0aW9uIHJlbmRlclNsb3QgKAogICAgbmFtZSwKICAgIGZhbGxiYWNrLAogICAgcHJvcHMsCiAgICBiaW5kT2JqZWN0CiAgKSB7CiAgICB2YXIgc2NvcGVkU2xvdEZuID0gdGhpcy4kc2NvcGVkU2xvdHNbbmFtZV07CiAgICB2YXIgbm9kZXM7CiAgICBpZiAoc2NvcGVkU2xvdEZuKSB7IC8vIHNjb3BlZCBzbG90CiAgICAgIHByb3BzID0gcHJvcHMgfHwge307CiAgICAgIGlmIChiaW5kT2JqZWN0KSB7CiAgICAgICAgaWYgKCFpc09iamVjdChiaW5kT2JqZWN0KSkgewogICAgICAgICAgd2FybigKICAgICAgICAgICAgJ3Nsb3Qgdi1iaW5kIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3QnLAogICAgICAgICAgICB0aGlzCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICBwcm9wcyA9IGV4dGVuZChleHRlbmQoe30sIGJpbmRPYmplY3QpLCBwcm9wcyk7CiAgICAgIH0KICAgICAgbm9kZXMgPSBzY29wZWRTbG90Rm4ocHJvcHMpIHx8IGZhbGxiYWNrOwogICAgfSBlbHNlIHsKICAgICAgbm9kZXMgPSB0aGlzLiRzbG90c1tuYW1lXSB8fCBmYWxsYmFjazsKICAgIH0KCiAgICB2YXIgdGFyZ2V0ID0gcHJvcHMgJiYgcHJvcHMuc2xvdDsKICAgIGlmICh0YXJnZXQpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJywgeyBzbG90OiB0YXJnZXQgfSwgbm9kZXMpCiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbm9kZXMKICAgIH0KICB9CgogIC8qICAqLwoKICAvKioKICAgKiBSdW50aW1lIGhlbHBlciBmb3IgcmVzb2x2aW5nIGZpbHRlcnMKICAgKi8KICBmdW5jdGlvbiByZXNvbHZlRmlsdGVyIChpZCkgewogICAgcmV0dXJuIHJlc29sdmVBc3NldCh0aGlzLiRvcHRpb25zLCAnZmlsdGVycycsIGlkLCB0cnVlKSB8fCBpZGVudGl0eQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGlzS2V5Tm90TWF0Y2ggKGV4cGVjdCwgYWN0dWFsKSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShleHBlY3QpKSB7CiAgICAgIHJldHVybiBleHBlY3QuaW5kZXhPZihhY3R1YWwpID09PSAtMQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGV4cGVjdCAhPT0gYWN0dWFsCiAgICB9CiAgfQoKICAvKioKICAgKiBSdW50aW1lIGhlbHBlciBmb3IgY2hlY2tpbmcga2V5Q29kZXMgZnJvbSBjb25maWcuCiAgICogZXhwb3NlZCBhcyBWdWUucHJvdG90eXBlLl9rCiAgICogcGFzc2luZyBpbiBldmVudEtleU5hbWUgYXMgbGFzdCBhcmd1bWVudCBzZXBhcmF0ZWx5IGZvciBiYWNrd2FyZHMgY29tcGF0CiAgICovCiAgZnVuY3Rpb24gY2hlY2tLZXlDb2RlcyAoCiAgICBldmVudEtleUNvZGUsCiAgICBrZXksCiAgICBidWlsdEluS2V5Q29kZSwKICAgIGV2ZW50S2V5TmFtZSwKICAgIGJ1aWx0SW5LZXlOYW1lCiAgKSB7CiAgICB2YXIgbWFwcGVkS2V5Q29kZSA9IGNvbmZpZy5rZXlDb2Rlc1trZXldIHx8IGJ1aWx0SW5LZXlDb2RlOwogICAgaWYgKGJ1aWx0SW5LZXlOYW1lICYmIGV2ZW50S2V5TmFtZSAmJiAhY29uZmlnLmtleUNvZGVzW2tleV0pIHsKICAgICAgcmV0dXJuIGlzS2V5Tm90TWF0Y2goYnVpbHRJbktleU5hbWUsIGV2ZW50S2V5TmFtZSkKICAgIH0gZWxzZSBpZiAobWFwcGVkS2V5Q29kZSkgewogICAgICByZXR1cm4gaXNLZXlOb3RNYXRjaChtYXBwZWRLZXlDb2RlLCBldmVudEtleUNvZGUpCiAgICB9IGVsc2UgaWYgKGV2ZW50S2V5TmFtZSkgewogICAgICByZXR1cm4gaHlwaGVuYXRlKGV2ZW50S2V5TmFtZSkgIT09IGtleQogICAgfQogIH0KCiAgLyogICovCgogIC8qKgogICAqIFJ1bnRpbWUgaGVscGVyIGZvciBtZXJnaW5nIHYtYmluZD0ib2JqZWN0IiBpbnRvIGEgVk5vZGUncyBkYXRhLgogICAqLwogIGZ1bmN0aW9uIGJpbmRPYmplY3RQcm9wcyAoCiAgICBkYXRhLAogICAgdGFnLAogICAgdmFsdWUsCiAgICBhc1Byb3AsCiAgICBpc1N5bmMKICApIHsKICAgIGlmICh2YWx1ZSkgewogICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAndi1iaW5kIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3Qgb3IgQXJyYXkgdmFsdWUnLAogICAgICAgICAgdGhpcwogICAgICAgICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgICB2YWx1ZSA9IHRvT2JqZWN0KHZhbHVlKTsKICAgICAgICB9CiAgICAgICAgdmFyIGhhc2g7CiAgICAgICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGtleSApIHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAga2V5ID09PSAnY2xhc3MnIHx8CiAgICAgICAgICAgIGtleSA9PT0gJ3N0eWxlJyB8fAogICAgICAgICAgICBpc1Jlc2VydmVkQXR0cmlidXRlKGtleSkKICAgICAgICAgICkgewogICAgICAgICAgICBoYXNoID0gZGF0YTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5hdHRycyAmJiBkYXRhLmF0dHJzLnR5cGU7CiAgICAgICAgICAgIGhhc2ggPSBhc1Byb3AgfHwgY29uZmlnLm11c3RVc2VQcm9wKHRhZywgdHlwZSwga2V5KQogICAgICAgICAgICAgID8gZGF0YS5kb21Qcm9wcyB8fCAoZGF0YS5kb21Qcm9wcyA9IHt9KQogICAgICAgICAgICAgIDogZGF0YS5hdHRycyB8fCAoZGF0YS5hdHRycyA9IHt9KTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpOwogICAgICAgICAgdmFyIGh5cGhlbmF0ZWRLZXkgPSBoeXBoZW5hdGUoa2V5KTsKICAgICAgICAgIGlmICghKGNhbWVsaXplZEtleSBpbiBoYXNoKSAmJiAhKGh5cGhlbmF0ZWRLZXkgaW4gaGFzaCkpIHsKICAgICAgICAgICAgaGFzaFtrZXldID0gdmFsdWVba2V5XTsKCiAgICAgICAgICAgIGlmIChpc1N5bmMpIHsKICAgICAgICAgICAgICB2YXIgb24gPSBkYXRhLm9uIHx8IChkYXRhLm9uID0ge30pOwogICAgICAgICAgICAgIG9uWygidXBkYXRlOiIgKyBrZXkpXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICAgIHZhbHVlW2tleV0gPSAkZXZlbnQ7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkgbG9vcCgga2V5ICk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBkYXRhCiAgfQoKICAvKiAgKi8KCiAgLyoqCiAgICogUnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyBzdGF0aWMgdHJlZXMuCiAgICovCiAgZnVuY3Rpb24gcmVuZGVyU3RhdGljICgKICAgIGluZGV4LAogICAgaXNJbkZvcgogICkgewogICAgdmFyIGNhY2hlZCA9IHRoaXMuX3N0YXRpY1RyZWVzIHx8ICh0aGlzLl9zdGF0aWNUcmVlcyA9IFtdKTsKICAgIHZhciB0cmVlID0gY2FjaGVkW2luZGV4XTsKICAgIC8vIGlmIGhhcyBhbHJlYWR5LXJlbmRlcmVkIHN0YXRpYyB0cmVlIGFuZCBub3QgaW5zaWRlIHYtZm9yLAogICAgLy8gd2UgY2FuIHJldXNlIHRoZSBzYW1lIHRyZWUuCiAgICBpZiAodHJlZSAmJiAhaXNJbkZvcikgewogICAgICByZXR1cm4gdHJlZQogICAgfQogICAgLy8gb3RoZXJ3aXNlLCByZW5kZXIgYSBmcmVzaCB0cmVlLgogICAgdHJlZSA9IGNhY2hlZFtpbmRleF0gPSB0aGlzLiRvcHRpb25zLnN0YXRpY1JlbmRlckZuc1tpbmRleF0uY2FsbCgKICAgICAgdGhpcy5fcmVuZGVyUHJveHksCiAgICAgIG51bGwsCiAgICAgIHRoaXMgLy8gZm9yIHJlbmRlciBmbnMgZ2VuZXJhdGVkIGZvciBmdW5jdGlvbmFsIGNvbXBvbmVudCB0ZW1wbGF0ZXMKICAgICk7CiAgICBtYXJrU3RhdGljKHRyZWUsICgiX19zdGF0aWNfXyIgKyBpbmRleCksIGZhbHNlKTsKICAgIHJldHVybiB0cmVlCiAgfQoKICAvKioKICAgKiBSdW50aW1lIGhlbHBlciBmb3Igdi1vbmNlLgogICAqIEVmZmVjdGl2ZWx5IGl0IG1lYW5zIG1hcmtpbmcgdGhlIG5vZGUgYXMgc3RhdGljIHdpdGggYSB1bmlxdWUga2V5LgogICAqLwogIGZ1bmN0aW9uIG1hcmtPbmNlICgKICAgIHRyZWUsCiAgICBpbmRleCwKICAgIGtleQogICkgewogICAgbWFya1N0YXRpYyh0cmVlLCAoIl9fb25jZV9fIiArIGluZGV4ICsgKGtleSA/ICgiXyIgKyBrZXkpIDogIiIpKSwgdHJ1ZSk7CiAgICByZXR1cm4gdHJlZQogIH0KCiAgZnVuY3Rpb24gbWFya1N0YXRpYyAoCiAgICB0cmVlLAogICAga2V5LAogICAgaXNPbmNlCiAgKSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmVlKSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWUubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodHJlZVtpXSAmJiB0eXBlb2YgdHJlZVtpXSAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWVbaV0sIChrZXkgKyAiXyIgKyBpKSwgaXNPbmNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWUsIGtleSwgaXNPbmNlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIG1hcmtTdGF0aWNOb2RlIChub2RlLCBrZXksIGlzT25jZSkgewogICAgbm9kZS5pc1N0YXRpYyA9IHRydWU7CiAgICBub2RlLmtleSA9IGtleTsKICAgIG5vZGUuaXNPbmNlID0gaXNPbmNlOwogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGJpbmRPYmplY3RMaXN0ZW5lcnMgKGRhdGEsIHZhbHVlKSB7CiAgICBpZiAodmFsdWUpIHsKICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHZhbHVlKSkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAndi1vbiB3aXRob3V0IGFyZ3VtZW50IGV4cGVjdHMgYW4gT2JqZWN0IHZhbHVlJywKICAgICAgICAgIHRoaXMKICAgICAgICApOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBvbiA9IGRhdGEub24gPSBkYXRhLm9uID8gZXh0ZW5kKHt9LCBkYXRhLm9uKSA6IHt9OwogICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkgewogICAgICAgICAgdmFyIGV4aXN0aW5nID0gb25ba2V5XTsKICAgICAgICAgIHZhciBvdXJzID0gdmFsdWVba2V5XTsKICAgICAgICAgIG9uW2tleV0gPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgb3VycykgOiBvdXJzOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIGRhdGEKICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiByZXNvbHZlU2NvcGVkU2xvdHMgKAogICAgZm5zLCAvLyBzZWUgZmxvdy92bm9kZQogICAgcmVzLAogICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgYWRkZWQgaW4gMi42CiAgICBoYXNEeW5hbWljS2V5cywKICAgIGNvbnRlbnRIYXNoS2V5CiAgKSB7CiAgICByZXMgPSByZXMgfHwgeyAkc3RhYmxlOiAhaGFzRHluYW1pY0tleXMgfTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzbG90ID0gZm5zW2ldOwogICAgICBpZiAoQXJyYXkuaXNBcnJheShzbG90KSkgewogICAgICAgIHJlc29sdmVTY29wZWRTbG90cyhzbG90LCByZXMsIGhhc0R5bmFtaWNLZXlzKTsKICAgICAgfSBlbHNlIGlmIChzbG90KSB7CiAgICAgICAgLy8gbWFya2VyIGZvciByZXZlcnNlIHByb3h5aW5nIHYtc2xvdCB3aXRob3V0IHNjb3BlIG9uIHRoaXMuJHNsb3RzCiAgICAgICAgaWYgKHNsb3QucHJveHkpIHsKICAgICAgICAgIHNsb3QuZm4ucHJveHkgPSB0cnVlOwogICAgICAgIH0KICAgICAgICByZXNbc2xvdC5rZXldID0gc2xvdC5mbjsKICAgICAgfQogICAgfQogICAgaWYgKGNvbnRlbnRIYXNoS2V5KSB7CiAgICAgIChyZXMpLiRrZXkgPSBjb250ZW50SGFzaEtleTsKICAgIH0KICAgIHJldHVybiByZXMKICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiBiaW5kRHluYW1pY0tleXMgKGJhc2VPYmosIHZhbHVlcykgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHsKICAgICAgdmFyIGtleSA9IHZhbHVlc1tpXTsKICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGtleSkgewogICAgICAgIGJhc2VPYmpbdmFsdWVzW2ldXSA9IHZhbHVlc1tpICsgMV07CiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSAnJyAmJiBrZXkgIT09IG51bGwpIHsKICAgICAgICAvLyBudWxsIGlzIGEgc3BlaWNhbCB2YWx1ZSBmb3IgZXhwbGljaXRseSByZW1vdmluZyBhIGJpbmRpbmcKICAgICAgICB3YXJuKAogICAgICAgICAgKCJJbnZhbGlkIHZhbHVlIGZvciBkeW5hbWljIGRpcmVjdGl2ZSBhcmd1bWVudCAoZXhwZWN0ZWQgc3RyaW5nIG9yIG51bGwpOiAiICsga2V5KSwKICAgICAgICAgIHRoaXMKICAgICAgICApOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gYmFzZU9iagogIH0KCiAgLy8gaGVscGVyIHRvIGR5bmFtaWNhbGx5IGFwcGVuZCBtb2RpZmllciBydW50aW1lIG1hcmtlcnMgdG8gZXZlbnQgbmFtZXMuCiAgLy8gZW5zdXJlIG9ubHkgYXBwZW5kIHdoZW4gdmFsdWUgaXMgYWxyZWFkeSBzdHJpbmcsIG90aGVyd2lzZSBpdCB3aWxsIGJlIGNhc3QKICAvLyB0byBzdHJpbmcgYW5kIGNhdXNlIHRoZSB0eXBlIGNoZWNrIHRvIG1pc3MuCiAgZnVuY3Rpb24gcHJlcGVuZE1vZGlmaWVyICh2YWx1ZSwgc3ltYm9sKSB7CiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHN5bWJvbCArIHZhbHVlIDogdmFsdWUKICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiBpbnN0YWxsUmVuZGVySGVscGVycyAodGFyZ2V0KSB7CiAgICB0YXJnZXQuX28gPSBtYXJrT25jZTsKICAgIHRhcmdldC5fbiA9IHRvTnVtYmVyOwogICAgdGFyZ2V0Ll9zID0gdG9TdHJpbmc7CiAgICB0YXJnZXQuX2wgPSByZW5kZXJMaXN0OwogICAgdGFyZ2V0Ll90ID0gcmVuZGVyU2xvdDsKICAgIHRhcmdldC5fcSA9IGxvb3NlRXF1YWw7CiAgICB0YXJnZXQuX2kgPSBsb29zZUluZGV4T2Y7CiAgICB0YXJnZXQuX20gPSByZW5kZXJTdGF0aWM7CiAgICB0YXJnZXQuX2YgPSByZXNvbHZlRmlsdGVyOwogICAgdGFyZ2V0Ll9rID0gY2hlY2tLZXlDb2RlczsKICAgIHRhcmdldC5fYiA9IGJpbmRPYmplY3RQcm9wczsKICAgIHRhcmdldC5fdiA9IGNyZWF0ZVRleHRWTm9kZTsKICAgIHRhcmdldC5fZSA9IGNyZWF0ZUVtcHR5Vk5vZGU7CiAgICB0YXJnZXQuX3UgPSByZXNvbHZlU2NvcGVkU2xvdHM7CiAgICB0YXJnZXQuX2cgPSBiaW5kT2JqZWN0TGlzdGVuZXJzOwogICAgdGFyZ2V0Ll9kID0gYmluZER5bmFtaWNLZXlzOwogICAgdGFyZ2V0Ll9wID0gcHJlcGVuZE1vZGlmaWVyOwogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0ICgKICAgIGRhdGEsCiAgICBwcm9wcywKICAgIGNoaWxkcmVuLAogICAgcGFyZW50LAogICAgQ3RvcgogICkgewogICAgdmFyIHRoaXMkMSA9IHRoaXM7CgogICAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7CiAgICAvLyBlbnN1cmUgdGhlIGNyZWF0ZUVsZW1lbnQgZnVuY3Rpb24gaW4gZnVuY3Rpb25hbCBjb21wb25lbnRzCiAgICAvLyBnZXRzIGEgdW5pcXVlIGNvbnRleHQgLSB0aGlzIGlzIG5lY2Vzc2FyeSBmb3IgY29ycmVjdCBuYW1lZCBzbG90IGNoZWNrCiAgICB2YXIgY29udGV4dFZtOwogICAgaWYgKGhhc093bihwYXJlbnQsICdfdWlkJykpIHsKICAgICAgY29udGV4dFZtID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQpOwogICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgICAgY29udGV4dFZtLl9vcmlnaW5hbCA9IHBhcmVudDsKICAgIH0gZWxzZSB7CiAgICAgIC8vIHRoZSBjb250ZXh0IHZtIHBhc3NlZCBpbiBpcyBhIGZ1bmN0aW9uYWwgY29udGV4dCBhcyB3ZWxsLgogICAgICAvLyBpbiB0aGlzIGNhc2Ugd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgYXJlIGFibGUgdG8gZ2V0IGEgaG9sZCB0byB0aGUKICAgICAgLy8gcmVhbCBjb250ZXh0IGluc3RhbmNlLgogICAgICBjb250ZXh0Vm0gPSBwYXJlbnQ7CiAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZQogICAgICBwYXJlbnQgPSBwYXJlbnQuX29yaWdpbmFsOwogICAgfQogICAgdmFyIGlzQ29tcGlsZWQgPSBpc1RydWUob3B0aW9ucy5fY29tcGlsZWQpOwogICAgdmFyIG5lZWROb3JtYWxpemF0aW9uID0gIWlzQ29tcGlsZWQ7CgogICAgdGhpcy5kYXRhID0gZGF0YTsKICAgIHRoaXMucHJvcHMgPSBwcm9wczsKICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgIHRoaXMucGFyZW50ID0gcGFyZW50OwogICAgdGhpcy5saXN0ZW5lcnMgPSBkYXRhLm9uIHx8IGVtcHR5T2JqZWN0OwogICAgdGhpcy5pbmplY3Rpb25zID0gcmVzb2x2ZUluamVjdChvcHRpb25zLmluamVjdCwgcGFyZW50KTsKICAgIHRoaXMuc2xvdHMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcyQxLiRzbG90cykgewogICAgICAgIG5vcm1hbGl6ZVNjb3BlZFNsb3RzKAogICAgICAgICAgZGF0YS5zY29wZWRTbG90cywKICAgICAgICAgIHRoaXMkMS4kc2xvdHMgPSByZXNvbHZlU2xvdHMoY2hpbGRyZW4sIHBhcmVudCkKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzJDEuJHNsb3RzCiAgICB9OwoKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnc2NvcGVkU2xvdHMnLCAoewogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCAoKSB7CiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVNjb3BlZFNsb3RzKGRhdGEuc2NvcGVkU2xvdHMsIHRoaXMuc2xvdHMoKSkKICAgICAgfQogICAgfSkpOwoKICAgIC8vIHN1cHBvcnQgZm9yIGNvbXBpbGVkIGZ1bmN0aW9uYWwgdGVtcGxhdGUKICAgIGlmIChpc0NvbXBpbGVkKSB7CiAgICAgIC8vIGV4cG9zaW5nICRvcHRpb25zIGZvciByZW5kZXJTdGF0aWMoKQogICAgICB0aGlzLiRvcHRpb25zID0gb3B0aW9uczsKICAgICAgLy8gcHJlLXJlc29sdmUgc2xvdHMgZm9yIHJlbmRlclNsb3QoKQogICAgICB0aGlzLiRzbG90cyA9IHRoaXMuc2xvdHMoKTsKICAgICAgdGhpcy4kc2NvcGVkU2xvdHMgPSBub3JtYWxpemVTY29wZWRTbG90cyhkYXRhLnNjb3BlZFNsb3RzLCB0aGlzLiRzbG90cyk7CiAgICB9CgogICAgaWYgKG9wdGlvbnMuX3Njb3BlSWQpIHsKICAgICAgdGhpcy5fYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgICAgICAgdmFyIHZub2RlID0gY3JlYXRlRWxlbWVudChjb250ZXh0Vm0sIGEsIGIsIGMsIGQsIG5lZWROb3JtYWxpemF0aW9uKTsKICAgICAgICBpZiAodm5vZGUgJiYgIUFycmF5LmlzQXJyYXkodm5vZGUpKSB7CiAgICAgICAgICB2bm9kZS5mblNjb3BlSWQgPSBvcHRpb25zLl9zY29wZUlkOwogICAgICAgICAgdm5vZGUuZm5Db250ZXh0ID0gcGFyZW50OwogICAgICAgIH0KICAgICAgICByZXR1cm4gdm5vZGUKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuX2MgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyByZXR1cm4gY3JlYXRlRWxlbWVudChjb250ZXh0Vm0sIGEsIGIsIGMsIGQsIG5lZWROb3JtYWxpemF0aW9uKTsgfTsKICAgIH0KICB9CgogIGluc3RhbGxSZW5kZXJIZWxwZXJzKEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0LnByb3RvdHlwZSk7CgogIGZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQgKAogICAgQ3RvciwKICAgIHByb3BzRGF0YSwKICAgIGRhdGEsCiAgICBjb250ZXh0Vm0sCiAgICBjaGlsZHJlbgogICkgewogICAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7CiAgICB2YXIgcHJvcHMgPSB7fTsKICAgIHZhciBwcm9wT3B0aW9ucyA9IG9wdGlvbnMucHJvcHM7CiAgICBpZiAoaXNEZWYocHJvcE9wdGlvbnMpKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykgewogICAgICAgIHByb3BzW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhIHx8IGVtcHR5T2JqZWN0KTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKGlzRGVmKGRhdGEuYXR0cnMpKSB7IG1lcmdlUHJvcHMocHJvcHMsIGRhdGEuYXR0cnMpOyB9CiAgICAgIGlmIChpc0RlZihkYXRhLnByb3BzKSkgeyBtZXJnZVByb3BzKHByb3BzLCBkYXRhLnByb3BzKTsgfQogICAgfQoKICAgIHZhciByZW5kZXJDb250ZXh0ID0gbmV3IEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0KAogICAgICBkYXRhLAogICAgICBwcm9wcywKICAgICAgY2hpbGRyZW4sCiAgICAgIGNvbnRleHRWbSwKICAgICAgQ3RvcgogICAgKTsKCiAgICB2YXIgdm5vZGUgPSBvcHRpb25zLnJlbmRlci5jYWxsKG51bGwsIHJlbmRlckNvbnRleHQuX2MsIHJlbmRlckNvbnRleHQpOwoKICAgIGlmICh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSB7CiAgICAgIHJldHVybiBjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0KHZub2RlLCBkYXRhLCByZW5kZXJDb250ZXh0LnBhcmVudCwgb3B0aW9ucywgcmVuZGVyQ29udGV4dCkKICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2bm9kZSkpIHsKICAgICAgdmFyIHZub2RlcyA9IG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlKSB8fCBbXTsKICAgICAgdmFyIHJlcyA9IG5ldyBBcnJheSh2bm9kZXMubGVuZ3RoKTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICByZXNbaV0gPSBjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0KHZub2Rlc1tpXSwgZGF0YSwgcmVuZGVyQ29udGV4dC5wYXJlbnQsIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpOwogICAgICB9CiAgICAgIHJldHVybiByZXMKICAgIH0KICB9CgogIGZ1bmN0aW9uIGNsb25lQW5kTWFya0Z1bmN0aW9uYWxSZXN1bHQgKHZub2RlLCBkYXRhLCBjb250ZXh0Vm0sIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpIHsKICAgIC8vICM3ODE3IGNsb25lIG5vZGUgYmVmb3JlIHNldHRpbmcgZm5Db250ZXh0LCBvdGhlcndpc2UgaWYgdGhlIG5vZGUgaXMgcmV1c2VkCiAgICAvLyAoZS5nLiBpdCB3YXMgZnJvbSBhIGNhY2hlZCBub3JtYWwgc2xvdCkgdGhlIGZuQ29udGV4dCBjYXVzZXMgbmFtZWQgc2xvdHMKICAgIC8vIHRoYXQgc2hvdWxkIG5vdCBiZSBtYXRjaGVkIHRvIG1hdGNoLgogICAgdmFyIGNsb25lID0gY2xvbmVWTm9kZSh2bm9kZSk7CiAgICBjbG9uZS5mbkNvbnRleHQgPSBjb250ZXh0Vm07CiAgICBjbG9uZS5mbk9wdGlvbnMgPSBvcHRpb25zOwogICAgewogICAgICAoY2xvbmUuZGV2dG9vbHNNZXRhID0gY2xvbmUuZGV2dG9vbHNNZXRhIHx8IHt9KS5yZW5kZXJDb250ZXh0ID0gcmVuZGVyQ29udGV4dDsKICAgIH0KICAgIGlmIChkYXRhLnNsb3QpIHsKICAgICAgKGNsb25lLmRhdGEgfHwgKGNsb25lLmRhdGEgPSB7fSkpLnNsb3QgPSBkYXRhLnNsb3Q7CiAgICB9CiAgICByZXR1cm4gY2xvbmUKICB9CgogIGZ1bmN0aW9uIG1lcmdlUHJvcHMgKHRvLCBmcm9tKSB7CiAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkgewogICAgICB0b1tjYW1lbGl6ZShrZXkpXSA9IGZyb21ba2V5XTsKICAgIH0KICB9CgogIC8qICAqLwoKICAvKiAgKi8KCiAgLyogICovCgogIC8qICAqLwoKICAvLyBpbmxpbmUgaG9va3MgdG8gYmUgaW52b2tlZCBvbiBjb21wb25lbnQgVk5vZGVzIGR1cmluZyBwYXRjaAogIHZhciBjb21wb25lbnRWTm9kZUhvb2tzID0gewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCAodm5vZGUsIGh5ZHJhdGluZykgewogICAgICBpZiAoCiAgICAgICAgdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgJiYKICAgICAgICAhdm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkICYmCiAgICAgICAgdm5vZGUuZGF0YS5rZWVwQWxpdmUKICAgICAgKSB7CiAgICAgICAgLy8ga2VwdC1hbGl2ZSBjb21wb25lbnRzLCB0cmVhdCBhcyBhIHBhdGNoCiAgICAgICAgdmFyIG1vdW50ZWROb2RlID0gdm5vZGU7IC8vIHdvcmsgYXJvdW5kIGZsb3cKICAgICAgICBjb21wb25lbnRWTm9kZUhvb2tzLnByZXBhdGNoKG1vdW50ZWROb2RlLCBtb3VudGVkTm9kZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGNoaWxkID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZUZvclZub2RlKAogICAgICAgICAgdm5vZGUsCiAgICAgICAgICBhY3RpdmVJbnN0YW5jZQogICAgICAgICk7CiAgICAgICAgY2hpbGQuJG1vdW50KGh5ZHJhdGluZyA/IHZub2RlLmVsbSA6IHVuZGVmaW5lZCwgaHlkcmF0aW5nKTsKICAgICAgfQogICAgfSwKCiAgICBwcmVwYXRjaDogZnVuY3Rpb24gcHJlcGF0Y2ggKG9sZFZub2RlLCB2bm9kZSkgewogICAgICB2YXIgb3B0aW9ucyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7CiAgICAgIHZhciBjaGlsZCA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gb2xkVm5vZGUuY29tcG9uZW50SW5zdGFuY2U7CiAgICAgIHVwZGF0ZUNoaWxkQ29tcG9uZW50KAogICAgICAgIGNoaWxkLAogICAgICAgIG9wdGlvbnMucHJvcHNEYXRhLCAvLyB1cGRhdGVkIHByb3BzCiAgICAgICAgb3B0aW9ucy5saXN0ZW5lcnMsIC8vIHVwZGF0ZWQgbGlzdGVuZXJzCiAgICAgICAgdm5vZGUsIC8vIG5ldyBwYXJlbnQgdm5vZGUKICAgICAgICBvcHRpb25zLmNoaWxkcmVuIC8vIG5ldyBjaGlsZHJlbgogICAgICApOwogICAgfSwKCiAgICBpbnNlcnQ6IGZ1bmN0aW9uIGluc2VydCAodm5vZGUpIHsKICAgICAgdmFyIGNvbnRleHQgPSB2bm9kZS5jb250ZXh0OwogICAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZTsKICAgICAgaWYgKCFjb21wb25lbnRJbnN0YW5jZS5faXNNb3VudGVkKSB7CiAgICAgICAgY29tcG9uZW50SW5zdGFuY2UuX2lzTW91bnRlZCA9IHRydWU7CiAgICAgICAgY2FsbEhvb2soY29tcG9uZW50SW5zdGFuY2UsICdtb3VudGVkJyk7CiAgICAgIH0KICAgICAgaWYgKHZub2RlLmRhdGEua2VlcEFsaXZlKSB7CiAgICAgICAgaWYgKGNvbnRleHQuX2lzTW91bnRlZCkgewogICAgICAgICAgLy8gdnVlLXJvdXRlciMxMjEyCiAgICAgICAgICAvLyBEdXJpbmcgdXBkYXRlcywgYSBrZXB0LWFsaXZlIGNvbXBvbmVudCdzIGNoaWxkIGNvbXBvbmVudHMgbWF5CiAgICAgICAgICAvLyBjaGFuZ2UsIHNvIGRpcmVjdGx5IHdhbGtpbmcgdGhlIHRyZWUgaGVyZSBtYXkgY2FsbCBhY3RpdmF0ZWQgaG9va3MKICAgICAgICAgIC8vIG9uIGluY29ycmVjdCBjaGlsZHJlbi4gSW5zdGVhZCB3ZSBwdXNoIHRoZW0gaW50byBhIHF1ZXVlIHdoaWNoIHdpbGwKICAgICAgICAgIC8vIGJlIHByb2Nlc3NlZCBhZnRlciB0aGUgd2hvbGUgcGF0Y2ggcHJvY2VzcyBlbmRlZC4KICAgICAgICAgIHF1ZXVlQWN0aXZhdGVkQ29tcG9uZW50KGNvbXBvbmVudEluc3RhbmNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWN0aXZhdGVDaGlsZENvbXBvbmVudChjb21wb25lbnRJbnN0YW5jZSwgdHJ1ZSAvKiBkaXJlY3QgKi8pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95ICh2bm9kZSkgewogICAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZTsKICAgICAgaWYgKCFjb21wb25lbnRJbnN0YW5jZS5faXNEZXN0cm95ZWQpIHsKICAgICAgICBpZiAoIXZub2RlLmRhdGEua2VlcEFsaXZlKSB7CiAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZS4kZGVzdHJveSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkZWFjdGl2YXRlQ2hpbGRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UsIHRydWUgLyogZGlyZWN0ICovKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICB2YXIgaG9va3NUb01lcmdlID0gT2JqZWN0LmtleXMoY29tcG9uZW50Vk5vZGVIb29rcyk7CgogIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudCAoCiAgICBDdG9yLAogICAgZGF0YSwKICAgIGNvbnRleHQsCiAgICBjaGlsZHJlbiwKICAgIHRhZwogICkgewogICAgaWYgKGlzVW5kZWYoQ3RvcikpIHsKICAgICAgcmV0dXJuCiAgICB9CgogICAgdmFyIGJhc2VDdG9yID0gY29udGV4dC4kb3B0aW9ucy5fYmFzZTsKCiAgICAvLyBwbGFpbiBvcHRpb25zIG9iamVjdDogdHVybiBpdCBpbnRvIGEgY29uc3RydWN0b3IKICAgIGlmIChpc09iamVjdChDdG9yKSkgewogICAgICBDdG9yID0gYmFzZUN0b3IuZXh0ZW5kKEN0b3IpOwogICAgfQoKICAgIC8vIGlmIGF0IHRoaXMgc3RhZ2UgaXQncyBub3QgYSBjb25zdHJ1Y3RvciBvciBhbiBhc3luYyBjb21wb25lbnQgZmFjdG9yeSwKICAgIC8vIHJlamVjdC4KICAgIGlmICh0eXBlb2YgQ3RvciAhPT0gJ2Z1bmN0aW9uJykgewogICAgICB7CiAgICAgICAgd2FybigoIkludmFsaWQgQ29tcG9uZW50IGRlZmluaXRpb246ICIgKyAoU3RyaW5nKEN0b3IpKSksIGNvbnRleHQpOwogICAgICB9CiAgICAgIHJldHVybgogICAgfQoKICAgIC8vIGFzeW5jIGNvbXBvbmVudAogICAgdmFyIGFzeW5jRmFjdG9yeTsKICAgIGlmIChpc1VuZGVmKEN0b3IuY2lkKSkgewogICAgICBhc3luY0ZhY3RvcnkgPSBDdG9yOwogICAgICBDdG9yID0gcmVzb2x2ZUFzeW5jQ29tcG9uZW50KGFzeW5jRmFjdG9yeSwgYmFzZUN0b3IpOwogICAgICBpZiAoQ3RvciA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgbm9kZSBmb3IgYXN5bmMgY29tcG9uZW50LCB3aGljaCBpcyByZW5kZXJlZAogICAgICAgIC8vIGFzIGEgY29tbWVudCBub2RlIGJ1dCBwcmVzZXJ2ZXMgYWxsIHRoZSByYXcgaW5mb3JtYXRpb24gZm9yIHRoZSBub2RlLgogICAgICAgIC8vIHRoZSBpbmZvcm1hdGlvbiB3aWxsIGJlIHVzZWQgZm9yIGFzeW5jIHNlcnZlci1yZW5kZXJpbmcgYW5kIGh5ZHJhdGlvbi4KICAgICAgICByZXR1cm4gY3JlYXRlQXN5bmNQbGFjZWhvbGRlcigKICAgICAgICAgIGFzeW5jRmFjdG9yeSwKICAgICAgICAgIGRhdGEsCiAgICAgICAgICBjb250ZXh0LAogICAgICAgICAgY2hpbGRyZW4sCiAgICAgICAgICB0YWcKICAgICAgICApCiAgICAgIH0KICAgIH0KCiAgICBkYXRhID0gZGF0YSB8fCB7fTsKCiAgICAvLyByZXNvbHZlIGNvbnN0cnVjdG9yIG9wdGlvbnMgaW4gY2FzZSBnbG9iYWwgbWl4aW5zIGFyZSBhcHBsaWVkIGFmdGVyCiAgICAvLyBjb21wb25lbnQgY29uc3RydWN0b3IgY3JlYXRpb24KICAgIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMoQ3Rvcik7CgogICAgLy8gdHJhbnNmb3JtIGNvbXBvbmVudCB2LW1vZGVsIGRhdGEgaW50byBwcm9wcyAmIGV2ZW50cwogICAgaWYgKGlzRGVmKGRhdGEubW9kZWwpKSB7CiAgICAgIHRyYW5zZm9ybU1vZGVsKEN0b3Iub3B0aW9ucywgZGF0YSk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBwcm9wcwogICAgdmFyIHByb3BzRGF0YSA9IGV4dHJhY3RQcm9wc0Zyb21WTm9kZURhdGEoZGF0YSwgQ3RvciwgdGFnKTsKCiAgICAvLyBmdW5jdGlvbmFsIGNvbXBvbmVudAogICAgaWYgKGlzVHJ1ZShDdG9yLm9wdGlvbnMuZnVuY3Rpb25hbCkpIHsKICAgICAgcmV0dXJuIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoQ3RvciwgcHJvcHNEYXRhLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbikKICAgIH0KCiAgICAvLyBleHRyYWN0IGxpc3RlbmVycywgc2luY2UgdGhlc2UgbmVlZHMgdG8gYmUgdHJlYXRlZCBhcwogICAgLy8gY2hpbGQgY29tcG9uZW50IGxpc3RlbmVycyBpbnN0ZWFkIG9mIERPTSBsaXN0ZW5lcnMKICAgIHZhciBsaXN0ZW5lcnMgPSBkYXRhLm9uOwogICAgLy8gcmVwbGFjZSB3aXRoIGxpc3RlbmVycyB3aXRoIC5uYXRpdmUgbW9kaWZpZXIKICAgIC8vIHNvIGl0IGdldHMgcHJvY2Vzc2VkIGR1cmluZyBwYXJlbnQgY29tcG9uZW50IHBhdGNoLgogICAgZGF0YS5vbiA9IGRhdGEubmF0aXZlT247CgogICAgaWYgKGlzVHJ1ZShDdG9yLm9wdGlvbnMuYWJzdHJhY3QpKSB7CiAgICAgIC8vIGFic3RyYWN0IGNvbXBvbmVudHMgZG8gbm90IGtlZXAgYW55dGhpbmcKICAgICAgLy8gb3RoZXIgdGhhbiBwcm9wcyAmIGxpc3RlbmVycyAmIHNsb3QKCiAgICAgIC8vIHdvcmsgYXJvdW5kIGZsb3cKICAgICAgdmFyIHNsb3QgPSBkYXRhLnNsb3Q7CiAgICAgIGRhdGEgPSB7fTsKICAgICAgaWYgKHNsb3QpIHsKICAgICAgICBkYXRhLnNsb3QgPSBzbG90OwogICAgICB9CiAgICB9CgogICAgLy8gaW5zdGFsbCBjb21wb25lbnQgbWFuYWdlbWVudCBob29rcyBvbnRvIHRoZSBwbGFjZWhvbGRlciBub2RlCiAgICBpbnN0YWxsQ29tcG9uZW50SG9va3MoZGF0YSk7CgogICAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgdm5vZGUKICAgIHZhciBuYW1lID0gQ3Rvci5vcHRpb25zLm5hbWUgfHwgdGFnOwogICAgdmFyIHZub2RlID0gbmV3IFZOb2RlKAogICAgICAoInZ1ZS1jb21wb25lbnQtIiArIChDdG9yLmNpZCkgKyAobmFtZSA/ICgiLSIgKyBuYW1lKSA6ICcnKSksCiAgICAgIGRhdGEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQsCiAgICAgIHsgQ3RvcjogQ3RvciwgcHJvcHNEYXRhOiBwcm9wc0RhdGEsIGxpc3RlbmVyczogbGlzdGVuZXJzLCB0YWc6IHRhZywgY2hpbGRyZW46IGNoaWxkcmVuIH0sCiAgICAgIGFzeW5jRmFjdG9yeQogICAgKTsKCiAgICByZXR1cm4gdm5vZGUKICB9CgogIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlRm9yVm5vZGUgKAogICAgdm5vZGUsIC8vIHdlIGtub3cgaXQncyBNb3VudGVkQ29tcG9uZW50Vk5vZGUgYnV0IGZsb3cgZG9lc24ndAogICAgcGFyZW50IC8vIGFjdGl2ZUluc3RhbmNlIGluIGxpZmVjeWNsZSBzdGF0ZQogICkgewogICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgIF9pc0NvbXBvbmVudDogdHJ1ZSwKICAgICAgX3BhcmVudFZub2RlOiB2bm9kZSwKICAgICAgcGFyZW50OiBwYXJlbnQKICAgIH07CiAgICAvLyBjaGVjayBpbmxpbmUtdGVtcGxhdGUgcmVuZGVyIGZ1bmN0aW9ucwogICAgdmFyIGlubGluZVRlbXBsYXRlID0gdm5vZGUuZGF0YS5pbmxpbmVUZW1wbGF0ZTsKICAgIGlmIChpc0RlZihpbmxpbmVUZW1wbGF0ZSkpIHsKICAgICAgb3B0aW9ucy5yZW5kZXIgPSBpbmxpbmVUZW1wbGF0ZS5yZW5kZXI7CiAgICAgIG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gaW5saW5lVGVtcGxhdGUuc3RhdGljUmVuZGVyRm5zOwogICAgfQogICAgcmV0dXJuIG5ldyB2bm9kZS5jb21wb25lbnRPcHRpb25zLkN0b3Iob3B0aW9ucykKICB9CgogIGZ1bmN0aW9uIGluc3RhbGxDb21wb25lbnRIb29rcyAoZGF0YSkgewogICAgdmFyIGhvb2tzID0gZGF0YS5ob29rIHx8IChkYXRhLmhvb2sgPSB7fSk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzVG9NZXJnZS5sZW5ndGg7IGkrKykgewogICAgICB2YXIga2V5ID0gaG9va3NUb01lcmdlW2ldOwogICAgICB2YXIgZXhpc3RpbmcgPSBob29rc1trZXldOwogICAgICB2YXIgdG9NZXJnZSA9IGNvbXBvbmVudFZOb2RlSG9va3Nba2V5XTsKICAgICAgaWYgKGV4aXN0aW5nICE9PSB0b01lcmdlICYmICEoZXhpc3RpbmcgJiYgZXhpc3RpbmcuX21lcmdlZCkpIHsKICAgICAgICBob29rc1trZXldID0gZXhpc3RpbmcgPyBtZXJnZUhvb2skMSh0b01lcmdlLCBleGlzdGluZykgOiB0b01lcmdlOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBtZXJnZUhvb2skMSAoZjEsIGYyKSB7CiAgICB2YXIgbWVyZ2VkID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgLy8gZmxvdyBjb21wbGFpbnMgYWJvdXQgZXh0cmEgYXJncyB3aGljaCBpcyB3aHkgd2UgdXNlIGFueQogICAgICBmMShhLCBiKTsKICAgICAgZjIoYSwgYik7CiAgICB9OwogICAgbWVyZ2VkLl9tZXJnZWQgPSB0cnVlOwogICAgcmV0dXJuIG1lcmdlZAogIH0KCiAgLy8gdHJhbnNmb3JtIGNvbXBvbmVudCB2LW1vZGVsIGluZm8gKHZhbHVlIGFuZCBjYWxsYmFjaykgaW50bwogIC8vIHByb3AgYW5kIGV2ZW50IGhhbmRsZXIgcmVzcGVjdGl2ZWx5LgogIGZ1bmN0aW9uIHRyYW5zZm9ybU1vZGVsIChvcHRpb25zLCBkYXRhKSB7CiAgICB2YXIgcHJvcCA9IChvcHRpb25zLm1vZGVsICYmIG9wdGlvbnMubW9kZWwucHJvcCkgfHwgJ3ZhbHVlJzsKICAgIHZhciBldmVudCA9IChvcHRpb25zLm1vZGVsICYmIG9wdGlvbnMubW9kZWwuZXZlbnQpIHx8ICdpbnB1dCcKICAgIDsoZGF0YS5hdHRycyB8fCAoZGF0YS5hdHRycyA9IHt9KSlbcHJvcF0gPSBkYXRhLm1vZGVsLnZhbHVlOwogICAgdmFyIG9uID0gZGF0YS5vbiB8fCAoZGF0YS5vbiA9IHt9KTsKICAgIHZhciBleGlzdGluZyA9IG9uW2V2ZW50XTsKICAgIHZhciBjYWxsYmFjayA9IGRhdGEubW9kZWwuY2FsbGJhY2s7CiAgICBpZiAoaXNEZWYoZXhpc3RpbmcpKSB7CiAgICAgIGlmICgKICAgICAgICBBcnJheS5pc0FycmF5KGV4aXN0aW5nKQogICAgICAgICAgPyBleGlzdGluZy5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEKICAgICAgICAgIDogZXhpc3RpbmcgIT09IGNhbGxiYWNrCiAgICAgICkgewogICAgICAgIG9uW2V2ZW50XSA9IFtjYWxsYmFja10uY29uY2F0KGV4aXN0aW5nKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgb25bZXZlbnRdID0gY2FsbGJhY2s7CiAgICB9CiAgfQoKICAvKiAgKi8KCiAgdmFyIFNJTVBMRV9OT1JNQUxJWkUgPSAxOwogIHZhciBBTFdBWVNfTk9STUFMSVpFID0gMjsKCiAgLy8gd3JhcHBlciBmdW5jdGlvbiBmb3IgcHJvdmlkaW5nIGEgbW9yZSBmbGV4aWJsZSBpbnRlcmZhY2UKICAvLyB3aXRob3V0IGdldHRpbmcgeWVsbGVkIGF0IGJ5IGZsb3cKICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50ICgKICAgIGNvbnRleHQsCiAgICB0YWcsCiAgICBkYXRhLAogICAgY2hpbGRyZW4sCiAgICBub3JtYWxpemF0aW9uVHlwZSwKICAgIGFsd2F5c05vcm1hbGl6ZQogICkgewogICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkgfHwgaXNQcmltaXRpdmUoZGF0YSkpIHsKICAgICAgbm9ybWFsaXphdGlvblR5cGUgPSBjaGlsZHJlbjsKICAgICAgY2hpbGRyZW4gPSBkYXRhOwogICAgICBkYXRhID0gdW5kZWZpbmVkOwogICAgfQogICAgaWYgKGlzVHJ1ZShhbHdheXNOb3JtYWxpemUpKSB7CiAgICAgIG5vcm1hbGl6YXRpb25UeXBlID0gQUxXQVlTX05PUk1BTElaRTsKICAgIH0KICAgIHJldHVybiBfY3JlYXRlRWxlbWVudChjb250ZXh0LCB0YWcsIGRhdGEsIGNoaWxkcmVuLCBub3JtYWxpemF0aW9uVHlwZSkKICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50ICgKICAgIGNvbnRleHQsCiAgICB0YWcsCiAgICBkYXRhLAogICAgY2hpbGRyZW4sCiAgICBub3JtYWxpemF0aW9uVHlwZQogICkgewogICAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKChkYXRhKS5fX29iX18pKSB7CiAgICAgIHdhcm4oCiAgICAgICAgIkF2b2lkIHVzaW5nIG9ic2VydmVkIGRhdGEgb2JqZWN0IGFzIHZub2RlIGRhdGE6ICIgKyAoSlNPTi5zdHJpbmdpZnkoZGF0YSkpICsgIlxuIiArCiAgICAgICAgJ0Fsd2F5cyBjcmVhdGUgZnJlc2ggdm5vZGUgZGF0YSBvYmplY3RzIGluIGVhY2ggcmVuZGVyIScsCiAgICAgICAgY29udGV4dAogICAgICApOwogICAgICByZXR1cm4gY3JlYXRlRW1wdHlWTm9kZSgpCiAgICB9CiAgICAvLyBvYmplY3Qgc3ludGF4IGluIHYtYmluZAogICAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKGRhdGEuaXMpKSB7CiAgICAgIHRhZyA9IGRhdGEuaXM7CiAgICB9CiAgICBpZiAoIXRhZykgewogICAgICAvLyBpbiBjYXNlIG9mIGNvbXBvbmVudCA6aXMgc2V0IHRvIGZhbHN5IHZhbHVlCiAgICAgIHJldHVybiBjcmVhdGVFbXB0eVZOb2RlKCkKICAgIH0KICAgIC8vIHdhcm4gYWdhaW5zdCBub24tcHJpbWl0aXZlIGtleQogICAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKGRhdGEua2V5KSAmJiAhaXNQcmltaXRpdmUoZGF0YS5rZXkpCiAgICApIHsKICAgICAgewogICAgICAgIHdhcm4oCiAgICAgICAgICAnQXZvaWQgdXNpbmcgbm9uLXByaW1pdGl2ZSB2YWx1ZSBhcyBrZXksICcgKwogICAgICAgICAgJ3VzZSBzdHJpbmcvbnVtYmVyIHZhbHVlIGluc3RlYWQuJywKICAgICAgICAgIGNvbnRleHQKICAgICAgICApOwogICAgICB9CiAgICB9CiAgICAvLyBzdXBwb3J0IHNpbmdsZSBmdW5jdGlvbiBjaGlsZHJlbiBhcyBkZWZhdWx0IHNjb3BlZCBzbG90CiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYKICAgICAgdHlwZW9mIGNoaWxkcmVuWzBdID09PSAnZnVuY3Rpb24nCiAgICApIHsKICAgICAgZGF0YSA9IGRhdGEgfHwge307CiAgICAgIGRhdGEuc2NvcGVkU2xvdHMgPSB7IGRlZmF1bHQ6IGNoaWxkcmVuWzBdIH07CiAgICAgIGNoaWxkcmVuLmxlbmd0aCA9IDA7CiAgICB9CiAgICBpZiAobm9ybWFsaXphdGlvblR5cGUgPT09IEFMV0FZU19OT1JNQUxJWkUpIHsKICAgICAgY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbik7CiAgICB9IGVsc2UgaWYgKG5vcm1hbGl6YXRpb25UeXBlID09PSBTSU1QTEVfTk9STUFMSVpFKSB7CiAgICAgIGNoaWxkcmVuID0gc2ltcGxlTm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pOwogICAgfQogICAgdmFyIHZub2RlLCBuczsKICAgIGlmICh0eXBlb2YgdGFnID09PSAnc3RyaW5nJykgewogICAgICB2YXIgQ3RvcjsKICAgICAgbnMgPSAoY29udGV4dC4kdm5vZGUgJiYgY29udGV4dC4kdm5vZGUubnMpIHx8IGNvbmZpZy5nZXRUYWdOYW1lc3BhY2UodGFnKTsKICAgICAgaWYgKGNvbmZpZy5pc1Jlc2VydmVkVGFnKHRhZykpIHsKICAgICAgICAvLyBwbGF0Zm9ybSBidWlsdC1pbiBlbGVtZW50cwogICAgICAgIHZub2RlID0gbmV3IFZOb2RlKAogICAgICAgICAgY29uZmlnLnBhcnNlUGxhdGZvcm1UYWdOYW1lKHRhZyksIGRhdGEsIGNoaWxkcmVuLAogICAgICAgICAgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQKICAgICAgICApOwogICAgICB9IGVsc2UgaWYgKCghZGF0YSB8fCAhZGF0YS5wcmUpICYmIGlzRGVmKEN0b3IgPSByZXNvbHZlQXNzZXQoY29udGV4dC4kb3B0aW9ucywgJ2NvbXBvbmVudHMnLCB0YWcpKSkgewogICAgICAgIC8vIGNvbXBvbmVudAogICAgICAgIHZub2RlID0gY3JlYXRlQ29tcG9uZW50KEN0b3IsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuLCB0YWcpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHVua25vd24gb3IgdW5saXN0ZWQgbmFtZXNwYWNlZCBlbGVtZW50cwogICAgICAgIC8vIGNoZWNrIGF0IHJ1bnRpbWUgYmVjYXVzZSBpdCBtYXkgZ2V0IGFzc2lnbmVkIGEgbmFtZXNwYWNlIHdoZW4gaXRzCiAgICAgICAgLy8gcGFyZW50IG5vcm1hbGl6ZXMgY2hpbGRyZW4KICAgICAgICB2bm9kZSA9IG5ldyBWTm9kZSgKICAgICAgICAgIHRhZywgZGF0YSwgY2hpbGRyZW4sCiAgICAgICAgICB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29udGV4dAogICAgICAgICk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIGRpcmVjdCBjb21wb25lbnQgb3B0aW9ucyAvIGNvbnN0cnVjdG9yCiAgICAgIHZub2RlID0gY3JlYXRlQ29tcG9uZW50KHRhZywgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4pOwogICAgfQogICAgaWYgKEFycmF5LmlzQXJyYXkodm5vZGUpKSB7CiAgICAgIHJldHVybiB2bm9kZQogICAgfSBlbHNlIGlmIChpc0RlZih2bm9kZSkpIHsKICAgICAgaWYgKGlzRGVmKG5zKSkgeyBhcHBseU5TKHZub2RlLCBucyk7IH0KICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7IHJlZ2lzdGVyRGVlcEJpbmRpbmdzKGRhdGEpOyB9CiAgICAgIHJldHVybiB2bm9kZQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGNyZWF0ZUVtcHR5Vk5vZGUoKQogICAgfQogIH0KCiAgZnVuY3Rpb24gYXBwbHlOUyAodm5vZGUsIG5zLCBmb3JjZSkgewogICAgdm5vZGUubnMgPSBuczsKICAgIGlmICh2bm9kZS50YWcgPT09ICdmb3JlaWduT2JqZWN0JykgewogICAgICAvLyB1c2UgZGVmYXVsdCBuYW1lc3BhY2UgaW5zaWRlIGZvcmVpZ25PYmplY3QKICAgICAgbnMgPSB1bmRlZmluZWQ7CiAgICAgIGZvcmNlID0gdHJ1ZTsKICAgIH0KICAgIGlmIChpc0RlZih2bm9kZS5jaGlsZHJlbikpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIgY2hpbGQgPSB2bm9kZS5jaGlsZHJlbltpXTsKICAgICAgICBpZiAoaXNEZWYoY2hpbGQudGFnKSAmJiAoCiAgICAgICAgICBpc1VuZGVmKGNoaWxkLm5zKSB8fCAoaXNUcnVlKGZvcmNlKSAmJiBjaGlsZC50YWcgIT09ICdzdmcnKSkpIHsKICAgICAgICAgIGFwcGx5TlMoY2hpbGQsIG5zLCBmb3JjZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICAvLyByZWYgIzUzMTgKICAvLyBuZWNlc3NhcnkgdG8gZW5zdXJlIHBhcmVudCByZS1yZW5kZXIgd2hlbiBkZWVwIGJpbmRpbmdzIGxpa2UgOnN0eWxlIGFuZAogIC8vIDpjbGFzcyBhcmUgdXNlZCBvbiBzbG90IG5vZGVzCiAgZnVuY3Rpb24gcmVnaXN0ZXJEZWVwQmluZGluZ3MgKGRhdGEpIHsKICAgIGlmIChpc09iamVjdChkYXRhLnN0eWxlKSkgewogICAgICB0cmF2ZXJzZShkYXRhLnN0eWxlKTsKICAgIH0KICAgIGlmIChpc09iamVjdChkYXRhLmNsYXNzKSkgewogICAgICB0cmF2ZXJzZShkYXRhLmNsYXNzKTsKICAgIH0KICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiBpbml0UmVuZGVyICh2bSkgewogICAgdm0uX3Zub2RlID0gbnVsbDsgLy8gdGhlIHJvb3Qgb2YgdGhlIGNoaWxkIHRyZWUKICAgIHZtLl9zdGF0aWNUcmVlcyA9IG51bGw7IC8vIHYtb25jZSBjYWNoZWQgdHJlZXMKICAgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7CiAgICB2YXIgcGFyZW50Vm5vZGUgPSB2bS4kdm5vZGUgPSBvcHRpb25zLl9wYXJlbnRWbm9kZTsgLy8gdGhlIHBsYWNlaG9sZGVyIG5vZGUgaW4gcGFyZW50IHRyZWUKICAgIHZhciByZW5kZXJDb250ZXh0ID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuY29udGV4dDsKICAgIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyhvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiwgcmVuZGVyQ29udGV4dCk7CiAgICB2bS4kc2NvcGVkU2xvdHMgPSBlbXB0eU9iamVjdDsKICAgIC8vIGJpbmQgdGhlIGNyZWF0ZUVsZW1lbnQgZm4gdG8gdGhpcyBpbnN0YW5jZQogICAgLy8gc28gdGhhdCB3ZSBnZXQgcHJvcGVyIHJlbmRlciBjb250ZXh0IGluc2lkZSBpdC4KICAgIC8vIGFyZ3Mgb3JkZXI6IHRhZywgZGF0YSwgY2hpbGRyZW4sIG5vcm1hbGl6YXRpb25UeXBlLCBhbHdheXNOb3JtYWxpemUKICAgIC8vIGludGVybmFsIHZlcnNpb24gaXMgdXNlZCBieSByZW5kZXIgZnVuY3Rpb25zIGNvbXBpbGVkIGZyb20gdGVtcGxhdGVzCiAgICB2bS5fYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBjcmVhdGVFbGVtZW50KHZtLCBhLCBiLCBjLCBkLCBmYWxzZSk7IH07CiAgICAvLyBub3JtYWxpemF0aW9uIGlzIGFsd2F5cyBhcHBsaWVkIGZvciB0aGUgcHVibGljIHZlcnNpb24sIHVzZWQgaW4KICAgIC8vIHVzZXItd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zLgogICAgdm0uJGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyByZXR1cm4gY3JlYXRlRWxlbWVudCh2bSwgYSwgYiwgYywgZCwgdHJ1ZSk7IH07CgogICAgLy8gJGF0dHJzICYgJGxpc3RlbmVycyBhcmUgZXhwb3NlZCBmb3IgZWFzaWVyIEhPQyBjcmVhdGlvbi4KICAgIC8vIHRoZXkgbmVlZCB0byBiZSByZWFjdGl2ZSBzbyB0aGF0IEhPQ3MgdXNpbmcgdGhlbSBhcmUgYWx3YXlzIHVwZGF0ZWQKICAgIHZhciBwYXJlbnREYXRhID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuZGF0YTsKCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgewogICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwgJyRhdHRycycsIHBhcmVudERhdGEgJiYgcGFyZW50RGF0YS5hdHRycyB8fCBlbXB0eU9iamVjdCwgZnVuY3Rpb24gKCkgewogICAgICAgICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgJiYgd2FybigiJGF0dHJzIGlzIHJlYWRvbmx5LiIsIHZtKTsKICAgICAgfSwgdHJ1ZSk7CiAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCAnJGxpc3RlbmVycycsIG9wdGlvbnMuX3BhcmVudExpc3RlbmVycyB8fCBlbXB0eU9iamVjdCwgZnVuY3Rpb24gKCkgewogICAgICAgICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgJiYgd2FybigiJGxpc3RlbmVycyBpcyByZWFkb25seS4iLCB2bSk7CiAgICAgIH0sIHRydWUpOwogICAgfQogIH0KCiAgdmFyIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7CgogIGZ1bmN0aW9uIHJlbmRlck1peGluIChWdWUpIHsKICAgIC8vIGluc3RhbGwgcnVudGltZSBjb252ZW5pZW5jZSBoZWxwZXJzCiAgICBpbnN0YWxsUmVuZGVySGVscGVycyhWdWUucHJvdG90eXBlKTsKCiAgICBWdWUucHJvdG90eXBlLiRuZXh0VGljayA9IGZ1bmN0aW9uIChmbikgewogICAgICByZXR1cm4gbmV4dFRpY2soZm4sIHRoaXMpCiAgICB9OwoKICAgIFZ1ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHJlZiA9IHZtLiRvcHRpb25zOwogICAgICB2YXIgcmVuZGVyID0gcmVmLnJlbmRlcjsKICAgICAgdmFyIF9wYXJlbnRWbm9kZSA9IHJlZi5fcGFyZW50Vm5vZGU7CgogICAgICBpZiAoX3BhcmVudFZub2RlKSB7CiAgICAgICAgdm0uJHNjb3BlZFNsb3RzID0gbm9ybWFsaXplU2NvcGVkU2xvdHMoCiAgICAgICAgICBfcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cywKICAgICAgICAgIHZtLiRzbG90cywKICAgICAgICAgIHZtLiRzY29wZWRTbG90cwogICAgICAgICk7CiAgICAgIH0KCiAgICAgIC8vIHNldCBwYXJlbnQgdm5vZGUuIHRoaXMgYWxsb3dzIHJlbmRlciBmdW5jdGlvbnMgdG8gaGF2ZSBhY2Nlc3MKICAgICAgLy8gdG8gdGhlIGRhdGEgb24gdGhlIHBsYWNlaG9sZGVyIG5vZGUuCiAgICAgIHZtLiR2bm9kZSA9IF9wYXJlbnRWbm9kZTsKICAgICAgLy8gcmVuZGVyIHNlbGYKICAgICAgdmFyIHZub2RlOwogICAgICB0cnkgewogICAgICAgIC8vIFRoZXJlJ3Mgbm8gbmVlZCB0byBtYWludGFpbiBhIHN0YWNrIGJlY2F1ZXMgYWxsIHJlbmRlciBmbnMgYXJlIGNhbGxlZAogICAgICAgIC8vIHNlcGFyYXRlbHkgZnJvbSBvbmUgYW5vdGhlci4gTmVzdGVkIGNvbXBvbmVudCdzIHJlbmRlciBmbnMgYXJlIGNhbGxlZAogICAgICAgIC8vIHdoZW4gcGFyZW50IGNvbXBvbmVudCBpcyBwYXRjaGVkLgogICAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IHZtOwogICAgICAgIHZub2RlID0gcmVuZGVyLmNhbGwodm0uX3JlbmRlclByb3h5LCB2bS4kY3JlYXRlRWxlbWVudCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBoYW5kbGVFcnJvcihlLCB2bSwgInJlbmRlciIpOwogICAgICAgIC8vIHJldHVybiBlcnJvciByZW5kZXIgcmVzdWx0LAogICAgICAgIC8vIG9yIHByZXZpb3VzIHZub2RlIHRvIHByZXZlbnQgcmVuZGVyIGVycm9yIGNhdXNpbmcgYmxhbmsgY29tcG9uZW50CiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KICAgICAgICBpZiAodm0uJG9wdGlvbnMucmVuZGVyRXJyb3IpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZub2RlID0gdm0uJG9wdGlvbnMucmVuZGVyRXJyb3IuY2FsbCh2bS5fcmVuZGVyUHJveHksIHZtLiRjcmVhdGVFbGVtZW50LCBlKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sICJyZW5kZXJFcnJvciIpOwogICAgICAgICAgICB2bm9kZSA9IHZtLl92bm9kZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdm5vZGUgPSB2bS5fdm5vZGU7CiAgICAgICAgfQogICAgICB9IGZpbmFsbHkgewogICAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7CiAgICAgIH0KICAgICAgLy8gaWYgdGhlIHJldHVybmVkIGFycmF5IGNvbnRhaW5zIG9ubHkgYSBzaW5nbGUgbm9kZSwgYWxsb3cgaXQKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodm5vZGUpICYmIHZub2RlLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHZub2RlID0gdm5vZGVbMF07CiAgICAgIH0KICAgICAgLy8gcmV0dXJuIGVtcHR5IHZub2RlIGluIGNhc2UgdGhlIHJlbmRlciBmdW5jdGlvbiBlcnJvcmVkIG91dAogICAgICBpZiAoISh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZub2RlKSkgewogICAgICAgICAgd2FybigKICAgICAgICAgICAgJ011bHRpcGxlIHJvb3Qgbm9kZXMgcmV0dXJuZWQgZnJvbSByZW5kZXIgZnVuY3Rpb24uIFJlbmRlciBmdW5jdGlvbiAnICsKICAgICAgICAgICAgJ3Nob3VsZCByZXR1cm4gYSBzaW5nbGUgcm9vdCBub2RlLicsCiAgICAgICAgICAgIHZtCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICB2bm9kZSA9IGNyZWF0ZUVtcHR5Vk5vZGUoKTsKICAgICAgfQogICAgICAvLyBzZXQgcGFyZW50CiAgICAgIHZub2RlLnBhcmVudCA9IF9wYXJlbnRWbm9kZTsKICAgICAgcmV0dXJuIHZub2RlCiAgICB9OwogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGVuc3VyZUN0b3IgKGNvbXAsIGJhc2UpIHsKICAgIGlmICgKICAgICAgY29tcC5fX2VzTW9kdWxlIHx8CiAgICAgIChoYXNTeW1ib2wgJiYgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJykKICAgICkgewogICAgICBjb21wID0gY29tcC5kZWZhdWx0OwogICAgfQogICAgcmV0dXJuIGlzT2JqZWN0KGNvbXApCiAgICAgID8gYmFzZS5leHRlbmQoY29tcCkKICAgICAgOiBjb21wCiAgfQoKICBmdW5jdGlvbiBjcmVhdGVBc3luY1BsYWNlaG9sZGVyICgKICAgIGZhY3RvcnksCiAgICBkYXRhLAogICAgY29udGV4dCwKICAgIGNoaWxkcmVuLAogICAgdGFnCiAgKSB7CiAgICB2YXIgbm9kZSA9IGNyZWF0ZUVtcHR5Vk5vZGUoKTsKICAgIG5vZGUuYXN5bmNGYWN0b3J5ID0gZmFjdG9yeTsKICAgIG5vZGUuYXN5bmNNZXRhID0geyBkYXRhOiBkYXRhLCBjb250ZXh0OiBjb250ZXh0LCBjaGlsZHJlbjogY2hpbGRyZW4sIHRhZzogdGFnIH07CiAgICByZXR1cm4gbm9kZQogIH0KCiAgZnVuY3Rpb24gcmVzb2x2ZUFzeW5jQ29tcG9uZW50ICgKICAgIGZhY3RvcnksCiAgICBiYXNlQ3RvcgogICkgewogICAgaWYgKGlzVHJ1ZShmYWN0b3J5LmVycm9yKSAmJiBpc0RlZihmYWN0b3J5LmVycm9yQ29tcCkpIHsKICAgICAgcmV0dXJuIGZhY3RvcnkuZXJyb3JDb21wCiAgICB9CgogICAgaWYgKGlzRGVmKGZhY3RvcnkucmVzb2x2ZWQpKSB7CiAgICAgIHJldHVybiBmYWN0b3J5LnJlc29sdmVkCiAgICB9CgogICAgdmFyIG93bmVyID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlOwogICAgaWYgKG93bmVyICYmIGlzRGVmKGZhY3Rvcnkub3duZXJzKSAmJiBmYWN0b3J5Lm93bmVycy5pbmRleE9mKG93bmVyKSA9PT0gLTEpIHsKICAgICAgLy8gYWxyZWFkeSBwZW5kaW5nCiAgICAgIGZhY3Rvcnkub3duZXJzLnB1c2gob3duZXIpOwogICAgfQoKICAgIGlmIChpc1RydWUoZmFjdG9yeS5sb2FkaW5nKSAmJiBpc0RlZihmYWN0b3J5LmxvYWRpbmdDb21wKSkgewogICAgICByZXR1cm4gZmFjdG9yeS5sb2FkaW5nQ29tcAogICAgfQoKICAgIGlmIChvd25lciAmJiAhaXNEZWYoZmFjdG9yeS5vd25lcnMpKSB7CiAgICAgIHZhciBvd25lcnMgPSBmYWN0b3J5Lm93bmVycyA9IFtvd25lcl07CiAgICAgIHZhciBzeW5jID0gdHJ1ZTsKICAgICAgdmFyIHRpbWVyTG9hZGluZyA9IG51bGw7CiAgICAgIHZhciB0aW1lclRpbWVvdXQgPSBudWxsCgogICAgICA7KG93bmVyKS4kb24oJ2hvb2s6ZGVzdHJveWVkJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlKG93bmVycywgb3duZXIpOyB9KTsKCiAgICAgIHZhciBmb3JjZVJlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJDb21wbGV0ZWQpIHsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG93bmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIChvd25lcnNbaV0pLiRmb3JjZVVwZGF0ZSgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlbmRlckNvbXBsZXRlZCkgewogICAgICAgICAgb3duZXJzLmxlbmd0aCA9IDA7CiAgICAgICAgICBpZiAodGltZXJMb2FkaW5nICE9PSBudWxsKSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lckxvYWRpbmcpOwogICAgICAgICAgICB0aW1lckxvYWRpbmcgPSBudWxsOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRpbWVyVGltZW91dCAhPT0gbnVsbCkgewogICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJUaW1lb3V0KTsKICAgICAgICAgICAgdGltZXJUaW1lb3V0ID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICB2YXIgcmVzb2x2ZSA9IG9uY2UoZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNhY2hlIHJlc29sdmVkCiAgICAgICAgZmFjdG9yeS5yZXNvbHZlZCA9IGVuc3VyZUN0b3IocmVzLCBiYXNlQ3Rvcik7CiAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrcyBvbmx5IGlmIHRoaXMgaXMgbm90IGEgc3luY2hyb25vdXMgcmVzb2x2ZQogICAgICAgIC8vIChhc3luYyByZXNvbHZlcyBhcmUgc2hpbW1lZCBhcyBzeW5jaHJvbm91cyBkdXJpbmcgU1NSKQogICAgICAgIGlmICghc3luYykgewogICAgICAgICAgZm9yY2VSZW5kZXIodHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG93bmVycy5sZW5ndGggPSAwOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICB2YXIgcmVqZWN0ID0gb25jZShmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgd2FybigKICAgICAgICAgICJGYWlsZWQgdG8gcmVzb2x2ZSBhc3luYyBjb21wb25lbnQ6ICIgKyAoU3RyaW5nKGZhY3RvcnkpKSArCiAgICAgICAgICAocmVhc29uID8gKCJcblJlYXNvbjogIiArIHJlYXNvbikgOiAnJykKICAgICAgICApOwogICAgICAgIGlmIChpc0RlZihmYWN0b3J5LmVycm9yQ29tcCkpIHsKICAgICAgICAgIGZhY3RvcnkuZXJyb3IgPSB0cnVlOwogICAgICAgICAgZm9yY2VSZW5kZXIodHJ1ZSk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHZhciByZXMgPSBmYWN0b3J5KHJlc29sdmUsIHJlamVjdCk7CgogICAgICBpZiAoaXNPYmplY3QocmVzKSkgewogICAgICAgIGlmIChpc1Byb21pc2UocmVzKSkgewogICAgICAgICAgLy8gKCkgPT4gUHJvbWlzZQogICAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkpIHsKICAgICAgICAgICAgcmVzLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZShyZXMuY29tcG9uZW50KSkgewogICAgICAgICAgcmVzLmNvbXBvbmVudC50aGVuKHJlc29sdmUsIHJlamVjdCk7CgogICAgICAgICAgaWYgKGlzRGVmKHJlcy5lcnJvcikpIHsKICAgICAgICAgICAgZmFjdG9yeS5lcnJvckNvbXAgPSBlbnN1cmVDdG9yKHJlcy5lcnJvciwgYmFzZUN0b3IpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpc0RlZihyZXMubG9hZGluZykpIHsKICAgICAgICAgICAgZmFjdG9yeS5sb2FkaW5nQ29tcCA9IGVuc3VyZUN0b3IocmVzLmxvYWRpbmcsIGJhc2VDdG9yKTsKICAgICAgICAgICAgaWYgKHJlcy5kZWxheSA9PT0gMCkgewogICAgICAgICAgICAgIGZhY3RvcnkubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGltZXJMb2FkaW5nID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB0aW1lckxvYWRpbmcgPSBudWxsOwogICAgICAgICAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkgJiYgaXNVbmRlZihmYWN0b3J5LmVycm9yKSkgewogICAgICAgICAgICAgICAgICBmYWN0b3J5LmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICBmb3JjZVJlbmRlcihmYWxzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgcmVzLmRlbGF5IHx8IDIwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaXNEZWYocmVzLnRpbWVvdXQpKSB7CiAgICAgICAgICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHRpbWVyVGltZW91dCA9IG51bGw7CiAgICAgICAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkpIHsKICAgICAgICAgICAgICAgIHJlamVjdCgKICAgICAgICAgICAgICAgICAgInRpbWVvdXQgKCIgKyAocmVzLnRpbWVvdXQpICsgIm1zKSIKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCByZXMudGltZW91dCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBzeW5jID0gZmFsc2U7CiAgICAgIC8vIHJldHVybiBpbiBjYXNlIHJlc29sdmVkIHN5bmNocm9ub3VzbHkKICAgICAgcmV0dXJuIGZhY3RvcnkubG9hZGluZwogICAgICAgID8gZmFjdG9yeS5sb2FkaW5nQ29tcAogICAgICAgIDogZmFjdG9yeS5yZXNvbHZlZAogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGlzQXN5bmNQbGFjZWhvbGRlciAobm9kZSkgewogICAgcmV0dXJuIG5vZGUuaXNDb21tZW50ICYmIG5vZGUuYXN5bmNGYWN0b3J5CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZCAoY2hpbGRyZW4pIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGMgPSBjaGlsZHJlbltpXTsKICAgICAgICBpZiAoaXNEZWYoYykgJiYgKGlzRGVmKGMuY29tcG9uZW50T3B0aW9ucykgfHwgaXNBc3luY1BsYWNlaG9sZGVyKGMpKSkgewogICAgICAgICAgcmV0dXJuIGMKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIC8qICAqLwoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaW5pdEV2ZW50cyAodm0pIHsKICAgIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgdm0uX2hhc0hvb2tFdmVudCA9IGZhbHNlOwogICAgLy8gaW5pdCBwYXJlbnQgYXR0YWNoZWQgZXZlbnRzCiAgICB2YXIgbGlzdGVuZXJzID0gdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVyczsKICAgIGlmIChsaXN0ZW5lcnMpIHsKICAgICAgdXBkYXRlQ29tcG9uZW50TGlzdGVuZXJzKHZtLCBsaXN0ZW5lcnMpOwogICAgfQogIH0KCiAgdmFyIHRhcmdldDsKCiAgZnVuY3Rpb24gYWRkIChldmVudCwgZm4pIHsKICAgIHRhcmdldC4kb24oZXZlbnQsIGZuKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZSQxIChldmVudCwgZm4pIHsKICAgIHRhcmdldC4kb2ZmKGV2ZW50LCBmbik7CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVPbmNlSGFuZGxlciAoZXZlbnQsIGZuKSB7CiAgICB2YXIgX3RhcmdldCA9IHRhcmdldDsKICAgIHJldHVybiBmdW5jdGlvbiBvbmNlSGFuZGxlciAoKSB7CiAgICAgIHZhciByZXMgPSBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgICBpZiAocmVzICE9PSBudWxsKSB7CiAgICAgICAgX3RhcmdldC4kb2ZmKGV2ZW50LCBvbmNlSGFuZGxlcik7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudExpc3RlbmVycyAoCiAgICB2bSwKICAgIGxpc3RlbmVycywKICAgIG9sZExpc3RlbmVycwogICkgewogICAgdGFyZ2V0ID0gdm07CiAgICB1cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMgfHwge30sIGFkZCwgcmVtb3ZlJDEsIGNyZWF0ZU9uY2VIYW5kbGVyLCB2bSk7CiAgICB0YXJnZXQgPSB1bmRlZmluZWQ7CiAgfQoKICBmdW5jdGlvbiBldmVudHNNaXhpbiAoVnVlKSB7CiAgICB2YXIgaG9va1JFID0gL15ob29rOi87CiAgICBWdWUucHJvdG90eXBlLiRvbiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnQpKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBldmVudC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHZtLiRvbihldmVudFtpXSwgZm4pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAodm0uX2V2ZW50c1tldmVudF0gfHwgKHZtLl9ldmVudHNbZXZlbnRdID0gW10pKS5wdXNoKGZuKTsKICAgICAgICAvLyBvcHRpbWl6ZSBob29rOmV2ZW50IGNvc3QgYnkgdXNpbmcgYSBib29sZWFuIGZsYWcgbWFya2VkIGF0IHJlZ2lzdHJhdGlvbgogICAgICAgIC8vIGluc3RlYWQgb2YgYSBoYXNoIGxvb2t1cAogICAgICAgIGlmIChob29rUkUudGVzdChldmVudCkpIHsKICAgICAgICAgIHZtLl9oYXNIb29rRXZlbnQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gdm0KICAgIH07CgogICAgVnVlLnByb3RvdHlwZS4kb25jZSA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgZnVuY3Rpb24gb24gKCkgewogICAgICAgIHZtLiRvZmYoZXZlbnQsIG9uKTsKICAgICAgICBmbi5hcHBseSh2bSwgYXJndW1lbnRzKTsKICAgICAgfQogICAgICBvbi5mbiA9IGZuOwogICAgICB2bS4kb24oZXZlbnQsIG9uKTsKICAgICAgcmV0dXJuIHZtCiAgICB9OwoKICAgIFZ1ZS5wcm90b3R5cGUuJG9mZiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgLy8gYWxsCiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgewogICAgICAgIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgICAgIHJldHVybiB2bQogICAgICB9CiAgICAgIC8vIGFycmF5IG9mIGV2ZW50cwogICAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudCkpIHsKICAgICAgICBmb3IgKHZhciBpJDEgPSAwLCBsID0gZXZlbnQubGVuZ3RoOyBpJDEgPCBsOyBpJDErKykgewogICAgICAgICAgdm0uJG9mZihldmVudFtpJDFdLCBmbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2bQogICAgICB9CiAgICAgIC8vIHNwZWNpZmljIGV2ZW50CiAgICAgIHZhciBjYnMgPSB2bS5fZXZlbnRzW2V2ZW50XTsKICAgICAgaWYgKCFjYnMpIHsKICAgICAgICByZXR1cm4gdm0KICAgICAgfQogICAgICBpZiAoIWZuKSB7CiAgICAgICAgdm0uX2V2ZW50c1tldmVudF0gPSBudWxsOwogICAgICAgIHJldHVybiB2bQogICAgICB9CiAgICAgIC8vIHNwZWNpZmljIGhhbmRsZXIKICAgICAgdmFyIGNiOwogICAgICB2YXIgaSA9IGNicy5sZW5ndGg7CiAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICBjYiA9IGNic1tpXTsKICAgICAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikgewogICAgICAgICAgY2JzLnNwbGljZShpLCAxKTsKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB2bQogICAgfTsKCiAgICBWdWUucHJvdG90eXBlLiRlbWl0ID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHsKICAgICAgICB2YXIgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgdm0uX2V2ZW50c1tsb3dlckNhc2VFdmVudF0pIHsKICAgICAgICAgIHRpcCgKICAgICAgICAgICAgIkV2ZW50IFwiIiArIGxvd2VyQ2FzZUV2ZW50ICsgIlwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50ICIgKwogICAgICAgICAgICAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgIiBidXQgdGhlIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZCBmb3IgXCIiICsgZXZlbnQgKyAiXCIuICIgKwogICAgICAgICAgICAiTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgeW91IGNhbm5vdCB1c2UgIiArCiAgICAgICAgICAgICJ2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gIiArCiAgICAgICAgICAgICJZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiIgKyAoaHlwaGVuYXRlKGV2ZW50KSkgKyAiXCIgaW5zdGVhZCBvZiBcIiIgKyBldmVudCArICJcIi4iCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgY2JzID0gdm0uX2V2ZW50c1tldmVudF07CiAgICAgIGlmIChjYnMpIHsKICAgICAgICBjYnMgPSBjYnMubGVuZ3RoID4gMSA/IHRvQXJyYXkoY2JzKSA6IGNiczsKICAgICAgICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzLCAxKTsKICAgICAgICB2YXIgaW5mbyA9ICJldmVudCBoYW5kbGVyIGZvciBcIiIgKyBldmVudCArICJcIiI7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhjYnNbaV0sIHZtLCBhcmdzLCB2bSwgaW5mbyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB2bQogICAgfTsKICB9CgogIC8qICAqLwoKICB2YXIgYWN0aXZlSW5zdGFuY2UgPSBudWxsOwogIHZhciBpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgPSBmYWxzZTsKCiAgZnVuY3Rpb24gc2V0QWN0aXZlSW5zdGFuY2Uodm0pIHsKICAgIHZhciBwcmV2QWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZTsKICAgIGFjdGl2ZUluc3RhbmNlID0gdm07CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBhY3RpdmVJbnN0YW5jZSA9IHByZXZBY3RpdmVJbnN0YW5jZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGluaXRMaWZlY3ljbGUgKHZtKSB7CiAgICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zOwoKICAgIC8vIGxvY2F0ZSBmaXJzdCBub24tYWJzdHJhY3QgcGFyZW50CiAgICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7CiAgICBpZiAocGFyZW50ICYmICFvcHRpb25zLmFic3RyYWN0KSB7CiAgICAgIHdoaWxlIChwYXJlbnQuJG9wdGlvbnMuYWJzdHJhY3QgJiYgcGFyZW50LiRwYXJlbnQpIHsKICAgICAgICBwYXJlbnQgPSBwYXJlbnQuJHBhcmVudDsKICAgICAgfQogICAgICBwYXJlbnQuJGNoaWxkcmVuLnB1c2godm0pOwogICAgfQoKICAgIHZtLiRwYXJlbnQgPSBwYXJlbnQ7CiAgICB2bS4kcm9vdCA9IHBhcmVudCA/IHBhcmVudC4kcm9vdCA6IHZtOwoKICAgIHZtLiRjaGlsZHJlbiA9IFtdOwogICAgdm0uJHJlZnMgPSB7fTsKCiAgICB2bS5fd2F0Y2hlciA9IG51bGw7CiAgICB2bS5faW5hY3RpdmUgPSBudWxsOwogICAgdm0uX2RpcmVjdEluYWN0aXZlID0gZmFsc2U7CiAgICB2bS5faXNNb3VudGVkID0gZmFsc2U7CiAgICB2bS5faXNEZXN0cm95ZWQgPSBmYWxzZTsKICAgIHZtLl9pc0JlaW5nRGVzdHJveWVkID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBsaWZlY3ljbGVNaXhpbiAoVnVlKSB7CiAgICBWdWUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAodm5vZGUsIGh5ZHJhdGluZykgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgcHJldkVsID0gdm0uJGVsOwogICAgICB2YXIgcHJldlZub2RlID0gdm0uX3Zub2RlOwogICAgICB2YXIgcmVzdG9yZUFjdGl2ZUluc3RhbmNlID0gc2V0QWN0aXZlSW5zdGFuY2Uodm0pOwogICAgICB2bS5fdm5vZGUgPSB2bm9kZTsKICAgICAgLy8gVnVlLnByb3RvdHlwZS5fX3BhdGNoX18gaXMgaW5qZWN0ZWQgaW4gZW50cnkgcG9pbnRzCiAgICAgIC8vIGJhc2VkIG9uIHRoZSByZW5kZXJpbmcgYmFja2VuZCB1c2VkLgogICAgICBpZiAoIXByZXZWbm9kZSkgewogICAgICAgIC8vIGluaXRpYWwgcmVuZGVyCiAgICAgICAgdm0uJGVsID0gdm0uX19wYXRjaF9fKHZtLiRlbCwgdm5vZGUsIGh5ZHJhdGluZywgZmFsc2UgLyogcmVtb3ZlT25seSAqLyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdXBkYXRlcwogICAgICAgIHZtLiRlbCA9IHZtLl9fcGF0Y2hfXyhwcmV2Vm5vZGUsIHZub2RlKTsKICAgICAgfQogICAgICByZXN0b3JlQWN0aXZlSW5zdGFuY2UoKTsKICAgICAgLy8gdXBkYXRlIF9fdnVlX18gcmVmZXJlbmNlCiAgICAgIGlmIChwcmV2RWwpIHsKICAgICAgICBwcmV2RWwuX192dWVfXyA9IG51bGw7CiAgICAgIH0KICAgICAgaWYgKHZtLiRlbCkgewogICAgICAgIHZtLiRlbC5fX3Z1ZV9fID0gdm07CiAgICAgIH0KICAgICAgLy8gaWYgcGFyZW50IGlzIGFuIEhPQywgdXBkYXRlIGl0cyAkZWwgYXMgd2VsbAogICAgICBpZiAodm0uJHZub2RlICYmIHZtLiRwYXJlbnQgJiYgdm0uJHZub2RlID09PSB2bS4kcGFyZW50Ll92bm9kZSkgewogICAgICAgIHZtLiRwYXJlbnQuJGVsID0gdm0uJGVsOwogICAgICB9CiAgICAgIC8vIHVwZGF0ZWQgaG9vayBpcyBjYWxsZWQgYnkgdGhlIHNjaGVkdWxlciB0byBlbnN1cmUgdGhhdCBjaGlsZHJlbiBhcmUKICAgICAgLy8gdXBkYXRlZCBpbiBhIHBhcmVudCdzIHVwZGF0ZWQgaG9vay4KICAgIH07CgogICAgVnVlLnByb3RvdHlwZS4kZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIGlmICh2bS5fd2F0Y2hlcikgewogICAgICAgIHZtLl93YXRjaGVyLnVwZGF0ZSgpOwogICAgICB9CiAgICB9OwoKICAgIFZ1ZS5wcm90b3R5cGUuJGRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIGlmICh2bS5faXNCZWluZ0Rlc3Ryb3llZCkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlRGVzdHJveScpOwogICAgICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IHRydWU7CiAgICAgIC8vIHJlbW92ZSBzZWxmIGZyb20gcGFyZW50CiAgICAgIHZhciBwYXJlbnQgPSB2bS4kcGFyZW50OwogICAgICBpZiAocGFyZW50ICYmICFwYXJlbnQuX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXZtLiRvcHRpb25zLmFic3RyYWN0KSB7CiAgICAgICAgcmVtb3ZlKHBhcmVudC4kY2hpbGRyZW4sIHZtKTsKICAgICAgfQogICAgICAvLyB0ZWFyZG93biB3YXRjaGVycwogICAgICBpZiAodm0uX3dhdGNoZXIpIHsKICAgICAgICB2bS5fd2F0Y2hlci50ZWFyZG93bigpOwogICAgICB9CiAgICAgIHZhciBpID0gdm0uX3dhdGNoZXJzLmxlbmd0aDsKICAgICAgd2hpbGUgKGktLSkgewogICAgICAgIHZtLl93YXRjaGVyc1tpXS50ZWFyZG93bigpOwogICAgICB9CiAgICAgIC8vIHJlbW92ZSByZWZlcmVuY2UgZnJvbSBkYXRhIG9iCiAgICAgIC8vIGZyb3plbiBvYmplY3QgbWF5IG5vdCBoYXZlIG9ic2VydmVyLgogICAgICBpZiAodm0uX2RhdGEuX19vYl9fKSB7CiAgICAgICAgdm0uX2RhdGEuX19vYl9fLnZtQ291bnQtLTsKICAgICAgfQogICAgICAvLyBjYWxsIHRoZSBsYXN0IGhvb2suLi4KICAgICAgdm0uX2lzRGVzdHJveWVkID0gdHJ1ZTsKICAgICAgLy8gaW52b2tlIGRlc3Ryb3kgaG9va3Mgb24gY3VycmVudCByZW5kZXJlZCB0cmVlCiAgICAgIHZtLl9fcGF0Y2hfXyh2bS5fdm5vZGUsIG51bGwpOwogICAgICAvLyBmaXJlIGRlc3Ryb3llZCBob29rCiAgICAgIGNhbGxIb29rKHZtLCAnZGVzdHJveWVkJyk7CiAgICAgIC8vIHR1cm4gb2ZmIGFsbCBpbnN0YW5jZSBsaXN0ZW5lcnMuCiAgICAgIHZtLiRvZmYoKTsKICAgICAgLy8gcmVtb3ZlIF9fdnVlX18gcmVmZXJlbmNlCiAgICAgIGlmICh2bS4kZWwpIHsKICAgICAgICB2bS4kZWwuX192dWVfXyA9IG51bGw7CiAgICAgIH0KICAgICAgLy8gcmVsZWFzZSBjaXJjdWxhciByZWZlcmVuY2UgKCM2NzU5KQogICAgICBpZiAodm0uJHZub2RlKSB7CiAgICAgICAgdm0uJHZub2RlLnBhcmVudCA9IG51bGw7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBtb3VudENvbXBvbmVudCAoCiAgICB2bSwKICAgIGVsLAogICAgaHlkcmF0aW5nCiAgKSB7CiAgICB2bS4kZWwgPSBlbDsKICAgIGlmICghdm0uJG9wdGlvbnMucmVuZGVyKSB7CiAgICAgIHZtLiRvcHRpb25zLnJlbmRlciA9IGNyZWF0ZUVtcHR5Vk5vZGU7CiAgICAgIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAoKHZtLiRvcHRpb25zLnRlbXBsYXRlICYmIHZtLiRvcHRpb25zLnRlbXBsYXRlLmNoYXJBdCgwKSAhPT0gJyMnKSB8fAogICAgICAgICAgdm0uJG9wdGlvbnMuZWwgfHwgZWwpIHsKICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICdZb3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQgb2YgVnVlIHdoZXJlIHRoZSB0ZW1wbGF0ZSAnICsKICAgICAgICAgICAgJ2NvbXBpbGVyIGlzIG5vdCBhdmFpbGFibGUuIEVpdGhlciBwcmUtY29tcGlsZSB0aGUgdGVtcGxhdGVzIGludG8gJyArCiAgICAgICAgICAgICdyZW5kZXIgZnVuY3Rpb25zLCBvciB1c2UgdGhlIGNvbXBpbGVyLWluY2x1ZGVkIGJ1aWxkLicsCiAgICAgICAgICAgIHZtCiAgICAgICAgICApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3YXJuKAogICAgICAgICAgICAnRmFpbGVkIHRvIG1vdW50IGNvbXBvbmVudDogdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uIG5vdCBkZWZpbmVkLicsCiAgICAgICAgICAgIHZtCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgY2FsbEhvb2sodm0sICdiZWZvcmVNb3VudCcpOwoKICAgIHZhciB1cGRhdGVDb21wb25lbnQ7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykgewogICAgICB1cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG5hbWUgPSB2bS5fbmFtZTsKICAgICAgICB2YXIgaWQgPSB2bS5fdWlkOwogICAgICAgIHZhciBzdGFydFRhZyA9ICJ2dWUtcGVyZi1zdGFydDoiICsgaWQ7CiAgICAgICAgdmFyIGVuZFRhZyA9ICJ2dWUtcGVyZi1lbmQ6IiArIGlkOwoKICAgICAgICBtYXJrKHN0YXJ0VGFnKTsKICAgICAgICB2YXIgdm5vZGUgPSB2bS5fcmVuZGVyKCk7CiAgICAgICAgbWFyayhlbmRUYWcpOwogICAgICAgIG1lYXN1cmUoKCJ2dWUgIiArIG5hbWUgKyAiIHJlbmRlciIpLCBzdGFydFRhZywgZW5kVGFnKTsKCiAgICAgICAgbWFyayhzdGFydFRhZyk7CiAgICAgICAgdm0uX3VwZGF0ZSh2bm9kZSwgaHlkcmF0aW5nKTsKICAgICAgICBtYXJrKGVuZFRhZyk7CiAgICAgICAgbWVhc3VyZSgoInZ1ZSAiICsgbmFtZSArICIgcGF0Y2giKSwgc3RhcnRUYWcsIGVuZFRhZyk7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICB1cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdm0uX3VwZGF0ZSh2bS5fcmVuZGVyKCksIGh5ZHJhdGluZyk7CiAgICAgIH07CiAgICB9CgogICAgLy8gd2Ugc2V0IHRoaXMgdG8gdm0uX3dhdGNoZXIgaW5zaWRlIHRoZSB3YXRjaGVyJ3MgY29uc3RydWN0b3IKICAgIC8vIHNpbmNlIHRoZSB3YXRjaGVyJ3MgaW5pdGlhbCBwYXRjaCBtYXkgY2FsbCAkZm9yY2VVcGRhdGUgKGUuZy4gaW5zaWRlIGNoaWxkCiAgICAvLyBjb21wb25lbnQncyBtb3VudGVkIGhvb2spLCB3aGljaCByZWxpZXMgb24gdm0uX3dhdGNoZXIgYmVpbmcgYWxyZWFkeSBkZWZpbmVkCiAgICBuZXcgV2F0Y2hlcih2bSwgdXBkYXRlQ29tcG9uZW50LCBub29wLCB7CiAgICAgIGJlZm9yZTogZnVuY3Rpb24gYmVmb3JlICgpIHsKICAgICAgICBpZiAodm0uX2lzTW91bnRlZCAmJiAhdm0uX2lzRGVzdHJveWVkKSB7CiAgICAgICAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZVVwZGF0ZScpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgdHJ1ZSAvKiBpc1JlbmRlcldhdGNoZXIgKi8pOwogICAgaHlkcmF0aW5nID0gZmFsc2U7CgogICAgLy8gbWFudWFsbHkgbW91bnRlZCBpbnN0YW5jZSwgY2FsbCBtb3VudGVkIG9uIHNlbGYKICAgIC8vIG1vdW50ZWQgaXMgY2FsbGVkIGZvciByZW5kZXItY3JlYXRlZCBjaGlsZCBjb21wb25lbnRzIGluIGl0cyBpbnNlcnRlZCBob29rCiAgICBpZiAodm0uJHZub2RlID09IG51bGwpIHsKICAgICAgdm0uX2lzTW91bnRlZCA9IHRydWU7CiAgICAgIGNhbGxIb29rKHZtLCAnbW91bnRlZCcpOwogICAgfQogICAgcmV0dXJuIHZtCiAgfQoKICBmdW5jdGlvbiB1cGRhdGVDaGlsZENvbXBvbmVudCAoCiAgICB2bSwKICAgIHByb3BzRGF0YSwKICAgIGxpc3RlbmVycywKICAgIHBhcmVudFZub2RlLAogICAgcmVuZGVyQ2hpbGRyZW4KICApIHsKICAgIHsKICAgICAgaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ID0gdHJ1ZTsKICAgIH0KCiAgICAvLyBkZXRlcm1pbmUgd2hldGhlciBjb21wb25lbnQgaGFzIHNsb3QgY2hpbGRyZW4KICAgIC8vIHdlIG5lZWQgdG8gZG8gdGhpcyBiZWZvcmUgb3ZlcndyaXRpbmcgJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuLgoKICAgIC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBkeW5hbWljIHNjb3BlZFNsb3RzIChoYW5kLXdyaXR0ZW4gb3IgY29tcGlsZWQgYnV0IHdpdGgKICAgIC8vIGR5bmFtaWMgc2xvdCBuYW1lcykuIFN0YXRpYyBzY29wZWQgc2xvdHMgY29tcGlsZWQgZnJvbSB0ZW1wbGF0ZSBoYXMgdGhlCiAgICAvLyAiJHN0YWJsZSIgbWFya2VyLgogICAgdmFyIG5ld1Njb3BlZFNsb3RzID0gcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90czsKICAgIHZhciBvbGRTY29wZWRTbG90cyA9IHZtLiRzY29wZWRTbG90czsKICAgIHZhciBoYXNEeW5hbWljU2NvcGVkU2xvdCA9ICEhKAogICAgICAobmV3U2NvcGVkU2xvdHMgJiYgIW5ld1Njb3BlZFNsb3RzLiRzdGFibGUpIHx8CiAgICAgIChvbGRTY29wZWRTbG90cyAhPT0gZW1wdHlPYmplY3QgJiYgIW9sZFNjb3BlZFNsb3RzLiRzdGFibGUpIHx8CiAgICAgIChuZXdTY29wZWRTbG90cyAmJiB2bS4kc2NvcGVkU2xvdHMuJGtleSAhPT0gbmV3U2NvcGVkU2xvdHMuJGtleSkKICAgICk7CgogICAgLy8gQW55IHN0YXRpYyBzbG90IGNoaWxkcmVuIGZyb20gdGhlIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGR1cmluZyBwYXJlbnQncwogICAgLy8gdXBkYXRlLiBEeW5hbWljIHNjb3BlZCBzbG90cyBtYXkgYWxzbyBoYXZlIGNoYW5nZWQuIEluIHN1Y2ggY2FzZXMsIGEgZm9yY2VkCiAgICAvLyB1cGRhdGUgaXMgbmVjZXNzYXJ5IHRvIGVuc3VyZSBjb3JyZWN0bmVzcy4KICAgIHZhciBuZWVkc0ZvcmNlVXBkYXRlID0gISEoCiAgICAgIHJlbmRlckNoaWxkcmVuIHx8ICAgICAgICAgICAgICAgLy8gaGFzIG5ldyBzdGF0aWMgc2xvdHMKICAgICAgdm0uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuIHx8ICAvLyBoYXMgb2xkIHN0YXRpYyBzbG90cwogICAgICBoYXNEeW5hbWljU2NvcGVkU2xvdAogICAgKTsKCiAgICB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUgPSBwYXJlbnRWbm9kZTsKICAgIHZtLiR2bm9kZSA9IHBhcmVudFZub2RlOyAvLyB1cGRhdGUgdm0ncyBwbGFjZWhvbGRlciBub2RlIHdpdGhvdXQgcmUtcmVuZGVyCgogICAgaWYgKHZtLl92bm9kZSkgeyAvLyB1cGRhdGUgY2hpbGQgdHJlZSdzIHBhcmVudAogICAgICB2bS5fdm5vZGUucGFyZW50ID0gcGFyZW50Vm5vZGU7CiAgICB9CiAgICB2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gPSByZW5kZXJDaGlsZHJlbjsKCiAgICAvLyB1cGRhdGUgJGF0dHJzIGFuZCAkbGlzdGVuZXJzIGhhc2gKICAgIC8vIHRoZXNlIGFyZSBhbHNvIHJlYWN0aXZlIHNvIHRoZXkgbWF5IHRyaWdnZXIgY2hpbGQgdXBkYXRlIGlmIHRoZSBjaGlsZAogICAgLy8gdXNlZCB0aGVtIGR1cmluZyByZW5kZXIKICAgIHZtLiRhdHRycyA9IHBhcmVudFZub2RlLmRhdGEuYXR0cnMgfHwgZW1wdHlPYmplY3Q7CiAgICB2bS4kbGlzdGVuZXJzID0gbGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0OwoKICAgIC8vIHVwZGF0ZSBwcm9wcwogICAgaWYgKHByb3BzRGF0YSAmJiB2bS4kb3B0aW9ucy5wcm9wcykgewogICAgICB0b2dnbGVPYnNlcnZpbmcoZmFsc2UpOwogICAgICB2YXIgcHJvcHMgPSB2bS5fcHJvcHM7CiAgICAgIHZhciBwcm9wS2V5cyA9IHZtLiRvcHRpb25zLl9wcm9wS2V5cyB8fCBbXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wS2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBrZXkgPSBwcm9wS2V5c1tpXTsKICAgICAgICB2YXIgcHJvcE9wdGlvbnMgPSB2bS4kb3B0aW9ucy5wcm9wczsgLy8gd3RmIGZsb3c/CiAgICAgICAgcHJvcHNba2V5XSA9IHZhbGlkYXRlUHJvcChrZXksIHByb3BPcHRpb25zLCBwcm9wc0RhdGEsIHZtKTsKICAgICAgfQogICAgICB0b2dnbGVPYnNlcnZpbmcodHJ1ZSk7CiAgICAgIC8vIGtlZXAgYSBjb3B5IG9mIHJhdyBwcm9wc0RhdGEKICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhID0gcHJvcHNEYXRhOwogICAgfQoKICAgIC8vIHVwZGF0ZSBsaXN0ZW5lcnMKICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycyB8fCBlbXB0eU9iamVjdDsKICAgIHZhciBvbGRMaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzOwogICAgdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycyA9IGxpc3RlbmVyczsKICAgIHVwZGF0ZUNvbXBvbmVudExpc3RlbmVycyh2bSwgbGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMpOwoKICAgIC8vIHJlc29sdmUgc2xvdHMgKyBmb3JjZSB1cGRhdGUgaWYgaGFzIGNoaWxkcmVuCiAgICBpZiAobmVlZHNGb3JjZVVwZGF0ZSkgewogICAgICB2bS4kc2xvdHMgPSByZXNvbHZlU2xvdHMocmVuZGVyQ2hpbGRyZW4sIHBhcmVudFZub2RlLmNvbnRleHQpOwogICAgICB2bS4kZm9yY2VVcGRhdGUoKTsKICAgIH0KCiAgICB7CiAgICAgIGlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCA9IGZhbHNlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaXNJbkluYWN0aXZlVHJlZSAodm0pIHsKICAgIHdoaWxlICh2bSAmJiAodm0gPSB2bS4kcGFyZW50KSkgewogICAgICBpZiAodm0uX2luYWN0aXZlKSB7IHJldHVybiB0cnVlIH0KICAgIH0KICAgIHJldHVybiBmYWxzZQogIH0KCiAgZnVuY3Rpb24gYWN0aXZhdGVDaGlsZENvbXBvbmVudCAodm0sIGRpcmVjdCkgewogICAgaWYgKGRpcmVjdCkgewogICAgICB2bS5fZGlyZWN0SW5hY3RpdmUgPSBmYWxzZTsKICAgICAgaWYgKGlzSW5JbmFjdGl2ZVRyZWUodm0pKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0gZWxzZSBpZiAodm0uX2RpcmVjdEluYWN0aXZlKSB7CiAgICAgIHJldHVybgogICAgfQogICAgaWYgKHZtLl9pbmFjdGl2ZSB8fCB2bS5faW5hY3RpdmUgPT09IG51bGwpIHsKICAgICAgdm0uX2luYWN0aXZlID0gZmFsc2U7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uJGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYWN0aXZhdGVDaGlsZENvbXBvbmVudCh2bS4kY2hpbGRyZW5baV0pOwogICAgICB9CiAgICAgIGNhbGxIb29rKHZtLCAnYWN0aXZhdGVkJyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBkZWFjdGl2YXRlQ2hpbGRDb21wb25lbnQgKHZtLCBkaXJlY3QpIHsKICAgIGlmIChkaXJlY3QpIHsKICAgICAgdm0uX2RpcmVjdEluYWN0aXZlID0gdHJ1ZTsKICAgICAgaWYgKGlzSW5JbmFjdGl2ZVRyZWUodm0pKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0KICAgIGlmICghdm0uX2luYWN0aXZlKSB7CiAgICAgIHZtLl9pbmFjdGl2ZSA9IHRydWU7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uJGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGVhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHZtLiRjaGlsZHJlbltpXSk7CiAgICAgIH0KICAgICAgY2FsbEhvb2sodm0sICdkZWFjdGl2YXRlZCcpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY2FsbEhvb2sgKHZtLCBob29rKSB7CiAgICAvLyAjNzU3MyBkaXNhYmxlIGRlcCBjb2xsZWN0aW9uIHdoZW4gaW52b2tpbmcgbGlmZWN5Y2xlIGhvb2tzCiAgICBwdXNoVGFyZ2V0KCk7CiAgICB2YXIgaGFuZGxlcnMgPSB2bS4kb3B0aW9uc1tob29rXTsKICAgIHZhciBpbmZvID0gaG9vayArICIgaG9vayI7CiAgICBpZiAoaGFuZGxlcnMpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBoYW5kbGVycy5sZW5ndGg7IGkgPCBqOyBpKyspIHsKICAgICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhoYW5kbGVyc1tpXSwgdm0sIG51bGwsIHZtLCBpbmZvKTsKICAgICAgfQogICAgfQogICAgaWYgKHZtLl9oYXNIb29rRXZlbnQpIHsKICAgICAgdm0uJGVtaXQoJ2hvb2s6JyArIGhvb2spOwogICAgfQogICAgcG9wVGFyZ2V0KCk7CiAgfQoKICAvKiAgKi8KCiAgdmFyIE1BWF9VUERBVEVfQ09VTlQgPSAxMDA7CgogIHZhciBxdWV1ZSA9IFtdOwogIHZhciBhY3RpdmF0ZWRDaGlsZHJlbiA9IFtdOwogIHZhciBoYXMgPSB7fTsKICB2YXIgY2lyY3VsYXIgPSB7fTsKICB2YXIgd2FpdGluZyA9IGZhbHNlOwogIHZhciBmbHVzaGluZyA9IGZhbHNlOwogIHZhciBpbmRleCA9IDA7CgogIC8qKgogICAqIFJlc2V0IHRoZSBzY2hlZHVsZXIncyBzdGF0ZS4KICAgKi8KICBmdW5jdGlvbiByZXNldFNjaGVkdWxlclN0YXRlICgpIHsKICAgIGluZGV4ID0gcXVldWUubGVuZ3RoID0gYWN0aXZhdGVkQ2hpbGRyZW4ubGVuZ3RoID0gMDsKICAgIGhhcyA9IHt9OwogICAgewogICAgICBjaXJjdWxhciA9IHt9OwogICAgfQogICAgd2FpdGluZyA9IGZsdXNoaW5nID0gZmFsc2U7CiAgfQoKICAvLyBBc3luYyBlZGdlIGNhc2UgIzY1NjYgcmVxdWlyZXMgc2F2aW5nIHRoZSB0aW1lc3RhbXAgd2hlbiBldmVudCBsaXN0ZW5lcnMgYXJlCiAgLy8gYXR0YWNoZWQuIEhvd2V2ZXIsIGNhbGxpbmcgcGVyZm9ybWFuY2Uubm93KCkgaGFzIGEgcGVyZiBvdmVyaGVhZCBlc3BlY2lhbGx5CiAgLy8gaWYgdGhlIHBhZ2UgaGFzIHRob3VzYW5kcyBvZiBldmVudCBsaXN0ZW5lcnMuIEluc3RlYWQsIHdlIHRha2UgYSB0aW1lc3RhbXAKICAvLyBldmVyeSB0aW1lIHRoZSBzY2hlZHVsZXIgZmx1c2hlcyBhbmQgdXNlIHRoYXQgZm9yIGFsbCBldmVudCBsaXN0ZW5lcnMKICAvLyBhdHRhY2hlZCBkdXJpbmcgdGhhdCBmbHVzaC4KICB2YXIgY3VycmVudEZsdXNoVGltZXN0YW1wID0gMDsKCiAgLy8gQXN5bmMgZWRnZSBjYXNlIGZpeCByZXF1aXJlcyBzdG9yaW5nIGFuIGV2ZW50IGxpc3RlbmVyJ3MgYXR0YWNoIHRpbWVzdGFtcC4KICB2YXIgZ2V0Tm93ID0gRGF0ZS5ub3c7CgogIC8vIERldGVybWluZSB3aGF0IGV2ZW50IHRpbWVzdGFtcCB0aGUgYnJvd3NlciBpcyB1c2luZy4gQW5ub3lpbmdseSwgdGhlCiAgLy8gdGltZXN0YW1wIGNhbiBlaXRoZXIgYmUgaGktcmVzIChyZWxhdGl2ZSB0byBwYWdlIGxvYWQpIG9yIGxvdy1yZXMKICAvLyAocmVsYXRpdmUgdG8gVU5JWCBlcG9jaCksIHNvIGluIG9yZGVyIHRvIGNvbXBhcmUgdGltZSB3ZSBoYXZlIHRvIHVzZSB0aGUKICAvLyBzYW1lIHRpbWVzdGFtcCB0eXBlIHdoZW4gc2F2aW5nIHRoZSBmbHVzaCB0aW1lc3RhbXAuCiAgLy8gQWxsIElFIHZlcnNpb25zIHVzZSBsb3ctcmVzIGV2ZW50IHRpbWVzdGFtcHMsIGFuZCBoYXZlIHByb2JsZW1hdGljIGNsb2NrCiAgLy8gaW1wbGVtZW50YXRpb25zICgjOTYzMikKICBpZiAoaW5Ccm93c2VyICYmICFpc0lFKSB7CiAgICB2YXIgcGVyZm9ybWFuY2UgPSB3aW5kb3cucGVyZm9ybWFuY2U7CiAgICBpZiAoCiAgICAgIHBlcmZvcm1hbmNlICYmCiAgICAgIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbicgJiYKICAgICAgZ2V0Tm93KCkgPiBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKS50aW1lU3RhbXAKICAgICkgewogICAgICAvLyBpZiB0aGUgZXZlbnQgdGltZXN0YW1wLCBhbHRob3VnaCBldmFsdWF0ZWQgQUZURVIgdGhlIERhdGUubm93KCksIGlzCiAgICAgIC8vIHNtYWxsZXIgdGhhbiBpdCwgaXQgbWVhbnMgdGhlIGV2ZW50IGlzIHVzaW5nIGEgaGktcmVzIHRpbWVzdGFtcCwKICAgICAgLy8gYW5kIHdlIG5lZWQgdG8gdXNlIHRoZSBoaS1yZXMgdmVyc2lvbiBmb3IgZXZlbnQgbGlzdGVuZXIgdGltZXN0YW1wcyBhcwogICAgICAvLyB3ZWxsLgogICAgICBnZXROb3cgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTsgfTsKICAgIH0KICB9CgogIC8qKgogICAqIEZsdXNoIGJvdGggcXVldWVzIGFuZCBydW4gdGhlIHdhdGNoZXJzLgogICAqLwogIGZ1bmN0aW9uIGZsdXNoU2NoZWR1bGVyUXVldWUgKCkgewogICAgY3VycmVudEZsdXNoVGltZXN0YW1wID0gZ2V0Tm93KCk7CiAgICBmbHVzaGluZyA9IHRydWU7CiAgICB2YXIgd2F0Y2hlciwgaWQ7CgogICAgLy8gU29ydCBxdWV1ZSBiZWZvcmUgZmx1c2guCiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdDoKICAgIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXMKICAgIC8vICAgIGNyZWF0ZWQgYmVmb3JlIHRoZSBjaGlsZCkKICAgIC8vIDIuIEEgY29tcG9uZW50J3MgdXNlciB3YXRjaGVycyBhcmUgcnVuIGJlZm9yZSBpdHMgcmVuZGVyIHdhdGNoZXIgKGJlY2F1c2UKICAgIC8vICAgIHVzZXIgd2F0Y2hlcnMgYXJlIGNyZWF0ZWQgYmVmb3JlIHRoZSByZW5kZXIgd2F0Y2hlcikKICAgIC8vIDMuIElmIGEgY29tcG9uZW50IGlzIGRlc3Ryb3llZCBkdXJpbmcgYSBwYXJlbnQgY29tcG9uZW50J3Mgd2F0Y2hlciBydW4sCiAgICAvLyAgICBpdHMgd2F0Y2hlcnMgY2FuIGJlIHNraXBwZWQuCiAgICBxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmlkIC0gYi5pZDsgfSk7CgogICAgLy8gZG8gbm90IGNhY2hlIGxlbmd0aCBiZWNhdXNlIG1vcmUgd2F0Y2hlcnMgbWlnaHQgYmUgcHVzaGVkCiAgICAvLyBhcyB3ZSBydW4gZXhpc3Rpbmcgd2F0Y2hlcnMKICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHF1ZXVlLmxlbmd0aDsgaW5kZXgrKykgewogICAgICB3YXRjaGVyID0gcXVldWVbaW5kZXhdOwogICAgICBpZiAod2F0Y2hlci5iZWZvcmUpIHsKICAgICAgICB3YXRjaGVyLmJlZm9yZSgpOwogICAgICB9CiAgICAgIGlkID0gd2F0Y2hlci5pZDsKICAgICAgaGFzW2lkXSA9IG51bGw7CiAgICAgIHdhdGNoZXIucnVuKCk7CiAgICAgIC8vIGluIGRldiBidWlsZCwgY2hlY2sgYW5kIHN0b3AgY2lyY3VsYXIgdXBkYXRlcy4KICAgICAgaWYgKGhhc1tpZF0gIT0gbnVsbCkgewogICAgICAgIGNpcmN1bGFyW2lkXSA9IChjaXJjdWxhcltpZF0gfHwgMCkgKyAxOwogICAgICAgIGlmIChjaXJjdWxhcltpZF0gPiBNQVhfVVBEQVRFX0NPVU5UKSB7CiAgICAgICAgICB3YXJuKAogICAgICAgICAgICAnWW91IG1heSBoYXZlIGFuIGluZmluaXRlIHVwZGF0ZSBsb29wICcgKyAoCiAgICAgICAgICAgICAgd2F0Y2hlci51c2VyCiAgICAgICAgICAgICAgICA/ICgiaW4gd2F0Y2hlciB3aXRoIGV4cHJlc3Npb24gXCIiICsgKHdhdGNoZXIuZXhwcmVzc2lvbikgKyAiXCIiKQogICAgICAgICAgICAgICAgOiAiaW4gYSBjb21wb25lbnQgcmVuZGVyIGZ1bmN0aW9uLiIKICAgICAgICAgICAgKSwKICAgICAgICAgICAgd2F0Y2hlci52bQogICAgICAgICAgKTsKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLy8ga2VlcCBjb3BpZXMgb2YgcG9zdCBxdWV1ZXMgYmVmb3JlIHJlc2V0dGluZyBzdGF0ZQogICAgdmFyIGFjdGl2YXRlZFF1ZXVlID0gYWN0aXZhdGVkQ2hpbGRyZW4uc2xpY2UoKTsKICAgIHZhciB1cGRhdGVkUXVldWUgPSBxdWV1ZS5zbGljZSgpOwoKICAgIHJlc2V0U2NoZWR1bGVyU3RhdGUoKTsKCiAgICAvLyBjYWxsIGNvbXBvbmVudCB1cGRhdGVkIGFuZCBhY3RpdmF0ZWQgaG9va3MKICAgIGNhbGxBY3RpdmF0ZWRIb29rcyhhY3RpdmF0ZWRRdWV1ZSk7CiAgICBjYWxsVXBkYXRlZEhvb2tzKHVwZGF0ZWRRdWV1ZSk7CgogICAgLy8gZGV2dG9vbCBob29rCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChkZXZ0b29scyAmJiBjb25maWcuZGV2dG9vbHMpIHsKICAgICAgZGV2dG9vbHMuZW1pdCgnZmx1c2gnKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGNhbGxVcGRhdGVkSG9va3MgKHF1ZXVlKSB7CiAgICB2YXIgaSA9IHF1ZXVlLmxlbmd0aDsKICAgIHdoaWxlIChpLS0pIHsKICAgICAgdmFyIHdhdGNoZXIgPSBxdWV1ZVtpXTsKICAgICAgdmFyIHZtID0gd2F0Y2hlci52bTsKICAgICAgaWYgKHZtLl93YXRjaGVyID09PSB3YXRjaGVyICYmIHZtLl9pc01vdW50ZWQgJiYgIXZtLl9pc0Rlc3Ryb3llZCkgewogICAgICAgIGNhbGxIb29rKHZtLCAndXBkYXRlZCcpOwogICAgICB9CiAgICB9CiAgfQoKICAvKioKICAgKiBRdWV1ZSBhIGtlcHQtYWxpdmUgY29tcG9uZW50IHRoYXQgd2FzIGFjdGl2YXRlZCBkdXJpbmcgcGF0Y2guCiAgICogVGhlIHF1ZXVlIHdpbGwgYmUgcHJvY2Vzc2VkIGFmdGVyIHRoZSBlbnRpcmUgdHJlZSBoYXMgYmVlbiBwYXRjaGVkLgogICAqLwogIGZ1bmN0aW9uIHF1ZXVlQWN0aXZhdGVkQ29tcG9uZW50ICh2bSkgewogICAgLy8gc2V0dGluZyBfaW5hY3RpdmUgdG8gZmFsc2UgaGVyZSBzbyB0aGF0IGEgcmVuZGVyIGZ1bmN0aW9uIGNhbgogICAgLy8gcmVseSBvbiBjaGVja2luZyB3aGV0aGVyIGl0J3MgaW4gYW4gaW5hY3RpdmUgdHJlZSAoZS5nLiByb3V0ZXItdmlldykKICAgIHZtLl9pbmFjdGl2ZSA9IGZhbHNlOwogICAgYWN0aXZhdGVkQ2hpbGRyZW4ucHVzaCh2bSk7CiAgfQoKICBmdW5jdGlvbiBjYWxsQWN0aXZhdGVkSG9va3MgKHF1ZXVlKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7CiAgICAgIHF1ZXVlW2ldLl9pbmFjdGl2ZSA9IHRydWU7CiAgICAgIGFjdGl2YXRlQ2hpbGRDb21wb25lbnQocXVldWVbaV0sIHRydWUgLyogdHJ1ZSAqLyk7CiAgICB9CiAgfQoKICAvKioKICAgKiBQdXNoIGEgd2F0Y2hlciBpbnRvIHRoZSB3YXRjaGVyIHF1ZXVlLgogICAqIEpvYnMgd2l0aCBkdXBsaWNhdGUgSURzIHdpbGwgYmUgc2tpcHBlZCB1bmxlc3MgaXQncwogICAqIHB1c2hlZCB3aGVuIHRoZSBxdWV1ZSBpcyBiZWluZyBmbHVzaGVkLgogICAqLwogIGZ1bmN0aW9uIHF1ZXVlV2F0Y2hlciAod2F0Y2hlcikgewogICAgdmFyIGlkID0gd2F0Y2hlci5pZDsKICAgIGlmIChoYXNbaWRdID09IG51bGwpIHsKICAgICAgaGFzW2lkXSA9IHRydWU7CiAgICAgIGlmICghZmx1c2hpbmcpIHsKICAgICAgICBxdWV1ZS5wdXNoKHdhdGNoZXIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGlmIGFscmVhZHkgZmx1c2hpbmcsIHNwbGljZSB0aGUgd2F0Y2hlciBiYXNlZCBvbiBpdHMgaWQKICAgICAgICAvLyBpZiBhbHJlYWR5IHBhc3QgaXRzIGlkLCBpdCB3aWxsIGJlIHJ1biBuZXh0IGltbWVkaWF0ZWx5LgogICAgICAgIHZhciBpID0gcXVldWUubGVuZ3RoIC0gMTsKICAgICAgICB3aGlsZSAoaSA+IGluZGV4ICYmIHF1ZXVlW2ldLmlkID4gd2F0Y2hlci5pZCkgewogICAgICAgICAgaS0tOwogICAgICAgIH0KICAgICAgICBxdWV1ZS5zcGxpY2UoaSArIDEsIDAsIHdhdGNoZXIpOwogICAgICB9CiAgICAgIC8vIHF1ZXVlIHRoZSBmbHVzaAogICAgICBpZiAoIXdhaXRpbmcpIHsKICAgICAgICB3YWl0aW5nID0gdHJ1ZTsKCiAgICAgICAgaWYgKCFjb25maWcuYXN5bmMpIHsKICAgICAgICAgIGZsdXNoU2NoZWR1bGVyUXVldWUoKTsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICBuZXh0VGljayhmbHVzaFNjaGVkdWxlclF1ZXVlKTsKICAgICAgfQogICAgfQogIH0KCiAgLyogICovCgoKCiAgdmFyIHVpZCQyID0gMDsKCiAgLyoqCiAgICogQSB3YXRjaGVyIHBhcnNlcyBhbiBleHByZXNzaW9uLCBjb2xsZWN0cyBkZXBlbmRlbmNpZXMsCiAgICogYW5kIGZpcmVzIGNhbGxiYWNrIHdoZW4gdGhlIGV4cHJlc3Npb24gdmFsdWUgY2hhbmdlcy4KICAgKiBUaGlzIGlzIHVzZWQgZm9yIGJvdGggdGhlICR3YXRjaCgpIGFwaSBhbmQgZGlyZWN0aXZlcy4KICAgKi8KICB2YXIgV2F0Y2hlciA9IGZ1bmN0aW9uIFdhdGNoZXIgKAogICAgdm0sCiAgICBleHBPckZuLAogICAgY2IsCiAgICBvcHRpb25zLAogICAgaXNSZW5kZXJXYXRjaGVyCiAgKSB7CiAgICB0aGlzLnZtID0gdm07CiAgICBpZiAoaXNSZW5kZXJXYXRjaGVyKSB7CiAgICAgIHZtLl93YXRjaGVyID0gdGhpczsKICAgIH0KICAgIHZtLl93YXRjaGVycy5wdXNoKHRoaXMpOwogICAgLy8gb3B0aW9ucwogICAgaWYgKG9wdGlvbnMpIHsKICAgICAgdGhpcy5kZWVwID0gISFvcHRpb25zLmRlZXA7CiAgICAgIHRoaXMudXNlciA9ICEhb3B0aW9ucy51c2VyOwogICAgICB0aGlzLmxhenkgPSAhIW9wdGlvbnMubGF6eTsKICAgICAgdGhpcy5zeW5jID0gISFvcHRpb25zLnN5bmM7CiAgICAgIHRoaXMuYmVmb3JlID0gb3B0aW9ucy5iZWZvcmU7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmRlZXAgPSB0aGlzLnVzZXIgPSB0aGlzLmxhenkgPSB0aGlzLnN5bmMgPSBmYWxzZTsKICAgIH0KICAgIHRoaXMuY2IgPSBjYjsKICAgIHRoaXMuaWQgPSArK3VpZCQyOyAvLyB1aWQgZm9yIGJhdGNoaW5nCiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7CiAgICB0aGlzLmRpcnR5ID0gdGhpcy5sYXp5OyAvLyBmb3IgbGF6eSB3YXRjaGVycwogICAgdGhpcy5kZXBzID0gW107CiAgICB0aGlzLm5ld0RlcHMgPSBbXTsKICAgIHRoaXMuZGVwSWRzID0gbmV3IF9TZXQoKTsKICAgIHRoaXMubmV3RGVwSWRzID0gbmV3IF9TZXQoKTsKICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cE9yRm4udG9TdHJpbmcoKTsKICAgIC8vIHBhcnNlIGV4cHJlc3Npb24gZm9yIGdldHRlcgogICAgaWYgKHR5cGVvZiBleHBPckZuID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHRoaXMuZ2V0dGVyID0gZXhwT3JGbjsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZ2V0dGVyID0gcGFyc2VQYXRoKGV4cE9yRm4pOwogICAgICBpZiAoIXRoaXMuZ2V0dGVyKSB7CiAgICAgICAgdGhpcy5nZXR0ZXIgPSBub29wOwogICAgICAgIHdhcm4oCiAgICAgICAgICAiRmFpbGVkIHdhdGNoaW5nIHBhdGg6IFwiIiArIGV4cE9yRm4gKyAiXCIgIiArCiAgICAgICAgICAnV2F0Y2hlciBvbmx5IGFjY2VwdHMgc2ltcGxlIGRvdC1kZWxpbWl0ZWQgcGF0aHMuICcgKwogICAgICAgICAgJ0ZvciBmdWxsIGNvbnRyb2wsIHVzZSBhIGZ1bmN0aW9uIGluc3RlYWQuJywKICAgICAgICAgIHZtCiAgICAgICAgKTsKICAgICAgfQogICAgfQogICAgdGhpcy52YWx1ZSA9IHRoaXMubGF6eQogICAgICA/IHVuZGVmaW5lZAogICAgICA6IHRoaXMuZ2V0KCk7CiAgfTsKCiAgLyoqCiAgICogRXZhbHVhdGUgdGhlIGdldHRlciwgYW5kIHJlLWNvbGxlY3QgZGVwZW5kZW5jaWVzLgogICAqLwogIFdhdGNoZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoKSB7CiAgICBwdXNoVGFyZ2V0KHRoaXMpOwogICAgdmFyIHZhbHVlOwogICAgdmFyIHZtID0gdGhpcy52bTsKICAgIHRyeSB7CiAgICAgIHZhbHVlID0gdGhpcy5nZXR0ZXIuY2FsbCh2bSwgdm0pOwogICAgfSBjYXRjaCAoZSkgewogICAgICBpZiAodGhpcy51c2VyKSB7CiAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sICgiZ2V0dGVyIGZvciB3YXRjaGVyIFwiIiArICh0aGlzLmV4cHJlc3Npb24pICsgIlwiIikpOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IGUKICAgICAgfQogICAgfSBmaW5hbGx5IHsKICAgICAgLy8gInRvdWNoIiBldmVyeSBwcm9wZXJ0eSBzbyB0aGV5IGFyZSBhbGwgdHJhY2tlZCBhcwogICAgICAvLyBkZXBlbmRlbmNpZXMgZm9yIGRlZXAgd2F0Y2hpbmcKICAgICAgaWYgKHRoaXMuZGVlcCkgewogICAgICAgIHRyYXZlcnNlKHZhbHVlKTsKICAgICAgfQogICAgICBwb3BUYXJnZXQoKTsKICAgICAgdGhpcy5jbGVhbnVwRGVwcygpOwogICAgfQogICAgcmV0dXJuIHZhbHVlCiAgfTsKCiAgLyoqCiAgICogQWRkIGEgZGVwZW5kZW5jeSB0byB0aGlzIGRpcmVjdGl2ZS4KICAgKi8KICBXYXRjaGVyLnByb3RvdHlwZS5hZGREZXAgPSBmdW5jdGlvbiBhZGREZXAgKGRlcCkgewogICAgdmFyIGlkID0gZGVwLmlkOwogICAgaWYgKCF0aGlzLm5ld0RlcElkcy5oYXMoaWQpKSB7CiAgICAgIHRoaXMubmV3RGVwSWRzLmFkZChpZCk7CiAgICAgIHRoaXMubmV3RGVwcy5wdXNoKGRlcCk7CiAgICAgIGlmICghdGhpcy5kZXBJZHMuaGFzKGlkKSkgewogICAgICAgIGRlcC5hZGRTdWIodGhpcyk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBDbGVhbiB1cCBmb3IgZGVwZW5kZW5jeSBjb2xsZWN0aW9uLgogICAqLwogIFdhdGNoZXIucHJvdG90eXBlLmNsZWFudXBEZXBzID0gZnVuY3Rpb24gY2xlYW51cERlcHMgKCkgewogICAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoOwogICAgd2hpbGUgKGktLSkgewogICAgICB2YXIgZGVwID0gdGhpcy5kZXBzW2ldOwogICAgICBpZiAoIXRoaXMubmV3RGVwSWRzLmhhcyhkZXAuaWQpKSB7CiAgICAgICAgZGVwLnJlbW92ZVN1Yih0aGlzKTsKICAgICAgfQogICAgfQogICAgdmFyIHRtcCA9IHRoaXMuZGVwSWRzOwogICAgdGhpcy5kZXBJZHMgPSB0aGlzLm5ld0RlcElkczsKICAgIHRoaXMubmV3RGVwSWRzID0gdG1wOwogICAgdGhpcy5uZXdEZXBJZHMuY2xlYXIoKTsKICAgIHRtcCA9IHRoaXMuZGVwczsKICAgIHRoaXMuZGVwcyA9IHRoaXMubmV3RGVwczsKICAgIHRoaXMubmV3RGVwcyA9IHRtcDsKICAgIHRoaXMubmV3RGVwcy5sZW5ndGggPSAwOwogIH07CgogIC8qKgogICAqIFN1YnNjcmliZXIgaW50ZXJmYWNlLgogICAqIFdpbGwgYmUgY2FsbGVkIHdoZW4gYSBkZXBlbmRlbmN5IGNoYW5nZXMuCiAgICovCiAgV2F0Y2hlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpIHsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICBpZiAodGhpcy5sYXp5KSB7CiAgICAgIHRoaXMuZGlydHkgPSB0cnVlOwogICAgfSBlbHNlIGlmICh0aGlzLnN5bmMpIHsKICAgICAgdGhpcy5ydW4oKTsKICAgIH0gZWxzZSB7CiAgICAgIHF1ZXVlV2F0Y2hlcih0aGlzKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBTY2hlZHVsZXIgam9iIGludGVyZmFjZS4KICAgKiBXaWxsIGJlIGNhbGxlZCBieSB0aGUgc2NoZWR1bGVyLgogICAqLwogIFdhdGNoZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIHJ1biAoKSB7CiAgICBpZiAodGhpcy5hY3RpdmUpIHsKICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXQoKTsKICAgICAgaWYgKAogICAgICAgIHZhbHVlICE9PSB0aGlzLnZhbHVlIHx8CiAgICAgICAgLy8gRGVlcCB3YXRjaGVycyBhbmQgd2F0Y2hlcnMgb24gT2JqZWN0L0FycmF5cyBzaG91bGQgZmlyZSBldmVuCiAgICAgICAgLy8gd2hlbiB0aGUgdmFsdWUgaXMgdGhlIHNhbWUsIGJlY2F1c2UgdGhlIHZhbHVlIG1heQogICAgICAgIC8vIGhhdmUgbXV0YXRlZC4KICAgICAgICBpc09iamVjdCh2YWx1ZSkgfHwKICAgICAgICB0aGlzLmRlZXAKICAgICAgKSB7CiAgICAgICAgLy8gc2V0IG5ldyB2YWx1ZQogICAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7CiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgICAgIGlmICh0aGlzLnVzZXIpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBoYW5kbGVFcnJvcihlLCB0aGlzLnZtLCAoImNhbGxiYWNrIGZvciB3YXRjaGVyIFwiIiArICh0aGlzLmV4cHJlc3Npb24pICsgIlwiIikpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy52bSwgdmFsdWUsIG9sZFZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBFdmFsdWF0ZSB0aGUgdmFsdWUgb2YgdGhlIHdhdGNoZXIuCiAgICogVGhpcyBvbmx5IGdldHMgY2FsbGVkIGZvciBsYXp5IHdhdGNoZXJzLgogICAqLwogIFdhdGNoZXIucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gZXZhbHVhdGUgKCkgewogICAgdGhpcy52YWx1ZSA9IHRoaXMuZ2V0KCk7CiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7CiAgfTsKCiAgLyoqCiAgICogRGVwZW5kIG9uIGFsbCBkZXBzIGNvbGxlY3RlZCBieSB0aGlzIHdhdGNoZXIuCiAgICovCiAgV2F0Y2hlci5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHsKICAgIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDsKICAgIHdoaWxlIChpLS0pIHsKICAgICAgdGhpcy5kZXBzW2ldLmRlcGVuZCgpOwogICAgfQogIH07CgogIC8qKgogICAqIFJlbW92ZSBzZWxmIGZyb20gYWxsIGRlcGVuZGVuY2llcycgc3Vic2NyaWJlciBsaXN0LgogICAqLwogIFdhdGNoZXIucHJvdG90eXBlLnRlYXJkb3duID0gZnVuY3Rpb24gdGVhcmRvd24gKCkgewogICAgaWYgKHRoaXMuYWN0aXZlKSB7CiAgICAgIC8vIHJlbW92ZSBzZWxmIGZyb20gdm0ncyB3YXRjaGVyIGxpc3QKICAgICAgLy8gdGhpcyBpcyBhIHNvbWV3aGF0IGV4cGVuc2l2ZSBvcGVyYXRpb24gc28gd2Ugc2tpcCBpdAogICAgICAvLyBpZiB0aGUgdm0gaXMgYmVpbmcgZGVzdHJveWVkLgogICAgICBpZiAoIXRoaXMudm0uX2lzQmVpbmdEZXN0cm95ZWQpIHsKICAgICAgICByZW1vdmUodGhpcy52bS5fd2F0Y2hlcnMsIHRoaXMpOwogICAgICB9CiAgICAgIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDsKICAgICAgd2hpbGUgKGktLSkgewogICAgICAgIHRoaXMuZGVwc1tpXS5yZW1vdmVTdWIodGhpcyk7CiAgICAgIH0KICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTsKICAgIH0KICB9OwoKICAvKiAgKi8KCiAgdmFyIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbiA9IHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICBnZXQ6IG5vb3AsCiAgICBzZXQ6IG5vb3AKICB9OwoKICBmdW5jdGlvbiBwcm94eSAodGFyZ2V0LCBzb3VyY2VLZXksIGtleSkgewogICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLmdldCA9IGZ1bmN0aW9uIHByb3h5R2V0dGVyICgpIHsKICAgICAgcmV0dXJuIHRoaXNbc291cmNlS2V5XVtrZXldCiAgICB9OwogICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IGZ1bmN0aW9uIHByb3h5U2V0dGVyICh2YWwpIHsKICAgICAgdGhpc1tzb3VyY2VLZXldW2tleV0gPSB2YWw7CiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24pOwogIH0KCiAgZnVuY3Rpb24gaW5pdFN0YXRlICh2bSkgewogICAgdm0uX3dhdGNoZXJzID0gW107CiAgICB2YXIgb3B0cyA9IHZtLiRvcHRpb25zOwogICAgaWYgKG9wdHMucHJvcHMpIHsgaW5pdFByb3BzKHZtLCBvcHRzLnByb3BzKTsgfQogICAgaWYgKG9wdHMubWV0aG9kcykgeyBpbml0TWV0aG9kcyh2bSwgb3B0cy5tZXRob2RzKTsgfQogICAgaWYgKG9wdHMuZGF0YSkgewogICAgICBpbml0RGF0YSh2bSk7CiAgICB9IGVsc2UgewogICAgICBvYnNlcnZlKHZtLl9kYXRhID0ge30sIHRydWUgLyogYXNSb290RGF0YSAqLyk7CiAgICB9CiAgICBpZiAob3B0cy5jb21wdXRlZCkgeyBpbml0Q29tcHV0ZWQodm0sIG9wdHMuY29tcHV0ZWQpOyB9CiAgICBpZiAob3B0cy53YXRjaCAmJiBvcHRzLndhdGNoICE9PSBuYXRpdmVXYXRjaCkgewogICAgICBpbml0V2F0Y2godm0sIG9wdHMud2F0Y2gpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFByb3BzICh2bSwgcHJvcHNPcHRpb25zKSB7CiAgICB2YXIgcHJvcHNEYXRhID0gdm0uJG9wdGlvbnMucHJvcHNEYXRhIHx8IHt9OwogICAgdmFyIHByb3BzID0gdm0uX3Byb3BzID0ge307CiAgICAvLyBjYWNoZSBwcm9wIGtleXMgc28gdGhhdCBmdXR1cmUgcHJvcHMgdXBkYXRlcyBjYW4gaXRlcmF0ZSB1c2luZyBBcnJheQogICAgLy8gaW5zdGVhZCBvZiBkeW5hbWljIG9iamVjdCBrZXkgZW51bWVyYXRpb24uCiAgICB2YXIga2V5cyA9IHZtLiRvcHRpb25zLl9wcm9wS2V5cyA9IFtdOwogICAgdmFyIGlzUm9vdCA9ICF2bS4kcGFyZW50OwogICAgLy8gcm9vdCBpbnN0YW5jZSBwcm9wcyBzaG91bGQgYmUgY29udmVydGVkCiAgICBpZiAoIWlzUm9vdCkgewogICAgICB0b2dnbGVPYnNlcnZpbmcoZmFsc2UpOwogICAgfQogICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGtleSApIHsKICAgICAga2V5cy5wdXNoKGtleSk7CiAgICAgIHZhciB2YWx1ZSA9IHZhbGlkYXRlUHJvcChrZXksIHByb3BzT3B0aW9ucywgcHJvcHNEYXRhLCB2bSk7CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICAgIHsKICAgICAgICB2YXIgaHlwaGVuYXRlZEtleSA9IGh5cGhlbmF0ZShrZXkpOwogICAgICAgIGlmIChpc1Jlc2VydmVkQXR0cmlidXRlKGh5cGhlbmF0ZWRLZXkpIHx8CiAgICAgICAgICAgIGNvbmZpZy5pc1Jlc2VydmVkQXR0cihoeXBoZW5hdGVkS2V5KSkgewogICAgICAgICAgd2FybigKICAgICAgICAgICAgKCJcIiIgKyBoeXBoZW5hdGVkS2V5ICsgIlwiIGlzIGEgcmVzZXJ2ZWQgYXR0cmlidXRlIGFuZCBjYW5ub3QgYmUgdXNlZCBhcyBjb21wb25lbnQgcHJvcC4iKSwKICAgICAgICAgICAgdm0KICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHByb3BzLCBrZXksIHZhbHVlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoIWlzUm9vdCAmJiAhaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50KSB7CiAgICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICAgIkF2b2lkIG11dGF0aW5nIGEgcHJvcCBkaXJlY3RseSBzaW5jZSB0aGUgdmFsdWUgd2lsbCBiZSAiICsKICAgICAgICAgICAgICAib3ZlcndyaXR0ZW4gd2hlbmV2ZXIgdGhlIHBhcmVudCBjb21wb25lbnQgcmUtcmVuZGVycy4gIiArCiAgICAgICAgICAgICAgIkluc3RlYWQsIHVzZSBhIGRhdGEgb3IgY29tcHV0ZWQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHByb3AncyAiICsKICAgICAgICAgICAgICAidmFsdWUuIFByb3AgYmVpbmcgbXV0YXRlZDogXCIiICsga2V5ICsgIlwiIiwKICAgICAgICAgICAgICB2bQogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8vIHN0YXRpYyBwcm9wcyBhcmUgYWxyZWFkeSBwcm94aWVkIG9uIHRoZSBjb21wb25lbnQncyBwcm90b3R5cGUKICAgICAgLy8gZHVyaW5nIFZ1ZS5leHRlbmQoKS4gV2Ugb25seSBuZWVkIHRvIHByb3h5IHByb3BzIGRlZmluZWQgYXQKICAgICAgLy8gaW5zdGFudGlhdGlvbiBoZXJlLgogICAgICBpZiAoIShrZXkgaW4gdm0pKSB7CiAgICAgICAgcHJveHkodm0sICJfcHJvcHMiLCBrZXkpOwogICAgICB9CiAgICB9OwoKICAgIGZvciAodmFyIGtleSBpbiBwcm9wc09wdGlvbnMpIGxvb3AoIGtleSApOwogICAgdG9nZ2xlT2JzZXJ2aW5nKHRydWUpOwogIH0KCiAgZnVuY3Rpb24gaW5pdERhdGEgKHZtKSB7CiAgICB2YXIgZGF0YSA9IHZtLiRvcHRpb25zLmRhdGE7CiAgICBkYXRhID0gdm0uX2RhdGEgPSB0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJwogICAgICA/IGdldERhdGEoZGF0YSwgdm0pCiAgICAgIDogZGF0YSB8fCB7fTsKICAgIGlmICghaXNQbGFpbk9iamVjdChkYXRhKSkgewogICAgICBkYXRhID0ge307CiAgICAgIHdhcm4oCiAgICAgICAgJ2RhdGEgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0OlxuJyArCiAgICAgICAgJ2h0dHBzOi8vdnVlanMub3JnL3YyL2d1aWRlL2NvbXBvbmVudHMuaHRtbCNkYXRhLU11c3QtQmUtYS1GdW5jdGlvbicsCiAgICAgICAgdm0KICAgICAgKTsKICAgIH0KICAgIC8vIHByb3h5IGRhdGEgb24gaW5zdGFuY2UKICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7CiAgICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wczsKICAgIHZhciBtZXRob2RzID0gdm0uJG9wdGlvbnMubWV0aG9kczsKICAgIHZhciBpID0ga2V5cy5sZW5ndGg7CiAgICB3aGlsZSAoaS0tKSB7CiAgICAgIHZhciBrZXkgPSBrZXlzW2ldOwogICAgICB7CiAgICAgICAgaWYgKG1ldGhvZHMgJiYgaGFzT3duKG1ldGhvZHMsIGtleSkpIHsKICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICgiTWV0aG9kIFwiIiArIGtleSArICJcIiBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQgYXMgYSBkYXRhIHByb3BlcnR5LiIpLAogICAgICAgICAgICB2bQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHByb3BzICYmIGhhc093bihwcm9wcywga2V5KSkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAiVGhlIGRhdGEgcHJvcGVydHkgXCIiICsga2V5ICsgIlwiIGlzIGFscmVhZHkgZGVjbGFyZWQgYXMgYSBwcm9wLiAiICsKICAgICAgICAgICJVc2UgcHJvcCBkZWZhdWx0IHZhbHVlIGluc3RlYWQuIiwKICAgICAgICAgIHZtCiAgICAgICAgKTsKICAgICAgfSBlbHNlIGlmICghaXNSZXNlcnZlZChrZXkpKSB7CiAgICAgICAgcHJveHkodm0sICJfZGF0YSIsIGtleSk7CiAgICAgIH0KICAgIH0KICAgIC8vIG9ic2VydmUgZGF0YQogICAgb2JzZXJ2ZShkYXRhLCB0cnVlIC8qIGFzUm9vdERhdGEgKi8pOwogIH0KCiAgZnVuY3Rpb24gZ2V0RGF0YSAoZGF0YSwgdm0pIHsKICAgIC8vICM3NTczIGRpc2FibGUgZGVwIGNvbGxlY3Rpb24gd2hlbiBpbnZva2luZyBkYXRhIGdldHRlcnMKICAgIHB1c2hUYXJnZXQoKTsKICAgIHRyeSB7CiAgICAgIHJldHVybiBkYXRhLmNhbGwodm0sIHZtKQogICAgfSBjYXRjaCAoZSkgewogICAgICBoYW5kbGVFcnJvcihlLCB2bSwgImRhdGEoKSIpOwogICAgICByZXR1cm4ge30KICAgIH0gZmluYWxseSB7CiAgICAgIHBvcFRhcmdldCgpOwogICAgfQogIH0KCiAgdmFyIGNvbXB1dGVkV2F0Y2hlck9wdGlvbnMgPSB7IGxhenk6IHRydWUgfTsKCiAgZnVuY3Rpb24gaW5pdENvbXB1dGVkICh2bSwgY29tcHV0ZWQpIHsKICAgIC8vICRmbG93LWRpc2FibGUtbGluZQogICAgdmFyIHdhdGNoZXJzID0gdm0uX2NvbXB1dGVkV2F0Y2hlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgLy8gY29tcHV0ZWQgcHJvcGVydGllcyBhcmUganVzdCBnZXR0ZXJzIGR1cmluZyBTU1IKICAgIHZhciBpc1NTUiA9IGlzU2VydmVyUmVuZGVyaW5nKCk7CgogICAgZm9yICh2YXIga2V5IGluIGNvbXB1dGVkKSB7CiAgICAgIHZhciB1c2VyRGVmID0gY29tcHV0ZWRba2V5XTsKICAgICAgdmFyIGdldHRlciA9IHR5cGVvZiB1c2VyRGVmID09PSAnZnVuY3Rpb24nID8gdXNlckRlZiA6IHVzZXJEZWYuZ2V0OwogICAgICBpZiAoZ2V0dGVyID09IG51bGwpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgKCJHZXR0ZXIgaXMgbWlzc2luZyBmb3IgY29tcHV0ZWQgcHJvcGVydHkgXCIiICsga2V5ICsgIlwiLiIpLAogICAgICAgICAgdm0KICAgICAgICApOwogICAgICB9CgogICAgICBpZiAoIWlzU1NSKSB7CiAgICAgICAgLy8gY3JlYXRlIGludGVybmFsIHdhdGNoZXIgZm9yIHRoZSBjb21wdXRlZCBwcm9wZXJ0eS4KICAgICAgICB3YXRjaGVyc1trZXldID0gbmV3IFdhdGNoZXIoCiAgICAgICAgICB2bSwKICAgICAgICAgIGdldHRlciB8fCBub29wLAogICAgICAgICAgbm9vcCwKICAgICAgICAgIGNvbXB1dGVkV2F0Y2hlck9wdGlvbnMKICAgICAgICApOwogICAgICB9CgogICAgICAvLyBjb21wb25lbnQtZGVmaW5lZCBjb21wdXRlZCBwcm9wZXJ0aWVzIGFyZSBhbHJlYWR5IGRlZmluZWQgb24gdGhlCiAgICAgIC8vIGNvbXBvbmVudCBwcm90b3R5cGUuIFdlIG9ubHkgbmVlZCB0byBkZWZpbmUgY29tcHV0ZWQgcHJvcGVydGllcyBkZWZpbmVkCiAgICAgIC8vIGF0IGluc3RhbnRpYXRpb24gaGVyZS4KICAgICAgaWYgKCEoa2V5IGluIHZtKSkgewogICAgICAgIGRlZmluZUNvbXB1dGVkKHZtLCBrZXksIHVzZXJEZWYpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChrZXkgaW4gdm0uJGRhdGEpIHsKICAgICAgICAgIHdhcm4oKCJUaGUgY29tcHV0ZWQgcHJvcGVydHkgXCIiICsga2V5ICsgIlwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiBkYXRhLiIpLCB2bSk7CiAgICAgICAgfSBlbHNlIGlmICh2bS4kb3B0aW9ucy5wcm9wcyAmJiBrZXkgaW4gdm0uJG9wdGlvbnMucHJvcHMpIHsKICAgICAgICAgIHdhcm4oKCJUaGUgY29tcHV0ZWQgcHJvcGVydHkgXCIiICsga2V5ICsgIlwiIGlzIGFscmVhZHkgZGVmaW5lZCBhcyBhIHByb3AuIiksIHZtKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGRlZmluZUNvbXB1dGVkICgKICAgIHRhcmdldCwKICAgIGtleSwKICAgIHVzZXJEZWYKICApIHsKICAgIHZhciBzaG91bGRDYWNoZSA9ICFpc1NlcnZlclJlbmRlcmluZygpOwogICAgaWYgKHR5cGVvZiB1c2VyRGVmID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5nZXQgPSBzaG91bGRDYWNoZQogICAgICAgID8gY3JlYXRlQ29tcHV0ZWRHZXR0ZXIoa2V5KQogICAgICAgIDogY3JlYXRlR2V0dGVySW52b2tlcih1c2VyRGVmKTsKICAgICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IG5vb3A7CiAgICB9IGVsc2UgewogICAgICBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uZ2V0ID0gdXNlckRlZi5nZXQKICAgICAgICA/IHNob3VsZENhY2hlICYmIHVzZXJEZWYuY2FjaGUgIT09IGZhbHNlCiAgICAgICAgICA/IGNyZWF0ZUNvbXB1dGVkR2V0dGVyKGtleSkKICAgICAgICAgIDogY3JlYXRlR2V0dGVySW52b2tlcih1c2VyRGVmLmdldCkKICAgICAgICA6IG5vb3A7CiAgICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5zZXQgPSB1c2VyRGVmLnNldCB8fCBub29wOwogICAgfQogICAgaWYgKHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5zZXQgPT09IG5vb3ApIHsKICAgICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgKCJDb21wdXRlZCBwcm9wZXJ0eSBcIiIgKyBrZXkgKyAiXCIgd2FzIGFzc2lnbmVkIHRvIGJ1dCBpdCBoYXMgbm8gc2V0dGVyLiIpLAogICAgICAgICAgdGhpcwogICAgICAgICk7CiAgICAgIH07CiAgICB9CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbik7CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVDb21wdXRlZEdldHRlciAoa2V5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIgKCkgewogICAgICB2YXIgd2F0Y2hlciA9IHRoaXMuX2NvbXB1dGVkV2F0Y2hlcnMgJiYgdGhpcy5fY29tcHV0ZWRXYXRjaGVyc1trZXldOwogICAgICBpZiAod2F0Y2hlcikgewogICAgICAgIGlmICh3YXRjaGVyLmRpcnR5KSB7CiAgICAgICAgICB3YXRjaGVyLmV2YWx1YXRlKCk7CiAgICAgICAgfQogICAgICAgIGlmIChEZXAudGFyZ2V0KSB7CiAgICAgICAgICB3YXRjaGVyLmRlcGVuZCgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gd2F0Y2hlci52YWx1ZQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVHZXR0ZXJJbnZva2VyKGZuKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIgKCkgewogICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCB0aGlzKQogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdE1ldGhvZHMgKHZtLCBtZXRob2RzKSB7CiAgICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wczsKICAgIGZvciAodmFyIGtleSBpbiBtZXRob2RzKSB7CiAgICAgIHsKICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHNba2V5XSAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgd2FybigKICAgICAgICAgICAgIk1ldGhvZCBcIiIgKyBrZXkgKyAiXCIgaGFzIHR5cGUgXCIiICsgKHR5cGVvZiBtZXRob2RzW2tleV0pICsgIlwiIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gIiArCiAgICAgICAgICAgICJEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5PyIsCiAgICAgICAgICAgIHZtCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICBpZiAocHJvcHMgJiYgaGFzT3duKHByb3BzLCBrZXkpKSB7CiAgICAgICAgICB3YXJuKAogICAgICAgICAgICAoIk1ldGhvZCBcIiIgKyBrZXkgKyAiXCIgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkIGFzIGEgcHJvcC4iKSwKICAgICAgICAgICAgdm0KICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIGlmICgoa2V5IGluIHZtKSAmJiBpc1Jlc2VydmVkKGtleSkpIHsKICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICJNZXRob2QgXCIiICsga2V5ICsgIlwiIGNvbmZsaWN0cyB3aXRoIGFuIGV4aXN0aW5nIFZ1ZSBpbnN0YW5jZSBtZXRob2QuICIgKwogICAgICAgICAgICAiQXZvaWQgZGVmaW5pbmcgY29tcG9uZW50IG1ldGhvZHMgdGhhdCBzdGFydCB3aXRoIF8gb3IgJC4iCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfQogICAgICB2bVtrZXldID0gdHlwZW9mIG1ldGhvZHNba2V5XSAhPT0gJ2Z1bmN0aW9uJyA/IG5vb3AgOiBiaW5kKG1ldGhvZHNba2V5XSwgdm0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFdhdGNoICh2bSwgd2F0Y2gpIHsKICAgIGZvciAodmFyIGtleSBpbiB3YXRjaCkgewogICAgICB2YXIgaGFuZGxlciA9IHdhdGNoW2tleV07CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGhhbmRsZXIpKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYW5kbGVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjcmVhdGVXYXRjaGVyKHZtLCBrZXksIGhhbmRsZXJbaV0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjcmVhdGVXYXRjaGVyKHZtLCBrZXksIGhhbmRsZXIpOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVXYXRjaGVyICgKICAgIHZtLAogICAgZXhwT3JGbiwKICAgIGhhbmRsZXIsCiAgICBvcHRpb25zCiAgKSB7CiAgICBpZiAoaXNQbGFpbk9iamVjdChoYW5kbGVyKSkgewogICAgICBvcHRpb25zID0gaGFuZGxlcjsKICAgICAgaGFuZGxlciA9IGhhbmRsZXIuaGFuZGxlcjsKICAgIH0KICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ3N0cmluZycpIHsKICAgICAgaGFuZGxlciA9IHZtW2hhbmRsZXJdOwogICAgfQogICAgcmV0dXJuIHZtLiR3YXRjaChleHBPckZuLCBoYW5kbGVyLCBvcHRpb25zKQogIH0KCiAgZnVuY3Rpb24gc3RhdGVNaXhpbiAoVnVlKSB7CiAgICAvLyBmbG93IHNvbWVob3cgaGFzIHByb2JsZW1zIHdpdGggZGlyZWN0bHkgZGVjbGFyZWQgZGVmaW5pdGlvbiBvYmplY3QKICAgIC8vIHdoZW4gdXNpbmcgT2JqZWN0LmRlZmluZVByb3BlcnR5LCBzbyB3ZSBoYXZlIHRvIHByb2NlZHVyYWxseSBidWlsZCB1cAogICAgLy8gdGhlIG9iamVjdCBoZXJlLgogICAgdmFyIGRhdGFEZWYgPSB7fTsKICAgIGRhdGFEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZGF0YSB9OwogICAgdmFyIHByb3BzRGVmID0ge307CiAgICBwcm9wc0RlZi5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9wcm9wcyB9OwogICAgewogICAgICBkYXRhRGVmLnNldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgJ0F2b2lkIHJlcGxhY2luZyBpbnN0YW5jZSByb290ICRkYXRhLiAnICsKICAgICAgICAgICdVc2UgbmVzdGVkIGRhdGEgcHJvcGVydGllcyBpbnN0ZWFkLicsCiAgICAgICAgICB0aGlzCiAgICAgICAgKTsKICAgICAgfTsKICAgICAgcHJvcHNEZWYuc2V0ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHdhcm4oIiRwcm9wcyBpcyByZWFkb25seS4iLCB0aGlzKTsKICAgICAgfTsKICAgIH0KICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGRhdGEnLCBkYXRhRGVmKTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJHByb3BzJywgcHJvcHNEZWYpOwoKICAgIFZ1ZS5wcm90b3R5cGUuJHNldCA9IHNldDsKICAgIFZ1ZS5wcm90b3R5cGUuJGRlbGV0ZSA9IGRlbDsKCiAgICBWdWUucHJvdG90eXBlLiR3YXRjaCA9IGZ1bmN0aW9uICgKICAgICAgZXhwT3JGbiwKICAgICAgY2IsCiAgICAgIG9wdGlvbnMKICAgICkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBpZiAoaXNQbGFpbk9iamVjdChjYikpIHsKICAgICAgICByZXR1cm4gY3JlYXRlV2F0Y2hlcih2bSwgZXhwT3JGbiwgY2IsIG9wdGlvbnMpCiAgICAgIH0KICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgIG9wdGlvbnMudXNlciA9IHRydWU7CiAgICAgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIodm0sIGV4cE9yRm4sIGNiLCBvcHRpb25zKTsKICAgICAgaWYgKG9wdGlvbnMuaW1tZWRpYXRlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNiLmNhbGwodm0sIHdhdGNoZXIudmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgdm0sICgiY2FsbGJhY2sgZm9yIGltbWVkaWF0ZSB3YXRjaGVyIFwiIiArICh3YXRjaGVyLmV4cHJlc3Npb24pICsgIlwiIikpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZnVuY3Rpb24gdW53YXRjaEZuICgpIHsKICAgICAgICB3YXRjaGVyLnRlYXJkb3duKCk7CiAgICAgIH0KICAgIH07CiAgfQoKICAvKiAgKi8KCiAgdmFyIHVpZCQzID0gMDsKCiAgZnVuY3Rpb24gaW5pdE1peGluIChWdWUpIHsKICAgIFZ1ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAvLyBhIHVpZAogICAgICB2bS5fdWlkID0gdWlkJDMrKzsKCiAgICAgIHZhciBzdGFydFRhZywgZW5kVGFnOwogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKGNvbmZpZy5wZXJmb3JtYW5jZSAmJiBtYXJrKSB7CiAgICAgICAgc3RhcnRUYWcgPSAidnVlLXBlcmYtc3RhcnQ6IiArICh2bS5fdWlkKTsKICAgICAgICBlbmRUYWcgPSAidnVlLXBlcmYtZW5kOiIgKyAodm0uX3VpZCk7CiAgICAgICAgbWFyayhzdGFydFRhZyk7CiAgICAgIH0KCiAgICAgIC8vIGEgZmxhZyB0byBhdm9pZCB0aGlzIGJlaW5nIG9ic2VydmVkCiAgICAgIHZtLl9pc1Z1ZSA9IHRydWU7CiAgICAgIC8vIG1lcmdlIG9wdGlvbnMKICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5faXNDb21wb25lbnQpIHsKICAgICAgICAvLyBvcHRpbWl6ZSBpbnRlcm5hbCBjb21wb25lbnQgaW5zdGFudGlhdGlvbgogICAgICAgIC8vIHNpbmNlIGR5bmFtaWMgb3B0aW9ucyBtZXJnaW5nIGlzIHByZXR0eSBzbG93LCBhbmQgbm9uZSBvZiB0aGUKICAgICAgICAvLyBpbnRlcm5hbCBjb21wb25lbnQgb3B0aW9ucyBuZWVkcyBzcGVjaWFsIHRyZWF0bWVudC4KICAgICAgICBpbml0SW50ZXJuYWxDb21wb25lbnQodm0sIG9wdGlvbnMpOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLiRvcHRpb25zID0gbWVyZ2VPcHRpb25zKAogICAgICAgICAgcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyh2bS5jb25zdHJ1Y3RvciksCiAgICAgICAgICBvcHRpb25zIHx8IHt9LAogICAgICAgICAgdm0KICAgICAgICApOwogICAgICB9CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICAgIHsKICAgICAgICBpbml0UHJveHkodm0pOwogICAgICB9CiAgICAgIC8vIGV4cG9zZSByZWFsIHNlbGYKICAgICAgdm0uX3NlbGYgPSB2bTsKICAgICAgaW5pdExpZmVjeWNsZSh2bSk7CiAgICAgIGluaXRFdmVudHModm0pOwogICAgICBpbml0UmVuZGVyKHZtKTsKICAgICAgY2FsbEhvb2sodm0sICdiZWZvcmVDcmVhdGUnKTsKICAgICAgaW5pdEluamVjdGlvbnModm0pOyAvLyByZXNvbHZlIGluamVjdGlvbnMgYmVmb3JlIGRhdGEvcHJvcHMKICAgICAgaW5pdFN0YXRlKHZtKTsKICAgICAgaW5pdFByb3ZpZGUodm0pOyAvLyByZXNvbHZlIHByb3ZpZGUgYWZ0ZXIgZGF0YS9wcm9wcwogICAgICBjYWxsSG9vayh2bSwgJ2NyZWF0ZWQnKTsKCiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICBpZiAoY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHsKICAgICAgICB2bS5fbmFtZSA9IGZvcm1hdENvbXBvbmVudE5hbWUodm0sIGZhbHNlKTsKICAgICAgICBtYXJrKGVuZFRhZyk7CiAgICAgICAgbWVhc3VyZSgoInZ1ZSAiICsgKHZtLl9uYW1lKSArICIgaW5pdCIpLCBzdGFydFRhZywgZW5kVGFnKTsKICAgICAgfQoKICAgICAgaWYgKHZtLiRvcHRpb25zLmVsKSB7CiAgICAgICAgdm0uJG1vdW50KHZtLiRvcHRpb25zLmVsKTsKICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIGluaXRJbnRlcm5hbENvbXBvbmVudCAodm0sIG9wdGlvbnMpIHsKICAgIHZhciBvcHRzID0gdm0uJG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKHZtLmNvbnN0cnVjdG9yLm9wdGlvbnMpOwogICAgLy8gZG9pbmcgdGhpcyBiZWNhdXNlIGl0J3MgZmFzdGVyIHRoYW4gZHluYW1pYyBlbnVtZXJhdGlvbi4KICAgIHZhciBwYXJlbnRWbm9kZSA9IG9wdGlvbnMuX3BhcmVudFZub2RlOwogICAgb3B0cy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudDsKICAgIG9wdHMuX3BhcmVudFZub2RlID0gcGFyZW50Vm5vZGU7CgogICAgdmFyIHZub2RlQ29tcG9uZW50T3B0aW9ucyA9IHBhcmVudFZub2RlLmNvbXBvbmVudE9wdGlvbnM7CiAgICBvcHRzLnByb3BzRGF0YSA9IHZub2RlQ29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGE7CiAgICBvcHRzLl9wYXJlbnRMaXN0ZW5lcnMgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMubGlzdGVuZXJzOwogICAgb3B0cy5fcmVuZGVyQ2hpbGRyZW4gPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMuY2hpbGRyZW47CiAgICBvcHRzLl9jb21wb25lbnRUYWcgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMudGFnOwoKICAgIGlmIChvcHRpb25zLnJlbmRlcikgewogICAgICBvcHRzLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyOwogICAgICBvcHRzLnN0YXRpY1JlbmRlckZucyA9IG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyAoQ3RvcikgewogICAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7CiAgICBpZiAoQ3Rvci5zdXBlcikgewogICAgICB2YXIgc3VwZXJPcHRpb25zID0gcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyhDdG9yLnN1cGVyKTsKICAgICAgdmFyIGNhY2hlZFN1cGVyT3B0aW9ucyA9IEN0b3Iuc3VwZXJPcHRpb25zOwogICAgICBpZiAoc3VwZXJPcHRpb25zICE9PSBjYWNoZWRTdXBlck9wdGlvbnMpIHsKICAgICAgICAvLyBzdXBlciBvcHRpb24gY2hhbmdlZCwKICAgICAgICAvLyBuZWVkIHRvIHJlc29sdmUgbmV3IG9wdGlvbnMuCiAgICAgICAgQ3Rvci5zdXBlck9wdGlvbnMgPSBzdXBlck9wdGlvbnM7CiAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIGFueSBsYXRlLW1vZGlmaWVkL2F0dGFjaGVkIG9wdGlvbnMgKCM0OTc2KQogICAgICAgIHZhciBtb2RpZmllZE9wdGlvbnMgPSByZXNvbHZlTW9kaWZpZWRPcHRpb25zKEN0b3IpOwogICAgICAgIC8vIHVwZGF0ZSBiYXNlIGV4dGVuZCBvcHRpb25zCiAgICAgICAgaWYgKG1vZGlmaWVkT3B0aW9ucykgewogICAgICAgICAgZXh0ZW5kKEN0b3IuZXh0ZW5kT3B0aW9ucywgbW9kaWZpZWRPcHRpb25zKTsKICAgICAgICB9CiAgICAgICAgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhzdXBlck9wdGlvbnMsIEN0b3IuZXh0ZW5kT3B0aW9ucyk7CiAgICAgICAgaWYgKG9wdGlvbnMubmFtZSkgewogICAgICAgICAgb3B0aW9ucy5jb21wb25lbnRzW29wdGlvbnMubmFtZV0gPSBDdG9yOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG9wdGlvbnMKICB9CgogIGZ1bmN0aW9uIHJlc29sdmVNb2RpZmllZE9wdGlvbnMgKEN0b3IpIHsKICAgIHZhciBtb2RpZmllZDsKICAgIHZhciBsYXRlc3QgPSBDdG9yLm9wdGlvbnM7CiAgICB2YXIgc2VhbGVkID0gQ3Rvci5zZWFsZWRPcHRpb25zOwogICAgZm9yICh2YXIga2V5IGluIGxhdGVzdCkgewogICAgICBpZiAobGF0ZXN0W2tleV0gIT09IHNlYWxlZFtrZXldKSB7CiAgICAgICAgaWYgKCFtb2RpZmllZCkgeyBtb2RpZmllZCA9IHt9OyB9CiAgICAgICAgbW9kaWZpZWRba2V5XSA9IGxhdGVzdFtrZXldOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gbW9kaWZpZWQKICB9CgogIGZ1bmN0aW9uIFZ1ZSAob3B0aW9ucykgewogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFZ1ZSkKICAgICkgewogICAgICB3YXJuKCdWdWUgaXMgYSBjb25zdHJ1Y3RvciBhbmQgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIHRoZSBgbmV3YCBrZXl3b3JkJyk7CiAgICB9CiAgICB0aGlzLl9pbml0KG9wdGlvbnMpOwogIH0KCiAgaW5pdE1peGluKFZ1ZSk7CiAgc3RhdGVNaXhpbihWdWUpOwogIGV2ZW50c01peGluKFZ1ZSk7CiAgbGlmZWN5Y2xlTWl4aW4oVnVlKTsKICByZW5kZXJNaXhpbihWdWUpOwoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaW5pdFVzZSAoVnVlKSB7CiAgICBWdWUudXNlID0gZnVuY3Rpb24gKHBsdWdpbikgewogICAgICB2YXIgaW5zdGFsbGVkUGx1Z2lucyA9ICh0aGlzLl9pbnN0YWxsZWRQbHVnaW5zIHx8ICh0aGlzLl9pbnN0YWxsZWRQbHVnaW5zID0gW10pKTsKICAgICAgaWYgKGluc3RhbGxlZFBsdWdpbnMuaW5kZXhPZihwbHVnaW4pID4gLTEpIHsKICAgICAgICByZXR1cm4gdGhpcwogICAgICB9CgogICAgICAvLyBhZGRpdGlvbmFsIHBhcmFtZXRlcnMKICAgICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7CiAgICAgIGFyZ3MudW5zaGlmdCh0aGlzKTsKICAgICAgaWYgKHR5cGVvZiBwbHVnaW4uaW5zdGFsbCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHBsdWdpbi5pbnN0YWxsLmFwcGx5KHBsdWdpbiwgYXJncyk7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBsdWdpbiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHBsdWdpbi5hcHBseShudWxsLCBhcmdzKTsKICAgICAgfQogICAgICBpbnN0YWxsZWRQbHVnaW5zLnB1c2gocGx1Z2luKTsKICAgICAgcmV0dXJuIHRoaXMKICAgIH07CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaW5pdE1peGluJDEgKFZ1ZSkgewogICAgVnVlLm1peGluID0gZnVuY3Rpb24gKG1peGluKSB7CiAgICAgIHRoaXMub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG1peGluKTsKICAgICAgcmV0dXJuIHRoaXMKICAgIH07CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaW5pdEV4dGVuZCAoVnVlKSB7CiAgICAvKioKICAgICAqIEVhY2ggaW5zdGFuY2UgY29uc3RydWN0b3IsIGluY2x1ZGluZyBWdWUsIGhhcyBhIHVuaXF1ZQogICAgICogY2lkLiBUaGlzIGVuYWJsZXMgdXMgdG8gY3JlYXRlIHdyYXBwZWQgImNoaWxkCiAgICAgKiBjb25zdHJ1Y3RvcnMiIGZvciBwcm90b3R5cGFsIGluaGVyaXRhbmNlIGFuZCBjYWNoZSB0aGVtLgogICAgICovCiAgICBWdWUuY2lkID0gMDsKICAgIHZhciBjaWQgPSAxOwoKICAgIC8qKgogICAgICogQ2xhc3MgaW5oZXJpdGFuY2UKICAgICAqLwogICAgVnVlLmV4dGVuZCA9IGZ1bmN0aW9uIChleHRlbmRPcHRpb25zKSB7CiAgICAgIGV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zIHx8IHt9OwogICAgICB2YXIgU3VwZXIgPSB0aGlzOwogICAgICB2YXIgU3VwZXJJZCA9IFN1cGVyLmNpZDsKICAgICAgdmFyIGNhY2hlZEN0b3JzID0gZXh0ZW5kT3B0aW9ucy5fQ3RvciB8fCAoZXh0ZW5kT3B0aW9ucy5fQ3RvciA9IHt9KTsKICAgICAgaWYgKGNhY2hlZEN0b3JzW1N1cGVySWRdKSB7CiAgICAgICAgcmV0dXJuIGNhY2hlZEN0b3JzW1N1cGVySWRdCiAgICAgIH0KCiAgICAgIHZhciBuYW1lID0gZXh0ZW5kT3B0aW9ucy5uYW1lIHx8IFN1cGVyLm9wdGlvbnMubmFtZTsKICAgICAgaWYgKG5hbWUpIHsKICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSk7CiAgICAgIH0KCiAgICAgIHZhciBTdWIgPSBmdW5jdGlvbiBWdWVDb21wb25lbnQgKG9wdGlvbnMpIHsKICAgICAgICB0aGlzLl9pbml0KG9wdGlvbnMpOwogICAgICB9OwogICAgICBTdWIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdXBlci5wcm90b3R5cGUpOwogICAgICBTdWIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViOwogICAgICBTdWIuY2lkID0gY2lkKys7CiAgICAgIFN1Yi5vcHRpb25zID0gbWVyZ2VPcHRpb25zKAogICAgICAgIFN1cGVyLm9wdGlvbnMsCiAgICAgICAgZXh0ZW5kT3B0aW9ucwogICAgICApOwogICAgICBTdWJbJ3N1cGVyJ10gPSBTdXBlcjsKCiAgICAgIC8vIEZvciBwcm9wcyBhbmQgY29tcHV0ZWQgcHJvcGVydGllcywgd2UgZGVmaW5lIHRoZSBwcm94eSBnZXR0ZXJzIG9uCiAgICAgIC8vIHRoZSBWdWUgaW5zdGFuY2VzIGF0IGV4dGVuc2lvbiB0aW1lLCBvbiB0aGUgZXh0ZW5kZWQgcHJvdG90eXBlLiBUaGlzCiAgICAgIC8vIGF2b2lkcyBPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbHMgZm9yIGVhY2ggaW5zdGFuY2UgY3JlYXRlZC4KICAgICAgaWYgKFN1Yi5vcHRpb25zLnByb3BzKSB7CiAgICAgICAgaW5pdFByb3BzJDEoU3ViKTsKICAgICAgfQogICAgICBpZiAoU3ViLm9wdGlvbnMuY29tcHV0ZWQpIHsKICAgICAgICBpbml0Q29tcHV0ZWQkMShTdWIpOwogICAgICB9CgogICAgICAvLyBhbGxvdyBmdXJ0aGVyIGV4dGVuc2lvbi9taXhpbi9wbHVnaW4gdXNhZ2UKICAgICAgU3ViLmV4dGVuZCA9IFN1cGVyLmV4dGVuZDsKICAgICAgU3ViLm1peGluID0gU3VwZXIubWl4aW47CiAgICAgIFN1Yi51c2UgPSBTdXBlci51c2U7CgogICAgICAvLyBjcmVhdGUgYXNzZXQgcmVnaXN0ZXJzLCBzbyBleHRlbmRlZCBjbGFzc2VzCiAgICAgIC8vIGNhbiBoYXZlIHRoZWlyIHByaXZhdGUgYXNzZXRzIHRvby4KICAgICAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewogICAgICAgIFN1Ylt0eXBlXSA9IFN1cGVyW3R5cGVdOwogICAgICB9KTsKICAgICAgLy8gZW5hYmxlIHJlY3Vyc2l2ZSBzZWxmLWxvb2t1cAogICAgICBpZiAobmFtZSkgewogICAgICAgIFN1Yi5vcHRpb25zLmNvbXBvbmVudHNbbmFtZV0gPSBTdWI7CiAgICAgIH0KCiAgICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHN1cGVyIG9wdGlvbnMgYXQgZXh0ZW5zaW9uIHRpbWUuCiAgICAgIC8vIGxhdGVyIGF0IGluc3RhbnRpYXRpb24gd2UgY2FuIGNoZWNrIGlmIFN1cGVyJ3Mgb3B0aW9ucyBoYXZlCiAgICAgIC8vIGJlZW4gdXBkYXRlZC4KICAgICAgU3ViLnN1cGVyT3B0aW9ucyA9IFN1cGVyLm9wdGlvbnM7CiAgICAgIFN1Yi5leHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9uczsKICAgICAgU3ViLnNlYWxlZE9wdGlvbnMgPSBleHRlbmQoe30sIFN1Yi5vcHRpb25zKTsKCiAgICAgIC8vIGNhY2hlIGNvbnN0cnVjdG9yCiAgICAgIGNhY2hlZEN0b3JzW1N1cGVySWRdID0gU3ViOwogICAgICByZXR1cm4gU3ViCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gaW5pdFByb3BzJDEgKENvbXApIHsKICAgIHZhciBwcm9wcyA9IENvbXAub3B0aW9ucy5wcm9wczsKICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykgewogICAgICBwcm94eShDb21wLnByb3RvdHlwZSwgIl9wcm9wcyIsIGtleSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpbml0Q29tcHV0ZWQkMSAoQ29tcCkgewogICAgdmFyIGNvbXB1dGVkID0gQ29tcC5vcHRpb25zLmNvbXB1dGVkOwogICAgZm9yICh2YXIga2V5IGluIGNvbXB1dGVkKSB7CiAgICAgIGRlZmluZUNvbXB1dGVkKENvbXAucHJvdG90eXBlLCBrZXksIGNvbXB1dGVkW2tleV0pOwogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGluaXRBc3NldFJlZ2lzdGVycyAoVnVlKSB7CiAgICAvKioKICAgICAqIENyZWF0ZSBhc3NldCByZWdpc3RyYXRpb24gbWV0aG9kcy4KICAgICAqLwogICAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewogICAgICBWdWVbdHlwZV0gPSBmdW5jdGlvbiAoCiAgICAgICAgaWQsCiAgICAgICAgZGVmaW5pdGlvbgogICAgICApIHsKICAgICAgICBpZiAoIWRlZmluaXRpb24pIHsKICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICAgICAgaWYgKHR5cGUgPT09ICdjb21wb25lbnQnKSB7CiAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShpZCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbXBvbmVudCcgJiYgaXNQbGFpbk9iamVjdChkZWZpbml0aW9uKSkgewogICAgICAgICAgICBkZWZpbml0aW9uLm5hbWUgPSBkZWZpbml0aW9uLm5hbWUgfHwgaWQ7CiAgICAgICAgICAgIGRlZmluaXRpb24gPSB0aGlzLm9wdGlvbnMuX2Jhc2UuZXh0ZW5kKGRlZmluaXRpb24pOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGUgPT09ICdkaXJlY3RpdmUnICYmIHR5cGVvZiBkZWZpbml0aW9uID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIGRlZmluaXRpb24gPSB7IGJpbmQ6IGRlZmluaXRpb24sIHVwZGF0ZTogZGVmaW5pdGlvbiB9OwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5vcHRpb25zW3R5cGUgKyAncyddW2lkXSA9IGRlZmluaXRpb247CiAgICAgICAgICByZXR1cm4gZGVmaW5pdGlvbgogICAgICAgIH0KICAgICAgfTsKICAgIH0pOwogIH0KCiAgLyogICovCgoKCiAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZSAob3B0cykgewogICAgcmV0dXJuIG9wdHMgJiYgKG9wdHMuQ3Rvci5vcHRpb25zLm5hbWUgfHwgb3B0cy50YWcpCiAgfQoKICBmdW5jdGlvbiBtYXRjaGVzIChwYXR0ZXJuLCBuYW1lKSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShwYXR0ZXJuKSkgewogICAgICByZXR1cm4gcGF0dGVybi5pbmRleE9mKG5hbWUpID4gLTEKICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnKSB7CiAgICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KCcsJykuaW5kZXhPZihuYW1lKSA+IC0xCiAgICB9IGVsc2UgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7CiAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSkKICAgIH0KICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICByZXR1cm4gZmFsc2UKICB9CgogIGZ1bmN0aW9uIHBydW5lQ2FjaGUgKGtlZXBBbGl2ZUluc3RhbmNlLCBmaWx0ZXIpIHsKICAgIHZhciBjYWNoZSA9IGtlZXBBbGl2ZUluc3RhbmNlLmNhY2hlOwogICAgdmFyIGtleXMgPSBrZWVwQWxpdmVJbnN0YW5jZS5rZXlzOwogICAgdmFyIF92bm9kZSA9IGtlZXBBbGl2ZUluc3RhbmNlLl92bm9kZTsKICAgIGZvciAodmFyIGtleSBpbiBjYWNoZSkgewogICAgICB2YXIgY2FjaGVkTm9kZSA9IGNhY2hlW2tleV07CiAgICAgIGlmIChjYWNoZWROb2RlKSB7CiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlZE5vZGUuY29tcG9uZW50T3B0aW9ucyk7CiAgICAgICAgaWYgKG5hbWUgJiYgIWZpbHRlcihuYW1lKSkgewogICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBrZXksIGtleXMsIF92bm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkgKAogICAgY2FjaGUsCiAgICBrZXksCiAgICBrZXlzLAogICAgY3VycmVudAogICkgewogICAgdmFyIGNhY2hlZCQkMSA9IGNhY2hlW2tleV07CiAgICBpZiAoY2FjaGVkJCQxICYmICghY3VycmVudCB8fCBjYWNoZWQkJDEudGFnICE9PSBjdXJyZW50LnRhZykpIHsKICAgICAgY2FjaGVkJCQxLmNvbXBvbmVudEluc3RhbmNlLiRkZXN0cm95KCk7CiAgICB9CiAgICBjYWNoZVtrZXldID0gbnVsbDsKICAgIHJlbW92ZShrZXlzLCBrZXkpOwogIH0KCiAgdmFyIHBhdHRlcm5UeXBlcyA9IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldOwoKICB2YXIgS2VlcEFsaXZlID0gewogICAgbmFtZTogJ2tlZXAtYWxpdmUnLAogICAgYWJzdHJhY3Q6IHRydWUsCgogICAgcHJvcHM6IHsKICAgICAgaW5jbHVkZTogcGF0dGVyblR5cGVzLAogICAgICBleGNsdWRlOiBwYXR0ZXJuVHlwZXMsCiAgICAgIG1heDogW1N0cmluZywgTnVtYmVyXQogICAgfSwKCiAgICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkICgpIHsKICAgICAgdGhpcy5jYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgIHRoaXMua2V5cyA9IFtdOwogICAgfSwKCiAgICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCAoKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNhY2hlKSB7CiAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KHRoaXMuY2FjaGUsIGtleSwgdGhpcy5rZXlzKTsKICAgICAgfQogICAgfSwKCiAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkICgpIHsKICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7CgogICAgICB0aGlzLiR3YXRjaCgnaW5jbHVkZScsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBwcnVuZUNhY2hlKHRoaXMkMSwgZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIG1hdGNoZXModmFsLCBuYW1lKTsgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLiR3YXRjaCgnZXhjbHVkZScsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBwcnVuZUNhY2hlKHRoaXMkMSwgZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuICFtYXRjaGVzKHZhbCwgbmFtZSk7IH0pOwogICAgICB9KTsKICAgIH0sCgogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKCkgewogICAgICB2YXIgc2xvdCA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7CiAgICAgIHZhciB2bm9kZSA9IGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoc2xvdCk7CiAgICAgIHZhciBjb21wb25lbnRPcHRpb25zID0gdm5vZGUgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9uczsKICAgICAgaWYgKGNvbXBvbmVudE9wdGlvbnMpIHsKICAgICAgICAvLyBjaGVjayBwYXR0ZXJuCiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXBvbmVudE9wdGlvbnMpOwogICAgICAgIHZhciByZWYgPSB0aGlzOwogICAgICAgIHZhciBpbmNsdWRlID0gcmVmLmluY2x1ZGU7CiAgICAgICAgdmFyIGV4Y2x1ZGUgPSByZWYuZXhjbHVkZTsKICAgICAgICBpZiAoCiAgICAgICAgICAvLyBub3QgaW5jbHVkZWQKICAgICAgICAgIChpbmNsdWRlICYmICghbmFtZSB8fCAhbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSkpIHx8CiAgICAgICAgICAvLyBleGNsdWRlZAogICAgICAgICAgKGV4Y2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKQogICAgICAgICkgewogICAgICAgICAgcmV0dXJuIHZub2RlCiAgICAgICAgfQoKICAgICAgICB2YXIgcmVmJDEgPSB0aGlzOwogICAgICAgIHZhciBjYWNoZSA9IHJlZiQxLmNhY2hlOwogICAgICAgIHZhciBrZXlzID0gcmVmJDEua2V5czsKICAgICAgICB2YXIga2V5ID0gdm5vZGUua2V5ID09IG51bGwKICAgICAgICAgIC8vIHNhbWUgY29uc3RydWN0b3IgbWF5IGdldCByZWdpc3RlcmVkIGFzIGRpZmZlcmVudCBsb2NhbCBjb21wb25lbnRzCiAgICAgICAgICAvLyBzbyBjaWQgYWxvbmUgaXMgbm90IGVub3VnaCAoIzMyNjkpCiAgICAgICAgICA/IGNvbXBvbmVudE9wdGlvbnMuQ3Rvci5jaWQgKyAoY29tcG9uZW50T3B0aW9ucy50YWcgPyAoIjo6IiArIChjb21wb25lbnRPcHRpb25zLnRhZykpIDogJycpCiAgICAgICAgICA6IHZub2RlLmtleTsKICAgICAgICBpZiAoY2FjaGVba2V5XSkgewogICAgICAgICAgdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgPSBjYWNoZVtrZXldLmNvbXBvbmVudEluc3RhbmNlOwogICAgICAgICAgLy8gbWFrZSBjdXJyZW50IGtleSBmcmVzaGVzdAogICAgICAgICAgcmVtb3ZlKGtleXMsIGtleSk7CiAgICAgICAgICBrZXlzLnB1c2goa2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FjaGVba2V5XSA9IHZub2RlOwogICAgICAgICAga2V5cy5wdXNoKGtleSk7CiAgICAgICAgICAvLyBwcnVuZSBvbGRlc3QgZW50cnkKICAgICAgICAgIGlmICh0aGlzLm1heCAmJiBrZXlzLmxlbmd0aCA+IHBhcnNlSW50KHRoaXMubWF4KSkgewogICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoY2FjaGUsIGtleXNbMF0sIGtleXMsIHRoaXMuX3Zub2RlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZub2RlLmRhdGEua2VlcEFsaXZlID0gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gdm5vZGUgfHwgKHNsb3QgJiYgc2xvdFswXSkKICAgIH0KICB9OwoKICB2YXIgYnVpbHRJbkNvbXBvbmVudHMgPSB7CiAgICBLZWVwQWxpdmU6IEtlZXBBbGl2ZQogIH07CgogIC8qICAqLwoKICBmdW5jdGlvbiBpbml0R2xvYmFsQVBJIChWdWUpIHsKICAgIC8vIGNvbmZpZwogICAgdmFyIGNvbmZpZ0RlZiA9IHt9OwogICAgY29uZmlnRGVmLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmZpZzsgfTsKICAgIHsKICAgICAgY29uZmlnRGVmLnNldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgJ0RvIG5vdCByZXBsYWNlIHRoZSBWdWUuY29uZmlnIG9iamVjdCwgc2V0IGluZGl2aWR1YWwgZmllbGRzIGluc3RlYWQuJwogICAgICAgICk7CiAgICAgIH07CiAgICB9CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCAnY29uZmlnJywgY29uZmlnRGVmKTsKCiAgICAvLyBleHBvc2VkIHV0aWwgbWV0aG9kcy4KICAgIC8vIE5PVEU6IHRoZXNlIGFyZSBub3QgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJIC0gYXZvaWQgcmVseWluZyBvbgogICAgLy8gdGhlbSB1bmxlc3MgeW91IGFyZSBhd2FyZSBvZiB0aGUgcmlzay4KICAgIFZ1ZS51dGlsID0gewogICAgICB3YXJuOiB3YXJuLAogICAgICBleHRlbmQ6IGV4dGVuZCwKICAgICAgbWVyZ2VPcHRpb25zOiBtZXJnZU9wdGlvbnMsCiAgICAgIGRlZmluZVJlYWN0aXZlOiBkZWZpbmVSZWFjdGl2ZSQkMQogICAgfTsKCiAgICBWdWUuc2V0ID0gc2V0OwogICAgVnVlLmRlbGV0ZSA9IGRlbDsKICAgIFZ1ZS5uZXh0VGljayA9IG5leHRUaWNrOwoKICAgIC8vIDIuNiBleHBsaWNpdCBvYnNlcnZhYmxlIEFQSQogICAgVnVlLm9ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7CiAgICAgIG9ic2VydmUob2JqKTsKICAgICAgcmV0dXJuIG9iagogICAgfTsKCiAgICBWdWUub3B0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBBU1NFVF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgIFZ1ZS5vcHRpb25zW3R5cGUgKyAncyddID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIH0pOwoKICAgIC8vIHRoaXMgaXMgdXNlZCB0byBpZGVudGlmeSB0aGUgImJhc2UiIGNvbnN0cnVjdG9yIHRvIGV4dGVuZCBhbGwgcGxhaW4tb2JqZWN0CiAgICAvLyBjb21wb25lbnRzIHdpdGggaW4gV2VleCdzIG11bHRpLWluc3RhbmNlIHNjZW5hcmlvcy4KICAgIFZ1ZS5vcHRpb25zLl9iYXNlID0gVnVlOwoKICAgIGV4dGVuZChWdWUub3B0aW9ucy5jb21wb25lbnRzLCBidWlsdEluQ29tcG9uZW50cyk7CgogICAgaW5pdFVzZShWdWUpOwogICAgaW5pdE1peGluJDEoVnVlKTsKICAgIGluaXRFeHRlbmQoVnVlKTsKICAgIGluaXRBc3NldFJlZ2lzdGVycyhWdWUpOwogIH0KCiAgaW5pdEdsb2JhbEFQSShWdWUpOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRpc1NlcnZlcicsIHsKICAgIGdldDogaXNTZXJ2ZXJSZW5kZXJpbmcKICB9KTsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckc3NyQ29udGV4dCcsIHsKICAgIGdldDogZnVuY3Rpb24gZ2V0ICgpIHsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgcmV0dXJuIHRoaXMuJHZub2RlICYmIHRoaXMuJHZub2RlLnNzckNvbnRleHQKICAgIH0KICB9KTsKCiAgLy8gZXhwb3NlIEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0IGZvciBzc3IgcnVudGltZSBoZWxwZXIgaW5zdGFsbGF0aW9uCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSwgJ0Z1bmN0aW9uYWxSZW5kZXJDb250ZXh0JywgewogICAgdmFsdWU6IEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0CiAgfSk7CgogIFZ1ZS52ZXJzaW9uID0gJzIuNi4xMCc7CgogIC8qICAqLwoKICAvLyB0aGVzZSBhcmUgcmVzZXJ2ZWQgZm9yIHdlYiBiZWNhdXNlIHRoZXkgYXJlIGRpcmVjdGx5IGNvbXBpbGVkIGF3YXkKICAvLyBkdXJpbmcgdGVtcGxhdGUgY29tcGlsYXRpb24KICB2YXIgaXNSZXNlcnZlZEF0dHIgPSBtYWtlTWFwKCdzdHlsZSxjbGFzcycpOwoKICAvLyBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIHVzaW5nIHByb3BzIGZvciBiaW5kaW5nCiAgdmFyIGFjY2VwdFZhbHVlID0gbWFrZU1hcCgnaW5wdXQsdGV4dGFyZWEsb3B0aW9uLHNlbGVjdCxwcm9ncmVzcycpOwogIHZhciBtdXN0VXNlUHJvcCA9IGZ1bmN0aW9uICh0YWcsIHR5cGUsIGF0dHIpIHsKICAgIHJldHVybiAoCiAgICAgIChhdHRyID09PSAndmFsdWUnICYmIGFjY2VwdFZhbHVlKHRhZykpICYmIHR5cGUgIT09ICdidXR0b24nIHx8CiAgICAgIChhdHRyID09PSAnc2VsZWN0ZWQnICYmIHRhZyA9PT0gJ29wdGlvbicpIHx8CiAgICAgIChhdHRyID09PSAnY2hlY2tlZCcgJiYgdGFnID09PSAnaW5wdXQnKSB8fAogICAgICAoYXR0ciA9PT0gJ211dGVkJyAmJiB0YWcgPT09ICd2aWRlbycpCiAgICApCiAgfTsKCiAgdmFyIGlzRW51bWVyYXRlZEF0dHIgPSBtYWtlTWFwKCdjb250ZW50ZWRpdGFibGUsZHJhZ2dhYmxlLHNwZWxsY2hlY2snKTsKCiAgdmFyIGlzVmFsaWRDb250ZW50RWRpdGFibGVWYWx1ZSA9IG1ha2VNYXAoJ2V2ZW50cyxjYXJldCx0eXBpbmcscGxhaW50ZXh0LW9ubHknKTsKCiAgdmFyIGNvbnZlcnRFbnVtZXJhdGVkVmFsdWUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgewogICAgcmV0dXJuIGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpIHx8IHZhbHVlID09PSAnZmFsc2UnCiAgICAgID8gJ2ZhbHNlJwogICAgICAvLyBhbGxvdyBhcmJpdHJhcnkgc3RyaW5nIHZhbHVlIGZvciBjb250ZW50ZWRpdGFibGUKICAgICAgOiBrZXkgPT09ICdjb250ZW50ZWRpdGFibGUnICYmIGlzVmFsaWRDb250ZW50RWRpdGFibGVWYWx1ZSh2YWx1ZSkKICAgICAgICA/IHZhbHVlCiAgICAgICAgOiAndHJ1ZScKICB9OwoKICB2YXIgaXNCb29sZWFuQXR0ciA9IG1ha2VNYXAoCiAgICAnYWxsb3dmdWxsc2NyZWVuLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjaGVja2VkLGNvbXBhY3QsY29udHJvbHMsZGVjbGFyZSwnICsKICAgICdkZWZhdWx0LGRlZmF1bHRjaGVja2VkLGRlZmF1bHRtdXRlZCxkZWZhdWx0c2VsZWN0ZWQsZGVmZXIsZGlzYWJsZWQsJyArCiAgICAnZW5hYmxlZCxmb3Jtbm92YWxpZGF0ZSxoaWRkZW4saW5kZXRlcm1pbmF0ZSxpbmVydCxpc21hcCxpdGVtc2NvcGUsbG9vcCxtdWx0aXBsZSwnICsKICAgICdtdXRlZCxub2hyZWYsbm9yZXNpemUsbm9zaGFkZSxub3ZhbGlkYXRlLG5vd3JhcCxvcGVuLHBhdXNlb25leGl0LHJlYWRvbmx5LCcgKwogICAgJ3JlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxzZWxlY3RlZCxzb3J0YWJsZSx0cmFuc2xhdGUsJyArCiAgICAndHJ1ZXNwZWVkLHR5cGVtdXN0bWF0Y2gsdmlzaWJsZScKICApOwoKICB2YXIgeGxpbmtOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJzsKCiAgdmFyIGlzWGxpbmsgPSBmdW5jdGlvbiAobmFtZSkgewogICAgcmV0dXJuIG5hbWUuY2hhckF0KDUpID09PSAnOicgJiYgbmFtZS5zbGljZSgwLCA1KSA9PT0gJ3hsaW5rJwogIH07CgogIHZhciBnZXRYbGlua1Byb3AgPSBmdW5jdGlvbiAobmFtZSkgewogICAgcmV0dXJuIGlzWGxpbmsobmFtZSkgPyBuYW1lLnNsaWNlKDYsIG5hbWUubGVuZ3RoKSA6ICcnCiAgfTsKCiAgdmFyIGlzRmFsc3lBdHRyVmFsdWUgPSBmdW5jdGlvbiAodmFsKSB7CiAgICByZXR1cm4gdmFsID09IG51bGwgfHwgdmFsID09PSBmYWxzZQogIH07CgogIC8qICAqLwoKICBmdW5jdGlvbiBnZW5DbGFzc0ZvclZub2RlICh2bm9kZSkgewogICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhOwogICAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTsKICAgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTsKICAgIHdoaWxlIChpc0RlZihjaGlsZE5vZGUuY29tcG9uZW50SW5zdGFuY2UpKSB7CiAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGU7CiAgICAgIGlmIChjaGlsZE5vZGUgJiYgY2hpbGROb2RlLmRhdGEpIHsKICAgICAgICBkYXRhID0gbWVyZ2VDbGFzc0RhdGEoY2hpbGROb2RlLmRhdGEsIGRhdGEpOwogICAgICB9CiAgICB9CiAgICB3aGlsZSAoaXNEZWYocGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50KSkgewogICAgICBpZiAocGFyZW50Tm9kZSAmJiBwYXJlbnROb2RlLmRhdGEpIHsKICAgICAgICBkYXRhID0gbWVyZ2VDbGFzc0RhdGEoZGF0YSwgcGFyZW50Tm9kZS5kYXRhKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlbmRlckNsYXNzKGRhdGEuc3RhdGljQ2xhc3MsIGRhdGEuY2xhc3MpCiAgfQoKICBmdW5jdGlvbiBtZXJnZUNsYXNzRGF0YSAoY2hpbGQsIHBhcmVudCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhdGljQ2xhc3M6IGNvbmNhdChjaGlsZC5zdGF0aWNDbGFzcywgcGFyZW50LnN0YXRpY0NsYXNzKSwKICAgICAgY2xhc3M6IGlzRGVmKGNoaWxkLmNsYXNzKQogICAgICAgID8gW2NoaWxkLmNsYXNzLCBwYXJlbnQuY2xhc3NdCiAgICAgICAgOiBwYXJlbnQuY2xhc3MKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlbmRlckNsYXNzICgKICAgIHN0YXRpY0NsYXNzLAogICAgZHluYW1pY0NsYXNzCiAgKSB7CiAgICBpZiAoaXNEZWYoc3RhdGljQ2xhc3MpIHx8IGlzRGVmKGR5bmFtaWNDbGFzcykpIHsKICAgICAgcmV0dXJuIGNvbmNhdChzdGF0aWNDbGFzcywgc3RyaW5naWZ5Q2xhc3MoZHluYW1pY0NsYXNzKSkKICAgIH0KICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICByZXR1cm4gJycKICB9CgogIGZ1bmN0aW9uIGNvbmNhdCAoYSwgYikgewogICAgcmV0dXJuIGEgPyBiID8gKGEgKyAnICcgKyBiKSA6IGEgOiAoYiB8fCAnJykKICB9CgogIGZ1bmN0aW9uIHN0cmluZ2lmeUNsYXNzICh2YWx1ZSkgewogICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgIHJldHVybiBzdHJpbmdpZnlBcnJheSh2YWx1ZSkKICAgIH0KICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHsKICAgICAgcmV0dXJuIHN0cmluZ2lmeU9iamVjdCh2YWx1ZSkKICAgIH0KICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIHJldHVybiB2YWx1ZQogICAgfQogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgIHJldHVybiAnJwogIH0KCiAgZnVuY3Rpb24gc3RyaW5naWZ5QXJyYXkgKHZhbHVlKSB7CiAgICB2YXIgcmVzID0gJyc7CiAgICB2YXIgc3RyaW5naWZpZWQ7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBpZiAoaXNEZWYoc3RyaW5naWZpZWQgPSBzdHJpbmdpZnlDbGFzcyh2YWx1ZVtpXSkpICYmIHN0cmluZ2lmaWVkICE9PSAnJykgewogICAgICAgIGlmIChyZXMpIHsgcmVzICs9ICcgJzsgfQogICAgICAgIHJlcyArPSBzdHJpbmdpZmllZDsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gc3RyaW5naWZ5T2JqZWN0ICh2YWx1ZSkgewogICAgdmFyIHJlcyA9ICcnOwogICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZVtrZXldKSB7CiAgICAgICAgaWYgKHJlcykgeyByZXMgKz0gJyAnOyB9CiAgICAgICAgcmVzICs9IGtleTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgLyogICovCgogIHZhciBuYW1lc3BhY2VNYXAgPSB7CiAgICBzdmc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsCiAgICBtYXRoOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCcKICB9OwoKICB2YXIgaXNIVE1MVGFnID0gbWFrZU1hcCgKICAgICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSwnICsKICAgICdhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLGhlYWRlcixoMSxoMixoMyxoNCxoNSxoNixoZ3JvdXAsbmF2LHNlY3Rpb24sJyArCiAgICAnZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsJyArCiAgICAnYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LCcgKwogICAgJ3Msc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLHRpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLCcgKwogICAgJ2VtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLCcgKwogICAgJ2NhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLHRoLHRyLCcgKwogICAgJ2J1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCxvcHRpb24sJyArCiAgICAnb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSwnICsKICAgICdkZXRhaWxzLGRpYWxvZyxtZW51LG1lbnVpdGVtLHN1bW1hcnksJyArCiAgICAnY29udGVudCxlbGVtZW50LHNoYWRvdyx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdCcKICApOwoKICAvLyB0aGlzIG1hcCBpcyBpbnRlbnRpb25hbGx5IHNlbGVjdGl2ZSwgb25seSBjb3ZlcmluZyBTVkcgZWxlbWVudHMgdGhhdCBtYXkKICAvLyBjb250YWluIGNoaWxkIGVsZW1lbnRzLgogIHZhciBpc1NWRyA9IG1ha2VNYXAoCiAgICAnc3ZnLGFuaW1hdGUsY2lyY2xlLGNsaXBwYXRoLGN1cnNvcixkZWZzLGRlc2MsZWxsaXBzZSxmaWx0ZXIsZm9udC1mYWNlLCcgKwogICAgJ2ZvcmVpZ25PYmplY3QsZyxnbHlwaCxpbWFnZSxsaW5lLG1hcmtlcixtYXNrLG1pc3NpbmctZ2x5cGgscGF0aCxwYXR0ZXJuLCcgKwogICAgJ3BvbHlnb24scG9seWxpbmUscmVjdCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dHBhdGgsdHNwYW4sdXNlLHZpZXcnLAogICAgdHJ1ZQogICk7CgogIHZhciBpc1ByZVRhZyA9IGZ1bmN0aW9uICh0YWcpIHsgcmV0dXJuIHRhZyA9PT0gJ3ByZSc7IH07CgogIHZhciBpc1Jlc2VydmVkVGFnID0gZnVuY3Rpb24gKHRhZykgewogICAgcmV0dXJuIGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHKHRhZykKICB9OwoKICBmdW5jdGlvbiBnZXRUYWdOYW1lc3BhY2UgKHRhZykgewogICAgaWYgKGlzU1ZHKHRhZykpIHsKICAgICAgcmV0dXJuICdzdmcnCiAgICB9CiAgICAvLyBiYXNpYyBzdXBwb3J0IGZvciBNYXRoTUwKICAgIC8vIG5vdGUgaXQgZG9lc24ndCBzdXBwb3J0IG90aGVyIE1hdGhNTCBlbGVtZW50cyBiZWluZyBjb21wb25lbnQgcm9vdHMKICAgIGlmICh0YWcgPT09ICdtYXRoJykgewogICAgICByZXR1cm4gJ21hdGgnCiAgICB9CiAgfQoKICB2YXIgdW5rbm93bkVsZW1lbnRDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgZnVuY3Rpb24gaXNVbmtub3duRWxlbWVudCAodGFnKSB7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmICghaW5Ccm93c2VyKSB7CiAgICAgIHJldHVybiB0cnVlCiAgICB9CiAgICBpZiAoaXNSZXNlcnZlZFRhZyh0YWcpKSB7CiAgICAgIHJldHVybiBmYWxzZQogICAgfQogICAgdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmICh1bmtub3duRWxlbWVudENhY2hlW3RhZ10gIT0gbnVsbCkgewogICAgICByZXR1cm4gdW5rbm93bkVsZW1lbnRDYWNoZVt0YWddCiAgICB9CiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7CiAgICBpZiAodGFnLmluZGV4T2YoJy0nKSA+IC0xKSB7CiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI4MjEwMzY0LzEwNzAyNDQKICAgICAgcmV0dXJuICh1bmtub3duRWxlbWVudENhY2hlW3RhZ10gPSAoCiAgICAgICAgZWwuY29uc3RydWN0b3IgPT09IHdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQgfHwKICAgICAgICBlbC5jb25zdHJ1Y3RvciA9PT0gd2luZG93LkhUTUxFbGVtZW50CiAgICAgICkpCiAgICB9IGVsc2UgewogICAgICByZXR1cm4gKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSA9IC9IVE1MVW5rbm93bkVsZW1lbnQvLnRlc3QoZWwudG9TdHJpbmcoKSkpCiAgICB9CiAgfQoKICB2YXIgaXNUZXh0SW5wdXRUeXBlID0gbWFrZU1hcCgndGV4dCxudW1iZXIscGFzc3dvcmQsc2VhcmNoLGVtYWlsLHRlbCx1cmwnKTsKCiAgLyogICovCgogIC8qKgogICAqIFF1ZXJ5IGFuIGVsZW1lbnQgc2VsZWN0b3IgaWYgaXQncyBub3QgYW4gZWxlbWVudCBhbHJlYWR5LgogICAqLwogIGZ1bmN0aW9uIHF1ZXJ5IChlbCkgewogICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbCk7CiAgICAgIGlmICghc2VsZWN0ZWQpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgJ0Nhbm5vdCBmaW5kIGVsZW1lbnQ6ICcgKyBlbAogICAgICAgICk7CiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpCiAgICAgIH0KICAgICAgcmV0dXJuIHNlbGVjdGVkCiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZWwKICAgIH0KICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50JDEgKHRhZ05hbWUsIHZub2RlKSB7CiAgICB2YXIgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTsKICAgIGlmICh0YWdOYW1lICE9PSAnc2VsZWN0JykgewogICAgICByZXR1cm4gZWxtCiAgICB9CiAgICAvLyBmYWxzZSBvciBudWxsIHdpbGwgcmVtb3ZlIHRoZSBhdHRyaWJ1dGUgYnV0IHVuZGVmaW5lZCB3aWxsIG5vdAogICAgaWYgKHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS5hdHRycyAmJiB2bm9kZS5kYXRhLmF0dHJzLm11bHRpcGxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgZWxtLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCAnbXVsdGlwbGUnKTsKICAgIH0KICAgIHJldHVybiBlbG0KICB9CgogIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyAobmFtZXNwYWNlLCB0YWdOYW1lKSB7CiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZU1hcFtuYW1lc3BhY2VdLCB0YWdOYW1lKQogIH0KCiAgZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUgKHRleHQpIHsKICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KQogIH0KCiAgZnVuY3Rpb24gY3JlYXRlQ29tbWVudCAodGV4dCkgewogICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGV4dCkKICB9CgogIGZ1bmN0aW9uIGluc2VydEJlZm9yZSAocGFyZW50Tm9kZSwgbmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkgewogICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSk7CiAgfQoKICBmdW5jdGlvbiByZW1vdmVDaGlsZCAobm9kZSwgY2hpbGQpIHsKICAgIG5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kQ2hpbGQgKG5vZGUsIGNoaWxkKSB7CiAgICBub2RlLmFwcGVuZENoaWxkKGNoaWxkKTsKICB9CgogIGZ1bmN0aW9uIHBhcmVudE5vZGUgKG5vZGUpIHsKICAgIHJldHVybiBub2RlLnBhcmVudE5vZGUKICB9CgogIGZ1bmN0aW9uIG5leHRTaWJsaW5nIChub2RlKSB7CiAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZwogIH0KCiAgZnVuY3Rpb24gdGFnTmFtZSAobm9kZSkgewogICAgcmV0dXJuIG5vZGUudGFnTmFtZQogIH0KCiAgZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQgKG5vZGUsIHRleHQpIHsKICAgIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0OwogIH0KCiAgZnVuY3Rpb24gc2V0U3R5bGVTY29wZSAobm9kZSwgc2NvcGVJZCkgewogICAgbm9kZS5zZXRBdHRyaWJ1dGUoc2NvcGVJZCwgJycpOwogIH0KCiAgdmFyIG5vZGVPcHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7CiAgICBjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50JDEsCiAgICBjcmVhdGVFbGVtZW50TlM6IGNyZWF0ZUVsZW1lbnROUywKICAgIGNyZWF0ZVRleHROb2RlOiBjcmVhdGVUZXh0Tm9kZSwKICAgIGNyZWF0ZUNvbW1lbnQ6IGNyZWF0ZUNvbW1lbnQsCiAgICBpbnNlcnRCZWZvcmU6IGluc2VydEJlZm9yZSwKICAgIHJlbW92ZUNoaWxkOiByZW1vdmVDaGlsZCwKICAgIGFwcGVuZENoaWxkOiBhcHBlbmRDaGlsZCwKICAgIHBhcmVudE5vZGU6IHBhcmVudE5vZGUsCiAgICBuZXh0U2libGluZzogbmV4dFNpYmxpbmcsCiAgICB0YWdOYW1lOiB0YWdOYW1lLAogICAgc2V0VGV4dENvbnRlbnQ6IHNldFRleHRDb250ZW50LAogICAgc2V0U3R5bGVTY29wZTogc2V0U3R5bGVTY29wZQogIH0pOwoKICAvKiAgKi8KCiAgdmFyIHJlZiA9IHsKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlIChfLCB2bm9kZSkgewogICAgICByZWdpc3RlclJlZih2bm9kZSk7CiAgICB9LAogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKG9sZFZub2RlLCB2bm9kZSkgewogICAgICBpZiAob2xkVm5vZGUuZGF0YS5yZWYgIT09IHZub2RlLmRhdGEucmVmKSB7CiAgICAgICAgcmVnaXN0ZXJSZWYob2xkVm5vZGUsIHRydWUpOwogICAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTsKICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3kgKHZub2RlKSB7CiAgICAgIHJlZ2lzdGVyUmVmKHZub2RlLCB0cnVlKTsKICAgIH0KICB9OwoKICBmdW5jdGlvbiByZWdpc3RlclJlZiAodm5vZGUsIGlzUmVtb3ZhbCkgewogICAgdmFyIGtleSA9IHZub2RlLmRhdGEucmVmOwogICAgaWYgKCFpc0RlZihrZXkpKSB7IHJldHVybiB9CgogICAgdmFyIHZtID0gdm5vZGUuY29udGV4dDsKICAgIHZhciByZWYgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSB8fCB2bm9kZS5lbG07CiAgICB2YXIgcmVmcyA9IHZtLiRyZWZzOwogICAgaWYgKGlzUmVtb3ZhbCkgewogICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWZzW2tleV0pKSB7CiAgICAgICAgcmVtb3ZlKHJlZnNba2V5XSwgcmVmKTsKICAgICAgfSBlbHNlIGlmIChyZWZzW2tleV0gPT09IHJlZikgewogICAgICAgIHJlZnNba2V5XSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHZub2RlLmRhdGEucmVmSW5Gb3IpIHsKICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVmc1trZXldKSkgewogICAgICAgICAgcmVmc1trZXldID0gW3JlZl07CiAgICAgICAgfSBlbHNlIGlmIChyZWZzW2tleV0uaW5kZXhPZihyZWYpIDwgMCkgewogICAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lCiAgICAgICAgICByZWZzW2tleV0ucHVzaChyZWYpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZWZzW2tleV0gPSByZWY7CiAgICAgIH0KICAgIH0KICB9CgogIC8qKgogICAqIFZpcnR1YWwgRE9NIHBhdGNoaW5nIGFsZ29yaXRobSBiYXNlZCBvbiBTbmFiYmRvbSBieQogICAqIFNpbW9uIEZyaWlzIFZpbmR1bSAoQHBhbGRlcGluZCkKICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UKICAgKiBodHRwczovL2dpdGh1Yi5jb20vcGFsZGVwaW5kL3NuYWJiZG9tL2Jsb2IvbWFzdGVyL0xJQ0VOU0UKICAgKgogICAqIG1vZGlmaWVkIGJ5IEV2YW4gWW91IChAeXl4OTkwODAzKQogICAqCiAgICogTm90IHR5cGUtY2hlY2tpbmcgdGhpcyBiZWNhdXNlIHRoaXMgZmlsZSBpcyBwZXJmLWNyaXRpY2FsIGFuZCB0aGUgY29zdAogICAqIG9mIG1ha2luZyBmbG93IHVuZGVyc3RhbmQgaXQgaXMgbm90IHdvcnRoIGl0LgogICAqLwoKICB2YXIgZW1wdHlOb2RlID0gbmV3IFZOb2RlKCcnLCB7fSwgW10pOwoKICB2YXIgaG9va3MgPSBbJ2NyZWF0ZScsICdhY3RpdmF0ZScsICd1cGRhdGUnLCAncmVtb3ZlJywgJ2Rlc3Ryb3knXTsKCiAgZnVuY3Rpb24gc2FtZVZub2RlIChhLCBiKSB7CiAgICByZXR1cm4gKAogICAgICBhLmtleSA9PT0gYi5rZXkgJiYgKAogICAgICAgICgKICAgICAgICAgIGEudGFnID09PSBiLnRhZyAmJgogICAgICAgICAgYS5pc0NvbW1lbnQgPT09IGIuaXNDb21tZW50ICYmCiAgICAgICAgICBpc0RlZihhLmRhdGEpID09PSBpc0RlZihiLmRhdGEpICYmCiAgICAgICAgICBzYW1lSW5wdXRUeXBlKGEsIGIpCiAgICAgICAgKSB8fCAoCiAgICAgICAgICBpc1RydWUoYS5pc0FzeW5jUGxhY2Vob2xkZXIpICYmCiAgICAgICAgICBhLmFzeW5jRmFjdG9yeSA9PT0gYi5hc3luY0ZhY3RvcnkgJiYKICAgICAgICAgIGlzVW5kZWYoYi5hc3luY0ZhY3RvcnkuZXJyb3IpCiAgICAgICAgKQogICAgICApCiAgICApCiAgfQoKICBmdW5jdGlvbiBzYW1lSW5wdXRUeXBlIChhLCBiKSB7CiAgICBpZiAoYS50YWcgIT09ICdpbnB1dCcpIHsgcmV0dXJuIHRydWUgfQogICAgdmFyIGk7CiAgICB2YXIgdHlwZUEgPSBpc0RlZihpID0gYS5kYXRhKSAmJiBpc0RlZihpID0gaS5hdHRycykgJiYgaS50eXBlOwogICAgdmFyIHR5cGVCID0gaXNEZWYoaSA9IGIuZGF0YSkgJiYgaXNEZWYoaSA9IGkuYXR0cnMpICYmIGkudHlwZTsKICAgIHJldHVybiB0eXBlQSA9PT0gdHlwZUIgfHwgaXNUZXh0SW5wdXRUeXBlKHR5cGVBKSAmJiBpc1RleHRJbnB1dFR5cGUodHlwZUIpCiAgfQoKICBmdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeCAoY2hpbGRyZW4sIGJlZ2luSWR4LCBlbmRJZHgpIHsKICAgIHZhciBpLCBrZXk7CiAgICB2YXIgbWFwID0ge307CiAgICBmb3IgKGkgPSBiZWdpbklkeDsgaSA8PSBlbmRJZHg7ICsraSkgewogICAgICBrZXkgPSBjaGlsZHJlbltpXS5rZXk7CiAgICAgIGlmIChpc0RlZihrZXkpKSB7IG1hcFtrZXldID0gaTsgfQogICAgfQogICAgcmV0dXJuIG1hcAogIH0KCiAgZnVuY3Rpb24gY3JlYXRlUGF0Y2hGdW5jdGlvbiAoYmFja2VuZCkgewogICAgdmFyIGksIGo7CiAgICB2YXIgY2JzID0ge307CgogICAgdmFyIG1vZHVsZXMgPSBiYWNrZW5kLm1vZHVsZXM7CiAgICB2YXIgbm9kZU9wcyA9IGJhY2tlbmQubm9kZU9wczsKCiAgICBmb3IgKGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyArK2kpIHsKICAgICAgY2JzW2hvb2tzW2ldXSA9IFtdOwogICAgICBmb3IgKGogPSAwOyBqIDwgbW9kdWxlcy5sZW5ndGg7ICsraikgewogICAgICAgIGlmIChpc0RlZihtb2R1bGVzW2pdW2hvb2tzW2ldXSkpIHsKICAgICAgICAgIGNic1tob29rc1tpXV0ucHVzaChtb2R1bGVzW2pdW2hvb2tzW2ldXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZW1wdHlOb2RlQXQgKGVsbSkgewogICAgICByZXR1cm4gbmV3IFZOb2RlKG5vZGVPcHMudGFnTmFtZShlbG0pLnRvTG93ZXJDYXNlKCksIHt9LCBbXSwgdW5kZWZpbmVkLCBlbG0pCiAgICB9CgogICAgZnVuY3Rpb24gY3JlYXRlUm1DYiAoY2hpbGRFbG0sIGxpc3RlbmVycykgewogICAgICBmdW5jdGlvbiByZW1vdmUkJDEgKCkgewogICAgICAgIGlmICgtLXJlbW92ZSQkMS5saXN0ZW5lcnMgPT09IDApIHsKICAgICAgICAgIHJlbW92ZU5vZGUoY2hpbGRFbG0pOwogICAgICAgIH0KICAgICAgfQogICAgICByZW1vdmUkJDEubGlzdGVuZXJzID0gbGlzdGVuZXJzOwogICAgICByZXR1cm4gcmVtb3ZlJCQxCiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlTm9kZSAoZWwpIHsKICAgICAgdmFyIHBhcmVudCA9IG5vZGVPcHMucGFyZW50Tm9kZShlbCk7CiAgICAgIC8vIGVsZW1lbnQgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQgZHVlIHRvIHYtaHRtbCAvIHYtdGV4dAogICAgICBpZiAoaXNEZWYocGFyZW50KSkgewogICAgICAgIG5vZGVPcHMucmVtb3ZlQ2hpbGQocGFyZW50LCBlbCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpc1Vua25vd25FbGVtZW50JCQxICh2bm9kZSwgaW5WUHJlKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgIWluVlByZSAmJgogICAgICAgICF2bm9kZS5ucyAmJgogICAgICAgICEoCiAgICAgICAgICBjb25maWcuaWdub3JlZEVsZW1lbnRzLmxlbmd0aCAmJgogICAgICAgICAgY29uZmlnLmlnbm9yZWRFbGVtZW50cy5zb21lKGZ1bmN0aW9uIChpZ25vcmUpIHsKICAgICAgICAgICAgcmV0dXJuIGlzUmVnRXhwKGlnbm9yZSkKICAgICAgICAgICAgICA/IGlnbm9yZS50ZXN0KHZub2RlLnRhZykKICAgICAgICAgICAgICA6IGlnbm9yZSA9PT0gdm5vZGUudGFnCiAgICAgICAgICB9KQogICAgICAgICkgJiYKICAgICAgICBjb25maWcuaXNVbmtub3duRWxlbWVudCh2bm9kZS50YWcpCiAgICAgICkKICAgIH0KCiAgICB2YXIgY3JlYXRpbmdFbG1JblZQcmUgPSAwOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZUVsbSAoCiAgICAgIHZub2RlLAogICAgICBpbnNlcnRlZFZub2RlUXVldWUsCiAgICAgIHBhcmVudEVsbSwKICAgICAgcmVmRWxtLAogICAgICBuZXN0ZWQsCiAgICAgIG93bmVyQXJyYXksCiAgICAgIGluZGV4CiAgICApIHsKICAgICAgaWYgKGlzRGVmKHZub2RlLmVsbSkgJiYgaXNEZWYob3duZXJBcnJheSkpIHsKICAgICAgICAvLyBUaGlzIHZub2RlIHdhcyB1c2VkIGluIGEgcHJldmlvdXMgcmVuZGVyIQogICAgICAgIC8vIG5vdyBpdCdzIHVzZWQgYXMgYSBuZXcgbm9kZSwgb3ZlcndyaXRpbmcgaXRzIGVsbSB3b3VsZCBjYXVzZQogICAgICAgIC8vIHBvdGVudGlhbCBwYXRjaCBlcnJvcnMgZG93biB0aGUgcm9hZCB3aGVuIGl0J3MgdXNlZCBhcyBhbiBpbnNlcnRpb24KICAgICAgICAvLyByZWZlcmVuY2Ugbm9kZS4gSW5zdGVhZCwgd2UgY2xvbmUgdGhlIG5vZGUgb24tZGVtYW5kIGJlZm9yZSBjcmVhdGluZwogICAgICAgIC8vIGFzc29jaWF0ZWQgRE9NIGVsZW1lbnQgZm9yIGl0LgogICAgICAgIHZub2RlID0gb3duZXJBcnJheVtpbmRleF0gPSBjbG9uZVZOb2RlKHZub2RlKTsKICAgICAgfQoKICAgICAgdm5vZGUuaXNSb290SW5zZXJ0ID0gIW5lc3RlZDsgLy8gZm9yIHRyYW5zaXRpb24gZW50ZXIgY2hlY2sKICAgICAgaWYgKGNyZWF0ZUNvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSkpIHsKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhOwogICAgICB2YXIgY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjsKICAgICAgdmFyIHRhZyA9IHZub2RlLnRhZzsKICAgICAgaWYgKGlzRGVmKHRhZykpIHsKICAgICAgICB7CiAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnByZSkgewogICAgICAgICAgICBjcmVhdGluZ0VsbUluVlByZSsrOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGlzVW5rbm93bkVsZW1lbnQkJDEodm5vZGUsIGNyZWF0aW5nRWxtSW5WUHJlKSkgewogICAgICAgICAgICB3YXJuKAogICAgICAgICAgICAgICdVbmtub3duIGN1c3RvbSBlbGVtZW50OiA8JyArIHRhZyArICc+IC0gZGlkIHlvdSAnICsKICAgICAgICAgICAgICAncmVnaXN0ZXIgdGhlIGNvbXBvbmVudCBjb3JyZWN0bHk/IEZvciByZWN1cnNpdmUgY29tcG9uZW50cywgJyArCiAgICAgICAgICAgICAgJ21ha2Ugc3VyZSB0byBwcm92aWRlIHRoZSAibmFtZSIgb3B0aW9uLicsCiAgICAgICAgICAgICAgdm5vZGUuY29udGV4dAogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdm5vZGUuZWxtID0gdm5vZGUubnMKICAgICAgICAgID8gbm9kZU9wcy5jcmVhdGVFbGVtZW50TlModm5vZGUubnMsIHRhZykKICAgICAgICAgIDogbm9kZU9wcy5jcmVhdGVFbGVtZW50KHRhZywgdm5vZGUpOwogICAgICAgIHNldFNjb3BlKHZub2RlKTsKCiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgICAgewogICAgICAgICAgY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7CiAgICAgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgICAgfQogICAgICAgICAgaW5zZXJ0KHBhcmVudEVsbSwgdm5vZGUuZWxtLCByZWZFbG0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wcmUpIHsKICAgICAgICAgIGNyZWF0aW5nRWxtSW5WUHJlLS07CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGlzVHJ1ZSh2bm9kZS5pc0NvbW1lbnQpKSB7CiAgICAgICAgdm5vZGUuZWxtID0gbm9kZU9wcy5jcmVhdGVDb21tZW50KHZub2RlLnRleHQpOwogICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bm9kZS5lbG0gPSBub2RlT3BzLmNyZWF0ZVRleHROb2RlKHZub2RlLnRleHQpOwogICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudCAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0pIHsKICAgICAgdmFyIGkgPSB2bm9kZS5kYXRhOwogICAgICBpZiAoaXNEZWYoaSkpIHsKICAgICAgICB2YXIgaXNSZWFjdGl2YXRlZCA9IGlzRGVmKHZub2RlLmNvbXBvbmVudEluc3RhbmNlKSAmJiBpLmtlZXBBbGl2ZTsKICAgICAgICBpZiAoaXNEZWYoaSA9IGkuaG9vaykgJiYgaXNEZWYoaSA9IGkuaW5pdCkpIHsKICAgICAgICAgIGkodm5vZGUsIGZhbHNlIC8qIGh5ZHJhdGluZyAqLyk7CiAgICAgICAgfQogICAgICAgIC8vIGFmdGVyIGNhbGxpbmcgdGhlIGluaXQgaG9vaywgaWYgdGhlIHZub2RlIGlzIGEgY2hpbGQgY29tcG9uZW50CiAgICAgICAgLy8gaXQgc2hvdWxkJ3ZlIGNyZWF0ZWQgYSBjaGlsZCBpbnN0YW5jZSBhbmQgbW91bnRlZCBpdC4gdGhlIGNoaWxkCiAgICAgICAgLy8gY29tcG9uZW50IGFsc28gaGFzIHNldCB0aGUgcGxhY2Vob2xkZXIgdm5vZGUncyBlbG0uCiAgICAgICAgLy8gaW4gdGhhdCBjYXNlIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgZWxlbWVudCBhbmQgYmUgZG9uZS4KICAgICAgICBpZiAoaXNEZWYodm5vZGUuY29tcG9uZW50SW5zdGFuY2UpKSB7CiAgICAgICAgICBpbml0Q29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgICAgaW5zZXJ0KHBhcmVudEVsbSwgdm5vZGUuZWxtLCByZWZFbG0pOwogICAgICAgICAgaWYgKGlzVHJ1ZShpc1JlYWN0aXZhdGVkKSkgewogICAgICAgICAgICByZWFjdGl2YXRlQ29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgcmVmRWxtKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdENvbXBvbmVudCAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkgewogICAgICBpZiAoaXNEZWYodm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0KSkgewogICAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoLmFwcGx5KGluc2VydGVkVm5vZGVRdWV1ZSwgdm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0KTsKICAgICAgICB2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQgPSBudWxsOwogICAgICB9CiAgICAgIHZub2RlLmVsbSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlLiRlbDsKICAgICAgaWYgKGlzUGF0Y2hhYmxlKHZub2RlKSkgewogICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgIHNldFNjb3BlKHZub2RlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBlbXB0eSBjb21wb25lbnQgcm9vdC4KICAgICAgICAvLyBza2lwIGFsbCBlbGVtZW50LXJlbGF0ZWQgbW9kdWxlcyBleGNlcHQgZm9yIHJlZiAoIzM0NTUpCiAgICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpOwogICAgICAgIC8vIG1ha2Ugc3VyZSB0byBpbnZva2UgdGhlIGluc2VydCBob29rCiAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2godm5vZGUpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVhY3RpdmF0ZUNvbXBvbmVudCAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0pIHsKICAgICAgdmFyIGk7CiAgICAgIC8vIGhhY2sgZm9yICM0MzM5OiBhIHJlYWN0aXZhdGVkIGNvbXBvbmVudCB3aXRoIGlubmVyIHRyYW5zaXRpb24KICAgICAgLy8gZG9lcyBub3QgdHJpZ2dlciBiZWNhdXNlIHRoZSBpbm5lciBub2RlJ3MgY3JlYXRlZCBob29rcyBhcmUgbm90IGNhbGxlZAogICAgICAvLyBhZ2Fpbi4gSXQncyBub3QgaWRlYWwgdG8gaW52b2x2ZSBtb2R1bGUtc3BlY2lmaWMgbG9naWMgaW4gaGVyZSBidXQKICAgICAgLy8gdGhlcmUgZG9lc24ndCBzZWVtIHRvIGJlIGEgYmV0dGVyIHdheSB0byBkbyBpdC4KICAgICAgdmFyIGlubmVyTm9kZSA9IHZub2RlOwogICAgICB3aGlsZSAoaW5uZXJOb2RlLmNvbXBvbmVudEluc3RhbmNlKSB7CiAgICAgICAgaW5uZXJOb2RlID0gaW5uZXJOb2RlLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZTsKICAgICAgICBpZiAoaXNEZWYoaSA9IGlubmVyTm9kZS5kYXRhKSAmJiBpc0RlZihpID0gaS50cmFuc2l0aW9uKSkgewogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5hY3RpdmF0ZS5sZW5ndGg7ICsraSkgewogICAgICAgICAgICBjYnMuYWN0aXZhdGVbaV0oZW1wdHlOb2RlLCBpbm5lck5vZGUpOwogICAgICAgICAgfQogICAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2goaW5uZXJOb2RlKTsKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIHVubGlrZSBhIG5ld2x5IGNyZWF0ZWQgY29tcG9uZW50LAogICAgICAvLyBhIHJlYWN0aXZhdGVkIGtlZXAtYWxpdmUgY29tcG9uZW50IGRvZXNuJ3QgaW5zZXJ0IGl0c2VsZgogICAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5zZXJ0IChwYXJlbnQsIGVsbSwgcmVmJCQxKSB7CiAgICAgIGlmIChpc0RlZihwYXJlbnQpKSB7CiAgICAgICAgaWYgKGlzRGVmKHJlZiQkMSkpIHsKICAgICAgICAgIGlmIChub2RlT3BzLnBhcmVudE5vZGUocmVmJCQxKSA9PT0gcGFyZW50KSB7CiAgICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudCwgZWxtLCByZWYkJDEpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBub2RlT3BzLmFwcGVuZENoaWxkKHBhcmVudCwgZWxtKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVDaGlsZHJlbiAodm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7CiAgICAgICAgewogICAgICAgICAgY2hlY2tEdXBsaWNhdGVLZXlzKGNoaWxkcmVuKTsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkgewogICAgICAgICAgY3JlYXRlRWxtKGNoaWxkcmVuW2ldLCBpbnNlcnRlZFZub2RlUXVldWUsIHZub2RlLmVsbSwgbnVsbCwgdHJ1ZSwgY2hpbGRyZW4sIGkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChpc1ByaW1pdGl2ZSh2bm9kZS50ZXh0KSkgewogICAgICAgIG5vZGVPcHMuYXBwZW5kQ2hpbGQodm5vZGUuZWxtLCBub2RlT3BzLmNyZWF0ZVRleHROb2RlKFN0cmluZyh2bm9kZS50ZXh0KSkpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaXNQYXRjaGFibGUgKHZub2RlKSB7CiAgICAgIHdoaWxlICh2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkgewogICAgICAgIHZub2RlID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlOwogICAgICB9CiAgICAgIHJldHVybiBpc0RlZih2bm9kZS50YWcpCiAgICB9CgogICAgZnVuY3Rpb24gaW52b2tlQ3JlYXRlSG9va3MgKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpIHsKICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSQxKSB7CiAgICAgICAgY2JzLmNyZWF0ZVtpJDFdKGVtcHR5Tm9kZSwgdm5vZGUpOwogICAgICB9CiAgICAgIGkgPSB2bm9kZS5kYXRhLmhvb2s7IC8vIFJldXNlIHZhcmlhYmxlCiAgICAgIGlmIChpc0RlZihpKSkgewogICAgICAgIGlmIChpc0RlZihpLmNyZWF0ZSkpIHsgaS5jcmVhdGUoZW1wdHlOb2RlLCB2bm9kZSk7IH0KICAgICAgICBpZiAoaXNEZWYoaS5pbnNlcnQpKSB7IGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKHZub2RlKTsgfQogICAgICB9CiAgICB9CgogICAgLy8gc2V0IHNjb3BlIGlkIGF0dHJpYnV0ZSBmb3Igc2NvcGVkIENTUy4KICAgIC8vIHRoaXMgaXMgaW1wbGVtZW50ZWQgYXMgYSBzcGVjaWFsIGNhc2UgdG8gYXZvaWQgdGhlIG92ZXJoZWFkCiAgICAvLyBvZiBnb2luZyB0aHJvdWdoIHRoZSBub3JtYWwgYXR0cmlidXRlIHBhdGNoaW5nIHByb2Nlc3MuCiAgICBmdW5jdGlvbiBzZXRTY29wZSAodm5vZGUpIHsKICAgICAgdmFyIGk7CiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuZm5TY29wZUlkKSkgewogICAgICAgIG5vZGVPcHMuc2V0U3R5bGVTY29wZSh2bm9kZS5lbG0sIGkpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBhbmNlc3RvciA9IHZub2RlOwogICAgICAgIHdoaWxlIChhbmNlc3RvcikgewogICAgICAgICAgaWYgKGlzRGVmKGkgPSBhbmNlc3Rvci5jb250ZXh0KSAmJiBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkpIHsKICAgICAgICAgICAgbm9kZU9wcy5zZXRTdHlsZVNjb3BlKHZub2RlLmVsbSwgaSk7CiAgICAgICAgICB9CiAgICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gZm9yIHNsb3QgY29udGVudCB0aGV5IHNob3VsZCBhbHNvIGdldCB0aGUgc2NvcGVJZCBmcm9tIHRoZSBob3N0IGluc3RhbmNlLgogICAgICBpZiAoaXNEZWYoaSA9IGFjdGl2ZUluc3RhbmNlKSAmJgogICAgICAgIGkgIT09IHZub2RlLmNvbnRleHQgJiYKICAgICAgICBpICE9PSB2bm9kZS5mbkNvbnRleHQgJiYKICAgICAgICBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkKICAgICAgKSB7CiAgICAgICAgbm9kZU9wcy5zZXRTdHlsZVNjb3BlKHZub2RlLmVsbSwgaSk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhZGRWbm9kZXMgKHBhcmVudEVsbSwgcmVmRWxtLCB2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSkgewogICAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7CiAgICAgICAgY3JlYXRlRWxtKHZub2Rlc1tzdGFydElkeF0sIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0sIGZhbHNlLCB2bm9kZXMsIHN0YXJ0SWR4KTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGludm9rZURlc3Ryb3lIb29rICh2bm9kZSkgewogICAgICB2YXIgaSwgajsKICAgICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhOwogICAgICBpZiAoaXNEZWYoZGF0YSkpIHsKICAgICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuZGVzdHJveSkpIHsgaSh2bm9kZSk7IH0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpIHsgY2JzLmRlc3Ryb3lbaV0odm5vZGUpOyB9CiAgICAgIH0KICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZHJlbikpIHsKICAgICAgICBmb3IgKGogPSAwOyBqIDwgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyArK2opIHsKICAgICAgICAgIGludm9rZURlc3Ryb3lIb29rKHZub2RlLmNoaWxkcmVuW2pdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVWbm9kZXMgKHBhcmVudEVsbSwgdm5vZGVzLCBzdGFydElkeCwgZW5kSWR4KSB7CiAgICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHsKICAgICAgICB2YXIgY2ggPSB2bm9kZXNbc3RhcnRJZHhdOwogICAgICAgIGlmIChpc0RlZihjaCkpIHsKICAgICAgICAgIGlmIChpc0RlZihjaC50YWcpKSB7CiAgICAgICAgICAgIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2soY2gpOwogICAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayhjaCk7CiAgICAgICAgICB9IGVsc2UgeyAvLyBUZXh0IG5vZGUKICAgICAgICAgICAgcmVtb3ZlTm9kZShjaC5lbG0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2sgKHZub2RlLCBybSkgewogICAgICBpZiAoaXNEZWYocm0pIHx8IGlzRGVmKHZub2RlLmRhdGEpKSB7CiAgICAgICAgdmFyIGk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IGNicy5yZW1vdmUubGVuZ3RoICsgMTsKICAgICAgICBpZiAoaXNEZWYocm0pKSB7CiAgICAgICAgICAvLyB3ZSBoYXZlIGEgcmVjdXJzaXZlbHkgcGFzc2VkIGRvd24gcm0gY2FsbGJhY2sKICAgICAgICAgIC8vIGluY3JlYXNlIHRoZSBsaXN0ZW5lcnMgY291bnQKICAgICAgICAgIHJtLmxpc3RlbmVycyArPSBsaXN0ZW5lcnM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGRpcmVjdGx5IHJlbW92aW5nCiAgICAgICAgICBybSA9IGNyZWF0ZVJtQ2Iodm5vZGUuZWxtLCBsaXN0ZW5lcnMpOwogICAgICAgIH0KICAgICAgICAvLyByZWN1cnNpdmVseSBpbnZva2UgaG9va3Mgb24gY2hpbGQgY29tcG9uZW50IHJvb3Qgbm9kZQogICAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UpICYmIGlzRGVmKGkgPSBpLl92bm9kZSkgJiYgaXNEZWYoaS5kYXRhKSkgewogICAgICAgICAgcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayhpLCBybSk7CiAgICAgICAgfQogICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucmVtb3ZlLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICBjYnMucmVtb3ZlW2ldKHZub2RlLCBybSk7CiAgICAgICAgfQogICAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5yZW1vdmUpKSB7CiAgICAgICAgICBpKHZub2RlLCBybSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJtKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJlbW92ZU5vZGUodm5vZGUuZWxtKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZUNoaWxkcmVuIChwYXJlbnRFbG0sIG9sZENoLCBuZXdDaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KSB7CiAgICAgIHZhciBvbGRTdGFydElkeCA9IDA7CiAgICAgIHZhciBuZXdTdGFydElkeCA9IDA7CiAgICAgIHZhciBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxOwogICAgICB2YXIgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdOwogICAgICB2YXIgb2xkRW5kVm5vZGUgPSBvbGRDaFtvbGRFbmRJZHhdOwogICAgICB2YXIgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTsKICAgICAgdmFyIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTsKICAgICAgdmFyIG5ld0VuZFZub2RlID0gbmV3Q2hbbmV3RW5kSWR4XTsKICAgICAgdmFyIG9sZEtleVRvSWR4LCBpZHhJbk9sZCwgdm5vZGVUb01vdmUsIHJlZkVsbTsKCiAgICAgIC8vIHJlbW92ZU9ubHkgaXMgYSBzcGVjaWFsIGZsYWcgdXNlZCBvbmx5IGJ5IDx0cmFuc2l0aW9uLWdyb3VwPgogICAgICAvLyB0byBlbnN1cmUgcmVtb3ZlZCBlbGVtZW50cyBzdGF5IGluIGNvcnJlY3QgcmVsYXRpdmUgcG9zaXRpb25zCiAgICAgIC8vIGR1cmluZyBsZWF2aW5nIHRyYW5zaXRpb25zCiAgICAgIHZhciBjYW5Nb3ZlID0gIXJlbW92ZU9ubHk7CgogICAgICB7CiAgICAgICAgY2hlY2tEdXBsaWNhdGVLZXlzKG5ld0NoKTsKICAgICAgfQoKICAgICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHsKICAgICAgICBpZiAoaXNVbmRlZihvbGRTdGFydFZub2RlKSkgewogICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdOyAvLyBWbm9kZSBoYXMgYmVlbiBtb3ZlZCBsZWZ0CiAgICAgICAgfSBlbHNlIGlmIChpc1VuZGVmKG9sZEVuZFZub2RlKSkgewogICAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07CiAgICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHsKICAgICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpOwogICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdOwogICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdOwogICAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSkpIHsKICAgICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdFbmRJZHgpOwogICAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07CiAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTsKICAgICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgcmlnaHQKICAgICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbmV3Q2gsIG5ld0VuZElkeCk7CiAgICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIG5vZGVPcHMubmV4dFNpYmxpbmcob2xkRW5kVm5vZGUuZWxtKSk7CiAgICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07CiAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTsKICAgICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgbGVmdAogICAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpOwogICAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZEVuZFZub2RlLmVsbSwgb2xkU3RhcnRWbm9kZS5lbG0pOwogICAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07CiAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChpc1VuZGVmKG9sZEtleVRvSWR4KSkgeyBvbGRLZXlUb0lkeCA9IGNyZWF0ZUtleVRvT2xkSWR4KG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTsgfQogICAgICAgICAgaWR4SW5PbGQgPSBpc0RlZihuZXdTdGFydFZub2RlLmtleSkKICAgICAgICAgICAgPyBvbGRLZXlUb0lkeFtuZXdTdGFydFZub2RlLmtleV0KICAgICAgICAgICAgOiBmaW5kSWR4SW5PbGQobmV3U3RhcnRWbm9kZSwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpOwogICAgICAgICAgaWYgKGlzVW5kZWYoaWR4SW5PbGQpKSB7IC8vIE5ldyBlbGVtZW50CiAgICAgICAgICAgIGNyZWF0ZUVsbShuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIGZhbHNlLCBuZXdDaCwgbmV3U3RhcnRJZHgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm5vZGVUb01vdmUgPSBvbGRDaFtpZHhJbk9sZF07CiAgICAgICAgICAgIGlmIChzYW1lVm5vZGUodm5vZGVUb01vdmUsIG5ld1N0YXJ0Vm5vZGUpKSB7CiAgICAgICAgICAgICAgcGF0Y2hWbm9kZSh2bm9kZVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpOwogICAgICAgICAgICAgIG9sZENoW2lkeEluT2xkXSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgdm5vZGVUb01vdmUuZWxtLCBvbGRTdGFydFZub2RlLmVsbSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gc2FtZSBrZXkgYnV0IGRpZmZlcmVudCBlbGVtZW50LiB0cmVhdCBhcyBuZXcgZWxlbWVudAogICAgICAgICAgICAgIGNyZWF0ZUVsbShuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIGZhbHNlLCBuZXdDaCwgbmV3U3RhcnRJZHgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChvbGRTdGFydElkeCA+IG9sZEVuZElkeCkgewogICAgICAgIHJlZkVsbSA9IGlzVW5kZWYobmV3Q2hbbmV3RW5kSWR4ICsgMV0pID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLmVsbTsKICAgICAgICBhZGRWbm9kZXMocGFyZW50RWxtLCByZWZFbG0sIG5ld0NoLCBuZXdTdGFydElkeCwgbmV3RW5kSWR4LCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICB9IGVsc2UgaWYgKG5ld1N0YXJ0SWR4ID4gbmV3RW5kSWR4KSB7CiAgICAgICAgcmVtb3ZlVm5vZGVzKHBhcmVudEVsbSwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gY2hlY2tEdXBsaWNhdGVLZXlzIChjaGlsZHJlbikgewogICAgICB2YXIgc2VlbktleXMgPSB7fTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciB2bm9kZSA9IGNoaWxkcmVuW2ldOwogICAgICAgIHZhciBrZXkgPSB2bm9kZS5rZXk7CiAgICAgICAgaWYgKGlzRGVmKGtleSkpIHsKICAgICAgICAgIGlmIChzZWVuS2V5c1trZXldKSB7CiAgICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICAgKCJEdXBsaWNhdGUga2V5cyBkZXRlY3RlZDogJyIgKyBrZXkgKyAiJy4gVGhpcyBtYXkgY2F1c2UgYW4gdXBkYXRlIGVycm9yLiIpLAogICAgICAgICAgICAgIHZub2RlLmNvbnRleHQKICAgICAgICAgICAgKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlZW5LZXlzW2tleV0gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmRJZHhJbk9sZCAobm9kZSwgb2xkQ2gsIHN0YXJ0LCBlbmQpIHsKICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHsKICAgICAgICB2YXIgYyA9IG9sZENoW2ldOwogICAgICAgIGlmIChpc0RlZihjKSAmJiBzYW1lVm5vZGUobm9kZSwgYykpIHsgcmV0dXJuIGkgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcGF0Y2hWbm9kZSAoCiAgICAgIG9sZFZub2RlLAogICAgICB2bm9kZSwKICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLAogICAgICBvd25lckFycmF5LAogICAgICBpbmRleCwKICAgICAgcmVtb3ZlT25seQogICAgKSB7CiAgICAgIGlmIChvbGRWbm9kZSA9PT0gdm5vZGUpIHsKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgaWYgKGlzRGVmKHZub2RlLmVsbSkgJiYgaXNEZWYob3duZXJBcnJheSkpIHsKICAgICAgICAvLyBjbG9uZSByZXVzZWQgdm5vZGUKICAgICAgICB2bm9kZSA9IG93bmVyQXJyYXlbaW5kZXhdID0gY2xvbmVWTm9kZSh2bm9kZSk7CiAgICAgIH0KCiAgICAgIHZhciBlbG0gPSB2bm9kZS5lbG0gPSBvbGRWbm9kZS5lbG07CgogICAgICBpZiAoaXNUcnVlKG9sZFZub2RlLmlzQXN5bmNQbGFjZWhvbGRlcikpIHsKICAgICAgICBpZiAoaXNEZWYodm5vZGUuYXN5bmNGYWN0b3J5LnJlc29sdmVkKSkgewogICAgICAgICAgaHlkcmF0ZShvbGRWbm9kZS5lbG0sIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bm9kZS5pc0FzeW5jUGxhY2Vob2xkZXIgPSB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgLy8gcmV1c2UgZWxlbWVudCBmb3Igc3RhdGljIHRyZWVzLgogICAgICAvLyBub3RlIHdlIG9ubHkgZG8gdGhpcyBpZiB0aGUgdm5vZGUgaXMgY2xvbmVkIC0KICAgICAgLy8gaWYgdGhlIG5ldyBub2RlIGlzIG5vdCBjbG9uZWQgaXQgbWVhbnMgdGhlIHJlbmRlciBmdW5jdGlvbnMgaGF2ZSBiZWVuCiAgICAgIC8vIHJlc2V0IGJ5IHRoZSBob3QtcmVsb2FkLWFwaSBhbmQgd2UgbmVlZCB0byBkbyBhIHByb3BlciByZS1yZW5kZXIuCiAgICAgIGlmIChpc1RydWUodm5vZGUuaXNTdGF0aWMpICYmCiAgICAgICAgaXNUcnVlKG9sZFZub2RlLmlzU3RhdGljKSAmJgogICAgICAgIHZub2RlLmtleSA9PT0gb2xkVm5vZGUua2V5ICYmCiAgICAgICAgKGlzVHJ1ZSh2bm9kZS5pc0Nsb25lZCkgfHwgaXNUcnVlKHZub2RlLmlzT25jZSkpCiAgICAgICkgewogICAgICAgIHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gb2xkVm5vZGUuY29tcG9uZW50SW5zdGFuY2U7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHZhciBpOwogICAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7CiAgICAgIGlmIChpc0RlZihkYXRhKSAmJiBpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5wcmVwYXRjaCkpIHsKICAgICAgICBpKG9sZFZub2RlLCB2bm9kZSk7CiAgICAgIH0KCiAgICAgIHZhciBvbGRDaCA9IG9sZFZub2RlLmNoaWxkcmVuOwogICAgICB2YXIgY2ggPSB2bm9kZS5jaGlsZHJlbjsKICAgICAgaWYgKGlzRGVmKGRhdGEpICYmIGlzUGF0Y2hhYmxlKHZub2RlKSkgewogICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMudXBkYXRlLmxlbmd0aDsgKytpKSB7IGNicy51cGRhdGVbaV0ob2xkVm5vZGUsIHZub2RlKTsgfQogICAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS51cGRhdGUpKSB7IGkob2xkVm5vZGUsIHZub2RlKTsgfQogICAgICB9CiAgICAgIGlmIChpc1VuZGVmKHZub2RlLnRleHQpKSB7CiAgICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHsKICAgICAgICAgIGlmIChvbGRDaCAhPT0gY2gpIHsgdXBkYXRlQ2hpbGRyZW4oZWxtLCBvbGRDaCwgY2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSk7IH0KICAgICAgICB9IGVsc2UgaWYgKGlzRGVmKGNoKSkgewogICAgICAgICAgewogICAgICAgICAgICBjaGVja0R1cGxpY2F0ZUtleXMoY2gpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKSB7IG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCAnJyk7IH0KICAgICAgICAgIGFkZFZub2RlcyhlbG0sIG51bGwsIGNoLCAwLCBjaC5sZW5ndGggLSAxLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkQ2gpKSB7CiAgICAgICAgICByZW1vdmVWbm9kZXMoZWxtLCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7CiAgICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50ZXh0KSkgewogICAgICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sICcnKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAob2xkVm5vZGUudGV4dCAhPT0gdm5vZGUudGV4dCkgewogICAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCB2bm9kZS50ZXh0KTsKICAgICAgfQogICAgICBpZiAoaXNEZWYoZGF0YSkpIHsKICAgICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucG9zdHBhdGNoKSkgeyBpKG9sZFZub2RlLCB2bm9kZSk7IH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGludm9rZUluc2VydEhvb2sgKHZub2RlLCBxdWV1ZSwgaW5pdGlhbCkgewogICAgICAvLyBkZWxheSBpbnNlcnQgaG9va3MgZm9yIGNvbXBvbmVudCByb290IG5vZGVzLCBpbnZva2UgdGhlbSBhZnRlciB0aGUKICAgICAgLy8gZWxlbWVudCBpcyByZWFsbHkgaW5zZXJ0ZWQKICAgICAgaWYgKGlzVHJ1ZShpbml0aWFsKSAmJiBpc0RlZih2bm9kZS5wYXJlbnQpKSB7CiAgICAgICAgdm5vZGUucGFyZW50LmRhdGEucGVuZGluZ0luc2VydCA9IHF1ZXVlOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHsKICAgICAgICAgIHF1ZXVlW2ldLmRhdGEuaG9vay5pbnNlcnQocXVldWVbaV0pOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHZhciBoeWRyYXRpb25CYWlsZWQgPSBmYWxzZTsKICAgIC8vIGxpc3Qgb2YgbW9kdWxlcyB0aGF0IGNhbiBza2lwIGNyZWF0ZSBob29rIGR1cmluZyBoeWRyYXRpb24gYmVjYXVzZSB0aGV5CiAgICAvLyBhcmUgYWxyZWFkeSByZW5kZXJlZCBvbiB0aGUgY2xpZW50IG9yIGhhcyBubyBuZWVkIGZvciBpbml0aWFsaXphdGlvbgogICAgLy8gTm90ZTogc3R5bGUgaXMgZXhjbHVkZWQgYmVjYXVzZSBpdCByZWxpZXMgb24gaW5pdGlhbCBjbG9uZSBmb3IgZnV0dXJlCiAgICAvLyBkZWVwIHVwZGF0ZXMgKCM3MDYzKS4KICAgIHZhciBpc1JlbmRlcmVkTW9kdWxlID0gbWFrZU1hcCgnYXR0cnMsY2xhc3Msc3RhdGljQ2xhc3Msc3RhdGljU3R5bGUsa2V5Jyk7CgogICAgLy8gTm90ZTogdGhpcyBpcyBhIGJyb3dzZXItb25seSBmdW5jdGlvbiBzbyB3ZSBjYW4gYXNzdW1lIGVsbXMgYXJlIERPTSBub2Rlcy4KICAgIGZ1bmN0aW9uIGh5ZHJhdGUgKGVsbSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgaW5WUHJlKSB7CiAgICAgIHZhciBpOwogICAgICB2YXIgdGFnID0gdm5vZGUudGFnOwogICAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7CiAgICAgIHZhciBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuOwogICAgICBpblZQcmUgPSBpblZQcmUgfHwgKGRhdGEgJiYgZGF0YS5wcmUpOwogICAgICB2bm9kZS5lbG0gPSBlbG07CgogICAgICBpZiAoaXNUcnVlKHZub2RlLmlzQ29tbWVudCkgJiYgaXNEZWYodm5vZGUuYXN5bmNGYWN0b3J5KSkgewogICAgICAgIHZub2RlLmlzQXN5bmNQbGFjZWhvbGRlciA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWUKICAgICAgfQogICAgICAvLyBhc3NlcnQgbm9kZSBtYXRjaAogICAgICB7CiAgICAgICAgaWYgKCFhc3NlcnROb2RlTWF0Y2goZWxtLCB2bm9kZSwgaW5WUHJlKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpc0RlZihkYXRhKSkgewogICAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5pbml0KSkgeyBpKHZub2RlLCB0cnVlIC8qIGh5ZHJhdGluZyAqLyk7IH0KICAgICAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlKSkgewogICAgICAgICAgLy8gY2hpbGQgY29tcG9uZW50LiBpdCBzaG91bGQgaGF2ZSBoeWRyYXRlZCBpdHMgb3duIHRyZWUuCiAgICAgICAgICBpbml0Q29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGlzRGVmKHRhZykpIHsKICAgICAgICBpZiAoaXNEZWYoY2hpbGRyZW4pKSB7CiAgICAgICAgICAvLyBlbXB0eSBlbGVtZW50LCBhbGxvdyBjbGllbnQgdG8gcGljayB1cCBhbmQgcG9wdWxhdGUgY2hpbGRyZW4KICAgICAgICAgIGlmICghZWxtLmhhc0NoaWxkTm9kZXMoKSkgewogICAgICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyB2LWh0bWwgYW5kIGRvbVByb3BzOiBpbm5lckhUTUwKICAgICAgICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhKSAmJiBpc0RlZihpID0gaS5kb21Qcm9wcykgJiYgaXNEZWYoaSA9IGkuaW5uZXJIVE1MKSkgewogICAgICAgICAgICAgIGlmIChpICE9PSBlbG0uaW5uZXJIVE1MKSB7CiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgICAgICAgICAgIWh5ZHJhdGlvbkJhaWxlZAogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgIGh5ZHJhdGlvbkJhaWxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUGFyZW50OiAnLCBlbG0pOwogICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3NlcnZlciBpbm5lckhUTUw6ICcsIGkpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2NsaWVudCBpbm5lckhUTUw6ICcsIGVsbS5pbm5lckhUTUwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIGl0ZXJhdGUgYW5kIGNvbXBhcmUgY2hpbGRyZW4gbGlzdHMKICAgICAgICAgICAgICB2YXIgY2hpbGRyZW5NYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGVsbS5maXJzdENoaWxkOwogICAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHsKICAgICAgICAgICAgICAgIGlmICghY2hpbGROb2RlIHx8ICFoeWRyYXRlKGNoaWxkTm9kZSwgY2hpbGRyZW5baSQxXSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpblZQcmUpKSB7CiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuTWF0Y2ggPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5uZXh0U2libGluZzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gaWYgY2hpbGROb2RlIGlzIG5vdCBudWxsLCBpdCBtZWFucyB0aGUgYWN0dWFsIGNoaWxkTm9kZXMgbGlzdCBpcwogICAgICAgICAgICAgIC8vIGxvbmdlciB0aGFuIHRoZSB2aXJ0dWFsIGNoaWxkcmVuIGxpc3QuCiAgICAgICAgICAgICAgaWYgKCFjaGlsZHJlbk1hdGNoIHx8IGNoaWxkTm9kZSkgewogICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmCiAgICAgICAgICAgICAgICAgICFoeWRyYXRpb25CYWlsZWQKICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICBoeWRyYXRpb25CYWlsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BhcmVudDogJywgZWxtKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNaXNtYXRjaGluZyBjaGlsZE5vZGVzIHZzLiBWTm9kZXM6ICcsIGVsbS5jaGlsZE5vZGVzLCBjaGlsZHJlbik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7CiAgICAgICAgICB2YXIgZnVsbEludm9rZSA9IGZhbHNlOwogICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgICAgaWYgKCFpc1JlbmRlcmVkTW9kdWxlKGtleSkpIHsKICAgICAgICAgICAgICBmdWxsSW52b2tlID0gdHJ1ZTsKICAgICAgICAgICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTsKICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIWZ1bGxJbnZva2UgJiYgZGF0YVsnY2xhc3MnXSkgewogICAgICAgICAgICAvLyBlbnN1cmUgY29sbGVjdGluZyBkZXBzIGZvciBkZWVwIGNsYXNzIGJpbmRpbmdzIGZvciBmdXR1cmUgdXBkYXRlcwogICAgICAgICAgICB0cmF2ZXJzZShkYXRhWydjbGFzcyddKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZWxtLmRhdGEgIT09IHZub2RlLnRleHQpIHsKICAgICAgICBlbG0uZGF0YSA9IHZub2RlLnRleHQ7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWUKICAgIH0KCiAgICBmdW5jdGlvbiBhc3NlcnROb2RlTWF0Y2ggKG5vZGUsIHZub2RlLCBpblZQcmUpIHsKICAgICAgaWYgKGlzRGVmKHZub2RlLnRhZykpIHsKICAgICAgICByZXR1cm4gdm5vZGUudGFnLmluZGV4T2YoJ3Z1ZS1jb21wb25lbnQnKSA9PT0gMCB8fCAoCiAgICAgICAgICAhaXNVbmtub3duRWxlbWVudCQkMSh2bm9kZSwgaW5WUHJlKSAmJgogICAgICAgICAgdm5vZGUudGFnLnRvTG93ZXJDYXNlKCkgPT09IChub2RlLnRhZ05hbWUgJiYgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpCiAgICAgICAgKQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAodm5vZGUuaXNDb21tZW50ID8gOCA6IDMpCiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZnVuY3Rpb24gcGF0Y2ggKG9sZFZub2RlLCB2bm9kZSwgaHlkcmF0aW5nLCByZW1vdmVPbmx5KSB7CiAgICAgIGlmIChpc1VuZGVmKHZub2RlKSkgewogICAgICAgIGlmIChpc0RlZihvbGRWbm9kZSkpIHsgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpOyB9CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHZhciBpc0luaXRpYWxQYXRjaCA9IGZhbHNlOwogICAgICB2YXIgaW5zZXJ0ZWRWbm9kZVF1ZXVlID0gW107CgogICAgICBpZiAoaXNVbmRlZihvbGRWbm9kZSkpIHsKICAgICAgICAvLyBlbXB0eSBtb3VudCAobGlrZWx5IGFzIGNvbXBvbmVudCksIGNyZWF0ZSBuZXcgcm9vdCBlbGVtZW50CiAgICAgICAgaXNJbml0aWFsUGF0Y2ggPSB0cnVlOwogICAgICAgIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgaXNSZWFsRWxlbWVudCA9IGlzRGVmKG9sZFZub2RlLm5vZGVUeXBlKTsKICAgICAgICBpZiAoIWlzUmVhbEVsZW1lbnQgJiYgc2FtZVZub2RlKG9sZFZub2RlLCB2bm9kZSkpIHsKICAgICAgICAgIC8vIHBhdGNoIGV4aXN0aW5nIHJvb3Qgbm9kZQogICAgICAgICAgcGF0Y2hWbm9kZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbnVsbCwgbnVsbCwgcmVtb3ZlT25seSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChpc1JlYWxFbGVtZW50KSB7CiAgICAgICAgICAgIC8vIG1vdW50aW5nIHRvIGEgcmVhbCBlbGVtZW50CiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQgYW5kIGlmIHdlIGNhbiBwZXJmb3JtCiAgICAgICAgICAgIC8vIGEgc3VjY2Vzc2Z1bCBoeWRyYXRpb24uCiAgICAgICAgICAgIGlmIChvbGRWbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBvbGRWbm9kZS5oYXNBdHRyaWJ1dGUoU1NSX0FUVFIpKSB7CiAgICAgICAgICAgICAgb2xkVm5vZGUucmVtb3ZlQXR0cmlidXRlKFNTUl9BVFRSKTsKICAgICAgICAgICAgICBoeWRyYXRpbmcgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc1RydWUoaHlkcmF0aW5nKSkgewogICAgICAgICAgICAgIGlmIChoeWRyYXRlKG9sZFZub2RlLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSkgewogICAgICAgICAgICAgICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB0cnVlKTsKICAgICAgICAgICAgICAgIHJldHVybiBvbGRWbm9kZQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB3YXJuKAogICAgICAgICAgICAgICAgICAnVGhlIGNsaWVudC1zaWRlIHJlbmRlcmVkIHZpcnR1YWwgRE9NIHRyZWUgaXMgbm90IG1hdGNoaW5nICcgKwogICAgICAgICAgICAgICAgICAnc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBpbmNvcnJlY3QgJyArCiAgICAgICAgICAgICAgICAgICdIVE1MIG1hcmt1cCwgZm9yIGV4YW1wbGUgbmVzdGluZyBibG9jay1sZXZlbCBlbGVtZW50cyBpbnNpZGUgJyArCiAgICAgICAgICAgICAgICAgICc8cD4sIG9yIG1pc3NpbmcgPHRib2R5Pi4gQmFpbGluZyBoeWRyYXRpb24gYW5kIHBlcmZvcm1pbmcgJyArCiAgICAgICAgICAgICAgICAgICdmdWxsIGNsaWVudC1zaWRlIHJlbmRlci4nCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBlaXRoZXIgbm90IHNlcnZlci1yZW5kZXJlZCwgb3IgaHlkcmF0aW9uIGZhaWxlZC4KICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGVtcHR5IG5vZGUgYW5kIHJlcGxhY2UgaXQKICAgICAgICAgICAgb2xkVm5vZGUgPSBlbXB0eU5vZGVBdChvbGRWbm9kZSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gcmVwbGFjaW5nIGV4aXN0aW5nIGVsZW1lbnQKICAgICAgICAgIHZhciBvbGRFbG0gPSBvbGRWbm9kZS5lbG07CiAgICAgICAgICB2YXIgcGFyZW50RWxtID0gbm9kZU9wcy5wYXJlbnROb2RlKG9sZEVsbSk7CgogICAgICAgICAgLy8gY3JlYXRlIG5ldyBub2RlCiAgICAgICAgICBjcmVhdGVFbG0oCiAgICAgICAgICAgIHZub2RlLAogICAgICAgICAgICBpbnNlcnRlZFZub2RlUXVldWUsCiAgICAgICAgICAgIC8vIGV4dHJlbWVseSByYXJlIGVkZ2UgY2FzZTogZG8gbm90IGluc2VydCBpZiBvbGQgZWxlbWVudCBpcyBpbiBhCiAgICAgICAgICAgIC8vIGxlYXZpbmcgdHJhbnNpdGlvbi4gT25seSBoYXBwZW5zIHdoZW4gY29tYmluaW5nIHRyYW5zaXRpb24gKwogICAgICAgICAgICAvLyBrZWVwLWFsaXZlICsgSE9Dcy4gKCM0NTkwKQogICAgICAgICAgICBvbGRFbG0uX2xlYXZlQ2IgPyBudWxsIDogcGFyZW50RWxtLAogICAgICAgICAgICBub2RlT3BzLm5leHRTaWJsaW5nKG9sZEVsbSkKICAgICAgICAgICk7CgogICAgICAgICAgLy8gdXBkYXRlIHBhcmVudCBwbGFjZWhvbGRlciBub2RlIGVsZW1lbnQsIHJlY3Vyc2l2ZWx5CiAgICAgICAgICBpZiAoaXNEZWYodm5vZGUucGFyZW50KSkgewogICAgICAgICAgICB2YXIgYW5jZXN0b3IgPSB2bm9kZS5wYXJlbnQ7CiAgICAgICAgICAgIHZhciBwYXRjaGFibGUgPSBpc1BhdGNoYWJsZSh2bm9kZSk7CiAgICAgICAgICAgIHdoaWxlIChhbmNlc3RvcikgewogICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgICAgIGNicy5kZXN0cm95W2ldKGFuY2VzdG9yKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYW5jZXN0b3IuZWxtID0gdm5vZGUuZWxtOwogICAgICAgICAgICAgIGlmIChwYXRjaGFibGUpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNicy5jcmVhdGUubGVuZ3RoOyArK2kkMSkgewogICAgICAgICAgICAgICAgICBjYnMuY3JlYXRlW2kkMV0oZW1wdHlOb2RlLCBhbmNlc3Rvcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAjNjUxMwogICAgICAgICAgICAgICAgLy8gaW52b2tlIGluc2VydCBob29rcyB0aGF0IG1heSBoYXZlIGJlZW4gbWVyZ2VkIGJ5IGNyZWF0ZSBob29rcy4KICAgICAgICAgICAgICAgIC8vIGUuZy4gZm9yIGRpcmVjdGl2ZXMgdGhhdCB1c2VzIHRoZSAiaW5zZXJ0ZWQiIGhvb2suCiAgICAgICAgICAgICAgICB2YXIgaW5zZXJ0ID0gYW5jZXN0b3IuZGF0YS5ob29rLmluc2VydDsKICAgICAgICAgICAgICAgIGlmIChpbnNlcnQubWVyZ2VkKSB7CiAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGF0IGluZGV4IDEgdG8gYXZvaWQgcmUtaW52b2tpbmcgY29tcG9uZW50IG1vdW50ZWQgaG9vawogICAgICAgICAgICAgICAgICBmb3IgKHZhciBpJDIgPSAxOyBpJDIgPCBpbnNlcnQuZm5zLmxlbmd0aDsgaSQyKyspIHsKICAgICAgICAgICAgICAgICAgICBpbnNlcnQuZm5zW2kkMl0oKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZWdpc3RlclJlZihhbmNlc3Rvcik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZGVzdHJveSBvbGQgbm9kZQogICAgICAgICAgaWYgKGlzRGVmKHBhcmVudEVsbSkpIHsKICAgICAgICAgICAgcmVtb3ZlVm5vZGVzKHBhcmVudEVsbSwgW29sZFZub2RlXSwgMCwgMCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZFZub2RlLnRhZykpIHsKICAgICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpc0luaXRpYWxQYXRjaCk7CiAgICAgIHJldHVybiB2bm9kZS5lbG0KICAgIH0KICB9CgogIC8qICAqLwoKICB2YXIgZGlyZWN0aXZlcyA9IHsKICAgIGNyZWF0ZTogdXBkYXRlRGlyZWN0aXZlcywKICAgIHVwZGF0ZTogdXBkYXRlRGlyZWN0aXZlcywKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIHVuYmluZERpcmVjdGl2ZXMgKHZub2RlKSB7CiAgICAgIHVwZGF0ZURpcmVjdGl2ZXModm5vZGUsIGVtcHR5Tm9kZSk7CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gdXBkYXRlRGlyZWN0aXZlcyAob2xkVm5vZGUsIHZub2RlKSB7CiAgICBpZiAob2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzIHx8IHZub2RlLmRhdGEuZGlyZWN0aXZlcykgewogICAgICBfdXBkYXRlKG9sZFZub2RlLCB2bm9kZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBfdXBkYXRlIChvbGRWbm9kZSwgdm5vZGUpIHsKICAgIHZhciBpc0NyZWF0ZSA9IG9sZFZub2RlID09PSBlbXB0eU5vZGU7CiAgICB2YXIgaXNEZXN0cm95ID0gdm5vZGUgPT09IGVtcHR5Tm9kZTsKICAgIHZhciBvbGREaXJzID0gbm9ybWFsaXplRGlyZWN0aXZlcyQxKG9sZFZub2RlLmRhdGEuZGlyZWN0aXZlcywgb2xkVm5vZGUuY29udGV4dCk7CiAgICB2YXIgbmV3RGlycyA9IG5vcm1hbGl6ZURpcmVjdGl2ZXMkMSh2bm9kZS5kYXRhLmRpcmVjdGl2ZXMsIHZub2RlLmNvbnRleHQpOwoKICAgIHZhciBkaXJzV2l0aEluc2VydCA9IFtdOwogICAgdmFyIGRpcnNXaXRoUG9zdHBhdGNoID0gW107CgogICAgdmFyIGtleSwgb2xkRGlyLCBkaXI7CiAgICBmb3IgKGtleSBpbiBuZXdEaXJzKSB7CiAgICAgIG9sZERpciA9IG9sZERpcnNba2V5XTsKICAgICAgZGlyID0gbmV3RGlyc1trZXldOwogICAgICBpZiAoIW9sZERpcikgewogICAgICAgIC8vIG5ldyBkaXJlY3RpdmUsIGJpbmQKICAgICAgICBjYWxsSG9vayQxKGRpciwgJ2JpbmQnLCB2bm9kZSwgb2xkVm5vZGUpOwogICAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuaW5zZXJ0ZWQpIHsKICAgICAgICAgIGRpcnNXaXRoSW5zZXJ0LnB1c2goZGlyKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZXhpc3RpbmcgZGlyZWN0aXZlLCB1cGRhdGUKICAgICAgICBkaXIub2xkVmFsdWUgPSBvbGREaXIudmFsdWU7CiAgICAgICAgZGlyLm9sZEFyZyA9IG9sZERpci5hcmc7CiAgICAgICAgY2FsbEhvb2skMShkaXIsICd1cGRhdGUnLCB2bm9kZSwgb2xkVm5vZGUpOwogICAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuY29tcG9uZW50VXBkYXRlZCkgewogICAgICAgICAgZGlyc1dpdGhQb3N0cGF0Y2gucHVzaChkaXIpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChkaXJzV2l0aEluc2VydC5sZW5ndGgpIHsKICAgICAgdmFyIGNhbGxJbnNlcnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzV2l0aEluc2VydC5sZW5ndGg7IGkrKykgewogICAgICAgICAgY2FsbEhvb2skMShkaXJzV2l0aEluc2VydFtpXSwgJ2luc2VydGVkJywgdm5vZGUsIG9sZFZub2RlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGlmIChpc0NyZWF0ZSkgewogICAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAnaW5zZXJ0JywgY2FsbEluc2VydCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbEluc2VydCgpOwogICAgICB9CiAgICB9CgogICAgaWYgKGRpcnNXaXRoUG9zdHBhdGNoLmxlbmd0aCkgewogICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ3Bvc3RwYXRjaCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpcnNXaXRoUG9zdHBhdGNoLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjYWxsSG9vayQxKGRpcnNXaXRoUG9zdHBhdGNoW2ldLCAnY29tcG9uZW50VXBkYXRlZCcsIHZub2RlLCBvbGRWbm9kZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBpZiAoIWlzQ3JlYXRlKSB7CiAgICAgIGZvciAoa2V5IGluIG9sZERpcnMpIHsKICAgICAgICBpZiAoIW5ld0RpcnNba2V5XSkgewogICAgICAgICAgLy8gbm8gbG9uZ2VyIHByZXNlbnQsIHVuYmluZAogICAgICAgICAgY2FsbEhvb2skMShvbGREaXJzW2tleV0sICd1bmJpbmQnLCBvbGRWbm9kZSwgb2xkVm5vZGUsIGlzRGVzdHJveSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICB2YXIgZW1wdHlNb2RpZmllcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwoKICBmdW5jdGlvbiBub3JtYWxpemVEaXJlY3RpdmVzJDEgKAogICAgZGlycywKICAgIHZtCiAgKSB7CiAgICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIGlmICghZGlycykgewogICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgICAgcmV0dXJuIHJlcwogICAgfQogICAgdmFyIGksIGRpcjsKICAgIGZvciAoaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGRpciA9IGRpcnNbaV07CiAgICAgIGlmICghZGlyLm1vZGlmaWVycykgewogICAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZQogICAgICAgIGRpci5tb2RpZmllcnMgPSBlbXB0eU1vZGlmaWVyczsKICAgICAgfQogICAgICByZXNbZ2V0UmF3RGlyTmFtZShkaXIpXSA9IGRpcjsKICAgICAgZGlyLmRlZiA9IHJlc29sdmVBc3NldCh2bS4kb3B0aW9ucywgJ2RpcmVjdGl2ZXMnLCBkaXIubmFtZSwgdHJ1ZSk7CiAgICB9CiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgIHJldHVybiByZXMKICB9CgogIGZ1bmN0aW9uIGdldFJhd0Rpck5hbWUgKGRpcikgewogICAgcmV0dXJuIGRpci5yYXdOYW1lIHx8ICgoZGlyLm5hbWUpICsgIi4iICsgKE9iamVjdC5rZXlzKGRpci5tb2RpZmllcnMgfHwge30pLmpvaW4oJy4nKSkpCiAgfQoKICBmdW5jdGlvbiBjYWxsSG9vayQxIChkaXIsIGhvb2ssIHZub2RlLCBvbGRWbm9kZSwgaXNEZXN0cm95KSB7CiAgICB2YXIgZm4gPSBkaXIuZGVmICYmIGRpci5kZWZbaG9va107CiAgICBpZiAoZm4pIHsKICAgICAgdHJ5IHsKICAgICAgICBmbih2bm9kZS5lbG0sIGRpciwgdm5vZGUsIG9sZFZub2RlLCBpc0Rlc3Ryb3kpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm5vZGUuY29udGV4dCwgKCJkaXJlY3RpdmUgIiArIChkaXIubmFtZSkgKyAiICIgKyBob29rICsgIiBob29rIikpOwogICAgICB9CiAgICB9CiAgfQoKICB2YXIgYmFzZU1vZHVsZXMgPSBbCiAgICByZWYsCiAgICBkaXJlY3RpdmVzCiAgXTsKCiAgLyogICovCgogIGZ1bmN0aW9uIHVwZGF0ZUF0dHJzIChvbGRWbm9kZSwgdm5vZGUpIHsKICAgIHZhciBvcHRzID0gdm5vZGUuY29tcG9uZW50T3B0aW9uczsKICAgIGlmIChpc0RlZihvcHRzKSAmJiBvcHRzLkN0b3Iub3B0aW9ucy5pbmhlcml0QXR0cnMgPT09IGZhbHNlKSB7CiAgICAgIHJldHVybgogICAgfQogICAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5hdHRycykgJiYgaXNVbmRlZih2bm9kZS5kYXRhLmF0dHJzKSkgewogICAgICByZXR1cm4KICAgIH0KICAgIHZhciBrZXksIGN1ciwgb2xkOwogICAgdmFyIGVsbSA9IHZub2RlLmVsbTsKICAgIHZhciBvbGRBdHRycyA9IG9sZFZub2RlLmRhdGEuYXR0cnMgfHwge307CiAgICB2YXIgYXR0cnMgPSB2bm9kZS5kYXRhLmF0dHJzIHx8IHt9OwogICAgLy8gY2xvbmUgb2JzZXJ2ZWQgb2JqZWN0cywgYXMgdGhlIHVzZXIgcHJvYmFibHkgd2FudHMgdG8gbXV0YXRlIGl0CiAgICBpZiAoaXNEZWYoYXR0cnMuX19vYl9fKSkgewogICAgICBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnMgPSBleHRlbmQoe30sIGF0dHJzKTsKICAgIH0KCiAgICBmb3IgKGtleSBpbiBhdHRycykgewogICAgICBjdXIgPSBhdHRyc1trZXldOwogICAgICBvbGQgPSBvbGRBdHRyc1trZXldOwogICAgICBpZiAob2xkICE9PSBjdXIpIHsKICAgICAgICBzZXRBdHRyKGVsbSwga2V5LCBjdXIpOwogICAgICB9CiAgICB9CiAgICAvLyAjNDM5MTogaW4gSUU5LCBzZXR0aW5nIHR5cGUgY2FuIHJlc2V0IHZhbHVlIGZvciBpbnB1dFt0eXBlPXJhZGlvXQogICAgLy8gIzY2NjY6IElFL0VkZ2UgZm9yY2VzIHByb2dyZXNzIHZhbHVlIGRvd24gdG8gMSBiZWZvcmUgc2V0dGluZyBhIG1heAogICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICBpZiAoKGlzSUUgfHwgaXNFZGdlKSAmJiBhdHRycy52YWx1ZSAhPT0gb2xkQXR0cnMudmFsdWUpIHsKICAgICAgc2V0QXR0cihlbG0sICd2YWx1ZScsIGF0dHJzLnZhbHVlKTsKICAgIH0KICAgIGZvciAoa2V5IGluIG9sZEF0dHJzKSB7CiAgICAgIGlmIChpc1VuZGVmKGF0dHJzW2tleV0pKSB7CiAgICAgICAgaWYgKGlzWGxpbmsoa2V5KSkgewogICAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGdldFhsaW5rUHJvcChrZXkpKTsKICAgICAgICB9IGVsc2UgaWYgKCFpc0VudW1lcmF0ZWRBdHRyKGtleSkpIHsKICAgICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHNldEF0dHIgKGVsLCBrZXksIHZhbHVlKSB7CiAgICBpZiAoZWwudGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSkgewogICAgICBiYXNlU2V0QXR0cihlbCwga2V5LCB2YWx1ZSk7CiAgICB9IGVsc2UgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkgewogICAgICAvLyBzZXQgYXR0cmlidXRlIGZvciBibGFuayB2YWx1ZQogICAgICAvLyBlLmcuIDxvcHRpb24gZGlzYWJsZWQ+U2VsZWN0IG9uZTwvb3B0aW9uPgogICAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHsKICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB0ZWNobmljYWxseSBhbGxvd2Z1bGxzY3JlZW4gaXMgYSBib29sZWFuIGF0dHJpYnV0ZSBmb3IgPGlmcmFtZT4sCiAgICAgICAgLy8gYnV0IEZsYXNoIGV4cGVjdHMgYSB2YWx1ZSBvZiAidHJ1ZSIgd2hlbiB1c2VkIG9uIDxlbWJlZD4gdGFnCiAgICAgICAgdmFsdWUgPSBrZXkgPT09ICdhbGxvd2Z1bGxzY3JlZW4nICYmIGVsLnRhZ05hbWUgPT09ICdFTUJFRCcKICAgICAgICAgID8gJ3RydWUnCiAgICAgICAgICA6IGtleTsKICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoaXNFbnVtZXJhdGVkQXR0cihrZXkpKSB7CiAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGNvbnZlcnRFbnVtZXJhdGVkVmFsdWUoa2V5LCB2YWx1ZSkpOwogICAgfSBlbHNlIGlmIChpc1hsaW5rKGtleSkpIHsKICAgICAgaWYgKGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpKSB7CiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpOwogICAgICB9IGVsc2UgewogICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBiYXNlU2V0QXR0cihlbCwga2V5LCB2YWx1ZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBiYXNlU2V0QXR0ciAoZWwsIGtleSwgdmFsdWUpIHsKICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkgewogICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTsKICAgIH0gZWxzZSB7CiAgICAgIC8vICM3MTM4OiBJRTEwICYgMTEgZmlyZXMgaW5wdXQgZXZlbnQgd2hlbiBzZXR0aW5nIHBsYWNlaG9sZGVyIG9uCiAgICAgIC8vIDx0ZXh0YXJlYT4uLi4gYmxvY2sgdGhlIGZpcnN0IGlucHV0IGV2ZW50IGFuZCByZW1vdmUgdGhlIGJsb2NrZXIKICAgICAgLy8gaW1tZWRpYXRlbHkuCiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICBpZiAoCiAgICAgICAgaXNJRSAmJiAhaXNJRTkgJiYKICAgICAgICBlbC50YWdOYW1lID09PSAnVEVYVEFSRUEnICYmCiAgICAgICAga2V5ID09PSAncGxhY2Vob2xkZXInICYmIHZhbHVlICE9PSAnJyAmJiAhZWwuX19pZXBoCiAgICAgICkgewogICAgICAgIHZhciBibG9ja2VyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CiAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIGJsb2NrZXIpOwogICAgICAgIH07CiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBibG9ja2VyKTsKICAgICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgICAgICBlbC5fX2llcGggPSB0cnVlOyAvKiBJRSBwbGFjZWhvbGRlciBwYXRjaGVkICovCiAgICAgIH0KICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpOwogICAgfQogIH0KCiAgdmFyIGF0dHJzID0gewogICAgY3JlYXRlOiB1cGRhdGVBdHRycywKICAgIHVwZGF0ZTogdXBkYXRlQXR0cnMKICB9OwoKICAvKiAgKi8KCiAgZnVuY3Rpb24gdXBkYXRlQ2xhc3MgKG9sZFZub2RlLCB2bm9kZSkgewogICAgdmFyIGVsID0gdm5vZGUuZWxtOwogICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhOwogICAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhOwogICAgaWYgKAogICAgICBpc1VuZGVmKGRhdGEuc3RhdGljQ2xhc3MpICYmCiAgICAgIGlzVW5kZWYoZGF0YS5jbGFzcykgJiYgKAogICAgICAgIGlzVW5kZWYob2xkRGF0YSkgfHwgKAogICAgICAgICAgaXNVbmRlZihvbGREYXRhLnN0YXRpY0NsYXNzKSAmJgogICAgICAgICAgaXNVbmRlZihvbGREYXRhLmNsYXNzKQogICAgICAgICkKICAgICAgKQogICAgKSB7CiAgICAgIHJldHVybgogICAgfQoKICAgIHZhciBjbHMgPSBnZW5DbGFzc0ZvclZub2RlKHZub2RlKTsKCiAgICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBjbGFzc2VzCiAgICB2YXIgdHJhbnNpdGlvbkNsYXNzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzOwogICAgaWYgKGlzRGVmKHRyYW5zaXRpb25DbGFzcykpIHsKICAgICAgY2xzID0gY29uY2F0KGNscywgc3RyaW5naWZ5Q2xhc3ModHJhbnNpdGlvbkNsYXNzKSk7CiAgICB9CgogICAgLy8gc2V0IHRoZSBjbGFzcwogICAgaWYgKGNscyAhPT0gZWwuX3ByZXZDbGFzcykgewogICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xzKTsKICAgICAgZWwuX3ByZXZDbGFzcyA9IGNsczsKICAgIH0KICB9CgogIHZhciBrbGFzcyA9IHsKICAgIGNyZWF0ZTogdXBkYXRlQ2xhc3MsCiAgICB1cGRhdGU6IHVwZGF0ZUNsYXNzCiAgfTsKCiAgLyogICovCgogIHZhciB2YWxpZERpdmlzaW9uQ2hhclJFID0gL1tcdykuK1wtXyRcXV0vOwoKICBmdW5jdGlvbiBwYXJzZUZpbHRlcnMgKGV4cCkgewogICAgdmFyIGluU2luZ2xlID0gZmFsc2U7CiAgICB2YXIgaW5Eb3VibGUgPSBmYWxzZTsKICAgIHZhciBpblRlbXBsYXRlU3RyaW5nID0gZmFsc2U7CiAgICB2YXIgaW5SZWdleCA9IGZhbHNlOwogICAgdmFyIGN1cmx5ID0gMDsKICAgIHZhciBzcXVhcmUgPSAwOwogICAgdmFyIHBhcmVuID0gMDsKICAgIHZhciBsYXN0RmlsdGVySW5kZXggPSAwOwogICAgdmFyIGMsIHByZXYsIGksIGV4cHJlc3Npb24sIGZpbHRlcnM7CgogICAgZm9yIChpID0gMDsgaSA8IGV4cC5sZW5ndGg7IGkrKykgewogICAgICBwcmV2ID0gYzsKICAgICAgYyA9IGV4cC5jaGFyQ29kZUF0KGkpOwogICAgICBpZiAoaW5TaW5nbGUpIHsKICAgICAgICBpZiAoYyA9PT0gMHgyNyAmJiBwcmV2ICE9PSAweDVDKSB7IGluU2luZ2xlID0gZmFsc2U7IH0KICAgICAgfSBlbHNlIGlmIChpbkRvdWJsZSkgewogICAgICAgIGlmIChjID09PSAweDIyICYmIHByZXYgIT09IDB4NUMpIHsgaW5Eb3VibGUgPSBmYWxzZTsgfQogICAgICB9IGVsc2UgaWYgKGluVGVtcGxhdGVTdHJpbmcpIHsKICAgICAgICBpZiAoYyA9PT0gMHg2MCAmJiBwcmV2ICE9PSAweDVDKSB7IGluVGVtcGxhdGVTdHJpbmcgPSBmYWxzZTsgfQogICAgICB9IGVsc2UgaWYgKGluUmVnZXgpIHsKICAgICAgICBpZiAoYyA9PT0gMHgyZiAmJiBwcmV2ICE9PSAweDVDKSB7IGluUmVnZXggPSBmYWxzZTsgfQogICAgICB9IGVsc2UgaWYgKAogICAgICAgIGMgPT09IDB4N0MgJiYgLy8gcGlwZQogICAgICAgIGV4cC5jaGFyQ29kZUF0KGkgKyAxKSAhPT0gMHg3QyAmJgogICAgICAgIGV4cC5jaGFyQ29kZUF0KGkgLSAxKSAhPT0gMHg3QyAmJgogICAgICAgICFjdXJseSAmJiAhc3F1YXJlICYmICFwYXJlbgogICAgICApIHsKICAgICAgICBpZiAoZXhwcmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvLyBmaXJzdCBmaWx0ZXIsIGVuZCBvZiBleHByZXNzaW9uCiAgICAgICAgICBsYXN0RmlsdGVySW5kZXggPSBpICsgMTsKICAgICAgICAgIGV4cHJlc3Npb24gPSBleHAuc2xpY2UoMCwgaSkudHJpbSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwdXNoRmlsdGVyKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHN3aXRjaCAoYykgewogICAgICAgICAgY2FzZSAweDIyOiBpbkRvdWJsZSA9IHRydWU7IGJyZWFrICAgICAgICAgLy8gIgogICAgICAgICAgY2FzZSAweDI3OiBpblNpbmdsZSA9IHRydWU7IGJyZWFrICAgICAgICAgLy8gJwogICAgICAgICAgY2FzZSAweDYwOiBpblRlbXBsYXRlU3RyaW5nID0gdHJ1ZTsgYnJlYWsgLy8gYAogICAgICAgICAgY2FzZSAweDI4OiBwYXJlbisrOyBicmVhayAgICAgICAgICAgICAgICAgLy8gKAogICAgICAgICAgY2FzZSAweDI5OiBwYXJlbi0tOyBicmVhayAgICAgICAgICAgICAgICAgLy8gKQogICAgICAgICAgY2FzZSAweDVCOiBzcXVhcmUrKzsgYnJlYWsgICAgICAgICAgICAgICAgLy8gWwogICAgICAgICAgY2FzZSAweDVEOiBzcXVhcmUtLTsgYnJlYWsgICAgICAgICAgICAgICAgLy8gXQogICAgICAgICAgY2FzZSAweDdCOiBjdXJseSsrOyBicmVhayAgICAgICAgICAgICAgICAgLy8gewogICAgICAgICAgY2FzZSAweDdEOiBjdXJseS0tOyBicmVhayAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgIH0KICAgICAgICBpZiAoYyA9PT0gMHgyZikgeyAvLyAvCiAgICAgICAgICB2YXIgaiA9IGkgLSAxOwogICAgICAgICAgdmFyIHAgPSAodm9pZCAwKTsKICAgICAgICAgIC8vIGZpbmQgZmlyc3Qgbm9uLXdoaXRlc3BhY2UgcHJldiBjaGFyCiAgICAgICAgICBmb3IgKDsgaiA+PSAwOyBqLS0pIHsKICAgICAgICAgICAgcCA9IGV4cC5jaGFyQXQoaik7CiAgICAgICAgICAgIGlmIChwICE9PSAnICcpIHsgYnJlYWsgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwIHx8ICF2YWxpZERpdmlzaW9uQ2hhclJFLnRlc3QocCkpIHsKICAgICAgICAgICAgaW5SZWdleCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKGV4cHJlc3Npb24gPT09IHVuZGVmaW5lZCkgewogICAgICBleHByZXNzaW9uID0gZXhwLnNsaWNlKDAsIGkpLnRyaW0oKTsKICAgIH0gZWxzZSBpZiAobGFzdEZpbHRlckluZGV4ICE9PSAwKSB7CiAgICAgIHB1c2hGaWx0ZXIoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwdXNoRmlsdGVyICgpIHsKICAgICAgKGZpbHRlcnMgfHwgKGZpbHRlcnMgPSBbXSkpLnB1c2goZXhwLnNsaWNlKGxhc3RGaWx0ZXJJbmRleCwgaSkudHJpbSgpKTsKICAgICAgbGFzdEZpbHRlckluZGV4ID0gaSArIDE7CiAgICB9CgogICAgaWYgKGZpbHRlcnMpIHsKICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBleHByZXNzaW9uID0gd3JhcEZpbHRlcihleHByZXNzaW9uLCBmaWx0ZXJzW2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBleHByZXNzaW9uCiAgfQoKICBmdW5jdGlvbiB3cmFwRmlsdGVyIChleHAsIGZpbHRlcikgewogICAgdmFyIGkgPSBmaWx0ZXIuaW5kZXhPZignKCcpOwogICAgaWYgKGkgPCAwKSB7CiAgICAgIC8vIF9mOiByZXNvbHZlRmlsdGVyCiAgICAgIHJldHVybiAoIl9mKFwiIiArIGZpbHRlciArICJcIikoIiArIGV4cCArICIpIikKICAgIH0gZWxzZSB7CiAgICAgIHZhciBuYW1lID0gZmlsdGVyLnNsaWNlKDAsIGkpOwogICAgICB2YXIgYXJncyA9IGZpbHRlci5zbGljZShpICsgMSk7CiAgICAgIHJldHVybiAoIl9mKFwiIiArIG5hbWUgKyAiXCIpKCIgKyBleHAgKyAoYXJncyAhPT0gJyknID8gJywnICsgYXJncyA6IGFyZ3MpKQogICAgfQogIH0KCiAgLyogICovCgoKCiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi8KICBmdW5jdGlvbiBiYXNlV2FybiAobXNnLCByYW5nZSkgewogICAgY29uc29sZS5lcnJvcigoIltWdWUgY29tcGlsZXJdOiAiICsgbXNnKSk7CiAgfQogIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi8KCiAgZnVuY3Rpb24gcGx1Y2tNb2R1bGVGdW5jdGlvbiAoCiAgICBtb2R1bGVzLAogICAga2V5CiAgKSB7CiAgICByZXR1cm4gbW9kdWxlcwogICAgICA/IG1vZHVsZXMubWFwKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtW2tleV07IH0pLmZpbHRlcihmdW5jdGlvbiAoXykgeyByZXR1cm4gXzsgfSkKICAgICAgOiBbXQogIH0KCiAgZnVuY3Rpb24gYWRkUHJvcCAoZWwsIG5hbWUsIHZhbHVlLCByYW5nZSwgZHluYW1pYykgewogICAgKGVsLnByb3BzIHx8IChlbC5wcm9wcyA9IFtdKSkucHVzaChyYW5nZVNldEl0ZW0oeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUsIGR5bmFtaWM6IGR5bmFtaWMgfSwgcmFuZ2UpKTsKICAgIGVsLnBsYWluID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBhZGRBdHRyIChlbCwgbmFtZSwgdmFsdWUsIHJhbmdlLCBkeW5hbWljKSB7CiAgICB2YXIgYXR0cnMgPSBkeW5hbWljCiAgICAgID8gKGVsLmR5bmFtaWNBdHRycyB8fCAoZWwuZHluYW1pY0F0dHJzID0gW10pKQogICAgICA6IChlbC5hdHRycyB8fCAoZWwuYXR0cnMgPSBbXSkpOwogICAgYXR0cnMucHVzaChyYW5nZVNldEl0ZW0oeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUsIGR5bmFtaWM6IGR5bmFtaWMgfSwgcmFuZ2UpKTsKICAgIGVsLnBsYWluID0gZmFsc2U7CiAgfQoKICAvLyBhZGQgYSByYXcgYXR0ciAodXNlIHRoaXMgaW4gcHJlVHJhbnNmb3JtcykKICBmdW5jdGlvbiBhZGRSYXdBdHRyIChlbCwgbmFtZSwgdmFsdWUsIHJhbmdlKSB7CiAgICBlbC5hdHRyc01hcFtuYW1lXSA9IHZhbHVlOwogICAgZWwuYXR0cnNMaXN0LnB1c2gocmFuZ2VTZXRJdGVtKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlIH0sIHJhbmdlKSk7CiAgfQoKICBmdW5jdGlvbiBhZGREaXJlY3RpdmUgKAogICAgZWwsCiAgICBuYW1lLAogICAgcmF3TmFtZSwKICAgIHZhbHVlLAogICAgYXJnLAogICAgaXNEeW5hbWljQXJnLAogICAgbW9kaWZpZXJzLAogICAgcmFuZ2UKICApIHsKICAgIChlbC5kaXJlY3RpdmVzIHx8IChlbC5kaXJlY3RpdmVzID0gW10pKS5wdXNoKHJhbmdlU2V0SXRlbSh7CiAgICAgIG5hbWU6IG5hbWUsCiAgICAgIHJhd05hbWU6IHJhd05hbWUsCiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgYXJnOiBhcmcsCiAgICAgIGlzRHluYW1pY0FyZzogaXNEeW5hbWljQXJnLAogICAgICBtb2RpZmllcnM6IG1vZGlmaWVycwogICAgfSwgcmFuZ2UpKTsKICAgIGVsLnBsYWluID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBwcmVwZW5kTW9kaWZpZXJNYXJrZXIgKHN5bWJvbCwgbmFtZSwgZHluYW1pYykgewogICAgcmV0dXJuIGR5bmFtaWMKICAgICAgPyAoIl9wKCIgKyBuYW1lICsgIixcIiIgKyBzeW1ib2wgKyAiXCIpIikKICAgICAgOiBzeW1ib2wgKyBuYW1lIC8vIG1hcmsgdGhlIGV2ZW50IGFzIGNhcHR1cmVkCiAgfQoKICBmdW5jdGlvbiBhZGRIYW5kbGVyICgKICAgIGVsLAogICAgbmFtZSwKICAgIHZhbHVlLAogICAgbW9kaWZpZXJzLAogICAgaW1wb3J0YW50LAogICAgd2FybiwKICAgIHJhbmdlLAogICAgZHluYW1pYwogICkgewogICAgbW9kaWZpZXJzID0gbW9kaWZpZXJzIHx8IGVtcHR5T2JqZWN0OwogICAgLy8gd2FybiBwcmV2ZW50IGFuZCBwYXNzaXZlIG1vZGlmaWVyCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmICgKICAgICAgd2FybiAmJgogICAgICBtb2RpZmllcnMucHJldmVudCAmJiBtb2RpZmllcnMucGFzc2l2ZQogICAgKSB7CiAgICAgIHdhcm4oCiAgICAgICAgJ3Bhc3NpdmUgYW5kIHByZXZlbnQgY2FuXCd0IGJlIHVzZWQgdG9nZXRoZXIuICcgKwogICAgICAgICdQYXNzaXZlIGhhbmRsZXIgY2FuXCd0IHByZXZlbnQgZGVmYXVsdCBldmVudC4nLAogICAgICAgIHJhbmdlCiAgICAgICk7CiAgICB9CgogICAgLy8gbm9ybWFsaXplIGNsaWNrLnJpZ2h0IGFuZCBjbGljay5taWRkbGUgc2luY2UgdGhleSBkb24ndCBhY3R1YWxseSBmaXJlCiAgICAvLyB0aGlzIGlzIHRlY2huaWNhbGx5IGJyb3dzZXItc3BlY2lmaWMsIGJ1dCBhdCBsZWFzdCBmb3Igbm93IGJyb3dzZXJzIGFyZQogICAgLy8gdGhlIG9ubHkgdGFyZ2V0IGVudnMgdGhhdCBoYXZlIHJpZ2h0L21pZGRsZSBjbGlja3MuCiAgICBpZiAobW9kaWZpZXJzLnJpZ2h0KSB7CiAgICAgIGlmIChkeW5hbWljKSB7CiAgICAgICAgbmFtZSA9ICIoIiArIG5hbWUgKyAiKT09PSdjbGljayc/J2NvbnRleHRtZW51JzooIiArIG5hbWUgKyAiKSI7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2NsaWNrJykgewogICAgICAgIG5hbWUgPSAnY29udGV4dG1lbnUnOwogICAgICAgIGRlbGV0ZSBtb2RpZmllcnMucmlnaHQ7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAobW9kaWZpZXJzLm1pZGRsZSkgewogICAgICBpZiAoZHluYW1pYykgewogICAgICAgIG5hbWUgPSAiKCIgKyBuYW1lICsgIik9PT0nY2xpY2snPydtb3VzZXVwJzooIiArIG5hbWUgKyAiKSI7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2NsaWNrJykgewogICAgICAgIG5hbWUgPSAnbW91c2V1cCc7CiAgICAgIH0KICAgIH0KCiAgICAvLyBjaGVjayBjYXB0dXJlIG1vZGlmaWVyCiAgICBpZiAobW9kaWZpZXJzLmNhcHR1cmUpIHsKICAgICAgZGVsZXRlIG1vZGlmaWVycy5jYXB0dXJlOwogICAgICBuYW1lID0gcHJlcGVuZE1vZGlmaWVyTWFya2VyKCchJywgbmFtZSwgZHluYW1pYyk7CiAgICB9CiAgICBpZiAobW9kaWZpZXJzLm9uY2UpIHsKICAgICAgZGVsZXRlIG1vZGlmaWVycy5vbmNlOwogICAgICBuYW1lID0gcHJlcGVuZE1vZGlmaWVyTWFya2VyKCd+JywgbmFtZSwgZHluYW1pYyk7CiAgICB9CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChtb2RpZmllcnMucGFzc2l2ZSkgewogICAgICBkZWxldGUgbW9kaWZpZXJzLnBhc3NpdmU7CiAgICAgIG5hbWUgPSBwcmVwZW5kTW9kaWZpZXJNYXJrZXIoJyYnLCBuYW1lLCBkeW5hbWljKTsKICAgIH0KCiAgICB2YXIgZXZlbnRzOwogICAgaWYgKG1vZGlmaWVycy5uYXRpdmUpIHsKICAgICAgZGVsZXRlIG1vZGlmaWVycy5uYXRpdmU7CiAgICAgIGV2ZW50cyA9IGVsLm5hdGl2ZUV2ZW50cyB8fCAoZWwubmF0aXZlRXZlbnRzID0ge30pOwogICAgfSBlbHNlIHsKICAgICAgZXZlbnRzID0gZWwuZXZlbnRzIHx8IChlbC5ldmVudHMgPSB7fSk7CiAgICB9CgogICAgdmFyIG5ld0hhbmRsZXIgPSByYW5nZVNldEl0ZW0oeyB2YWx1ZTogdmFsdWUudHJpbSgpLCBkeW5hbWljOiBkeW5hbWljIH0sIHJhbmdlKTsKICAgIGlmIChtb2RpZmllcnMgIT09IGVtcHR5T2JqZWN0KSB7CiAgICAgIG5ld0hhbmRsZXIubW9kaWZpZXJzID0gbW9kaWZpZXJzOwogICAgfQoKICAgIHZhciBoYW5kbGVycyA9IGV2ZW50c1tuYW1lXTsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKEFycmF5LmlzQXJyYXkoaGFuZGxlcnMpKSB7CiAgICAgIGltcG9ydGFudCA/IGhhbmRsZXJzLnVuc2hpZnQobmV3SGFuZGxlcikgOiBoYW5kbGVycy5wdXNoKG5ld0hhbmRsZXIpOwogICAgfSBlbHNlIGlmIChoYW5kbGVycykgewogICAgICBldmVudHNbbmFtZV0gPSBpbXBvcnRhbnQgPyBbbmV3SGFuZGxlciwgaGFuZGxlcnNdIDogW2hhbmRsZXJzLCBuZXdIYW5kbGVyXTsKICAgIH0gZWxzZSB7CiAgICAgIGV2ZW50c1tuYW1lXSA9IG5ld0hhbmRsZXI7CiAgICB9CgogICAgZWwucGxhaW4gPSBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIGdldFJhd0JpbmRpbmdBdHRyICgKICAgIGVsLAogICAgbmFtZQogICkgewogICAgcmV0dXJuIGVsLnJhd0F0dHJzTWFwWyc6JyArIG5hbWVdIHx8CiAgICAgIGVsLnJhd0F0dHJzTWFwWyd2LWJpbmQ6JyArIG5hbWVdIHx8CiAgICAgIGVsLnJhd0F0dHJzTWFwW25hbWVdCiAgfQoKICBmdW5jdGlvbiBnZXRCaW5kaW5nQXR0ciAoCiAgICBlbCwKICAgIG5hbWUsCiAgICBnZXRTdGF0aWMKICApIHsKICAgIHZhciBkeW5hbWljVmFsdWUgPQogICAgICBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnOicgKyBuYW1lKSB8fAogICAgICBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1iaW5kOicgKyBuYW1lKTsKICAgIGlmIChkeW5hbWljVmFsdWUgIT0gbnVsbCkgewogICAgICByZXR1cm4gcGFyc2VGaWx0ZXJzKGR5bmFtaWNWYWx1ZSkKICAgIH0gZWxzZSBpZiAoZ2V0U3RhdGljICE9PSBmYWxzZSkgewogICAgICB2YXIgc3RhdGljVmFsdWUgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCBuYW1lKTsKICAgICAgaWYgKHN0YXRpY1ZhbHVlICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3RhdGljVmFsdWUpCiAgICAgIH0KICAgIH0KICB9CgogIC8vIG5vdGU6IHRoaXMgb25seSByZW1vdmVzIHRoZSBhdHRyIGZyb20gdGhlIEFycmF5IChhdHRyc0xpc3QpIHNvIHRoYXQgaXQKICAvLyBkb2Vzbid0IGdldCBwcm9jZXNzZWQgYnkgcHJvY2Vzc0F0dHJzLgogIC8vIEJ5IGRlZmF1bHQgaXQgZG9lcyBOT1QgcmVtb3ZlIGl0IGZyb20gdGhlIG1hcCAoYXR0cnNNYXApIGJlY2F1c2UgdGhlIG1hcCBpcwogIC8vIG5lZWRlZCBkdXJpbmcgY29kZWdlbi4KICBmdW5jdGlvbiBnZXRBbmRSZW1vdmVBdHRyICgKICAgIGVsLAogICAgbmFtZSwKICAgIHJlbW92ZUZyb21NYXAKICApIHsKICAgIHZhciB2YWw7CiAgICBpZiAoKHZhbCA9IGVsLmF0dHJzTWFwW25hbWVdKSAhPSBudWxsKSB7CiAgICAgIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0OwogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGxpc3RbaV0ubmFtZSA9PT0gbmFtZSkgewogICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7CiAgICAgICAgICBicmVhawogICAgICAgIH0KICAgICAgfQogICAgfQogICAgaWYgKHJlbW92ZUZyb21NYXApIHsKICAgICAgZGVsZXRlIGVsLmF0dHJzTWFwW25hbWVdOwogICAgfQogICAgcmV0dXJuIHZhbAogIH0KCiAgZnVuY3Rpb24gZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXggKAogICAgZWwsCiAgICBuYW1lCiAgKSB7CiAgICB2YXIgbGlzdCA9IGVsLmF0dHJzTGlzdDsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIGF0dHIgPSBsaXN0W2ldOwogICAgICBpZiAobmFtZS50ZXN0KGF0dHIubmFtZSkpIHsKICAgICAgICBsaXN0LnNwbGljZShpLCAxKTsKICAgICAgICByZXR1cm4gYXR0cgogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiByYW5nZVNldEl0ZW0gKAogICAgaXRlbSwKICAgIHJhbmdlCiAgKSB7CiAgICBpZiAocmFuZ2UpIHsKICAgICAgaWYgKHJhbmdlLnN0YXJ0ICE9IG51bGwpIHsKICAgICAgICBpdGVtLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7CiAgICAgIH0KICAgICAgaWYgKHJhbmdlLmVuZCAhPSBudWxsKSB7CiAgICAgICAgaXRlbS5lbmQgPSByYW5nZS5lbmQ7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBpdGVtCiAgfQoKICAvKiAgKi8KCiAgLyoqCiAgICogQ3Jvc3MtcGxhdGZvcm0gY29kZSBnZW5lcmF0aW9uIGZvciBjb21wb25lbnQgdi1tb2RlbAogICAqLwogIGZ1bmN0aW9uIGdlbkNvbXBvbmVudE1vZGVsICgKICAgIGVsLAogICAgdmFsdWUsCiAgICBtb2RpZmllcnMKICApIHsKICAgIHZhciByZWYgPSBtb2RpZmllcnMgfHwge307CiAgICB2YXIgbnVtYmVyID0gcmVmLm51bWJlcjsKICAgIHZhciB0cmltID0gcmVmLnRyaW07CgogICAgdmFyIGJhc2VWYWx1ZUV4cHJlc3Npb24gPSAnJCR2JzsKICAgIHZhciB2YWx1ZUV4cHJlc3Npb24gPSBiYXNlVmFsdWVFeHByZXNzaW9uOwogICAgaWYgKHRyaW0pIHsKICAgICAgdmFsdWVFeHByZXNzaW9uID0KICAgICAgICAiKHR5cGVvZiAiICsgYmFzZVZhbHVlRXhwcmVzc2lvbiArICIgPT09ICdzdHJpbmcnIiArCiAgICAgICAgIj8gIiArIGJhc2VWYWx1ZUV4cHJlc3Npb24gKyAiLnRyaW0oKSIgKwogICAgICAgICI6ICIgKyBiYXNlVmFsdWVFeHByZXNzaW9uICsgIikiOwogICAgfQogICAgaWYgKG51bWJlcikgewogICAgICB2YWx1ZUV4cHJlc3Npb24gPSAiX24oIiArIHZhbHVlRXhwcmVzc2lvbiArICIpIjsKICAgIH0KICAgIHZhciBhc3NpZ25tZW50ID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIHZhbHVlRXhwcmVzc2lvbik7CgogICAgZWwubW9kZWwgPSB7CiAgICAgIHZhbHVlOiAoIigiICsgdmFsdWUgKyAiKSIpLAogICAgICBleHByZXNzaW9uOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSksCiAgICAgIGNhbGxiYWNrOiAoImZ1bmN0aW9uICgiICsgYmFzZVZhbHVlRXhwcmVzc2lvbiArICIpIHsiICsgYXNzaWdubWVudCArICJ9IikKICAgIH07CiAgfQoKICAvKioKICAgKiBDcm9zcy1wbGF0Zm9ybSBjb2RlZ2VuIGhlbHBlciBmb3IgZ2VuZXJhdGluZyB2LW1vZGVsIHZhbHVlIGFzc2lnbm1lbnQgY29kZS4KICAgKi8KICBmdW5jdGlvbiBnZW5Bc3NpZ25tZW50Q29kZSAoCiAgICB2YWx1ZSwKICAgIGFzc2lnbm1lbnQKICApIHsKICAgIHZhciByZXMgPSBwYXJzZU1vZGVsKHZhbHVlKTsKICAgIGlmIChyZXMua2V5ID09PSBudWxsKSB7CiAgICAgIHJldHVybiAodmFsdWUgKyAiPSIgKyBhc3NpZ25tZW50KQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICgiJHNldCgiICsgKHJlcy5leHApICsgIiwgIiArIChyZXMua2V5KSArICIsICIgKyBhc3NpZ25tZW50ICsgIikiKQogICAgfQogIH0KCiAgLyoqCiAgICogUGFyc2UgYSB2LW1vZGVsIGV4cHJlc3Npb24gaW50byBhIGJhc2UgcGF0aCBhbmQgYSBmaW5hbCBrZXkgc2VnbWVudC4KICAgKiBIYW5kbGVzIGJvdGggZG90LXBhdGggYW5kIHBvc3NpYmxlIHNxdWFyZSBicmFja2V0cy4KICAgKgogICAqIFBvc3NpYmxlIGNhc2VzOgogICAqCiAgICogLSB0ZXN0CiAgICogLSB0ZXN0W2tleV0KICAgKiAtIHRlc3RbdGVzdDFba2V5XV0KICAgKiAtIHRlc3RbImEiXVtrZXldCiAgICogLSB4eHgudGVzdFthW2FdLnRlc3QxW2tleV1dCiAgICogLSB0ZXN0Lnh4eC5hWyJhc2EiXVt0ZXN0MVtrZXldXQogICAqCiAgICovCgogIHZhciBsZW4sIHN0ciwgY2hyLCBpbmRleCQxLCBleHByZXNzaW9uUG9zLCBleHByZXNzaW9uRW5kUG9zOwoKCgogIGZ1bmN0aW9uIHBhcnNlTW9kZWwgKHZhbCkgewogICAgLy8gRml4IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUvcHVsbC83NzMwCiAgICAvLyBhbGxvdyB2LW1vZGVsPSJvYmoudmFsICIgKHRyYWlsaW5nIHdoaXRlc3BhY2UpCiAgICB2YWwgPSB2YWwudHJpbSgpOwogICAgbGVuID0gdmFsLmxlbmd0aDsKCiAgICBpZiAodmFsLmluZGV4T2YoJ1snKSA8IDAgfHwgdmFsLmxhc3RJbmRleE9mKCddJykgPCBsZW4gLSAxKSB7CiAgICAgIGluZGV4JDEgPSB2YWwubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKGluZGV4JDEgPiAtMSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBleHA6IHZhbC5zbGljZSgwLCBpbmRleCQxKSwKICAgICAgICAgIGtleTogJyInICsgdmFsLnNsaWNlKGluZGV4JDEgKyAxKSArICciJwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZXhwOiB2YWwsCiAgICAgICAgICBrZXk6IG51bGwKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBzdHIgPSB2YWw7CiAgICBpbmRleCQxID0gZXhwcmVzc2lvblBvcyA9IGV4cHJlc3Npb25FbmRQb3MgPSAwOwoKICAgIHdoaWxlICghZW9mKCkpIHsKICAgICAgY2hyID0gbmV4dCgpOwogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKGlzU3RyaW5nU3RhcnQoY2hyKSkgewogICAgICAgIHBhcnNlU3RyaW5nKGNocik7CiAgICAgIH0gZWxzZSBpZiAoY2hyID09PSAweDVCKSB7CiAgICAgICAgcGFyc2VCcmFja2V0KGNocik7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gewogICAgICBleHA6IHZhbC5zbGljZSgwLCBleHByZXNzaW9uUG9zKSwKICAgICAga2V5OiB2YWwuc2xpY2UoZXhwcmVzc2lvblBvcyArIDEsIGV4cHJlc3Npb25FbmRQb3MpCiAgICB9CiAgfQoKICBmdW5jdGlvbiBuZXh0ICgpIHsKICAgIHJldHVybiBzdHIuY2hhckNvZGVBdCgrK2luZGV4JDEpCiAgfQoKICBmdW5jdGlvbiBlb2YgKCkgewogICAgcmV0dXJuIGluZGV4JDEgPj0gbGVuCiAgfQoKICBmdW5jdGlvbiBpc1N0cmluZ1N0YXJ0IChjaHIpIHsKICAgIHJldHVybiBjaHIgPT09IDB4MjIgfHwgY2hyID09PSAweDI3CiAgfQoKICBmdW5jdGlvbiBwYXJzZUJyYWNrZXQgKGNocikgewogICAgdmFyIGluQnJhY2tldCA9IDE7CiAgICBleHByZXNzaW9uUG9zID0gaW5kZXgkMTsKICAgIHdoaWxlICghZW9mKCkpIHsKICAgICAgY2hyID0gbmV4dCgpOwogICAgICBpZiAoaXNTdHJpbmdTdGFydChjaHIpKSB7CiAgICAgICAgcGFyc2VTdHJpbmcoY2hyKTsKICAgICAgICBjb250aW51ZQogICAgICB9CiAgICAgIGlmIChjaHIgPT09IDB4NUIpIHsgaW5CcmFja2V0Kys7IH0KICAgICAgaWYgKGNociA9PT0gMHg1RCkgeyBpbkJyYWNrZXQtLTsgfQogICAgICBpZiAoaW5CcmFja2V0ID09PSAwKSB7CiAgICAgICAgZXhwcmVzc2lvbkVuZFBvcyA9IGluZGV4JDE7CiAgICAgICAgYnJlYWsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gcGFyc2VTdHJpbmcgKGNocikgewogICAgdmFyIHN0cmluZ1F1b3RlID0gY2hyOwogICAgd2hpbGUgKCFlb2YoKSkgewogICAgICBjaHIgPSBuZXh0KCk7CiAgICAgIGlmIChjaHIgPT09IHN0cmluZ1F1b3RlKSB7CiAgICAgICAgYnJlYWsKICAgICAgfQogICAgfQogIH0KCiAgLyogICovCgogIHZhciB3YXJuJDE7CgogIC8vIGluIHNvbWUgY2FzZXMsIHRoZSBldmVudCB1c2VkIGhhcyB0byBiZSBkZXRlcm1pbmVkIGF0IHJ1bnRpbWUKICAvLyBzbyB3ZSB1c2VkIHNvbWUgcmVzZXJ2ZWQgdG9rZW5zIGR1cmluZyBjb21waWxlLgogIHZhciBSQU5HRV9UT0tFTiA9ICdfX3InOwogIHZhciBDSEVDS0JPWF9SQURJT19UT0tFTiA9ICdfX2MnOwoKICBmdW5jdGlvbiBtb2RlbCAoCiAgICBlbCwKICAgIGRpciwKICAgIF93YXJuCiAgKSB7CiAgICB3YXJuJDEgPSBfd2FybjsKICAgIHZhciB2YWx1ZSA9IGRpci52YWx1ZTsKICAgIHZhciBtb2RpZmllcnMgPSBkaXIubW9kaWZpZXJzOwogICAgdmFyIHRhZyA9IGVsLnRhZzsKICAgIHZhciB0eXBlID0gZWwuYXR0cnNNYXAudHlwZTsKCiAgICB7CiAgICAgIC8vIGlucHV0cyB3aXRoIHR5cGU9ImZpbGUiIGFyZSByZWFkIG9ubHkgYW5kIHNldHRpbmcgdGhlIGlucHV0J3MKICAgICAgLy8gdmFsdWUgd2lsbCB0aHJvdyBhbiBlcnJvci4KICAgICAgaWYgKHRhZyA9PT0gJ2lucHV0JyAmJiB0eXBlID09PSAnZmlsZScpIHsKICAgICAgICB3YXJuJDEoCiAgICAgICAgICAiPCIgKyAoZWwudGFnKSArICIgdi1tb2RlbD1cIiIgKyB2YWx1ZSArICJcIiB0eXBlPVwiZmlsZVwiPjpcbiIgKwogICAgICAgICAgIkZpbGUgaW5wdXRzIGFyZSByZWFkIG9ubHkuIFVzZSBhIHYtb246Y2hhbmdlIGxpc3RlbmVyIGluc3RlYWQuIiwKICAgICAgICAgIGVsLnJhd0F0dHJzTWFwWyd2LW1vZGVsJ10KICAgICAgICApOwogICAgICB9CiAgICB9CgogICAgaWYgKGVsLmNvbXBvbmVudCkgewogICAgICBnZW5Db21wb25lbnRNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycyk7CiAgICAgIC8vIGNvbXBvbmVudCB2LW1vZGVsIGRvZXNuJ3QgbmVlZCBleHRyYSBydW50aW1lCiAgICAgIHJldHVybiBmYWxzZQogICAgfSBlbHNlIGlmICh0YWcgPT09ICdzZWxlY3QnKSB7CiAgICAgIGdlblNlbGVjdChlbCwgdmFsdWUsIG1vZGlmaWVycyk7CiAgICB9IGVsc2UgaWYgKHRhZyA9PT0gJ2lucHV0JyAmJiB0eXBlID09PSAnY2hlY2tib3gnKSB7CiAgICAgIGdlbkNoZWNrYm94TW9kZWwoZWwsIHZhbHVlLCBtb2RpZmllcnMpOwogICAgfSBlbHNlIGlmICh0YWcgPT09ICdpbnB1dCcgJiYgdHlwZSA9PT0gJ3JhZGlvJykgewogICAgICBnZW5SYWRpb01vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTsKICAgIH0gZWxzZSBpZiAodGFnID09PSAnaW5wdXQnIHx8IHRhZyA9PT0gJ3RleHRhcmVhJykgewogICAgICBnZW5EZWZhdWx0TW9kZWwoZWwsIHZhbHVlLCBtb2RpZmllcnMpOwogICAgfSBlbHNlIGlmICghY29uZmlnLmlzUmVzZXJ2ZWRUYWcodGFnKSkgewogICAgICBnZW5Db21wb25lbnRNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycyk7CiAgICAgIC8vIGNvbXBvbmVudCB2LW1vZGVsIGRvZXNuJ3QgbmVlZCBleHRyYSBydW50aW1lCiAgICAgIHJldHVybiBmYWxzZQogICAgfSBlbHNlIHsKICAgICAgd2FybiQxKAogICAgICAgICI8IiArIChlbC50YWcpICsgIiB2LW1vZGVsPVwiIiArIHZhbHVlICsgIlwiPjogIiArCiAgICAgICAgInYtbW9kZWwgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGVsZW1lbnQgdHlwZS4gIiArCiAgICAgICAgJ0lmIHlvdSBhcmUgd29ya2luZyB3aXRoIGNvbnRlbnRlZGl0YWJsZSwgaXRcJ3MgcmVjb21tZW5kZWQgdG8gJyArCiAgICAgICAgJ3dyYXAgYSBsaWJyYXJ5IGRlZGljYXRlZCBmb3IgdGhhdCBwdXJwb3NlIGluc2lkZSBhIGN1c3RvbSBjb21wb25lbnQuJywKICAgICAgICBlbC5yYXdBdHRyc01hcFsndi1tb2RlbCddCiAgICAgICk7CiAgICB9CgogICAgLy8gZW5zdXJlIHJ1bnRpbWUgZGlyZWN0aXZlIG1ldGFkYXRhCiAgICByZXR1cm4gdHJ1ZQogIH0KCiAgZnVuY3Rpb24gZ2VuQ2hlY2tib3hNb2RlbCAoCiAgICBlbCwKICAgIHZhbHVlLAogICAgbW9kaWZpZXJzCiAgKSB7CiAgICB2YXIgbnVtYmVyID0gbW9kaWZpZXJzICYmIG1vZGlmaWVycy5udW1iZXI7CiAgICB2YXIgdmFsdWVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICd2YWx1ZScpIHx8ICdudWxsJzsKICAgIHZhciB0cnVlVmFsdWVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICd0cnVlLXZhbHVlJykgfHwgJ3RydWUnOwogICAgdmFyIGZhbHNlVmFsdWVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdmYWxzZS12YWx1ZScpIHx8ICdmYWxzZSc7CiAgICBhZGRQcm9wKGVsLCAnY2hlY2tlZCcsCiAgICAgICJBcnJheS5pc0FycmF5KCIgKyB2YWx1ZSArICIpIiArCiAgICAgICI/X2koIiArIHZhbHVlICsgIiwiICsgdmFsdWVCaW5kaW5nICsgIik+LTEiICsgKAogICAgICAgIHRydWVWYWx1ZUJpbmRpbmcgPT09ICd0cnVlJwogICAgICAgICAgPyAoIjooIiArIHZhbHVlICsgIikiKQogICAgICAgICAgOiAoIjpfcSgiICsgdmFsdWUgKyAiLCIgKyB0cnVlVmFsdWVCaW5kaW5nICsgIikiKQogICAgICApCiAgICApOwogICAgYWRkSGFuZGxlcihlbCwgJ2NoYW5nZScsCiAgICAgICJ2YXIgJCRhPSIgKyB2YWx1ZSArICIsIiArCiAgICAgICAgICAnJCRlbD0kZXZlbnQudGFyZ2V0LCcgKwogICAgICAgICAgIiQkYz0kJGVsLmNoZWNrZWQ/KCIgKyB0cnVlVmFsdWVCaW5kaW5nICsgIik6KCIgKyBmYWxzZVZhbHVlQmluZGluZyArICIpOyIgKwogICAgICAnaWYoQXJyYXkuaXNBcnJheSgkJGEpKXsnICsKICAgICAgICAidmFyICQkdj0iICsgKG51bWJlciA/ICdfbignICsgdmFsdWVCaW5kaW5nICsgJyknIDogdmFsdWVCaW5kaW5nKSArICIsIiArCiAgICAgICAgICAgICckJGk9X2koJCRhLCQkdik7JyArCiAgICAgICAgImlmKCQkZWwuY2hlY2tlZCl7JCRpPDAmJigiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLmNvbmNhdChbJCR2XSknKSkgKyAiKX0iICsKICAgICAgICAiZWxzZXskJGk+LTEmJigiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLnNsaWNlKDAsJCRpKS5jb25jYXQoJCRhLnNsaWNlKCQkaSsxKSknKSkgKyAiKX0iICsKICAgICAgIn1lbHNleyIgKyAoZ2VuQXNzaWdubWVudENvZGUodmFsdWUsICckJGMnKSkgKyAifSIsCiAgICAgIG51bGwsIHRydWUKICAgICk7CiAgfQoKICBmdW5jdGlvbiBnZW5SYWRpb01vZGVsICgKICAgIGVsLAogICAgdmFsdWUsCiAgICBtb2RpZmllcnMKICApIHsKICAgIHZhciBudW1iZXIgPSBtb2RpZmllcnMgJiYgbW9kaWZpZXJzLm51bWJlcjsKICAgIHZhciB2YWx1ZUJpbmRpbmcgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3ZhbHVlJykgfHwgJ251bGwnOwogICAgdmFsdWVCaW5kaW5nID0gbnVtYmVyID8gKCJfbigiICsgdmFsdWVCaW5kaW5nICsgIikiKSA6IHZhbHVlQmluZGluZzsKICAgIGFkZFByb3AoZWwsICdjaGVja2VkJywgKCJfcSgiICsgdmFsdWUgKyAiLCIgKyB2YWx1ZUJpbmRpbmcgKyAiKSIpKTsKICAgIGFkZEhhbmRsZXIoZWwsICdjaGFuZ2UnLCBnZW5Bc3NpZ25tZW50Q29kZSh2YWx1ZSwgdmFsdWVCaW5kaW5nKSwgbnVsbCwgdHJ1ZSk7CiAgfQoKICBmdW5jdGlvbiBnZW5TZWxlY3QgKAogICAgZWwsCiAgICB2YWx1ZSwKICAgIG1vZGlmaWVycwogICkgewogICAgdmFyIG51bWJlciA9IG1vZGlmaWVycyAmJiBtb2RpZmllcnMubnVtYmVyOwogICAgdmFyIHNlbGVjdGVkVmFsID0gIkFycmF5LnByb3RvdHlwZS5maWx0ZXIiICsKICAgICAgIi5jYWxsKCRldmVudC50YXJnZXQub3B0aW9ucyxmdW5jdGlvbihvKXtyZXR1cm4gby5zZWxlY3RlZH0pIiArCiAgICAgICIubWFwKGZ1bmN0aW9uKG8pe3ZhciB2YWwgPSBcIl92YWx1ZVwiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7IiArCiAgICAgICJyZXR1cm4gIiArIChudW1iZXIgPyAnX24odmFsKScgOiAndmFsJykgKyAifSkiOwoKICAgIHZhciBhc3NpZ25tZW50ID0gJyRldmVudC50YXJnZXQubXVsdGlwbGUgPyAkJHNlbGVjdGVkVmFsIDogJCRzZWxlY3RlZFZhbFswXSc7CiAgICB2YXIgY29kZSA9ICJ2YXIgJCRzZWxlY3RlZFZhbCA9ICIgKyBzZWxlY3RlZFZhbCArICI7IjsKICAgIGNvZGUgPSBjb2RlICsgIiAiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCBhc3NpZ25tZW50KSk7CiAgICBhZGRIYW5kbGVyKGVsLCAnY2hhbmdlJywgY29kZSwgbnVsbCwgdHJ1ZSk7CiAgfQoKICBmdW5jdGlvbiBnZW5EZWZhdWx0TW9kZWwgKAogICAgZWwsCiAgICB2YWx1ZSwKICAgIG1vZGlmaWVycwogICkgewogICAgdmFyIHR5cGUgPSBlbC5hdHRyc01hcC50eXBlOwoKICAgIC8vIHdhcm4gaWYgdi1iaW5kOnZhbHVlIGNvbmZsaWN0cyB3aXRoIHYtbW9kZWwKICAgIC8vIGV4Y2VwdCBmb3IgaW5wdXRzIHdpdGggdi1iaW5kOnR5cGUKICAgIHsKICAgICAgdmFyIHZhbHVlJDEgPSBlbC5hdHRyc01hcFsndi1iaW5kOnZhbHVlJ10gfHwgZWwuYXR0cnNNYXBbJzp2YWx1ZSddOwogICAgICB2YXIgdHlwZUJpbmRpbmcgPSBlbC5hdHRyc01hcFsndi1iaW5kOnR5cGUnXSB8fCBlbC5hdHRyc01hcFsnOnR5cGUnXTsKICAgICAgaWYgKHZhbHVlJDEgJiYgIXR5cGVCaW5kaW5nKSB7CiAgICAgICAgdmFyIGJpbmRpbmcgPSBlbC5hdHRyc01hcFsndi1iaW5kOnZhbHVlJ10gPyAndi1iaW5kOnZhbHVlJyA6ICc6dmFsdWUnOwogICAgICAgIHdhcm4kMSgKICAgICAgICAgIGJpbmRpbmcgKyAiPVwiIiArIHZhbHVlJDEgKyAiXCIgY29uZmxpY3RzIHdpdGggdi1tb2RlbCBvbiB0aGUgc2FtZSBlbGVtZW50ICIgKwogICAgICAgICAgJ2JlY2F1c2UgdGhlIGxhdHRlciBhbHJlYWR5IGV4cGFuZHMgdG8gYSB2YWx1ZSBiaW5kaW5nIGludGVybmFsbHknLAogICAgICAgICAgZWwucmF3QXR0cnNNYXBbYmluZGluZ10KICAgICAgICApOwogICAgICB9CiAgICB9CgogICAgdmFyIHJlZiA9IG1vZGlmaWVycyB8fCB7fTsKICAgIHZhciBsYXp5ID0gcmVmLmxhenk7CiAgICB2YXIgbnVtYmVyID0gcmVmLm51bWJlcjsKICAgIHZhciB0cmltID0gcmVmLnRyaW07CiAgICB2YXIgbmVlZENvbXBvc2l0aW9uR3VhcmQgPSAhbGF6eSAmJiB0eXBlICE9PSAncmFuZ2UnOwogICAgdmFyIGV2ZW50ID0gbGF6eQogICAgICA/ICdjaGFuZ2UnCiAgICAgIDogdHlwZSA9PT0gJ3JhbmdlJwogICAgICAgID8gUkFOR0VfVE9LRU4KICAgICAgICA6ICdpbnB1dCc7CgogICAgdmFyIHZhbHVlRXhwcmVzc2lvbiA9ICckZXZlbnQudGFyZ2V0LnZhbHVlJzsKICAgIGlmICh0cmltKSB7CiAgICAgIHZhbHVlRXhwcmVzc2lvbiA9ICIkZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKSI7CiAgICB9CiAgICBpZiAobnVtYmVyKSB7CiAgICAgIHZhbHVlRXhwcmVzc2lvbiA9ICJfbigiICsgdmFsdWVFeHByZXNzaW9uICsgIikiOwogICAgfQoKICAgIHZhciBjb2RlID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIHZhbHVlRXhwcmVzc2lvbik7CiAgICBpZiAobmVlZENvbXBvc2l0aW9uR3VhcmQpIHsKICAgICAgY29kZSA9ICJpZigkZXZlbnQudGFyZ2V0LmNvbXBvc2luZylyZXR1cm47IiArIGNvZGU7CiAgICB9CgogICAgYWRkUHJvcChlbCwgJ3ZhbHVlJywgKCIoIiArIHZhbHVlICsgIikiKSk7CiAgICBhZGRIYW5kbGVyKGVsLCBldmVudCwgY29kZSwgbnVsbCwgdHJ1ZSk7CiAgICBpZiAodHJpbSB8fCBudW1iZXIpIHsKICAgICAgYWRkSGFuZGxlcihlbCwgJ2JsdXInLCAnJGZvcmNlVXBkYXRlKCknKTsKICAgIH0KICB9CgogIC8qICAqLwoKICAvLyBub3JtYWxpemUgdi1tb2RlbCBldmVudCB0b2tlbnMgdGhhdCBjYW4gb25seSBiZSBkZXRlcm1pbmVkIGF0IHJ1bnRpbWUuCiAgLy8gaXQncyBpbXBvcnRhbnQgdG8gcGxhY2UgdGhlIGV2ZW50IGFzIHRoZSBmaXJzdCBpbiB0aGUgYXJyYXkgYmVjYXVzZQogIC8vIHRoZSB3aG9sZSBwb2ludCBpcyBlbnN1cmluZyB0aGUgdi1tb2RlbCBjYWxsYmFjayBnZXRzIGNhbGxlZCBiZWZvcmUKICAvLyB1c2VyLWF0dGFjaGVkIGhhbmRsZXJzLgogIGZ1bmN0aW9uIG5vcm1hbGl6ZUV2ZW50cyAob24pIHsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGlzRGVmKG9uW1JBTkdFX1RPS0VOXSkpIHsKICAgICAgLy8gSUUgaW5wdXRbdHlwZT1yYW5nZV0gb25seSBzdXBwb3J0cyBgY2hhbmdlYCBldmVudAogICAgICB2YXIgZXZlbnQgPSBpc0lFID8gJ2NoYW5nZScgOiAnaW5wdXQnOwogICAgICBvbltldmVudF0gPSBbXS5jb25jYXQob25bUkFOR0VfVE9LRU5dLCBvbltldmVudF0gfHwgW10pOwogICAgICBkZWxldGUgb25bUkFOR0VfVE9LRU5dOwogICAgfQogICAgLy8gVGhpcyB3YXMgb3JpZ2luYWxseSBpbnRlbmRlZCB0byBmaXggIzQ1MjEgYnV0IG5vIGxvbmdlciBuZWNlc3NhcnkKICAgIC8vIGFmdGVyIDIuNS4gS2VlcGluZyBpdCBmb3IgYmFja3dhcmRzIGNvbXBhdCB3aXRoIGdlbmVyYXRlZCBjb2RlIGZyb20gPCAyLjQKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGlzRGVmKG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXSkpIHsKICAgICAgb24uY2hhbmdlID0gW10uY29uY2F0KG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXSwgb24uY2hhbmdlIHx8IFtdKTsKICAgICAgZGVsZXRlIG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXTsKICAgIH0KICB9CgogIHZhciB0YXJnZXQkMTsKCiAgZnVuY3Rpb24gY3JlYXRlT25jZUhhbmRsZXIkMSAoZXZlbnQsIGhhbmRsZXIsIGNhcHR1cmUpIHsKICAgIHZhciBfdGFyZ2V0ID0gdGFyZ2V0JDE7IC8vIHNhdmUgY3VycmVudCB0YXJnZXQgZWxlbWVudCBpbiBjbG9zdXJlCiAgICByZXR1cm4gZnVuY3Rpb24gb25jZUhhbmRsZXIgKCkgewogICAgICB2YXIgcmVzID0gaGFuZGxlci5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgICBpZiAocmVzICE9PSBudWxsKSB7CiAgICAgICAgcmVtb3ZlJDIoZXZlbnQsIG9uY2VIYW5kbGVyLCBjYXB0dXJlLCBfdGFyZ2V0KTsKICAgICAgfQogICAgfQogIH0KCiAgLy8gIzk0NDY6IEZpcmVmb3ggPD0gNTMgKGluIHBhcnRpY3VsYXIsIEVTUiA1MikgaGFzIGluY29ycmVjdCBFdmVudC50aW1lU3RhbXAKICAvLyBpbXBsZW1lbnRhdGlvbiBhbmQgZG9lcyBub3QgZmlyZSBtaWNyb3Rhc2tzIGluIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24sIHNvCiAgLy8gc2FmZSB0byBleGNsdWRlLgogIHZhciB1c2VNaWNyb3Rhc2tGaXggPSBpc1VzaW5nTWljcm9UYXNrICYmICEoaXNGRiAmJiBOdW1iZXIoaXNGRlsxXSkgPD0gNTMpOwoKICBmdW5jdGlvbiBhZGQkMSAoCiAgICBuYW1lLAogICAgaGFuZGxlciwKICAgIGNhcHR1cmUsCiAgICBwYXNzaXZlCiAgKSB7CiAgICAvLyBhc3luYyBlZGdlIGNhc2UgIzY1NjY6IGlubmVyIGNsaWNrIGV2ZW50IHRyaWdnZXJzIHBhdGNoLCBldmVudCBoYW5kbGVyCiAgICAvLyBhdHRhY2hlZCB0byBvdXRlciBlbGVtZW50IGR1cmluZyBwYXRjaCwgYW5kIHRyaWdnZXJlZCBhZ2Fpbi4gVGhpcwogICAgLy8gaGFwcGVucyBiZWNhdXNlIGJyb3dzZXJzIGZpcmUgbWljcm90YXNrIHRpY2tzIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24uCiAgICAvLyB0aGUgc29sdXRpb24gaXMgc2ltcGxlOiB3ZSBzYXZlIHRoZSB0aW1lc3RhbXAgd2hlbiBhIGhhbmRsZXIgaXMgYXR0YWNoZWQsCiAgICAvLyBhbmQgdGhlIGhhbmRsZXIgd291bGQgb25seSBmaXJlIGlmIHRoZSBldmVudCBwYXNzZWQgdG8gaXQgd2FzIGZpcmVkCiAgICAvLyBBRlRFUiBpdCB3YXMgYXR0YWNoZWQuCiAgICBpZiAodXNlTWljcm90YXNrRml4KSB7CiAgICAgIHZhciBhdHRhY2hlZFRpbWVzdGFtcCA9IGN1cnJlbnRGbHVzaFRpbWVzdGFtcDsKICAgICAgdmFyIG9yaWdpbmFsID0gaGFuZGxlcjsKICAgICAgaGFuZGxlciA9IG9yaWdpbmFsLl93cmFwcGVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAvLyBubyBidWJibGluZywgc2hvdWxkIGFsd2F5cyBmaXJlLgogICAgICAgICAgLy8gdGhpcyBpcyBqdXN0IGEgc2FmZXR5IG5ldCBpbiBjYXNlIGV2ZW50LnRpbWVTdGFtcCBpcyB1bnJlbGlhYmxlIGluCiAgICAgICAgICAvLyBjZXJ0YWluIHdlaXJkIGVudmlyb25tZW50cy4uLgogICAgICAgICAgZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCB8fAogICAgICAgICAgLy8gZXZlbnQgaXMgZmlyZWQgYWZ0ZXIgaGFuZGxlciBhdHRhY2htZW50CiAgICAgICAgICBlLnRpbWVTdGFtcCA+PSBhdHRhY2hlZFRpbWVzdGFtcCB8fAogICAgICAgICAgLy8gYmFpbCBmb3IgZW52aXJvbm1lbnRzIHRoYXQgaGF2ZSBidWdneSBldmVudC50aW1lU3RhbXAgaW1wbGVtZW50YXRpb25zCiAgICAgICAgICAvLyAjOTQ2MiBpT1MgOSBidWc6IGV2ZW50LnRpbWVTdGFtcCBpcyAwIGFmdGVyIGhpc3RvcnkucHVzaFN0YXRlCiAgICAgICAgICAvLyAjOTY4MSBRdFdlYkVuZ2luZSBldmVudC50aW1lU3RhbXAgaXMgbmVnYXRpdmUgdmFsdWUKICAgICAgICAgIGUudGltZVN0YW1wIDw9IDAgfHwKICAgICAgICAgIC8vICM5NDQ4IGJhaWwgaWYgZXZlbnQgaXMgZmlyZWQgaW4gYW5vdGhlciBkb2N1bWVudCBpbiBhIG11bHRpLXBhZ2UKICAgICAgICAgIC8vIGVsZWN0cm9uL253LmpzIGFwcCwgc2luY2UgZXZlbnQudGltZVN0YW1wIHdpbGwgYmUgdXNpbmcgYSBkaWZmZXJlbnQKICAgICAgICAgIC8vIHN0YXJ0aW5nIHJlZmVyZW5jZQogICAgICAgICAgZS50YXJnZXQub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQKICAgICAgICApIHsKICAgICAgICAgIHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpCiAgICAgICAgfQogICAgICB9OwogICAgfQogICAgdGFyZ2V0JDEuYWRkRXZlbnRMaXN0ZW5lcigKICAgICAgbmFtZSwKICAgICAgaGFuZGxlciwKICAgICAgc3VwcG9ydHNQYXNzaXZlCiAgICAgICAgPyB7IGNhcHR1cmU6IGNhcHR1cmUsIHBhc3NpdmU6IHBhc3NpdmUgfQogICAgICAgIDogY2FwdHVyZQogICAgKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZSQyICgKICAgIG5hbWUsCiAgICBoYW5kbGVyLAogICAgY2FwdHVyZSwKICAgIF90YXJnZXQKICApIHsKICAgIChfdGFyZ2V0IHx8IHRhcmdldCQxKS5yZW1vdmVFdmVudExpc3RlbmVyKAogICAgICBuYW1lLAogICAgICBoYW5kbGVyLl93cmFwcGVyIHx8IGhhbmRsZXIsCiAgICAgIGNhcHR1cmUKICAgICk7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVET01MaXN0ZW5lcnMgKG9sZFZub2RlLCB2bm9kZSkgewogICAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5vbikgJiYgaXNVbmRlZih2bm9kZS5kYXRhLm9uKSkgewogICAgICByZXR1cm4KICAgIH0KICAgIHZhciBvbiA9IHZub2RlLmRhdGEub24gfHwge307CiAgICB2YXIgb2xkT24gPSBvbGRWbm9kZS5kYXRhLm9uIHx8IHt9OwogICAgdGFyZ2V0JDEgPSB2bm9kZS5lbG07CiAgICBub3JtYWxpemVFdmVudHMob24pOwogICAgdXBkYXRlTGlzdGVuZXJzKG9uLCBvbGRPbiwgYWRkJDEsIHJlbW92ZSQyLCBjcmVhdGVPbmNlSGFuZGxlciQxLCB2bm9kZS5jb250ZXh0KTsKICAgIHRhcmdldCQxID0gdW5kZWZpbmVkOwogIH0KCiAgdmFyIGV2ZW50cyA9IHsKICAgIGNyZWF0ZTogdXBkYXRlRE9NTGlzdGVuZXJzLAogICAgdXBkYXRlOiB1cGRhdGVET01MaXN0ZW5lcnMKICB9OwoKICAvKiAgKi8KCiAgdmFyIHN2Z0NvbnRhaW5lcjsKCiAgZnVuY3Rpb24gdXBkYXRlRE9NUHJvcHMgKG9sZFZub2RlLCB2bm9kZSkgewogICAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5kb21Qcm9wcykgJiYgaXNVbmRlZih2bm9kZS5kYXRhLmRvbVByb3BzKSkgewogICAgICByZXR1cm4KICAgIH0KICAgIHZhciBrZXksIGN1cjsKICAgIHZhciBlbG0gPSB2bm9kZS5lbG07CiAgICB2YXIgb2xkUHJvcHMgPSBvbGRWbm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9OwogICAgdmFyIHByb3BzID0gdm5vZGUuZGF0YS5kb21Qcm9wcyB8fCB7fTsKICAgIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdAogICAgaWYgKGlzRGVmKHByb3BzLl9fb2JfXykpIHsKICAgICAgcHJvcHMgPSB2bm9kZS5kYXRhLmRvbVByb3BzID0gZXh0ZW5kKHt9LCBwcm9wcyk7CiAgICB9CgogICAgZm9yIChrZXkgaW4gb2xkUHJvcHMpIHsKICAgICAgaWYgKCEoa2V5IGluIHByb3BzKSkgewogICAgICAgIGVsbVtrZXldID0gJyc7CiAgICAgIH0KICAgIH0KCiAgICBmb3IgKGtleSBpbiBwcm9wcykgewogICAgICBjdXIgPSBwcm9wc1trZXldOwogICAgICAvLyBpZ25vcmUgY2hpbGRyZW4gaWYgdGhlIG5vZGUgaGFzIHRleHRDb250ZW50IG9yIGlubmVySFRNTCwKICAgICAgLy8gYXMgdGhlc2Ugd2lsbCB0aHJvdyBhd2F5IGV4aXN0aW5nIERPTSBub2RlcyBhbmQgY2F1c2UgcmVtb3ZhbCBlcnJvcnMKICAgICAgLy8gb24gc3Vic2VxdWVudCBwYXRjaGVzICgjMzM2MCkKICAgICAgaWYgKGtleSA9PT0gJ3RleHRDb250ZW50JyB8fCBrZXkgPT09ICdpbm5lckhUTUwnKSB7CiAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuKSB7IHZub2RlLmNoaWxkcmVuLmxlbmd0aCA9IDA7IH0KICAgICAgICBpZiAoY3VyID09PSBvbGRQcm9wc1trZXldKSB7IGNvbnRpbnVlIH0KICAgICAgICAvLyAjNjYwMSB3b3JrIGFyb3VuZCBDaHJvbWUgdmVyc2lvbiA8PSA1NSBidWcgd2hlcmUgc2luZ2xlIHRleHROb2RlCiAgICAgICAgLy8gcmVwbGFjZWQgYnkgaW5uZXJIVE1ML3RleHRDb250ZW50IHJldGFpbnMgaXRzIHBhcmVudE5vZGUgcHJvcGVydHkKICAgICAgICBpZiAoZWxtLmNoaWxkTm9kZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICBlbG0ucmVtb3ZlQ2hpbGQoZWxtLmNoaWxkTm9kZXNbMF0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGtleSA9PT0gJ3ZhbHVlJyAmJiBlbG0udGFnTmFtZSAhPT0gJ1BST0dSRVNTJykgewogICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlCiAgICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZAogICAgICAgIGVsbS5fdmFsdWUgPSBjdXI7CiAgICAgICAgLy8gYXZvaWQgcmVzZXR0aW5nIGN1cnNvciBwb3NpdGlvbiB3aGVuIHZhbHVlIGlzIHRoZSBzYW1lCiAgICAgICAgdmFyIHN0ckN1ciA9IGlzVW5kZWYoY3VyKSA/ICcnIDogU3RyaW5nKGN1cik7CiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZVZhbHVlKGVsbSwgc3RyQ3VyKSkgewogICAgICAgICAgZWxtLnZhbHVlID0gc3RyQ3VyOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdpbm5lckhUTUwnICYmIGlzU1ZHKGVsbS50YWdOYW1lKSAmJiBpc1VuZGVmKGVsbS5pbm5lckhUTUwpKSB7CiAgICAgICAgLy8gSUUgZG9lc24ndCBzdXBwb3J0IGlubmVySFRNTCBmb3IgU1ZHIGVsZW1lbnRzCiAgICAgICAgc3ZnQ29udGFpbmVyID0gc3ZnQ29udGFpbmVyIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHN2Z0NvbnRhaW5lci5pbm5lckhUTUwgPSAiPHN2Zz4iICsgY3VyICsgIjwvc3ZnPiI7CiAgICAgICAgdmFyIHN2ZyA9IHN2Z0NvbnRhaW5lci5maXJzdENoaWxkOwogICAgICAgIHdoaWxlIChlbG0uZmlyc3RDaGlsZCkgewogICAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5maXJzdENoaWxkKTsKICAgICAgICB9CiAgICAgICAgd2hpbGUgKHN2Zy5maXJzdENoaWxkKSB7CiAgICAgICAgICBlbG0uYXBwZW5kQ2hpbGQoc3ZnLmZpcnN0Q2hpbGQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICgKICAgICAgICAvLyBza2lwIHRoZSB1cGRhdGUgaWYgb2xkIGFuZCBuZXcgVkRPTSBzdGF0ZSBpcyB0aGUgc2FtZS4KICAgICAgICAvLyBgdmFsdWVgIGlzIGhhbmRsZWQgc2VwYXJhdGVseSBiZWNhdXNlIHRoZSBET00gdmFsdWUgbWF5IGJlIHRlbXBvcmFyaWx5CiAgICAgICAgLy8gb3V0IG9mIHN5bmMgd2l0aCBWRE9NIHN0YXRlIGR1ZSB0byBmb2N1cywgY29tcG9zaXRpb24gYW5kIG1vZGlmaWVycy4KICAgICAgICAvLyBUaGlzICAjNDUyMSBieSBza2lwcGluZyB0aGUgdW5uZWNlc2FycnkgYGNoZWNrZWRgIHVwZGF0ZS4KICAgICAgICBjdXIgIT09IG9sZFByb3BzW2tleV0KICAgICAgKSB7CiAgICAgICAgLy8gc29tZSBwcm9wZXJ0eSB1cGRhdGVzIGNhbiB0aHJvdwogICAgICAgIC8vIGUuZy4gYHZhbHVlYCBvbiA8cHJvZ3Jlc3M+IHcvIG5vbi1maW5pdGUgdmFsdWUKICAgICAgICB0cnkgewogICAgICAgICAgZWxtW2tleV0gPSBjdXI7CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfQogICAgfQogIH0KCiAgLy8gY2hlY2sgcGxhdGZvcm1zL3dlYi91dGlsL2F0dHJzLmpzIGFjY2VwdFZhbHVlCgoKICBmdW5jdGlvbiBzaG91bGRVcGRhdGVWYWx1ZSAoZWxtLCBjaGVja1ZhbCkgewogICAgcmV0dXJuICghZWxtLmNvbXBvc2luZyAmJiAoCiAgICAgIGVsbS50YWdOYW1lID09PSAnT1BUSU9OJyB8fAogICAgICBpc05vdEluRm9jdXNBbmREaXJ0eShlbG0sIGNoZWNrVmFsKSB8fAogICAgICBpc0RpcnR5V2l0aE1vZGlmaWVycyhlbG0sIGNoZWNrVmFsKQogICAgKSkKICB9CgogIGZ1bmN0aW9uIGlzTm90SW5Gb2N1c0FuZERpcnR5IChlbG0sIGNoZWNrVmFsKSB7CiAgICAvLyByZXR1cm4gdHJ1ZSB3aGVuIHRleHRib3ggKC5udW1iZXIgYW5kIC50cmltKSBsb3NlcyBmb2N1cyBhbmQgaXRzIHZhbHVlIGlzCiAgICAvLyBub3QgZXF1YWwgdG8gdGhlIHVwZGF0ZWQgdmFsdWUKICAgIHZhciBub3RJbkZvY3VzID0gdHJ1ZTsKICAgIC8vICM2MTU3CiAgICAvLyB3b3JrIGFyb3VuZCBJRSBidWcgd2hlbiBhY2Nlc3NpbmcgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbiBhbiBpZnJhbWUKICAgIHRyeSB7IG5vdEluRm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBlbG07IH0gY2F0Y2ggKGUpIHt9CiAgICByZXR1cm4gbm90SW5Gb2N1cyAmJiBlbG0udmFsdWUgIT09IGNoZWNrVmFsCiAgfQoKICBmdW5jdGlvbiBpc0RpcnR5V2l0aE1vZGlmaWVycyAoZWxtLCBuZXdWYWwpIHsKICAgIHZhciB2YWx1ZSA9IGVsbS52YWx1ZTsKICAgIHZhciBtb2RpZmllcnMgPSBlbG0uX3ZNb2RpZmllcnM7IC8vIGluamVjdGVkIGJ5IHYtbW9kZWwgcnVudGltZQogICAgaWYgKGlzRGVmKG1vZGlmaWVycykpIHsKICAgICAgaWYgKG1vZGlmaWVycy5udW1iZXIpIHsKICAgICAgICByZXR1cm4gdG9OdW1iZXIodmFsdWUpICE9PSB0b051bWJlcihuZXdWYWwpCiAgICAgIH0KICAgICAgaWYgKG1vZGlmaWVycy50cmltKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLnRyaW0oKSAhPT0gbmV3VmFsLnRyaW0oKQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdmFsdWUgIT09IG5ld1ZhbAogIH0KCiAgdmFyIGRvbVByb3BzID0gewogICAgY3JlYXRlOiB1cGRhdGVET01Qcm9wcywKICAgIHVwZGF0ZTogdXBkYXRlRE9NUHJvcHMKICB9OwoKICAvKiAgKi8KCiAgdmFyIHBhcnNlU3R5bGVUZXh0ID0gY2FjaGVkKGZ1bmN0aW9uIChjc3NUZXh0KSB7CiAgICB2YXIgcmVzID0ge307CiAgICB2YXIgbGlzdERlbGltaXRlciA9IC87KD8hW14oXSpcKSkvZzsKICAgIHZhciBwcm9wZXJ0eURlbGltaXRlciA9IC86KC4rKS87CiAgICBjc3NUZXh0LnNwbGl0KGxpc3REZWxpbWl0ZXIpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICB2YXIgdG1wID0gaXRlbS5zcGxpdChwcm9wZXJ0eURlbGltaXRlcik7CiAgICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJlc1t0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiByZXMKICB9KTsKCiAgLy8gbWVyZ2Ugc3RhdGljIGFuZCBkeW5hbWljIHN0eWxlIGRhdGEgb24gdGhlIHNhbWUgdm5vZGUKICBmdW5jdGlvbiBub3JtYWxpemVTdHlsZURhdGEgKGRhdGEpIHsKICAgIHZhciBzdHlsZSA9IG5vcm1hbGl6ZVN0eWxlQmluZGluZyhkYXRhLnN0eWxlKTsKICAgIC8vIHN0YXRpYyBzdHlsZSBpcyBwcmUtcHJvY2Vzc2VkIGludG8gYW4gb2JqZWN0IGR1cmluZyBjb21waWxhdGlvbgogICAgLy8gYW5kIGlzIGFsd2F5cyBhIGZyZXNoIG9iamVjdCwgc28gaXQncyBzYWZlIHRvIG1lcmdlIGludG8gaXQKICAgIHJldHVybiBkYXRhLnN0YXRpY1N0eWxlCiAgICAgID8gZXh0ZW5kKGRhdGEuc3RhdGljU3R5bGUsIHN0eWxlKQogICAgICA6IHN0eWxlCiAgfQoKICAvLyBub3JtYWxpemUgcG9zc2libGUgYXJyYXkgLyBzdHJpbmcgdmFsdWVzIGludG8gT2JqZWN0CiAgZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVCaW5kaW5nIChiaW5kaW5nU3R5bGUpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGJpbmRpbmdTdHlsZSkpIHsKICAgICAgcmV0dXJuIHRvT2JqZWN0KGJpbmRpbmdTdHlsZSkKICAgIH0KICAgIGlmICh0eXBlb2YgYmluZGluZ1N0eWxlID09PSAnc3RyaW5nJykgewogICAgICByZXR1cm4gcGFyc2VTdHlsZVRleHQoYmluZGluZ1N0eWxlKQogICAgfQogICAgcmV0dXJuIGJpbmRpbmdTdHlsZQogIH0KCiAgLyoqCiAgICogcGFyZW50IGNvbXBvbmVudCBzdHlsZSBzaG91bGQgYmUgYWZ0ZXIgY2hpbGQncwogICAqIHNvIHRoYXQgcGFyZW50IGNvbXBvbmVudCdzIHN0eWxlIGNvdWxkIG92ZXJyaWRlIGl0CiAgICovCiAgZnVuY3Rpb24gZ2V0U3R5bGUgKHZub2RlLCBjaGVja0NoaWxkKSB7CiAgICB2YXIgcmVzID0ge307CiAgICB2YXIgc3R5bGVEYXRhOwoKICAgIGlmIChjaGVja0NoaWxkKSB7CiAgICAgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTsKICAgICAgd2hpbGUgKGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZSkgewogICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGU7CiAgICAgICAgaWYgKAogICAgICAgICAgY2hpbGROb2RlICYmIGNoaWxkTm9kZS5kYXRhICYmCiAgICAgICAgICAoc3R5bGVEYXRhID0gbm9ybWFsaXplU3R5bGVEYXRhKGNoaWxkTm9kZS5kYXRhKSkKICAgICAgICApIHsKICAgICAgICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEodm5vZGUuZGF0YSkpKSB7CiAgICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7CiAgICB9CgogICAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTsKICAgIHdoaWxlICgocGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50KSkgewogICAgICBpZiAocGFyZW50Tm9kZS5kYXRhICYmIChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEocGFyZW50Tm9kZS5kYXRhKSkpIHsKICAgICAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzCiAgfQoKICAvKiAgKi8KCiAgdmFyIGNzc1ZhclJFID0gL14tLS87CiAgdmFyIGltcG9ydGFudFJFID0gL1xzKiFpbXBvcnRhbnQkLzsKICB2YXIgc2V0UHJvcCA9IGZ1bmN0aW9uIChlbCwgbmFtZSwgdmFsKSB7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChjc3NWYXJSRS50ZXN0KG5hbWUpKSB7CiAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7CiAgICB9IGVsc2UgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkgewogICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShoeXBoZW5hdGUobmFtZSksIHZhbC5yZXBsYWNlKGltcG9ydGFudFJFLCAnJyksICdpbXBvcnRhbnQnKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZShuYW1lKTsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgewogICAgICAgIC8vIFN1cHBvcnQgdmFsdWVzIGFycmF5IGNyZWF0ZWQgYnkgYXV0b3ByZWZpeGVyLCBlLmcuCiAgICAgICAgLy8ge2Rpc3BsYXk6IFsiLXdlYmtpdC1ib3giLCAiLW1zLWZsZXhib3giLCAiZmxleCJdfQogICAgICAgIC8vIFNldCB0aGVtIG9uZSBieSBvbmUsIGFuZCB0aGUgYnJvd3NlciB3aWxsIG9ubHkgc2V0IHRob3NlIGl0IGNhbiByZWNvZ25pemUKICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICBlbC5zdHlsZVtub3JtYWxpemVkTmFtZV0gPSB2YWxbaV07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGVsLnN0eWxlW25vcm1hbGl6ZWROYW1lXSA9IHZhbDsKICAgICAgfQogICAgfQogIH07CgogIHZhciB2ZW5kb3JOYW1lcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddOwoKICB2YXIgZW1wdHlTdHlsZTsKICB2YXIgbm9ybWFsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChwcm9wKSB7CiAgICBlbXB0eVN0eWxlID0gZW1wdHlTdHlsZSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTsKICAgIHByb3AgPSBjYW1lbGl6ZShwcm9wKTsKICAgIGlmIChwcm9wICE9PSAnZmlsdGVyJyAmJiAocHJvcCBpbiBlbXB0eVN0eWxlKSkgewogICAgICByZXR1cm4gcHJvcAogICAgfQogICAgdmFyIGNhcE5hbWUgPSBwcm9wLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zbGljZSgxKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVuZG9yTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIG5hbWUgPSB2ZW5kb3JOYW1lc1tpXSArIGNhcE5hbWU7CiAgICAgIGlmIChuYW1lIGluIGVtcHR5U3R5bGUpIHsKICAgICAgICByZXR1cm4gbmFtZQogICAgICB9CiAgICB9CiAgfSk7CgogIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChvbGRWbm9kZSwgdm5vZGUpIHsKICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTsKICAgIHZhciBvbGREYXRhID0gb2xkVm5vZGUuZGF0YTsKCiAgICBpZiAoaXNVbmRlZihkYXRhLnN0YXRpY1N0eWxlKSAmJiBpc1VuZGVmKGRhdGEuc3R5bGUpICYmCiAgICAgIGlzVW5kZWYob2xkRGF0YS5zdGF0aWNTdHlsZSkgJiYgaXNVbmRlZihvbGREYXRhLnN0eWxlKQogICAgKSB7CiAgICAgIHJldHVybgogICAgfQoKICAgIHZhciBjdXIsIG5hbWU7CiAgICB2YXIgZWwgPSB2bm9kZS5lbG07CiAgICB2YXIgb2xkU3RhdGljU3R5bGUgPSBvbGREYXRhLnN0YXRpY1N0eWxlOwogICAgdmFyIG9sZFN0eWxlQmluZGluZyA9IG9sZERhdGEubm9ybWFsaXplZFN0eWxlIHx8IG9sZERhdGEuc3R5bGUgfHwge307CgogICAgLy8gaWYgc3RhdGljIHN0eWxlIGV4aXN0cywgc3R5bGViaW5kaW5nIGFscmVhZHkgbWVyZ2VkIGludG8gaXQgd2hlbiBkb2luZyBub3JtYWxpemVTdHlsZURhdGEKICAgIHZhciBvbGRTdHlsZSA9IG9sZFN0YXRpY1N0eWxlIHx8IG9sZFN0eWxlQmluZGluZzsKCiAgICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcodm5vZGUuZGF0YS5zdHlsZSkgfHwge307CgogICAgLy8gc3RvcmUgbm9ybWFsaXplZCBzdHlsZSB1bmRlciBhIGRpZmZlcmVudCBrZXkgZm9yIG5leHQgZGlmZgogICAgLy8gbWFrZSBzdXJlIHRvIGNsb25lIGl0IGlmIGl0J3MgcmVhY3RpdmUsIHNpbmNlIHRoZSB1c2VyIGxpa2VseSB3YW50cwogICAgLy8gdG8gbXV0YXRlIGl0LgogICAgdm5vZGUuZGF0YS5ub3JtYWxpemVkU3R5bGUgPSBpc0RlZihzdHlsZS5fX29iX18pCiAgICAgID8gZXh0ZW5kKHt9LCBzdHlsZSkKICAgICAgOiBzdHlsZTsKCiAgICB2YXIgbmV3U3R5bGUgPSBnZXRTdHlsZSh2bm9kZSwgdHJ1ZSk7CgogICAgZm9yIChuYW1lIGluIG9sZFN0eWxlKSB7CiAgICAgIGlmIChpc1VuZGVmKG5ld1N0eWxlW25hbWVdKSkgewogICAgICAgIHNldFByb3AoZWwsIG5hbWUsICcnKTsKICAgICAgfQogICAgfQogICAgZm9yIChuYW1lIGluIG5ld1N0eWxlKSB7CiAgICAgIGN1ciA9IG5ld1N0eWxlW25hbWVdOwogICAgICBpZiAoY3VyICE9PSBvbGRTdHlsZVtuYW1lXSkgewogICAgICAgIC8vIGllOSBzZXR0aW5nIHRvIG51bGwgaGFzIG5vIGVmZmVjdCwgbXVzdCB1c2UgZW1wdHkgc3RyaW5nCiAgICAgICAgc2V0UHJvcChlbCwgbmFtZSwgY3VyID09IG51bGwgPyAnJyA6IGN1cik7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciBzdHlsZSA9IHsKICAgIGNyZWF0ZTogdXBkYXRlU3R5bGUsCiAgICB1cGRhdGU6IHVwZGF0ZVN0eWxlCiAgfTsKCiAgLyogICovCgogIHZhciB3aGl0ZXNwYWNlUkUgPSAvXHMrLzsKCiAgLyoqCiAgICogQWRkIGNsYXNzIHdpdGggY29tcGF0aWJpbGl0eSBmb3IgU1ZHIHNpbmNlIGNsYXNzTGlzdCBpcyBub3Qgc3VwcG9ydGVkIG9uCiAgICogU1ZHIGVsZW1lbnRzIGluIElFCiAgICovCiAgZnVuY3Rpb24gYWRkQ2xhc3MgKGVsLCBjbHMpIHsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKCFjbHMgfHwgIShjbHMgPSBjbHMudHJpbSgpKSkgewogICAgICByZXR1cm4KICAgIH0KCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgaWYgKGVsLmNsYXNzTGlzdCkgewogICAgICBpZiAoY2xzLmluZGV4T2YoJyAnKSA+IC0xKSB7CiAgICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LmFkZChjKTsgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbHMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgY3VyID0gIiAiICsgKGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAiICI7CiAgICAgIGlmIChjdXIuaW5kZXhPZignICcgKyBjbHMgKyAnICcpIDwgMCkgewogICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoY3VyICsgY2xzKS50cmltKCkpOwogICAgICB9CiAgICB9CiAgfQoKICAvKioKICAgKiBSZW1vdmUgY2xhc3Mgd2l0aCBjb21wYXRpYmlsaXR5IGZvciBTVkcgc2luY2UgY2xhc3NMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgb24KICAgKiBTVkcgZWxlbWVudHMgaW4gSUUKICAgKi8KICBmdW5jdGlvbiByZW1vdmVDbGFzcyAoZWwsIGNscykgewogICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICBpZiAoIWNscyB8fCAhKGNscyA9IGNscy50cmltKCkpKSB7CiAgICAgIHJldHVybgogICAgfQoKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICBpZiAoZWwuY2xhc3NMaXN0KSB7CiAgICAgIGlmIChjbHMuaW5kZXhPZignICcpID4gLTEpIHsKICAgICAgICBjbHMuc3BsaXQod2hpdGVzcGFjZVJFKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IHJldHVybiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpOyB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNscyk7CiAgICAgIH0KICAgICAgaWYgKCFlbC5jbGFzc0xpc3QubGVuZ3RoKSB7CiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgY3VyID0gIiAiICsgKGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAiICI7CiAgICAgIHZhciB0YXIgPSAnICcgKyBjbHMgKyAnICc7CiAgICAgIHdoaWxlIChjdXIuaW5kZXhPZih0YXIpID49IDApIHsKICAgICAgICBjdXIgPSBjdXIucmVwbGFjZSh0YXIsICcgJyk7CiAgICAgIH0KICAgICAgY3VyID0gY3VyLnRyaW0oKTsKICAgICAgaWYgKGN1cikgewogICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjdXIpOwogICAgICB9IGVsc2UgewogICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTsKICAgICAgfQogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uIChkZWYkJDEpIHsKICAgIGlmICghZGVmJCQxKSB7CiAgICAgIHJldHVybgogICAgfQogICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KICAgIGlmICh0eXBlb2YgZGVmJCQxID09PSAnb2JqZWN0JykgewogICAgICB2YXIgcmVzID0ge307CiAgICAgIGlmIChkZWYkJDEuY3NzICE9PSBmYWxzZSkgewogICAgICAgIGV4dGVuZChyZXMsIGF1dG9Dc3NUcmFuc2l0aW9uKGRlZiQkMS5uYW1lIHx8ICd2JykpOwogICAgICB9CiAgICAgIGV4dGVuZChyZXMsIGRlZiQkMSk7CiAgICAgIHJldHVybiByZXMKICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZiQkMSA9PT0gJ3N0cmluZycpIHsKICAgICAgcmV0dXJuIGF1dG9Dc3NUcmFuc2l0aW9uKGRlZiQkMSkKICAgIH0KICB9CgogIHZhciBhdXRvQ3NzVHJhbnNpdGlvbiA9IGNhY2hlZChmdW5jdGlvbiAobmFtZSkgewogICAgcmV0dXJuIHsKICAgICAgZW50ZXJDbGFzczogKG5hbWUgKyAiLWVudGVyIiksCiAgICAgIGVudGVyVG9DbGFzczogKG5hbWUgKyAiLWVudGVyLXRvIiksCiAgICAgIGVudGVyQWN0aXZlQ2xhc3M6IChuYW1lICsgIi1lbnRlci1hY3RpdmUiKSwKICAgICAgbGVhdmVDbGFzczogKG5hbWUgKyAiLWxlYXZlIiksCiAgICAgIGxlYXZlVG9DbGFzczogKG5hbWUgKyAiLWxlYXZlLXRvIiksCiAgICAgIGxlYXZlQWN0aXZlQ2xhc3M6IChuYW1lICsgIi1sZWF2ZS1hY3RpdmUiKQogICAgfQogIH0pOwoKICB2YXIgaGFzVHJhbnNpdGlvbiA9IGluQnJvd3NlciAmJiAhaXNJRTk7CiAgdmFyIFRSQU5TSVRJT04gPSAndHJhbnNpdGlvbic7CiAgdmFyIEFOSU1BVElPTiA9ICdhbmltYXRpb24nOwoKICAvLyBUcmFuc2l0aW9uIHByb3BlcnR5L2V2ZW50IHNuaWZmaW5nCiAgdmFyIHRyYW5zaXRpb25Qcm9wID0gJ3RyYW5zaXRpb24nOwogIHZhciB0cmFuc2l0aW9uRW5kRXZlbnQgPSAndHJhbnNpdGlvbmVuZCc7CiAgdmFyIGFuaW1hdGlvblByb3AgPSAnYW5pbWF0aW9uJzsKICB2YXIgYW5pbWF0aW9uRW5kRXZlbnQgPSAnYW5pbWF0aW9uZW5kJzsKICBpZiAoaGFzVHJhbnNpdGlvbikgewogICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICBpZiAod2luZG93Lm9udHJhbnNpdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmCiAgICAgIHdpbmRvdy5vbndlYmtpdHRyYW5zaXRpb25lbmQgIT09IHVuZGVmaW5lZAogICAgKSB7CiAgICAgIHRyYW5zaXRpb25Qcm9wID0gJ1dlYmtpdFRyYW5zaXRpb24nOwogICAgICB0cmFuc2l0aW9uRW5kRXZlbnQgPSAnd2Via2l0VHJhbnNpdGlvbkVuZCc7CiAgICB9CiAgICBpZiAod2luZG93Lm9uYW5pbWF0aW9uZW5kID09PSB1bmRlZmluZWQgJiYKICAgICAgd2luZG93Lm9ud2Via2l0YW5pbWF0aW9uZW5kICE9PSB1bmRlZmluZWQKICAgICkgewogICAgICBhbmltYXRpb25Qcm9wID0gJ1dlYmtpdEFuaW1hdGlvbic7CiAgICAgIGFuaW1hdGlvbkVuZEV2ZW50ID0gJ3dlYmtpdEFuaW1hdGlvbkVuZCc7CiAgICB9CiAgfQoKICAvLyBiaW5kaW5nIHRvIHdpbmRvdyBpcyBuZWNlc3NhcnkgdG8gbWFrZSBob3QgcmVsb2FkIHdvcmsgaW4gSUUgaW4gc3RyaWN0IG1vZGUKICB2YXIgcmFmID0gaW5Ccm93c2VyCiAgICA/IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUKICAgICAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KQogICAgICA6IHNldFRpbWVvdXQKICAgIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmbigpOyB9OwoKICBmdW5jdGlvbiBuZXh0RnJhbWUgKGZuKSB7CiAgICByYWYoZnVuY3Rpb24gKCkgewogICAgICByYWYoZm4pOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHsKICAgIHZhciB0cmFuc2l0aW9uQ2xhc3NlcyA9IGVsLl90cmFuc2l0aW9uQ2xhc3NlcyB8fCAoZWwuX3RyYW5zaXRpb25DbGFzc2VzID0gW10pOwogICAgaWYgKHRyYW5zaXRpb25DbGFzc2VzLmluZGV4T2YoY2xzKSA8IDApIHsKICAgICAgdHJhbnNpdGlvbkNsYXNzZXMucHVzaChjbHMpOwogICAgICBhZGRDbGFzcyhlbCwgY2xzKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyAoZWwsIGNscykgewogICAgaWYgKGVsLl90cmFuc2l0aW9uQ2xhc3NlcykgewogICAgICByZW1vdmUoZWwuX3RyYW5zaXRpb25DbGFzc2VzLCBjbHMpOwogICAgfQogICAgcmVtb3ZlQ2xhc3MoZWwsIGNscyk7CiAgfQoKICBmdW5jdGlvbiB3aGVuVHJhbnNpdGlvbkVuZHMgKAogICAgZWwsCiAgICBleHBlY3RlZFR5cGUsCiAgICBjYgogICkgewogICAgdmFyIHJlZiA9IGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpOwogICAgdmFyIHR5cGUgPSByZWYudHlwZTsKICAgIHZhciB0aW1lb3V0ID0gcmVmLnRpbWVvdXQ7CiAgICB2YXIgcHJvcENvdW50ID0gcmVmLnByb3BDb3VudDsKICAgIGlmICghdHlwZSkgeyByZXR1cm4gY2IoKSB9CiAgICB2YXIgZXZlbnQgPSB0eXBlID09PSBUUkFOU0lUSU9OID8gdHJhbnNpdGlvbkVuZEV2ZW50IDogYW5pbWF0aW9uRW5kRXZlbnQ7CiAgICB2YXIgZW5kZWQgPSAwOwogICAgdmFyIGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpOwogICAgICBjYigpOwogICAgfTsKICAgIHZhciBvbkVuZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlLnRhcmdldCA9PT0gZWwpIHsKICAgICAgICBpZiAoKytlbmRlZCA+PSBwcm9wQ291bnQpIHsKICAgICAgICAgIGVuZCgpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHsKICAgICAgICBlbmQoKTsKICAgICAgfQogICAgfSwgdGltZW91dCArIDEpOwogICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpOwogIH0KCiAgdmFyIHRyYW5zZm9ybVJFID0gL1xiKHRyYW5zZm9ybXxhbGwpKCx8JCkvOwoKICBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyAoZWwsIGV4cGVjdGVkVHlwZSkgewogICAgdmFyIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTsKICAgIC8vIEpTRE9NIG1heSByZXR1cm4gdW5kZWZpbmVkIGZvciB0cmFuc2l0aW9uIHByb3BlcnRpZXMKICAgIHZhciB0cmFuc2l0aW9uRGVsYXlzID0gKHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdEZWxheSddIHx8ICcnKS5zcGxpdCgnLCAnKTsKICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb25zID0gKHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdEdXJhdGlvbiddIHx8ICcnKS5zcGxpdCgnLCAnKTsKICAgIHZhciB0cmFuc2l0aW9uVGltZW91dCA9IGdldFRpbWVvdXQodHJhbnNpdGlvbkRlbGF5cywgdHJhbnNpdGlvbkR1cmF0aW9ucyk7CiAgICB2YXIgYW5pbWF0aW9uRGVsYXlzID0gKHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0RlbGF5J10gfHwgJycpLnNwbGl0KCcsICcpOwogICAgdmFyIGFuaW1hdGlvbkR1cmF0aW9ucyA9IChzdHlsZXNbYW5pbWF0aW9uUHJvcCArICdEdXJhdGlvbiddIHx8ICcnKS5zcGxpdCgnLCAnKTsKICAgIHZhciBhbmltYXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dChhbmltYXRpb25EZWxheXMsIGFuaW1hdGlvbkR1cmF0aW9ucyk7CgogICAgdmFyIHR5cGU7CiAgICB2YXIgdGltZW91dCA9IDA7CiAgICB2YXIgcHJvcENvdW50ID0gMDsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikgewogICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7CiAgICAgICAgdHlwZSA9IFRSQU5TSVRJT047CiAgICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0OwogICAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7CiAgICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkgewogICAgICAgIHR5cGUgPSBBTklNQVRJT047CiAgICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7CiAgICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTsKICAgICAgdHlwZSA9IHRpbWVvdXQgPiAwCiAgICAgICAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXQKICAgICAgICAgID8gVFJBTlNJVElPTgogICAgICAgICAgOiBBTklNQVRJT04KICAgICAgICA6IG51bGw7CiAgICAgIHByb3BDb3VudCA9IHR5cGUKICAgICAgICA/IHR5cGUgPT09IFRSQU5TSVRJT04KICAgICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGgKICAgICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aAogICAgICAgIDogMDsKICAgIH0KICAgIHZhciBoYXNUcmFuc2Zvcm0gPQogICAgICB0eXBlID09PSBUUkFOU0lUSU9OICYmCiAgICAgIHRyYW5zZm9ybVJFLnRlc3Qoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ1Byb3BlcnR5J10pOwogICAgcmV0dXJuIHsKICAgICAgdHlwZTogdHlwZSwKICAgICAgdGltZW91dDogdGltZW91dCwKICAgICAgcHJvcENvdW50OiBwcm9wQ291bnQsCiAgICAgIGhhc1RyYW5zZm9ybTogaGFzVHJhbnNmb3JtCiAgICB9CiAgfQoKICBmdW5jdGlvbiBnZXRUaW1lb3V0IChkZWxheXMsIGR1cmF0aW9ucykgewogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkgewogICAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7CiAgICB9CgogICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIGR1cmF0aW9ucy5tYXAoZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgcmV0dXJuIHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSkKICAgIH0pKQogIH0KCiAgLy8gT2xkIHZlcnNpb25zIG9mIENocm9taXVtIChiZWxvdyA2MS4wLjMxNjMuMTAwKSBmb3JtYXRzIGZsb2F0aW5nIHBvaW50ZXIgbnVtYmVycwogIC8vIGluIGEgbG9jYWxlLWRlcGVuZGVudCB3YXksIHVzaW5nIGEgY29tbWEgaW5zdGVhZCBvZiBhIGRvdC4KICAvLyBJZiBjb21tYSBpcyBub3QgcmVwbGFjZWQgd2l0aCBhIGRvdCwgdGhlIGlucHV0IHdpbGwgYmUgcm91bmRlZCBkb3duIChpLmUuIGFjdGluZwogIC8vIGFzIGEgZmxvb3IgZnVuY3Rpb24pIGNhdXNpbmcgdW5leHBlY3RlZCBiZWhhdmlvcnMKICBmdW5jdGlvbiB0b01zIChzKSB7CiAgICByZXR1cm4gTnVtYmVyKHMuc2xpY2UoMCwgLTEpLnJlcGxhY2UoJywnLCAnLicpKSAqIDEwMDAKICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiBlbnRlciAodm5vZGUsIHRvZ2dsZURpc3BsYXkpIHsKICAgIHZhciBlbCA9IHZub2RlLmVsbTsKCiAgICAvLyBjYWxsIGxlYXZlIGNhbGxiYWNrIG5vdwogICAgaWYgKGlzRGVmKGVsLl9sZWF2ZUNiKSkgewogICAgICBlbC5fbGVhdmVDYi5jYW5jZWxsZWQgPSB0cnVlOwogICAgICBlbC5fbGVhdmVDYigpOwogICAgfQoKICAgIHZhciBkYXRhID0gcmVzb2x2ZVRyYW5zaXRpb24odm5vZGUuZGF0YS50cmFuc2l0aW9uKTsKICAgIGlmIChpc1VuZGVmKGRhdGEpKSB7CiAgICAgIHJldHVybgogICAgfQoKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGlzRGVmKGVsLl9lbnRlckNiKSB8fCBlbC5ub2RlVHlwZSAhPT0gMSkgewogICAgICByZXR1cm4KICAgIH0KCiAgICB2YXIgY3NzID0gZGF0YS5jc3M7CiAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTsKICAgIHZhciBlbnRlckNsYXNzID0gZGF0YS5lbnRlckNsYXNzOwogICAgdmFyIGVudGVyVG9DbGFzcyA9IGRhdGEuZW50ZXJUb0NsYXNzOwogICAgdmFyIGVudGVyQWN0aXZlQ2xhc3MgPSBkYXRhLmVudGVyQWN0aXZlQ2xhc3M7CiAgICB2YXIgYXBwZWFyQ2xhc3MgPSBkYXRhLmFwcGVhckNsYXNzOwogICAgdmFyIGFwcGVhclRvQ2xhc3MgPSBkYXRhLmFwcGVhclRvQ2xhc3M7CiAgICB2YXIgYXBwZWFyQWN0aXZlQ2xhc3MgPSBkYXRhLmFwcGVhckFjdGl2ZUNsYXNzOwogICAgdmFyIGJlZm9yZUVudGVyID0gZGF0YS5iZWZvcmVFbnRlcjsKICAgIHZhciBlbnRlciA9IGRhdGEuZW50ZXI7CiAgICB2YXIgYWZ0ZXJFbnRlciA9IGRhdGEuYWZ0ZXJFbnRlcjsKICAgIHZhciBlbnRlckNhbmNlbGxlZCA9IGRhdGEuZW50ZXJDYW5jZWxsZWQ7CiAgICB2YXIgYmVmb3JlQXBwZWFyID0gZGF0YS5iZWZvcmVBcHBlYXI7CiAgICB2YXIgYXBwZWFyID0gZGF0YS5hcHBlYXI7CiAgICB2YXIgYWZ0ZXJBcHBlYXIgPSBkYXRhLmFmdGVyQXBwZWFyOwogICAgdmFyIGFwcGVhckNhbmNlbGxlZCA9IGRhdGEuYXBwZWFyQ2FuY2VsbGVkOwogICAgdmFyIGR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjsKCiAgICAvLyBhY3RpdmVJbnN0YW5jZSB3aWxsIGFsd2F5cyBiZSB0aGUgPHRyYW5zaXRpb24+IGNvbXBvbmVudCBtYW5hZ2luZyB0aGlzCiAgICAvLyB0cmFuc2l0aW9uLiBPbmUgZWRnZSBjYXNlIHRvIGNoZWNrIGlzIHdoZW4gdGhlIDx0cmFuc2l0aW9uPiBpcyBwbGFjZWQKICAgIC8vIGFzIHRoZSByb290IG5vZGUgb2YgYSBjaGlsZCBjb21wb25lbnQuIEluIHRoYXQgY2FzZSB3ZSBuZWVkIHRvIGNoZWNrCiAgICAvLyA8dHJhbnNpdGlvbj4ncyBwYXJlbnQgZm9yIGFwcGVhciBjaGVjay4KICAgIHZhciBjb250ZXh0ID0gYWN0aXZlSW5zdGFuY2U7CiAgICB2YXIgdHJhbnNpdGlvbk5vZGUgPSBhY3RpdmVJbnN0YW5jZS4kdm5vZGU7CiAgICB3aGlsZSAodHJhbnNpdGlvbk5vZGUgJiYgdHJhbnNpdGlvbk5vZGUucGFyZW50KSB7CiAgICAgIGNvbnRleHQgPSB0cmFuc2l0aW9uTm9kZS5jb250ZXh0OwogICAgICB0cmFuc2l0aW9uTm9kZSA9IHRyYW5zaXRpb25Ob2RlLnBhcmVudDsKICAgIH0KCiAgICB2YXIgaXNBcHBlYXIgPSAhY29udGV4dC5faXNNb3VudGVkIHx8ICF2bm9kZS5pc1Jvb3RJbnNlcnQ7CgogICAgaWYgKGlzQXBwZWFyICYmICFhcHBlYXIgJiYgYXBwZWFyICE9PSAnJykgewogICAgICByZXR1cm4KICAgIH0KCiAgICB2YXIgc3RhcnRDbGFzcyA9IGlzQXBwZWFyICYmIGFwcGVhckNsYXNzCiAgICAgID8gYXBwZWFyQ2xhc3MKICAgICAgOiBlbnRlckNsYXNzOwogICAgdmFyIGFjdGl2ZUNsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyQWN0aXZlQ2xhc3MKICAgICAgPyBhcHBlYXJBY3RpdmVDbGFzcwogICAgICA6IGVudGVyQWN0aXZlQ2xhc3M7CiAgICB2YXIgdG9DbGFzcyA9IGlzQXBwZWFyICYmIGFwcGVhclRvQ2xhc3MKICAgICAgPyBhcHBlYXJUb0NsYXNzCiAgICAgIDogZW50ZXJUb0NsYXNzOwoKICAgIHZhciBiZWZvcmVFbnRlckhvb2sgPSBpc0FwcGVhcgogICAgICA/IChiZWZvcmVBcHBlYXIgfHwgYmVmb3JlRW50ZXIpCiAgICAgIDogYmVmb3JlRW50ZXI7CiAgICB2YXIgZW50ZXJIb29rID0gaXNBcHBlYXIKICAgICAgPyAodHlwZW9mIGFwcGVhciA9PT0gJ2Z1bmN0aW9uJyA/IGFwcGVhciA6IGVudGVyKQogICAgICA6IGVudGVyOwogICAgdmFyIGFmdGVyRW50ZXJIb29rID0gaXNBcHBlYXIKICAgICAgPyAoYWZ0ZXJBcHBlYXIgfHwgYWZ0ZXJFbnRlcikKICAgICAgOiBhZnRlckVudGVyOwogICAgdmFyIGVudGVyQ2FuY2VsbGVkSG9vayA9IGlzQXBwZWFyCiAgICAgID8gKGFwcGVhckNhbmNlbGxlZCB8fCBlbnRlckNhbmNlbGxlZCkKICAgICAgOiBlbnRlckNhbmNlbGxlZDsKCiAgICB2YXIgZXhwbGljaXRFbnRlckR1cmF0aW9uID0gdG9OdW1iZXIoCiAgICAgIGlzT2JqZWN0KGR1cmF0aW9uKQogICAgICAgID8gZHVyYXRpb24uZW50ZXIKICAgICAgICA6IGR1cmF0aW9uCiAgICApOwoKICAgIGlmIChleHBsaWNpdEVudGVyRHVyYXRpb24gIT0gbnVsbCkgewogICAgICBjaGVja0R1cmF0aW9uKGV4cGxpY2l0RW50ZXJEdXJhdGlvbiwgJ2VudGVyJywgdm5vZGUpOwogICAgfQoKICAgIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7CiAgICB2YXIgdXNlcldhbnRzQ29udHJvbCA9IGdldEhvb2tBcmd1bWVudHNMZW5ndGgoZW50ZXJIb29rKTsKCiAgICB2YXIgY2IgPSBlbC5fZW50ZXJDYiA9IG9uY2UoZnVuY3Rpb24gKCkgewogICAgICBpZiAoZXhwZWN0c0NTUykgewogICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgdG9DbGFzcyk7CiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBhY3RpdmVDbGFzcyk7CiAgICAgIH0KICAgICAgaWYgKGNiLmNhbmNlbGxlZCkgewogICAgICAgIGlmIChleHBlY3RzQ1NTKSB7CiAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpOwogICAgICAgIH0KICAgICAgICBlbnRlckNhbmNlbGxlZEhvb2sgJiYgZW50ZXJDYW5jZWxsZWRIb29rKGVsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhZnRlckVudGVySG9vayAmJiBhZnRlckVudGVySG9vayhlbCk7CiAgICAgIH0KICAgICAgZWwuX2VudGVyQ2IgPSBudWxsOwogICAgfSk7CgogICAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHsKICAgICAgLy8gcmVtb3ZlIHBlbmRpbmcgbGVhdmUgZWxlbWVudCBvbiBlbnRlciBieSBpbmplY3RpbmcgYW4gaW5zZXJ0IGhvb2sKICAgICAgbWVyZ2VWTm9kZUhvb2sodm5vZGUsICdpbnNlcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7CiAgICAgICAgdmFyIHBlbmRpbmdOb2RlID0gcGFyZW50ICYmIHBhcmVudC5fcGVuZGluZyAmJiBwYXJlbnQuX3BlbmRpbmdbdm5vZGUua2V5XTsKICAgICAgICBpZiAocGVuZGluZ05vZGUgJiYKICAgICAgICAgIHBlbmRpbmdOb2RlLnRhZyA9PT0gdm5vZGUudGFnICYmCiAgICAgICAgICBwZW5kaW5nTm9kZS5lbG0uX2xlYXZlQ2IKICAgICAgICApIHsKICAgICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYigpOwogICAgICAgIH0KICAgICAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7CiAgICAgIH0pOwogICAgfQoKICAgIC8vIHN0YXJ0IGVudGVyIHRyYW5zaXRpb24KICAgIGJlZm9yZUVudGVySG9vayAmJiBiZWZvcmVFbnRlckhvb2soZWwpOwogICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTsKICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhY3RpdmVDbGFzcyk7CiAgICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTsKICAgICAgICBpZiAoIWNiLmNhbmNlbGxlZCkgewogICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCB0b0NsYXNzKTsKICAgICAgICAgIGlmICghdXNlcldhbnRzQ29udHJvbCkgewogICAgICAgICAgICBpZiAoaXNWYWxpZER1cmF0aW9uKGV4cGxpY2l0RW50ZXJEdXJhdGlvbikpIHsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNiLCBleHBsaWNpdEVudGVyRHVyYXRpb24pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgY2IpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBpZiAodm5vZGUuZGF0YS5zaG93KSB7CiAgICAgIHRvZ2dsZURpc3BsYXkgJiYgdG9nZ2xlRGlzcGxheSgpOwogICAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7CiAgICB9CgogICAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7CiAgICAgIGNiKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBsZWF2ZSAodm5vZGUsIHJtKSB7CiAgICB2YXIgZWwgPSB2bm9kZS5lbG07CgogICAgLy8gY2FsbCBlbnRlciBjYWxsYmFjayBub3cKICAgIGlmIChpc0RlZihlbC5fZW50ZXJDYikpIHsKICAgICAgZWwuX2VudGVyQ2IuY2FuY2VsbGVkID0gdHJ1ZTsKICAgICAgZWwuX2VudGVyQ2IoKTsKICAgIH0KCiAgICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7CiAgICBpZiAoaXNVbmRlZihkYXRhKSB8fCBlbC5ub2RlVHlwZSAhPT0gMSkgewogICAgICByZXR1cm4gcm0oKQogICAgfQoKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGlzRGVmKGVsLl9sZWF2ZUNiKSkgewogICAgICByZXR1cm4KICAgIH0KCiAgICB2YXIgY3NzID0gZGF0YS5jc3M7CiAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTsKICAgIHZhciBsZWF2ZUNsYXNzID0gZGF0YS5sZWF2ZUNsYXNzOwogICAgdmFyIGxlYXZlVG9DbGFzcyA9IGRhdGEubGVhdmVUb0NsYXNzOwogICAgdmFyIGxlYXZlQWN0aXZlQ2xhc3MgPSBkYXRhLmxlYXZlQWN0aXZlQ2xhc3M7CiAgICB2YXIgYmVmb3JlTGVhdmUgPSBkYXRhLmJlZm9yZUxlYXZlOwogICAgdmFyIGxlYXZlID0gZGF0YS5sZWF2ZTsKICAgIHZhciBhZnRlckxlYXZlID0gZGF0YS5hZnRlckxlYXZlOwogICAgdmFyIGxlYXZlQ2FuY2VsbGVkID0gZGF0YS5sZWF2ZUNhbmNlbGxlZDsKICAgIHZhciBkZWxheUxlYXZlID0gZGF0YS5kZWxheUxlYXZlOwogICAgdmFyIGR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjsKCiAgICB2YXIgZXhwZWN0c0NTUyA9IGNzcyAhPT0gZmFsc2UgJiYgIWlzSUU5OwogICAgdmFyIHVzZXJXYW50c0NvbnRyb2wgPSBnZXRIb29rQXJndW1lbnRzTGVuZ3RoKGxlYXZlKTsKCiAgICB2YXIgZXhwbGljaXRMZWF2ZUR1cmF0aW9uID0gdG9OdW1iZXIoCiAgICAgIGlzT2JqZWN0KGR1cmF0aW9uKQogICAgICAgID8gZHVyYXRpb24ubGVhdmUKICAgICAgICA6IGR1cmF0aW9uCiAgICApOwoKICAgIGlmIChpc0RlZihleHBsaWNpdExlYXZlRHVyYXRpb24pKSB7CiAgICAgIGNoZWNrRHVyYXRpb24oZXhwbGljaXRMZWF2ZUR1cmF0aW9uLCAnbGVhdmUnLCB2bm9kZSk7CiAgICB9CgogICAgdmFyIGNiID0gZWwuX2xlYXZlQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5fcGVuZGluZykgewogICAgICAgIGVsLnBhcmVudE5vZGUuX3BlbmRpbmdbdm5vZGUua2V5XSA9IG51bGw7CiAgICAgIH0KICAgICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7CiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTsKICAgICAgfQogICAgICBpZiAoY2IuY2FuY2VsbGVkKSB7CiAgICAgICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7CiAgICAgICAgfQogICAgICAgIGxlYXZlQ2FuY2VsbGVkICYmIGxlYXZlQ2FuY2VsbGVkKGVsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBybSgpOwogICAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZShlbCk7CiAgICAgIH0KICAgICAgZWwuX2xlYXZlQ2IgPSBudWxsOwogICAgfSk7CgogICAgaWYgKGRlbGF5TGVhdmUpIHsKICAgICAgZGVsYXlMZWF2ZShwZXJmb3JtTGVhdmUpOwogICAgfSBlbHNlIHsKICAgICAgcGVyZm9ybUxlYXZlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gcGVyZm9ybUxlYXZlICgpIHsKICAgICAgLy8gdGhlIGRlbGF5ZWQgbGVhdmUgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIGNhbmNlbGxlZAogICAgICBpZiAoY2IuY2FuY2VsbGVkKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgLy8gcmVjb3JkIGxlYXZpbmcgZWxlbWVudAogICAgICBpZiAoIXZub2RlLmRhdGEuc2hvdyAmJiBlbC5wYXJlbnROb2RlKSB7CiAgICAgICAgKGVsLnBhcmVudE5vZGUuX3BlbmRpbmcgfHwgKGVsLnBhcmVudE5vZGUuX3BlbmRpbmcgPSB7fSkpWyh2bm9kZS5rZXkpXSA9IHZub2RlOwogICAgICB9CiAgICAgIGJlZm9yZUxlYXZlICYmIGJlZm9yZUxlYXZlKGVsKTsKICAgICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpOwogICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7CiAgICAgICAgbmV4dEZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7CiAgICAgICAgICBpZiAoIWNiLmNhbmNlbGxlZCkgewogICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7CiAgICAgICAgICAgIGlmICghdXNlcldhbnRzQ29udHJvbCkgewogICAgICAgICAgICAgIGlmIChpc1ZhbGlkRHVyYXRpb24oZXhwbGljaXRMZWF2ZUR1cmF0aW9uKSkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChjYiwgZXhwbGljaXRMZWF2ZUR1cmF0aW9uKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBjYik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgbGVhdmUgJiYgbGVhdmUoZWwsIGNiKTsKICAgICAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7CiAgICAgICAgY2IoKTsKICAgICAgfQogICAgfQogIH0KCiAgLy8gb25seSB1c2VkIGluIGRldiBtb2RlCiAgZnVuY3Rpb24gY2hlY2tEdXJhdGlvbiAodmFsLCBuYW1lLCB2bm9kZSkgewogICAgaWYgKHR5cGVvZiB2YWwgIT09ICdudW1iZXInKSB7CiAgICAgIHdhcm4oCiAgICAgICAgIjx0cmFuc2l0aW9uPiBleHBsaWNpdCAiICsgbmFtZSArICIgZHVyYXRpb24gaXMgbm90IGEgdmFsaWQgbnVtYmVyIC0gIiArCiAgICAgICAgImdvdCAiICsgKEpTT04uc3RyaW5naWZ5KHZhbCkpICsgIi4iLAogICAgICAgIHZub2RlLmNvbnRleHQKICAgICAgKTsKICAgIH0gZWxzZSBpZiAoaXNOYU4odmFsKSkgewogICAgICB3YXJuKAogICAgICAgICI8dHJhbnNpdGlvbj4gZXhwbGljaXQgIiArIG5hbWUgKyAiIGR1cmF0aW9uIGlzIE5hTiAtICIgKwogICAgICAgICd0aGUgZHVyYXRpb24gZXhwcmVzc2lvbiBtaWdodCBiZSBpbmNvcnJlY3QuJywKICAgICAgICB2bm9kZS5jb250ZXh0CiAgICAgICk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpc1ZhbGlkRHVyYXRpb24gKHZhbCkgewogICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInICYmICFpc05hTih2YWwpCiAgfQoKICAvKioKICAgKiBOb3JtYWxpemUgYSB0cmFuc2l0aW9uIGhvb2sncyBhcmd1bWVudCBsZW5ndGguIFRoZSBob29rIG1heSBiZToKICAgKiAtIGEgbWVyZ2VkIGhvb2sgKGludm9rZXIpIHdpdGggdGhlIG9yaWdpbmFsIGluIC5mbnMKICAgKiAtIGEgd3JhcHBlZCBjb21wb25lbnQgbWV0aG9kIChjaGVjayAuX2xlbmd0aCkKICAgKiAtIGEgcGxhaW4gZnVuY3Rpb24gKC5sZW5ndGgpCiAgICovCiAgZnVuY3Rpb24gZ2V0SG9va0FyZ3VtZW50c0xlbmd0aCAoZm4pIHsKICAgIGlmIChpc1VuZGVmKGZuKSkgewogICAgICByZXR1cm4gZmFsc2UKICAgIH0KICAgIHZhciBpbnZva2VyRm5zID0gZm4uZm5zOwogICAgaWYgKGlzRGVmKGludm9rZXJGbnMpKSB7CiAgICAgIC8vIGludm9rZXIKICAgICAgcmV0dXJuIGdldEhvb2tBcmd1bWVudHNMZW5ndGgoCiAgICAgICAgQXJyYXkuaXNBcnJheShpbnZva2VyRm5zKQogICAgICAgICAgPyBpbnZva2VyRm5zWzBdCiAgICAgICAgICA6IGludm9rZXJGbnMKICAgICAgKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIChmbi5fbGVuZ3RoIHx8IGZuLmxlbmd0aCkgPiAxCiAgICB9CiAgfQoKICBmdW5jdGlvbiBfZW50ZXIgKF8sIHZub2RlKSB7CiAgICBpZiAodm5vZGUuZGF0YS5zaG93ICE9PSB0cnVlKSB7CiAgICAgIGVudGVyKHZub2RlKTsKICAgIH0KICB9CgogIHZhciB0cmFuc2l0aW9uID0gaW5Ccm93c2VyID8gewogICAgY3JlYXRlOiBfZW50ZXIsCiAgICBhY3RpdmF0ZTogX2VudGVyLAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUkJDEgKHZub2RlLCBybSkgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgICBpZiAodm5vZGUuZGF0YS5zaG93ICE9PSB0cnVlKSB7CiAgICAgICAgbGVhdmUodm5vZGUsIHJtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBybSgpOwogICAgICB9CiAgICB9CiAgfSA6IHt9OwoKICB2YXIgcGxhdGZvcm1Nb2R1bGVzID0gWwogICAgYXR0cnMsCiAgICBrbGFzcywKICAgIGV2ZW50cywKICAgIGRvbVByb3BzLAogICAgc3R5bGUsCiAgICB0cmFuc2l0aW9uCiAgXTsKCiAgLyogICovCgogIC8vIHRoZSBkaXJlY3RpdmUgbW9kdWxlIHNob3VsZCBiZSBhcHBsaWVkIGxhc3QsIGFmdGVyIGFsbAogIC8vIGJ1aWx0LWluIG1vZHVsZXMgaGF2ZSBiZWVuIGFwcGxpZWQuCiAgdmFyIG1vZHVsZXMgPSBwbGF0Zm9ybU1vZHVsZXMuY29uY2F0KGJhc2VNb2R1bGVzKTsKCiAgdmFyIHBhdGNoID0gY3JlYXRlUGF0Y2hGdW5jdGlvbih7IG5vZGVPcHM6IG5vZGVPcHMsIG1vZHVsZXM6IG1vZHVsZXMgfSk7CgogIC8qKgogICAqIE5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBsaWtlIGF0dGFjaGluZwogICAqIHByb3BlcnRpZXMgdG8gRWxlbWVudHMuCiAgICovCgogIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogIGlmIChpc0lFOSkgewogICAgLy8gaHR0cDovL3d3dy5tYXR0czQxMS5jb20vcG9zdC9pbnRlcm5ldC1leHBsb3Jlci05LW9uaW5wdXQvCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7CiAgICAgIGlmIChlbCAmJiBlbC52bW9kZWwpIHsKICAgICAgICB0cmlnZ2VyKGVsLCAnaW5wdXQnKTsKICAgICAgfQogICAgfSk7CiAgfQoKICB2YXIgZGlyZWN0aXZlID0gewogICAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkIChlbCwgYmluZGluZywgdm5vZGUsIG9sZFZub2RlKSB7CiAgICAgIGlmICh2bm9kZS50YWcgPT09ICdzZWxlY3QnKSB7CiAgICAgICAgLy8gIzY5MDMKICAgICAgICBpZiAob2xkVm5vZGUuZWxtICYmICFvbGRWbm9kZS5lbG0uX3ZPcHRpb25zKSB7CiAgICAgICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ3Bvc3RwYXRjaCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZGlyZWN0aXZlLmNvbXBvbmVudFVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm5vZGUuY29udGV4dCk7CiAgICAgICAgfQogICAgICAgIGVsLl92T3B0aW9ucyA9IFtdLm1hcC5jYWxsKGVsLm9wdGlvbnMsIGdldFZhbHVlKTsKICAgICAgfSBlbHNlIGlmICh2bm9kZS50YWcgPT09ICd0ZXh0YXJlYScgfHwgaXNUZXh0SW5wdXRUeXBlKGVsLnR5cGUpKSB7CiAgICAgICAgZWwuX3ZNb2RpZmllcnMgPSBiaW5kaW5nLm1vZGlmaWVyczsKICAgICAgICBpZiAoIWJpbmRpbmcubW9kaWZpZXJzLmxhenkpIHsKICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9uc3RhcnQnLCBvbkNvbXBvc2l0aW9uU3RhcnQpOwogICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTsKICAgICAgICAgIC8vIFNhZmFyaSA8IDEwLjIgJiBVSVdlYlZpZXcgZG9lc24ndCBmaXJlIGNvbXBvc2l0aW9uZW5kIHdoZW4KICAgICAgICAgIC8vIHN3aXRjaGluZyBmb2N1cyBiZWZvcmUgY29uZmlybWluZyBjb21wb3NpdGlvbiBjaG9pY2UKICAgICAgICAgIC8vIHRoaXMgYWxzbyBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgc29tZSBicm93c2VycyBlLmcuIGlPUyBDaHJvbWUKICAgICAgICAgIC8vIGZpcmVzICJjaGFuZ2UiIGluc3RlYWQgb2YgImlucHV0IiBvbiBhdXRvY29tcGxldGUuCiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNvbXBvc2l0aW9uRW5kKTsKICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICAgICAgaWYgKGlzSUU5KSB7CiAgICAgICAgICAgIGVsLnZtb2RlbCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGNvbXBvbmVudFVwZGF0ZWQ6IGZ1bmN0aW9uIGNvbXBvbmVudFVwZGF0ZWQgKGVsLCBiaW5kaW5nLCB2bm9kZSkgewogICAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0JykgewogICAgICAgIHNldFNlbGVjdGVkKGVsLCBiaW5kaW5nLCB2bm9kZS5jb250ZXh0KTsKICAgICAgICAvLyBpbiBjYXNlIHRoZSBvcHRpb25zIHJlbmRlcmVkIGJ5IHYtZm9yIGhhdmUgY2hhbmdlZCwKICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIG91dC1vZi1zeW5jIHdpdGggdGhlIHJlbmRlcmVkIG9wdGlvbnMuCiAgICAgICAgLy8gZGV0ZWN0IHN1Y2ggY2FzZXMgYW5kIGZpbHRlciBvdXQgdmFsdWVzIHRoYXQgbm8gbG9uZ2VyIGhhcyBhIG1hdGNoaW5nCiAgICAgICAgLy8gb3B0aW9uIGluIHRoZSBET00uCiAgICAgICAgdmFyIHByZXZPcHRpb25zID0gZWwuX3ZPcHRpb25zOwogICAgICAgIHZhciBjdXJPcHRpb25zID0gZWwuX3ZPcHRpb25zID0gW10ubWFwLmNhbGwoZWwub3B0aW9ucywgZ2V0VmFsdWUpOwogICAgICAgIGlmIChjdXJPcHRpb25zLnNvbWUoZnVuY3Rpb24gKG8sIGkpIHsgcmV0dXJuICFsb29zZUVxdWFsKG8sIHByZXZPcHRpb25zW2ldKTsgfSkpIHsKICAgICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIGV2ZW50IGlmCiAgICAgICAgICAvLyBubyBtYXRjaGluZyBvcHRpb24gZm91bmQgZm9yIGF0IGxlYXN0IG9uZSB2YWx1ZQogICAgICAgICAgdmFyIG5lZWRSZXNldCA9IGVsLm11bHRpcGxlCiAgICAgICAgICAgID8gYmluZGluZy52YWx1ZS5zb21lKGZ1bmN0aW9uICh2KSB7IHJldHVybiBoYXNOb01hdGNoaW5nT3B0aW9uKHYsIGN1ck9wdGlvbnMpOyB9KQogICAgICAgICAgICA6IGJpbmRpbmcudmFsdWUgIT09IGJpbmRpbmcub2xkVmFsdWUgJiYgaGFzTm9NYXRjaGluZ09wdGlvbihiaW5kaW5nLnZhbHVlLCBjdXJPcHRpb25zKTsKICAgICAgICAgIGlmIChuZWVkUmVzZXQpIHsKICAgICAgICAgICAgdHJpZ2dlcihlbCwgJ2NoYW5nZScpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIGZ1bmN0aW9uIHNldFNlbGVjdGVkIChlbCwgYmluZGluZywgdm0pIHsKICAgIGFjdHVhbGx5U2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZtKTsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGlzSUUgfHwgaXNFZGdlKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGFjdHVhbGx5U2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZtKTsKICAgICAgfSwgMCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhY3R1YWxseVNldFNlbGVjdGVkIChlbCwgYmluZGluZywgdm0pIHsKICAgIHZhciB2YWx1ZSA9IGJpbmRpbmcudmFsdWU7CiAgICB2YXIgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlOwogICAgaWYgKGlzTXVsdGlwbGUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgIHdhcm4oCiAgICAgICAgIjxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD1cIiIgKyAoYmluZGluZy5leHByZXNzaW9uKSArICJcIj4gIiArCiAgICAgICAgImV4cGVjdHMgYW4gQXJyYXkgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290ICIgKyAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSkpLAogICAgICAgIHZtCiAgICAgICk7CiAgICAgIHJldHVybgogICAgfQogICAgdmFyIHNlbGVjdGVkLCBvcHRpb247CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIG9wdGlvbiA9IGVsLm9wdGlvbnNbaV07CiAgICAgIGlmIChpc011bHRpcGxlKSB7CiAgICAgICAgc2VsZWN0ZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIGdldFZhbHVlKG9wdGlvbikpID4gLTE7CiAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCAhPT0gc2VsZWN0ZWQpIHsKICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHNlbGVjdGVkOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHsKICAgICAgICAgIGlmIChlbC5zZWxlY3RlZEluZGV4ICE9PSBpKSB7CiAgICAgICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSBpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZiAoIWlzTXVsdGlwbGUpIHsKICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaGFzTm9NYXRjaGluZ09wdGlvbiAodmFsdWUsIG9wdGlvbnMpIHsKICAgIHJldHVybiBvcHRpb25zLmV2ZXJ5KGZ1bmN0aW9uIChvKSB7IHJldHVybiAhbG9vc2VFcXVhbChvLCB2YWx1ZSk7IH0pCiAgfQoKICBmdW5jdGlvbiBnZXRWYWx1ZSAob3B0aW9uKSB7CiAgICByZXR1cm4gJ192YWx1ZScgaW4gb3B0aW9uCiAgICAgID8gb3B0aW9uLl92YWx1ZQogICAgICA6IG9wdGlvbi52YWx1ZQogIH0KCiAgZnVuY3Rpb24gb25Db21wb3NpdGlvblN0YXJ0IChlKSB7CiAgICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlOwogIH0KCiAgZnVuY3Rpb24gb25Db21wb3NpdGlvbkVuZCAoZSkgewogICAgLy8gcHJldmVudCB0cmlnZ2VyaW5nIGFuIGlucHV0IGV2ZW50IGZvciBubyByZWFzb24KICAgIGlmICghZS50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybiB9CiAgICBlLnRhcmdldC5jb21wb3NpbmcgPSBmYWxzZTsKICAgIHRyaWdnZXIoZS50YXJnZXQsICdpbnB1dCcpOwogIH0KCiAgZnVuY3Rpb24gdHJpZ2dlciAoZWwsIHR5cGUpIHsKICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTsKICAgIGUuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpOwogICAgZWwuZGlzcGF0Y2hFdmVudChlKTsKICB9CgogIC8qICAqLwoKICAvLyByZWN1cnNpdmVseSBzZWFyY2ggZm9yIHBvc3NpYmxlIHRyYW5zaXRpb24gZGVmaW5lZCBpbnNpZGUgdGhlIGNvbXBvbmVudCByb290CiAgZnVuY3Rpb24gbG9jYXRlTm9kZSAodm5vZGUpIHsKICAgIHJldHVybiB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSAmJiAoIXZub2RlLmRhdGEgfHwgIXZub2RlLmRhdGEudHJhbnNpdGlvbikKICAgICAgPyBsb2NhdGVOb2RlKHZub2RlLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZSkKICAgICAgOiB2bm9kZQogIH0KCiAgdmFyIHNob3cgPSB7CiAgICBiaW5kOiBmdW5jdGlvbiBiaW5kIChlbCwgcmVmLCB2bm9kZSkgewogICAgICB2YXIgdmFsdWUgPSByZWYudmFsdWU7CgogICAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpOwogICAgICB2YXIgdHJhbnNpdGlvbiQkMSA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uOwogICAgICB2YXIgb3JpZ2luYWxEaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5ID0KICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnJyA6IGVsLnN0eWxlLmRpc3BsYXk7CiAgICAgIGlmICh2YWx1ZSAmJiB0cmFuc2l0aW9uJCQxKSB7CiAgICAgICAgdm5vZGUuZGF0YS5zaG93ID0gdHJ1ZTsKICAgICAgICBlbnRlcih2bm9kZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBvcmlnaW5hbERpc3BsYXkgOiAnbm9uZSc7CiAgICAgIH0KICAgIH0sCgogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKGVsLCByZWYsIHZub2RlKSB7CiAgICAgIHZhciB2YWx1ZSA9IHJlZi52YWx1ZTsKICAgICAgdmFyIG9sZFZhbHVlID0gcmVmLm9sZFZhbHVlOwoKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIGlmICghdmFsdWUgPT09ICFvbGRWYWx1ZSkgeyByZXR1cm4gfQogICAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpOwogICAgICB2YXIgdHJhbnNpdGlvbiQkMSA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uOwogICAgICBpZiAodHJhbnNpdGlvbiQkMSkgewogICAgICAgIHZub2RlLmRhdGEuc2hvdyA9IHRydWU7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICBlbnRlcih2bm9kZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5OwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxlYXZlKHZub2RlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWwuX192T3JpZ2luYWxEaXNwbGF5IDogJ25vbmUnOwogICAgICB9CiAgICB9LAoKICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kICgKICAgICAgZWwsCiAgICAgIGJpbmRpbmcsCiAgICAgIHZub2RlLAogICAgICBvbGRWbm9kZSwKICAgICAgaXNEZXN0cm95CiAgICApIHsKICAgICAgaWYgKCFpc0Rlc3Ryb3kpIHsKICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5OwogICAgICB9CiAgICB9CiAgfTsKCiAgdmFyIHBsYXRmb3JtRGlyZWN0aXZlcyA9IHsKICAgIG1vZGVsOiBkaXJlY3RpdmUsCiAgICBzaG93OiBzaG93CiAgfTsKCiAgLyogICovCgogIHZhciB0cmFuc2l0aW9uUHJvcHMgPSB7CiAgICBuYW1lOiBTdHJpbmcsCiAgICBhcHBlYXI6IEJvb2xlYW4sCiAgICBjc3M6IEJvb2xlYW4sCiAgICBtb2RlOiBTdHJpbmcsCiAgICB0eXBlOiBTdHJpbmcsCiAgICBlbnRlckNsYXNzOiBTdHJpbmcsCiAgICBsZWF2ZUNsYXNzOiBTdHJpbmcsCiAgICBlbnRlclRvQ2xhc3M6IFN0cmluZywKICAgIGxlYXZlVG9DbGFzczogU3RyaW5nLAogICAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLAogICAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLAogICAgYXBwZWFyQ2xhc3M6IFN0cmluZywKICAgIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsCiAgICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsCiAgICBkdXJhdGlvbjogW051bWJlciwgU3RyaW5nLCBPYmplY3RdCiAgfTsKCiAgLy8gaW4gY2FzZSB0aGUgY2hpbGQgaXMgYWxzbyBhbiBhYnN0cmFjdCBjb21wb25lbnQsIGUuZy4gPGtlZXAtYWxpdmU+CiAgLy8gd2Ugd2FudCB0byByZWN1cnNpdmVseSByZXRyaWV2ZSB0aGUgcmVhbCBjb21wb25lbnQgdG8gYmUgcmVuZGVyZWQKICBmdW5jdGlvbiBnZXRSZWFsQ2hpbGQgKHZub2RlKSB7CiAgICB2YXIgY29tcE9wdGlvbnMgPSB2bm9kZSAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zOwogICAgaWYgKGNvbXBPcHRpb25zICYmIGNvbXBPcHRpb25zLkN0b3Iub3B0aW9ucy5hYnN0cmFjdCkgewogICAgICByZXR1cm4gZ2V0UmVhbENoaWxkKGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoY29tcE9wdGlvbnMuY2hpbGRyZW4pKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHZub2RlCiAgICB9CiAgfQoKICBmdW5jdGlvbiBleHRyYWN0VHJhbnNpdGlvbkRhdGEgKGNvbXApIHsKICAgIHZhciBkYXRhID0ge307CiAgICB2YXIgb3B0aW9ucyA9IGNvbXAuJG9wdGlvbnM7CiAgICAvLyBwcm9wcwogICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMucHJvcHNEYXRhKSB7CiAgICAgIGRhdGFba2V5XSA9IGNvbXBba2V5XTsKICAgIH0KICAgIC8vIGV2ZW50cy4KICAgIC8vIGV4dHJhY3QgbGlzdGVuZXJzIGFuZCBwYXNzIHRoZW0gZGlyZWN0bHkgdG8gdGhlIHRyYW5zaXRpb24gbWV0aG9kcwogICAgdmFyIGxpc3RlbmVycyA9IG9wdGlvbnMuX3BhcmVudExpc3RlbmVyczsKICAgIGZvciAodmFyIGtleSQxIGluIGxpc3RlbmVycykgewogICAgICBkYXRhW2NhbWVsaXplKGtleSQxKV0gPSBsaXN0ZW5lcnNba2V5JDFdOwogICAgfQogICAgcmV0dXJuIGRhdGEKICB9CgogIGZ1bmN0aW9uIHBsYWNlaG9sZGVyIChoLCByYXdDaGlsZCkgewogICAgaWYgKC9cZC1rZWVwLWFsaXZlJC8udGVzdChyYXdDaGlsZC50YWcpKSB7CiAgICAgIHJldHVybiBoKCdrZWVwLWFsaXZlJywgewogICAgICAgIHByb3BzOiByYXdDaGlsZC5jb21wb25lbnRPcHRpb25zLnByb3BzRGF0YQogICAgICB9KQogICAgfQogIH0KCiAgZnVuY3Rpb24gaGFzUGFyZW50VHJhbnNpdGlvbiAodm5vZGUpIHsKICAgIHdoaWxlICgodm5vZGUgPSB2bm9kZS5wYXJlbnQpKSB7CiAgICAgIGlmICh2bm9kZS5kYXRhLnRyYW5zaXRpb24pIHsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpc1NhbWVDaGlsZCAoY2hpbGQsIG9sZENoaWxkKSB7CiAgICByZXR1cm4gb2xkQ2hpbGQua2V5ID09PSBjaGlsZC5rZXkgJiYgb2xkQ2hpbGQudGFnID09PSBjaGlsZC50YWcKICB9CgogIHZhciBpc05vdFRleHROb2RlID0gZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMudGFnIHx8IGlzQXN5bmNQbGFjZWhvbGRlcihjKTsgfTsKCiAgdmFyIGlzVlNob3dEaXJlY3RpdmUgPSBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5uYW1lID09PSAnc2hvdyc7IH07CgogIHZhciBUcmFuc2l0aW9uID0gewogICAgbmFtZTogJ3RyYW5zaXRpb24nLAogICAgcHJvcHM6IHRyYW5zaXRpb25Qcm9wcywKICAgIGFic3RyYWN0OiB0cnVlLAoKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyIChoKSB7CiAgICAgIHZhciB0aGlzJDEgPSB0aGlzOwoKICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdDsKICAgICAgaWYgKCFjaGlsZHJlbikgewogICAgICAgIHJldHVybgogICAgICB9CgogICAgICAvLyBmaWx0ZXIgb3V0IHRleHQgbm9kZXMgKHBvc3NpYmxlIHdoaXRlc3BhY2VzKQogICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihpc05vdFRleHROb2RlKTsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIC8vIHdhcm4gbXVsdGlwbGUgZWxlbWVudHMKICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgJzx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQuIFVzZSAnICsKICAgICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicsCiAgICAgICAgICB0aGlzLiRwYXJlbnQKICAgICAgICApOwogICAgICB9CgogICAgICB2YXIgbW9kZSA9IHRoaXMubW9kZTsKCiAgICAgIC8vIHdhcm4gaW52YWxpZCBtb2RlCiAgICAgIGlmIChtb2RlICYmIG1vZGUgIT09ICdpbi1vdXQnICYmIG1vZGUgIT09ICdvdXQtaW4nCiAgICAgICkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAnaW52YWxpZCA8dHJhbnNpdGlvbj4gbW9kZTogJyArIG1vZGUsCiAgICAgICAgICB0aGlzLiRwYXJlbnQKICAgICAgICApOwogICAgICB9CgogICAgICB2YXIgcmF3Q2hpbGQgPSBjaGlsZHJlblswXTsKCiAgICAgIC8vIGlmIHRoaXMgaXMgYSBjb21wb25lbnQgcm9vdCBub2RlIGFuZCB0aGUgY29tcG9uZW50J3MKICAgICAgLy8gcGFyZW50IGNvbnRhaW5lciBub2RlIGFsc28gaGFzIHRyYW5zaXRpb24sIHNraXAuCiAgICAgIGlmIChoYXNQYXJlbnRUcmFuc2l0aW9uKHRoaXMuJHZub2RlKSkgewogICAgICAgIHJldHVybiByYXdDaGlsZAogICAgICB9CgogICAgICAvLyBhcHBseSB0cmFuc2l0aW9uIGRhdGEgdG8gY2hpbGQKICAgICAgLy8gdXNlIGdldFJlYWxDaGlsZCgpIHRvIGlnbm9yZSBhYnN0cmFjdCBjb21wb25lbnRzIGUuZy4ga2VlcC1hbGl2ZQogICAgICB2YXIgY2hpbGQgPSBnZXRSZWFsQ2hpbGQocmF3Q2hpbGQpOwogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKCFjaGlsZCkgewogICAgICAgIHJldHVybiByYXdDaGlsZAogICAgICB9CgogICAgICBpZiAodGhpcy5fbGVhdmluZykgewogICAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZCkKICAgICAgfQoKICAgICAgLy8gZW5zdXJlIGEga2V5IHRoYXQgaXMgdW5pcXVlIHRvIHRoZSB2bm9kZSB0eXBlIGFuZCB0byB0aGlzIHRyYW5zaXRpb24KICAgICAgLy8gY29tcG9uZW50IGluc3RhbmNlLiBUaGlzIGtleSB3aWxsIGJlIHVzZWQgdG8gcmVtb3ZlIHBlbmRpbmcgbGVhdmluZyBub2RlcwogICAgICAvLyBkdXJpbmcgZW50ZXJpbmcuCiAgICAgIHZhciBpZCA9ICJfX3RyYW5zaXRpb24tIiArICh0aGlzLl91aWQpICsgIi0iOwogICAgICBjaGlsZC5rZXkgPSBjaGlsZC5rZXkgPT0gbnVsbAogICAgICAgID8gY2hpbGQuaXNDb21tZW50CiAgICAgICAgICA/IGlkICsgJ2NvbW1lbnQnCiAgICAgICAgICA6IGlkICsgY2hpbGQudGFnCiAgICAgICAgOiBpc1ByaW1pdGl2ZShjaGlsZC5rZXkpCiAgICAgICAgICA/IChTdHJpbmcoY2hpbGQua2V5KS5pbmRleE9mKGlkKSA9PT0gMCA/IGNoaWxkLmtleSA6IGlkICsgY2hpbGQua2V5KQogICAgICAgICAgOiBjaGlsZC5rZXk7CgogICAgICB2YXIgZGF0YSA9IChjaGlsZC5kYXRhIHx8IChjaGlsZC5kYXRhID0ge30pKS50cmFuc2l0aW9uID0gZXh0cmFjdFRyYW5zaXRpb25EYXRhKHRoaXMpOwogICAgICB2YXIgb2xkUmF3Q2hpbGQgPSB0aGlzLl92bm9kZTsKICAgICAgdmFyIG9sZENoaWxkID0gZ2V0UmVhbENoaWxkKG9sZFJhd0NoaWxkKTsKCiAgICAgIC8vIG1hcmsgdi1zaG93CiAgICAgIC8vIHNvIHRoYXQgdGhlIHRyYW5zaXRpb24gbW9kdWxlIGNhbiBoYW5kIG92ZXIgdGhlIGNvbnRyb2wgdG8gdGhlIGRpcmVjdGl2ZQogICAgICBpZiAoY2hpbGQuZGF0YS5kaXJlY3RpdmVzICYmIGNoaWxkLmRhdGEuZGlyZWN0aXZlcy5zb21lKGlzVlNob3dEaXJlY3RpdmUpKSB7CiAgICAgICAgY2hpbGQuZGF0YS5zaG93ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKAogICAgICAgIG9sZENoaWxkICYmCiAgICAgICAgb2xkQ2hpbGQuZGF0YSAmJgogICAgICAgICFpc1NhbWVDaGlsZChjaGlsZCwgb2xkQ2hpbGQpICYmCiAgICAgICAgIWlzQXN5bmNQbGFjZWhvbGRlcihvbGRDaGlsZCkgJiYKICAgICAgICAvLyAjNjY4NyBjb21wb25lbnQgcm9vdCBpcyBhIGNvbW1lbnQgbm9kZQogICAgICAgICEob2xkQ2hpbGQuY29tcG9uZW50SW5zdGFuY2UgJiYgb2xkQ2hpbGQuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlLmlzQ29tbWVudCkKICAgICAgKSB7CiAgICAgICAgLy8gcmVwbGFjZSBvbGQgY2hpbGQgdHJhbnNpdGlvbiBkYXRhIHdpdGggZnJlc2ggb25lCiAgICAgICAgLy8gaW1wb3J0YW50IGZvciBkeW5hbWljIHRyYW5zaXRpb25zIQogICAgICAgIHZhciBvbGREYXRhID0gb2xkQ2hpbGQuZGF0YS50cmFuc2l0aW9uID0gZXh0ZW5kKHt9LCBkYXRhKTsKICAgICAgICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBtb2RlCiAgICAgICAgaWYgKG1vZGUgPT09ICdvdXQtaW4nKSB7CiAgICAgICAgICAvLyByZXR1cm4gcGxhY2Vob2xkZXIgbm9kZSBhbmQgcXVldWUgdXBkYXRlIHdoZW4gbGVhdmUgZmluaXNoZXMKICAgICAgICAgIHRoaXMuX2xlYXZpbmcgPSB0cnVlOwogICAgICAgICAgbWVyZ2VWTm9kZUhvb2sob2xkRGF0YSwgJ2FmdGVyTGVhdmUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMkMS5fbGVhdmluZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzJDEuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZCkKICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdpbi1vdXQnKSB7CiAgICAgICAgICBpZiAoaXNBc3luY1BsYWNlaG9sZGVyKGNoaWxkKSkgewogICAgICAgICAgICByZXR1cm4gb2xkUmF3Q2hpbGQKICAgICAgICAgIH0KICAgICAgICAgIHZhciBkZWxheWVkTGVhdmU7CiAgICAgICAgICB2YXIgcGVyZm9ybUxlYXZlID0gZnVuY3Rpb24gKCkgeyBkZWxheWVkTGVhdmUoKTsgfTsKICAgICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdhZnRlckVudGVyJywgcGVyZm9ybUxlYXZlKTsKICAgICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdlbnRlckNhbmNlbGxlZCcsIHBlcmZvcm1MZWF2ZSk7CiAgICAgICAgICBtZXJnZVZOb2RlSG9vayhvbGREYXRhLCAnZGVsYXlMZWF2ZScsIGZ1bmN0aW9uIChsZWF2ZSkgeyBkZWxheWVkTGVhdmUgPSBsZWF2ZTsgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmF3Q2hpbGQKICAgIH0KICB9OwoKICAvKiAgKi8KCiAgdmFyIHByb3BzID0gZXh0ZW5kKHsKICAgIHRhZzogU3RyaW5nLAogICAgbW92ZUNsYXNzOiBTdHJpbmcKICB9LCB0cmFuc2l0aW9uUHJvcHMpOwoKICBkZWxldGUgcHJvcHMubW9kZTsKCiAgdmFyIFRyYW5zaXRpb25Hcm91cCA9IHsKICAgIHByb3BzOiBwcm9wcywKCiAgICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQgKCkgewogICAgICB2YXIgdGhpcyQxID0gdGhpczsKCiAgICAgIHZhciB1cGRhdGUgPSB0aGlzLl91cGRhdGU7CiAgICAgIHRoaXMuX3VwZGF0ZSA9IGZ1bmN0aW9uICh2bm9kZSwgaHlkcmF0aW5nKSB7CiAgICAgICAgdmFyIHJlc3RvcmVBY3RpdmVJbnN0YW5jZSA9IHNldEFjdGl2ZUluc3RhbmNlKHRoaXMkMSk7CiAgICAgICAgLy8gZm9yY2UgcmVtb3ZpbmcgcGFzcwogICAgICAgIHRoaXMkMS5fX3BhdGNoX18oCiAgICAgICAgICB0aGlzJDEuX3Zub2RlLAogICAgICAgICAgdGhpcyQxLmtlcHQsCiAgICAgICAgICBmYWxzZSwgLy8gaHlkcmF0aW5nCiAgICAgICAgICB0cnVlIC8vIHJlbW92ZU9ubHkgKCFpbXBvcnRhbnQsIGF2b2lkcyB1bm5lY2Vzc2FyeSBtb3ZlcykKICAgICAgICApOwogICAgICAgIHRoaXMkMS5fdm5vZGUgPSB0aGlzJDEua2VwdDsKICAgICAgICByZXN0b3JlQWN0aXZlSW5zdGFuY2UoKTsKICAgICAgICB1cGRhdGUuY2FsbCh0aGlzJDEsIHZub2RlLCBoeWRyYXRpbmcpOwogICAgICB9OwogICAgfSwKCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlciAoaCkgewogICAgICB2YXIgdGFnID0gdGhpcy50YWcgfHwgdGhpcy4kdm5vZGUuZGF0YS50YWcgfHwgJ3NwYW4nOwogICAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMucHJldkNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsKICAgICAgdmFyIHJhd0NoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBbXTsKICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbiA9IFtdOwogICAgICB2YXIgdHJhbnNpdGlvbkRhdGEgPSBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcyk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGMgPSByYXdDaGlsZHJlbltpXTsKICAgICAgICBpZiAoYy50YWcpIHsKICAgICAgICAgIGlmIChjLmtleSAhPSBudWxsICYmIFN0cmluZyhjLmtleSkuaW5kZXhPZignX192bGlzdCcpICE9PSAwKSB7CiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goYyk7CiAgICAgICAgICAgIG1hcFtjLmtleV0gPSBjCiAgICAgICAgICAgIDsoYy5kYXRhIHx8IChjLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRGF0YTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBvcHRzID0gYy5jb21wb25lbnRPcHRpb25zOwogICAgICAgICAgICB2YXIgbmFtZSA9IG9wdHMgPyAob3B0cy5DdG9yLm9wdGlvbnMubmFtZSB8fCBvcHRzLnRhZyB8fCAnJykgOiBjLnRhZzsKICAgICAgICAgICAgd2FybigoIjx0cmFuc2l0aW9uLWdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkOiA8IiArIG5hbWUgKyAiPiIpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChwcmV2Q2hpbGRyZW4pIHsKICAgICAgICB2YXIga2VwdCA9IFtdOwogICAgICAgIHZhciByZW1vdmVkID0gW107CiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHsKICAgICAgICAgIHZhciBjJDEgPSBwcmV2Q2hpbGRyZW5baSQxXTsKICAgICAgICAgIGMkMS5kYXRhLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRGF0YTsKICAgICAgICAgIGMkMS5kYXRhLnBvcyA9IGMkMS5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICBpZiAobWFwW2MkMS5rZXldKSB7CiAgICAgICAgICAgIGtlcHQucHVzaChjJDEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKGMkMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMua2VwdCA9IGgodGFnLCBudWxsLCBrZXB0KTsKICAgICAgICB0aGlzLnJlbW92ZWQgPSByZW1vdmVkOwogICAgICB9CgogICAgICByZXR1cm4gaCh0YWcsIG51bGwsIGNoaWxkcmVuKQogICAgfSwKCiAgICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkICgpIHsKICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcmV2Q2hpbGRyZW47CiAgICAgIHZhciBtb3ZlQ2xhc3MgPSB0aGlzLm1vdmVDbGFzcyB8fCAoKHRoaXMubmFtZSB8fCAndicpICsgJy1tb3ZlJyk7CiAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLmhhc01vdmUoY2hpbGRyZW5bMF0uZWxtLCBtb3ZlQ2xhc3MpKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIC8vIHdlIGRpdmlkZSB0aGUgd29yayBpbnRvIHRocmVlIGxvb3BzIHRvIGF2b2lkIG1peGluZyBET00gcmVhZHMgYW5kIHdyaXRlcwogICAgICAvLyBpbiBlYWNoIGl0ZXJhdGlvbiAtIHdoaWNoIGhlbHBzIHByZXZlbnQgbGF5b3V0IHRocmFzaGluZy4KICAgICAgY2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7CiAgICAgIGNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pOwogICAgICBjaGlsZHJlbi5mb3JFYWNoKGFwcGx5VHJhbnNsYXRpb24pOwoKICAgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uCiAgICAgIC8vIGFzc2lnbiB0byB0aGlzIHRvIGF2b2lkIGJlaW5nIHJlbW92ZWQgaW4gdHJlZS1zaGFraW5nCiAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZQogICAgICB0aGlzLl9yZWZsb3cgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDsKCiAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICBpZiAoYy5kYXRhLm1vdmVkKSB7CiAgICAgICAgICB2YXIgZWwgPSBjLmVsbTsKICAgICAgICAgIHZhciBzID0gZWwuc3R5bGU7CiAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7CiAgICAgICAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnJzsKICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBlbC5fbW92ZUNiID0gZnVuY3Rpb24gY2IgKGUpIHsKICAgICAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFlIHx8IC90cmFuc2Zvcm0kLy50ZXN0KGUucHJvcGVydHlOYW1lKSkgewogICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBjYik7CiAgICAgICAgICAgICAgZWwuX21vdmVDYiA9IG51bGw7CiAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgIGhhc01vdmU6IGZ1bmN0aW9uIGhhc01vdmUgKGVsLCBtb3ZlQ2xhc3MpIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAoIWhhc1RyYW5zaXRpb24pIHsKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAodGhpcy5faGFzTW92ZSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc01vdmUKICAgICAgICB9CiAgICAgICAgLy8gRGV0ZWN0IHdoZXRoZXIgYW4gZWxlbWVudCB3aXRoIHRoZSBtb3ZlIGNsYXNzIGFwcGxpZWQgaGFzCiAgICAgICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nCiAgICAgICAgLy8gdHJhbnNpdGlvbiBhdCB0aGlzIHZlcnkgbW9tZW50LCB3ZSBtYWtlIGEgY2xvbmUgb2YgaXQgYW5kIHJlbW92ZQogICAgICAgIC8vIGFsbCBvdGhlciB0cmFuc2l0aW9uIGNsYXNzZXMgYXBwbGllZCB0byBlbnN1cmUgb25seSB0aGUgbW92ZSBjbGFzcwogICAgICAgIC8vIGlzIGFwcGxpZWQuCiAgICAgICAgdmFyIGNsb25lID0gZWwuY2xvbmVOb2RlKCk7CiAgICAgICAgaWYgKGVsLl90cmFuc2l0aW9uQ2xhc3NlcykgewogICAgICAgICAgZWwuX3RyYW5zaXRpb25DbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNscykgeyByZW1vdmVDbGFzcyhjbG9uZSwgY2xzKTsgfSk7CiAgICAgICAgfQogICAgICAgIGFkZENsYXNzKGNsb25lLCBtb3ZlQ2xhc3MpOwogICAgICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgdGhpcy4kZWwuYXBwZW5kQ2hpbGQoY2xvbmUpOwogICAgICAgIHZhciBpbmZvID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpOwogICAgICAgIHRoaXMuJGVsLnJlbW92ZUNoaWxkKGNsb25lKTsKICAgICAgICByZXR1cm4gKHRoaXMuX2hhc01vdmUgPSBpbmZvLmhhc1RyYW5zZm9ybSkKICAgICAgfQogICAgfQogIH07CgogIGZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzIChjKSB7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChjLmVsbS5fbW92ZUNiKSB7CiAgICAgIGMuZWxtLl9tb3ZlQ2IoKTsKICAgIH0KICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGMuZWxtLl9lbnRlckNiKSB7CiAgICAgIGMuZWxtLl9lbnRlckNiKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiByZWNvcmRQb3NpdGlvbiAoYykgewogICAgYy5kYXRhLm5ld1BvcyA9IGMuZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogIH0KCiAgZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbiAoYykgewogICAgdmFyIG9sZFBvcyA9IGMuZGF0YS5wb3M7CiAgICB2YXIgbmV3UG9zID0gYy5kYXRhLm5ld1BvczsKICAgIHZhciBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7CiAgICB2YXIgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDsKICAgIGlmIChkeCB8fCBkeSkgewogICAgICBjLmRhdGEubW92ZWQgPSB0cnVlOwogICAgICB2YXIgcyA9IGMuZWxtLnN0eWxlOwogICAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gInRyYW5zbGF0ZSgiICsgZHggKyAicHgsIiArIGR5ICsgInB4KSI7CiAgICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJzsKICAgIH0KICB9CgogIHZhciBwbGF0Zm9ybUNvbXBvbmVudHMgPSB7CiAgICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLAogICAgVHJhbnNpdGlvbkdyb3VwOiBUcmFuc2l0aW9uR3JvdXAKICB9OwoKICAvKiAgKi8KCiAgLy8gaW5zdGFsbCBwbGF0Zm9ybSBzcGVjaWZpYyB1dGlscwogIFZ1ZS5jb25maWcubXVzdFVzZVByb3AgPSBtdXN0VXNlUHJvcDsKICBWdWUuY29uZmlnLmlzUmVzZXJ2ZWRUYWcgPSBpc1Jlc2VydmVkVGFnOwogIFZ1ZS5jb25maWcuaXNSZXNlcnZlZEF0dHIgPSBpc1Jlc2VydmVkQXR0cjsKICBWdWUuY29uZmlnLmdldFRhZ05hbWVzcGFjZSA9IGdldFRhZ05hbWVzcGFjZTsKICBWdWUuY29uZmlnLmlzVW5rbm93bkVsZW1lbnQgPSBpc1Vua25vd25FbGVtZW50OwoKICAvLyBpbnN0YWxsIHBsYXRmb3JtIHJ1bnRpbWUgZGlyZWN0aXZlcyAmIGNvbXBvbmVudHMKICBleHRlbmQoVnVlLm9wdGlvbnMuZGlyZWN0aXZlcywgcGxhdGZvcm1EaXJlY3RpdmVzKTsKICBleHRlbmQoVnVlLm9wdGlvbnMuY29tcG9uZW50cywgcGxhdGZvcm1Db21wb25lbnRzKTsKCiAgLy8gaW5zdGFsbCBwbGF0Zm9ybSBwYXRjaCBmdW5jdGlvbgogIFZ1ZS5wcm90b3R5cGUuX19wYXRjaF9fID0gaW5Ccm93c2VyID8gcGF0Y2ggOiBub29wOwoKICAvLyBwdWJsaWMgbW91bnQgbWV0aG9kCiAgVnVlLnByb3RvdHlwZS4kbW91bnQgPSBmdW5jdGlvbiAoCiAgICBlbCwKICAgIGh5ZHJhdGluZwogICkgewogICAgZWwgPSBlbCAmJiBpbkJyb3dzZXIgPyBxdWVyeShlbCkgOiB1bmRlZmluZWQ7CiAgICByZXR1cm4gbW91bnRDb21wb25lbnQodGhpcywgZWwsIGh5ZHJhdGluZykKICB9OwoKICAvLyBkZXZ0b29scyBnbG9iYWwgaG9vawogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgaWYgKGluQnJvd3NlcikgewogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChjb25maWcuZGV2dG9vbHMpIHsKICAgICAgICBpZiAoZGV2dG9vbHMpIHsKICAgICAgICAgIGRldnRvb2xzLmVtaXQoJ2luaXQnLCBWdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXSgKICAgICAgICAgICAgJ0Rvd25sb2FkIHRoZSBWdWUgRGV2dG9vbHMgZXh0ZW5zaW9uIGZvciBhIGJldHRlciBkZXZlbG9wbWVudCBleHBlcmllbmNlOlxuJyArCiAgICAgICAgICAgICdodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlLWRldnRvb2xzJwogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGNvbmZpZy5wcm9kdWN0aW9uVGlwICE9PSBmYWxzZSAmJgogICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJwogICAgICApIHsKICAgICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXSgKICAgICAgICAgICJZb3UgYXJlIHJ1bm5pbmcgVnVlIGluIGRldmVsb3BtZW50IG1vZGUuXG4iICsKICAgICAgICAgICJNYWtlIHN1cmUgdG8gdHVybiBvbiBwcm9kdWN0aW9uIG1vZGUgd2hlbiBkZXBsb3lpbmcgZm9yIHByb2R1Y3Rpb24uXG4iICsKICAgICAgICAgICJTZWUgbW9yZSB0aXBzIGF0IGh0dHBzOi8vdnVlanMub3JnL2d1aWRlL2RlcGxveW1lbnQuaHRtbCIKICAgICAgICApOwogICAgICB9CiAgICB9LCAwKTsKICB9CgogIC8qICAqLwoKICB2YXIgZGVmYXVsdFRhZ1JFID0gL1x7XHsoKD86Lnxccj9cbikrPylcfVx9L2c7CiAgdmFyIHJlZ2V4RXNjYXBlUkUgPSAvWy0uKis/XiR7fSgpfFtcXVwvXFxdL2c7CgogIHZhciBidWlsZFJlZ2V4ID0gY2FjaGVkKGZ1bmN0aW9uIChkZWxpbWl0ZXJzKSB7CiAgICB2YXIgb3BlbiA9IGRlbGltaXRlcnNbMF0ucmVwbGFjZShyZWdleEVzY2FwZVJFLCAnXFwkJicpOwogICAgdmFyIGNsb3NlID0gZGVsaW1pdGVyc1sxXS5yZXBsYWNlKHJlZ2V4RXNjYXBlUkUsICdcXCQmJyk7CiAgICByZXR1cm4gbmV3IFJlZ0V4cChvcGVuICsgJygoPzoufFxcbikrPyknICsgY2xvc2UsICdnJykKICB9KTsKCgoKICBmdW5jdGlvbiBwYXJzZVRleHQgKAogICAgdGV4dCwKICAgIGRlbGltaXRlcnMKICApIHsKICAgIHZhciB0YWdSRSA9IGRlbGltaXRlcnMgPyBidWlsZFJlZ2V4KGRlbGltaXRlcnMpIDogZGVmYXVsdFRhZ1JFOwogICAgaWYgKCF0YWdSRS50ZXN0KHRleHQpKSB7CiAgICAgIHJldHVybgogICAgfQogICAgdmFyIHRva2VucyA9IFtdOwogICAgdmFyIHJhd1Rva2VucyA9IFtdOwogICAgdmFyIGxhc3RJbmRleCA9IHRhZ1JFLmxhc3RJbmRleCA9IDA7CiAgICB2YXIgbWF0Y2gsIGluZGV4LCB0b2tlblZhbHVlOwogICAgd2hpbGUgKChtYXRjaCA9IHRhZ1JFLmV4ZWModGV4dCkpKSB7CiAgICAgIGluZGV4ID0gbWF0Y2guaW5kZXg7CiAgICAgIC8vIHB1c2ggdGV4dCB0b2tlbgogICAgICBpZiAoaW5kZXggPiBsYXN0SW5kZXgpIHsKICAgICAgICByYXdUb2tlbnMucHVzaCh0b2tlblZhbHVlID0gdGV4dC5zbGljZShsYXN0SW5kZXgsIGluZGV4KSk7CiAgICAgICAgdG9rZW5zLnB1c2goSlNPTi5zdHJpbmdpZnkodG9rZW5WYWx1ZSkpOwogICAgICB9CiAgICAgIC8vIHRhZyB0b2tlbgogICAgICB2YXIgZXhwID0gcGFyc2VGaWx0ZXJzKG1hdGNoWzFdLnRyaW0oKSk7CiAgICAgIHRva2Vucy5wdXNoKCgiX3MoIiArIGV4cCArICIpIikpOwogICAgICByYXdUb2tlbnMucHVzaCh7ICdAYmluZGluZyc6IGV4cCB9KTsKICAgICAgbGFzdEluZGV4ID0gaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICB9CiAgICBpZiAobGFzdEluZGV4IDwgdGV4dC5sZW5ndGgpIHsKICAgICAgcmF3VG9rZW5zLnB1c2godG9rZW5WYWx1ZSA9IHRleHQuc2xpY2UobGFzdEluZGV4KSk7CiAgICAgIHRva2Vucy5wdXNoKEpTT04uc3RyaW5naWZ5KHRva2VuVmFsdWUpKTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIGV4cHJlc3Npb246IHRva2Vucy5qb2luKCcrJyksCiAgICAgIHRva2VuczogcmF3VG9rZW5zCiAgICB9CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gdHJhbnNmb3JtTm9kZSAoZWwsIG9wdGlvbnMpIHsKICAgIHZhciB3YXJuID0gb3B0aW9ucy53YXJuIHx8IGJhc2VXYXJuOwogICAgdmFyIHN0YXRpY0NsYXNzID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ2NsYXNzJyk7CiAgICBpZiAoc3RhdGljQ2xhc3MpIHsKICAgICAgdmFyIHJlcyA9IHBhcnNlVGV4dChzdGF0aWNDbGFzcywgb3B0aW9ucy5kZWxpbWl0ZXJzKTsKICAgICAgaWYgKHJlcykgewogICAgICAgIHdhcm4oCiAgICAgICAgICAiY2xhc3M9XCIiICsgc3RhdGljQ2xhc3MgKyAiXCI6ICIgKwogICAgICAgICAgJ0ludGVycG9sYXRpb24gaW5zaWRlIGF0dHJpYnV0ZXMgaGFzIGJlZW4gcmVtb3ZlZC4gJyArCiAgICAgICAgICAnVXNlIHYtYmluZCBvciB0aGUgY29sb24gc2hvcnRoYW5kIGluc3RlYWQuIEZvciBleGFtcGxlLCAnICsKICAgICAgICAgICdpbnN0ZWFkIG9mIDxkaXYgY2xhc3M9Int7IHZhbCB9fSI+LCB1c2UgPGRpdiA6Y2xhc3M9InZhbCI+LicsCiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsnY2xhc3MnXQogICAgICAgICk7CiAgICAgIH0KICAgIH0KICAgIGlmIChzdGF0aWNDbGFzcykgewogICAgICBlbC5zdGF0aWNDbGFzcyA9IEpTT04uc3RyaW5naWZ5KHN0YXRpY0NsYXNzKTsKICAgIH0KICAgIHZhciBjbGFzc0JpbmRpbmcgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ2NsYXNzJywgZmFsc2UgLyogZ2V0U3RhdGljICovKTsKICAgIGlmIChjbGFzc0JpbmRpbmcpIHsKICAgICAgZWwuY2xhc3NCaW5kaW5nID0gY2xhc3NCaW5kaW5nOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2VuRGF0YSAoZWwpIHsKICAgIHZhciBkYXRhID0gJyc7CiAgICBpZiAoZWwuc3RhdGljQ2xhc3MpIHsKICAgICAgZGF0YSArPSAic3RhdGljQ2xhc3M6IiArIChlbC5zdGF0aWNDbGFzcykgKyAiLCI7CiAgICB9CiAgICBpZiAoZWwuY2xhc3NCaW5kaW5nKSB7CiAgICAgIGRhdGEgKz0gImNsYXNzOiIgKyAoZWwuY2xhc3NCaW5kaW5nKSArICIsIjsKICAgIH0KICAgIHJldHVybiBkYXRhCiAgfQoKICB2YXIga2xhc3MkMSA9IHsKICAgIHN0YXRpY0tleXM6IFsnc3RhdGljQ2xhc3MnXSwKICAgIHRyYW5zZm9ybU5vZGU6IHRyYW5zZm9ybU5vZGUsCiAgICBnZW5EYXRhOiBnZW5EYXRhCiAgfTsKCiAgLyogICovCgogIGZ1bmN0aW9uIHRyYW5zZm9ybU5vZGUkMSAoZWwsIG9wdGlvbnMpIHsKICAgIHZhciB3YXJuID0gb3B0aW9ucy53YXJuIHx8IGJhc2VXYXJuOwogICAgdmFyIHN0YXRpY1N0eWxlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3N0eWxlJyk7CiAgICBpZiAoc3RhdGljU3R5bGUpIHsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIHsKICAgICAgICB2YXIgcmVzID0gcGFyc2VUZXh0KHN0YXRpY1N0eWxlLCBvcHRpb25zLmRlbGltaXRlcnMpOwogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICJzdHlsZT1cIiIgKyBzdGF0aWNTdHlsZSArICJcIjogIiArCiAgICAgICAgICAgICdJbnRlcnBvbGF0aW9uIGluc2lkZSBhdHRyaWJ1dGVzIGhhcyBiZWVuIHJlbW92ZWQuICcgKwogICAgICAgICAgICAnVXNlIHYtYmluZCBvciB0aGUgY29sb24gc2hvcnRoYW5kIGluc3RlYWQuIEZvciBleGFtcGxlLCAnICsKICAgICAgICAgICAgJ2luc3RlYWQgb2YgPGRpdiBzdHlsZT0ie3sgdmFsIH19Ij4sIHVzZSA8ZGl2IDpzdHlsZT0idmFsIj4uJywKICAgICAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3N0eWxlJ10KICAgICAgICAgICk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsLnN0YXRpY1N0eWxlID0gSlNPTi5zdHJpbmdpZnkocGFyc2VTdHlsZVRleHQoc3RhdGljU3R5bGUpKTsKICAgIH0KCiAgICB2YXIgc3R5bGVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdzdHlsZScsIGZhbHNlIC8qIGdldFN0YXRpYyAqLyk7CiAgICBpZiAoc3R5bGVCaW5kaW5nKSB7CiAgICAgIGVsLnN0eWxlQmluZGluZyA9IHN0eWxlQmluZGluZzsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdlbkRhdGEkMSAoZWwpIHsKICAgIHZhciBkYXRhID0gJyc7CiAgICBpZiAoZWwuc3RhdGljU3R5bGUpIHsKICAgICAgZGF0YSArPSAic3RhdGljU3R5bGU6IiArIChlbC5zdGF0aWNTdHlsZSkgKyAiLCI7CiAgICB9CiAgICBpZiAoZWwuc3R5bGVCaW5kaW5nKSB7CiAgICAgIGRhdGEgKz0gInN0eWxlOigiICsgKGVsLnN0eWxlQmluZGluZykgKyAiKSwiOwogICAgfQogICAgcmV0dXJuIGRhdGEKICB9CgogIHZhciBzdHlsZSQxID0gewogICAgc3RhdGljS2V5czogWydzdGF0aWNTdHlsZSddLAogICAgdHJhbnNmb3JtTm9kZTogdHJhbnNmb3JtTm9kZSQxLAogICAgZ2VuRGF0YTogZ2VuRGF0YSQxCiAgfTsKCiAgLyogICovCgogIHZhciBkZWNvZGVyOwoKICB2YXIgaGUgPSB7CiAgICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZSAoaHRtbCkgewogICAgICBkZWNvZGVyID0gZGVjb2RlciB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgZGVjb2Rlci5pbm5lckhUTUwgPSBodG1sOwogICAgICByZXR1cm4gZGVjb2Rlci50ZXh0Q29udGVudAogICAgfQogIH07CgogIC8qICAqLwoKICB2YXIgaXNVbmFyeVRhZyA9IG1ha2VNYXAoCiAgICAnYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxmcmFtZSxocixpbWcsaW5wdXQsaXNpbmRleCxrZXlnZW4sJyArCiAgICAnbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnInCiAgKTsKCiAgLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuCiAgLy8gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKQogIHZhciBjYW5CZUxlZnRPcGVuVGFnID0gbWFrZU1hcCgKICAgICdjb2xncm91cCxkZCxkdCxsaSxvcHRpb25zLHAsdGQsdGZvb3QsdGgsdGhlYWQsdHIsc291cmNlJwogICk7CgogIC8vIEhUTUw1IHRhZ3MgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5kaWNlcy5odG1sI2VsZW1lbnRzLTMKICAvLyBQaHJhc2luZyBDb250ZW50IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2RvbS5odG1sI3BocmFzaW5nLWNvbnRlbnQKICB2YXIgaXNOb25QaHJhc2luZ1RhZyA9IG1ha2VNYXAoCiAgICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJhc2UsYmxvY2txdW90ZSxib2R5LGNhcHRpb24sY29sLGNvbGdyb3VwLGRkLCcgKwogICAgJ2RldGFpbHMsZGlhbG9nLGRpdixkbCxkdCxmaWVsZHNldCxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsZm9ybSwnICsKICAgICdoMSxoMixoMyxoNCxoNSxoNixoZWFkLGhlYWRlcixoZ3JvdXAsaHIsaHRtbCxsZWdlbmQsbGksbWVudWl0ZW0sbWV0YSwnICsKICAgICdvcHRncm91cCxvcHRpb24scGFyYW0scnAscnQsc291cmNlLHN0eWxlLHN1bW1hcnksdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsJyArCiAgICAndGl0bGUsdHIsdHJhY2snCiAgKTsKCiAgLyoqCiAgICogTm90IHR5cGUtY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgaXQncyBtb3N0bHkgdmVuZG9yIGNvZGUuCiAgICovCgogIC8vIFJlZ3VsYXIgRXhwcmVzc2lvbnMgZm9yIHBhcnNpbmcgdGFncyBhbmQgYXR0cmlidXRlcwogIHZhciBhdHRyaWJ1dGUgPSAvXlxzKihbXlxzIic8PlwvPV0rKSg/OlxzKig9KVxzKig/OiIoW14iXSopIit8JyhbXiddKiknK3woW15ccyInPTw+YF0rKSkpPy87CiAgdmFyIGR5bmFtaWNBcmdBdHRyaWJ1dGUgPSAvXlxzKigoPzp2LVtcdy1dKzp8QHw6fCMpXFtbXj1dK1xdW15ccyInPD5cLz1dKikoPzpccyooPSlccyooPzoiKFteIl0qKSIrfCcoW14nXSopJyt8KFteXHMiJz08PmBdKykpKT8vOwogIHZhciBuY25hbWUgPSAiW2EtekEtWl9dW1xcLVxcLjAtOV9hLXpBLVoiICsgKHVuaWNvZGVSZWdFeHAuc291cmNlKSArICJdKiI7CiAgdmFyIHFuYW1lQ2FwdHVyZSA9ICIoKD86IiArIG5jbmFtZSArICJcXDopPyIgKyBuY25hbWUgKyAiKSI7CiAgdmFyIHN0YXJ0VGFnT3BlbiA9IG5ldyBSZWdFeHAoKCJePCIgKyBxbmFtZUNhcHR1cmUpKTsKICB2YXIgc3RhcnRUYWdDbG9zZSA9IC9eXHMqKFwvPyk+LzsKICB2YXIgZW5kVGFnID0gbmV3IFJlZ0V4cCgoIl48XFwvIiArIHFuYW1lQ2FwdHVyZSArICJbXj5dKj4iKSk7CiAgdmFyIGRvY3R5cGUgPSAvXjwhRE9DVFlQRSBbXj5dKz4vaTsKICAvLyAjNzI5ODogZXNjYXBlIC0gdG8gYXZvaWQgYmVpbmcgcGFzZWQgYXMgSFRNTCBjb21tZW50IHdoZW4gaW5saW5lZCBpbiBwYWdlCiAgdmFyIGNvbW1lbnQgPSAvXjwhXC0tLzsKICB2YXIgY29uZGl0aW9uYWxDb21tZW50ID0gL148IVxbLzsKCiAgLy8gU3BlY2lhbCBFbGVtZW50cyAoY2FuIGNvbnRhaW4gYW55dGhpbmcpCiAgdmFyIGlzUGxhaW5UZXh0RWxlbWVudCA9IG1ha2VNYXAoJ3NjcmlwdCxzdHlsZSx0ZXh0YXJlYScsIHRydWUpOwogIHZhciByZUNhY2hlID0ge307CgogIHZhciBkZWNvZGluZ01hcCA9IHsKICAgICcmbHQ7JzogJzwnLAogICAgJyZndDsnOiAnPicsCiAgICAnJnF1b3Q7JzogJyInLAogICAgJyZhbXA7JzogJyYnLAogICAgJyYjMTA7JzogJ1xuJywKICAgICcmIzk7JzogJ1x0JywKICAgICcmIzM5Oyc6ICInIgogIH07CiAgdmFyIGVuY29kZWRBdHRyID0gLyYoPzpsdHxndHxxdW90fGFtcHwjMzkpOy9nOwogIHZhciBlbmNvZGVkQXR0cldpdGhOZXdMaW5lcyA9IC8mKD86bHR8Z3R8cXVvdHxhbXB8IzM5fCMxMHwjOSk7L2c7CgogIC8vICM1OTkyCiAgdmFyIGlzSWdub3JlTmV3bGluZVRhZyA9IG1ha2VNYXAoJ3ByZSx0ZXh0YXJlYScsIHRydWUpOwogIHZhciBzaG91bGRJZ25vcmVGaXJzdE5ld2xpbmUgPSBmdW5jdGlvbiAodGFnLCBodG1sKSB7IHJldHVybiB0YWcgJiYgaXNJZ25vcmVOZXdsaW5lVGFnKHRhZykgJiYgaHRtbFswXSA9PT0gJ1xuJzsgfTsKCiAgZnVuY3Rpb24gZGVjb2RlQXR0ciAodmFsdWUsIHNob3VsZERlY29kZU5ld2xpbmVzKSB7CiAgICB2YXIgcmUgPSBzaG91bGREZWNvZGVOZXdsaW5lcyA/IGVuY29kZWRBdHRyV2l0aE5ld0xpbmVzIDogZW5jb2RlZEF0dHI7CiAgICByZXR1cm4gdmFsdWUucmVwbGFjZShyZSwgZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBkZWNvZGluZ01hcFttYXRjaF07IH0pCiAgfQoKICBmdW5jdGlvbiBwYXJzZUhUTUwgKGh0bWwsIG9wdGlvbnMpIHsKICAgIHZhciBzdGFjayA9IFtdOwogICAgdmFyIGV4cGVjdEhUTUwgPSBvcHRpb25zLmV4cGVjdEhUTUw7CiAgICB2YXIgaXNVbmFyeVRhZyQkMSA9IG9wdGlvbnMuaXNVbmFyeVRhZyB8fCBubzsKICAgIHZhciBjYW5CZUxlZnRPcGVuVGFnJCQxID0gb3B0aW9ucy5jYW5CZUxlZnRPcGVuVGFnIHx8IG5vOwogICAgdmFyIGluZGV4ID0gMDsKICAgIHZhciBsYXN0LCBsYXN0VGFnOwogICAgd2hpbGUgKGh0bWwpIHsKICAgICAgbGFzdCA9IGh0bWw7CiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSdyZSBub3QgaW4gYSBwbGFpbnRleHQgY29udGVudCBlbGVtZW50IGxpa2Ugc2NyaXB0L3N0eWxlCiAgICAgIGlmICghbGFzdFRhZyB8fCAhaXNQbGFpblRleHRFbGVtZW50KGxhc3RUYWcpKSB7CiAgICAgICAgdmFyIHRleHRFbmQgPSBodG1sLmluZGV4T2YoJzwnKTsKICAgICAgICBpZiAodGV4dEVuZCA9PT0gMCkgewogICAgICAgICAgLy8gQ29tbWVudDoKICAgICAgICAgIGlmIChjb21tZW50LnRlc3QoaHRtbCkpIHsKICAgICAgICAgICAgdmFyIGNvbW1lbnRFbmQgPSBodG1sLmluZGV4T2YoJy0tPicpOwoKICAgICAgICAgICAgaWYgKGNvbW1lbnRFbmQgPj0gMCkgewogICAgICAgICAgICAgIGlmIChvcHRpb25zLnNob3VsZEtlZXBDb21tZW50KSB7CiAgICAgICAgICAgICAgICBvcHRpb25zLmNvbW1lbnQoaHRtbC5zdWJzdHJpbmcoNCwgY29tbWVudEVuZCksIGluZGV4LCBpbmRleCArIGNvbW1lbnRFbmQgKyAzKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYWR2YW5jZShjb21tZW50RW5kICsgMyk7CiAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29uZGl0aW9uYWxfY29tbWVudCNEb3dubGV2ZWwtcmV2ZWFsZWRfY29uZGl0aW9uYWxfY29tbWVudAogICAgICAgICAgaWYgKGNvbmRpdGlvbmFsQ29tbWVudC50ZXN0KGh0bWwpKSB7CiAgICAgICAgICAgIHZhciBjb25kaXRpb25hbEVuZCA9IGh0bWwuaW5kZXhPZignXT4nKTsKCiAgICAgICAgICAgIGlmIChjb25kaXRpb25hbEVuZCA+PSAwKSB7CiAgICAgICAgICAgICAgYWR2YW5jZShjb25kaXRpb25hbEVuZCArIDIpOwogICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICAvLyBEb2N0eXBlOgogICAgICAgICAgdmFyIGRvY3R5cGVNYXRjaCA9IGh0bWwubWF0Y2goZG9jdHlwZSk7CiAgICAgICAgICBpZiAoZG9jdHlwZU1hdGNoKSB7CiAgICAgICAgICAgIGFkdmFuY2UoZG9jdHlwZU1hdGNoWzBdLmxlbmd0aCk7CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICB9CgogICAgICAgICAgLy8gRW5kIHRhZzoKICAgICAgICAgIHZhciBlbmRUYWdNYXRjaCA9IGh0bWwubWF0Y2goZW5kVGFnKTsKICAgICAgICAgIGlmIChlbmRUYWdNYXRjaCkgewogICAgICAgICAgICB2YXIgY3VySW5kZXggPSBpbmRleDsKICAgICAgICAgICAgYWR2YW5jZShlbmRUYWdNYXRjaFswXS5sZW5ndGgpOwogICAgICAgICAgICBwYXJzZUVuZFRhZyhlbmRUYWdNYXRjaFsxXSwgY3VySW5kZXgsIGluZGV4KTsKICAgICAgICAgICAgY29udGludWUKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBTdGFydCB0YWc6CiAgICAgICAgICB2YXIgc3RhcnRUYWdNYXRjaCA9IHBhcnNlU3RhcnRUYWcoKTsKICAgICAgICAgIGlmIChzdGFydFRhZ01hdGNoKSB7CiAgICAgICAgICAgIGhhbmRsZVN0YXJ0VGFnKHN0YXJ0VGFnTWF0Y2gpOwogICAgICAgICAgICBpZiAoc2hvdWxkSWdub3JlRmlyc3ROZXdsaW5lKHN0YXJ0VGFnTWF0Y2gudGFnTmFtZSwgaHRtbCkpIHsKICAgICAgICAgICAgICBhZHZhbmNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgdGV4dCA9ICh2b2lkIDApLCByZXN0ID0gKHZvaWQgMCksIG5leHQgPSAodm9pZCAwKTsKICAgICAgICBpZiAodGV4dEVuZCA+PSAwKSB7CiAgICAgICAgICByZXN0ID0gaHRtbC5zbGljZSh0ZXh0RW5kKTsKICAgICAgICAgIHdoaWxlICgKICAgICAgICAgICAgIWVuZFRhZy50ZXN0KHJlc3QpICYmCiAgICAgICAgICAgICFzdGFydFRhZ09wZW4udGVzdChyZXN0KSAmJgogICAgICAgICAgICAhY29tbWVudC50ZXN0KHJlc3QpICYmCiAgICAgICAgICAgICFjb25kaXRpb25hbENvbW1lbnQudGVzdChyZXN0KQogICAgICAgICAgKSB7CiAgICAgICAgICAgIC8vIDwgaW4gcGxhaW4gdGV4dCwgYmUgZm9yZ2l2aW5nIGFuZCB0cmVhdCBpdCBhcyB0ZXh0CiAgICAgICAgICAgIG5leHQgPSByZXN0LmluZGV4T2YoJzwnLCAxKTsKICAgICAgICAgICAgaWYgKG5leHQgPCAwKSB7IGJyZWFrIH0KICAgICAgICAgICAgdGV4dEVuZCArPSBuZXh0OwogICAgICAgICAgICByZXN0ID0gaHRtbC5zbGljZSh0ZXh0RW5kKTsKICAgICAgICAgIH0KICAgICAgICAgIHRleHQgPSBodG1sLnN1YnN0cmluZygwLCB0ZXh0RW5kKTsKICAgICAgICB9CgogICAgICAgIGlmICh0ZXh0RW5kIDwgMCkgewogICAgICAgICAgdGV4dCA9IGh0bWw7CiAgICAgICAgfQoKICAgICAgICBpZiAodGV4dCkgewogICAgICAgICAgYWR2YW5jZSh0ZXh0Lmxlbmd0aCk7CiAgICAgICAgfQoKICAgICAgICBpZiAob3B0aW9ucy5jaGFycyAmJiB0ZXh0KSB7CiAgICAgICAgICBvcHRpb25zLmNoYXJzKHRleHQsIGluZGV4IC0gdGV4dC5sZW5ndGgsIGluZGV4KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGVuZFRhZ0xlbmd0aCA9IDA7CiAgICAgICAgdmFyIHN0YWNrZWRUYWcgPSBsYXN0VGFnLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgdmFyIHJlU3RhY2tlZFRhZyA9IHJlQ2FjaGVbc3RhY2tlZFRhZ10gfHwgKHJlQ2FjaGVbc3RhY2tlZFRhZ10gPSBuZXcgUmVnRXhwKCcoW1xcc1xcU10qPykoPC8nICsgc3RhY2tlZFRhZyArICdbXj5dKj4pJywgJ2knKSk7CiAgICAgICAgdmFyIHJlc3QkMSA9IGh0bWwucmVwbGFjZShyZVN0YWNrZWRUYWcsIGZ1bmN0aW9uIChhbGwsIHRleHQsIGVuZFRhZykgewogICAgICAgICAgZW5kVGFnTGVuZ3RoID0gZW5kVGFnLmxlbmd0aDsKICAgICAgICAgIGlmICghaXNQbGFpblRleHRFbGVtZW50KHN0YWNrZWRUYWcpICYmIHN0YWNrZWRUYWcgIT09ICdub3NjcmlwdCcpIHsKICAgICAgICAgICAgdGV4dCA9IHRleHQKICAgICAgICAgICAgICAucmVwbGFjZSgvPCFcLS0oW1xzXFNdKj8pLS0+L2csICckMScpIC8vICM3Mjk4CiAgICAgICAgICAgICAgLnJlcGxhY2UoLzwhXFtDREFUQVxbKFtcc1xTXSo/KV1dPi9nLCAnJDEnKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzaG91bGRJZ25vcmVGaXJzdE5ld2xpbmUoc3RhY2tlZFRhZywgdGV4dCkpIHsKICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAob3B0aW9ucy5jaGFycykgewogICAgICAgICAgICBvcHRpb25zLmNoYXJzKHRleHQpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuICcnCiAgICAgICAgfSk7CiAgICAgICAgaW5kZXggKz0gaHRtbC5sZW5ndGggLSByZXN0JDEubGVuZ3RoOwogICAgICAgIGh0bWwgPSByZXN0JDE7CiAgICAgICAgcGFyc2VFbmRUYWcoc3RhY2tlZFRhZywgaW5kZXggLSBlbmRUYWdMZW5ndGgsIGluZGV4KTsKICAgICAgfQoKICAgICAgaWYgKGh0bWwgPT09IGxhc3QpIHsKICAgICAgICBvcHRpb25zLmNoYXJzICYmIG9wdGlvbnMuY2hhcnMoaHRtbCk7CiAgICAgICAgaWYgKCFzdGFjay5sZW5ndGggJiYgb3B0aW9ucy53YXJuKSB7CiAgICAgICAgICBvcHRpb25zLndhcm4oKCJNYWwtZm9ybWF0dGVkIHRhZyBhdCBlbmQgb2YgdGVtcGxhdGU6IFwiIiArIGh0bWwgKyAiXCIiKSwgeyBzdGFydDogaW5kZXggKyBodG1sLmxlbmd0aCB9KTsKICAgICAgICB9CiAgICAgICAgYnJlYWsKICAgICAgfQogICAgfQoKICAgIC8vIENsZWFuIHVwIGFueSByZW1haW5pbmcgdGFncwogICAgcGFyc2VFbmRUYWcoKTsKCiAgICBmdW5jdGlvbiBhZHZhbmNlIChuKSB7CiAgICAgIGluZGV4ICs9IG47CiAgICAgIGh0bWwgPSBodG1sLnN1YnN0cmluZyhuKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwYXJzZVN0YXJ0VGFnICgpIHsKICAgICAgdmFyIHN0YXJ0ID0gaHRtbC5tYXRjaChzdGFydFRhZ09wZW4pOwogICAgICBpZiAoc3RhcnQpIHsKICAgICAgICB2YXIgbWF0Y2ggPSB7CiAgICAgICAgICB0YWdOYW1lOiBzdGFydFsxXSwKICAgICAgICAgIGF0dHJzOiBbXSwKICAgICAgICAgIHN0YXJ0OiBpbmRleAogICAgICAgIH07CiAgICAgICAgYWR2YW5jZShzdGFydFswXS5sZW5ndGgpOwogICAgICAgIHZhciBlbmQsIGF0dHI7CiAgICAgICAgd2hpbGUgKCEoZW5kID0gaHRtbC5tYXRjaChzdGFydFRhZ0Nsb3NlKSkgJiYgKGF0dHIgPSBodG1sLm1hdGNoKGR5bmFtaWNBcmdBdHRyaWJ1dGUpIHx8IGh0bWwubWF0Y2goYXR0cmlidXRlKSkpIHsKICAgICAgICAgIGF0dHIuc3RhcnQgPSBpbmRleDsKICAgICAgICAgIGFkdmFuY2UoYXR0clswXS5sZW5ndGgpOwogICAgICAgICAgYXR0ci5lbmQgPSBpbmRleDsKICAgICAgICAgIG1hdGNoLmF0dHJzLnB1c2goYXR0cik7CiAgICAgICAgfQogICAgICAgIGlmIChlbmQpIHsKICAgICAgICAgIG1hdGNoLnVuYXJ5U2xhc2ggPSBlbmRbMV07CiAgICAgICAgICBhZHZhbmNlKGVuZFswXS5sZW5ndGgpOwogICAgICAgICAgbWF0Y2guZW5kID0gaW5kZXg7CiAgICAgICAgICByZXR1cm4gbWF0Y2gKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBoYW5kbGVTdGFydFRhZyAobWF0Y2gpIHsKICAgICAgdmFyIHRhZ05hbWUgPSBtYXRjaC50YWdOYW1lOwogICAgICB2YXIgdW5hcnlTbGFzaCA9IG1hdGNoLnVuYXJ5U2xhc2g7CgogICAgICBpZiAoZXhwZWN0SFRNTCkgewogICAgICAgIGlmIChsYXN0VGFnID09PSAncCcgJiYgaXNOb25QaHJhc2luZ1RhZyh0YWdOYW1lKSkgewogICAgICAgICAgcGFyc2VFbmRUYWcobGFzdFRhZyk7CiAgICAgICAgfQogICAgICAgIGlmIChjYW5CZUxlZnRPcGVuVGFnJCQxKHRhZ05hbWUpICYmIGxhc3RUYWcgPT09IHRhZ05hbWUpIHsKICAgICAgICAgIHBhcnNlRW5kVGFnKHRhZ05hbWUpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHVuYXJ5ID0gaXNVbmFyeVRhZyQkMSh0YWdOYW1lKSB8fCAhIXVuYXJ5U2xhc2g7CgogICAgICB2YXIgbCA9IG1hdGNoLmF0dHJzLmxlbmd0aDsKICAgICAgdmFyIGF0dHJzID0gbmV3IEFycmF5KGwpOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykgewogICAgICAgIHZhciBhcmdzID0gbWF0Y2guYXR0cnNbaV07CiAgICAgICAgdmFyIHZhbHVlID0gYXJnc1szXSB8fCBhcmdzWzRdIHx8IGFyZ3NbNV0gfHwgJyc7CiAgICAgICAgdmFyIHNob3VsZERlY29kZU5ld2xpbmVzID0gdGFnTmFtZSA9PT0gJ2EnICYmIGFyZ3NbMV0gPT09ICdocmVmJwogICAgICAgICAgPyBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZgogICAgICAgICAgOiBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzOwogICAgICAgIGF0dHJzW2ldID0gewogICAgICAgICAgbmFtZTogYXJnc1sxXSwKICAgICAgICAgIHZhbHVlOiBkZWNvZGVBdHRyKHZhbHVlLCBzaG91bGREZWNvZGVOZXdsaW5lcykKICAgICAgICB9OwogICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7CiAgICAgICAgICBhdHRyc1tpXS5zdGFydCA9IGFyZ3Muc3RhcnQgKyBhcmdzWzBdLm1hdGNoKC9eXHMqLykubGVuZ3RoOwogICAgICAgICAgYXR0cnNbaV0uZW5kID0gYXJncy5lbmQ7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoIXVuYXJ5KSB7CiAgICAgICAgc3RhY2sucHVzaCh7IHRhZzogdGFnTmFtZSwgbG93ZXJDYXNlZFRhZzogdGFnTmFtZS50b0xvd2VyQ2FzZSgpLCBhdHRyczogYXR0cnMsIHN0YXJ0OiBtYXRjaC5zdGFydCwgZW5kOiBtYXRjaC5lbmQgfSk7CiAgICAgICAgbGFzdFRhZyA9IHRhZ05hbWU7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLnN0YXJ0KSB7CiAgICAgICAgb3B0aW9ucy5zdGFydCh0YWdOYW1lLCBhdHRycywgdW5hcnksIG1hdGNoLnN0YXJ0LCBtYXRjaC5lbmQpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcGFyc2VFbmRUYWcgKHRhZ05hbWUsIHN0YXJ0LCBlbmQpIHsKICAgICAgdmFyIHBvcywgbG93ZXJDYXNlZFRhZ05hbWU7CiAgICAgIGlmIChzdGFydCA9PSBudWxsKSB7IHN0YXJ0ID0gaW5kZXg7IH0KICAgICAgaWYgKGVuZCA9PSBudWxsKSB7IGVuZCA9IGluZGV4OyB9CgogICAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IG9wZW5lZCB0YWcgb2YgdGhlIHNhbWUgdHlwZQogICAgICBpZiAodGFnTmFtZSkgewogICAgICAgIGxvd2VyQ2FzZWRUYWdOYW1lID0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGZvciAocG9zID0gc3RhY2subGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7CiAgICAgICAgICBpZiAoc3RhY2tbcG9zXS5sb3dlckNhc2VkVGFnID09PSBsb3dlckNhc2VkVGFnTmFtZSkgewogICAgICAgICAgICBicmVhawogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBJZiBubyB0YWcgbmFtZSBpcyBwcm92aWRlZCwgY2xlYW4gc2hvcAogICAgICAgIHBvcyA9IDA7CiAgICAgIH0KCiAgICAgIGlmIChwb3MgPj0gMCkgewogICAgICAgIC8vIENsb3NlIGFsbCB0aGUgb3BlbiBlbGVtZW50cywgdXAgdGhlIHN0YWNrCiAgICAgICAgZm9yICh2YXIgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gcG9zOyBpLS0pIHsKICAgICAgICAgIGlmIChpID4gcG9zIHx8ICF0YWdOYW1lICYmCiAgICAgICAgICAgIG9wdGlvbnMud2FybgogICAgICAgICAgKSB7CiAgICAgICAgICAgIG9wdGlvbnMud2FybigKICAgICAgICAgICAgICAoInRhZyA8IiArIChzdGFja1tpXS50YWcpICsgIj4gaGFzIG5vIG1hdGNoaW5nIGVuZCB0YWcuIiksCiAgICAgICAgICAgICAgeyBzdGFydDogc3RhY2tbaV0uc3RhcnQsIGVuZDogc3RhY2tbaV0uZW5kIH0KICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChvcHRpb25zLmVuZCkgewogICAgICAgICAgICBvcHRpb25zLmVuZChzdGFja1tpXS50YWcsIHN0YXJ0LCBlbmQpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gUmVtb3ZlIHRoZSBvcGVuIGVsZW1lbnRzIGZyb20gdGhlIHN0YWNrCiAgICAgICAgc3RhY2subGVuZ3RoID0gcG9zOwogICAgICAgIGxhc3RUYWcgPSBwb3MgJiYgc3RhY2tbcG9zIC0gMV0udGFnOwogICAgICB9IGVsc2UgaWYgKGxvd2VyQ2FzZWRUYWdOYW1lID09PSAnYnInKSB7CiAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnQpIHsKICAgICAgICAgIG9wdGlvbnMuc3RhcnQodGFnTmFtZSwgW10sIHRydWUsIHN0YXJ0LCBlbmQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsb3dlckNhc2VkVGFnTmFtZSA9PT0gJ3AnKSB7CiAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnQpIHsKICAgICAgICAgIG9wdGlvbnMuc3RhcnQodGFnTmFtZSwgW10sIGZhbHNlLCBzdGFydCwgZW5kKTsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbnMuZW5kKSB7CiAgICAgICAgICBvcHRpb25zLmVuZCh0YWdOYW1lLCBzdGFydCwgZW5kKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIC8qICAqLwoKICB2YXIgb25SRSA9IC9eQHxedi1vbjovOwogIHZhciBkaXJSRSA9IC9edi18XkB8XjovOwogIHZhciBmb3JBbGlhc1JFID0gLyhbXHNcU10qPylccysoPzppbnxvZilccysoW1xzXFNdKikvOwogIHZhciBmb3JJdGVyYXRvclJFID0gLywoW14sXH1cXV0qKSg/OiwoW14sXH1cXV0qKSk/JC87CiAgdmFyIHN0cmlwUGFyZW5zUkUgPSAvXlwofFwpJC9nOwogIHZhciBkeW5hbWljQXJnUkUgPSAvXlxbLipcXSQvOwoKICB2YXIgYXJnUkUgPSAvOiguKikkLzsKICB2YXIgYmluZFJFID0gL146fF5cLnxedi1iaW5kOi87CiAgdmFyIG1vZGlmaWVyUkUgPSAvXC5bXi5cXV0rKD89W15cXV0qJCkvZzsKCiAgdmFyIHNsb3RSRSA9IC9edi1zbG90KDp8JCl8XiMvOwoKICB2YXIgbGluZUJyZWFrUkUgPSAvW1xyXG5dLzsKICB2YXIgd2hpdGVzcGFjZVJFJDEgPSAvXHMrL2c7CgogIHZhciBpbnZhbGlkQXR0cmlidXRlUkUgPSAvW1xzIic8PlwvPV0vOwoKICB2YXIgZGVjb2RlSFRNTENhY2hlZCA9IGNhY2hlZChoZS5kZWNvZGUpOwoKICB2YXIgZW1wdHlTbG90U2NvcGVUb2tlbiA9ICJfZW1wdHlfIjsKCiAgLy8gY29uZmlndXJhYmxlIHN0YXRlCiAgdmFyIHdhcm4kMjsKICB2YXIgZGVsaW1pdGVyczsKICB2YXIgdHJhbnNmb3JtczsKICB2YXIgcHJlVHJhbnNmb3JtczsKICB2YXIgcG9zdFRyYW5zZm9ybXM7CiAgdmFyIHBsYXRmb3JtSXNQcmVUYWc7CiAgdmFyIHBsYXRmb3JtTXVzdFVzZVByb3A7CiAgdmFyIHBsYXRmb3JtR2V0VGFnTmFtZXNwYWNlOwogIHZhciBtYXliZUNvbXBvbmVudDsKCiAgZnVuY3Rpb24gY3JlYXRlQVNURWxlbWVudCAoCiAgICB0YWcsCiAgICBhdHRycywKICAgIHBhcmVudAogICkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogMSwKICAgICAgdGFnOiB0YWcsCiAgICAgIGF0dHJzTGlzdDogYXR0cnMsCiAgICAgIGF0dHJzTWFwOiBtYWtlQXR0cnNNYXAoYXR0cnMpLAogICAgICByYXdBdHRyc01hcDoge30sCiAgICAgIHBhcmVudDogcGFyZW50LAogICAgICBjaGlsZHJlbjogW10KICAgIH0KICB9CgogIC8qKgogICAqIENvbnZlcnQgSFRNTCBzdHJpbmcgdG8gQVNULgogICAqLwogIGZ1bmN0aW9uIHBhcnNlICgKICAgIHRlbXBsYXRlLAogICAgb3B0aW9ucwogICkgewogICAgd2FybiQyID0gb3B0aW9ucy53YXJuIHx8IGJhc2VXYXJuOwoKICAgIHBsYXRmb3JtSXNQcmVUYWcgPSBvcHRpb25zLmlzUHJlVGFnIHx8IG5vOwogICAgcGxhdGZvcm1NdXN0VXNlUHJvcCA9IG9wdGlvbnMubXVzdFVzZVByb3AgfHwgbm87CiAgICBwbGF0Zm9ybUdldFRhZ05hbWVzcGFjZSA9IG9wdGlvbnMuZ2V0VGFnTmFtZXNwYWNlIHx8IG5vOwogICAgdmFyIGlzUmVzZXJ2ZWRUYWcgPSBvcHRpb25zLmlzUmVzZXJ2ZWRUYWcgfHwgbm87CiAgICBtYXliZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gISFlbC5jb21wb25lbnQgfHwgIWlzUmVzZXJ2ZWRUYWcoZWwudGFnKTsgfTsKCiAgICB0cmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICd0cmFuc2Zvcm1Ob2RlJyk7CiAgICBwcmVUcmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdwcmVUcmFuc2Zvcm1Ob2RlJyk7CiAgICBwb3N0VHJhbnNmb3JtcyA9IHBsdWNrTW9kdWxlRnVuY3Rpb24ob3B0aW9ucy5tb2R1bGVzLCAncG9zdFRyYW5zZm9ybU5vZGUnKTsKCiAgICBkZWxpbWl0ZXJzID0gb3B0aW9ucy5kZWxpbWl0ZXJzOwoKICAgIHZhciBzdGFjayA9IFtdOwogICAgdmFyIHByZXNlcnZlV2hpdGVzcGFjZSA9IG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlICE9PSBmYWxzZTsKICAgIHZhciB3aGl0ZXNwYWNlT3B0aW9uID0gb3B0aW9ucy53aGl0ZXNwYWNlOwogICAgdmFyIHJvb3Q7CiAgICB2YXIgY3VycmVudFBhcmVudDsKICAgIHZhciBpblZQcmUgPSBmYWxzZTsKICAgIHZhciBpblByZSA9IGZhbHNlOwogICAgdmFyIHdhcm5lZCA9IGZhbHNlOwoKICAgIGZ1bmN0aW9uIHdhcm5PbmNlIChtc2csIHJhbmdlKSB7CiAgICAgIGlmICghd2FybmVkKSB7CiAgICAgICAgd2FybmVkID0gdHJ1ZTsKICAgICAgICB3YXJuJDIobXNnLCByYW5nZSk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjbG9zZUVsZW1lbnQgKGVsZW1lbnQpIHsKICAgICAgdHJpbUVuZGluZ1doaXRlc3BhY2UoZWxlbWVudCk7CiAgICAgIGlmICghaW5WUHJlICYmICFlbGVtZW50LnByb2Nlc3NlZCkgewogICAgICAgIGVsZW1lbnQgPSBwcm9jZXNzRWxlbWVudChlbGVtZW50LCBvcHRpb25zKTsKICAgICAgfQogICAgICAvLyB0cmVlIG1hbmFnZW1lbnQKICAgICAgaWYgKCFzdGFjay5sZW5ndGggJiYgZWxlbWVudCAhPT0gcm9vdCkgewogICAgICAgIC8vIGFsbG93IHJvb3QgZWxlbWVudHMgd2l0aCB2LWlmLCB2LWVsc2UtaWYgYW5kIHYtZWxzZQogICAgICAgIGlmIChyb290LmlmICYmIChlbGVtZW50LmVsc2VpZiB8fCBlbGVtZW50LmVsc2UpKSB7CiAgICAgICAgICB7CiAgICAgICAgICAgIGNoZWNrUm9vdENvbnN0cmFpbnRzKGVsZW1lbnQpOwogICAgICAgICAgfQogICAgICAgICAgYWRkSWZDb25kaXRpb24ocm9vdCwgewogICAgICAgICAgICBleHA6IGVsZW1lbnQuZWxzZWlmLAogICAgICAgICAgICBibG9jazogZWxlbWVudAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdhcm5PbmNlKAogICAgICAgICAgICAiQ29tcG9uZW50IHRlbXBsYXRlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gIiArCiAgICAgICAgICAgICJJZiB5b3UgYXJlIHVzaW5nIHYtaWYgb24gbXVsdGlwbGUgZWxlbWVudHMsICIgKwogICAgICAgICAgICAidXNlIHYtZWxzZS1pZiB0byBjaGFpbiB0aGVtIGluc3RlYWQuIiwKICAgICAgICAgICAgeyBzdGFydDogZWxlbWVudC5zdGFydCB9CiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoY3VycmVudFBhcmVudCAmJiAhZWxlbWVudC5mb3JiaWRkZW4pIHsKICAgICAgICBpZiAoZWxlbWVudC5lbHNlaWYgfHwgZWxlbWVudC5lbHNlKSB7CiAgICAgICAgICBwcm9jZXNzSWZDb25kaXRpb25zKGVsZW1lbnQsIGN1cnJlbnRQYXJlbnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoZWxlbWVudC5zbG90U2NvcGUpIHsKICAgICAgICAgICAgLy8gc2NvcGVkIHNsb3QKICAgICAgICAgICAgLy8ga2VlcCBpdCBpbiB0aGUgY2hpbGRyZW4gbGlzdCBzbyB0aGF0IHYtZWxzZSgtaWYpIGNvbmRpdGlvbnMgY2FuCiAgICAgICAgICAgIC8vIGZpbmQgaXQgYXMgdGhlIHByZXYgbm9kZS4KICAgICAgICAgICAgdmFyIG5hbWUgPSBlbGVtZW50LnNsb3RUYXJnZXQgfHwgJyJkZWZhdWx0IicKICAgICAgICAgICAgOyhjdXJyZW50UGFyZW50LnNjb3BlZFNsb3RzIHx8IChjdXJyZW50UGFyZW50LnNjb3BlZFNsb3RzID0ge30pKVtuYW1lXSA9IGVsZW1lbnQ7CiAgICAgICAgICB9CiAgICAgICAgICBjdXJyZW50UGFyZW50LmNoaWxkcmVuLnB1c2goZWxlbWVudCk7CiAgICAgICAgICBlbGVtZW50LnBhcmVudCA9IGN1cnJlbnRQYXJlbnQ7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBmaW5hbCBjaGlsZHJlbiBjbGVhbnVwCiAgICAgIC8vIGZpbHRlciBvdXQgc2NvcGVkIHNsb3RzCiAgICAgIGVsZW1lbnQuY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gIShjKS5zbG90U2NvcGU7IH0pOwogICAgICAvLyByZW1vdmUgdHJhaWxpbmcgd2hpdGVzcGFjZSBub2RlIGFnYWluCiAgICAgIHRyaW1FbmRpbmdXaGl0ZXNwYWNlKGVsZW1lbnQpOwoKICAgICAgLy8gY2hlY2sgcHJlIHN0YXRlCiAgICAgIGlmIChlbGVtZW50LnByZSkgewogICAgICAgIGluVlByZSA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmIChwbGF0Zm9ybUlzUHJlVGFnKGVsZW1lbnQudGFnKSkgewogICAgICAgIGluUHJlID0gZmFsc2U7CiAgICAgIH0KICAgICAgLy8gYXBwbHkgcG9zdC10cmFuc2Zvcm1zCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zdFRyYW5zZm9ybXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBwb3N0VHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyaW1FbmRpbmdXaGl0ZXNwYWNlIChlbCkgewogICAgICAvLyByZW1vdmUgdHJhaWxpbmcgd2hpdGVzcGFjZSBub2RlCiAgICAgIGlmICghaW5QcmUpIHsKICAgICAgICB2YXIgbGFzdE5vZGU7CiAgICAgICAgd2hpbGUgKAogICAgICAgICAgKGxhc3ROb2RlID0gZWwuY2hpbGRyZW5bZWwuY2hpbGRyZW4ubGVuZ3RoIC0gMV0pICYmCiAgICAgICAgICBsYXN0Tm9kZS50eXBlID09PSAzICYmCiAgICAgICAgICBsYXN0Tm9kZS50ZXh0ID09PSAnICcKICAgICAgICApIHsKICAgICAgICAgIGVsLmNoaWxkcmVuLnBvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrUm9vdENvbnN0cmFpbnRzIChlbCkgewogICAgICBpZiAoZWwudGFnID09PSAnc2xvdCcgfHwgZWwudGFnID09PSAndGVtcGxhdGUnKSB7CiAgICAgICAgd2Fybk9uY2UoCiAgICAgICAgICAiQ2Fubm90IHVzZSA8IiArIChlbC50YWcpICsgIj4gYXMgY29tcG9uZW50IHJvb3QgZWxlbWVudCBiZWNhdXNlIGl0IG1heSAiICsKICAgICAgICAgICdjb250YWluIG11bHRpcGxlIG5vZGVzLicsCiAgICAgICAgICB7IHN0YXJ0OiBlbC5zdGFydCB9CiAgICAgICAgKTsKICAgICAgfQogICAgICBpZiAoZWwuYXR0cnNNYXAuaGFzT3duUHJvcGVydHkoJ3YtZm9yJykpIHsKICAgICAgICB3YXJuT25jZSgKICAgICAgICAgICdDYW5ub3QgdXNlIHYtZm9yIG9uIHN0YXRlZnVsIGNvbXBvbmVudCByb290IGVsZW1lbnQgYmVjYXVzZSAnICsKICAgICAgICAgICdpdCByZW5kZXJzIG11bHRpcGxlIGVsZW1lbnRzLicsCiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsndi1mb3InXQogICAgICAgICk7CiAgICAgIH0KICAgIH0KCiAgICBwYXJzZUhUTUwodGVtcGxhdGUsIHsKICAgICAgd2Fybjogd2FybiQyLAogICAgICBleHBlY3RIVE1MOiBvcHRpb25zLmV4cGVjdEhUTUwsCiAgICAgIGlzVW5hcnlUYWc6IG9wdGlvbnMuaXNVbmFyeVRhZywKICAgICAgY2FuQmVMZWZ0T3BlblRhZzogb3B0aW9ucy5jYW5CZUxlZnRPcGVuVGFnLAogICAgICBzaG91bGREZWNvZGVOZXdsaW5lczogb3B0aW9ucy5zaG91bGREZWNvZGVOZXdsaW5lcywKICAgICAgc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOiBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZiwKICAgICAgc2hvdWxkS2VlcENvbW1lbnQ6IG9wdGlvbnMuY29tbWVudHMsCiAgICAgIG91dHB1dFNvdXJjZVJhbmdlOiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlLAogICAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQgKHRhZywgYXR0cnMsIHVuYXJ5LCBzdGFydCQxLCBlbmQpIHsKICAgICAgICAvLyBjaGVjayBuYW1lc3BhY2UuCiAgICAgICAgLy8gaW5oZXJpdCBwYXJlbnQgbnMgaWYgdGhlcmUgaXMgb25lCiAgICAgICAgdmFyIG5zID0gKGN1cnJlbnRQYXJlbnQgJiYgY3VycmVudFBhcmVudC5ucykgfHwgcGxhdGZvcm1HZXRUYWdOYW1lc3BhY2UodGFnKTsKCiAgICAgICAgLy8gaGFuZGxlIElFIHN2ZyBidWcKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAoaXNJRSAmJiBucyA9PT0gJ3N2ZycpIHsKICAgICAgICAgIGF0dHJzID0gZ3VhcmRJRVNWR0J1ZyhhdHRycyk7CiAgICAgICAgfQoKICAgICAgICB2YXIgZWxlbWVudCA9IGNyZWF0ZUFTVEVsZW1lbnQodGFnLCBhdHRycywgY3VycmVudFBhcmVudCk7CiAgICAgICAgaWYgKG5zKSB7CiAgICAgICAgICBlbGVtZW50Lm5zID0gbnM7CiAgICAgICAgfQoKICAgICAgICB7CiAgICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkgewogICAgICAgICAgICBlbGVtZW50LnN0YXJ0ID0gc3RhcnQkMTsKICAgICAgICAgICAgZWxlbWVudC5lbmQgPSBlbmQ7CiAgICAgICAgICAgIGVsZW1lbnQucmF3QXR0cnNNYXAgPSBlbGVtZW50LmF0dHJzTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKGN1bXVsYXRlZCwgYXR0cikgewogICAgICAgICAgICAgIGN1bXVsYXRlZFthdHRyLm5hbWVdID0gYXR0cjsKICAgICAgICAgICAgICByZXR1cm4gY3VtdWxhdGVkCiAgICAgICAgICAgIH0sIHt9KTsKICAgICAgICAgIH0KICAgICAgICAgIGF0dHJzLmZvckVhY2goZnVuY3Rpb24gKGF0dHIpIHsKICAgICAgICAgICAgaWYgKGludmFsaWRBdHRyaWJ1dGVSRS50ZXN0KGF0dHIubmFtZSkpIHsKICAgICAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICAgICAiSW52YWxpZCBkeW5hbWljIGFyZ3VtZW50IGV4cHJlc3Npb246IGF0dHJpYnV0ZSBuYW1lcyBjYW5ub3QgY29udGFpbiAiICsKICAgICAgICAgICAgICAgICJzcGFjZXMsIHF1b3RlcywgPCwgPiwgLyBvciA9LiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHN0YXJ0OiBhdHRyLnN0YXJ0ICsgYXR0ci5uYW1lLmluZGV4T2YoIlsiKSwKICAgICAgICAgICAgICAgICAgZW5kOiBhdHRyLnN0YXJ0ICsgYXR0ci5uYW1lLmxlbmd0aAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGlzRm9yYmlkZGVuVGFnKGVsZW1lbnQpICYmICFpc1NlcnZlclJlbmRlcmluZygpKSB7CiAgICAgICAgICBlbGVtZW50LmZvcmJpZGRlbiA9IHRydWU7CiAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICdUZW1wbGF0ZXMgc2hvdWxkIG9ubHkgYmUgcmVzcG9uc2libGUgZm9yIG1hcHBpbmcgdGhlIHN0YXRlIHRvIHRoZSAnICsKICAgICAgICAgICAgJ1VJLiBBdm9pZCBwbGFjaW5nIHRhZ3Mgd2l0aCBzaWRlLWVmZmVjdHMgaW4geW91ciB0ZW1wbGF0ZXMsIHN1Y2ggYXMgJyArCiAgICAgICAgICAgICI8IiArIHRhZyArICI+IiArICcsIGFzIHRoZXkgd2lsbCBub3QgYmUgcGFyc2VkLicsCiAgICAgICAgICAgIHsgc3RhcnQ6IGVsZW1lbnQuc3RhcnQgfQogICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIC8vIGFwcGx5IHByZS10cmFuc2Zvcm1zCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVUcmFuc2Zvcm1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBlbGVtZW50ID0gcHJlVHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKSB8fCBlbGVtZW50OwogICAgICAgIH0KCiAgICAgICAgaWYgKCFpblZQcmUpIHsKICAgICAgICAgIHByb2Nlc3NQcmUoZWxlbWVudCk7CiAgICAgICAgICBpZiAoZWxlbWVudC5wcmUpIHsKICAgICAgICAgICAgaW5WUHJlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHBsYXRmb3JtSXNQcmVUYWcoZWxlbWVudC50YWcpKSB7CiAgICAgICAgICBpblByZSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChpblZQcmUpIHsKICAgICAgICAgIHByb2Nlc3NSYXdBdHRycyhlbGVtZW50KTsKICAgICAgICB9IGVsc2UgaWYgKCFlbGVtZW50LnByb2Nlc3NlZCkgewogICAgICAgICAgLy8gc3RydWN0dXJhbCBkaXJlY3RpdmVzCiAgICAgICAgICBwcm9jZXNzRm9yKGVsZW1lbnQpOwogICAgICAgICAgcHJvY2Vzc0lmKGVsZW1lbnQpOwogICAgICAgICAgcHJvY2Vzc09uY2UoZWxlbWVudCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXJvb3QpIHsKICAgICAgICAgIHJvb3QgPSBlbGVtZW50OwogICAgICAgICAgewogICAgICAgICAgICBjaGVja1Jvb3RDb25zdHJhaW50cyhyb290KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICghdW5hcnkpIHsKICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBlbGVtZW50OwogICAgICAgICAgc3RhY2sucHVzaChlbGVtZW50KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2xvc2VFbGVtZW50KGVsZW1lbnQpOwogICAgICAgIH0KICAgICAgfSwKCiAgICAgIGVuZDogZnVuY3Rpb24gZW5kICh0YWcsIHN0YXJ0LCBlbmQkMSkgewogICAgICAgIHZhciBlbGVtZW50ID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07CiAgICAgICAgLy8gcG9wIHN0YWNrCiAgICAgICAgc3RhY2subGVuZ3RoIC09IDE7CiAgICAgICAgY3VycmVudFBhcmVudCA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdOwogICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7CiAgICAgICAgICBlbGVtZW50LmVuZCA9IGVuZCQxOwogICAgICAgIH0KICAgICAgICBjbG9zZUVsZW1lbnQoZWxlbWVudCk7CiAgICAgIH0sCgogICAgICBjaGFyczogZnVuY3Rpb24gY2hhcnMgKHRleHQsIHN0YXJ0LCBlbmQpIHsKICAgICAgICBpZiAoIWN1cnJlbnRQYXJlbnQpIHsKICAgICAgICAgIHsKICAgICAgICAgICAgaWYgKHRleHQgPT09IHRlbXBsYXRlKSB7CiAgICAgICAgICAgICAgd2Fybk9uY2UoCiAgICAgICAgICAgICAgICAnQ29tcG9uZW50IHRlbXBsYXRlIHJlcXVpcmVzIGEgcm9vdCBlbGVtZW50LCByYXRoZXIgdGhhbiBqdXN0IHRleHQuJywKICAgICAgICAgICAgICAgIHsgc3RhcnQ6IHN0YXJ0IH0KICAgICAgICAgICAgICApOwogICAgICAgICAgICB9IGVsc2UgaWYgKCh0ZXh0ID0gdGV4dC50cmltKCkpKSB7CiAgICAgICAgICAgICAgd2Fybk9uY2UoCiAgICAgICAgICAgICAgICAoInRleHQgXCIiICsgdGV4dCArICJcIiBvdXRzaWRlIHJvb3QgZWxlbWVudCB3aWxsIGJlIGlnbm9yZWQuIiksCiAgICAgICAgICAgICAgICB7IHN0YXJ0OiBzdGFydCB9CiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIC8vIElFIHRleHRhcmVhIHBsYWNlaG9sZGVyIGJ1ZwogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICAgIGlmIChpc0lFICYmCiAgICAgICAgICBjdXJyZW50UGFyZW50LnRhZyA9PT0gJ3RleHRhcmVhJyAmJgogICAgICAgICAgY3VycmVudFBhcmVudC5hdHRyc01hcC5wbGFjZWhvbGRlciA9PT0gdGV4dAogICAgICAgICkgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIHZhciBjaGlsZHJlbiA9IGN1cnJlbnRQYXJlbnQuY2hpbGRyZW47CiAgICAgICAgaWYgKGluUHJlIHx8IHRleHQudHJpbSgpKSB7CiAgICAgICAgICB0ZXh0ID0gaXNUZXh0VGFnKGN1cnJlbnRQYXJlbnQpID8gdGV4dCA6IGRlY29kZUhUTUxDYWNoZWQodGV4dCk7CiAgICAgICAgfSBlbHNlIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAvLyByZW1vdmUgdGhlIHdoaXRlc3BhY2Utb25seSBub2RlIHJpZ2h0IGFmdGVyIGFuIG9wZW5pbmcgdGFnCiAgICAgICAgICB0ZXh0ID0gJyc7CiAgICAgICAgfSBlbHNlIGlmICh3aGl0ZXNwYWNlT3B0aW9uKSB7CiAgICAgICAgICBpZiAod2hpdGVzcGFjZU9wdGlvbiA9PT0gJ2NvbmRlbnNlJykgewogICAgICAgICAgICAvLyBpbiBjb25kZW5zZSBtb2RlLCByZW1vdmUgdGhlIHdoaXRlc3BhY2Ugbm9kZSBpZiBpdCBjb250YWlucwogICAgICAgICAgICAvLyBsaW5lIGJyZWFrLCBvdGhlcndpc2UgY29uZGVuc2UgdG8gYSBzaW5nbGUgc3BhY2UKICAgICAgICAgICAgdGV4dCA9IGxpbmVCcmVha1JFLnRlc3QodGV4dCkgPyAnJyA6ICcgJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRleHQgPSAnICc7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRleHQgPSBwcmVzZXJ2ZVdoaXRlc3BhY2UgPyAnICcgOiAnJzsKICAgICAgICB9CiAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgIGlmICghaW5QcmUgJiYgd2hpdGVzcGFjZU9wdGlvbiA9PT0gJ2NvbmRlbnNlJykgewogICAgICAgICAgICAvLyBjb25kZW5zZSBjb25zZWN1dGl2ZSB3aGl0ZXNwYWNlcyBpbnRvIHNpbmdsZSBzcGFjZQogICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHdoaXRlc3BhY2VSRSQxLCAnICcpOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlczsKICAgICAgICAgIHZhciBjaGlsZDsKICAgICAgICAgIGlmICghaW5WUHJlICYmIHRleHQgIT09ICcgJyAmJiAocmVzID0gcGFyc2VUZXh0KHRleHQsIGRlbGltaXRlcnMpKSkgewogICAgICAgICAgICBjaGlsZCA9IHsKICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgIGV4cHJlc3Npb246IHJlcy5leHByZXNzaW9uLAogICAgICAgICAgICAgIHRva2VuczogcmVzLnRva2VucywKICAgICAgICAgICAgICB0ZXh0OiB0ZXh0CiAgICAgICAgICAgIH07CiAgICAgICAgICB9IGVsc2UgaWYgKHRleHQgIT09ICcgJyB8fCAhY2hpbGRyZW4ubGVuZ3RoIHx8IGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdLnRleHQgIT09ICcgJykgewogICAgICAgICAgICBjaGlsZCA9IHsKICAgICAgICAgICAgICB0eXBlOiAzLAogICAgICAgICAgICAgIHRleHQ6IHRleHQKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChjaGlsZCkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkgewogICAgICAgICAgICAgIGNoaWxkLnN0YXJ0ID0gc3RhcnQ7CiAgICAgICAgICAgICAgY2hpbGQuZW5kID0gZW5kOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgY29tbWVudDogZnVuY3Rpb24gY29tbWVudCAodGV4dCwgc3RhcnQsIGVuZCkgewogICAgICAgIC8vIGFkZGluZyBhbnl0aW5nIGFzIGEgc2libGluZyB0byB0aGUgcm9vdCBub2RlIGlzIGZvcmJpZGRlbgogICAgICAgIC8vIGNvbW1lbnRzIHNob3VsZCBzdGlsbCBiZSBhbGxvd2VkLCBidXQgaWdub3JlZAogICAgICAgIGlmIChjdXJyZW50UGFyZW50KSB7CiAgICAgICAgICB2YXIgY2hpbGQgPSB7CiAgICAgICAgICAgIHR5cGU6IDMsCiAgICAgICAgICAgIHRleHQ6IHRleHQsCiAgICAgICAgICAgIGlzQ29tbWVudDogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7CiAgICAgICAgICAgIGNoaWxkLnN0YXJ0ID0gc3RhcnQ7CiAgICAgICAgICAgIGNoaWxkLmVuZCA9IGVuZDsKICAgICAgICAgIH0KICAgICAgICAgIGN1cnJlbnRQYXJlbnQuY2hpbGRyZW4ucHVzaChjaGlsZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIHJldHVybiByb290CiAgfQoKICBmdW5jdGlvbiBwcm9jZXNzUHJlIChlbCkgewogICAgaWYgKGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LXByZScpICE9IG51bGwpIHsKICAgICAgZWwucHJlID0gdHJ1ZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHByb2Nlc3NSYXdBdHRycyAoZWwpIHsKICAgIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0OwogICAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoOwogICAgaWYgKGxlbikgewogICAgICB2YXIgYXR0cnMgPSBlbC5hdHRycyA9IG5ldyBBcnJheShsZW4pOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgYXR0cnNbaV0gPSB7CiAgICAgICAgICBuYW1lOiBsaXN0W2ldLm5hbWUsCiAgICAgICAgICB2YWx1ZTogSlNPTi5zdHJpbmdpZnkobGlzdFtpXS52YWx1ZSkKICAgICAgICB9OwogICAgICAgIGlmIChsaXN0W2ldLnN0YXJ0ICE9IG51bGwpIHsKICAgICAgICAgIGF0dHJzW2ldLnN0YXJ0ID0gbGlzdFtpXS5zdGFydDsKICAgICAgICAgIGF0dHJzW2ldLmVuZCA9IGxpc3RbaV0uZW5kOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICghZWwucHJlKSB7CiAgICAgIC8vIG5vbiByb290IG5vZGUgaW4gcHJlIGJsb2NrcyB3aXRoIG5vIGF0dHJpYnV0ZXMKICAgICAgZWwucGxhaW4gPSB0cnVlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQgKAogICAgZWxlbWVudCwKICAgIG9wdGlvbnMKICApIHsKICAgIHByb2Nlc3NLZXkoZWxlbWVudCk7CgogICAgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBpcyBhIHBsYWluIGVsZW1lbnQgYWZ0ZXIKICAgIC8vIHJlbW92aW5nIHN0cnVjdHVyYWwgYXR0cmlidXRlcwogICAgZWxlbWVudC5wbGFpbiA9ICgKICAgICAgIWVsZW1lbnQua2V5ICYmCiAgICAgICFlbGVtZW50LnNjb3BlZFNsb3RzICYmCiAgICAgICFlbGVtZW50LmF0dHJzTGlzdC5sZW5ndGgKICAgICk7CgogICAgcHJvY2Vzc1JlZihlbGVtZW50KTsKICAgIHByb2Nlc3NTbG90Q29udGVudChlbGVtZW50KTsKICAgIHByb2Nlc3NTbG90T3V0bGV0KGVsZW1lbnQpOwogICAgcHJvY2Vzc0NvbXBvbmVudChlbGVtZW50KTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhbnNmb3Jtcy5sZW5ndGg7IGkrKykgewogICAgICBlbGVtZW50ID0gdHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKSB8fCBlbGVtZW50OwogICAgfQogICAgcHJvY2Vzc0F0dHJzKGVsZW1lbnQpOwogICAgcmV0dXJuIGVsZW1lbnQKICB9CgogIGZ1bmN0aW9uIHByb2Nlc3NLZXkgKGVsKSB7CiAgICB2YXIgZXhwID0gZ2V0QmluZGluZ0F0dHIoZWwsICdrZXknKTsKICAgIGlmIChleHApIHsKICAgICAgewogICAgICAgIGlmIChlbC50YWcgPT09ICd0ZW1wbGF0ZScpIHsKICAgICAgICAgIHdhcm4kMigKICAgICAgICAgICAgIjx0ZW1wbGF0ZT4gY2Fubm90IGJlIGtleWVkLiBQbGFjZSB0aGUga2V5IG9uIHJlYWwgZWxlbWVudHMgaW5zdGVhZC4iLAogICAgICAgICAgICBnZXRSYXdCaW5kaW5nQXR0cihlbCwgJ2tleScpCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICBpZiAoZWwuZm9yKSB7CiAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBlbC5pdGVyYXRvcjIgfHwgZWwuaXRlcmF0b3IxOwogICAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudDsKICAgICAgICAgIGlmIChpdGVyYXRvciAmJiBpdGVyYXRvciA9PT0gZXhwICYmIHBhcmVudCAmJiBwYXJlbnQudGFnID09PSAndHJhbnNpdGlvbi1ncm91cCcpIHsKICAgICAgICAgICAgd2FybiQyKAogICAgICAgICAgICAgICJEbyBub3QgdXNlIHYtZm9yIGluZGV4IGFzIGtleSBvbiA8dHJhbnNpdGlvbi1ncm91cD4gY2hpbGRyZW4sICIgKwogICAgICAgICAgICAgICJ0aGlzIGlzIHRoZSBzYW1lIGFzIG5vdCB1c2luZyBrZXlzLiIsCiAgICAgICAgICAgICAgZ2V0UmF3QmluZGluZ0F0dHIoZWwsICdrZXknKSwKICAgICAgICAgICAgICB0cnVlIC8qIHRpcCAqLwogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBlbC5rZXkgPSBleHA7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBwcm9jZXNzUmVmIChlbCkgewogICAgdmFyIHJlZiA9IGdldEJpbmRpbmdBdHRyKGVsLCAncmVmJyk7CiAgICBpZiAocmVmKSB7CiAgICAgIGVsLnJlZiA9IHJlZjsKICAgICAgZWwucmVmSW5Gb3IgPSBjaGVja0luRm9yKGVsKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHByb2Nlc3NGb3IgKGVsKSB7CiAgICB2YXIgZXhwOwogICAgaWYgKChleHAgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1mb3InKSkpIHsKICAgICAgdmFyIHJlcyA9IHBhcnNlRm9yKGV4cCk7CiAgICAgIGlmIChyZXMpIHsKICAgICAgICBleHRlbmQoZWwsIHJlcyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2FybiQyKAogICAgICAgICAgKCJJbnZhbGlkIHYtZm9yIGV4cHJlc3Npb246ICIgKyBleHApLAogICAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ10KICAgICAgICApOwogICAgICB9CiAgICB9CiAgfQoKCgogIGZ1bmN0aW9uIHBhcnNlRm9yIChleHApIHsKICAgIHZhciBpbk1hdGNoID0gZXhwLm1hdGNoKGZvckFsaWFzUkUpOwogICAgaWYgKCFpbk1hdGNoKSB7IHJldHVybiB9CiAgICB2YXIgcmVzID0ge307CiAgICByZXMuZm9yID0gaW5NYXRjaFsyXS50cmltKCk7CiAgICB2YXIgYWxpYXMgPSBpbk1hdGNoWzFdLnRyaW0oKS5yZXBsYWNlKHN0cmlwUGFyZW5zUkUsICcnKTsKICAgIHZhciBpdGVyYXRvck1hdGNoID0gYWxpYXMubWF0Y2goZm9ySXRlcmF0b3JSRSk7CiAgICBpZiAoaXRlcmF0b3JNYXRjaCkgewogICAgICByZXMuYWxpYXMgPSBhbGlhcy5yZXBsYWNlKGZvckl0ZXJhdG9yUkUsICcnKS50cmltKCk7CiAgICAgIHJlcy5pdGVyYXRvcjEgPSBpdGVyYXRvck1hdGNoWzFdLnRyaW0oKTsKICAgICAgaWYgKGl0ZXJhdG9yTWF0Y2hbMl0pIHsKICAgICAgICByZXMuaXRlcmF0b3IyID0gaXRlcmF0b3JNYXRjaFsyXS50cmltKCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJlcy5hbGlhcyA9IGFsaWFzOwogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gcHJvY2Vzc0lmIChlbCkgewogICAgdmFyIGV4cCA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWlmJyk7CiAgICBpZiAoZXhwKSB7CiAgICAgIGVsLmlmID0gZXhwOwogICAgICBhZGRJZkNvbmRpdGlvbihlbCwgewogICAgICAgIGV4cDogZXhwLAogICAgICAgIGJsb2NrOiBlbAogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1lbHNlJykgIT0gbnVsbCkgewogICAgICAgIGVsLmVsc2UgPSB0cnVlOwogICAgICB9CiAgICAgIHZhciBlbHNlaWYgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1lbHNlLWlmJyk7CiAgICAgIGlmIChlbHNlaWYpIHsKICAgICAgICBlbC5lbHNlaWYgPSBlbHNlaWY7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHByb2Nlc3NJZkNvbmRpdGlvbnMgKGVsLCBwYXJlbnQpIHsKICAgIHZhciBwcmV2ID0gZmluZFByZXZFbGVtZW50KHBhcmVudC5jaGlsZHJlbik7CiAgICBpZiAocHJldiAmJiBwcmV2LmlmKSB7CiAgICAgIGFkZElmQ29uZGl0aW9uKHByZXYsIHsKICAgICAgICBleHA6IGVsLmVsc2VpZiwKICAgICAgICBibG9jazogZWwKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB3YXJuJDIoCiAgICAgICAgInYtIiArIChlbC5lbHNlaWYgPyAoJ2Vsc2UtaWY9IicgKyBlbC5lbHNlaWYgKyAnIicpIDogJ2Vsc2UnKSArICIgIiArCiAgICAgICAgInVzZWQgb24gZWxlbWVudCA8IiArIChlbC50YWcpICsgIj4gd2l0aG91dCBjb3JyZXNwb25kaW5nIHYtaWYuIiwKICAgICAgICBlbC5yYXdBdHRyc01hcFtlbC5lbHNlaWYgPyAndi1lbHNlLWlmJyA6ICd2LWVsc2UnXQogICAgICApOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZmluZFByZXZFbGVtZW50IChjaGlsZHJlbikgewogICAgdmFyIGkgPSBjaGlsZHJlbi5sZW5ndGg7CiAgICB3aGlsZSAoaS0tKSB7CiAgICAgIGlmIChjaGlsZHJlbltpXS50eXBlID09PSAxKSB7CiAgICAgICAgcmV0dXJuIGNoaWxkcmVuW2ldCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnRleHQgIT09ICcgJykgewogICAgICAgICAgd2FybiQyKAogICAgICAgICAgICAidGV4dCBcIiIgKyAoY2hpbGRyZW5baV0udGV4dC50cmltKCkpICsgIlwiIGJldHdlZW4gdi1pZiBhbmQgdi1lbHNlKC1pZikgIiArCiAgICAgICAgICAgICJ3aWxsIGJlIGlnbm9yZWQuIiwKICAgICAgICAgICAgY2hpbGRyZW5baV0KICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIGNoaWxkcmVuLnBvcCgpOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhZGRJZkNvbmRpdGlvbiAoZWwsIGNvbmRpdGlvbikgewogICAgaWYgKCFlbC5pZkNvbmRpdGlvbnMpIHsKICAgICAgZWwuaWZDb25kaXRpb25zID0gW107CiAgICB9CiAgICBlbC5pZkNvbmRpdGlvbnMucHVzaChjb25kaXRpb24pOwogIH0KCiAgZnVuY3Rpb24gcHJvY2Vzc09uY2UgKGVsKSB7CiAgICB2YXIgb25jZSQkMSA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LW9uY2UnKTsKICAgIGlmIChvbmNlJCQxICE9IG51bGwpIHsKICAgICAgZWwub25jZSA9IHRydWU7CiAgICB9CiAgfQoKICAvLyBoYW5kbGUgY29udGVudCBiZWluZyBwYXNzZWQgdG8gYSBjb21wb25lbnQgYXMgc2xvdCwKICAvLyBlLmcuIDx0ZW1wbGF0ZSBzbG90PSJ4eHgiPiwgPGRpdiBzbG90LXNjb3BlPSJ4eHgiPgogIGZ1bmN0aW9uIHByb2Nlc3NTbG90Q29udGVudCAoZWwpIHsKICAgIHZhciBzbG90U2NvcGU7CiAgICBpZiAoZWwudGFnID09PSAndGVtcGxhdGUnKSB7CiAgICAgIHNsb3RTY29wZSA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICdzY29wZScpOwogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKHNsb3RTY29wZSkgewogICAgICAgIHdhcm4kMigKICAgICAgICAgICJ0aGUgXCJzY29wZVwiIGF0dHJpYnV0ZSBmb3Igc2NvcGVkIHNsb3RzIGhhdmUgYmVlbiBkZXByZWNhdGVkIGFuZCAiICsKICAgICAgICAgICJyZXBsYWNlZCBieSBcInNsb3Qtc2NvcGVcIiBzaW5jZSAyLjUuIFRoZSBuZXcgXCJzbG90LXNjb3BlXCIgYXR0cmlidXRlICIgKwogICAgICAgICAgImNhbiBhbHNvIGJlIHVzZWQgb24gcGxhaW4gZWxlbWVudHMgaW4gYWRkaXRpb24gdG8gPHRlbXBsYXRlPiB0byAiICsKICAgICAgICAgICJkZW5vdGUgc2NvcGVkIHNsb3RzLiIsCiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsnc2NvcGUnXSwKICAgICAgICAgIHRydWUKICAgICAgICApOwogICAgICB9CiAgICAgIGVsLnNsb3RTY29wZSA9IHNsb3RTY29wZSB8fCBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnc2xvdC1zY29wZScpOwogICAgfSBlbHNlIGlmICgoc2xvdFNjb3BlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3Nsb3Qtc2NvcGUnKSkpIHsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIGlmIChlbC5hdHRyc01hcFsndi1mb3InXSkgewogICAgICAgIHdhcm4kMigKICAgICAgICAgICJBbWJpZ3VvdXMgY29tYmluZWQgdXNhZ2Ugb2Ygc2xvdC1zY29wZSBhbmQgdi1mb3Igb24gPCIgKyAoZWwudGFnKSArICI+ICIgKwogICAgICAgICAgIih2LWZvciB0YWtlcyBoaWdoZXIgcHJpb3JpdHkpLiBVc2UgYSB3cmFwcGVyIDx0ZW1wbGF0ZT4gZm9yIHRoZSAiICsKICAgICAgICAgICJzY29wZWQgc2xvdCB0byBtYWtlIGl0IGNsZWFyZXIuIiwKICAgICAgICAgIGVsLnJhd0F0dHJzTWFwWydzbG90LXNjb3BlJ10sCiAgICAgICAgICB0cnVlCiAgICAgICAgKTsKICAgICAgfQogICAgICBlbC5zbG90U2NvcGUgPSBzbG90U2NvcGU7CiAgICB9CgogICAgLy8gc2xvdD0ieHh4IgogICAgdmFyIHNsb3RUYXJnZXQgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3Nsb3QnKTsKICAgIGlmIChzbG90VGFyZ2V0KSB7CiAgICAgIGVsLnNsb3RUYXJnZXQgPSBzbG90VGFyZ2V0ID09PSAnIiInID8gJyJkZWZhdWx0IicgOiBzbG90VGFyZ2V0OwogICAgICBlbC5zbG90VGFyZ2V0RHluYW1pYyA9ICEhKGVsLmF0dHJzTWFwWyc6c2xvdCddIHx8IGVsLmF0dHJzTWFwWyd2LWJpbmQ6c2xvdCddKTsKICAgICAgLy8gcHJlc2VydmUgc2xvdCBhcyBhbiBhdHRyaWJ1dGUgZm9yIG5hdGl2ZSBzaGFkb3cgRE9NIGNvbXBhdAogICAgICAvLyBvbmx5IGZvciBub24tc2NvcGVkIHNsb3RzLgogICAgICBpZiAoZWwudGFnICE9PSAndGVtcGxhdGUnICYmICFlbC5zbG90U2NvcGUpIHsKICAgICAgICBhZGRBdHRyKGVsLCAnc2xvdCcsIHNsb3RUYXJnZXQsIGdldFJhd0JpbmRpbmdBdHRyKGVsLCAnc2xvdCcpKTsKICAgICAgfQogICAgfQoKICAgIC8vIDIuNiB2LXNsb3Qgc3ludGF4CiAgICB7CiAgICAgIGlmIChlbC50YWcgPT09ICd0ZW1wbGF0ZScpIHsKICAgICAgICAvLyB2LXNsb3Qgb24gPHRlbXBsYXRlPgogICAgICAgIHZhciBzbG90QmluZGluZyA9IGdldEFuZFJlbW92ZUF0dHJCeVJlZ2V4KGVsLCBzbG90UkUpOwogICAgICAgIGlmIChzbG90QmluZGluZykgewogICAgICAgICAgewogICAgICAgICAgICBpZiAoZWwuc2xvdFRhcmdldCB8fCBlbC5zbG90U2NvcGUpIHsKICAgICAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICAgICAiVW5leHBlY3RlZCBtaXhlZCB1c2FnZSBvZiBkaWZmZXJlbnQgc2xvdCBzeW50YXhlcy4iLAogICAgICAgICAgICAgICAgZWwKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlbC5wYXJlbnQgJiYgIW1heWJlQ29tcG9uZW50KGVsLnBhcmVudCkpIHsKICAgICAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICAgICAiPHRlbXBsYXRlIHYtc2xvdD4gY2FuIG9ubHkgYXBwZWFyIGF0IHRoZSByb290IGxldmVsIGluc2lkZSAiICsKICAgICAgICAgICAgICAgICJ0aGUgcmVjZWl2aW5nIHRoZSBjb21wb25lbnQiLAogICAgICAgICAgICAgICAgZWwKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgcmVmID0gZ2V0U2xvdE5hbWUoc2xvdEJpbmRpbmcpOwogICAgICAgICAgdmFyIG5hbWUgPSByZWYubmFtZTsKICAgICAgICAgIHZhciBkeW5hbWljID0gcmVmLmR5bmFtaWM7CiAgICAgICAgICBlbC5zbG90VGFyZ2V0ID0gbmFtZTsKICAgICAgICAgIGVsLnNsb3RUYXJnZXREeW5hbWljID0gZHluYW1pYzsKICAgICAgICAgIGVsLnNsb3RTY29wZSA9IHNsb3RCaW5kaW5nLnZhbHVlIHx8IGVtcHR5U2xvdFNjb3BlVG9rZW47IC8vIGZvcmNlIGl0IGludG8gYSBzY29wZWQgc2xvdCBmb3IgcGVyZgogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB2LXNsb3Qgb24gY29tcG9uZW50LCBkZW5vdGVzIGRlZmF1bHQgc2xvdAogICAgICAgIHZhciBzbG90QmluZGluZyQxID0gZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXgoZWwsIHNsb3RSRSk7CiAgICAgICAgaWYgKHNsb3RCaW5kaW5nJDEpIHsKICAgICAgICAgIHsKICAgICAgICAgICAgaWYgKCFtYXliZUNvbXBvbmVudChlbCkpIHsKICAgICAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICAgICAidi1zbG90IGNhbiBvbmx5IGJlIHVzZWQgb24gY29tcG9uZW50cyBvciA8dGVtcGxhdGU+LiIsCiAgICAgICAgICAgICAgICBzbG90QmluZGluZyQxCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZWwuc2xvdFNjb3BlIHx8IGVsLnNsb3RUYXJnZXQpIHsKICAgICAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICAgICAiVW5leHBlY3RlZCBtaXhlZCB1c2FnZSBvZiBkaWZmZXJlbnQgc2xvdCBzeW50YXhlcy4iLAogICAgICAgICAgICAgICAgZWwKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlbC5zY29wZWRTbG90cykgewogICAgICAgICAgICAgIHdhcm4kMigKICAgICAgICAgICAgICAgICJUbyBhdm9pZCBzY29wZSBhbWJpZ3VpdHksIHRoZSBkZWZhdWx0IHNsb3Qgc2hvdWxkIGFsc28gdXNlICIgKwogICAgICAgICAgICAgICAgIjx0ZW1wbGF0ZT4gc3ludGF4IHdoZW4gdGhlcmUgYXJlIG90aGVyIG5hbWVkIHNsb3RzLiIsCiAgICAgICAgICAgICAgICBzbG90QmluZGluZyQxCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLy8gYWRkIHRoZSBjb21wb25lbnQncyBjaGlsZHJlbiB0byBpdHMgZGVmYXVsdCBzbG90CiAgICAgICAgICB2YXIgc2xvdHMgPSBlbC5zY29wZWRTbG90cyB8fCAoZWwuc2NvcGVkU2xvdHMgPSB7fSk7CiAgICAgICAgICB2YXIgcmVmJDEgPSBnZXRTbG90TmFtZShzbG90QmluZGluZyQxKTsKICAgICAgICAgIHZhciBuYW1lJDEgPSByZWYkMS5uYW1lOwogICAgICAgICAgdmFyIGR5bmFtaWMkMSA9IHJlZiQxLmR5bmFtaWM7CiAgICAgICAgICB2YXIgc2xvdENvbnRhaW5lciA9IHNsb3RzW25hbWUkMV0gPSBjcmVhdGVBU1RFbGVtZW50KCd0ZW1wbGF0ZScsIFtdLCBlbCk7CiAgICAgICAgICBzbG90Q29udGFpbmVyLnNsb3RUYXJnZXQgPSBuYW1lJDE7CiAgICAgICAgICBzbG90Q29udGFpbmVyLnNsb3RUYXJnZXREeW5hbWljID0gZHluYW1pYyQxOwogICAgICAgICAgc2xvdENvbnRhaW5lci5jaGlsZHJlbiA9IGVsLmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgICAgICBpZiAoIWMuc2xvdFNjb3BlKSB7CiAgICAgICAgICAgICAgYy5wYXJlbnQgPSBzbG90Q29udGFpbmVyOwogICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgc2xvdENvbnRhaW5lci5zbG90U2NvcGUgPSBzbG90QmluZGluZyQxLnZhbHVlIHx8IGVtcHR5U2xvdFNjb3BlVG9rZW47CiAgICAgICAgICAvLyByZW1vdmUgY2hpbGRyZW4gYXMgdGhleSBhcmUgcmV0dXJuZWQgZnJvbSBzY29wZWRTbG90cyBub3cKICAgICAgICAgIGVsLmNoaWxkcmVuID0gW107CiAgICAgICAgICAvLyBtYXJrIGVsIG5vbi1wbGFpbiBzbyBkYXRhIGdldHMgZ2VuZXJhdGVkCiAgICAgICAgICBlbC5wbGFpbiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2V0U2xvdE5hbWUgKGJpbmRpbmcpIHsKICAgIHZhciBuYW1lID0gYmluZGluZy5uYW1lLnJlcGxhY2Uoc2xvdFJFLCAnJyk7CiAgICBpZiAoIW5hbWUpIHsKICAgICAgaWYgKGJpbmRpbmcubmFtZVswXSAhPT0gJyMnKSB7CiAgICAgICAgbmFtZSA9ICdkZWZhdWx0JzsKICAgICAgfSBlbHNlIHsKICAgICAgICB3YXJuJDIoCiAgICAgICAgICAidi1zbG90IHNob3J0aGFuZCBzeW50YXggcmVxdWlyZXMgYSBzbG90IG5hbWUuIiwKICAgICAgICAgIGJpbmRpbmcKICAgICAgICApOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZHluYW1pY0FyZ1JFLnRlc3QobmFtZSkKICAgICAgLy8gZHluYW1pYyBbbmFtZV0KICAgICAgPyB7IG5hbWU6IG5hbWUuc2xpY2UoMSwgLTEpLCBkeW5hbWljOiB0cnVlIH0KICAgICAgLy8gc3RhdGljIG5hbWUKICAgICAgOiB7IG5hbWU6ICgiXCIiICsgbmFtZSArICJcIiIpLCBkeW5hbWljOiBmYWxzZSB9CiAgfQoKICAvLyBoYW5kbGUgPHNsb3QvPiBvdXRsZXRzCiAgZnVuY3Rpb24gcHJvY2Vzc1Nsb3RPdXRsZXQgKGVsKSB7CiAgICBpZiAoZWwudGFnID09PSAnc2xvdCcpIHsKICAgICAgZWwuc2xvdE5hbWUgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ25hbWUnKTsKICAgICAgaWYgKGVsLmtleSkgewogICAgICAgIHdhcm4kMigKICAgICAgICAgICJga2V5YCBkb2VzIG5vdCB3b3JrIG9uIDxzbG90PiBiZWNhdXNlIHNsb3RzIGFyZSBhYnN0cmFjdCBvdXRsZXRzICIgKwogICAgICAgICAgImFuZCBjYW4gcG9zc2libHkgZXhwYW5kIGludG8gbXVsdGlwbGUgZWxlbWVudHMuICIgKwogICAgICAgICAgIlVzZSB0aGUga2V5IG9uIGEgd3JhcHBpbmcgZWxlbWVudCBpbnN0ZWFkLiIsCiAgICAgICAgICBnZXRSYXdCaW5kaW5nQXR0cihlbCwgJ2tleScpCiAgICAgICAgKTsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gcHJvY2Vzc0NvbXBvbmVudCAoZWwpIHsKICAgIHZhciBiaW5kaW5nOwogICAgaWYgKChiaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdpcycpKSkgewogICAgICBlbC5jb21wb25lbnQgPSBiaW5kaW5nOwogICAgfQogICAgaWYgKGdldEFuZFJlbW92ZUF0dHIoZWwsICdpbmxpbmUtdGVtcGxhdGUnKSAhPSBudWxsKSB7CiAgICAgIGVsLmlubGluZVRlbXBsYXRlID0gdHJ1ZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHByb2Nlc3NBdHRycyAoZWwpIHsKICAgIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0OwogICAgdmFyIGksIGwsIG5hbWUsIHJhd05hbWUsIHZhbHVlLCBtb2RpZmllcnMsIHN5bmNHZW4sIGlzRHluYW1pYzsKICAgIGZvciAoaSA9IDAsIGwgPSBsaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBuYW1lID0gcmF3TmFtZSA9IGxpc3RbaV0ubmFtZTsKICAgICAgdmFsdWUgPSBsaXN0W2ldLnZhbHVlOwogICAgICBpZiAoZGlyUkUudGVzdChuYW1lKSkgewogICAgICAgIC8vIG1hcmsgZWxlbWVudCBhcyBkeW5hbWljCiAgICAgICAgZWwuaGFzQmluZGluZ3MgPSB0cnVlOwogICAgICAgIC8vIG1vZGlmaWVycwogICAgICAgIG1vZGlmaWVycyA9IHBhcnNlTW9kaWZpZXJzKG5hbWUucmVwbGFjZShkaXJSRSwgJycpKTsKICAgICAgICAvLyBzdXBwb3J0IC5mb28gc2hvcnRoYW5kIHN5bnRheCBmb3IgdGhlIC5wcm9wIG1vZGlmaWVyCiAgICAgICAgaWYgKG1vZGlmaWVycykgewogICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShtb2RpZmllclJFLCAnJyk7CiAgICAgICAgfQogICAgICAgIGlmIChiaW5kUkUudGVzdChuYW1lKSkgeyAvLyB2LWJpbmQKICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoYmluZFJFLCAnJyk7CiAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmlsdGVycyh2YWx1ZSk7CiAgICAgICAgICBpc0R5bmFtaWMgPSBkeW5hbWljQXJnUkUudGVzdChuYW1lKTsKICAgICAgICAgIGlmIChpc0R5bmFtaWMpIHsKICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMSwgLTEpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKAogICAgICAgICAgICB2YWx1ZS50cmltKCkubGVuZ3RoID09PSAwCiAgICAgICAgICApIHsKICAgICAgICAgICAgd2FybiQyKAogICAgICAgICAgICAgICgiVGhlIHZhbHVlIGZvciBhIHYtYmluZCBleHByZXNzaW9uIGNhbm5vdCBiZSBlbXB0eS4gRm91bmQgaW4gXCJ2LWJpbmQ6IiArIG5hbWUgKyAiXCIiKQogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgICAgaWYgKG1vZGlmaWVycykgewogICAgICAgICAgICBpZiAobW9kaWZpZXJzLnByb3AgJiYgIWlzRHluYW1pYykgewogICAgICAgICAgICAgIG5hbWUgPSBjYW1lbGl6ZShuYW1lKTsKICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2lubmVySHRtbCcpIHsgbmFtZSA9ICdpbm5lckhUTUwnOyB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG1vZGlmaWVycy5jYW1lbCAmJiAhaXNEeW5hbWljKSB7CiAgICAgICAgICAgICAgbmFtZSA9IGNhbWVsaXplKG5hbWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChtb2RpZmllcnMuc3luYykgewogICAgICAgICAgICAgIHN5bmNHZW4gPSBnZW5Bc3NpZ25tZW50Q29kZSh2YWx1ZSwgIiRldmVudCIpOwogICAgICAgICAgICAgIGlmICghaXNEeW5hbWljKSB7CiAgICAgICAgICAgICAgICBhZGRIYW5kbGVyKAogICAgICAgICAgICAgICAgICBlbCwKICAgICAgICAgICAgICAgICAgKCJ1cGRhdGU6IiArIChjYW1lbGl6ZShuYW1lKSkpLAogICAgICAgICAgICAgICAgICBzeW5jR2VuLAogICAgICAgICAgICAgICAgICBudWxsLAogICAgICAgICAgICAgICAgICBmYWxzZSwKICAgICAgICAgICAgICAgICAgd2FybiQyLAogICAgICAgICAgICAgICAgICBsaXN0W2ldCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgaWYgKGh5cGhlbmF0ZShuYW1lKSAhPT0gY2FtZWxpemUobmFtZSkpIHsKICAgICAgICAgICAgICAgICAgYWRkSGFuZGxlcigKICAgICAgICAgICAgICAgICAgICBlbCwKICAgICAgICAgICAgICAgICAgICAoInVwZGF0ZToiICsgKGh5cGhlbmF0ZShuYW1lKSkpLAogICAgICAgICAgICAgICAgICAgIHN5bmNHZW4sCiAgICAgICAgICAgICAgICAgICAgbnVsbCwKICAgICAgICAgICAgICAgICAgICBmYWxzZSwKICAgICAgICAgICAgICAgICAgICB3YXJuJDIsCiAgICAgICAgICAgICAgICAgICAgbGlzdFtpXQogICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBoYW5kbGVyIHcvIGR5bmFtaWMgZXZlbnQgbmFtZQogICAgICAgICAgICAgICAgYWRkSGFuZGxlcigKICAgICAgICAgICAgICAgICAgZWwsCiAgICAgICAgICAgICAgICAgICgiXCJ1cGRhdGU6XCIrKCIgKyBuYW1lICsgIikiKSwKICAgICAgICAgICAgICAgICAgc3luY0dlbiwKICAgICAgICAgICAgICAgICAgbnVsbCwKICAgICAgICAgICAgICAgICAgZmFsc2UsCiAgICAgICAgICAgICAgICAgIHdhcm4kMiwKICAgICAgICAgICAgICAgICAgbGlzdFtpXSwKICAgICAgICAgICAgICAgICAgdHJ1ZSAvLyBkeW5hbWljCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKChtb2RpZmllcnMgJiYgbW9kaWZpZXJzLnByb3ApIHx8ICgKICAgICAgICAgICAgIWVsLmNvbXBvbmVudCAmJiBwbGF0Zm9ybU11c3RVc2VQcm9wKGVsLnRhZywgZWwuYXR0cnNNYXAudHlwZSwgbmFtZSkKICAgICAgICAgICkpIHsKICAgICAgICAgICAgYWRkUHJvcChlbCwgbmFtZSwgdmFsdWUsIGxpc3RbaV0sIGlzRHluYW1pYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGRBdHRyKGVsLCBuYW1lLCB2YWx1ZSwgbGlzdFtpXSwgaXNEeW5hbWljKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKG9uUkUudGVzdChuYW1lKSkgeyAvLyB2LW9uCiAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKG9uUkUsICcnKTsKICAgICAgICAgIGlzRHluYW1pYyA9IGR5bmFtaWNBcmdSRS50ZXN0KG5hbWUpOwogICAgICAgICAgaWYgKGlzRHluYW1pYykgewogICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgxLCAtMSk7CiAgICAgICAgICB9CiAgICAgICAgICBhZGRIYW5kbGVyKGVsLCBuYW1lLCB2YWx1ZSwgbW9kaWZpZXJzLCBmYWxzZSwgd2FybiQyLCBsaXN0W2ldLCBpc0R5bmFtaWMpOwogICAgICAgIH0gZWxzZSB7IC8vIG5vcm1hbCBkaXJlY3RpdmVzCiAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKGRpclJFLCAnJyk7CiAgICAgICAgICAvLyBwYXJzZSBhcmcKICAgICAgICAgIHZhciBhcmdNYXRjaCA9IG5hbWUubWF0Y2goYXJnUkUpOwogICAgICAgICAgdmFyIGFyZyA9IGFyZ01hdGNoICYmIGFyZ01hdGNoWzFdOwogICAgICAgICAgaXNEeW5hbWljID0gZmFsc2U7CiAgICAgICAgICBpZiAoYXJnKSB7CiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIC0oYXJnLmxlbmd0aCArIDEpKTsKICAgICAgICAgICAgaWYgKGR5bmFtaWNBcmdSRS50ZXN0KGFyZykpIHsKICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMSwgLTEpOwogICAgICAgICAgICAgIGlzRHluYW1pYyA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGFkZERpcmVjdGl2ZShlbCwgbmFtZSwgcmF3TmFtZSwgdmFsdWUsIGFyZywgaXNEeW5hbWljLCBtb2RpZmllcnMsIGxpc3RbaV0pOwogICAgICAgICAgaWYgKG5hbWUgPT09ICdtb2RlbCcpIHsKICAgICAgICAgICAgY2hlY2tGb3JBbGlhc01vZGVsKGVsLCB2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIGxpdGVyYWwgYXR0cmlidXRlCiAgICAgICAgewogICAgICAgICAgdmFyIHJlcyA9IHBhcnNlVGV4dCh2YWx1ZSwgZGVsaW1pdGVycyk7CiAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgIHdhcm4kMigKICAgICAgICAgICAgICBuYW1lICsgIj1cIiIgKyB2YWx1ZSArICJcIjogIiArCiAgICAgICAgICAgICAgJ0ludGVycG9sYXRpb24gaW5zaWRlIGF0dHJpYnV0ZXMgaGFzIGJlZW4gcmVtb3ZlZC4gJyArCiAgICAgICAgICAgICAgJ1VzZSB2LWJpbmQgb3IgdGhlIGNvbG9uIHNob3J0aGFuZCBpbnN0ZWFkLiBGb3IgZXhhbXBsZSwgJyArCiAgICAgICAgICAgICAgJ2luc3RlYWQgb2YgPGRpdiBpZD0ie3sgdmFsIH19Ij4sIHVzZSA8ZGl2IDppZD0idmFsIj4uJywKICAgICAgICAgICAgICBsaXN0W2ldCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGFkZEF0dHIoZWwsIG5hbWUsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSwgbGlzdFtpXSk7CiAgICAgICAgLy8gIzY4ODcgZmlyZWZveCBkb2Vzbid0IHVwZGF0ZSBtdXRlZCBzdGF0ZSBpZiBzZXQgdmlhIGF0dHJpYnV0ZQogICAgICAgIC8vIGV2ZW4gaW1tZWRpYXRlbHkgYWZ0ZXIgZWxlbWVudCBjcmVhdGlvbgogICAgICAgIGlmICghZWwuY29tcG9uZW50ICYmCiAgICAgICAgICAgIG5hbWUgPT09ICdtdXRlZCcgJiYKICAgICAgICAgICAgcGxhdGZvcm1NdXN0VXNlUHJvcChlbC50YWcsIGVsLmF0dHJzTWFwLnR5cGUsIG5hbWUpKSB7CiAgICAgICAgICBhZGRQcm9wKGVsLCBuYW1lLCAndHJ1ZScsIGxpc3RbaV0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gY2hlY2tJbkZvciAoZWwpIHsKICAgIHZhciBwYXJlbnQgPSBlbDsKICAgIHdoaWxlIChwYXJlbnQpIHsKICAgICAgaWYgKHBhcmVudC5mb3IgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDsKICAgIH0KICAgIHJldHVybiBmYWxzZQogIH0KCiAgZnVuY3Rpb24gcGFyc2VNb2RpZmllcnMgKG5hbWUpIHsKICAgIHZhciBtYXRjaCA9IG5hbWUubWF0Y2gobW9kaWZpZXJSRSk7CiAgICBpZiAobWF0Y2gpIHsKICAgICAgdmFyIHJldCA9IHt9OwogICAgICBtYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldFttLnNsaWNlKDEpXSA9IHRydWU7IH0pOwogICAgICByZXR1cm4gcmV0CiAgICB9CiAgfQoKICBmdW5jdGlvbiBtYWtlQXR0cnNNYXAgKGF0dHJzKSB7CiAgICB2YXIgbWFwID0ge307CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBpZiAoCiAgICAgICAgbWFwW2F0dHJzW2ldLm5hbWVdICYmICFpc0lFICYmICFpc0VkZ2UKICAgICAgKSB7CiAgICAgICAgd2FybiQyKCdkdXBsaWNhdGUgYXR0cmlidXRlOiAnICsgYXR0cnNbaV0ubmFtZSwgYXR0cnNbaV0pOwogICAgICB9CiAgICAgIG1hcFthdHRyc1tpXS5uYW1lXSA9IGF0dHJzW2ldLnZhbHVlOwogICAgfQogICAgcmV0dXJuIG1hcAogIH0KCiAgLy8gZm9yIHNjcmlwdCAoZS5nLiB0eXBlPSJ4L3RlbXBsYXRlIikgb3Igc3R5bGUsIGRvIG5vdCBkZWNvZGUgY29udGVudAogIGZ1bmN0aW9uIGlzVGV4dFRhZyAoZWwpIHsKICAgIHJldHVybiBlbC50YWcgPT09ICdzY3JpcHQnIHx8IGVsLnRhZyA9PT0gJ3N0eWxlJwogIH0KCiAgZnVuY3Rpb24gaXNGb3JiaWRkZW5UYWcgKGVsKSB7CiAgICByZXR1cm4gKAogICAgICBlbC50YWcgPT09ICdzdHlsZScgfHwKICAgICAgKGVsLnRhZyA9PT0gJ3NjcmlwdCcgJiYgKAogICAgICAgICFlbC5hdHRyc01hcC50eXBlIHx8CiAgICAgICAgZWwuYXR0cnNNYXAudHlwZSA9PT0gJ3RleHQvamF2YXNjcmlwdCcKICAgICAgKSkKICAgICkKICB9CgogIHZhciBpZU5TQnVnID0gL154bWxuczpOU1xkKy87CiAgdmFyIGllTlNQcmVmaXggPSAvXk5TXGQrOi87CgogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgZnVuY3Rpb24gZ3VhcmRJRVNWR0J1ZyAoYXR0cnMpIHsKICAgIHZhciByZXMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGF0dHIgPSBhdHRyc1tpXTsKICAgICAgaWYgKCFpZU5TQnVnLnRlc3QoYXR0ci5uYW1lKSkgewogICAgICAgIGF0dHIubmFtZSA9IGF0dHIubmFtZS5yZXBsYWNlKGllTlNQcmVmaXgsICcnKTsKICAgICAgICByZXMucHVzaChhdHRyKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gY2hlY2tGb3JBbGlhc01vZGVsIChlbCwgdmFsdWUpIHsKICAgIHZhciBfZWwgPSBlbDsKICAgIHdoaWxlIChfZWwpIHsKICAgICAgaWYgKF9lbC5mb3IgJiYgX2VsLmFsaWFzID09PSB2YWx1ZSkgewogICAgICAgIHdhcm4kMigKICAgICAgICAgICI8IiArIChlbC50YWcpICsgIiB2LW1vZGVsPVwiIiArIHZhbHVlICsgIlwiPjogIiArCiAgICAgICAgICAiWW91IGFyZSBiaW5kaW5nIHYtbW9kZWwgZGlyZWN0bHkgdG8gYSB2LWZvciBpdGVyYXRpb24gYWxpYXMuICIgKwogICAgICAgICAgIlRoaXMgd2lsbCBub3QgYmUgYWJsZSB0byBtb2RpZnkgdGhlIHYtZm9yIHNvdXJjZSBhcnJheSBiZWNhdXNlICIgKwogICAgICAgICAgIndyaXRpbmcgdG8gdGhlIGFsaWFzIGlzIGxpa2UgbW9kaWZ5aW5nIGEgZnVuY3Rpb24gbG9jYWwgdmFyaWFibGUuICIgKwogICAgICAgICAgIkNvbnNpZGVyIHVzaW5nIGFuIGFycmF5IG9mIG9iamVjdHMgYW5kIHVzZSB2LW1vZGVsIG9uIGFuIG9iamVjdCBwcm9wZXJ0eSBpbnN0ZWFkLiIsCiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsndi1tb2RlbCddCiAgICAgICAgKTsKICAgICAgfQogICAgICBfZWwgPSBfZWwucGFyZW50OwogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIHByZVRyYW5zZm9ybU5vZGUgKGVsLCBvcHRpb25zKSB7CiAgICBpZiAoZWwudGFnID09PSAnaW5wdXQnKSB7CiAgICAgIHZhciBtYXAgPSBlbC5hdHRyc01hcDsKICAgICAgaWYgKCFtYXBbJ3YtbW9kZWwnXSkgewogICAgICAgIHJldHVybgogICAgICB9CgogICAgICB2YXIgdHlwZUJpbmRpbmc7CiAgICAgIGlmIChtYXBbJzp0eXBlJ10gfHwgbWFwWyd2LWJpbmQ6dHlwZSddKSB7CiAgICAgICAgdHlwZUJpbmRpbmcgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3R5cGUnKTsKICAgICAgfQogICAgICBpZiAoIW1hcC50eXBlICYmICF0eXBlQmluZGluZyAmJiBtYXBbJ3YtYmluZCddKSB7CiAgICAgICAgdHlwZUJpbmRpbmcgPSAiKCIgKyAobWFwWyd2LWJpbmQnXSkgKyAiKS50eXBlIjsKICAgICAgfQoKICAgICAgaWYgKHR5cGVCaW5kaW5nKSB7CiAgICAgICAgdmFyIGlmQ29uZGl0aW9uID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtaWYnLCB0cnVlKTsKICAgICAgICB2YXIgaWZDb25kaXRpb25FeHRyYSA9IGlmQ29uZGl0aW9uID8gKCImJigiICsgaWZDb25kaXRpb24gKyAiKSIpIDogIiI7CiAgICAgICAgdmFyIGhhc0Vsc2UgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1lbHNlJywgdHJ1ZSkgIT0gbnVsbDsKICAgICAgICB2YXIgZWxzZUlmQ29uZGl0aW9uID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZWxzZS1pZicsIHRydWUpOwogICAgICAgIC8vIDEuIGNoZWNrYm94CiAgICAgICAgdmFyIGJyYW5jaDAgPSBjbG9uZUFTVEVsZW1lbnQoZWwpOwogICAgICAgIC8vIHByb2Nlc3MgZm9yIG9uIHRoZSBtYWluIG5vZGUKICAgICAgICBwcm9jZXNzRm9yKGJyYW5jaDApOwogICAgICAgIGFkZFJhd0F0dHIoYnJhbmNoMCwgJ3R5cGUnLCAnY2hlY2tib3gnKTsKICAgICAgICBwcm9jZXNzRWxlbWVudChicmFuY2gwLCBvcHRpb25zKTsKICAgICAgICBicmFuY2gwLnByb2Nlc3NlZCA9IHRydWU7IC8vIHByZXZlbnQgaXQgZnJvbSBkb3VibGUtcHJvY2Vzc2VkCiAgICAgICAgYnJhbmNoMC5pZiA9ICIoIiArIHR5cGVCaW5kaW5nICsgIik9PT0nY2hlY2tib3gnIiArIGlmQ29uZGl0aW9uRXh0cmE7CiAgICAgICAgYWRkSWZDb25kaXRpb24oYnJhbmNoMCwgewogICAgICAgICAgZXhwOiBicmFuY2gwLmlmLAogICAgICAgICAgYmxvY2s6IGJyYW5jaDAKICAgICAgICB9KTsKICAgICAgICAvLyAyLiBhZGQgcmFkaW8gZWxzZS1pZiBjb25kaXRpb24KICAgICAgICB2YXIgYnJhbmNoMSA9IGNsb25lQVNURWxlbWVudChlbCk7CiAgICAgICAgZ2V0QW5kUmVtb3ZlQXR0cihicmFuY2gxLCAndi1mb3InLCB0cnVlKTsKICAgICAgICBhZGRSYXdBdHRyKGJyYW5jaDEsICd0eXBlJywgJ3JhZGlvJyk7CiAgICAgICAgcHJvY2Vzc0VsZW1lbnQoYnJhbmNoMSwgb3B0aW9ucyk7CiAgICAgICAgYWRkSWZDb25kaXRpb24oYnJhbmNoMCwgewogICAgICAgICAgZXhwOiAiKCIgKyB0eXBlQmluZGluZyArICIpPT09J3JhZGlvJyIgKyBpZkNvbmRpdGlvbkV4dHJhLAogICAgICAgICAgYmxvY2s6IGJyYW5jaDEKICAgICAgICB9KTsKICAgICAgICAvLyAzLiBvdGhlcgogICAgICAgIHZhciBicmFuY2gyID0gY2xvbmVBU1RFbGVtZW50KGVsKTsKICAgICAgICBnZXRBbmRSZW1vdmVBdHRyKGJyYW5jaDIsICd2LWZvcicsIHRydWUpOwogICAgICAgIGFkZFJhd0F0dHIoYnJhbmNoMiwgJzp0eXBlJywgdHlwZUJpbmRpbmcpOwogICAgICAgIHByb2Nlc3NFbGVtZW50KGJyYW5jaDIsIG9wdGlvbnMpOwogICAgICAgIGFkZElmQ29uZGl0aW9uKGJyYW5jaDAsIHsKICAgICAgICAgIGV4cDogaWZDb25kaXRpb24sCiAgICAgICAgICBibG9jazogYnJhbmNoMgogICAgICAgIH0pOwoKICAgICAgICBpZiAoaGFzRWxzZSkgewogICAgICAgICAgYnJhbmNoMC5lbHNlID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGVsc2VJZkNvbmRpdGlvbikgewogICAgICAgICAgYnJhbmNoMC5lbHNlaWYgPSBlbHNlSWZDb25kaXRpb247CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYnJhbmNoMAogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjbG9uZUFTVEVsZW1lbnQgKGVsKSB7CiAgICByZXR1cm4gY3JlYXRlQVNURWxlbWVudChlbC50YWcsIGVsLmF0dHJzTGlzdC5zbGljZSgpLCBlbC5wYXJlbnQpCiAgfQoKICB2YXIgbW9kZWwkMSA9IHsKICAgIHByZVRyYW5zZm9ybU5vZGU6IHByZVRyYW5zZm9ybU5vZGUKICB9OwoKICB2YXIgbW9kdWxlcyQxID0gWwogICAga2xhc3MkMSwKICAgIHN0eWxlJDEsCiAgICBtb2RlbCQxCiAgXTsKCiAgLyogICovCgogIGZ1bmN0aW9uIHRleHQgKGVsLCBkaXIpIHsKICAgIGlmIChkaXIudmFsdWUpIHsKICAgICAgYWRkUHJvcChlbCwgJ3RleHRDb250ZW50JywgKCJfcygiICsgKGRpci52YWx1ZSkgKyAiKSIpLCBkaXIpOwogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGh0bWwgKGVsLCBkaXIpIHsKICAgIGlmIChkaXIudmFsdWUpIHsKICAgICAgYWRkUHJvcChlbCwgJ2lubmVySFRNTCcsICgiX3MoIiArIChkaXIudmFsdWUpICsgIikiKSwgZGlyKTsKICAgIH0KICB9CgogIHZhciBkaXJlY3RpdmVzJDEgPSB7CiAgICBtb2RlbDogbW9kZWwsCiAgICB0ZXh0OiB0ZXh0LAogICAgaHRtbDogaHRtbAogIH07CgogIC8qICAqLwoKICB2YXIgYmFzZU9wdGlvbnMgPSB7CiAgICBleHBlY3RIVE1MOiB0cnVlLAogICAgbW9kdWxlczogbW9kdWxlcyQxLAogICAgZGlyZWN0aXZlczogZGlyZWN0aXZlcyQxLAogICAgaXNQcmVUYWc6IGlzUHJlVGFnLAogICAgaXNVbmFyeVRhZzogaXNVbmFyeVRhZywKICAgIG11c3RVc2VQcm9wOiBtdXN0VXNlUHJvcCwKICAgIGNhbkJlTGVmdE9wZW5UYWc6IGNhbkJlTGVmdE9wZW5UYWcsCiAgICBpc1Jlc2VydmVkVGFnOiBpc1Jlc2VydmVkVGFnLAogICAgZ2V0VGFnTmFtZXNwYWNlOiBnZXRUYWdOYW1lc3BhY2UsCiAgICBzdGF0aWNLZXlzOiBnZW5TdGF0aWNLZXlzKG1vZHVsZXMkMSkKICB9OwoKICAvKiAgKi8KCiAgdmFyIGlzU3RhdGljS2V5OwogIHZhciBpc1BsYXRmb3JtUmVzZXJ2ZWRUYWc7CgogIHZhciBnZW5TdGF0aWNLZXlzQ2FjaGVkID0gY2FjaGVkKGdlblN0YXRpY0tleXMkMSk7CgogIC8qKgogICAqIEdvYWwgb2YgdGhlIG9wdGltaXplcjogd2FsayB0aGUgZ2VuZXJhdGVkIHRlbXBsYXRlIEFTVCB0cmVlCiAgICogYW5kIGRldGVjdCBzdWItdHJlZXMgdGhhdCBhcmUgcHVyZWx5IHN0YXRpYywgaS5lLiBwYXJ0cyBvZgogICAqIHRoZSBET00gdGhhdCBuZXZlciBuZWVkcyB0byBjaGFuZ2UuCiAgICoKICAgKiBPbmNlIHdlIGRldGVjdCB0aGVzZSBzdWItdHJlZXMsIHdlIGNhbjoKICAgKgogICAqIDEuIEhvaXN0IHRoZW0gaW50byBjb25zdGFudHMsIHNvIHRoYXQgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8KICAgKiAgICBjcmVhdGUgZnJlc2ggbm9kZXMgZm9yIHRoZW0gb24gZWFjaCByZS1yZW5kZXI7CiAgICogMi4gQ29tcGxldGVseSBza2lwIHRoZW0gaW4gdGhlIHBhdGNoaW5nIHByb2Nlc3MuCiAgICovCiAgZnVuY3Rpb24gb3B0aW1pemUgKHJvb3QsIG9wdGlvbnMpIHsKICAgIGlmICghcm9vdCkgeyByZXR1cm4gfQogICAgaXNTdGF0aWNLZXkgPSBnZW5TdGF0aWNLZXlzQ2FjaGVkKG9wdGlvbnMuc3RhdGljS2V5cyB8fCAnJyk7CiAgICBpc1BsYXRmb3JtUmVzZXJ2ZWRUYWcgPSBvcHRpb25zLmlzUmVzZXJ2ZWRUYWcgfHwgbm87CiAgICAvLyBmaXJzdCBwYXNzOiBtYXJrIGFsbCBub24tc3RhdGljIG5vZGVzLgogICAgbWFya1N0YXRpYyQxKHJvb3QpOwogICAgLy8gc2Vjb25kIHBhc3M6IG1hcmsgc3RhdGljIHJvb3RzLgogICAgbWFya1N0YXRpY1Jvb3RzKHJvb3QsIGZhbHNlKTsKICB9CgogIGZ1bmN0aW9uIGdlblN0YXRpY0tleXMkMSAoa2V5cykgewogICAgcmV0dXJuIG1ha2VNYXAoCiAgICAgICd0eXBlLHRhZyxhdHRyc0xpc3QsYXR0cnNNYXAscGxhaW4scGFyZW50LGNoaWxkcmVuLGF0dHJzLHN0YXJ0LGVuZCxyYXdBdHRyc01hcCcgKwogICAgICAoa2V5cyA/ICcsJyArIGtleXMgOiAnJykKICAgICkKICB9CgogIGZ1bmN0aW9uIG1hcmtTdGF0aWMkMSAobm9kZSkgewogICAgbm9kZS5zdGF0aWMgPSBpc1N0YXRpYyhub2RlKTsKICAgIGlmIChub2RlLnR5cGUgPT09IDEpIHsKICAgICAgLy8gZG8gbm90IG1ha2UgY29tcG9uZW50IHNsb3QgY29udGVudCBzdGF0aWMuIHRoaXMgYXZvaWRzCiAgICAgIC8vIDEuIGNvbXBvbmVudHMgbm90IGFibGUgdG8gbXV0YXRlIHNsb3Qgbm9kZXMKICAgICAgLy8gMi4gc3RhdGljIHNsb3QgY29udGVudCBmYWlscyBmb3IgaG90LXJlbG9hZGluZwogICAgICBpZiAoCiAgICAgICAgIWlzUGxhdGZvcm1SZXNlcnZlZFRhZyhub2RlLnRhZykgJiYKICAgICAgICBub2RlLnRhZyAhPT0gJ3Nsb3QnICYmCiAgICAgICAgbm9kZS5hdHRyc01hcFsnaW5saW5lLXRlbXBsYXRlJ10gPT0gbnVsbAogICAgICApIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTsKICAgICAgICBtYXJrU3RhdGljJDEoY2hpbGQpOwogICAgICAgIGlmICghY2hpbGQuc3RhdGljKSB7CiAgICAgICAgICBub2RlLnN0YXRpYyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAobm9kZS5pZkNvbmRpdGlvbnMpIHsKICAgICAgICBmb3IgKHZhciBpJDEgPSAxLCBsJDEgPSBub2RlLmlmQ29uZGl0aW9ucy5sZW5ndGg7IGkkMSA8IGwkMTsgaSQxKyspIHsKICAgICAgICAgIHZhciBibG9jayA9IG5vZGUuaWZDb25kaXRpb25zW2kkMV0uYmxvY2s7CiAgICAgICAgICBtYXJrU3RhdGljJDEoYmxvY2spOwogICAgICAgICAgaWYgKCFibG9jay5zdGF0aWMpIHsKICAgICAgICAgICAgbm9kZS5zdGF0aWMgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIG1hcmtTdGF0aWNSb290cyAobm9kZSwgaXNJbkZvcikgewogICAgaWYgKG5vZGUudHlwZSA9PT0gMSkgewogICAgICBpZiAobm9kZS5zdGF0aWMgfHwgbm9kZS5vbmNlKSB7CiAgICAgICAgbm9kZS5zdGF0aWNJbkZvciA9IGlzSW5Gb3I7CiAgICAgIH0KICAgICAgLy8gRm9yIGEgbm9kZSB0byBxdWFsaWZ5IGFzIGEgc3RhdGljIHJvb3QsIGl0IHNob3VsZCBoYXZlIGNoaWxkcmVuIHRoYXQKICAgICAgLy8gYXJlIG5vdCBqdXN0IHN0YXRpYyB0ZXh0LiBPdGhlcndpc2UgdGhlIGNvc3Qgb2YgaG9pc3Rpbmcgb3V0IHdpbGwKICAgICAgLy8gb3V0d2VpZ2ggdGhlIGJlbmVmaXRzIGFuZCBpdCdzIGJldHRlciBvZmYgdG8ganVzdCBhbHdheXMgcmVuZGVyIGl0IGZyZXNoLgogICAgICBpZiAobm9kZS5zdGF0aWMgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggJiYgISgKICAgICAgICBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJgogICAgICAgIG5vZGUuY2hpbGRyZW5bMF0udHlwZSA9PT0gMwogICAgICApKSB7CiAgICAgICAgbm9kZS5zdGF0aWNSb290ID0gdHJ1ZTsKICAgICAgICByZXR1cm4KICAgICAgfSBlbHNlIHsKICAgICAgICBub2RlLnN0YXRpY1Jvb3QgPSBmYWxzZTsKICAgICAgfQogICAgICBpZiAobm9kZS5jaGlsZHJlbikgewogICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIG1hcmtTdGF0aWNSb290cyhub2RlLmNoaWxkcmVuW2ldLCBpc0luRm9yIHx8ICEhbm9kZS5mb3IpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAobm9kZS5pZkNvbmRpdGlvbnMpIHsKICAgICAgICBmb3IgKHZhciBpJDEgPSAxLCBsJDEgPSBub2RlLmlmQ29uZGl0aW9ucy5sZW5ndGg7IGkkMSA8IGwkMTsgaSQxKyspIHsKICAgICAgICAgIG1hcmtTdGF0aWNSb290cyhub2RlLmlmQ29uZGl0aW9uc1tpJDFdLmJsb2NrLCBpc0luRm9yKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGlzU3RhdGljIChub2RlKSB7CiAgICBpZiAobm9kZS50eXBlID09PSAyKSB7IC8vIGV4cHJlc3Npb24KICAgICAgcmV0dXJuIGZhbHNlCiAgICB9CiAgICBpZiAobm9kZS50eXBlID09PSAzKSB7IC8vIHRleHQKICAgICAgcmV0dXJuIHRydWUKICAgIH0KICAgIHJldHVybiAhIShub2RlLnByZSB8fCAoCiAgICAgICFub2RlLmhhc0JpbmRpbmdzICYmIC8vIG5vIGR5bmFtaWMgYmluZGluZ3MKICAgICAgIW5vZGUuaWYgJiYgIW5vZGUuZm9yICYmIC8vIG5vdCB2LWlmIG9yIHYtZm9yIG9yIHYtZWxzZQogICAgICAhaXNCdWlsdEluVGFnKG5vZGUudGFnKSAmJiAvLyBub3QgYSBidWlsdC1pbgogICAgICBpc1BsYXRmb3JtUmVzZXJ2ZWRUYWcobm9kZS50YWcpICYmIC8vIG5vdCBhIGNvbXBvbmVudAogICAgICAhaXNEaXJlY3RDaGlsZE9mVGVtcGxhdGVGb3Iobm9kZSkgJiYKICAgICAgT2JqZWN0LmtleXMobm9kZSkuZXZlcnkoaXNTdGF0aWNLZXkpCiAgICApKQogIH0KCiAgZnVuY3Rpb24gaXNEaXJlY3RDaGlsZE9mVGVtcGxhdGVGb3IgKG5vZGUpIHsKICAgIHdoaWxlIChub2RlLnBhcmVudCkgewogICAgICBub2RlID0gbm9kZS5wYXJlbnQ7CiAgICAgIGlmIChub2RlLnRhZyAhPT0gJ3RlbXBsYXRlJykgewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICAgIGlmIChub2RlLmZvcikgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmYWxzZQogIH0KCiAgLyogICovCgogIHZhciBmbkV4cFJFID0gL14oW1x3JF9dK3xcKFteKV0qP1wpKVxzKj0+fF5mdW5jdGlvblxzKig/OltcdyRdKyk/XHMqXCgvOwogIHZhciBmbkludm9rZVJFID0gL1woW14pXSo/XCk7KiQvOwogIHZhciBzaW1wbGVQYXRoUkUgPSAvXltBLVphLXpfJF1bXHckXSooPzpcLltBLVphLXpfJF1bXHckXSp8XFsnW14nXSo/J118XFsiW14iXSo/Il18XFtcZCtdfFxbW0EtWmEtel8kXVtcdyRdKl0pKiQvOwoKICAvLyBLZXlib2FyZEV2ZW50LmtleUNvZGUgYWxpYXNlcwogIHZhciBrZXlDb2RlcyA9IHsKICAgIGVzYzogMjcsCiAgICB0YWI6IDksCiAgICBlbnRlcjogMTMsCiAgICBzcGFjZTogMzIsCiAgICB1cDogMzgsCiAgICBsZWZ0OiAzNywKICAgIHJpZ2h0OiAzOSwKICAgIGRvd246IDQwLAogICAgJ2RlbGV0ZSc6IFs4LCA0Nl0KICB9OwoKICAvLyBLZXlib2FyZEV2ZW50LmtleSBhbGlhc2VzCiAgdmFyIGtleU5hbWVzID0gewogICAgLy8gIzc4ODA6IElFMTEgYW5kIEVkZ2UgdXNlIGBFc2NgIGZvciBFc2NhcGUga2V5IG5hbWUuCiAgICBlc2M6IFsnRXNjJywgJ0VzY2FwZSddLAogICAgdGFiOiAnVGFiJywKICAgIGVudGVyOiAnRW50ZXInLAogICAgLy8gIzkxMTI6IElFMTEgdXNlcyBgU3BhY2ViYXJgIGZvciBTcGFjZSBrZXkgbmFtZS4KICAgIHNwYWNlOiBbJyAnLCAnU3BhY2ViYXInXSwKICAgIC8vICM3ODA2OiBJRTExIHVzZXMga2V5IG5hbWVzIHdpdGhvdXQgYEFycm93YCBwcmVmaXggZm9yIGFycm93IGtleXMuCiAgICB1cDogWydVcCcsICdBcnJvd1VwJ10sCiAgICBsZWZ0OiBbJ0xlZnQnLCAnQXJyb3dMZWZ0J10sCiAgICByaWdodDogWydSaWdodCcsICdBcnJvd1JpZ2h0J10sCiAgICBkb3duOiBbJ0Rvd24nLCAnQXJyb3dEb3duJ10sCiAgICAvLyAjOTExMjogSUUxMSB1c2VzIGBEZWxgIGZvciBEZWxldGUga2V5IG5hbWUuCiAgICAnZGVsZXRlJzogWydCYWNrc3BhY2UnLCAnRGVsZXRlJywgJ0RlbCddCiAgfTsKCiAgLy8gIzQ4Njg6IG1vZGlmaWVycyB0aGF0IHByZXZlbnQgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbGlzdGVuZXIKICAvLyBuZWVkIHRvIGV4cGxpY2l0bHkgcmV0dXJuIG51bGwgc28gdGhhdCB3ZSBjYW4gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gcmVtb3ZlCiAgLy8gdGhlIGxpc3RlbmVyIGZvciAub25jZQogIHZhciBnZW5HdWFyZCA9IGZ1bmN0aW9uIChjb25kaXRpb24pIHsgcmV0dXJuICgiaWYoIiArIGNvbmRpdGlvbiArICIpcmV0dXJuIG51bGw7Iik7IH07CgogIHZhciBtb2RpZmllckNvZGUgPSB7CiAgICBzdG9wOiAnJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOycsCiAgICBwcmV2ZW50OiAnJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7JywKICAgIHNlbGY6IGdlbkd1YXJkKCIkZXZlbnQudGFyZ2V0ICE9PSAkZXZlbnQuY3VycmVudFRhcmdldCIpLAogICAgY3RybDogZ2VuR3VhcmQoIiEkZXZlbnQuY3RybEtleSIpLAogICAgc2hpZnQ6IGdlbkd1YXJkKCIhJGV2ZW50LnNoaWZ0S2V5IiksCiAgICBhbHQ6IGdlbkd1YXJkKCIhJGV2ZW50LmFsdEtleSIpLAogICAgbWV0YTogZ2VuR3VhcmQoIiEkZXZlbnQubWV0YUtleSIpLAogICAgbGVmdDogZ2VuR3VhcmQoIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAwIiksCiAgICBtaWRkbGU6IGdlbkd1YXJkKCInYnV0dG9uJyBpbiAkZXZlbnQgJiYgJGV2ZW50LmJ1dHRvbiAhPT0gMSIpLAogICAgcmlnaHQ6IGdlbkd1YXJkKCInYnV0dG9uJyBpbiAkZXZlbnQgJiYgJGV2ZW50LmJ1dHRvbiAhPT0gMiIpCiAgfTsKCiAgZnVuY3Rpb24gZ2VuSGFuZGxlcnMgKAogICAgZXZlbnRzLAogICAgaXNOYXRpdmUKICApIHsKICAgIHZhciBwcmVmaXggPSBpc05hdGl2ZSA/ICduYXRpdmVPbjonIDogJ29uOic7CiAgICB2YXIgc3RhdGljSGFuZGxlcnMgPSAiIjsKICAgIHZhciBkeW5hbWljSGFuZGxlcnMgPSAiIjsKICAgIGZvciAodmFyIG5hbWUgaW4gZXZlbnRzKSB7CiAgICAgIHZhciBoYW5kbGVyQ29kZSA9IGdlbkhhbmRsZXIoZXZlbnRzW25hbWVdKTsKICAgICAgaWYgKGV2ZW50c1tuYW1lXSAmJiBldmVudHNbbmFtZV0uZHluYW1pYykgewogICAgICAgIGR5bmFtaWNIYW5kbGVycyArPSBuYW1lICsgIiwiICsgaGFuZGxlckNvZGUgKyAiLCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdGljSGFuZGxlcnMgKz0gIlwiIiArIG5hbWUgKyAiXCI6IiArIGhhbmRsZXJDb2RlICsgIiwiOwogICAgICB9CiAgICB9CiAgICBzdGF0aWNIYW5kbGVycyA9ICJ7IiArIChzdGF0aWNIYW5kbGVycy5zbGljZSgwLCAtMSkpICsgIn0iOwogICAgaWYgKGR5bmFtaWNIYW5kbGVycykgewogICAgICByZXR1cm4gcHJlZml4ICsgIl9kKCIgKyBzdGF0aWNIYW5kbGVycyArICIsWyIgKyAoZHluYW1pY0hhbmRsZXJzLnNsaWNlKDAsIC0xKSkgKyAiXSkiCiAgICB9IGVsc2UgewogICAgICByZXR1cm4gcHJlZml4ICsgc3RhdGljSGFuZGxlcnMKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdlbkhhbmRsZXIgKGhhbmRsZXIpIHsKICAgIGlmICghaGFuZGxlcikgewogICAgICByZXR1cm4gJ2Z1bmN0aW9uKCl7fScKICAgIH0KCiAgICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVyKSkgewogICAgICByZXR1cm4gKCJbIiArIChoYW5kbGVyLm1hcChmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gZ2VuSGFuZGxlcihoYW5kbGVyKTsgfSkuam9pbignLCcpKSArICJdIikKICAgIH0KCiAgICB2YXIgaXNNZXRob2RQYXRoID0gc2ltcGxlUGF0aFJFLnRlc3QoaGFuZGxlci52YWx1ZSk7CiAgICB2YXIgaXNGdW5jdGlvbkV4cHJlc3Npb24gPSBmbkV4cFJFLnRlc3QoaGFuZGxlci52YWx1ZSk7CiAgICB2YXIgaXNGdW5jdGlvbkludm9jYXRpb24gPSBzaW1wbGVQYXRoUkUudGVzdChoYW5kbGVyLnZhbHVlLnJlcGxhY2UoZm5JbnZva2VSRSwgJycpKTsKCiAgICBpZiAoIWhhbmRsZXIubW9kaWZpZXJzKSB7CiAgICAgIGlmIChpc01ldGhvZFBhdGggfHwgaXNGdW5jdGlvbkV4cHJlc3Npb24pIHsKICAgICAgICByZXR1cm4gaGFuZGxlci52YWx1ZQogICAgICB9CiAgICAgIHJldHVybiAoImZ1bmN0aW9uKCRldmVudCl7IiArIChpc0Z1bmN0aW9uSW52b2NhdGlvbiA/ICgicmV0dXJuICIgKyAoaGFuZGxlci52YWx1ZSkpIDogaGFuZGxlci52YWx1ZSkgKyAifSIpIC8vIGlubGluZSBzdGF0ZW1lbnQKICAgIH0gZWxzZSB7CiAgICAgIHZhciBjb2RlID0gJyc7CiAgICAgIHZhciBnZW5Nb2RpZmllckNvZGUgPSAnJzsKICAgICAgdmFyIGtleXMgPSBbXTsKICAgICAgZm9yICh2YXIga2V5IGluIGhhbmRsZXIubW9kaWZpZXJzKSB7CiAgICAgICAgaWYgKG1vZGlmaWVyQ29kZVtrZXldKSB7CiAgICAgICAgICBnZW5Nb2RpZmllckNvZGUgKz0gbW9kaWZpZXJDb2RlW2tleV07CiAgICAgICAgICAvLyBsZWZ0L3JpZ2h0CiAgICAgICAgICBpZiAoa2V5Q29kZXNba2V5XSkgewogICAgICAgICAgICBrZXlzLnB1c2goa2V5KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2V4YWN0JykgewogICAgICAgICAgdmFyIG1vZGlmaWVycyA9IChoYW5kbGVyLm1vZGlmaWVycyk7CiAgICAgICAgICBnZW5Nb2RpZmllckNvZGUgKz0gZ2VuR3VhcmQoCiAgICAgICAgICAgIFsnY3RybCcsICdzaGlmdCcsICdhbHQnLCAnbWV0YSddCiAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoa2V5TW9kaWZpZXIpIHsgcmV0dXJuICFtb2RpZmllcnNba2V5TW9kaWZpZXJdOyB9KQogICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleU1vZGlmaWVyKSB7IHJldHVybiAoIiRldmVudC4iICsga2V5TW9kaWZpZXIgKyAiS2V5Iik7IH0pCiAgICAgICAgICAgICAgLmpvaW4oJ3x8JykKICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGtleXMucHVzaChrZXkpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoa2V5cy5sZW5ndGgpIHsKICAgICAgICBjb2RlICs9IGdlbktleUZpbHRlcihrZXlzKTsKICAgICAgfQogICAgICAvLyBNYWtlIHN1cmUgbW9kaWZpZXJzIGxpa2UgcHJldmVudCBhbmQgc3RvcCBnZXQgZXhlY3V0ZWQgYWZ0ZXIga2V5IGZpbHRlcmluZwogICAgICBpZiAoZ2VuTW9kaWZpZXJDb2RlKSB7CiAgICAgICAgY29kZSArPSBnZW5Nb2RpZmllckNvZGU7CiAgICAgIH0KICAgICAgdmFyIGhhbmRsZXJDb2RlID0gaXNNZXRob2RQYXRoCiAgICAgICAgPyAoInJldHVybiAiICsgKGhhbmRsZXIudmFsdWUpICsgIigkZXZlbnQpIikKICAgICAgICA6IGlzRnVuY3Rpb25FeHByZXNzaW9uCiAgICAgICAgICA/ICgicmV0dXJuICgiICsgKGhhbmRsZXIudmFsdWUpICsgIikoJGV2ZW50KSIpCiAgICAgICAgICA6IGlzRnVuY3Rpb25JbnZvY2F0aW9uCiAgICAgICAgICAgID8gKCJyZXR1cm4gIiArIChoYW5kbGVyLnZhbHVlKSkKICAgICAgICAgICAgOiBoYW5kbGVyLnZhbHVlOwogICAgICByZXR1cm4gKCJmdW5jdGlvbigkZXZlbnQpeyIgKyBjb2RlICsgaGFuZGxlckNvZGUgKyAifSIpCiAgICB9CiAgfQoKICBmdW5jdGlvbiBnZW5LZXlGaWx0ZXIgKGtleXMpIHsKICAgIHJldHVybiAoCiAgICAgIC8vIG1ha2Ugc3VyZSB0aGUga2V5IGZpbHRlcnMgb25seSBhcHBseSB0byBLZXlib2FyZEV2ZW50cwogICAgICAvLyAjOTQ0MTogY2FuJ3QgdXNlICdrZXlDb2RlJyBpbiAkZXZlbnQgYmVjYXVzZSBDaHJvbWUgYXV0b2ZpbGwgZmlyZXMgZmFrZQogICAgICAvLyBrZXkgZXZlbnRzIHRoYXQgZG8gbm90IGhhdmUga2V5Q29kZSBwcm9wZXJ0eS4uLgogICAgICAiaWYoISRldmVudC50eXBlLmluZGV4T2YoJ2tleScpJiYiICsKICAgICAgKGtleXMubWFwKGdlbkZpbHRlckNvZGUpLmpvaW4oJyYmJykpICsgIilyZXR1cm4gbnVsbDsiCiAgICApCiAgfQoKICBmdW5jdGlvbiBnZW5GaWx0ZXJDb2RlIChrZXkpIHsKICAgIHZhciBrZXlWYWwgPSBwYXJzZUludChrZXksIDEwKTsKICAgIGlmIChrZXlWYWwpIHsKICAgICAgcmV0dXJuICgiJGV2ZW50LmtleUNvZGUhPT0iICsga2V5VmFsKQogICAgfQogICAgdmFyIGtleUNvZGUgPSBrZXlDb2Rlc1trZXldOwogICAgdmFyIGtleU5hbWUgPSBrZXlOYW1lc1trZXldOwogICAgcmV0dXJuICgKICAgICAgIl9rKCRldmVudC5rZXlDb2RlLCIgKwogICAgICAoSlNPTi5zdHJpbmdpZnkoa2V5KSkgKyAiLCIgKwogICAgICAoSlNPTi5zdHJpbmdpZnkoa2V5Q29kZSkpICsgIiwiICsKICAgICAgIiRldmVudC5rZXksIiArCiAgICAgICIiICsgKEpTT04uc3RyaW5naWZ5KGtleU5hbWUpKSArCiAgICAgICIpIgogICAgKQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIG9uIChlbCwgZGlyKSB7CiAgICBpZiAoZGlyLm1vZGlmaWVycykgewogICAgICB3YXJuKCJ2LW9uIHdpdGhvdXQgYXJndW1lbnQgZG9lcyBub3Qgc3VwcG9ydCBtb2RpZmllcnMuIik7CiAgICB9CiAgICBlbC53cmFwTGlzdGVuZXJzID0gZnVuY3Rpb24gKGNvZGUpIHsgcmV0dXJuICgiX2coIiArIGNvZGUgKyAiLCIgKyAoZGlyLnZhbHVlKSArICIpIik7IH07CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gYmluZCQxIChlbCwgZGlyKSB7CiAgICBlbC53cmFwRGF0YSA9IGZ1bmN0aW9uIChjb2RlKSB7CiAgICAgIHJldHVybiAoIl9iKCIgKyBjb2RlICsgIiwnIiArIChlbC50YWcpICsgIicsIiArIChkaXIudmFsdWUpICsgIiwiICsgKGRpci5tb2RpZmllcnMgJiYgZGlyLm1vZGlmaWVycy5wcm9wID8gJ3RydWUnIDogJ2ZhbHNlJykgKyAoZGlyLm1vZGlmaWVycyAmJiBkaXIubW9kaWZpZXJzLnN5bmMgPyAnLHRydWUnIDogJycpICsgIikiKQogICAgfTsKICB9CgogIC8qICAqLwoKICB2YXIgYmFzZURpcmVjdGl2ZXMgPSB7CiAgICBvbjogb24sCiAgICBiaW5kOiBiaW5kJDEsCiAgICBjbG9hazogbm9vcAogIH07CgogIC8qICAqLwoKCgoKCiAgdmFyIENvZGVnZW5TdGF0ZSA9IGZ1bmN0aW9uIENvZGVnZW5TdGF0ZSAob3B0aW9ucykgewogICAgdGhpcy5vcHRpb25zID0gb3B0aW9uczsKICAgIHRoaXMud2FybiA9IG9wdGlvbnMud2FybiB8fCBiYXNlV2FybjsKICAgIHRoaXMudHJhbnNmb3JtcyA9IHBsdWNrTW9kdWxlRnVuY3Rpb24ob3B0aW9ucy5tb2R1bGVzLCAndHJhbnNmb3JtQ29kZScpOwogICAgdGhpcy5kYXRhR2VuRm5zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdnZW5EYXRhJyk7CiAgICB0aGlzLmRpcmVjdGl2ZXMgPSBleHRlbmQoZXh0ZW5kKHt9LCBiYXNlRGlyZWN0aXZlcyksIG9wdGlvbnMuZGlyZWN0aXZlcyk7CiAgICB2YXIgaXNSZXNlcnZlZFRhZyA9IG9wdGlvbnMuaXNSZXNlcnZlZFRhZyB8fCBubzsKICAgIHRoaXMubWF5YmVDb21wb25lbnQgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuICEhZWwuY29tcG9uZW50IHx8ICFpc1Jlc2VydmVkVGFnKGVsLnRhZyk7IH07CiAgICB0aGlzLm9uY2VJZCA9IDA7CiAgICB0aGlzLnN0YXRpY1JlbmRlckZucyA9IFtdOwogICAgdGhpcy5wcmUgPSBmYWxzZTsKICB9OwoKCgogIGZ1bmN0aW9uIGdlbmVyYXRlICgKICAgIGFzdCwKICAgIG9wdGlvbnMKICApIHsKICAgIHZhciBzdGF0ZSA9IG5ldyBDb2RlZ2VuU3RhdGUob3B0aW9ucyk7CiAgICB2YXIgY29kZSA9IGFzdCA/IGdlbkVsZW1lbnQoYXN0LCBzdGF0ZSkgOiAnX2MoImRpdiIpJzsKICAgIHJldHVybiB7CiAgICAgIHJlbmRlcjogKCJ3aXRoKHRoaXMpe3JldHVybiAiICsgY29kZSArICJ9IiksCiAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGUuc3RhdGljUmVuZGVyRm5zCiAgICB9CiAgfQoKICBmdW5jdGlvbiBnZW5FbGVtZW50IChlbCwgc3RhdGUpIHsKICAgIGlmIChlbC5wYXJlbnQpIHsKICAgICAgZWwucHJlID0gZWwucHJlIHx8IGVsLnBhcmVudC5wcmU7CiAgICB9CgogICAgaWYgKGVsLnN0YXRpY1Jvb3QgJiYgIWVsLnN0YXRpY1Byb2Nlc3NlZCkgewogICAgICByZXR1cm4gZ2VuU3RhdGljKGVsLCBzdGF0ZSkKICAgIH0gZWxzZSBpZiAoZWwub25jZSAmJiAhZWwub25jZVByb2Nlc3NlZCkgewogICAgICByZXR1cm4gZ2VuT25jZShlbCwgc3RhdGUpCiAgICB9IGVsc2UgaWYgKGVsLmZvciAmJiAhZWwuZm9yUHJvY2Vzc2VkKSB7CiAgICAgIHJldHVybiBnZW5Gb3IoZWwsIHN0YXRlKQogICAgfSBlbHNlIGlmIChlbC5pZiAmJiAhZWwuaWZQcm9jZXNzZWQpIHsKICAgICAgcmV0dXJuIGdlbklmKGVsLCBzdGF0ZSkKICAgIH0gZWxzZSBpZiAoZWwudGFnID09PSAndGVtcGxhdGUnICYmICFlbC5zbG90VGFyZ2V0ICYmICFzdGF0ZS5wcmUpIHsKICAgICAgcmV0dXJuIGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSkgfHwgJ3ZvaWQgMCcKICAgIH0gZWxzZSBpZiAoZWwudGFnID09PSAnc2xvdCcpIHsKICAgICAgcmV0dXJuIGdlblNsb3QoZWwsIHN0YXRlKQogICAgfSBlbHNlIHsKICAgICAgLy8gY29tcG9uZW50IG9yIGVsZW1lbnQKICAgICAgdmFyIGNvZGU7CiAgICAgIGlmIChlbC5jb21wb25lbnQpIHsKICAgICAgICBjb2RlID0gZ2VuQ29tcG9uZW50KGVsLmNvbXBvbmVudCwgZWwsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICBpZiAoIWVsLnBsYWluIHx8IChlbC5wcmUgJiYgc3RhdGUubWF5YmVDb21wb25lbnQoZWwpKSkgewogICAgICAgICAgZGF0YSA9IGdlbkRhdGEkMihlbCwgc3RhdGUpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNoaWxkcmVuID0gZWwuaW5saW5lVGVtcGxhdGUgPyBudWxsIDogZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlLCB0cnVlKTsKICAgICAgICBjb2RlID0gIl9jKCciICsgKGVsLnRhZykgKyAiJyIgKyAoZGF0YSA/ICgiLCIgKyBkYXRhKSA6ICcnKSArIChjaGlsZHJlbiA/ICgiLCIgKyBjaGlsZHJlbikgOiAnJykgKyAiKSI7CiAgICAgIH0KICAgICAgLy8gbW9kdWxlIHRyYW5zZm9ybXMKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS50cmFuc2Zvcm1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29kZSA9IHN0YXRlLnRyYW5zZm9ybXNbaV0oZWwsIGNvZGUpOwogICAgICB9CiAgICAgIHJldHVybiBjb2RlCiAgICB9CiAgfQoKICAvLyBob2lzdCBzdGF0aWMgc3ViLXRyZWVzIG91dAogIGZ1bmN0aW9uIGdlblN0YXRpYyAoZWwsIHN0YXRlKSB7CiAgICBlbC5zdGF0aWNQcm9jZXNzZWQgPSB0cnVlOwogICAgLy8gU29tZSBlbGVtZW50cyAodGVtcGxhdGVzKSBuZWVkIHRvIGJlaGF2ZSBkaWZmZXJlbnRseSBpbnNpZGUgb2YgYSB2LXByZQogICAgLy8gbm9kZS4gIEFsbCBwcmUgbm9kZXMgYXJlIHN0YXRpYyByb290cywgc28gd2UgY2FuIHVzZSB0aGlzIGFzIGEgbG9jYXRpb24gdG8KICAgIC8vIHdyYXAgYSBzdGF0ZSBjaGFuZ2UgYW5kIHJlc2V0IGl0IHVwb24gZXhpdGluZyB0aGUgcHJlIG5vZGUuCiAgICB2YXIgb3JpZ2luYWxQcmVTdGF0ZSA9IHN0YXRlLnByZTsKICAgIGlmIChlbC5wcmUpIHsKICAgICAgc3RhdGUucHJlID0gZWwucHJlOwogICAgfQogICAgc3RhdGUuc3RhdGljUmVuZGVyRm5zLnB1c2goKCJ3aXRoKHRoaXMpe3JldHVybiAiICsgKGdlbkVsZW1lbnQoZWwsIHN0YXRlKSkgKyAifSIpKTsKICAgIHN0YXRlLnByZSA9IG9yaWdpbmFsUHJlU3RhdGU7CiAgICByZXR1cm4gKCJfbSgiICsgKHN0YXRlLnN0YXRpY1JlbmRlckZucy5sZW5ndGggLSAxKSArIChlbC5zdGF0aWNJbkZvciA/ICcsdHJ1ZScgOiAnJykgKyAiKSIpCiAgfQoKICAvLyB2LW9uY2UKICBmdW5jdGlvbiBnZW5PbmNlIChlbCwgc3RhdGUpIHsKICAgIGVsLm9uY2VQcm9jZXNzZWQgPSB0cnVlOwogICAgaWYgKGVsLmlmICYmICFlbC5pZlByb2Nlc3NlZCkgewogICAgICByZXR1cm4gZ2VuSWYoZWwsIHN0YXRlKQogICAgfSBlbHNlIGlmIChlbC5zdGF0aWNJbkZvcikgewogICAgICB2YXIga2V5ID0gJyc7CiAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnQ7CiAgICAgIHdoaWxlIChwYXJlbnQpIHsKICAgICAgICBpZiAocGFyZW50LmZvcikgewogICAgICAgICAga2V5ID0gcGFyZW50LmtleTsKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7CiAgICAgIH0KICAgICAgaWYgKCFrZXkpIHsKICAgICAgICBzdGF0ZS53YXJuKAogICAgICAgICAgInYtb25jZSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSB2LWZvciB0aGF0IGlzIGtleWVkLiAiLAogICAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3Ytb25jZSddCiAgICAgICAgKTsKICAgICAgICByZXR1cm4gZ2VuRWxlbWVudChlbCwgc3RhdGUpCiAgICAgIH0KICAgICAgcmV0dXJuICgiX28oIiArIChnZW5FbGVtZW50KGVsLCBzdGF0ZSkpICsgIiwiICsgKHN0YXRlLm9uY2VJZCsrKSArICIsIiArIGtleSArICIpIikKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBnZW5TdGF0aWMoZWwsIHN0YXRlKQogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2VuSWYgKAogICAgZWwsCiAgICBzdGF0ZSwKICAgIGFsdEdlbiwKICAgIGFsdEVtcHR5CiAgKSB7CiAgICBlbC5pZlByb2Nlc3NlZCA9IHRydWU7IC8vIGF2b2lkIHJlY3Vyc2lvbgogICAgcmV0dXJuIGdlbklmQ29uZGl0aW9ucyhlbC5pZkNvbmRpdGlvbnMuc2xpY2UoKSwgc3RhdGUsIGFsdEdlbiwgYWx0RW1wdHkpCiAgfQoKICBmdW5jdGlvbiBnZW5JZkNvbmRpdGlvbnMgKAogICAgY29uZGl0aW9ucywKICAgIHN0YXRlLAogICAgYWx0R2VuLAogICAgYWx0RW1wdHkKICApIHsKICAgIGlmICghY29uZGl0aW9ucy5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGFsdEVtcHR5IHx8ICdfZSgpJwogICAgfQoKICAgIHZhciBjb25kaXRpb24gPSBjb25kaXRpb25zLnNoaWZ0KCk7CiAgICBpZiAoY29uZGl0aW9uLmV4cCkgewogICAgICByZXR1cm4gKCIoIiArIChjb25kaXRpb24uZXhwKSArICIpPyIgKyAoZ2VuVGVybmFyeUV4cChjb25kaXRpb24uYmxvY2spKSArICI6IiArIChnZW5JZkNvbmRpdGlvbnMoY29uZGl0aW9ucywgc3RhdGUsIGFsdEdlbiwgYWx0RW1wdHkpKSkKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAoIiIgKyAoZ2VuVGVybmFyeUV4cChjb25kaXRpb24uYmxvY2spKSkKICAgIH0KCiAgICAvLyB2LWlmIHdpdGggdi1vbmNlIHNob3VsZCBnZW5lcmF0ZSBjb2RlIGxpa2UgKGEpP19tKDApOl9tKDEpCiAgICBmdW5jdGlvbiBnZW5UZXJuYXJ5RXhwIChlbCkgewogICAgICByZXR1cm4gYWx0R2VuCiAgICAgICAgPyBhbHRHZW4oZWwsIHN0YXRlKQogICAgICAgIDogZWwub25jZQogICAgICAgICAgPyBnZW5PbmNlKGVsLCBzdGF0ZSkKICAgICAgICAgIDogZ2VuRWxlbWVudChlbCwgc3RhdGUpCiAgICB9CiAgfQoKICBmdW5jdGlvbiBnZW5Gb3IgKAogICAgZWwsCiAgICBzdGF0ZSwKICAgIGFsdEdlbiwKICAgIGFsdEhlbHBlcgogICkgewogICAgdmFyIGV4cCA9IGVsLmZvcjsKICAgIHZhciBhbGlhcyA9IGVsLmFsaWFzOwogICAgdmFyIGl0ZXJhdG9yMSA9IGVsLml0ZXJhdG9yMSA/ICgiLCIgKyAoZWwuaXRlcmF0b3IxKSkgOiAnJzsKICAgIHZhciBpdGVyYXRvcjIgPSBlbC5pdGVyYXRvcjIgPyAoIiwiICsgKGVsLml0ZXJhdG9yMikpIDogJyc7CgogICAgaWYgKHN0YXRlLm1heWJlQ29tcG9uZW50KGVsKSAmJgogICAgICBlbC50YWcgIT09ICdzbG90JyAmJgogICAgICBlbC50YWcgIT09ICd0ZW1wbGF0ZScgJiYKICAgICAgIWVsLmtleQogICAgKSB7CiAgICAgIHN0YXRlLndhcm4oCiAgICAgICAgIjwiICsgKGVsLnRhZykgKyAiIHYtZm9yPVwiIiArIGFsaWFzICsgIiBpbiAiICsgZXhwICsgIlwiPjogY29tcG9uZW50IGxpc3RzIHJlbmRlcmVkIHdpdGggIiArCiAgICAgICAgInYtZm9yIHNob3VsZCBoYXZlIGV4cGxpY2l0IGtleXMuICIgKwogICAgICAgICJTZWUgaHR0cHM6Ly92dWVqcy5vcmcvZ3VpZGUvbGlzdC5odG1sI2tleSBmb3IgbW9yZSBpbmZvLiIsCiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ10sCiAgICAgICAgdHJ1ZSAvKiB0aXAgKi8KICAgICAgKTsKICAgIH0KCiAgICBlbC5mb3JQcm9jZXNzZWQgPSB0cnVlOyAvLyBhdm9pZCByZWN1cnNpb24KICAgIHJldHVybiAoYWx0SGVscGVyIHx8ICdfbCcpICsgIigoIiArIGV4cCArICIpLCIgKwogICAgICAiZnVuY3Rpb24oIiArIGFsaWFzICsgaXRlcmF0b3IxICsgaXRlcmF0b3IyICsgIil7IiArCiAgICAgICAgInJldHVybiAiICsgKChhbHRHZW4gfHwgZ2VuRWxlbWVudCkoZWwsIHN0YXRlKSkgKwogICAgICAnfSknCiAgfQoKICBmdW5jdGlvbiBnZW5EYXRhJDIgKGVsLCBzdGF0ZSkgewogICAgdmFyIGRhdGEgPSAneyc7CgogICAgLy8gZGlyZWN0aXZlcyBmaXJzdC4KICAgIC8vIGRpcmVjdGl2ZXMgbWF5IG11dGF0ZSB0aGUgZWwncyBvdGhlciBwcm9wZXJ0aWVzIGJlZm9yZSB0aGV5IGFyZSBnZW5lcmF0ZWQuCiAgICB2YXIgZGlycyA9IGdlbkRpcmVjdGl2ZXMoZWwsIHN0YXRlKTsKICAgIGlmIChkaXJzKSB7IGRhdGEgKz0gZGlycyArICcsJzsgfQoKICAgIC8vIGtleQogICAgaWYgKGVsLmtleSkgewogICAgICBkYXRhICs9ICJrZXk6IiArIChlbC5rZXkpICsgIiwiOwogICAgfQogICAgLy8gcmVmCiAgICBpZiAoZWwucmVmKSB7CiAgICAgIGRhdGEgKz0gInJlZjoiICsgKGVsLnJlZikgKyAiLCI7CiAgICB9CiAgICBpZiAoZWwucmVmSW5Gb3IpIHsKICAgICAgZGF0YSArPSAicmVmSW5Gb3I6dHJ1ZSwiOwogICAgfQogICAgLy8gcHJlCiAgICBpZiAoZWwucHJlKSB7CiAgICAgIGRhdGEgKz0gInByZTp0cnVlLCI7CiAgICB9CiAgICAvLyByZWNvcmQgb3JpZ2luYWwgdGFnIG5hbWUgZm9yIGNvbXBvbmVudHMgdXNpbmcgImlzIiBhdHRyaWJ1dGUKICAgIGlmIChlbC5jb21wb25lbnQpIHsKICAgICAgZGF0YSArPSAidGFnOlwiIiArIChlbC50YWcpICsgIlwiLCI7CiAgICB9CiAgICAvLyBtb2R1bGUgZGF0YSBnZW5lcmF0aW9uIGZ1bmN0aW9ucwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5kYXRhR2VuRm5zLmxlbmd0aDsgaSsrKSB7CiAgICAgIGRhdGEgKz0gc3RhdGUuZGF0YUdlbkZuc1tpXShlbCk7CiAgICB9CiAgICAvLyBhdHRyaWJ1dGVzCiAgICBpZiAoZWwuYXR0cnMpIHsKICAgICAgZGF0YSArPSAiYXR0cnM6IiArIChnZW5Qcm9wcyhlbC5hdHRycykpICsgIiwiOwogICAgfQogICAgLy8gRE9NIHByb3BzCiAgICBpZiAoZWwucHJvcHMpIHsKICAgICAgZGF0YSArPSAiZG9tUHJvcHM6IiArIChnZW5Qcm9wcyhlbC5wcm9wcykpICsgIiwiOwogICAgfQogICAgLy8gZXZlbnQgaGFuZGxlcnMKICAgIGlmIChlbC5ldmVudHMpIHsKICAgICAgZGF0YSArPSAoZ2VuSGFuZGxlcnMoZWwuZXZlbnRzLCBmYWxzZSkpICsgIiwiOwogICAgfQogICAgaWYgKGVsLm5hdGl2ZUV2ZW50cykgewogICAgICBkYXRhICs9IChnZW5IYW5kbGVycyhlbC5uYXRpdmVFdmVudHMsIHRydWUpKSArICIsIjsKICAgIH0KICAgIC8vIHNsb3QgdGFyZ2V0CiAgICAvLyBvbmx5IGZvciBub24tc2NvcGVkIHNsb3RzCiAgICBpZiAoZWwuc2xvdFRhcmdldCAmJiAhZWwuc2xvdFNjb3BlKSB7CiAgICAgIGRhdGEgKz0gInNsb3Q6IiArIChlbC5zbG90VGFyZ2V0KSArICIsIjsKICAgIH0KICAgIC8vIHNjb3BlZCBzbG90cwogICAgaWYgKGVsLnNjb3BlZFNsb3RzKSB7CiAgICAgIGRhdGEgKz0gKGdlblNjb3BlZFNsb3RzKGVsLCBlbC5zY29wZWRTbG90cywgc3RhdGUpKSArICIsIjsKICAgIH0KICAgIC8vIGNvbXBvbmVudCB2LW1vZGVsCiAgICBpZiAoZWwubW9kZWwpIHsKICAgICAgZGF0YSArPSAibW9kZWw6e3ZhbHVlOiIgKyAoZWwubW9kZWwudmFsdWUpICsgIixjYWxsYmFjazoiICsgKGVsLm1vZGVsLmNhbGxiYWNrKSArICIsZXhwcmVzc2lvbjoiICsgKGVsLm1vZGVsLmV4cHJlc3Npb24pICsgIn0sIjsKICAgIH0KICAgIC8vIGlubGluZS10ZW1wbGF0ZQogICAgaWYgKGVsLmlubGluZVRlbXBsYXRlKSB7CiAgICAgIHZhciBpbmxpbmVUZW1wbGF0ZSA9IGdlbklubGluZVRlbXBsYXRlKGVsLCBzdGF0ZSk7CiAgICAgIGlmIChpbmxpbmVUZW1wbGF0ZSkgewogICAgICAgIGRhdGEgKz0gaW5saW5lVGVtcGxhdGUgKyAiLCI7CiAgICAgIH0KICAgIH0KICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLywkLywgJycpICsgJ30nOwogICAgLy8gdi1iaW5kIGR5bmFtaWMgYXJndW1lbnQgd3JhcAogICAgLy8gdi1iaW5kIHdpdGggZHluYW1pYyBhcmd1bWVudHMgbXVzdCBiZSBhcHBsaWVkIHVzaW5nIHRoZSBzYW1lIHYtYmluZCBvYmplY3QKICAgIC8vIG1lcmdlIGhlbHBlciBzbyB0aGF0IGNsYXNzL3N0eWxlL211c3RVc2VQcm9wIGF0dHJzIGFyZSBoYW5kbGVkIGNvcnJlY3RseS4KICAgIGlmIChlbC5keW5hbWljQXR0cnMpIHsKICAgICAgZGF0YSA9ICJfYigiICsgZGF0YSArICIsXCIiICsgKGVsLnRhZykgKyAiXCIsIiArIChnZW5Qcm9wcyhlbC5keW5hbWljQXR0cnMpKSArICIpIjsKICAgIH0KICAgIC8vIHYtYmluZCBkYXRhIHdyYXAKICAgIGlmIChlbC53cmFwRGF0YSkgewogICAgICBkYXRhID0gZWwud3JhcERhdGEoZGF0YSk7CiAgICB9CiAgICAvLyB2LW9uIGRhdGEgd3JhcAogICAgaWYgKGVsLndyYXBMaXN0ZW5lcnMpIHsKICAgICAgZGF0YSA9IGVsLndyYXBMaXN0ZW5lcnMoZGF0YSk7CiAgICB9CiAgICByZXR1cm4gZGF0YQogIH0KCiAgZnVuY3Rpb24gZ2VuRGlyZWN0aXZlcyAoZWwsIHN0YXRlKSB7CiAgICB2YXIgZGlycyA9IGVsLmRpcmVjdGl2ZXM7CiAgICBpZiAoIWRpcnMpIHsgcmV0dXJuIH0KICAgIHZhciByZXMgPSAnZGlyZWN0aXZlczpbJzsKICAgIHZhciBoYXNSdW50aW1lID0gZmFsc2U7CiAgICB2YXIgaSwgbCwgZGlyLCBuZWVkUnVudGltZTsKICAgIGZvciAoaSA9IDAsIGwgPSBkaXJzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBkaXIgPSBkaXJzW2ldOwogICAgICBuZWVkUnVudGltZSA9IHRydWU7CiAgICAgIHZhciBnZW4gPSBzdGF0ZS5kaXJlY3RpdmVzW2Rpci5uYW1lXTsKICAgICAgaWYgKGdlbikgewogICAgICAgIC8vIGNvbXBpbGUtdGltZSBkaXJlY3RpdmUgdGhhdCBtYW5pcHVsYXRlcyBBU1QuCiAgICAgICAgLy8gcmV0dXJucyB0cnVlIGlmIGl0IGFsc28gbmVlZHMgYSBydW50aW1lIGNvdW50ZXJwYXJ0LgogICAgICAgIG5lZWRSdW50aW1lID0gISFnZW4oZWwsIGRpciwgc3RhdGUud2Fybik7CiAgICAgIH0KICAgICAgaWYgKG5lZWRSdW50aW1lKSB7CiAgICAgICAgaGFzUnVudGltZSA9IHRydWU7CiAgICAgICAgcmVzICs9ICJ7bmFtZTpcIiIgKyAoZGlyLm5hbWUpICsgIlwiLHJhd05hbWU6XCIiICsgKGRpci5yYXdOYW1lKSArICJcIiIgKyAoZGlyLnZhbHVlID8gKCIsdmFsdWU6KCIgKyAoZGlyLnZhbHVlKSArICIpLGV4cHJlc3Npb246IiArIChKU09OLnN0cmluZ2lmeShkaXIudmFsdWUpKSkgOiAnJykgKyAoZGlyLmFyZyA/ICgiLGFyZzoiICsgKGRpci5pc0R5bmFtaWNBcmcgPyBkaXIuYXJnIDogKCJcIiIgKyAoZGlyLmFyZykgKyAiXCIiKSkpIDogJycpICsgKGRpci5tb2RpZmllcnMgPyAoIixtb2RpZmllcnM6IiArIChKU09OLnN0cmluZ2lmeShkaXIubW9kaWZpZXJzKSkpIDogJycpICsgIn0sIjsKICAgICAgfQogICAgfQogICAgaWYgKGhhc1J1bnRpbWUpIHsKICAgICAgcmV0dXJuIHJlcy5zbGljZSgwLCAtMSkgKyAnXScKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdlbklubGluZVRlbXBsYXRlIChlbCwgc3RhdGUpIHsKICAgIHZhciBhc3QgPSBlbC5jaGlsZHJlblswXTsKICAgIGlmIChlbC5jaGlsZHJlbi5sZW5ndGggIT09IDEgfHwgYXN0LnR5cGUgIT09IDEpIHsKICAgICAgc3RhdGUud2FybigKICAgICAgICAnSW5saW5lLXRlbXBsYXRlIGNvbXBvbmVudHMgbXVzdCBoYXZlIGV4YWN0bHkgb25lIGNoaWxkIGVsZW1lbnQuJywKICAgICAgICB7IHN0YXJ0OiBlbC5zdGFydCB9CiAgICAgICk7CiAgICB9CiAgICBpZiAoYXN0ICYmIGFzdC50eXBlID09PSAxKSB7CiAgICAgIHZhciBpbmxpbmVSZW5kZXJGbnMgPSBnZW5lcmF0ZShhc3QsIHN0YXRlLm9wdGlvbnMpOwogICAgICByZXR1cm4gKCJpbmxpbmVUZW1wbGF0ZTp7cmVuZGVyOmZ1bmN0aW9uKCl7IiArIChpbmxpbmVSZW5kZXJGbnMucmVuZGVyKSArICJ9LHN0YXRpY1JlbmRlckZuczpbIiArIChpbmxpbmVSZW5kZXJGbnMuc3RhdGljUmVuZGVyRm5zLm1hcChmdW5jdGlvbiAoY29kZSkgeyByZXR1cm4gKCJmdW5jdGlvbigpeyIgKyBjb2RlICsgIn0iKTsgfSkuam9pbignLCcpKSArICJdfSIpCiAgICB9CiAgfQoKICBmdW5jdGlvbiBnZW5TY29wZWRTbG90cyAoCiAgICBlbCwKICAgIHNsb3RzLAogICAgc3RhdGUKICApIHsKICAgIC8vIGJ5IGRlZmF1bHQgc2NvcGVkIHNsb3RzIGFyZSBjb25zaWRlcmVkICJzdGFibGUiLCB0aGlzIGFsbG93cyBjaGlsZAogICAgLy8gY29tcG9uZW50cyB3aXRoIG9ubHkgc2NvcGVkIHNsb3RzIHRvIHNraXAgZm9yY2VkIHVwZGF0ZXMgZnJvbSBwYXJlbnQuCiAgICAvLyBidXQgaW4gc29tZSBjYXNlcyB3ZSBoYXZlIHRvIGJhaWwtb3V0IG9mIHRoaXMgb3B0aW1pemF0aW9uCiAgICAvLyBmb3IgZXhhbXBsZSBpZiB0aGUgc2xvdCBjb250YWlucyBkeW5hbWljIG5hbWVzLCBoYXMgdi1pZiBvciB2LWZvciBvbiB0aGVtLi4uCiAgICB2YXIgbmVlZHNGb3JjZVVwZGF0ZSA9IGVsLmZvciB8fCBPYmplY3Qua2V5cyhzbG90cykuc29tZShmdW5jdGlvbiAoa2V5KSB7CiAgICAgIHZhciBzbG90ID0gc2xvdHNba2V5XTsKICAgICAgcmV0dXJuICgKICAgICAgICBzbG90LnNsb3RUYXJnZXREeW5hbWljIHx8CiAgICAgICAgc2xvdC5pZiB8fAogICAgICAgIHNsb3QuZm9yIHx8CiAgICAgICAgY29udGFpbnNTbG90Q2hpbGQoc2xvdCkgLy8gaXMgcGFzc2luZyBkb3duIHNsb3QgZnJvbSBwYXJlbnQgd2hpY2ggbWF5IGJlIGR5bmFtaWMKICAgICAgKQogICAgfSk7CgogICAgLy8gIzk1MzQ6IGlmIGEgY29tcG9uZW50IHdpdGggc2NvcGVkIHNsb3RzIGlzIGluc2lkZSBhIGNvbmRpdGlvbmFsIGJyYW5jaCwKICAgIC8vIGl0J3MgcG9zc2libGUgZm9yIHRoZSBzYW1lIGNvbXBvbmVudCB0byBiZSByZXVzZWQgYnV0IHdpdGggZGlmZmVyZW50CiAgICAvLyBjb21waWxlZCBzbG90IGNvbnRlbnQuIFRvIGF2b2lkIHRoYXQsIHdlIGdlbmVyYXRlIGEgdW5pcXVlIGtleSBiYXNlZCBvbgogICAgLy8gdGhlIGdlbmVyYXRlZCBjb2RlIG9mIGFsbCB0aGUgc2xvdCBjb250ZW50cy4KICAgIHZhciBuZWVkc0tleSA9ICEhZWwuaWY7CgogICAgLy8gT1Igd2hlbiBpdCBpcyBpbnNpZGUgYW5vdGhlciBzY29wZWQgc2xvdCBvciB2LWZvciAodGhlIHJlYWN0aXZpdHkgbWF5IGJlCiAgICAvLyBkaXNjb25uZWN0ZWQgZHVlIHRvIHRoZSBpbnRlcm1lZGlhdGUgc2NvcGUgdmFyaWFibGUpCiAgICAvLyAjOTQzOCwgIzk1MDYKICAgIC8vIFRPRE86IHRoaXMgY2FuIGJlIGZ1cnRoZXIgb3B0aW1pemVkIGJ5IHByb3Blcmx5IGFuYWx5emluZyBpbi1zY29wZSBiaW5kaW5ncwogICAgLy8gYW5kIHNraXAgZm9yY2UgdXBkYXRpbmcgb25lcyB0aGF0IGRvIG5vdCBhY3R1YWxseSB1c2Ugc2NvcGUgdmFyaWFibGVzLgogICAgaWYgKCFuZWVkc0ZvcmNlVXBkYXRlKSB7CiAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnQ7CiAgICAgIHdoaWxlIChwYXJlbnQpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAocGFyZW50LnNsb3RTY29wZSAmJiBwYXJlbnQuc2xvdFNjb3BlICE9PSBlbXB0eVNsb3RTY29wZVRva2VuKSB8fAogICAgICAgICAgcGFyZW50LmZvcgogICAgICAgICkgewogICAgICAgICAgbmVlZHNGb3JjZVVwZGF0ZSA9IHRydWU7CiAgICAgICAgICBicmVhawogICAgICAgIH0KICAgICAgICBpZiAocGFyZW50LmlmKSB7CiAgICAgICAgICBuZWVkc0tleSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7CiAgICAgIH0KICAgIH0KCiAgICB2YXIgZ2VuZXJhdGVkU2xvdHMgPSBPYmplY3Qua2V5cyhzbG90cykKICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBnZW5TY29wZWRTbG90KHNsb3RzW2tleV0sIHN0YXRlKTsgfSkKICAgICAgLmpvaW4oJywnKTsKCiAgICByZXR1cm4gKCJzY29wZWRTbG90czpfdShbIiArIGdlbmVyYXRlZFNsb3RzICsgIl0iICsgKG5lZWRzRm9yY2VVcGRhdGUgPyAiLG51bGwsdHJ1ZSIgOiAiIikgKyAoIW5lZWRzRm9yY2VVcGRhdGUgJiYgbmVlZHNLZXkgPyAoIixudWxsLGZhbHNlLCIgKyAoaGFzaChnZW5lcmF0ZWRTbG90cykpKSA6ICIiKSArICIpIikKICB9CgogIGZ1bmN0aW9uIGhhc2goc3RyKSB7CiAgICB2YXIgaGFzaCA9IDUzODE7CiAgICB2YXIgaSA9IHN0ci5sZW5ndGg7CiAgICB3aGlsZShpKSB7CiAgICAgIGhhc2ggPSAoaGFzaCAqIDMzKSBeIHN0ci5jaGFyQ29kZUF0KC0taSk7CiAgICB9CiAgICByZXR1cm4gaGFzaCA+Pj4gMAogIH0KCiAgZnVuY3Rpb24gY29udGFpbnNTbG90Q2hpbGQgKGVsKSB7CiAgICBpZiAoZWwudHlwZSA9PT0gMSkgewogICAgICBpZiAoZWwudGFnID09PSAnc2xvdCcpIHsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9CiAgICAgIHJldHVybiBlbC5jaGlsZHJlbi5zb21lKGNvbnRhaW5zU2xvdENoaWxkKQogICAgfQogICAgcmV0dXJuIGZhbHNlCiAgfQoKICBmdW5jdGlvbiBnZW5TY29wZWRTbG90ICgKICAgIGVsLAogICAgc3RhdGUKICApIHsKICAgIHZhciBpc0xlZ2FjeVN5bnRheCA9IGVsLmF0dHJzTWFwWydzbG90LXNjb3BlJ107CiAgICBpZiAoZWwuaWYgJiYgIWVsLmlmUHJvY2Vzc2VkICYmICFpc0xlZ2FjeVN5bnRheCkgewogICAgICByZXR1cm4gZ2VuSWYoZWwsIHN0YXRlLCBnZW5TY29wZWRTbG90LCAibnVsbCIpCiAgICB9CiAgICBpZiAoZWwuZm9yICYmICFlbC5mb3JQcm9jZXNzZWQpIHsKICAgICAgcmV0dXJuIGdlbkZvcihlbCwgc3RhdGUsIGdlblNjb3BlZFNsb3QpCiAgICB9CiAgICB2YXIgc2xvdFNjb3BlID0gZWwuc2xvdFNjb3BlID09PSBlbXB0eVNsb3RTY29wZVRva2VuCiAgICAgID8gIiIKICAgICAgOiBTdHJpbmcoZWwuc2xvdFNjb3BlKTsKICAgIHZhciBmbiA9ICJmdW5jdGlvbigiICsgc2xvdFNjb3BlICsgIil7IiArCiAgICAgICJyZXR1cm4gIiArIChlbC50YWcgPT09ICd0ZW1wbGF0ZScKICAgICAgICA/IGVsLmlmICYmIGlzTGVnYWN5U3ludGF4CiAgICAgICAgICA/ICgiKCIgKyAoZWwuaWYpICsgIik/IiArIChnZW5DaGlsZHJlbihlbCwgc3RhdGUpIHx8ICd1bmRlZmluZWQnKSArICI6dW5kZWZpbmVkIikKICAgICAgICAgIDogZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlKSB8fCAndW5kZWZpbmVkJwogICAgICAgIDogZ2VuRWxlbWVudChlbCwgc3RhdGUpKSArICJ9IjsKICAgIC8vIHJldmVyc2UgcHJveHkgdi1zbG90IHdpdGhvdXQgc2NvcGUgb24gdGhpcy4kc2xvdHMKICAgIHZhciByZXZlcnNlUHJveHkgPSBzbG90U2NvcGUgPyAiIiA6ICIscHJveHk6dHJ1ZSI7CiAgICByZXR1cm4gKCJ7a2V5OiIgKyAoZWwuc2xvdFRhcmdldCB8fCAiXCJkZWZhdWx0XCIiKSArICIsZm46IiArIGZuICsgcmV2ZXJzZVByb3h5ICsgIn0iKQogIH0KCiAgZnVuY3Rpb24gZ2VuQ2hpbGRyZW4gKAogICAgZWwsCiAgICBzdGF0ZSwKICAgIGNoZWNrU2tpcCwKICAgIGFsdEdlbkVsZW1lbnQsCiAgICBhbHRHZW5Ob2RlCiAgKSB7CiAgICB2YXIgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjsKICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgdmFyIGVsJDEgPSBjaGlsZHJlblswXTsKICAgICAgLy8gb3B0aW1pemUgc2luZ2xlIHYtZm9yCiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYKICAgICAgICBlbCQxLmZvciAmJgogICAgICAgIGVsJDEudGFnICE9PSAndGVtcGxhdGUnICYmCiAgICAgICAgZWwkMS50YWcgIT09ICdzbG90JwogICAgICApIHsKICAgICAgICB2YXIgbm9ybWFsaXphdGlvblR5cGUgPSBjaGVja1NraXAKICAgICAgICAgID8gc3RhdGUubWF5YmVDb21wb25lbnQoZWwkMSkgPyAiLDEiIDogIiwwIgogICAgICAgICAgOiAiIjsKICAgICAgICByZXR1cm4gKCIiICsgKChhbHRHZW5FbGVtZW50IHx8IGdlbkVsZW1lbnQpKGVsJDEsIHN0YXRlKSkgKyBub3JtYWxpemF0aW9uVHlwZSkKICAgICAgfQogICAgICB2YXIgbm9ybWFsaXphdGlvblR5cGUkMSA9IGNoZWNrU2tpcAogICAgICAgID8gZ2V0Tm9ybWFsaXphdGlvblR5cGUoY2hpbGRyZW4sIHN0YXRlLm1heWJlQ29tcG9uZW50KQogICAgICAgIDogMDsKICAgICAgdmFyIGdlbiA9IGFsdEdlbk5vZGUgfHwgZ2VuTm9kZTsKICAgICAgcmV0dXJuICgiWyIgKyAoY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBnZW4oYywgc3RhdGUpOyB9KS5qb2luKCcsJykpICsgIl0iICsgKG5vcm1hbGl6YXRpb25UeXBlJDEgPyAoIiwiICsgbm9ybWFsaXphdGlvblR5cGUkMSkgOiAnJykpCiAgICB9CiAgfQoKICAvLyBkZXRlcm1pbmUgdGhlIG5vcm1hbGl6YXRpb24gbmVlZGVkIGZvciB0aGUgY2hpbGRyZW4gYXJyYXkuCiAgLy8gMDogbm8gbm9ybWFsaXphdGlvbiBuZWVkZWQKICAvLyAxOiBzaW1wbGUgbm9ybWFsaXphdGlvbiBuZWVkZWQgKHBvc3NpYmxlIDEtbGV2ZWwgZGVlcCBuZXN0ZWQgYXJyYXkpCiAgLy8gMjogZnVsbCBub3JtYWxpemF0aW9uIG5lZWRlZAogIGZ1bmN0aW9uIGdldE5vcm1hbGl6YXRpb25UeXBlICgKICAgIGNoaWxkcmVuLAogICAgbWF5YmVDb21wb25lbnQKICApIHsKICAgIHZhciByZXMgPSAwOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICB2YXIgZWwgPSBjaGlsZHJlbltpXTsKICAgICAgaWYgKGVsLnR5cGUgIT09IDEpIHsKICAgICAgICBjb250aW51ZQogICAgICB9CiAgICAgIGlmIChuZWVkc05vcm1hbGl6YXRpb24oZWwpIHx8CiAgICAgICAgICAoZWwuaWZDb25kaXRpb25zICYmIGVsLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uIChjKSB7IHJldHVybiBuZWVkc05vcm1hbGl6YXRpb24oYy5ibG9jayk7IH0pKSkgewogICAgICAgIHJlcyA9IDI7CiAgICAgICAgYnJlYWsKICAgICAgfQogICAgICBpZiAobWF5YmVDb21wb25lbnQoZWwpIHx8CiAgICAgICAgICAoZWwuaWZDb25kaXRpb25zICYmIGVsLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uIChjKSB7IHJldHVybiBtYXliZUNvbXBvbmVudChjLmJsb2NrKTsgfSkpKSB7CiAgICAgICAgcmVzID0gMTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gbmVlZHNOb3JtYWxpemF0aW9uIChlbCkgewogICAgcmV0dXJuIGVsLmZvciAhPT0gdW5kZWZpbmVkIHx8IGVsLnRhZyA9PT0gJ3RlbXBsYXRlJyB8fCBlbC50YWcgPT09ICdzbG90JwogIH0KCiAgZnVuY3Rpb24gZ2VuTm9kZSAobm9kZSwgc3RhdGUpIHsKICAgIGlmIChub2RlLnR5cGUgPT09IDEpIHsKICAgICAgcmV0dXJuIGdlbkVsZW1lbnQobm9kZSwgc3RhdGUpCiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gMyAmJiBub2RlLmlzQ29tbWVudCkgewogICAgICByZXR1cm4gZ2VuQ29tbWVudChub2RlKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGdlblRleHQobm9kZSkKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdlblRleHQgKHRleHQpIHsKICAgIHJldHVybiAoIl92KCIgKyAodGV4dC50eXBlID09PSAyCiAgICAgID8gdGV4dC5leHByZXNzaW9uIC8vIG5vIG5lZWQgZm9yICgpIGJlY2F1c2UgYWxyZWFkeSB3cmFwcGVkIGluIF9zKCkKICAgICAgOiB0cmFuc2Zvcm1TcGVjaWFsTmV3bGluZXMoSlNPTi5zdHJpbmdpZnkodGV4dC50ZXh0KSkpICsgIikiKQogIH0KCiAgZnVuY3Rpb24gZ2VuQ29tbWVudCAoY29tbWVudCkgewogICAgcmV0dXJuICgiX2UoIiArIChKU09OLnN0cmluZ2lmeShjb21tZW50LnRleHQpKSArICIpIikKICB9CgogIGZ1bmN0aW9uIGdlblNsb3QgKGVsLCBzdGF0ZSkgewogICAgdmFyIHNsb3ROYW1lID0gZWwuc2xvdE5hbWUgfHwgJyJkZWZhdWx0Iic7CiAgICB2YXIgY2hpbGRyZW4gPSBnZW5DaGlsZHJlbihlbCwgc3RhdGUpOwogICAgdmFyIHJlcyA9ICJfdCgiICsgc2xvdE5hbWUgKyAoY2hpbGRyZW4gPyAoIiwiICsgY2hpbGRyZW4pIDogJycpOwogICAgdmFyIGF0dHJzID0gZWwuYXR0cnMgfHwgZWwuZHluYW1pY0F0dHJzCiAgICAgID8gZ2VuUHJvcHMoKGVsLmF0dHJzIHx8IFtdKS5jb25jYXQoZWwuZHluYW1pY0F0dHJzIHx8IFtdKS5tYXAoZnVuY3Rpb24gKGF0dHIpIHsgcmV0dXJuICh7CiAgICAgICAgICAvLyBzbG90IHByb3BzIGFyZSBjYW1lbGl6ZWQKICAgICAgICAgIG5hbWU6IGNhbWVsaXplKGF0dHIubmFtZSksCiAgICAgICAgICB2YWx1ZTogYXR0ci52YWx1ZSwKICAgICAgICAgIGR5bmFtaWM6IGF0dHIuZHluYW1pYwogICAgICAgIH0pOyB9KSkKICAgICAgOiBudWxsOwogICAgdmFyIGJpbmQkJDEgPSBlbC5hdHRyc01hcFsndi1iaW5kJ107CiAgICBpZiAoKGF0dHJzIHx8IGJpbmQkJDEpICYmICFjaGlsZHJlbikgewogICAgICByZXMgKz0gIixudWxsIjsKICAgIH0KICAgIGlmIChhdHRycykgewogICAgICByZXMgKz0gIiwiICsgYXR0cnM7CiAgICB9CiAgICBpZiAoYmluZCQkMSkgewogICAgICByZXMgKz0gKGF0dHJzID8gJycgOiAnLG51bGwnKSArICIsIiArIGJpbmQkJDE7CiAgICB9CiAgICByZXR1cm4gcmVzICsgJyknCiAgfQoKICAvLyBjb21wb25lbnROYW1lIGlzIGVsLmNvbXBvbmVudCwgdGFrZSBpdCBhcyBhcmd1bWVudCB0byBzaHVuIGZsb3cncyBwZXNzaW1pc3RpYyByZWZpbmVtZW50CiAgZnVuY3Rpb24gZ2VuQ29tcG9uZW50ICgKICAgIGNvbXBvbmVudE5hbWUsCiAgICBlbCwKICAgIHN0YXRlCiAgKSB7CiAgICB2YXIgY2hpbGRyZW4gPSBlbC5pbmxpbmVUZW1wbGF0ZSA/IG51bGwgOiBnZW5DaGlsZHJlbihlbCwgc3RhdGUsIHRydWUpOwogICAgcmV0dXJuICgiX2MoIiArIGNvbXBvbmVudE5hbWUgKyAiLCIgKyAoZ2VuRGF0YSQyKGVsLCBzdGF0ZSkpICsgKGNoaWxkcmVuID8gKCIsIiArIGNoaWxkcmVuKSA6ICcnKSArICIpIikKICB9CgogIGZ1bmN0aW9uIGdlblByb3BzIChwcm9wcykgewogICAgdmFyIHN0YXRpY1Byb3BzID0gIiI7CiAgICB2YXIgZHluYW1pY1Byb3BzID0gIiI7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07CiAgICAgIHZhciB2YWx1ZSA9IHRyYW5zZm9ybVNwZWNpYWxOZXdsaW5lcyhwcm9wLnZhbHVlKTsKICAgICAgaWYgKHByb3AuZHluYW1pYykgewogICAgICAgIGR5bmFtaWNQcm9wcyArPSAocHJvcC5uYW1lKSArICIsIiArIHZhbHVlICsgIiwiOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRpY1Byb3BzICs9ICJcIiIgKyAocHJvcC5uYW1lKSArICJcIjoiICsgdmFsdWUgKyAiLCI7CiAgICAgIH0KICAgIH0KICAgIHN0YXRpY1Byb3BzID0gInsiICsgKHN0YXRpY1Byb3BzLnNsaWNlKDAsIC0xKSkgKyAifSI7CiAgICBpZiAoZHluYW1pY1Byb3BzKSB7CiAgICAgIHJldHVybiAoIl9kKCIgKyBzdGF0aWNQcm9wcyArICIsWyIgKyAoZHluYW1pY1Byb3BzLnNsaWNlKDAsIC0xKSkgKyAiXSkiKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHN0YXRpY1Byb3BzCiAgICB9CiAgfQoKICAvLyAjMzg5NSwgIzQyNjgKICBmdW5jdGlvbiB0cmFuc2Zvcm1TcGVjaWFsTmV3bGluZXMgKHRleHQpIHsKICAgIHJldHVybiB0ZXh0CiAgICAgIC5yZXBsYWNlKC9cdTIwMjgvZywgJ1xcdTIwMjgnKQogICAgICAucmVwbGFjZSgvXHUyMDI5L2csICdcXHUyMDI5JykKICB9CgogIC8qICAqLwoKCgogIC8vIHRoZXNlIGtleXdvcmRzIHNob3VsZCBub3QgYXBwZWFyIGluc2lkZSBleHByZXNzaW9ucywgYnV0IG9wZXJhdG9ycyBsaWtlCiAgLy8gdHlwZW9mLCBpbnN0YW5jZW9mIGFuZCBpbiBhcmUgYWxsb3dlZAogIHZhciBwcm9oaWJpdGVkS2V5d29yZFJFID0gbmV3IFJlZ0V4cCgnXFxiJyArICgKICAgICdkbyxpZixmb3IsbGV0LG5ldyx0cnksdmFyLGNhc2UsZWxzZSx3aXRoLGF3YWl0LGJyZWFrLGNhdGNoLGNsYXNzLGNvbnN0LCcgKwogICAgJ3N1cGVyLHRocm93LHdoaWxlLHlpZWxkLGRlbGV0ZSxleHBvcnQsaW1wb3J0LHJldHVybixzd2l0Y2gsZGVmYXVsdCwnICsKICAgICdleHRlbmRzLGZpbmFsbHksY29udGludWUsZGVidWdnZXIsZnVuY3Rpb24sYXJndW1lbnRzJwogICkuc3BsaXQoJywnKS5qb2luKCdcXGJ8XFxiJykgKyAnXFxiJyk7CgogIC8vIHRoZXNlIHVuYXJ5IG9wZXJhdG9ycyBzaG91bGQgbm90IGJlIHVzZWQgYXMgcHJvcGVydHkvbWV0aG9kIG5hbWVzCiAgdmFyIHVuYXJ5T3BlcmF0b3JzUkUgPSBuZXcgUmVnRXhwKCdcXGInICsgKAogICAgJ2RlbGV0ZSx0eXBlb2Ysdm9pZCcKICApLnNwbGl0KCcsJykuam9pbignXFxzKlxcKFteXFwpXSpcXCl8XFxiJykgKyAnXFxzKlxcKFteXFwpXSpcXCknKTsKCiAgLy8gc3RyaXAgc3RyaW5ncyBpbiBleHByZXNzaW9ucwogIHZhciBzdHJpcFN0cmluZ1JFID0gLycoPzpbXidcXF18XFwuKSonfCIoPzpbXiJcXF18XFwuKSoifGAoPzpbXmBcXF18XFwuKSpcJFx7fFx9KD86W15gXFxdfFxcLikqYHxgKD86W15gXFxdfFxcLikqYC9nOwoKICAvLyBkZXRlY3QgcHJvYmxlbWF0aWMgZXhwcmVzc2lvbnMgaW4gYSB0ZW1wbGF0ZQogIGZ1bmN0aW9uIGRldGVjdEVycm9ycyAoYXN0LCB3YXJuKSB7CiAgICBpZiAoYXN0KSB7CiAgICAgIGNoZWNrTm9kZShhc3QsIHdhcm4pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY2hlY2tOb2RlIChub2RlLCB3YXJuKSB7CiAgICBpZiAobm9kZS50eXBlID09PSAxKSB7CiAgICAgIGZvciAodmFyIG5hbWUgaW4gbm9kZS5hdHRyc01hcCkgewogICAgICAgIGlmIChkaXJSRS50ZXN0KG5hbWUpKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBub2RlLmF0dHJzTWFwW25hbWVdOwogICAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICAgIHZhciByYW5nZSA9IG5vZGUucmF3QXR0cnNNYXBbbmFtZV07CiAgICAgICAgICAgIGlmIChuYW1lID09PSAndi1mb3InKSB7CiAgICAgICAgICAgICAgY2hlY2tGb3Iobm9kZSwgKCJ2LWZvcj1cIiIgKyB2YWx1ZSArICJcIiIpLCB3YXJuLCByYW5nZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAob25SRS50ZXN0KG5hbWUpKSB7CiAgICAgICAgICAgICAgY2hlY2tFdmVudCh2YWx1ZSwgKG5hbWUgKyAiPVwiIiArIHZhbHVlICsgIlwiIiksIHdhcm4sIHJhbmdlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjaGVja0V4cHJlc3Npb24odmFsdWUsIChuYW1lICsgIj1cIiIgKyB2YWx1ZSArICJcIiIpLCB3YXJuLCByYW5nZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGNoZWNrTm9kZShub2RlLmNoaWxkcmVuW2ldLCB3YXJuKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSAyKSB7CiAgICAgIGNoZWNrRXhwcmVzc2lvbihub2RlLmV4cHJlc3Npb24sIG5vZGUudGV4dCwgd2Fybiwgbm9kZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjaGVja0V2ZW50IChleHAsIHRleHQsIHdhcm4sIHJhbmdlKSB7CiAgICB2YXIgc3RpcHBlZCA9IGV4cC5yZXBsYWNlKHN0cmlwU3RyaW5nUkUsICcnKTsKICAgIHZhciBrZXl3b3JkTWF0Y2ggPSBzdGlwcGVkLm1hdGNoKHVuYXJ5T3BlcmF0b3JzUkUpOwogICAgaWYgKGtleXdvcmRNYXRjaCAmJiBzdGlwcGVkLmNoYXJBdChrZXl3b3JkTWF0Y2guaW5kZXggLSAxKSAhPT0gJyQnKSB7CiAgICAgIHdhcm4oCiAgICAgICAgImF2b2lkIHVzaW5nIEphdmFTY3JpcHQgdW5hcnkgb3BlcmF0b3IgYXMgcHJvcGVydHkgbmFtZTogIiArCiAgICAgICAgIlwiIiArIChrZXl3b3JkTWF0Y2hbMF0pICsgIlwiIGluIGV4cHJlc3Npb24gIiArICh0ZXh0LnRyaW0oKSksCiAgICAgICAgcmFuZ2UKICAgICAgKTsKICAgIH0KICAgIGNoZWNrRXhwcmVzc2lvbihleHAsIHRleHQsIHdhcm4sIHJhbmdlKTsKICB9CgogIGZ1bmN0aW9uIGNoZWNrRm9yIChub2RlLCB0ZXh0LCB3YXJuLCByYW5nZSkgewogICAgY2hlY2tFeHByZXNzaW9uKG5vZGUuZm9yIHx8ICcnLCB0ZXh0LCB3YXJuLCByYW5nZSk7CiAgICBjaGVja0lkZW50aWZpZXIobm9kZS5hbGlhcywgJ3YtZm9yIGFsaWFzJywgdGV4dCwgd2FybiwgcmFuZ2UpOwogICAgY2hlY2tJZGVudGlmaWVyKG5vZGUuaXRlcmF0b3IxLCAndi1mb3IgaXRlcmF0b3InLCB0ZXh0LCB3YXJuLCByYW5nZSk7CiAgICBjaGVja0lkZW50aWZpZXIobm9kZS5pdGVyYXRvcjIsICd2LWZvciBpdGVyYXRvcicsIHRleHQsIHdhcm4sIHJhbmdlKTsKICB9CgogIGZ1bmN0aW9uIGNoZWNrSWRlbnRpZmllciAoCiAgICBpZGVudCwKICAgIHR5cGUsCiAgICB0ZXh0LAogICAgd2FybiwKICAgIHJhbmdlCiAgKSB7CiAgICBpZiAodHlwZW9mIGlkZW50ID09PSAnc3RyaW5nJykgewogICAgICB0cnkgewogICAgICAgIG5ldyBGdW5jdGlvbigoInZhciAiICsgaWRlbnQgKyAiPV8iKSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB3YXJuKCgiaW52YWxpZCAiICsgdHlwZSArICIgXCIiICsgaWRlbnQgKyAiXCIgaW4gZXhwcmVzc2lvbjogIiArICh0ZXh0LnRyaW0oKSkpLCByYW5nZSk7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGNoZWNrRXhwcmVzc2lvbiAoZXhwLCB0ZXh0LCB3YXJuLCByYW5nZSkgewogICAgdHJ5IHsKICAgICAgbmV3IEZ1bmN0aW9uKCgicmV0dXJuICIgKyBleHApKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdmFyIGtleXdvcmRNYXRjaCA9IGV4cC5yZXBsYWNlKHN0cmlwU3RyaW5nUkUsICcnKS5tYXRjaChwcm9oaWJpdGVkS2V5d29yZFJFKTsKICAgICAgaWYgKGtleXdvcmRNYXRjaCkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAiYXZvaWQgdXNpbmcgSmF2YVNjcmlwdCBrZXl3b3JkIGFzIHByb3BlcnR5IG5hbWU6ICIgKwogICAgICAgICAgIlwiIiArIChrZXl3b3JkTWF0Y2hbMF0pICsgIlwiXG4gIFJhdyBleHByZXNzaW9uOiAiICsgKHRleHQudHJpbSgpKSwKICAgICAgICAgIHJhbmdlCiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB3YXJuKAogICAgICAgICAgImludmFsaWQgZXhwcmVzc2lvbjogIiArIChlLm1lc3NhZ2UpICsgIiBpblxuXG4iICsKICAgICAgICAgICIgICAgIiArIGV4cCArICJcblxuIiArCiAgICAgICAgICAiICBSYXcgZXhwcmVzc2lvbjogIiArICh0ZXh0LnRyaW0oKSkgKyAiXG4iLAogICAgICAgICAgcmFuZ2UKICAgICAgICApOwogICAgICB9CiAgICB9CiAgfQoKICAvKiAgKi8KCiAgdmFyIHJhbmdlID0gMjsKCiAgZnVuY3Rpb24gZ2VuZXJhdGVDb2RlRnJhbWUgKAogICAgc291cmNlLAogICAgc3RhcnQsCiAgICBlbmQKICApIHsKICAgIGlmICggc3RhcnQgPT09IHZvaWQgMCApIHN0YXJ0ID0gMDsKICAgIGlmICggZW5kID09PSB2b2lkIDAgKSBlbmQgPSBzb3VyY2UubGVuZ3RoOwoKICAgIHZhciBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvXHI/XG4vKTsKICAgIHZhciBjb3VudCA9IDA7CiAgICB2YXIgcmVzID0gW107CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7CiAgICAgIGlmIChjb3VudCA+PSBzdGFydCkgewogICAgICAgIGZvciAodmFyIGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHsKICAgICAgICAgIGlmIChqIDwgMCB8fCBqID49IGxpbmVzLmxlbmd0aCkgeyBjb250aW51ZSB9CiAgICAgICAgICByZXMucHVzaCgoIiIgKyAoaiArIDEpICsgKHJlcGVhdCQxKCIgIiwgMyAtIFN0cmluZyhqICsgMSkubGVuZ3RoKSkgKyAifCAgIiArIChsaW5lc1tqXSkpKTsKICAgICAgICAgIHZhciBsaW5lTGVuZ3RoID0gbGluZXNbal0ubGVuZ3RoOwogICAgICAgICAgaWYgKGogPT09IGkpIHsKICAgICAgICAgICAgLy8gcHVzaCB1bmRlcmxpbmUKICAgICAgICAgICAgdmFyIHBhZCA9IHN0YXJ0IC0gKGNvdW50IC0gbGluZUxlbmd0aCkgKyAxOwogICAgICAgICAgICB2YXIgbGVuZ3RoID0gZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQ7CiAgICAgICAgICAgIHJlcy5wdXNoKCIgICB8ICAiICsgcmVwZWF0JDEoIiAiLCBwYWQpICsgcmVwZWF0JDEoIl4iLCBsZW5ndGgpKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaiA+IGkpIHsKICAgICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7CiAgICAgICAgICAgICAgdmFyIGxlbmd0aCQxID0gTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpOwogICAgICAgICAgICAgIHJlcy5wdXNoKCIgICB8ICAiICsgcmVwZWF0JDEoIl4iLCBsZW5ndGgkMSkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvdW50ICs9IGxpbmVMZW5ndGggKyAxOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBicmVhawogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzLmpvaW4oJ1xuJykKICB9CgogIGZ1bmN0aW9uIHJlcGVhdCQxIChzdHIsIG4pIHsKICAgIHZhciByZXN1bHQgPSAnJzsKICAgIGlmIChuID4gMCkgewogICAgICB3aGlsZSAodHJ1ZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgaWYgKG4gJiAxKSB7IHJlc3VsdCArPSBzdHI7IH0KICAgICAgICBuID4+Pj0gMTsKICAgICAgICBpZiAobiA8PSAwKSB7IGJyZWFrIH0KICAgICAgICBzdHIgKz0gc3RyOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzdWx0CiAgfQoKICAvKiAgKi8KCgoKICBmdW5jdGlvbiBjcmVhdGVGdW5jdGlvbiAoY29kZSwgZXJyb3JzKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKGNvZGUpCiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgZXJyb3JzLnB1c2goeyBlcnI6IGVyciwgY29kZTogY29kZSB9KTsKICAgICAgcmV0dXJuIG5vb3AKICAgIH0KICB9CgogIGZ1bmN0aW9uIGNyZWF0ZUNvbXBpbGVUb0Z1bmN0aW9uRm4gKGNvbXBpbGUpIHsKICAgIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGNvbXBpbGVUb0Z1bmN0aW9ucyAoCiAgICAgIHRlbXBsYXRlLAogICAgICBvcHRpb25zLAogICAgICB2bQogICAgKSB7CiAgICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpOwogICAgICB2YXIgd2FybiQkMSA9IG9wdGlvbnMud2FybiB8fCB3YXJuOwogICAgICBkZWxldGUgb3B0aW9ucy53YXJuOwoKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIHsKICAgICAgICAvLyBkZXRlY3QgcG9zc2libGUgQ1NQIHJlc3RyaWN0aW9uCiAgICAgICAgdHJ5IHsKICAgICAgICAgIG5ldyBGdW5jdGlvbigncmV0dXJuIDEnKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBpZiAoZS50b1N0cmluZygpLm1hdGNoKC91bnNhZmUtZXZhbHxDU1AvKSkgewogICAgICAgICAgICB3YXJuJCQxKAogICAgICAgICAgICAgICdJdCBzZWVtcyB5b3UgYXJlIHVzaW5nIHRoZSBzdGFuZGFsb25lIGJ1aWxkIG9mIFZ1ZS5qcyBpbiBhbiAnICsKICAgICAgICAgICAgICAnZW52aXJvbm1lbnQgd2l0aCBDb250ZW50IFNlY3VyaXR5IFBvbGljeSB0aGF0IHByb2hpYml0cyB1bnNhZmUtZXZhbC4gJyArCiAgICAgICAgICAgICAgJ1RoZSB0ZW1wbGF0ZSBjb21waWxlciBjYW5ub3Qgd29yayBpbiB0aGlzIGVudmlyb25tZW50LiBDb25zaWRlciAnICsKICAgICAgICAgICAgICAncmVsYXhpbmcgdGhlIHBvbGljeSB0byBhbGxvdyB1bnNhZmUtZXZhbCBvciBwcmUtY29tcGlsaW5nIHlvdXIgJyArCiAgICAgICAgICAgICAgJ3RlbXBsYXRlcyBpbnRvIHJlbmRlciBmdW5jdGlvbnMuJwogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gY2hlY2sgY2FjaGUKICAgICAgdmFyIGtleSA9IG9wdGlvbnMuZGVsaW1pdGVycwogICAgICAgID8gU3RyaW5nKG9wdGlvbnMuZGVsaW1pdGVycykgKyB0ZW1wbGF0ZQogICAgICAgIDogdGVtcGxhdGU7CiAgICAgIGlmIChjYWNoZVtrZXldKSB7CiAgICAgICAgcmV0dXJuIGNhY2hlW2tleV0KICAgICAgfQoKICAgICAgLy8gY29tcGlsZQogICAgICB2YXIgY29tcGlsZWQgPSBjb21waWxlKHRlbXBsYXRlLCBvcHRpb25zKTsKCiAgICAgIC8vIGNoZWNrIGNvbXBpbGF0aW9uIGVycm9ycy90aXBzCiAgICAgIHsKICAgICAgICBpZiAoY29tcGlsZWQuZXJyb3JzICYmIGNvbXBpbGVkLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7CiAgICAgICAgICAgIGNvbXBpbGVkLmVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgd2FybiQkMSgKICAgICAgICAgICAgICAgICJFcnJvciBjb21waWxpbmcgdGVtcGxhdGU6XG5cbiIgKyAoZS5tc2cpICsgIlxuXG4iICsKICAgICAgICAgICAgICAgIGdlbmVyYXRlQ29kZUZyYW1lKHRlbXBsYXRlLCBlLnN0YXJ0LCBlLmVuZCksCiAgICAgICAgICAgICAgICB2bQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgd2FybiQkMSgKICAgICAgICAgICAgICAiRXJyb3IgY29tcGlsaW5nIHRlbXBsYXRlOlxuXG4iICsgdGVtcGxhdGUgKyAiXG5cbiIgKwogICAgICAgICAgICAgIGNvbXBpbGVkLmVycm9ycy5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuICgiLSAiICsgZSk7IH0pLmpvaW4oJ1xuJykgKyAnXG4nLAogICAgICAgICAgICAgIHZtCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChjb21waWxlZC50aXBzICYmIGNvbXBpbGVkLnRpcHMubGVuZ3RoKSB7CiAgICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkgewogICAgICAgICAgICBjb21waWxlZC50aXBzLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHRpcChlLm1zZywgdm0pOyB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbXBpbGVkLnRpcHMuZm9yRWFjaChmdW5jdGlvbiAobXNnKSB7IHJldHVybiB0aXAobXNnLCB2bSk7IH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gdHVybiBjb2RlIGludG8gZnVuY3Rpb25zCiAgICAgIHZhciByZXMgPSB7fTsKICAgICAgdmFyIGZuR2VuRXJyb3JzID0gW107CiAgICAgIHJlcy5yZW5kZXIgPSBjcmVhdGVGdW5jdGlvbihjb21waWxlZC5yZW5kZXIsIGZuR2VuRXJyb3JzKTsKICAgICAgcmVzLnN0YXRpY1JlbmRlckZucyA9IGNvbXBpbGVkLnN0YXRpY1JlbmRlckZucy5tYXAoZnVuY3Rpb24gKGNvZGUpIHsKICAgICAgICByZXR1cm4gY3JlYXRlRnVuY3Rpb24oY29kZSwgZm5HZW5FcnJvcnMpCiAgICAgIH0pOwoKICAgICAgLy8gY2hlY2sgZnVuY3Rpb24gZ2VuZXJhdGlvbiBlcnJvcnMuCiAgICAgIC8vIHRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGlmIHRoZXJlIGlzIGEgYnVnIGluIHRoZSBjb21waWxlciBpdHNlbGYuCiAgICAgIC8vIG1vc3RseSBmb3IgY29kZWdlbiBkZXZlbG9wbWVudCB1c2UKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIHsKICAgICAgICBpZiAoKCFjb21waWxlZC5lcnJvcnMgfHwgIWNvbXBpbGVkLmVycm9ycy5sZW5ndGgpICYmIGZuR2VuRXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgd2FybiQkMSgKICAgICAgICAgICAgIkZhaWxlZCB0byBnZW5lcmF0ZSByZW5kZXIgZnVuY3Rpb246XG5cbiIgKwogICAgICAgICAgICBmbkdlbkVycm9ycy5tYXAoZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICAgIHZhciBlcnIgPSByZWYuZXJyOwogICAgICAgICAgICAgIHZhciBjb2RlID0gcmVmLmNvZGU7CgogICAgICAgICAgICAgIHJldHVybiAoKGVyci50b1N0cmluZygpKSArICIgaW5cblxuIiArIGNvZGUgKyAiXG4iKTsKICAgICAgICAgIH0pLmpvaW4oJ1xuJyksCiAgICAgICAgICAgIHZtCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIChjYWNoZVtrZXldID0gcmVzKQogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGNyZWF0ZUNvbXBpbGVyQ3JlYXRvciAoYmFzZUNvbXBpbGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVDb21waWxlciAoYmFzZU9wdGlvbnMpIHsKICAgICAgZnVuY3Rpb24gY29tcGlsZSAoCiAgICAgICAgdGVtcGxhdGUsCiAgICAgICAgb3B0aW9ucwogICAgICApIHsKICAgICAgICB2YXIgZmluYWxPcHRpb25zID0gT2JqZWN0LmNyZWF0ZShiYXNlT3B0aW9ucyk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHZhciB0aXBzID0gW107CgogICAgICAgIHZhciB3YXJuID0gZnVuY3Rpb24gKG1zZywgcmFuZ2UsIHRpcCkgewogICAgICAgICAgKHRpcCA/IHRpcHMgOiBlcnJvcnMpLnB1c2gobXNnKTsKICAgICAgICB9OwoKICAgICAgICBpZiAob3B0aW9ucykgewogICAgICAgICAgaWYgKG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHsKICAgICAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lCiAgICAgICAgICAgIHZhciBsZWFkaW5nU3BhY2VMZW5ndGggPSB0ZW1wbGF0ZS5tYXRjaCgvXlxzKi8pWzBdLmxlbmd0aDsKCiAgICAgICAgICAgIHdhcm4gPSBmdW5jdGlvbiAobXNnLCByYW5nZSwgdGlwKSB7CiAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7IG1zZzogbXNnIH07CiAgICAgICAgICAgICAgaWYgKHJhbmdlKSB7CiAgICAgICAgICAgICAgICBpZiAocmFuZ2Uuc3RhcnQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBkYXRhLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQgKyBsZWFkaW5nU3BhY2VMZW5ndGg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuZW5kICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgZGF0YS5lbmQgPSByYW5nZS5lbmQgKyBsZWFkaW5nU3BhY2VMZW5ndGg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICh0aXAgPyB0aXBzIDogZXJyb3JzKS5wdXNoKGRhdGEpOwogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgICAgLy8gbWVyZ2UgY3VzdG9tIG1vZHVsZXMKICAgICAgICAgIGlmIChvcHRpb25zLm1vZHVsZXMpIHsKICAgICAgICAgICAgZmluYWxPcHRpb25zLm1vZHVsZXMgPQogICAgICAgICAgICAgIChiYXNlT3B0aW9ucy5tb2R1bGVzIHx8IFtdKS5jb25jYXQob3B0aW9ucy5tb2R1bGVzKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIG1lcmdlIGN1c3RvbSBkaXJlY3RpdmVzCiAgICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3RpdmVzKSB7CiAgICAgICAgICAgIGZpbmFsT3B0aW9ucy5kaXJlY3RpdmVzID0gZXh0ZW5kKAogICAgICAgICAgICAgIE9iamVjdC5jcmVhdGUoYmFzZU9wdGlvbnMuZGlyZWN0aXZlcyB8fCBudWxsKSwKICAgICAgICAgICAgICBvcHRpb25zLmRpcmVjdGl2ZXMKICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGNvcHkgb3RoZXIgb3B0aW9ucwogICAgICAgICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHsKICAgICAgICAgICAgaWYgKGtleSAhPT0gJ21vZHVsZXMnICYmIGtleSAhPT0gJ2RpcmVjdGl2ZXMnKSB7CiAgICAgICAgICAgICAgZmluYWxPcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZpbmFsT3B0aW9ucy53YXJuID0gd2FybjsKCiAgICAgICAgdmFyIGNvbXBpbGVkID0gYmFzZUNvbXBpbGUodGVtcGxhdGUudHJpbSgpLCBmaW5hbE9wdGlvbnMpOwogICAgICAgIHsKICAgICAgICAgIGRldGVjdEVycm9ycyhjb21waWxlZC5hc3QsIHdhcm4pOwogICAgICAgIH0KICAgICAgICBjb21waWxlZC5lcnJvcnMgPSBlcnJvcnM7CiAgICAgICAgY29tcGlsZWQudGlwcyA9IHRpcHM7CiAgICAgICAgcmV0dXJuIGNvbXBpbGVkCiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgY29tcGlsZTogY29tcGlsZSwKICAgICAgICBjb21waWxlVG9GdW5jdGlvbnM6IGNyZWF0ZUNvbXBpbGVUb0Z1bmN0aW9uRm4oY29tcGlsZSkKICAgICAgfQogICAgfQogIH0KCiAgLyogICovCgogIC8vIGBjcmVhdGVDb21waWxlckNyZWF0b3JgIGFsbG93cyBjcmVhdGluZyBjb21waWxlcnMgdGhhdCB1c2UgYWx0ZXJuYXRpdmUKICAvLyBwYXJzZXIvb3B0aW1pemVyL2NvZGVnZW4sIGUuZyB0aGUgU1NSIG9wdGltaXppbmcgY29tcGlsZXIuCiAgLy8gSGVyZSB3ZSBqdXN0IGV4cG9ydCBhIGRlZmF1bHQgY29tcGlsZXIgdXNpbmcgdGhlIGRlZmF1bHQgcGFydHMuCiAgdmFyIGNyZWF0ZUNvbXBpbGVyID0gY3JlYXRlQ29tcGlsZXJDcmVhdG9yKGZ1bmN0aW9uIGJhc2VDb21waWxlICgKICAgIHRlbXBsYXRlLAogICAgb3B0aW9ucwogICkgewogICAgdmFyIGFzdCA9IHBhcnNlKHRlbXBsYXRlLnRyaW0oKSwgb3B0aW9ucyk7CiAgICBpZiAob3B0aW9ucy5vcHRpbWl6ZSAhPT0gZmFsc2UpIHsKICAgICAgb3B0aW1pemUoYXN0LCBvcHRpb25zKTsKICAgIH0KICAgIHZhciBjb2RlID0gZ2VuZXJhdGUoYXN0LCBvcHRpb25zKTsKICAgIHJldHVybiB7CiAgICAgIGFzdDogYXN0LAogICAgICByZW5kZXI6IGNvZGUucmVuZGVyLAogICAgICBzdGF0aWNSZW5kZXJGbnM6IGNvZGUuc3RhdGljUmVuZGVyRm5zCiAgICB9CiAgfSk7CgogIC8qICAqLwoKICB2YXIgcmVmJDEgPSBjcmVhdGVDb21waWxlcihiYXNlT3B0aW9ucyk7CiAgdmFyIGNvbXBpbGUgPSByZWYkMS5jb21waWxlOwogIHZhciBjb21waWxlVG9GdW5jdGlvbnMgPSByZWYkMS5jb21waWxlVG9GdW5jdGlvbnM7CgogIC8qICAqLwoKICAvLyBjaGVjayB3aGV0aGVyIGN1cnJlbnQgYnJvd3NlciBlbmNvZGVzIGEgY2hhciBpbnNpZGUgYXR0cmlidXRlIHZhbHVlcwogIHZhciBkaXY7CiAgZnVuY3Rpb24gZ2V0U2hvdWxkRGVjb2RlIChocmVmKSB7CiAgICBkaXYgPSBkaXYgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBkaXYuaW5uZXJIVE1MID0gaHJlZiA/ICI8YSBocmVmPVwiXG5cIi8+IiA6ICI8ZGl2IGE9XCJcblwiLz4iOwogICAgcmV0dXJuIGRpdi5pbm5lckhUTUwuaW5kZXhPZignJiMxMDsnKSA+IDAKICB9CgogIC8vICMzNjYzOiBJRSBlbmNvZGVzIG5ld2xpbmVzIGluc2lkZSBhdHRyaWJ1dGUgdmFsdWVzIHdoaWxlIG90aGVyIGJyb3dzZXJzIGRvbid0CiAgdmFyIHNob3VsZERlY29kZU5ld2xpbmVzID0gaW5Ccm93c2VyID8gZ2V0U2hvdWxkRGVjb2RlKGZhbHNlKSA6IGZhbHNlOwogIC8vICM2ODI4OiBjaHJvbWUgZW5jb2RlcyBjb250ZW50IGluIGFbaHJlZl0KICB2YXIgc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmID0gaW5Ccm93c2VyID8gZ2V0U2hvdWxkRGVjb2RlKHRydWUpIDogZmFsc2U7CgogIC8qICAqLwoKICB2YXIgaWRUb1RlbXBsYXRlID0gY2FjaGVkKGZ1bmN0aW9uIChpZCkgewogICAgdmFyIGVsID0gcXVlcnkoaWQpOwogICAgcmV0dXJuIGVsICYmIGVsLmlubmVySFRNTAogIH0pOwoKICB2YXIgbW91bnQgPSBWdWUucHJvdG90eXBlLiRtb3VudDsKICBWdWUucHJvdG90eXBlLiRtb3VudCA9IGZ1bmN0aW9uICgKICAgIGVsLAogICAgaHlkcmF0aW5nCiAgKSB7CiAgICBlbCA9IGVsICYmIHF1ZXJ5KGVsKTsKCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChlbCA9PT0gZG9jdW1lbnQuYm9keSB8fCBlbCA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7CiAgICAgIHdhcm4oCiAgICAgICAgIkRvIG5vdCBtb3VudCBWdWUgdG8gPGh0bWw+IG9yIDxib2R5PiAtIG1vdW50IHRvIG5vcm1hbCBlbGVtZW50cyBpbnN0ZWFkLiIKICAgICAgKTsKICAgICAgcmV0dXJuIHRoaXMKICAgIH0KCiAgICB2YXIgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7CiAgICAvLyByZXNvbHZlIHRlbXBsYXRlL2VsIGFuZCBjb252ZXJ0IHRvIHJlbmRlciBmdW5jdGlvbgogICAgaWYgKCFvcHRpb25zLnJlbmRlcikgewogICAgICB2YXIgdGVtcGxhdGUgPSBvcHRpb25zLnRlbXBsYXRlOwogICAgICBpZiAodGVtcGxhdGUpIHsKICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09PSAnc3RyaW5nJykgewogICAgICAgICAgaWYgKHRlbXBsYXRlLmNoYXJBdCgwKSA9PT0gJyMnKSB7CiAgICAgICAgICAgIHRlbXBsYXRlID0gaWRUb1RlbXBsYXRlKHRlbXBsYXRlKTsKICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgICAgICAgIGlmICghdGVtcGxhdGUpIHsKICAgICAgICAgICAgICB3YXJuKAogICAgICAgICAgICAgICAgKCJUZW1wbGF0ZSBlbGVtZW50IG5vdCBmb3VuZCBvciBpcyBlbXB0eTogIiArIChvcHRpb25zLnRlbXBsYXRlKSksCiAgICAgICAgICAgICAgICB0aGlzCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGVtcGxhdGUubm9kZVR5cGUpIHsKICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUuaW5uZXJIVE1MOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB7CiAgICAgICAgICAgIHdhcm4oJ2ludmFsaWQgdGVtcGxhdGUgb3B0aW9uOicgKyB0ZW1wbGF0ZSwgdGhpcyk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdGhpcwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChlbCkgewogICAgICAgIHRlbXBsYXRlID0gZ2V0T3V0ZXJIVE1MKGVsKTsKICAgICAgfQogICAgICBpZiAodGVtcGxhdGUpIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAoY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHsKICAgICAgICAgIG1hcmsoJ2NvbXBpbGUnKTsKICAgICAgICB9CgogICAgICAgIHZhciByZWYgPSBjb21waWxlVG9GdW5jdGlvbnModGVtcGxhdGUsIHsKICAgICAgICAgIG91dHB1dFNvdXJjZVJhbmdlOiAiZGV2ZWxvcG1lbnQiICE9PSAncHJvZHVjdGlvbicsCiAgICAgICAgICBzaG91bGREZWNvZGVOZXdsaW5lczogc2hvdWxkRGVjb2RlTmV3bGluZXMsCiAgICAgICAgICBzaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWY6IHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZiwKICAgICAgICAgIGRlbGltaXRlcnM6IG9wdGlvbnMuZGVsaW1pdGVycywKICAgICAgICAgIGNvbW1lbnRzOiBvcHRpb25zLmNvbW1lbnRzCiAgICAgICAgfSwgdGhpcyk7CiAgICAgICAgdmFyIHJlbmRlciA9IHJlZi5yZW5kZXI7CiAgICAgICAgdmFyIHN0YXRpY1JlbmRlckZucyA9IHJlZi5zdGF0aWNSZW5kZXJGbnM7CiAgICAgICAgb3B0aW9ucy5yZW5kZXIgPSByZW5kZXI7CiAgICAgICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBzdGF0aWNSZW5kZXJGbnM7CgogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICAgIGlmIChjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykgewogICAgICAgICAgbWFyaygnY29tcGlsZSBlbmQnKTsKICAgICAgICAgIG1lYXN1cmUoKCJ2dWUgIiArICh0aGlzLl9uYW1lKSArICIgY29tcGlsZSIpLCAnY29tcGlsZScsICdjb21waWxlIGVuZCcpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG1vdW50LmNhbGwodGhpcywgZWwsIGh5ZHJhdGluZykKICB9OwoKICAvKioKICAgKiBHZXQgb3V0ZXJIVE1MIG9mIGVsZW1lbnRzLCB0YWtpbmcgY2FyZQogICAqIG9mIFNWRyBlbGVtZW50cyBpbiBJRSBhcyB3ZWxsLgogICAqLwogIGZ1bmN0aW9uIGdldE91dGVySFRNTCAoZWwpIHsKICAgIGlmIChlbC5vdXRlckhUTUwpIHsKICAgICAgcmV0dXJuIGVsLm91dGVySFRNTAogICAgfSBlbHNlIHsKICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwuY2xvbmVOb2RlKHRydWUpKTsKICAgICAgcmV0dXJuIGNvbnRhaW5lci5pbm5lckhUTUwKICAgIH0KICB9CgogIFZ1ZS5jb21waWxlID0gY29tcGlsZVRvRnVuY3Rpb25zOwoKICByZXR1cm4gVnVlOwoKfSkpOwo="},{"meta":{"name":"xfetch.min.js","url":"https://unpkg.com/xfetch-js@0.3.4/xfetch.min.js","ts":1582340731537,"mimetype":"text/javascript"},"source":"KChhLGIpPT57ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sYik6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWIoKTphLnhmPWIoKX0pKHRoaXMsKCk9Pntjb25zdCBhPVsiZ2V0IiwicG9zdCIsInB1dCIsInBhdGNoIiwiZGVsZXRlIiwiaGVhZCJdO2NsYXNzIGIgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihhKXtzdXBlcihhLnN0YXR1c1RleHQpLHRoaXMubmFtZT0iSFRUUEVycm9yIix0aGlzLnJlc3BvbnNlPWF9fWNsYXNzIGMgZXh0ZW5kcyBQcm9taXNle31mb3IoY29uc3QgYSBvZlsiYXJyYXlCdWZmZXIiLCJibG9iIiwiZm9ybURhdGEiLCJqc29uIiwidGV4dCJdKWMucHJvdG90eXBlW2FdPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnRoZW4oYj0+YlthXSgpKS50aGVuKGJ8fChhPT5hKSl9O2NvbnN0e2Fzc2lnbjpkfT1PYmplY3QsZT1hPT5hLnJlZHVjZSgoYSxbYixjXSk9PihhW2JdPWMsYSkse30pLGY9KC4uLmEpPT5iPT5hLnNvbWUoYT0+InN0cmluZyI9PXR5cGVvZiBhP3R5cGVvZiBiPT1hOmIgaW5zdGFuY2VvZiBhKSxnPWYoInN0cmluZyIpLGg9Zigib2JqZWN0IiksaT1hPT5nKGEpfHxoKGEpLGo9YT0+e2lmKCFhLm9rKXRocm93IG5ldyBiKGEpO3JldHVybiBhfSxrPShoPXt9KT0+e2NvbnN0IGw9KGEsYj17fSk9PntkKGIsaCk7Y29uc3Qgaz1hPT5uZXcgYi5VUkxTZWFyY2hQYXJhbXMoYSkudG9TdHJpbmcoKSxsPW5ldyBiLlVSTChhLGIuYmFzZVVSSXx8dm9pZCAwKTtpZihiLmhlYWRlcnM/ZihiLkhlYWRlcnMpKGIuaGVhZGVycykmJihiLmhlYWRlcnM9ZShbLi4uYi5oZWFkZXJzLmVudHJpZXMoKV0pKTpiLmhlYWRlcnM9e30sYi5qc29uKWIuYm9keT1KU09OLnN0cmluZ2lmeShiLmpzb24pLGIuaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL2pzb24iO2Vsc2UgaWYoaShiLnVybGVuY29kZWQpKWIuYm9keT1nKGIudXJsZW5jb2RlZCk/Yi51cmxlbmNvZGVkOmsoYi51cmxlbmNvZGVkKSxiLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiO2Vsc2UgaWYoZihiLkZvcm1EYXRhLCJvYmplY3QiKShiLmZvcm1EYXRhKSl7aWYoIWYoYi5Gb3JtRGF0YSkoYi5mb3JtRGF0YSkpe2NvbnN0IGE9bmV3IGIuRm9ybURhdGE7Zm9yKGNvbnN0W2MsZF1vZiBPYmplY3QuZW50cmllcyhiLmZvcm1EYXRhKSlhLmFwcGVuZChjLGQpO2IuZm9ybURhdGE9YX1iLmJvZHk9Yi5mb3JtRGF0YX1yZXR1cm4gYi5xcyYmKGcoYi5xcykmJihiLnFzPShhPT5lKFsuLi5uZXcgYi5VUkxTZWFyY2hQYXJhbXMoYSkuZW50cmllcygpXSkpKGIucXMpKSxsLnNlYXJjaD1rKGQoZShbLi4ubC5zZWFyY2hQYXJhbXMuZW50cmllcygpXSksYi5xcykpKSxiLmNyZWRlbnRpYWxzfHwoYi5jcmVkZW50aWFscz0ic2FtZS1vcmlnaW4iKSxjLnJlc29sdmUoYi5mZXRjaChsLGIpLnRoZW4oaikpfTtmb3IoY29uc3QgYiBvZiBhKWxbYl09KGEsYz17fSk9PihjLm1ldGhvZD1iLnRvVXBwZXJDYXNlKCksbChhLGMpKTtyZXR1cm4gbC5leHRlbmQ9YT0+ayhkKHt9LGgsYSkpLGwuSFRUUEVycm9yPWIsbH0sbD0idW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50LG09InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmO3JldHVybiBtP2soe2ZldGNoOmZldGNoLmJpbmQoc2VsZiksVVJMLFJlc3BvbnNlLFVSTFNlYXJjaFBhcmFtcyxIZWFkZXJzLEZvcm1EYXRhLGJhc2VVUkk6bD9kb2N1bWVudC5iYXNlVVJJOiIifSk6aygpfSk7"},{"meta":{"name":"ffmpeg.min.js","url":"https://unpkg.com/@ffmpeg/ffmpeg@0.5.2/dist/ffmpeg.min.js","ts":1582340731801,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuRkZtcGVnPXQoKTplLkZGbXBlZz10KCl9KHdpbmRvdywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihuKXtpZih0W25dKXJldHVybiB0W25dLmV4cG9ydHM7dmFyIG89dFtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsciksby5sPSEwLG8uZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5kPWZ1bmN0aW9uKGUsdCxuKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxyLnI9ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1yKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiYib2JqZWN0Ij09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHIucihuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmInN0cmluZyIhPXR5cGVvZiBlKWZvcih2YXIgbyBpbiBlKXIuZChuLG8sZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxvKSk7cmV0dXJuIG59LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsImEiLHQpLHR9LHIubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sci5wPSIiLHIoci5zPTMpfShbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG87dm9pZCAwPT09KG89ImZ1bmN0aW9uIj09dHlwZW9mKG49ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKDA9PT1lKXRocm93IG5ldyBFcnJvcigicmVzb2x2ZVVybCByZXF1aXJlcyBhdCBsZWFzdCBvbmUgYXJndW1lbnQ7IGdvdCBub25lLiIpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtpZih0LmhyZWY9YXJndW1lbnRzWzBdLDE9PT1lKXJldHVybiB0LmhyZWY7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTtyLmluc2VydEJlZm9yZSh0LHIuZmlyc3RDaGlsZCk7Zm9yKHZhciBuLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLGk9MTtpPGU7aSsrKW8uaHJlZj1hcmd1bWVudHNbaV0sbj1vLmhyZWYsdC5ocmVmPW47cmV0dXJuIHIucmVtb3ZlQ2hpbGQodCksbn19KT9uLmNhbGwodCxyLHQsZSk6bil8fChlLmV4cG9ydHM9byl9LGZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPSExO3QubG9nZ2luZz1uLHQuc2V0TG9nZ2luZz1mdW5jdGlvbihlKXtuPWV9LHQubG9nPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbz0wO288ZTtvKyspdFtvXT1hcmd1bWVudHNbb107cmV0dXJuIG4/Y29uc29sZS5sb2cuYXBwbHkocix0KTpudWxsfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSwiLSIpLmNvbmNhdCh0LCItIikuY29uY2F0KE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDMsOCkpfX0sZnVuY3Rpb24oZSx0LHIpe3IoNCk7dmFyIG49cigxKSxvPW4ubG9nZ2luZyxpPW4uc2V0TG9nZ2luZyxhPXIoNSk7ZS5leHBvcnRzPXtsb2dnaW5nOm8sc2V0TG9nZ2luZzppLGNyZWF0ZVdvcmtlcjphfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdCxyPU9iamVjdC5wcm90b3R5cGUsbj1yLmhhc093blByb3BlcnR5LG89ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30saT1vLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsYT1vLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLGM9by50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIHUoZSx0LHIsbil7dmFyIG89dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiB2P3Q6dixpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLGE9bmV3IEwobnx8W10pO3JldHVybiBpLl9pbnZva2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWY7cmV0dXJuIGZ1bmN0aW9uKG8saSl7aWYobj09PXApdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobj09PWQpe2lmKCJ0aHJvdyI9PT1vKXRocm93IGk7cmV0dXJuIFMoKX1mb3Ioci5tZXRob2Q9byxyLmFyZz1pOzspe3ZhciBhPXIuZGVsZWdhdGU7aWYoYSl7dmFyIGM9ayhhLHIpO2lmKGMpe2lmKGM9PT1oKWNvbnRpbnVlO3JldHVybiBjfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobj09PWYpdGhyb3cgbj1kLHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bj1wO3ZhciB1PXMoZSx0LHIpO2lmKCJub3JtYWwiPT09dS50eXBlKXtpZihuPXIuZG9uZT9kOmwsdS5hcmc9PT1oKWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOnIuZG9uZX19InRocm93Ij09PXUudHlwZSYmKG49ZCxyLm1ldGhvZD0idGhyb3ciLHIuYXJnPXUuYXJnKX19fShlLHIsYSksaX1mdW5jdGlvbiBzKGUsdCxyKXt0cnl7cmV0dXJue3R5cGU6Im5vcm1hbCIsYXJnOmUuY2FsbCh0LHIpfX1jYXRjaChlKXtyZXR1cm57dHlwZToidGhyb3ciLGFyZzplfX19ZS53cmFwPXU7dmFyIGY9InN1c3BlbmRlZFN0YXJ0IixsPSJzdXNwZW5kZWRZaWVsZCIscD0iZXhlY3V0aW5nIixkPSJjb21wbGV0ZWQiLGg9e307ZnVuY3Rpb24gdigpe31mdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIGcoKXt9dmFyIHk9e307eVtpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgYj1PYmplY3QuZ2V0UHJvdG90eXBlT2Ysdz1iJiZiKGIoRChbXSkpKTt3JiZ3IT09ciYmbi5jYWxsKHcsaSkmJih5PXcpO3ZhciB4PWcucHJvdG90eXBlPXYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeSk7ZnVuY3Rpb24gaihlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfX0pKX1mdW5jdGlvbiBPKGUpe3ZhciB0O3RoaXMuX2ludm9rZT1mdW5jdGlvbihyLG8pe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsaSl7IWZ1bmN0aW9uIHQocixvLGksYSl7dmFyIGM9cyhlW3JdLGUsbyk7aWYoInRocm93IiE9PWMudHlwZSl7dmFyIHU9Yy5hcmcsZj11LnZhbHVlO3JldHVybiBmJiYib2JqZWN0Ij09dHlwZW9mIGYmJm4uY2FsbChmLCJfX2F3YWl0Iik/UHJvbWlzZS5yZXNvbHZlKGYuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7dCgibmV4dCIsZSxpLGEpfSksKGZ1bmN0aW9uKGUpe3QoInRocm93IixlLGksYSl9KSk6UHJvbWlzZS5yZXNvbHZlKGYpLnRoZW4oKGZ1bmN0aW9uKGUpe3UudmFsdWU9ZSxpKHUpfSksKGZ1bmN0aW9uKGUpe3JldHVybiB0KCJ0aHJvdyIsZSxpLGEpfSkpfWEoYy5hcmcpfShyLG8sdCxpKX0pKX1yZXR1cm4gdD10P3QudGhlbihpLGkpOmkoKX19ZnVuY3Rpb24gayhlLHIpe3ZhciBuPWUuaXRlcmF0b3Jbci5tZXRob2RdO2lmKG49PT10KXtpZihyLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXIubWV0aG9kKXtpZihlLml0ZXJhdG9yLnJldHVybiYmKHIubWV0aG9kPSJyZXR1cm4iLHIuYXJnPXQsayhlLHIpLCJ0aHJvdyI9PT1yLm1ldGhvZCkpcmV0dXJuIGg7ci5tZXRob2Q9InRocm93IixyLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kIil9cmV0dXJuIGh9dmFyIG89cyhuLGUuaXRlcmF0b3Isci5hcmcpO2lmKCJ0aHJvdyI9PT1vLnR5cGUpcmV0dXJuIHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9by5hcmcsci5kZWxlZ2F0ZT1udWxsLGg7dmFyIGk9by5hcmc7cmV0dXJuIGk/aS5kb25lPyhyW2UucmVzdWx0TmFtZV09aS52YWx1ZSxyLm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09ci5tZXRob2QmJihyLm1ldGhvZD0ibmV4dCIsci5hcmc9dCksci5kZWxlZ2F0ZT1udWxsLGgpOmk6KHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxyLmRlbGVnYXRlPW51bGwsaCl9ZnVuY3Rpb24gUChlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBFKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBMKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goUCx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBEKGUpe2lmKGUpe3ZhciByPWVbaV07aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEsYT1mdW5jdGlvbiByKCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKG4uY2FsbChlLG8pKXJldHVybiByLnZhbHVlPWVbb10sci5kb25lPSExLHI7cmV0dXJuIHIudmFsdWU9dCxyLmRvbmU9ITAscn07cmV0dXJuIGEubmV4dD1hfX1yZXR1cm57bmV4dDpTfX1mdW5jdGlvbiBTKCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19cmV0dXJuIG0ucHJvdG90eXBlPXguY29uc3RydWN0b3I9ZyxnLmNvbnN0cnVjdG9yPW0sZ1tjXT1tLmRpc3BsYXlOYW1lPSJHZW5lcmF0b3JGdW5jdGlvbiIsZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1tfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxnKTooZS5fX3Byb3RvX189ZyxjIGluIGV8fChlW2NdPSJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHgpLGV9LGUuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LGooTy5wcm90b3R5cGUpLE8ucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUuQXN5bmNJdGVyYXRvcj1PLGUuYXN5bmM9ZnVuY3Rpb24odCxyLG4sbyl7dmFyIGk9bmV3IE8odSh0LHIsbixvKSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKT9pOmkubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTppLm5leHQoKX0pKX0saih4KSx4W2NdPSJHZW5lcmF0b3IiLHhbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30seC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSxlLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpdC5wdXNoKHIpO3JldHVybiB0LnJldmVyc2UoKSxmdW5jdGlvbiByKCl7Zm9yKDt0Lmxlbmd0aDspe3ZhciBuPXQucG9wKCk7aWYobiBpbiBlKXJldHVybiByLnZhbHVlPW4sci5kb25lPSExLHJ9cmV0dXJuIHIuZG9uZT0hMCxyfX0sZS52YWx1ZXM9RCxMLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goRSksIWUpZm9yKHZhciByIGluIHRoaXMpInQiPT09ci5jaGFyQXQoMCkmJm4uY2FsbCh0aGlzLHIpJiYhaXNOYU4oK3Iuc2xpY2UoMSkpJiYodGhpc1tyXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciByPXRoaXM7ZnVuY3Rpb24gbyhuLG8pe3JldHVybiBjLnR5cGU9InRocm93IixjLmFyZz1lLHIubmV4dD1uLG8mJihyLm1ldGhvZD0ibmV4dCIsci5hcmc9dCksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxjPWEuY29tcGxldGlvbjtpZigicm9vdCI9PT1hLnRyeUxvYylyZXR1cm4gbygiZW5kIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIHU9bi5jYWxsKGEsImNhdGNoTG9jIikscz1uLmNhbGwoYSwiZmluYWxseUxvYyIpO2lmKHUmJnMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX1lbHNlIGlmKHUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtyPj0wOy0tcil7dmFyIG89dGhpcy50cnlFbnRyaWVzW3JdO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJm4uY2FsbChvLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxvLmZpbmFsbHlMb2Mpe3ZhciBpPW87YnJlYWt9fWkmJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZpLnRyeUxvYzw9dCYmdDw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxpPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyxoKTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLGh9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgcj10aGlzLnRyeUVudHJpZXNbdF07aWYoci5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShyLmNvbXBsZXRpb24sci5hZnRlckxvYyksRShyKSxofX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW3RdO2lmKHIudHJ5TG9jPT09ZSl7dmFyIG49ci5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1uLnR5cGUpe3ZhciBvPW4uYXJnO0Uocil9cmV0dXJuIG99fXRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpEKGUpLHJlc3VsdE5hbWU6cixuZXh0TG9jOm59LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksaH19LGV9KGUuZXhwb3J0cyk7dHJ5e3JlZ2VuZXJhdG9yUnVudGltZT1ufWNhdGNoKGUpe0Z1bmN0aW9uKCJyIiwicmVnZW5lcmF0b3JSdW50aW1lID0gciIpKG4pfX0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLHI9bmV3IEFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylyW3RdPWVbdF07cmV0dXJuIHJ9fShlKXx8ZnVuY3Rpb24oZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9ZnVuY3Rpb24gbyhlLHQscixuLG8saSxhKXt0cnl7dmFyIGM9ZVtpXShhKSx1PWMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgcihlKX1jLmRvbmU/dCh1KTpQcm9taXNlLnJlc29sdmUodSkudGhlbihuLG8pfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIGMoZSl7byhhLG4saSxjLHUsIm5leHQiLGUpfWZ1bmN0aW9uIHUoZSl7byhhLG4saSxjLHUsInRocm93IixlKX1jKHZvaWQgMCl9KSl9fWZ1bmN0aW9uIGEoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YShyLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTphKHIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiB1KGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBzKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgcixuLG89ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG4sbz17fSxpPU9iamVjdC5rZXlzKGUpO2ZvcihuPTA7bjxpLmxlbmd0aDtuKyspcj1pW25dLHQuaW5kZXhPZihyKT49MHx8KG9bcl09ZVtyXSk7cmV0dXJuIG99KGUsdCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtmb3Iobj0wO248aS5sZW5ndGg7bisrKXI9aVtuXSx0LmluZGV4T2Yocik+PTB8fE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHIpJiYob1tyXT1lW3JdKX1yZXR1cm4gb312YXIgZj1yKDYpLGw9cigxKS5sb2cscD1yKDIpLGQ9cig3KSxoPXIoOCksdj1yKDEwKSxtPXYuZGVmYXVsdE9wdGlvbnMsZz12LnNwYXduV29ya2VyLHk9di50ZXJtaW5hdGVXb3JrZXIsYj12Lm9uTWVzc2FnZSx3PXYuc2VuZCx4PXYuZmV0Y2hGaWxlLGo9di5mcyxPPTA7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9cCgiV29ya2VyIixPKSxyPWgoYyh7fSxtLHt9LGUpKSxvPXIubG9nZ2VyLGE9ci5wcm9ncmVzcyx1PXMocixbImxvZ2dlciIsInByb2dyZXNzIl0pLHY9e30saz17fSxQPWcodSk7Tys9MTt2YXIgRT1mdW5jdGlvbihlLHQpe3ZbZV09dH0sTD1mdW5jdGlvbihlLHQpe2tbZV09dH0sRD1mdW5jdGlvbihlKXt2YXIgcj1lLmlkLG49ZS5hY3Rpb24sbz1lLnBheWxvYWQ7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLGkpe2woIlsiLmNvbmNhdCh0LCJdOiBTdGFydCAiKS5jb25jYXQociwiLCBhY3Rpb249IikuY29uY2F0KG4pKSxFKG4sZSksTChuLGkpLHcoUCx7d29ya2VySWQ6dCxqb2JJZDpyLGFjdGlvbjpuLHBheWxvYWQ6b30pfSkpfSxTPWZ1bmN0aW9uKGUpe3JldHVybiBEKGYoe2lkOmUsYWN0aW9uOiJsb2FkIixwYXlsb2FkOntvcHRpb25zOnV9fSkpfSxGPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEQoZih7aWQ6dCxhY3Rpb246InN5bmNmcyIscGF5bG9hZDp7cG9wdWxhdGU6ZX19KSl9LFQ9ZnVuY3Rpb24oKXt2YXIgZT1pKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsRigpO2Nhc2UgMjpyZXR1cm4gZS50MD1qLGUudDE9dCxlLm5leHQ9Nix4KHIpO2Nhc2UgNjpyZXR1cm4gZS50Mj1lLnNlbnQsZS5uZXh0PTksZS50MC53cml0ZUZpbGUuY2FsbChlLnQwLGUudDEsZS50Mik7Y2FzZSA5OnJldHVybiBlLm5leHQ9MTEsRighMCk7Y2FzZSAxMTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIse3BhdGg6Ii9kYXRhLyIuY29uY2F0KHQpfSk7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKTtyZXR1cm4gZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLEk9ZnVuY3Rpb24oKXt2YXIgZT1pKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsRighMCk7Y2FzZSAyOnJldHVybiBlLm5leHQ9NCxqLndyaXRlRmlsZSh0LHIpO2Nhc2UgNDpyZXR1cm4gZS5uZXh0PTYsRighMCk7Y2FzZSA2OnJldHVybiBlLmFicnVwdCgicmV0dXJuIix7cGF0aDoiL2RhdGEvIi5jb25jYXQodCl9KTtjYXNlIDc6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxSPWZ1bmN0aW9uKCl7dmFyIGU9aShyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgcixuLG89YXJndW1lbnRzO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9IShvLmxlbmd0aD4xJiZ2b2lkIDAhPT1vWzFdKXx8b1sxXSxlLm5leHQ9MyxqLnJlYWRGaWxlKHQpO2Nhc2UgMzppZihuPWUuc2VudCwhcil7ZS5uZXh0PTc7YnJlYWt9cmV0dXJuIGUubmV4dD03LGouZGVsZXRlRmlsZSh0KTtjYXNlIDc6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHtkYXRhOm59KTtjYXNlIDg6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksQj1mdW5jdGlvbigpe3ZhciBlPWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsai5kZWxldGVGaWxlKHQpO2Nhc2UgMjpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIse3BhdGg6Ii9kYXRhLyIuY29uY2F0KHQpfSk7Y2FzZSAzOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLEE9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7cmV0dXJuIEQoZih7aWQ6cixhY3Rpb246InJ1biIscGF5bG9hZDp7YXJnczplLG9wdGlvbnM6dH19KSl9LF89ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06IiIsbj0hKGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdKXx8YXJndW1lbnRzWzNdLG89YXJndW1lbnRzLmxlbmd0aD40P2FyZ3VtZW50c1s0XTp2b2lkIDA7cmV0dXJuIEEoIi1pIC9kYXRhLyIuY29uY2F0KGUsIiAiKS5jb25jYXQociwiICIpLmNvbmNhdCh0KSx7aW5wdXQ6ZSxvdXRwdXQ6dCxkZWw6bn0sbyl9LE09ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOiIiLGk9IShhcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XSl8fGFyZ3VtZW50c1s1XSxhPWFyZ3VtZW50cy5sZW5ndGg+Nj9hcmd1bWVudHNbNl06dm9pZCAwO3JldHVybiBBKCItaSAvZGF0YS8iLmNvbmNhdChlLCIgLXNzICIpLmNvbmNhdChyLCIgLXRvICIpLmNvbmNhdChuLCIgIikuY29uY2F0KG8sIiAiKS5jb25jYXQodCkse2lucHV0OmUsb3V0cHV0OnQsZGVsOml9LGEpfSxXPWZ1bmN0aW9uKCl7dmFyIGU9aShyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0LHIpe3ZhciBvLGksYSxjLHU9YXJndW1lbnRzO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIG89dS5sZW5ndGg+MiYmdm9pZCAwIT09dVsyXT91WzJdOiIiLGk9ISh1Lmxlbmd0aD4zJiZ2b2lkIDAhPT11WzNdKXx8dVszXSxhPXUubGVuZ3RoPjQ/dVs0XTp2b2lkIDAsYz10LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSwiXG5maWxlICIpLmNvbmNhdCh0KX0pLCIiKSxlLm5leHQ9NixJKCJjb25jYXRfbGlzdC50eHQiLGMpO2Nhc2UgNjpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsQSgiLWYgY29uY2F0IC1zYWZlIDAgLWkgL2RhdGEvY29uY2F0X2xpc3QudHh0IC1jIGNvcHkgIi5jb25jYXQobywiICIpLmNvbmNhdChyKSx7ZGVsOmksb3V0cHV0OnIsaW5wdXQ6W10uY29uY2F0KG4odCksWyJjb25jYXRfbGlzdC50eHQiXSl9LGEpKTtjYXNlIDc6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxOPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEQoZih7aWQ6dCxhY3Rpb246IkZTIixwYXlsb2FkOnttZXRob2Q6InJlYWRkaXIiLGFyZ3M6W2VdfX0pKX0sQz1mdW5jdGlvbigpe3ZhciBlPWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihudWxsPT09UCl7ZS5uZXh0PTU7YnJlYWt9cmV0dXJuIGUubmV4dD0zLEQoZih7aWQ6dCxhY3Rpb246InRlcm1pbmF0ZSJ9KSk7Y2FzZSAzOnkoUCksUD1udWxsO2Nhc2UgNTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsUHJvbWlzZS5yZXNvbHZlKCkpO2Nhc2UgNjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKTtyZXR1cm4gYihQLChmdW5jdGlvbihlKXt2YXIgdD1lLndvcmtlcklkLHI9ZS5qb2JJZCxuPWUuc3RhdHVzLGk9ZS5hY3Rpb24sdT1lLmRhdGE7aWYoInJlc29sdmUiPT09bil7bCgiWyIuY29uY2F0KHQsIl06IENvbXBsZXRlICIpLmNvbmNhdChyKSk7dmFyIHM9dTtpZigiRlMiPT09aSl7dmFyIGY9dS5tZXRob2QscD11LmRhdGE7cz0icmVhZEZpbGUiPT09Zj9VaW50OEFycmF5LmZyb20oYyh7fSxwLHtsZW5ndGg6T2JqZWN0LmtleXMocCkubGVuZ3RofSkpOnB9dltpXSh7am9iSWQ6cixkYXRhOnN9KX1lbHNle2lmKCJyZWplY3QiPT09bil0aHJvdyBrW2ldKHUpLEVycm9yKHUpOyJwcm9ncmVzcyI9PT1uJiYoZCh1LGEpLG8odSkpfX0pKSx7aWQ6dCx3b3JrZXI6UCxzZXRSZXNvbHZlOkUsc2V0UmVqZWN0OkwsbG9hZDpTLHN5bmNmczpGLHdyaXRlOlQsd3JpdGVUZXh0OkkscmVhZDpSLHJlbW92ZTpCLHJ1bjpBLHRyYW5zY29kZTpfLHRyaW06TSxjb25jYXREZW11eGVyOlcsbHM6Tix0ZXJtaW5hdGU6Q319fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyKSxvPTA7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQscj1lLmFjdGlvbixpPWUucGF5bG9hZCxhPXZvaWQgMD09PWk/e306aSxjPXQ7cmV0dXJuIHZvaWQgMD09PWMmJihjPW4oIkpvYiIsbyksbys9MSkse2lkOmMsYWN0aW9uOnIscGF5bG9hZDphfX19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKSlyZXR1cm47dmFyIHI9W10sbj0hMCxvPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsYz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9Yy5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKGEudmFsdWUpLCF0fHxyLmxlbmd0aCE9PXQpO249ITApO31jYXRjaChlKXtvPSEwLGk9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgaX19cmV0dXJuIHJ9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfXZhciBuPTAsbz1mdW5jdGlvbihlKXt2YXIgdD1yKGUuc3BsaXQoIjoiKSwzKSxuPXRbMF0sbz10WzFdLGk9dFsyXTtyZXR1cm4gNjAqcGFyc2VGbG9hdChuKSo2MCs2MCpwYXJzZUZsb2F0KG8pK3BhcnNlRmxvYXQoaSl9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPWUubWVzc2FnZTtpZigic3RyaW5nIj09dHlwZW9mIHIpaWYoci5zdGFydHNXaXRoKCIgIER1cmF0aW9uIikpe3ZhciBpPXIuc3BsaXQoIiwgIilbMF0uc3BsaXQoIjogIilbMV0sYT1vKGkpOygwPT09bnx8bj5hKSYmKG49YSl9ZWxzZSBpZihyLnN0YXJ0c1dpdGgoImZyYW1lIikpe3ZhciBjPXIuc3BsaXQoInRpbWU9IilbMV0uc3BsaXQoIiAiKVswXTt0KHtyYXRpbzpvKGMpL259KX1lbHNlIHIuc3RhcnRzV2l0aCgidmlkZW86IikmJnQoe3JhdGlvOjF9KX19LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBvKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgaT0iYnJvd3NlciI9PT1yKDkpKCJ0eXBlIik/cigwKTpmdW5jdGlvbihlKXtyZXR1cm4gZX07ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP24ociwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7byhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6bihyKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9KHt9LGUpO3JldHVyblsiY29yZVBhdGgiLCJ3b3JrZXJQYXRoIl0uZm9yRWFjaCgoZnVuY3Rpb24ocil7dm9pZCAwIT09ZVtyXSYmKHRbcl09aSh0W3JdKSl9KSksdH19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXt0eXBlOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ2b2lkIDAhPT13aW5kb3cuZG9jdW1lbnQ/ImJyb3dzZXIiOiJub2RlIn07cmV0dXJuIHZvaWQgMD09PWU/dDp0W2VdfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLG89cigxNSksaT1yKDE2KSxhPXIoMTcpLGM9cigxOCksdT1yKDE5KSxzPXIoMjApO2UuZXhwb3J0cz17ZGVmYXVsdE9wdGlvbnM6bixzcGF3bldvcmtlcjpvLHRlcm1pbmF0ZVdvcmtlcjppLG9uTWVzc2FnZTphLHNlbmQ6YyxmZXRjaEZpbGU6dSxmczpzfX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBvKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgaT1yKDApLGE9cigxMyksYz1hLnZlcnNpb24sdT1hLmRlcGVuZGVuY2llcyxzPXIoMTQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9uKHIsITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe28oZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOm4ocikuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfSh7fSxzLHt3b3JrZXJQYXRoOnZvaWQgMCE9PXQmJiJkZXZlbG9wbWVudCI9PT10LmVudi5GRk1QRUdfRU5WP2koIi9kaXN0L3dvcmtlci5kZXYuanM/bm9jYWNoZT0iLmNvbmNhdChNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgzKSkpOiJodHRwczovL3VucGtnLmNvbS9AZmZtcGVnL2ZmbXBlZ0B2Ii5jb25jYXQoYywiL2Rpc3Qvd29ya2VyLm1pbi5qcyIpLGNvcmVQYXRoOiJodHRwczovL3VucGtnLmNvbS9AZmZtcGVnL2NvcmVAdiIuY29uY2F0KHVbIkBmZm1wZWcvY29yZSJdLnN1YnN0cmluZygxKSwiL2ZmbXBlZy1jb3JlLmpzIiksd29ya2VyQmxvYlVSTDohMH0pfSkuY2FsbCh0aGlzLHIoMTIpKX0sZnVuY3Rpb24oZSx0KXt2YXIgcixuLG89ZS5leHBvcnRzPXt9O2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBjKGUpe2lmKHI9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKHI9PT1pfHwhcikmJnNldFRpbWVvdXQpcmV0dXJuIHI9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiByKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiByLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiByLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e3I9ImZ1bmN0aW9uIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDppfWNhdGNoKGUpe3I9aX10cnl7bj0iZnVuY3Rpb24iPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDphfWNhdGNoKGUpe249YX19KCk7dmFyIHUscz1bXSxmPSExLGw9LTE7ZnVuY3Rpb24gcCgpe2YmJnUmJihmPSExLHUubGVuZ3RoP3M9dS5jb25jYXQocyk6bD0tMSxzLmxlbmd0aCYmZCgpKX1mdW5jdGlvbiBkKCl7aWYoIWYpe3ZhciBlPWMocCk7Zj0hMDtmb3IodmFyIHQ9cy5sZW5ndGg7dDspe2Zvcih1PXMscz1bXTsrK2w8dDspdSYmdVtsXS5ydW4oKTtsPS0xLHQ9cy5sZW5ndGh9dT1udWxsLGY9ITEsZnVuY3Rpb24oZSl7aWYobj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChuPT09YXx8IW4pJiZjbGVhclRpbWVvdXQpcmV0dXJuIG49Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7bihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gaChlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIHYoKXt9by5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3MucHVzaChuZXcgaChlLHQpKSwxIT09cy5sZW5ndGh8fGZ8fGMoZCl9LGgucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LG8udGl0bGU9ImJyb3dzZXIiLG8uYnJvd3Nlcj0hMCxvLmVudj17fSxvLmFyZ3Y9W10sby52ZXJzaW9uPSIiLG8udmVyc2lvbnM9e30sby5vbj12LG8uYWRkTGlzdGVuZXI9dixvLm9uY2U9dixvLm9mZj12LG8ucmVtb3ZlTGlzdGVuZXI9dixvLnJlbW92ZUFsbExpc3RlbmVycz12LG8uZW1pdD12LG8ucHJlcGVuZExpc3RlbmVyPXYsby5wcmVwZW5kT25jZUxpc3RlbmVyPXYsby5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LG8uYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LG8uY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxvLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LG8udW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1KU09OLnBhcnNlKCd7Im5hbWUiOiJAZmZtcGVnL2ZmbXBlZyIsInZlcnNpb24iOiIwLjUuMiIsImRlc2NyaXB0aW9uIjoiRkZtcGVnIFdlYkFzc2VtYmx5IHZlcnNpb24iLCJtYWluIjoic3JjL2luZGV4LmpzIiwiZGlyZWN0b3JpZXMiOnsiZXhhbXBsZSI6ImV4YW1wbGVzIn0sInNjcmlwdHMiOnsic3RhcnQiOiJub2RlIHNjcmlwdHMvc2VydmVyLmpzIiwiYnVpbGQiOiJyaW1yYWYgZGlzdCAmJiB3ZWJwYWNrIC0tY29uZmlnIHNjcmlwdHMvd2VicGFjay5jb25maWcucHJvZC5qcyIsInByZXB1Ymxpc2hPbmx5IjoibnBtIHJ1biBidWlsZCIsImxpbnQiOiJlc2xpbnQgc3JjIiwid2FpdCI6InJpbXJhZiBkaXN0ICYmIHdhaXQtb24gaHR0cDovL2xvY2FsaG9zdDozMDAwL2Rpc3QvZmZtcGVnLmRldi5qcyIsInRlc3QiOiJucG0tcnVuLWFsbCAtcCAtciBzdGFydCB0ZXN0OmFsbCIsInRlc3Q6YWxsIjoibnBtLXJ1bi1hbGwgd2FpdCB0ZXN0Om5vZGU6YWxsIiwidGVzdDpub2RlIjoibnljIG1vY2hhIC0tZXhpdCAtLWJhaWwgLS1yZXF1aXJlIC4vc2NyaXB0cy90ZXN0LWhlbHBlci5qcyIsInRlc3Q6bm9kZTphbGwiOiJucG0gcnVuIHRlc3Q6bm9kZSAtLSAuL3Rlc3RzLyoudGVzdC5qcyIsInRlc3Q6YnJvd3NlciI6Im1vY2hhLWhlYWRsZXNzLWNocm9tZSAtYSBpbmNvZ25pdG8gLWEgbm8tc2FuZGJveCAtYSBkaXNhYmxlLXNldHVpZC1zYW5kYm94IC1hIGRpc2FibGUtbG9nZ2luZyAtdCAzMDAwMDAiLCJ0ZXN0OmJyb3dzZXI6ZmZtcGVnIjoibnBtIHJ1biB0ZXN0OmJyb3dzZXIgLS0gLWYgLi90ZXN0cy9mZm1wZWcudGVzdC5odG1sIn0sImJyb3dzZXIiOnsiLi9zcmMvd29ya2VyL25vZGUvaW5kZXguanMiOiIuL3NyYy93b3JrZXIvYnJvd3Nlci9pbmRleC5qcyJ9LCJyZXBvc2l0b3J5Ijp7InR5cGUiOiJnaXQiLCJ1cmwiOiJnaXQraHR0cHM6Ly9naXRodWIuY29tL2ZmbXBlZ2pzL2ZmbXBlZy5qcy5naXQifSwia2V5d29yZHMiOlsiZmZtcGVnIiwiV2ViQXNzZW1ibHkiLCJ2aWRlbyJdLCJhdXRob3IiOiJKZXJvbWUgV3UgPGplcm9tZXd1c0BnbWFpbC5jb20+IiwibGljZW5zZSI6Ik1JVCIsImJ1Z3MiOnsidXJsIjoiaHR0cHM6Ly9naXRodWIuY29tL2ZmbXBlZ2pzL2ZmbXBlZy5qcy9pc3N1ZXMifSwiaG9tZXBhZ2UiOiJodHRwczovL2dpdGh1Yi5jb20vZmZtcGVnanMvZmZtcGVnLmpzI3JlYWRtZSIsImRlcGVuZGVuY2llcyI6eyJAZmZtcGVnL2NvcmUiOiJeMC41LjAiLCJpZGIiOiJeNC4wLjUiLCJpcy11cmwiOiJeMS4yLjQiLCJub2RlLWZldGNoIjoiXjIuNi4wIiwicmVnZW5lcmF0b3ItcnVudGltZSI6Il4wLjEzLjMiLCJyZXNvbHZlLXVybCI6Il4wLjIuMSJ9LCJkZXZEZXBlbmRlbmNpZXMiOnsiQGJhYmVsL2NvcmUiOiJeNy42LjQiLCJAYmFiZWwvcHJlc2V0LWVudiI6Il43LjYuMyIsImJhYmVsLWxvYWRlciI6Il44LjAuNiIsImNvcnMiOiJeMi44LjUiLCJlc2xpbnQiOiJeNi4xLjAiLCJlc2xpbnQtY29uZmlnLWFpcmJuYi1iYXNlIjoiXjE0LjAuMCIsImVzbGludC1wbHVnaW4taW1wb3J0IjoiXjIuMTguMiIsImV4cGVjdC5qcyI6Il4wLjMuMSIsImV4cHJlc3MiOiJeNC4xNy4xIiwibW9jaGEiOiJeNi4yLjIiLCJtb2NoYS1oZWFkbGVzcy1jaHJvbWUiOiJeMi4wLjMiLCJucG0tcnVuLWFsbCI6Il40LjEuNSIsIm55YyI6Il4xNC4xLjEiLCJ3YWl0LW9uIjoiXjMuMy4wIiwid2VicGFjayI6Il40LjQxLjIiLCJ3ZWJwYWNrLWNsaSI6Il4zLjMuOSIsIndlYnBhY2stZGV2LW1pZGRsZXdhcmUiOiJeMy43LjIifX0nKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e2xvZ2dlcjpmdW5jdGlvbigpe30scHJvZ3Jlc3M6ZnVuY3Rpb24oKXt9fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLndvcmtlclBhdGgsbj1lLndvcmtlckJsb2JVUkw7aWYoQmxvYiYmVVJMJiZuKXt2YXIgbz1uZXcgQmxvYihbJ2ltcG9ydFNjcmlwdHMoIicuY29uY2F0KHIsJyIpOycpXSx7dHlwZToiYXBwbGljYXRpb24vamF2YXNjcmlwdCJ9KTt0PW5ldyBXb3JrZXIoVVJMLmNyZWF0ZU9iamVjdFVSTChvKSl9ZWxzZSB0PW5ldyBXb3JrZXIocik7cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtlLnRlcm1pbmF0ZSgpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtlLm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgcj1lLmRhdGE7dChyKX19fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSx0LHIsbixvLGksYSl7dHJ5e3ZhciBjPWVbaV0oYSksdT1jLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIHIoZSl9Yy5kb25lP3QodSk6UHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4obixvKX1lLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0PShlPXJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDp0LnBvc3RNZXNzYWdlKHIpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8saSl7dmFyIGE9ZS5hcHBseSh0LG4pO2Z1bmN0aW9uIGMoZSl7cihhLG8saSxjLHUsIm5leHQiLGUpfWZ1bmN0aW9uIHUoZSl7cihhLG8saSxjLHUsInRocm93IixlKX1jKHZvaWQgMCl9KSl9KTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlLHQscixuLG8saSxhKXt0cnl7dmFyIGM9ZVtpXShhKSx1PWMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgcihlKX1jLmRvbmU/dCh1KTpQcm9taXNlLnJlc29sdmUodSkudGhlbihuLG8pfXZhciBvPXIoMCksaT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQscil7dmFyIG49bmV3IEZpbGVSZWFkZXI7bi5vbmxvYWQ9ZnVuY3Rpb24oKXt0KG4ucmVzdWx0KX0sbi5vbmVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LmVycm9yLmNvZGU7cihFcnJvcigiRmlsZSBjb3VsZCBub3QgYmUgcmVhZCEgQ29kZT0iLmNvbmNhdCh0KSkpfSxuLnJlYWRBc0FycmF5QnVmZmVyKGUpfSkpfTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0PShlPXJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG47cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihyPXQsdm9pZCAwIT09dCl7ZS5uZXh0PTM7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLCJ1bmRlZmluZWQiKTtjYXNlIDM6aWYoInN0cmluZyIhPXR5cGVvZiB0KXtlLm5leHQ9MTY7YnJlYWt9aWYoIS9kYXRhOl9kYXRhXC8oW2EtekEtWl0qKTtiYXNlNjQsKFteIl0qKS8udGVzdCh0KSl7ZS5uZXh0PTg7YnJlYWt9cj1hdG9iKHQuc3BsaXQoIiwiKVsxXSkuc3BsaXQoIiIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckNvZGVBdCgwKX0pKSxlLm5leHQ9MTQ7YnJlYWs7Y2FzZSA4OnJldHVybiBlLm5leHQ9MTAsZmV0Y2gobyh0KSk7Y2FzZSAxMDpyZXR1cm4gbj1lLnNlbnQsZS5uZXh0PTEzLG4uYXJyYXlCdWZmZXIoKTtjYXNlIDEzOnI9ZS5zZW50O2Nhc2UgMTQ6ZS5uZXh0PTIwO2JyZWFrO2Nhc2UgMTY6aWYoISh0IGluc3RhbmNlb2YgRmlsZXx8dCBpbnN0YW5jZW9mIEJsb2IpKXtlLm5leHQ9MjA7YnJlYWt9cmV0dXJuIGUubmV4dD0xOSxpKHQpO2Nhc2UgMTk6cj1lLnNlbnQ7Y2FzZSAyMDpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsbmV3IFVpbnQ4QXJyYXkocikpO2Nhc2UgMjE6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSxmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGkpe3ZhciBhPWUuYXBwbHkodCxyKTtmdW5jdGlvbiBjKGUpe24oYSxvLGksYyx1LCJuZXh0IixlKX1mdW5jdGlvbiB1KGUpe24oYSxvLGksYyx1LCJ0aHJvdyIsZSl9Yyh2b2lkIDApfSkpfSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCl9LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBvKGUsdCxyLG4sbyxpLGEpe3RyeXt2YXIgYz1lW2ldKGEpLHU9Yy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCByKGUpfWMuZG9uZT90KHUpOlByb21pc2UucmVzb2x2ZSh1KS50aGVuKG4sbyl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLHI9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXt2YXIgYT1lLmFwcGx5KHQscik7ZnVuY3Rpb24gYyhlKXtvKGEsbixpLGMsdSwibmV4dCIsZSl9ZnVuY3Rpb24gdShlKXtvKGEsbixpLGMsdSwidGhyb3ciLGUpfWModm9pZCAwKX0pKX19dmFyIGEsYyx1LHM9cigyMSkub3BlbkRCLGY9ZnVuY3Rpb24oKXtyZXR1cm4gcygiL2RhdGEiLDIxKX0sbD1mdW5jdGlvbigpe3ZhciBlPWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIHIsbjtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9Mix0LmdldCgiRklMRV9EQVRBIiwiL2RhdGEvLkRVTU1ZIik7Y2FzZSAyOnJldHVybiByPWUuc2VudCxuPU9iamVjdC5rZXlzKHIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIVsibW9kZSIsInRpbWVzdGFtcCJdLmluY2x1ZGVzKGUpfSkpLnBvcCgpLGUuYWJydXB0KCJyZXR1cm4iLHtkYXRhS2V5Om4sbW9kZTpyLm1vZGV9KTtjYXNlIDU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCk7ZS5leHBvcnRzPXtyZWFkRmlsZToodT1pKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG4sbztyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9MixmKCk7Y2FzZSAyOnJldHVybiByPWUuc2VudCxlLm5leHQ9NSxsKHIpO2Nhc2UgNTpyZXR1cm4gbj1lLnNlbnQsbz1uLmRhdGFLZXksZS5uZXh0PTksci5nZXQoIkZJTEVfREFUQSIsIi9kYXRhLyIuY29uY2F0KHQpKTtjYXNlIDk6cmV0dXJuIGUudDA9byxlLmFicnVwdCgicmV0dXJuIixlLnNlbnRbZS50MF0pO2Nhc2UgMTE6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksd3JpdGVGaWxlOihjPWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCxyKXt2YXIgbyxpLGEsYyx1O3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLGYoKTtjYXNlIDI6cmV0dXJuIGk9ZS5zZW50LGUubmV4dD01LGwoaSk7Y2FzZSA1OnJldHVybiBhPWUuc2VudCxjPWEuZGF0YUtleSx1PWEubW9kZSxlLm5leHQ9MTAsaS5wdXQoIkZJTEVfREFUQSIsKG4obz17fSxjLHIpLG4obywibW9kZSIsdSksbihvLCJ0aW1lc3RhbXAiLG5ldyBEYXRlKSxvKSwiL2RhdGEvIi5jb25jYXQodCkpO2Nhc2UgMTA6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksZnVuY3Rpb24oZSx0KXtyZXR1cm4gYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxkZWxldGVGaWxlOihhPWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIHI7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsZigpO2Nhc2UgMjpyZXR1cm4gcj1lLnNlbnQsZS5uZXh0PTUsci5kZWxldGUoIkZJTEVfREFUQSIsIi9kYXRhLyIuY29uY2F0KHQpKTtjYXNlIDU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3Iucih0KTtjb25zdCBuPShlLHQpPT50LnNvbWUodD0+ZSBpbnN0YW5jZW9mIHQpO2xldCBvLGk7Y29uc3QgYT1uZXcgV2Vha01hcCxjPW5ldyBXZWFrTWFwLHU9bmV3IFdlYWtNYXAscz1uZXcgV2Vha01hcCxmPW5ldyBXZWFrTWFwO2xldCBsPXtnZXQoZSx0LHIpe2lmKGUgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbil7aWYoImRvbmUiPT09dClyZXR1cm4gYy5nZXQoZSk7aWYoIm9iamVjdFN0b3JlTmFtZXMiPT09dClyZXR1cm4gZS5vYmplY3RTdG9yZU5hbWVzfHx1LmdldChlKTtpZigic3RvcmUiPT09dClyZXR1cm4gci5vYmplY3RTdG9yZU5hbWVzWzFdP3ZvaWQgMDpyLm9iamVjdFN0b3JlKHIub2JqZWN0U3RvcmVOYW1lc1swXSl9cmV0dXJuIGgoZVt0XSl9LGhhczooZSx0KT0+ZSBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uJiYoImRvbmUiPT09dHx8InN0b3JlIj09PXQpfHx0IGluIGV9O2Z1bmN0aW9uIHAoZSl7cmV0dXJuIGUhPT1JREJEYXRhYmFzZS5wcm90b3R5cGUudHJhbnNhY3Rpb258fCJvYmplY3RTdG9yZU5hbWVzImluIElEQlRyYW5zYWN0aW9uLnByb3RvdHlwZT8oaXx8KGk9W0lEQkN1cnNvci5wcm90b3R5cGUuYWR2YW5jZSxJREJDdXJzb3IucHJvdG90eXBlLmNvbnRpbnVlLElEQkN1cnNvci5wcm90b3R5cGUuY29udGludWVQcmltYXJ5S2V5XSkpLmluY2x1ZGVzKGUpP2Z1bmN0aW9uKC4uLnQpe3JldHVybiBlLmFwcGx5KHYodGhpcyksdCksaChhLmdldCh0aGlzKSl9OmZ1bmN0aW9uKC4uLnQpe3JldHVybiBoKGUuYXBwbHkodih0aGlzKSx0KSl9OmZ1bmN0aW9uKHQsLi4ucil7Y29uc3Qgbj1lLmNhbGwodih0aGlzKSx0LC4uLnIpO3JldHVybiB1LnNldChuLHQuc29ydD90LnNvcnQoKTpbdF0pLGgobil9fWZ1bmN0aW9uIGQoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/cChlKTooZSBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uJiZmdW5jdGlvbihlKXtpZihjLmhhcyhlKSlyZXR1cm47Y29uc3QgdD1uZXcgUHJvbWlzZSgodCxyKT0+e2NvbnN0IG49KCk9PntlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNvbXBsZXRlIixvKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIixpKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFib3J0IixpKX0sbz0oKT0+e3QoKSxuKCl9LGk9KCk9PntyKGUuZXJyb3IpLG4oKX07ZS5hZGRFdmVudExpc3RlbmVyKCJjb21wbGV0ZSIsbyksZS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsaSksZS5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsaSl9KTtjLnNldChlLHQpfShlKSxuKGUsb3x8KG89W0lEQkRhdGFiYXNlLElEQk9iamVjdFN0b3JlLElEQkluZGV4LElEQkN1cnNvcixJREJUcmFuc2FjdGlvbl0pKT9uZXcgUHJveHkoZSxsKTplKX1mdW5jdGlvbiBoKGUpe2lmKGUgaW5zdGFuY2VvZiBJREJSZXF1ZXN0KXJldHVybiBmdW5jdGlvbihlKXtjb25zdCB0PW5ldyBQcm9taXNlKCh0LHIpPT57Y29uc3Qgbj0oKT0+e2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigic3VjY2VzcyIsbyksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsaSl9LG89KCk9Pnt0KGgoZS5yZXN1bHQpKSxuKCl9LGk9KCk9PntyKGUuZXJyb3IpLG4oKX07ZS5hZGRFdmVudExpc3RlbmVyKCJzdWNjZXNzIixvKSxlLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixpKX0pO3JldHVybiB0LnRoZW4odD0+e3QgaW5zdGFuY2VvZiBJREJDdXJzb3ImJmEuc2V0KHQsZSl9KS5jYXRjaCgoKT0+e30pLGYuc2V0KHQsZSksdH0oZSk7aWYocy5oYXMoZSkpcmV0dXJuIHMuZ2V0KGUpO2NvbnN0IHQ9ZChlKTtyZXR1cm4gdCE9PWUmJihzLnNldChlLHQpLGYuc2V0KHQsZSkpLHR9Y29uc3Qgdj1lPT5mLmdldChlKTtmdW5jdGlvbiBtKGUsdCx7YmxvY2tlZDpyLHVwZ3JhZGU6bixibG9ja2luZzpvfT17fSl7Y29uc3QgaT1pbmRleGVkREIub3BlbihlLHQpLGE9aChpKTtyZXR1cm4gbiYmaS5hZGRFdmVudExpc3RlbmVyKCJ1cGdyYWRlbmVlZGVkIixlPT57bihoKGkucmVzdWx0KSxlLm9sZFZlcnNpb24sZS5uZXdWZXJzaW9uLGgoaS50cmFuc2FjdGlvbikpfSksciYmaS5hZGRFdmVudExpc3RlbmVyKCJibG9ja2VkIiwoKT0+cigpKSxvJiZhLnRoZW4oZT0+ZS5hZGRFdmVudExpc3RlbmVyKCJ2ZXJzaW9uY2hhbmdlIixvKSkuY2F0Y2goKCk9Pnt9KSxhfWZ1bmN0aW9uIGcoZSx7YmxvY2tlZDp0fT17fSl7Y29uc3Qgcj1pbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZSk7cmV0dXJuIHQmJnIuYWRkRXZlbnRMaXN0ZW5lcigiYmxvY2tlZCIsKCk9PnQoKSksaChyKS50aGVuKCgpPT52b2lkIDApfXIuZCh0LCJvcGVuREIiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLHIuZCh0LCJkZWxldGVEQiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksci5kKHQsInVud3JhcCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksci5kKHQsIndyYXAiLChmdW5jdGlvbigpe3JldHVybiBofSkpO2NvbnN0IHk9WyJnZXQiLCJnZXRLZXkiLCJnZXRBbGwiLCJnZXRBbGxLZXlzIiwiY291bnQiXSxiPVsicHV0IiwiYWRkIiwiZGVsZXRlIiwiY2xlYXIiXSx3PW5ldyBNYXA7ZnVuY3Rpb24geChlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIElEQkRhdGFiYXNlKXx8dCBpbiBlfHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuO2lmKHcuZ2V0KHQpKXJldHVybiB3LmdldCh0KTtjb25zdCByPXQucmVwbGFjZSgvRnJvbUluZGV4JC8sIiIpLG49dCE9PXIsbz1iLmluY2x1ZGVzKHIpO2lmKCEociBpbihuP0lEQkluZGV4OklEQk9iamVjdFN0b3JlKS5wcm90b3R5cGUpfHwhbyYmIXkuaW5jbHVkZXMocikpcmV0dXJuO2NvbnN0IGk9YXN5bmMgZnVuY3Rpb24oZSwuLi50KXtjb25zdCBpPXRoaXMudHJhbnNhY3Rpb24oZSxvPyJyZWFkd3JpdGUiOiJyZWFkb25seSIpO2xldCBhPWkuc3RvcmU7biYmKGE9YS5pbmRleCh0LnNoaWZ0KCkpKTtjb25zdCBjPWFbcl0oLi4udCk7cmV0dXJuIG8mJmF3YWl0IGkuZG9uZSxjfTtyZXR1cm4gdy5zZXQodCxpKSxpfWw9KGU9Pih7Z2V0Oih0LHIsbik9PngodCxyKXx8ZS5nZXQodCxyLG4pLGhhczoodCxyKT0+ISF4KHQscil8fGUuaGFzKHQscil9KSkobCl9XSl9KSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWZmbXBlZy5taW4uanMubWFw"}]},{"name":"74vip_tool","options":{"awareOfChrome":false,"check_for_updates":true,"comment":"","compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://v.qq.com/x/cover/*","*://v.qq.com/x/page/*","*://www.iqiyi.com/*","*://v.youku.com/v_show/*","*://www.mgtv.com/b/*","*://tv.sohu.com/v/*","*://film.sohu.com/album/*","*://www.le.com/ptv/vplay/*","*://video.tudou.com/v/*","*://v.pptv.com/show/*","https://pan.baidu.com/share/init?surl=*","https://pan.baidu.com/wap/init?surl=*","https://pan.baidu.com/share/init?shareid=*","https://pan.baidu.com/wap/init?shareid=*","https://pan.baidu.com/s/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":["ypsuperkey.meek.com.cn"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"user_interface":"o[]"},"ts":1582339844653},"enabled":true,"position":4,"file_url":"https://raw.githubusercontent.com/91en/91en/master/74vip_tool.js","uuid":"9e6dd5de-47c5-424e-86ae-92a263e7a2c9","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIDc0dmlwX3Rvb2wKLy8gQG5hbWU6ZW4gICAgICAgICAgIDc0dmlwX3Rvb2wKLy8gQG5hbWVzcGFjZSAgICAgICAgIGh0dHBzOi8vNzR2aXAudG9wLwovLyBAdmVyc2lvbiAgICAgICAgICAgMi4wLjQKLy8gQGNoYXJzZXQJCSAgICAgIFVURi04Ci8vIEBkZXNjcmlwdGlvbiAgICAgICDmlK/mjIHohb7orq/op4bpopHjgIHniLHlpYfoibrjgIHkvJjphbfjgIHlnJ/osYbjgIHoipLmnpwgVFbjgIHmkJzni5Dop4bpopHjgIHkuZDop4bop4bpopHjgIFQUFRW562J77yM5pSv5oyB5aSa5Liq6Kej5p6Q5o6l5Y+j5YiH5o2i77yM5pSv5oyB6Ieq5a6a5LmJ5o6l5Y+j77yM5pSv5oyB56uZ5YaF56uZ5aSW6Kej5p6Q77yM5pSv5oyBIFRhbXBlcm1vbmtleeOAgVZpb2xlbnRtb25rZXnjgIFHcmVhc2Vtb25rZXkKLy8gQGRlc2NyaXB0aW9uCSAgICAgIOW6puebmOS4h+iDvemSpeWMme+8jOS6keebmOS4h+iDvemSpeWMmeaJqeWxleaUueaIkCBHTSDohJrmnKwKLy8gQGF1dGhvciAgICAgICAgICAgIDc0dmlwCi8vIEByZXF1aXJlICAgICAgICAgICBodHRwczovL2Nkbi5ib290Y3NzLmNvbS9qcXVlcnkvMS4xMi40L2pxdWVyeS5taW4uanMKLy8gQHJlcXVpcmUgICAgICAgICAgIGh0dHBzOi8vZ3JlYXNlbW9ua2V5LmdpdGh1Yi5pby9nbTQtcG9seWZpbGwvZ200LXBvbHlmaWxsLmpzCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vdi5xcS5jb20veC9jb3Zlci8qCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vdi5xcS5jb20veC9wYWdlLyoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly93d3cuaXFpeWkuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly92LnlvdWt1LmNvbS92X3Nob3cvKgovLyBAbWF0Y2ggICAgICAgICAgICAgKjovL3d3dy5tZ3R2LmNvbS9iLyoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly90di5zb2h1LmNvbS92LyoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly9maWxtLnNvaHUuY29tL2FsYnVtLyoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly93d3cubGUuY29tL3B0di92cGxheS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vdmlkZW8udHVkb3UuY29tL3YvKgovLyBAbWF0Y2ggICAgICAgICAgICAgKjovL3YucHB0di5jb20vc2hvdy8qCi8vIEBtYXRjaAkJICAgICAgaHR0cHM6Ly9wYW4uYmFpZHUuY29tL3NoYXJlL2luaXQ/c3VybD0qCi8vIEBtYXRjaCAgICAgICAJICBodHRwczovL3Bhbi5iYWlkdS5jb20vd2FwL2luaXQ/c3VybD0qCi8vIEBtYXRjaAkJICAgICAgaHR0cHM6Ly9wYW4uYmFpZHUuY29tL3NoYXJlL2luaXQ/c2hhcmVpZD0qCi8vIEBtYXRjaAkJICAgICAgaHR0cHM6Ly9wYW4uYmFpZHUuY29tL3dhcC9pbml0P3NoYXJlaWQ9KgovLyBAbWF0Y2gJCSAgICAgIGh0dHBzOi8vcGFuLmJhaWR1LmNvbS9zLyoKLy8gQGdyYW50ICAgICAgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgICAgICBHTS5vcGVuSW5UYWIKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgICBHTS5nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgICAgIEdNLnNldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudAkJICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQHJ1bi1hdAkJICAgICAgZG9jdW1lbnQtZW5kCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyICQgPSAkIHx8IHdpbmRvdy4kOwogICAgdmFyIGxvZ19jb3VudCA9IDE7CiAgICB2YXIgcGFyc2VJbnRlcmZhY2VMaXN0ID0gW107CiAgICB2YXIgdXNlckludGVyZmFjZUxpc3QgPSBbXTsKICAgIHZhciBvcmlnaW5hbEludGVyZmFjZUxpc3QgPSBbeyJuYW1lIjoi5oCd5Y+k6Kej5p6QIiwidHlwZSI6IuermeWGhSIsInVybCI6Imh0dHBzOi8vYXBpLnNpZ3VqeC5jb20vP3VybD0ifSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyJuYW1lIjoi5LqR6Kej5p6QIiwidHlwZSI6IuermeWGhSIsInVybCI6Imh0dHBzOi8vanguMWZmMS5jbi8/dXJsPSJ9LAoJCQkJCQkJCSB7Im5hbWUiOiLotoXmuIXop6PmnpAiLCJ0eXBlIjoi56uZ5YaFIiwidXJsIjoiaHR0cHM6Ly9jZG4ueWFuZ2p1LnZpcC9rLz91cmw9In0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsibmFtZSI6IueIuOavlOS6kSIsInR5cGUiOiLnq5nlhoUiLCJ1cmwiOiJodHRwczovL2FwaS44Ymp4LmNuLz91cmw9In0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsibmFtZSI6IumrmOenkeaKgCIsInR5cGUiOiLnq5nlhoUiLCJ1cmwiOiJodHRwczovL2p4LmR5LWp4LmNuLz91cmw9In0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsibmFtZSI6IumrmOmAn+ino+aekCIsInR5cGUiOiLnq5nlhoUiLCJ1cmwiOiJodHRwczovL2FwaS55YXRvbmdsZS5jb20vP3VybD0ifSwKCgkJCQkJCQkJIHsibmFtZSI6IuWkp+S6qCIsInR5cGUiOiLnq5nlpJYiLCJ1cmwiOiJodHRwOi8vanguY2VzbXMuY24vP3VybD0ifSwKCQkJCQkJCQkgeyJuYW1lIjoiV29DYW8iLCJ0eXBlIjoi56uZ5aSWIiwidXJsIjoiaHR0cDovL3d3dy53b2Nhby54eXovaW5kZXgucGhwP3VybD0ifSwKCQkJCQkJCQkgeyJuYW1lIjoiNjE4RyIsInR5cGUiOiLnq5nlpJYiLCJ1cmwiOiJodHRwOi8vanguNjE4Zy5jb20vP3VybD0ifSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyJuYW1lIjoi55m+5Z+f6ZiBIiwidHlwZSI6IuermeWkliIsInVybCI6Imh0dHA6Ly9hcGkuYmFpeXVnLnZpcC9pbmRleC5waHA/dXJsPSJ9LAoJCQkJCQkJCSB7Im5hbWUiOiLpu5HkupEiLCJ0eXBlIjoi56uZ5aSWIiwidXJsIjoiaHR0cDovL2p4LmRhaGVpeXVuLmNvbS8/dXJsPSJ9XTsKICAgIC8v6Ieq5a6a5LmJIGxvZyDlh73mlbAKICAgIGZ1bmN0aW9uIG15bG9nKHBhcmFtMSxwYXJhbTIpewogICAgICAgIHBhcmFtMSA9IHBhcmFtMSA/IHBhcmFtMSA6ICIiOwogICAgICAgIHBhcmFtMiA9IHBhcmFtMiA/IHBhcmFtMiA6ICIiOwogICAgICAgIGNvbnNvbGUubG9nKCIjIiArIGxvZ19jb3VudCsrICsgIi1WSVAtbG9nOiIscGFyYW0xLHBhcmFtMik7CiAgICB9CgogICAgZnVuY3Rpb24gaW5uZXJQYXJzZSh1cmwpewogICAgICAgICQoIiNpZnJhbWUtcGxheWVyIikuYXR0cigic3JjIix1cmwpOwogICAgfQoKICAgIGZ1bmN0aW9uIEdNb3BlbkluVGFiKHVybCxvcGVuX2luX2JhY2tncm91bmQpewogICAgICAgIGlmKHR5cGVvZiBHTV9vcGVuSW5UYWIgPT09ICJmdW5jdGlvbiIpewogICAgICAgICAgICBHTV9vcGVuSW5UYWIodXJsLG9wZW5faW5fYmFja2dyb3VuZCk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIEdNLm9wZW5JblRhYih1cmwsb3Blbl9pbl9iYWNrZ3JvdW5kKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gR01nZXRWYWx1ZShuYW1lLHZhbHVlKXsKICAgICAgICBpZih0eXBlb2YgR01fZ2V0VmFsdWUgPT09ICJmdW5jdGlvbiIpewogICAgICAgICAgICByZXR1cm4gR01fZ2V0VmFsdWUobmFtZSx2YWx1ZSk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHJldHVybiBHTS5nZXRWYWx1ZShuYW1lLHZhbHVlKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gR01zZXRWYWx1ZShuYW1lLHZhbHVlKXsKICAgICAgICBpZih0eXBlb2YgR01fc2V0VmFsdWUgPT09ICJmdW5jdGlvbiIpewogICAgICAgICAgICBHTV9zZXRWYWx1ZShuYW1lLHZhbHVlKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgR00uc2V0VmFsdWUobmFtZSx2YWx1ZSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIEdNYWRkU3R5bGUoY3NzKXsKICAgICAgICB2YXIgbXlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgbXlTdHlsZS50ZXh0Q29udGVudCA9IGNzczsKICAgICAgICB2YXIgZG9jID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgZG9jLmFwcGVuZENoaWxkKG15U3R5bGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNob3dTZXR0aW5nKCl7CiAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ppZXhpLXNldHRpbmcnKSA9PSBudWxsKXsKICAgICAgICAgICAgR01hZGRTdHlsZShgCiAgICAgICAgICAgICAgICAgICAgICAgI2ppZXhpLXNldHRpbmcgbGVnZW5kLHRhYmxlLHRhYmxlIHRoLHRke3RleHQtYWxpZ246Y2VudGVyO30KICAgICAgICAgICAgICAgICAgICAgICBgKTsKICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICBjb250YWluZXIuaWQgPSAiamlleGktc2V0dGluZyI7CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZSA9ICJwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjIxNDc0ODM2NDc7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0b3A6MDtsZWZ0OjA7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuNSk7IjsKICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9CiAgICAgICAgICAgICAgICAiPGRpdiBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NTAwcHg7aGVpZ2h0OjMwMHB4O3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTI1MHB4O21hcmdpbi10b3A6LTE1MHB4O3BhZGRpbmc6MTBweDtiYWNrZ3JvdW5kLWNvbG9yOiMyNDI0MjQ7Y29sb3I6d2hpdGU7Zm9udC1zaXplOjE0cHg7Jz4iICsKICAgICAgICAgICAgICAgICI8ZGl2IGlkPSdjYW5jZWwtYnV0dG9uJyBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOi0xNXB4O3JpZ2h0Oi04cHg7Zm9udC1zaXplOjIwcHg7Y3Vyc29yOnBvaW50ZXI7Jz7ilbM8L2Rpdj4iICsKICAgICAgICAgICAgICAgICI8bGVnZW5kIHN0eWxlPSdmb250LXNpemU6MTZweDtjb2xvcjojZmZmO21hcmdpbjphdXRvOyc+VklQIOino+aekOiuvue9rjwvbGVnZW5kPiIgKwogICAgICAgICAgICAgICAgIjx0YWJsZSBpZD0naW50ZXJmYWNlLXRhYmxlJyBzdHlsZT0nbGluZS1oZWlnaHQ6MzBweDttYXJnaW46MCBhdXRvOyc+PHRyPjx0aD7mjqXlj6PlkI3np7A8L3RoPjx0aD7mjqXlj6PlnLDlnYA8L3RoPjx0aD7mjqXlj6Pnsbvlnos8L3RoPjx0aD7mk43kvZw8L3RoPjwvdHI+IiArCiAgICAgICAgICAgICAgICAiPHRyPjx0ZD48aW5wdXQgdHlwZT0ndGV4dCcgaWQ9J2ludGVyZmFjZS1uYW1lJyBuYW1lPSdpbnRlcmZhY2UtbmFtZScgcGxhY2Vob2xkZXI9J+aOpeWPo+aYvuekuuWQjeensCcgc3R5bGU9J2JvcmRlcjowO3dpZHRoOjEwMHB4O21hcmdpbi1yaWdodDoxMHB4Oyc+PC9pbnB1dD48L3RkPiIgKwogICAgICAgICAgICAgICAgIjx0ZD48aW5wdXQgdHlwZT0ndGV4dCcgaWQ9J2ludGVyZmFjZS11cmwnIG5hbWU9J2ludGVyZmFjZS11cmwnIHBsYWNlaG9sZGVyPSfmjqXlj6PlnLDlnYDlv4XpobvljIXlkKsgaHR0cCDmiJYgaHR0cHMnIHN0eWxlPSdib3JkZXI6MDt3aWR0aDoyMDBweDttYXJnaW4tcmlnaHQ6MTBweDsnPjwvaW5wdXQ+PC90ZD4iICsKICAgICAgICAgICAgICAgICI8dGQ+PGxhYmVsIHRpdGxlPSfnq5nlhoUnIHN0eWxlPSdtYXJnaW4tcmlnaHQ6NXB4Oyc+PGlucHV0IGlkPSdpbnRlcmZhY2UtdHlwZS1pbicgbmFtZT0naW50ZXJmYWNlLXR5cGUnIHZhbHVlPSfnq5nlhoUnIHR5cGU9J3JhZGlvJyBzdHlsZT0nbWFyZ2luOjAgNXB4Oyc+PC9pbnB1dD7nq5nlhoU8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgIjxsYWJlbCB0aXRsZT0n56uZ5aSWJyBzdHlsZT0nbWFyZ2luLXJpZ2h0OjEwcHg7Jz48aW5wdXQgaWQ9J2ludGVyZmFjZS10eXBlLW91dCcgbmFtZT0naW50ZXJmYWNlLXR5cGUnIHZhbHVlPSfnq5nlpJYnIHR5cGU9J3JhZGlvJyBzdHlsZT0nbWFyZ2luOjAgNXB4OycgY2hlY2tlZD48L2lucHV0PuermeWkljwvbGFiZWw+PC90ZD4iICsKICAgICAgICAgICAgICAgICI8dGQ+PGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J+WinuWKoCcgaWQ9J3NhdmVfYnV0dG9uJyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjEycHg7YmFja2dyb3VuZC1jb2xvcjojMjQyNDI0O2NvbG9yOndoaXRlO2JvcmRlcjoxcHggc29saWQgI2NjYztib3JkZXItcmFkaXVzOjVweDtwYWRkaW5nOjJweCA2cHg7Jz48L2lucHV0PjwvdGQ+PC90cj4iICsKICAgICAgICAgICAgICAgICI8L3RhYmxlPjwvZGl2PiI7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTsKICAgICAgICAgICAgaWYodXNlckludGVyZmFjZUxpc3QubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICB1c2VySW50ZXJmYWNlTGlzdC5mb3JFYWNoKChpdGVtLGluZGV4KT0+ewogICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmZhY2Vfcm93ID0gJCgiPHRyPjx0ZD4iICsgaXRlbS5uYW1lICsgIjwvdGQ+PHRkPiIgKyBpdGVtLnVybCArICI8L3RkPjx0ZD4iICsgaXRlbS50eXBlICsgIjwvdGQ+PHRkPjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSfliKDpmaQnIGNsYXNzPSdkZWxldGUtYnV0dG9uJyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjEycHg7YmFja2dyb3VuZC1jb2xvcjojMjQyNDI0O2NvbG9yOndoaXRlO2JvcmRlcjoxcHggc29saWQgI2NjYztib3JkZXItcmFkaXVzOjVweDtwYWRkaW5nOjJweCA2cHg7Jz48L2lucHV0PjwvdGQ+Iik7CiAgICAgICAgICAgICAgICAgICAgJCgiI2ludGVyZmFjZS10YWJsZSIpLmFwcGVuZChpbnRlcmZhY2Vfcm93KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICQoIiNjYW5jZWwtYnV0dG9uIikuY2xpY2soKCk9PnsKICAgICAgICAgICAgJCgiI2ppZXhpLXNldHRpbmciKS5yZW1vdmUoKTsKICAgICAgICB9KTsKICAgICAgICAkKCIjc2F2ZV9idXR0b24iKS5jbGljaygoKT0+ewogICAgICAgICAgICB2YXIgaW50ZXJmYWNlX25hbWUgPSAkKCJpbnB1dFtuYW1lPSdpbnRlcmZhY2UtbmFtZSddIikudmFsKCkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpOwogICAgICAgICAgICB2YXIgaW50ZXJmYWNlX3VybCA9ICQoImlucHV0W25hbWU9J2ludGVyZmFjZS11cmwnXSIpLnZhbCgpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKTsKICAgICAgICAgICAgdmFyIGludGVyZmFjZV90eXBlID0gJCgnaW5wdXRbbmFtZT0iaW50ZXJmYWNlLXR5cGUiXTpjaGVja2VkJykudmFsKCk7CiAgICAgICAgICAgIHZhciBzYXZlT3JOb3QgPSB0cnVlOwogICAgICAgICAgICBpZihpbnRlcmZhY2VfbmFtZSA9PSAiIil7CiAgICAgICAgICAgICAgICBhbGVydCgi6K+36L6T5YWl5o6l5Y+j5ZCN56ewIik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoaW50ZXJmYWNlX3VybCA9PSAiIil7CiAgICAgICAgICAgICAgICBhbGVydCgiIOivt+i+k+WFpeaOpeWPo+WcsOWdgCIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGludGVyZmFjZV91cmwuaW5kZXhPZigiaHR0cCIpICE9IDApewogICAgICAgICAgICAgICAgYWxlcnQoIiDor7fovpPlhaXku6UgaHR0cCDmiJYgaHR0cHMg5byA5aS055qE5o6l5Y+j5Zyw5Z2AIik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoaW50ZXJmYWNlX3R5cGUgPT0gIuermeWGhSIgJiYgaW50ZXJmYWNlX3VybC5pbmRleE9mKCJodHRwcyIpICE9IDApewogICAgICAgICAgICAgICAgYWxlcnQoIuermeWGheino+aekOWPquaUr+aMgeS7pSBodHRwcyDlvIDlpLTnmoTmjqXlj6PlnLDlnYDvvIzor7fkv67mlLnmjqXlj6PnsbvlnosiKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB1c2VySW50ZXJmYWNlTGlzdC5mb3JFYWNoKChpdGVtLGluZGV4KT0+ewogICAgICAgICAgICAgICAgaWYoaW50ZXJmYWNlX25hbWUgPT0gaXRlbS5uYW1lKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi5bey5a2Y5Zyo5ZCM5ZCN5o6l5Y+j77yM6K+35L+u5pS55o6l5Y+j5ZCN56ewIik7CiAgICAgICAgICAgICAgICAgICAgc2F2ZU9yTm90ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZihzYXZlT3JOb3QpewogICAgICAgICAgICAgICAgc2F2ZU9yTm90ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB2YXIgbmV3X2ludGVyZmFjZSA9IHsibmFtZSI6aW50ZXJmYWNlX25hbWUsInVybCI6aW50ZXJmYWNlX3VybCwidHlwZSI6aW50ZXJmYWNlX3R5cGV9OwogICAgICAgICAgICAgICAgdXNlckludGVyZmFjZUxpc3QucHVzaChuZXdfaW50ZXJmYWNlKTsKICAgICAgICAgICAgICAgIEdNc2V0VmFsdWUoInVzZXJfaW50ZXJmYWNlIix1c2VySW50ZXJmYWNlTGlzdCk7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgICQoIi5kZWxldGUtYnV0dG9uIikuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsKCk9PnsKICAgICAgICAgICAgICAgICB2YXIgZGVsZXRlX2l0ZW1fbmFtZSA9IGl0ZW0ucGFyZW50Tm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQuaW5uZXJIVE1MOwogICAgICAgICAgICAgICAgdXNlckludGVyZmFjZUxpc3QuZm9yRWFjaCgoaXRlbSxpbmRleCk9PnsKICAgICAgICAgICAgICAgICAgICBpZihkZWxldGVfaXRlbV9uYW1lID09IGl0ZW0ubmFtZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmZhY2VMaXN0LnNwbGljZShpbmRleCwxKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIEdNc2V0VmFsdWUoInVzZXJfaW50ZXJmYWNlIix1c2VySW50ZXJmYWNlTGlzdCk7CiAgICAgICAgICAgICAgICAkKGl0ZW0ucGFyZW50Tm9kZS5wYXJlbnROb2RlKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICQoImxpIikuZWFjaCgoaW5kZXgsbGlfaXRlbSk9PnsKICAgICAgICAgICAgICAgICAgICBpZihsaV9pdGVtLmlubmVySFRNTC5pbmRleE9mKGRlbGV0ZV9pdGVtX25hbWUpID4gLTEpewogICAgICAgICAgICAgICAgICAgICAgICAkKGxpX2l0ZW0pLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgi6Ieq5a6a5LmJIFZJUCDop4bpopHop6PmnpDmjqXlj6MiLHNob3dTZXR0aW5nKTsKICAgICAgICB1c2VySW50ZXJmYWNlTGlzdCA9IEdNZ2V0VmFsdWUoInVzZXJfaW50ZXJmYWNlIixbXSk7CiAgICAgICAgaWYodXNlckludGVyZmFjZUxpc3QubGVuZ3RoID4gMCl7CiAgICAgICAgICAgIHBhcnNlSW50ZXJmYWNlTGlzdCA9IHBhcnNlSW50ZXJmYWNlTGlzdC5jb25jYXQob3JpZ2luYWxJbnRlcmZhY2VMaXN0LHVzZXJJbnRlcmZhY2VMaXN0KTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgcGFyc2VJbnRlcmZhY2VMaXN0ID0gb3JpZ2luYWxJbnRlcmZhY2VMaXN0OwogICAgICAgIH0KICAgICAgICB2YXIgaW5uZXJMaXN0ID0gW10sb3V0ZXJMaXN0ID0gW107CiAgICAgICAgdmFyIGlubmVybGkgPSAiIixvdXRlcmxpID0gIiI7CiAgICAgICAgcGFyc2VJbnRlcmZhY2VMaXN0LmZvckVhY2goKGl0ZW0saW5kZXgpPT57CiAgICAgICAgICAgIGlmKGl0ZW0udHlwZSA9PSAi56uZ5YaFIil7CiAgICAgICAgICAgICAgICBpbm5lckxpc3QucHVzaChpdGVtKTsKICAgICAgICAgICAgICAgIGlubmVybGkgKz0gIjxsaT4iICsgaXRlbS5uYW1lICsgIjwvbGk+IjsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBvdXRlckxpc3QucHVzaChpdGVtKTsKICAgICAgICAgICAgICAgIG91dGVybGkgKz0gIjxsaT4iICsgaXRlbS5uYW1lICsgIjwvbGk+IjsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHBhcnNlSW50ZXJmYWNlTGlzdCA9IGlubmVyTGlzdC5jb25jYXQob3V0ZXJMaXN0KTsKICAgICAgICB2YXIgamlleGlESVYgPSAiPGRpdiBzdHlsZT0nZGlzcGxheTpmbGV4Oyc+PGRpdiBzdHlsZT0nd2lkdGg6MTgwcHg7cGFkZGluZzoxMHB4IDA7Jz48ZGl2IHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojY2NjY2NjO2xpbmUtaGVpZ2h0OjIwcHg7Jz7nq5nlhoXop6PmnpA8L2Rpdj4iICsKICAgICAgICAgICAgIjx1bCBzdHlsZT0nbWFyZ2luOjAgMTBweDsnPiIgKyBpbm5lcmxpICsgIjxkaXYgc3R5bGU9J2NsZWFyOmJvdGg7Jz48L2Rpdj48L3VsPjwvYnI+PGRpdiBzdHlsZT0ndGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6I2NjY2NjYztsaW5lLWhlaWdodDoyMHB4Oyc+56uZ5aSW6Kej5p6QPC9kaXY+IiArCiAgICAgICAgICAgICI8dWwgc3R5bGU9J21hcmdpbjowIDEwcHg7Jz4iICsgb3V0ZXJsaSArICI8ZGl2IHN0eWxlPSdjbGVhcjpib3RoOyc+PC9kaXY+PC91bD48L2Rpdj48ZGl2IHN0eWxlPSdtYXJnaW46YXV0bzsnPjxpbWcgc3R5bGU9J3dpZHRoOjIwMHB4Oycgc3JjPSdodHRwczovL3MyLmF4MXguY29tLzIwMjAvMDIvMjIvM01XRnRzLnBuZyc+PC9kaXY+PC9kaXY+IjsKICAgICAgICB2YXIgdmlkZW9QbGF5ZXIgPSAkKCI8ZGl2IGlkPSdpZnJhbWUtZGl2JyBzdHlsZT0nd2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt6LWluZGV4OjIxNDc0ODM2NDc7Jz48aWZyYW1lIGlkPSdpZnJhbWUtcGxheWVyJyBmcmFtZWJvcmRlcj0nMCcgYWxsb3dmdWxsc2NyZWVuPSd0cnVlJyB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJz48L2lmcmFtZT48L2Rpdj4iKTsKICAgICAgICBpZiAobG9jYXRpb24uaHJlZi5pbmRleE9mKCJ3d3cuaXFpeWkuY29tIikgPiAtMSl7CiAgICAgICAgICAgIEdNYWRkU3R5bGUoYC5mbi1pcWl5aS1qaWV4aSBsaXtjb2xvcjojY2NjY2NjO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjYwcHg7bGluZS1oZWlnaHQ6MjBweDtmbG9hdDpsZWZ0O2JvcmRlcjoxcHggc29saWQgZ3JheTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjAgNHB4O21hcmdpbjo0cHggMnB4O31gKTsKICAgICAgICAgICAgdmFyIGlxaXlpX2ppZXhpID0gJCgiPGRpdiBjbGFzcz0nZnVuYy1pdGVtJz48c3BhbiBjbGFzcz0nZnVuYy1pbm5lciBmbi1pcWl5aS1qaWV4aS10ZXh0JyBzdHlsZT0nbGluZS1oZWlnaHQ6MjVweDsnPjxzcGFuIGNsYXNzPSdmdW5jLW5hbWUnPuino+aekDwvc3Bhbj48L3NwYW4+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIjxkaXYgY2xhc3M9J3F5LWZ1bmMtamlleGktcG9wIGZuLWlxaXlpLWppZXhpJyBzdHlsZT0nZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTUwcHg7dGV4dC1hbGlnbjpjZW50ZXI7ei1pbmRleDoyMTQ3NDgzNjQ3Oyc+PGRpdiBjbGFzcz0ncXktcG9wdXAtYm94JyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMmUyZTJlO2JvcmRlcjoxcHggc29saWQgZ3JheTsnPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGppZXhpRElWICsgIjwvZGl2PjwvZGl2PjwvZGl2PiIpOwogICAgICAgICAgICB2YXIgYWRkQnV0dG9uTG9vcCA9IHNldEludGVydmFsKCgpPT57CiAgICAgICAgICAgICAgICBpZigkKCIuZnVuYy1saWtlLXYxIikuaXMoIjp2aXNpYmxlIikgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImZuLWlxaXlpLWppZXhpIilbMF0pewogICAgICAgICAgICAgICAgICAgIHZhciBxeV9mbGFzaF9mdW5jID0gJCgiLnF5LWZsYXNoLWZ1bmMiKTsKICAgICAgICAgICAgICAgICAgICBxeV9mbGFzaF9mdW5jLnByZXBlbmQoaXFpeWlfamlleGkpOwogICAgICAgICAgICAgICAgICAgICQoIi5mbi1pcWl5aS1qaWV4aS10ZXh0IikuY2xpY2soKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlmcmFtZS1wbGF5ZXIiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJjdXBpZC1wdWJsaWMtdGltZSIpWzBdICE9IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImN1cGlkLXB1YmxpYy10aW1lIilbMF0uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbGFzaGJveCA9ICQoIiNmbGFzaGJveCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhc2hib3guYXR0cigiei1pbmRleCIsIjQwMCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhc2hib3guZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXNoYm94LmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbMF0udXJsICsgbG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgJCgiLmZuLWlxaXlpLWppZXhpIGxpIikuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5vbignbW91c2VvdmVyJywoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2N1cnNvcicsJ3BvaW50ZXInKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjb2xvcicsJyMwMWJlMDcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ21vdXNlb3V0JywoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnI2NjY2NjYycpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5vbignY2xpY2snLCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnR5cGUgPT0gIuermeWGhSIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJjdXBpZC1wdWJsaWMtdGltZSIpWzBdICE9IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiY3VwaWQtcHVibGljLXRpbWUiKVswXS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbGFzaGJveCA9ICQoIiNmbGFzaGJveCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFzaGJveC5hdHRyKCJ6LWluZGV4IiwiNDAwIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXNoYm94LmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXNoYm94LmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNb3BlbkluVGFiKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udXJsICsgbG9jYXRpb24uaHJlZixmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYWRkQnV0dG9uTG9vcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sMTAwMCk7CiAgICAgICAgICAgIGlxaXlpX2ppZXhpLm9uKCJtb3VzZW92ZXIiLCgpPT57CiAgICAgICAgICAgICAgICAkKCIucXktZnVuYy1qaWV4aS1wb3AiKS5zaG93KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpcWl5aV9qaWV4aS5vbigibW91c2VvdXQiLCgpPT57CiAgICAgICAgICAgICAgICAkKCIucXktZnVuYy1qaWV4aS1wb3AiKS5oaWRlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgaXFpeWlfamlleGlfbmV3ID0gJCgiPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDtjb2xvcjojOTk5O2N1cnNvcjpwb2ludGVyOyc+PHNwYW4gY2xhc3M9J2Z1bmMtbmFtZSc+6Kej5p6QPC9zcGFuPjwvZGl2PiIpOwogICAgICAgICAgICB2YXIgZnVuY1JpZ2h0ID0gJCgiLmZ1bmNSaWdodCIpOwogICAgICAgICAgICBmdW5jUmlnaHQucHJlcGVuZChpcWl5aV9qaWV4aV9uZXcpOwogICAgICAgICAgICBpcWl5aV9qaWV4aV9uZXcuY2xpY2soKCk9PnsKICAgICAgICAgICAgICAgIHZhciB2aXBGbG9hdGJnQ2xzID0gJCgiLnZpcEZsb2F0YmdDbHMiKS5wYXJlbnQoKTsKICAgICAgICAgICAgICAgICQodmlwRmxvYXRiZ0NscykuY3NzKCJkaXNwbGF5Iiwibm9uZSIpOwogICAgICAgICAgICAgICAgJCgiLkpfcGxheS11bmRlckZyYW1lIikuY3NzKCJkaXNwbGF5Iiwibm9uZSIpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidXNyVHgtcmVnaXN0ZXIiKVswXS5xdWVyeVNlbGVjdG9yKCJhIikuY2xpY2soKQogICAgICAgICAgICAgICAgJCgiI2ZsYXNoYm94IikuZW1wdHkoKTsKICAgICAgICAgICAgICAgICQoIiNmbGFzaGJveCIpLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpcWl5aV9qaWV4aV9uZXcub24oIm1vdXNlb3ZlciIsKCk9PnsKICAgICAgICAgICAgICAgIGlxaXlpX2ppZXhpX25ldy5jc3MoImNvbG9yIiwiIzZiYTQzMCIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaXFpeWlfamlleGlfbmV3Lm9uKCJtb3VzZW91dCIsKCk9PnsKICAgICAgICAgICAgICAgIGlxaXlpX2ppZXhpX25ldy5jc3MoImNvbG9yIiwiIzk5OSIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2V0SW50ZXJ2YWwoKCk9PnsKICAgICAgICAgICAgICAgIGlmKCQoIi5xeS1wbGF5ZXItdmlwcGF5LXBvcHVwIikgIT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHF5X3BsYXllcl92aXBwYXlfcG9wdXAgPSAkKCIucXktcGxheWVyLXZpcHBheS1wb3B1cCIpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgICAgICQocXlfcGxheWVyX3ZpcHBheV9wb3B1cCkuY3NzKCJkaXNwbGF5Iiwibm9uZSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIGRpdiA9ICQoImJvZHkiKS5jaGlsZHJlbigiZGl2Iik7CiAgICAgICAgICAgICAgICBkaXYuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCQoaXRlbSkuY3NzKCJwb3NpdGlvbiIpID09PSAiZml4ZWQiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaXRlbSkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9Y2F0Y2goZXJyKXsKICAgICAgICAgICAgICAgICAgICAgICAgbXlsb2coZXJyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSw1MDApOwogICAgICAgIH1lbHNlIGlmKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigidi5xcS5jb20iKSA+IC0xKXsKICAgICAgICAgICAgdmFyIHR5cGVfbmFtZSA9IHVuc2FmZVdpbmRvdy5DT1ZFUl9JTkZPLnR5cGVfbmFtZTsKICAgICAgICAgICAgdmFyIHZpcFBhZ2UgPSB1bnNhZmVXaW5kb3cuQ09WRVJfSU5GTy52aXBQYWdlOwogICAgICAgICAgICB2YXIgbW9kX3BsYXllcjsKICAgICAgICAgICAgaWYodHlwZV9uYW1lID09PSAi55S15b2xIil7CiAgICAgICAgICAgICAgICB2YXIgbGlzdF9pdGVtID0gJCgiLm1vZF9maWd1cmVfbGlzdCAubGlzdF9pdGVtIik7CiAgICAgICAgICAgICAgICBsaXN0X2l0ZW0uZWFjaChmdW5jdGlvbihpbmRleCxpdGVtKXsKICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9ZWxzZSBpZih0eXBlX25hbWUgPT09ICLnlLXop4bliaciIHx8IHR5cGVfbmFtZSA9PT0gIuWKqOa8qyIpewogICAgICAgICAgICAgICAgdmFyIHNlbGVjdF9pdGVtcyA9ICQoJy5tb2RfZXBpc29kZSAuaXRlbScpOwogICAgICAgICAgICAgICAgc2VsZWN0X2l0ZW1zLmVhY2goZnVuY3Rpb24oaW5kZXgsaXRlbSl7CiAgICAgICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciBtb2RfZXBpc29kZV9maWx0ZXIgPSAkKCIubW9kX2VwaXNvZGVfZmlsdGVyIik7CiAgICAgICAgICAgICAgICBtb2RfZXBpc29kZV9maWx0ZXIuY2xpY2soKCk9PnsKICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0X2l0ZW1zID0gJCgnLm1vZF9lcGlzb2RlIC5pdGVtJyk7CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0X2l0ZW1zLmVhY2goZnVuY3Rpb24oaW5kZXgsaXRlbSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LDEwMDApOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhY3Rpb25fZ2lmdCIpWzBdKSB7IC8vIOS4uuS6humBv+WFjeaYvuekuuepuumXtOS4jei2s++8jOenu+mZpOi1oOeJh+aMiemSrgogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYWN0aW9uX2dpZnQiKVswXS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYWN0aW9uX21vcmUiKVswXSkgeyAvLyDkuLrkuobpgb/lhY3mmL7npLrnqbrpl7TkuI3otrPvvIznp7vpmaTkuL7miqXmjInpkq4KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImFjdGlvbl9tb3JlIilbMF0ucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGFjdGlvbl93cmFwID0gJCgiLmFjdGlvbl93cmFwIik7CiAgICAgICAgICAgIEdNYWRkU3R5bGUoYC5mbi1xcS1qaWV4aSBsaXt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDo2MHB4O2xpbmUtaGVpZ2h0OjIwcHg7ZmxvYXQ6bGVmdDtib3JkZXI6MXB4IHNvbGlkIGdyYXk7Ym9yZGVyLXJhZGl1czo4cHg7cGFkZGluZzowIDRweDttYXJnaW46NHB4IDJweDt9YCk7CiAgICAgICAgICAgIHZhciBxcV9qaWV4aSA9ICQoIjxkaXYgaWQ9J3FxLWppZXhpLWJ0bicgY2xhc3M9J2FjdGlvbl9pdGVtIGFjdGlvbl9qaWV4aScgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlOyc+PGEgY2xhc3M9J2FjdGlvbl90aXRsZSBmbi1xcS1qaWV4aS10ZXh0Jz48c3Bhbj7op6PmnpA8L3NwYW4+PC9hPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICI8ZGl2IGNsYXNzPSdtb2RfcG9wX2FjdGlvbiBmbi1xcS1qaWV4aScgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IzJlMmUyZTt3aWR0aDphdXRvO2xlZnQ6LTUwcHg7Ym9yZGVyOjFweCBzb2xpZCBncmF5Oyc+IiArIGppZXhpRElWICsgIjwvZGl2PjwvZGl2PiIpOwogICAgICAgICAgICBhY3Rpb25fd3JhcC5hcHBlbmQocXFfamlleGkpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXEtamlleGktYnRuIikuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwoKT0+ewogICAgICAgICAgICAgICAgJCgiLmFjdGlvbl9qaWV4aSIpLnRvZ2dsZUNsYXNzKCJvcGVuIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXEtamlleGktYnRuIikuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCgpPT57CiAgICAgICAgICAgICAgICAkKCIuYWN0aW9uX2ppZXhpIikudG9nZ2xlQ2xhc3MoIm9wZW4iKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImZuLXFxLWppZXhpLXRleHQiKVswXS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsKCk9PnsKICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHR4cF9hZF9za2lwX3RleHQgPSAkKCIudHhwX2FkX2lubmVyIC50eHBfYWRfc2tpcF90ZXh0Iik7CiAgICAgICAgICAgICAgICAgICAgaWYodHhwX2FkX3NraXBfdGV4dC50ZXh0KCkgPT09ICJWSVDlj6/lhbPpl63lub/lkYoiKXsKICAgICAgICAgICAgICAgICAgICAgICAgdHhwX2FkX3NraXBfdGV4dC5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyID0gJCgiI21vZF9wbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgbW9kX3BsYXllci5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodHhwX2FkX3NraXBfdGV4dC50ZXh0KCkgPT09ICLlhbPpl63lub/lkYoiKXsKICAgICAgICAgICAgICAgICAgICAgICAgdHhwX2FkX3NraXBfdGV4dC5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHZpcFBhZ2UgPT09IHRydWUpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHhwX2J0bl9wbGF5ID0gJCgiLnR4cF9sZWZ0X2NvbnRyb2xzIC50eHBfYnRuX3BsYXkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYodHhwX2J0bl9wbGF5LmF0dHIoImRhdGEtc3RhdHVzIikgPT09ICJwYXVzZSIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhwX2J0bl9wbGF5LmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbW9kX3BsYXllciA9ICQoIiNtb2RfcGxheWVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgIG1vZF9wbGF5ZXIuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgbW9kX3BsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0WzBdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiLmZuLXFxLWppZXhpIGxpIikuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywoKT0+ewogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjdXJzb3InLCdwb2ludGVyJyk7CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnI2ZlNjUyNycpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywoKT0+ewogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjb2xvcicsJyM5OTk5OTknKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PnsKICAgICAgICAgICAgICAgICAgICBpZihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnR5cGUgPT0gIuermeWGhSIpewogICAgICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWZyYW1lLXBsYXllciIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR4cF9hZF9za2lwX3RleHQgPSAkKCIudHhwX2FkX2lubmVyIC50eHBfYWRfc2tpcF90ZXh0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0eHBfYWRfc2tpcF90ZXh0LnRleHQoKSA9PT0gIlZJUOWPr+WFs+mXreW5v+WRiiIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4cF9hZF9za2lwX3RleHQuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyID0gJCgiI21vZF9wbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kX3BsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodHhwX2FkX3NraXBfdGV4dC50ZXh0KCkgPT09ICLlhbPpl63lub/lkYoiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eHBfYWRfc2tpcF90ZXh0LmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih2aXBQYWdlID09PSB0cnVlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHhwX2J0bl9wbGF5ID0gJCgiLnR4cF9sZWZ0X2NvbnRyb2xzIC50eHBfYnRuX3BsYXkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0eHBfYnRuX3BsYXkuYXR0cigiZGF0YS1zdGF0dXMiKSA9PT0gInBhdXNlIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4cF9idG5fcGxheS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyID0gJCgiI21vZF9wbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kX3BsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgR01vcGVuSW5UYWIocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNldEludGVydmFsKCgpPT57CiAgICAgICAgICAgICAgICAkKCIudHZpcF9sYXllciIpLmNzcygiZGlzcGxheSIsIm5vbmUiKTsKICAgICAgICAgICAgICAgICQoIiNtYXNrX2xheWVyIikuY3NzKCJkaXNwbGF5Iiwibm9uZSIpOwogICAgICAgICAgICB9LDUwMCk7CiAgICAgICAgfWVsc2UgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKCJ2LnlvdWt1LmNvbSIpID4gLTEpewogICAgICAgICAgICBzZXRJbnRlcnZhbCgoKT0+ewogICAgICAgICAgICAgICAgJCgiLnlrLWRtdHh0Ym94IikuY3NzKCJ3aWR0aCIsIjMwMHB4Iik7CiAgICAgICAgICAgIH0sMTAwMCk7CiAgICAgICAgICAgIEdNYWRkU3R5bGUoYC5mbi15b3VrdS1qaWV4aSBsaXtjb2xvcjojY2NjY2NjO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjYwcHg7bGluZS1oZWlnaHQ6MjBweDtmbG9hdDpsZWZ0O2JvcmRlcjoxcHggc29saWQgZ3JheTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjAgNHB4O21hcmdpbjo0cHggMnB4O2ZvbnQtc2l6ZToxMnB4O31gKTsKICAgICAgICAgICAgdmFyIGJwbW9kdWxlX3BsYXlwYWdlX3BhY3Rpb24gPSAkKCIucGxheS1mbiIpOwogICAgICAgICAgICB2YXIgeW91a3VfamlleGkgPSAkKCI8bGkgY2xhc3M9J3BsYXktZm4tbGkgZm4teW91a3UtamlleGknPjwvaT48c3BhbiBjbGFzcz0ndGV4dCBmbi15b3VrdS1qaWV4aS10ZXh0Jz7op6PmnpA8L3NwYW4+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIjxkaXYgY2xhc3M9J2ZuLXBhbmVsJyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMmUyZTJlO21pbi13aWR0aDoxMDBweDt3aWR0aDphdXRvO2JvcmRlcjoxcHggc29saWQgZ3JheTsnPiIgKyBqaWV4aURJViArICI8L2Rpdj48L2xpPiIpOwogICAgICAgICAgICBicG1vZHVsZV9wbGF5cGFnZV9wYWN0aW9uLmFwcGVuZCh5b3VrdV9qaWV4aSk7CiAgICAgICAgICAgICQoIi5mbi15b3VrdS1qaWV4aS10ZXh0IikuY2xpY2soKCk9PnsKICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHlrUGxheWVyID0gJCgiI3lrUGxheWVyIik7CiAgICAgICAgICAgICAgICAgICAgeWtQbGF5ZXIuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICB5a1BsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICQoIiNtb2R1bGVfYmFzaWNfcGxheWVyIikuY3NzKCJ3aWR0aCIsIjEwMCUiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWVyID0gJCgiI3BsYXllciIpOwogICAgICAgICAgICAgICAgICAgIHBsYXllci5jc3MoIndpZHRoIiwiMTAwJSIpOwogICAgICAgICAgICAgICAgICAgIHBsYXllci5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgIHBsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbMF0udXJsICsgbG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIuZm4teW91a3UtamlleGkgbGkiKS5lYWNoKChpbmRleCxpdGVtKT0+ewogICAgICAgICAgICAgICAgJChpdGVtKS5vbignbW91c2VvdmVyJywoKT0+ewogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjdXJzb3InLCdwb2ludGVyJyk7CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnIzI1OTJmZicpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdtb3VzZW91dCcsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY29sb3InLCcjY2NjY2NjJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ2NsaWNrJywoKT0+ewogICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udHlwZSA9PSAi56uZ5YaFIil7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWtQbGF5ZXIgPSAkKCIjeWtQbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlrUGxheWVyLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5a1BsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiI21vZHVsZV9iYXNpY19wbGF5ZXIiKS5jc3MoIndpZHRoIiwiMTAwJSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXllciA9ICQoIiNwbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5jc3MoIndpZHRodCIsIjEwMCUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBHTW9wZW5JblRhYihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSBpZihsb2NhdGlvbi5ocmVmLmluZGV4T2YoInd3dy5tZ3R2LmNvbSIpID4gLTEpewogICAgICAgICAgICBHTWFkZFN0eWxlKGAuZm4tbWd0di1qaWV4aSBsaXtjb2xvcjojY2NjY2NjO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjYwcHg7bGluZS1oZWlnaHQ6MjBweDtmbG9hdDpsZWZ0O2JvcmRlcjoxcHggc29saWQgZ3JheTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjAgNHB4O21hcmdpbjo0cHggMnB4O31gKTsKICAgICAgICAgICAgdmFyIHZfcGFuZWxfYm94ID0gJCgiLnYtcGFuZWwtYm94Iik7CiAgICAgICAgICAgIHZhciBtZ3R2X2ppZXhpID0gJCgiPGRpdiBjbGFzcz0ndi1wYW5lbC1tb2QgZm4tbWd0di1qaWV4aScgc3R5bGU9J2N1cnNvcjpwb2ludGVyOyc+PGEgY2xhc3M9J3YtcGFuZWwtc3VibW9kIGZuLW1ndHYtamlleGktdGV4dCc+6Kej5p6QPC9hPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIjxkaXYgY2xhc3M9J2V4dGVuZCcgc3R5bGU9J3RvcDotNXB4O2xlZnQ6LTUwcHg7dGV4dC1hbGlnbjpjZW50ZXI7cG9zaXRpb246cmVsYXRpdmU7Jz48ZGl2IGNsYXNzPSd2LXBhbmVsLWV4dGVuZCc+PGRpdiBjbGFzcz0nZm4tcGFuZWwnIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOiMyZTJlMmU7d2lkdGg6YXV0bztib3JkZXI6MXB4IHNvbGlkIGdyYXk7Jz4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGppZXhpRElWICsgIjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PiIpOwogICAgICAgICAgICB2X3BhbmVsX2JveC5hcHBlbmQobWd0dl9qaWV4aSk7CiAgICAgICAgICAgIG1ndHZfamlleGkub24oIm1vdXNlb3ZlciIsKCk9PnsKICAgICAgICAgICAgICAgICQoIi5mbi1tZ3R2LWppZXhpIC5leHRlbmQiKS5zaG93KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBtZ3R2X2ppZXhpLm9uKCJtb3VzZW91dCIsKCk9PnsKICAgICAgICAgICAgICAgICQoIi5mbi1tZ3R2LWppZXhpIC5leHRlbmQiKS5oaWRlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIuZm4tbWd0di1qaWV4aS10ZXh0IikuY2xpY2soKCk9PnsKICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1ndHZfcGxheWVyX3dyYXAgPSAkKCIjbWd0di1wbGF5ZXItd3JhcCIpOwogICAgICAgICAgICAgICAgICAgIG1ndHZfcGxheWVyX3dyYXAuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICBtZ3R2X3BsYXllcl93cmFwLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpbm5lclBhcnNlKHBhcnNlSW50ZXJmYWNlTGlzdFswXS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi5mbi1tZ3R2LWppZXhpIGxpIikuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ21vdXNlb3ZlcicsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY29sb3InLCcjZmY2ZjAwJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ21vdXNlb3V0JywoKT0+ewogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjb2xvcicsJyNjY2NjY2MnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJChpdGVtKS5vbignY2xpY2snLCgpPT57CiAgICAgICAgICAgICAgICAgICAgaWYocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS50eXBlID09ICLnq5nlhoUiKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlmcmFtZS1wbGF5ZXIiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZ3R2X3BsYXllcl93cmFwID0gJCgiI21ndHYtcGxheWVyLXdyYXAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ndHZfcGxheWVyX3dyYXAuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ndHZfcGxheWVyX3dyYXAuYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpbm5lclBhcnNlKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udXJsICsgbG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNb3BlbkluVGFiKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udXJsICsgbG9jYXRpb24uaHJlZixmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgc2VsZWN0ZWRfaXRlbXMgPSAkKCIuYXNpZGUtdGFiYm94IGxpIik7CiAgICAgICAgICAgIHNlbGVjdGVkX2l0ZW1zLmVhY2goZnVuY3Rpb24oaW5kZXgsaXRlbSl7CiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+ewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSBpZihsb2NhdGlvbi5ocmVmLmluZGV4T2YoInR2LnNvaHUuY29tIikgPiAtMSl7CiAgICAgICAgICAgIEdNYWRkU3R5bGUoYC5mbi1zb2h1LWppZXhpIGxpe2NvbG9yOiNjY2NjY2M7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6NjBweDtsaW5lLWhlaWdodDoyMHB4O2Zsb2F0OmxlZnQ7Ym9yZGVyOjFweCBzb2xpZCBncmF5O2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmc6MCA0cHg7bWFyZ2luOjRweCAycHg7fWApOwogICAgICAgICAgICB2YXIgdkJveF9yaWdodCA9ICQoIiNsZWZ0QmFyIik7CiAgICAgICAgICAgIHZhciBzb2h1X2ppZXhpID0gJCgiPGRpdiBjbGFzcz0ndkJveCB2Qm94LXBsYXknPjxhIGNsYXNzPSd2YnRuJyBzdHlsZT0ncGFkZGluZy1sZWZ0OjI1MHB4O2NvbG9yOiNhMmEyYTM7bGluZS1oZWlnaHQ6NTNweDtjdXJzb3I6cG9pbnRlcjsnPuino+aekDwvYT4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIjxkaXYgY2xhc3M9J3ZDb250IGZuLXNvaHUtamlleGknIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOiMyZTJlMmU7Ym9yZGVyOjFweCBzb2xpZCBncmF5O3BhZGRpbmc6MDt3aWR0aDphdXRvO21hcmdpbjo1cHggMCAwIDEwMHB4O2xpbmUtaGVpZ2h0OjI1cHg7Jz4iICsgamlleGlESVYgKyAiPC9kaXY+PC9kaXY+Iik7CiAgICAgICAgICAgIHZCb3hfcmlnaHQucHJlcGVuZChzb2h1X2ppZXhpKTsKICAgICAgICAgICAgc29odV9qaWV4aS5jbGljaygoKT0+ewogICAgICAgICAgICAgICAgJCgiLmZuLXNvaHUtamlleGkiKS50b2dnbGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi5mbi1zb2h1LWppZXhpIGxpIikuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ21vdXNlb3ZlcicsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY3Vyc29yJywncG9pbnRlcicpOwogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjb2xvcicsJyNlMzNjMzAnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJChpdGVtKS5vbignbW91c2VvdXQnLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnI2NjY2NjYycpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdjbGljaycsKCk9PnsKICAgICAgICAgICAgICAgICAgICBpZihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnR5cGUgPT0gIuermeWGhSIpewogICAgICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWZyYW1lLXBsYXllciIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXllcl92aXBUaXBzID0gJCgiI3BsYXllcl92aXBUaXBzIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJfdmlwVGlwcy5jc3MoImRpc3BsYXkiLCJub25lIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbWVudSIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb2h1cGxheWVyID0gJCgiI3NvaHVwbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2h1cGxheWVyLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29odXBsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXllciA9ICQoIiNwbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpbm5lclBhcnNlKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udXJsICsgbG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNb3BlbkluVGFiKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udXJsICsgbG9jYXRpb24uaHJlZixmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH1lbHNlIGlmKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigiZmlsbS5zb2h1LmNvbSIpID4gLTEpewogICAgICAgICAgICBHTWFkZFN0eWxlKGAuZm4tc29odS1qaWV4aSBsaXtjb2xvcjojY2NjY2NjO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjYwcHg7bGluZS1oZWlnaHQ6MjBweDtmbG9hdDpsZWZ0O2JvcmRlcjoxcHggc29saWQgZ3JheTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjAgNHB4O21hcmdpbjo0cHggMnB4O31gKTsKICAgICAgICAgICAgdmFyIHBsYXllcl9jb250ZW50X2luZm8gPSAkKCIucGxheWVyLWNvbnRlbnQtaW5mbyIpOwogICAgICAgICAgICB2YXIgc29odV9maWxtX2ppZXhpID0gJCgiPGRpdiBjbGFzcz0nYWN0aW9uLWl0ZW0nPjxhIGNsYXNzPSdhY3Rpb24tdGl0bGUgZm4tc29odS1qaWV4aS10ZXh0Jz48c3BhbiBjbGFzcz0naWNvLXRleHQnPuino+aekDwvc3Bhbj48aSBjbGFzcz0naWNvLWRvd24nPjwvaT48L2E+PGRpdiBjbGFzcz0naG92ZXItY29udGVudCBmbi1zb2h1LWppZXhpJyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMmUyZTJlO2JvcmRlcjoxcHggc29saWQgZ3JheTt3aWR0aDphdXRvO3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi1sZWZ0Oi02MXB4Oyc+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGppZXhpRElWICsgIjwvZGl2PjwvZGl2PiIpOwogICAgICAgICAgICBwbGF5ZXJfY29udGVudF9pbmZvLnByZXBlbmQoc29odV9maWxtX2ppZXhpKTsKICAgICAgICAgICAgc29odV9maWxtX2ppZXhpLm9uKCJtb3VzZW92ZXIiLCgpPT57CiAgICAgICAgICAgICAgICAkKCIuZm4tc29odS1qaWV4aSIpLnNob3coKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNvaHVfZmlsbV9qaWV4aS5vbigibW91c2VvdXQiLCgpPT57CiAgICAgICAgICAgICAgICAkKCIuZm4tc29odS1qaWV4aSIpLmhpZGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi5mbi1zb2h1LWppZXhpLXRleHQiKS5jbGljaygoKT0+ewogICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlmcmFtZS1wbGF5ZXIiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWVyV3JhcCA9ICQoIiNwbGF5ZXJXcmFwIik7CiAgICAgICAgICAgICAgICAgICAgcGxheWVyV3JhcC5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgIHBsYXllcldyYXAuYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0WzBdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiLmZuLXNvaHUtamlleGkgbGkiKS5lYWNoKChpbmRleCxpdGVtKT0+ewogICAgICAgICAgICAgICAgJChpdGVtKS5vbignbW91c2VvdmVyJywoKT0+ewogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjdXJzb3InLCdwb2ludGVyJyk7CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnI2VlM2MzYScpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdtb3VzZW91dCcsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY29sb3InLCcjY2NjY2NjJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ2NsaWNrJywoKT0+ewogICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udHlwZSA9PSAi56uZ5YaFIil7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWVyV3JhcCA9ICQoIiNwbGF5ZXJXcmFwIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJXcmFwLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJXcmFwLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBHTW9wZW5JblRhYihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSBpZihsb2NhdGlvbi5ocmVmLmluZGV4T2YoInd3dy5sZS5jb20iKSA+IC0xKXsKICAgICAgICAgICAgR01hZGRTdHlsZShgLmZuLWxlLWppZXhpIGxpe2NvbG9yOiNjY2NjY2M7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6NjBweDtsaW5lLWhlaWdodDoyMHB4O2Zsb2F0OmxlZnQ7Ym9yZGVyOjFweCBzb2xpZCBncmF5O2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmc6MCA0cHg7bWFyZ2luOjRweCAycHg7fWApOwogICAgICAgICAgICB2YXIgaW50ZXJhY3RfYXJlYSA9ICQoIi5pbnRlcmFjdF9hcmVhIik7CiAgICAgICAgICAgIHZhciBsZV9qaWV4aSA9ICQoIjxsaT48YSBjbGFzcz0nZm4tbGUtamlleGktdGV4dCc+PHNwYW4+6Kej5p6QPC9zcGFuPjwvYT48ZGl2IGNsYXNzPSdmbi1sZS1qaWV4aScgc3R5bGU9J2Rpc3BsYXk6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiMyZTJlMmU7Ym9yZGVyOjFweCBzb2xpZCBncmF5O3dpZHRoOmF1dG87cG9zaXRpb246YWJzb2x1dGU7dG9wOjQ1cHg7bGVmdDotNDBweDtib3JkZXItdG9wOjJweCBzb2xpZCAjRTQyMTEyO2JveC1zaGFkb3c6MCAycHggNnB4IDAgcmdiYSgwLDAsMCwuMSk7Jz4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqaWV4aURJViArICI8L2Rpdj48L2xpPiIpOwogICAgICAgICAgICBpbnRlcmFjdF9hcmVhLnByZXBlbmQobGVfamlleGkpOwogICAgICAgICAgICBsZV9qaWV4aS5vbigibW91c2VvdmVyIiwoKT0+ewogICAgICAgICAgICAgICAgJCgiLmZuLWxlLWppZXhpIikuc2hvdygpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbGVfamlleGkub24oIm1vdXNlb3V0IiwoKT0+ewogICAgICAgICAgICAgICAgJCgiLmZuLWxlLWppZXhpIikuaGlkZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiLmZuLWxlLWppZXhpLXRleHQiKS5jbGljaygoKT0+ewogICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlmcmFtZS1wbGF5ZXIiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICB2YXIgbGVfcGxheWJveCA9ICQoIiNsZV9wbGF5Ym94Iik7CiAgICAgICAgICAgICAgICAgICAgbGVfcGxheWJveC5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgIGxlX3BsYXlib3guYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0WzBdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiLmZuLWxlLWppZXhpIGxpIikuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdoZWlnaHQnLCcyNXB4Jyk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygncGFkZGluZycsJzAgNXB4Jyk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdtb3VzZW92ZXInLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnI2U0MjAxMycpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdtb3VzZW91dCcsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY29sb3InLCcjY2NjY2NjJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ2NsaWNrJywoKT0+ewogICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udHlwZSA9PSAi56uZ5YaFIil7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVfcGxheWJveCA9ICQoIiNsZV9wbGF5Ym94Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZV9wbGF5Ym94LmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZV9wbGF5Ym94LmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBHTW9wZW5JblRhYihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSBpZihsb2NhdGlvbi5ocmVmLmluZGV4T2YoInZpZGVvLnR1ZG91LmNvbSIpID4gLTEpewogICAgICAgICAgICBHTWFkZFN0eWxlKGAuZm4tdHVkb3UtamlleGkgbGl7Y29sb3I6I2NjY2NjYzt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDo2MHB4O2xpbmUtaGVpZ2h0OjIwcHg7ZmxvYXQ6bGVmdDtib3JkZXI6MXB4IHNvbGlkIGdyYXk7Ym9yZGVyLXJhZGl1czo4cHg7cGFkZGluZzowIDRweDttYXJnaW46NHB4IDJweDt9YCk7CiAgICAgICAgICAgIHZhciB0ZF9pbnRlcmFjdGJveCA9ICQoIi50ZC1pbnRlcmFjdGJveF9fZm4tLXJpZ2h0Iik7CiAgICAgICAgICAgIHZhciB0dWRvdV9qaWV4aSA9ICQoIjxkaXYgY2xhc3M9J3RkLWludGVyYWN0Ym94X19mbl9faXRlbSc+PGRpdiBjbGFzcz0nZHJvcGRvd24nPjxkaXYgY2xhc3M9J3R1ZG91LWppZXhpLXRleHQnIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjtjb2xvcjojZmZmOyc+6Kej5p6QPC9kaXY+PGRpdiBjbGFzcz0nZHJvcGRvd25fX3BhbmVsIGZuLXR1ZG91LWppZXhpJyBzdHlsZT0nYm9yZGVyOjA7dGV4dC1hbGlnbjpjZW50ZXI7Jz4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiPGRpdiBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMmUyZTJlO2JvcmRlcjoxcHggc29saWQgZ3JheTt3aWR0aDphdXRvO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMHB4O2xlZnQ6LTEwMCU7Jz4iICsgamlleGlESVYgKyAiPC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+Iik7CiAgICAgICAgICAgIHRkX2ludGVyYWN0Ym94LnByZXBlbmQodHVkb3VfamlleGkpOwogICAgICAgICAgICB0dWRvdV9qaWV4aS5vbigibW91c2VvdmVyIiwoKT0+ewogICAgICAgICAgICAgICAgJCgiLnR1ZG91LWppZXhpLXRleHQiKS5jc3MoImNvbG9yIiwiI2VmNmYyZSIpOwogICAgICAgICAgICAgICAgJCgiLmZuLXR1ZG91LWppZXhpIikuc2hvdygpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdHVkb3VfamlleGkub24oIm1vdXNlb3V0IiwoKT0+ewogICAgICAgICAgICAgICAgJCgiLnR1ZG91LWppZXhpLXRleHQiKS5jc3MoImNvbG9yIiwiI2ZmZiIpOwogICAgICAgICAgICAgICAgJCgiLmZuLXR1ZG91LWppZXhpIikuaGlkZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiLnR1ZG91LWppZXhpLXRleHQiKS5jbGljaygoKT0+ewogICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlmcmFtZS1wbGF5ZXIiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICB2YXIganNfcGxheWVyID0gJCgiLnRkLXBsYXlib3giKTsKICAgICAgICAgICAgICAgICAgICBqc19wbGF5ZXIuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICBqc19wbGF5ZXIuYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0WzBdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiLmZuLXR1ZG91LWppZXhpIGxpIikuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ21vdXNlb3ZlcicsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY3Vyc29yJywncG9pbnRlcicpOwogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjb2xvcicsJyNlZjZmMmUnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJChpdGVtKS5vbignbW91c2VvdXQnLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnI2NjY2NjYycpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdjbGljaycsKCk9PnsKICAgICAgICAgICAgICAgICAgICBpZihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnR5cGUgPT0gIuermeWGhSIpewogICAgICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWZyYW1lLXBsYXllciIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzX3BsYXllciA9ICQoIi50ZC1wbGF5Ym94Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc19wbGF5ZXIuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzX3BsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgR01vcGVuSW5UYWIocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfWVsc2UgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKCJ2LnBwdHYuY29tIikgPiAtMSl7CiAgICAgICAgICAgIEdNYWRkU3R5bGUoYAogICAgICAgICAgICAgICAgICAgICAgICNmbi1wcHR2LWppZXhpIGxpe3dpZHRoOmF1dG87Y29sb3I6I2NjY2NjYztiYWNrZ3JvdW5kOjA7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6NjBweDtsaW5lLWhlaWdodDoyMHB4O2Zsb2F0OmxlZnQ7Ym9yZGVyOjFweCBzb2xpZCBncmF5O2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmc6MCA0cHg7bWFyZ2luOjRweCAycHg7fQogICAgICAgICAgICAgICAgICAgICAgICNmbi1wcHR2LWppZXhpIHtkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwcHg7d2lkdGg6YXV0bzt0ZXh0LWFsaWduOmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiMyZTJlMmU7Ym9yZGVyOjFweCBzb2xpZCBncmF5O30KICAgICAgICAgICAgICAgICAgICAgICBgKTsKICAgICAgICAgICAgdmFyIG1vZHVsZV92aWRlbzIwMTZfb3BzID0gJCgiLm1vZHVsZS12aWRlbzIwMTYtb3BzIHVsIik7CiAgICAgICAgICAgIHZhciBwcHR2X2ppZXhpID0gJCgiPGxpIGlkPSdwcHR2LWppZXhpLWJ0bic+PGEgY2xhc3M9J3BwdHZfamlleGktdGV4dCcgc3R5bGU9J2N1cnNvcjpwb2ludGVyOyc+PGkgY2xhc3M9J2ljNCc+PC9pPuino+aekDwvYT48ZGl2IGlkPSdmbi1wcHR2LWppZXhpJz4iICsgamlleGlESVYgKyAiPC9kaXY+PC9saT4iKTsKICAgICAgICAgICAgbW9kdWxlX3ZpZGVvMjAxNl9vcHMucHJlcGVuZChwcHR2X2ppZXhpKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBwdHYtamlleGktYnRuIikuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwoKT0+ewogICAgICAgICAgICAgICAgJCgiI2ZuLXBwdHYtamlleGkiKS5zaG93KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHB0di1qaWV4aS1idG4iKS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsKCk9PnsKICAgICAgICAgICAgICAgICQoIiNmbi1wcHR2LWppZXhpIikuaGlkZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgicHB0dl9qaWV4aS10ZXh0IilbMF0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCgpPT57CiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWZyYW1lLXBsYXllciIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgIHZhciBwcHR2X3BsYXlwYWdlX2JveCA9ICQoIiNwcHR2X3BsYXlwYWdlX2JveCIpOwogICAgICAgICAgICAgICAgICAgIHBwdHZfcGxheXBhZ2VfYm94LmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgcHB0dl9wbGF5cGFnZV9ib3guYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0WzBdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiI2ZuLXBwdHYtamlleGkgbGkiKS5lYWNoKChpbmRleCxpdGVtKT0+ewogICAgICAgICAgICAgICAgJChpdGVtKS5vbigibW91c2VvdmVyIiwoKT0+ewogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCJjdXJzb3IiLCJwb2ludGVyIik7CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoImNvbG9yIiwiIzMzOTlmZiIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCJtb3VzZW91dCIsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygiY29sb3IiLCIjY2NjY2NjIik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oImNsaWNrIiwoKT0+ewogICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udHlwZSA9PSAi56uZ5YaFIil7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHB0dl9wbGF5cGFnZV9ib3ggPSAkKCIjcHB0dl9wbGF5cGFnZV9ib3giKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBwdHZfcGxheXBhZ2VfYm94LmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcHR2X3BsYXlwYWdlX2JveC5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgR01vcGVuSW5UYWIocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwzMDAwKTsKfSkoKTsKZnVuY3Rpb24gc2hhcmVIaXN0b3J5KGlkLCBwdykgey8v5pys5Zyw5Y6G5Y+y6K6w5b2V77yM5pyJ5pWI5pyfMzDlpKkKCWlmICghLyg/Olx3fC0pezUsfS8udGVzdChpZCkpIHJldHVybjsKCXZhciBsb2cgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzaGFyZUhpc3RvcnkiKSB8fCAne30nKSwgS2V5cyA9IE9iamVjdC5rZXlzKGxvZykuZmlsdGVyKHggPT4geCAhPSAnX2xhc3RDaGVjaycpLCBsYXN0ID0gbG9nWydfbGFzdENoZWNrJ10sIHQgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMWUzKSwgZXhwID0gdCArIDMwICogODY0MDA7CglpZiAoIWxhc3QpIHsKCQlLZXlzLmZvckVhY2goeCA9PiB7CgkJCWlmIChsb2dbeF0uc3BsaXQoJ3wnKS5sZW5ndGggPT0gMSkgbG9nW3hdICs9ICd8JyArIGV4cDsKCQl9KTsKCQlsb2dbJ19sYXN0Q2hlY2snXSA9IHQ7CgkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oInNoYXJlSGlzdG9yeSIsIEpTT04uc3RyaW5naWZ5KGxvZykpOwoJfSBlbHNlIGlmIChsYXN0ICYmIHQgLSBsYXN0ID4gMzYwMCkgewoJCUtleXMuZm9yRWFjaCh4ID0+IHsKCQkJdmFyIGFyciA9IGxvZ1t4XS5zcGxpdCgnfCcpOwoJCQlpZiAoK2FyclsxXSA8IHQpIGxvZ1t4XSA9IHVuZGVmaW5lZDsKCQl9KTsKCQlsb2dbJ19sYXN0Q2hlY2snXSA9IHQ7CgkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oInNoYXJlSGlzdG9yeSIsIEpTT04uc3RyaW5naWZ5KGxvZykpOwoJfQoJaWYgKHB3ID09IHVuZGVmaW5lZCkgewoJCXJldHVybiBsb2dbaWRdICYmIGxvZ1tpZF0uc3BsaXQoJ3wnKS5zaGlmdCgpIHx8ICcnOwoJfSBlbHNlIGlmICgvXlthLXpBLVowLTldezR9JC8udGVzdChwdykpIHsKCQlsb2dbaWRdID0gcHcgKyAnfCcgKyBleHA7CgkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oInNoYXJlSGlzdG9yeSIsIEpTT04uc3RyaW5naWZ5KGxvZykpOwoJfQp9Cgp2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2ggJiYgL14jKFthLXpBLVowLTldezR9KSQvLnRlc3QobG9jYXRpb24uaGFzaCkgJiYgUmVnRXhwLiQxLAoJJCA9IHVuc2FmZVdpbmRvdy5yZXF1aXJlKCdzeXN0ZW0tY29yZTpjb250ZXh0L2NvbnRleHQuanMnKS5pbnN0YW5jZUZvclN5c3RlbS5saWJzLkpRdWVyeSwKCWlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBpY2twdyBpbnB1dFt0YWJpbmRleD0iMSJdLCAuYWNjZXNzLWJveCBpbnB1dCNhY2Nlc3NDb2RlJyksCglidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGlja3B3IGEuZy1idXR0b24sIC5hY2Nlc3MtYm94IGEjZ2V0ZmlsZUJ0bicpLAoJbGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGlja3B3IGR0LCAuYWNjZXNzLWJveCBsYWJlbFtmb3I9YWNjZXNzQ29kZV0nKSwKCXNoYXJlSUQgPSAobG9jYXRpb24uaHJlZi5tYXRjaCgvXC9pbml0XD8oPzpzdXJsfHNoYXJlaWQpPSgoPzpcd3wtKSspLykgfHwgbG9jYXRpb24uaHJlZi5tYXRjaCgvXC9zXC8xKCg/Olx3fC0pKykvKSlbMV0sCgloaXN0b3J5ID0gc2hhcmVIaXN0b3J5KHNoYXJlSUQpOwovKiAvLyDot7PovawgUGFuZG93bmxvYWTnvZHpobXniYgKaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZignYmFpZHUuY29tL3MvJykgPiAwKSB7Ly92NQoJdmFyIHVybCA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgnYmFpZHUuY29tJywgJ2JhaWR1d3AuY29tJykubWF0Y2goL14oW14jXSspLylbMV0gKyAobG9jYXRpb24uaHJlZi5pbmRleE9mKCc/JykgPT0gLTEgPyAnPycgOiAnJicpICsgJ3B3ZD0nICsgaGlzdG9yeTsKCSQoJzxhIGNsYXNzPSJnLWJ1dHRvbiIgaHJlZj0iJyArIHVybCArICciIHRpdGxlPSLovazliLAgUGFuZG93bmxvYWQg572R6aG154mIIj48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLXBpY3ByZS1kb3dubG9hZCIgc3R5bGU9ImNvbG9yOiNkNjA7Ij48Zm9udCBjb2xvcj0iIzA5MCI+PC9lbT48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOiBhdXRvOyI+PGZvbnQgY29sb3I9IiMwOTAiPlBhbmRvd25sb2FkIOe9kemhteeJiDwvZm9udD48L3NwYW4+PC9zcGFuPjwvYT4nKS5pbnNlcnRCZWZvcmUoJy54LWJ1dHRvbi1ib3ggYS5nLWJ1dHRvbltkYXRhLWJ1dHRvbi1pZD1iM10nKTsKfSovCi8vIC0gZW5kIOi3s+i9rCBQYW5kb3dubG9hZOe9kemhteeJiAppZiAoIWlucHV0IHx8ICFidG4pIHJldHVybjsKLy9pZiAobG9jYXRpb24uaGFzaCAmJiAvXiMoW2EtekEtWjAtOV17NH0pJC8udGVzdChsb2NhdGlvbi5oYXNoKSkgcmV0dXJuOy8vdjIKCmxhYmVsLnN0eWxlLm1hcmdpbj0iLTVweCAwIDEwcHgiOwpsYWJlbC5pbm5lckhUTUwgKz0gJzxicj7luqbnm5jkuIfog73pkqXljJnvvJonOwoKaWYgKGhhc2ggfHwgaGlzdG9yeSkgey8vdjTvvIzkuIDnp5LlkI4KCWxhYmVsLmlubmVySFRNTCArPSAn5Y+R546w5o+Q5Y+W56CB77yIJy5mb250Y29sb3IoJ2dyZWVuJykgKyAoaGFzaCB8fCBoaXN0b3J5KS5mb250Y29sb3IoJ3JlZCcpICsgJ++8ie+8jOeojeWQjuWhq+WGmeW5tueCueWHuycuZm9udGNvbG9yKCdncmVlbicpOwoJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQlpbnB1dC52YWx1ZSA9IGhhc2ggfHwgaGlzdG9yeTsKCQlpZiAoaGFzaCkgc2hhcmVIaXN0b3J5KHNoYXJlSUQsIGhhc2gpOy8v5L+d5a2YCgkJYnRuLmNsaWNrKCk7Cgl9LAoJMWUzKTsKCXJldHVybjsKfQoKdmFyIHVybCA9J2h0dHBzOi8veXBzdXBlcmtleS5tZWVrLmNvbS5jbi9hcGkvaXRlbXMvQkRZLScKCQkrIHNoYXJlSUQgKyAnP2FjY2Vzc19rZXk9NGZ4TmJrS0tKWDJwQW0zYjhBRXUyelQ1ZDJNYnFHYkQmY2xpZW50X3ZlcnNpb249MjAxOC44JzsKCkdNX3htbGh0dHBSZXF1ZXN0KHsKCW1ldGhvZDogJ0dFVCcsCgl1cmw6IHVybCwKCW9ubG9hZDogZnVuY3Rpb24oeGhyKSB7CgkJdmFyIGUgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpOwoJCWNvbnNvbGUubG9nKHhoci5yZXNwb25zZVRleHQpOwoJCWxhYmVsLmlubmVySFRNTCArPSB4aHIuc3RhdHVzID09IDIwMCA/ICgn6L+e5o6l5oiQ5Yqf77yMJy5mb250Y29sb3IoJ2JsdWUnKSArIChlLmFjY2Vzc19jb2RlID8gJ+WvhueggeW3suiOt+WPlicuZm9udGNvbG9yKCdibHVlJykgOiAn5L2G5a+G56CB5om+5LiN5YiwJy5mb250Y29sb3IoJ3JlZCcpKSkgOiAoZS5tZXNzYWdlICsgJ++8jOacjeWKoeWZqOeKtuaAge+8micgKyB4aHIuc3RhdHVzVGV4dCArICcoJyArIHhoci5zdGF0dXMgKyAnKScpLmZvbnRjb2xvcigncmVkJyk7Ly/nirbmgIHmj5DnpLoKCQlpZiAoeGhyLnN0YXR1cyA9PSAyMDAgJiYgZS5hY2Nlc3NfY29kZSkgewoJCQlpbnB1dC52YWx1ZSA9IGUuYWNjZXNzX2NvZGU7Ly/loavlhpnlr4bnoIEKCQkJc2hhcmVIaXN0b3J5KHNoYXJlSUQsIGUuYWNjZXNzX2NvZGUpOwoJCQkvL3NldFRpbWVvdXQoZnVuY3Rpb24oKXtidG4uY2xpY2soKTt9LCAxZTMpOy8v5LiA56eS5ZCO6Ieq5Yqo54K55Ye7CgkJfQoJfQp9KTsK","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js","ts":1583724391413,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2MS4xMi40IHwgKGMpIGpRdWVyeSBGb3VuZGF0aW9uIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEuZG9jdW1lbnQ/YihhLCEwKTpmdW5jdGlvbihhKXtpZighYS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gYihhKX06YihhKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1jLnNsaWNlLGY9Yy5jb25jYXQsZz1jLnB1c2gsaD1jLmluZGV4T2YsaT17fSxqPWkudG9TdHJpbmcsaz1pLmhhc093blByb3BlcnR5LGw9e30sbT0iMS4xMi40IixuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBuLmZuLmluaXQoYSxiKX0sbz0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2cscD0vXi1tcy0vLHE9Ly0oW1xkYS16XSkvZ2kscj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O24uZm49bi5wcm90b3R5cGU9e2pxdWVyeTptLGNvbnN0cnVjdG9yOm4sc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmUuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW4ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZWFjaCh0aGlzLGEpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpnLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG4uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oZT1hcmd1bWVudHNbaF0pKWZvcihkIGluIGUpYT1nW2RdLGM9ZVtkXSxnIT09YyYmKGomJmMmJihuLmlzUGxhaW5PYmplY3QoYyl8fChiPW4uaXNBcnJheShjKSkpPyhiPyhiPSExLGY9YSYmbi5pc0FycmF5KGEpP2E6W10pOmY9YSYmbi5pc1BsYWluT2JqZWN0KGEpP2E6e30sZ1tkXT1uLmV4dGVuZChqLGYsYykpOnZvaWQgMCE9PWMmJihnW2RdPWMpKTtyZXR1cm4gZ30sbi5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iYXJyYXkiPT09bi50eXBlKGEpfSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXt2YXIgYj1hJiZhLnRvU3RyaW5nKCk7cmV0dXJuIW4uaXNBcnJheShhKSYmYi1wYXJzZUZsb2F0KGIpKzE+PTB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtpZighYXx8Im9iamVjdCIhPT1uLnR5cGUoYSl8fGEubm9kZVR5cGV8fG4uaXNXaW5kb3coYSkpcmV0dXJuITE7dHJ5e2lmKGEuY29uc3RydWN0b3ImJiFrLmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIWsuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWlmKCFsLm93bkZpcnN0KWZvcihiIGluIGEpcmV0dXJuIGsuY2FsbChhLGIpO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxrLmNhbGwoYSxiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aVtqLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZuLnRyaW0oYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTA7aWYocyhhKSl7Zm9yKGM9YS5sZW5ndGg7Yz5kO2QrKylpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoZCBpbiBhKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjooYSsiIikucmVwbGFjZShvLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLCJzdHJpbmciPT10eXBlb2YgYT9bYV06YSk6Zy5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKGgpcmV0dXJuIGguY2FsbChiLGEsYyk7Zm9yKGQ9Yi5sZW5ndGgsYz1jPzA+Yz9NYXRoLm1heCgwLGQrYyk6YzowO2Q+YztjKyspaWYoYyBpbiBiJiZiW2NdPT09YSlyZXR1cm4gY31yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7d2hpbGUoYz5kKWFbZSsrXT1iW2QrK107aWYoYyE9PWMpd2hpbGUodm9pZCAwIT09YltkXSlhW2UrK109YltkKytdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGc9MCxoPVtdO2lmKHMoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5nO2crKyllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihnIGluIGEpZT1iKGFbZ10sZyxjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGYuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGImJihmPWFbYl0sYj1hLGE9Ziksbi5pc0Z1bmN0aW9uKGEpPyhjPWUuY2FsbChhcmd1bWVudHMsMiksZD1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsYy5jb25jYXQoZS5jYWxsKGFyZ3VtZW50cykpKX0sZC5ndWlkPWEuZ3VpZD1hLmd1aWR8fG4uZ3VpZCsrLGQpOnZvaWQgMH0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxzdXBwb3J0Omx9KSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYobi5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2lbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gcyhhKXt2YXIgYj0hIWEmJiJsZW5ndGgiaW4gYSYmYS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2EoKSx6PWdhKCksQT1nYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTD0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTT0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLE49IlxcWyIrTCsiKigiK00rIikoPzoiK0wrIiooWypeJHwhfl0/PSkiK0wrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitNKyIpKXwpIitMKyIqXFxdIixPPSI6KCIrTSsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrTisiKSopfC4qKVxcKXwpIixQPW5ldyBSZWdFeHAoTCsiKyIsImciKSxRPW5ldyBSZWdFeHAoIl4iK0wrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTCsiKyQiLCJnIiksUj1uZXcgUmVnRXhwKCJeIitMKyIqLCIrTCsiKiIpLFM9bmV3IFJlZ0V4cCgiXiIrTCsiKihbPit+XXwiK0wrIikiK0wrIioiKSxUPW5ldyBSZWdFeHAoIj0iK0wrIiooW15cXF0nXCJdKj8pIitMKyIqXFxdIiwiZyIpLFU9bmV3IFJlZ0V4cChPKSxWPW5ldyBSZWdFeHAoIl4iK00rIiQiKSxXPXtJRDpuZXcgUmVnRXhwKCJeIygiK00rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK04pLFBTRVVETzpuZXcgUmVnRXhwKCJeIitPKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK0wrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK0wrIiooPzooWystXXwpIitMKyIqKFxcZCspfCkpIitMKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitLKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTCsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitMKyIqKCg/Oi1cXGQpP1xcZCopIitMKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxYPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWT0vXmhcZCQvaSxaPS9eW157XStce1xzKlxbbmF0aXZlIFx3LywkPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sXz0vWyt+XS8sYWE9Lyd8XFwvZyxiYT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0wrIj98KCIrTCsiKXwuKSIsImlnIiksY2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGRhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmEoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3PWImJmIub3duZXJEb2N1bWVudCx4PWI/Yi5ub2RlVHlwZTo5O2lmKGQ9ZHx8W10sInN0cmluZyIhPXR5cGVvZiBhfHwhYXx8MSE9PXgmJjkhPT14JiYxMSE9PXgpcmV0dXJuIGQ7aWYoIWUmJigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixwKSl7aWYoMTEhPT14JiYobz0kLmV4ZWMoYSkpKWlmKGY9b1sxXSl7aWYoOT09PXgpe2lmKCEoaj1iLmdldEVsZW1lbnRCeUlkKGYpKSlyZXR1cm4gZDtpZihqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZSBpZih3JiYoaj13LmdldEVsZW1lbnRCeUlkKGYpKSYmdChiLGopJiZqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZXtpZihvWzJdKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoZj1vWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZikpLGR9aWYoYy5xc2EmJiFBW2ErIiAiXSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYoMSE9PXgpdz1iLHM9YTtlbHNlIGlmKCJvYmplY3QiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXsoaz1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/az1rLnJlcGxhY2UoYWEsIlxcJCYiKTpiLnNldEF0dHJpYnV0ZSgiaWQiLGs9dSkscj1nKGEpLGg9ci5sZW5ndGgsbD1WLnRlc3Qoayk/IiMiK2s6IltpZD0nIitrKyInXSI7d2hpbGUoaC0tKXJbaF09bCsiICIrcWEocltoXSk7cz1yLmpvaW4oIiwiKSx3PV8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8Yn1pZihzKXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbChzKSksZH1jYXRjaCh5KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUSwiJDEiKSxiLGQsZSl9ZnVuY3Rpb24gZ2EoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjKyIgIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrIiAiXT1lfXJldHVybiBifWZ1bmN0aW9uIGhhKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gaWEoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYShhLGIpe3ZhciBjPWEuc3BsaXQoInwiKSxlPWMubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbWEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PWN8fCJidXR0b24iPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBoYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9hKGEpe3JldHVybiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1mYS5zdXBwb3J0PXt9LGY9ZmEuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiPyJIVE1MIiE9PWIubm9kZU5hbWU6ITF9LG09ZmEuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZSxnPWE/YS5vd25lckRvY3VtZW50fHxhOnY7cmV0dXJuIGchPT1uJiY5PT09Zy5ub2RlVHlwZSYmZy5kb2N1bWVudEVsZW1lbnQ/KG49ZyxvPW4uZG9jdW1lbnRFbGVtZW50LHA9IWYobiksKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixkYSkpLGMuYXR0cmlidXRlcz1pYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVoudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImlkIik9PT1ifX0pOihkZWxldGUgZC5maW5kLklELGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPSJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOmMucXNhP2IucXVlcnlTZWxlY3RvckFsbChhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKCIqIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1aLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD0iPGEgaWQ9JyIrdSsiJz48L2E+PHNlbGVjdCBpZD0nIit1KyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGEucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnEucHVzaCgiWypeJF09IitMKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHEucHVzaCgiXFxbIitMKyIqKD86dmFsdWV8IitLKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrdSsiLV0iKS5sZW5ndGh8fHEucHVzaCgifj0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrdSsiKyoiKS5sZW5ndGh8fHEucHVzaCgiLiMuK1srfl0iKX0pLGlhKGZ1bmN0aW9uKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrTCsiKlsqXiR8IX5dPz0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPVoudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmaWEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiZGl2Iikscy5jYWxsKGEsIltzIT0nJ106eCIpLHIucHVzaCgiIT0iLE8pfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oInwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oInwiKSksYj1aLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxaLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGthKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9rYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZmEubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYShhLG51bGwsbnVsbCxiKX0sZmEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFQsIj0nJDEnXSIpLGMubWF0Y2hlc1NlbGVjdG9yJiZwJiYhQVtiKyIgIl0mJighcnx8IXIudGVzdChiKSkmJighcXx8IXEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGZhKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGZhLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZmEuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkQuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGZhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZmEudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1mYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpoYSxtYXRjaDpXLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoYmEsY2EpLGFbM109KGFbM118fGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGJhLGNhKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmEuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZmEuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFcuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8IiI6YyYmVS50ZXN0KGMpJiYoYj1nKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrTCsiKSIrYSsiKCIrTCsifCQpIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmEuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UucmVwbGFjZShQLCIgIikrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPSJvbmx5Ij09PWEmJiFvJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLCIiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2hhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1KKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmhhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShRLCIkMSIpKTtyZXR1cm4gZFt1XT9oYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmEoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoYmEsY2EpLGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8ZShiKSkuaW5kZXhPZihhKT4tMX19KSxsYW5nOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBWLnRlc3QoYXx8IiIpfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIithKSxhPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPXA/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxiLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhKyItIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09b30sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1uLmFjdGl2ZUVsZW1lbnQmJighbi5oYXNGb2N1c3x8bi5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmISFhLmNoZWNrZWR8fCJvcHRpb24iPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmImJ1dHRvbiI9PT1hLnR5cGV8fCJidXR0b24iPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4iaW5wdXQiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bmEoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Om5hKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpuYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6bmEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpuYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bGEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bWEoYik7ZnVuY3Rpb24gcGEoKXt9cGEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBwYSxnPWZhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpe2MmJiEoZT1SLmV4ZWMoaCkpfHwoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1XW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmEuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHJhKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJihjJiYhYyhmLGQsZSl8fChnLnB1c2goZiksaiYmYi5wdXNoKGgpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHwiKiIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXVhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtyYShzYShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdmEoaT4xJiZzYShtKSxpPjEmJnFhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09YVtpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoUSwiJDEiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9IjAiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKCIqIixrKSx5PXcrPW51bGw9PXY/MTpNYXRoLnJhbmRvbSgpfHwuMSx6PXgubGVuZ3RoO2ZvcihrJiYoaj1nPT09bnx8Z3x8ayk7cyE9PXomJm51bGwhPShsPXhbc10pO3MrKyl7aWYoZSYmbCl7bz0wLGd8fGwub3duZXJEb2N1bWVudD09PW58fChtKGwpLGg9IXApO3doaWxlKHE9YVtvKytdKWlmKHEobCxnfHxuLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9eSl9YyYmKChsPSFxJiZsKSYmci0tLGYmJnQucHVzaChsKSl9aWYocis9cyxjJiZzIT09cil7bz0wO3doaWxlKHE9YltvKytdKXEodCx1LGcsaCk7aWYoZil7aWYocj4wKXdoaWxlKHMtLSl0W3NdfHx1W3NdfHwodVtzXT1GLmNhbGwoaSkpO3U9dWEodSl9SC5hcHBseShpLHUpLGsmJiFmJiZ1Lmxlbmd0aD4wJiZyK2IubGVuZ3RoPjEmJmZhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXksaj12KSx0fTtyZXR1cm4gYz9oYShmKTpmfXJldHVybiBoPWZhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErIiAiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1XLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksXy50ZXN0KGpbMF0udHlwZSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYShqKSwhYSlyZXR1cm4gSC5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSwhYnx8Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGphKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGphKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlU29ydD1uLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sdj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sdz1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHg9L148KFtcdy1dKylccypcLz8+KD86PFwvXDE+fCkkLyx5PS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih5LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBuLmluQXJyYXkoYSxiKT4tMSE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPVtdLGQ9dGhpcyxlPWQubGVuZ3RoO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2U+YjtiKyspaWYobi5jb250YWlucyhkW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7ZT5iO2IrKyluLmZpbmQoYSxkW2JdLGMpO3JldHVybiBjPXRoaXMucHVzaFN0YWNrKGU+MT9uLnVuaXF1ZShjKTpjKSxjLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrYTphLGN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEheih0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8sQz1uLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxBLCJzdHJpbmciPT10eXBlb2YgYSl7aWYoZT0iPCI9PT1hLmNoYXJBdCgwKSYmIj4iPT09YS5jaGFyQXQoYS5sZW5ndGgtMSkmJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06Qi5leGVjKGEpLCFlfHwhZVsxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fGMpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGVbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChlWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmQsITApKSx4LnRlc3QoZVsxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoZSBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2VdKT90aGlzW2VdKGJbZV0pOnRoaXMuYXR0cihlLGJbZV0pO3JldHVybiB0aGlzfWlmKGY9ZC5nZXRFbGVtZW50QnlJZChlWzJdKSxmJiZmLnBhcmVudE5vZGUpe2lmKGYuaWQhPT1lWzJdKXJldHVybiBBLmZpbmQoYSk7dGhpcy5sZW5ndGg9MSx0aGlzWzBdPWZ9cmV0dXJuIHRoaXMuY29udGV4dD1kLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpPyJ1bmRlZmluZWQiIT10eXBlb2YgYy5yZWFkeT9jLnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0MucHJvdG90eXBlPW4uZm4sQT1uKGQpO3ZhciBEPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYixjPW4oYSx0aGlzKSxkPWMubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7ZD5iO2IrKylpZihuLmNvbnRhaW5zKHRoaXMsY1tiXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dy50ZXN0KGEpfHwic3RyaW5nIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlU29ydChmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP24uaW5BcnJheSh0aGlzWzBdLG4oYSkpOm4uaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWVTb3J0KG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEYoYSxiKXtkbyBhPWFbYl07d2hpbGUoYSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gdigoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIHYoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYSwiaWZyYW1lIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDpuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihFW2FdfHwoZT1uLnVuaXF1ZVNvcnQoZSkpLEQudGVzdChhKSYmKGU9ZS5yZXZlcnNlKCkpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRz0vXFMrL2c7ZnVuY3Rpb24gSChhKXt2YXIgYj17fTtyZXR1cm4gbi5lYWNoKGEubWF0Y2goRyl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9bi5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT0ic3RyaW5nIj09dHlwZW9mIGE/SChhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmPVtdLGc9W10saD0tMSxpPWZ1bmN0aW9uKCl7Zm9yKGU9YS5vbmNlLGQ9Yj0hMDtnLmxlbmd0aDtoPS0xKXtjPWcuc2hpZnQoKTt3aGlsZSgrK2g8Zi5sZW5ndGgpZltoXS5hcHBseShjWzBdLGNbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2UmJihoPWYubGVuZ3RoLGM9ITEpfWEubWVtb3J5fHwoYz0hMSksYj0hMSxlJiYoZj1jP1tdOiIiKX0saj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihjJiYhYiYmKGg9Zi5sZW5ndGgtMSxnLnB1c2goYykpLGZ1bmN0aW9uIGQoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXtuLmlzRnVuY3Rpb24oYyk/YS51bmlxdWUmJmouaGFzKGMpfHxmLnB1c2goYyk6YyYmYy5sZW5ndGgmJiJzdHJpbmciIT09bi50eXBlKGMpJiZkKGMpfSl9KGFyZ3VtZW50cyksYyYmIWImJmkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixmLGMpKT4tMSlmLnNwbGljZShjLDEpLGg+PWMmJmgtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxmKT4tMTpmLmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBmJiYoZj1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sZj1jPSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZT0hMCxjfHxqLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfSxuLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpXV0sYz0icGVuZGluZyIsZD17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuLkRlZmVycmVkKGZ1bmN0aW9uKGMpe24uZWFjaChiLGZ1bmN0aW9uKGIsZil7dmFyIGc9bi5pc0Z1bmN0aW9uKGFbYl0pJiZhW2JdO2VbZlsxXV0oZnVuY3Rpb24oKXt2YXIgYT1nJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhjLm5vdGlmeSkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpOmNbZlswXSsiV2l0aCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdKyJXaXRoIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1lLmNhbGwoYXJndW1lbnRzKSxkPWMubGVuZ3RoLGY9MSE9PWR8fGEmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2Q6MCxnPTE9PT1mP2E6bi5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ZS5jYWxsKGFyZ3VtZW50cyk6ZCxjPT09aT9nLm5vdGlmeVdpdGgoYixjKTotLWZ8fGcucmVzb2x2ZVdpdGgoYixjKX19LGksaixrO2lmKGQ+MSlmb3IoaT1uZXcgQXJyYXkoZCksaj1uZXcgQXJyYXkoZCksaz1uZXcgQXJyYXkoZCk7ZD5iO2IrKyljW2JdJiZuLmlzRnVuY3Rpb24oY1tiXS5wcm9taXNlKT9jW2JdLnByb21pc2UoKS5wcm9ncmVzcyhoKGIsaixpKSkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCk6LS1mO3JldHVybiBmfHxnLnJlc29sdmVXaXRoKGssYyksZy5wcm9taXNlKCl9fSk7dmFyIEk7bi5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gbi5yZWFkeS5wcm9taXNlKCkuZG9uZShhKSx0aGlzfSxuLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9uLnJlYWR5V2FpdCsrOm4ucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tbi5yZWFkeVdhaXQ6bi5pc1JlYWR5KXx8KG4uaXNSZWFkeT0hMCxhIT09ITAmJi0tbi5yZWFkeVdhaXQ+MHx8KEkucmVzb2x2ZVdpdGgoZCxbbl0pLG4uZm4udHJpZ2dlckhhbmRsZXImJihuKGQpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpLG4oZCkub2ZmKCJyZWFkeSIpKSkpfX0pO2Z1bmN0aW9uIEooKXtkLmFkZEV2ZW50TGlzdGVuZXI/KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixLKSk6KGQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5kZXRhY2hFdmVudCgib25sb2FkIixLKSl9ZnVuY3Rpb24gSygpeyhkLmFkZEV2ZW50TGlzdGVuZXJ8fCJsb2FkIj09PWEuZXZlbnQudHlwZXx8ImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZSkmJihKKCksbi5yZWFkeSgpKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7aWYoIUkpaWYoST1uLkRlZmVycmVkKCksImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09ZC5yZWFkeVN0YXRlJiYhZC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpYS5zZXRUaW1lb3V0KG4ucmVhZHkpO2Vsc2UgaWYoZC5hZGRFdmVudExpc3RlbmVyKWQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixLKTtlbHNle2QuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5hdHRhY2hFdmVudCgib25sb2FkIixLKTt2YXIgYz0hMTt0cnl7Yz1udWxsPT1hLmZyYW1lRWxlbWVudCYmZC5kb2N1bWVudEVsZW1lbnR9Y2F0Y2goZSl7fWMmJmMuZG9TY3JvbGwmJiFmdW5jdGlvbiBmKCl7aWYoIW4uaXNSZWFkeSl7dHJ5e2MuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChiKXtyZXR1cm4gYS5zZXRUaW1lb3V0KGYsNTApfUooKSxuLnJlYWR5KCl9fSgpfXJldHVybiBJLnByb21pc2UoYil9LG4ucmVhZHkucHJvbWlzZSgpO3ZhciBMO2ZvcihMIGluIG4obCkpYnJlYWs7bC5vd25GaXJzdD0iMCI9PT1MLGwuaW5saW5lQmxvY2tOZWVkc0xheW91dD0hMSxuKGZ1bmN0aW9uKCl7dmFyIGEsYixjLGU7Yz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sYyYmYy5zdHlsZSYmKGI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsYy5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZChiKSwidW5kZWZpbmVkIiE9dHlwZW9mIGIuc3R5bGUuem9vbSYmKGIuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsbC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWE9Mz09PWIub2Zmc2V0V2lkdGgsYSYmKGMuc3R5bGUuem9vbT0xKSksYy5yZW1vdmVDaGlsZChlKSl9KSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5kZWxldGVFeHBhbmRvPSEwO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKGIpe2wuZGVsZXRlRXhwYW5kbz0hMX1hPW51bGx9KCk7dmFyIE09ZnVuY3Rpb24oYSl7dmFyIGI9bi5ub0RhdGFbKGEubm9kZU5hbWUrIiAiKS50b0xvd2VyQ2FzZSgpXSxjPSthLm5vZGVUeXBlfHwxO3JldHVybiAxIT09YyYmOSE9PWM/ITE6IWJ8fGIhPT0hMCYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKT09PWJ9LE49L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpe3ZhciBkPSJkYXRhLSIrYi5yZXBsYWNlKE8sIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9bi5kYXRhKGEsYixjKX1lbHNlIGM9dm9pZCAwOwp9cmV0dXJuIGN9ZnVuY3Rpb24gUShhKXt2YXIgYjtmb3IoYiBpbiBhKWlmKCgiZGF0YSIhPT1ifHwhbi5pc0VtcHR5T2JqZWN0KGFbYl0pKSYmInRvSlNPTiIhPT1iKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFIoYSxiLGQsZSl7aWYoTShhKSl7dmFyIGYsZyxoPW4uZXhwYW5kbyxpPWEubm9kZVR5cGUsaj1pP24uY2FjaGU6YSxrPWk/YVtoXTphW2hdJiZoO2lmKGsmJmpba10mJihlfHxqW2tdLmRhdGEpfHx2b2lkIDAhPT1kfHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIGt8fChrPWk/YVtoXT1jLnBvcCgpfHxuLmd1aWQrKzpoKSxqW2tdfHwoaltrXT1pP3t9Ont0b0pTT046bi5ub29wfSksIm9iamVjdCIhPXR5cGVvZiBiJiYiZnVuY3Rpb24iIT10eXBlb2YgYnx8KGU/altrXT1uLmV4dGVuZChqW2tdLGIpOmpba10uZGF0YT1uLmV4dGVuZChqW2tdLmRhdGEsYikpLGc9altrXSxlfHwoZy5kYXRhfHwoZy5kYXRhPXt9KSxnPWcuZGF0YSksdm9pZCAwIT09ZCYmKGdbbi5jYW1lbENhc2UoYildPWQpLCJzdHJpbmciPT10eXBlb2YgYj8oZj1nW2JdLG51bGw9PWYmJihmPWdbbi5jYW1lbENhc2UoYildKSk6Zj1nLGZ9fWZ1bmN0aW9uIFMoYSxiLGMpe2lmKE0oYSkpe3ZhciBkLGUsZj1hLm5vZGVUeXBlLGc9Zj9uLmNhY2hlOmEsaD1mP2Fbbi5leHBhbmRvXTpuLmV4cGFuZG87aWYoZ1toXSl7aWYoYiYmKGQ9Yz9nW2hdOmdbaF0uZGF0YSkpe24uaXNBcnJheShiKT9iPWIuY29uY2F0KG4ubWFwKGIsbi5jYW1lbENhc2UpKTpiIGluIGQ/Yj1bYl06KGI9bi5jYW1lbENhc2UoYiksYj1iIGluIGQ/W2JdOmIuc3BsaXQoIiAiKSksZT1iLmxlbmd0aDt3aGlsZShlLS0pZGVsZXRlIGRbYltlXV07aWYoYz8hUShkKTohbi5pc0VtcHR5T2JqZWN0KGQpKXJldHVybn0oY3x8KGRlbGV0ZSBnW2hdLmRhdGEsUShnW2hdKSkpJiYoZj9uLmNsZWFuRGF0YShbYV0sITApOmwuZGVsZXRlRXhwYW5kb3x8ZyE9Zy53aW5kb3c/ZGVsZXRlIGdbaF06Z1toXT12b2lkIDApfX19bi5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7ImFwcGxldCAiOiEwLCJlbWJlZCAiOiEwLCJvYmplY3QgIjoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIn0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLm5vZGVUeXBlP24uY2FjaGVbYVtuLmV4cGFuZG9dXTphW24uZXhwYW5kb10sISFhJiYhUShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFIoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFMoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBSKGEsYixjLCEwKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyhhLGIsITApfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9bi5kYXRhKGYpLDE9PT1mLm5vZGVUeXBlJiYhbi5fZGF0YShmLCJwYXJzZWRBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFAoZixkLGVbZF0pKSk7bi5fZGF0YShmLCJwYXJzZWRBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhKX0pOmFyZ3VtZW50cy5sZW5ndGg+MT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhLGIpfSk6Zj9QKGYsYSxuLmRhdGEoZixhKSk6dm9pZCAwfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1uLl9kYXRhKGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1uLl9kYXRhKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gbi5fZGF0YShhLGMpfHxuLl9kYXRhKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7bi5fcmVtb3ZlRGF0YShhLGIrInF1ZXVlIiksbi5fcmVtb3ZlRGF0YShhLGMpfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSljPW4uX2RhdGEoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSksZnVuY3Rpb24oKXt2YXIgYTtsLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXtpZihudWxsIT1hKXJldHVybiBhO2E9ITE7dmFyIGIsYyxlO3JldHVybiBjPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxjJiZjLnN0eWxlPyhiPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGMuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoYiksInVuZGVmaW5lZCIhPXR5cGVvZiBiLnN0eWxlLnpvb20mJihiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLGIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUud2lkdGg9IjVweCIsYT0zIT09Yi5vZmZzZXRXaWR0aCksYy5yZW1vdmVDaGlsZChlKSxhKTp2b2lkIDB9fSgpO3ZhciBUPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK1QrIikoW2EteiVdKikkIiwiaSIpLFY9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxXPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX07ZnVuY3Rpb24gWChhLGIsYyxkKXt2YXIgZSxmPTEsZz0yMCxoPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZC5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gbi5jc3MoYSxiLCIiKX0saT1oKCksaj1jJiZjWzNdfHwobi5jc3NOdW1iZXJbYl0/IiI6InB4Iiksaz0obi5jc3NOdW1iZXJbYl18fCJweCIhPT1qJiYraSkmJlUuZXhlYyhuLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fCIuNSIsay89ZixuLnN0eWxlKGEsYixrK2opO3doaWxlKGYhPT0oZj1oKCkvaSkmJjEhPT1mJiYtLWcpfXJldHVybiBjJiYoaz0ra3x8K2l8fDAsZT1jWzFdP2srKGNbMV0rMSkqY1syXTorY1syXSxkJiYoZC51bml0PWosZC5zdGFydD1rLGQuZW5kPWUpKSxlfXZhciBZPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoIm9iamVjdCI9PT1uLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYylZKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9LFo9L14oPzpjaGVja2JveHxyYWRpbykkL2ksJD0vPChbXHc6LV0rKS8sXz0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksYWE9L15ccysvLGJhPSJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZGlhbG9nfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1haW58bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHBpY3R1cmV8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRlbXBsYXRlfHRpbWV8dmlkZW8iO2Z1bmN0aW9uIGNhKGEpe3ZhciBiPWJhLnNwbGl0KCJ8IiksYz1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihjLmNyZWF0ZUVsZW1lbnQpd2hpbGUoYi5sZW5ndGgpYy5jcmVhdGVFbGVtZW50KGIucG9wKCkpO3JldHVybiBjfSFmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTthLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixsLmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1hLmZpcnN0Q2hpbGQubm9kZVR5cGUsbC50Ym9keT0hYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsbC5odG1sU2VyaWFsaXplPSEhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxsLmh0bWw1Q2xvbmU9Ijw6bmF2PjwvOm5hdj4iIT09ZC5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCxjLnR5cGU9ImNoZWNrYm94IixjLmNoZWNrZWQ9ITAsYi5hcHBlbmRDaGlsZChjKSxsLmFwcGVuZENoZWNrZWQ9Yy5jaGVja2VkLGEuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixsLm5vQ2xvbmVDaGVja2VkPSEhYS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsYi5hcHBlbmRDaGlsZChhKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksYy5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksYy5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0IiksYS5hcHBlbmRDaGlsZChjKSxsLmNoZWNrQ2xvbmU9YS5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsbC5ub0Nsb25lRXZlbnQ9ISFhLmFkZEV2ZW50TGlzdGVuZXIsYVtuLmV4cGFuZG9dPTEsbC5hdHRyaWJ1dGVzPSFhLmdldEF0dHJpYnV0ZShuLmV4cGFuZG8pfSgpO3ZhciBkYT17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLHBhcmFtOlsxLCI8b2JqZWN0PiIsIjwvb2JqZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6bC5odG1sU2VyaWFsaXplP1swLCIiLCIiXTpbMSwiWDxkaXY+IiwiPC9kaXY+Il19O2RhLm9wdGdyb3VwPWRhLm9wdGlvbixkYS50Ym9keT1kYS50Zm9vdD1kYS5jb2xncm91cD1kYS5jYXB0aW9uPWRhLnRoZWFkLGRhLnRoPWRhLnRkO2Z1bmN0aW9uIGVhKGEsYil7dmFyIGMsZCxlPTAsZj0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOnZvaWQgMDtpZighZilmb3IoZj1bXSxjPWEuY2hpbGROb2Rlc3x8YTtudWxsIT0oZD1jW2VdKTtlKyspIWJ8fG4ubm9kZU5hbWUoZCxiKT9mLnB1c2goZCk6bi5tZXJnZShmLGVhKGQsYikpO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sZik6Zn1mdW5jdGlvbiBmYShhLGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YVtkXSk7ZCsrKW4uX2RhdGEoYywiZ2xvYmFsRXZhbCIsIWJ8fG4uX2RhdGEoYltkXSwiZ2xvYmFsRXZhbCIpKX12YXIgZ2E9Lzx8JiM/XHcrOy8saGE9Lzx0Ym9keS9pO2Z1bmN0aW9uIGlhKGEpe1oudGVzdChhLnR5cGUpJiYoYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWQpfWZ1bmN0aW9uIGphKGEsYixjLGQsZSl7Zm9yKHZhciBmLGcsaCxpLGosayxtLG89YS5sZW5ndGgscD1jYShiKSxxPVtdLHI9MDtvPnI7cisrKWlmKGc9YVtyXSxnfHwwPT09ZylpZigib2JqZWN0Ij09PW4udHlwZShnKSluLm1lcmdlKHEsZy5ub2RlVHlwZT9bZ106Zyk7ZWxzZSBpZihnYS50ZXN0KGcpKXtpPWl8fHAuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksaj0oJC5leGVjKGcpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLG09ZGFbal18fGRhLl9kZWZhdWx0LGkuaW5uZXJIVE1MPW1bMV0rbi5odG1sUHJlZmlsdGVyKGcpK21bMl0sZj1tWzBdO3doaWxlKGYtLSlpPWkubGFzdENoaWxkO2lmKCFsLmxlYWRpbmdXaGl0ZXNwYWNlJiZhYS50ZXN0KGcpJiZxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShhYS5leGVjKGcpWzBdKSksIWwudGJvZHkpe2c9InRhYmxlIiE9PWp8fGhhLnRlc3QoZyk/Ijx0YWJsZT4iIT09bVsxXXx8aGEudGVzdChnKT8wOmk6aS5maXJzdENoaWxkLGY9ZyYmZy5jaGlsZE5vZGVzLmxlbmd0aDt3aGlsZShmLS0pbi5ub2RlTmFtZShrPWcuY2hpbGROb2Rlc1tmXSwidGJvZHkiKSYmIWsuY2hpbGROb2Rlcy5sZW5ndGgmJmcucmVtb3ZlQ2hpbGQoayl9bi5tZXJnZShxLGkuY2hpbGROb2RlcyksaS50ZXh0Q29udGVudD0iIjt3aGlsZShpLmZpcnN0Q2hpbGQpaS5yZW1vdmVDaGlsZChpLmZpcnN0Q2hpbGQpO2k9cC5sYXN0Q2hpbGR9ZWxzZSBxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShnKSk7aSYmcC5yZW1vdmVDaGlsZChpKSxsLmFwcGVuZENoZWNrZWR8fG4uZ3JlcChlYShxLCJpbnB1dCIpLGlhKSxyPTA7d2hpbGUoZz1xW3IrK10paWYoZCYmbi5pbkFycmF5KGcsZCk+LTEpZSYmZS5wdXNoKGcpO2Vsc2UgaWYoaD1uLmNvbnRhaW5zKGcub3duZXJEb2N1bWVudCxnKSxpPWVhKHAuYXBwZW5kQ2hpbGQoZyksInNjcmlwdCIpLGgmJmZhKGkpLGMpe2Y9MDt3aGlsZShnPWlbZisrXSlfLnRlc3QoZy50eXBlfHwiIikmJmMucHVzaChnKX1yZXR1cm4gaT1udWxsLHB9IWZ1bmN0aW9uKCl7dmFyIGIsYyxlPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGIgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSljPSJvbiIrYiwobFtiXT1jIGluIGEpfHwoZS5zZXRBdHRyaWJ1dGUoYywidCIpLGxbYl09ZS5hdHRyaWJ1dGVzW2NdLmV4cGFuZG89PT0hMSk7ZT1udWxsfSgpO3ZhciBrYT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksbGE9L15rZXkvLG1hPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxuYT0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sb2E9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHBhKCl7cmV0dXJuITB9ZnVuY3Rpb24gcWEoKXtyZXR1cm4hMX1mdW5jdGlvbiByYSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gc2EoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoIm9iamVjdCI9PXR5cGVvZiBiKXsic3RyaW5nIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpc2EoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoInN0cmluZyI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9cWE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1uLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPW4uX2RhdGEoYSk7aWYocil7Yy5oYW5kbGVyJiYoaT1jLGM9aS5oYW5kbGVyLGU9aS5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoZz1yLmV2ZW50cyl8fChnPXIuZXZlbnRzPXt9KSwoaz1yLmhhbmRsZSl8fChrPXIuaGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygbnx8YSYmbi5ldmVudC50cmlnZ2VyZWQ9PT1hLnR5cGU/dm9pZCAwOm4uZXZlbnQuZGlzcGF0Y2guYXBwbHkoay5lbGVtLGFyZ3VtZW50cyl9LGsuZWxlbT1hKSxiPShifHwiIikubWF0Y2goRyl8fFsiIl0saD1iLmxlbmd0aDt3aGlsZShoLS0pZj1vYS5leGVjKGJbaF0pfHxbXSxvPXE9ZlsxXSxwPShmWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2ouZGVsZWdhdGVUeXBlOmouYmluZFR5cGUpfHxvLGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxsPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9LGkpLChtPWdbb10pfHwobT1nW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGouc2V0dXAmJmouc2V0dXAuY2FsbChhLGQscCxrKSE9PSExfHwoYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihvLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitvLGspKSksai5hZGQmJihqLmFkZC5jYWxsKGEsbCksbC5oYW5kbGVyLmd1aWR8fChsLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsbCk6bS5wdXNoKGwpLG4uZXZlbnQuZ2xvYmFsW29dPSEwKTthPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9bi5oYXNEYXRhKGEpJiZuLl9kYXRhKGEpO2lmKHImJihrPXIuZXZlbnRzKSl7Yj0oYnx8IiIpLm1hdGNoKEcpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9b2EuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8pe2w9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLG09a1tvXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitwLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGk9Zj1tLmxlbmd0aDt3aGlsZShmLS0pZz1tW2ZdLCFlJiZxIT09Zy5vcmlnVHlwZXx8YyYmYy5ndWlkIT09Zy5ndWlkfHxoJiYhaC50ZXN0KGcubmFtZXNwYWNlKXx8ZCYmZCE9PWcuc2VsZWN0b3ImJigiKioiIT09ZHx8IWcuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxnLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGcpKTtpJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGtbb10pfWVsc2UgZm9yKG8gaW4gayluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChrKSYmKGRlbGV0ZSByLmhhbmRsZSxuLl9yZW1vdmVEYXRhKGEsImV2ZW50cyIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGcsaCxpLGosbCxtLG8scD1bZXx8ZF0scT1rLmNhbGwoYiwidHlwZSIpP2IudHlwZTpiLHI9ay5jYWxsKGIsIm5hbWVzcGFjZSIpP2IubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoaT1tPWU9ZXx8ZCwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJiFuYS50ZXN0KHErbi5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKCIuIik+LTEmJihyPXEuc3BsaXQoIi4iKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaD1xLmluZGV4T2YoIjoiKTwwJiYib24iK3EsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChxLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9Zj8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKCIuIiksYi5ybmFtZXNwYWNlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1lKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxsPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZnx8IWwudHJpZ2dlcnx8bC50cmlnZ2VyLmFwcGx5KGUsYykhPT0hMSkpe2lmKCFmJiYhbC5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZSkpe2ZvcihqPWwuZGVsZWdhdGVUeXBlfHxxLG5hLnRlc3QoaitxKXx8KGk9aS5wYXJlbnROb2RlKTtpO2k9aS5wYXJlbnROb2RlKXAucHVzaChpKSxtPWk7bT09PShlLm93bmVyRG9jdW1lbnR8fGQpJiZwLnB1c2gobS5kZWZhdWx0Vmlld3x8bS5wYXJlbnRXaW5kb3d8fGEpfW89MDt3aGlsZSgoaT1wW28rK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWIudHlwZT1vPjE/ajpsLmJpbmRUeXBlfHxxLGc9KG4uX2RhdGEoaSwiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZuLl9kYXRhKGksImhhbmRsZSIpLGcmJmcuYXBwbHkoaSxjKSxnPWgmJmlbaF0sZyYmZy5hcHBseSYmTShpKSYmKGIucmVzdWx0PWcuYXBwbHkoaSxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO2lmKGIudHlwZT1xLCFmJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKCFsLl9kZWZhdWx0fHxsLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYyk9PT0hMSkmJk0oZSkmJmgmJmVbcV0mJiFuLmlzV2luZG93KGUpKXttPWVbaF0sbSYmKGVbaF09bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cTt0cnl7ZVtxXSgpfWNhdGNoKHMpe31uLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbSYmKGVbaF09bSl9cmV0dXJuIGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGQsZixnLGg9W10saT1lLmNhbGwoYXJndW1lbnRzKSxqPShuLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYS50eXBlXXx8W10saz1uLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWEucm5hbWVzcGFjZSYmIWEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKXx8KGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxkPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1kJiYoYS5yZXN1bHQ9ZCk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoImNsaWNrIiE9PWEudHlwZXx8aXNOYU4oYS5idXR0b24pfHxhLmJ1dHRvbjwxKSlmb3IoO2khPXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9uKGUsdGhpcykuaW5kZXgoaSk+LTE6bi5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LGZpeDpmdW5jdGlvbihhKXtpZihhW24uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxlLGY9YS50eXBlLGc9YSxoPXRoaXMuZml4SG9va3NbZl07aHx8KHRoaXMuZml4SG9va3NbZl09aD1tYS50ZXN0KGYpP3RoaXMubW91c2VIb29rczpsYS50ZXN0KGYpP3RoaXMua2V5SG9va3M6e30pLGU9aC5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChoLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG4uRXZlbnQoZyksYj1lLmxlbmd0aDt3aGlsZShiLS0pYz1lW2JdLGFbY109Z1tjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1nLnNyY0VsZW1lbnR8fGQpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGEubWV0YUtleT0hIWEubWV0YUtleSxoLmZpbHRlcj9oLmZpbHRlcihhLGcpOmF9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBkZXRhaWwgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc9Yi5idXR0b24saD1iLmZyb21FbGVtZW50O3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihlPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGQsZj1lLmRvY3VtZW50RWxlbWVudCxjPWUuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZiYmZi5zY3JvbGxMZWZ0fHxjJiZjLnNjcm9sbExlZnR8fDApLShmJiZmLmNsaWVudExlZnR8fGMmJmMuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGYmJmYuc2Nyb2xsVG9wfHxjJiZjLnNjcm9sbFRvcHx8MCktKGYmJmYuY2xpZW50VG9wfHxjJiZjLmNsaWVudFRvcHx8MCkpLCFhLnJlbGF0ZWRUYXJnZXQmJmgmJihhLnJlbGF0ZWRUYXJnZXQ9aD09PWEudGFyZ2V0P2IudG9FbGVtZW50OmgpLGEud2hpY2h8fHZvaWQgMD09PWd8fChhLndoaWNoPTEmZz8xOjImZz8zOjQmZz8yOjApLGF9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09cmEoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChhKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1yYSgpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiBuLm5vZGVOYW1lKHRoaXMsImlucHV0IikmJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2s/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMH0pO24uZXZlbnQudHJpZ2dlcihkLG51bGwsYiksZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0sbi5yZW1vdmVFdmVudD1kLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0ib24iK2I7YS5kZXRhY2hFdmVudCYmKCJ1bmRlZmluZWQiPT10eXBlb2YgYVtkXSYmKGFbZF09bnVsbCksYS5kZXRhY2hFdmVudChkLGMpKX0sbi5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbi5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/cGE6cWEpOnRoaXMudHlwZT1hLGImJm4uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG4ubm93KCksdm9pZCh0aGlzW24uZXhwYW5kb109ITApKTpuZXcgbi5FdmVudChhLGIpfSxuLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bi5FdmVudCxpc0RlZmF1bHRQcmV2ZW50ZWQ6cWEsaXNQcm9wYWdhdGlvblN0b3BwZWQ6cWEsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6cWEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cGEsYSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1wYSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmKGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9cGEsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybiBlJiYoZT09PWR8fG4uY29udGFpbnMoZCxlKSl8fChhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLGwuc3VibWl0fHwobi5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gbi5ub2RlTmFtZSh0aGlzLCJmb3JtIik/ITE6dm9pZCBuLmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9bi5ub2RlTmFtZShiLCJpbnB1dCIpfHxuLm5vZGVOYW1lKGIsImJ1dHRvbiIpP24ucHJvcChiLCJmb3JtIik6dm9pZCAwO2MmJiFuLl9kYXRhKGMsInN1Ym1pdCIpJiYobi5ldmVudC5hZGQoYywic3VibWl0Ll9zdWJtaXQiLGZ1bmN0aW9uKGEpe2EuX3N1Ym1pdEJ1YmJsZT0hMH0pLG4uX2RhdGEoYywic3VibWl0IiwhMCkpfSl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihhKXthLl9zdWJtaXRCdWJibGUmJihkZWxldGUgYS5fc3VibWl0QnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWEuaXNUcmlnZ2VyJiZuLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxhKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubm9kZU5hbWUodGhpcywiZm9ybSIpPyExOnZvaWQgbi5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KSxsLmNoYW5nZXx8KG4uZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGthLnRlc3QodGhpcy5ub2RlTmFtZSk/KCJjaGVja2JveCIhPT10aGlzLnR5cGUmJiJyYWRpbyIhPT10aGlzLnR5cGV8fChuLmV2ZW50LmFkZCh0aGlzLCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXsiY2hlY2tlZCI9PT1hLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiYodGhpcy5fanVzdENoYW5nZWQ9ITApfSksbi5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5fanVzdENoYW5nZWQmJiFhLmlzVHJpZ2dlciYmKHRoaXMuX2p1c3RDaGFuZ2VkPSExKSxuLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMsYSl9KSksITEpOnZvaWQgbi5ldmVudC5hZGQodGhpcywiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7a2EudGVzdChiLm5vZGVOYW1lKSYmIW4uX2RhdGEoYiwiY2hhbmdlIikmJihuLmV2ZW50LmFkZChiLCJjaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oYSl7IXRoaXMucGFyZW50Tm9kZXx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fG4uZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcy5wYXJlbnROb2RlLGEpfSksbi5fZGF0YShiLCJjaGFuZ2UiLCEwKSl9KX0saGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3JldHVybiB0aGlzIT09Ynx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fCJyYWRpbyIhPT1iLnR5cGUmJiJjaGVja2JveCIhPT1iLnR5cGU/YS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBuLmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpLCFrYS50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLGwuZm9jdXNpbnx8bi5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1uLl9kYXRhKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksbi5fZGF0YShkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPW4uX2RhdGEoZCxiKS0xO2U/bi5fZGF0YShkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLG4uX3JlbW92ZURhdGEoZCxiKSl9fX0pLG4uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gc2EodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBzYSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGIhPT0hMSYmImZ1bmN0aW9uIiE9dHlwZW9mIGJ8fChjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9cWEpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIHRhPS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2csdWE9bmV3IFJlZ0V4cCgiPCg/OiIrYmErIilbXFxzLz5dIiwiaSIpLHZhPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzotXSspW14+XSopXC8+L2dpLHdhPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLHhhPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHlhPS9edHJ1ZVwvKC4qKS8semE9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLEFhPWNhKGQpLEJhPUFhLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2Z1bmN0aW9uIENhKGEsYil7cmV0dXJuIG4ubm9kZU5hbWUoYSwidGFibGUiKSYmbi5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsInRyIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiBEYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09bi5maW5kLmF0dHIoYSwidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9eWEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiBGYShhLGIpe2lmKDE9PT1iLm5vZGVUeXBlJiZuLmhhc0RhdGEoYSkpe3ZhciBjLGQsZSxmPW4uX2RhdGEoYSksZz1uLl9kYXRhKGIsZiksaD1mLmV2ZW50cztpZihoKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGMgaW4gaClmb3IoZD0wLGU9aFtjXS5sZW5ndGg7ZT5kO2QrKyluLmV2ZW50LmFkZChiLGMsaFtjXVtkXSl9Zy5kYXRhJiYoZy5kYXRhPW4uZXh0ZW5kKHt9LGcuZGF0YSkpfX1mdW5jdGlvbiBHYShhLGIpe3ZhciBjLGQsZTtpZigxPT09Yi5ub2RlVHlwZSl7aWYoYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIWwubm9DbG9uZUV2ZW50JiZiW24uZXhwYW5kb10pe2U9bi5fZGF0YShiKTtmb3IoZCBpbiBlLmV2ZW50cyluLnJlbW92ZUV2ZW50KGIsZCxlLmhhbmRsZSk7Yi5yZW1vdmVBdHRyaWJ1dGUobi5leHBhbmRvKX0ic2NyaXB0Ij09PWMmJmIudGV4dCE9PWEudGV4dD8oRGEoYikudGV4dD1hLnRleHQsRWEoYikpOiJvYmplY3QiPT09Yz8oYi5wYXJlbnROb2RlJiYoYi5vdXRlckhUTUw9YS5vdXRlckhUTUwpLGwuaHRtbDVDbG9uZSYmYS5pbm5lckhUTUwmJiFuLnRyaW0oYi5pbm5lckhUTUwpJiYoYi5pbm5lckhUTUw9YS5pbm5lckhUTUwpKToiaW5wdXQiPT09YyYmWi50ZXN0KGEudHlwZSk/KGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCxiLnZhbHVlIT09YS52YWx1ZSYmKGIudmFsdWU9YS52YWx1ZSkpOiJvcHRpb24iPT09Yz9iLmRlZmF1bHRTZWxlY3RlZD1iLnNlbGVjdGVkPWEuZGVmYXVsdFNlbGVjdGVkOiJpbnB1dCIhPT1jJiYidGV4dGFyZWEiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX19ZnVuY3Rpb24gSGEoYSxiLGMsZCl7Yj1mLmFwcGx5KFtdLGIpO3ZhciBlLGcsaCxpLGosayxtPTAsbz1hLmxlbmd0aCxwPW8tMSxxPWJbMF0scj1uLmlzRnVuY3Rpb24ocSk7aWYocnx8bz4xJiYic3RyaW5nIj09dHlwZW9mIHEmJiFsLmNoZWNrQ2xvbmUmJnhhLnRlc3QocSkpcmV0dXJuIGEuZWFjaChmdW5jdGlvbihlKXt2YXIgZj1hLmVxKGUpO3ImJihiWzBdPXEuY2FsbCh0aGlzLGUsZi5odG1sKCkpKSxIYShmLGIsYyxkKX0pO2lmKG8mJihrPWphKGIsYVswXS5vd25lckRvY3VtZW50LCExLGEsZCksZT1rLmZpcnN0Q2hpbGQsMT09PWsuY2hpbGROb2Rlcy5sZW5ndGgmJihrPWUpLGV8fGQpKXtmb3IoaT1uLm1hcChlYShrLCJzY3JpcHQiKSxEYSksaD1pLmxlbmd0aDtvPm07bSsrKWc9ayxtIT09cCYmKGc9bi5jbG9uZShnLCEwLCEwKSxoJiZuLm1lcmdlKGksZWEoZywic2NyaXB0IikpKSxjLmNhbGwoYVttXSxnLG0pO2lmKGgpZm9yKGo9aVtpLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG4ubWFwKGksRWEpLG09MDtoPm07bSsrKWc9aVttXSxfLnRlc3QoZy50eXBlfHwiIikmJiFuLl9kYXRhKGcsImdsb2JhbEV2YWwiKSYmbi5jb250YWlucyhqLGcpJiYoZy5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChnLnNyYyk6bi5nbG9iYWxFdmFsKChnLnRleHR8fGcudGV4dENvbnRlbnR8fGcuaW5uZXJIVE1MfHwiIikucmVwbGFjZSh6YSwiIikpKTtrPWU9bnVsbH1yZXR1cm4gYX1mdW5jdGlvbiBJYShhLGIsYyl7Zm9yKHZhciBkLGU9Yj9uLmZpbHRlcihiLGEpOmEsZj0wO251bGwhPShkPWVbZl0pO2YrKyljfHwxIT09ZC5ub2RlVHlwZXx8bi5jbGVhbkRhdGEoZWEoZCkpLGQucGFyZW50Tm9kZSYmKGMmJm4uY29udGFpbnMoZC5vd25lckRvY3VtZW50LGQpJiZmYShlYShkLCJzY3JpcHQiKSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKTtyZXR1cm4gYX1uLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHZhLCI8JDE+PC8kMj4iKX0sY2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1uLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZihsLmh0bWw1Q2xvbmV8fG4uaXNYTUxEb2MoYSl8fCF1YS50ZXN0KCI8IithLm5vZGVOYW1lKyI+Iik/Zj1hLmNsb25lTm9kZSghMCk6KEJhLmlubmVySFRNTD1hLm91dGVySFRNTCxCYS5yZW1vdmVDaGlsZChmPUJhLmZpcnN0Q2hpbGQpKSwhKGwubm9DbG9uZUV2ZW50JiZsLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZD1lYShmKSxoPWVhKGEpLGc9MDtudWxsIT0oZT1oW2ddKTsrK2cpZFtnXSYmR2EoZSxkW2ddKTtpZihiKWlmKGMpZm9yKGg9aHx8ZWEoYSksZD1kfHxlYShmKSxnPTA7bnVsbCE9KGU9aFtnXSk7ZysrKUZhKGUsZFtnXSk7ZWxzZSBGYShhLGYpO3JldHVybiBkPWVhKGYsInNjcmlwdCIpLGQubGVuZ3RoPjAmJmZhKGQsIWkmJmVhKGEsInNjcmlwdCIpKSxkPWg9ZT1udWxsLGZ9LGNsZWFuRGF0YTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZCxlLGYsZyxoPTAsaT1uLmV4cGFuZG8saj1uLmNhY2hlLGs9bC5hdHRyaWJ1dGVzLG09bi5ldmVudC5zcGVjaWFsO251bGwhPShkPWFbaF0pO2grKylpZigoYnx8TShkKSkmJihmPWRbaV0sZz1mJiZqW2ZdKSl7aWYoZy5ldmVudHMpZm9yKGUgaW4gZy5ldmVudHMpbVtlXT9uLmV2ZW50LnJlbW92ZShkLGUpOm4ucmVtb3ZlRXZlbnQoZCxlLGcuaGFuZGxlKTtqW2ZdJiYoZGVsZXRlIGpbZl0sa3x8InVuZGVmaW5lZCI9PXR5cGVvZiBkLnJlbW92ZUF0dHJpYnV0ZT9kW2ldPXZvaWQgMDpkLnJlbW92ZUF0dHJpYnV0ZShpKSxjLnB1c2goZikpfX19KSxuLmZuLmV4dGVuZCh7ZG9tTWFuaXA6SGEsZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiBJYSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIElhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxkKS5jcmVhdGVUZXh0Tm9kZShhKSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEhhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1DYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPUNhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKyl7MT09PWEubm9kZVR5cGUmJm4uY2xlYW5EYXRhKGVhKGEsITEpKTt3aGlsZShhLmZpcnN0Q2hpbGQpYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Eub3B0aW9ucyYmbi5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGEub3B0aW9ucy5sZW5ndGg9MCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gWSh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEpcmV0dXJuIDE9PT1iLm5vZGVUeXBlP2IuaW5uZXJIVE1MLnJlcGxhY2UodGEsIiIpOnZvaWQgMDtpZigic3RyaW5nIj09dHlwZW9mIGEmJiF3YS50ZXN0KGEpJiYobC5odG1sU2VyaWFsaXplfHwhdWEudGVzdChhKSkmJihsLmxlYWRpbmdXaGl0ZXNwYWNlfHwhYWEudGVzdChhKSkmJiFkYVsoJC5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1uLmh0bWxQcmVmaWx0ZXIoYSk7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoZWEoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5wYXJlbnROb2RlO24uaW5BcnJheSh0aGlzLGEpPDAmJihuLmNsZWFuRGF0YShlYSh0aGlzKSksYyYmYy5yZXBsYWNlQ2hpbGQoYix0aGlzKSl9LGEpfX0pLG4uZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD0wLGU9W10sZj1uKGEpLGg9Zi5sZW5ndGgtMTtoPj1kO2QrKyljPWQ9PT1oP3RoaXM6dGhpcy5jbG9uZSghMCksbihmW2RdKVtiXShjKSxnLmFwcGx5KGUsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBKYSxLYT17SFRNTDoiYmxvY2siLEJPRFk6ImJsb2NrIn07ZnVuY3Rpb24gTGEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sImRpc3BsYXkiKTtyZXR1cm4gYy5kZXRhY2goKSxkfWZ1bmN0aW9uIE1hKGEpe3ZhciBiPWQsYz1LYVthXTtyZXR1cm4gY3x8KGM9TGEoYSxiKSwibm9uZSIhPT1jJiZjfHwoSmE9KEphfHxuKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPShKYVswXS5jb250ZW50V2luZG93fHxKYVswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGIud3JpdGUoKSxiLmNsb3NlKCksYz1MYShhLGIpLEphLmRldGFjaCgpKSxLYVthXT1jKSxjfXZhciBOYT0vXm1hcmdpbi8sT2E9bmV3IFJlZ0V4cCgiXigiK1QrIikoPyFweClbYS16JV0rJCIsImkiKSxQYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sUWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZyxoLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxqPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYoai5zdHlsZSl7ai5zdHlsZS5jc3NUZXh0PSJmbG9hdDpsZWZ0O29wYWNpdHk6LjUiLGwub3BhY2l0eT0iMC41Ij09PWouc3R5bGUub3BhY2l0eSxsLmNzc0Zsb2F0PSEhai5zdHlsZS5jc3NGbG9hdCxqLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsai5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGwuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1qLnN0eWxlLmJhY2tncm91bmRDbGlwLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7cGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlIixqLmlubmVySFRNTD0iIixpLmFwcGVuZENoaWxkKGopLGwuYm94U2l6aW5nPSIiPT09ai5zdHlsZS5ib3hTaXppbmd8fCIiPT09ai5zdHlsZS5Nb3pCb3hTaXppbmd8fCIiPT09ai5zdHlsZS5XZWJraXRCb3hTaXppbmcsbi5leHRlbmQobCx7cmVsaWFibGVIaWRkZW5PZmZzZXRzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxmfSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZX0scGl4ZWxNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksY30scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksYn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZ30scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxofX0pO2Z1bmN0aW9uIGsoKXt2YXIgayxsLG09ZC5kb2N1bWVudEVsZW1lbnQ7bS5hcHBlbmRDaGlsZChpKSxqLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJSIsYj1lPWg9ITEsYz1nPSEwLGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKGw9YS5nZXRDb21wdXRlZFN0eWxlKGopLGI9IjElIiE9PShsfHx7fSkudG9wLGg9IjJweCI9PT0obHx8e30pLm1hcmdpbkxlZnQsZT0iNHB4Ij09PShsfHx7d2lkdGg6IjRweCJ9KS53aWR0aCxqLnN0eWxlLm1hcmdpblJpZ2h0PSI1MCUiLGM9IjRweCI9PT0obHx8e21hcmdpblJpZ2h0OiI0cHgifSkubWFyZ2luUmlnaHQsaz1qLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGsuc3R5bGUuY3NzVGV4dD1qLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MCIsay5zdHlsZS5tYXJnaW5SaWdodD1rLnN0eWxlLndpZHRoPSIwIixqLnN0eWxlLndpZHRoPSIxcHgiLGc9IXBhcnNlRmxvYXQoKGEuZ2V0Q29tcHV0ZWRTdHlsZShrKXx8e30pLm1hcmdpblJpZ2h0KSxqLnJlbW92ZUNoaWxkKGspKSxqLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWouZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgsZiYmKGouc3R5bGUuZGlzcGxheT0iIixqLmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIsai5jaGlsZE5vZGVzWzBdLnN0eWxlLmJvcmRlckNvbGxhcHNlPSJzZXBhcmF0ZSIsaz1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLGtbMF0uc3R5bGUuY3NzVGV4dD0ibWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowO2Rpc3BsYXk6bm9uZSIsZj0wPT09a1swXS5vZmZzZXRIZWlnaHQsZiYmKGtbMF0uc3R5bGUuZGlzcGxheT0iIixrWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWtbMF0ub2Zmc2V0SGVpZ2h0KSksbS5yZW1vdmVDaGlsZChpKX19fSgpO3ZhciBSYSxTYSxUYT0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87YS5nZXRDb21wdXRlZFN0eWxlPyhSYT1mdW5jdGlvbihiKXt2YXIgYz1iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIGMmJmMub3BlbmVyfHwoYz1hKSxjLmdldENvbXB1dGVkU3R5bGUoYil9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2MuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXTp2b2lkIDAsIiIhPT1nJiZ2b2lkIDAhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSxjJiYhbC5waXhlbE1hcmdpblJpZ2h0KCkmJk9hLnRlc3QoZykmJk5hLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9Ziksdm9pZCAwPT09Zz9nOmcrIiJ9KTpRYS5jdXJyZW50U3R5bGUmJihSYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5jdXJyZW50U3R5bGV9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2NbYl06dm9pZCAwLG51bGw9PWcmJmgmJmhbYl0mJihnPWhbYl0pLE9hLnRlc3QoZykmJiFUYS50ZXN0KGIpJiYoZD1oLmxlZnQsZT1hLnJ1bnRpbWVTdHlsZSxmPWUmJmUubGVmdCxmJiYoZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQpLGgubGVmdD0iZm9udFNpemUiPT09Yj8iMWVtIjpnLGc9aC5waXhlbExlZnQrInB4IixoLmxlZnQ9ZCxmJiYoZS5sZWZ0PWYpKSx2b2lkIDA9PT1nP2c6ZysiInx8ImF1dG8ifSk7ZnVuY3Rpb24gVWEoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIFZhPS9hbHBoYVwoW14pXSpcKS9pLFdhPS9vcGFjaXR5XHMqPVxzKihbXildKikvaSxYYT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sWWE9bmV3IFJlZ0V4cCgiXigiK1QrIikoLiopJCIsImkiKSxaYT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sJGE9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LF9hPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl0sYWI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZTtmdW5jdGlvbiBiYihhKXtpZihhIGluIGFiKXJldHVybiBhO3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKSxjPV9hLmxlbmd0aDt3aGlsZShjLS0paWYoYT1fYVtjXStiLGEgaW4gYWIpcmV0dXJuIGF9ZnVuY3Rpb24gY2IoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109bi5fZGF0YShkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlcoZCkmJihmW2ddPW4uX2RhdGEoZCwib2xkZGlzcGxheSIsTWEoZC5ub2RlTmFtZSkpKSk6KGU9VyhkKSwoYyYmIm5vbmUiIT09Y3x8IWUpJiZuLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGU/YzpuLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfWZ1bmN0aW9uIGRiKGEsYixjKXt2YXIgZD1ZYS5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHwicHgiKTpifWZ1bmN0aW9uIGViKGEsYixjLGQsZSl7Zm9yKHZhciBmPWM9PT0oZD8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PWI/MTowLGc9MDs0PmY7Zis9MikibWFyZ2luIj09PWMmJihnKz1uLmNzcyhhLGMrVltmXSwhMCxlKSksZD8oImNvbnRlbnQiPT09YyYmKGctPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSkpLCJtYXJnaW4iIT09YyYmKGctPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk6KGcrPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSksInBhZGRpbmciIT09YyYmKGcrPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gZmIoYSxiLGMpe3ZhciBkPSEwLGU9IndpZHRoIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPVJhKGEpLGc9bC5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT1TYShhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLE9hLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK2ViKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPVNhKGEsIm9wYWNpdHkiKTtyZXR1cm4iIj09PWM/IjEiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6bC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7aWYoYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1iYihoKXx8aCksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLHZvaWQgMD09PWMpcmV0dXJuIGcmJiJnZXQiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdO2lmKGY9dHlwZW9mIGMsInN0cmluZyI9PT1mJiYoZT1VLmV4ZWMoYykpJiZlWzFdJiYoYz1YKGEsYixlKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiPT09ZiYmKGMrPWUmJmVbM118fChuLmNzc051bWJlcltoXT8iIjoicHgiKSksbC5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLCEoZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpKSkpdHJ5e2lbYl09Y31jYXRjaChqKXt9fX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPWJiKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmImdldCJpbiBnJiYoZj1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1mJiYoZj1TYShhLGIsZCkpLCJub3JtYWwiPT09ZiYmYiBpbiAkYSYmKGY9JGFbYl0pLCIiPT09Y3x8Yz8oZT1wYXJzZUZsb2F0KGYpLGM9PT0hMHx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pLG4uZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP1hhLnRlc3Qobi5jc3MoYSwiZGlzcGxheSIpKSYmMD09PWEub2Zmc2V0V2lkdGg/UGEoYSxaYSxmdW5jdGlvbigpe3JldHVybiBmYihhLGIsZCl9KTpmYihhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQmJlJhKGEpO3JldHVybiBkYihhLGMsZD9lYihhLGIsZCxsLmJveFNpemluZyYmImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksbC5vcGFjaXR5fHwobi5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gV2EudGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZSxlPW4uaXNOdW1lcmljKGIpPyJhbHBoYShvcGFjaXR5PSIrMTAwKmIrIikiOiIiLGY9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLnpvb209MSwoYj49MXx8IiI9PT1iKSYmIiI9PT1uLnRyaW0oZi5yZXBsYWNlKFZhLCIiKSkmJmMucmVtb3ZlQXR0cmlidXRlJiYoYy5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCIiPT09Ynx8ZCYmIWQuZmlsdGVyKXx8KGMuZmlsdGVyPVZhLnRlc3QoZik/Zi5yZXBsYWNlKFZhLGUpOmYrIiAiK2UpfX0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9VWEobC5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/UGEoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sU2EsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG4uY3NzSG9va3MubWFyZ2luTGVmdD1VYShsLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihhLGIpe3JldHVybiBiPyhwYXJzZUZsb2F0KFNhKGEsIm1hcmdpbkxlZnQiKSl8fChuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKT9hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtUGEoYSx7Cm1hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSk6MCkpKyJweCI6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5kO2QrKyllW2ErVltkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxOYS50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1kYil9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPVJhKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtXKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gZ2IoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IGdiLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1nYixnYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmdiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPWdiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpnYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1nYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOmdiLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LGdiLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1nYi5wcm90b3R5cGUsZ2IucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6MSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbD09YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV0mJiFuLmNzc0hvb2tzW2EucHJvcF0/YS5lbGVtW2EucHJvcF09YS5ub3c6bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCl9fX0sZ2IucHJvcEhvb2tzLnNjcm9sbFRvcD1nYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LG4uZng9Z2IucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBoYixpYixqYj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sa2I9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBsYigpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtoYj12b2lkIDB9KSxoYj1uLm5vdygpfWZ1bmN0aW9uIG1iKGEsYil7dmFyIGMsZD17aGVpZ2h0OmF9LGU9MDtmb3IoYj1iPzE6MDs0PmU7ZSs9Mi1iKWM9VltlXSxkWyJtYXJnaW4iK2NdPWRbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihkLm9wYWNpdHk9ZC53aWR0aD1hKSxkfWZ1bmN0aW9uIG5iKGEsYixjKXtmb3IodmFyIGQsZT0ocWIudHdlZW5lcnNbYl18fFtdKS5jb25jYXQocWIudHdlZW5lcnNbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gb2IoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbT10aGlzLG89e30scD1hLnN0eWxlLHE9YS5ub2RlVHlwZSYmVyhhKSxyPW4uX2RhdGEoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLG0uYWx3YXlzKGZ1bmN0aW9uKCl7bS5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoYy5vdmVyZmxvdz1bcC5vdmVyZmxvdyxwLm92ZXJmbG93WCxwLm92ZXJmbG93WV0saj1uLmNzcyhhLCJkaXNwbGF5Iiksaz0ibm9uZSI9PT1qP24uX2RhdGEoYSwib2xkZGlzcGxheSIpfHxNYShhLm5vZGVOYW1lKTpqLCJpbmxpbmUiPT09ayYmIm5vbmUiPT09bi5jc3MoYSwiZmxvYXQiKSYmKGwuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmImlubGluZSIhPT1NYShhLm5vZGVOYW1lKT9wLnpvb209MTpwLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIixsLnNocmlua1dyYXBCbG9ja3MoKXx8bS5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLGpiLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXJ8fHZvaWQgMD09PXJbZF0pY29udGludWU7cT0hMH1vW2RdPXImJnJbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChvKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP01hKGEubm9kZU5hbWUpOmopJiYocC5kaXNwbGF5PWopO2Vsc2V7cj8iaGlkZGVuImluIHImJihxPXIuaGlkZGVuKTpyPW4uX2RhdGEoYSwiZnhzaG93Iix7fSksZiYmKHIuaGlkZGVuPSFxKSxxP24oYSkuc2hvdygpOm0uZG9uZShmdW5jdGlvbigpe24oYSkuaGlkZSgpfSksbS5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7bi5fcmVtb3ZlRGF0YShhLCJmeHNob3ciKTtmb3IoYiBpbiBvKW4uc3R5bGUoYSxiLG9bYl0pfSk7Zm9yKGQgaW4gbylnPW5iKHE/cltkXTowLGQsbSksZCBpbiByfHwocltkXT1nLnN0YXJ0LHEmJihnLmVuZD1nLnN0YXJ0LGcuc3RhcnQ9IndpZHRoIj09PWR8fCJoZWlnaHQiPT09ZD8xOjApKX19ZnVuY3Rpb24gcGIoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiYiZXhwYW5kImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBxYihhLGIsYyl7dmFyIGQsZSxmPTAsZz1xYi5wcmVmaWx0ZXJzLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPWhifHxsYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpuLmVhc2luZy5fZGVmYXVsdH0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOmhifHxsYigpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtkPmM7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj8oaC5ub3RpZnlXaXRoKGEsW2osMSwwXSksaC5yZXNvbHZlV2l0aChhLFtqLGJdKSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihwYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9cWIucHJlZmlsdGVyc1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIG4uaXNGdW5jdGlvbihkLnN0b3ApJiYobi5fcXVldWVIb29rcyhqLmVsZW0sai5vcHRzLnF1ZXVlKS5zdG9wPW4ucHJveHkoZC5zdG9wLGQpKSxkO3JldHVybiBuLm1hcChrLG5iLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQocWIse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpO3JldHVybiBYKGMuZWxlbSxhLFUuZXhlYyhiKSxjKSxjfV19LHR3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVsiKiJdKTphPWEubWF0Y2goRyk7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLHFiLnR3ZWVuZXJzW2NdPXFiLnR3ZWVuZXJzW2NdfHxbXSxxYi50d2VlbmVyc1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXJzOltvYl0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9xYi5wcmVmaWx0ZXJzLnVuc2hpZnQoYSk6cWIucHJlZmlsdGVycy5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJiJvYmplY3QiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsbnVsbCE9ZC5xdWV1ZSYmZC5xdWV1ZSE9PSEwfHwoZC5xdWV1ZT0iZngiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtuLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJm4uZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxuLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihXKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmlzRW1wdHlPYmplY3QoYSksZj1uLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9cWIodGhpcyxuLmV4dGVuZCh7fSxhKSxmKTsoZXx8bi5fZGF0YSh0aGlzLCJmaW5pc2giKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihjPWIsYj1hLGE9dm9pZCAwKSxiJiZhIT09ITEmJnRoaXMucXVldWUoYXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhKyJxdWV1ZUhvb2tzIixmPW4udGltZXJzLGc9bi5fZGF0YSh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZrYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1uLl9kYXRhKHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUobWIoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOm1iKCJzaG93Iiksc2xpZGVVcDptYigiaGlkZSIpLHNsaWRlVG9nZ2xlOm1iKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPW4udGltZXJzLGM9MDtmb3IoaGI9bi5ub3coKTtjPGIubGVuZ3RoO2MrKylhPWJbY10sYSgpfHxiW2NdIT09YXx8Yi5zcGxpY2UoYy0tLDEpO2IubGVuZ3RofHxuLmZ4LnN0b3AoKSxoYj12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtpYnx8KGliPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKGliKSxpYj1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8ImZ4Iix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYSxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGY9ZS5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYy5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxjLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxiLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94IiksYy5hcHBlbmRDaGlsZChiKSxhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxhLnN0eWxlLmNzc1RleHQ9InRvcDoxcHgiLGwuZ2V0U2V0QXR0cmlidXRlPSJ0IiE9PWMuY2xhc3NOYW1lLGwuc3R5bGU9L3RvcC8udGVzdChhLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksbC5ocmVmTm9ybWFsaXplZD0iL2EiPT09YS5nZXRBdHRyaWJ1dGUoImhyZWYiKSxsLmNoZWNrT249ISFiLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Zi5zZWxlY3RlZCxsLmVuY3R5cGU9ISFkLmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGUuZGlzYWJsZWQ9ITAsbC5vcHREaXNhYmxlZD0hZi5kaXNhYmxlZCxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSxsLmlucHV0PSIiPT09Yi5nZXRBdHRyaWJ1dGUoInZhbHVlIiksYi52YWx1ZT0idCIsYi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGwucmFkaW9WYWx1ZT0idCI9PT1iLnZhbHVlfSgpO3ZhciByYj0vXHIvZyxzYj0vW1x4MjBcdFxyXG5cZl0rL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT0iIjoibnVtYmVyIj09dHlwZW9mIGU/ZSs9IiI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOmErIiJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYic2V0ImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSwidmFsdWUiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKHJiLCIiKTpudWxsPT1jPyIiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsInZhbHVlIik7cmV0dXJuIG51bGwhPWI/YjpuLnRyaW0obi50ZXh0KGEpKS5yZXBsYWNlKHNiLCIgIil9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwoYy5zZWxlY3RlZHx8aT09PWUpJiYobC5vcHREaXNhYmxlZD8hYy5kaXNhYmxlZDpudWxsPT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0paWYoZD1lW2ddLG4uaW5BcnJheShuLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpdHJ5e2Quc2VsZWN0ZWQ9Yz0hMH1jYXRjaChoKXtkLnNjcm9sbEhlaWdodH1lbHNlIGQuc2VsZWN0ZWQ9ITE7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGV9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSk7dmFyIHRiLHViLHZiPW4uZXhwci5hdHRySGFuZGxlLHdiPS9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2kseGI9bC5nZXRTZXRBdHRyaWJ1dGUseWI9bC5pbnB1dDtuLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBZKHRoaXMsbi5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT91Yjp0YikpLHZvaWQgMCE9PWM/bnVsbD09PWM/dm9pZCBuLnJlbW92ZUF0dHIoYSxiKTplJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOihkPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZD92b2lkIDA6ZCkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFsLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1iJiZuLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEcpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZltlKytdKWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYyk/eWImJnhifHwhd2IudGVzdChjKT9hW2RdPSExOmFbbi5jYW1lbENhc2UoImRlZmF1bHQtIitjKV09YVtkXT0hMTpuLmF0dHIoYSxjLCIiKSxhLnJlbW92ZUF0dHJpYnV0ZSh4Yj9jOmQpfX0pLHViPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRyKGEsYyk6eWImJnhifHwhd2IudGVzdChjKT9hLnNldEF0dHJpYnV0ZSgheGImJm4ucHJvcEZpeFtjXXx8YyxjKTphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYyldPWFbY109ITAsY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPXZiW2JdfHxuLmZpbmQuYXR0cjt5YiYmeGJ8fCF3Yi50ZXN0KGIpP3ZiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj12YltiXSx2YltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsdmJbYl09ZiksZX06dmJbYl09ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYildP2IudG9Mb3dlckNhc2UoKTpudWxsfX0pLHliJiZ4Ynx8KG4uYXR0ckhvb2tzLnZhbHVlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLm5vZGVOYW1lKGEsImlucHV0Iik/dm9pZChhLmRlZmF1bHRWYWx1ZT1iKTp0YiYmdGIuc2V0KGEsYixjKX19KSx4Ynx8KHRiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlTm9kZShjKTtyZXR1cm4gZHx8YS5zZXRBdHRyaWJ1dGVOb2RlKGQ9YS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShjKSksZC52YWx1ZT1iKz0iIiwidmFsdWUiPT09Y3x8Yj09PWEuZ2V0QXR0cmlidXRlKGMpP2I6dm9pZCAwfX0sdmIuaWQ9dmIubmFtZT12Yi5jb29yZHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiYiIiE9PWQudmFsdWU/ZC52YWx1ZTpudWxsfSxuLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpO3JldHVybiBjJiZjLnNwZWNpZmllZD9jLnZhbHVlOnZvaWQgMH0sc2V0OnRiLnNldH0sbi5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3RiLnNldChhLCIiPT09Yj8hMTpiLGMpfX0sbi5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGIpe24uYXR0ckhvb2tzW2JdPXtzZXQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4iIj09PWM/KGEuc2V0QXR0cmlidXRlKGIsImF1dG8iKSxjKTp2b2lkIDB9fX0pKSxsLnN0eWxlfHwobi5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0fHx2b2lkIDB9LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnN0eWxlLmNzc1RleHQ9YisiIn19KTt2YXIgemI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkL2ksQWI9L14oPzphfGFyZWEpJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9bi5wcm9wRml4W2FdfHxhLHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2FdPXZvaWQgMCxkZWxldGUgdGhpc1thXX1jYXRjaChiKXt9fSl9fSksbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuIDE9PT1mJiZuLmlzWE1MRG9jKGEpfHwoYj1uLnByb3BGaXhbYl18fGIsZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSwidGFiaW5kZXgiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTp6Yi50ZXN0KGEubm9kZU5hbWUpfHxBYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KSxsLmhyZWZOb3JtYWxpemVkfHxuLmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oYSxiKXtuLnByb3BIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShiLDQpfX19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLG4uZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pLGwuZW5jdHlwZXx8KG4ucHJvcEZpeC5lbmN0eXBlPSJlbmNvZGluZyIpO3ZhciBCYj0vW1x0XHJcblxmXS9nO2Z1bmN0aW9uIENiKGEpe3JldHVybiBuLmF0dHIoYSwiY2xhc3MiKXx8IiJ9bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsQ2IodGhpcykpKX0pO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZigiICIrZisiICIpPDAmJihkKz1mKyIgIik7aD1uLnRyaW0oZCksZSE9PWgmJm4uYXR0cihjLCJjbGFzcyIsaCl9fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLENiKHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKCJjbGFzcyIsIiIpO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKXdoaWxlKGQuaW5kZXhPZigiICIrZisiICIpPi0xKWQ9ZC5yZXBsYWNlKCIgIitmKyIgIiwiICIpO2g9bi50cmltKGQpLGUhPT1oJiZuLmF0dHIoYywiY2xhc3MiLGgpfX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6bi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsQ2IodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZigic3RyaW5nIj09PWMpe2Q9MCxlPW4odGhpcyksZj1hLm1hdGNoKEcpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlIHZvaWQgMCE9PWEmJiJib29sZWFuIiE9PWN8fChiPUNiKHRoaXMpLGImJm4uX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsYiksbi5hdHRyKHRoaXMsImNsYXNzIixifHxhPT09ITE/IiI6bi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj0iICIrYSsiICI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJigiICIrQ2IoYykrIiAiKS5yZXBsYWNlKEJiLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KSxuLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIERiPWEubG9jYXRpb24sRWI9bi5ub3coKSxGYj0vXD8vLEdiPS8oLCl8KFxbfHspfCh9fF0pfCIoPzpbXiJcXFxyXG5dfFxcWyJcXFwvYmZucnRdfFxcdVtcZGEtZkEtRl17NH0pKiJccyo6P3x0cnVlfGZhbHNlfG51bGx8LT8oPyEwXGQpXGQrKD86XC5cZCt8KSg/OltlRV1bKy1dP1xkK3wpL2c7bi5wYXJzZUpTT049ZnVuY3Rpb24oYil7aWYoYS5KU09OJiZhLkpTT04ucGFyc2UpcmV0dXJuIGEuSlNPTi5wYXJzZShiKyIiKTt2YXIgYyxkPW51bGwsZT1uLnRyaW0oYisiIik7cmV0dXJuIGUmJiFuLnRyaW0oZS5yZXBsYWNlKEdiLGZ1bmN0aW9uKGEsYixlLGYpe3JldHVybiBjJiZiJiYoZD0wKSwwPT09ZD9hOihjPWV8fGIsZCs9IWYtIWUsIiIpfSkpP0Z1bmN0aW9uKCJyZXR1cm4gIitlKSgpOm4uZXJyb3IoIkludmFsaWQgSlNPTjogIitiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgYyxkO2lmKCFifHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIG51bGw7dHJ5e2EuRE9NUGFyc2VyPyhkPW5ldyBhLkRPTVBhcnNlcixjPWQucGFyc2VGcm9tU3RyaW5nKGIsInRleHQveG1sIikpOihjPW5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSJmYWxzZSIsYy5sb2FkWE1MKGIpKX1jYXRjaChlKXtjPXZvaWQgMH1yZXR1cm4gYyYmYy5kb2N1bWVudEVsZW1lbnQmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8bi5lcnJvcigiSW52YWxpZCBYTUw6ICIrYiksY307dmFyIEhiPS8jLiokLyxJYj0vKFs/Jl0pXz1bXiZdKi8sSmI9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSxLYj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxMYj0vXig/OkdFVHxIRUFEKSQvLE1iPS9eXC9cLy8sTmI9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sT2I9e30sUGI9e30sUWI9IiovIi5jb25jYXQoIioiKSxSYj1EYi5ocmVmLFNiPU5iLmV4ZWMoUmIudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIFRiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9YixiPSIqIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEcpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pIisiPT09ZC5jaGFyQXQoMCk/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gVWIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09UGI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBWYihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYil2b2lkIDAhPT1iW2RdJiYoKGVbZF0/YTpjfHwoYz17fSkpW2RdPWJbZF0pO3JldHVybiBjJiZuLmV4dGVuZCghMCxhLGMpLGF9ZnVuY3Rpb24gV2IoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWUmJihlPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcihnIGluIGgpaWYoaFtnXSYmaFtnXS50ZXN0KGUpKXtpLnVuc2hpZnQoZyk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGcgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tnKyIgIitpWzBdXSl7Zj1nO2JyZWFrfWR8fChkPWcpfWY9Znx8ZH1yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gWGIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6UmIsdHlwZToiR0VUIixpc0xvY2FsOktiLnRlc3QoU2JbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6UWIsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6bi5wYXJzZUpTT04sInRleHQgeG1sIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9WYihWYihhLG4uYWpheFNldHRpbmdzKSxiKTpWYihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpUYihPYiksYWpheFRyYW5zcG9ydDpUYihQYiksYWpheDpmdW5jdGlvbihiLGMpeyJvYmplY3QiPT10eXBlb2YgYiYmKGM9YixiPXZvaWQgMCksYz1jfHx7fTt2YXIgZCxlLGYsZyxoLGksaixrLGw9bi5hamF4U2V0dXAoe30sYyksbT1sLmNvbnRleHR8fGwsbz1sLmNvbnRleHQmJihtLm5vZGVUeXBlfHxtLmpxdWVyeSk/bihtKTpuLmV2ZW50LHA9bi5EZWZlcnJlZCgpLHE9bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iikscj1sLnN0YXR1c0NvZGV8fHt9LHM9e30sdD17fSx1PTAsdj0iY2FuY2VsZWQiLHc9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dSl7aWYoIWspe2s9e307d2hpbGUoYj1KYi5leGVjKGcpKWtbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9a1thLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT11P2c6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdXx8KGE9dFtjXT10W2NdfHxhLHNbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdXx8KGwubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dSlmb3IoYiBpbiBhKXJbYl09W3JbYl0sYVtiXV07ZWxzZSB3LmFsd2F5cyhhW3cuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHY7cmV0dXJuIGomJmouYWJvcnQoYikseSgwLGIpLHRoaXN9fTtpZihwLnByb21pc2UodykuY29tcGxldGU9cS5hZGQsdy5zdWNjZXNzPXcuZG9uZSx3LmVycm9yPXcuZmFpbCxsLnVybD0oKGJ8fGwudXJsfHxSYikrIiIpLnJlcGxhY2UoSGIsIiIpLnJlcGxhY2UoTWIsU2JbMV0rIi8vIiksbC50eXBlPWMubWV0aG9kfHxjLnR5cGV8fGwubWV0aG9kfHxsLnR5cGUsbC5kYXRhVHlwZXM9bi50cmltKGwuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8WyIiXSxudWxsPT1sLmNyb3NzRG9tYWluJiYoZD1OYi5leGVjKGwudXJsLnRvTG93ZXJDYXNlKCkpLGwuY3Jvc3NEb21haW49ISghZHx8ZFsxXT09PVNiWzFdJiZkWzJdPT09U2JbMl0mJihkWzNdfHwoImh0dHA6Ij09PWRbMV0/IjgwIjoiNDQzIikpPT09KFNiWzNdfHwoImh0dHA6Ij09PVNiWzFdPyI4MCI6IjQ0MyIpKSkpLGwuZGF0YSYmbC5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBsLmRhdGEmJihsLmRhdGE9bi5wYXJhbShsLmRhdGEsbC50cmFkaXRpb25hbCkpLFViKE9iLGwsYyx3KSwyPT09dSlyZXR1cm4gdztpPW4uZXZlbnQmJmwuZ2xvYmFsLGkmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGwudHlwZT1sLnR5cGUudG9VcHBlckNhc2UoKSxsLmhhc0NvbnRlbnQ9IUxiLnRlc3QobC50eXBlKSxmPWwudXJsLGwuaGFzQ29udGVudHx8KGwuZGF0YSYmKGY9bC51cmwrPShGYi50ZXN0KGYpPyImIjoiPyIpK2wuZGF0YSxkZWxldGUgbC5kYXRhKSxsLmNhY2hlPT09ITEmJihsLnVybD1JYi50ZXN0KGYpP2YucmVwbGFjZShJYiwiJDFfPSIrRWIrKyk6ZisoRmIudGVzdChmKT8iJiI6Ij8iKSsiXz0iK0ViKyspKSxsLmlmTW9kaWZpZWQmJihuLmxhc3RNb2RpZmllZFtmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsbi5sYXN0TW9kaWZpZWRbZl0pLG4uZXRhZ1tmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixuLmV0YWdbZl0pKSwobC5kYXRhJiZsLmhhc0NvbnRlbnQmJmwuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJncuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixsLmNvbnRlbnRUeXBlKSx3LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsbC5kYXRhVHlwZXNbMF0mJmwuYWNjZXB0c1tsLmRhdGFUeXBlc1swXV0/bC5hY2NlcHRzW2wuZGF0YVR5cGVzWzBdXSsoIioiIT09bC5kYXRhVHlwZXNbMF0/IiwgIitRYisiOyBxPTAuMDEiOiIiKTpsLmFjY2VwdHNbIioiXSk7Zm9yKGUgaW4gbC5oZWFkZXJzKXcuc2V0UmVxdWVzdEhlYWRlcihlLGwuaGVhZGVyc1tlXSk7aWYobC5iZWZvcmVTZW5kJiYobC5iZWZvcmVTZW5kLmNhbGwobSx3LGwpPT09ITF8fDI9PT11KSlyZXR1cm4gdy5hYm9ydCgpO3Y9ImFib3J0Ijtmb3IoZSBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl3W2VdKGxbZV0pO2lmKGo9VWIoUGIsbCxjLHcpKXtpZih3LnJlYWR5U3RhdGU9MSxpJiZvLnRyaWdnZXIoImFqYXhTZW5kIixbdyxsXSksMj09PXUpcmV0dXJuIHc7bC5hc3luYyYmbC50aW1lb3V0PjAmJihoPWEuc2V0VGltZW91dChmdW5jdGlvbigpe3cuYWJvcnQoInRpbWVvdXQiKX0sbC50aW1lb3V0KSk7dHJ5e3U9MSxqLnNlbmQocyx5KX1jYXRjaCh4KXtpZighKDI+dSkpdGhyb3cgeDt5KC0xLHgpfX1lbHNlIHkoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIHkoYixjLGQsZSl7dmFyIGsscyx0LHYseCx5PWM7MiE9PXUmJih1PTIsaCYmYS5jbGVhclRpbWVvdXQoaCksaj12b2lkIDAsZz1lfHwiIix3LnJlYWR5U3RhdGU9Yj4wPzQ6MCxrPWI+PTIwMCYmMzAwPmJ8fDMwND09PWIsZCYmKHY9V2IobCx3LGQpKSx2PVhiKGwsdix3LGspLGs/KGwuaWZNb2RpZmllZCYmKHg9dy5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLHgmJihuLmxhc3RNb2RpZmllZFtmXT14KSx4PXcuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSx4JiYobi5ldGFnW2ZdPXgpKSwyMDQ9PT1ifHwiSEVBRCI9PT1sLnR5cGU/eT0ibm9jb250ZW50IjozMDQ9PT1iP3k9Im5vdG1vZGlmaWVkIjooeT12LnN0YXRlLHM9di5kYXRhLHQ9di5lcnJvcixrPSF0KSk6KHQ9eSwhYiYmeXx8KHk9ImVycm9yIiwwPmImJihiPTApKSksdy5zdGF0dXM9Yix3LnN0YXR1c1RleHQ9KGN8fHkpKyIiLGs/cC5yZXNvbHZlV2l0aChtLFtzLHksd10pOnAucmVqZWN0V2l0aChtLFt3LHksdF0pLHcuc3RhdHVzQ29kZShyKSxyPXZvaWQgMCxpJiZvLnRyaWdnZXIoaz8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt3LGwsaz9zOnRdKSxxLmZpcmVXaXRoKG0sW3cseV0pLGkmJihvLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3csbF0pLC0tbi5hY3RpdmV8fG4uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB3fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG4uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheChuLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sbi5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmMT09PWEuZmlyc3RDaGlsZC5ub2RlVHlwZSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPW4odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9bi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24ubm9kZU5hbWUodGhpcywiYm9keSIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KTtmdW5jdGlvbiBZYihhKXtyZXR1cm4gYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxuLmNzcyhhLCJkaXNwbGF5Iil9ZnVuY3Rpb24gWmIoYSl7aWYoIW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50fHxkLGEpKXJldHVybiEwO3doaWxlKGEmJjE9PT1hLm5vZGVUeXBlKXtpZigibm9uZSI9PT1ZYihhKXx8ImhpZGRlbiI9PT1hLnR5cGUpcmV0dXJuITA7YT1hLnBhcmVudE5vZGV9cmV0dXJuITF9bi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBsLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpP2Eub2Zmc2V0V2lkdGg8PTAmJmEub2Zmc2V0SGVpZ2h0PD0wJiYhYS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aDpaYihhKX0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgJGI9LyUyMC9nLF9iPS9cW1xdJC8sYWM9L1xyP1xuL2csYmM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGNjPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBkYyhhLGIsYyxkKXt2YXIgZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxfYi50ZXN0KGEpP2QoYSxlKTpkYyhhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09bi50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpZGMoYSsiWyIrZSsiXSIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj8iIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5PYmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlkYyhjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSgkYiwiKyIpfSxuLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1uLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYT9uLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmY2MudGVzdCh0aGlzLm5vZGVOYW1lKSYmIWJjLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFaLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYWMsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGFjLCJcclxuIil9fSkuZ2V0KCl9fSksbi5hamF4U2V0dGluZ3MueGhyPXZvaWQgMCE9PWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTG9jYWw/aWMoKTpkLmRvY3VtZW50TW9kZT44P2hjKCk6L14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmaGMoKXx8aWMoKX06aGM7dmFyIGVjPTAsZmM9e30sZ2M9bi5hamF4U2V0dGluZ3MueGhyKCk7YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGZjKWZjW2FdKHZvaWQgMCwhMCl9KSxsLmNvcnM9ISFnYyYmIndpdGhDcmVkZW50aWFscyJpbiBnYyxnYz1sLmFqYXg9ISFnYyxnYyYmbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe2lmKCFiLmNyb3NzRG9tYWlufHxsLmNvcnMpe3ZhciBjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7dmFyIGYsZz1iLnhocigpLGg9KytlYztpZihnLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZiBpbiBiLnhockZpZWxkcylnW2ZdPWIueGhyRmllbGRzW2ZdO2IubWltZVR5cGUmJmcub3ZlcnJpZGVNaW1lVHlwZSYmZy5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGRbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGRbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZiBpbiBkKXZvaWQgMCE9PWRbZl0mJmcuc2V0UmVxdWVzdEhlYWRlcihmLGRbZl0rIiIpO2cuc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCksYz1mdW5jdGlvbihhLGQpe3ZhciBmLGksajtpZihjJiYoZHx8ND09PWcucmVhZHlTdGF0ZSkpaWYoZGVsZXRlIGZjW2hdLGM9dm9pZCAwLGcub25yZWFkeXN0YXRlY2hhbmdlPW4ubm9vcCxkKTQhPT1nLnJlYWR5U3RhdGUmJmcuYWJvcnQoKTtlbHNle2o9e30sZj1nLnN0YXR1cywic3RyaW5nIj09dHlwZW9mIGcucmVzcG9uc2VUZXh0JiYoai50ZXh0PWcucmVzcG9uc2VUZXh0KTt0cnl7aT1nLnN0YXR1c1RleHR9Y2F0Y2goayl7aT0iIn1mfHwhYi5pc0xvY2FsfHxiLmNyb3NzRG9tYWluPzEyMjM9PT1mJiYoZj0yMDQpOmY9ai50ZXh0PzIwMDo0MDR9aiYmZShmLGksaixnLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX0sYi5hc3luYz80PT09Zy5yZWFkeVN0YXRlP2Euc2V0VGltZW91dChjKTpnLm9ucmVhZHlzdGF0ZWNoYW5nZT1mY1toXT1jOmMoKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKHZvaWQgMCwhMCl9fX19KTtmdW5jdGlvbiBoYygpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBpYygpe3RyeXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChiKXt9fW4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLG4uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjPWQuaGVhZHx8bigiaGVhZCIpWzBdfHxkLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe2I9ZC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLmFzeW5jPSEwLGEuc2NyaXB0Q2hhcnNldCYmKGIuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGIuc3JjPWEudXJsLGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7KGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSkmJihiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxmKDIwMCwic3VjY2VzcyIpKX0sYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2ImJmIub25sb2FkKHZvaWQgMCwhMCl9fX19KTt2YXIgamM9W10sa2M9Lyg9KVw/KD89JnwkKXxcP1w/LztuLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9amMucG9wKCl8fG4uZXhwYW5kbysiXyIrRWIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKGtjLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYma2MudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKGtjLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShGYi50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP24oYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssamMucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fGQ7dmFyIGU9eC5leGVjKGEpLGY9IWMmJltdO3JldHVybiBlP1tiLmNyZWF0ZUVsZW1lbnQoZVsxXSldOihlPWphKFthXSxiLGYpLGYmJmYubGVuZ3RoJiZuKGYpLnJlbW92ZSgpLG4ubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9O3ZhciBsYz1uLmZuLmxvYWQ7bi5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJmxjKXJldHVybiBsYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZigiICIpO3JldHVybiBoPi0xJiYoZD1uLnRyaW0oYS5zbGljZShoLGEubGVuZ3RoKSksYT1hLnNsaWNlKDAsaCkpLG4uaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiYib2JqZWN0Ij09dHlwZW9mIGImJihlPSJQT1NUIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmV8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP24oIjxkaXY+IikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sbi5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07ZnVuY3Rpb24gbWMoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsInBvc2l0aW9uIiksbD1uKGEpLG09e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLCJ0b3AiKSxpPW4uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiZuLmluQXJyYXkoImF1dG8iLFtmLGldKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLG4uZXh0ZW5kKHt9LGgpKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXt0b3A6MCxsZWZ0OjB9LGU9dGhpc1swXSxmPWUmJmUub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixlKT8oInVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1tYyhmKSx7dG9wOmQudG9wKyhjLnBhZ2VZT2Zmc2V0fHxiLnNjcm9sbFRvcCktKGIuY2xpZW50VG9wfHwwKSxsZWZ0OmQubGVmdCsoYy5wYWdlWE9mZnNldHx8Yi5zY3JvbGxMZWZ0KS0oYi5jbGllbnRMZWZ0fHwwKX0pOmR9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXt0b3A6MCxsZWZ0OjB9LGQ9dGhpc1swXTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoZCwicG9zaXRpb24iKT9iPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1sIil8fChjPWEub2Zmc2V0KCkpLGMudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLGMubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6Yi50b3AtYy50b3Atbi5jc3MoZCwibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtYy5sZWZ0LW4uY3NzKGQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShhJiYhbi5ub2RlTmFtZShhLCJodG1sIikmJiJzdGF0aWMiPT09bi5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxRYX0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPS9ZLy50ZXN0KGIpO24uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9bWMoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9iIGluIGY/ZltiXTpmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/bihmKS5zY3JvbGxMZWZ0KCk6ZSxjP2U6bihmKS5zY3JvbGxUb3AoKSk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksbi5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT1VYShsLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1TYShhLGIpLE9hLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxuLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7CnBhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGVbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGVbIm9mZnNldCIrYV0sZVsiY2xpZW50IithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsIioqIik6dGhpcy5vZmYoYixhfHwiKioiLGMpfX0pLG4uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sbi5mbi5hbmRTZWxmPW4uZm4uYWRkQmFjaywiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBuYz1hLmpRdWVyeSxvYz1hLiQ7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYmKGEuJD1vYyksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9bmMpLG59LGJ8fChhLmpRdWVyeT1hLiQ9biksbn0pOwo="},{"meta":{"name":"gm4-polyfill.js","url":"https://greasemonkey.github.io/gm4-polyfill/gm4-polyfill.js","ts":1583724394923,"mimetype":"text/javascript"},"source":"LyoKVGhpcyBoZWxwZXIgc2NyaXB0IGJyaWRnZXMgY29tcGF0aWJpbGl0eSBiZXR3ZWVuIHRoZSBHcmVhc2Vtb25rZXkgNCBBUElzIGFuZApleGlzdGluZy9sZWdhY3kgQVBJcy4gIFNheSBmb3IgZXhhbXBsZSB5b3VyIHVzZXIgc2NyaXB0IGluY2x1ZGVzCgogICAgLy8gQGdyYW50IEdNX2dldFZhbHVlCgpBbmQgeW91J2QgbGlrZSB0byBiZSBjb21wYXRpYmxlIHdpdGggYm90aCBHcmVhc2Vtb25rZXkgMyBhbmQgR3JlYXNlbW9ua2V5IDQKKGFuZCBmb3IgdGhhdCBtYXR0ZXIgYWxsIHZlcnNpb25zIG9mIFZpb2xlbnRtb25rZXksIFRhbXBlcm1vbmtleSwgYW5kIGFueSBvdGhlcgp1c2VyIHNjcmlwdCBlbmdpbmUpLiAgQWRkOgoKICAgIC8vIEBncmFudCBHTS5nZXRWYWx1ZQogICAgLy8gQHJlcXVpcmUgaHR0cHM6Ly9ncmVhc2Vtb25rZXkuZ2l0aHViLmlvL2dtNC1wb2x5ZmlsbC9nbTQtcG9seWZpbGwuanMKCkFuZCBzd2l0Y2ggdG8gdGhlIG5ldyAoR00tZG90KSBBUElzLCB3aGljaCByZXR1cm4gcHJvbWlzZXMuICBJZiB5b3VyIHNjcmlwdAppcyBydW5uaW5nIGluIGFuIGVuZ2luZSB0aGF0IGRvZXMgbm90IHByb3ZpZGUgdGhlIG5ldyBhc3luY2hyb25vdXMgQVBJcywgdGhpcwpoZWxwZXIgd2lsbCBhZGQgdGhlbSwgYmFzZWQgb24gdGhlIG9sZCBBUElzLgoKSWYgeW91IHVzZSBgYXdhaXRgIGF0IHRoZSB0b3AgbGV2ZWwsIHlvdSdsbCBuZWVkIHRvIHdyYXAgeW91ciBzY3JpcHQgaW4gYW4KYGFzeW5jYCBmdW5jdGlvbiB0byBiZSBjb21wYXRpYmxlIHdpdGggYW55IHVzZXIgc2NyaXB0IGVuZ2luZSBiZXNpZGVzCkdyZWFzZW1vbmtleSA0LgoKICAgIChhc3luYyAoKSA9PiB7CiAgICBsZXQgeCA9IGF3YWl0IEdNLmdldFZhbHVlKCd4Jyk7CiAgICB9KSgpOwoqLwoKaWYgKHR5cGVvZiBHTSA9PSAndW5kZWZpbmVkJykgewogIHRoaXMuR00gPSB7fTsKfQoKCmlmICh0eXBlb2YgR01fYWRkU3R5bGUgPT0gJ3VuZGVmaW5lZCcpIHsKICB0aGlzLkdNX2FkZFN0eWxlID0gKGFDc3MpID0+IHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGxldCBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTsKICAgIGlmIChoZWFkKSB7CiAgICAgIGxldCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpOwogICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGFDc3M7CiAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgICByZXR1cm4gc3R5bGU7CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9Owp9CgoKaWYgKHR5cGVvZiBHTV9yZWdpc3Rlck1lbnVDb21tYW5kID09ICd1bmRlZmluZWQnKSB7CiAgdGhpcy5HTV9yZWdpc3Rlck1lbnVDb21tYW5kID0gKGNhcHRpb24sIGNvbW1hbmRGdW5jLCBhY2Nlc3NLZXkpID0+IHsKICAgIGlmICghZG9jdW1lbnQuYm9keSkgewogICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnCiAgICAgICAgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sb2NhbE5hbWUgPT09ICdodG1sJykgewogICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSkgewogICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoY2FwdGlvbiwgY29tbWFuZEZ1bmMsIGFjY2Vzc0tleSk7CiAgICAgICAgICB9CiAgICAgICAgfSkub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtjaGlsZExpc3Q6IHRydWV9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdHTV9yZWdpc3Rlck1lbnVDb21tYW5kIGdvdCBubyBib2R5LicpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGxldCBjb250ZXh0TWVudSA9IGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKCdjb250ZXh0bWVudScpOwogICAgbGV0IG1lbnUgPSAoY29udGV4dE1lbnUgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZW51IycgKyBjb250ZXh0TWVudSkgOiBudWxsKTsKICAgIGlmICghbWVudSkgewogICAgICBtZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWVudScpOwogICAgICBtZW51LnNldEF0dHJpYnV0ZSgnaWQnLCAnZ20tcmVnaXN0ZXJlZC1tZW51Jyk7CiAgICAgIG1lbnUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NvbnRleHQnKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtZW51KTsKICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2NvbnRleHRtZW51JywgJ2dtLXJlZ2lzdGVyZWQtbWVudScpOwogICAgfQogICAgbGV0IG1lbnVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWVudWl0ZW0nKTsKICAgIG1lbnVJdGVtLnRleHRDb250ZW50ID0gY2FwdGlvbjsKICAgIG1lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29tbWFuZEZ1bmMsIHRydWUpOwogICAgbWVudS5hcHBlbmRDaGlsZChtZW51SXRlbSk7CiAgfTsKfQoKCmlmICh0eXBlb2YgR01fZ2V0UmVzb3VyY2VUZXh0ID09ICd1bmRlZmluZWQnKSB7CiAgdGhpcy5HTV9nZXRSZXNvdXJjZVRleHQgPSAoYVJlcykgPT4gewogICAgJ3VzZSBzdHJpY3QnOwogICAgcmV0dXJuIEdNLmdldFJlc291cmNlVXJsKGFSZXMpCiAgICAgIC50aGVuKHVybCA9PiBmZXRjaCh1cmwpKQogICAgICAudGhlbihyZXNwID0+IHJlc3AudGV4dCgpKQogICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICBHTS5sb2coJ1JlcXVlc3QgZmFpbGVkJywgZXJyb3IpOwogICAgICAgIHJldHVybiBudWxsOwogICAgICB9KTsKICB9Owp9CgoKT2JqZWN0LmVudHJpZXMoewogICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLCAgLy8gUGFsZSBNb29uIGNvbXBhdGliaWxpdHkuICBTZWUgIzEzLgogICdpbmZvJzogR01faW5mbywKfSkuZm9yRWFjaCgoW25ld0tleSwgb2xkXSkgPT4gewogIGlmIChvbGQgJiYgKHR5cGVvZiBHTVtuZXdLZXldID09ICd1bmRlZmluZWQnKSkgewogICAgR01bbmV3S2V5XSA9IG9sZDsKICB9Cn0pOwoKCk9iamVjdC5lbnRyaWVzKHsKICAnR01fYWRkU3R5bGUnOiAnYWRkU3R5bGUnLAogICdHTV9kZWxldGVWYWx1ZSc6ICdkZWxldGVWYWx1ZScsCiAgJ0dNX2dldFJlc291cmNlVVJMJzogJ2dldFJlc291cmNlVXJsJywKICAnR01fZ2V0VmFsdWUnOiAnZ2V0VmFsdWUnLAogICdHTV9saXN0VmFsdWVzJzogJ2xpc3RWYWx1ZXMnLAogICdHTV9ub3RpZmljYXRpb24nOiAnbm90aWZpY2F0aW9uJywKICAnR01fb3BlbkluVGFiJzogJ29wZW5JblRhYicsCiAgJ0dNX3JlZ2lzdGVyTWVudUNvbW1hbmQnOiAncmVnaXN0ZXJNZW51Q29tbWFuZCcsCiAgJ0dNX3NldENsaXBib2FyZCc6ICdzZXRDbGlwYm9hcmQnLAogICdHTV9zZXRWYWx1ZSc6ICdzZXRWYWx1ZScsCiAgJ0dNX3htbGh0dHBSZXF1ZXN0JzogJ3htbEh0dHBSZXF1ZXN0JywKICAnR01fZ2V0UmVzb3VyY2VUZXh0JzogJ2dldFJlc291cmNlVGV4dCcsCn0pLmZvckVhY2goKFtvbGRLZXksIG5ld0tleV0pID0+IHsKICBsZXQgb2xkID0gdGhpc1tvbGRLZXldOwogIGlmIChvbGQgJiYgKHR5cGVvZiBHTVtuZXdLZXldID09ICd1bmRlZmluZWQnKSkgewogICAgR01bbmV3S2V5XSA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICB0cnkgewogICAgICAgICAgcmVzb2x2ZShvbGQuYXBwbHkodGhpcywgYXJncykpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJlamVjdChlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9Cn0pOwo="}]},{"name":"知乎、简书、csdn、实验楼剪切板消毒","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.shiyanlou.com/*","*://*.jianshu.com/*","*://*.zhihu.com/*","*://*.csdn.net/*","*://*.imooc.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1571242711207},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/367724-%E7%9F%A5%E4%B9%8E-%E7%AE%80%E4%B9%A6-csdn-%E5%AE%9E%E9%AA%8C%E6%A5%BC%E5%89%AA%E5%88%87%E6%9D%BF%E6%B6%88%E6%AF%92/code/%E7%9F%A5%E4%B9%8E%E3%80%81%E7%AE%80%E4%B9%A6%E3%80%81csdn%E3%80%81%E5%AE%9E%E9%AA%8C%E6%A5%BC%E5%89%AA%E5%88%87%E6%9D%BF%E6%B6%88%E6%AF%92.user.js","uuid":"004e6f2e-5dce-4f69-bc92-9a4411ef422b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnn6XkuY7jgIHnroDkuabjgIFjc2Ru44CB5a6e6aqM5qW85Ymq5YiH5p2/5raI5q+SCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RhbXBlcm1vbmtleS5uZXQvCi8vIEB2ZXJzaW9uICAgICAgMC4yLjIKLy8gQGRlc2NyaXB0aW9uICDlpI3liLbkuIDkupvnvZHnq5nmloflrZfml7bvvIzkvJrlnKjkvaDliarliIfmnb/nmoTmnIDlkI7liqDkuIrpk77mjqXku4DkuYjnmoTkv6Hmga/vvIzlvojorqjljozjgILmiorov5nkupvpop3lpJbnmoTkuJzopb/lhajlubLmjokKLy8gQGF1dGhvciAgICAgICBZb3UKLy8gQG1hdGNoICAgICAgICAqOi8vKi5zaGl5YW5sb3UuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5qaWFuc2h1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouemhpaHUuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5jc2RuLm5ldC8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouaW1vb2MuY29tLyoKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8vIFlvdXIgY29kZSBoZXJlLi4uCiAgICBmdW5jdGlvbiBhZGRMaW5rKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHZhciBwYWdlbGluayA9ICdcblJlYWQgbW9yZTogJyArIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsCiAgICBjb3B5dGV4dCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTsKICAgIHZhciBjbGlwZGF0YSA9IGUuY2xpcGJvYXJkRGF0YSB8fCB3aW5kb3cuY2xpcGJvYXJkRGF0YTsKICAgIGlmIChjbGlwZGF0YSkgewogICAgICAgIGNsaXBkYXRhLnNldERhdGEoJ1RleHQnLCBjb3B5dGV4dCk7CiAgICB9Cn0KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29weScsIGFkZExpbmspOwp9KSgpOw=="},{"name":"站酷网添加图片下载按钮","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http*://www.zcool.com.cn/work/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1571242711217},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/371416-%E7%AB%99%E9%85%B7%E7%BD%91%E6%B7%BB%E5%8A%A0%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD%E6%8C%89%E9%92%AE/code/%E7%AB%99%E9%85%B7%E7%BD%91%E6%B7%BB%E5%8A%A0%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD%E6%8C%89%E9%92%AE.user.js","uuid":"8027ffb7-fffa-49aa-b6d0-7f8b7d225cfd","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnq5nphbfnvZHmt7vliqDlm77niYfkuIvovb3mjInpkq4KLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3VzZXJzLzE5MzEzMy1wYW5hCi8vIEBob21lcGFnZSAgICAgaHR0cHM6Ly93d3cuc2FpbGJvYXR3ZWIuY29tCi8vIEB2ZXJzaW9uICAgICAgMi40LjMKLy8gQGRlc2NyaXB0aW9uICDmt7vliqDkuIvovb3ljp/lm77mjInpkq4KLy8gQGF1dGhvciAgICAgICBwYW5hCi8vIEBpbmNsdWRlICAgICAgaHR0cCo6Ly93d3cuemNvb2wuY29tLmNuL3dvcmsvKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2Nkbi5ib290Y3NzLmNvbS9GaWxlU2F2ZXIuanMvMS4zLjgvRmlsZVNhdmVyLm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8zNzYxNTctZG93bmxvYWRwaWMvY29kZS9kb3dubG9hZFBpYy5qcz92ZXJzaW9uPTczMzk2NwovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKCSd1c2Ugc3RyaWN0JzsKCWNvbnN0IFpDT09MX1ZBTFVFID0gewoJCUdST1VQX1JFRzogL14oaHR0cDp8aHR0cHM6KT9cL1wvaW1nXC56Y29vbFwuY25cL1swLTlhLXovXC1fLl0rXC4oanBnfGpwZWd8cG5nfGJtcHxnaWYpL2ksCgkJRE9XTkxPQURfQlROOiB7CgkJCUlDT05fVVJMOiAndXJsKGh0dHBzOi8vc3RhdGljLmhlbGxvcmYuY29tL3YxODA4MTcxMTU3MDAvaGVsbG9yZi9pbWFnZXMvaWNvbnBpYy1yLWNhY2hlLWhvdmVyLnN2ZyknLAoJCQlCQUNLR1JPVU5EX0NPTE9SOiB7CgkJCQlNT1VTRV9MRUFWRTogJ3JnYmEoMCwgMCwgMCwgMC41KScsCgkJCQlNT1VTRV9FTlRFUjogJ3JnYmEoMCwgMCwgMCwgMC44KScKCQkJfQoJCX0KCX07Cgl2YXIgbnVtYmVyX29iaiA9IG5ldyBEb3dubG9hZF9OdW1iZXJfT2JqKCk7CgoJZnVuY3Rpb24gdXBkYXRlX1Byb2dyZXNzKF9jb3VudF9udW0sIHBlcmNlbnRfY29tcGxldGUsIGJ0bikgewoJCWJ0bi5pbm5lclRleHQgPSB0aGlzLmdldFRleHRWYWx1ZSgpICsgJygnICsgcGVyY2VudF9jb21wbGV0ZSArICclKScKCX0KCWZ1bmN0aW9uIHRyYW5zZmVyX0NvbXBsZXRlKF9jb3VudF9udW0sIGJ0bikgewoJCWJ0bi5pbm5lclRleHQgPSB0aGlzLmdldFRleHRWYWx1ZSgpICsgJygxMDAlKSc7CgkJYnRuLmRvd25sb2FkQ29tcGxldGVkKCk7CgkJbnVtYmVyX29iai5hZGRDb21wbGV0ZWQoKTsKCQkkKCdwI3Byb2dyZXNzQnRuJykudGV4dChudW1iZXJfb2JqLmdldFByb2dyZXNzU3RyaW5nKCkpCgl9CglmdW5jdGlvbiBkb3dubG9hZF9TdGFydChfY291bnQsIGJ0bikgewoJCWJ0bi5pbm5lclRleHQgKz0gJyguLi4pJzsKCQludW1iZXJfb2JqLmFkZFRvdGFsKCk7CgkJJCgicCNwcm9ncmVzc0J0biIpLnRleHQobnVtYmVyX29iai5nZXRQcm9ncmVzc1N0cmluZygpKQoJfQoJZnVuY3Rpb24gYWRkX0Rvd25sb2FkX0J0bihpbWdfc3JjLCBjb3VudCkgewoJCWxldCBkb3dubG9hZF9vYmogPSBuZXcgRG93bmxvYWRfUGljX09iaihpbWdfc3JjLCBjb3VudCk7CgkJbGV0IGRvd25sb2FkX2J0biA9IGRvd25sb2FkX29iai5jcmVhdGVEb3dubG9hZEJ0bihkb3dubG9hZF9TdGFydCwgc2F2ZUFzLCB1cGRhdGVfUHJvZ3Jlc3MsIHRyYW5zZmVyX0NvbXBsZXRlLCB7CgkJCSdwb3NpdGlvbic6ICdhYnNvbHV0ZScsCgkJCSd0b3AnOiAnMzBweCcsCgkJCSdsZWZ0JzogJzMwcHgnLAoJCQknZGlzcGxheSc6ICdibG9jaycsCgkJCSdib3JkZXItcmFkaXVzJzogJzRweCcsCgkJCSd0ZXh0LWFsaWduJzogJ2NlbnRlcicsCgkJCSd2ZXJ0aWNhbC1hbGlnbic6ICdtaWRkbGUnLAoJCQknem9vbSc6ICcxJywKCQkJJ3BhZGRpbmctbGVmdCc6ICczNnB4JywKCQkJJ3BhZGRpbmctcmlnaHQnOiAnMTJweCcsCgkJCSdoZWlnaHQnOiAnMjhweCcsCgkJCSdjb2xvcic6ICcjZmZmJywKCQkJJ2ZvbnQtc2l6ZSc6ICcxMnB4JywKCQkJJ2xpbmUtaGVpZ2h0JzogJzI4cHgnLAoJCQknYmFja2dyb3VuZC1jb2xvcic6IFpDT09MX1ZBTFVFLkRPV05MT0FEX0JUTi5CQUNLR1JPVU5EX0NPTE9SLk1PVVNFX0xFQVZFLAoJCQknYmFja2dyb3VuZC1pbWFnZSc6IFpDT09MX1ZBTFVFLkRPV05MT0FEX0JUTi5JQ09OX1VSTCwKCQkJJ2JhY2tncm91bmQtcmVwZWF0JzogJ25vLXJlcGVhdCcsCgkJCSdiYWNrZ3JvdW5kLXBvc2l0aW9uJzogJzEzcHggY2VudGVyJywKCQkJJ2JhY2tncm91bmQtc2l6ZSc6ICcxNnB4IDE0cHgnCgkJfSwgZnVuY3Rpb24oKSB7CgkJCXRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gWkNPT0xfVkFMVUUuRE9XTkxPQURfQlROLkJBQ0tHUk9VTkRfQ09MT1IuTU9VU0VfRU5URVIKCQl9LCBmdW5jdGlvbigpIHsKCQkJdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBaQ09PTF9WQUxVRS5ET1dOTE9BRF9CVE4uQkFDS0dST1VORF9DT0xPUi5NT1VTRV9MRUFWRQoJCX0pOwoJCXJldHVybiBkb3dubG9hZF9idG4KCX0KCWZ1bmN0aW9uIGFkZF9Eb3dubG9hZF9BbGxfQnRuKCkgewoJCWxldCBkb3dubG9hZF9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCQlkb3dubG9hZF9kaXYuY2xhc3NOYW1lID0gJ3NpZGViYXItZml4ZWRfYm94IGNvbGxlY3QtbWlkZGxlLWljb24nOwoJCWRvd25sb2FkX2Rpdi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKGh0dHBzOi8vc3RhdGljLmhlbGxvcmYuY29tL3YxODA4MTcxMTU3MDAvaGVsbG9yZi9pbWFnZXMvaWNvbnBpYy1yLWNhY2hlLnN2ZyknOwoJCWRvd25sb2FkX2Rpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChET1dOTE9BRF9QSUMuU1RSSU5HLklEX05BTUUpLmNsaWNrKCkKCQl9KTsKCQlsZXQgZG93bmxvYWRfYWxsX29iaiA9IG5ldyBEb3dubG9hZF9BbGxfUGljX09iaigpOwoJCWRvd25sb2FkX2FsbF9vYmouc2V0VGV4dFZhbHVlKCcnKTsKCQlsZXQgZG93bmxvYWRfYWxsX2J0biA9IGRvd25sb2FkX2FsbF9vYmouY3JlYXRlRG93bmxvYWRCdG4oRE9XTkxPQURfUElDLlNUUklORy5DTEFTU19OQU1FKTsKCQlkb3dubG9hZF9kaXYuYXBwZW5kQ2hpbGQoZG93bmxvYWRfYWxsX2J0bik7CgkJbGV0IGRvd25sb2FkX3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7CgkJZG93bmxvYWRfcC5jbGFzc05hbWUgPSAnc2lkZWJhci1maXhlZF93YXJtLXByb21wdCc7CgkJZG93bmxvYWRfcC5pbm5lclRleHQgPSBET1dOTE9BRF9QSUMuVEVYVC5ET1dOTE9BRF9BTEw7CgkJZG93bmxvYWRfZGl2LmFwcGVuZENoaWxkKGRvd25sb2FkX3ApOwoJCXJldHVybiBkb3dubG9hZF9kaXYKCX0KCWZ1bmN0aW9uIGFkZF9Qcm9ncmVzc19CdG4oKSB7CgkJbGV0IHByb2dyZXNzX2J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCXByb2dyZXNzX2J0bi5pZCA9ICdkaXZQcm9ncmVzcyc7CgkJcHJvZ3Jlc3NfYnRuLmNsYXNzTmFtZSA9ICdzaWRlYmFyLWZpeGVkX2JveCBjb2xsZWN0LW1pZGRsZS1pY29uJzsKCQlwcm9ncmVzc19idG4uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ25vbmUnOwoJCWxldCBwX3RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7CgkJcF90ZXh0LmlkID0gJ3Byb2dyZXNzVGV4dCc7CgkJcF90ZXh0LmNsYXNzTmFtZSA9ICdzaWRlYmFyLWZpeGVkX3dhcm0tcHJvbXB0JzsKCQlwX3RleHQuaW5uZXJUZXh0ID0gJ+S4i+i9vei/m+W6pic7CgkJcHJvZ3Jlc3NfYnRuLmFwcGVuZENoaWxkKHBfdGV4dCk7CgkJbGV0IHBfYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOwoJCXBfYnRuLmlkID0gJ3Byb2dyZXNzQnRuJzsKCQlwX2J0bi5pbm5lclRleHQgPSBudW1iZXJfb2JqLmdldFByb2dyZXNzU3RyaW5nKCk7CgkJJChwX2J0bikuY3NzKHsKCQkJJ3RleHQtYWxpZ24nOiAnY2VudGVyJywKCQkJJ2xpbmUtaGVpZ2h0JzogJzUwcHgnLAoJCX0pOwoJCXByb2dyZXNzX2J0bi5hcHBlbmRDaGlsZChwX2J0bik7CgkJcmV0dXJuIHByb2dyZXNzX2J0bgoJfQoJZnVuY3Rpb24gcGljX0luaXQoY19udW0pIHsKCQlsZXQgd29ya19pbWdfZ3JvdXAgPSAkKCJkaXYud29yay1zaG93LWJveCBpbWciKTsKCQlmb3IgKDsgY19udW0gPCB3b3JrX2ltZ19ncm91cC5sZW5ndGg7IGNfbnVtKyspIHsKCQkJd29ya19pbWdfZ3JvdXAuZXEoY19udW0pLnBhcmVudCgpLmNzcygncG9zaXRpb24nLCAncmVsYXRpdmUnKTsKCQkJbGV0IHdvcmtfaW1nX3NyYyA9IHdvcmtfaW1nX2dyb3VwLmVxKGNfbnVtKS5hdHRyKCdzcmMnKTsKCQkJd29ya19pbWdfc3JjID0gWkNPT0xfVkFMVUUuR1JPVVBfUkVHLmV4ZWMod29ya19pbWdfc3JjKVswXTsKCQkJd29ya19pbWdfZ3JvdXAuZXEoY19udW0pLmFmdGVyKGFkZF9Eb3dubG9hZF9CdG4od29ya19pbWdfc3JjLCBjX251bSkpCgkJfQoJCXJldHVybiBjX251bQoJfQoJZnVuY3Rpb24gaW5pdCgpIHsKCQlsZXQgY291bnRfbnVtID0gMDsKCQljb3VudF9udW0gPSBwaWNfSW5pdChjb3VudF9udW0pOwoJCWxldCBmaXhlZF9ib3ggPSAkKCcuZGV0YWlscy1zaWRlYmFyLWZpeGVkLWJveCcpOwoJCWZpeGVkX2JveC5wcmVwZW5kKGFkZF9Qcm9ncmVzc19CdG4oKSk7CgkJZml4ZWRfYm94LnByZXBlbmQoYWRkX0Rvd25sb2FkX0FsbF9CdG4oKSk7CgkJbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7CgkJCWNvdW50X251bSA9IHBpY19Jbml0KGNvdW50X251bSkKCQl9KTsKCQlsZXQgbGlzdGVuZXJfY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZGl2Lndvcmstc2hvdy1ib3giKTsKCQlsZXQgb3B0aW9uID0gewoJCQknY2hpbGRMaXN0JzogdHJ1ZQoJCX07CgkJb2JzZXJ2ZXIub2JzZXJ2ZShsaXN0ZW5lcl9jb250YWluZXIsIG9wdGlvbikKCX0KCWluaXQoKQp9KSgpOw==","requires":[{"meta":{"name":"FileSaver.min.js","url":"https://cdn.bootcss.com/FileSaver.js/1.3.8/FileSaver.min.js","ts":1571242711208,"mimetype":"text/javascript"},"source":"LyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi8KdmFyIHNhdmVBcz1zYXZlQXN8fGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtpZih0eXBlb2YgZT09PSJ1bmRlZmluZWQifHx0eXBlb2YgbmF2aWdhdG9yIT09InVuZGVmaW5lZCImJi9NU0lFIFsxLTldXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpe3JldHVybn12YXIgdD1lLmRvY3VtZW50LG49ZnVuY3Rpb24oKXtyZXR1cm4gZS5VUkx8fGUud2Via2l0VVJMfHxlfSxyPXQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiYSIpLG89ImRvd25sb2FkImluIHIsYT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgTW91c2VFdmVudCgiY2xpY2siKTtlLmRpc3BhdGNoRXZlbnQodCl9LGk9L2NvbnN0cnVjdG9yL2kudGVzdChlLkhUTUxFbGVtZW50KXx8ZS5zYWZhcmksZj0vQ3JpT1NcL1tcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHU9ZnVuY3Rpb24odCl7KGUuc2V0SW1tZWRpYXRlfHxlLnNldFRpbWVvdXQpKGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9LHM9ImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSIsZD0xZTMqNDAsYz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe2lmKHR5cGVvZiBlPT09InN0cmluZyIpe24oKS5yZXZva2VPYmplY3RVUkwoZSl9ZWxzZXtlLnJlbW92ZSgpfX07c2V0VGltZW91dCh0LGQpfSxsPWZ1bmN0aW9uKGUsdCxuKXt0PVtdLmNvbmNhdCh0KTt2YXIgcj10Lmxlbmd0aDt3aGlsZShyLS0pe3ZhciBvPWVbIm9uIit0W3JdXTtpZih0eXBlb2Ygbz09PSJmdW5jdGlvbiIpe3RyeXtvLmNhbGwoZSxufHxlKX1jYXRjaChhKXt1KGEpfX19fSxwPWZ1bmN0aW9uKGUpe2lmKC9eXHMqKD86dGV4dFwvXFMqfGFwcGxpY2F0aW9uXC94bWx8XFMqXC9cUypcK3htbClccyo7LipjaGFyc2V0XHMqPVxzKnV0Zi04L2kudGVzdChlLnR5cGUpKXtyZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoNjUyNzkpLGVdLHt0eXBlOmUudHlwZX0pfXJldHVybiBlfSx2PWZ1bmN0aW9uKHQsdSxkKXtpZighZCl7dD1wKHQpfXZhciB2PXRoaXMsdz10LnR5cGUsbT13PT09cyx5LGg9ZnVuY3Rpb24oKXtsKHYsIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmQiLnNwbGl0KCIgIikpfSxTPWZ1bmN0aW9uKCl7aWYoKGZ8fG0mJmkpJiZlLkZpbGVSZWFkZXIpe3ZhciByPW5ldyBGaWxlUmVhZGVyO3Iub25sb2FkZW5kPWZ1bmN0aW9uKCl7dmFyIHQ9Zj9yLnJlc3VsdDpyLnJlc3VsdC5yZXBsYWNlKC9eZGF0YTpbXjtdKjsvLCJkYXRhOmF0dGFjaG1lbnQvZmlsZTsiKTt2YXIgbj1lLm9wZW4odCwiX2JsYW5rIik7aWYoIW4pZS5sb2NhdGlvbi5ocmVmPXQ7dD11bmRlZmluZWQ7di5yZWFkeVN0YXRlPXYuRE9ORTtoKCl9O3IucmVhZEFzRGF0YVVSTCh0KTt2LnJlYWR5U3RhdGU9di5JTklUO3JldHVybn1pZigheSl7eT1uKCkuY3JlYXRlT2JqZWN0VVJMKHQpfWlmKG0pe2UubG9jYXRpb24uaHJlZj15fWVsc2V7dmFyIG89ZS5vcGVuKHksIl9ibGFuayIpO2lmKCFvKXtlLmxvY2F0aW9uLmhyZWY9eX19di5yZWFkeVN0YXRlPXYuRE9ORTtoKCk7Yyh5KX07di5yZWFkeVN0YXRlPXYuSU5JVDtpZihvKXt5PW4oKS5jcmVhdGVPYmplY3RVUkwodCk7c2V0VGltZW91dChmdW5jdGlvbigpe3IuaHJlZj15O3IuZG93bmxvYWQ9dTthKHIpO2goKTtjKHkpO3YucmVhZHlTdGF0ZT12LkRPTkV9KTtyZXR1cm59UygpfSx3PXYucHJvdG90eXBlLG09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuZXcgdihlLHR8fGUubmFtZXx8ImRvd25sb2FkIixuKX07aWYodHlwZW9mIG5hdmlnYXRvciE9PSJ1bmRlZmluZWQiJiZuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt0PXR8fGUubmFtZXx8ImRvd25sb2FkIjtpZighbil7ZT1wKGUpfXJldHVybiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihlLHQpfX13LmFib3J0PWZ1bmN0aW9uKCl7fTt3LnJlYWR5U3RhdGU9dy5JTklUPTA7dy5XUklUSU5HPTE7dy5ET05FPTI7dy5lcnJvcj13Lm9ud3JpdGVzdGFydD13Lm9ucHJvZ3Jlc3M9dy5vbndyaXRlPXcub25hYm9ydD13Lm9uZXJyb3I9dy5vbndyaXRlZW5kPW51bGw7cmV0dXJuIG19KHR5cGVvZiBzZWxmIT09InVuZGVmaW5lZCImJnNlbGZ8fHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIiYmd2luZG93fHx0aGlzLmNvbnRlbnQpO2lmKHR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIiYmbW9kdWxlLmV4cG9ydHMpe21vZHVsZS5leHBvcnRzLnNhdmVBcz1zYXZlQXN9ZWxzZSBpZih0eXBlb2YgZGVmaW5lIT09InVuZGVmaW5lZCImJmRlZmluZSE9PW51bGwmJmRlZmluZS5hbWQhPT1udWxsKXtkZWZpbmUoIkZpbGVTYXZlci5qcyIsZnVuY3Rpb24oKXtyZXR1cm4gc2F2ZUFzfSl9Cg=="},{"meta":{"name":"downloadPic.js","url":"https://greasyfork.org/scripts/376157-downloadpic/code/downloadPic.js?version=733967","ts":1571242711210,"mimetype":"text/javascript"},"source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBkb3dubG9hZFBpYwovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vdXNlcnMvMTkzMTMzLXBhbmEKLy8gQGhvbWVwYWdlICAgICBodHRwczovL3d3dy5zYWlsYm9hdHdlYi5jb20KLy8gQHZlcnNpb24gICAgICAzLjEuNQovLyBAZGVzY3JpcHRpb24gIERPV05MT0FEX1BJQwovLyBAYXV0aG9yICAgICAgIHBhbmEKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKY29uc3QgRE9XTkxPQURfUElDID0gewoJU1lNQk9MOiB7CgkJVU5ERVJMSU5FOiAnXycsCgkJRElWSURFOiAnLycsCgl9LAoJVEVYVDogewoJCURPV05MT0FEOiAn5LiL6L295Y6f5Zu+JywKCQlET1dOTE9BRF9BTEw6ICfkuIvovb3lhajpg6jljp/lm74nLAoJCVZJRVc6ICfmn6XnnIvljp/lm74nLAoJCUNPTVBMRVRFRDogJ+S4i+i9veWujOaIkCcsCgl9LAoJU1RSSU5HOiB7CgkJQ0xBU1NfTkFNRTogJ2Rvd25sb2FkX3BpYycsCgkJQUxMX0NMQVNTX05BTUU6ICdkb3dubG9hZF9hbGxfcGljJywKCQlWSUVXX0NMQVNTX05BTUU6ICdkaXNwbGF5X3BpYycsCgkJSURfTkFNRTogJ3RoZV9kb3dubG9hZF9waWMnLAoJfSwKCVJFRzogewoJCU5BTUU6IC9bXi9dK1wuKGpwZ3xqcGVnfHBuZ3xibXB8Z2lmKS9pLAoJCUVYVEVOU0lPTjogL1wuKGpwZ3xqcGVnfHBuZ3xibXB8Z2lmKS9pCgl9LAoJTlVNQkVSOiB7CgkJQ0hST01FX0xJTUlUOiAxMCwKCQlTTEVFUF9VTklUOiAyMDAwLAoJfQp9Owpjb25zdCBDT1BZX1RJVExFID0gewoJVEVYVDogewoJCUxBQkVMOiAn5aSN5Yi25qCH6aKYJywKCQlDT01QTEVURUQ6ICflpI3liLbmiJDlip8nLAoJfSwKCVNUUklORzogewoJCUNMQVNTX05BTUU6ICdjb3B5VGl0bGVCdG4nLAoJfSwKCVJFRzogewoJCUNMRUFOSU5HOiAvW1xcLyo/PD4ifDpdL2csCgkJU1BBQ0U6IC9eXHMrfFxzJC9nLAoJfQp9OwpjbGFzcyBCdXR0b25fT2JqIHsKCWNvbnN0cnVjdG9yKHRleHRfdmFsdWUsIGNsYXNzX25hbWUpIHsKCQl0aGlzLnRleHRWYWx1ZSA9IHRleHRfdmFsdWU7CgkJdGhpcy5jbGFzc05hbWUgPSBjbGFzc19uYW1lCgl9CglnZXRUZXh0VmFsdWUoKSB7CgkJcmV0dXJuIHRoaXMudGV4dFZhbHVlCgl9CglnZXRDbGFzc05hbWUoKSB7CgkJcmV0dXJuIHRoaXMuY2xhc3NOYW1lCgl9CglzZXRUZXh0VmFsdWUodGV4dF92YWx1ZSkgewoJCXRoaXMudGV4dFZhbHVlID0gdGV4dF92YWx1ZQoJfQoJc2V0Q2xhc3NOYW1lKGNsYXNzX25hbWUpIHsKCQlpZiAoY2xhc3NfbmFtZSkgewoJCQl0aGlzLmNsYXNzTmFtZSA9IGNsYXNzX25hbWUKCQl9Cgl9CglhZGRDbGFzc05hbWUoY2xhc3NfbmFtZSkgewoJCXRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWUgKyAnICcgKyBjbGFzc19uYW1lCgl9Cgl0eXBlb2ZGdW5jdGlvbih0eXBlb2ZfdmFsdWUpIHsKCQlpZiAodHlwZW9mKHR5cGVvZl92YWx1ZSkgPT09ICdmdW5jdGlvbicpIHsKCQkJcmV0dXJuIHRydWUKCQl9IGVsc2UgewoJCQljb25zb2xlLmxvZyh0eXBlb2ZfdmFsdWUgKyAnIGlzIG5vdCBmdW5jdGlvbi4nKTsKCQkJcmV0dXJuIGZhbHNlCgkJfQoJfQoJdHlwZW9mSlF1ZXJ5KCkgewoJCWlmICh0eXBlb2YoalF1ZXJ5KSA9PT0gJ2Z1bmN0aW9uJykgewoJCQlyZXR1cm4gdHJ1ZQoJCX0gZWxzZSB7CgkJCWNvbnNvbGUubG9nKCdqUXVlcnkgaXMgbm90IGltcG9ydGVkLicpOwoJCQlyZXR1cm4gZmFsc2UKCQl9Cgl9Cgl0eXBlb2ZDaHJvbWUoKSB7CgkJcmV0dXJuIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpICE9PSAtMSkKCX0KCXR5cGVvZkZpcmVmb3goKSB7CgkJcmV0dXJuIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTEpCgl9CglzbGVlcChtcywgY2FsbGJhY2spIHsKCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQljb25zb2xlLmxvZygobXMgLyAxMDAwKSArICcgc2Vjb25kIGxhdGVyLicpOwoJCQljYWxsYmFjaygpCgkJfSwgbXMpCgl9CglzZXRCdXR0b25TdHlsZShidXR0b24sIHN0eWxlX3ZhbHVlKSB7CgkJaWYgKHR5cGVvZihzdHlsZV92YWx1ZSkgPT09ICdzdHJpbmcnKSB7CgkJCWJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgc3R5bGVfdmFsdWUpCgkJfSBlbHNlIGlmICh0eXBlb2Yoc3R5bGVfdmFsdWUpID09PSAnb2JqZWN0JykgewoJCQlpZiAodGhpcy50eXBlb2ZKUXVlcnkoKSkgewoJCQkJJChidXR0b24pLmNzcyhzdHlsZV92YWx1ZSkKCQkJfQoJCX0gZWxzZSB7CgkJCWNvbnNvbGUubG9nKCdzdHlsZV92YWx1ZSBpcyAnICsgdHlwZW9mKHN0eWxlX3ZhbHVlKSkKCQl9Cgl9CglzZXRNb3VzZUV2ZW50KGJ1dHRvbiwgaG92ZXJfb3ZlciwgaG92ZXJfb3V0KSB7CgkJaWYgKHRoaXMudHlwZW9mSlF1ZXJ5KCkpIHsKCQkJaWYgKHRoaXMudHlwZW9mRnVuY3Rpb24oaG92ZXJfb3ZlcikgJiYgdGhpcy50eXBlb2ZGdW5jdGlvbihob3Zlcl9vdXQpKSB7CgkJCQkkKGJ1dHRvbikuaG92ZXIoaG92ZXJfb3ZlciwgaG92ZXJfb3V0KQoJCQl9CgkJfQoJfQoJY3JlYXRlQnRuKHRhcmdldF92YWx1ZSwgYnV0dG9uX3RpdGxlLCBjc3NfdmFsdWUsIGhvdmVyX292ZXIsIGhvdmVyX291dCkgewoJCWxldCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CgkJYnV0dG9uLnRhcmdldCA9IHRhcmdldF92YWx1ZTsKCQlidXR0b24udGl0bGUgPSBidXR0b25fdGl0bGU7CgkJYnV0dG9uLmhyZWYgPSAnamF2YXNjcmlwdDo7JzsKCQlidXR0b24uY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWU7CgkJYnV0dG9uLmlubmVyVGV4dCA9IHRoaXMudGV4dFZhbHVlOwoJCWlmIChjc3NfdmFsdWUpIHsKCQkJdGhpcy5zZXRCdXR0b25TdHlsZShidXR0b24sIGNzc192YWx1ZSkKCQl9CgkJaWYgKGhvdmVyX292ZXIgJiYgaG92ZXJfb3V0KSB7CgkJCXRoaXMuc2V0TW91c2VFdmVudChidXR0b24sIGhvdmVyX292ZXIsIGhvdmVyX291dCkKCQl9CgkJcmV0dXJuIGJ1dHRvbgoJfQp9CmNsYXNzIERvd25sb2FkX1BpY19PYmogZXh0ZW5kcyBCdXR0b25fT2JqIHsKCWNvbnN0cnVjdG9yKGRvd25sb2FkX2FkZHJlc3MgPSAnJywgY291bnRfdmFsdWUgPSAtMSwgZmlsZW5hbWUgPSAnJywgdGV4dF92YWx1ZSA9IERPV05MT0FEX1BJQy5URVhULkRPV05MT0FELCBjbGFzc19uYW1lID0gRE9XTkxPQURfUElDLlNUUklORy5DTEFTU19OQU1FKSB7CgkJc3VwZXIodGV4dF92YWx1ZSwgY2xhc3NfbmFtZSk7CgkJdGhpcy5jb3VudFZhbHVlID0gY291bnRfdmFsdWU7CgkJZG93bmxvYWRfYWRkcmVzcyA9IGRvd25sb2FkX2FkZHJlc3MucmVwbGFjZSgnaHR0cHM6JywgJycpLnJlcGxhY2UoJ2h0dHA6JywgJycpOwoJCXRoaXMuZG93bmxvYWRBZGRyZXNzID0gZG93bmxvYWRfYWRkcmVzczsKCQlpZiAoKGZpbGVuYW1lID09PSAnJykgfHwgKGZpbGVuYW1lID09PSB1bmRlZmluZWQpIHx8IChmaWxlbmFtZSA9PT0gbnVsbCkpIHsKCQkJaWYgKERPV05MT0FEX1BJQy5SRUcuTkFNRS5leGVjKGRvd25sb2FkX2FkZHJlc3MpKSB7CgkJCQl0aGlzLmZpbGVuYW1lID0gRE9XTkxPQURfUElDLlJFRy5OQU1FLmV4ZWMoZG93bmxvYWRfYWRkcmVzcylbMF0KCQkJfSBlbHNlIHsKCQkJCXRoaXMuZmlsZW5hbWUgPSAnbm8tbmFtZS5qcGcnCgkJCX0KCQl9IGVsc2UgewoJCQlpZiAoY291bnRfdmFsdWUgPiAtMSkgewoJCQkJaWYgKERPV05MT0FEX1BJQy5SRUcuRVhURU5TSU9OLmV4ZWMoZG93bmxvYWRfYWRkcmVzcykpIHsKCQkJCQl0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWUgKyBET1dOTE9BRF9QSUMuU1lNQk9MLlVOREVSTElORSArIGNvdW50X3ZhbHVlICsgRE9XTkxPQURfUElDLlJFRy5FWFRFTlNJT04uZXhlYyhkb3dubG9hZF9hZGRyZXNzKVswXQoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWUgKyBET1dOTE9BRF9QSUMuU1lNQk9MLlVOREVSTElORSArIGNvdW50X3ZhbHVlICsgJy5qcGcnCgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlpZiAoRE9XTkxPQURfUElDLlJFRy5FWFRFTlNJT04uZXhlYyhkb3dubG9hZF9hZGRyZXNzKSkgewoJCQkJCXRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZSArIERPV05MT0FEX1BJQy5SRUcuRVhURU5TSU9OLmV4ZWMoZG93bmxvYWRfYWRkcmVzcylbMF0KCQkJCX0gZWxzZSB7CgkJCQkJdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lICsgJy5qcGcnCgkJCQl9CgkJCX0KCQl9Cgl9CglnZXREb3dubG9hZEFkZHJlc3MoKSB7CgkJcmV0dXJuIHRoaXMuZG93bmxvYWRBZGRyZXNzCgl9CglnZXRDb3VudFZhbHVlKCkgewoJCXJldHVybiB0aGlzLmNvdW50VmFsdWUKCX0KCWdldEZpbGVuYW1lKCkgewoJCXJldHVybiB0aGlzLmZpbGVuYW1lCgl9CglzZXRGaWxlbmFtZShmaWxlbmFtZSA9ICcnKSB7CgkJaWYgKChmaWxlbmFtZSA9PT0gJycpIHx8IChmaWxlbmFtZSA9PT0gdW5kZWZpbmVkKSB8fCAoZmlsZW5hbWUgPT09IG51bGwpKSB7CgkJCWlmIChET1dOTE9BRF9QSUMuUkVHLk5BTUUuZXhlYyh0aGlzLmRvd25sb2FkQWRkcmVzcykpIHsKCQkJCXRoaXMuZmlsZW5hbWUgPSBET1dOTE9BRF9QSUMuUkVHLk5BTUUuZXhlYyh0aGlzLmRvd25sb2FkQWRkcmVzcylbMF0KCQkJfSBlbHNlIHsKCQkJCXRoaXMuZmlsZW5hbWUgPSAnbm8tbmFtZS5qcGcnCgkJCX0KCQl9IGVsc2UgewoJCQlpZiAodGhpcy5jb3VudFZhbHVlID4gLTEpIHsKCQkJCWlmIChET1dOTE9BRF9QSUMuUkVHLkVYVEVOU0lPTi5leGVjKHRoaXMuZG93bmxvYWRBZGRyZXNzKSkgewoJCQkJCXRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZSArIERPV05MT0FEX1BJQy5TWU1CT0wuVU5ERVJMSU5FICsgdGhpcy5jb3VudFZhbHVlICsgRE9XTkxPQURfUElDLlJFRy5FWFRFTlNJT04uZXhlYyh0aGlzLmRvd25sb2FkQWRkcmVzcylbMF0KCQkJCX0gZWxzZSB7CgkJCQkJdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lICsgRE9XTkxPQURfUElDLlNZTUJPTC5VTkRFUkxJTkUgKyB0aGlzLmNvdW50VmFsdWUgKyAnLmpwZycKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCWlmIChET1dOTE9BRF9QSUMuUkVHLkVYVEVOU0lPTi5leGVjKHRoaXMuZG93bmxvYWRBZGRyZXNzKSkgewoJCQkJCXRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZSArIERPV05MT0FEX1BJQy5SRUcuRVhURU5TSU9OLmV4ZWModGhpcy5kb3dubG9hZEFkZHJlc3MpWzBdCgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZSArICcuanBnJwoJCQkJfQoJCQl9CgkJfQoJfQoJc2V0RG93bmxvYWRBZGRyZXNzKGRvd25sb2FkX2FkZHJlc3MgPSAnJywgY291bnRfdmFsdWUgPSAtMSwgZmlsZW5hbWUgPSAnJykgewoJCWRvd25sb2FkX2FkZHJlc3MgPSBkb3dubG9hZF9hZGRyZXNzLnJlcGxhY2UoJ2h0dHBzOicsICcnKS5yZXBsYWNlKCdodHRwOicsICcnKTsKCQl0aGlzLmRvd25sb2FkQWRkcmVzcyA9IGRvd25sb2FkX2FkZHJlc3M7CgkJdGhpcy5jb3VudFZhbHVlID0gY291bnRfdmFsdWU7CgkJaWYgKChmaWxlbmFtZSA9PT0gJycpIHx8IChmaWxlbmFtZSA9PT0gdW5kZWZpbmVkKSB8fCAoZmlsZW5hbWUgPT09IG51bGwpKSB7CgkJCWlmIChET1dOTE9BRF9QSUMuUkVHLk5BTUUuZXhlYyhkb3dubG9hZF9hZGRyZXNzKSkgewoJCQkJdGhpcy5maWxlbmFtZSA9IERPV05MT0FEX1BJQy5SRUcuTkFNRS5leGVjKGRvd25sb2FkX2FkZHJlc3MpWzBdCgkJCX0gZWxzZSB7CgkJCQl0aGlzLmZpbGVuYW1lID0gJ25vLW5hbWUuanBnJwoJCQl9CgkJfSBlbHNlIHsKCQkJaWYgKHRoaXMuY291bnRWYWx1ZSA+IC0xKSB7CgkJCQlpZiAoRE9XTkxPQURfUElDLlJFRy5FWFRFTlNJT04uZXhlYyhkb3dubG9hZF9hZGRyZXNzKSkgewoJCQkJCXRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZSArIERPV05MT0FEX1BJQy5TWU1CT0wuVU5ERVJMSU5FICsgdGhpcy5jb3VudFZhbHVlICsgRE9XTkxPQURfUElDLlJFRy5FWFRFTlNJT04uZXhlYyhkb3dubG9hZF9hZGRyZXNzKVswXQoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWUgKyBET1dOTE9BRF9QSUMuU1lNQk9MLlVOREVSTElORSArIHRoaXMuY291bnRWYWx1ZSArICcuanBnJwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJaWYgKERPV05MT0FEX1BJQy5SRUcuRVhURU5TSU9OLmV4ZWMoZG93bmxvYWRfYWRkcmVzcykpIHsKCQkJCQl0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWUgKyBET1dOTE9BRF9QSUMuUkVHLkVYVEVOU0lPTi5leGVjKGRvd25sb2FkX2FkZHJlc3MpWzBdCgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZSArICcuanBnJwoJCQkJfQoJCQl9CgkJfQoJCXJldHVybiB0aGlzLmZpbGVuYW1lCgl9CgljcmVhdGVEb3dubG9hZEJ0bihkb3dubG9hZF9zdGFydCwgc2F2ZV9maWxlLCB1cGRhdGVfcHJvZ3Jlc3NfY2FsbGJhY2ssIHRyYW5zZmVyX2NvbXBsZXRlLCBjc3NfdmFsdWUsIGhvdmVyX292ZXIsIGhvdmVyX291dCkgewoJCWxldCBkb3dubG9hZF9idG4gPSB0aGlzLmNyZWF0ZUJ0bignX3NlbGYnLCBET1dOTE9BRF9QSUMuVEVYVC5ET1dOTE9BRCwgY3NzX3ZhbHVlLCBob3Zlcl9vdmVyLCBob3Zlcl9vdXQpOwoJCWRvd25sb2FkX2J0bi5pZCA9IHRoaXMuY2xhc3NOYW1lICsgRE9XTkxPQURfUElDLlNZTUJPTC5VTkRFUkxJTkUgKyB0aGlzLmNvdW50VmFsdWU7CgkJaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7CgkJCWxldCB0aGF0ID0gdGhpczsKCQkJaWYgKHRoaXMudHlwZW9mSlF1ZXJ5KCkpIHsKCQkJCSQoZG93bmxvYWRfYnRuKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkgewoJCQkJCWV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoJCQkJCXRoYXQuZG93bmxvYWRIYW5kbGUoZG93bmxvYWRfc3RhcnQsIHNhdmVfZmlsZSwgdXBkYXRlX3Byb2dyZXNzX2NhbGxiYWNrLCB0cmFuc2Zlcl9jb21wbGV0ZSwgdGhpcykKCQkJCX0pCgkJCX0gZWxzZSB7CgkJCQlkb3dubG9hZF9idG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkgewoJCQkJCWV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoJCQkJCXRoYXQuZG93bmxvYWRIYW5kbGUoZG93bmxvYWRfc3RhcnQsIHNhdmVfZmlsZSwgdXBkYXRlX3Byb2dyZXNzX2NhbGxiYWNrLCB0cmFuc2Zlcl9jb21wbGV0ZSwgdGhpcykKCQkJCX0pCgkJCX0KCQl9CgkJZG93bmxvYWRfYnRuLmRvd25sb2FkQ29tcGxldGVkID0gZnVuY3Rpb24oKSB7CgkJCXRoaXMudGl0bGUgPSBET1dOTE9BRF9QSUMuVEVYVC5DT01QTEVURUQKCQl9OwoJCXJldHVybiBkb3dubG9hZF9idG4KCX0KCWRvd25sb2FkRmlsZShzYXZlX2ZpbGUsIHVwZGF0ZV9wcm9ncmVzc19jYWxsYmFjaywgdHJhbnNmZXJfY29tcGxldGUsIGJ0bikgewoJCWxldCB0aGF0ID0gdGhpczsKCQlsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CgkJeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZnVuY3Rpb24oZXZ0KSB7CgkJCXRoYXQudXBkYXRlUHJvZ3Jlc3MoZXZ0LCB1cGRhdGVfcHJvZ3Jlc3NfY2FsbGJhY2ssIGJ0bikKCQl9LCBmYWxzZSk7CgkJeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHsKCQkJaWYgKHRoYXQudHlwZW9mRnVuY3Rpb24odHJhbnNmZXJfY29tcGxldGUpKSB7CgkJCQl0cmFuc2Zlcl9jb21wbGV0ZS5jYWxsKHRoYXQsIHRoYXQuY291bnRWYWx1ZSwgYnRuKQoJCQl9CgkJfSwgZmFsc2UpOwoJCXhoci5vcGVuKCdHRVQnLCB0aGlzLmRvd25sb2FkQWRkcmVzcywgdHJ1ZSk7CgkJeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJzsKCQl4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7CgkJCWlmICh4aHIuc3RhdHVzID09PSAyMDApIHsKCQkJCWlmICh0aGF0LnR5cGVvZkZ1bmN0aW9uKHNhdmVfZmlsZSkpIHsKCQkJCQlzYXZlX2ZpbGUoeGhyLnJlc3BvbnNlLCB0aGF0LmZpbGVuYW1lKQoJCQkJfQoJCQl9CgkJfTsKCQl4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkgewoJCQl0aGF0LmRvd25sb2FkRmlsZShzYXZlX2ZpbGUsIHVwZGF0ZV9wcm9ncmVzc19jYWxsYmFjaywgdHJhbnNmZXJfY29tcGxldGUsIGJ0bikKCQl9OwoJCXhoci5zZW5kKCkKCX0KCXVwZGF0ZVByb2dyZXNzKGV2dCwgdXBkYXRlX3Byb2dyZXNzX2NhbGxiYWNrLCBidG4pIHsKCQlpZiAoZXZ0Lmxlbmd0aENvbXB1dGFibGUpIHsKCQkJbGV0IHBlcmNlbnRfY29tcGxldGUgPSBNYXRoLnJvdW5kKGV2dC5sb2FkZWQgKiAxMDAgLyBldnQudG90YWwpOwoJCQlpZiAodGhpcy50eXBlb2ZGdW5jdGlvbih1cGRhdGVfcHJvZ3Jlc3NfY2FsbGJhY2spKSB7CgkJCQl1cGRhdGVfcHJvZ3Jlc3NfY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLmNvdW50VmFsdWUsIHBlcmNlbnRfY29tcGxldGUsIGJ0bikKCQkJfQoJCX0KCX0KCWRvd25sb2FkSGFuZGxlKGRvd25sb2FkX3N0YXJ0LCBzYXZlX2ZpbGUsIHVwZGF0ZV9wcm9ncmVzc19jYWxsYmFjaywgdHJhbnNmZXJfY29tcGxldGUsIGJ0bikgewoJCWlmICh0aGlzLnR5cGVvZkZ1bmN0aW9uKGRvd25sb2FkX3N0YXJ0KSkgewoJCQlkb3dubG9hZF9zdGFydC5jYWxsKHRoaXMsIHRoaXMuY291bnRWYWx1ZSwgYnRuKQoJCX0KCQl0aGlzLmRvd25sb2FkRmlsZShzYXZlX2ZpbGUsIHVwZGF0ZV9wcm9ncmVzc19jYWxsYmFjaywgdHJhbnNmZXJfY29tcGxldGUsIGJ0bikKCX0KfQpjbGFzcyBEb3dubG9hZF9BbGxfUGljX09iaiBleHRlbmRzIEJ1dHRvbl9PYmogewoJY29uc3RydWN0b3IoaWRfbmFtZSA9IERPV05MT0FEX1BJQy5TVFJJTkcuSURfTkFNRSwgZmlsZW5hbWUgPSAnJywgdGV4dF92YWx1ZSA9IERPV05MT0FEX1BJQy5URVhULkRPV05MT0FEX0FMTCwgY2xhc3NfbmFtZSA9IERPV05MT0FEX1BJQy5TVFJJTkcuQUxMX0NMQVNTX05BTUUpIHsKCQlzdXBlcih0ZXh0X3ZhbHVlLCBjbGFzc19uYW1lKTsKCQl0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7CgkJdGhpcy5pZE5hbWUgPSBpZF9uYW1lCgl9CglnZXRJZE5hbWUoKSB7CgkJcmV0dXJuIHRoaXMuaWROYW1lCgl9CglnZXRGaWxlbmFtZSgpIHsKCQlyZXR1cm4gdGhpcy5maWxlbmFtZQoJfQoJc2V0SWROYW1lKGlkX25hbWUgPSBET1dOTE9BRF9QSUMuU1RSSU5HLklEX05BTUUpIHsKCQlpZiAoaWRfbmFtZSkgewoJCQl0aGlzLmlkTmFtZSA9IGlkX25hbWUKCQl9Cgl9CglzZXRGaWxlbmFtZShmaWxlbmFtZSA9ICcnKSB7CgkJdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lCgl9CgljcmVhdGVEb3dubG9hZEJ0bihjbGFzc19uYW1lX2FyZ3MsIGNzc192YWx1ZSwgaG92ZXJfb3ZlciwgaG92ZXJfb3V0KSB7CgkJbGV0IGRvd25sb2FkX2FsbF9idG4gPSB0aGlzLmNyZWF0ZUJ0bignX3NlbGYnLCBET1dOTE9BRF9QSUMuVEVYVC5ET1dOTE9BRF9BTEwsIGNzc192YWx1ZSwgaG92ZXJfb3ZlciwgaG92ZXJfb3V0KTsKCQlkb3dubG9hZF9hbGxfYnRuLmlkID0gdGhpcy5pZE5hbWU7CgkJbGV0IHRoYXQgPSB0aGlzOwoJCWlmICgodHlwZW9mKGNsYXNzX25hbWVfYXJncykgPT09ICdzdHJpbmcnKSAmJiBjbGFzc19uYW1lX2FyZ3MpIHsKCQkJaWYgKHRoaXMudHlwZW9mSlF1ZXJ5KCkpIHsKCQkJCSQoZG93bmxvYWRfYWxsX2J0bikub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHsKCQkJCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCQlsZXQgZG93bmxvYWRfYnRuX29iaiA9ICQoJy4nICsgY2xhc3NfbmFtZV9hcmdzKTsKCQkJCQlmb3IgKGxldCBpID0gMDsgaSA8IGRvd25sb2FkX2J0bl9vYmoubGVuZ3RoOyBpKyspIHsKCQkJCQkJaWYgKHRoYXQudHlwZW9mQ2hyb21lKCkpIHsKCQkJCQkJCWxldCBwYXJzZV9pID0gcGFyc2VJbnQoaSAvIERPV05MT0FEX1BJQy5OVU1CRVIuQ0hST01FX0xJTUlUKTsKCQkJCQkJCWlmIChwYXJzZV9pID4gMCkgewoJCQkJCQkJCXRoYXQuc2xlZXAocGFyc2VfaSAqIERPV05MT0FEX1BJQy5OVU1CRVIuU0xFRVBfVU5JVCwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJCWRvd25sb2FkX2J0bl9vYmouZXEoaSlbMF0uY2xpY2soKQoJCQkJCQkJCX0pOwoJCQkJCQkJCWNvbnRpbnVlCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJZG93bmxvYWRfYnRuX29iai5lcShpKVswXS5jbGljaygpCgkJCQkJfQoJCQkJfSkKCQkJfSBlbHNlIHsKCQkJCWRvd25sb2FkX2FsbF9idG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkgewoJCQkJCWV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoJCQkJCWxldCBkb3dubG9hZF9idG5fZG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc19uYW1lX2FyZ3MpOwoJCQkJCWZvciAobGV0IGogPSAwOyBqIDwgZG93bmxvYWRfYnRuX2RvbS5sZW5ndGg7IGorKykgewoJCQkJCQlpZiAodGhhdC50eXBlb2ZDaHJvbWUoKSkgewoJCQkJCQkJbGV0IHBhcnNlX2ogPSBwYXJzZUludChqIC8gRE9XTkxPQURfUElDLk5VTUJFUi5DSFJPTUVfTElNSVQpOwoJCQkJCQkJaWYgKHBhcnNlX2ogPiAwKSB7CgkJCQkJCQkJdGhhdC5zbGVlcChwYXJzZV9qICogRE9XTkxPQURfUElDLk5VTUJFUi5TTEVFUF9VTklULCBmdW5jdGlvbigpIHsKCQkJCQkJCQkJZG93bmxvYWRfYnRuX2RvbVtqXS5jbGljaygpCgkJCQkJCQkJfSk7CgkJCQkJCQkJY29udGludWUKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlkb3dubG9hZF9idG5fZG9tW2pdLmNsaWNrKCkKCQkJCQl9CgkJCQl9KQoJCQl9CgkJfSBlbHNlIHsKCQkJY29uc29sZS5sb2coJ2NsYXNzX25hbWVfYXJncyBpcyBlcnJvci4nKQoJCX0KCQlyZXR1cm4gZG93bmxvYWRfYWxsX2J0bgoJfQoJY3JlYXRlRG93bmxvYWRBbGxCdG4oYXJyYXlfYXJncywgZG93bmxvYWRfc3RhcnQsIHNhdmVfZmlsZSwgdXBkYXRlX3Byb2dyZXNzX2NhbGxiYWNrLCB0cmFuc2Zlcl9jb21wbGV0ZSwgY3NzX3ZhbHVlLCBob3Zlcl9vdmVyLCBob3Zlcl9vdXQpIHsKCQlsZXQgZG93bmxvYWRfYWxsX2J0biA9IHRoaXMuY3JlYXRlQnRuKCdfc2VsZicsIERPV05MT0FEX1BJQy5URVhULkRPV05MT0FEX0FMTCwgY3NzX3ZhbHVlLCBob3Zlcl9vdmVyLCBob3Zlcl9vdXQpOwoJCWRvd25sb2FkX2FsbF9idG4uaWQgPSB0aGlzLmlkTmFtZTsKCQlpZiAodHlwZW9mKGFycmF5X2FyZ3MpID09PSAnb2JqZWN0JykgewoJCQlsZXQgdGVtcF9vYmpfYXJyYXkgPSBbXTsKCQkJZm9yIChsZXQgayA9IDA7IGsgPCBhcnJheV9hcmdzLmxlbmd0aDsgaysrKSB7CgkJCQlsZXQgdGVtcF9vYmogPSBuZXcgRG93bmxvYWRfUGljX09iaihhcnJheV9hcmdzW2tdLCBrICsgMSwgdGhpcy5maWxlbmFtZSk7CgkJCQl0ZW1wX29ial9hcnJheS5wdXNoKHRlbXBfb2JqKQoJCQl9CgkJCWxldCB0aGF0ID0gdGhpczsKCQkJaWYgKHRoaXMudHlwZW9mSlF1ZXJ5KCkpIHsKCQkJCSQoZG93bmxvYWRfYWxsX2J0bikub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHsKCQkJCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCQlmb3IgKGxldCBsID0gMDsgbCA8IHRlbXBfb2JqX2FycmF5Lmxlbmd0aDsgbCsrKSB7CgkJCQkJCWlmICh0aGF0LnR5cGVvZkNocm9tZSgpKSB7CgkJCQkJCQlsZXQgcGFyc2VfbCA9IHBhcnNlSW50KGwgLyBET1dOTE9BRF9QSUMuTlVNQkVSLkNIUk9NRV9MSU1JVCk7CgkJCQkJCQlpZiAocGFyc2VfbCA+IDApIHsKCQkJCQkJCQl0aGF0LnNsZWVwKHBhcnNlX2wgKiBET1dOTE9BRF9QSUMuTlVNQkVSLlNMRUVQX1VOSVQsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCQl0ZW1wX29ial9hcnJheVtsXS5kb3dubG9hZEhhbmRsZShkb3dubG9hZF9zdGFydCwgc2F2ZV9maWxlLCB1cGRhdGVfcHJvZ3Jlc3NfY2FsbGJhY2ssIHRyYW5zZmVyX2NvbXBsZXRlKQoJCQkJCQkJCX0pOwoJCQkJCQkJCWNvbnRpbnVlCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJdGVtcF9vYmpfYXJyYXlbbF0uZG93bmxvYWRIYW5kbGUoZG93bmxvYWRfc3RhcnQsIHNhdmVfZmlsZSwgdXBkYXRlX3Byb2dyZXNzX2NhbGxiYWNrLCB0cmFuc2Zlcl9jb21wbGV0ZSkKCQkJCQl9CgkJCQl9KQoJCQl9IGVsc2UgewoJCQkJZG93bmxvYWRfYWxsX2J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQkJZm9yIChsZXQgbSA9IDA7IG0gPCB0ZW1wX29ial9hcnJheS5sZW5ndGg7IG0rKykgewoJCQkJCQlpZiAodGhhdC50eXBlb2ZDaHJvbWUoKSkgewoJCQkJCQkJbGV0IHBhcnNlX20gPSBwYXJzZUludChtIC8gRE9XTkxPQURfUElDLk5VTUJFUi5DSFJPTUVfTElNSVQpOwoJCQkJCQkJaWYgKHBhcnNlX20gPiAwKSB7CgkJCQkJCQkJdGhhdC5zbGVlcChwYXJzZV9tICogRE9XTkxPQURfUElDLk5VTUJFUi5TTEVFUF9VTklULCBmdW5jdGlvbigpIHsKCQkJCQkJCQkJdGVtcF9vYmpfYXJyYXlbbV0uZG93bmxvYWRIYW5kbGUoZG93bmxvYWRfc3RhcnQsIHNhdmVfZmlsZSwgdXBkYXRlX3Byb2dyZXNzX2NhbGxiYWNrLCB0cmFuc2Zlcl9jb21wbGV0ZSkKCQkJCQkJCQl9KTsKCQkJCQkJCQljb250aW51ZQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCXRlbXBfb2JqX2FycmF5W21dLmRvd25sb2FkSGFuZGxlKGRvd25sb2FkX3N0YXJ0LCBzYXZlX2ZpbGUsIHVwZGF0ZV9wcm9ncmVzc19jYWxsYmFjaywgdHJhbnNmZXJfY29tcGxldGUpCgkJCQkJfQoJCQkJfSkKCQkJfQoJCX0gZWxzZSB7CgkJCWNvbnNvbGUubG9nKCdhcnJheV9hcmdzIGlzIGVycm9yLicpCgkJfQoJCXJldHVybiBkb3dubG9hZF9hbGxfYnRuCgl9Cn0KY2xhc3MgRGlzcGxheV9QaWNfT2JqIGV4dGVuZHMgQnV0dG9uX09iaiB7Cgljb25zdHJ1Y3RvcihwaWNfbGluayA9ICcnLCB0ZXh0X3ZhbHVlID0gRE9XTkxPQURfUElDLlRFWFQuVklFVywgY2xhc3NfbmFtZSA9IERPV05MT0FEX1BJQy5TVFJJTkcuVklFV19DTEFTU19OQU1FKSB7CgkJc3VwZXIodGV4dF92YWx1ZSwgY2xhc3NfbmFtZSk7CgkJdGhpcy5waWNMaW5rID0gcGljX2xpbmsKCX0KCWdldFBpY0xpbmsoKSB7CgkJcmV0dXJuIHRoaXMucGljTGluawoJfQoJc2V0UGljTGluayhwaWNfbGluayA9ICcnKSB7CgkJaWYgKHBpY19saW5rKSB7CgkJCXRoaXMucGljTGluayA9IHBpY19saW5rCgkJfQoJfQoJY3JlYXRlRGlzcGxheUJ0bihjc3NfdmFsdWUsIGhvdmVyX292ZXIsIGhvdmVyX291dCwgZGlzcGxheV9zdGFydCkgewoJCWxldCBkaXNwbGF5X2J0biA9IHRoaXMuY3JlYXRlQnRuKCdfYmxhbmsnLCBET1dOTE9BRF9QSUMuVEVYVC5WSUVXLCBjc3NfdmFsdWUsIGhvdmVyX292ZXIsIGhvdmVyX291dCk7CgkJZGlzcGxheV9idG4uaHJlZiA9IHRoaXMucGljTGluazsKCQlpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gNCkgewoJCQlsZXQgdGhhdCA9IHRoaXM7CgkJCWlmICh0aGlzLnR5cGVvZkZ1bmN0aW9uKGRpc3BsYXlfc3RhcnQpKSB7CgkJCQlpZiAodGhpcy50eXBlb2ZKUXVlcnkoKSkgewoJCQkJCSQoZGlzcGxheV9idG4pLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkgewoJCQkJCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCQkJZGlzcGxheV9zdGFydC5jYWxsKHRoYXQsIHRoaXMpCgkJCQkJfSkKCQkJCX0gZWxzZSB7CgkJCQkJZGlzcGxheV9idG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHsKCQkJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQkJCWRpc3BsYXlfc3RhcnQuY2FsbCh0aGF0LCB0aGlzKQoJCQkJCX0pCgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuIGRpc3BsYXlfYnRuCgl9CglkaXNwbGF5SGFuZGxlKGRpc3BsYXlfc3RhcnQpIHsKCQlpZiAodGhpcy50eXBlb2ZGdW5jdGlvbihkaXNwbGF5X3N0YXJ0KSkgewoJCQlkaXNwbGF5X3N0YXJ0LmNhbGwodGhpcykKCQl9CgkJd2luZG93Lm9wZW4odGhpcy5waWNMaW5rKQoJfQp9CmNsYXNzIENvcHlfVGl0bGVfT2JqIGV4dGVuZHMgQnV0dG9uX09iaiB7Cgljb25zdHJ1Y3Rvcihjb3B5X3RleHQsIHRleHRfdmFsdWUgPSBDT1BZX1RJVExFLlRFWFQuTEFCRUwsIGNsYXNzX25hbWUgPSBDT1BZX1RJVExFLlNUUklORy5DTEFTU19OQU1FKSB7CgkJc3VwZXIodGV4dF92YWx1ZSwgY2xhc3NfbmFtZSk7CgkJY29weV90ZXh0ID0gY29weV90ZXh0LnJlcGxhY2UoQ09QWV9USVRMRS5SRUcuQ0xFQU5JTkcsICcgJyk7CgkJY29weV90ZXh0ID0gY29weV90ZXh0LnJlcGxhY2UoQ09QWV9USVRMRS5SRUcuU1BBQ0UsICcnKTsKCQl0aGlzLmNvcHlUZXh0ID0gY29weV90ZXh0Cgl9CglnZXRDb3B5VGV4dCgpIHsKCQlyZXR1cm4gdGhpcy5jb3B5VGV4dAoJfQoJc2V0Q29weVRleHQoY29weV90ZXh0KSB7CgkJY29weV90ZXh0ID0gY29weV90ZXh0LnJlcGxhY2UoQ09QWV9USVRMRS5SRUcuQ0xFQU5JTkcsICcgJyk7CgkJY29weV90ZXh0ID0gY29weV90ZXh0LnJlcGxhY2UoQ09QWV9USVRMRS5SRUcuU1BBQ0UsICcnKTsKCQl0aGlzLmNvcHlUZXh0ID0gY29weV90ZXh0Cgl9CgljcmVhdGVDb3B5QnRuKGNzc192YWx1ZSwgY29weV9jb21wbGV0ZWQsIGNvcHlfZnVuY3Rpb24sIGhvdmVyX292ZXIsIGhvdmVyX291dCkgewoJCWxldCBjb3B5X2J0biA9IHRoaXMuY3JlYXRlQnRuKCdfc2VsZicsIENPUFlfVElUTEUuVEVYVC5MQUJFTCwgY3NzX3ZhbHVlLCBob3Zlcl9vdmVyLCBob3Zlcl9vdXQpOwoJCWlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewoJCQlsZXQgdGhhdCA9IHRoaXM7CgkJCWlmICh0aGlzLnR5cGVvZkpRdWVyeSgpKSB7CgkJCQkkKGNvcHlfYnRuKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkgewoJCQkJCWV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoJCQkJCXRoYXQuY29weUhhbmRsZShjb3B5X2NvbXBsZXRlZCwgY29weV9mdW5jdGlvbiwgdGhpcykKCQkJCX0pCgkJCX0gZWxzZSB7CgkJCQljb3B5X2J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQkJdGhhdC5jb3B5SGFuZGxlKGNvcHlfY29tcGxldGVkLCBjb3B5X2Z1bmN0aW9uLCB0aGlzKQoJCQkJfSkKCQkJfQoJCX0KCQljb3B5X2J0bi5jb3B5Q29tcGxldGVkID0gZnVuY3Rpb24oKSB7CgkJCXRoaXMudGl0bGUgPSBDT1BZX1RJVExFLlRFWFQuQ09NUExFVEVECgkJfTsKCQlyZXR1cm4gY29weV9idG4KCX0KCWNvcHlIYW5kbGUoY29weV9jb21wbGV0ZWQsIGNvcHlfZnVuY3Rpb24sIGJ0bikgewoJCWlmICh0aGlzLnR5cGVvZkZ1bmN0aW9uKGNvcHlfZnVuY3Rpb24pKSB7CgkJCWNvcHlfZnVuY3Rpb24odGhpcy5jb3B5VGV4dCwgInRleHQiKQoJCX0gZWxzZSB7CgkJCWxldCBvX2lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKCQkJb19pbnB1dC52YWx1ZSA9IHRoaXMuY29weVRleHQ7CgkJCWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob19pbnB1dCk7CgkJCW9faW5wdXQuc2VsZWN0KCk7CgkJCWRvY3VtZW50LmV4ZWNDb21tYW5kKCJDb3B5Iik7CgkJCW9faW5wdXQuY2xhc3NOYW1lID0gJ29JbnB1dCc7CgkJCW9faW5wdXQuc3R5bGUuZGlzcGxheSA9ICdub25lJwoJCX0KCQlpZiAodGhpcy50eXBlb2ZGdW5jdGlvbihjb3B5X2NvbXBsZXRlZCkpIHsKCQkJY29weV9jb21wbGV0ZWQuY2FsbCh0aGlzLCBidG4pCgkJfQoJfQp9CmNsYXNzIERvd25sb2FkX051bWJlcl9PYmogewoJY29uc3RydWN0b3IodG90YWwgPSAwLCBjb21wbGV0ZWQgPSAwKSB7CgkJdGhpcy50b3RhbCA9IHRvdGFsOwoJCXRoaXMuY29tcGxldGVkID0gY29tcGxldGVkCgl9CglhZGRUb3RhbChudW0gPSAxKSB7CgkJdGhpcy50b3RhbCArPSBudW0KCX0KCWFkZENvbXBsZXRlZChudW0gPSAxKSB7CgkJdGhpcy5jb21wbGV0ZWQgKz0gbnVtCgl9CglkZWNUb3RhbChudW0gPSAxKSB7CgkJdGhpcy50b3RhbCAtPSBudW0KCX0KCWRlY0NvbXBsZXRlZChudW0gPSAxKSB7CgkJdGhpcy5jb21wbGV0ZWQgLT0gbnVtCgl9CglnZXRUb3RhbCgpIHsKCQlyZXR1cm4gdGhpcy50b3RhbAoJfQoJZ2V0Q29tcGxldGVkKCkgewoJCXJldHVybiB0aGlzLmNvbXBsZXRlZAoJfQoJc2V0VG90YWwobnVtID0gMCkgewoJCXRoaXMudG90YWwgPSBudW0KCX0KCXNldENvbXBsZXRlZChudW0gPSAwKSB7CgkJdGhpcy5jb21wbGV0ZWQgPSBudW0KCX0KCWdldFByb2dyZXNzU3RyaW5nKGNvbm5lY3Rpb24gPSBET1dOTE9BRF9QSUMuU1lNQk9MLkRJVklERSkgewoJCXJldHVybiB0aGlzLmNvbXBsZXRlZCArIGNvbm5lY3Rpb24gKyB0aGlzLnRvdGFsCgl9Cn0="}]},{"name":"豆瓣资源下载大师：1秒搞定豆瓣电影|音乐|图书下载","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["*"],"orig_excludes":[],"orig_includes":["https://movie.douban.com/*","https://music.douban.com/*","https://book.douban.com/*","https://bangumi.moe/search/title*","https://desitorrents.tv/*","http://www.dingzi66.com/q*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":["bimzcy.github.io","*"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1571242711249},"enabled":true,"position":7,"file_url":"https://greasyfork.org/scripts/329484-%E8%B1%86%E7%93%A3%E8%B5%84%E6%BA%90%E4%B8%8B%E8%BD%BD%E5%A4%A7%E5%B8%88-1%E7%A7%92%E6%90%9E%E5%AE%9A%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1-%E9%9F%B3%E4%B9%90-%E5%9B%BE%E4%B9%A6%E4%B8%8B%E8%BD%BD/code/%E8%B1%86%E7%93%A3%E8%B5%84%E6%BA%90%E4%B8%8B%E8%BD%BD%E5%A4%A7%E5%B8%88%EF%BC%9A1%E7%A7%92%E6%90%9E%E5%AE%9A%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%7C%E9%9F%B3%E4%B9%90%7C%E5%9B%BE%E4%B9%A6%E4%B8%8B%E8%BD%BD.user.js","uuid":"c69908fd-b264-4025-84fc-f56b83ba42ea","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIOixhueTo+i1hOa6kOS4i+i9veWkp+W4iO+8mjHnp5LmkJ7lrprosYbnk6PnlLXlvbF86Z+z5LmQfOWbvuS5puS4i+i9vQovLyBAZGVzY3JpcHRpb24gICAg44CQ6KOF6L+Z5LiA5Liq6ISa5pys5bCx5aSf5LqG77yB5Y+v6IO95piv5L2g6YGH5Yiw55qE5pyA5aW955qE6LGG55Oj5aKe5by66ISa5pys44CR6IGa5ZCI5pWw55m+5a626LWE5rqQ572R56uZ77yM6YCa6L+H5Y+z5L6n6L655qCPMeenkuWRiuivieS9oOWTquS6m+e9keermeiDveS4i+i9veixhueTo+mhtemdouS4iueahOeUteW9sXznlLXop4bliad857qq5b2V54mHfOe7vOiJunzliqjnlLt86Z+z5LmQfOWbvuS5puetie+8jOaciei1hOa6kOeahOe9keermeaYvuekuue7v+iJsu+8jOayoei1hOa6kOeahOe9keermeaYvuekuum7hOiJsu+8jOWwsei/meS5iOebtOingu+8geaJgOacieixhueTo+adoeebruWdh+aPkOS+m+WcqOe6v+aSreaUvnzpmIXor7vjgIHlrZfluZV85q2M6K+N5LiL6L295Y+KUFR8TlpCfEJUfOejgeWKm3znmb7luqbnm5h8MTE1572R55uY562J5LiL6L296ZO+5o6l77yM5Yqg5YWl5a6Y572R5omT5q275Lmf5LiN5Ye655qE6LGG5YiX5pCc57Si5Yqf6IO977yM5q2k5aSW6L+Y6IO957uZ6LGG55Oj5p2h55uu6aKd5aSW5re75YqgSU1EQuivhOWIhnxJTURCIFRPUCAyNTB8TWV0YXNjb3Jl6K+E5YiGfOeDgueVquiMhOivhOWIhnxBbmlEQuivhOWIhnxCZ23or4TliIZ8TUFMfOS6mumprOmAiuivhOWIhuetieabtOWkmuivhOWIhuW9ouW8j+OAguWumOaWueeUteaKpee+pO+8mkBkb3ViYW5kb3du77yM5a6Y5pa5UVHnvqTvvJo2OTEwMjM0MTLvvIzpqozor4Hlj6Pku6TvvJppbWRiCi8vIEBhdXRob3IgICAgICAgICDnmb3puL3nlLflrakKLy8gQGNvbnRyaWJ1dG9yICAgIFJoaWxpcAovLyBAY29ubmVjdCAgICAgICAgKgovLyBAZ3JhbnQgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgIEdNX3NldENsaXBib2FyZAovLyBAZ3JhbnQgICAgICAgICAgR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgR01fbGlzdFZhbHVlcwovLyBAZ3JhbnQgICAgICAgICAgR01fZGVsZXRlVmFsdWUKLy8gQGdyYW50ICAgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2pxdWVyeS8zLjMuMS9qcXVlcnkubWluLmpzCi8vIEByZXF1aXJlICAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMzY4MTM3LWVuY29kZVRvR2IyMzEyL2NvZGUvZW5jb2RlVG9HYjIzMTIuanM/dmVyc2lvbj02MDE2ODMKLy8gQGluY2x1ZGUgICAgICAgIGh0dHBzOi8vbW92aWUuZG91YmFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwczovL211c2ljLmRvdWJhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgaHR0cHM6Ly9ib29rLmRvdWJhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgaHR0cHM6Ly9iYW5ndW1pLm1vZS9zZWFyY2gvdGl0bGUqCi8vIEBpbmNsdWRlICAgICAgICBodHRwczovL2Rlc2l0b3JyZW50cy50di8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmRpbmd6aTY2LmNvbS9xKgovLyBAdmVyc2lvbiAgICAgICAgNy43LjgKLy8gQGljb24gICAgICAgICAgIGh0dHBzOi8vaW1nMy5kb3ViYW5pby5jb20vZmF2aWNvbi5pY28KLy8gQHJ1bi1hdCAgICAgICAgIGRvY3VtZW50LWVuZAovLyBAbmFtZXNwYWNlICAgICAgZG92ZWJveV9qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCi8vIFRoaXMgVXNlcnNjaXJwdCBjYW4ndCBydW4gdW5kZXIgR3JlYXNlbW9ua2V5IDQueCBwbGF0Zm9ybQppZiAodHlwZW9mIEdNX3htbGh0dHBSZXF1ZXN0ID09PSAidW5kZWZpbmVkIikgewogICAgYWxlcnQoIuS4jeaUr+aMgUdyZWFzZW1vbmtleSA0LnjvvIzor7fmjaLnlKjmmrTlipvnjLTmiJZUYW1wZXJtb25rZXkiKTsKICAgIHJldHVybjsKfQoKLy8g5LiN5bGe5LqO6LGG55Oj55qE6aG16Z2iCmlmICghL2RvdWJhbi5jb20vLnRlc3QobG9jYXRpb24uaG9zdCkpIHsKICAgIGZ1bmN0aW9uIEF1dG9TZWFyY2goaG9zdCwgeklucHV0U2VsZWN0b3IsIGJ0blNlbGVjdG9yLCBkaWN0KSB7CiAgICAgICAgaWYgKGxvY2F0aW9uLmhvc3QgPT09IGhvc3QpIHsKICAgICAgICAgICAgbGV0IG1hdGNoID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvI3NlYXJjaF8oLispLyk7ICAvLyDku451cmznmoRoYXNo6YOo5YiG6I635Y+W5pCc57Si5YWz6ZSu6K+NCiAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoIiIsIGRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoKTsgLy8g5riF56m6aGFzaAogICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbiAoKSB7ICAvLyDnrYnlvoXpobXpnaLlrozlhajliqDovb3lrozmiJAKICAgICAgICAgICAgICAgICAgICBsZXQgeklucHV0ID0gJCh6SW5wdXRTZWxlY3Rvcik7CiAgICAgICAgICAgICAgICAgICAgeklucHV0LnZhbChkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pKTsgLy8g5aGr5YWl5pCc57Si5YC8CiAgICAgICAgICAgICAgICAgICAgZGljdCA9ICQuZXh0ZW5kKHt9LCBkaWN0KTsKICAgICAgICAgICAgICAgICAgICBpZiAoZGljdC5hbmcpIHsgLy8g6KGl5YqgRXZlbnTvvIzpmLLmraJBbmd1bGFy57uR5a6a5aSx5pWI44CCIEZyb206IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM0MzYwNzM5L2F1dG9tYXRlLWZvcm0tc3VibWlzc2lvbi1vbi1hbi1hbmd1bGFyanMtd2Vic2l0ZS11c2luZy10YW1wZXJtb25rZXkKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5nZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuaW5pdEV2ZW50KCJjaGFuZ2UiLCB0cnVlLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgeklucHV0WzBdLmRpc3BhdGNoRXZlbnQoY2hhbmdlRXZlbnQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZGljdC5ub3RhcmdldCkgeyAgLy8g5Y+W5raIZm9ybeeahOaPkOS6pOi3s+i9rAogICAgICAgICAgICAgICAgICAgICAgICAkKGJ0blNlbGVjdG9yKS5wYXJlbnRzKCJmb3JtIikuYXR0cigidGFyZ2V0IiwgIl9zZWxmIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICQoYnRuU2VsZWN0b3IpLmNsaWNrKCk7IC8vIOaooeaLn+eCueWHuwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgQXV0b1NlYXJjaCgiYmFuZ3VtaS5tb2UiLCAnI2ZpbHRlci10YWctbGlzdCBkaXYudG9ycmVudC10aXRsZS1zZWFyY2ggPiBtZC1pbnB1dC1ncm91cCA+IGlucHV0JywgJyNmaWx0ZXItdGFnLWxpc3QgPiBkaXYudG9ycmVudC1zZWFyY2ggPiBkaXY6bnRoLWNoaWxkKDMpID4gYnV0dG9uOm50aC1jaGlsZCg0KScsIHsgYW5nOiB0cnVlIH0pOwogICAgQXV0b1NlYXJjaCgiZGVzaXRvcnJlbnRzLnR2IiwgJ2lucHV0LnNlYXJjaF9zdHJpbmdfaW5wdXQnLCAnaW5wdXQuc2VhcmNoX3N0cmluZ19pbnB1dCtpbWcnLCB7fSk7CiAgICBBdXRvU2VhcmNoKCJ3d3cuZGluZ3ppNjYuY29tIiwgJyNrZXl3b3JkJywgJyNzZWFyY2hCdG4nLCB7fSk7CgogICAgcmV0dXJuOyAvLyDnu4jmraLohJrmnKzov5DooYzvvIzpmLLmraLosYbnk6PnmoRjc3Pku6Xlj4pqc+eJh+auteetieaxoeafk+mhtemdogp9CgovLyDms6jlhaXohJrmnKznm7jlhbPnmoRDU1PvvIzljIXmi6zvvJrpmpDol4/jgIHosIPmlbTosYbnk6Pljp/lhYjnmoTlhYPntKDvvIzohJrmnKzpobXpnaLmoLflvI8KbGV0IG15U2NyaXB0U3R5bGUgPSAiQGNoYXJzZXQgdXRmLTg7I2RhbGVfbW92aWVfc3ViamVjdF90b3BfcmlnaHQsI2RhbGVfbW92aWVfc3ViamVjdF90b3BfcmlnaHQsI2RhbGVfbW92aWVfc3ViamVjdF90b3BfbWlkbGUsI2RhbGVfbW92aWVfc3ViamVjdF9taWRkbGVfcmlnaHQsI2RhbGVfbW92aWVfc3ViamVjdF9ib3R0b21fc3VwZXJfYmFubmVyLCNmb290ZXIsI2RhbGVfbW92aWVfc3ViamVjdF9kb3dubG9hZF9taWRkbGUsI2RhbGVfbW92aWVfc3ViamVjdF9pbm5lcl9taWRkbGUsI21vdmllX2hvbWVfbGVmdF9ib3R0b20sI2RhbGVfbW92aWVfaG9tZV90b3BfcmlnaHQsI2RhbGVfbW92aWVfaG9tZV9zaWRlX3RvcCwjZGFsZV9tb3ZpZV9ob21lX2JvdHRvbV9yaWdodCwjZGFsZV9tb3ZpZV9ob21lX2lubmVyX2JvdHRvbSwjZGFsZV9tb3ZpZV9ob21lX2Rvd25sb2FkX2JvdHRvbSwjZGFsZV9tb3ZpZV9ob21lX2JvdHRvbV9yaWdodF9kb3duLCNkYWxlX21vdmllX3Rvd2hvbWVfZXhwbG9yZV9yaWdodCwjZGFsZV9tb3ZpZV9jaGFydF90b3BfcmlnaHQsI2RhbGVfbW92aWVfdGFnc190b3BfcmlnaHQsI2RhbGVfcmV2aWV3X2Jlc3RfdG9wX3JpZ2h0LC5tb2JpbGUtYXBwLWVudHJhbmNlLmJsb2NrNS5hcHAtbW92aWUsLnFyY29kZS1hcHAsLnRvcC1uYXYtZG91YmFuYXBwLC5leHRyYSxkaXYuZ3JheV9hZCxwLnBsLGRpdi50aWNrZXR7ZGlzcGxheTpub25lfS5jLWFzaWRle21hcmdpbi1ib3R0b206MzBweH0uYy1hc2lkZS1ib2R5eypsZXR0ZXItc3BhY2luZzpub3JtYWx9LmMtYXNpZGUtYm9keSBhe2JvcmRlci1yYWRpdXM6NnB4O2NvbG9yOiMzN0E7ZGlzcGxheTppbmxpbmUtYmxvY2s7bGV0dGVyLXNwYWNpbmc6bm9ybWFsO21hcmdpbjowIDhweCA4cHggMDtwYWRkaW5nOjAgOHB4O3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjY1cHh9LmMtYXNpZGUtYm9keSBhOmxpbmssLmMtYXNpZGUtYm9keSBhOnZpc2l0ZWR7YmFja2dyb3VuZC1jb2xvcjojZjVmNWY1O2NvbG9yOiMzN0F9LmMtYXNpZGUtYm9keSBhOmhvdmVyLC5jLWFzaWRlLWJvZHkgYTphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojZThlOGU4O2NvbG9yOiMzN0F9LmMtYXNpZGUtYm9keSBhLmF2YWlsYWJsZXtiYWNrZ3JvdW5kLWNvbG9yOiM1Y2NjY2M7Y29sb3I6IzAwNjM2M30uYy1hc2lkZS1ib2R5IGEuYXZhaWxhYmxlOmhvdmVyLC5jLWFzaWRlLWJvZHkgYS5hdmFpbGFibGU6YWN0aXZle2JhY2tncm91bmQtY29sb3I6IzNjY30uYy1hc2lkZS1ib2R5IGEuc2l0ZXNfcjB7dGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaH0jY19kaWFsb2cgbGl7bWFyZ2luOjEwcHh9I2NfZGlhbG9ne3RleHQtYWxpZ246Y2VudGVyfSNpbnRlcmVzdF9zZWN0bCAucmF0aW5nX2ltZGJ7Ym9yZGVyLXRvcDoxcHggc29saWQgI2VhZWFlYTtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZWFlYWVhO3BhZGRpbmctYm90dG9tOjB9I2ludGVyZXN0X3NlY3RsIC5yYXRpbmdfd3JhcHtwYWRkaW5nLXRvcDoxNXB4fSNpbnRlcmVzdF9zZWN0bCAucmF0aW5nX21vcmV7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2VhZWFlYTtjb2xvcjojOWI5YjliO21hcmdpbjowO3BhZGRpbmc6MTVweCAwO3Bvc2l0aW9uOnJlbGF0aXZlfSNpbnRlcmVzdF9zZWN0bCAucmF0aW5nX21vcmUgYXtsZWZ0OjgwcHg7cG9zaXRpb246YWJzb2x1dGV9I2ludGVyZXN0X3NlY3RsIC5yYXRpbmdfbW9yZSAudGl0bGVPdmVydmlld1Nwcml0ZXtiYWNrZ3JvdW5kOnVybChodHRwczovL2NvZGluZy5uZXQvdS9DaGFuZ2h3L3AvTXlEb3ViYW5Nb3ZpZUhlbHBlci9naXQvcmF3L21hc3Rlci90aXRsZV9vdmVydmlld19zcHJpdGUucG5nKSBuby1yZXBlYXQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlfSNpbnRlcmVzdF9zZWN0bCAucmF0aW5nX21vcmUgLnBvcHVsYXJpdHlJbWFnZVVwe2JhY2tncm91bmQtcG9zaXRpb246LTE0cHggLTQ3OHB4O2hlaWdodDo4cHg7d2lkdGg6OHB4fSNpbnRlcmVzdF9zZWN0bCAucmF0aW5nX21vcmUgLnBvcHVsYXJpdHlJbWFnZURvd257YmFja2dyb3VuZC1wb3NpdGlvbjotMzRweCAtNDc4cHg7aGVpZ2h0OjhweDt3aWR0aDo4cHh9I2ludGVyZXN0X3NlY3RsIC5yYXRpbmdfbW9yZSAucG9wdWxhcml0eVVwT3JGbGF0e2NvbG9yOiM4M2M0MGJ9I2ludGVyZXN0X3NlY3RsIC5yYXRpbmdfbW9yZSAucG9wdWxhcml0eURvd257Y29sb3I6IzkzMGUwMn0ubW9yZXtkaXNwbGF5OmJsb2NrO2hlaWdodDozNHB4O2xpbmUtaGVpZ2h0OjM0cHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjE0cHg7YmFja2dyb3VuZDojZjdmN2Y3fWRpdiNkcmRtX3NldHRpbmcgaW5wdXRbdHlwZT1jaGVja2JveF17ZGlzcGxheTpub25lfWRpdiNkcmRtX3NldHRpbmcgaW5wdXRbdHlwZT1jaGVja2JveF0rbGFiZWx7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6NDBweDtoZWlnaHQ6MjBweDtwb3NpdGlvbjpyZWxhdGl2ZTt0cmFuc2l0aW9uOi4zczttYXJnaW46MCAyMHB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDtiYWNrZ3JvdW5kOiNkZGQ7Ym9yZGVyLXJhZGl1czoyMHB4O2JveC1zaGFkb3c6MXB4IDFweCAzcHggI2FhYX1kaXYjZHJkbV9zZXR0aW5nIGlucHV0W3R5cGU9Y2hlY2tib3hdK2xhYmVsOmFmdGVyLGRpdiNkcmRtX3NldHRpbmcgaW5wdXRbdHlwZT1jaGVja2JveF0rbGFiZWw6YmVmb3Jle2NvbnRlbnQ6Jyc7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDt0cmFuc2l0aW9uOi4zcztjdXJzb3I6cG9pbnRlcn1kaXYjZHJkbV9zZXR0aW5nIGlucHV0W3R5cGU9Y2hlY2tib3hdK2xhYmVsOmFmdGVye2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjUwJTtib3gtc2hhZG93OjFweCAxcHggM3B4ICNhYWF9ZGl2I2RyZG1fc2V0dGluZyBpbnB1dFt0eXBlPWNoZWNrYm94XTpjaGVja2VkK2xhYmVse2JhY2tncm91bmQ6I2FlZGNhZX1kaXYjZHJkbV9zZXR0aW5nIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQrbGFiZWw6YWZ0ZXJ7YmFja2dyb3VuZDojNWNiODVjO2xlZnQ6Y2FsYygxMDAlIC0gMjBweCl9LnRvcDI1MHtiYWNrZ3JvdW5kOnVybChodHRwczovL3MuZG91YmFuaW8uY29tL2YvbW92aWUvZjhhN2I1ZTIzZDAwZWRlZTZiNDJjNjQyNDk4OWNlNjY4M2FhMmZmZi9waWNzL21vdmllL3RvcDI1MF9iZy5wbmcpIG5vLXJlcGVhdDt3aWR0aDoxNTBweDttYXJnaW4tcmlnaHQ6NXB4O2ZvbnQ6MTJweCBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjttYXJnaW46NXB4IDA7Y29sb3I6Izc0NDkwMH0udG9wMjUwIHNwYW57ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjpjZW50ZXI7aGVpZ2h0OjE4cHg7bGluZS1oZWlnaHQ6MThweH0udG9wMjUwIGEsLnRvcDI1MCBhOmxpbmssLnRvcDI1MCBhOmhvdmVyLC50b3AyNTAgYTphY3RpdmUsLnRvcDI1MCBhOnZpc2l0ZWR7Y29sb3I6Izc0NDkwMDt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kOjB9LnRvcDI1MC1ub3t3aWR0aDozNCV9LnRvcDI1MC1saW5re3dpZHRoOjY2JX0uZHJkbS1kbC1ob3Jpem9udGFsIGR0e2Zsb2F0OmxlZnQ7d2lkdGg6MTYwcHg7b3ZlcmZsb3c6aGlkZGVuO2NsZWFyOmxlZnQ7dGV4dC1hbGlnbjpyaWdodDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcH0uZHJkbS1kbC1ob3Jpem9udGFsIGRke21hcmdpbi1sZWZ0OjE4MHB4fSI7CkdNX2FkZFN0eWxlKG15U2NyaXB0U3R5bGUpOwoKLy8gLS0g5a6a5LmJ5Z+656GA5pa55rOVIC0tCgovLyDlr7nkvb/nlKhHTV94bWxodHRwUmVxdWVzdOi/lOWbnueahGh0bWzmlofmnKzov5vooYzlpITnkIblubbov5Tlm55ET03moJEKZnVuY3Rpb24gcGFnZV9wYXJzZXIocmVzcG9uc2VUZXh0KSB7CiAgICAvLyDmm7/mjaLkuIDkupvkv6Hmga/pmLLmraLlm77niYflkozpobXpnaLohJrmnKznmoTliqDovb3vvIzlkIzml7blj6/og73liqDlv6vpobXpnaLop6PmnpDpgJ/luqYKICAgIHJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlVGV4dC5yZXBsYWNlKC9zK3NyYz0vaWcsICcgZGF0YS1zcmM9Jyk7IC8vIOWbvueJh++8jOmDqOWIhuWklua6kOiEmuacrAogICAgcmVzcG9uc2VUZXh0ID0gcmVzcG9uc2VUZXh0LnJlcGxhY2UoLzxzY3JpcHRbXj5dKj8+W1xTXHNdKj88XC9zY3JpcHQ+L2lnLCAnJyk7IC8v6aG16Z2i6ISa5pysCiAgICByZXR1cm4gKG5ldyBET01QYXJzZXIoKSkucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlVGV4dCwgJ3RleHQvaHRtbCcpOwp9CgpmdW5jdGlvbiBnZXREb2ModXJsLCBtZXRhLCBjYWxsYmFjaykgewogICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzcG9uc2VEZXRhaWwpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGV0YWlsLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBsZXQgZG9jID0gcGFnZV9wYXJzZXIocmVzcG9uc2VEZXRhaWwucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRvYywgcmVzcG9uc2VEZXRhaWwsIG1ldGEpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cn0KCmZ1bmN0aW9uIGdldEpTT04odXJsLCBjYWxsYmFjaykgewogICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfSwKICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA0MDApIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KSwgdXJsKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlLCB1cmwpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cn0KCi8vIOe8k+WtmOebuOWFs+aWueazlQpmdW5jdGlvbiBDYWNoZVN0b3JhZ2UobmFtZSwgZXhwaXJlID0gbnVsbCkgewogICAgbGV0IG5vdyA9IERhdGUubm93KCk7CiAgICBsZXQgY2FjaGVfbmFtZSA9ICJkcmRtX2NhY2hlXyIgKyAobmFtZSA/IG5hbWUgOiAnZGVmYXVsdCcpOwoKICAgIGlmIChsb2NhbFN0b3JhZ2VbY2FjaGVfbmFtZSArICJfZXhwIl0pIHsKICAgICAgICBpZiAobm93ID4gbG9jYWxTdG9yYWdlW2NhY2hlX25hbWUgKyAiX2V4cCJdKSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGNhY2hlX25hbWUpOwogICAgICAgIH0KICAgIH0KCiAgICBsZXQgY2FjaGUgPSBsb2NhbFN0b3JhZ2VbY2FjaGVfbmFtZV0gPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtjYWNoZV9uYW1lXSkgOiB7fTsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGNhY2hlX25hbWUgKyAiX2V4cCIsIG5vdyArIGV4cGlyZSk7CgogICAgcmV0dXJuIHsKICAgICAgICBmbHVzaDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShjYWNoZV9uYW1lLCBKU09OLnN0cmluZ2lmeShjYWNoZSkpOwogICAgICAgIH0sCgogICAgICAgIGFkZDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgIGNhY2hlW25hbWVdID0gdmFsdWU7CiAgICAgICAgICAgIHRoaXMuZmx1c2goKTsKICAgICAgICB9LAoKICAgICAgICBkZWw6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIGlmIChuYW1lKSB7CiAgICAgICAgICAgICAgICBkZWxldGUgY2FjaGVbbmFtZV07CiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oY2FjaGVfbmFtZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBnZXQ6IGZ1bmN0aW9uIChuYW1lLCBkZWYgPSBudWxsKSB7CiAgICAgICAgICAgIGlmIChuYW1lKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVbbmFtZV0gPyBjYWNoZVtuYW1lXSA6IGRlZjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKZnVuY3Rpb24gY2xlYXJFeHBpcmVkQ2FjaGVWYWx1ZShmb3JjZSkgewogICAgbGV0IFN0b3JhZ2VLZXkgPSBbXTsKICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHsgLy8g5YWI5LuO6YeM6Z2i5Y+W5Ye65omA5pyJ55qEa2V5CiAgICAgICAgU3RvcmFnZUtleS5wdXNoKGxvY2FsU3RvcmFnZS5rZXkoaSkpOwogICAgfQoKICAgIGxldCBDYWNoZUtleSA9IFN0b3JhZ2VLZXkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHggJiYgeC5tYXRjaCgvKGRyZG1fY2FjaGVfLispX2V4cC8pOwogICAgfSk7IC8vIOWGjeS7juS4reaPkOWPluWHuuacrOiEmuacrOe8k+WtmOeahOmUruWAvAoKICAgIGZvciAobGV0IGkgPSAwLGxlbiA9IENhY2hlS2V5Lmxlbmd0aCA7IGkgPCBsZW4gOyArK2kpIHsKICAgICAgICBsZXQga2V5X25hbWUgPSBDYWNoZUtleVtpXTsKICAgICAgICBsZXQgZXhwX2F0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5X25hbWUpOwogICAgICAgIGlmIChmb3JjZSB8fCBleHBfYXQgPCBEYXRlLm5vdygpKSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleV9uYW1lKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5X25hbWUuc2xpY2UoMCwtNCkpOyAvLyDnp7vpmaQgX2V4cCDlkI7nvIAKICAgICAgICB9CiAgICB9Cn0KCmxldCBfdmVyc2lvbiA9IEdNX2dldFZhbHVlKCJ2ZXJzaW9uIiwgIui9u+mHj+eJiCIpOwpsZXQgZGVsZXRlX3NpdGVfcHJlZml4ID0gImRlbGV0ZV9zaXRlXyI7CgppZiAodHlwZW9mIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQgIT09ICJ1bmRlZmluZWQiKSB7CgogICAgZnVuY3Rpb24gY2hhbmdlVmVyc2lvbkNvbmZpcm0oKSB7CiAgICAgICAgaWYgKGNvbmZpcm0oYOS9oOW9k+WJjeeJiOacrOaYryAke192ZXJzaW9ufe+8jOaYr+WQpui/m+ihjOWIh+aNou+8n2ApKSB7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKCJ2ZXJzaW9uIiwgX3ZlcnNpb24gPT09ICLlrozmlbTniYgiID8gIui9u+mHj+eJiCIgOiAi5a6M5pW054mIIik7CiAgICAgICAgfQogICAgfQogICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgi6ISa5pys5Yqf6IO95YiH5o2iIiwgY2hhbmdlVmVyc2lvbkNvbmZpcm0pOwoKICAgIGZ1bmN0aW9uIGNoYW5nZVRhZ0JDb2xvcigpIHsKICAgICAgICBsZXQgbm93X2Jjb2xvcl9saXN0ID0gW0dNX2dldFZhbHVlKCJ0YWdfYmNvbG9yX2V4aXN0IiwgIiNlM2YxZWQiKSwgR01fZ2V0VmFsdWUoInRhZ19iY29sb3Jfbm90X2V4aXN0IiwgIiNmNGVhYzIiKSwgR01fZ2V0VmFsdWUoInRhZ19iY29sb3JfbmVlZF9sb2dpbiIsICIiKSwgR01fZ2V0VmFsdWUoInRhZ19iY29sb3JfZXJyb3IiLCAiIildOwogICAgICAgIGxldCBuYW1lID0gcHJvbXB0KCLor7fkvp3mrKHovpPlhaXku6Pooagn6LWE5rqQ5a2Y5ZyoJywn6LWE5rqQ5LiN5a2Y5ZyoJywn56uZ54K56ZyA6KaB55m76ZmGJywn56uZ54K56Kej5p6Q6ZSZ6K+vJ+minOiJsueahEhleOWAvO+8jOW5tueUqOiLseaWh+mAl+WPt+WIhuWJsuOAguW9k+WJjeWAvOS4uu+8miIsIGAke25vd19iY29sb3JfbGlzdC5qb2luKCcsJyl9YCk7CiAgICAgICAgaWYgKG5hbWUgIT0gbnVsbCAmJiBuYW1lICE9PSAiIikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbGV0IGJjb2xvcl9saXN0ID0gbmFtZS5zcGxpdCgiLCIpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoInRhZ19iY29sb3JfZXhpc3QiLCBiY29sb3JfbGlzdFswXSB8fCAiI2UzZjFlZCIpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoInRhZ19iY29sb3Jfbm90X2V4aXN0IiwgYmNvbG9yX2xpc3RbMV0gfHwgIiNmNGVhYzIiKTsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJ0YWdfYmNvbG9yX25lZWRfbG9naW4iLCBiY29sb3JfbGlzdFsyXSB8fCAiIik7CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgidGFnX2Jjb2xvcl9lcnJvciIsIGJjb2xvcl9saXN0WzNdIHx8ICIiKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgYWxlcnQoIuino+aekOi+k+WFpeWHuumUmSIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgi5pu05pS55qCH562+6IOM5pmv6ImyIiwgY2hhbmdlVGFnQkNvbG9yKTsKCiAgICBmdW5jdGlvbiBjaGFuZ2VUYWdGQ29sb3IoKSB7CiAgICAgICAgbGV0IG5vd19mY29sb3JfbGlzdCA9IFtHTV9nZXRWYWx1ZSgidGFnX2Zjb2xvcl9leGlzdCIsICIjMzM3N2FhIiksIEdNX2dldFZhbHVlKCJ0YWdfZmNvbG9yX25vdF9leGlzdCIsICIjMzM3N2FhIiksIEdNX2dldFZhbHVlKCJ0YWdfZmNvbG9yX25lZWRfbG9naW4iLCAiIzMzNzdhYSIpLCBHTV9nZXRWYWx1ZSgidGFnX2Zjb2xvcl9lcnJvciIsICIjMzM3N2FhIildOwogICAgICAgIGxldCBuYW1lID0gcHJvbXB0KCLor7fkvp3mrKHovpPlhaXku6Pooagn6LWE5rqQ5a2Y5ZyoJywn6LWE5rqQ5LiN5a2Y5ZyoJywn56uZ54K56ZyA6KaB55m76ZmGJywn56uZ54K56Kej5p6Q6ZSZ6K+vJ+minOiJsueahEhleOWAvO+8jOW5tueUqOiLseaWh+mAl+WPt+WIhuWJsuOAguW9k+WJjeWAvOS4uu+8miIsIGAke25vd19mY29sb3JfbGlzdC5qb2luKCcsJyl9YCk7CiAgICAgICAgaWYgKG5hbWUgIT0gbnVsbCAmJiBuYW1lICE9PSAiIikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbGV0IGZjb2xvcl9saXN0ID0gbmFtZS5zcGxpdCgiLCIpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoInRhZ19mY29sb3JfZXhpc3QiLCBmY29sb3JfbGlzdFswXSB8fCAiIzMzNzdhYSIpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoInRhZ19mY29sb3Jfbm90X2V4aXN0IiwgZmNvbG9yX2xpc3RbMV0gfHwgIiMzMzc3YWEiKTsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJ0YWdfZmNvbG9yX25lZWRfbG9naW4iLCBmY29sb3JfbGlzdFsyXSB8fCAiIzMzNzdhYSIpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoInRhZ19mY29sb3JfZXJyb3IiLCBmY29sb3JfbGlzdFszXSB8fCAiIzMzNzdhYSIpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgi6Kej5p6Q6L6T5YWl5Ye66ZSZIik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCLmm7TmlLnmoIfnrb7mloflrZfoibIiLCBjaGFuZ2VUYWdGQ29sb3IpOwoKICAgIGZ1bmN0aW9uIGZvcmNlQ2FjaGVDbGVhcigpIHsKICAgICAgICBpZiAoY29uZmlybSgi5riF56m65omA5pyJ57yT5a2Y5L+h5oGv77yI5YyF5ous6LWE5rqQ5a2Y5Zyo5oOF5Ya144CB55m76ZmG5oOF5Ya1562J77yJIikpIHsKICAgICAgICAgICAgY2xlYXJFeHBpcmVkQ2FjaGVWYWx1ZSh0cnVlKTsKICAgICAgICB9CiAgICB9CiAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCLmuIXnqbrohJrmnKznvJPlrZgiLCBmb3JjZUNhY2hlQ2xlYXIpOwp9CgoKbGV0IGZldGNoX2FuY2hvciA9IGZ1bmN0aW9uIChhbmNob3IpIHsKICAgIHJldHVybiBhbmNob3JbMF0ubmV4dFNpYmxpbmcubm9kZVZhbHVlLnRyaW0oKTsKfTsKCmZ1bmN0aW9uIHN0YXJCbG9jayhzb3VyY2UsIHNvdXJjZV9saW5rLCBfcmF0aW5nLCBfdm90ZSwgbWF4ID0gMTApIHsKICAgIGxldCBzdGFyVmFsdWUgPSBwYXJzZUZsb2F0KF9yYXRpbmcpIC8gMjsKICAgIHN0YXJWYWx1ZSA9IHN0YXJWYWx1ZSAlIDEgPiAwLjUgPyBNYXRoLmZsb29yKHN0YXJWYWx1ZSkgKyAwLjUgOiBNYXRoLmZsb29yKHN0YXJWYWx1ZSk7CiAgICBzdGFyVmFsdWUgKj0gKDEwMCAvIG1heCk7CgogICAgcmV0dXJuIGA8ZGl2IGNsYXNzPXJhdGluZ19sb2dvID4ke3NvdXJjZX0g6K+E5YiGPC9kaXY+PGRpdiBjbGFzcz0icmF0aW5nX3NlbGYgY2xlYXJmaXgiIHR5cGVvZj0idjpSYXRpbmciPjxzdHJvbmcgY2xhc3M9ImxsIHJhdGluZ19udW0iIHByb3BlcnR5PSJ2OmF2ZXJhZ2UiPiR7cGFyc2VGbG9hdChfcmF0aW5nKS50b0ZpeGVkKDEpfTwvc3Ryb25nPjxzcGFuIHByb3BlcnR5PSJ2OmJlc3QiIGNvbnRlbnQ9MTAuMCA+PC9zcGFuPjxkaXYgY2xhc3M9InJhdGluZ19yaWdodCAiPjxkaXYgY2xhc3M9ImxsIGJpZ3N0YXIgJHsnYmlnc3RhcicgKyBzdGFyVmFsdWV9Ij48L2Rpdj48ZGl2IGNsYXNzPSJyYXRpbmdfc3VtIj4gPGEgaHJlZj0ke3NvdXJjZV9saW5rfSAgY2xhc3M9cmF0aW5nX3Blb3BsZSB0YXJnZXQ9Il9ibGFuayI+PHNwYW4gcHJvcGVydHk9InY6dm90ZXMiPiR7X3ZvdGV9PC9zcGFuPuS6uiR7c291cmNlID09PSAiTUFMIiA/ICLop4LnnIsiIDogIuivhOS7tyJ9PC9hPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PmAKfQoKJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgewogICAgbGV0IGRvdWJhbl9saW5rLCBkb3ViYW5faWQ7CgogICAgZG91YmFuX2xpbmsgPSAnaHR0cHM6Ly8nICsgbG9jYXRpb24uaHJlZi5tYXRjaCgvZG91YmFuLmNvbVwvc3ViamVjdFwvXGQrXC8vKTsgIC8v6LGG55Oj6ZO+5o6lCiAgICBkb3ViYW5faWQgPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC8oXGR7Nyw4fSkvZyk7CgogICAgbGV0IHNpdGVfbWFwID0gW107CgogICAgLyoqIGxhYmVs5a+56LGh6ZSu5YC86K+05piO77yaCiAgICAgKiBuYW1lOiAgICAgICAgICBTdHJpbmcgIOermeeCueWQjeensO+8jOivt+azqOaEj+ivpeermeeCueWQjeensOWcqOS4jeWQjOeahHNpdGVfbWFw5Lit5Lmf5bqU6K+l5ZSv5LiA77yM5Lul5YWN6ISa5pys5ZCO57ut5Yik5pat5Ye66ZSZCiAgICAgKiBtZXRob2TvvJogICAgICAgU3RyaW5nICDmkJzntKLor7fmsYLmlrnlvI/vvIzpu5jorqTlgLzkuLogIkdFVCIKICAgICAqIGxpbmvvvJogICAgICAgICBTdHJpbmcgIOaehOmAoOWlveeahOivt+axgumhtemdoumTvuaOpe+8jOS9nOS4umxhYmVs55qEaHJlZuWxnuaAp+Whq+WFpe+8jOeUqOaIt+W6lOivpeiDveebtOaOpeeCueW8gOi/meS4qumhtemdouOAggogICAgICogYWpheO+8miAgICAgICAgIFN0cmluZyAg5aaC5p6c56uZ54K55L2/55SoYWpheOeahOW9ouW8j+WKoOi9vemhtemdou+8jOWImemcgOimgeS8oOWFpeivpeWAvOS9nOS4uuWunumZheivt+axgueahOmTvuaOpe+8jOWNs+S8mOWFiOe6p+avlGxpbmvmm7Tpq5jjgIIKICAgICAqIHR5cGXvvJogICAgICAgICBTdHJpbmcgIOi/lOWbnue7k+aenOexu+Wei++8jOiEmuacrOm7mOiupOaMiWh0bWzpobXpnaLop6PmnpDvvJvlj6rmnInlvZPkvKDlhaXlgLzkuLoianNvbiLml7bvvIzohJrmnKzmjIlKU09O5qC85byP6Kej5p6QCiAgICAgKiBzZWxlY3Rvcu+8miAgICAgU3RyaW5nICDmkJzntKLmiJDlip/liKTmlq3nu5PmnpzvvIzpu5jorqTlgLzkuLogInRhYmxlLnRvcnJlbnRzOmxhc3QgPiB0Ym9keSA+IHRyOmd0KDApIiAo6YCC55So5LqO5Zu95YaF5aSa5pWwTmV4dXNQSFDmnoTmnrbnmoTnq5nngrkpCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIOWmguaenHR5cGXkuLoicGFnZSLvvIjpu5jorqTvvInml7bvvIzkuLrkuIDkuKrvvIhqUXVlcnnvvIlDU1PpgInmi6nlmajvvIwKICAgICAqICAgICAgICAgICAgICAgICAgICAgICAg5aaC5p6cdHlwZeS4uiJqc29uIuaIliJqc29ucCLml7bvvIzkuLrkuIDkuKrlhbfkvZPnmoTliKTmlq3lvI/jgIIKICAgICAqIHNlbGVjdG9yX25lZWRfbG9naW4gICAg5pCc57Si6ZyA6KaB55m75b2V55qE6YCJ5oup5Zmo77yM5LuF5ZyodHlwZeS4uum7mOiupOaXtuacieeUqO+8jOWFtuS9meeUqOazleWQjFNlbGVjdG9y5LiA6Ie044CCCiAgICAgKiBkYXRh77yaICAgICAgICAgU3RyaW5nICDkvZzkuLror7fmsYLnmoTkuLvkvZPlj5HpgIHnmoTlhoXlrrnvvIzpu5jorqTkuLrnqbrljbPlj68KICAgICAqIGhlYWRlcnPvvJogICAgICBPYmplY3QgIOS/ruaUuem7mOiupOivt+axguWktO+8jO+8iOmYsuatouafkOS6m+ermeeCueaciXJlZmVycmVy562J6K+35rGC5aS05qOA5p+lCiAgICAgKiByZXdyaXRlX2hyZWY6ICBCb29sZWFuIOWmguaenOermeeCueacgOe7iOaQnOe0ouaYvuekuueahOmhtemdouS4juWunumZheS9v+eUqOaQnOe0oumhtemdou+8iOeJueWIq+aYr+S9v+eUqHBvc3Tov5vooYzkuqTkupLnmoTnq5nngrnvvInkuI3kuIDoh7TvvIwKICAgICAqICAgICAgICAgICAgICAgICAgICAgICAg6K6+572u5Li6dHJ1ZeiDveiuqeiEmuacrOWtmOWCqOacgOe7iHVybO+8jOW5tuaUueWGmWxhYmVs5L2/55So55qEaHJlZuWxnuaApwogICAgICogY3NyZjogICAgICAgICAgT2JqZWN0ICDkuIDkuKrnsbvkvLzov5nmoLfnmoTlrZflhbggeyBuYW1lOiAiX2NzcmYiLCB1cGRhdGU6ICJsaW5rIn0KICAgICAqICAgICAgICAgICAgICAgICAgICAgICAg5YW25Lita2V55Li656uZ54K5Y3NyZumYsuaKpOeahOWQjeensO+8jHVwZGF0ZeS4uumcgOimgeabtOaWsOeahOWtl+aute+8iOS4gOiIrOS4umxpbmvmiJZkYXRh77yJCiAgICAgKgogICAgICog5rOo5oSP77yaIDEuIOWmguaenOafkOmUruaciem7mOiupOWAvO+8jOWImeS8oOWFpeWAvOWdh+S8muimhueblum7mOiupOWAvAogICAgICogICAgICAgIDIuIOWFs+S6juivt+axguaWueazleivt+WPguiAg++8mmh0dHBzOi8vZ2l0aHViLmNvbS9zY3JpcHRpc2gvc2NyaXB0aXNoL3dpa2kvR01feG1saHR0cFJlcXVlc3QKICAgICAqICovCiAgICBpZiAoZG91YmFuX2lkKSB7CiAgICAgICAgY2xlYXJFeHBpcmVkQ2FjaGVWYWx1ZShmYWxzZSk7ICAvLyDmuIXnkIbnvJPlrZgKICAgICAgICBsZXQgY2FjaGUgPSBDYWNoZVN0b3JhZ2UoZG91YmFuX2lkLCA4NjQwMCAqIDcgKiAxZTMpOwogICAgICAgIGxldCBuZWVkX2xvZ2luX2NhY2hlID0gQ2FjaGVTdG9yYWdlKCJuZWVkX2xvZ2luIiwgODY0MDAgKiAxZTMpOwoKICAgICAgICAkKCIjY29udGVudCBkaXYuYXNpZGUiKS5wcmVwZW5kKGA8ZGl2IGlkPSJkcmRtX3JlcV9zdGF0dXMiIHN0eWxlPSJjb2xvcjogI0M2NUUyNDtiYWNrZ3JvdW5kOiAjRjRGNEVDOyBwYWRkaW5nOiAxMHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7ZGlzcGxheTogbm9uZTsiPgo8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij7osYbnk6PotYTmupDkuIvovb3lpKfluIggLSDotYTmupDmkJzntKLmg4XlhrUgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKCk7IiBpZD0iZHJkbV9yZXFfc3RhdHVzX2hpZGUiPijpmpDol48pPC9hPiA8aHI+PC9kaXY+CjxwIGlkPSJkcmRtX2RlcF9ub3RpY2UiIHN0eWxlPSJjb2xvcjogI0M2NUUyNDtkaXNwbGF5Om5vbmU7Ij7ohJrmnKzmnKrlrozlhajliqDovb3vvIzpg6jliIbnq5nngrnlsIblj5flvbHlk43jgILor7fnoa7kv53nvZHnu5znqLPlrprmiJblsJ3or5Xph43mlrDliLfmlrDpobXpnaLjgII8L3A+Cjx0YWJsZT4KPHRyPjx0ZCB3aWR0aD0iNTAlIj7lrZjlnKjvvJo8c3BhbiBpZD0iZHJkbV9yZXFfc3VjY2VzcyI+PC9zcGFuPjwvdGQ+PHRkIHdpZHRoPSI1MCUiPuS4jeWtmOWcqO+8mjxzcGFuIGlkPSJkcmRtX3JlcV9ub2V4aXN0Ij48L3NwYW4+PC90ZD48L3RyPgo8dHI+PHRkIHdpZHRoPSI1MCUiPuivt+axguS4re+8mjxzcGFuIGlkPSJkcmRtX3JlcV9hc2tpbmciPjwvc3Bhbj48L3RkPjx0ZCB3aWR0aD0iNTAlIj7lpLHotKXmiJbpnIDopoHnmbvpmYbvvJo8c3BhbiBpZD0iZHJkbV9yZXFfZmFpbCI+PC9zcGFuPjwvdGQ+PC90cj4KPC90YWJsZT4KPHNwYW4gaWQ9ImRyZG1fcmVxX2hlbHAiPjxocj4KPHNwYW4+5piv5ZCm6ZqQ6JeP5b2T5YmN5pyq5oiQ5Yqf55qE5pCc57Si6aG577yfICA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoKTsiIGlkPSJkcmRtX2hpZGVfZmFpbCI+IOaYryA8L2E+ICAvICA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoKTsiIGlkPSJkcmRtX3Nob3dfYWxsIj4g5ZCmIDwvYT48L3NwYW4+Cjwvc3Bhbj4KPC9kaXY+CjxkaXYgaWQ9J2Fkdi1zaXRlcyc+PC9kaXY+YCk7CiAgICAgICAgJCgiI2RyZG1fcmVxX3N0YXR1c19oaWRlIikuY2xpY2soZnVuY3Rpb24gKCkgeyAkKCIjZHJkbV9yZXFfc3RhdHVzIikuaGlkZSgpO30pOwogICAgICAgICQoIiNkcmRtX2hpZGVfZmFpbCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgJCgiI2Fkdi1zaXRlcyBhW3RpdGxlIT1cIui1hOa6kOWtmOWcqFwiXSIpLmhpZGUoKTsgfSk7CiAgICAgICAgJCgiI2RyZG1fc2hvd19hbGwiKS5jbGljayhmdW5jdGlvbiAoKSB7ICQoIiNhZHYtc2l0ZXMgYTpoaWRkZW4iKS5zaG93KCk7IH0pOwoKICAgICAgICBsZXQgdXBkYXRlX3N0YXR1c19pbnRlcnZhbDsKCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlX3JlcV9zdGF0dXMoKSB7CiAgICAgICAgICAgIGxldCBhc2tpbmdfbGVuZ3RoID0gJCgiI2Fkdi1zaXRlcyBhW3RpdGxlPVwi5q2j5Zyo6K+35rGC5L+h5oGv5LitXCJdIikubGVuZ3RoOwoKICAgICAgICAgICAgJCgiI2RyZG1fcmVxX3N1Y2Nlc3MiKS50ZXh0KCQoIiNhZHYtc2l0ZXMgYVt0aXRsZT1cIui1hOa6kOWtmOWcqFwiXSIpLmxlbmd0aCk7CiAgICAgICAgICAgICQoIiNkcmRtX3JlcV9hc2tpbmciKS50ZXh0KGFza2luZ19sZW5ndGgpOwogICAgICAgICAgICAkKCIjZHJkbV9yZXFfbm9leGlzdCIpLnRleHQoJCgiI2Fkdi1zaXRlcyBhW3RpdGxlPVwi6LWE5rqQ5LiN5a2Y5ZyoXCJdIikubGVuZ3RoKTsKICAgICAgICAgICAgJCgiI2RyZG1fcmVxX2ZhaWwiKS50ZXh0KCQoIiNhZHYtc2l0ZXMgYVt0aXRsZT1cIuermeeCuemcgOimgeeZu+mZhlwiXSIpLmxlbmd0aCArICQoIiNhZHYtc2l0ZXMgYVt0aXRsZT1cIumBh+WIsOmXrumimFwiXSIpLmxlbmd0aCk7CgogICAgICAgICAgICBpZiAoYXNraW5nX2xlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh1cGRhdGVfc3RhdHVzX2ludGVydmFsKTsgIC8vIOW9k+aJgOacieivt+axguWujOaIkOWQjua4hemZpOWumuaXtuWZqAogICAgICAgICAgICAgICAgaWYgKEdNX2dldFZhbHVlKCdlbmFsYmVfYWR2X2F1dG9fdGlwX2hpZGUnLCBmYWxzZSkpIHsKICAgICAgICAgICAgICAgICAgICAkKCIjZHJkbV9yZXFfc3RhdHVzX2hpZGUiKS5jbGljaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBfZW5jb2RlVG9HYjIzMTIoc3RyLCBvcHQpIHsKICAgICAgICAgICAgbGV0IHJldCA9ICIiOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0ID0gZW5jb2RlVG9HYjIzMTIoc3RyLCBvcHQpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICByZXQgPSBNYXRoLnJhbmRvbSgpICogMWU2OwogICAgICAgICAgICAgICAgJCgiI2RyZG1fZGVwX25vdGljZSIpLnNob3coKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0KCiAgICAgICAgaWYgKGxvY2F0aW9uLmhvc3QgPT09ICJtb3ZpZS5kb3ViYW4uY29tIikgewogICAgICAgICAgICAvLyDmn6XnnIvljp/lm74KICAgICAgICAgICAgaWYgKCQoJyNtYWlucGljIHAuZ2FjdCcpLmxlbmd0aCA9PT0gMCkgeyAgLy8g5Zyo5pyq55m75b2V55qE5oOF5Ya15LiL5re75Yqg56m655m95YWD57Sg5Lul5pa55L6/5p+l55yL5Y6f5Zu+5Lqk5LqS5oyJ6ZKu55qE5a6a5L2NCiAgICAgICAgICAgICAgICAkKCIjbWFpbnBpYyIpLmFwcGVuZCgiPHAgY2xhc3M9XCJnYWN0XCI+PC9wPiIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBwb3N0ZXJBbmNob3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbnBpYyA+IGEgPiBpbWcnKTsKICAgICAgICAgICAgbGV0IHBvc3RlcnNVcmwsIHJhd1VybDsKICAgICAgICAgICAgaWYgKHBvc3RlckFuY2hvcikgewogICAgICAgICAgICAgICAgcG9zdGVyc1VybCA9IHBvc3RlckFuY2hvci5nZXRBdHRyaWJ1dGUoInNyYyIpOwogICAgICAgICAgICAgICAgcmF3VXJsID0gcG9zdGVyc1VybC5yZXBsYWNlKC9waG90b1wvW3NsXShfcmF0aW9fcG9zdGVyfHBpYylcL3B1YmxpY1wvKHBcZCspLiskLywgInBob3RvL3Jhdy9wdWJsaWMvJDIuanBnIik7CiAgICAgICAgICAgICAgICAkKCcjbWFpbnBpYyBwLmdhY3QnKS5hZnRlcihgPGEgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9mb2xsb3ciIGhyZWY9IiR7cmF3VXJsfSI+5p+l55yL5Y6f5Zu+PC9hPmApOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDosIPmlbTlupXkuIvliafmg4XnroDku4vnmoTkvY3nva4KICAgICAgICAgICAgbGV0IGludGVyZXN0X3NlY3RsX3NlbGVjdG9yID0gJCgnI2ludGVyZXN0X3NlY3RsJyk7CiAgICAgICAgICAgIGludGVyZXN0X3NlY3RsX3NlbGVjdG9yLmFmdGVyKCQoJ2Rpdi5ncmlkLTE2LTggZGl2LnJlbGF0ZWQtaW5mbycpKTsKICAgICAgICAgICAgaW50ZXJlc3Rfc2VjdGxfc2VsZWN0b3IuYXR0cignc3R5bGUnLCAnZmxvYXQ6cmlnaHQnKTsKICAgICAgICAgICAgJCgnZGl2LnJlbGF0ZWQtaW5mbycpLmF0dHIoJ3N0eWxlJywgJ3dpZHRoOjQ4MHB4O2Zsb2F0OmxlZnQnKTsKCiAgICAgICAgICAgIC8vIE1vdmllaW5mb+S/oeaBr+eUn+aIkOebuOWFswogICAgICAgICAgICBsZXQgdGhpc190aXRsZSwgdHJhbnNfdGl0bGUsIGFrYTsKICAgICAgICAgICAgbGV0IHllYXIsIHJlZ2lvbiwgZ2VucmUsIGxhbmd1YWdlLCBwbGF5ZGF0ZTsKICAgICAgICAgICAgbGV0IGltZGJfbGluaywgaW1kYl9pZCwgaW1kYl9hdmVyYWdlX3JhdGluZywgaW1kYl92b3RlcywgaW1kYl9yYXRpbmc7CiAgICAgICAgICAgIGxldCBkb3ViYW5fYXZlcmFnZV9yYXRpbmcsIGRvdWJhbl92b3RlcywgZG91YmFuX3JhdGluZzsKICAgICAgICAgICAgbGV0IGVwaXNvZGVzLCBkdXJhdGlvbjsKICAgICAgICAgICAgbGV0IGRpcmVjdG9yLCB3cml0ZXIsIGNhc3Q7CiAgICAgICAgICAgIGxldCB0YWdzLCBpbnRyb2R1Y3Rpb24sIGF3YXJkczsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIOiOt+W+lyA8c2NyaXB0IHR5cGU9ImFwcGxpY2F0aW9uL2xkK2pzb24iIC8+IOmHjOmdoueahOS/oeaBr++8jOi/memHjOmdoueahOS4nOilv+WSjEFQSei/lOWbnumcgOimgeeahOS4nOilv+W3ruS4jeWkmgogICAgICAgICAgICBsZXQgbGRfanNvbjsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgbGRfanNvbiA9IEpTT04ucGFyc2UoJCgnaGVhZCA+IHNjcmlwdFt0eXBlPSJhcHBsaWNhdGlvbi9sZCtqc29uIl0nKS50ZXh0KCkucmVwbGFjZSgvXG4vaWcsJycpKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgICAgICAgIC8vIOWinuWKoE1lZGlhaW5mb+eahOS6pOS6kuaMiemSruS4juebkeWQrAogICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoImVuYWJsZV9tZWRpYWluZm9fZ2VuIiwgZmFsc2UpKSB7CiAgICAgICAgICAgICAgICAkKCJkaXYjaW5mbyIpLmFwcGVuZCgiPHNwYW4gY2xhc3M9XCJwbFwiPueUn+aIkOS/oeaBrzogPC9zcGFuPjxhIGlkPSdtb3ZpZWluZm9nZW4nIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnPm1vdmllaW5mbzwvYT48YnIvPiIpOwogICAgICAgICAgICAgICAgJCgiZGl2LnJlbGF0ZWQtaW5mbyIpLmJlZm9yZSgiPGRpdiBjbGFzcz0nYy1hc2lkZScgc3R5bGU9J2Zsb2F0OmxlZnQ7bWFyZ2luLXRvcDoyMHB4O3dpZHRoOiA0NzBweDtkaXNwbGF5OiBub25lJyBpZD0nbW92aWVpbmZvX2Rpdic+PGgyPjxpPueUteW9seeugOS7izwvaT7CtyDCtyDCtyDCtyDCtyDCtyA8L2gyPjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIGlkPSdjb3B5X21vdmllaW5mbyc+54K55Ye75aSN5Yi2PC9hPjxkaXYgY2xhc3M9XCJjLWFzaWRlLWJvZHlcIiBzdHlsZT1cInBhZGRpbmc6IDAgMTJweDtcIiBpZD0nbW92aWVpbmZvJz48L2Rpdj48L2Rpdj4iKTsKICAgICAgICAgICAgICAgICQoImEjbW92aWVpbmZvZ2VuIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGxldCBkZXNjciA9ICIiOwogICAgICAgICAgICAgICAgICAgIGRlc2NyICs9IHBvc3RlciA/IGBbaW1nXSR7cG9zdGVyfVsvaW1nXVxuXG5gIDogIiI7CiAgICAgICAgICAgICAgICAgICAgZGVzY3IgKz0gdHJhbnNfdGl0bGUgPyBg4peO6K+R44CA44CA5ZCN44CAJHt0cmFuc190aXRsZX1cbmAgOiAiIjsKICAgICAgICAgICAgICAgICAgICBkZXNjciArPSB0aGlzX3RpdGxlID8gYOKXjueJh+OAgOOAgOWQjeOAgCR7dGhpc190aXRsZX1cbmAgOiAiIjsKICAgICAgICAgICAgICAgICAgICBkZXNjciArPSB5ZWFyID8gYOKXjuW5tOOAgOOAgOS7o+OAgCR7eWVhci50cmltKCl9XG5gIDogIiI7CiAgICAgICAgICAgICAgICAgICAgZGVzY3IgKz0gcmVnaW9uID8gYOKXjuS6p+OAgOOAgOWcsOOAgCR7cmVnaW9ufVxuYCA6ICIiOwogICAgICAgICAgICAgICAgICAgIGRlc2NyICs9IGdlbnJlID8gYOKXjuexu+OAgOOAgOWIq+OAgCR7Z2VucmV9XG5gIDogIiI7CiAgICAgICAgICAgICAgICAgICAgZGVzY3IgKz0gbGFuZ3VhZ2UgPyBg4peO6K+t44CA44CA6KiA44CAJHtsYW5ndWFnZX1cbmAgOiAiIjsKICAgICAgICAgICAgICAgICAgICBkZXNjciArPSBwbGF5ZGF0ZSA/IGDil47kuIrmmKDml6XmnJ/jgIAke3BsYXlkYXRlfVxuYCA6ICIiOwogICAgICAgICAgICAgICAgICAgIGRlc2NyICs9IGltZGJfcmF0aW5nID8gYOKXjklNRGLor4TliIYgICR7aW1kYl9yYXRpbmd9XG5gIDogIiI7ICAvLyDms6jmhI/lpoLmnpzplb/ml7bpl7TmsqHog73or7fmsYLlrozmiJBpbWRi5L+h5oGv77yM5YiZ6K+l5p2h5LiN5pi+56S6CiAgICAgICAgICAgICAgICAgICAgZGVzY3IgKz0gaW1kYl9saW5rID8gYOKXjklNRGLpk77mjqUgICR7aW1kYl9saW5rfVxuYCA6ICIiOwogICAgICAgICAgICAgICAgICAgIGRlc2NyICs9IGRvdWJhbl9yYXRpbmcgPyBg4peO6LGG55Oj6K+E5YiG44CAJHtkb3ViYW5fcmF0aW5nfVxuYCA6ICIiOwogICAgICAgICAgICAgICAgICAgIGRlc2NyICs9IGRvdWJhbl9saW5rID8gYOKXjuixhueTo+mTvuaOpeOAgCR7ZG91YmFuX2xpbmt9XG5gIDogIiI7CiAgICAgICAgICAgICAgICAgICAgZGVzY3IgKz0gZXBpc29kZXMgPyBg4peO6ZuG44CA44CA5pWw44CAJHtlcGlzb2Rlc31cbmAgOiAiIjsKICAgICAgICAgICAgICAgICAgICBkZXNjciArPSBkdXJhdGlvbiA/IGDil47niYfjgIDjgIDplb/jgIAke2R1cmF0aW9ufVxuYCA6ICIiOwogICAgICAgICAgICAgICAgICAgIGRlc2NyICs9IGRpcmVjdG9yID8gYOKXjuWvvOOAgOOAgOa8lOOAgCR7ZGlyZWN0b3J9XG5gIDogIiI7CiAgICAgICAgICAgICAgICAgICAgZGVzY3IgKz0gd3JpdGVyID8gYOKXjue8luOAgOOAgOWJp+OAgCR7d3JpdGVyfVxuYCA6ICIiOwogICAgICAgICAgICAgICAgICAgIGRlc2NyICs9IGNhc3QgPyBg4peO5Li744CA44CA5ryU44CAJHtjYXN0LnJlcGxhY2UoL1xuL2csICdcbicgKyAn44CAJy5yZXBlYXQoNCkgKyAnICDjgIAnKS50cmltKCl9XG5gIDogIiI7CiAgICAgICAgICAgICAgICAgICAgZGVzY3IgKz0gdGFncyA/IGBcbuKXjuagh+OAgOOAgOetvuOAgCR7dGFnc31cbmAgOiAiIjsKICAgICAgICAgICAgICAgICAgICBkZXNjciArPSBpbnRyb2R1Y3Rpb24gPyBgXG7il47nroDjgIDjgIDku4tcblxu44CA44CAJHtpbnRyb2R1Y3Rpb24ucmVwbGFjZSgvXG4vZywgJ1xuJyArICfjgIAnLnJlcGVhdCgyKSl9XG5gIDogIiI7CiAgICAgICAgICAgICAgICAgICAgZGVzY3IgKz0gYXdhcmRzID8gYFxu4peO6I635aWW5oOF5Ya1XG5cbuOAgOOAgCR7YXdhcmRzLnJlcGxhY2UoL1xuL2csICdcbicgKyAn44CAJy5yZXBlYXQoMikpfVxuYCA6ICIiOwogICAgICAgICAgICAgICAgICAgICQoImRpdiNtb3ZpZWluZm8iKS5odG1sKGRlc2NyLnJlcGxhY2UoL1xuL2lnLCAiPGJyPiIpKTsKICAgICAgICAgICAgICAgICAgICAkKCIjbW92aWVpbmZvX2RpdiIpLnRvZ2dsZSgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKCJhI2NvcHlfbW92aWVpbmZvIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGxldCBtb3ZpZWNsaXAgPSAkKCIjbW92aWVpbmZvIikuaHRtbCgpLnJlcGxhY2UoLzxicj4vaWcsICJcbiIpLnJlcGxhY2UoLzxhIFtePl0qPi9nLCAiIikucmVwbGFjZSgvPFwvYT4vZywgIiIpOwogICAgICAgICAgICAgICAgICAgIEdNX3NldENsaXBib2FyZChtb3ZpZWNsaXApOwogICAgICAgICAgICAgICAgICAgICQodGhpcykudGV4dCgi5aSN5Yi25oiQ5YqfIik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g5YWI5a+55LiA5Lqb5YWz6ZSu5L+h5oGv6L+b6KGM5Yik5patCiAgICAgICAgICAgIGxldCBha2FfYW5jaG9yID0gJCgnI2luZm8gc3Bhbi5wbDpjb250YWlucygi5Y+I5ZCNIiknKTsKICAgICAgICAgICAgbGV0IGhhc19ha2EgPSBha2FfYW5jaG9yLmxlbmd0aCA+IDA7CiAgICAgICAgICAgIGxldCBoYXNfaW1kYiA9ICQoJ2RpdiNpbmZvIGFbaHJlZl49XCdodHRwczovL3d3dy5pbWRiLmNvbS90aXRsZS90dFwnXScpLmxlbmd0aCA+IDA7CiAgICAgICAgICAgIGxldCBpc19tb3ZpZSA9ICQoImEuYm4tc2hhcmluZ1tkYXRhLXR5cGU9J+eUteW9sSddIikubGVuZ3RoID4gMDsKICAgICAgICAgICAgbGV0IGlzX3NlcmllcyA9ICQoImEuYm4tc2hhcmluZ1tkYXRhLXR5cGU9J+eUteinhuWJpyddIikubGVuZ3RoID4gMDsKICAgICAgICAgICAgbGV0IGlzX2FuaW1lID0gJCgnc3Bhbltwcm9wZXJ0eT0idjpnZW5yZSJdOmNvbnRhaW5zKCLliqjnlLsiKScpLmxlbmd0aCA+IDA7CiAgICAgICAgICAgIGxldCBpc19kb2N1bWVudCA9ICQoJ3NwYW5bcHJvcGVydHk9InY6Z2VucmUiXTpjb250YWlucygi57qq5b2V54mHIiknKS5sZW5ndGggPiAwOwoKICAgICAgICAgICAgLy8g6aG16Z2i5YWD57Sg5a6a5L2NCiAgICAgICAgICAgIGxldCByZWdpb25zX2FuY2hvciA9ICQoJyNpbmZvIHNwYW4ucGw6Y29udGFpbnMoIuWItueJh+WbveWuti/lnLDljLoiKScpOyAgLy/kuqflnLAKICAgICAgICAgICAgbGV0IGxhbmd1YWdlX2FuY2hvciA9ICQoJyNpbmZvIHNwYW4ucGw6Y29udGFpbnMoIuivreiogCIpJyk7ICAvL+ivreiogAogICAgICAgICAgICBsZXQgZXBpc29kZXNfYW5jaG9yID0gJCgnI2luZm8gc3Bhbi5wbDpjb250YWlucygi6ZuG5pWwIiknKTsgIC8v6ZuG5pWwCiAgICAgICAgICAgIGxldCBkdXJhdGlvbl9hbmNob3IgPSAkKCcjaW5mbyBzcGFuLnBsOmNvbnRhaW5zKCLljZXpm4bniYfplb8iKScpOyAgLy/niYfplb8KCiAgICAgICAgICAgIC8vIOWfuuehgE1vdmllaW5mb+S/oeaBrwogICAgICAgICAgICBsZXQgY2hpbmVzZV90aXRsZSA9IGRvY3VtZW50LnRpdGxlLnJlcGxhY2UoJyjosYbnk6MpJywgJycpLnRyaW0oKTsKICAgICAgICAgICAgbGV0IGZvcmVpZ25fdGl0bGUgPSAkKCcjY29udGVudCBoMT5zcGFuW3Byb3BlcnR5PSJ2Oml0ZW1yZXZpZXdlZCJdJykudGV4dCgpLnJlcGxhY2UoY2hpbmVzZV90aXRsZSwgJycpLnRyaW0oKTsKICAgICAgICAgICAgbGV0IHBvc3RlciA9IHJhd1VybCA/IHJhd1VybC5yZXBsYWNlKCdyYXcnLCdsX3JhdGlvX3Bvc3RlcicpLnJlcGxhY2UoJ2ltZzMnLCdpbWcxJykgOiAnJzsKCiAgICAgICAgICAgIGlmIChoYXNfYWthKSB7CiAgICAgICAgICAgICAgICBha2EgPSBmZXRjaF9hbmNob3IoYWthX2FuY2hvcikuc3BsaXQoJyAvICcpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgIC8v6aaW5a2XKOavjSnmjpLluo8KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIpOwogICAgICAgICAgICAgICAgfSkuam9pbignLycpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZm9yZWlnbl90aXRsZSkgewogICAgICAgICAgICAgICAgdHJhbnNfdGl0bGUgPSBjaGluZXNlX3RpdGxlICsgKGFrYSA/ICgnLycgKyBha2EpIDogJycpOwogICAgICAgICAgICAgICAgdGhpc190aXRsZSA9IGZvcmVpZ25fdGl0bGU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0cmFuc190aXRsZSA9IGFrYSA/IGFrYSA6ICcnOwogICAgICAgICAgICAgICAgdGhpc190aXRsZSA9IGNoaW5lc2VfdGl0bGU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHBsYXlkYXRlID0gJCgnI2luZm8gc3Bhbltwcm9wZXJ0eT0idjppbml0aWFsUmVsZWFzZURhdGUiXScpLm1hcChmdW5jdGlvbiAoKSB7ICAgLy/kuIrmmKDml6XmnJ8KICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLnRleHQoKS50cmltKCk7CiAgICAgICAgICAgIH0pLnRvQXJyYXkoKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7Ly/mjInkuIrmmKDml6XmnJ/ljYfluo/mjpLliJcKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShhKSAtIG5ldyBEYXRlKGIpOwogICAgICAgICAgICB9KS5qb2luKCcvJyk7CgogICAgICAgICAgICB5ZWFyID0gJyAnICsgJCgnI2NvbnRlbnQgPiBoMSA+IHNwYW4ueWVhcicpLnRleHQoKS5zdWJzdHIoMSwgNCk7CiAgICAgICAgICAgIHJlZ2lvbiA9IHJlZ2lvbnNfYW5jaG9yWzBdID8gZmV0Y2hfYW5jaG9yKHJlZ2lvbnNfYW5jaG9yKS5zcGxpdCgnIC8gJykuam9pbignLycpIDogJyc7CiAgICAgICAgICAgIGxhbmd1YWdlID0gbGFuZ3VhZ2VfYW5jaG9yWzBdID8gZmV0Y2hfYW5jaG9yKGxhbmd1YWdlX2FuY2hvcikuc3BsaXQoJyAvICcpLmpvaW4oJy8nKSA6ICcnOwogICAgICAgICAgICBlcGlzb2RlcyA9IGVwaXNvZGVzX2FuY2hvclswXSA/IGZldGNoX2FuY2hvcihlcGlzb2Rlc19hbmNob3IpIDogJyc7CiAgICAgICAgICAgIGR1cmF0aW9uID0gZHVyYXRpb25fYW5jaG9yWzBdID8gZmV0Y2hfYW5jaG9yKGR1cmF0aW9uX2FuY2hvcikgOiAkKCcjaW5mbyBzcGFuW3Byb3BlcnR5PSJ2OnJ1bnRpbWUiXScpLnRleHQoKS50cmltKCk7CgogICAgICAgICAgICBsZXQgaXNfZXVyb3BlID0gcmVnaW9uLm1hdGNoKC/nvo7lm7186Iux5Zu9fOWKoOaLv+Wkp3zkuLnpuqYvKTsKICAgICAgICAgICAgbGV0IGlzX2phcGFuID0gcmVnaW9uLm1hdGNoKC/ml6XmnKwvKTsKICAgICAgICAgICAgbGV0IGlzX2tvcmVhID0gcmVnaW9uLm1hdGNoKC/pn6nlm70vKTsKICAgICAgICAgICAgbGV0IGlzX3RoYWkgPSByZWdpb24ubWF0Y2goL+azsOWbvS8pOwogICAgICAgICAgICBsZXQgaXNfaW5kaWEgPSByZWdpb24ubWF0Y2goL+WNsOW6pi8pOwogICAgICAgICAgICBsZXQgaXNfcGFraXN0YW4gPSByZWdpb24ubWF0Y2goL+W3tOWfuuaWr+WdpnxQYWtpc3Rhbi8pCiAgICAgICAgICAgIGxldCBpc19tYWlubGFuZCA9IHJlZ2lvbi5tYXRjaCgv5Lit5Zu95aSn6ZmGLyk7CiAgICAgICAgICAgIGxldCBpc19tYW5kYXJpbmUgPSBsYW5ndWFnZS5tYXRjaCgv5rGJ6K+t5pmu6YCa6K+dLyk7CiAgICAgICAgICAgIGxldCBpc19vdGhlcmxhbiA9IGxhbmd1YWdlLm1hdGNoKC9cLy8pOwoKICAgICAgICAgICAgZ2VucmUgPSAkKCcjaW5mbyBzcGFuW3Byb3BlcnR5PSJ2OmdlbnJlIl0nKS5tYXAoZnVuY3Rpb24gKCkgeyAgLy/nsbvliKsKICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLnRleHQoKS50cmltKCk7CiAgICAgICAgICAgIH0pLnRvQXJyYXkoKS5qb2luKCcvJyk7CgogICAgICAgICAgICAvLyBBZGQgdG9wIHJhbmsgdGFnCiAgICAgICAgICAgIGlmIChHTV9nZXRWYWx1ZSgiZW5hYmxlX3RvcF9yYW5nX3RhZyIsIHRydWUpKSB7CiAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgICAgICAgICB1cmw6ICJodHRwczovL2JpbXpjeS5naXRodWIuaW8vcmFuazRkb3ViYW4vZGF0YS5qc29uIiwKICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmFua19qc29uID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0X2h0bWxfbGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHJhbmtfanNvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvcF9saXN0ID0gcmFua19qc29uW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3RfbnVtID0gdG9wX2xpc3QubGlzdFtkb3ViYW5faWRdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RfbnVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3Rfb3JkZXIgPSB0b3BfbGlzdC50b3A7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0X2h0bWxfbGlzdFtsaXN0X29yZGVyXSA9IGA8ZGl2IGNsYXNzPSJ0b3AyNTAiPjxzcGFuIGNsYXNzPSJ0b3AyNTAtbm8iPiR7dG9wX2xpc3QucHJlZml4ID8gdG9wX2xpc3QucHJlZml4IDogIk5vLiJ9JHtsaXN0X251bX08L3NwYW4+PHNwYW4gY2xhc3M9InRvcDI1MC1saW5rIj48YSBocmVmPSIke3RvcF9saXN0LmhyZWZ9IiB0aXRsZT0iJHt0b3BfbGlzdC50aXRsZX0iPiR7dG9wX2xpc3Quc2hvcnRfdGl0bGV9PC9hPjwvc3Bhbj48L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnNlcnRfaHRtbF9saXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRfaHRtbF9saXN0LnB1c2goIjxkaXYgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiIGlkPSdyYW5rX3RvZ2dsZScgZGF0YS10b2dnbGU9J3Nob3cnPjxhIGhyZWY9XCJqYXZhc2NyaXB0OjpcIj7lsZXnpLrliankvZkg4oaSPC9hPjwvZGl2PiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFmdGVyID0gJCgiI2RhbGVfbW92aWVfc3ViamVjdF90b3BfaWNvbiIpIHx8ICQoIiNjb250ZW50ID4gaDEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyLmJlZm9yZShpbnNlcnRfaHRtbF9saXN0LmpvaW4oJyAnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG9wX3NlbGVjdG9yID0gJCgiLnRvcDI1MCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wX3NlbGVjdG9yLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3Bfc2VsZWN0b3IubGVuZ3RoID4gNCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIi50b3AyNTA6Z3QoMykiKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3JhbmtfdG9nZ2xlIikuc2hvdygpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoImRhdGEtdG9nZ2xlIikgPT09ICJzaG93IikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wX3NlbGVjdG9yLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cigiZGF0YS10b2dnbGUiLCAiaGlkZSIpLmh0bWwoIjxhIGhyZWY9XCJqYXZhc2NyaXB0OjpcIj7pmpDol4/liankvZkg4oaQPC9hPiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiLnRvcDI1MDpndCgzKSIpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cigiZGF0YS10b2dnbGUiLCAic2hvdyIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKS5odG1sKCI8YSBocmVmPVwiamF2YXNjcmlwdDo6XCI+5bGV56S65Ymp5L2ZIOKGkjwvYT4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g5LuO5Lit5qCP5Lit5YWI6I635Y+W6LGG55Oj6K+E5YiG5L+h5oGv77yI5q2k5pe26L+Y5rKh5pyJaW1kYuetieesrOS4ieaWueivhOS7t+S/oeaBr++8iQogICAgICAgICAgICBsZXQgZG91YmFuX3ZvdGVfYW5vdGhlciA9ICQoJ2Rpdlt0eXBlb2Y9InY6UmF0aW5nIl06ZXEoMCknKTsKICAgICAgICAgICAgaWYgKGRvdWJhbl92b3RlX2Fub3RoZXIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgZG91YmFuX2F2ZXJhZ2VfcmF0aW5nID0gZG91YmFuX3ZvdGVfYW5vdGhlci5maW5kKCdbcHJvcGVydHk9InY6YXZlcmFnZSJdJykubGVuZ3RoID4gMCA/IGRvdWJhbl92b3RlX2Fub3RoZXIuZmluZCgnW3Byb3BlcnR5PSJ2OmF2ZXJhZ2UiXScpLnRleHQoKSA6IDA7CiAgICAgICAgICAgICAgICBkb3ViYW5fdm90ZXMgPSBkb3ViYW5fdm90ZV9hbm90aGVyLmZpbmQoJ1twcm9wZXJ0eT0idjp2b3RlcyJdJykubGVuZ3RoID4gMCA/IGRvdWJhbl92b3RlX2Fub3RoZXIuZmluZCgnW3Byb3BlcnR5PSJ2OnZvdGVzIl0nKS50ZXh0KCkgOiAwOwogICAgICAgICAgICAgICAgZG91YmFuX3JhdGluZyA9IGRvdWJhbl9hdmVyYWdlX3JhdGluZyArICcvMTAgZnJvbSAnICsgZG91YmFuX3ZvdGVzICsgJyB1c2Vycyc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOS4reagj+WKoOW8ugogICAgICAgICAgICAkKCJkaXYjaW50ZXJlc3Rfc2VjdGwiKS5hcHBlbmQoYDxkaXYgY2xhc3M9J3JhdGluZ193cmFwIGNsZWFyYm94JyBpZD0nbG9hZGluZ19tb3JlX3JhdGUnPuWKoOi9veesrOS4ieaWueivhOS7t+S/oeaBr+S4rS4uLi4uLi48L2Rpdj4KPGRpdiBjbGFzcz0icmF0aW5nX3dyYXAgY2xlYXJib3ggcmF0aW5nX2ltZGIiIHJlbD0idjpyYXRpbmciIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvZGl2Pgo8ZGl2IGNsYXNzPSJyYXRpbmdfd3JhcCBjbGVhcmJveCByYXRpbmdfcm90dCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9kaXY+CjxkaXYgY2xhc3M9InJhdGluZ193cmFwIGNsZWFyYm94IHJhdGluZ19hbmlkYiIgcmVsPSJ2OnJhdGluZyIgc3R5bGU9ImJvcmRlci10b3A6IDFweCBzb2xpZCAjZWFlYWVhOyBkaXNwbGF5Om5vbmUiPjwvZGl2Pgo8ZGl2IGNsYXNzPSJyYXRpbmdfbW9yZSIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9kaXY+YCk7IC8vIOS/ruWkjemDqOWIhuaDheWGtSQoImRpdi5yYXRpbmdfYmV0dGVydGhhbiIp5LiN5a2Y5Zyo5oOF5Ya1CgogICAgICAgICAgICAvLyDor7fmsYJJTURi5L+h5oGv77yI5pyA5oWi77yM5pyA5YWI5LiU5Y2V54us6K+35rGC77yJCiAgICAgICAgICAgIGlmIChoYXNfaW1kYikgewogICAgICAgICAgICAgICAgbGV0IGltZGJfbGlua19hbmNob3IgPSAkKCcjaW5mbyBzcGFuLnBsOmNvbnRhaW5zKCJJTURi6ZO+5o6lIiknKTsKICAgICAgICAgICAgICAgIGltZGJfbGluayA9IGltZGJfbGlua19hbmNob3IubmV4dCgpLmF0dHIoJ2hyZWYnKS5yZXBsYWNlKC8oXC8pPyQvLCAnLycpLnJlcGxhY2UoImh0dHA6Ly8iLCAiaHR0cHM6Ly8iKTsKICAgICAgICAgICAgICAgIGltZGJfaWQgPSBpbWRiX2xpbmsubWF0Y2goL3R0XGQrLylbMF07CgogICAgICAgICAgICAgICAgZ2V0RG9jKGltZGJfbGluaywgbnVsbCwgZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICAgIC8vIOivhOWIhu+8jE1ldGFzY29yZe+8jOeDgueVquiMhAogICAgICAgICAgICAgICAgICAgIGltZGJfYXZlcmFnZV9yYXRpbmcgPSAkKCdkaXYucmF0aW5nVmFsdWUgc3Ryb25nIHNwYW4nLCBkb2MpLnRleHQoKTsKICAgICAgICAgICAgICAgICAgICBpbWRiX3ZvdGVzID0gJCgnZGl2LmltZGJSYXRpbmcgYSBzcGFuJywgZG9jKS50ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgaW1kYl9yYXRpbmcgPSBpbWRiX3ZvdGVzID8gaW1kYl9hdmVyYWdlX3JhdGluZyArICcvMTAgZnJvbSAnICsgaW1kYl92b3RlcyArICcgdXNlcnMnIDogJyc7ICAvLyBNb3ZpZWluZm9HZW4g55u45YWzCgogICAgICAgICAgICAgICAgICAgICQoJyNpbnRlcmVzdF9zZWN0bCBkaXYucmF0aW5nX2ltZGInKS5odG1sKHN0YXJCbG9jaygiSU1EQiIsIGltZGJfbGluayArICdyYXRpbmdzP3JlZl89dHRfb3ZfcnQnLCBpbWRiX2F2ZXJhZ2VfcmF0aW5nLCBpbWRiX3ZvdGVzKSkuc2hvdygpOwoKICAgICAgICAgICAgICAgICAgICAvLyBwdXQgb24gbW9yZSByYXRpbmdzCiAgICAgICAgICAgICAgICAgICAgbGV0IHJhdGluZ19tb3JlID0gJCgnI2ludGVyZXN0X3NlY3RsIC5yYXRpbmdfbW9yZScpOwogICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZVJldmlld0Jhckl0ZW0gPSAkKCcudGl0bGVSZXZpZXdCYXIgZGl2LnRpdGxlUmV2aWV3QmFySXRlbScsIGRvYyk7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aXRsZVJldmlld0Jhckl0ZW0ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aXRsZVJldmlld0Jhckl0ZW1baV07CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gJChpdGVtKS50ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0LmluZGV4T2YoJ01ldGFzY29yZScpICE9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEdNX2dldFZhbHVlKCJlbmFibGVfaW1kYl9leHRfaW5mbyIsIHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoImRpdi50eHQtYmxvY2s6Y29udGFpbnMoJ01vdGlvbiBQaWN0dXJlIFJhdGluZycpIiwgZG9jKS50ZXh0KCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbXBhYSA9ICQoImRpdi50eHQtYmxvY2s6Y29udGFpbnMoJ01vdGlvbiBQaWN0dXJlIFJhdGluZycpIiwgZG9jKS50ZXh0KCkudHJpbSgpLnJlcGxhY2UoL1xuL2csICcnKS5yZXBsYWNlKC9eLipSYXRlZCAvLCAnJykucmVwbGFjZSgvIC4qJC8sICcnKS5yZXBsYWNlKC9eRyQvLCAn5aSn5LyX57qnIHwg5YWo5bm06b6EJykucmVwbGFjZSgvXlBHJC8sICfmjIflr7znuqcgfCDiiaU25bKBJykucmVwbGFjZSgvXlBHLTEzJC8sICfnibnmjIfnuqcgfCDiiaUxM+WygScpLnJlcGxhY2UoL15OQy0xNyQvLCAn6ZmQ5a6a57qnIHwg4omlMTflsoEnKS5yZXBsYWNlKC9eUiQvLCAn6ZmQ5Yi257qnIHwg4omlMTjlsoEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nX21vcmUuYXBwZW5kKGA8ZGl2PuWIhue6pzxhIGhyZWY9JyR7aW1kYl9saW5rICsgJ3BhcmVudGFsZ3VpZGU/cmVmXz10dF9zdHJ5X3BnI2NlcnRpZmljYXRpb24nfScgc3R5bGU9Im1hcmdpbi1sZWZ0Oi0zNXB4IiB0YXJnZXQ9Il9ibGFuayI+JHttcGFhfTwvYT48L2Rpdj5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoImRpdi50eHQtYmxvY2s6Y29udGFpbnMoJ0J1ZGdldDonKSIsIGRvYykudGV4dCgpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ1ZGdldCA9ICQoImRpdi50eHQtYmxvY2s6Y29udGFpbnMoJ0J1ZGdldDonKSIsIGRvYykudGV4dCgpLnRyaW0oKS5yZXBsYWNlKC9cbi9nLCAnJykucmVwbGFjZSgvIC4qJC8sICcnKS5yZXBsYWNlKC9eQnVkZ2V0Oi8sICcnKS5yZXBsYWNlKC9DTlkuLywgJ8KlJykucmVwbGFjZSgvS1JXLi8sICfigqknKS5yZXBsYWNlKC9KUFkuLywgJ+WGhicpLnJlcGxhY2UoL0hLRC4vLCAn5rivJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ19tb3JlLmFwcGVuZChgPGRpdj7mgLvmiJDmnKw8YSBocmVmPScke2ltZGJfbGluayArICc/cmY9Y29uc190dF9ib190dCZyZWZfPWNvbnNfdHRfYm9fdHQnfScgc3R5bGU9Im1hcmdpbi1sZWZ0Oi0zNXB4IiB0YXJnZXQ9Il9ibGFuayI+JHtidWRnZXR9PC9hPjwvZGl2PmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgiZGl2LnR4dC1ibG9jazpjb250YWlucygnT3BlbmluZyBXZWVrZW5kOicpOm5vdCg6Y29udGFpbnMoJ1VTQTonKSkiLCBkb2MpLnRleHQoKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcGVuaW5nID0gJCgiZGl2LnR4dC1ibG9jazpjb250YWlucygnT3BlbmluZyBXZWVrZW5kOicpOm5vdCg6Y29udGFpbnMoJ1VTQTonKSkiLCBkb2MpLnRleHQoKS50cmltKCkucmVwbGFjZSgvXG4vZywgJycpLnJlcGxhY2UoL15PcGVuaW5nIFdlZWtlbmQ6LywgJycpLnJlcGxhY2UoLyBcKC4qJC8sICcnKS5yZXBsYWNlKC9DTlkuLywgJ8KlJykucmVwbGFjZSgvS1JXLi8sICfigqknKS5yZXBsYWNlKC9KUFkuLywgJ+WGhicpLnJlcGxhY2UoL0hLRC4vLCAn5rivJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ19tb3JlLmFwcGVuZChgPGRpdj7mnKzpppblkag8YSBocmVmPScke2ltZGJfbGluayArICc/cmY9Y29uc190dF9ib190dCZyZWZfPWNvbnNfdHRfYm9fdHQnfScgc3R5bGU9Im1hcmdpbi1sZWZ0Oi0zNXB4IiB0YXJnZXQ9Il9ibGFuayI+JHtvcGVuaW5nfTwvYT48L2Rpdj5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoImRpdi50eHQtYmxvY2s6Y29udGFpbnMoJ09wZW5pbmcgV2Vla2VuZCBVU0E6JykiLCBkb2MpLnRleHQoKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcGVuaW5ndXNhID0gJCgiZGl2LnR4dC1ibG9jazpjb250YWlucygnT3BlbmluZyBXZWVrZW5kIFVTQTonKSIsIGRvYykudGV4dCgpLnRyaW0oKS5yZXBsYWNlKC9cbi9nLCAnJykucmVwbGFjZSgvXk9wZW5pbmcgV2Vla2VuZCBVU0E6LywgJycpLnJlcGxhY2UoLyxcZCsgLiokLywgJycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmdfbW9yZS5hcHBlbmQoYDxkaXY+576O6aaW5ZGoPGEgaHJlZj0nJHtpbWRiX2xpbmsgKyAnP3JmPWNvbnNfdHRfYm9fdHQmcmVmXz1jb25zX3R0X2JvX3R0J30nIHN0eWxlPSJtYXJnaW4tbGVmdDotMzVweCIgdGFyZ2V0PSJfYmxhbmsiPiR7b3BlbmluZ3VzYX08L2E+PC9kaXY+YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKCJkaXYudHh0LWJsb2NrOmNvbnRhaW5zKCdHcm9zcyBVU0E6JykiLCBkb2MpLnRleHQoKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBncm9zcyA9ICQoImRpdi50eHQtYmxvY2s6Y29udGFpbnMoJ0dyb3NzIFVTQTonKSIsIGRvYykudGV4dCgpLnRyaW0oKS5yZXBsYWNlKC9cbi9nLCAnJykucmVwbGFjZSgvXkdyb3NzIFVTQTovLCAnJykucmVwbGFjZSgvXCwgXGQrIC4qJC8sICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nX21vcmUuYXBwZW5kKGA8ZGl2Pue+juelqOaIvzxhIGhyZWY9JyR7aW1kYl9saW5rICsgJz9yZj1jb25zX3R0X2JvX3R0JnJlZl89Y29uc190dF9ib190dCd9JyBzdHlsZT0ibWFyZ2luLWxlZnQ6LTM1cHgiIHRhcmdldD0iX2JsYW5rIj4ke2dyb3NzfTwvYT48L2Rpdj5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoImRpdi50eHQtYmxvY2s6Y29udGFpbnMoJ0N1bXVsYXRpdmUgV29ybGR3aWRlIEdyb3NzOicpIiwgZG9jKS50ZXh0KCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VtdWxhdGl2ZSA9ICQoImRpdi50eHQtYmxvY2s6Y29udGFpbnMoJ0N1bXVsYXRpdmUgV29ybGR3aWRlIEdyb3NzOicpIiwgZG9jKS50ZXh0KCkudHJpbSgpLnJlcGxhY2UoL1xuL2csICcnKS5yZXBsYWNlKC9eQ3VtdWxhdGl2ZSBXb3JsZHdpZGUgR3Jvc3M6LywgJycpLnJlcGxhY2UoL1wsIFxkKyAuKiQvLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ19tb3JlLmFwcGVuZChgPGRpdj7mgLvnpajmiL88YSBocmVmPScke2ltZGJfbGluayArICc/cmY9Y29uc190dF9ib190dCZyZWZfPWNvbnNfdHRfYm9fdHQnfScgc3R5bGU9Im1hcmdpbi1sZWZ0Oi0zNXB4IiB0YXJnZXQ9Il9ibGFuayI+JHtjdW11bGF0aXZlfTwvYT48L2Rpdj5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoImRpdi50eHQtYmxvY2s6Y29udGFpbnMoJ0FzcGVjdCBSYXRpbzonKSIsIGRvYykudGV4dCgpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFzcGVjdCA9ICQoImRpdi50eHQtYmxvY2s6Y29udGFpbnMoJ0FzcGVjdCBSYXRpbzonKSIsIGRvYykudGV4dCgpLnRyaW0oKS5yZXBsYWNlKC9cbi9nLCAnJykucmVwbGFjZSgvXkFzcGVjdCBSYXRpbzovLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ19tb3JlLmFwcGVuZChgPGRpdj7lrr3pq5jmr5Q8YSBocmVmPScke2ltZGJfbGluayArICd0ZWNobmljYWw/cmVmXz10dF9kdF9zcGVjJ30nIHN0eWxlPSJtYXJnaW4tbGVmdDotMzVweCIgdGFyZ2V0PSJfYmxhbmsiPiR7YXNwZWN0fTwvYT48L2Rpdj5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWV0YXNjb3JlID0gJChpdGVtKS5maW5kKCdhW2hyZWZePWNyaXRpY3Jldmlld3NdIHNwYW4nKS50ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmdfbW9yZS5hcHBlbmQoYDxkaXY+TWV0YXNjb3JlPGEgaHJlZj0nJHtpbWRiX2xpbmsgKyAnY3JpdGljcmV2aWV3cz9yZWZfPXR0X292X3J0J30nIHRhcmdldD0iX2JsYW5rIj4ke21ldGFzY29yZX08L2E+PC9kaXY+YCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dC5pbmRleE9mKCdQb3B1bGFyaXR5JykgIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgiZGl2LnR4dC1ibG9jazpjb250YWlucygnQ2VydGlmaWNhdGU6JykiLCBkb2MpLnRleHQoKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR2cGcgPSAkKCJkaXYudHh0LWJsb2NrOmNvbnRhaW5zKCdDZXJ0aWZpY2F0ZTonKSIsIGRvYykudGV4dCgpLnRyaW0oKS5yZXBsYWNlKC9cbi9nLCAnJykucmVwbGFjZSgvXkNlcnRpZmljYXRlOi8sICcnKS5yZXBsYWNlKC8gXHwuKiQvLCAnJykucmVwbGFjZSgvXiggKStUVi1ZKCApKyQvLCAn5o6o6I2Q57qnIHwg5YWo5bm06b6EJykucmVwbGFjZSgvXiggKStUVi1HKCApKyQvLCAn5aSn5LyX57qnIHwg5YWo5bm06b6EJykucmVwbGFjZSgvXiggKStUVi1ZNyggKSskLywgJ+aMh+WvvOe6pyB8IOKJpTflsoEnKS5yZXBsYWNlKC9eKCApK1RWLVBHKCApKyQvLCAn54m55oyH57qnIHwg4omlOOWygScpLnJlcGxhY2UoL14oICkrUi0xMiggKSskLywgJ+ebkeedo+e6pyB8IOKJpTEy5bKBJykucmVwbGFjZSgvXiggKStUVi0xNCggKSskLywgJ+mZkOWumue6pyB8IOKJpTE05bKBJykucmVwbGFjZSgvXiggKStUVi1NQSggKSskLywgJ+mZkOWItue6pyB8IOKJpTE35bKBJykucmVwbGFjZSgvTm90IFJhdGVkLywgJ+acquWIhue6pycpLnJlcGxhY2UoL1NlZSBhbGwgY2VydGlmaWNhdGlvbnMvLCAn54K55Ye75p+l55yLJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nX21vcmUuYXBwZW5kKGA8ZGl2PuWIhue6pzxhIGhyZWY9JyR7aW1kYl9saW5rICsgJ3BhcmVudGFsZ3VpZGU/cmVmXz10dF9zdHJ5X3BnI2NlcnRpZmljYXRpb24nfScgc3R5bGU9Im1hcmdpbi1sZWZ0Oi0zNXB4IiB0YXJnZXQ9Il9ibGFuayI+JHt0dnBnfTwvYT48L2Rpdj5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3B1bGFyaXR5ID0gJChpdGVtKS5maW5kKCdzcGFuLnN1YlRleHQnKS5odG1sKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGFyaXR5ID0gYDxkaXY+5rWB6KGM5bqmJm5ic3A7Jm5ic3A7JHtwb3B1bGFyaXR5fTxicj48ZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmdfbW9yZS5hcHBlbmQocG9wdWxhcml0eSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dC5pbmRleE9mKCdSZXZpZXdzJykgIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGxldCByZXZpZXdzOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoImVuYWJsZV9ibHVlX2RhdGUiLCB0cnVlKSkgeyAvL+iTneWFieWPkeWUruaXpeacn+aYvuekuuWKn+iDvQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSAkKCcjY29udGVudCA+IGgxID4gc3BhbicpWzBdLnRleHRDb250ZW50LnNwbGl0KCcgJykuc2hpZnQoKS5yZXBsYWNlKC9b77yMXS9nLCAiICIpLnJlcGxhY2UoL++8mi4qJC8sICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZ190aXRsZSA9IFt0aGlzX3RpdGxlLCB0cmFuc190aXRsZV0uam9pbigiLyIpLnNwbGl0KCIvIikuZmlsdGVyKGZ1bmN0aW9uIChhcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAvKFthLXpBLVpdKXsyLH0vLnRlc3QoYXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSlbMF0gfHwgIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5d20gPSBlbmdfdGl0bGUucmVwbGFjZSgvWzosIVwtXS9nLCAiIikucmVwbGFjZSgvIC9nLCctJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBibHVlVVJMID0gJ2h0dHBzOi8vd3d3LnJlbGVhc2VzLmNvbS9wLycgKyB5d20udG9Mb3dlckNhc2UoKSArICcvYmx1LXJheS8nOwogICAgICAgICAgICAgICAgICAgICAgICBnZXREb2MoYmx1ZVVSTCwgbnVsbCwgZnVuY3Rpb24gKGJsdWVkb2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHRfMCA9ICQoImRpdi5yaWdodC1jb2wuY29sLW1kLTUgc3Bhbi5mdWxsLWRhdGUiLCBibHVlZG9jKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfMC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJsdWVEYXRlID0gcmVzdWx0XzAudGV4dCgpLnJlcGxhY2UoL0phbnVhcnkgKFxkKyksIFxkXGQoXGRcZCkvZywgJyQy5bm0MeaciCQx5pelJykucmVwbGFjZSgvRmVicnVhcnkgKFxkKyksIFxkXGQoXGRcZCkvZywgJyQy5bm0MuaciCQx5pelJykucmVwbGFjZSgvTWFyY2ggKFxkKyksIFxkXGQoXGRcZCkvZywgJyQy5bm0M+aciCQx5pelJykucmVwbGFjZSgvQXByaWwgKFxkKyksIFxkXGQoXGRcZCkvZywgJyQy5bm0NOaciCQx5pelJykucmVwbGFjZSgvTWF5IChcZCspLCBcZFxkKFxkXGQpL2csICckMuW5tDXmnIgkMeaXpScpLnJlcGxhY2UoL0p1bmUgKFxkKyksIFxkXGQoXGRcZCkvZywgJyQy5bm0NuaciCQx5pelJykucmVwbGFjZSgvSnVseSAoXGQrKSwgXGRcZChcZFxkKS9nLCAnJDLlubQ35pyIJDHml6UnKS5yZXBsYWNlKC9BdWd1c3QgKFxkKyksIFxkXGQoXGRcZCkvZywgJyQy5bm0OOaciCQx5pelJykucmVwbGFjZSgvU2VwdGVtYmVyIChcZCspLCBcZFxkKFxkXGQpL2csICckMuW5tDnmnIgkMeaXpScpLnJlcGxhY2UoL09jdG9iZXIgKFxkKyksIFxkXGQoXGRcZCkvZywgJyQy5bm0MTDmnIgkMeaXpScpLnJlcGxhY2UoL05vdmVtYmVyIChcZCspLCBcZFxkKFxkXGQpL2csICckMuW5tDEx5pyIJDHml6UnKS5yZXBsYWNlKC9EZWNlbWJlciAoXGQrKSwgXGRcZChcZFxkKS9nLCAnJDLlubQxMuaciCQx5pelJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nX21vcmUuYXBwZW5kKGA8ZGl2PuiTneWFieaXpeacnzxhIGhyZWY9JyR7Ymx1ZVVSTH0nIHN0eWxlPSJtYXJnaW4tbGVmdDotMjNweCIgdGFyZ2V0PSJfYmxhbmsiPiR7Ymx1ZURhdGV9PC9hPjwvZGl2PmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChyYXRpbmdfbW9yZS5odG1sKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nX21vcmUuc2hvdygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoImVuYWJsZV90b21hdG9fcmF0ZSIsIHRydWUpKSB7IC8v54OC55Wq6IyE6K+E5YiG5pi+56S65Yqf6IO9CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCByb3R0ZW50b21hdG9lcyBibG9jawogICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGl0bGVZZWFyJywgZG9jKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vdmllVGl0bGUgPSAkLnRyaW0oJCgnZGl2LnRpdGxlX3dyYXBwZXIgaDEnLCBkb2MpLnRleHQoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb3R0VVJMID0gJ2h0dHBzOi8vd3d3LnJvdHRlbnRvbWF0b2VzLmNvbS9tLycgKyBtb3ZpZVRpdGxlLnJlcGxhY2UoLzp8LS8sICIiKS5yZXBsYWNlKC9ccysvZywgIl8iKS5yZXBsYWNlKC9cVysvZywgIiIpLnJlcGxhY2UoL18rL2csICJfIikudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0RG9jKHJvdHRVUkwsIG51bGwsIGZ1bmN0aW9uIChyb3Rkb2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNpbnRlcmVzdF9zZWN0bCBkaXYucmF0aW5nX3JvdHQnKS5odG1sKGA8c3BhbiBjbGFzcz0icmF0aW5nX2xvZ28gbGwiPueDgueVquiMhOivhOWIhjwvc3Bhbj48YnI+PGRpdiBpZD0icm90dFZhbHVlIiBjbGFzcz0icmF0aW5nX3NlbGYgY2xlYXJmaXgiPjwvZGl2PjwvZGl2PmApLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKCcjdG9tYXRvX21ldGVyX2xpbmsnLCByb3Rkb2MpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmF0aW5nX3JvdHRfdmFsdWUgPSAkKCcjdG9tYXRvX21ldGVyX2xpbmsgLm1vcC1yYXRpbmdzLXdyYXBfX3BlcmNlbnRhZ2UnLCByb3Rkb2MpLmh0bWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmF0aW5nX2F1ZGllbmNlX3ZhbHVlID0gJCgnLmF1ZGllbmNlLXNjb3JlIC5tb3AtcmF0aW5ncy13cmFwX19wZXJjZW50YWdlJywgcm90ZG9jKS5odG1sKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Njb3JlU3RhdHMgLnN1YnRsZS5zdXBlclBhZ2VGb250Q29sb3InLCByb3Rkb2MpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNpbnRlcmVzdF9zZWN0bCAucmF0aW5nX3JvdHQgI3JvdHRWYWx1ZScpLmFwcGVuZChgPHN0cm9uZyBjbGFzcz0ibGwgcmF0aW5nX251bSI+PGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9IiR7cm90dFVSTH0iPiR7cmF0aW5nX3JvdHRfdmFsdWV9PC9hPiZuYnNwOzxkaXYgY2xhc3M9ImxsIHJhdGluZ19udW0iPjxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSIke3JvdHRVUkx9Ij4ke3JhdGluZ19hdWRpZW5jZV92YWx1ZX08L2E+PC9zdHJvbmc+YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaW50ZXJlc3Rfc2VjdGwgZGl2LnJhdGluZ19yb3R0JykuYXBwZW5kKGA8YnI+5pCc57Sicm90dGE6IDxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSckeydodHRwczovL3d3dy5yb3R0ZW50b21hdG9lcy5jb20vc2VhcmNoLz9zZWFyY2g9JyArIGVuY29kZVVSSShtb3ZpZVRpdGxlKX0nPiR7bW92aWVUaXRsZX08L2E+YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkKCIjbG9hZGluZ19tb3JlX3JhdGUiKS5oaWRlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoImVuYWJsZV9hbmltZV9yYXRlIiwgdHJ1ZSkpIHsgLy/lvIDlkK/liqjmvKvor4TliIbmmL7npLrlip/og70KICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr+WKqOa8q++8jOivt+axgmFueWRi55qEYW5pZGLjgIFiZ23jgIFtYWzkv6Hmga8KICAgICAgICAgICAgICAgIGlmIChpc19hbmltZSkgewogICAgICAgICAgICAgICAgICAgIGdldEpTT04oImh0dHBzOi8vYW55ZGIuZGVwYXIuY2MvYW5pbWUvcXVlcnk/X2NmX2NhY2hlPTEmZG91YmFuPSIgKyBkb3ViYW5faWQsIGZ1bmN0aW9uIChkYXRhMSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgX2FueWRiX2h0bWwgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGExLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzb3VyY2VfbGlzdCA9IFsiQW5pREIiLCAiQmdtIiwgIk1BTCJdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2VfbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzb3VyY2UgPSBzb3VyY2VfbGlzdFtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX2RhdGEgPSBkYXRhMS5tYXRjaGVkW3NvdXJjZS50b0xvd2VyQ2FzZSgpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF9ncm91cCA9IF9kYXRhLnJhdGUubWF0Y2goLyhbXGQuXSs/KSBcKChcZCspXCkvKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF9yYXRpbmcgPSBfZ3JvdXBbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfdm90ZSA9IF9ncm91cFsyXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FueWRiX2h0bWwgKz0gc3RhckJsb2NrKHNvdXJjZSwgX2RhdGEudXJsLCBfcmF0aW5nLCBfdm90ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9hbnlkYl9odG1sLnRyaW0oKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2ludGVyZXN0X3NlY3RsID4gZGl2LnJhdGluZ19hbmlkYicpLmh0bWwoX2FueWRiX2h0bWwpLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkKCIjbG9hZGluZ19tb3JlX3JhdGUiKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChHTV9nZXRWYWx1ZSgiZW5hYmxlX21lZGlhaW5mb19nZW4iLCBmYWxzZSkpIHsgIC8vIOivt+axguixhueTo+mZhOWxnuS/oeaBr+eUqOS6jk1lZGlhaW5mb+eUn+aIkAogICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBkb3ViYW5fbGluayArICdhd2FyZHMvJywKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdIb3N0JyA6ICdtb3ZpZS5kb3ViYW4uY29tJywKICAgICAgICAgICAgICAgICAgICAgICAvLyAnUmVmZXJlcicgOiBsb2NhdGlvbi5ocmVmLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzcG9uc2VEZXRhaWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGV0YWlsLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jID0gcGFnZV9wYXJzZXIocmVzcG9uc2VEZXRhaWwucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YXJkcyA9ICQoJyNjb250ZW50PmRpdj5kaXYuYXJ0aWNsZScsIGRvYykuaHRtbCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1sgXG5dL2csICcnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88XC9saT48bGk+L2csICc8L2xpPiA8bGk+JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvPFwvYT48c3Bhbi9nLCAnPC9hPiA8c3BhbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzwoZGl2fHVsKVtePl0qPi9nLCAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88W14+XSs+L2csICcnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mbmJzcDsvZywgJyAnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8gK1xuL2csICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOyAvLyDor6XlvbHniYfnmoTor4TlpZbkv6Hmga8KCiAgICAgICAgICAgICAgICAvLyDnroDku4sg77yI6aaW5YWI5qOA5p+l5piv5LiN5piv5pyJ6ZqQ6JeP55qE77yM5aaC5p6c5pyJ77yM5YiZ55u05o6l5L2/55So6ZqQ6JePc3BhbueahOWGheWuueS9nOS4uueugOS7i++8jOS4jeeEtuWImeeUqCBzcGFuW3Byb3BlcnR5PSJ2OnN1bW1hcnkiXSDnmoTlhoXlrrnvvIkKICAgICAgICAgICAgICAgIGludHJvZHVjdGlvbiA9ICAkKCcjbGluay1yZXBvcnQgPiBzcGFuLmFsbC5oaWRkZW4nKS5sZW5ndGggPiAwID8gJCgnI2xpbmstcmVwb3J0ID4gc3Bhbi5hbGwuaGlkZGVuJykudGV4dCgpIDogLy8g6ZqQ6JeP6YOo5YiGCiAgICAgICAgICAgICAgICAoJCgnW3Byb3BlcnR5PSJ2OnN1bW1hcnkiXScpLmxlbmd0aCA+IDAgPyAkKCdbcHJvcGVydHk9InY6c3VtbWFyeSJdJykudGV4dCgpIDogJ+aaguaXoOebuOWFs+WJp+aDheS7i+e7jScpOwogICAgICAgICAgICAgICAgaW50cm9kdWN0aW9uID0gaW50cm9kdWN0aW9uLnNwbGl0KCdcbicpLm1hcChmdW5jdGlvbihhKSB7cmV0dXJuIGEudHJpbSgpfSkuam9pbignXG4nKTsgIC8vIOWkhOeQhueugOS7i+e8qei/mwogICAgICAgICAgICAgICAgLy8g5a+85ryU77yM57yW5Ymn77yM5ryU5ZGYIO+8iOWPquiDveiOt+WPluWIsOaYvuekuueahO+8jOayoUFQSeS4sOWvjO+8iQogICAgICAgICAgICAgICAgbGV0IGRpcmVjdG9yX2Fub3RoZXIgPSAkKCdzcGFuID4gc3Bhbjpjb250YWlucygi5a+85ryUIiknKS5wYXJlbnQoJ3NwYW4nKTsgIC8vIOW+gOS4iuWbnua6r+S4gOe6pwogICAgICAgICAgICAgICAgbGV0IHdyaXRlcl9hbm90aGVyID0gJCgnc3BhbiA+IHNwYW46Y29udGFpbnMoIue8luWJpyIpJykucGFyZW50KCdzcGFuJyk7CiAgICAgICAgICAgICAgICBsZXQgY2FzdF9hbm90aGVyID0gJCgnc3Bhbi5hY3RvcicpOwogICAgICAgICAgICAgICAgaWYgKGxkX2pzb24pIHsgIC8vIOS8mOWFiOS9v+eUqGxkX2pzb27kuK3lhoXlrrnvvIzmsqHmnInliJnlgZrpobXpnaLop6PmnpAKICAgICAgICAgICAgICAgICAgICBpZiAobGRfanNvblsnZGlyZWN0b3InXSkgZGlyZWN0b3IgPSBsZF9qc29uWydkaXJlY3RvciddLm1hcChmdW5jdGlvbiAoZCkge3JldHVybiBkWyduYW1lJ119KS5qb2luKCcgLyAnKTsKICAgICAgICAgICAgICAgICAgICBpZiAobGRfanNvblsnYXV0aG9yJ10pIHdyaXRlciA9IGxkX2pzb25bJ2F1dGhvciddLm1hcChmdW5jdGlvbiAoZCkge3JldHVybiBkWyduYW1lJ119KS5qb2luKCcgLyAnKTsKICAgICAgICAgICAgICAgICAgICBpZiAobGRfanNvblsnYWN0b3InXSkgY2FzdCA9IGxkX2pzb25bJ2FjdG9yJ10ubWFwKGZ1bmN0aW9uIChkKSB7cmV0dXJuIGRbJ25hbWUnXX0pLmpvaW4oJ1xuJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRpcmVjdG9yID09ICd1bmRlZmluZWQnICYmIGRpcmVjdG9yX2Fub3RoZXIubGVuZ3RoID4gMCkgZGlyZWN0b3IgPSBkaXJlY3Rvcl9hbm90aGVyLmZpbmQoJ2FbaHJlZl49Ii9jZWxlYnJpdHkiXScpLm1hcChmdW5jdGlvbigpIHtyZXR1cm4gJCh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKCcgLyAnKTsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd3JpdGVyID09ICd1bmRlZmluZWQnICYmIHdyaXRlcl9hbm90aGVyLmxlbmd0aCA+IDApIHdyaXRlciA9IHdyaXRlcl9hbm90aGVyLmZpbmQoJ2FbaHJlZl49Ii9jZWxlYnJpdHkiXScpLm1hcChmdW5jdGlvbigpIHtyZXR1cm4gJCh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKCcgLyAnKTsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FzdCA9PSAndW5kZWZpbmVkJyAmJiBjYXN0X2Fub3RoZXIubGVuZ3RoID4gMCkgY2FzdCA9IGNhc3RfYW5vdGhlci5maW5kKCdhW2hyZWZePSIvY2VsZWJyaXR5Il0nKS5tYXAoZnVuY3Rpb24oKSB7cmV0dXJuICQodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbignXG4nKTsKCiAgICAgICAgICAgICAgICAvLyDmoIfnrb4KICAgICAgICAgICAgICAgIGxldCB0YWdfYW5vdGhlciA9ICQoJ2Rpdi50YWdzLWJvZHkgPiBhW2hyZWZePSIvdGFnIl0nKTsKICAgICAgICAgICAgICAgIGlmICh0YWdfYW5vdGhlci5sZW5ndGggPiAwKSB0YWdzID0gdGFnX2Fub3RoZXIubWFwKGZ1bmN0aW9uICgpIHtyZXR1cm4gJCh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKCcgfCAnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g6I635Y+W55S15b2x5ZCNCiAgICAgICAgICAgIGxldCB0aXRsZSA9ICQoJyNjb250ZW50ID4gaDEgPiBzcGFuJylbMF0udGV4dENvbnRlbnQuc3BsaXQoJyAnKS5zaGlmdCgpLnJlcGxhY2UoL1vvvIxdL2csICIgIikucmVwbGFjZSgv77yaLiokLywgIiIpOwogICAgICAgICAgICBsZXQgZW5nX3RpdGxlID0gW3RoaXNfdGl0bGUsIHRyYW5zX3RpdGxlXS5qb2luKCIvIikuc3BsaXQoIi8iKS5maWx0ZXIoZnVuY3Rpb24gKGFycikgewogICAgICAgICAgICAgICAgcmV0dXJuIC8oW2EtekEtWl0pezIsfS8udGVzdChhcnIpOwogICAgICAgICAgICB9KVswXSB8fCAiIjsKICAgICAgICAgICAgbGV0IGlzX2NoaW5lc2UgPSB0aXRsZS5tYXRjaCgvW15ceDAwLVx4ZmZdLyk7CiAgICAgICAgICAgIGxldCB1bml0aXRsZSA9IGlzX2NoaW5lc2UgPyB0aXRsZSA6IGVuZ190aXRsZTsKCiAgICAgICAgICAgIC8vIOWJp+mbhuS/ruato+Wto+aVsOWQjQogICAgICAgICAgICBlbmdfdGl0bGUgPSBlbmdfdGl0bGUubWF0Y2goL1NlYXNvblxzXGRcZC8pID8gZW5nX3RpdGxlLnJlcGxhY2UoL1NlYXNvblxzLywgIlMiKSA6IGVuZ190aXRsZS5yZXBsYWNlKC9TZWFzb25ccy8sICJTMCIpOwogICAgICAgICAgICBlbmdfdGl0bGUgPSBlbmdfdGl0bGUucmVwbGFjZSgvWzosIVwtXS9nLCAiIikucmVwbGFjZSgvIFteYS16MC05XSskLywgIiIpLnJlcGxhY2UoLyArL2csIiAiKTsKICAgICAgICAgICAgbGV0IGVuZ190aXRsZV9jbGVhbiA9IGVuZ190aXRsZS5yZXBsYWNlKC8gU1xkXGQqJC8sICIiKTsKICAgICAgICAgICAgbGV0IGhhc19lbnRpdGxlPSBlbmdfdGl0bGVfY2xlYW47CgogICAgICAgICAgICAvLyDml6XliafmmKXlpI/np4vlhqzop6PmnpAKICAgICAgICAgICAgbGV0IHBsYXlkYXRlX3BybyA9IG5ldyBEYXRlKHBsYXlkYXRlLnNwbGl0KCcvJylbMF0pOwogICAgICAgICAgICBsZXQgcmVsZWFzZV95ZWFyID0gcGxheWRhdGUucmVwbGFjZSgvLS4qJC8sICIiKS5yZXBsYWNlKC9eXGR7Mn0vLCAiIik7CiAgICAgICAgICAgIGxldCByZWxlYXNlX21vbnRoID0gcGxheWRhdGVfcHJvLmdldE1vbnRoKCkgKyAxOwogICAgICAgICAgICBsZXQgZHJhbWFfc2Vhc29uOwogICAgICAgICAgICBpZiAoWzQsIDUsIDZdLmluY2x1ZGVzKHJlbGVhc2VfbW9udGgpKSB7IGRyYW1hX3NlYXNvbiA9ICJzcHJpbmciOyB9CiAgICAgICAgICAgIGVsc2UgaWYgKFs3LCA4LCA5XS5pbmNsdWRlcyhyZWxlYXNlX21vbnRoKSkgeyBkcmFtYV9zZWFzb24gPSAic3VtbWVyIjsgfQogICAgICAgICAgICBlbHNlIGlmIChbMTAsIDExLCAxMl0uaW5jbHVkZXMocmVsZWFzZV9tb250aCkpIHsgZHJhbWFfc2Vhc29uID0gImF1dHVtbiI7IH0KICAgICAgICAgICAgZWxzZSB7IGRyYW1hX3NlYXNvbiA9ICJ3aW50ZXIiOyB9CgogICAgICAgICAgICAvLyDnlLXlvbEr5bm05Lu9ICjlj6rmnInnlLXlvbHmiY3mkJzntKLlubbotYvlgLzlubTku70pCiAgICAgICAgICAgIGxldCBlbmNvZGVfeWVhciA9IGlzX21vdmllID8geWVhci5yZXBsYWNlKC8gLywgIl8iKSA6ICIiOwogICAgICAgICAgICBsZXQgbmlhbiA9IGlzX21vdmllID8geWVhciA6ICIiOwogICAgICAgICAgICBsZXQgZW5jb2RlX3RoaXNfdGl0bGUgPSAodGhpc190aXRsZSB8fCAiIikucmVwbGFjZSgvOi8sICIiKS5yZXBsYWNlKC8gL2csICJfIik7CiAgICAgICAgICAgIGxldCBwdHppbXUgPSBlbmNvZGVfdGhpc190aXRsZSArIGVuY29kZV95ZWFyOwogICAgICAgICAgICBjaGluZXNlX3RpdGxlID0gY2hpbmVzZV90aXRsZS5yZXBsYWNlKC9b77ya77yMXS8sICIgIik7CiAgICAgICAgICAgIGxldCBndW5pdGl0bGUgPSBfZW5jb2RlVG9HYjIzMTIodW5pdGl0bGUsIHRydWUpOwogICAgICAgICAgICBsZXQgcHVuaXRpdGxlID0gZW5jb2RlVVJJKHVuaXRpdGxlKS5yZXBsYWNlKC8lL2csICIlMjUiKTsKICAgICAgICAgICAgbGV0IHV1bml0aXRsZSA9IGVuY29kZVVSSSh1bml0aXRsZSkucmVwbGFjZSgvJS9nLCAiXyIpOwogICAgICAgICAgICBsZXQgeXdtID0gZW5nX3RpdGxlICsgbmlhbjsKICAgICAgICAgICAgbGV0IHp3bSA9IGNoaW5lc2VfdGl0bGUgKyBuaWFuOwogICAgICAgICAgICBsZXQgZW50aXRsZSA9IGVuZ190aXRsZV9jbGVhbiArIG5pYW4KICAgICAgICAgICAgbGV0IGlzX3l3bSA9IHl3bS5tYXRjaCgvW0EtWl0vKTsKICAgICAgICAgICAgbGV0IGdvbmd3YW5nID0gaGFzX2ltZGIgPyBpbWRiX2lkIDogZG91YmFuX2lkOwogICAgICAgICAgICBsZXQgamluZ3podW4gPSBoYXNfaW1kYiA/IGltZGJfaWQgOiB5d207CiAgICAgICAgICAgIGxldCBkYnp3ID0gaGFzX2ltZGIgPyBpbWRiX2lkIDogdW5pdGl0bGUgKyBuaWFuOwogICAgICAgICAgICBsZXQgdW5pdDNkID0gaGFzX2ltZGIgPyAiaW1kYj0iICsgaW1kYl9pZC5zbGljZSgyKSA6ICJzZWFyY2g9IiArIHl3bTsKICAgICAgICAgICAgbGV0IG1vdmllcmlnaHQgPSBpc19tb3ZpZSA/ICJtb3ZpZXMiIDogInR2LXNob3dzIjsKICAgICAgICAgICAgbGV0IGF2aXN0YXogPSBoYXNfaW1kYiA/ICJpbWRiPSIgKyBpbWRiX2lkIDogInNlYXJjaD0iICsgeXdtOwoKICAgICAgICAgICAgLy8g6LWE5rqQ5ZCN56ewCiAgICAgICAgICAgIGxldCB6d3p5ID0gKHVuaXRpdGxlLnJlcGxhY2UoLyAvZywgIi4iKS5yZXBsYWNlKCLvvJoiLCAiLiIpLnJlcGxhY2UoL1wuXC4vZywgIi4iKSArICIuIiArIGVuZ190aXRsZS5yZXBsYWNlKCI6ICIsICIuIikucmVwbGFjZSgvIC9nLCAiLiIpICsgIi4iICsgeWVhci5yZXBsYWNlKC8gLywgIiIpKS5yZXBsYWNlKC9cLnsyLH0vZywgIi4iKTsKICAgICAgICAgICAgbGV0IGltZGJ6eSA9IGhhc19pbWRiID8gIi4iICsgaW1kYl9pZCA6ICIiOwogICAgICAgICAgICAkKCJkaXYjaW5mbyIpLmFwcGVuZChgPHNwYW4gY2xhc3M9XCJwbFwiPui1hOa6kOWQjeensDogPC9zcGFuPiR7end6eX0ke2ltZGJ6eX1gKTsKCiAgICAgICAgICAgIGxldCBuZWl6aGFuID0gaGFzX2ltZGIgPyBpbWRiX2lkIDogKCcvc3ViamVjdC8nICsgZG91YmFuX2lkKTsgIC8vIFBU5YaF56uZIOaZuuiDveWIpOWumuaYr+eUqElNREIgSUTov5jmmK/osYbnk6NJRAogICAgICAgICAgICBpZiAoX3ZlcnNpb24gPT09ICLlrozmlbTniYgiKSB7CiAgICAgICAgICAgICAgICBsZXQgbnBpZCA9IGhhc19pbWRiID8gKCdpbWRiPScgKyBpbWRiX2lkKSA6ICgnZG91YmFuPScgKyBkb3ViYW5faWQpOyAgLy8gTlBVQklUUyDmmbrog73liKTlrprmmK/nlKhJTURCIElE6L+Y5piv6LGG55OjSUQKICAgICAgICAgICAgICAgIGxldCB0dGdpZCA9IGhhc19pbWRiID8gKCdJTURCJyArIGltZGJfaWQuc2xpY2UoMikpIDogendtOyAvLyBUVEcg5pm66IO95Yik5a6a5piv55SoSU1EQiBJROi/mOaYr+S4reaWh+WQjQogICAgICAgICAgICAgICAgbGV0IHp4aWQgPSBoYXNfaW1kYiA/IGltZGJfaWQgOiB6d207ICAvLyBaWCDmmbrog73liKTlrprmmK/nlKhJTURCIElE6L+Y5piv5Lit5paH5ZCNCiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiMTDkuIcr56eNUFTlhoXnq5kiLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNDRkJpdHMiLCBsaW5rOiAnaHR0cDovL3d3dy5jY2ZiaXRzLm9yZy9icm93c2UucGhwP2Z1bGxzZWFyY2g9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBuZWl6aGFuLCBzZWxlY3RvcjogJ3RkW3N0eWxlPSJib3JkZXI6bm9uZTt0ZXh0LWFsaWduOmxlZnQiXSBhW3RpdGxlXScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSERTa3kiLCBsaW5rOiAnaHR0cHM6Ly9oZHNreS5tZS90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk1UZWFtIiwgbGluazogJ2h0dHBzOi8vcHQubS10ZWFtLmNjL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVFRHIiwgbGluazogJ2h0dHBzOi8vdG90aGVnbG9yeS5pbS9icm93c2UucGhwP2M9TSZub3RuZXd3b3JkPTEmc2VhcmNoX2ZpZWxkPScgKyB0dGdpZCwgc2VsZWN0b3I6ICJ0YWJsZSN0b3JyZW50X3RhYmxlOmxhc3QgPiB0Ym9keSA+IHRyOmd0KDApIiB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIjXkuIcr56eNUFTlhoXnq5kiLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNIREJpdHMiLCBsaW5rOiAnaHR0cHM6Ly9jaGRiaXRzLmNvL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSERDaGluYSIsIGxpbms6ICdodHRwczovL2hkY2hpbmEub3JnL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgc2VsZWN0b3I6ICJ0YWJsZS50b3JyZW50X2xpc3Q6bGFzdCA+IHRib2R5ID4gdHI6Z3QoMCkiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNKVFUiLCBsaW5rOiAnaHR0cHM6Ly9wdC5zanR1LmVkdS5jbi90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sIHNlbGVjdG9yOiAidGFibGUudG9ycmVudHM6bGFzdCA+IHRib2R5ID4gdHIiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNwcmluZyIsIGxpbms6ICdodHRwczovL3NwcmluZ3N1bmRheS5uZXQvdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBuZWl6aGFuLCB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIjLkuIcr56eNUFTlhoXnq5kiLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkdIVFQiLCBsaW5rOiAnaHR0cHM6Ly93d3cuaGl0cHQuY29tL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgc2VsZWN0b3I6ICJ0YWJsZS50b3JyZW50cyB0YWJsZS50b3JyZW50bmFtZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSERIb21lIiwgbGluazogJ2h0dHBzOi8vaGRob21lLm9yZy90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhEVSIsIGxpbms6ICdodHRwOi8vcHQudXB4aW4ubmV0L3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTllQVCIsIGxpbms6ICdodHRwczovL25hbnlhbmdwdC5jb20vdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBuZWl6aGFuLCBzZWxlY3RvcjogInRhYmxlLnRvcnJlbnRzOmxhc3QgPiB0Ym9keSA+IHRyIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJPdXJCaXRzIiwgbGluazogJ2h0dHBzOi8vb3VyYml0cy5jbHViL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiUFTmsZ/muZYiLCBtZXRob2Q6ICJQT1NUIiwgbGluazogJ2h0dHA6Ly93d3cuZHV0cHQuY29tL3NlYXJjaC5waHA/bW9kPWZvcnVtJywgc2VsZWN0b3I6ICcjdGhyZWFkbGlzdCBsaS5wYncnLCBkYXRhOiBgc3JjaHR4dD0ke3VuaXRpdGxlfSZzZWFyY2hzdWJtaXQ9eWVzYCxoZWFkZXJzOiB7IkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQifSxyZXdyaXRlX2hyZWY6dHJ1ZSxjc3JmOiB7bmFtZTogImZvcm1oYXNoIiwgdXBkYXRlOiJkYXRhIn0sIHNlbGVjdG9yX25lZWRfbG9naW46ICIjbWVzc2FnZXRleHQiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlBU5LmL5Y+LIiwgbGluazogJ2h0dHBzOi8vcHRlcmNsdWIuY29tL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgc2VsZWN0b3I6ICJ0YWJsZS50b3JyZW50cyB0YWJsZS50b3JyZW50bmFtZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVENDRiIsIGxpbms6ICdodHRwczovL2V0OC5vcmcvdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBuZWl6aGFuLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJUSlVQVCIsIGxpbms6ICdodHRwczovL3d3dy50anVwdC5vcmcvdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBuZWl6aGFuLCBzZWxlY3RvcjogInRhYmxlLnRvcnJlbnRzIHRhYmxlLnRvcnJlbnRuYW1lIiB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIjHkuIcr56eNUFTlhoXnq5kiLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkJUU2Nob29sIiwgbGluazogJ2h0dHA6Ly9wdC5idHNjaG9vbC5jbHViL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwvKiBzZWxlY3RvcjogInRhYmxlLnRvcnJlbnRzOmxhc3QgPiB0Ym9keSA+IHRyOmd0KDApIn0sICovIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkRpc2NGYW4iLCBsaW5rOiAnaHR0cDovL2Rpc2NmYW4ubmV0L3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSERDaXR5IiwgbGluazogJ2h0dHBzOi8vaGRjaXR5LmNpdHkvcHQ/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZpd2FubmFzZWV0aGlzPScgKyBuZWl6aGFuLCBzZWxlY3RvcjogImNlbnRlciA+IGRpdiA+IGRpdiA+IGRpdi50ZXh0IiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIREZBTlMiLCBsaW5rOiAnaHR0cHM6Ly9wdC5oZDRmYW5zLm9yZy90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhEVGltZSIsIGxpbms6ICdodHRwczovL2hkdGltZS5vcmcvdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBuZWl6aGFuLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJPdXJEaVNDIiwgbGluazogJ2h0dHA6Ly9idC5vdXJkaXNjLm5ldC9icm93c2UucGhwP2luY2xkZWFkPTAmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAidGFibGVbd2lkdGg9JzEwMCUnXVtib3JkZXI9JzAnXVtjZWxsc3BhY2luZz0nMCddW2NlbGxwYWRkaW5nPScxMCddIGkiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlBUSE9NRSIsIGxpbms6ICdodHRwczovL3d3dy5wdGhvbWUubmV0L3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVExGQml0cyIsIGxpbms6ICdodHRwOi8vcHQuZWFzdGdhbWUub3JnL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICI15Y2DK+enjVBU5YaF56uZIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJGUkRTIiwgbGluazogJ2h0dHBzOi8vcHQua2VlcGZyZHMuY29tL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgc2VsZWN0b3I6ICJ0YWJsZS50b3JyZW50cyB0YWJsZS50b3JyZW50bmFtZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSERTdHJlZXQiLCBsaW5rOiAgICdodHRwczovL2hkc3RyZWV0LmNsdWIvdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9NCZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBkb3ViYW5faWQsIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkpveUhEIiwgbGluazogJ2h0dHBzOi8vd3d3LmpveWhkLm5ldC90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIllpbmdLIiwgbGluazogJ2h0dHBzOi8veWluZ2suY29tL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTQmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgZG91YmFuX2lkLCB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIjHljYMr56eN5YaF56uZIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICI1MlBUIiwgbGluazogJ2h0dHBzOi8vNTJwdC5zaXRlL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwvKiBzZWxlY3RvcjogInRhYmxlLnRvcnJlbnRzOmxhc3QgPiB0Ym9keSA+IHRyOmd0KDApIn0sICovIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkJlaVRhaSIsIGxpbms6ICdodHRwOi8vd3d3LmJlaXRhaS5wdC90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sLyogc2VsZWN0b3I6ICJ0YWJsZS50b3JyZW50czpsYXN0ID4gdGJvZHkgPiB0cjpndCgwKSJ9LCAqLyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJCcm9iaXRzIiwgbGluazogJ2h0dHBzOi8vYnJvYml0cy5jYy90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkVERU4iLCBsaW5rOiAnaHR0cHM6Ly9wdC5oZGJkLnVzL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiR09EIiwgbGluazogJ2h0dHBzOi8vcHRzYmFvLmNsdWIvdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBuZWl6aGFuLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIREFyZWEiLCBsaW5rOiAnaHR0cHM6Ly93d3cuaGRhcmVhLmNvL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgc2VsZWN0b3I6ICJ0YWJsZS50b3JyZW50cyB0YWJsZS50b3JyZW50bmFtZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSEREIiwgbGluazogJ2h0dHBzOi8vaGRkaXNrLmxpZmUvdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBuZWl6aGFuLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIRERvbGJ5IiwgbGluazogJ2h0dHBzOi8vd3d3LmhkZG9sYnkuY29tL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTHCrG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhEWm9uZSIsIGxpbms6ICdodHRwOi8vaGR6b25lLm1lL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTGVhZ3VlSEQiLCBsaW5rOiAnaHR0cHM6Ly9sZWFndWVoZC5jb20vdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MCZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyB1bml0aXRsZSwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTW9lQ2F0IiwgbGluazogJ2h0dHA6Ly9tb2VjYXQuYmVzdC90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0wJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIHVuaXRpdGxlLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJPc2hlblBUIiwgbGluazogJ2h0dHA6Ly93d3cub3NoZW4ud2luL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiUFQ5OSIsIGxpbms6ICdodHRwOi8vcHQuajk5LmluZm8vdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBuZWl6aGFuLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJQVE1TRyIsIGxpbms6ICdodHRwczovL3B0Lm1zZy52Zy90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIuWjuVBU5ZCnIiwgbGluazogJ2h0dHBzOi8vMXB0YmEuY29tL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICIx5Y2DLeenjeWGheermSIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSERQb3N0IiwgdHlwZTogImpzb24iLCBsaW5rOiAnaHR0cHM6Ly9oZHBvc3QudG9wL3RvcnJlbnRzL2FnZ3JlZ2F0ZT9rZXlzPScgKyB1bml0aXRsZSwgYWpheDogImh0dHBzOi8vaGRwb3N0LnRvcC9hcGkvdG9ycmVudHM/a2V5cz0iICsgdGhpc190aXRsZSArIG5pYW4sIHNlbGVjdG9yOiAidG90YWwgPiAwIiwgc2VsZWN0b3JfbmVlZF9sb2dpbjogImRpdi5mb3Jnb3QtcGFzc3dvcmQiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIuiBhumfs0NsdWIiLCBsaW5rOiAnaHR0cHM6Ly9wdC5zb3Vsdm9pY2UuY2x1Yi90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sIH0sCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoaXNfYW5pbWUpIHsKICAgICAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIlBU5Yqo5ryr5ri45oiPIiwKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkFCIiwgbGluazogJ2h0dHBzOi8vYW5pbWVieXRlcy50di90b3JyZW50cy5waHA/c2VhcmNoc3RyPScgKyB5d20sIHNlbGVjdG9yOiAiZGl2LnRoaW4gPiBkaXYuZ3JvdXBfY29udCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkFUIiwgbGluazogJ2h0dHBzOi8vYW5pbWV0b3JyZW50cy5tZS90b3JyZW50cy5waHA/c2VhcmNoPScgKyBlbmdfdGl0bGUsIGFqYXg6ICdodHRwczovL2FuaW1ldG9ycmVudHMubWUvYWpheC90b3JyZW50c19kYXRhLnBocD90b3RhbD0xJnNlYXJjaD0nICsgZW5nX3RpdGxlICsgJyZTZWFyY2hTdWJtaXQ9JnBhZ2U9MScsIGhlYWRlcnM6IHsgIngtcmVxdWVzdGVkLXdpdGgiOiAiWE1MSHR0cFJlcXVlc3QiIH0sIHJld3JpdGVfaHJlZjogZmFsc2UsIHNlbGVjdG9yOiAndGFibGUuZGF0YVRhYmxlID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMiknLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEuaGVhZGxpbmUgc3Ryb25nOmNvbnRhaW5zKCdBY2Nlc3MgRGVuaWVkIScpIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQmFrYUJUIiwgbGluazogJ2h0dHBzOi8vYmFrYWJ0Lm1lL2Jyb3dzZS5waHA/cT0nICsgeXdtLCBzZWxlY3RvcjogInRhYmxlLnRvcnJlbnRzID4gdGJvZHkgPiB0cjpndCgwKSIsIHNlbGVjdG9yX25lZWRfbG9naW46ICIjbG9naW5Gb3JtIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQ0MiLCBsaW5rOiAnaHR0cDovL3d3dy5jYXJ0b29uY2hhb3Mub3JnL2luZGV4LnBocD9wYWdlPXRvcnJlbnRzJm9wdGlvbnM9MCZhY3RpdmU9MSZzZWFyY2g9JyArIHl3bSwgc2VsZWN0b3I6ICJ0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpID4gdGQgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpID4gdGQgPiB0YWJsZSA+IHRib2R5ID4gdHI6Z3QoMCkiLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAidGFibGVbc3R5bGU9J2JvcmRlci1jb2xvcjojRTcwMDAwJ10iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTa3lTbm93IiwgbGluazogJ2h0dHBzOi8vc2t5ZXlzbm93LmNvbS9mb3J1bS5waHA/bW9kPXRvcnJlbnRzJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIHVuaXRpdGxlICsgbmlhbiwgc2VsZWN0b3I6ICJ0YWJsZS50b3JyZW50cyA+IHRib2R5ID4gdHI6Z3QoMCkiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJVMiIsIGxpbms6ICdodHRwczovL3UyLmRtaHkub3JnL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTAmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgdGhpc190aXRsZSArIG5pYW4sIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJQVOW9seinhklQVjYiLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIjZWIiwgbWV0aG9kOiAiUE9TVCIsIGxpbms6ICdodHRwOi8vYnQubmV1Ni5lZHUuY24vc2VhcmNoLnBocD9tb2Q9Zm9ydW0nLCBzZWxlY3RvcjogJyN0aHJlYWRsaXN0ID4gdGFibGUgPiB0Ym9keSA+IHRyOmd0KDApJywgZGF0YTogYHNyY2h0eHQ9JHtndW5pdGl0bGV9JnNyY2hmaWx0ZXI9YWxsJnNyY2hmcm9tPTAmYmVmb3JlPTAmb3JkZXJieT1sYXN0cG9zdCZhc2NkZXNjPWRlc2Mmc3JjaGZpZFtdPWFsbCZzZWFyY2hzdWJtaXQ9eWVzYCxoZWFkZXJzOiB7IkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQifSxyZXdyaXRlX2hyZWY6dHJ1ZSxjc3JmOiB7bmFtZTogImZvcm1oYXNoIiwgdXBkYXRlOiJkYXRhIn19LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJCWVJCVCIsIGxpbms6ICdodHRwczovL2J0LmJ5ci5jbi90b3JyZW50cy5waHA/aW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIG5laXpoYW4sIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhVREJUIiwgbGluazogJ2h0dHBzOi8vaHVkYnQuaHVzdC5lZHUuY24vdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBuZWl6aGFuLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJOUFVCSVRTIiwgbGluazogJ2h0dHBzOi8vbnB1cHQuY29tL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJicgKyBucGlkLCBzZWxlY3RvcjogIiN0b3JyZW50c190YWJsZSA+IHRib2R5ID4gdHI6Z3QoMCkiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk5XU1VBRiIsIGxpbms6ICdodHRwczovL3B0Lm53c3VhZjYuZWR1LmNuL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgbmVpemhhbiwgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiWlgiLCBsaW5rOiAnaHR0cDovL3B0LnpoaXhpbmcuYmp0dS5lZHUuY24vc2VhcmNoL3gnICsgenhpZCArICctbm90bmV3d29yZD0xLycsIHNlbGVjdG9yOiAidGFibGUudG9ycmVudHRhYmxlID4gdGJvZHkgPiB0cjpndCgxKSIgfSwKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChoYXNfaW1kYikgewogICAgICAgICAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiTlpC57uI6Lqr5b2x6KeGIiwKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogImFsdEhVQiIsIGxpbms6ICdodHRwczovL2FsdGh1Yi5jby56YS9zZWFyY2gvJyArIHl3bSwgc2VsZWN0b3I6ICIjYnJvd3NldGFibGUgYS50aXRsZSIsIHNlbGVjdG9yX25lZWRfbG9naW46ICIjbW9kYWxMb2dpbiIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkx1bHVOWkIiLCBsaW5rOiAnaHR0cHM6Ly9sdWx1bnpiLmNvbS9zZWFyY2gvJyArIHl3bSwgc2VsZWN0b3I6ICIjYnJvd3NldGFibGUgYS50aXRsZSIsIHNlbGVjdG9yX25lZWRfbG9naW46ICJkaXYubG9naW4tYm94IiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTWlhdHJpeCIsIGxpbms6ICdodHRwczovL3d3dy5taWF0cml4LmNvbS9zZWFyY2gvJyArIHl3bSwgc2VsZWN0b3I6ICIjYnJvd3NldGFibGUgPiB0Ym9keSA+IHRyOmd0KDApIiwgc2VsZWN0b3JfbmVlZF9sb2dpbjogImZvcm1bYWN0aW9uPSdsb2dpbiddIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTlpCQ2F0IiwgbGluazogJ2h0dHBzOi8vbnpiLmNhdC9zZWFyY2gvJyArIHl3bSwgc2VsZWN0b3I6ICIjYnJvd3NldGFibGUgPiB0Ym9keSA+IHRyOmd0KDApIiwgc2VsZWN0b3JfbmVlZF9sb2dpbjogImZvcm1bYWN0aW9uPSdsb2dpbiddIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTlpCZ2VlayIsIGxpbms6ICdodHRwczovL256YmdlZWsuaW5mby9nZWVrc2Vlay5waHA/bW92aWVzZ2Vla3NlZWs9MSZicm93c2VjYXRlZ29yeT0mYnJvd3NlaW5jbHVkZXdvcmRzPScgKyB5d20sIHNlbGVjdG9yOiAidGFibGUgPiB0Ym9keSA+IHRyLkhpZ2hsaWdodFRWUm93MjpndCgwKSIsIHNlbGVjdG9yX25lZWRfbG9naW46ICJpbnB1dFt2YWx1ZT0nZG9fbG9naW4nXSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk5aQlAiLCBsaW5rOiAnaHR0cHM6Ly9uemJwbGFuZXQubmV0L3NlYXJjaC8nICsgeXdtLCBzZWxlY3RvcjogIiNicm93c2V0YWJsZSA+IHRib2R5ID4gdHI6Z3QoMCkiLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiZm9ybVthY3Rpb249J2xvZ2luJ10iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJPem56YiIsIGxpbms6ICdodHRwczovL3d3dy5vem56Yi5jb20vc2VhcmNoLycgKyB5d20sIHNlbGVjdG9yOiAiI2Jyb3dzZXRhYmxlID4gdGJvZHkgPiB0ci5yYXRpbmdSZXBvcnRDb250YWluZXI6Z3QoMCkiLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiI2xvZ2luIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU05aQiIsIGxpbms6ICdodHRwczovL3NpbXBseW56YnMuY29tL3NlYXJjaC8nICsgeXdtLCBzZWxlY3RvcjogIiNicm93c2V0YWJsZSA+IHRib2R5ID4gdHI6Z3QoMCkiLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiZm9ybVthY3Rpb249J2xvZ2luJ10iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9KTsgCiAgICAgICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJOWkLlubTotLnlvbHop4YiLAogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiYWJOWkIiLCBsaW5rOiAnaHR0cHM6Ly93d3cuYWJuemIuY29tL3NlYXJjaC8nICsgeXdtLCBzZWxlY3RvcjogIiNicm93c2V0YWJsZSBhLnRpdGxlIiwgc2VsZWN0b3JfbmVlZF9sb2dpbjogIiNtb2RhbExvZ2luIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiRE9HbnpiIiwgbGluazogJ2h0dHBzOi8vZG9nbnpiLmNyL3NlYXJjaD9xPScgKyB5d20sIHNlbGVjdG9yOiAiI2ZlYXR1cmVib3ggPiB0YWJsZSA+IHRib2R5ID4gdHIgPiB0ZCA+IHRhYmxlID4gdGJvZHkgPiB0ci5vZGQ6Z3QoMCkiLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiI2xvZ2luIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTlpCRmluZCIsIGxpbms6ICdodHRwczovL256YmZpbmRlci53cy9zZWFyY2gvJyArIHl3bSwgc2VsZWN0b3I6ICJ0ZC5jaGVjayArIHRkIGEiLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiZGl2LmFjY291bnQtZm9ybSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk5aQk5EWCIsIGxpbms6ICdodHRwczovL256Ym5keC5jb20vc2VhcmNoLycgKyB5d20sIHNlbGVjdG9yOiAiI2Jyb3dzZXRhYmxlIGEudGl0bGUiLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiI21vZGFsTG9naW4iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJOemJOb29iIiwgbGluazogJ2h0dHBzOi8vbnpibm9vYi5jb20vc2VhcmNoLycgKyB5d20sIHNlbGVjdG9yOiAiI2Jyb3dzZXRhYmxlIGEudGl0bGUiLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiI21vZGFsTG9naW4iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJOWkJTVSIsIGxpbms6ICdodHRwczovL256Yi5zdS9zZWFyY2gvJyArIHl3bSwgc2VsZWN0b3I6ICIjYnJvd3NldGFibGUgYS50aXRsZSIsIHNlbGVjdG9yX25lZWRfbG9naW46ICIjbW9kYWxMb2dpbiIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0pOyAKICAgICAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIk5aQuWFjei0ueW9seinhiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJCc2VhcmNoIiwgbGluazogJ2h0dHA6Ly9iaW5zZWFyY2guaW5mby8/cT0nICsgeXdtLCBzZWxlY3RvcjogInRkIHNwYW4ucyIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk5ld3pOYWIiLCBsaW5rOiAnaHR0cHM6Ly9uZXd6Njkua2VhZ2FtaW5nLmNvbS9zZWFyY2gvJyArIHl3bSwgc2VsZWN0b3I6ICIjYnJvd3NldGFibGUgYS50aXRsZSIsIHNlbGVjdG9yX25lZWRfbG9naW46ICJmb3JtW2FjdGlvbj0nbG9naW4nXSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk5aQlN0YXIiLCBsaW5rOiAnaHR0cHM6Ly9uemJzdGFycy5jb20vP3NlYXJjaCU1QnRyZWUlNUQ9Y2F0MF96MF9hMCZzb3J0ZGlyPUFTQyZzb3J0Ynk9JnNlYXJjaCU1QnZhbHVlJTVEJTVCJTVEPVRpdGxlJTNBJTNEJTNBREVGJTNBJyArIGVuZ190aXRsZV9jbGVhbiwgc2VsZWN0b3I6ICIjc3BvdHMgdGQudGl0bGUiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9KTsgCiAgICAgICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJQVOW9seinhuWkluermSIsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJBUiIsIGxpbms6ICdodHRwczovL2FscGhhcmF0aW8uY2MvdG9ycmVudHMucGhwP3NlYXJjaHN0cj0nICsgeXdtLCBzZWxlY3RvcjogIiN0b3JyZW50X3RhYmxlID4gdGJvZHkgPiB0cjpndCgwKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkFIRCIsIGxpbms6ICdodHRwczovL2F3ZXNvbWUtaGQubWUvdG9ycmVudHMucGhwP2lkPScgKyBpbWRiX2lkLCBzZWxlY3RvcjogIi50b3JyZW50X3RhYmxlIiwgc2VsZWN0b3JfbmVlZF9sb2dpbjogIiNsb2dpbmZvcm0iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJBc2lhQ2luZSIsIGxpbms6ICdodHRwczovL2FzaWFuY2luZW1hLm1lL2ZpbHRlclRvcnJlbnRzPycgKyB1bml0M2QsIHNlbGVjdG9yOiAiZGl2LnRhYmxlLXJlc3BvbnNpdmUgYS52aWV3LXRvcnJlbnQiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJBdmlzdGFaIiwgbGluazogJ2h0dHBzOi8vYXZpc3Rhei50by8nICsgbW92aWVyaWdodCArICI/IiArIGF2aXN0YXosIHNlbGVjdG9yOiAiZGl2LmJsb2NrIGRpdi5vdmVybGF5LWNvbnRhaW5lciIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkJIRCIsIGxpbms6ICdodHRwczovL2JleW9uZC1oZC5tZS9icm93c2UucGhwP2luY2xkZWFkPTAmc2VhcmNoPScgKyBpbWRiX2lkLCBzZWxlY3RvcjogInRhYmxlLnRiX2RldGFpbC5ncmV5LnRvcnJlbnR0YWJsZTpsYXN0ID4gdGJvZHkgPiB0cjpndCgwKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNpbmVtYVoiLCBsaW5rOiAnaHR0cHM6Ly9jaW5lbWF6LnRvLycgKyBtb3ZpZXJpZ2h0ICsgIj8iICsgYXZpc3Rheiwgc2VsZWN0b3I6ICJkaXYuYmxvY2sgZGl2Lm92ZXJsYXktY29udGFpbmVyIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQ2xhc3NpeCIsIGxpbms6ICdodHRwOi8vY2xhc3NpeC11bmxpbWl0ZWQuY28udWsvdG9ycmVudHMtc2VhcmNoLnBocD9pbmNsZGVhZD0wJnNlYXJjaD0nICsgZW5nX3RpdGxlLCBzZWxlY3RvcjogInRhYmxlLnR0YWJsZV9oZWFkaW5uZXIgdHIudC1yb3ciIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJGaWxlTGlzdCIsIGxpbms6ICdodHRwczovL2ZpbGVsaXN0LnJvL2Jyb3dzZS5waHA/c2VhcmNoaW49MyZzZWFyY2g9JyArIGltZGJfaWQsIHNlbGVjdG9yOiAiZGl2LnRvcnJlbnRyb3cgYVtkYXRhLWh0bWw9J3RydWUnXSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhEQiIsIGxpbms6ICdodHRwczovL2hkYml0cy5vcmcvYnJvd3NlLnBocD8maW1kYj0nICsgaW1kYl9pZCwgc2VsZWN0b3I6ICIjdG9ycmVudC1saXN0Iiwgc2VsZWN0b3JfbmVlZF9sb2dpbjogImFbaHJlZj0nL3JlY292ZXIucGhwJ10iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIREYiLCBsaW5rOiAnaHR0cHM6Ly9oZGYud29ybGQvdG9ycmVudHMucGhwP3NlYXJjaHN0cj0nICsgeXdtLCBzZWxlY3RvcjogIiN0b3JyZW50X3RhYmxlID4gdGJvZHkgPiB0cjpndCgwKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhETUUiLCBsaW5rOiAnaHR0cDovL2hkbWUuZXUvYnJvd3NlLnBocD9pbmNsZGVhZD0xJmJsYWg9MSZzZWFyY2g9JyArIGltZGJfaWQsIHNlbGVjdG9yOiAidGFibGU6bnRoLWNoaWxkKDEzKSA+IHRib2R5ID4gdHIiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIRE1vbmtleSIsIGxpbms6ICdodHRwczovL2hkbW9ua2V5Lm9yZy90b3JyZW50cy1zZWFyY2gucGhwP2luY2xkZWFkPTAmc2VhcmNoPScgKyB5d20sIHNlbGVjdG9yOiAidGFibGUudHRhYmxlX2hlYWRpbm5lciA+IHRib2R5ID4gdHI6Z3QoMCkiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIRFMiLCBsaW5rOiAnaHR0cHM6Ly9oZC1zcGFjZS5vcmcvaW5kZXgucGhwP3BhZ2U9dG9ycmVudHMmYWN0aXZlPTEmb3B0aW9ucz0yJnNlYXJjaD0nICsgaW1kYl9pZCwgc2VsZWN0b3I6ICJ0YWJsZS5saXN0YTpsYXN0ID4gdGJvZHkgPiB0cjpndCgwKSIsIHNlbGVjdG9yX25lZWRfbG9naW46ICJmb3JtW25hbWU9J2xvZ2luJ10iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIRFQiLCBsaW5rOiAnaHR0cHM6Ly9oZC10b3JyZW50cy5vcmcvdG9ycmVudHMucGhwP2FjdGl2ZT0xJm9wdGlvbnM9MiZzZWFyY2g9JyArIGltZGJfaWQsIHNlbGVjdG9yOiAidGFibGUubWFpbmJsb2NrY29udGVudHR0IGIiLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiZm9ybVtuYW1lPSdsb2dpbiddIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSVBUIiwgbGluazogJ2h0dHBzOi8vaXB0b3JyZW50cy5jb20vdD9xZj1hbGwmcT0nICsgaW1kYl9pZCwgc2VsZWN0b3I6ICIjdG9ycmVudHMgdGQuYWMiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJNVFYiLCBsaW5rOiAnaHR0cHM6Ly93d3cubW9yZXRoYW4udHYvdG9ycmVudHMucGhwP3NlYXJjaHN0cj0nICsgZW5nX3RpdGxlX2NsZWFuLCBzZWxlY3RvcjogInRhYmxlLnRvcnJlbnRfdGFibGUgPiB0Ym9keSA+IHRyOmd0KDApIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiUEhEIiwgbGluazogJ2h0dHBzOi8vcHJpdmF0ZWhkLnRvLycgKyBtb3ZpZXJpZ2h0ICsgIj8iICsgYXZpc3Rheiwgc2VsZWN0b3I6ICJkaXYuYmxvY2sgZGl2Lm92ZXJsYXktY29udGFpbmVyIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiUFRGIiwgbGluazogJ2h0dHA6Ly9wdGZpbGVzLm5ldC9icm93c2UucGhwP2luY2xkZWFkPTAmdGl0bGU9MCZzZWFyY2g9JyArIHl3bSwgc2VsZWN0b3I6ICIjdG9ydGFibGUgPiB0Ym9keSA+IHRyLnJvd2hlYWQ6Z3QoMCkiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJQVFAiLCBsaW5rOiAnaHR0cHM6Ly9wYXNzdGhlcG9wY29ybi5tZS90b3JyZW50cy5waHA/c2VhcmNoc3RyPScgKyBpbWRiX2lkLCBzZWxlY3RvcjogJyN0b3JyZW50LXRhYmxlIHRyLmdyb3VwX3RvcnJlbnQuZ3JvdXBfdG9ycmVudF9oZWFkZXI6Z3QoMCknLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiI2xvZ2luZm9ybSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlJURiIsIGxpbms6ICdodHRwczovL3JldHJvZmxpeC5jbHViL3RvcnJlbnRzMS5waHA/aW5jbGRlYWQ9MSZzcHN0YXRlPTAmaW5jbGJvb2ttYXJrZWQ9MCZzZWFyY2hfYXJlYT00JnNlYXJjaF9tb2RlPTAmc2VhcmNoPScgKyBpbWRiX2lkLCBzZWxlY3RvcjogInRkIHRhYmxlLnRvcnJlbnRuYW1lIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU0MiLCBsaW5rOiAnaHR0cHM6Ly9zZWNyZXQtY2luZW1hLnB3L3RvcnJlbnRzLnBocD9jYXRhbG9ndWVudW1iZXI9JyArIGltZGJfaWQsIHNlbGVjdG9yOiAiZGl2LnRvcnJlbnRfY2FyZCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNEQiIsIGxpbms6ICdodHRwOi8vc2RiaXRzLm9yZy9icm93c2UucGhwP2luY2xkZWFkPTAmaW1kYj0nICsgaW1kYl9pZCwgc2VsZWN0b3I6ICIjdG9ycmVudC1saXN0IHRyLmxpZ2h0IiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU3BlZWQiLCBsaW5rOiAnaHR0cHM6Ly9zcGVlZC5jZC9icm93c2UucGhwP2Q9b24mc2VhcmNoPScgKyBpbWRiX2lkLCBzZWxlY3RvcjogImRpdi5ib3hDb250ZW50ID4gdGFibGU6Zmlyc3QgPnRib2R5ID4gdHI6Z3QoMCkiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJURCIsIGxpbms6ICdodHRwczovL3d3dy50b3JyZW50ZGF5LmNvbS90P3E9JyArIGltZGJfaWQsIHNlbGVjdG9yOiAiI3RvcnJlbnRUYWJsZSB0ZC50b3JyZW50TmFtZUluZm8iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJUUyIsIGxpbms6ICdodHRwczovL3d3dy50b3JyZW50c2VlZHMub3JnL2Jyb3dzZS5waHA/c2VhcmNoaW49dGl0bGUmaW5jbGRlYWQ9MCZzZWFyY2g9JTIyJyArIGVuZ190aXRsZSArIHllYXIgKyAnJTIyJywgc2VsZWN0b3I6ICJ0YWJsZS50YWJsZS50YWJsZS1ib3JkZXJlZCA+IHRib2R5ID4gdHIuYnJvd3NlX2NvbG9yOmd0KDApIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVFQiLCBsaW5rOiAnaHR0cHM6Ly9yZXZvbHV0aW9udHQubWUvYnJvd3NlLnBocD9zZWFyY2g9JyArIGltZGJfaWQsIHNlbGVjdG9yOiAidGFibGUjdG9ycmVudHMtdGFibGUgPiB0Ym9keSA+IHRyOmd0KDApIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVEwiLCB0eXBlOiAianNvbiIsIGxpbms6ICJodHRwczovL3d3dy50b3JyZW50bGVlY2gub3JnL3RvcnJlbnRzL2Jyb3dzZS9pbmRleC9xdWVyeS8iICsgZW5nX3RpdGxlICsgbmlhbiwgYWpheDogImh0dHBzOi8vd3d3LnRvcnJlbnRsZWVjaC5vcmcvdG9ycmVudHMvYnJvd3NlL2xpc3QvcXVlcnkvIiArIGVuZ190aXRsZSArIHllYXIsIHNlbGVjdG9yOiAibnVtRm91bmQgPiAwIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVUhEIiwgbGluazogJ2h0dHBzOi8vdWhkYml0cy5vcmcvdG9ycmVudHMucGhwP3NlYXJjaHN0cj0nICsgaW1kYl9pZCwgc2VsZWN0b3I6ICJ0YWJsZS50b3JyZW50X3RhYmxlID4gdGJvZHkgPiB0ci5ncm91cCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGlzX2luZGlhIHx8IGlzX3Bha2lzdGFuKSB7CiAgICAgICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJQVOWNsOW6pueUteW9seermSIsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJCd1QiLCBsaW5rOiAiaHR0cHM6Ly9id3RvcnJlbnRzLnR2L2luZGV4LnBocD9ibGFoPTAmY2F0PTAmaW5jbGRlYWQ9MSZzZWFyY2g9IiArIHl3bSwgc2VsZWN0b3I6ICJ0YWJsZS5wYWdlciArIHRhYmxlIHRyLmJyb3dzZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhvbjN5SEQiLCBsaW5rOiAiaHR0cHM6Ly9ob24zeWhkLmNvbS9icm93c2UucGhwP3NlYXJjaGluPXRpdGxlJmluY2xkZWFkPTAmc2VhcmNoPSIgKyBlbmdfdGl0bGUsIHNlbGVjdG9yOiAidGFibGUgdHIudHQiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdEZXNpdG9yJywgbWV0aG9kOiAicG9zdCIsIHR5cGU6ICJqc29uIiwgbGluazogJ2h0dHBzOi8vZGVzaXRvcnJlbnRzLnR2LyNzZWFyY2hfJyArIHl3bSwgYWpheDogJ2h0dHBzOi8vZGVzaXRvcnJlbnRzLnR2L2FqYXgucGhwP2FjdGlvbj1zZWFyY2hfdG9ycmVudF9jYXRzJywgZGF0YTogYHNlbGVjdGVkX2dyb3VwPSZzZWFyY2hfdXNlcm5hbWU9JnNlbGVjdGVkX3NvcnRpbmc9cmVsZXZhbmNlJnNlYXJjaF9zdHJpbmc9JHt5d219YCwgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIgfSwgc2VsZWN0b3I6ICd0b3JyZW50X2h0bWwubGVuZ3RoID4gMCcgfSwKICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIlBU5b2x6KeG5Y6f5aOwIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJEaWNNdXNpYyIsIGxpbms6ICdodHRwczovL2RpY211c2ljLmNsdWIvdG9ycmVudHMucGhwP25vdG5ld3dvcmQ9MSZzZWFyY2hzdHI9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogInRkLnRkX2luZm8uYmlnX2luZm8iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk9wZW5DRCIsIGxpbms6ICdodHRwczovL29wZW4uY2QvdG9ycmVudHMucGhwP2luY2xkZWFkPTEmc2VhcmNoX2FyZWE9MCZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICJ0YWJsZS50b3JyZW50czpsYXN0ID4gdGJvZHkgPiB0cjpndCgwKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSlBPUCIsIGxpbms6ICdodHRwczovL2pwb3BzdWtpLmV1L3RvcnJlbnRzLnBocD9zZWFyY2hzdHI9JyArIGVuZ190aXRsZSwgc2VsZWN0b3I6ICIjdG9ycmVudF90YWJsZSA+IHRib2R5ID4gdHI6Z3QoMCkiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk9ycGhldXMiLCBsaW5rOiAnaHR0cHM6Ly9vcnBoZXVzLm5ldHdvcmsvdG9ycmVudHMucGhwP3NlYXJjaHN0cj0nICsgZW5nX3RpdGxlLCBzZWxlY3RvcjogIiN0b3JyZW50X3RhYmxlOmxhc3QgPiB0Ym9keSA+IHRyLmdyb3VwX3RvcnJlbnQ6Z3QoMCkiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlJlZCIsIGxpbms6ICdodHRwczovL3JlZGFjdGVkLmNoL3RvcnJlbnRzLnBocD9zZWFyY2hzdHI9JyArIGVuZ190aXRsZSwgc2VsZWN0b3I6ICIjdG9ycmVudF90YWJsZSA+IHRib2R5ID4gdHIuZ3JvdXBfdG9ycmVudDpndCgwKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiV2FmZmxlcyIsIGxpbms6ICdodHRwczovL3dhZmZsZXMuY2gvYnJvd3NlLnBocD9xPScgKyBlbmdfdGl0bGUsIHNlbGVjdG9yOiAiI2Jyb3dzZXRhYmxlOmxhc3QgPiB0Ym9keSA+IHRyOmd0KDApIiB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIue7iOeUn+S8muWRmOiuuuWdmyIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAi5Y+k5ZOl6K665Z2bIiwgbGluazogJ2h0dHBzOi8vd3d3Lmd1Z2V5cy5jYy9zZWFyY2gucGhwP21vZD1mb3J1bSZzZWFyY2hzdWJtaXQ9eWVzJnNyY2h0eHQ9JyArIGd1bml0aXRsZSwgc2VsZWN0b3I6ICJkaXYudGwgbGkucGJ3IiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICLmirHkuablkKciLCBsaW5rOiAnaHR0cDovL3d3dy5iYW9zaHU4LmNvbS9zZWFyY2hlci5waHA/dHlwZT10aHJlYWQma2V5d29yZD0nICsgZ3VuaXRpdGxlLCBzZWxlY3RvcjogImRpdi5kbEEgZGwiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIuaFouaFoua4uOW9sSIsIGxpbms6ICdodHRwczovL21teS5sYS9zZWFyY2gucGhwP21vZD1mb3J1bSZzZWFyY2hzdWJtaXQ9eWVzJnNyY2h0eHQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogImRpdi50bCBsaS5wYnciLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiI21lc3NhZ2Vsb2dpbiIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAi55uY5LmQ572R5b2xIiwgbGluazogJ2h0dHA6Ly93d3cucGFuNi5jb20vc2VhcmNoLnBocD9tb2Q9Zm9ydW0mc2VhcmNoc3VibWl0PXllcyZzcmNodHh0PScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICJkaXYudGwgbGkucGJ3IiB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIuW9seinhuiuuuWdm+i1hOa6kCIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAi572R55uY5YiG5Lqr5ZCnIiwgbGluazogJ2h0dHA6Ly93d3cud3BmeDguY29tL3NlYXJjaC5waHA/bW9kPWZvcnVtJnNlYXJjaHN1Ym1pdD15ZXMmc3JjaHR4dD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAiZGl2LnRsIGxpLnBidyIsIHNlbGVjdG9yX25lZWRfbG9naW46ICIjbWVzc2FnZWxvZ2luIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICLmt7HlvbHorrrlnZsiLCBsaW5rOiAnaHR0cDovL2ZvcnVtLnNoaW55YmJzLnZpcC9zZWFyY2gucGhwP21vZD1mb3J1bSZzZWFyY2hzdWJtaXQ9eWVzJnNyY2h0eHQ9JyArIGd1bml0aXRsZSwgc2VsZWN0b3I6ICJkaXYudGwgbGkucGJ3Iiwgc2VsZWN0b3JfbmVlZF9sb2dpbjogIiNtZXNzYWdlbG9naW4iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIuS4reWbvemrmOa4hSIsIGxpbms6ICdodHRwczovL3d3dy44NWxvdS5jb20vc2VhcmNoLnBocD9tb2Q9Zm9ydW0mc2VhcmNoc3VibWl0PXllcyZzcmNodHh0PScgKyBndW5pdGl0bGUsIHNlbGVjdG9yOiAiZGl2LnRsIGxpLnBidyIsIHNlbGVjdG9yX25lZWRfbG9naW46ICIjbWVzc2FnZWxvZ2luIiB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKCEoaXNfbWFuZGFyaW5lKSB8fCAoaXNfbWFuZGFyaW5lICYmIGlzX290aGVybGFuKSkgewogICAgICAgICAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiUFTlvbHop4blrZfluZUiLAogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQ0hEQml0c8KuIiwgbGluazogImh0dHBzOi8vY2hkYml0cy5jby9zdWJ0aXRsZXMucGhwP25vdG5ld3dvcmQ9MSZzZWFyY2g9IiArIHB0emltdSwgc2VsZWN0b3I6ICJ0YWJsZTpsYXN0ID4gdGJvZHkgPiB0cjpndCgxKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkZSRFPCriIsIGxpbms6ICJodHRwOi8vcHQua2VlcGZyZHMuY29tL3N1YnRpdGxlcy5waHA/bm90bmV3d29yZD0xJnNlYXJjaD0iICsgcHR6aW11LCBzZWxlY3RvcjogInRhYmxlW3dpZHRoPSc5NDAnXVtib3JkZXI9JzEnXVtjZWxsc3BhY2luZz0nMCddW2NlbGxwYWRkaW5nPSc1J10gPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkdIVFTCriIsIGxpbms6ICdodHRwczovL3d3dy5oaXRwdC5jb20vc3VidGl0bGVzLnBocD9ub3RuZXd3b3JkPTEmc2VhcmNoPScgKyBwdHppbXUsIHNlbGVjdG9yOiAidGFibGVbd2lkdGg9Jzk0MCddW2JvcmRlcj0nMSddW2NlbGxzcGFjaW5nPScwJ11bY2VsbHBhZGRpbmc9JzUnXSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSERBcmVhwq4iLCBsaW5rOiAnaHR0cHM6Ly93d3cuaGRhcmVhLmNvL3N1YnRpdGxlcy5waHA/bm90bmV3d29yZD0xJnNlYXJjaD0nICsgcHR6aW11LCBzZWxlY3RvcjogInRhYmxlW3dpZHRoPSc5NDAnXVtib3JkZXI9JzEnXVtjZWxsc3BhY2luZz0nMCddW2NlbGxwYWRkaW5nPSc1J10gPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhEQ2hpbmHCriIsIGxpbms6ICJodHRwczovL2hkY2hpbmEub3JnL3N1YnRpdGxlcy5waHA/bm90bmV3d29yZD0xJnNlYXJjaD0iICsgcHR6aW11LCBzZWxlY3RvcjogInRhYmxlLnVwbG9hZGVkX3N1Yl9saXN0ID4gdGJvZHkgPiB0cjpndCgxKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhEQ2l0ecKuIiwgbGluazogImh0dHBzOi8vaGRjaXR5LmNpdHkvc3VidGl0bGVzP25vdG5ld3dvcmQ9MSZzZWFyY2g9IiArIHB0emltdSwgc2VsZWN0b3I6ICJjZW50ZXIgPiBkaXY6bnRoLWNoaWxkKDEpID4gdGFibGUgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhESG9tZcKuIiwgbGluazogImh0dHBzOi8vaGRob21lLm9yZy9zdWJ0aXRsZXMucGhwP25vdG5ld3dvcmQ9MSZzZWFyY2g9IiArIHB0emltdSwgc2VsZWN0b3I6ICJ0YWJsZTpsYXN0ID4gdGJvZHkgPiB0cjpndCgxKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhEU2t5wq4iLCBsaW5rOiAiaHR0cHM6Ly9oZHNreS5tZS9zdWJ0aXRsZXMucGhwP25vdG5ld3dvcmQ9MSZzZWFyY2g9IiArIHB0emltdSwgc2VsZWN0b3I6ICJ0YWJsZTpsYXN0ID4gdGJvZHkgPiB0cjpndCgxKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhEVGltZcKuIiwgbGluazogImh0dHBzOi8vaGR0aW1lLm9yZy9zdWJ0aXRsZXMucGhwP25vdG5ld3dvcmQ9MSZzZWFyY2g9IiArIHB0emltdSwgc2VsZWN0b3I6ICJ0YWJsZVt3aWR0aD0nMTAwJSddW2JvcmRlcj0nMSddW2NlbGxzcGFjaW5nPScwJ11bY2VsbHBhZGRpbmc9JzUnXSA+IHRib2R5ID4gdHIiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIRFXCriIsIGxpbms6ICJodHRwOi8vcHQudXB4aW4ubmV0L3N1YnRpdGxlcy5waHA/bm90bmV3d29yZD0xJnNlYXJjaD0iICsgcHR6aW11LCBzZWxlY3RvcjogInRhYmxlW3dpZHRoPSc5NDAnXVtib3JkZXI9JzEnXVtjZWxsc3BhY2luZz0nMCddW2NlbGxwYWRkaW5nPSc1J10gPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkpveUhEwq4iLCBsaW5rOiAiaHR0cHM6Ly93d3cuam95aGQubmV0L3N1YnRpdGxlcy5waHA/bm90bmV3d29yZD0xJnNlYXJjaD0iICsgcHR6aW11LCBzZWxlY3RvcjogInRhYmxlW3dpZHRoPSc5NDAnXVtib3JkZXI9JzEnXVtjZWxsc3BhY2luZz0nMCddW2NlbGxwYWRkaW5nPSc1J10gPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk1UZWFtwq4iLCBsaW5rOiAiaHR0cHM6Ly9wdC5tLXRlYW0uY2Mvc3VidGl0bGVzLnBocD9ub3RuZXd3b3JkPTEmc2VhcmNoPSIgKyBwdHppbXUsIHNlbGVjdG9yOiAidGFibGUudGFibGUtc3VidGl0bGUtbGlzdDpsYXN0ID4gdGJvZHkgPiB0ciIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8veyBuYW1lOiAiTlBVQklUU8KuIiwgbGluazogImh0dHBzOi8vbnB1cHQuY29tL3N1YnRpdGxlcy5waHA/bm90bmV3d29yZD0xJnNlYXJjaD0iICsgcHR6aW11LCBzZWxlY3RvcjogIiNtYWluID4gdGFibGUgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk5ZUFTCriIsIGxpbms6ICJodHRwczovL25hbnlhbmdwdC5jb20vc3VidGl0bGVzLnBocD9ub3RuZXd3b3JkPTEmc2VhcmNoPSIgKyBwdHppbXUsIHNlbGVjdG9yOiAidGFibGVbd2lkdGg9Jzk0MCddW2JvcmRlcj0nMSddW2NlbGxzcGFjaW5nPScwJ11bY2VsbHBhZGRpbmc9JzUnXSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiT3VyQml0c8KuIiwgbGluazogImh0dHBzOi8vb3VyYml0cy5jbHViL3N1YnRpdGxlcy5waHA/bm90bmV3d29yZD0xJnNlYXJjaD0iICsgcHR6aW11LCBzZWxlY3RvcjogInRhYmxlW3dpZHRoPSc5NDAnXVtib3JkZXI9JzEnXVtjZWxsc3BhY2luZz0nMCddW2NlbGxwYWRkaW5nPSc1J10gPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNKVFXCriIsIGxpbms6ICJodHRwczovL3B0LnNqdHUuZWR1LmNuL3N1YnRpdGxlcy5waHA/bm90bmV3d29yZD0xJnNlYXJjaD0iICsgcHR6aW11LCBzZWxlY3RvcjogInRhYmxlW3dpZHRoPSc5NDAnXVtib3JkZXI9JzEnXVtjZWxsc3BhY2luZz0nMCddW2NlbGxwYWRkaW5nPSc1J10gPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlRDQ0bCriIsIGxpbms6ICJodHRwczovL2V0OC5vcmcvc3VidGl0bGVzLnBocD9ub3RuZXd3b3JkPTEmc2VhcmNoPSIgKyBwdHppbXUsIHNlbGVjdG9yOiAidGFibGVbd2lkdGg9Jzk0MCddW2JvcmRlcj0nMSddW2NlbGxzcGFjaW5nPScwJ11bY2VsbHBhZGRpbmc9JzUnXSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVEpVUFTCriIsIGxpbms6ICJodHRwczovL3d3dy50anVwdC5vcmcvc3VidGl0bGVzLnBocD9ub3RuZXd3b3JkPTEmc2VhcmNoPSIgKyBwdHppbXUsIHNlbGVjdG9yOiAidGFibGVbd2lkdGg9Jzk0MCddW2JvcmRlcj0nMSddW2NlbGxzcGFjaW5nPScwJ11bY2VsbHBhZGRpbmc9JzUnXSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVExGQml0c8KuIiwgbGluazogImh0dHA6Ly9wdC5lYXN0Z2FtZS5vcmcvc3VidGl0bGVzLnBocD9ub3RuZXd3b3JkPTEmc2VhcmNoPSIgKyBwdHppbXUsIHNlbGVjdG9yOiAidGFibGVbd2lkdGg9Jzk0MCddW2JvcmRlcj0nMSddW2NlbGxzcGFjaW5nPScwJ11bY2VsbHBhZGRpbmc9JzUnXSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVTLCriIsIGxpbms6ICJodHRwczovL3UyLmRtaHkub3JnL3N1YnRpdGxlcy5waHA/bm90bmV3d29yZD0xJnNlYXJjaD0iICsgcHR6aW11LCBzZWxlY3RvcjogInRhYmxlW3dpZHRoPSc5NDAnXVtib3JkZXI9JzEnXVtjZWxsc3BhY2luZz0nMCddW2NlbGxwYWRkaW5nPSc1J10gPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIShpc19tYW5kYXJpbmUpIHx8IChpc19tYW5kYXJpbmUgJiYgaXNfb3RoZXJsYW4pKSB7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi57K+5YeG5Lit5paH5a2X5bmVIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdyM3N1YicsIGxpbms6ICdodHRwczovL3Izc3ViLmNvbS9zZWFyY2gucGhwP3M9JyArIGRiencsIHNlbGVjdG9yOiAiZGl2LmNvbC1zbS04LmNvbC1tZC05LmNvbC1sZy04IGRpdi5tb3ZpZS5tb3ZpZS0tcHJldmlldy5kZGQiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ09wZW5TdWInLCBsaW5rOiAnaHR0cHM6Ly93d3cub3BlbnN1YnRpdGxlcy5vcmcvemgvc2VhcmNoL3N1Ymxhbmd1YWdlaWQtY2hpLHpodCx6aGUsZW5nL2ltZGJpZC0nICsgaW1kYl9pZCwgc2VsZWN0b3I6ICIjc2VhcmNoX3Jlc3VsdHMgdHIuY2hhbmdlIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflrZfluZXlupMnLCBsaW5rOiAnaHR0cDovL3d3dy56aW11a3UubGEvc2VhcmNoP3E9JyArIGRiencsIHNlbGVjdG9yOiAnZGl2LmJveC5jbGVhcmZpeCBkaXYuaXRlbS5wcmVsLmNsZWFyZml4JyB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghKGlzX21hbmRhcmluZSkgfHwgKGlzX21hbmRhcmluZSAmJiBpc19vdGhlcmxhbikpIHsKICAgICAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICLkuK3mloflvbHop4blrZfluZUiLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+Wtl+W5leWkqeWggicsIG1ldGhvZDogInBvc3QiLCBsaW5rOiAnaHR0cDovL3d3dy56bXRpYW50YW5nLmNvbS9lL3NlYXJjaC8nLCBkYXRhOiBga2V5Ym9hcmQ9JHt1bml0aXRsZX0mc2hvdz10aXRsZSZjbGFzc2lkPTEsMyZ0ZW1waWQ9MWAsIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiIH0sIHJld3JpdGVfaHJlZjogdHJ1ZSwgc2VsZWN0b3I6ICd0YWJsZS5kYXRhID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMiknIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+Wtl+W5lee7hCcsIGxpbms6ICdodHRwOi8vd3d3LnptejIwMTkuY29tL3NlYXJjaD90eXBlPXN1YnRpdGxlJmtleXdvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogIi5zZWFyY2gtcmVzdWx0IGxpIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdTdWIgSEQnLCBsaW5rOiAnaHR0cDovL3N1YmhkLnR2L3NlYXJjaDAvJyArIHVuaXRpdGxlLCBzZWxlY3RvcjogImRpdi5jb2wtbWQtOSBkaXYuYm94IiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfkvKrlsITmiYsnLCBsaW5rOiAnaHR0cDovL2Fzc3J0Lm5ldC9zdWIvP3NlYXJjaHdvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogIiNyZXN1bHRzZGl2IGEuaW50cm90aXRsZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn55S15rOi5a2X5bmVJywgbGluazogJ2h0dHA6Ly9kYmZhbnN1Yi5jb20vP3M9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogImRpdi5wYW5lbC1ib2R5IGFydGljbGUucGFuZWwucGFuZWwtZGVmYXVsdC5hcmNoaXZlIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfkuK3mloflrZfluZXnvZEnLCBsaW5rOiAnaHR0cDovL3d3dy56aW11emltdS5jb20vc29femltdS5waHA/dGl0bGU9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogInRhYmxlLnN1Ymxpc3QgYS5vdGhlcnN1YiIgfSwKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIShpc19tYW5kYXJpbmUpIHx8IChpc19tYW5kYXJpbmUgJiYgaXNfb3RoZXJsYW4pKSB7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi6Iux5paH5b2x6KeG5a2X5bmVIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdBZGRpYzdlZCcsIGxpbms6ICdodHRwOi8vd3d3LmFkZGljN2VkLmNvbS9zcmNoLnBocD9zZWFyY2g9JyArIGVuZ190aXRsZV9jbGVhbiArIHllYXIsIHNlbGVjdG9yOiAidGFibGUudGFiZWwgdHIiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2lTdWJ0aXRsZXMnLCBsaW5rOiAnaHR0cHM6Ly9pc3VidGl0bGVzLmluZm8vc2VhcmNoP2t3ZD0nICsgeXdtLCBzZWxlY3RvcjogImRpdi5tb3ZpZS1saXN0LWluZm8gaDMiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1BvZG5hcGlzaScsIGxpbms6ICdodHRwczovL3d3dy5wb2RuYXBpc2kubmV0L3poL3N1YnRpdGxlcy9zZWFyY2gvP2xhbmd1YWdlPXpoJmxhbmd1YWdlPWVuJmtleXdvcmRzPScgKyBlbmdfdGl0bGVfY2xlYW4gKyAnJicgKyB5ZWFyICsgJy0nICsgeWVhciwgc2VsZWN0b3I6ICJ0YWJsZSB0ci5zdWJ0aXRsZS1lbnRyeSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnU3ViQmFuaycsIGxpbms6ICdodHRwczovL3N1YnRpdGxlYmFuay5uZXQvc3VidGl0bGVzL3NlYXJjaC8/U3VidGl0bGVTZWFyY2glNUJzdGV4dCU1RD0nICsgZW5nX3RpdGxlX2NsZWFuLCBzZWxlY3RvcjogIiNjb250ZW50IHNwYW4ubW92aWVfbmFtZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnU3Vic2NlbmUnLCBsaW5rOiAnaHR0cHM6Ly9zdWJzY2VuZS5jb20vc3VidGl0bGVzL3RpdGxlP3E9JyArIGVuZ190aXRsZV9jbGVhbiwgc2VsZWN0b3I6ICJkaXYuc2VhcmNoLXJlc3VsdCBkaXYudGl0bGUiLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1RWc3VidGl0bGVzJywgbGluazogJ2h0dHA6Ly93d3cudHZzdWJ0aXRsZXMubmV0L3NlYXJjaC5waHA/cT0nICsgZW5nX3RpdGxlX2NsZWFuLCBzZWxlY3RvcjogImRpdi5sZWZ0X2FydGljbGVzIGxpIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdZSUZZJywgbGluazogJ2h0dHA6Ly93d3cueWlmeXN1YnRpdGxlcy5jb20vc2VhcmNoP3E9JyArIGVuZ190aXRsZV9jbGVhbiwgc2VsZWN0b3I6ICJkaXYuY29sLXNtLTEyIGRpdi5jb2wteHMtMTIiIH0sCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAi5b2x6KeG57K+5YeG5Yy56YWNIiwKICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQkTlvbHop4YnLCBsaW5rOiAnaHR0cHM6Ly93d3cuYmQtZmlsbS5jYy9zZWFyY2guanNweD9xPScgKyBkYnp3LCBzZWxlY3RvcjogJyNjb250ZW50X2xpc3QgbGkubGlzdC1pdGVtJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1JBUkJHJywgbGluazogJ2h0dHBzOi8vcmFyYmdwcngub3JnL3RvcnJlbnRzLnBocD9zZWFyY2g9JyArIGppbmd6aHVuLCBzZWxlY3RvcjogJ3RhYmxlLmxpc3RhMnQgdHIubGlzdGEyJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1JBUkJUJywgbGluazogJ2h0dHA6Ly93d3cucmFyYnQuY29tL2luZGV4LnBocC9zZWFyY2gvaW5kZXguaHRtbD9zZWFyY2g9JyArIGRiencsIHNlbGVjdG9yOiAnZGl2Lm1sIGRpdi50aXRsZScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdUb3JHYWwnLCBsaW5rOiAnaHR0cHM6Ly90b3JyZW50Z2FsYXh5LnRvL3RvcnJlbnRzLnBocD9zZWFyY2g9JyArIGppbmd6aHVuLCBzZWxlY3RvcjogJyNjbGljaycgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdab29xbGUnLCBsaW5rOiAnaHR0cHM6Ly96b29xbGUuY29tL3NlYXJjaD9xPScgKyBqaW5nemh1biwgc2VsZWN0b3I6ICdkaXYucGFuZWwtYm9keSBhLnNtYWxsJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+eIseeskeiBmicsIGxpbms6ICdodHRwOi8vd3d3LmFpeGlhb2p1LmNvbS9hcHAtaW5kZXgtcnVuP2FwcD1zZWFyY2gma2V5d29yZHM9JyArIGRiencsIC8qY3NyZjogeyBuYW1lOiAnY3NyZl90b2tlbicsIHVwZGF0ZTogImxpbmsiIH0sKi8gc2VsZWN0b3I6ICdkaXYuc2VhcmNoX2NvbnRlbnQgZGl2LnRleHQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5q+U54m55aSn6ZuEJywgbGluazogJ2h0dHBzOi8vd3d3LmJ0ZHg4LmNvbS8/cz0nICsgZGJ6dywgc2VsZWN0b3I6ICcjY29udGVudCBkaXYucG9zdC5jbGVhcmZpeCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfnrKzkuIDnlLXlvbHnvZEnLCBsaW5rOiAnaHR0cHM6Ly93d3cuMDAxZC5jb20vP3M9JyArIGRiencsIHNlbGVjdG9yOiAnZGl2Lm1haW5sZWZ0IGRpdi5pbmZvJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+eVjOe7jemDqCcsIGxpbms6ICdodHRwOi8vd3d3LmpzYjQ1Ni5jb20vP3M9JyArIGRiencsIHNlbGVjdG9yOiAnI2NvbnRlbnQgaDIudGl0bGUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5bCx54ix6YKj54mHJywgbWV0aG9kOiAicG9zdCIsIGxpbms6ICdodHRwOi8vd3d3LmluYXBpYW4uY29tL2luZGV4LnBocD9zPXZvZC1zZWFyY2gmd2Q9JyArIGRiencsIGRhdGE6IGB3ZD0ke3VuaXRpdGxlfWAsIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiIH0sIHJld3JpdGVfaHJlZjogdHJ1ZSwgc2VsZWN0b3I6ICdkaXYuc29ydGNvbiBkaXYubWluZm8nIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5rOh6aWt5b2x6KeGJywgbGluazogJ2h0dHA6Ly93d3cuY2hhcGFvZmFuLmNvbS9zZWFyY2gvJyArIGRiencsIHNlbGVjdG9yOiAnZGl2LmNvbnRlbnQtc2lkZS1sZWZ0IGRpdi5jb250ZW50LXRpdGxlICsgZGl2LmNvbnRlbnQtdGl0bGUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn54mH5rqQ572RJywgbGluazogJ2h0dHA6Ly9waWFueXVhbi5sYS9zZWFyY2g/cT0nICsgZGJ6dywgc2VsZWN0b3I6ICdkaXYucm93IHVsLmRldGFpbCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfov4Xpm7flvbHlpKnloIInLCBsaW5rOiAnaHR0cHM6Ly93d3cueGw3MjAuY29tLz9zPScgKyBkYnp3LCBzZWxlY3RvcjogJyNjb250ZW50IGgzLmVudHJ5LXRpdGxlJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+S4gOWPquWkp+amtOiOsicsIGxpbms6ICdodHRwOi8vd3d3LmxsZHVhbmcuY29tLz9zPScgKyBkYnp3LCBzZWxlY3RvcjogJ2Rpdi5tYWlubGVmdCBkaXYuaW5mbycgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfpn7PojIPkuJ0nLCBsaW5rOiAnaHR0cDovL3d3dy55aW5mYW5zLm1lLz9zPScgKyBkYnp3LCBzZWxlY3RvcjogJyNwb3N0X2NvbnRhaW5lciBkaXYuYXJ0aWNsZScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfkuK3lm73pq5jmuIXnvZEnLCBsaW5rOiAnaHR0cDovL2dhb3FpbmcubGEvP3M9JyArIGRiencsIHNlbGVjdG9yOiAnZGl2Lm1haW5sZWZ0IGRpdi50aHVtYm5haWwnIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoaXNfc2VyaWVzKSB7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi572R55uY5pCc5Ymn6ZuGIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICc1Nue9keebmOWJpycsIGxpbms6ICdodHRwOi8vd3d3LjU2d2FuZ3Bhbi5jb20vZm9sZGVyL20xa3cnICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LnRpdGxlIGEnIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1BhbjU45Ymn6ZuGJywgbGluazogJ2h0dHBzOi8vd3d3LnBhbjU4LmNvbS9zP3dkPScgKyB1bml0aXRsZSArICcmcz0xJnQ9MCZwPTEnLCBzZWxlY3RvcjogYC5maWxldGV4dCBwLmZuYW1lOmNvbnRhaW5zKCR7dW5pdGl0bGV9KWAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5aSn5Yqb55uY5Ymn6ZuGJywgbGluazogJ2h0dHBzOi8vd3d3LmRhbGlwYW4uY29tL3NlYXJjaD90eXBlPTAma2V5d29yZD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiBgaDEucmVzb3VyY2UtdGl0bGUgYTpjb250YWlucygke3VuaXRpdGxlfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+Wkp+Wco+ebmOWJp+mbhicsIGxpbms6ICdodHRwczovL3d3dy5kYXNoZW5ncGFuLmNvbS9zZWFyY2g/dHlwZT0wJmtleXdvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogYGgxLnJlc291cmNlLXRpdGxlIGE6Y29udGFpbnMoJHt1bml0aXRsZX0pYCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflh4zpo47kupHliafpm4YnLCBsaW5rOiAnaHR0cHM6Ly93d3cubGluZ2Zlbmd5dW4uY29tL3NlYXJjaD93ZD0nICsgdW5pdGl0bGUgKyAnJnNvX2ZpbGU9MSZzb19zb3VyY2U9MSZzb19leHQ9OCZzb19hcnJheT1maWxlX2Rlc2Mmc29fYWNjdXI9MTAwJywgY3NyZjoge25hbWU6ICJzb190b2tlbiIsIHVwZGF0ZToibGluayJ9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAnLnNlYXJjaF9kYXRhX2xpc3QgZGl2LnRhYicgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5aaC6aOO5pCc5Ymn6ZuGJywgbGluazogJ2h0dHA6Ly93d3cucnVmZW5nc28ubmV0L3MvY29tYi9uLScgKyB1bml0aXRsZSArICcmbmQtZCcsIHNlbGVjdG9yOiBgaDMgPiBhW3RpdGxlKj0nJHt1bml0aXRsZX0nXWAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5bCP5pit5p2l5LqG5YmnJywgbGluazogJ2h0dHBzOi8vd3d3LnhpYW96aGFvbGFpbGEuY29tL3Mvc2VhcmNoP3E9JyArIHVuaXRpdGxlICsgJyZjdXJyZW50UGFnZT0xJmY9NicsIHNlbGVjdG9yOiBgaDQgYTpjb250YWlucygke3VuaXRpdGxlfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+S6keebmOeyvueBteWJpycsIGxpbms6ICdodHRwczovL3d3dy55dW5wYW5qaW5nbGluZy5jb20vc2VhcmNoLycgKyB1bml0aXRsZSArICc/ZmlsdGVyX3NlYXJjaD1hbGwmZmlsdGVyX21vZGU9ZGlyJnNvcnQ9c2l6ZS5kZXNjJywgc2VsZWN0b3I6ICdkaXYuc2VhcmNoLWxpc3QgZGl2Lm5hbWUnIH0sCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzX21vdmllKSB7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi572R55uY5pCc55S15b2xIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICc1Nue9keebmOW9sScsIGxpbms6ICdodHRwOi8vd3d3LjU2d2FuZ3Bhbi5jb20vdmlkZW8vbTFrdycgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYudGl0bGUgYScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnUGFuNTjnlLXlvbEnLCBsaW5rOiAnaHR0cHM6Ly93d3cucGFuNTguY29tL3M/d2Q9JyArIHVuaXRpdGxlICsgJyZzPTImdD0wJnA9MScsIHNlbGVjdG9yOiBgLmZpbGV0ZXh0IHAuZm5hbWU6Y29udGFpbnMoJHt1bml0aXRsZX0pYCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflpKflipvnm5jnlLXlvbEnLCBsaW5rOiAnaHR0cHM6Ly93d3cuZGFsaXBhbi5jb20vc2VhcmNoP3R5cGU9MSZrZXl3b3JkPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6IGBoMS5yZXNvdXJjZS10aXRsZSBhOmNvbnRhaW5zKCR7dW5pdGl0bGV9KWAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5aSn5Zyj55uY55S15b2xJywgbGluazogJ2h0dHBzOi8vd3d3LmRhc2hlbmdwYW4uY29tL3NlYXJjaD90eXBlPTEma2V5d29yZD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiBgaDEucmVzb3VyY2UtdGl0bGUgYTpjb250YWlucygke3VuaXRpdGxlfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WHjOmjjuS6keeUteW9sScsIGxpbms6ICdodHRwczovL3d3dy5saW5nZmVuZ3l1bi5jb20vc2VhcmNoP3dkPScgKyB1bml0aXRsZSArICcmc29fZmlsZT0xJnNvX3NvdXJjZT0xJnNvX2V4dD0yJnNvX2FycmF5PWZpbGVfZGVzYyZzb19hY2N1cj0xMDAnLCBjc3JmOiB7bmFtZTogInNvX3Rva2VuIiwgdXBkYXRlOiJsaW5rIn0sIHJld3JpdGVfaHJlZjogdHJ1ZSwgc2VsZWN0b3I6ICcuc2VhcmNoX2RhdGFfbGlzdCBkaXYudGFiJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflpoLpo47mkJznlLXlvbEnLCBsaW5rOiAnaHR0cDovL3d3dy5ydWZlbmdzby5uZXQvcy9jb21iL24tJyArIHVuaXRpdGxlICsgJyZzLXNpemUxJmYtZjQnLCBzZWxlY3RvcjogYGgzID4gYVt0aXRsZSo9JyR7dW5pdGl0bGV9J11gIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+Wwj+aYreadpeS6huW9sScsIGxpbms6ICdodHRwczovL3d3dy54aWFvemhhb2xhaWxhLmNvbS9zL3NlYXJjaD9xPScgKyB1bml0aXRsZSArICcmY3VycmVudFBhZ2U9MSZzPWRvd24mZj0xJywgc2VsZWN0b3I6IGBoNCBhOmNvbnRhaW5zKCR7dW5pdGl0bGV9KWAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5LiA56uZ5pCc55S15b2xJywgbGluazogJ2h0dHA6Ly92LnlpemhhbnNvdS5jb20vbXYvc2VhcmNoP2t3PScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICd0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfkupHnm5jnsr7ngbXlvbEnLCBsaW5rOiAnaHR0cHM6Ly93d3cueXVucGFuamluZ2xpbmcuY29tL3NlYXJjaC8nICsgdW5pdGl0bGUgKyAnP2ZpbHRlcl9zZWFyY2g9YWxsJmZpbHRlcl9tb2RlPXZpZGVvJnNvcnQ9c2l6ZS5kZXNjJywgc2VsZWN0b3I6ICdkaXYuc2VhcmNoLWxpc3QgZGl2Lm5hbWUnIH0sCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGhhc19pbWRiIHx8IGlzX3l3bSkgewogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIuWbveWklue9keebmOeyvuWHhiIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQmVzdE1vdmll4pyHJywgbGluazogJ2h0dHBzOi8vd3d3LmJlc3QtbW92aWV6LndzLz9zPScgKyBqaW5nemh1biwgc2VsZWN0b3I6ICcjY29udGVudCBoMS5lbnRyeS10aXRsZScsIHNlbGVjdG9yX25lZWRfbG9naW46ICJoMSBzcGFuOmNvbnRhaW5zKCdDaGVja2luZyB5b3VyIGJyb3dzZXInKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnRERMV2FyZeKchycsIGxpbms6ICdodHRwczovL2RkbC13YXJlei50by8/c2VhcmNoPScgKyBqaW5nemh1biwgc2VsZWN0b3I6ICd0YWJsZS50YWJsZS1jb25kZW5zZWQgdGQubm9fb3ZlcmZsb3cnLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0RMNEFMTOKchycsIGxpbms6ICdodHRwOi8vZGw0YWxsLnh5ei8/ZG89c2VhcmNoJnN1YmFjdGlvbj1zZWFyY2gmc3Rvcnk9JyArIGppbmd6aHVuLCBzZWxlY3RvcjogJ3NwYW4uY2F0ZWdvcnkgaDInLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0Rvd250cuKchycsIGxpbms6ICdodHRwczovL2Rvd250ci5jYy8/ZG89c2VhcmNoJnN1YmFjdGlvbj1zZWFyY2gmc3Rvcnk9JyArIGppbmd6aHVuLCBzZWxlY3RvcjogJyNkbGUtY29udGVudCBkaXYudGl0bGUnLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0ZpbG1Tb2Z04pyHJywgbGluazogJ2h0dHA6Ly9maWxtc29mdHMuY29tLz9kbz1zZWFyY2gmc3ViYWN0aW9uPXNlYXJjaCZzdG9yeT0nICsgamluZ3podW4sIHNlbGVjdG9yOiAnI2RsZS1jb250ZW50IGRpdi5zdG9yeScsIHNlbGVjdG9yX25lZWRfbG9naW46ICJoMSBzcGFuOmNvbnRhaW5zKCdDaGVja2luZyB5b3VyIGJyb3dzZXInKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnRnJlc2h3YXDinIcnLCBsaW5rOiAnaHR0cDovL3d3dy5mcmVzaHdhcC5jYy8/ZG89c2VhcmNoJnN1YmFjdGlvbj1zZWFyY2gmc3Rvcnk9JyArIGppbmd6aHVuLCBzZWxlY3RvcjogJyNkbGUtY29udGVudCBkaXYubWFpbmNvbnQnLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ01vdmllV0JC4pyHJywgbGluazogJ2h0dHA6Ly9tb3ZpZXN3YmIubmV0Lz9zPScgKyBqaW5nemh1biwgc2VsZWN0b3I6ICdkaXYuY29udGVudC5ibG9nIGRpdi5ibG9ncG9zdGNhdGVnb3J5Jywgc2VsZWN0b3JfbmVlZF9sb2dpbjogImgxIHNwYW46Y29udGFpbnMoJ0NoZWNraW5nIHlvdXIgYnJvd3NlcicpIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdPbmVEREzinIcnLCBsaW5rOiAnaHR0cHM6Ly9vbmVkZGwub3JnLz9kbz1zZWFyY2gmc3ViYWN0aW9uPXNlYXJjaCZzdG9yeT0nICsgamluZ3podW4sIHNlbGVjdG9yOiAnI2RsZS1jb250ZW50IGRpdi5jb24nLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1dhcmV6U2Vy4pyHJywgbGluazogJ2h0dHA6Ly93YXJlei1zZXJiaWEuY29tL2luZGV4LnBocD9kbz1zZWFyY2gmc3ViYWN0aW9uPXNlYXJjaCZzdG9yeT0nICsgamluZ3podW4sIHNlbGVjdG9yOiAnI2RsZS1jb250ZW50IGRpdi5wb3N0LWluZm8nLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1dpbjdETOKchycsIGxpbms6ICdodHRwczovL3dpbjdkbC5vcmcvP2RvPXNlYXJjaCZzdWJhY3Rpb249c2VhcmNoJnN0b3J5PScgKyBqaW5nemh1biwgc2VsZWN0b3I6ICcjZGxlLWNvbnRlbnQgdGQuYmxvY2tfaGVhZF8yJywgc2VsZWN0b3JfbmVlZF9sb2dpbjogImgxIHNwYW46Y29udGFpbnMoJ0NoZWNraW5nIHlvdXIgYnJvd3NlcicpIiB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIuWcqOe6v+ato+eJiOS4reaWhyIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+eIseWlh+iJuuinhumikScsIGxpbms6ICdodHRwczovL3NvLmlxaXlpLmNvbS9zby9xXycgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICJkaXYubW9kX3Jlc3VsdCBzcGFuLnBsYXlfc291cmNlIiB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WTlOWTqeWTlOWTqScsIGxpbms6ICdodHRwczovL3NlYXJjaC5iaWxpYmlsaS5jb20vYWxsP2tleXdvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ3NwYW4uYmFuZ3VtaS1sYWJlbCthJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+S5kOinhuinhumikScsIGxpbms6ICdodHRwOi8vc28ubGUuY29tL3M/d2Q9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogYGgxID4gYS5qLWJhaWR1LWFbdGl0bGUqPScke3VuaXRpdGxlfSddYCB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+iKkuaenFRWJywgbGluazogJ2h0dHBzOi8vc28ubWd0di5jb20vc28vay0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LnNvLXJlc3VsdC1pbmZvLmNsZWFyZml4IHNwYW4ubGFiZWwnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5pCc54uQ6KeG6aKRJywgbGluazogJ2h0dHBzOi8vc28udHYuc29odS5jb20vbXRzP3dkPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYud3JhcC5jZml4IGRpdi5jZml4LnJlc291cmNlJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+iFvuiur+inhumikScsIGxpbms6ICdodHRwczovL3YucXEuY29tL3gvc2VhcmNoLz9xPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYud3JhcHBlcl9tYWluIGRpdi5faW5mb3MnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5LyY6YW36KeG6aKRJywgbGluazogJ2h0dHBzOi8vd3d3LnNva3UuY29tL250L3NlYXJjaC9xXycgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYuc19pbnRyIHNwYW4uaW50cl9hcmVhLmNfbWFpbicgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIuWcqOe6v+ato+eJiOiLseaWhyIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FtYXpvbicsIGxpbms6ICdodHRwczovL2luc3RhbnR3YXRjaGVyLmNvbS9hL3NlYXJjaD9jb250ZW50X3R5cGU9MSsyJnNvdXJjZT0xKzIrMyZxPScgKyBlbmdfdGl0bGVfY2xlYW4sIHNlbGVjdG9yOiBgc3Bhbi50aXRsZSBhLnRpdGxlLWxpbms6Y29udGFpbnMoJHtlbmdfdGl0bGVfY2xlYW59KWAgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdOZXRmbGl4JywgbGluazogJ2h0dHBzOi8vdW5vZ3MuY29tLz9xPScgKyBlbmdfdGl0bGVfY2xlYW4sIGFqYXg6ICdodHRwczovL2ZsaXhhYmxlLmNvbS8/cz0nICsgZW5nX3RpdGxlX2NsZWFuLCBzZWxlY3RvcjogImRpdi5wb3N0ZXItY29udGFpbmVyICsgcCIgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIuWcqOe6v+S4reaWh+W9seinhiIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ05lZXRzJywgbGluazogJ2h0dHA6Ly9uZWV0cy5jYy9zZWFyY2g/a2V5PScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICcjc2VhcmNoX2xpX2JveCBkaXYuc2VhcmNoX2xpLmNsZWFyZml4JyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ05PVklQJywgbGluazogJ2h0dHBzOi8vd3d3Lm5vdmlwbm9hZC5jb20vP3M9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ2Rpdi5zZWFyY2gtbGlzdGluZy1jb250ZW50IGRpdi5pdGVtLWhlYWQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnUTLnlLXlvbHnvZEnLCBsaW5rOiAnaHR0cDovL3d3dy5rMjkzOC5jb20vc2VhcmNoP3dkPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYuY29udGFpbmVyIGRpdi5tb3ZpZS1pdGVtJyB9LAogICAgICAgICAgICAgICAgICAgIC8vIHsgbmFtZTogJ+WXqOWThuWSquW9seinhicsIGxpbms6ICdodHRwOi8vd3d3LmhhaWR1b21pLmNvbS9zZWFyY2guaHRtbD93ZD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LnRoZWlhU3RpY2t5U2lkZWJhciBoMS5mZWQtcGFydC1lb25lLmZlZC1mb250LXh2aScgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChoYXNfZW50aXRsZSkgewogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIuWcqOe6v+iLseaWh+W9seinhiIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQ2FmZUh1bHUnLCBsaW5rOiAnaHR0cDovL2NhZmVodWx1LmNvbS9zZWFyY2gtbW92aWVzLycgKyBlbmdfdGl0bGVfY2xlYW4gKyAnLmh0bWwnLCBzZWxlY3RvcjogJ2Rpdi5tYWluLWNvbnRlbnQgZGl2Lm1sLWl0ZW0nLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ01vdk5pZ2h0JywgbGluazogJ2h0dHA6Ly9tb3ZpZW5pZ2h0LndzLz9zPScgKyBlbnRpdGxlLCBzZWxlY3RvcjogJyNib3hfbW92aWVzIGgyJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdVbmlTdHJlYW0nLCBsaW5rOiAnaHR0cHM6Ly91bmlxdWVzdHJlYW0ubmV0Lz9zPScgKyBlbmdfdGl0bGVfY2xlYW4sIHNlbGVjdG9yOiAnZGl2LnJlc3VsdC1pdGVtIGRpdi5kZXRhaWxzJyB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc19hbmltZSkgewogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIuWcqOe6v+WKqOa8q+inhumikSIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnOUFOSU1FJywgbGluazogJ2h0dHBzOi8vOWFuaW1lLnRvL3NlYXJjaD9rZXl3b3JkPScgKyBlbmdfdGl0bGUsIHNlbGVjdG9yOiAiZGl2LmZpbG0tbGlzdCBhLm5hbWUiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+eIseeci+eVqicsIGxpbms6ICdodHRwOi8vd3d3LmlrYW5mYW4uY29tL3NlYXJjaC8/d2Q9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJyNsaXN0dm9kIGRpdi5kLWluZm8nIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WYgOWTqeWYgOWTqScsIGxpbms6ICdodHRwOi8vd3d3LmRpbGlkaWxpLm9uZS9zZWFyY2gucGhwP3E9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ2Rpdi5jYXJkIHAuc2xyJyB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc19hbmltZSkgewogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIuWKqOa8q+WbveWGhee9keermSIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQUNHLlJJUCcsIGxpbms6ICdodHRwczovL2FjZy5yaXAvP3Rlcm09JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ3Rib2R5IHRyJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdBQ0fmkJwnLCBsaW5rOiAnaHR0cDovL3d3dy5hY2dzb3UuY29tL3NlYXJjaC5waHA/a2V5d29yZD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAndGJvZHkgc3Bhbi5idHNfMScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnTWlrYW4nLCBsaW5rOiAnaHR0cHM6Ly9taWthbmFuaS5tZS9Ib21lL1NlYXJjaD9zZWFyY2hzdHI9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ3RhYmxlLnRhYmxlLnRhYmxlLXN0cmlwZWQudGJsLWJvcmRlci5mYWRlSW4gYS5tYWduZXQtbGluay13cmFwJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdNaW9CVCcsIGxpbms6ICdodHRwOi8vd3d3Lm1pb2J0LmNvbS9zZWFyY2gucGhwP2tleXdvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJyNkYXRhX2xpc3QgdHJbY2xhc3MqPWFsdF0nIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1ZDQi1TJywgbGluazogJ2h0dHBzOi8vdmNiLXMuY29tLz9zPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICcjYXJ0aWNsZS1saXN0IGRpdi50aXRsZS1hcnRpY2xlJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfniLHmgYvliqjmvKsnLCBsaW5rOiAnaHR0cDovL3d3dy5raXNzc3ViLm9yZy9zZWFyY2gucGhwP2tleXdvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ3Rib2R5IHNwYW4uYnRzXzEnIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WKqOa8q+iKseWbrScsIGxpbms6ICdodHRwczovL3NoYXJlLmRtaHkub3JnL3RvcGljcy9saXN0P2tleXdvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ3Rib2R5IHNwYW4uYnRsXzEnIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WFnOWFnOWKqOa8q+e9kScsIGxpbms6ICdodHRwOi8vd3d3LmRvdWRvdWRtLmNvbS9Ib21lL0luZGV4L3NlYXJjaC5odG1sP3NlYXJjaFRleHQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJyNzb21lX2RyYW1hIHNwYW4ucGxheV9zb21lJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfmvKvllrXliqjmvKsnLCBsaW5rOiAnaHR0cDovL3d3dy5jb21pY2F0Lm9yZy9zZWFyY2gucGhwP2tleXdvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJyNkYXRhX2xpc3QgdHInIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+a8q+ebuOmajycsIGxpbms6ICdodHRwOi8vZm9kbS5uZXQvc2VhcmNoLmFzcD9zZWFyY2h3b3JkPScgKyBndW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LnBhZ2VfY29udGVudCBkaXYuaW50cm8nIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIuiQjOeVque7hCIsIG1ldGhvZDogInBvc3QiLCB0eXBlOiAianNvbiIsIGxpbms6ICJodHRwczovL2Jhbmd1bWkubW9lL3NlYXJjaC90aXRsZSNzZWFyY2hfIiArIHVuaXRpdGxlLCBhamF4OiAiaHR0cHM6Ly9iYW5ndW1pLm1vZS9hcGkvdjIvdG9ycmVudC9zZWFyY2giLCBkYXRhOiBgeyJxdWVyeSI6IiR7dW5pdGl0bGV9In1gLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04IiB9LCBzZWxlY3RvcjogImNvdW50ID4gMCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5pyr5pel5Yqo5ryrJywgbGluazogJ2h0dHBzOi8vc2hhcmUuYWNnbnguc2Uvc2VhcmNoLnBocD9zb3J0X2lkPTAma2V5d29yZD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnI2xpc3RUYWJsZSB0cltjbGFzcyo9YWx0XScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn6a2U5rOV5bCR5aWzJywgbGluazogJ2h0dHBzOi8vd3d3Lm1haG91LXNob3Vqby5tb2UvP3M9JyArIHRoaXNfdGl0bGUsIHNlbGVjdG9yOiAnI21haW4gZGl2LmVudHJ5LXN1bW1hcnknIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+aAoeiQseWKqOa8qycsIGxpbms6ICdodHRwOi8vd3d3Lnl4ZG0udHYvc2VhcmNoLmh0bWw/dGl0bGU9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ2Rpdi5tYWluIHAuc3RhcnMxJyB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaXNfYW5pbWUgJiYgZW5nX3RpdGxlLnRyaW0oKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi5Yqo5ryr5Zu95aSW572R56uZIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdBbmlEZXgnLCBsaW5rOiAnaHR0cHM6Ly9hbmlkZXguaW5mby8/cT0nICsgZW5nX3RpdGxlLCBzZWxlY3RvcjogJ2Rpdi50YWJsZS1yZXNwb25zaXZlIHRyJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdBbmlSZW5hJywgbGluazogJ2h0dHBzOi8vd3d3LmFuaXJlbmEuY29tLz9zPScgKyBlbmdfdGl0bGUsIHNlbGVjdG9yOiAnI2NvbnRlbnQgdGFibGUnIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FuaVRvc2hvJywgbGluazogJ2h0dHBzOi8vYW5pbWV0b3Noby5vcmcvc2VhcmNoP3E9JyArIGVuZ190aXRsZSwgc2VsZWN0b3I6ICcjY29udGVudCBkaXYuaG9tZV9saXN0X2VudHJ5JyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdOeWFhJywgbGluazogJ2h0dHBzOi8vbnlhYS5zaS8/cT0nICsgZW5nX3RpdGxlLCBzZWxlY3RvcjogJ2Rpdi50YWJsZS1yZXNwb25zaXZlIHRyLmRlZmF1bHQnIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+ODi+ODo+ODkeODs+ODhCcsIGxpbms6ICdodHRwczovL255YWEucGFudHN1LmNhdC9zZWFyY2g/Yz1fJnE9JyArIGVuZ190aXRsZSwgc2VsZWN0b3I6ICcjdG9ycmVudExpc3RSZXN1bHRzIHRyLnRvcnJlbnQtaW5mbycgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5Lic5Lqs5Zuz5Lmm6aaGJywgbGluazogJ2h0dHBzOi8vd3d3LnRva3lvdG9zaG8uaW5mby9zZWFyY2gucGhwP3Rlcm1zPScgKyBlbmdfdGl0bGUsIHNlbGVjdG9yOiAndGFibGUubGlzdGluZyB0ZC5kZXNjLXRvcCcgfSwKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXNfc2VyaWVzICYmIGlzX2V1cm9wZSkgewogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIuasp+e+juWJp+mbhuS4i+i9vSIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQlTnvo7liacnLCBsaW5rOiAnaHR0cDovL3d3dy5idG1laWp1LmNvbS91c3R2X3NlYXJjaC5odG0/dGl0bGU9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJyNfY29udGFpbmVyIGRpdi5jb21tX2JveCcgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnRVpUVicsIGxpbms6ICdodHRwczovL2V6dHYuYWcvc2VhcmNoLycgKyB5d20ucmVwbGFjZSgvU1xkKyQvZywnJyksIHNlbGVjdG9yOiBgdGQuZm9ydW1fdGhyZWFkX3Bvc3QgPiBhW3RpdGxlKj0nJHt5d20ucmVwbGFjZSgvU1xkKyQvZywnJyl9J11gIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0tQUFQnLCBsaW5rOiAnaHR0cDovL3d3dy5rcHB0LmNjL3NlYXJjaC5waHA/cT0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LnNlYXJjaCBzcGFuLlNlYXJjaEFsaWFzJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfniLHnvo7liacnLCBsaW5rOiAnaHR0cHM6Ly93d3cubWVpanUyMi5jb20vc2VhcmNoLnBocD9zZWFyY2h3b3JkPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYuaGVhZCBoMycgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5q+P5pel576O5YmnJywgbGluazogJ2h0dHA6Ly93d3cubWVpcmltZWlqdS5jb20vc2VhcmNoP3dvcmRzPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYuY29udGFpbmVyIGRpdi5tb3ZpZS10aXRsZScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn576O5Ymn6L+3JywgbGluazogJ2h0dHA6Ly93d3cubWVpanVtaS52aXAvaW5kZXgucGhwP3M9JyArIHVuaXRpdGxlICsgJyDkuIvovb0nLCBzZWxlY3RvcjogYGgyLmVudHJ5LXRpdGxlID4gYTpjb250YWlucygke3VuaXRpdGxlfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+e+juWJp+WkqeWggicsIGxpbms6ICdodHRwczovL3d3dy5tZWlqdXR0LnR2L3NlYXJjaC9pbmRleC5hc3A/c2VhcmNod29yZD0nICsgZ3VuaXRpdGxlLCBzZWxlY3RvcjogJ2Rpdi5saXN0M19jbl9ib3ggdWwubGlzdF8yMCcgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5Lq65Lq65b2x6KeGJywgbGluazogJ2h0dHA6Ly93d3cuem16MjAxOS5jb20vc2VhcmNoP3R5cGU9cmVzb3VyY2Uma2V5d29yZD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAiZGl2LnNlYXJjaC1yZXN1bHQgPiB1bCA+IGxpIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAvL3sgbmFtZTogJ+S6uuS6uue+juWJpycsIGxpbms6ICdodHRwOi8vd3d3Lnl5ZXRzcy5jb20vU2VhcmNoL2luZGV4L3Nfa2V5cy8nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LnJvdyBkaXYuY29sLXhzLTMnIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+S4gOermeaQnOe+juWJpycsIGxpbms6ICdodHRwOi8vdmlkZW9zLnlpemhhbnNvdS5jb20vc2VhcmNoP2t3PScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICd0YWJsZTpudGgtY2hpbGQoOSkgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKScgfSwKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXNfc2VyaWVzICYmIGlzX2phcGFuICYmICFpc19hbmltZSkgewogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIuaXpeWJp+i1hOa6kOS4i+i9vSIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnOTHml6XliacnLCBsaW5rOiAnaHR0cDovL3d3dy53d211bHUuY29tLz9zPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6IGBoMi5lbnRyeS10aXRsZSA+IGE6Y29udGFpbnMoJHt1bml0aXRsZX0pYCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICLkuJzkuqzkuI3lpJ/ng60iLCBtZXRob2Q6ICJwb3N0IiwgbGluazogImh0dHA6Ly93d3cudG9reW9ub3Rob3QuY29tL3NlYXJjaC5waHA/bW9kPXBvcnRhbCIsIGRhdGE6IGBzcmNodHh0PSR7Z3VuaXRpdGxlfSZzZWFyY2hzdWJtaXQ9eWVzYCwgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgfSwgcmV3cml0ZV9ocmVmOiB0cnVlLCBzZWxlY3RvcjogImRpdi50bCBsaS5wYnciIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+iKseivkeW3peWdiicsIGxpbms6ICdodHRwczovL2Rpc2N1c3MuaHVheWl3b3JrLmNvbS8/cT0nICsgdW5pdGl0bGUsIGFqYXg6ICJodHRwczovL2Rpc2N1c3MuaHVheWl3b3JrLmNvbS9hcGkvZGlzY3Vzc2lvbnM/aW5jbHVkZT1zdGFydFVzZXIlMkNsYXN0VXNlciUyQ3JlbGV2YW50UG9zdHMlMkNyZWxldmFudFBvc3RzLmRpc2N1c3Npb24lMkNyZWxldmFudFBvc3RzLnVzZXIlMkNzdGFydFBvc3QlMkN0YWdzJmZpbHRlciU1QnElNUQ9IiArIHVuaXRpdGxlICsgIiYiLCB0eXBlOiAianNvbiIsIHNlbGVjdG9yOiAnZGF0YS5sZW5ndGggPiAwJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflv4Pliqjml6XliacnLCBsaW5rOiAnaHR0cDovL3d3dy5kb2tpOC5jb20vP3M9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogYGgyLnBvc3QtYm94LXRpdGxlID4gYTpjb250YWlucygke3VuaXRpdGxlfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+S4gOermeaQnOaXpeWJpycsIGxpbms6ICdodHRwOi8vdi55aXpoYW5zb3UuY29tL3Joai9zZWFyY2g/a3c9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ3RhYmxlOm50aC1jaGlsZCg5KSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfpmpDnpL4nLCBsaW5rOiAnaHR0cDovL3d3dy5oaWRleXN0dWRpby5jb20vZHJhbWEvJyArIHJlbGVhc2VfeWVhciArIGRyYW1hX3NlYXNvbiArICcuaHRtbCcsIHNlbGVjdG9yOiBgdGQgPiBzcGFuLnRpdGxlczpjb250YWlucygke3VuaXRpdGxlfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+eMqueMquaXpemDqOiQvScsIGxpbms6ICdodHRwOi8vd3d3Lnp6cmJsLmNvbS8/cz0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LnNlY3Rpb25fYm9keSBsaScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn6L+95paw55WqJywgbWV0aG9kOiAicG9zdCIsIGxpbms6ICdodHRwOi8vd3d3LnpodWl4aW5mYW4uY29tL3NlYXJjaC5waHA/c2VhcmNoc3VibWl0PXllcycsIGRhdGE6IGBtb2Q9dHZwbGF5JmZvcm1oYXNoPTQ1M2ZjN2RhJnNyY2h0eXBlPXRpdGxlJnNyaGZpZD0wJnNyaGxvY2FsaXR5PW1haW4lM0ElM0FpbmRleCZzcmNodHh0PSR7dW5pdGl0bGV9JnNlYXJjaHN1Ym1pdD10cnVlYCwgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgfSwgcmV3cml0ZV9ocmVmOiB0cnVlLCBzZWxlY3RvcjogJyN3cCB0ZC50ZDInIH0sCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzX3NlcmllcyAmJiBpc19rb3JlYSAmJiAhaXNfYW5pbWUpIHsKICAgICAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICLpn6nliafotYTmupDkuIvovb0iLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+mfqemlree9kScsIGxpbms6ICdodHRwOi8vd3d3LmhhbmZhbi5jYy8/cz3kuIvovb0gJyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ2Rpdi5jb250ZW50IHAubWV0YScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn6Z+p5Ymn6L+3JywgbGluazogJ2h0dHA6Ly93d3cuYWlvaW8uY24vP3M95LiL6L29ICcgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYuY29udGVudCBwLm1ldGEnIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+mfqea1gemfqeWJp+e9kScsIGxpbms6ICdodHRwOi8vd3d3LmhsaGFuanUuY29tL2luZGV4LnBocD9zPXZvZC1zZWFyY2gtd2QtJyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJyNmaW5kLWZvY3VzIGRpdi5wbGF5LXR4dCcgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn6Z+p6L+3JywgbWV0aG9kOiAicG9zdCIsIGxpbms6ICJodHRwOi8vd3d3Lmhhbm1pNTIwLmNvbS9zZWFyY2gucGhwP21vZD1mb3J1bSIsIGRhdGE6IGBzcmNodHh0PSR7Z3VuaXRpdGxlfSZzZWx0YWJsZWlkPTAmc3JjaHVuYW1lPSZzcmNoZmlsdGVyPWFsbCZzcmNoZnJvbT0wJmJlZm9yZT0mb3JkZXJieT1sYXN0cG9zdCZhc2NkZXNjPWRlc2Mmc3JjaGZpZCU1QiU1RD04JnNyY2hmaWQlNUIlNUQ9MTg1JnNyY2hmaWQlNUIlNUQ9MjMmc3JjaGZpZCU1QiU1RD0yNCZzcmNoZmlkJTVCJTVEPTEwMSZzcmNoZmlkJTVCJTVEPTE4NiZzcmNoZmlkJTVCJTVEPTkmc3JjaGZpZCU1QiU1RD0yNSZzcmNoZmlkJTVCJTVEPTI2JnNlYXJjaHN1Ym1pdD15ZXNgLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAiZGl2LnRsIGxpLnBidyIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5LiA56uZ5pCc6Z+p5YmnJywgbGluazogJ2h0dHA6Ly92LnlpemhhbnNvdS5jb20vcmhqL3NlYXJjaD9rdz0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAndGFibGU6bnRoLWNoaWxkKDkpID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMiknIH0sCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzX3NlcmllcyAmJiBpc190aGFpICYmICFpc19hbmltZSkgewogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIuazsOWJp+i1hOa6kOS4i+i9vSIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnOTfms7DliafnvZEnLCBsaW5rOiAnaHR0cDovL3d3dy45N3RhaWp1LmNvbS9pbmRleC5waHA/cz12b2Qtc2VhcmNoJndkPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICcjdm9kbGlzdCBkZC50aXRsZScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5rOw5Ymn6LWE5paZ6aaGJywgbGluazogJ2h0dHA6Ly93d3cudGFpanV6bGcuY29tLz9zPeazsOWJp+S4i+i9vSAnICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnI21haW4gbGkuZW50cnktdGl0bGUnIH0sCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzX2RvY3VtZW50KSB7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi57qq5b2V54mH5LiL6L2956uZIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfnm5fngavnuqrlvZXniYcnLCBsaW5rOiAnaHR0cDovL3d3dy5kYW9maXJlLmNvbS9zZWFyY2gvdGl0bGVzZWFyY2g/a2V5d29yZD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LnZpZGVvcyBkaXYucG9zdF90aXRsZScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn57qq5b2V54mH5aSp5ZywJywgbGluazogJ2h0dHBzOi8vd3d3LmJpbmcuY29tL3NlYXJjaD9xPXNpdGUlM0F3d3cuamxwY24ubmV0K2ludGl0bGUlM0EnICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnI2JfY29udGVudCBkaXYuYl90aXRsZScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn54aK54yr55uY57qq5b2VJywgbGluazogJ2h0dHA6Ly94aW9uZ21hb3Bhbi5jb20vc2VhcmNoLycgKyB1bml0aXRsZSwgc2VsZWN0b3I6IGBoMiA+IGFbdGl0bGUqPScke3VuaXRpdGxlfSddYCB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIueUteW9seiBmuWQiOaQnOe0oiIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0RUb3JyZW50JywgbGluazogJ2h0dHBzOi8vZGlydHl0b3JyZW50cy5jb20vdG9ycmVudHMvP3NlYXJjaD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnLnRvcGRpdiAuc3BhbmxlZnQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn55av54uC5b2x6KeGJywgbGluazogJ2h0dHA6Ly9pZmtkeS5jb20vP3E9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ2Egc3Bhbi5zaXRlLW5hbWUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5paw5a+85pCc57SiJywgbGluazogJ2h0dHBzOi8vcy54aW5nZGFvby5jb20vc18nICsgdW5pdGl0bGUgKyAnLmh0bWwnLCBzZWxlY3RvcjogJ2Rpdi5zcy1qZy1sYiBsaScgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIueUteW9sei1hOa6kOS4i+i9vSIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJzRL55S15b2xJywgbGluazogJ2h0dHBzOi8vNGstbS5jb20vbS9zLmFzcHg/cz0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2Lmxpc3QtcGljIGRpdi50eHQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnMTnlvbHop4YnLCBsaW5rOiAnaHR0cHM6Ly93d3cuMTlrYW4uY29tL3ZvZHNlYXJjaC5odG1sP3dkPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdoMS5mZWQtcGFydC1lb25lLmZlZC1mb250LXh2aSBhJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJzY25b2x6KeG572RJywgbWV0aG9kOiAicG9zdCIsIGxpbms6ICdodHRwczovL3d3dy42NmUuY2MvZS9zZWFyY2gvaW5kZXgucGhwJywgZGF0YTogYHNob3c9dGl0bGUlMkNzbWFsbHRleHQmdGVtcGlkPTEmdGJuYW1lPUFydGljbGUma2V5Ym9hcmQ9JHtndW5pdGl0bGV9JnN1Ym1pdD1gLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAiZGl2Lmxpc3RCb3ggbGkiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnNlbnlLXlvbHnvZEnLCBtZXRob2Q6ICJwb3N0IiwgbGluazogJ2h0dHA6Ly93d3cuNnZoYW8udHYvZS9zZWFyY2gvaW5kZXgucGhwJywgZGF0YTogYHNob3c9dGl0bGUlMkNzbWFsbHRleHQmdGVtcGlkPTEmdGJuYW1lPUFydGljbGUma2V5Ym9hcmQ9JHtndW5pdGl0bGV9JlN1Ym1pdDIyPSVFNiU5MCU5QyVFNyVCNCVBMmAsIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiIH0sIHJld3JpdGVfaHJlZjogdHJ1ZSwgc2VsZWN0b3I6ICJkaXYubGlzdEJveCBsaSIgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICc4VueUteW9see9kScsIGxpbms6ICdodHRwOi8vd3d3Ljh2ZHkuY29tL3NlYXJjaC5hc3A/c2VhcmNod29yZD0nICsgZ3VuaXRpdGxlLCBzZWxlY3RvcjogJyNkaXZfMiBkaXYubGlzdEluZm8nIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQlTov7cnLCBsaW5rOiAnaHR0cDovL3d3dy5idHR0Ni5jb20vc2VhcmNoLmFzcD9zZWFyY2h3b3JkPScgKyBndW5pdGl0bGUsIHNlbGVjdG9yOiAnI2NvbnRlbnQgaDIuZW50cnktdGl0bGUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQ0vnlLXlvbEnLCBsaW5rOiAnaHR0cDovL3d3dy5jazE4MC5uZXQvc2VhcmNoLmh0bWw/cT0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAndWwuc2VyYWNoLXVsIGRpdi5pbmZvJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0xPTOeUteW9sScsIGxpbms6ICdodHRwOi8vd3d3Ljk5M2R5LmNvbS9pbmRleC5waHA/bT12b2Qtc2VhcmNoJndkPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYubW92aWVsaXN0IGEucGxheS1pbWcnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnTVA055S15b2xJywgbGluazogJ2h0dHA6Ly93d3cuZG9tcDQuY29tL3NlYXJjaC8nICsgdW5pdGl0bGUgKyAnLTEuaHRtbCcsIHNlbGVjdG9yOiBgaDIgYTpjb250YWlucygke3VuaXRpdGxlfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnT0votYTmupDnvZEnLCBsaW5rOiAnaHR0cDovL3d3dy5va3p5dy5jb20vaW5kZXgucGhwP209dm9kLXNlYXJjaCZ3ZD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LnhpbmdfdmIgc3Bhbi54aW5nX3ZiNCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdQaWFuSEQnLCBsaW5rOiAnaHR0cDovL3d3dy5waWFuaGQuY29tL3NlYXJjaC8tLS0tLS0tLS0tLS0tLmh0bWw/d2Q9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJy5kZXRhaWwgaDMudGl0bGUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5q+U54m55b2x6KeGJywgbGluazogJ2h0dHBzOi8vd3d3LmJ0ZXllLmNvbS9zZWFyY2gvJyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJyNtYWluIGRpdi5pdGVtJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+eUteW9sea4rycsIG1ldGhvZDogInBvc3QiLCBsaW5rOiAnaHR0cDovL3NvLmR5Z2FuZy5jb20vZS9zZWFyY2gvaW5kZXgucGhwJywgZGF0YTogYHRlbXBpZD0xJnRibmFtZT1hcnRpY2xlJmtleWJvYXJkPSR7Z3VuaXRpdGxlfSZzaG93PXRpdGxlJTJDc21hbGx0ZXh0JlN1Ym1pdD0lQ0IlRDElQ0IlRjdgLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAidGFibGVbd2lkdGg9JzEwMCUnXVtib3JkZXI9JzAnXVtjZWxsc3BhY2luZz0nMCddW2NlbGxwYWRkaW5nPScwJ10gYS5jbGFzc2xpbmtjbGFzcyIgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfnlLXlvbHlpKnloIInLCBtZXRob2Q6ICJwb3N0IiwgbGluazogJ2h0dHBzOi8vd3d3LmR5MjAxOC5jb20vZS9zZWFyY2gvaW5kZXgucGhwJywgZGF0YTogYHNob3c9dGl0bGUlMkNzbWFsbHRleHQmdGVtcGlkPTEma2V5Ym9hcmQ9JHtndW5pdGl0bGV9JlN1Ym1pdD0lQzElQTIlQkMlQjQlQ0IlRDElQ0IlRjdgLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAnZGl2LmNvX2NvbnRlbnQ4IHRhYmxlJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+mSieWtkOeUteW9sScsIG1ldGhvZDogInBvc3QiLCBsaW5rOiAnaHR0cDovL3d3dy5kaW5nemk2Ni5jb20vcSNzZWFyY2hfJyArIHVuaXRpdGxlLCBkYXRhOiBga2V5d29yZD0ke3VuaXRpdGxlfWAsIGNzcmY6IHsgbmFtZTogIl9jc3JmIiwgdXBkYXRlOiAiZGF0YSIgfSwgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgfSwgc2VsZWN0b3I6IGBoNCA+IGE6Y29udGFpbnMoJHt1bml0aXRsZX0pYCB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WYjuWYjuW9seinhicsIGxpbms6ICdodHRwOi8vd3d3LmdhZ2F5cy54eXovbW92aWUvc2VhcmNoP3JlcSU1Qmt3JTVEPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICcjbW92aWUtc3ViLWNvbnQtZGIgZGl2LmxhcmdlLW1vdmllLWRldGFpbCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfpq5jmuIU4ODgnLCBsaW5rOiAnaHR0cHM6Ly93d3cuZ2FvcWluZzg4OC5jb20vc2VhcmNoP2t3PScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYud3AtY29udGVudCBkaXYudmlkZW8tcm93JyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+mrmOa4hU1QNCcsIGxpbms6ICdodHRwOi8vd3d3Lm1wNGJhLmNjL2luZGV4LnBocD9tPXNlYXJjaCZjPWluZGV4JmE9aW5pdCZtb2RlbGlkPTEmcT0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnLnNlYXJjaF9jb250ZW50IC5zb3VzdW8nIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn6auY5riF55S15Y+wJywgbGluazogJ2h0dHBzOi8vZ2FvcWluZy5mbS9zLnBocD9xPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICcjcmVzdWx0MSBkaXYucm93JyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+mrmOa4heeUteW9sScsIGxpbms6ICdodHRwOi8vd3d3Ljk5OWhkaGQuY29tL2h0bS9zZWFyY2hfdG9waWNfJyArIHVuaXRpdGxlICsgJ18xLmh0bScsIHNlbGVjdG9yOiAnZGl2LmxheW91dF9sZWZ0MiBsaScgfSwKICAgICAgICAgICAgICAgICAgICAvL3sgbmFtZTogJ+eLl+WTpeeUteW9sScsIG1ldGhvZDogInBvc3QiLCBsaW5rOiAnaHR0cHM6Ly93d3cuZ2doZC5jYy9pbmRleC5waHA/bT12b2Qtc2VhcmNoPXdkPScgK3VuaXRpdGxlLCBjc3JmOiB7IG5hbWU6ICJjc3JmX3Rva2VuIiwgdXBkYXRlOiAibGluayIgfSwgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgfSwgYWpheDogImh0dHBzOi8vd3d3LmdnaGQuY2MvaW5kZXgucGhwP209dm9kLXNlYXJjaD13ZD0iICsgdW5pdGl0bGUsIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiIH0sIHNlbGVjdG9yOiAndWwudG9waWMtbGlzdCBkaXYuaW5kZXgtdG9waWMtaW5mbycgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICLkuKTkuKpCVCIsIGxpbms6ICdodHRwczovL3d3dy5idHR3by5jb20vP3M9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ2Rpdi5taV9jb250IGgzLmR5dGl0JyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIue+juWJp+axhyIsIGxpbms6ICdodHRwOi8vd3d3Lm1laWp1aHVpNTIwLmNvbS9zZWFyY2gucGhwP3E9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ2FydGljbGUuZXhjZXJwdCBsaS5mb2N1cycgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfnvo7liafpuJ8nLCBsaW5rOiAnaHR0cDovL3d3dy5tZWlqdW5pYW8uY29tL3NlYXJjaC8/d2Q9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ3VsLnNlcmFjaC11bCBkaXYuaW5mbycgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfpo5joirHotYTmupDnvZEnLCBsaW5rOiAnaHR0cHM6Ly93d3cucGlhb2h1YS5jb20vcGx1cy9zZWFyY2gucGhwP2t3dHlwZT0wJmtleXdvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ2Rpdi5jb250YWluZXIgZGl2LnR4dCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfkuIvniYfniYcnLCBsaW5rOiAnaHR0cDovL3NlYXJjaC54aWVwcC5jb20vc2VhcmNoLmFzcHg/cT0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LnNlYXJjaGxpc3QgaDQubWVkaWEtaGVhZGluZycgfSwgCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5pawNlbnlLXlvbEnLCBtZXRob2Q6ICJwb3N0IiwgbGluazogJ2h0dHBzOi8vd3d3LjY2cy5jYy9lL3NlYXJjaC9pbmRleC5waHAnLCBkYXRhOiBgc2hvdz10aXRsZSZ0ZW1waWQ9MSZ0Ym5hbWU9YXJ0aWNsZSZtaWQ9MSZkb3Bvc3Q9c2VhcmNoJnN1Ym1pdD0ma2V5Ym9hcmQ9JHt1bml0aXRsZX1gLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAnI3Bvc3RfY29udGFpbmVyIGRpdi5lbnRyeV9wb3N0JyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+i/heaSreW9semZoicsIGxpbms6ICdodHRwOi8vd3d3LjIydHUuY2Mvdm9kc2VhcmNoLy0tLS0tLS0tLS0tLS0vP3dkPScgKyB1bml0aXRsZSArICcmc3VibWl0PSVFNiU5MCU5QyslRTclQjQlQTInLCBzZWxlY3RvcjogJ3VsLm1saXN0IGRpdi5pbmZvJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+mYs+WFieeUteW9sScsIGxpbms6ICdodHRwOi8vcy55Z2R5OC5jb20vcGx1cy9zby5waHA/a3d0eXBlPTAmc2VhcmNodHlwZT10aXRsZSZrZXl3b3JkPScgKyBndW5pdGl0bGUsIHNlbGVjdG9yOiAiZGl2LmNvX2FyZWEyIHRhYmxlW2JvcmRlcj0nMCddW3dpZHRoPScxMDAlJ10iIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5b2x5rW3JywgbGluazogJ2h0dHA6Ly93d3cueWluZ2h1Yi5jb20vc2VhcmNoL2xpc3QuaHRtbD9rZXl3b3JkPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYucm93IGRpdi5pbmZvJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+W9seinhjEyMycsIGxpbms6ICdodHRwOi8vd3d3LnlpbmdzaGkxMjMuY24vc2VhcmNoLmFzcD9zZWFyY2h3b3JkPScgKyBndW5pdGl0bGUsIHNlbGVjdG9yOiAnI2NvbnRlbnRzIGEudGl0bGUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5b2x6KeG55yL55yLJywgbGluazogJ2h0dHA6Ly93d3cueXNrazcuY29tL2luZGV4LnBocD9tPXZvZC1zZWFyY2gmd2Q9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ2Rpdi5tb3ZpZWxpc3QgbGknIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5oKg5oKgTVA0JywgbGluazogJ2h0dHBzOi8vd3d3LnV1bXA0Lm5ldC9zZWFyY2gtJyArIHV1bml0aXRsZSArICcuaHRtJywgc2VsZWN0b3I6ICdkaXYuY2FyZC1ib2R5MiBkaXYuZGF0ZWxpbmUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5a6F6IWQ6LWE5rqQ56uZJywgbGluazogJ2h0dHA6Ly93d3cuemhhaWZ1LnR2L3BsdXMvc2VhcmNoLnBocD9rd3R5cGU9MCZxPScgKyBndW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LmNvbnRlbnQgYS5mb2N1cycgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfmnIDmlrDlvbHop4bnq5knLCBsaW5rOiAnaHR0cDovL3d3dy56eHlzei5jb20vP3M9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJyNjb250ZW50IGxpLnAtaXRlbScgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIkJU5Zu95YaF572R56uZIiwKICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQnRkYWQnLCBsaW5rOiAnaHR0cDovL3d3dy5idGRhZC5wdy9zZWFyY2gtJyArIHVuaXRpdGxlICsnLTAtMC0xLmh0bWwnLCBzZWxlY3RvcjogJ2Rpdi50aXRsZSArIGRpdi5zYmFyJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0JU5ZCnJywgbGluazogJ2h0dHA6Ly93d3cuYnRiYS5jYy9zZWFyY2g/a2V5d29yZD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LmxlZnQgbGknIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQlTpg6jokL0nLCBsaW5rOiAnaHR0cDovL3d3dy5idGJ1bHVvLmNvbS9zLycgKyB1bml0aXRsZSArICcuaHRtbCcsIHNlbGVjdG9yOiBgaDIgYTpjb250YWlucygke3VuaXRpdGxlfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQlTlvbHlpKnloIInLCBsaW5rOiAnaHR0cDovL3d3dy5idGJ0dDA4LmNvbS9zZWFyY2gtaW5kZXguaHRtP2tleXdvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJyN0aHJlYWRsaXN0IHRkLnN1YmplY3QnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnQlTkuYvlrrYnLCBsaW5rOiAnaHR0cHM6Ly93d3cuYnRidHQubWUvc2VhcmNoLWluZGV4LWtleXdvcmQtJyArIHVuaXRpdGxlICsgJy5odG0nLCBzZWxlY3RvcjogJyN0aHJlYWRsaXN0IHRhYmxlJyB9LAogICAgICAgICAgICAgICAgICAgIC8vIHsgbmFtZTogJ01WQ0FUJywgbGluazogJ2h0dHA6Ly93d3cubXZjYXQuY29tL3NlYXJjaC8/dHlwZT1UaXRsZSxzdWJUaXRsZSxUYWdzJndvcmQ9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ2gzLnRpdGxlJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ01BR+ejgeWKmycsIGxpbms6ICdodHRwOi8vb2FidDAwNy5jb20vaW5kZXgvaW5kZXg/Yz0maz0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2LmxpbmstbGlzdC13cmFwcGVyIHVsLmxpbmstbGlzdCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdTT0JUJywgbGluazogJ2h0dHA6Ly9zb2J0NS5pbi9xLycgKyB1bml0aXRsZSArJy5odG1sJywgc2VsZWN0b3I6ICdkaXYuc2VhcmNoLWl0ZW0gZGl2Lml0ZW0tdGl0bGUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnVGtpdHR5JywgbGluazogJ2h0dHBzOi8vY24udG9ycmVudGtpdHR5Lm1lL3NlYXJjaC8nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiBgdGJvZHkgdGQubmFtZTpub3QoOmNvbnRhaW5zKOayoeaciee7k+aenCkpYCB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+mYv+mHjEJUJywgbGluazogJ2h0dHBzOi8vYWxpYnQucHcvemgtY24vcy8xLycgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICcucmVzb3VyY2UtbGlzdCBsaScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfno4Hlipvni5cnLCBsaW5rOiAnaHR0cDovL2NpbGlnb3UudG9wL3NlYXJjaD93b3JkPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICcjU2VhcmNoX2xpc3Rfd3JhcHBlciBkaXYuU2VhcmNoX3RpdGxlX3dyYXBwZXInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn56OB5Yqb566h5a62JywgbGluazogJ2h0dHA6Ly93d3cuY2lsaWd1YW5qaWEuaWN1L3NoLScgKyB1bml0aXRsZSArJy0wLTAtMS5odG1sJywgc2VsZWN0b3I6ICcuc2VhcmNoX2xpc3QgLmRldGFpbCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfno4Hlipvpk74nLCBsaW5rOiAnaHR0cHM6Ly93d3cuY2lsaXFpLmNvbS9tYWluLXNlYXJjaC5odG1sP2t3PScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICcucGFuZWwtYm9keSAuaXRlbS10aXRsZScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfno4HlipvlpKnloIInLCBsaW5rOiAnaHR0cDovL2JlcnJoLmNvbS9saXN0P2tleT0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnZGl2Lmxpc3QtY29uIGR0JyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+ejgeWKm8K35aSp5aCCJywgbGluazogJ2h0dHA6Ly93d3cuY2lsaXRpYW50YW5nLnZpcC9jaWxpc291c3VvLycgKyB1bml0aXRsZSArICcuaHRtbCcsIHNlbGVjdG9yOiAnLmJ0c293bGlzdCAucm93JyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+ejgeWKm+aYnycsIGxpbms6ICdodHRwczovL3d3dy5jaWxpeGluZy5jYy9pbmRleC9zZWFyY2hzLmh0bWw/a2V5d29yZD0nICsgdW5pdGl0bGUsIHNlbGVjdG9yOiAnI2JpdXV1X2NpdHlfbGlzdCBkaXYubGF5dWktY29sbGFwc2UuZmx5LWNvbWFyJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+iAgeeJm0JUJywgbGluazogJ2h0dHBzOi8vd3d3Lmxhb25pdWJ0LnRvcC9zLmh0bWw/a3c9JyArIHVuaXRpdGxlLCBzZWxlY3RvcjogJ3RhYmxlLnRhYmxlIHRkLngtaXRlbScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfkurrkurrno4HlipsnLCBsaW5rOiAnaHR0cHM6Ly9yZW5yZW5jaWxpYmEub3JnL2E4LycgKyB1bml0aXRsZSArJy8xLTAtMC5odG1sJywgc2VsZWN0b3I6ICdkaXYubGlzdC1hcmVhIGRsLml0ZW0nIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5bCP5rWj54aK5LiL6L29JywgbGluazogYGh0dHBzOi8vd3d3LnhpYW9oeC5vcmcvc2VhcmNoP2tleT0ke3VuaXRpdGxlfWAsIHNlbGVjdG9yOiBgZGl2LnJlc3VsdF9wIGFbdGl0bGUqPScke3VuaXRpdGxlfSddYCB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+eroOmxvOaQnOe0oicsIGxpbms6ICdodHRwczovL2J0Lm9jdG9wZ28uY29tL3MvJyArIHVuaXRpdGxlICsnLmh0bWwnLCBzZWxlY3RvcjogJyNsaXN0LXBhbmVsIGgyLm5hbWUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn56eN5a2Q5ZCnJywgbGluazogJ2h0dHA6Ly96aG9uZ3ppYmEubWUvc2VhcmNoP3dkPScgKyB1bml0aXRsZSwgc2VsZWN0b3I6ICdkaXYubWVkaWEtYm9keSBoNC5tZWRpYS1oZWFkaW5nJyB9LAogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKGhhc19pbWRiKSB7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiQlTlm73lpJbnvZHnq5kiLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJzEzMzdYJywgbGluazogJ2h0dHBzOi8vMTMzN3gudG8vc2VhcmNoLycgKyB5d20gKyAnLzEvJywgc2VsZWN0b3I6ICd0YWJsZS50YWJsZS1saXN0LnRhYmxlLnRhYmxlLXJlc3BvbnNpdmUudGFibGUtc3RyaXBlZCB0ZC5jb2xsLTEubmFtZScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgLy97IG5hbWU6ICdpRG9wZScsIG1ldGhvZDogInBvc3QiLCBsaW5rOiAnaHR0cHM6Ly9pZG9wZS54eXovc2VhcmNoLXNpdGUvJywgZGF0YTpgcT0ke3l3bX0meD0wJnk9MGAsIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiIH0sIHJld3JpdGVfaHJlZjogdHJ1ZSwgc2VsZWN0b3I6ICdkaXYuY29udGFpbmVyIGRpdi5vcHQtdGV4dC13M2xheW91dHMnIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0lTT0h1bnQnLCBsaW5rOiAnaHR0cHM6Ly9pc29odW50Mi5uZXQvdG9ycmVudC8/aWhxPScgKyB5d20sIHNlbGVjdG9yOiAnI3NlcnBzIHRkLnRpdGxlLXJvdycgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnS2lja0FzcycsIGxpbms6ICdodHRwczovL2thdGNyLmNvL2thdHNlYXJjaC9wYWdlLzEvJyArIHl3bSwgc2VsZWN0b3I6ICdkaXYudGFibGUtLXJlc3BvbnNpdmVfdmVydGljYWwgZGl2LnRvcnJlbnRzX3RhYmxlX190b3JyZW50X25hbWUnIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0xpbWUnLCBsaW5rOiAnaHR0cHM6Ly93d3cubGltZXRvcnJlbnRzLmluZm8vc2VhcmNoL2FsbC8nICsgeXdtLCBzZWxlY3RvcjogJ3RhYmxlLnRhYmxlMiBkaXYudHQtbmFtZScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnTW9ub3ZhJywgbGluazogJ2h0dHBzOi8vbW9ub3ZhLm9yZy9zZWFyY2g/dGVybT0nICsgZW5nX3RpdGxlLCBzZWxlY3RvcjogJ3RhYmxlLmJvcmRlcmVkLm1haW4tdGFibGUgdGQudG9ycmVudF9uYW1lJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdSdXRyYWNr5b2xJywgbGluazogJ2h0dHA6Ly9ydXRyYWNrZXIub3JnL2ZvcnVtL3NlYXJjaF9jc2UucGhwP3E9JyArIHl3bSwgYWpheDogYGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP3E9YWxsaW50aXRsZTorJHt5d219K3NpdGU6cnV0cmFja2VyLm9yZ2Asc2VsZWN0b3I6ICdkaXYuciBoMycgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnVG9yTG9jaycsIGxpbms6ICdodHRwczovL3d3dy50b3Jsb2NrMi5jb20vYWxsL3RvcnJlbnRzLycgKyB5d20ucmVwbGFjZSgvIC9nLCAiLSIpICsgJy5odG1sJywgc2VsZWN0b3I6ICd0YWJsZS50YWJsZS50YWJsZS1zdHJpcGVkLnRhYmxlLWJvcmRlcmVkLnRhYmxlLWhvdmVyLnRhYmxlLWNvbmRlbnNlZCB0ZC50ZCcgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnWVRTJywgbGluazogJ2h0dHBzOi8veXRzLmFtL2Jyb3dzZS1tb3ZpZXMvJyArIGVuZ190aXRsZSwgc2VsZWN0b3I6ICdkaXYucm93IGRpdi5icm93c2UtbW92aWUtYm90dG9tJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfQmtC40L3QvtC30LDQuycsIGxpbms6ICdodHRwOi8va2lub3phbC50di9icm93c2UucGhwP3M9JyArIHl3bSwgc2VsZWN0b3I6ICd0YWJsZS50X3BlZXIudzEwMHAgdGQubmFtJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfmtbfnm5fmub4nLCBsaW5rOiAnaHR0cHM6Ly9waXJhdGViYXkubGl2ZS9zZWFyY2gvJyArIHl3bSwgc2VsZWN0b3I6ICcjc2VhcmNoUmVzdWx0IGRpdi5kZXROYW1lJyB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0ID09PSAiYm9vay5kb3ViYW4uY29tIikgewogICAgICAgICAgICBsZXQgdGl0bGUgPSAkKCcjd3JhcHBlciA+IGgxID4gc3BhbicpWzBdLnRleHRDb250ZW50LnJlcGxhY2UoL1s6XChdLiokLywgIiIpOwogICAgICAgICAgICBsZXQgb3JpZ2luYWxfYW5jaG9yID0gJCgnI2luZm8gc3Bhbi5wbDpjb250YWlucygi5Y6f5L2c5ZCNIiknKTsKICAgICAgICAgICAgbGV0IG9yaWdpbmFsID0gb3JpZ2luYWxfYW5jaG9yWzBdID8gZmV0Y2hfYW5jaG9yKG9yaWdpbmFsX2FuY2hvcikgOiAnJzsKICAgICAgICAgICAgbGV0IHRpdGxlX2VuZyA9IHRpdGxlLm1hdGNoKC8oW2EtekEtWiA6LFwoXCldKSsvKTsKICAgICAgICAgICAgbGV0IG9yaWdpbmFsX2VuZyA9IG9yaWdpbmFsLm1hdGNoKC8oW2EtekEtWiA6LFwoXCldKSsvKTsKICAgICAgICAgICAgbGV0IHl3bSA9ICIiOwogICAgICAgICAgICBpZiAodGl0bGVfZW5nKSB7CiAgICAgICAgICAgICAgICB5d20gPSB0aXRsZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbF9lbmcpIHsKICAgICAgICAgICAgICAgIHl3bSA9IG9yaWdpbmFsLnJlcGxhY2UoL1s6XChdLiokLywgIiIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBoYXNfeXdtID0gdGl0bGVfZW5nICsgb3JpZ2luYWxfZW5nOwogICAgICAgICAgICBsZXQgc3RpdGxlID0geXdtLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAiLSIpOwogICAgICAgICAgICBsZXQgaXNfd3JpdGVyID0gJCgnI2luZm8gc3Bhbi5wbDpjb250YWlucygi5L2c6ICFIiknKS5sZW5ndGggPiAwOwogICAgICAgICAgICBsZXQgd3JpdGVyID0gaXNfd3JpdGVyID8gJyAnICsgJCgnI2luZm8gc3Bhbi5wbDpjb250YWlucygi5L2c6ICFIiknKVswXS5uZXh0U2libGluZy5uZXh0U2libGluZy50ZXh0Q29udGVudC5yZXBsYWNlKC9cW1teXF1dK1xdL2csICcnKS5yZXBsYWNlKC/vvIhbXu+8iV0r77yJL2csICcnKS5yZXBsYWNlKC9eXHN7MSx9L2csICcnKSA6ICcnOwogICAgICAgICAgICBsZXQgZ3RpdGxlID0gX2VuY29kZVRvR2IyMzEyKHRpdGxlLCB0cnVlKTsKICAgICAgICAgICAgbGV0IHB0aXRsZSA9IGVuY29kZVVSSSh0aXRsZSkucmVwbGFjZSgvJS9nLCAiJTI1Iik7CiAgICAgICAgICAgIGxldCBpc2JuX2FuY2hvciA9ICQoJyNpbmZvIHNwYW4ucGw6Y29udGFpbnMoIklTQk4iKScpOwogICAgICAgICAgICBsZXQgaXNibiA9IGlzYm5fYW5jaG9yWzBdID8gZmV0Y2hfYW5jaG9yKGlzYm5fYW5jaG9yKSA6ICcnOwoKICAgICAgICAgICAgLy8g5q+U6L6D5pe25peg6KeG6Iux5paH5ZCN5aSn5bCP5YaZCiAgICAgICAgICAgIGpRdWVyeS5leHByWyc6J10uQ29udGFpbnMgPSBmdW5jdGlvbihhLCBpLCBtKSB7ICAKICAgICAgICAgICAgcmV0dXJuIGpRdWVyeShhKS50ZXh0KCkudG9VcHBlckNhc2UoKS5pbmRleE9mKG1bM10udG9VcHBlckNhc2UoKSkgPj0gMDsgIAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgZnVuY3Rpb24gaXNibjEzdG8xMChzdHIpIHsKICAgICAgICAgICAgICAgIC8vSVNCTiAxMOS9jeWSjDEz5L2N56CB5LqS55u46L2s5o2iCiAgICAgICAgICAgICAgICB2YXIgczsKICAgICAgICAgICAgICAgIHZhciBjOwogICAgICAgICAgICAgICAgdmFyIGNoZWNrRGlnaXQgPSAwOwogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICIiOwogICAgICAgICAgICAgICAgcyA9IHN0ci5zdWJzdHJpbmcoMyxzdHIubGVuZ3RoKTsKICAgICAgICAgICAgICAgIGZvciAoIGkgPSAxMDsgaSA+IDE7IGktLSApIHsKICAgICAgICAgICAgICAgICAgICBjID0gcy5jaGFyQXQoMTAgLSBpKTsKICAgICAgICAgICAgICAgICAgICBjaGVja0RpZ2l0ICs9IChjIC0gMCkgKiBpOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2hlY2tEaWdpdCA9ICgxMSAtIChjaGVja0RpZ2l0ICUgMTEpKSAlIDExOwogICAgICAgICAgICAgICAgcmVzdWx0ICs9IGNoZWNrRGlnaXQgPT0gMTAgPyAnWCcgOiAoY2hlY2tEaWdpdCArICIiKTsKICAgICAgICAgICAgICAgIHJldHVybiAoIHJlc3VsdCApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgaXNibjEwID0gaXNibjEzdG8xMCAoaXNibik7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDlvZPliY3lj6rlr7nmnIlpc2Ju5Y+355qE5Lmm57GN5byA5ZCv5Lit5qCP6K+E5YiG5aKe5by6CiAgICAgICAgICAgIGlmIChpc2JuKSB7CiAgICAgICAgICAgICAgICBsZXQgcmF0aW5nX21vcmVfaGl0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAkKCJkaXYjaW50ZXJlc3Rfc2VjdGwiKS5hcHBlbmQoYDxkaXYgY2xhc3M9J3JhdGluZ193cmFwIGNsZWFyYm94JyBpZD0nbG9hZGluZ19tb3JlX3JhdGUnPuWKoOi9veesrOS4ieaWueivhOS7t+S/oeaBr+S4rS4uLi4uLi48L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJhdGluZ193cmFwIGNsZWFyYm94IHJhdGluZ19hbWF6b25fY24iIHJlbD0idjpyYXRpbmciIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmF0aW5nX3dyYXAgY2xlYXJib3ggcmF0aW5nX2dvb2RyZWFkcyIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9kaXY+YCk7CgogICAgICAgICAgICAgICAgaWYgKEdNX2dldFZhbHVlKCJlbmFibGVfYm9va19hbWF6b24uY25fcmF0ZSIsIHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgcmF0aW5nX21vcmVfaGl0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAvLyDpgJrov4dJU0JO5L+h5oGv5Zyo5Lqa6ams6YCK5Lit5Zu95LiK5pCc57SiCiAgICAgICAgICAgICAgICAgICAgZ2V0RG9jKCJodHRwczovL3d3dy5hbWF6b24uY24vcy8/dXJsPXNlYXJjaC1hbGlhcyUzRHN0cmlwYm9va3MmZmllbGQta2V5d29yZHM9IiArIGlzYm4sIG51bGwsIGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdF8wID0gJCgnZGl2W2RhdGEtaW5kZXg9IjAiXScsIGRvYyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfMC5sZW5ndGggPiAwKSB7IC8vIOi/meacrOS5puWcqOS6mumprOmAiuS4reWbveS4iuiDveaQnOe0ouWIsAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJvb2tfaWRfaW5fYW1hem9uID0gcmVzdWx0XzAuYXR0cigiZGF0YS1hc2luIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYm9va191cmwgPSAiaHR0cHM6Ly93d3cuYW1hem9uLmNuL2RwLyIgKyBib29rX2lkX2luX2FtYXpvbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2b3RlX3RleHQgPSByZXN1bHRfMC50ZXh0KCkucmVwbGFjZSgvXG4vZywgIiAiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDov5nmmK/kuIDkuKrlvojlj5blt6fnmoTojrflj5bmlrnlvI/vvIzlvojlj6/og73lm6DkuLrpobXpnaLnu5PmnoTmm7TmlLnogIzlpLHmlYjjgIIg5pyA6L+R5qOA5p+l5LqOIDIwMTkuMDkuMjUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfZ3JvdXAgPSB2b3RlX3RleHQubWF0Y2goLyhbXGQuXSs/KSDpopfmmJ/vvIzmnIDlpJogNSDpopfmmJ8gKyhbXGQsXSspLyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2dyb3VwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF9yYXRpbmcgPSBfZ3JvdXBbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF92b3RlID0gX2dyb3VwWzJdOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaW50ZXJlc3Rfc2VjdGwgZGl2LnJhdGluZ19hbWF6b25fY24nKS5odG1sKHN0YXJCbG9jaygi5Lqa6ams6YCK5Lit5Zu9IiwgYm9va191cmwsIF9yYXRpbmcsIF92b3RlLCA1KSkuc2hvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2ludGVyZXN0X3NlY3RsIGRpdi5yYXRpbmdfYW1hem9uX2NuJykuYXBwZW5kKGA8YnI+5pCc57Si5Lqa6ams6YCK5Lit5Zu9OiA8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nJHtgaHR0cHM6Ly93d3cuYW1hem9uLmNuL3M/az0ke2VuY29kZVVSSSh0aXRsZSl9Jmk9c3RyaXBib29rc2B9Jz4ke3RpdGxlfTwvYT5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkKCcjbG9hZGluZ19tb3JlX3JhdGUnKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKEdNX2dldFZhbHVlKCdlbmFibGVfYm9va19nb29kcmVhZHMnLCBmYWxzZSkgJiYgR01fZ2V0VmFsdWUoJ2FwaWtleV9nb29kcmVhZHMnLCBmYWxzZSkpIHsKICAgICAgICAgICAgICAgICAgICByYXRpbmdfbW9yZV9oaXQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGdldEpTT04oYGh0dHBzOi8vd3d3Lmdvb2RyZWFkcy5jb20vYm9vay9yZXZpZXdfY291bnRzLmpzb24/a2V5PSR7R01fZ2V0VmFsdWUoJ2FwaWtleV9nb29kcmVhZHMnLCAnJyl9JmZvcm1hdD1qc29uJmlzYm5zPSR7aXNibn1gLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJvb2sgPSBkYXRhWydib29rcyddWzBdOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBnb29kcmVhZF9pZCA9IGJvb2tbJ2lkJ107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ29vZHJlYWRfdXJsID0gYGh0dHBzOi8vd3d3Lmdvb2RyZWFkcy5jb20vYm9vay9zaG93LyR7Z29vZHJlYWRfaWR9YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByYXRpbmcgPSBib29rWydhdmVyYWdlX3JhdGluZyddOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZvdGUgPSBib29rWyd3b3JrX3JhdGluZ3NfY291bnQnXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNpbnRlcmVzdF9zZWN0bCBkaXYucmF0aW5nX2dvb2RyZWFkcycpLmh0bWwoc3RhckJsb2NrKCJHb29kUmVhZHMiLCBnb29kcmVhZF91cmwsIHJhdGluZywgdm90ZSwgNSkpLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2ludGVyZXN0X3NlY3RsIGRpdi5yYXRpbmdfZ29vZHJlYWRzJykuYXBwZW5kKGA8YnI+5pCc57SiR29vZFJlYWRzOiA8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nJHtgaHR0cHM6Ly93d3cuZ29vZHJlYWRzLmNvbS9zZWFyY2g/cT0ke2VuY29kZVVSSSh0aXRsZSl9YH0nPiR7dGl0bGV9PC9hPmApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNsb2FkaW5nX21vcmVfcmF0ZScpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIXJhdGluZ19tb3JlX2hpdCkgewogICAgICAgICAgICAgICAgICAgICQoJyNsb2FkaW5nX21vcmVfcmF0ZScpLmhpZGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKF92ZXJzaW9uID09PSAi5a6M5pW054mIIikgewogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIuS8muWRmOeyvuWHhuWMuemFjSIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiaUthbnNodSIsIGxpbms6ICJodHRwczovL2lrYW5zaHUub3JnL3NlYXJjaD9xPSIgKyBpc2JuLCBjc3JmOiB7bmFtZTogInRva2VuIiwgdXBkYXRlOiJsaW5rIn0sIHJld3JpdGVfaHJlZjogdHJ1ZSwgc2VsZWN0b3I6ICJkaXYuYm9vay13cmFwcGVyIGRpdi5ib29rLWluZm8iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIm1Mb29rIiwgbGluazogImh0dHA6Ly9wbHVnaW4ubWxvb2subW9iaS9zZWFyY2g/cT0iICsgaXNibiwgc2VsZWN0b3I6ICJkaXYuYm9va3MgZGl2LmZsLm1ldGEiIH0sCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi5Zu+5Lmm5Lya5ZGY572R56uZIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJlUFVCZWUiLCBtZXRob2Q6ICJwb3N0IiwgdHlwZTogImpzb24iLCBsaW5rOiAiaHR0cDovL2NuLmVwdWJlZS5jb20vYm9va3MvP3M9IiArIHRpdGxlLCBhamF4OiAiaHR0cDovL2NuLmVwdWJlZS5jb20va2V5cy9nZXRfZWJvb2tfbGlzdF9zZWFyY2guYXNteC9nZXRTZWFyY2hMaXN0IiwgZGF0YTogYHtza2V5Oicke3RpdGxlfSd9YCwgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgiIH0sIHNlbGVjdG9yOiAiZC5sZW5ndGggPiAwIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdJUmVhZCcsIGxpbms6ICdodHRwOi8vd3d3LmlyZWFkLmNmLz9xdWVyeT0nICsgdGl0bGUsIHNlbGVjdG9yOiAnbGkuYm9vay1pdGVtIGRpdi5ib29rLWluZm8nIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIktpbmRsZTg4IiwgbGluazogImh0dHA6Ly93d3cua2luZGxlODguY29tLz9zPSIgKyB0aXRsZSArIHdyaXRlciwgc2VsZWN0b3I6ICJkaXYud2lkZ2V0LWNvbnRlbnQgbGkuYXJjaGl2ZS10aHVtYiIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnaWFtdHh0JywgbWV0aG9kOiAicG9zdCIsIGxpbms6ICdodHRwOi8vd3d3LmlhbXR4dC5jb20vZS9zZWFyY2gvaW5kZXgucGhwJywgZGF0YTogYGtleWJvYXJkPSR7dGl0bGV9JnNob3c9dGl0bGUmdGVtcGlkPTJgLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAnZGl2LnJvdyBkaXYudGl0bGUnIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogInNrRWJvb2tzIiwgbGluazogImh0dHBzOi8vc2tlYm9va3MuY29tL3E/dHlwZT0xJmtleXdvcmQ9IiArIHRpdGxlLCBzZWxlY3RvcjogInRib2R5IGEuYm9vay10aXAiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIueIseWIhuS6q+ivu+S5piIsIGxpbms6ICJodHRwOi8vd3d3LmlzaGFyZXJlYWQuY29tL3NlYXJjaGJvb2suaHRtP2tleVdvcmRzPSIgKyB0aXRsZSwgc2VsZWN0b3I6IGBkaXYuc2VhcmNoYm9va2xpc3RfYm9va2l0ZW0gZGl2LmF1dGhvcl9jb250YWluZXI6Y29udGFpbnMoJHt3cml0ZXIudHJpbSgpfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIuaLnOivuyIsIGxpbms6ICJodHRwOi8vb3J6Ym9vay5jb20vP3M9IiArIHRpdGxlICsgd3JpdGVyLCBzZWxlY3RvcjogIiNwcmltYXJ5IGRpdi5lbnRyeS1jb250ZW50IiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICLlv4XnnIvnvZEiLCBsaW5rOiAiaHR0cHM6Ly93d3cuYmlpa2FuLmNvbS9ob21lL2Jvb2svc2VhcmNoLnNodG1sP2s9IiArIHRpdGxlLCBzZWxlY3RvcjogImRpdi5ib29rTGlzdC5jbGVhcmZpeCBhLmJvb2tMaXN0SW1nIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICLnvKTpl7kiLCBtZXRob2Q6ICJwb3N0IiwgbGluazogImh0dHA6Ly93d3cuYmlubmFvLmNvbS9zZWFyY2gucGhwP21vZD1mb3J1bSIsIGRhdGE6IGBzcmNodHh0PSR7dGl0bGV9JHt3cml0ZXJ9JnNlYXJjaHN1Ym1pdD15ZXNgLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAiI3RocmVhZGxpc3QgbGkucGJ3IiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfluIPlhYvkuablsYsnLCBsaW5rOiAnaHR0cHM6Ly93d3cuYnVrZWJvb2suY24vP3M9JyArIHRpdGxlLCBzZWxlY3RvcjogYGFbcmVsPSdib29rbWFyayddOmNvbnRhaW5zKCR7dGl0bGV9KWAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAi54K55Lmm572RIiwgbWV0aG9kOiAicG9zdCIsIGxpbms6ICJodHRwOi8vZGlhbmJvb2suY2Mvc2VhcmNoLnBocD9tb2Q9Zm9ydW0iLCBkYXRhOiBgc3JjaHR4dD0ke3RpdGxlfSR7d3JpdGVyfSZzZWFyY2hzdWJtaXQ9eWVzYCwgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgfSwgcmV3cml0ZV9ocmVmOiB0cnVlLCBzZWxlY3RvcjogImRpdi50bCBsaS5wYnciIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIueci+ixhjE3OCIsIGxpbms6ICJodHRwOi8vd3d3LnNlbzYzMC5jb20vc2VhcmNoLmFzcHg/Ym9vaz0iICsgdGl0bGUsIHNlbGVjdG9yOiAiZGl2LnNlYXJjaC1saXN0IGRpdi5ib29rIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICLmhaLmhaLmuLjkuaYiLCBsaW5rOiAnaHR0cHM6Ly9tbXkubGEvc2VhcmNoLnBocD9tb2Q9Zm9ydW0mc2VhcmNoc3VibWl0PXllcyZzcmNodHh0PScgKyB0aXRsZSwgc2VsZWN0b3I6ICJkaXYudGwgbGkucGJ3Iiwgc2VsZWN0b3JfbmVlZF9sb2dpbjogIiNtZXNzYWdlbG9naW4iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIuS4h+WNg+WQiOmbhuermSIsIGxpbms6ICJodHRwOi8vd3d3Lmhlaml6aGFuLmNvbS9iYnMvP2t3PSIgKyB0aXRsZSwgc2VsZWN0b3I6ICJkaXYuY29udGFpbmVyIHAudGl0bGUiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIuaIkeeahOS5puWxiyIsIG1ldGhvZDogInBvc3QiLCBsaW5rOiAiaHR0cDovL3d3dy53b2RlNS5jb20vZS9zZWFyY2gvaW5kZXgucGhwIiwgZGF0YTogYHRibmFtZT1ib29rJnRlbXBpZD0xJnNob3c9dGl0bGUlMkNzb2Z0d3JpdGVyJTJDc29mdHNheSZlY21zZnJvbT05JmtleWJvYXJkPSR7dGl0bGV9JnN1Ym1pdD1gLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAiZGl2LmFtLXUtc20tOS5zZWFyY2gtY29udGVudCBkaXYuaXRlbV9pbmZvLmFtLWZsIiwgc2VsZWN0b3JfbmVlZF9sb2dpbjogImRpdlthbGlnbj0nY2VudGVyJ10gPiBiOmNvbnRhaW5zKCfmnYPpmZAnKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAi5oiR6KaB6K+7UERGIiwgbWV0aG9kOiAicG9zdCIsIGxpbms6ICJodHRwOi8vd3d3LjUxZHVwZGYuY29tL3NlYXJjaC5waHA/bW9kPWZvcnVtIiwgZGF0YTogYHNyY2h0eHQ9JHtndGl0bGV9JnNlYXJjaHN1Ym1pdD15ZXNgLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAiZGl2LnRsIGxpLnBidyIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAi55uY5LmQ572R5LmmIiwgbGluazogJ2h0dHA6Ly93d3cucGFuNi5jb20vc2VhcmNoLnBocD9tb2Q9Zm9ydW0mc2VhcmNoc3VibWl0PXllcyZzcmNodHh0PScgKyB0aXRsZSwgc2VsZWN0b3I6ICJkaXYudGwgbGkucGJ3IiB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIuWbvuS5puWcqOe6v+ivleivuyIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+Wkmueci+mYheivuycsIGxpbms6IGBodHRwOi8vd3d3LmR1b2thbi5jb20vc2VhcmNoLyR7dGl0bGV9JHt3cml0ZXJ9YCwgc2VsZWN0b3I6IGBkaXYud3JhcCA+IGE6Y29udGFpbnMoJHt0aXRsZX0pIH4gZGl2LnUtYXV0aG9yID4gc3Bhbjpjb250YWlucygke3dyaXRlci50cmltKCl9KWAgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfkuqzkuJzmlbDlrZcnLCBsaW5rOiBgaHR0cHM6Ly9zLWUuamQuY29tL1NlYXJjaD9lbmM9dXRmLTgma2V5PSR7dGl0bGV9JHt3cml0ZXJ9YCwgc2VsZWN0b3I6ICdkaXYucC1uYW1lIGEnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5Lqa6ams6YCK5ZWG5bqXJywgbGluazogJ2h0dHBzOi8vd3d3LmFtYXpvbi5jbi9zP2k9ZGlnaXRhbC10ZXh0Jms9JyArIGlzYm4sIHNlbGVjdG9yOiAnZGl2LnNnLWNvbC1pbm5lciBoMicgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIuWbvuS5pueyvuWHhuWMuemFjSIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0ItT0snLCBsaW5rOiAnaHR0cDovL2Itb2suY2Mvcy8/ZT0xJnE9JyArIGlzYm4sIHNlbGVjdG9yOiAnI3NlYXJjaFJlc3VsdEJveCBhLnRkbicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJEb3duQm9va3MiLCBsaW5rOiAiaHR0cDovL2Rvd25sb2FkLWJvb2tzLmNvbS8/cz0iICsgaXNibiwgc2VsZWN0b3I6ICJkaXYuZW50cnktY29udGVudCBkaXYuY29udGVudCIgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJFQkgiLCBsaW5rOiAiaHR0cDovL2Vib29raHVudGVyLmNoL3NlYXJjaC8/a2V5d29yZD0iICsgaXNibiwgc2VsZWN0b3I6ICIjbWFpbnNfbGVmdCBkaXYuaW5kZXhfYm94X3RpdGxlLmxpc3RfdGl0bGUiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTGliR2VuIiwgbGluazogImh0dHA6Ly9nZW4ubGliLnJ1cy5lYy9zZWFyY2gucGhwP2NvbHVtbj10aXRsZSZyZXE9IiArIGlzYm4sIHNlbGVjdG9yOiAidGFibGVbcnVsZXM9J3Jvd3MnXSB0ZFt3aWR0aD0nNTAwJ10iIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnU29Cb29rcycsIGxpbms6ICdodHRwczovL3NvYm9va3MuY2Mvc2VhcmNoLycgKyBpc2JuLCBzZWxlY3RvcjogYGgzID4gYVt0aXRsZSo9JyR7dGl0bGV9J10sIGgxLmFydGljbGUtdGl0bGUgYWAgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfnp5HlrabmloflupMnLCBsaW5rOiAnaHR0cDovL2Jvb2suc2NpZW5jZXJlYWRpbmcuY24vc2hvcC9ib29rL0Jvb2tzaW1wbGUvbGlzdC5kbz9zaG93UXVlcnlNb2RlbC5uYW1lSXNibkF1dGhvcj0nICsgaXNibiwgc2VsZWN0b3I6ICdkaXYuYm9va19kZXRhaWxfdGl0bGUgYi5rY190aXRsZScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfmr4/ml6XkuabljZUnLCBsaW5rOiAnaHR0cHM6Ly9zaHVkYW4udmlwL3NlYXJjaC8nICsgaXNibiwgc2VsZWN0b3I6IGBoMyA+IGFbdGl0bGUqPScke3RpdGxlfSddLCBoMS5hcnRpY2xlLXRpdGxlIGFgIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5Zu+5Lmm6aaG6IGU55ufJywgbGluazogJ2h0dHA6Ly9ib29rLnVjZHJzLnN1cGVybGliLm5ldC9zZWFyY2g/RmllbGQ9YWxsJmNoYW5uZWw9c2VhcmNoJnN3PScgKyBpc2JuLCBzZWxlY3RvcjogJyNsZWZ0Y29tbW9uICsgdGQgdGFibGUuYm9vazEnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5LqR5rW35Zu+5Lmm6aaGJywgbGluazogJ2h0dHA6Ly93d3cucGRmYm9vay5jbi8/cz0nICsgaXNibiwgc2VsZWN0b3I6ICcjbWFpbiBhLm91dCcgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIuWbvuS5pue9keebmOeyvuWHhiIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0Rvd250cuKdjycsIGxpbms6ICdodHRwczovL2Rvd250ci5jYy8/ZG89c2VhcmNoJnN1YmFjdGlvbj1zZWFyY2gmc3Rvcnk9JyArIGlzYm4xMCwgc2VsZWN0b3I6ICcjZGxlLWNvbnRlbnQgZGl2LnRpdGxlJywgc2VsZWN0b3JfbmVlZF9sb2dpbjogImgxIHNwYW46Y29udGFpbnMoJ0NoZWNraW5nIHlvdXIgYnJvd3NlcicpIiB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0ZpbG1Tb2Z04p2PJywgbGluazogJ2h0dHA6Ly9maWxtc29mdHMuY29tLz9kbz1zZWFyY2gmc3ViYWN0aW9uPXNlYXJjaCZzdG9yeT0nICsgaXNibjEwLCBzZWxlY3RvcjogJyNkbGUtY29udGVudCBkaXYuc3RvcnknLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnRnJlc2h3YXDinY8nLCBsaW5rOiAnaHR0cDovL3d3dy5mcmVzaHdhcC5jYy8/ZG89c2VhcmNoJnN1YmFjdGlvbj1zZWFyY2gmc3Rvcnk9JyArIGlzYm4xMCwgc2VsZWN0b3I6ICcjZGxlLWNvbnRlbnQgZGl2Lm1haW5jb250Jywgc2VsZWN0b3JfbmVlZF9sb2dpbjogImgxIHNwYW46Y29udGFpbnMoJ0NoZWNraW5nIHlvdXIgYnJvd3NlcicpIiB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ09uZURETOKdjycsIGxpbms6ICdodHRwczovL29uZWRkbC5vcmcvP2RvPXNlYXJjaCZzdWJhY3Rpb249c2VhcmNoJnN0b3J5PScgKyBpc2JuMTAsIHNlbGVjdG9yOiAnI2RsZS1jb250ZW50IGRpdi5jb24nLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnU29mdEFyY2jinY8nLCBsaW5rOiAnaHR0cHM6Ly9zYW5ldC5zdC9zZWFyY2gvP2NhdGVnb3J5PWFueSZmaWxlaG9zdGluZz1hbnkmaXNibj0nICsgaXNibjEwLCBzZWxlY3RvcjogJ2Rpdi50aXRsZXNfbGlzdF9ib3ggYS5jZWxsTWFpbkxpbmsnLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnV2FyZXpTZXLinY8nLCBsaW5rOiAnaHR0cDovL3dhcmV6LXNlcmJpYS5jb20vaW5kZXgucGhwP2RvPXNlYXJjaCZzdWJhY3Rpb249c2VhcmNoJnN0b3J5PScgKyBpc2JuMTAsIHNlbGVjdG9yOiAnI2RsZS1jb250ZW50IGRpdi5wb3N0LWluZm8nLCBzZWxlY3Rvcl9uZWVkX2xvZ2luOiAiaDEgc3Bhbjpjb250YWlucygnQ2hlY2tpbmcgeW91ciBicm93c2VyJykiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnV2luN0RM4p2PJywgbGluazogJ2h0dHBzOi8vd2luN2RsLm9yZy8/ZG89c2VhcmNoJnN1YmFjdGlvbj1zZWFyY2gmc3Rvcnk9JyArIGlzYm4xMCwgc2VsZWN0b3I6ICcjZGxlLWNvbnRlbnQgdGQuYmxvY2tfaGVhZF8yJywgc2VsZWN0b3JfbmVlZF9sb2dpbjogImgxIHNwYW46Y29udGFpbnMoJ0NoZWNraW5nIHlvdXIgYnJvd3NlcicpIiB9LAogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAi5Zu+5Lmm5YWN6LS5572R56uZIiwKICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnZVBVQncnLCBsaW5rOiAnaHR0cHM6Ly9lcHVidy5jb20vP3M9JyArIHRpdGxlLCBzZWxlY3RvcjogYGltZ1tyZWZlcnJlcnBvbGljeT0nbm8tcmVmZXJyZXInXVt0aXRsZSo9JyR7dGl0bGV9J11gIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnTG9yZUZyZWUnLCBsaW5rOiAnaHR0cDovL2Vib29rLmxvcmVmcmVlLmNvbS9zaXRlL2luZGV4P3M9JyArIHRpdGxlLCBzZWxlY3RvcjogJ2Rpdi5ib2R5LWNvbnRlbnQgZGl2LmNhcHRpb24uYm9vay1jb250ZW50JyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1NhbHRUaWdlcicsIGxpbms6ICdodHRwczovL3NhbHR0aWdlci5jb20vP3M9JyArIHRpdGxlLCBzZWxlY3RvcjogYGgxLmVudHJ5LXRpdGxlID4gYTpjb250YWlucygke3RpdGxlfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn6LaF57qn5Lmm5bqTJywgbGluazogJ2h0dHBzOi8vc2h1YXlvdXhpLmNuLz9zPScgKyB0aXRsZSwgc2VsZWN0b3I6IGBoMiBhW3RpdGxlKj0nJHt0aXRsZX0nXWAgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfpq5jmuIVQREYnLCBsaW5rOiAnaHR0cHM6Ly9oZHBkZi5ibG9nLz9zPScgKyB0aXRsZSwgc2VsZWN0b3I6ICcjbWFpbiBoMS5lbnRyeS10aXRsZScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICLoi6bnk5zkuabnm5giLCBtZXRob2Q6ICJwb3N0IiwgbGluazogImh0dHBzOi8vd3d3LmtnYm9vay5jb20vZS9zZWFyY2gvaW5kZXgucGhwIiwgZGF0YTogYGtleWJvYXJkPSR7dGl0bGV9JnNob3c9dGl0bGUlMkNib29rc2F5JTJDYm9va3dyaXRlciZ0Ym5hbWU9ZG93bmxvYWQmdGVtcGlkPTEmc3VibWl0PSVFNiU5MCU5QyVFNyVCNCVBMmAsIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiIH0sIHJld3JpdGVfaHJlZjogdHJ1ZSwgc2VsZWN0b3I6ICJkaXYuc21hbGwtMTIuY29sdW1ucyBzcGFuLnRleHQiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5YaF6YW3572RJywgbGluazogJ2h0dHA6Ly9uZWlrdXcuY29tLz9zPScgKyB0aXRsZSwgc2VsZWN0b3I6ICdkaXYuY29udGFpbmVyIGgyLnBvc3QtdGl0bGUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5YG25LmmJywgbGluazogJ2h0dHBzOi8vb2Jvb2suY2MvP3NlYXJjaC0nICsgdGl0bGUgKyAnLmh0bScsIHNlbGVjdG9yOiAnZGl2LmNhcmQtYm9keSBsaS5tZWRpYScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflj7DlpKflm77kuabppoYnLCBsaW5rOiAnaHR0cDovL2Vib29rcy5saWIubnR1LmVkdS50dy9Ib21lL0xpc3RCb29rcz90eXBlPUtleXdvcmRTZWFyY2gmaF90YWc9JnBhZ2VOdW1iZXI9MSZzZWFyY2hUb3BpYz10aXRsZSZyZWNvcmRfcGVyX3BhZ2U9MTAmc2VuZD0lRTYlOUYlQTUlRTglQTklQTIma2V5d29yZD0nICsgdGl0bGUsIHNlbGVjdG9yOiAndGJvZHkgdGQuY29udGVudCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflsI/mtaPnhorlm77kuaYnLCBsaW5rOiBgaHR0cHM6Ly93d3cueGlhb2h4Lm9yZy9zZWFyY2g/Y2F0PTkma2V5PSR7dGl0bGV9YCwgc2VsZWN0b3I6IGBkaXYucmVzdWx0X3AgYVt0aXRsZSo9JyR7dGl0bGV9J11gIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn6ZuF5LmmJywgbGluazogJ2h0dHBzOi8veWFib29rLm9yZy9zZWFyY2gucGhwP3E9JyArIHRpdGxlLCBzZWxlY3RvcjogJ2Rpdi5tYWluIGRpdi5wb3N0aW5mbycgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflpJzor7vlrqInLCBsaW5rOiAnaHR0cHM6Ly93d3cueWVkdWsuY29tL3NlYXJjaD9uYW1lPScgKyB0aXRsZSwgc2VsZWN0b3I6ICdkaXYubWVkaWEtYm9keSBoNC5tZWRpYS1oZWFkaW5nJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+S4reWbveWTsuWtpuS5picsIGxpbms6ICdodHRwczovL2N0ZXh0Lm9yZy9zZWFyY2hib29rcy5wbD9pZj1nYiZyZW1hcD1nYiZzZWFyY2h1PScgKyB0aXRsZSwgc2VsZWN0b3I6ICd1bC5zZWFyY2hyZXMgZGl2LmN0ZXh0JyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WRqOivuycsIGxpbms6ICdodHRwOi8vd3d3LmlyZWFkd2Vlay5jb20vaW5kZXgucGhwP2c9cG9ydGFsJm09c2VhcmNoJmE9aW5kZXgma2V5d29yZD0nICsgdGl0bGUsIHNlbGVjdG9yOiAndWwuaGFuZ2hhbmctbGlzdCBhJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WtkOS5jOS5pueugCcsIGxpbms6ICdodHRwczovLzVraW5kbGUuY29tLz9zPScgKyB0aXRsZSwgc2VsZWN0b3I6IGBoMyBhOmNvbnRhaW5zKCR7dGl0bGV9KWAgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChoYXNfeXdtKSB7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi5Zu+5Lmm5Zu95aSW572R56uZIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdCb29rRmwnLCBsaW5rOiAnaHR0cDovL2VuLmJvb2tmaS5uZXQvcy8/ZT0xJnE9JyArIHl3bSwgc2VsZWN0b3I6IGAjc2VhcmNoUmVzdWx0Qm94IGgzLmNvbG9yMTpDb250YWlucygke3l3bX0pYCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdCb29rc2VlJywgbGluazogJ2h0dHA6Ly9lbi5ib29rc2VlLm9yZy9zLz9lPTEmcT0nICsgeXdtLCBzZWxlY3RvcjogYCNzZWFyY2hSZXN1bHRCb3ggaDMuY29sb3IxOkNvbnRhaW5zKCR7eXdtfSlgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0VQREYnLCBsaW5rOiAnaHR0cHM6Ly9lcGRmLnRpcHMvc2VhcmNoLycgKyB5d20sIHNlbGVjdG9yOiBgaDMubm90ZS10aXRsZTpDb250YWlucygke3l3bX0pYCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdQREZEcml2ZScsIGxpbms6ICdodHRwczovL3d3dy5wZGZkcml2ZS5jb20vc2VhcmNoP3E9JyArIHl3bSwgc2VsZWN0b3I6IGBkaXYuZmlsZS1yaWdodCBhW2hyZWYqPScke3N0aXRsZX0nXWAgfSwKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICLlm77kuabmkJzntKLlvJXmk44iLAogICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICc1Nue9keebmOS5picsIGxpbms6ICdodHRwOi8vd3d3LjU2d2FuZ3Bhbi5jb20vc2VhcmNoL28ya3cnICsgdGl0bGUsIHNlbGVjdG9yOiBgZGl2LnRpdGxlID4gYVt0aXRsZSo9JyR7dGl0bGV9J11gIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn54ix6Zeu6LWE5paZJywgbGluazogYGh0dHA6Ly9pc2hhcmUuaWFzay5zaW5hLmNvbS5jbi9zZWFyY2gvMC0wLWFsbC0xLWRlZmF1bHQ/Y29uZD0ke3B0aXRsZX1gLCBzZWxlY3RvcjogJ3VsLmxhbmRpbmctdHh0LWxpc3QgaDQuZGF0YS1uYW1lJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WHjOmjjuS6keaQnOS5picsIGxpbms6ICdodHRwczovL3d3dy5saW5nZmVuZ3l1bi5jb20vc2VhcmNoP3dkPScgKyB0aXRsZSArICcmc29fZmlsZT0xJnNvX3NvdXJjZT0xJnNvX2V4dD00JnNvX2FycmF5PSZzb19hY2N1cj0xMDAnLCBjc3JmOiB7bmFtZTogInNvX3Rva2VuIiwgdXBkYXRlOiJsaW5rIn0sIHJld3JpdGVfaHJlZjogdHJ1ZSwgc2VsZWN0b3I6ICcuc2VhcmNoX2RhdGFfbGlzdCBkaXYudGFiJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WmgumjjuaQnOWbvuS5picsIGxpbms6ICdodHRwOi8vd3d3LnJ1ZmVuZ3NvLm5ldC9zL2NvbWIvbi0nICsgdGl0bGUgKyAnJmYtZjInLCBzZWxlY3RvcjogYGgzID4gYVt0aXRsZSo9JyR7dGl0bGV9J11gIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5bCP55m955uY5Zu+5LmmJywgbGluazogJ2h0dHA6Ly93d3cueGlhb2JhaXBhbi5jb20vbGlzdC0nICsgdGl0bGUgKyAnLmh0bWw/b3JkZXI9c2l6ZScsIHNlbGVjdG9yOiAnaDQuam9iLXRpdGxlIGEnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5LqR55uY57K+54G15LmmJywgbGluazogJ2h0dHBzOi8vd3d3Lnl1bnBhbmppbmdsaW5nLmNvbS9zZWFyY2gvJyArIHRpdGxlICsgJz9maWx0ZXJfbW9kZT1lYm9vaycsIHNlbGVjdG9yOiAnZGl2LnNlYXJjaC1saXN0IGRpdi5uYW1lJyB9LAogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAi5pyJ5aOw5Zyo57q/6K+V5ZCsIiwKICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5oeS5Lq65ZCs5LmmJywgbGluazogJ2h0dHA6Ly93d3cubHJ0cy5tZS9zZWFyY2gvYm9vay8nICsgdGl0bGUsIHNlbGVjdG9yOiAndWwgbGkuYm9vay1pdGVtJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+ivhOS5puWQpycsIGxpbms6ICdodHRwOi8vd3d3LnBpbmdzaHU4LmNvbS9zZWFyY2gvMS5hc3A/a2V5d29yZD0nICsgZ3RpdGxlLCBzZWxlY3RvcjogInRhYmxlLlRhYmxlTGluZSBkaXZbYWxpZ249J2xlZnQnXSIgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflpKnmlrnlkKzkuabnvZEnLCBsaW5rOiAnaHR0cDovL3d3dy50aW5nYm9vay5jb20vQm9vay9TZWFyY2hSZXN1bHQuYXNweD9rZXl3b3JkPScgKyB0aXRsZSwgc2VsZWN0b3I6ICd1bC5zZWFyY2hfcmVzdWx0X2xpc3QgaDQuY2xlYXJmaXgnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5ZCs5Lit5Zu9JywgbGluazogJ2h0dHA6Ly93d3cudGluZ2NoaW5hLmNvbS9zZWFyY2gxLmFzcD9tYWlubGVpPTAmbGVpPTAma2V5d29yZD0nICsgZ3RpdGxlLCBzZWxlY3RvcjogJ2RsLnNpbmdlcmxpc3QxIGxpJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WWnOmprOacieWjsCcsIGxpbms6ICdodHRwczovL3d3dy54aW1hbGF5YS5jb20vc2VhcmNoLycgKyB0aXRsZSArICcvJywgc2VsZWN0b3I6IGBkaXYueG0tYWxidW0tY292ZXJfX3dyYXBwZXIgKyBhW3RpdGxlKj0nJHt0aXRsZX0nXWAgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIuWbvuS5puacieWjsOe9keermSIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FCQicsIGxpbms6ICdodHRwOi8vYXVkaW9ib29rYmF5Lm5sLz9zPScgKyB0aXRsZSwgc2VsZWN0b3I6ICcjY29udGVudCBkaXYucG9zdFRpdGxlJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+i2o+WQrOS5picsIGxpbms6ICdodHRwOi8vcXV0aW5nc2h1LmNvbS8/cz0nICsgdGl0bGUsIHNlbGVjdG9yOiAndWwuYm9va3MtbGlzdCBsaScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflsI/mtaPnhormnInlo7AnLCBsaW5rOiBgaHR0cHM6Ly93d3cueGlhb2h4Lm9yZy9zZWFyY2g/Y2F0PTUma2V5PSR7dGl0bGV9YCwgc2VsZWN0b3I6IGBkaXYucmVzdWx0X3AgYVt0aXRsZSo9JyR7dGl0bGV9J11gIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdCA9PT0gIm11c2ljLmRvdWJhbi5jb20iKSB7CiAgICAgICAgICAgIC8vIOmhtemdouWFg+e0oOWumuS9jQogICAgICAgICAgICBsZXQgYWxidW1fYW5jaG9yID0gJCgnI2luZm8gc3Bhbi5wbDpjb250YWlucygi5LiT6L6R57G75Z6LIiknKTsgIC8v5LiT6L6R57G75Z6LCiAgICAgICAgICAgIGxldCBtZWRpdW1fYW5jaG9yID0gJCgnI2luZm8gc3Bhbi5wbDpjb250YWlucygi5LuL6LSoIiknKTsgIC8v5LuL6LSoCiAgICAgICAgICAgIGxldCBhbGJ1bSA9IGFsYnVtX2FuY2hvclswXSA/IGZldGNoX2FuY2hvcihhbGJ1bV9hbmNob3IpIDogJyc7CiAgICAgICAgICAgIGxldCBpc19zaW5nbGUgPSBhbGJ1bS5tYXRjaCgv5Y2V5puyLyk7CiAgICAgICAgICAgIGxldCB0aXRsZSA9ICQoJyN3cmFwcGVyID4gaDEgPiBzcGFuJylbMF0udGV4dENvbnRlbnQuc3BsaXQoJyAnKS5zaGlmdCgpLnJlcGxhY2UoL1vvvIxdL2csICIgIikucmVwbGFjZSgv77yaLiokLywgIiIpOwogICAgICAgICAgICBsZXQgZ3RpdGxlID0gX2VuY29kZVRvR2IyMzEyKHRpdGxlLCB0cnVlKTsKICAgICAgICAgICAgbGV0IHB0aXRsZSA9IGVuY29kZVVSSSh0aXRsZSkucmVwbGFjZSgvJS9nLCAiJTI1Iik7CiAgICAgICAgICAgIGxldCBzaW5nZXIgPSAnICcgKyAkKCcjaW5mbyA+IHNwYW4gPiBzcGFuLnBsID4gYScpWzBdLnRleHRDb250ZW50OwogICAgICAgICAgICBsZXQgZ3NpbmdlciA9IF9lbmNvZGVUb0diMjMxMihzaW5nZXIsIHRydWUpOwogICAgICAgICAgICBpZiAoX3ZlcnNpb24gPT09ICLlrozmlbTniYgiKSB7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiUFTpn7PkuZDpobbphY0iLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNIREJpdHPimawiLCBsaW5rOiAnaHR0cHM6Ly9jaGRiaXRzLmNvL3RvcnJlbnRzLnBocD9jYXQ0MDY9MSZjYXQ0MDg9MSZpbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgdGl0bGUgKyBzaW5nZXIsIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNNQ1TimawiLCBsaW5rOiAiaHR0cHM6Ly9oZGNtY3Qub3JnL3RvcnJlbnRzLnBocD9jYXQ1MDg9MSZpbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0iICsgdGl0bGUgKyBzaW5nZXIsIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhEQ2hpbmHimawiLCBsaW5rOiAnaHR0cHM6Ly9oZGNoaW5hLm9yZy90b3JyZW50cy5waHA/Y2F0NDA4PTEmaW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIHRpdGxlICsgc2luZ2VyLCBzZWxlY3RvcjogInRhYmxlLnRvcnJlbnRfbGlzdDpsYXN0ID4gdGJvZHkgPiB0cjpndCgwKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSERTa3nimawiLCBsaW5rOiAnaHR0cHM6Ly9oZHNreS5tZS90b3JyZW50cy5waHA/Y2F0NDA4PTEmaW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIHRpdGxlICsgc2luZ2VyLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJNVGVhbeKZrCIsIGxpbms6ICdodHRwczovL3B0Lm0tdGVhbS5jYy90b3JyZW50cy5waHA/Y2F0NDA4PTEmY2F0NDM0PTEmaW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIHRpdGxlICsgc2luZ2VyLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJPcGVuQ0TimawiLCBsaW5rOiAnaHR0cHM6Ly9vcGVuLmNkL3RvcnJlbnRzLnBocD9pbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTAmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgdGl0bGUgKyBzaW5nZXIsIHNlbGVjdG9yOiAidGFibGUudG9ycmVudHM6bGFzdCA+IHRib2R5ID4gdHI6Z3QoMCkiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk91ckJpdHPimawiLCBsaW5rOiAnaHR0cHM6Ly9vdXJiaXRzLmNsdWIvdG9ycmVudHMucGhwP2NhdD00MTYmaW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIHRpdGxlICsgc2luZ2VyLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJUVEfimawiLCBsaW5rOiAnaHR0cHM6Ly90b3RoZWdsb3J5LmltL2Jyb3dzZS5waHA/Yz1NJm5vdG5ld3dvcmQ9MSZzZWFyY2hfZmllbGQ95YiG57G7JTNBJTYw5peg5o2f6Z+z5LmQRkxBQyUyNkFQRSU2MCvliIbnsbslM0ElNjAlMjjnlLXlvbHljp/lo7AlMjZHYW1lJTI5T1NUJTYwICcgKyB0aXRsZSArIHNpbmdlciwgc2VsZWN0b3I6ICJ0YWJsZSN0b3JyZW50X3RhYmxlOmxhc3QgPiB0Ym9keSA+IHRyOmd0KDApIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJVMuKZrCIsIGxpbms6ICdodHRwczovL3UyLmRtaHkub3JnL3RvcnJlbnRzLnBocD9jYXQzMD0xJmluY2xkZWFkPTEmc2VhcmNoX2FyZWE9MCZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyB0aXRsZS5zcGxpdCgnICcpWzBdLCB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIlBU6Z+z5LmQ5qCH6YWNIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIRENpdHnimawiLCBsaW5rOiAnaHR0cHM6Ly9oZGNpdHkuY2l0eS9wdD9jYXQ0MDg9MSZpbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJml3YW5uYXNlZXRoaXM9JyArIHRpdGxlICsgc2luZ2VyLCBzZWxlY3RvcjogImNlbnRlciA+IGRpdiA+IGRpdiA+IGRpdi50ZXh0IiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIREhvbWXimawiLCBsaW5rOiAnaHR0cHM6Ly9oZGhvbWUub3JnL3RvcnJlbnRzLnBocD9jYXQ0Mzk9MSZjYXQ0NDA9MSZpbmNsZGVhZD0xJnNlYXJjaF9hcmVhPTEmbm90bmV3d29yZD0xJnNlYXJjaD0nICsgdGl0bGUgKyBzaW5nZXIsIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhEVGltZeKZrCIsIGxpbms6ICdodHRwczovL2hkdGltZS5vcmcvdG9ycmVudHMucGhwP2NhdD00MDgmaW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIHRpdGxlICsgc2luZ2VyLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJKb3lIROKZrCIsIGxpbms6ICdodHRwczovL3d3dy5qb3loZC5uZXQvdG9ycmVudHMucGhwP2NhdD00MTQmaW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIHRpdGxlICsgc2luZ2VyLCB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIlBU6Z+z5LmQ5pWZ6IKyIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJOWVBU4pmsIiwgbGluazogJ2h0dHBzOi8vbmFueWFuZ3B0LmNvbS90b3JyZW50cy5waHA/Y2F0NDA3PTEmaW5jbGRlYWQ9MSZzZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIHRpdGxlICsgc2luZ2VyLCBzZWxlY3RvcjogInRhYmxlLnRvcnJlbnRzOmxhc3QgPiB0Ym9keSA+IHRyIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTSlRV4pmsIiwgbGluazogJ2h0dHBzOi8vcHQuc2p0dS5lZHUuY24vdG9ycmVudHMucGhwP2NhdDQyMD0xJmNhdDQyMT0xJmNhdDQyMj0xJmNhdDQyMz0xJmNhdDQyNT0xJmNhdDQyNj0xJmluY2xkZWFkPTEmc2VhcmNoX2FyZWE9MSZub3RuZXd3b3JkPTEmc2VhcmNoPScgKyB0aXRsZSArIHNpbmdlciwgc2VsZWN0b3I6ICJ0YWJsZS50b3JyZW50czpsYXN0ID4gdGJvZHkgPiB0ciIgfSwKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJQVOmfs+S5kOWkluermSIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSlBPUOKZrCIsIGxpbms6ICdodHRwczovL2pwb3BzdWtpLmV1L3RvcnJlbnRzLnBocD9zZWFyY2hzdHI9JyArIHRpdGxlICsgc2luZ2VyLCBzZWxlY3RvcjogIiN0b3JyZW50X3RhYmxlID4gdGJvZHkgPiB0cjpndCgwKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiT3JwaGV1c+KZrCIsIGxpbms6ICdodHRwczovL29ycGhldXMubmV0d29yay90b3JyZW50cy5waHA/c2VhcmNoc3RyPScgKyB0aXRsZSArIHNpbmdlciwgc2VsZWN0b3I6ICIjdG9ycmVudF90YWJsZTpsYXN0ID4gdGJvZHkgPiB0ci5ncm91cF90b3JyZW50Omd0KDApIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJSZWTimawiLCBsaW5rOiAnaHR0cHM6Ly9yZWRhY3RlZC5jaC90b3JyZW50cy5waHA/c2VhcmNoc3RyPScgKyB0aXRsZSArIHNpbmdlciwgc2VsZWN0b3I6ICIjdG9ycmVudF90YWJsZSA+IHRib2R5ID4gdHIuZ3JvdXBfdG9ycmVudDpndCgwKSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiV2FmZmxlc+KZrCIsIGxpbms6ICdodHRwczovL3dhZmZsZXMuY2gvYnJvd3NlLnBocD9xPScgKyB0aXRsZSArIHNpbmdlciwgc2VsZWN0b3I6ICIjYnJvd3NldGFibGU6bGFzdCA+IHRib2R5ID4gdHI6Z3QoMCkiIH0sCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi6Z+z5LmQ6K665Z2b6LWE5rqQIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJBSVBU4pmsIiwgbGluazogJ2h0dHA6Ly9wdC5haXB0MTIzLm9yZy90YWJsZV9saXN0LnBocD9zZWFyY2hfYXJlYT0xJm5vdG5ld3dvcmQ9MSZzZWFyY2g9JyArIHRpdGxlICsgc2luZ2VyLCB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICLno6jlnYoiLCBtZXRob2Q6ICJwb3N0IiwgbGluazogImh0dHA6Ly93d3cubW9vZmVlbC5jb20vc2VhcmNoLnBocD9tb2Q9Zm9ydW0iLCBkYXRhOiBgc3JjaHR4dD0ke2d0aXRsZX0ke2dzaW5nZXJ9JnNlYXJjaHN1Ym1pdD15ZXNgLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAiZGl2LnRsIGxpLnBidyIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAi5peg5o2f6Z+z5LmQ572RIiwgbGluazogJ2h0dHBzOi8vd3d3LnNvLmNvbS9zP3E9c2l0ZSUzQXd1c3VueWlueXVlLmNuK2ludGl0bGU6JyArIHRpdGxlICsgJyUyNiUyNicgKyBzaW5nZXIudHJpbSgpLCBzZWxlY3RvcjogJ3VsLnJlc3VsdCBsaS5yZXMtbGlzdCcgfSwKICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAi55uY5LmQ572R6Z+zIiwgbGluazogJ2h0dHA6Ly93d3cucGFuNi5jb20vc2VhcmNoLnBocD9tb2Q9Zm9ydW0mc2VhcmNoc3VibWl0PXllcyZzcmNodHh0PScgKyB0aXRsZSwgc2VsZWN0b3I6ICJkaXYudGwgbGkucGJ3IiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICLngqvpn7Ppn7PkuZAiLCBsaW5rOiBgaHR0cDovL3NvLm11c2ljb29sLmNuL2NzZS9zZWFyY2g/cz0xMDUyMzE1ODc1MDIxMzgyNjkyNSZxPSR7dGl0bGV9JHtzaW5nZXJ9YCwgc2VsZWN0b3I6ICIjcmVzdWx0cyBoMy5jLXRpdGxlIiB9LAogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIuWcqOe6v+mfs+S5kOaSreaUviIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1FR6Z+z5LmQJywgbGluazogJ2h0dHBzOi8veS5xcS5jb20vcG9ydGFsL3NlYXJjaC5odG1sI3BhZ2U9MSZzZWFyY2hpZD0xJnJlbW90ZXBsYWNlPXR4dC55cXEudG9wJnQ9YWxidW0mdz0nICsgdGl0bGUgKyBzaW5nZXIsIGFqYXg6ICJodHRwczovL2MueS5xcS5jb20vc29zby9mY2dpLWJpbi9jbGllbnRfc2VhcmNoX2NwP3Q9OCZmb3JtYXQ9anNvbiZ3PSIgKyB0aXRsZSArIHNpbmdlciwgdHlwZTogImpzb24iLCBzZWxlY3RvcjogJ2RhdGEuYWxidW0udG90YWxudW0gPiAwJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+eZvuW6pumfs+S5kCcsIGxpbms6ICdodHRwOi8vbXVzaWMuYmFpZHUuY29tL3NlYXJjaC9hbGJ1bT9rZXk9JyArIHRpdGxlICsgc2luZ2VyLCBzZWxlY3RvcjogJyNhbGJ1bV9saXN0IGRpdi5hbGJ1bS1pbmZvJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+mFt+aIkemfs+S5kCcsIGxpbms6ICdodHRwOi8vc291Lmt1d28uY24vd3MvTlNlYXJjaD90eXBlPWFsYnVtJmtleT0nICsgdGl0bGUgKyBzaW5nZXIsIHNlbGVjdG9yOiAnZGl2LmFsYnVtIHAubXVzaWNOYW1lJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+WSquWSlemfs+S5kCcsIGxpbms6IGBodHRwOi8vbXVzaWMubWlndS5jbi92Mi9zZWFyY2g/dHlwZT1hbGJ1bSZrZXl3b3JkPSR7dGl0bGV9JHtzaW5nZXJ9YCwgc2VsZWN0b3I6IGBkaXYuYWxidW0tbmFtZSBmb250OmNvbnRhaW5zKCR7dGl0bGV9KWAgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfomb7nsbPpn7PkuZAnLCBsaW5rOiBgaHR0cHM6Ly93d3cueGlhbWkuY29tL3NlYXJjaC9hbGJ1bS8/a2V5PSR7dGl0bGV9JHtzaW5nZXJ9YCwgc2VsZWN0b3I6IGBwLm5hbWUgPiBhW3RpdGxlPScke3RpdGxlfSddICsgYVt0aXRsZT0nJHtzaW5nZXIudHJpbSgpfSddYCB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+e9keaYk+S6kemfs+S5kCcsIGxpbms6ICdodHRwczovL211c2ljLjE2My5jb20vIy9zZWFyY2gvbS8/dHlwZT0xMCZzPScgKyB0aXRsZSArIHNpbmdlciwgYWpheDogImh0dHBzOi8vYXBpLmltamFkLmNuL2Nsb3VkbXVzaWMvP3R5cGU9c2VhcmNoJnM9IiArIHRpdGxlICsgc2luZ2VyLCB0eXBlOiAianNvbiIsIHNlbGVjdG9yOiAncmVzdWx0LnNvbmdDb3VudCA+IDAnIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoaXNfc2luZ2xlKSB7CiAgICAgICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAi5Y2V5puy5peg5o2f572R56uZIiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICc1MUFwZScsIGxpbms6ICdodHRwczovL3d3dy5iaW5nLmNvbS9zZWFyY2g/cT1zaXRlJTNBd3d3LjUxYXBlLmNvbStpbnRpdGxlJTNBJyArIHRpdGxlICsgJytpbnRpdGxlJTNBJyArIHNpbmdlciwgc2VsZWN0b3I6ICcjYl9jb250ZW50IGRpdi5iX2NhcHRpb24nIH0sCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2l0ZV9tYXAucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAi6Z+z5LmQ5YWN6LS5572R56uZIiwKICAgICAgICAgICAgICAgIGxhYmVsOiBbCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnRFRTaG90JywgbGluazogJ2h0dHA6Ly93d3cuZHRzaG90LmNvbS9zZWFyY2gvJyArIHRpdGxlICsgc2luZ2VyICsgJy8nLCBzZWxlY3RvcjogYGRpdi5jYXNlX2luZm8gZGl2Lm1ldGEtdGl0bGU6Y29udGFpbnMoJHt0aXRsZX0pYCB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ1haUEPpn7PkuZAnLCBtZXRob2Q6ICJwb3N0IiwgbGluazogJ2h0dHA6Ly93d3cueHpwYzYuY29tLyNzZWFyY2hfJyArIHRpdGxlLCBhamF4OiAnaHR0cDovL3d3dy54enBjNi5jb20vc291LnBocCcsIGRhdGE6IGBrZXk9JHt0aXRsZX1gLCBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LCBzZWxlY3RvcjogJ3AgYScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICfniLHml6DmjZ8nLCBsaW5rOiAnaHR0cDovL3d3dy5sb3Zld3VzdW4uY29tLz9zPScgKyB0aXRsZSArIHNpbmdlciwgc2VsZWN0b3I6ICcjbWFpbiBoMi5lbnRyeS10aXRsZScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflsI/mtaPnhorpn7PkuZAnLCBsaW5rOiBgaHR0cHM6Ly93d3cueGlhb2h4Lm9yZy9zZWFyY2g/Y2F0PTUma2V5PSR7dGl0bGV9JHtzaW5nZXJ9YCwgc2VsZWN0b3I6IGBkaXYucmVzdWx0X3AgYVt0aXRsZSo9JyR7dGl0bGV9J11gIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzaXRlX21hcC5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICLpn7PkuZDlm73lhoXnvZHnm5giLAogICAgICAgICAgICAgICAgbGFiZWw6IFsKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICc1Nue9keebmOmfsycsIGxpbms6ICdodHRwOi8vd3d3LjU2d2FuZ3Bhbi5jb20vc2VhcmNoL28ya3cnICsgdGl0bGUgKyBzaW5nZXIsIHNlbGVjdG9yOiBgZGl2LnRpdGxlID4gYVt0aXRsZSo9JyR7dGl0bGV9J11gIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAn5YeM6aOO5LqR5pCc6Z+zJywgbGluazogJ2h0dHBzOi8vd3d3LmxpbmdmZW5neXVuLmNvbS9zZWFyY2g/d2Q9JyArIHRpdGxlICsgc2luZ2VyICsgJyZzb19maWxlPTEmc29fc291cmNlPTEmc29fZXh0PSZzb19hcnJheT1maWxlX2Rlc2Mmc29fYWNjdXI9MTAwJywgY3NyZjoge25hbWU6ICJzb190b2tlbiIsIHVwZGF0ZToibGluayJ9LCByZXdyaXRlX2hyZWY6IHRydWUsIHNlbGVjdG9yOiAnLnNlYXJjaF9kYXRhX2xpc3QgZGl2LnRhYicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICflpoLpo47mkJzpn7PkuZAnLCBsaW5rOiAnaHR0cDovL3d3dy5ydWZlbmdzby5uZXQvcy9jb21iL24tJyArIHRpdGxlICsgc2luZ2VyICsgJyZmLWYxMycsIHNlbGVjdG9yOiBgaDMgPiBhW3RpdGxlKj0nJHtzaW5nZXIudHJpbSgpfSddYCB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+Wwj+eZveebmOmfs+S5kCcsIGxpbms6ICdodHRwOi8vd3d3LnhpYW9iYWlwYW4uY29tL2xpc3QtJyArIHRpdGxlICsgJy5odG1sP29yZGVyPXNpemUnLCBzZWxlY3RvcjogJ2g0LmpvYi10aXRsZSBhJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ+S6keebmOeyvueBtemfsycsIGxpbms6ICdodHRwczovL3d3dy55dW5wYW5qaW5nbGluZy5jb20vc2VhcmNoLycgKyB0aXRsZSArIHNpbmdlciArICc/c29ydD1zaXplLmRlc2MnLCBzZWxlY3RvcjogJ2Rpdi5zZWFyY2gtbGlzdCBkaXYubmFtZScgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNpdGVfbWFwLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogIumfs+S5kOWbveWklue9keebmCIsCiAgICAgICAgICAgICAgICBsYWJlbDogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ0F2YXhIb21l4pmsJywgbGluazogJ2h0dHBzOi8vdGF2YXoueHl6L3NlYXJjaC8/Y2F0ZWdvcnlfc2x1Zz1tdXNpYyZxdWVyeT0nICsgdGl0bGUgKyBzaW5nZXIsIHNlbGVjdG9yOiAnZGl2LmNvbC14cy0xMi5jb2wtc20tOC5jb2wtbWQtOC5jb2wtbGctOCBkaXYucGFuZWwtaGVhZGluZycgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdSdXRyYWNr4pmsJywgbGluazogJ2h0dHA6Ly9ydXRyYWNrZXIub3JnL2ZvcnVtL3NlYXJjaF9jc2UucGhwP3E9JyArIHRpdGxlLCBhamF4OiBgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT1hbGxpbnRpdGxlOiske3RpdGxlfStzaXRlOnJ1dHJhY2tlci5vcmdgLHNlbGVjdG9yOiAnZGl2LnIgaDMnIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8g5qOA5p+l56uZ54K55piv5ZCm6ZyA6KaB55m76ZmG55qE5pa55rOVIHJlcyDlupTor6XmmK9HTV94bWxodHRwUmVxdWVzdHPov5Tlm57lr7nosaEg77yM6L+U5ZueYm9vbOWAvO+8jHRydWXml7bkuLrpnIDopoHnmbvpmYYKICAgICAgICBmdW5jdGlvbiBsb2dpbl9jaGVjayhyZXMpIHsKICAgICAgICAgICAgbGV0IG5lZWRfbG9naW4gPSBmYWxzZTsKICAgICAgICAgICAgaWYgKC9sb2dpbnx2ZXJpZnl8Y2hlY2twb2ludHxyZXR1cm50by9pZy50ZXN0KHJlcy5maW5hbFVybCkpIHsKICAgICAgICAgICAgICAgIG5lZWRfbG9naW4gPSB0cnVlOyAgLy8g5qOA5p+l5pyA57uI55qEVVJM55yL5piv5LiN5piv6ZyA6KaB55m76ZmGCiAgICAgICAgICAgIH0gZWxzZSBpZiAoL3JlZnJlc2g6IFxkKzsgdXJsPS4rbG9naW4uKy9pZy50ZXN0KHJlcy5yZXNwb25zZUhlYWRlcnMpKSB7CiAgICAgICAgICAgICAgICBuZWVkX2xvZ2luID0gdHJ1ZTsgIC8vIOajgOafpXJlc3BvbnNlSGVhZGVy5pyJ5rKh5pyJ6YeN5a6a5ZCRCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VUZXh0ID0gcmVzLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2VUZXh0ID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIG5lZWRfbG9naW4gPSB0cnVlOyAgLy8g5qOA5p+l5pyA57uI55qEVGV4dO+8jOWmguaenOS7gOS5iOmDveayoeacieS5n+WPr+iDveivtOaYjumcgOimgeeZu+mZhgogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZVRleHQubGVuZ3RoIDwgODAwICYmIC9sb2dpbnxub3QgYXV0aG9yaXplZC8udGVzdChyZXNwb25zZVRleHQpKSB7CiAgICAgICAgICAgICAgICAgICAgbmVlZF9sb2dpbiA9IHRydWU7ICAvLyDlr7lUZXh06L+b6KGM5qOA5p+l77yM5pat6KiA4oCc6L+H55+t77yM5LiU5Lit6Ze05Ye6546wbG9naW7lrZfmrrXigJ3ljbPor7TmmI7lj6/og73pnIDopoHnmbvpmYYKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbmVlZF9sb2dpbjsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIEV4aXN0X2NoZWNrKGxhYmVsKSB7CiAgICAgICAgICAgIGxldCBzaXRlID0gbGFiZWwubmFtZTsKICAgICAgICAgICAgbGV0IHBzaXRlID0gJChgYVtkYXRhLW5hbWU9IiR7c2l0ZX0iXWApOwoKICAgICAgICAgICAgZnVuY3Rpb24gSGlkZVRhZygpIHsKICAgICAgICAgICAgICAgIGlmIChHTV9nZXRWYWx1ZSgnZW5hYmxlX2Fkdl9hdXRvX2hpZGUnLGZhbHNlKSkgewogICAgICAgICAgICAgICAgICAgICQocHNpdGUpLmhpZGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gVGFnRXhpc3QobGluaykgewogICAgICAgICAgICAgICAgJChwc2l0ZSkuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwgR01fZ2V0VmFsdWUoInRhZ19iY29sb3JfZXhpc3QiLCAiI2UzZjFlZCIpKTsKICAgICAgICAgICAgICAgICQocHNpdGUpLmNzcygiY29sb3IiLCBHTV9nZXRWYWx1ZSgidGFnX2Zjb2xvcl9leGlzdCIsICIjMzM3N2FhIikpOwogICAgICAgICAgICAgICAgJChwc2l0ZSkuYXR0cigidGl0bGUiLCAi6LWE5rqQ5a2Y5ZyoIik7CiAgICAgICAgICAgICAgICBsZXQgc3RvcmFnZV9kYXRhID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGlmIChsYWJlbC5yZXdyaXRlX2hyZWYgJiYgbGFiZWwucmV3cml0ZV9ocmVmID09PSB0cnVlKSB7ICAgLy8g6YeN5YaZ6ZO+5o6lCiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZV9kYXRhID0gY2FjaGUuZ2V0KHNpdGUsIGxpbmsgfHwgJChwc2l0ZSkuYXR0cigiaHJlZiIpKTsKICAgICAgICAgICAgICAgICAgICAkKHBzaXRlKS5hdHRyKCJocmVmIiwgc3RvcmFnZV9kYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhY2hlLmFkZChzaXRlLCBzdG9yYWdlX2RhdGEpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBUYWdOb3RFeGlzdCgpIHsKICAgICAgICAgICAgICAgICQocHNpdGUpLmNzcygiYmFja2dyb3VuZC1jb2xvciIsIEdNX2dldFZhbHVlKCJ0YWdfYmNvbG9yX25vdF9leGlzdCIsICIjZjRlYWMyIikpOwogICAgICAgICAgICAgICAgJChwc2l0ZSkuY3NzKCJjb2xvciIsIEdNX2dldFZhbHVlKCJ0YWdfZmNvbG9yX25vdF9leGlzdCIsICIjMzM3N2FhIikpOwogICAgICAgICAgICAgICAgJChwc2l0ZSkuYXR0cigidGl0bGUiLCAi6LWE5rqQ5LiN5a2Y5ZyoIik7CiAgICAgICAgICAgICAgICBIaWRlVGFnKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIFRhZ05lZWRMb2dpbigpIHsKICAgICAgICAgICAgICAgICQocHNpdGUpLmNzcygiYmFja2dyb3VuZC1jb2xvciIsIEdNX2dldFZhbHVlKCJ0YWdfYmNvbG9yX25lZWRfbG9naW4iLCAiIikpOwogICAgICAgICAgICAgICAgJChwc2l0ZSkuY3NzKCJjb2xvciIsIEdNX2dldFZhbHVlKCJ0YWdfZmNvbG9yX25lZWRfbG9naW4iLCAiIzMzNzdhYSIpKTsKICAgICAgICAgICAgICAgIG5lZWRfbG9naW5fY2FjaGUuYWRkKHNpdGUsIHRydWUpOwogICAgICAgICAgICAgICAgJChwc2l0ZSkuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG5lZWRfbG9naW5fY2FjaGUuZGVsKHNpdGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKHBzaXRlKS5hdHRyKCJ0aXRsZSIsICLnq5nngrnpnIDopoHnmbvpmYYiKTsKICAgICAgICAgICAgICAgIEhpZGVUYWcoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gVGFnRXJyb3IoZXJydHlwZSkgewogICAgICAgICAgICAgICAgJChwc2l0ZSkuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwgR01fZ2V0VmFsdWUoInRhZ19iY29sb3JfZXJyb3IiLCAiIikpOwogICAgICAgICAgICAgICAgJChwc2l0ZSkuY3NzKCJjb2xvciIsIEdNX2dldFZhbHVlKCJ0YWdfZmNvbG9yX2Vycm9yIiwgIiMzMzc3YWEiKSk7CiAgICAgICAgICAgICAgICAkKHBzaXRlKS5hdHRyKCJ0aXRsZSIsICLpgYfliLDpl67popgiICsgKGVycnR5cGUgPyAoIiAtICIgKyBlcnJ0eXBlKSA6ICIiKSk7CiAgICAgICAgICAgICAgICBIaWRlVGFnKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOi/memHjOWBh+Wumuaciei/meS4qui1hOa6kOeahOWwseS4gOebtOmDveacie+8jOebtOaOpeS9v+eUqOesrOS4gOasoeivt+axguaIkOWKn+eahOaXtuWAmee8k+WtmOS/oeaBrwogICAgICAgICAgICBpZiAoY2FjaGUuZ2V0KHNpdGUpKSB7IFRhZ0V4aXN0KCk7IHJldHVybjsgfQoKICAgICAgICAgICAgLy8g5aaC5p6c5YmN5qyh5qOA5p+l5Yiw6L+Z5Liq56uZ54K56ZyA6KaB55m76ZmGCiAgICAgICAgICAgIGlmIChuZWVkX2xvZ2luX2NhY2hlLmdldChzaXRlKSkgeyBUYWdOZWVkTG9naW4oKTsgcmV0dXJuOyB9CgogICAgICAgICAgICAvLyDkuI3nhLbvvIzliJnor7fmsYLnm7jlhbPkv6Hmga8KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIOmHjeWGmeivt+axguWPguaVsAogICAgICAgICAgICAvL2lmICh0eXBlb2YgbGFiZWwuZGF0YSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgLy8gICAgbGV0IG15RGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAvLyAgICBmb3IgKGxldCBrIGluIGxhYmVsLmRhdGEpIHsKICAgICAgICAgICAgLy8gICAgICAgIG15RGF0YS5hcHBlbmQoayxsYWJlbC5kYXRhLmspOwogICAgICAgICAgICAvLyAgICB9CiAgICAgICAgICAgIC8vICAgIGxhYmVsLmRhdGEgPSBteURhdGE7CiAgICAgICAgICAgIC8vfQoKICAgICAgICAgICAgLy8g6K+35rGC5qC45b+D5pa55rOVCiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrX2NvcmUobGFiZWwpIHsKICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGxhYmVsLm1ldGhvZCB8fCAiR0VUIiwKICAgICAgICAgICAgICAgICAgICB1cmw6IGxhYmVsLmFqYXggfHwgbGFiZWwubGluaywKICAgICAgICAgICAgICAgICAgICBkYXRhOiBsYWJlbC5kYXRhLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGxhYmVsLmhlYWRlcnMsCiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNDVlMywgICAgLy8g6buY6K6kNDVz5pyN5Yqh5Zmo5peg5ZON5bqU566X6LaF5pe2CiAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2dpbl9jaGVjayhyZXMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWdOZWVkTG9naW4oKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7Ly8g5byA5aeL6Kej5p6Q6L+U5Zue5L+h5oGvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlVGV4dCA9IHJlcy5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsLnR5cGUgJiYgWyJqc29uIiwgImpzb25wIl0uaW5jbHVkZXMobGFiZWwudHlwZSkpIHsgLy8g5aaC5p6c5YmN6Z2i5a6a5LmJ5LqG6L+U5Zue57G75Z6L5pivImpzb24n5oiW6ICFImpzb25wIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwudHlwZSA9PT0gImpzb25wIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0ID0gcmVzcG9uc2VUZXh0Lm1hdGNoKC9bXihdK1woKC4rKVwpLylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhciA9IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2YWwoInBhci4iICsgbGFiZWwuc2VsZWN0b3IpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWdFeGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFnTm90RXhpc3QoKTsgLy8g5omA5pyJ5oOF5Ya16YO95aSx6LSl5YiZ5pyq5a2Y5ZyoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgLy8g5ZCm5YiZ6buY6K6kbGFiZWwudHlwZeeahOm7mOiupOWAvOS4uiBodG1sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2MgPSBwYWdlX3BhcnNlcihyZXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJvZHkgPSBkb2MucXVlcnlTZWxlY3RvcigiYm9keSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlm6DkuLpqUXVlcnnnmoTpgInmi6nlmajkuLDlr4zvvIzmlYXov5nph4zkuI3nlKggZG9tLnF1ZXJ5U2VsZWN0b3IoKSDogIznlKggalF1ZXJ5LmZpbmQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwuc2VsZWN0b3JfbmVlZF9sb2dpbiAmJiAkKGJvZHkpLmZpbmQobGFiZWwuc2VsZWN0b3JfbmVlZF9sb2dpbikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWdOZWVkTG9naW4oKTsgLy8g5aaC5p6c5a2Y5Zyoc2VsZWN0b3JfbmVlZF9sb2dpbumAieaLqeWZqO+8jOWImeWFiOWIpOaWreaYr+WQpuWtmOWcqOS7peehruWumuaYr+WQpumcgOimgeeZu+W9lQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCQoYm9keSkuZmluZChsYWJlbC5zZWxlY3RvciB8fCAidGFibGUudG9ycmVudHM6bGFzdCA+IHRib2R5ID4gdHI6Z3QoMCkiKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhZ0V4aXN0KHJlcy5maW5hbFVybCk7ICAvLyDmnIDlkI7kvb/nlKhzZWxlY3RvcumAieaLqeWZqOWIpOaWrei1hOa6kOaYr+WQpuWtmOWcqAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFnTm90RXhpc3QoKTsgLy8g5omA5pyJ5oOF5Ya16YO95aSx6LSl5YiZ5pyq5a2Y5ZyoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFnRXJyb3IoIuino+aekOmUmeivryIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAoKSB7IFRhZ0Vycm9yKCLor7fmsYLmlYXpmpwiKTsgfSwKICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6IGZ1bmN0aW9uICgpIHsgVGFnRXJyb3IoIuivt+axgui2heaXtiIpOyB9LAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOivt+axguWKqOS9nOaWueazlSAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrX2Z1bmMoKSB7CiAgICAgICAgICAgICAgICAkKHBzaXRlKS5hdHRyKCJ0aXRsZSIsICLmraPlnKjor7fmsYLkv6Hmga/kuK0iKTsKICAgICAgICAgICAgICAgIGlmIChsYWJlbC5jc3JmKSB7ICAvLyDlr7nmn5DkupvlkK/nlKjkuoZjc3Jm55qE56uZ54K577yM5YWI5L2/55So5q2j5bi45pa55byP6K+35rGC5LiA5qyh6I635Y+WY3NyZuWAvAogICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBsYWJlbC5saW5rLAogICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA0NWUzLCAgICAvLyDpu5jorqQ0NXPmnI3liqHlmajml6Dlk43lupTnrpfotoXml7YKICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvZ2luX2NoZWNrKHJlcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jID0gcGFnZV9wYXJzZXIocmVzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjc3JmXyA9ICQoYGlucHV0W25hbWU9JyR7bGFiZWwuY3NyZi5uYW1lfSdgLCBkb2MpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3NyZl9rZXkgPSBjc3JmXy5hdHRyKCJ2YWx1ZSIpOyAgLy8g6I635Y+WY3NyZuWAvAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFtsYWJlbC5jc3JmLnVwZGF0ZV0gKz0gYCYke2xhYmVsLmNzcmYubmFtZX09JHtjc3JmX2tleX1gOyAgIC8vIOabtOaWsOWvueW6lOmAiemhuQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja19jb3JlKGxhYmVsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhZ0Vycm9yKCLop6PmnpDmlYXpmpwiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uICgpIHsgVGFnRXJyb3IoIuivt+axgumUmeivryIpOyB9LAogICAgICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6IGZ1bmN0aW9uICgpIHsgVGFnRXJyb3IoIuivt+axgui2heaXtiIpOyB9LAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjaGVja19jb3JlKGxhYmVsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g5qC55o2u6K6+572u77yM5piv6Ieq5Yqo6K+35rGC6L+Y5piv6byg5qCH56e75Yqo5pe25Zyo5YGa6K+35rGCCiAgICAgICAgICAgIGlmIChHTV9nZXRWYWx1ZSgiZW5hYmxlX2Fkdl9hdXRvX3NlYXJjaCIsIHRydWUpKSB7CiAgICAgICAgICAgICAgICBjaGVja19mdW5jKCk7ICAgICAKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQocHNpdGUpLm1vdXNlZW50ZXIoZnVuY3Rpb24oZSl7ICAvLyDpvKDmoIfov5vlhaXml7bmiY3oh6rliqjmkJzntKLlubblj43ppogKICAgICAgICAgICAgICAgICAgICBpZiAoJChwc2l0ZSkuYXR0cigndGl0bGUnKSA9PSAnZW1wdHknKSB7ICAvLyDpmLLmraLph43lpI3or7fmsYIKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tfZnVuYygpOwogICAgICAgICAgICAgICAgICAgICAgICAkKHBzaXRlKS51bmJpbmQoJ21vdXNlZW50ZXInKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2l0ZV9leGlzdF9zdGF0dXMoKSB7CiAgICAgICAgICAgICQoIiNkcmRtX3JlcV9zdGF0dXMiKS5zaG93KCk7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l0ZV9tYXAubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGxldCBtYXBfZGljID0gc2l0ZV9tYXBbaV07CiAgICAgICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoZGVsZXRlX3NpdGVfcHJlZml4ICsgbWFwX2RpYy5uYW1lLCBmYWxzZSkpIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICQoJyNhZHYtc2l0ZXMnKS5hcHBlbmQoYDxkaXYgY2xhc3M9ImMtYXNpZGUgbmFtZS1vZmZsaW5lIiBkYXRhLWlkPSIke2l9Ij48aDI+PGk+JHttYXBfZGljLm5hbWV9PC9pPsK3IMK3IMK3IMK3IMK3IMK3PC9oMj48ZGl2IGNsYXNzPWMtYXNpZGUtYm9keSBzdHlsZT0icGFkZGluZzogMCAxMnB4OyI+IDx1bCBjbGFzcz1icyA+IDwvdWw+IDwvZGl2PiA8L2Rpdj5gKTsKCiAgICAgICAgICAgICAgICBsZXQgaW5fc2l0ZV9odG1sID0gJChgZGl2W2RhdGEtaWQ9JyR7aX0nXSB1bC5ic2ApOwogICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXBfZGljLmxhYmVsLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gbWFwX2RpYy5sYWJlbFtqXTsKICAgICAgICAgICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoZGVsZXRlX3NpdGVfcHJlZml4ICsgbGFiZWwubmFtZSwgZmFsc2UpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpbl9zaXRlX2h0bWwuYXBwZW5kKGA8YSBocmVmPSIke2xhYmVsLmxpbmt9IiBkYXRhLW5hbWU9IiR7bGFiZWwubmFtZX0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vZm9sbG93IiBjbGFzcz0ibmFtZS1vZmZsaW5lIiB0aXRsZT0iZW1wdHkiPiR7bGFiZWwubmFtZX08L2E+YCk7CiAgICAgICAgICAgICAgICAgICAgRXhpc3RfY2hlY2sobGFiZWwpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICB1cGRhdGVfc3RhdHVzX2ludGVydmFsID0gd2luZG93LnNldEludGVydmFsKHVwZGF0ZV9yZXFfc3RhdHVzLCAxZTMpOwoKICAgICAgICAgICAgaWYgKCFHTV9nZXRWYWx1ZSgiZW5hYmxlX2Fkdl9hdXRvX3NlYXJjaCIsIHRydWUpKSB7CiAgICAgICAgICAgICAgICAkKCIjZHJkbV9yZXFfc3RhdHVzX2hpZGUiKS5jbGljaygpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHNpdGVfZXhpc3Rfc3RhdHVzKCk7CiAgICB9CgogICAgLy8g6ISa5pys6aG16Z2i5YiH5o2i5pa55rOVCiAgICBmdW5jdGlvbiB3cmFwcGVyX2NoYW5nZShpZCwgaHRtbCwgY2FsbGJhY2spIHsKICAgICAgICBpZiAoJChgZGl2I3dyYXBwZXIgPiBkaXYjJHtpZH1gKS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgJCgnZGl2I3dyYXBwZXInKS5hcHBlbmQoaHRtbCk7CiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbGV0IGVsZV9pbnN0ID0gJChgZGl2I3dyYXBwZXIgPiBkaXYjJHtpZH1gKTsKICAgICAgICBlbGVfaW5zdC5zaWJsaW5ncygiZGl2IikuaGlkZSgpOwogICAgICAgIGVsZV9pbnN0LnNob3coKTsKICAgIH0KCiAgICAvLyDliqDovb3osYbliJfmkJzntKIKICAgIGlmIChHTV9nZXRWYWx1ZSgiZW5hYmxlX2RvdWxpc3Rfc2VhcmNoIiwgdHJ1ZSkpIHsKICAgICAgICAkKCdkaXYubmF2LWl0ZW1zIHVsJykuYXBwZW5kKCc8bGk+PGEgaWQ9InNlYXJjaF9kbGlzdCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6LGG5YiX5pCc57SiPC9hPjwvbGk+Jyk7CiAgICAgICAgJCgiI3NlYXJjaF9kbGlzdCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbGV0IGludF9odG1sID0gYDxkaXYgaWQ9J2RyZG1fZG91bGlzdCc+PGgxPuixhuWIl+aQnOe0ojwvaDE+PGRpdiBjbGFzcz0iZ3JpZC0xNi04IGNsZWFyZml4Ij48ZGl2IGNsYXNzPSJhcnRpY2xlIj48ZGl2IGNsYXNzPSJpbmRlbnQiPjxkaXYgY2xhc3M9Im1vdmllLWxpc3QiPjwvZGl2PjxhIGNsYXNzPSJtb3JlIiBocmVmPSJqYXZhc2NyaXB0OjsiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPuWKoOi9veabtOWkmjwvYT48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJhc2lkZSI+PGRpdj48aDI+6LGG5YiX5pCc57SiIMK3IMK3IMK3IMK3IMK3IMK3PC9oMj48ZGl2PjxzcGFuPjxwPjxkaXYgaWQ9ImZvcm0tZG91bGlzdCI+PGlucHV0IGNsYXNzPSJkb3VsaXN0IiBpZD0iaW5wdXQtZG91bGlzdCIgcGxhY2Vob2xkZXI9IkNyaXRlcmlvbiwgNDY1MzQ5MTksIC4uLiIgdmFsdWU9IiI8L2lucHV0PjxpbnB1dCB0eXBlPSJzdWJtaXQiIGlkPSJkb3VsaXN0LXN1Ym1pdCIgdmFsdWU9InNlYXJjaCIgL2lucHV0PjwvZGl2PjwvcD48L3NwYW4+PHNwYW4gc3R5bGU9IiIgY2xhc3M9InNlYXJjaF9yZXN1bHQgYy1hc2lkZS1ib2R5Ij48L3NwYW4+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iZG91bGlzdF9pbnRybyI+PGgyPuixhuWIl+aQnOe0ouivtOaYjiDCtyDCtyDCtyDCtyDCtyDCtzwvaDI+PHA+6L6T5YWl5L2g5oOz5pCc55qE5YWz6ZSu6K+N77yM54K55Ye75pCc57Si44CC5bCx6L+Z5LmI566A5Y2V44CCPC9wPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PmA7CiAgICAgICAgICAgIHdyYXBwZXJfY2hhbmdlKCJkcmRtX2RvdWxpc3QiLCBpbnRfaHRtbCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbGV0IGxvYWRfbW9yZSA9ICQoIiNkcmRtX2RvdWxpc3QgYS5tb3JlIik7CiAgICAgICAgICAgICAgICAkKCcjZG91bGlzdC1zdWJtaXQnKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGRvdWxpc3QgPSAkKCIjaW5wdXQtZG91bGlzdCIpLnZhbCgpOwogICAgICAgICAgICAgICAgICAgICQoJ2Rpdi5tb3ZpZS1saXN0JykuaHRtbCgiIik7CiAgICAgICAgICAgICAgICAgICAgbGV0IGdldF9kb3VsaXN0ID0gZnVuY3Rpb24gKGRvdWxpc3QsIHBhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZF9tb3JlLnRleHQoIuWKoOi9veS4rS4uLi4uLiIpLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0RG9jKCdodHRwczovL2NuLmJpbmcuY29tL3NlYXJjaD9xPXNpdGUlM2F3d3cuZG91YmFuLmNvbSUyZmRvdWxpc3QrJyArIGRvdWxpc3QgKyAnJmZpcnN0PScgKyBwYWdlLCBudWxsLCBmdW5jdGlvbiAoZG9jLCByZXMsIG1ldGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSAkKCdvbCNiX3Jlc3VsdHMgLmJfYWxnbycsIGRvYyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgiYVtocmVmXj0naHR0cHM6Ly93d3cuZG91YmFuLmNvbS9kb3VsaXN0LyddIiwgdGhpcykubGVuZ3RoID4gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkX21vcmUudGV4dCgn5rKh5pyJ5om+5Yiw55u45YWz6LGG5YiXJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9ICQodGhpcykuZmluZCgiYVtocmVmXj0naHR0cHM6Ly93d3cuZG91YmFuLmNvbS9kb3VsaXN0LyddIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXB0aW9uID0gJCh0aGlzKS5maW5kKCJkaXYuYl9jYXB0aW9uIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSB0aXRsZS5hdHRyKCJocmVmIikubWF0Y2goL2RvdWxpc3RcLyhcZCspLylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZV9jbGVhbiA9IHRpdGxlLnRleHQoKS5yZXBsYWNlKC8oXCjosYbnk6NcKXxccy1cc+ixhueTo+eUteW9sXxccy1cc+ixhueToykvLCAnJykucmVwbGFjZSgvIC0gZG91YmFuLmNvbS8sICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGlvbi5maW5kKCJkaXYuYl9hdHRyaWJ1dGlvbiIpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGV0YWlsID0gY2FwdGlvbi5odG1sKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChgZGl2Lm1vdmllLWxpc3QgPiBkaXZbZGF0YS1kbGlzdD0ke2lkfV1gKS5sZW5ndGggPT09IDApIHsgIC8vIOmHjeWkjeeahOS4jeWGjeaPkuWFpQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnZGl2Lm1vdmllLWxpc3QnKS5hcHBlbmQoYDxkaXYgZGF0YS1kbGlzdD0iJHtpZH0iPjxkaXY+PGgyIHN0eWxlPSJmb250LXNpemU6MTNweDsiPjxhIGhyZWY9Imh0dHBzOi8vd3d3LmRvdWJhbi5jb20vZG91bGlzdC8ke2lkfSIgdGFyZ2V0PSJfYmxhbmsiPiR7dGl0bGVfY2xlYW59PC9hPjwvaDI+PGRpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJ0YWdzIj4ke2RldGFpbH08cCBjbGFzcz0idWwiPjwvcD48L2Rpdj48L2Rpdj5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmm7TmlrDliqDovb3kv6Hmga8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9hZF9pZCA9IHBhZ2UgKyAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkX21vcmUudGV4dCgn5Yqg6L295pu05aSaJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZF9tb3JlLm9uZSgiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldF9kb3VsaXN0KGRvdWxpc3QsIGxvYWRfaWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZ2V0X2RvdWxpc3QoZG91bGlzdCwgMSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9CgoKICAgIC8vIOiEmuacrOiuvue9rgogICAgJCgiI2RiLWdsb2JhbC1uYXYgPiBkaXYgPiBkaXYudG9wLW5hdi1pbmZvIikuYXBwZW5kKGA8YSBocmVmPSJqYXZhc2NyaXB0OjsiIGlkPSJkcmRtX3NldHRpbmdfYnRuIj7ohJrmnKzorr7nva48L2E+YCk7CiAgICAkKCIjZHJkbV9zZXR0aW5nX2J0biIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgaW50X2h0bWwgPSBgPGRpdiBpZD0nZHJkbV9zZXR0aW5nJz48aDI+6ISa5pys6K6+572u55WM6Z2i5q2j5Zyo5byA5Y+R5Lit77yM6K+3562J5b6F5a6M5ZaELi4uLi4uPC9oMj48L2Rpdj5gOwogICAgICAgIHdyYXBwZXJfY2hhbmdlKCJkcmRtX3NldHRpbmciLCBpbnRfaHRtbCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBUT0RPIOivhOWIhuS/oeaBr++8jOixhuWIl+aQnOe0ouetieadgumhueWKn+iDveWQr+eUqOaDheWGtQogICAgICAgICAgICBsZXQgY29uZmlnX3NldHRpbmcgPSAiPGgxPuiEmuacrOWfuuacrOWKn+iDveWQr+eUqOeKtuWGtTwvaDE+PGRsIGNsYXNzPSdkcmRtLWRsLWhvcml6b250YWwnPiI7CgogICAgICAgICAgICBmdW5jdGlvbiBjb25maWdfc2V0dGluZ19nZW4obmFtZSwga2V5LCBub3RlLCBkZWYgPSB0cnVlKSB7CiAgICAgICAgICAgICAgICBjb25maWdfc2V0dGluZyArPSBgPGR0PiR7bmFtZX08L2R0PjxkZD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJkcmRtX2NvbmZpZ18ke2tleX0iICR7R01fZ2V0VmFsdWUoa2V5LCBkZWYpID8gJ2NoZWNrZWQnIDogJyd9IGRhdGEtY29uZmlnPSIke2tleX0iPjxsYWJlbCBmb3I9ImRyZG1fY29uZmlnXyR7a2V5fSI+PC9sYWJlbD4gJHtub3RlfSA8L2RkPmA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnX3NldHRpbmdfZ2VuKCLosYbliJfmkJzntKIiLCAiZW5hYmxlX2RvdWxpc3Rfc2VhcmNoIiwgIuWvueixhuWIl+i/m+ihjOaQnOe0ou+8iOmAmui/h1xgY24uYmluZy5jb21cYOaQnOe0ou+8iSIpOwogICAgICAgICAgICBjb25maWdfc2V0dGluZ19nZW4oIueUteW9seeugOS7i+eUn+aIkCIsICJlbmFibGVfbWVkaWFpbmZvX2dlbiIsICLnlJ/miJDnrKblkIhQVOermeeCueeUteW9seeugOS7i+S/oeaBr++8iE1lZGlhaW5mb2dlbuagvOW8j++8iSIsIGZhbHNlKTsKICAgICAgICAgICAgY29uZmlnX3NldHRpbmdfZ2VuKCLlkITnsbvmjpLooYzmppwiLCAiZW5hYmxlX3RvcF9yYW5nX3RhZyIsIGDmmL7npLrmnaXoh6ogPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL2JpbXpjeS9yYW5rNGRvdWJhbiI+YmltemN5L3Jhbms0ZG91YmFuPC9hPiDnmoTlkITnp43mjpLooYzmppxgKTsKICAgICAgICAgICAgY29uZmlnX3NldHRpbmdfZ2VuKCLlkK/nlKjlhajnq5noh6rliqjmkJzntKIiLCAiZW5hYmxlX2Fkdl9hdXRvX3NlYXJjaCIsICLlkK/nlKjlj6/orqnohJrmnKzoh6rliqjmkJzntKLlhajpg6jnq5nngrnvvIjkvJrmtojogJdDUFXlj4rnvZHnu5zotYTmupDvvInvvIzkuI3lkK/nlKjliJnku4XlvZPpvKDmoIfnp7voh7Plr7nlupTnq5nngrnml7bmkJzntKIiKTsKICAgICAgICAgICAgY29uZmlnX3NldHRpbmdfZ2VuKCLoh6rliqjpmpDol4/mkJzntKLlpLHotKXnq5nngrkiLCJlbmFibGVfYWR2X2F1dG9faGlkZSIsIuaQnOe0ouaXtuiHquWKqOmakOiXj+aQnOe0ouWksei0pe+8iOi1hOa6kOS4jeWtmOWcqCzpnIDopoHnmbvpmYYs6YGH5Yiw6Zeu6aKY77yJ56uZ54K577yM6buY6K6k5YWz6ZetIiwgZmFsc2UpOwogICAgICAgICAgICBjb25maWdfc2V0dGluZ19nZW4oIuaQnOe0ouWujOaIkOWQjumakOiXj+aPkOekuuadoSIsImVuYWxiZV9hZHZfYXV0b190aXBfaGlkZSIsIuaQnOe0oue7k+adn+WQjuiHquWKqOmakOiXj+aQnOe0ouaDheWGteaPkOekuuadoe+8jOm7mOiupOWFs+mXreS4lOS4jeW7uuiuruW8gOWQryIsIGZhbHNlKTsKICAgICAgICAgICAgY29uZmlnX3NldHRpbmdfZ2VuKCLlsZXnpLpJTURC5aKe5by65L+h5oGvIiwgImVuYWJsZV9pbWRiX2V4dF9pbmZvIiwgIuWxleekuuWItueJh+aIkOacrOOAgeacrOWbvemmluWRqOelqOaIv+OAgeWMl+e+jummluWRqOelqOaIv+OAgeaAu+elqOaIv+etieadpeiHqklNRGLnmoTlvbHniYflop7lvLrkv6Hmga8iKTsKICAgICAgICAgICAgY29uZmlnX3NldHRpbmdfZ2VuKCLng4LnlarojITor4TliIYiLCAiZW5hYmxlX3RvbWF0b19yYXRlIiwgIuWxleekuueDgueVquiMhOivhOWIhuS/oeaBryIpOwogICAgICAgICAgICBjb25maWdfc2V0dGluZ19nZW4oIuWKqOa8q+ivhOWIhiIsICJlbmFibGVfYW5pbWVfcmF0ZSIsICLlsZXnpLrliqjmvKvlvbHop4bnmoRBbmlEQuOAgUJnbeOAgU1hbOetieivhOWIhiIpOwogICAgICAgICAgICBjb25maWdfc2V0dGluZ19nZW4oIuiTneWFieWPkeWUruaXpSIsICJlbmFibGVfYmx1ZV9kYXRlIiwgIuWxleekuuiTneWFieeahOWPkeWUruaXpeacnyjmnaXoh6pJTURiKSIpOwogICAgICAgICAgICBjb25maWdfc2V0dGluZ19nZW4oIuS6mumprOmAiuWbvuS5puivhOWIhiIsICJlbmFibGVfYm9va19hbWF6b24uY25fcmF0ZSIsIGDlsZXnpLrlnKg8YSBocmVmPSJodHRwczovL3d3dy5hbWF6b24uY24vIiB0YXJnZXQ9Il9ibGFuayI+5Lqa6ams6YCK5Lit5Zu9PC9hPiDkuIrmnInlr7nlupRJU0JO5L+h5oGv55qE5Zu+5Lmm6K+E5YiG5L+h5oGvYCk7CiAgICAgICAgICAgIGNvbmZpZ19zZXR0aW5nX2dlbigiR29vZFJlYWRz5Zu+5Lmm6K+E5YiGIiwiZW5hYmxlX2Jvb2tfZ29vZHJlYWRzIixg5bGV56S65ZyoIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lmdvb2RyZWFkcy5jb20iIHRhcmdldD0iX2JsYW5rIj5Hb29kUmVhZHM8L2E+IOS4iuacieWvueW6lElTQk7kv6Hmga/nmoTlm77kuabor4TliIbkv6Hmga/vvIzorr7nva7kvaDnmoRBUElLRVk6IDxpbnB1dCBpZD0nZHJkbV9zZXR0aW5nX2FwaWtleV9nb29kcmVhZHMnIHR5cGU9J3RleHQnIHZhbHVlPScke0dNX2dldFZhbHVlKCdhcGlrZXlfZ29vZHJlYWRzJywnJyl9Jz48L2lucHV0PiAoPGEgaHJlZj0nLy9ibG9nLnJoaWxpcC5pbmZvL2FyY2hpdmVzLzExMjQvJyB0YXJnZXQ9J19ibGFuayc+6K+05piOPC9hPilgLGZhbHNlKTsKCiAgICAgICAgICAgIGNvbmZpZ19zZXR0aW5nICs9IGA8L2RsPjxicj5gOwoKICAgICAgICAgICAgLy8g5p6E6YCg56uZ54K55ZCv55So5L+h5oGvCiAgICAgICAgICAgIGxldCBzZXR0aW5nX3NpdGUgPSAiPGgxPuaQnOe0ouermeeCueWQr+eUqOaDheWGtSjlnKjlvZPliY3pobXpnaLmnaHku7bkuIspPC9oMT4iOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpdGVfbWFwLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBsZXQgbWFwX2RpYyA9IHNpdGVfbWFwW2ldOwogICAgICAgICAgICAgICAgc2V0dGluZ19zaXRlICs9IGA8ZGl2PjxoMj4ke21hcF9kaWMubmFtZX0gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iJHsnZHJkbV9jb25maWdfc2l0ZV8nICsgbWFwX2RpYy5uYW1lfSIgJHtHTV9nZXRWYWx1ZShkZWxldGVfc2l0ZV9wcmVmaXggKyBtYXBfZGljLm5hbWUsIGZhbHNlKSA/ICcnIDogJ2NoZWNrZWQnfSBkYXRhLWNvbmZpZz0iJHtkZWxldGVfc2l0ZV9wcmVmaXggKyBtYXBfZGljLm5hbWV9IiBkYXRhLXBhcj0iJHttYXBfZGljLm5hbWV9IiBkYXRhLXR5cGU9Im1hcCI+PGxhYmVsIGZvcj0iJHsnZHJkbV9jb25maWdfc2l0ZV8nICsgbWFwX2RpYy5uYW1lfSI+PC9sYWJlbD48L2gyPjx0YWJsZT48dGJvZHk+PHRyPmA7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1hcF9kaWMubGFiZWwubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICBsZXQgbGFiZWwgPSBtYXBfZGljLmxhYmVsW2pdOwogICAgICAgICAgICAgICAgICAgIHNldHRpbmdfc2l0ZSArPSBgPHRkIHN0eWxlPSJ0ZXh0LWFsaWduOnJpZ2h0OyI+PHNwYW4+JHtsYWJlbC5uYW1lfTwvc3Bhbj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSIkeydkcmRtX2NvbmZpZ19zaXRlXycgKyBsYWJlbC5uYW1lfSIgJHtHTV9nZXRWYWx1ZShkZWxldGVfc2l0ZV9wcmVmaXggKyBtYXBfZGljLm5hbWUsIGZhbHNlKSB8fCBHTV9nZXRWYWx1ZShkZWxldGVfc2l0ZV9wcmVmaXggKyBsYWJlbC5uYW1lLCBmYWxzZSkgPyAnJyA6ICdjaGVja2VkJ30gJHtHTV9nZXRWYWx1ZShkZWxldGVfc2l0ZV9wcmVmaXggKyBtYXBfZGljLm5hbWUsIGZhbHNlKSA/ICdkaXNhYmxlZCcgOiAnJ30gZGF0YS1jb25maWc9IiR7ZGVsZXRlX3NpdGVfcHJlZml4ICsgbGFiZWwubmFtZX0iIGRhdGEtcGFyPSIke21hcF9kaWMubmFtZX0iIGRhdGEtdHlwZT0ic2l0ZSI+PGxhYmVsIGZvcj0iJHsnZHJkbV9jb25maWdfc2l0ZV8nICsgbGFiZWwubmFtZX0iPjwvbGFiZWw+PC90ZD5gOwogICAgICAgICAgICAgICAgICAgIGlmICgoaiArIDEpICUgNyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nX3NpdGUgKz0gJzwvdHI+PHRyPic7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2V0dGluZ19zaXRlICs9ICI8L3Rib2R5PjwvdGFibGU+PC9kaXY+PGhyPiI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJCgiI2RyZG1fc2V0dGluZyIpLmFwcGVuZChjb25maWdfc2V0dGluZyArIHNldHRpbmdfc2l0ZSk7CiAgICAgICAgICAgICQoImlucHV0W2lkXj0nZHJkbV9jb25maWdfJ10iKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBsZXQgdGhhdCA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSh0aGF0LmF0dHIoImRhdGEtY29uZmlnIiksIHRoYXQuYXR0cigiZGF0YS1jb25maWciKS5tYXRjaChkZWxldGVfc2l0ZV9wcmVmaXgpID8gIXRoYXQucHJvcCgiY2hlY2tlZCIpIDogdGhhdC5wcm9wKCJjaGVja2VkIikpOwogICAgICAgICAgICAgICAgaWYgKHRoYXQuYXR0cigiZGF0YS10eXBlIikgJiYgdGhhdC5hdHRyKCJkYXRhLXR5cGUiKSA9PT0gIm1hcCIpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcGFyID0gdGhhdC5hdHRyKCJkYXRhLXBhciIpOwogICAgICAgICAgICAgICAgICAgICQoYGlucHV0W2lkXj0nZHJkbV9jb25maWdfc2l0ZV8nXVtkYXRhLXR5cGU9J3NpdGUnXVtkYXRhLXBhcj0ke3Bhcn1dYCkucHJvcCgiZGlzYWJsZWQiLCAhdGhhdC5wcm9wKCJjaGVja2VkIikpLnByb3AoImNoZWNrZWQiLCB0aGF0LnByb3AoImNoZWNrZWQiKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8g5YW25LuW5Zue6LCDCiAgICAgICAgICAgICQoJ2lucHV0I2RyZG1fc2V0dGluZ19hcGlrZXlfZ29vZHJlYWRzJykub24oJ2lucHV0IGNoYW5nZScsZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbGV0IHRoYXQgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoJ2FwaWtleV9nb29kcmVhZHMnLCB0aGF0LnZhbCgpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9KTsKfSk7","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js","ts":1583810153330,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My4zLjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lLmRvY3VtZW50P3QoZSwhMCk6ZnVuY3Rpb24oZSl7aWYoIWUuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIHQoZSl9OnQoZSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciBuPVtdLHI9ZS5kb2N1bWVudCxpPU9iamVjdC5nZXRQcm90b3R5cGVPZixvPW4uc2xpY2UsYT1uLmNvbmNhdCxzPW4ucHVzaCx1PW4uaW5kZXhPZixsPXt9LGM9bC50b1N0cmluZyxmPWwuaGFzT3duUHJvcGVydHkscD1mLnRvU3RyaW5nLGQ9cC5jYWxsKE9iamVjdCksaD17fSxnPWZ1bmN0aW9uIGUodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQmJiJudW1iZXIiIT10eXBlb2YgdC5ub2RlVHlwZX0seT1mdW5jdGlvbiBlKHQpe3JldHVybiBudWxsIT10JiZ0PT09dC53aW5kb3d9LHY9e3R5cGU6ITAsc3JjOiEwLG5vTW9kdWxlOiEwfTtmdW5jdGlvbiBtKGUsdCxuKXt2YXIgaSxvPSh0PXR8fHIpLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2lmKG8udGV4dD1lLG4pZm9yKGkgaW4gdiluW2ldJiYob1tpXT1uW2ldKTt0LmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB4KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9sW2MuY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBiPSIzLjMuMSIsdz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgdy5mbi5pbml0KGUsdCl9LFQ9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nO3cuZm49dy5wcm90b3R5cGU9e2pxdWVyeToiMy4zLjEiLGNvbnN0cnVjdG9yOncsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBvLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9vLmNhbGwodGhpcyk6ZTwwP3RoaXNbZSt0aGlzLmxlbmd0aF06dGhpc1tlXX0scHVzaFN0YWNrOmZ1bmN0aW9uKGUpe3ZhciB0PXcubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0fSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiB3LmVhY2godGhpcyxlKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayh3Lm1hcCh0aGlzLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbCh0LG4sdCl9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG8uYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4+PTAmJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6cyxzb3J0Om4uc29ydCxzcGxpY2U6bi5zcGxpY2V9LHcuZXh0ZW5kPXcuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxnKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSluPWFbdF0sYSE9PShyPWVbdF0pJiYobCYmciYmKHcuaXNQbGFpbk9iamVjdChyKXx8KGk9QXJyYXkuaXNBcnJheShyKSkpPyhpPyhpPSExLG89biYmQXJyYXkuaXNBcnJheShuKT9uOltdKTpvPW4mJncuaXNQbGFpbk9iamVjdChuKT9uOnt9LGFbdF09dy5leHRlbmQobCxvLHIpKTp2b2lkIDAhPT1yJiYoYVt0XT1yKSk7cmV0dXJuIGF9LHcuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKygiMy4zLjEiK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGUpfSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuISghZXx8IltvYmplY3QgT2JqZWN0XSIhPT1jLmNhbGwoZSkpJiYoISh0PWkoZSkpfHwiZnVuY3Rpb24iPT10eXBlb2Yobj1mLmNhbGwodCwiY29uc3RydWN0b3IiKSYmdC5jb25zdHJ1Y3RvcikmJnAuY2FsbChuKT09PWQpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oZSl7bShlKX0sZWFjaDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MDtpZihDKGUpKXtmb3Iobj1lLmxlbmd0aDtyPG47cisrKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVha31lbHNlIGZvcihyIGluIGUpaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrO3JldHVybiBlfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFQsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKEMoT2JqZWN0KGUpKT93Lm1lcmdlKG4sInN0cmluZyI9PXR5cGVvZiBlP1tlXTplKTpzLmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6dS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO3I8bjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLGk9W10sbz0wLGE9ZS5sZW5ndGgscz0hbjtvPGE7bysrKShyPSF0KGVbb10sbykpIT09cyYmaS5wdXNoKGVbb10pO3JldHVybiBpfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0wLHM9W107aWYoQyhlKSlmb3Iocj1lLmxlbmd0aDtvPHI7bysrKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmcy5wdXNoKGkpO2Vsc2UgZm9yKG8gaW4gZSludWxsIT0oaT10KGVbb10sbyxuKSkmJnMucHVzaChpKTtyZXR1cm4gYS5hcHBseShbXSxzKX0sZ3VpZDoxLHN1cHBvcnQ6aH0pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJih3LmZuW1N5bWJvbC5pdGVyYXRvcl09bltTeW1ib2wuaXRlcmF0b3JdKSx3LmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7bFsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiBDKGUpe3ZhciB0PSEhZSYmImxlbmd0aCJpbiBlJiZlLmxlbmd0aCxuPXgoZSk7cmV0dXJuIWcoZSkmJiF5KGUpJiYoImFycmF5Ij09PW58fDA9PT10fHwibnVtYmVyIj09dHlwZW9mIHQmJnQ+MCYmdC0xIGluIGUpfXZhciBFPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8sYSxzLHUsbCxjLGYscCxkLGgsZyx5LHYsbSx4LGI9InNpenpsZSIrMSpuZXcgRGF0ZSx3PWUuZG9jdW1lbnQsVD0wLEM9MCxFPWFlKCksaz1hZSgpLFM9YWUoKSxEPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10JiYoZj0hMCksMH0sTj17fS5oYXNPd25Qcm9wZXJ0eSxBPVtdLGo9QS5wb3AscT1BLnB1c2gsTD1BLnB1c2gsSD1BLnNsaWNlLE89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LFA9ImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkIixNPSJbXFx4MjBcXHRcXHJcXG5cXGZdIixSPSIoPzpcXFxcLnxbXFx3LV18W15cMC1cXHhhMF0pKyIsST0iXFxbIitNKyIqKCIrUisiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK1IrIikpfCkiK00rIipcXF0iLFc9IjooIitSKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitJKyIpKil8LiopXFwpfCkiLCQ9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLEI9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxGPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksXz1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLHo9bmV3IFJlZ0V4cCgiPSIrTSsiKihbXlxcXSdcIl0qPykiK00rIipcXF0iLCJnIiksWD1uZXcgUmVnRXhwKFcpLFU9bmV3IFJlZ0V4cCgiXiIrUisiJCIpLFY9e0lEOm5ldyBSZWdFeHAoIl4jKCIrUisiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitSKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitSKyJ8WypdKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrSSksUFNFVURPOm5ldyBSZWdFeHAoIl4iK1cpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrTSsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTSsiKig/OihbKy1dfCkiK00rIiooXFxkKyl8KSkiK00rIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK1ArIikkIiwiaSIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCJeIitNKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK00rIiooKD86LVxcZCk/XFxkKikiK00rIipcXCl8KSg/PVteLV18JCkiLCJpIil9LEc9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxZPS9eaFxkJC9pLFE9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLEo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxLPS9bK35dLyxaPW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrTSsiP3woIitNKyIpfC4pIiwiaWciKSxlZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9IjB4Iit0LTY1NTM2O3JldHVybiByIT09cnx8bj90OnI8MD9TdHJpbmcuZnJvbUNoYXJDb2RlKHIrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUocj4+MTB8NTUyOTYsMTAyMyZyfDU2MzIwKX0sdGU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csbmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxyZT1mdW5jdGlvbigpe3AoKX0saWU9bWUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYoImZvcm0iaW4gZXx8ImxhYmVsImluIGUpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0wuYXBwbHkoQT1ILmNhbGwody5jaGlsZE5vZGVzKSx3LmNoaWxkTm9kZXMpLEFbdy5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7TD17YXBwbHk6QS5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtxLmFwcGx5KGUsSC5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gb2UoZSx0LHIsaSl7dmFyIG8scyxsLGMsZixoLHYsbT10JiZ0Lm93bmVyRG9jdW1lbnQsVD10P3Qubm9kZVR5cGU6OTtpZihyPXJ8fFtdLCJzdHJpbmciIT10eXBlb2YgZXx8IWV8fDEhPT1UJiY5IT09VCYmMTEhPT1UKXJldHVybiByO2lmKCFpJiYoKHQ/dC5vd25lckRvY3VtZW50fHx0OncpIT09ZCYmcCh0KSx0PXR8fGQsZykpe2lmKDExIT09VCYmKGY9Si5leGVjKGUpKSlpZihvPWZbMV0pe2lmKDk9PT1UKXtpZighKGw9dC5nZXRFbGVtZW50QnlJZChvKSkpcmV0dXJuIHI7aWYobC5pZD09PW8pcmV0dXJuIHIucHVzaChsKSxyfWVsc2UgaWYobSYmKGw9bS5nZXRFbGVtZW50QnlJZChvKSkmJngodCxsKSYmbC5pZD09PW8pcmV0dXJuIHIucHVzaChsKSxyfWVsc2V7aWYoZlsyXSlyZXR1cm4gTC5hcHBseShyLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLHI7aWYoKG89ZlszXSkmJm4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBMLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG8pKSxyfWlmKG4ucXNhJiYhU1tlKyIgIl0mJigheXx8IXkudGVzdChlKSkpe2lmKDEhPT1UKW09dCx2PWU7ZWxzZSBpZigib2JqZWN0IiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7KGM9dC5nZXRBdHRyaWJ1dGUoImlkIikpP2M9Yy5yZXBsYWNlKHRlLG5lKTp0LnNldEF0dHJpYnV0ZSgiaWQiLGM9Yikscz0oaD1hKGUpKS5sZW5ndGg7d2hpbGUocy0tKWhbc109IiMiK2MrIiAiK3ZlKGhbc10pO3Y9aC5qb2luKCIsIiksbT1LLnRlc3QoZSkmJmdlKHQucGFyZW50Tm9kZSl8fHR9aWYodil0cnl7cmV0dXJuIEwuYXBwbHkocixtLnF1ZXJ5U2VsZWN0b3JBbGwodikpLHJ9Y2F0Y2goZSl7fWZpbmFsbHl7Yz09PWImJnQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIHUoZS5yZXBsYWNlKEIsIiQxIiksdCxyLGkpfWZ1bmN0aW9uIGFlKCl7dmFyIGU9W107ZnVuY3Rpb24gdChuLGkpe3JldHVybiBlLnB1c2gobisiICIpPnIuY2FjaGVMZW5ndGgmJmRlbGV0ZSB0W2Uuc2hpZnQoKV0sdFtuKyIgIl09aX1yZXR1cm4gdH1mdW5jdGlvbiBzZShlKXtyZXR1cm4gZVtiXT0hMCxlfWZ1bmN0aW9uIHVlKGUpe3ZhciB0PWQuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKTt0cnl7cmV0dXJuISFlKHQpfWNhdGNoKGUpe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1udWxsfX1mdW5jdGlvbiBsZShlLHQpe3ZhciBuPWUuc3BsaXQoInwiKSxpPW4ubGVuZ3RoO3doaWxlKGktLSlyLmF0dHJIYW5kbGVbbltpXV09dH1mdW5jdGlvbiBjZShlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJmUuc291cmNlSW5kZXgtdC5zb3VyY2VJbmRleDtpZihyKXJldHVybiByO2lmKG4pd2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gZmUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJpbnB1dCI9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJnQudHlwZT09PWV9fWZ1bmN0aW9uIHBlKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1ufHwiYnV0dG9uIj09PW4pJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBkZShlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuImZvcm0iaW4gdD90LnBhcmVudE5vZGUmJiExPT09dC5kaXNhYmxlZD8ibGFiZWwiaW4gdD8ibGFiZWwiaW4gdC5wYXJlbnROb2RlP3QucGFyZW50Tm9kZS5kaXNhYmxlZD09PWU6dC5kaXNhYmxlZD09PWU6dC5pc0Rpc2FibGVkPT09ZXx8dC5pc0Rpc2FibGVkIT09IWUmJmllKHQpPT09ZTp0LmRpc2FibGVkPT09ZToibGFiZWwiaW4gdCYmdC5kaXNhYmxlZD09PWV9fWZ1bmN0aW9uIGhlKGUpe3JldHVybiBzZShmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxzZShmdW5jdGlvbihuLHIpe3ZhciBpLG89ZShbXSxuLmxlbmd0aCx0KSxhPW8ubGVuZ3RoO3doaWxlKGEtLSluW2k9b1thXV0mJihuW2ldPSEocltpXT1uW2ldKSl9KX0pfWZ1bmN0aW9uIGdlKGUpe3JldHVybiBlJiYidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmV9bj1vZS5zdXBwb3J0PXt9LG89b2UuaXNYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmKGUub3duZXJEb2N1bWVudHx8ZSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiEhdCYmIkhUTUwiIT09dC5ub2RlTmFtZX0scD1vZS5zZXREb2N1bWVudD1mdW5jdGlvbihlKXt2YXIgdCxpLGE9ZT9lLm93bmVyRG9jdW1lbnR8fGU6dztyZXR1cm4gYSE9PWQmJjk9PT1hLm5vZGVUeXBlJiZhLmRvY3VtZW50RWxlbWVudD8oZD1hLGg9ZC5kb2N1bWVudEVsZW1lbnQsZz0hbyhkKSx3IT09ZCYmKGk9ZC5kZWZhdWx0VmlldykmJmkudG9wIT09aSYmKGkuYWRkRXZlbnRMaXN0ZW5lcj9pLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIscmUsITEpOmkuYXR0YWNoRXZlbnQmJmkuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixyZSkpLG4uYXR0cmlidXRlcz11ZShmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc05hbWU9ImkiLCFlLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxuLmdldEVsZW1lbnRzQnlUYWdOYW1lPXVlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKGQuY3JlYXRlQ29tbWVudCgiIikpLCFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVEudGVzdChkLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLG4uZ2V0QnlJZD11ZShmdW5jdGlvbihlKXtyZXR1cm4gaC5hcHBlbmRDaGlsZChlKS5pZD1iLCFkLmdldEVsZW1lbnRzQnlOYW1lfHwhZC5nZXRFbGVtZW50c0J5TmFtZShiKS5sZW5ndGh9KSxuLmdldEJ5SWQ/KHIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShaLGVlKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19LHIuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmZyl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbj9bbl06W119fSk6KHIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShaLGVlKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gbiYmbi52YWx1ZT09PXR9fSxyLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJmcpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLHIuZmluZC5UQUc9bi5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOm4ucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LHIuZmluZC5DTEFTUz1uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmcpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0sdj1bXSx5PVtdLChuLnFzYT1RLnRlc3QoZC5xdWVyeVNlbGVjdG9yQWxsKSkmJih1ZShmdW5jdGlvbihlKXtoLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrYisiJz48L2E+PHNlbGVjdCBpZD0nIitiKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnkucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHkucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitQKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrYisiLV0iKS5sZW5ndGh8fHkucHVzaCgifj0iKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHx5LnB1c2goIjpjaGVja2VkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrYisiKyoiKS5sZW5ndGh8fHkucHVzaCgiLiMuK1srfl0iKX0pLHVlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnkucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmeS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGguYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ5LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikseS5wdXNoKCIsLio6Iil9KSksKG4ubWF0Y2hlc1NlbGVjdG9yPVEudGVzdChtPWgubWF0Y2hlc3x8aC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGgubW96TWF0Y2hlc1NlbGVjdG9yfHxoLm9NYXRjaGVzU2VsZWN0b3J8fGgubXNNYXRjaGVzU2VsZWN0b3IpKSYmdWUoZnVuY3Rpb24oZSl7bi5kaXNjb25uZWN0ZWRNYXRjaD1tLmNhbGwoZSwiKiIpLG0uY2FsbChlLCJbcyE9JyddOngiKSx2LnB1c2goIiE9IixXKX0pLHk9eS5sZW5ndGgmJm5ldyBSZWdFeHAoeS5qb2luKCJ8IikpLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHQ9US50ZXN0KGguY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHg9dHx8US50ZXN0KGguY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sRD10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGY9ITAsMDt2YXIgcj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gcnx8KDEmKHI9KGUub3duZXJEb2N1bWVudHx8ZSk9PT0odC5vd25lckRvY3VtZW50fHx0KT9lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEpfHwhbi5zb3J0RGV0YWNoZWQmJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSk9PT1yP2U9PT1kfHxlLm93bmVyRG9jdW1lbnQ9PT13JiZ4KHcsZSk/LTE6dD09PWR8fHQub3duZXJEb2N1bWVudD09PXcmJngodyx0KT8xOmM/TyhjLGUpLU8oYyx0KTowOjQmcj8tMToxKX06ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gZj0hMCwwO3ZhciBuLHI9MCxpPWUucGFyZW50Tm9kZSxvPXQucGFyZW50Tm9kZSxhPVtlXSxzPVt0XTtpZighaXx8IW8pcmV0dXJuIGU9PT1kPy0xOnQ9PT1kPzE6aT8tMTpvPzE6Yz9PKGMsZSktTyhjLHQpOjA7aWYoaT09PW8pcmV0dXJuIGNlKGUsdCk7bj1lO3doaWxlKG49bi5wYXJlbnROb2RlKWEudW5zaGlmdChuKTtuPXQ7d2hpbGUobj1uLnBhcmVudE5vZGUpcy51bnNoaWZ0KG4pO3doaWxlKGFbcl09PT1zW3JdKXIrKztyZXR1cm4gcj9jZShhW3JdLHNbcl0pOmFbcl09PT13Py0xOnNbcl09PT13PzE6MH0sZCk6ZH0sb2UubWF0Y2hlcz1mdW5jdGlvbihlLHQpe3JldHVybiBvZShlLG51bGwsbnVsbCx0KX0sb2UubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoKGUub3duZXJEb2N1bWVudHx8ZSkhPT1kJiZwKGUpLHQ9dC5yZXBsYWNlKHosIj0nJDEnXSIpLG4ubWF0Y2hlc1NlbGVjdG9yJiZnJiYhU1t0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigheXx8IXkudGVzdCh0KSkpdHJ5e3ZhciByPW0uY2FsbChlLHQpO2lmKHJ8fG4uZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gcn1jYXRjaChlKXt9cmV0dXJuIG9lKHQsZCxudWxsLFtlXSkubGVuZ3RoPjB9LG9lLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPT1kJiZwKGUpLHgoZSx0KX0sb2UuYXR0cj1mdW5jdGlvbihlLHQpeyhlLm93bmVyRG9jdW1lbnR8fGUpIT09ZCYmcChlKTt2YXIgaT1yLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxvPWkmJk4uY2FsbChyLmF0dHJIYW5kbGUsdC50b0xvd2VyQ2FzZSgpKT9pKGUsdCwhZyk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1vP286bi5hdHRyaWJ1dGVzfHwhZz9lLmdldEF0dHJpYnV0ZSh0KToobz1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZvLnNwZWNpZmllZD9vLnZhbHVlOm51bGx9LG9lLmVzY2FwZT1mdW5jdGlvbihlKXtyZXR1cm4oZSsiIikucmVwbGFjZSh0ZSxuZSl9LG9lLmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIitlKX0sb2UudW5pcXVlU29ydD1mdW5jdGlvbihlKXt2YXIgdCxyPVtdLGk9MCxvPTA7aWYoZj0hbi5kZXRlY3REdXBsaWNhdGVzLGM9IW4uc29ydFN0YWJsZSYmZS5zbGljZSgwKSxlLnNvcnQoRCksZil7d2hpbGUodD1lW28rK10pdD09PWVbb10mJihpPXIucHVzaChvKSk7d2hpbGUoaS0tKWUuc3BsaWNlKHJbaV0sMSl9cmV0dXJuIGM9bnVsbCxlfSxpPW9lLmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj0iIixyPTAsbz1lLm5vZGVUeXBlO2lmKG8pe2lmKDE9PT1vfHw5PT09b3x8MTE9PT1vKXtpZigic3RyaW5nIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPWkoZSl9ZWxzZSBpZigzPT09b3x8ND09PW8pcmV0dXJuIGUubm9kZVZhbHVlfWVsc2Ugd2hpbGUodD1lW3IrK10pbis9aSh0KTtyZXR1cm4gbn0sKHI9b2Uuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86c2UsbWF0Y2g6VixhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKFosZWUpLGVbM109KGVbM118fGVbNF18fGVbNV18fCIiKS5yZXBsYWNlKFosZWUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxvZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZvZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gVi5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWEobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFosZWUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09ZT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dH19LENMQVNTOmZ1bmN0aW9uKGUpe3ZhciB0PUVbZSsiICJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKCIoXnwiK00rIikiK2UrIigiK00rInwkKSIpKSYmRShlLGZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPW9lLmF0dHIocixlKTtyZXR1cm4gbnVsbD09aT8iIT0iPT09dDohdHx8KGkrPSIiLCI9Ij09PXQ/aT09PW46IiE9Ij09PXQ/aSE9PW46Il49Ij09PXQ/biYmMD09PWkuaW5kZXhPZihuKToiKj0iPT09dD9uJiZpLmluZGV4T2Yobik+LTE6IiQ9Ij09PXQ/biYmaS5zbGljZSgtbi5sZW5ndGgpPT09bjoifj0iPT09dD8oIiAiK2kucmVwbGFjZSgkLCIgIikrIiAiKS5pbmRleE9mKG4pPi0xOiJ8PSI9PT10JiYoaT09PW58fGkuc2xpY2UoMCxuLmxlbmd0aCsxKT09PW4rIi0iKSl9fSxDSElMRDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPSJudGgiIT09ZS5zbGljZSgwLDMpLGE9Imxhc3QiIT09ZS5zbGljZSgtNCkscz0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PWk/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsbix1KXt2YXIgbCxjLGYscCxkLGgsZz1vIT09YT8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHk9dC5wYXJlbnROb2RlLHY9cyYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG09IXUmJiFzLHg9ITE7aWYoeSl7aWYobyl7d2hpbGUoZyl7cD10O3doaWxlKHA9cFtnXSlpZihzP3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXY6MT09PXAubm9kZVR5cGUpcmV0dXJuITE7aD1nPSJvbmx5Ij09PWUmJiFoJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKGg9W2E/eS5maXJzdENoaWxkOnkubGFzdENoaWxkXSxhJiZtKXt4PShkPShsPShjPShmPShwPXkpW2JdfHwocFtiXT17fSkpW3AudW5pcXVlSURdfHwoZltwLnVuaXF1ZUlEXT17fSkpW2VdfHxbXSlbMF09PT1UJiZsWzFdKSYmbFsyXSxwPWQmJnkuY2hpbGROb2Rlc1tkXTt3aGlsZShwPSsrZCYmcCYmcFtnXXx8KHg9ZD0wKXx8aC5wb3AoKSlpZigxPT09cC5ub2RlVHlwZSYmKyt4JiZwPT09dCl7Y1tlXT1bVCxkLHhdO2JyZWFrfX1lbHNlIGlmKG0mJih4PWQ9KGw9KGM9KGY9KHA9dClbYl18fChwW2JdPXt9KSlbcC51bmlxdWVJRF18fChmW3AudW5pcXVlSURdPXt9KSlbZV18fFtdKVswXT09PVQmJmxbMV0pLCExPT09eCl3aGlsZShwPSsrZCYmcCYmcFtnXXx8KHg9ZD0wKXx8aC5wb3AoKSlpZigocz9wLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT12OjE9PT1wLm5vZGVUeXBlKSYmKyt4JiYobSYmKChjPShmPXBbYl18fChwW2JdPXt9KSlbcC51bmlxdWVJRF18fChmW3AudW5pcXVlSURdPXt9KSlbZV09W1QseF0pLHA9PT10KSlicmVhaztyZXR1cm4oeC09aSk9PT1yfHx4JXI9PTAmJngvcj49MH19fSxQU0VVRE86ZnVuY3Rpb24oZSx0KXt2YXIgbixpPXIucHNldWRvc1tlXXx8ci5zZXRGaWx0ZXJzW2UudG9Mb3dlckNhc2UoKV18fG9lLmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrZSk7cmV0dXJuIGlbYl0/aSh0KTppLmxlbmd0aD4xPyhuPVtlLGUsIiIsdF0sci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGUudG9Mb3dlckNhc2UoKSk/c2UoZnVuY3Rpb24oZSxuKXt2YXIgcixvPWkoZSx0KSxhPW8ubGVuZ3RoO3doaWxlKGEtLSllW3I9TyhlLG9bYV0pXT0hKG5bcl09b1thXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gaShlLDAsbil9KTppfX0scHNldWRvczp7bm90OnNlKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49W10scj1zKGUucmVwbGFjZShCLCIkMSIpKTtyZXR1cm4gcltiXT9zZShmdW5jdGlvbihlLHQsbixpKXt2YXIgbyxhPXIoZSxudWxsLGksW10pLHM9ZS5sZW5ndGg7d2hpbGUocy0tKShvPWFbc10pJiYoZVtzXT0hKHRbc109bykpfSk6ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0WzBdPWUscih0LG51bGwsbyxuKSx0WzBdPW51bGwsIW4ucG9wKCl9fSksaGFzOnNlKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gb2UoZSx0KS5sZW5ndGg+MH19KSxjb250YWluczpzZShmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoWixlZSksZnVuY3Rpb24odCl7cmV0dXJuKHQudGV4dENvbnRlbnR8fHQuaW5uZXJUZXh0fHxpKHQpKS5pbmRleE9mKGUpPi0xfX0pLGxhbmc6c2UoZnVuY3Rpb24oZSl7cmV0dXJuIFUudGVzdChlfHwiIil8fG9lLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2UpLGU9ZS5yZXBsYWNlKFosZWUpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIG47ZG97aWYobj1nP3QubGFuZzp0LmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8dC5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4obj1uLnRvTG93ZXJDYXNlKCkpPT09ZXx8MD09PW4uaW5kZXhPZihlKyItIil9d2hpbGUoKHQ9dC5wYXJlbnROb2RlKSYmMT09PXQubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbih0KXt2YXIgbj1lLmxvY2F0aW9uJiZlLmxvY2F0aW9uLmhhc2g7cmV0dXJuIG4mJm4uc2xpY2UoMSk9PT10LmlkfSxyb290OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09aH0sZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1kLmFjdGl2ZUVsZW1lbnQmJighZC5oYXNGb2N1c3x8ZC5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sZW5hYmxlZDpkZSghMSksZGlzYWJsZWQ6ZGUoITApLGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYhIWUuY2hlY2tlZHx8Im9wdGlvbiI9PT10JiYhIWUuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LCEwPT09ZS5zZWxlY3RlZH0sZW1wdHk6ZnVuY3Rpb24oZSl7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGUubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFyLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gWS50ZXN0KGUubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gRy50ZXN0KGUubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYiYnV0dG9uIj09PWUudHlwZXx8ImJ1dHRvbiI9PT10fSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PWUudHlwZSYmKG51bGw9PSh0PWUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpoZShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6aGUoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOmhlKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bbjwwP24rdDpuXX0pLGV2ZW46aGUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6aGUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpoZShmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW48MD9uK3Q6bjstLXI+PTA7KWUucHVzaChyKTtyZXR1cm4gZX0pLGd0OmhlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19KS5wc2V1ZG9zLm50aD1yLnBzZXVkb3MuZXE7Zm9yKHQgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pci5wc2V1ZG9zW3RdPWZlKHQpO2Zvcih0IGlue3N1Ym1pdDohMCxyZXNldDohMH0pci5wc2V1ZG9zW3RdPXBlKHQpO2Z1bmN0aW9uIHllKCl7fXllLnByb3RvdHlwZT1yLmZpbHRlcnM9ci5wc2V1ZG9zLHIuc2V0RmlsdGVycz1uZXcgeWUsYT1vZS50b2tlbml6ZT1mdW5jdGlvbihlLHQpe3ZhciBuLGksbyxhLHMsdSxsLGM9a1tlKyIgIl07aWYoYylyZXR1cm4gdD8wOmMuc2xpY2UoMCk7cz1lLHU9W10sbD1yLnByZUZpbHRlcjt3aGlsZShzKXtuJiYhKGk9Ri5leGVjKHMpKXx8KGkmJihzPXMuc2xpY2UoaVswXS5sZW5ndGgpfHxzKSx1LnB1c2gobz1bXSkpLG49ITEsKGk9Xy5leGVjKHMpKSYmKG49aS5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6bix0eXBlOmlbMF0ucmVwbGFjZShCLCIgIil9KSxzPXMuc2xpY2Uobi5sZW5ndGgpKTtmb3IoYSBpbiByLmZpbHRlcikhKGk9VlthXS5leGVjKHMpKXx8bFthXSYmIShpPWxbYV0oaSkpfHwobj1pLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpuLHR5cGU6YSxtYXRjaGVzOml9KSxzPXMuc2xpY2Uobi5sZW5ndGgpKTtpZighbilicmVha31yZXR1cm4gdD9zLmxlbmd0aDpzP29lLmVycm9yKGUpOmsoZSx1KS5zbGljZSgwKX07ZnVuY3Rpb24gdmUoZSl7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aCxyPSIiO3Q8bjt0Kyspcis9ZVt0XS52YWx1ZTtyZXR1cm4gcn1mdW5jdGlvbiBtZShlLHQsbil7dmFyIHI9dC5kaXIsaT10Lm5leHQsbz1pfHxyLGE9biYmInBhcmVudE5vZGUiPT09byxzPUMrKztyZXR1cm4gdC5maXJzdD9mdW5jdGlvbih0LG4saSl7d2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxhKXJldHVybiBlKHQsbixpKTtyZXR1cm4hMX06ZnVuY3Rpb24odCxuLHUpe3ZhciBsLGMsZixwPVtULHNdO2lmKHUpe3doaWxlKHQ9dFtyXSlpZigoMT09PXQubm9kZVR5cGV8fGEpJiZlKHQsbix1KSlyZXR1cm4hMH1lbHNlIHdoaWxlKHQ9dFtyXSlpZigxPT09dC5ub2RlVHlwZXx8YSlpZihmPXRbYl18fCh0W2JdPXt9KSxjPWZbdC51bmlxdWVJRF18fChmW3QudW5pcXVlSURdPXt9KSxpJiZpPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXQ9dFtyXXx8dDtlbHNle2lmKChsPWNbb10pJiZsWzBdPT09VCYmbFsxXT09PXMpcmV0dXJuIHBbMl09bFsyXTtpZihjW29dPXAscFsyXT1lKHQsbix1KSlyZXR1cm4hMH1yZXR1cm4hMX19ZnVuY3Rpb24geGUoZSl7cmV0dXJuIGUubGVuZ3RoPjE/ZnVuY3Rpb24odCxuLHIpe3ZhciBpPWUubGVuZ3RoO3doaWxlKGktLSlpZighZVtpXSh0LG4scikpcmV0dXJuITE7cmV0dXJuITB9OmVbMF19ZnVuY3Rpb24gYmUoZSx0LG4pe2Zvcih2YXIgcj0wLGk9dC5sZW5ndGg7cjxpO3IrKylvZShlLHRbcl0sbik7cmV0dXJuIG59ZnVuY3Rpb24gd2UoZSx0LG4scixpKXtmb3IodmFyIG8sYT1bXSxzPTAsdT1lLmxlbmd0aCxsPW51bGwhPXQ7czx1O3MrKykobz1lW3NdKSYmKG4mJiFuKG8scixpKXx8KGEucHVzaChvKSxsJiZ0LnB1c2gocykpKTtyZXR1cm4gYX1mdW5jdGlvbiBUZShlLHQsbixyLGksbyl7cmV0dXJuIHImJiFyW2JdJiYocj1UZShyKSksaSYmIWlbYl0mJihpPVRlKGksbykpLHNlKGZ1bmN0aW9uKG8sYSxzLHUpe3ZhciBsLGMsZixwPVtdLGQ9W10saD1hLmxlbmd0aCxnPW98fGJlKHR8fCIqIixzLm5vZGVUeXBlP1tzXTpzLFtdKSx5PSFlfHwhbyYmdD9nOndlKGcscCxlLHMsdSksdj1uP2l8fChvP2U6aHx8cik/W106YTp5O2lmKG4mJm4oeSx2LHMsdSkscil7bD13ZSh2LGQpLHIobCxbXSxzLHUpLGM9bC5sZW5ndGg7d2hpbGUoYy0tKShmPWxbY10pJiYodltkW2NdXT0hKHlbZFtjXV09ZikpfWlmKG8pe2lmKGl8fGUpe2lmKGkpe2w9W10sYz12Lmxlbmd0aDt3aGlsZShjLS0pKGY9dltjXSkmJmwucHVzaCh5W2NdPWYpO2kobnVsbCx2PVtdLGwsdSl9Yz12Lmxlbmd0aDt3aGlsZShjLS0pKGY9dltjXSkmJihsPWk/TyhvLGYpOnBbY10pPi0xJiYob1tsXT0hKGFbbF09ZikpfX1lbHNlIHY9d2Uodj09PWE/di5zcGxpY2UoaCx2Lmxlbmd0aCk6diksaT9pKG51bGwsYSx2LHUpOkwuYXBwbHkoYSx2KX0pfWZ1bmN0aW9uIENlKGUpe2Zvcih2YXIgdCxuLGksbz1lLmxlbmd0aCxhPXIucmVsYXRpdmVbZVswXS50eXBlXSxzPWF8fHIucmVsYXRpdmVbIiAiXSx1PWE/MTowLGM9bWUoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSxzLCEwKSxmPW1lKGZ1bmN0aW9uKGUpe3JldHVybiBPKHQsZSk+LTF9LHMsITApLHA9W2Z1bmN0aW9uKGUsbixyKXt2YXIgaT0hYSYmKHJ8fG4hPT1sKXx8KCh0PW4pLm5vZGVUeXBlP2MoZSxuLHIpOmYoZSxuLHIpKTtyZXR1cm4gdD1udWxsLGl9XTt1PG87dSsrKWlmKG49ci5yZWxhdGl2ZVtlW3VdLnR5cGVdKXA9W21lKHhlKHApLG4pXTtlbHNle2lmKChuPXIuZmlsdGVyW2VbdV0udHlwZV0uYXBwbHkobnVsbCxlW3VdLm1hdGNoZXMpKVtiXSl7Zm9yKGk9Kyt1O2k8bztpKyspaWYoci5yZWxhdGl2ZVtlW2ldLnR5cGVdKWJyZWFrO3JldHVybiBUZSh1PjEmJnhlKHApLHU+MSYmdmUoZS5zbGljZSgwLHUtMSkuY29uY2F0KHt2YWx1ZToiICI9PT1lW3UtMl0udHlwZT8iKiI6IiJ9KSkucmVwbGFjZShCLCIkMSIpLG4sdTxpJiZDZShlLnNsaWNlKHUsaSkpLGk8byYmQ2UoZT1lLnNsaWNlKGkpKSxpPG8mJnZlKGUpKX1wLnB1c2gobil9cmV0dXJuIHhlKHApfWZ1bmN0aW9uIEVlKGUsdCl7dmFyIG49dC5sZW5ndGg+MCxpPWUubGVuZ3RoPjAsbz1mdW5jdGlvbihvLGEscyx1LGMpe3ZhciBmLGgseSx2PTAsbT0iMCIseD1vJiZbXSxiPVtdLHc9bCxDPW98fGkmJnIuZmluZC5UQUcoIioiLGMpLEU9VCs9bnVsbD09dz8xOk1hdGgucmFuZG9tKCl8fC4xLGs9Qy5sZW5ndGg7Zm9yKGMmJihsPWE9PT1kfHxhfHxjKTttIT09ayYmbnVsbCE9KGY9Q1ttXSk7bSsrKXtpZihpJiZmKXtoPTAsYXx8Zi5vd25lckRvY3VtZW50PT09ZHx8KHAoZikscz0hZyk7d2hpbGUoeT1lW2grK10paWYoeShmLGF8fGQscykpe3UucHVzaChmKTticmVha31jJiYoVD1FKX1uJiYoKGY9IXkmJmYpJiZ2LS0sbyYmeC5wdXNoKGYpKX1pZih2Kz1tLG4mJm0hPT12KXtoPTA7d2hpbGUoeT10W2grK10peSh4LGIsYSxzKTtpZihvKXtpZih2PjApd2hpbGUobS0tKXhbbV18fGJbbV18fChiW21dPWouY2FsbCh1KSk7Yj13ZShiKX1MLmFwcGx5KHUsYiksYyYmIW8mJmIubGVuZ3RoPjAmJnYrdC5sZW5ndGg+MSYmb2UudW5pcXVlU29ydCh1KX1yZXR1cm4gYyYmKFQ9RSxsPXcpLHh9O3JldHVybiBuP3NlKG8pOm99cmV0dXJuIHM9b2UuY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1bXSxvPVNbZSsiICJdO2lmKCFvKXt0fHwodD1hKGUpKSxuPXQubGVuZ3RoO3doaWxlKG4tLSkobz1DZSh0W25dKSlbYl0/ci5wdXNoKG8pOmkucHVzaChvKTsobz1TKGUsRWUoaSxyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIG99LHU9b2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBvLHUsbCxjLGYscD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxkPSFpJiZhKGU9cC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09ZC5sZW5ndGgpe2lmKCh1PWRbMF09ZFswXS5zbGljZSgwKSkubGVuZ3RoPjImJiJJRCI9PT0obD11WzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmZyYmci5yZWxhdGl2ZVt1WzFdLnR5cGVdKXtpZighKHQ9KHIuZmluZC5JRChsLm1hdGNoZXNbMF0ucmVwbGFjZShaLGVlKSx0KXx8W10pWzBdKSlyZXR1cm4gbjtwJiYodD10LnBhcmVudE5vZGUpLGU9ZS5zbGljZSh1LnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1vPVYubmVlZHNDb250ZXh0LnRlc3QoZSk/MDp1Lmxlbmd0aDt3aGlsZShvLS0pe2lmKGw9dVtvXSxyLnJlbGF0aXZlW2M9bC50eXBlXSlicmVhaztpZigoZj1yLmZpbmRbY10pJiYoaT1mKGwubWF0Y2hlc1swXS5yZXBsYWNlKFosZWUpLEsudGVzdCh1WzBdLnR5cGUpJiZnZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKHUuc3BsaWNlKG8sMSksIShlPWkubGVuZ3RoJiZ2ZSh1KSkpcmV0dXJuIEwuYXBwbHkobixpKSxuO2JyZWFrfX19cmV0dXJuKHB8fHMoZSxkKSkoaSx0LCFnLG4sIXR8fEsudGVzdChlKSYmZ2UodC5wYXJlbnROb2RlKXx8dCksbn0sbi5zb3J0U3RhYmxlPWIuc3BsaXQoIiIpLnNvcnQoRCkuam9pbigiIik9PT1iLG4uZGV0ZWN0RHVwbGljYXRlcz0hIWYscCgpLG4uc29ydERldGFjaGVkPXVlKGZ1bmN0aW9uKGUpe3JldHVybiAxJmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZC5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpKX0pLHVlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGxlKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihlLHQsbil7aWYoIW4pcmV0dXJuIGUuZ2V0QXR0cmlidXRlKHQsInR5cGUiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSxuLmF0dHJpYnV0ZXMmJnVlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGlucHV0Lz4iLGUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGxlKCJ2YWx1ZSIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuJiYiaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBlLmRlZmF1bHRWYWx1ZX0pLHVlKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxsZShQLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZighbilyZXR1cm4hMD09PWVbdF0/dC50b0xvd2VyQ2FzZSgpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLG9lfShlKTt3LmZpbmQ9RSx3LmV4cHI9RS5zZWxlY3RvcnMsdy5leHByWyI6Il09dy5leHByLnBzZXVkb3Msdy51bmlxdWVTb3J0PXcudW5pcXVlPUUudW5pcXVlU29ydCx3LnRleHQ9RS5nZXRUZXh0LHcuaXNYTUxEb2M9RS5pc1hNTCx3LmNvbnRhaW5zPUUuY29udGFpbnMsdy5lc2NhcGVTZWxlY3Rvcj1FLmVzY2FwZTt2YXIgaz1mdW5jdGlvbihlLHQsbil7dmFyIHI9W10saT12b2lkIDAhPT1uO3doaWxlKChlPWVbdF0pJiY5IT09ZS5ub2RlVHlwZSlpZigxPT09ZS5ub2RlVHlwZSl7aWYoaSYmdyhlKS5pcyhuKSlicmVhaztyLnB1c2goZSl9cmV0dXJuIHJ9LFM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W107ZTtlPWUubmV4dFNpYmxpbmcpMT09PWUubm9kZVR5cGUmJmUhPT10JiZuLnB1c2goZSk7cmV0dXJuIG59LEQ9dy5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtmdW5jdGlvbiBOKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX12YXIgQT0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaTtmdW5jdGlvbiBqKGUsdCxuKXtyZXR1cm4gZyh0KT93LmdyZXAoZSxmdW5jdGlvbihlLHIpe3JldHVybiEhdC5jYWxsKGUscixlKSE9PW59KTp0Lm5vZGVUeXBlP3cuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dCE9PW59KToic3RyaW5nIiE9dHlwZW9mIHQ/dy5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHUuY2FsbCh0LGUpPi0xIT09bn0pOncuZmlsdGVyKHQsZSxuKX13LmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT93LmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOncuZmluZC5tYXRjaGVzKGUsdy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSx3LmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sodyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYody5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKyl3LmZpbmQoZSxpW3RdLG4pO3JldHVybiByPjE/dy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmRC50ZXN0KGUpP3coZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgcSxMPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KHcuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIGksbztpZighZSlyZXR1cm4gdGhpcztpZihuPW58fHEsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKGk9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmZS5sZW5ndGg+PTM/W251bGwsZSxudWxsXTpMLmV4ZWMoZSkpfHwhaVsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKGlbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIHc/dFswXTp0LHcubWVyZ2UodGhpcyx3LnBhcnNlSFRNTChpWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OnIsITApKSxBLnRlc3QoaVsxXSkmJncuaXNQbGFpbk9iamVjdCh0KSlmb3IoaSBpbiB0KWcodGhpc1tpXSk/dGhpc1tpXSh0W2ldKTp0aGlzLmF0dHIoaSx0W2ldKTtyZXR1cm4gdGhpc31yZXR1cm4obz1yLmdldEVsZW1lbnRCeUlkKGlbMl0pKSYmKHRoaXNbMF09byx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTpnKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKHcpOncubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9dy5mbixxPXcocik7dmFyIEg9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sTz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTt3LmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PXcoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYody5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZ3KGUpO2lmKCFELnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/YS5pbmRleChuKT4tMToxPT09bi5ub2RlVHlwZSYmdy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhvLmxlbmd0aD4xP3cudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP3UuY2FsbCh3KGUpLHRoaXNbMF0pOnUuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sody51bmlxdWVTb3J0KHcubWVyZ2UodGhpcy5nZXQoKSx3KGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pO2Z1bmN0aW9uIFAoZSx0KXt3aGlsZSgoZT1lW3RdKSYmMSE9PWUubm9kZVR5cGUpO3JldHVybiBlfXcuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gayhlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFAoZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gUChlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gayhlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBrKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBrKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gayhlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gUygoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFMoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIE4oZSwiaWZyYW1lIik/ZS5jb250ZW50RG9jdW1lbnQ6KE4oZSwidGVtcGxhdGUiKSYmKGU9ZS5jb250ZW50fHxlKSx3Lm1lcmdlKFtdLGUuY2hpbGROb2RlcykpfX0sZnVuY3Rpb24oZSx0KXt3LmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9dy5tYXAodGhpcyx0LG4pO3JldHVybiJVbnRpbCIhPT1lLnNsaWNlKC01KSYmKHI9biksciYmInN0cmluZyI9PXR5cGVvZiByJiYoaT13LmZpbHRlcihyLGkpKSx0aGlzLmxlbmd0aD4xJiYoT1tlXXx8dy51bmlxdWVTb3J0KGkpLEgudGVzdChlKSYmaS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGkpfX0pO3ZhciBNPS9bXlx4MjBcdFxyXG5cZl0rL2c7ZnVuY3Rpb24gUihlKXt2YXIgdD17fTtyZXR1cm4gdy5lYWNoKGUubWF0Y2goTSl8fFtdLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pLHR9dy5DYWxsYmFja3M9ZnVuY3Rpb24oZSl7ZT0ic3RyaW5nIj09dHlwZW9mIGU/UihlKTp3LmV4dGVuZCh7fSxlKTt2YXIgdCxuLHIsaSxvPVtdLGE9W10scz0tMSx1PWZ1bmN0aW9uKCl7Zm9yKGk9aXx8ZS5vbmNlLHI9dD0hMDthLmxlbmd0aDtzPS0xKXtuPWEuc2hpZnQoKTt3aGlsZSgrK3M8by5sZW5ndGgpITE9PT1vW3NdLmFwcGx5KG5bMF0sblsxXSkmJmUuc3RvcE9uRmFsc2UmJihzPW8ubGVuZ3RoLG49ITEpfWUubWVtb3J5fHwobj0hMSksdD0hMSxpJiYobz1uP1tdOiIiKX0sbD17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIG8mJihuJiYhdCYmKHM9by5sZW5ndGgtMSxhLnB1c2gobikpLGZ1bmN0aW9uIHQobil7dy5lYWNoKG4sZnVuY3Rpb24obixyKXtnKHIpP2UudW5pcXVlJiZsLmhhcyhyKXx8by5wdXNoKHIpOnImJnIubGVuZ3RoJiYic3RyaW5nIiE9PXgocikmJnQocil9KX0oYXJndW1lbnRzKSxuJiYhdCYmdSgpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdy5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe3ZhciBuO3doaWxlKChuPXcuaW5BcnJheSh0LG8sbikpPi0xKW8uc3BsaWNlKG4sMSksbjw9cyYmcy0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlP3cuaW5BcnJheShlLG8pPi0xOm8ubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIG8mJihvPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGk9YT1bXSxvPW49IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hb30sbG9jazpmdW5jdGlvbigpe3JldHVybiBpPWE9W10sbnx8dHx8KG89bj0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFpfSxmaXJlV2l0aDpmdW5jdGlvbihlLG4pe3JldHVybiBpfHwobj1bZSwobj1ufHxbXSkuc2xpY2U/bi5zbGljZSgpOm5dLGEucHVzaChuKSx0fHx1KCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gbC5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXJ9fTtyZXR1cm4gbH07ZnVuY3Rpb24gSShlKXtyZXR1cm4gZX1mdW5jdGlvbiBXKGUpe3Rocm93IGV9ZnVuY3Rpb24gJChlLHQsbixyKXt2YXIgaTt0cnl7ZSYmZyhpPWUucHJvbWlzZSk/aS5jYWxsKGUpLmRvbmUodCkuZmFpbChuKTplJiZnKGk9ZS50aGVuKT9pLmNhbGwoZSx0LG4pOnQuYXBwbHkodm9pZCAwLFtlXS5zbGljZShyKSl9Y2F0Y2goZSl7bi5hcHBseSh2b2lkIDAsW2VdKX19dy5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKHQpe3ZhciBuPVtbIm5vdGlmeSIsInByb2dyZXNzIix3LkNhbGxiYWNrcygibWVtb3J5Iiksdy5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLHcuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHcuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIix3LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxyPSJwZW5kaW5nIixpPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiByfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gby5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkudGhlbihudWxsLGUpfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3JldHVybiB3LkRlZmVycmVkKGZ1bmN0aW9uKHQpe3cuZWFjaChuLGZ1bmN0aW9uKG4scil7dmFyIGk9ZyhlW3JbNF1dKSYmZVtyWzRdXTtvW3JbMV1dKGZ1bmN0aW9uKCl7dmFyIGU9aSYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmZyhlLnByb21pc2UpP2UucHJvbWlzZSgpLnByb2dyZXNzKHQubm90aWZ5KS5kb25lKHQucmVzb2x2ZSkuZmFpbCh0LnJlamVjdCk6dFtyWzBdKyJXaXRoIl0odGhpcyxpP1tlXTphcmd1bWVudHMpfSl9KSxlPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxyLGkpe3ZhciBvPTA7ZnVuY3Rpb24gYSh0LG4scixpKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcz10aGlzLHU9YXJndW1lbnRzLGw9ZnVuY3Rpb24oKXt2YXIgZSxsO2lmKCEodDxvKSl7aWYoKGU9ci5hcHBseShzLHUpKT09PW4ucHJvbWlzZSgpKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvbiIpO2w9ZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpJiZlLnRoZW4sZyhsKT9pP2wuY2FsbChlLGEobyxuLEksaSksYShvLG4sVyxpKSk6KG8rKyxsLmNhbGwoZSxhKG8sbixJLGkpLGEobyxuLFcsaSksYShvLG4sSSxuLm5vdGlmeVdpdGgpKSk6KHIhPT1JJiYocz12b2lkIDAsdT1bZV0pLChpfHxuLnJlc29sdmVXaXRoKShzLHUpKX19LGM9aT9sOmZ1bmN0aW9uKCl7dHJ5e2woKX1jYXRjaChlKXt3LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2smJncuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayhlLGMuc3RhY2tUcmFjZSksdCsxPj1vJiYociE9PVcmJihzPXZvaWQgMCx1PVtlXSksbi5yZWplY3RXaXRoKHMsdSkpfX07dD9jKCk6KHcuRGVmZXJyZWQuZ2V0U3RhY2tIb29rJiYoYy5zdGFja1RyYWNlPXcuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLGUuc2V0VGltZW91dChjKSl9fXJldHVybiB3LkRlZmVycmVkKGZ1bmN0aW9uKGUpe25bMF1bM10uYWRkKGEoMCxlLGcoaSk/aTpJLGUubm90aWZ5V2l0aCkpLG5bMV1bM10uYWRkKGEoMCxlLGcodCk/dDpJKSksblsyXVszXS5hZGQoYSgwLGUsZyhyKT9yOlcpKX0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT93LmV4dGVuZChlLGkpOml9fSxvPXt9O3JldHVybiB3LmVhY2gobixmdW5jdGlvbihlLHQpe3ZhciBhPXRbMl0scz10WzVdO2lbdFsxXV09YS5hZGQscyYmYS5hZGQoZnVuY3Rpb24oKXtyPXN9LG5bMy1lXVsyXS5kaXNhYmxlLG5bMy1lXVszXS5kaXNhYmxlLG5bMF1bMl0ubG9jayxuWzBdWzNdLmxvY2spLGEuYWRkKHRbM10uZmlyZSksb1t0WzBdXT1mdW5jdGlvbigpe3JldHVybiBvW3RbMF0rIldpdGgiXSh0aGlzPT09bz92b2lkIDA6dGhpcyxhcmd1bWVudHMpLHRoaXN9LG9bdFswXSsiV2l0aCJdPWEuZmlyZVdpdGh9KSxpLnByb21pc2UobyksdCYmdC5jYWxsKG8sbyksb30sd2hlbjpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49dCxyPUFycmF5KG4pLGk9by5jYWxsKGFyZ3VtZW50cyksYT13LkRlZmVycmVkKCkscz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cltlXT10aGlzLGlbZV09YXJndW1lbnRzLmxlbmd0aD4xP28uY2FsbChhcmd1bWVudHMpOm4sLS10fHxhLnJlc29sdmVXaXRoKHIsaSl9fTtpZih0PD0xJiYoJChlLGEuZG9uZShzKG4pKS5yZXNvbHZlLGEucmVqZWN0LCF0KSwicGVuZGluZyI9PT1hLnN0YXRlKCl8fGcoaVtuXSYmaVtuXS50aGVuKSkpcmV0dXJuIGEudGhlbigpO3doaWxlKG4tLSkkKGlbbl0scyhuKSxhLnJlamVjdCk7cmV0dXJuIGEucHJvbWlzZSgpfX0pO3ZhciBCPS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO3cuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbih0LG4pe2UuY29uc29sZSYmZS5jb25zb2xlLndhcm4mJnQmJkIudGVzdCh0Lm5hbWUpJiZlLmNvbnNvbGUud2FybigialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogIit0Lm1lc3NhZ2UsdC5zdGFjayxuKX0sdy5yZWFkeUV4Y2VwdGlvbj1mdW5jdGlvbih0KXtlLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSl9O3ZhciBGPXcuRGVmZXJyZWQoKTt3LmZuLnJlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiBGLnRoZW4oZSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7dy5yZWFkeUV4Y2VwdGlvbihlKX0pLHRoaXN9LHcuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKGUpeyghMD09PWU/LS13LnJlYWR5V2FpdDp3LmlzUmVhZHkpfHwody5pc1JlYWR5PSEwLCEwIT09ZSYmLS13LnJlYWR5V2FpdD4wfHxGLnJlc29sdmVXaXRoKHIsW3ddKSl9fSksdy5yZWFkeS50aGVuPUYudGhlbjtmdW5jdGlvbiBfKCl7ci5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixfKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLF8pLHcucmVhZHkoKX0iY29tcGxldGUiPT09ci5yZWFkeVN0YXRlfHwibG9hZGluZyIhPT1yLnJlYWR5U3RhdGUmJiFyLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9lLnNldFRpbWVvdXQody5yZWFkeSk6KHIuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsXyksZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixfKSk7dmFyIHo9ZnVuY3Rpb24oZSx0LG4scixpLG8sYSl7dmFyIHM9MCx1PWUubGVuZ3RoLGw9bnVsbD09bjtpZigib2JqZWN0Ij09PXgobikpe2k9ITA7Zm9yKHMgaW4gbil6KGUsdCxzLG5bc10sITAsbyxhKX1lbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLGcocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwodyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxYPS9eLW1zLS8sVT0vLShbYS16XSkvZztmdW5jdGlvbiBWKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBHKGUpe3JldHVybiBlLnJlcGxhY2UoWCwibXMtIikucmVwbGFjZShVLFYpfXZhciBZPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gUSgpe3RoaXMuZXhwYW5kbz13LmV4cGFuZG8rUS51aWQrK31RLnVpZD0xLFEucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFkoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW0codCldPW47ZWxzZSBmb3IociBpbiB0KWlbRyhyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtHKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChHKToodD1HKHQpKWluIHI/W3RdOnQubWF0Y2goTSl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHx3LmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiF3LmlzRW1wdHlPYmplY3QodCl9fTt2YXIgSj1uZXcgUSxLPW5ldyBRLFo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxlZT0vW0EtWl0vZztmdW5jdGlvbiB0ZShlKXtyZXR1cm4idHJ1ZSI9PT1lfHwiZmFsc2UiIT09ZSYmKCJudWxsIj09PWU/bnVsbDplPT09K2UrIiI/K2U6Wi50ZXN0KGUpP0pTT04ucGFyc2UoZSk6ZSl9ZnVuY3Rpb24gbmUoZSx0LG4pe3ZhciByO2lmKHZvaWQgMD09PW4mJjE9PT1lLm5vZGVUeXBlKWlmKHI9ImRhdGEtIit0LnJlcGxhY2UoZWUsIi0kJiIpLnRvTG93ZXJDYXNlKCksInN0cmluZyI9PXR5cGVvZihuPWUuZ2V0QXR0cmlidXRlKHIpKSl7dHJ5e249dGUobil9Y2F0Y2goZSl7fUsuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufXcuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBLLmhhc0RhdGEoZSl8fEouaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEsuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe0sucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gSi5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe0oucmVtb3ZlKGUsdCl9fSksdy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWUpe2lmKHRoaXMubGVuZ3RoJiYoaT1LLmdldChvKSwxPT09by5ub2RlVHlwZSYmIUouZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7bj1hLmxlbmd0aDt3aGlsZShuLS0pYVtuXSYmMD09PShyPWFbbl0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9RyhyLnNsaWNlKDUpKSxuZShvLHIsaVtyXSkpO0ouc2V0KG8sImhhc0RhdGFBdHRycyIsITApfXJldHVybiBpfXJldHVybiJvYmplY3QiPT10eXBlb2YgZT90aGlzLmVhY2goZnVuY3Rpb24oKXtLLnNldCh0aGlzLGUpfSk6eih0aGlzLGZ1bmN0aW9uKHQpe3ZhciBuO2lmKG8mJnZvaWQgMD09PXQpe2lmKHZvaWQgMCE9PShuPUsuZ2V0KG8sZSkpKXJldHVybiBuO2lmKHZvaWQgMCE9PShuPW5lKG8sZSkpKXJldHVybiBufWVsc2UgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Sy5zZXQodGhpcyxlLHQpfSl9LG51bGwsdCxhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe0sucmVtb3ZlKHRoaXMsZSl9KX19KSx3LmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKGUpcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIscj1KLmdldChlLHQpLG4mJighcnx8QXJyYXkuaXNBcnJheShuKT9yPUouYWNjZXNzKGUsdCx3Lm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8ImZ4Ijt2YXIgbj13LnF1ZXVlKGUsdCkscj1uLmxlbmd0aCxpPW4uc2hpZnQoKSxvPXcuX3F1ZXVlSG9va3MoZSx0KSxhPWZ1bmN0aW9uKCl7dy5kZXF1ZXVlKGUsdCl9OyJpbnByb2dyZXNzIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJigiZngiPT09dCYmbi51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIG8uc3RvcCxpLmNhbGwoZSxhLG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIEouZ2V0KGUsbil8fEouYWNjZXNzKGUsbix7ZW1wdHk6dy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7Si5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksdy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iZngiLG4tLSksYXJndW1lbnRzLmxlbmd0aDxuP3cucXVldWUodGhpc1swXSxlKTp2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dy5xdWV1ZSh0aGlzLGUsdCk7dy5fcXVldWVIb29rcyh0aGlzLGUpLCJmeCI9PT1lJiYiaW5wcm9ncmVzcyIhPT1uWzBdJiZ3LmRlcXVldWUodGhpcyxlKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt3LmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9dy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49Si5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgcmU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsaWU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK3JlKyIpKFthLXolXSopJCIsImkiKSxvZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLGFlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIm5vbmUiPT09KGU9dHx8ZSkuc3R5bGUuZGlzcGxheXx8IiI9PT1lLnN0eWxlLmRpc3BsYXkmJncuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpJiYibm9uZSI9PT13LmNzcyhlLCJkaXNwbGF5Iil9LHNlPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYT17fTtmb3IobyBpbiB0KWFbb109ZS5zdHlsZVtvXSxlLnN0eWxlW29dPXRbb107aT1uLmFwcGx5KGUscnx8W10pO2ZvcihvIGluIHQpZS5zdHlsZVtvXT1hW29dO3JldHVybiBpfTtmdW5jdGlvbiB1ZShlLHQsbixyKXt2YXIgaSxvLGE9MjAscz1yP2Z1bmN0aW9uKCl7cmV0dXJuIHIuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIHcuY3NzKGUsdCwiIil9LHU9cygpLGw9biYmblszXXx8KHcuY3NzTnVtYmVyW3RdPyIiOiJweCIpLGM9KHcuY3NzTnVtYmVyW3RdfHwicHgiIT09bCYmK3UpJiZpZS5leGVjKHcuY3NzKGUsdCkpO2lmKGMmJmNbM10hPT1sKXt1Lz0yLGw9bHx8Y1szXSxjPSt1fHwxO3doaWxlKGEtLSl3LnN0eWxlKGUsdCxjK2wpLCgxLW8pKigxLShvPXMoKS91fHwuNSkpPD0wJiYoYT0wKSxjLz1vO2MqPTIsdy5zdHlsZShlLHQsYytsKSxuPW58fFtdfXJldHVybiBuJiYoYz0rY3x8K3V8fDAsaT1uWzFdP2MrKG5bMV0rMSkqblsyXTorblsyXSxyJiYoci51bml0PWwsci5zdGFydD1jLHIuZW5kPWkpKSxpfXZhciBsZT17fTtmdW5jdGlvbiBjZShlKXt2YXIgdCxuPWUub3duZXJEb2N1bWVudCxyPWUubm9kZU5hbWUsaT1sZVtyXTtyZXR1cm4gaXx8KHQ9bi5ib2R5LmFwcGVuZENoaWxkKG4uY3JlYXRlRWxlbWVudChyKSksaT13LmNzcyh0LCJkaXNwbGF5IiksdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLCJub25lIj09PWkmJihpPSJibG9jayIpLGxlW3JdPWksaSl9ZnVuY3Rpb24gZmUoZSx0KXtmb3IodmFyIG4scixpPVtdLG89MCxhPWUubGVuZ3RoO288YTtvKyspKHI9ZVtvXSkuc3R5bGUmJihuPXIuc3R5bGUuZGlzcGxheSx0Pygibm9uZSI9PT1uJiYoaVtvXT1KLmdldChyLCJkaXNwbGF5Iil8fG51bGwsaVtvXXx8KHIuc3R5bGUuZGlzcGxheT0iIikpLCIiPT09ci5zdHlsZS5kaXNwbGF5JiZhZShyKSYmKGlbb109Y2UocikpKToibm9uZSIhPT1uJiYoaVtvXT0ibm9uZSIsSi5zZXQociwiZGlzcGxheSIsbikpKTtmb3Iobz0wO288YTtvKyspbnVsbCE9aVtvXSYmKGVbb10uc3R5bGUuZGlzcGxheT1pW29dKTtyZXR1cm4gZX13LmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBmZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBmZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT93KHRoaXMpLnNob3coKTp3KHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKykvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2U9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtnZS5vcHRncm91cD1nZS5vcHRpb24sZ2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZDtmdW5jdGlvbiB5ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmTihlLHQpP3cubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24gdmUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspSi5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fEouZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9dmFyIG1lPS88fCYjP1x3KzsvO2Z1bmN0aW9uIHhlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGEscyx1LGwsYyxmPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHA9W10sZD0wLGg9ZS5sZW5ndGg7ZDxoO2QrKylpZigobz1lW2RdKXx8MD09PW8paWYoIm9iamVjdCI9PT14KG8pKXcubWVyZ2UocCxvLm5vZGVUeXBlP1tvXTpvKTtlbHNlIGlmKG1lLnRlc3Qobykpe2E9YXx8Zi5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxzPShkZS5leGVjKG8pfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHU9Z2Vbc118fGdlLl9kZWZhdWx0LGEuaW5uZXJIVE1MPXVbMV0rdy5odG1sUHJlZmlsdGVyKG8pK3VbMl0sYz11WzBdO3doaWxlKGMtLSlhPWEubGFzdENoaWxkO3cubWVyZ2UocCxhLmNoaWxkTm9kZXMpLChhPWYuZmlyc3RDaGlsZCkudGV4dENvbnRlbnQ9IiJ9ZWxzZSBwLnB1c2godC5jcmVhdGVUZXh0Tm9kZShvKSk7Zi50ZXh0Q29udGVudD0iIixkPTA7d2hpbGUobz1wW2QrK10paWYociYmdy5pbkFycmF5KG8scik+LTEpaSYmaS5wdXNoKG8pO2Vsc2UgaWYobD13LmNvbnRhaW5zKG8ub3duZXJEb2N1bWVudCxvKSxhPXllKGYuYXBwZW5kQ2hpbGQobyksInNjcmlwdCIpLGwmJnZlKGEpLG4pe2M9MDt3aGlsZShvPWFbYysrXSloZS50ZXN0KG8udHlwZXx8IiIpJiZuLnB1c2gobyl9cmV0dXJuIGZ9IWZ1bmN0aW9uKCl7dmFyIGU9ci5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoci5jcmVhdGVFbGVtZW50KCJkaXYiKSksdD1yLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLHQuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLHQuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGUuYXBwZW5kQ2hpbGQodCksaC5jaGVja0Nsb25lPWUuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGUuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixoLm5vQ2xvbmVDaGVja2VkPSEhZS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIGJlPXIuZG9jdW1lbnRFbGVtZW50LHdlPS9ea2V5LyxUZT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sQ2U9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIEVlKCl7cmV0dXJuITB9ZnVuY3Rpb24ga2UoKXtyZXR1cm4hMX1mdW5jdGlvbiBTZSgpe3RyeXtyZXR1cm4gci5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe319ZnVuY3Rpb24gRGUoZSx0LG4scixpLG8pe3ZhciBhLHM7aWYoIm9iamVjdCI9PXR5cGVvZiB0KXsic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApO2ZvcihzIGluIHQpRGUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9a2U7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD13Lmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe3cuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX13LmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLHUsbCxjLGYscCxkLGgsZyx5PUouZ2V0KGUpO2lmKHkpe24uaGFuZGxlciYmKG49KG89bikuaGFuZGxlcixpPW8uc2VsZWN0b3IpLGkmJncuZmluZC5tYXRjaGVzU2VsZWN0b3IoYmUsaSksbi5ndWlkfHwobi5ndWlkPXcuZ3VpZCsrKSwodT15LmV2ZW50cyl8fCh1PXkuZXZlbnRzPXt9KSwoYT15LmhhbmRsZSl8fChhPXkuaGFuZGxlPWZ1bmN0aW9uKHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdyYmdy5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGU/dy5ldmVudC5kaXNwYXRjaC5hcHBseShlLGFyZ3VtZW50cyk6dm9pZCAwfSksbD0odD0odHx8IiIpLm1hdGNoKE0pfHxbIiJdKS5sZW5ndGg7d2hpbGUobC0tKWQ9Zz0ocz1DZS5leGVjKHRbbF0pfHxbXSlbMV0saD0oc1syXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLGQmJihmPXcuZXZlbnQuc3BlY2lhbFtkXXx8e30sZD0oaT9mLmRlbGVnYXRlVHlwZTpmLmJpbmRUeXBlKXx8ZCxmPXcuZXZlbnQuc3BlY2lhbFtkXXx8e30sYz13LmV4dGVuZCh7dHlwZTpkLG9yaWdUeXBlOmcsZGF0YTpyLGhhbmRsZXI6bixndWlkOm4uZ3VpZCxzZWxlY3RvcjppLG5lZWRzQ29udGV4dDppJiZ3LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoaSksbmFtZXNwYWNlOmguam9pbigiLiIpfSxvKSwocD11W2RdKXx8KChwPXVbZF09W10pLmRlbGVnYXRlQ291bnQ9MCxmLnNldHVwJiYhMSE9PWYuc2V0dXAuY2FsbChlLHIsaCxhKXx8ZS5hZGRFdmVudExpc3RlbmVyJiZlLmFkZEV2ZW50TGlzdGVuZXIoZCxhKSksZi5hZGQmJihmLmFkZC5jYWxsKGUsYyksYy5oYW5kbGVyLmd1aWR8fChjLmhhbmRsZXIuZ3VpZD1uLmd1aWQpKSxpP3Auc3BsaWNlKHAuZGVsZWdhdGVDb3VudCsrLDAsYyk6cC5wdXNoKGMpLHcuZXZlbnQuZ2xvYmFsW2RdPSEwKX19LHJlbW92ZTpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLGEscyx1LGwsYyxmLHAsZCxoLGcseT1KLmhhc0RhdGEoZSkmJkouZ2V0KGUpO2lmKHkmJih1PXkuZXZlbnRzKSl7bD0odD0odHx8IiIpLm1hdGNoKE0pfHxbIiJdKS5sZW5ndGg7d2hpbGUobC0tKWlmKHM9Q2UuZXhlYyh0W2xdKXx8W10sZD1nPXNbMV0saD0oc1syXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLGQpe2Y9dy5ldmVudC5zcGVjaWFsW2RdfHx7fSxwPXVbZD0ocj9mLmRlbGVnYXRlVHlwZTpmLmJpbmRUeXBlKXx8ZF18fFtdLHM9c1syXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIraC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxhPW89cC5sZW5ndGg7d2hpbGUoby0tKWM9cFtvXSwhaSYmZyE9PWMub3JpZ1R5cGV8fG4mJm4uZ3VpZCE9PWMuZ3VpZHx8cyYmIXMudGVzdChjLm5hbWVzcGFjZSl8fHImJnIhPT1jLnNlbGVjdG9yJiYoIioqIiE9PXJ8fCFjLnNlbGVjdG9yKXx8KHAuc3BsaWNlKG8sMSksYy5zZWxlY3RvciYmcC5kZWxlZ2F0ZUNvdW50LS0sZi5yZW1vdmUmJmYucmVtb3ZlLmNhbGwoZSxjKSk7YSYmIXAubGVuZ3RoJiYoZi50ZWFyZG93biYmITEhPT1mLnRlYXJkb3duLmNhbGwoZSxoLHkuaGFuZGxlKXx8dy5yZW1vdmVFdmVudChlLGQseS5oYW5kbGUpLGRlbGV0ZSB1W2RdKX1lbHNlIGZvcihkIGluIHUpdy5ldmVudC5yZW1vdmUoZSxkK3RbbF0sbixyLCEwKTt3LmlzRW1wdHlPYmplY3QodSkmJkoucmVtb3ZlKGUsImhhbmRsZSBldmVudHMiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZhciB0PXcuZXZlbnQuZml4KGUpLG4scixpLG8sYSxzLHU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLGw9KEouZ2V0KHRoaXMsImV2ZW50cyIpfHx7fSlbdC50eXBlXXx8W10sYz13LmV2ZW50LnNwZWNpYWxbdC50eXBlXXx8e307Zm9yKHVbMF09dCxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl1W25dPWFyZ3VtZW50c1tuXTtpZih0LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdCkpe3M9dy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdCxsKSxuPTA7d2hpbGUoKG89c1tuKytdKSYmIXQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dC5jdXJyZW50VGFyZ2V0PW8uZWxlbSxyPTA7d2hpbGUoKGE9by5oYW5kbGVyc1tyKytdKSYmIXQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl0LnJuYW1lc3BhY2UmJiF0LnJuYW1lc3BhY2UudGVzdChhLm5hbWVzcGFjZSl8fCh0LmhhbmRsZU9iaj1hLHQuZGF0YT1hLmRhdGEsdm9pZCAwIT09KGk9KCh3LmV2ZW50LnNwZWNpYWxbYS5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGEuaGFuZGxlcikuYXBwbHkoby5lbGVtLHUpKSYmITE9PT0odC5yZXN1bHQ9aSkmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHQpLHQucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJmUuYnV0dG9uPj0xKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/dyhpLHRoaXMpLmluZGV4KGwpPi0xOncuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbihlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3LkV2ZW50LnByb3RvdHlwZSxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6Zyh0KT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdCh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W2VdfSxzZXQ6ZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbdy5leHBhbmRvXT9lOm5ldyB3LkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09U2UoKSYmdGhpcy5mb2N1cylyZXR1cm4gdGhpcy5mb2N1cygpLCExfSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcz09PVNlKCkmJnRoaXMuYmx1cilyZXR1cm4gdGhpcy5ibHVyKCksITF9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKCJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJk4odGhpcywiaW5wdXQiKSlyZXR1cm4gdGhpcy5jbGljaygpLCExfSxfZGVmYXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gTihlLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LHcucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LHcuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiB3LkV2ZW50KSlyZXR1cm4gbmV3IHcuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT9FZTprZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZ3LmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbdy5leHBhbmRvXT0hMH0sdy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOncuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmtlLGlzUHJvcGFnYXRpb25TdG9wcGVkOmtlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmtlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPUVlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPUVlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1FZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sdy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihlKXt2YXIgdD1lLmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS53aGljaCYmd2UudGVzdChlLnR5cGUpP251bGwhPWUuY2hhckNvZGU/ZS5jaGFyQ29kZTplLmtleUNvZGU6IWUud2hpY2gmJnZvaWQgMCE9PXQmJlRlLnRlc3QoZS50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOmUud2hpY2h9fSx3LmV2ZW50LmFkZFByb3ApLHcuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oZSx0KXt3LmV2ZW50LnNwZWNpYWxbZV09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcyxpPWUucmVsYXRlZFRhcmdldCxvPWUuaGFuZGxlT2JqO3JldHVybiBpJiYoaT09PXJ8fHcuY29udGFpbnMocixpKSl8fChlLnR5cGU9by5vcmlnVHlwZSxuPW8uaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS50eXBlPXQpLG59fX0pLHcuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRGUodGhpcyxlLHQsbixyKX0sb25lOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBEZSh0aGlzLGUsdCxuLHIsMSl9LG9mZjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZihlJiZlLnByZXZlbnREZWZhdWx0JiZlLmhhbmRsZU9iailyZXR1cm4gcj1lLmhhbmRsZU9iaix3KGUuZGVsZWdhdGVUYXJnZXQpLm9mZihyLm5hbWVzcGFjZT9yLm9yaWdUeXBlKyIuIityLm5hbWVzcGFjZTpyLm9yaWdUeXBlLHIuc2VsZWN0b3Isci5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgZSl7Zm9yKGkgaW4gZSl0aGlzLm9mZihpLHQsZVtpXSk7cmV0dXJuIHRoaXN9cmV0dXJuITEhPT10JiYiZnVuY3Rpb24iIT10eXBlb2YgdHx8KG49dCx0PXZvaWQgMCksITE9PT1uJiYobj1rZSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dy5ldmVudC5yZW1vdmUodGhpcyxlLG4sdCl9KX19KTt2YXIgTmU9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopW14+XSopXC8+L2dpLEFlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLGplPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHFlPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBMZShlLHQpe3JldHVybiBOKGUsInRhYmxlIikmJk4oMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpP3coZSkuY2hpbGRyZW4oInRib2R5IilbMF18fGU6ZX1mdW5jdGlvbiBIZShlKXtyZXR1cm4gZS50eXBlPShudWxsIT09ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2UudHlwZSxlfWZ1bmN0aW9uIE9lKGUpe3JldHVybiJ0cnVlLyI9PT0oZS50eXBlfHwiIikuc2xpY2UoMCw1KT9lLnR5cGU9ZS50eXBlLnNsaWNlKDUpOmUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksZX1mdW5jdGlvbiBQZShlLHQpe3ZhciBuLHIsaSxvLGEscyx1LGw7aWYoMT09PXQubm9kZVR5cGUpe2lmKEouaGFzRGF0YShlKSYmKG89Si5hY2Nlc3MoZSksYT1KLnNldCh0LG8pLGw9by5ldmVudHMpKXtkZWxldGUgYS5oYW5kbGUsYS5ldmVudHM9e307Zm9yKGkgaW4gbClmb3Iobj0wLHI9bFtpXS5sZW5ndGg7bjxyO24rKyl3LmV2ZW50LmFkZCh0LGksbFtpXVtuXSl9Sy5oYXNEYXRhKGUpJiYocz1LLmFjY2VzcyhlKSx1PXcuZXh0ZW5kKHt9LHMpLEsuc2V0KHQsdSkpfX1mdW5jdGlvbiBNZShlLHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsiaW5wdXQiPT09biYmcGUudGVzdChlLnR5cGUpP3QuY2hlY2tlZD1lLmNoZWNrZWQ6ImlucHV0IiE9PW4mJiJ0ZXh0YXJlYSIhPT1ufHwodC5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpfWZ1bmN0aW9uIFJlKGUsdCxuLHIpe3Q9YS5hcHBseShbXSx0KTt2YXIgaSxvLHMsdSxsLGMsZj0wLHA9ZS5sZW5ndGgsZD1wLTEseT10WzBdLHY9Zyh5KTtpZih2fHxwPjEmJiJzdHJpbmciPT10eXBlb2YgeSYmIWguY2hlY2tDbG9uZSYmamUudGVzdCh5KSlyZXR1cm4gZS5lYWNoKGZ1bmN0aW9uKGkpe3ZhciBvPWUuZXEoaSk7diYmKHRbMF09eS5jYWxsKHRoaXMsaSxvLmh0bWwoKSkpLFJlKG8sdCxuLHIpfSk7aWYocCYmKGk9eGUodCxlWzBdLm93bmVyRG9jdW1lbnQsITEsZSxyKSxvPWkuZmlyc3RDaGlsZCwxPT09aS5jaGlsZE5vZGVzLmxlbmd0aCYmKGk9byksb3x8cikpe2Zvcih1PShzPXcubWFwKHllKGksInNjcmlwdCIpLEhlKSkubGVuZ3RoO2Y8cDtmKyspbD1pLGYhPT1kJiYobD13LmNsb25lKGwsITAsITApLHUmJncubWVyZ2Uocyx5ZShsLCJzY3JpcHQiKSkpLG4uY2FsbChlW2ZdLGwsZik7aWYodSlmb3IoYz1zW3MubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsdy5tYXAocyxPZSksZj0wO2Y8dTtmKyspbD1zW2ZdLGhlLnRlc3QobC50eXBlfHwiIikmJiFKLmFjY2VzcyhsLCJnbG9iYWxFdmFsIikmJncuY29udGFpbnMoYyxsKSYmKGwuc3JjJiYibW9kdWxlIiE9PShsLnR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpP3cuX2V2YWxVcmwmJncuX2V2YWxVcmwobC5zcmMpOm0obC50ZXh0Q29udGVudC5yZXBsYWNlKHFlLCIiKSxjLGwpKX1yZXR1cm4gZX1mdW5jdGlvbiBJZShlLHQsbil7Zm9yKHZhciByLGk9dD93LmZpbHRlcih0LGUpOmUsbz0wO251bGwhPShyPWlbb10pO28rKylufHwxIT09ci5ub2RlVHlwZXx8dy5jbGVhbkRhdGEoeWUocikpLHIucGFyZW50Tm9kZSYmKG4mJncuY29udGFpbnMoci5vd25lckRvY3VtZW50LHIpJiZ2ZSh5ZShyLCJzY3JpcHQiKSksci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKTtyZXR1cm4gZX13LmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKE5lLCI8JDE+PC8kMj4iKX0sY2xvbmU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHM9ZS5jbG9uZU5vZGUoITApLHU9dy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSk7aWYoIShoLm5vQ2xvbmVDaGVja2VkfHwxIT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlfHx3LmlzWE1MRG9jKGUpKSlmb3IoYT15ZShzKSxyPTAsaT0obz15ZShlKSkubGVuZ3RoO3I8aTtyKyspTWUob1tyXSxhW3JdKTtpZih0KWlmKG4pZm9yKG89b3x8eWUoZSksYT1hfHx5ZShzKSxyPTAsaT1vLmxlbmd0aDtyPGk7cisrKVBlKG9bcl0sYVtyXSk7ZWxzZSBQZShlLHMpO3JldHVybihhPXllKHMsInNjcmlwdCIpKS5sZW5ndGg+MCYmdmUoYSwhdSYmeWUoZSwic2NyaXB0IikpLHN9LGNsZWFuRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLGk9dy5ldmVudC5zcGVjaWFsLG89MDt2b2lkIDAhPT0obj1lW29dKTtvKyspaWYoWShuKSl7aWYodD1uW0ouZXhwYW5kb10pe2lmKHQuZXZlbnRzKWZvcihyIGluIHQuZXZlbnRzKWlbcl0/dy5ldmVudC5yZW1vdmUobixyKTp3LnJlbW92ZUV2ZW50KG4scix0LmhhbmRsZSk7bltKLmV4cGFuZG9dPXZvaWQgMH1uW0suZXhwYW5kb10mJihuW0suZXhwYW5kb109dm9pZCAwKX19fSksdy5mbi5leHRlbmQoe2RldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gSWUodGhpcyxlLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3JldHVybiBJZSh0aGlzLGUpfSx0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiB6KHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/dy50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWUpfSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIFJlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxMZSh0aGlzLGUpLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gUmUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PUxlKHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gUmUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gUmUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO251bGwhPShlPXRoaXNbdF0pO3QrKykxPT09ZS5ub2RlVHlwZSYmKHcuY2xlYW5EYXRhKHllKGUsITEpKSxlLnRleHRDb250ZW50PSIiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1udWxsIT1lJiZlLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdy5jbG9uZSh0aGlzLGUsdCl9KX0saHRtbDpmdW5jdGlvbihlKXtyZXR1cm4geih0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXNbMF18fHt9LG49MCxyPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWUmJjE9PT10Lm5vZGVUeXBlKXJldHVybiB0LmlubmVySFRNTDtpZigic3RyaW5nIj09dHlwZW9mIGUmJiFBZS50ZXN0KGUpJiYhZ2VbKGRlLmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtlPXcuaHRtbFByZWZpbHRlcihlKTt0cnl7Zm9yKDtuPHI7bisrKTE9PT0odD10aGlzW25dfHx7fSkubm9kZVR5cGUmJih3LmNsZWFuRGF0YSh5ZSh0LCExKSksdC5pbm5lckhUTUw9ZSk7dD0wfWNhdGNoKGUpe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBSZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbih0KXt2YXIgbj10aGlzLnBhcmVudE5vZGU7dy5pbkFycmF5KHRoaXMsZSk8MCYmKHcuY2xlYW5EYXRhKHllKHRoaXMpKSxuJiZuLnJlcGxhY2VDaGlsZCh0LHRoaXMpKX0sZSl9fSksdy5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oZSx0KXt3LmZuW2VdPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbixyPVtdLGk9dyhlKSxvPWkubGVuZ3RoLTEsYT0wO2E8PW87YSsrKW49YT09PW8/dGhpczp0aGlzLmNsb25lKCEwKSx3KGlbYV0pW3RdKG4pLHMuYXBwbHkocixuLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2socil9fSk7dmFyIFdlPW5ldyBSZWdFeHAoIl4oIityZSsiKSg/IXB4KVthLXolXSskIiwiaSIpLCRlPWZ1bmN0aW9uKHQpe3ZhciBuPXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gbiYmbi5vcGVuZXJ8fChuPWUpLG4uZ2V0Q29tcHV0ZWRTdHlsZSh0KX0sQmU9bmV3IFJlZ0V4cChvZS5qb2luKCJ8IiksImkiKTshZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aWYoYyl7bC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7bWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowIixjLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjYwJTt0b3A6MSUiLGJlLmFwcGVuZENoaWxkKGwpLmFwcGVuZENoaWxkKGMpO3ZhciB0PWUuZ2V0Q29tcHV0ZWRTdHlsZShjKTtpPSIxJSIhPT10LnRvcCx1PTEyPT09bih0Lm1hcmdpbkxlZnQpLGMuc3R5bGUucmlnaHQ9IjYwJSIscz0zNj09PW4odC5yaWdodCksbz0zNj09PW4odC53aWR0aCksYy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGE9MzY9PT1jLm9mZnNldFdpZHRofHwiYWJzb2x1dGUiLGJlLnJlbW92ZUNoaWxkKGwpLGM9bnVsbH19ZnVuY3Rpb24gbihlKXtyZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGUpKX12YXIgaSxvLGEscyx1LGw9ci5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPXIuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5zdHlsZSYmKGMuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixjLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIsaC5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWMuc3R5bGUuYmFja2dyb3VuZENsaXAsdy5leHRlbmQoaCx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLG99LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHQoKSxzfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHQoKSxpfSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLHV9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLGF9fSkpfSgpO2Z1bmN0aW9uIEZlKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuc3R5bGU7cmV0dXJuKG49bnx8JGUoZSkpJiYoIiIhPT0oYT1uLmdldFByb3BlcnR5VmFsdWUodCl8fG5bdF0pfHx3LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8KGE9dy5zdHlsZShlLHQpKSwhaC5waXhlbEJveFN0eWxlcygpJiZXZS50ZXN0KGEpJiZCZS50ZXN0KHQpJiYocj1zLndpZHRoLGk9cy5taW5XaWR0aCxvPXMubWF4V2lkdGgscy5taW5XaWR0aD1zLm1heFdpZHRoPXMud2lkdGg9YSxhPW4ud2lkdGgscy53aWR0aD1yLHMubWluV2lkdGg9aSxzLm1heFdpZHRoPW8pKSx2b2lkIDAhPT1hP2ErIiI6YX1mdW5jdGlvbiBfZShlLHQpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtpZighZSgpKXJldHVybih0aGlzLmdldD10KS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMuZ2V0fX19dmFyIHplPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxYZT0vXi0tLyxVZT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sVmU9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LEdlPVsiV2Via2l0IiwiTW96IiwibXMiXSxZZT1yLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlO2Z1bmN0aW9uIFFlKGUpe2lmKGUgaW4gWWUpcmV0dXJuIGU7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1HZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUdlW25dK3QpaW4gWWUpcmV0dXJuIGV9ZnVuY3Rpb24gSmUoZSl7dmFyIHQ9dy5jc3NQcm9wc1tlXTtyZXR1cm4gdHx8KHQ9dy5jc3NQcm9wc1tlXT1RZShlKXx8ZSksdH1mdW5jdGlvbiBLZShlLHQsbil7dmFyIHI9aWUuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMl0tKG58fDApKSsoclszXXx8InB4Iik6dH1mdW5jdGlvbiBaZShlLHQsbixyLGksbyl7dmFyIGE9IndpZHRoIj09PXQ/MTowLHM9MCx1PTA7aWYobj09PShyPyJib3JkZXIiOiJjb250ZW50IikpcmV0dXJuIDA7Zm9yKDthPDQ7YSs9MikibWFyZ2luIj09PW4mJih1Kz13LmNzcyhlLG4rb2VbYV0sITAsaSkpLHI/KCJjb250ZW50Ij09PW4mJih1LT13LmNzcyhlLCJwYWRkaW5nIitvZVthXSwhMCxpKSksIm1hcmdpbiIhPT1uJiYodS09dy5jc3MoZSwiYm9yZGVyIitvZVthXSsiV2lkdGgiLCEwLGkpKSk6KHUrPXcuY3NzKGUsInBhZGRpbmciK29lW2FdLCEwLGkpLCJwYWRkaW5nIiE9PW4/dSs9dy5jc3MoZSwiYm9yZGVyIitvZVthXSsiV2lkdGgiLCEwLGkpOnMrPXcuY3NzKGUsImJvcmRlciIrb2VbYV0rIldpZHRoIiwhMCxpKSk7cmV0dXJuIXImJm8+PTAmJih1Kz1NYXRoLm1heCgwLE1hdGguY2VpbChlWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1vLXUtcy0uNSkpKSx1fWZ1bmN0aW9uIGV0KGUsdCxuKXt2YXIgcj0kZShlKSxpPUZlKGUsdCxyKSxvPSJib3JkZXItYm94Ij09PXcuY3NzKGUsImJveFNpemluZyIsITEsciksYT1vO2lmKFdlLnRlc3QoaSkpe2lmKCFuKXJldHVybiBpO2k9ImF1dG8ifXJldHVybiBhPWEmJihoLmJveFNpemluZ1JlbGlhYmxlKCl8fGk9PT1lLnN0eWxlW3RdKSwoImF1dG8iPT09aXx8IXBhcnNlRmxvYXQoaSkmJiJpbmxpbmUiPT09dy5jc3MoZSwiZGlzcGxheSIsITEscikpJiYoaT1lWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXSxhPSEwKSwoaT1wYXJzZUZsb2F0KGkpfHwwKStaZShlLHQsbnx8KG8/ImJvcmRlciI6ImNvbnRlbnQiKSxhLHIsaSkrInB4In13LmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPUZlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e30sc3R5bGU6ZnVuY3Rpb24oZSx0LG4scil7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgaSxvLGEscz1HKHQpLHU9WGUudGVzdCh0KSxsPWUuc3R5bGU7aWYodXx8KHQ9SmUocykpLGE9dy5jc3NIb29rc1t0XXx8dy5jc3NIb29rc1tzXSx2b2lkIDA9PT1uKXJldHVybiBhJiYiZ2V0ImluIGEmJnZvaWQgMCE9PShpPWEuZ2V0KGUsITEscikpP2k6bFt0XTsic3RyaW5nIj09KG89dHlwZW9mIG4pJiYoaT1pZS5leGVjKG4pKSYmaVsxXSYmKG49dWUoZSx0LGkpLG89Im51bWJlciIpLG51bGwhPW4mJm49PT1uJiYoIm51bWJlciI9PT1vJiYobis9aSYmaVszXXx8KHcuY3NzTnVtYmVyW3NdPyIiOiJweCIpKSxoLmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1ufHwwIT09dC5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChsW3RdPSJpbmhlcml0IiksYSYmInNldCJpbiBhJiZ2b2lkIDA9PT0obj1hLnNldChlLG4scikpfHwodT9sLnNldFByb3BlcnR5KHQsbik6bFt0XT1uKSl9fSxjc3M6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHM9Ryh0KTtyZXR1cm4gWGUudGVzdCh0KXx8KHQ9SmUocykpLChhPXcuY3NzSG9va3NbdF18fHcuY3NzSG9va3Nbc10pJiYiZ2V0ImluIGEmJihpPWEuZ2V0KGUsITAsbikpLHZvaWQgMD09PWkmJihpPUZlKGUsdCxyKSksIm5vcm1hbCI9PT1pJiZ0IGluIFZlJiYoaT1WZVt0XSksIiI9PT1ufHxuPyhvPXBhcnNlRmxvYXQoaSksITA9PT1ufHxpc0Zpbml0ZShvKT9vfHwwOmkpOml9fSksdy5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihlLHQpe3cuY3NzSG9va3NbdF09e2dldDpmdW5jdGlvbihlLG4scil7aWYobilyZXR1cm4hemUudGVzdCh3LmNzcyhlLCJkaXNwbGF5IikpfHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoP2V0KGUsdCxyKTpzZShlLFVlLGZ1bmN0aW9uKCl7cmV0dXJuIGV0KGUsdCxyKX0pfSxzZXQ6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG89JGUoZSksYT0iYm9yZGVyLWJveCI9PT13LmNzcyhlLCJib3hTaXppbmciLCExLG8pLHM9ciYmWmUoZSx0LHIsYSxvKTtyZXR1cm4gYSYmaC5zY3JvbGxib3hTaXplKCk9PT1vLnBvc2l0aW9uJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLXBhcnNlRmxvYXQob1t0XSktWmUoZSx0LCJib3JkZXIiLCExLG8pLS41KSkscyYmKGk9aWUuZXhlYyhuKSkmJiJweCIhPT0oaVszXXx8InB4IikmJihlLnN0eWxlW3RdPW4sbj13LmNzcyhlLHQpKSxLZShlLG4scyl9fX0pLHcuY3NzSG9va3MubWFyZ2luTGVmdD1fZShoLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoRmUoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LXNlKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSx3LmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihlLHQpe3cuY3NzSG9va3NbZSt0XT17ZXhwYW5kOmZ1bmN0aW9uKG4pe2Zvcih2YXIgcj0wLGk9e30sbz0ic3RyaW5nIj09dHlwZW9mIG4/bi5zcGxpdCgiICIpOltuXTtyPDQ7cisrKWlbZStvZVtyXSt0XT1vW3JdfHxvW3ItMl18fG9bMF07cmV0dXJuIGl9fSwibWFyZ2luIiE9PWUmJih3LmNzc0hvb2tzW2UrdF0uc2V0PUtlKX0pLHcuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geih0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPSRlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPXcuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj93LnN0eWxlKGUsdCxuKTp3LmNzcyhlLHQpfSxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX19KTtmdW5jdGlvbiB0dChlLHQsbixyLGkpe3JldHVybiBuZXcgdHQucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX13LlR3ZWVuPXR0LHR0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dHQsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8dy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fCh3LmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9dHQucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOnR0LnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPXR0LnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD13LmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6dHQucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sdHQucHJvdG90eXBlLmluaXQucHJvdG90eXBlPXR0LnByb3RvdHlwZSx0dC5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIDEhPT1lLmVsZW0ubm9kZVR5cGV8fG51bGwhPWUuZWxlbVtlLnByb3BdJiZudWxsPT1lLmVsZW0uc3R5bGVbZS5wcm9wXT9lLmVsZW1bZS5wcm9wXToodD13LmNzcyhlLmVsZW0sZS5wcm9wLCIiKSkmJiJhdXRvIiE9PXQ/dDowfSxzZXQ6ZnVuY3Rpb24oZSl7dy5meC5zdGVwW2UucHJvcF0/dy5meC5zdGVwW2UucHJvcF0oZSk6MSE9PWUuZWxlbS5ub2RlVHlwZXx8bnVsbD09ZS5lbGVtLnN0eWxlW3cuY3NzUHJvcHNbZS5wcm9wXV0mJiF3LmNzc0hvb2tzW2UucHJvcF0/ZS5lbGVtW2UucHJvcF09ZS5ub3c6dy5zdHlsZShlLmVsZW0sZS5wcm9wLGUubm93K2UudW5pdCl9fX0sdHQucHJvcEhvb2tzLnNjcm9sbFRvcD10dC5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGUpe2UuZWxlbS5ub2RlVHlwZSYmZS5lbGVtLnBhcmVudE5vZGUmJihlLmVsZW1bZS5wcm9wXT1lLm5vdyl9fSx3LmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxzd2luZzpmdW5jdGlvbihlKXtyZXR1cm4uNS1NYXRoLmNvcyhlKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LHcuZng9dHQucHJvdG90eXBlLmluaXQsdy5meC5zdGVwPXt9O3ZhciBudCxydCxpdD0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sb3Q9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBhdCgpe3J0JiYoITE9PT1yLmhpZGRlbiYmZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/ZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYXQpOmUuc2V0VGltZW91dChhdCx3LmZ4LmludGVydmFsKSx3LmZ4LnRpY2soKSl9ZnVuY3Rpb24gc3QoKXtyZXR1cm4gZS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bnQ9dm9pZCAwfSksbnQ9RGF0ZS5ub3coKX1mdW5jdGlvbiB1dChlLHQpe3ZhciBuLHI9MCxpPXtoZWlnaHQ6ZX07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpWyJtYXJnaW4iKyhuPW9lW3JdKV09aVsicGFkZGluZyIrbl09ZTtyZXR1cm4gdCYmKGkub3BhY2l0eT1pLndpZHRoPWUpLGl9ZnVuY3Rpb24gbHQoZSx0LG4pe2Zvcih2YXIgcixpPShwdC50d2VlbmVyc1t0XXx8W10pLmNvbmNhdChwdC50d2VlbmVyc1siKiJdKSxvPTAsYT1pLmxlbmd0aDtvPGE7bysrKWlmKHI9aVtvXS5jYWxsKG4sdCxlKSlyZXR1cm4gcn1mdW5jdGlvbiBjdChlLHQsbil7dmFyIHIsaSxvLGEscyx1LGwsYyxmPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQscD10aGlzLGQ9e30saD1lLnN0eWxlLGc9ZS5ub2RlVHlwZSYmYWUoZSkseT1KLmdldChlLCJmeHNob3ciKTtuLnF1ZXVlfHwobnVsbD09KGE9dy5fcXVldWVIb29rcyhlLCJmeCIpKS51bnF1ZXVlZCYmKGEudW5xdWV1ZWQ9MCxzPWEuZW1wdHkuZmlyZSxhLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXthLnVucXVldWVkfHxzKCl9KSxhLnVucXVldWVkKysscC5hbHdheXMoZnVuY3Rpb24oKXtwLmFsd2F5cyhmdW5jdGlvbigpe2EudW5xdWV1ZWQtLSx3LnF1ZXVlKGUsImZ4IikubGVuZ3RofHxhLmVtcHR5LmZpcmUoKX0pfSkpO2ZvcihyIGluIHQpaWYoaT10W3JdLGl0LnRlc3QoaSkpe2lmKGRlbGV0ZSB0W3JdLG89b3x8InRvZ2dsZSI9PT1pLGk9PT0oZz8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09aXx8IXl8fHZvaWQgMD09PXlbcl0pY29udGludWU7Zz0hMH1kW3JdPXkmJnlbcl18fHcuc3R5bGUoZSxyKX1pZigodT0hdy5pc0VtcHR5T2JqZWN0KHQpKXx8IXcuaXNFbXB0eU9iamVjdChkKSl7ZiYmMT09PWUubm9kZVR5cGUmJihuLm92ZXJmbG93PVtoLm92ZXJmbG93LGgub3ZlcmZsb3dYLGgub3ZlcmZsb3dZXSxudWxsPT0obD15JiZ5LmRpc3BsYXkpJiYobD1KLmdldChlLCJkaXNwbGF5IikpLCJub25lIj09PShjPXcuY3NzKGUsImRpc3BsYXkiKSkmJihsP2M9bDooZmUoW2VdLCEwKSxsPWUuc3R5bGUuZGlzcGxheXx8bCxjPXcuY3NzKGUsImRpc3BsYXkiKSxmZShbZV0pKSksKCJpbmxpbmUiPT09Y3x8ImlubGluZS1ibG9jayI9PT1jJiZudWxsIT1sKSYmIm5vbmUiPT09dy5jc3MoZSwiZmxvYXQiKSYmKHV8fChwLmRvbmUoZnVuY3Rpb24oKXtoLmRpc3BsYXk9bH0pLG51bGw9PWwmJihjPWguZGlzcGxheSxsPSJub25lIj09PWM/IiI6YykpLGguZGlzcGxheT0iaW5saW5lLWJsb2NrIikpLG4ub3ZlcmZsb3cmJihoLm92ZXJmbG93PSJoaWRkZW4iLHAuYWx3YXlzKGZ1bmN0aW9uKCl7aC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLGgub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0saC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKSx1PSExO2ZvcihyIGluIGQpdXx8KHk/ImhpZGRlbiJpbiB5JiYoZz15LmhpZGRlbik6eT1KLmFjY2VzcyhlLCJmeHNob3ciLHtkaXNwbGF5Omx9KSxvJiYoeS5oaWRkZW49IWcpLGcmJmZlKFtlXSwhMCkscC5kb25lKGZ1bmN0aW9uKCl7Z3x8ZmUoW2VdKSxKLnJlbW92ZShlLCJmeHNob3ciKTtmb3IociBpbiBkKXcuc3R5bGUoZSxyLGRbcl0pfSkpLHU9bHQoZz95W3JdOjAscixwKSxyIGluIHl8fCh5W3JdPXUuc3RhcnQsZyYmKHUuZW5kPXUuc3RhcnQsdS5zdGFydD0wKSl9fWZ1bmN0aW9uIGZ0KGUsdCl7dmFyIG4scixpLG8sYTtmb3IobiBpbiBlKWlmKHI9RyhuKSxpPXRbcl0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT13LmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKXtvPWEuZXhwYW5kKG8pLGRlbGV0ZSBlW3JdO2ZvcihuIGluIG8pbiBpbiBlfHwoZVtuXT1vW25dLHRbbl09aSl9ZWxzZSB0W3JdPWl9ZnVuY3Rpb24gcHQoZSx0LG4pe3ZhciByLGksbz0wLGE9cHQucHJlZmlsdGVycy5sZW5ndGgscz13LkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIHUuZWxlbX0pLHU9ZnVuY3Rpb24oKXtpZihpKXJldHVybiExO2Zvcih2YXIgdD1udHx8c3QoKSxuPU1hdGgubWF4KDAsbC5zdGFydFRpbWUrbC5kdXJhdGlvbi10KSxyPTEtKG4vbC5kdXJhdGlvbnx8MCksbz0wLGE9bC50d2VlbnMubGVuZ3RoO288YTtvKyspbC50d2VlbnNbb10ucnVuKHIpO3JldHVybiBzLm5vdGlmeVdpdGgoZSxbbCxyLG5dKSxyPDEmJmE/bjooYXx8cy5ub3RpZnlXaXRoKGUsW2wsMSwwXSkscy5yZXNvbHZlV2l0aChlLFtsXSksITEpfSxsPXMucHJvbWlzZSh7ZWxlbTplLHByb3BzOncuZXh0ZW5kKHt9LHQpLG9wdHM6dy5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOncuZWFzaW5nLl9kZWZhdWx0fSxuKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6bixzdGFydFRpbWU6bnR8fHN0KCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuKXt2YXIgcj13LlR3ZWVuKGUsbC5vcHRzLHQsbixsLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8bC5vcHRzLmVhc2luZyk7cmV0dXJuIGwudHdlZW5zLnB1c2gocikscn0sc3RvcDpmdW5jdGlvbih0KXt2YXIgbj0wLHI9dD9sLnR3ZWVucy5sZW5ndGg6MDtpZihpKXJldHVybiB0aGlzO2ZvcihpPSEwO248cjtuKyspbC50d2VlbnNbbl0ucnVuKDEpO3JldHVybiB0PyhzLm5vdGlmeVdpdGgoZSxbbCwxLDBdKSxzLnJlc29sdmVXaXRoKGUsW2wsdF0pKTpzLnJlamVjdFdpdGgoZSxbbCx0XSksdGhpc319KSxjPWwucHJvcHM7Zm9yKGZ0KGMsbC5vcHRzLnNwZWNpYWxFYXNpbmcpO288YTtvKyspaWYocj1wdC5wcmVmaWx0ZXJzW29dLmNhbGwobCxlLGMsbC5vcHRzKSlyZXR1cm4gZyhyLnN0b3ApJiYody5fcXVldWVIb29rcyhsLmVsZW0sbC5vcHRzLnF1ZXVlKS5zdG9wPXIuc3RvcC5iaW5kKHIpKSxyO3JldHVybiB3Lm1hcChjLGx0LGwpLGcobC5vcHRzLnN0YXJ0KSYmbC5vcHRzLnN0YXJ0LmNhbGwoZSxsKSxsLnByb2dyZXNzKGwub3B0cy5wcm9ncmVzcykuZG9uZShsLm9wdHMuZG9uZSxsLm9wdHMuY29tcGxldGUpLmZhaWwobC5vcHRzLmZhaWwpLmFsd2F5cyhsLm9wdHMuYWx3YXlzKSx3LmZ4LnRpbWVyKHcuZXh0ZW5kKHUse2VsZW06ZSxhbmltOmwscXVldWU6bC5vcHRzLnF1ZXVlfSkpLGx9dy5BbmltYXRpb249dy5leHRlbmQocHQse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jcmVhdGVUd2VlbihlLHQpO3JldHVybiB1ZShuLmVsZW0sZSxpZS5leGVjKHQpLG4pLG59XX0sdHdlZW5lcjpmdW5jdGlvbihlLHQpe2coZSk/KHQ9ZSxlPVsiKiJdKTplPWUubWF0Y2goTSk7Zm9yKHZhciBuLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspbj1lW3JdLHB0LnR3ZWVuZXJzW25dPXB0LnR3ZWVuZXJzW25dfHxbXSxwdC50d2VlbmVyc1tuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltjdF0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9wdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6cHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLHcuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT93LmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fGcoZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIWcodCkmJnR9O3JldHVybiB3LmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiB3LmZ4LnNwZWVkcz9yLmR1cmF0aW9uPXcuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249dy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7ZyhyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmdy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LHcuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT13LmlzRW1wdHlPYmplY3QoZSksbz13LnNwZWVkKHQsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIHQ9cHQodGhpcyx3LmV4dGVuZCh7fSxlKSxvKTsoaXx8Si5nZXQodGhpcywiZmluaXNoIikpJiZ0LnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChuKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlJiYobj10LHQ9ZSxlPXZvaWQgMCksdCYmITEhPT1lJiZ0aGlzLnF1ZXVlKGV8fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PSEwLGk9bnVsbCE9ZSYmZSsicXVldWVIb29rcyIsbz13LnRpbWVycyxhPUouZ2V0KHRoaXMpO2lmKGkpYVtpXSYmYVtpXS5zdG9wJiZyKGFbaV0pO2Vsc2UgZm9yKGkgaW4gYSlhW2ldJiZhW2ldLnN0b3AmJm90LnRlc3QoaSkmJnIoYVtpXSk7Zm9yKGk9by5sZW5ndGg7aS0tOylvW2ldLmVsZW0hPT10aGlzfHxudWxsIT1lJiZvW2ldLnF1ZXVlIT09ZXx8KG9baV0uYW5pbS5zdG9wKG4pLHQ9ITEsby5zcGxpY2UoaSwxKSk7IXQmJm58fHcuZGVxdWV1ZSh0aGlzLGUpfSl9LGZpbmlzaDpmdW5jdGlvbihlKXtyZXR1cm4hMSE9PWUmJihlPWV8fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LG49Si5nZXQodGhpcykscj1uW2UrInF1ZXVlIl0saT1uW2UrInF1ZXVlSG9va3MiXSxvPXcudGltZXJzLGE9cj9yLmxlbmd0aDowO2ZvcihuLmZpbmlzaD0hMCx3LnF1ZXVlKHRoaXMsZSxbXSksaSYmaS5zdG9wJiZpLnN0b3AuY2FsbCh0aGlzLCEwKSx0PW8ubGVuZ3RoO3QtLTspb1t0XS5lbGVtPT09dGhpcyYmb1t0XS5xdWV1ZT09PWUmJihvW3RdLmFuaW0uc3RvcCghMCksby5zcGxpY2UodCwxKSk7Zm9yKHQ9MDt0PGE7dCsrKXJbdF0mJnJbdF0uZmluaXNoJiZyW3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBuLmZpbmlzaH0pfX0pLHcuZWFjaChbInRvZ2dsZSIsInNob3ciLCJoaWRlIl0sZnVuY3Rpb24oZSx0KXt2YXIgbj13LmZuW3RdO3cuZm5bdF09ZnVuY3Rpb24oZSxyLGkpe3JldHVybiBudWxsPT1lfHwiYm9vbGVhbiI9PXR5cGVvZiBlP24uYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZSh1dCh0LCEwKSxlLHIsaSl9fSksdy5lYWNoKHtzbGlkZURvd246dXQoInNob3ciKSxzbGlkZVVwOnV0KCJoaWRlIiksc2xpZGVUb2dnbGU6dXQoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oZSx0KXt3LmZuW2VdPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQsZSxuLHIpfX0pLHcudGltZXJzPVtdLHcuZngudGljaz1mdW5jdGlvbigpe3ZhciBlLHQ9MCxuPXcudGltZXJzO2ZvcihudD1EYXRlLm5vdygpO3Q8bi5sZW5ndGg7dCsrKShlPW5bdF0pKCl8fG5bdF0hPT1lfHxuLnNwbGljZSh0LS0sMSk7bi5sZW5ndGh8fHcuZnguc3RvcCgpLG50PXZvaWQgMH0sdy5meC50aW1lcj1mdW5jdGlvbihlKXt3LnRpbWVycy5wdXNoKGUpLHcuZnguc3RhcnQoKX0sdy5meC5pbnRlcnZhbD0xMyx3LmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7cnR8fChydD0hMCxhdCgpKX0sdy5meC5zdG9wPWZ1bmN0aW9uKCl7cnQ9bnVsbH0sdy5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sdy5mbi5kZWxheT1mdW5jdGlvbih0LG4pe3JldHVybiB0PXcuZng/dy5meC5zcGVlZHNbdF18fHQ6dCxuPW58fCJmeCIsdGhpcy5xdWV1ZShuLGZ1bmN0aW9uKG4scil7dmFyIGk9ZS5zZXRUaW1lb3V0KG4sdCk7ci5zdG9wPWZ1bmN0aW9uKCl7ZS5jbGVhclRpbWVvdXQoaSl9fSl9LGZ1bmN0aW9uKCl7dmFyIGU9ci5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLHQ9ci5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKS5hcHBlbmRDaGlsZChyLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtlLnR5cGU9ImNoZWNrYm94IixoLmNoZWNrT249IiIhPT1lLnZhbHVlLGgub3B0U2VsZWN0ZWQ9dC5zZWxlY3RlZCwoZT1yLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0IixlLnR5cGU9InJhZGlvIixoLnJhZGlvVmFsdWU9InQiPT09ZS52YWx1ZX0oKTt2YXIgZHQsaHQ9dy5leHByLmF0dHJIYW5kbGU7dy5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geih0aGlzLHcuYXR0cixlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dy5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSx3LmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGUuZ2V0QXR0cmlidXRlP3cucHJvcChlLHQsbik6KDE9PT1vJiZ3LmlzWE1MRG9jKGUpfHwoaT13LmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwody5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9kdDp2b2lkIDApKSx2b2lkIDAhPT1uP251bGw9PT1uP3ZvaWQgdy5yZW1vdmVBdHRyKGUsdCk6aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6KGUuc2V0QXR0cmlidXRlKHQsbisiIiksbik6aSYmImdldCJpbiBpJiZudWxsIT09KHI9aS5nZXQoZSx0KSk/cjpudWxsPT0ocj13LmZpbmQuYXR0cihlLHQpKT92b2lkIDA6cil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoIWgucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJk4oZSwiaW5wdXQiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLG4mJihlLnZhbHVlPW4pLHR9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10JiZ0Lm1hdGNoKE0pO2lmKGkmJjE9PT1lLm5vZGVUeXBlKXdoaWxlKG49aVtyKytdKWUucmVtb3ZlQXR0cmlidXRlKG4pfX0pLGR0PXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiExPT09dD93LnJlbW92ZUF0dHIoZSxuKTplLnNldEF0dHJpYnV0ZShuLG4pLG59fSx3LmVhY2gody5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oZSx0KXt2YXIgbj1odFt0XXx8dy5maW5kLmF0dHI7aHRbdF09ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG8sYT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIHJ8fChvPWh0W2FdLGh0W2FdPWksaT1udWxsIT1uKGUsdCxyKT9hOm51bGwsaHRbYV09byksaX19KTt2YXIgZ3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSx5dD0vXig/OmF8YXJlYSkkL2k7dy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geih0aGlzLHcucHJvcCxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbdy5wcm9wRml4W2VdfHxlXX0pfX0pLHcuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmdy5pc1hNTERvYyhlKXx8KHQ9dy5wcm9wRml4W3RdfHx0LGk9dy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXcuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6Z3QudGVzdChlLm5vZGVOYW1lKXx8eXQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSksaC5vcHRTZWxlY3RlZHx8KHcucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSx3LmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe3cucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTtmdW5jdGlvbiB2dChlKXtyZXR1cm4oZS5tYXRjaChNKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBtdChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB4dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZT9lLm1hdGNoKE0pfHxbXTpbXX13LmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxhLHMsdT0wO2lmKGcoZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt3KHRoaXMpLmFkZENsYXNzKGUuY2FsbCh0aGlzLHQsbXQodGhpcykpKX0pO2lmKCh0PXh0KGUpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1tdChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIrdnQoaSkrIiAiKXthPTA7d2hpbGUobz10W2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9dnQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscyx1PTA7aWYoZyhlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3codGhpcykucmVtb3ZlQ2xhc3MoZS5jYWxsKHRoaXMsdCxtdCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigodD14dChlKSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9bXQobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK3Z0KGkpKyIgIil7YT0wO3doaWxlKG89dFthKytdKXdoaWxlKHIuaW5kZXhPZigiICIrbysiICIpPi0xKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz12dChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dHlwZW9mIGUscj0ic3RyaW5nIj09PW58fEFycmF5LmlzQXJyYXkoZSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmcj90P3RoaXMuYWRkQ2xhc3MoZSk6dGhpcy5yZW1vdmVDbGFzcyhlKTpnKGUpP3RoaXMuZWFjaChmdW5jdGlvbihuKXt3KHRoaXMpLnRvZ2dsZUNsYXNzKGUuY2FsbCh0aGlzLG4sbXQodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxpLG8sYTtpZihyKXtpPTAsbz13KHRoaXMpLGE9eHQoZSk7d2hpbGUodD1hW2krK10pby5oYXNDbGFzcyh0KT9vLnJlbW92ZUNsYXNzKHQpOm8uYWRkQ2xhc3ModCl9ZWxzZSB2b2lkIDAhPT1lJiYiYm9vbGVhbiIhPT1ufHwoKHQ9bXQodGhpcykpJiZKLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIix0KSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIix0fHwhMT09PWU/IiI6Si5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYoIiAiK3Z0KG10KG4pKSsiICIpLmluZGV4T2YodCk+LTEpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIGJ0PS9cci9nO3cuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gcj1nKGUpLHRoaXMuZWFjaChmdW5jdGlvbihuKXt2YXIgaTsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PShpPXI/ZS5jYWxsKHRoaXMsbix3KHRoaXMpLnZhbCgpKTplKT9pPSIiOiJudW1iZXIiPT10eXBlb2YgaT9pKz0iIjpBcnJheS5pc0FycmF5KGkpJiYoaT13Lm1hcChpLGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHQ9dy52YWxIb29rc1t0aGlzLnR5cGVdfHx3LnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMsaSwidmFsdWUiKXx8KHRoaXMudmFsdWU9aSkpfSk7aWYoaSlyZXR1cm4odD13LnZhbEhvb2tzW2kudHlwZV18fHcudmFsSG9va3NbaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkmJiJnZXQiaW4gdCYmdm9pZCAwIT09KG49dC5nZXQoaSwidmFsdWUiKSk/bjoic3RyaW5nIj09dHlwZW9mKG49aS52YWx1ZSk/bi5yZXBsYWNlKGJ0LCIiKTpudWxsPT1uPyIiOm59fX0pLHcuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dy5maW5kLmF0dHIoZSwidmFsdWUiKTtyZXR1cm4gbnVsbCE9dD90OnZ0KHcudGV4dChlKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT1lLm9wdGlvbnMsbz1lLnNlbGVjdGVkSW5kZXgsYT0ic2VsZWN0LW9uZSI9PT1lLnR5cGUscz1hP251bGw6W10sdT1hP28rMTppLmxlbmd0aDtmb3Iocj1vPDA/dTphP286MDtyPHU7cisrKWlmKCgobj1pW3JdKS5zZWxlY3RlZHx8cj09PW8pJiYhbi5kaXNhYmxlZCYmKCFuLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFOKG4ucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKHQ9dyhuKS52YWwoKSxhKXJldHVybiB0O3MucHVzaCh0KX1yZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPWUub3B0aW9ucyxvPXcubWFrZUFycmF5KHQpLGE9aS5sZW5ndGg7d2hpbGUoYS0tKSgocj1pW2FdKS5zZWxlY3RlZD13LmluQXJyYXkody52YWxIb29rcy5vcHRpb24uZ2V0KHIpLG8pPi0xKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxvfX19fSksdy5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7dy52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gZS5jaGVja2VkPXcuaW5BcnJheSh3KGUpLnZhbCgpLHQpPi0xfX0saC5jaGVja09ufHwody52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmUudmFsdWV9KX0pLGguZm9jdXNpbj0ib25mb2N1c2luImluIGU7dmFyIHd0PS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxUdD1mdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfTt3LmV4dGVuZCh3LmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKHQsbixpLG8pe3ZhciBhLHMsdSxsLGMscCxkLGgsdj1baXx8cl0sbT1mLmNhbGwodCwidHlwZSIpP3QudHlwZTp0LHg9Zi5jYWxsKHQsIm5hbWVzcGFjZSIpP3QubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYocz1oPXU9aT1pfHxyLDMhPT1pLm5vZGVUeXBlJiY4IT09aS5ub2RlVHlwZSYmIXd0LnRlc3QobSt3LmV2ZW50LnRyaWdnZXJlZCkmJihtLmluZGV4T2YoIi4iKT4tMSYmKG09KHg9bS5zcGxpdCgiLiIpKS5zaGlmdCgpLHguc29ydCgpKSxjPW0uaW5kZXhPZigiOiIpPDAmJiJvbiIrbSx0PXRbdy5leHBhbmRvXT90Om5ldyB3LkV2ZW50KG0sIm9iamVjdCI9PXR5cGVvZiB0JiZ0KSx0LmlzVHJpZ2dlcj1vPzI6Myx0Lm5hbWVzcGFjZT14LmpvaW4oIi4iKSx0LnJuYW1lc3BhY2U9dC5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIreC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLHQucmVzdWx0PXZvaWQgMCx0LnRhcmdldHx8KHQudGFyZ2V0PWkpLG49bnVsbD09bj9bdF06dy5tYWtlQXJyYXkobixbdF0pLGQ9dy5ldmVudC5zcGVjaWFsW21dfHx7fSxvfHwhZC50cmlnZ2VyfHwhMSE9PWQudHJpZ2dlci5hcHBseShpLG4pKSl7aWYoIW8mJiFkLm5vQnViYmxlJiYheShpKSl7Zm9yKGw9ZC5kZWxlZ2F0ZVR5cGV8fG0sd3QudGVzdChsK20pfHwocz1zLnBhcmVudE5vZGUpO3M7cz1zLnBhcmVudE5vZGUpdi5wdXNoKHMpLHU9czt1PT09KGkub3duZXJEb2N1bWVudHx8cikmJnYucHVzaCh1LmRlZmF1bHRWaWV3fHx1LnBhcmVudFdpbmRvd3x8ZSl9YT0wO3doaWxlKChzPXZbYSsrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpaD1zLHQudHlwZT1hPjE/bDpkLmJpbmRUeXBlfHxtLChwPShKLmdldChzLCJldmVudHMiKXx8e30pW3QudHlwZV0mJkouZ2V0KHMsImhhbmRsZSIpKSYmcC5hcHBseShzLG4pLChwPWMmJnNbY10pJiZwLmFwcGx5JiZZKHMpJiYodC5yZXN1bHQ9cC5hcHBseShzLG4pLCExPT09dC5yZXN1bHQmJnQucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIHQudHlwZT1tLG98fHQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGQuX2RlZmF1bHQmJiExIT09ZC5fZGVmYXVsdC5hcHBseSh2LnBvcCgpLG4pfHwhWShpKXx8YyYmZyhpW21dKSYmIXkoaSkmJigodT1pW2NdKSYmKGlbY109bnVsbCksdy5ldmVudC50cmlnZ2VyZWQ9bSx0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmguYWRkRXZlbnRMaXN0ZW5lcihtLFR0KSxpW21dKCksdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZoLnJlbW92ZUV2ZW50TGlzdGVuZXIobSxUdCksdy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLHUmJihpW2NdPXUpKSx0LnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj13LmV4dGVuZChuZXcgdy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTt3LmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLHcuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3cuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIHcuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSksaC5mb2N1c2lufHx3LmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSl7dy5ldmVudC5zaW11bGF0ZSh0LGUudGFyZ2V0LHcuZXZlbnQuZml4KGUpKX07dy5ldmVudC5zcGVjaWFsW3RdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciByPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxpPUouYWNjZXNzKHIsdCk7aXx8ci5hZGRFdmVudExpc3RlbmVyKGUsbiwhMCksSi5hY2Nlc3Mocix0LChpfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgcj10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsaT1KLmFjY2VzcyhyLHQpLTE7aT9KLmFjY2VzcyhyLHQsaSk6KHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITApLEoucmVtb3ZlKHIsdCkpfX19KTt2YXIgQ3Q9ZS5sb2NhdGlvbixFdD1EYXRlLm5vdygpLGt0PS9cPy87dy5wYXJzZVhNTD1mdW5jdGlvbih0KXt2YXIgbjtpZighdHx8InN0cmluZyIhPXR5cGVvZiB0KXJldHVybiBudWxsO3RyeXtuPShuZXcgZS5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh0LCJ0ZXh0L3htbCIpfWNhdGNoKGUpe249dm9pZCAwfXJldHVybiBuJiYhbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGh8fHcuZXJyb3IoIkludmFsaWQgWE1MOiAiK3QpLG59O3ZhciBTdD0vXFtcXSQvLER0PS9ccj9cbi9nLE50PS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxBdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24ganQoZSx0LG4scil7dmFyIGk7aWYoQXJyYXkuaXNBcnJheSh0KSl3LmVhY2godCxmdW5jdGlvbih0LGkpe258fFN0LnRlc3QoZSk/cihlLGkpOmp0KGUrIlsiKygib2JqZWN0Ij09dHlwZW9mIGkmJm51bGwhPWk/dDoiIikrIl0iLGksbixyKX0pO2Vsc2UgaWYobnx8Im9iamVjdCIhPT14KHQpKXIoZSx0KTtlbHNlIGZvcihpIGluIHQpanQoZSsiWyIraSsiXSIsdFtpXSxuLHIpfXcucGFyYW09ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1nKHQpP3QoKTp0O3Jbci5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChlKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG51bGw9PW4/IiI6bil9O2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhdy5pc1BsYWluT2JqZWN0KGUpKXcuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpanQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSx3LmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHcucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT13LnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT93Lm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiF3KHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmQXQudGVzdCh0aGlzLm5vZGVOYW1lKSYmIU50LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPXcodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP3cubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShEdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRHQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgcXQ9LyUyMC9nLEx0PS8jLiokLyxIdD0vKFs/Jl0pXz1bXiZdKi8sT3Q9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxQdD0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxNdD0vXig/OkdFVHxIRUFEKSQvLFJ0PS9eXC9cLy8sSXQ9e30sV3Q9e30sJHQ9IiovIi5jb25jYXQoIioiKSxCdD1yLmNyZWF0ZUVsZW1lbnQoImEiKTtCdC5ocmVmPUN0LmhyZWY7ZnVuY3Rpb24gRnQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7InN0cmluZyIhPXR5cGVvZiB0JiYobj10LHQ9IioiKTt2YXIgcixpPTAsbz10LnRvTG93ZXJDYXNlKCkubWF0Y2goTSl8fFtdO2lmKGcobikpd2hpbGUocj1vW2krK10pIisiPT09clswXT8ocj1yLnNsaWNlKDEpfHwiKiIsKGVbcl09ZVtyXXx8W10pLnVuc2hpZnQobikpOihlW3JdPWVbcl18fFtdKS5wdXNoKG4pfX1mdW5jdGlvbiBfdChlLHQsbixyKXt2YXIgaT17fSxvPWU9PT1XdDtmdW5jdGlvbiBhKHMpe3ZhciB1O3JldHVybiBpW3NdPSEwLHcuZWFjaChlW3NdfHxbXSxmdW5jdGlvbihlLHMpe3ZhciBsPXModCxuLHIpO3JldHVybiJzdHJpbmciIT10eXBlb2YgbHx8b3x8aVtsXT9vPyEodT1sKTp2b2lkIDA6KHQuZGF0YVR5cGVzLnVuc2hpZnQobCksYShsKSwhMSl9KSx1fXJldHVybiBhKHQuZGF0YVR5cGVzWzBdKXx8IWlbIioiXSYmYSgiKiIpfWZ1bmN0aW9uIHp0KGUsdCl7dmFyIG4scixpPXcuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IobiBpbiB0KXZvaWQgMCE9PXRbbl0mJigoaVtuXT9lOnJ8fChyPXt9KSlbbl09dFtuXSk7cmV0dXJuIHImJncuZXh0ZW5kKCEwLGUsciksZX1mdW5jdGlvbiBYdChlLHQsbil7dmFyIHIsaSxvLGEscz1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7d2hpbGUoIioiPT09dVswXSl1LnNoaWZ0KCksdm9pZCAwPT09ciYmKHI9ZS5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKHIpZm9yKGkgaW4gcylpZihzW2ldJiZzW2ldLnRlc3Qocikpe3UudW5zaGlmdChpKTticmVha31pZih1WzBdaW4gbilvPXVbMF07ZWxzZXtmb3IoaSBpbiBuKXtpZighdVswXXx8ZS5jb252ZXJ0ZXJzW2krIiAiK3VbMF1dKXtvPWk7YnJlYWt9YXx8KGE9aSl9bz1vfHxhfWlmKG8pcmV0dXJuIG8hPT11WzBdJiZ1LnVuc2hpZnQobyksbltvXX1mdW5jdGlvbiBVdChlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fXcuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpDdC5ocmVmLHR5cGU6IkdFVCIsaXNMb2NhbDpQdC50ZXN0KEN0LnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOiR0LHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi9cYnhtbFxiLyxodG1sOi9cYmh0bWwvLGpzb246L1xianNvblxiL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOkpTT04ucGFyc2UsInRleHQgeG1sIjp3LnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD96dCh6dChlLHcuYWpheFNldHRpbmdzKSx0KTp6dCh3LmFqYXhTZXR0aW5ncyxlKX0sYWpheFByZWZpbHRlcjpGdChJdCksYWpheFRyYW5zcG9ydDpGdChXdCksYWpheDpmdW5jdGlvbih0LG4peyJvYmplY3QiPT10eXBlb2YgdCYmKG49dCx0PXZvaWQgMCksbj1ufHx7fTt2YXIgaSxvLGEscyx1LGwsYyxmLHAsZCxoPXcuYWpheFNldHVwKHt9LG4pLGc9aC5jb250ZXh0fHxoLHk9aC5jb250ZXh0JiYoZy5ub2RlVHlwZXx8Zy5qcXVlcnkpP3coZyk6dy5ldmVudCx2PXcuRGVmZXJyZWQoKSxtPXcuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHg9aC5zdGF0dXNDb2RlfHx7fSxiPXt9LFQ9e30sQz0iY2FuY2VsZWQiLEU9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdDtpZihjKXtpZighcyl7cz17fTt3aGlsZSh0PU90LmV4ZWMoYSkpc1t0WzFdLnRvTG93ZXJDYXNlKCldPXRbMl19dD1zW2UudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PXQ/bnVsbDp0fSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gYz9hOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09YyYmKGU9VFtlLnRvTG93ZXJDYXNlKCldPVRbZS50b0xvd2VyQ2FzZSgpXXx8ZSxiW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWMmJihoLm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihjKUUuYWx3YXlzKGVbRS5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpeFt0XT1beFt0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8QztyZXR1cm4gaSYmaS5hYm9ydCh0KSxrKDAsdCksdGhpc319O2lmKHYucHJvbWlzZShFKSxoLnVybD0oKHR8fGgudXJsfHxDdC5ocmVmKSsiIikucmVwbGFjZShSdCxDdC5wcm90b2NvbCsiLy8iKSxoLnR5cGU9bi5tZXRob2R8fG4udHlwZXx8aC5tZXRob2R8fGgudHlwZSxoLmRhdGFUeXBlcz0oaC5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKE0pfHxbIiJdLG51bGw9PWguY3Jvc3NEb21haW4pe2w9ci5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e2wuaHJlZj1oLnVybCxsLmhyZWY9bC5ocmVmLGguY3Jvc3NEb21haW49QnQucHJvdG9jb2wrIi8vIitCdC5ob3N0IT1sLnByb3RvY29sKyIvLyIrbC5ob3N0fWNhdGNoKGUpe2guY3Jvc3NEb21haW49ITB9fWlmKGguZGF0YSYmaC5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBoLmRhdGEmJihoLmRhdGE9dy5wYXJhbShoLmRhdGEsaC50cmFkaXRpb25hbCkpLF90KEl0LGgsbixFKSxjKXJldHVybiBFOyhmPXcuZXZlbnQmJmguZ2xvYmFsKSYmMD09dy5hY3RpdmUrKyYmdy5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSxoLnR5cGU9aC50eXBlLnRvVXBwZXJDYXNlKCksaC5oYXNDb250ZW50PSFNdC50ZXN0KGgudHlwZSksbz1oLnVybC5yZXBsYWNlKEx0LCIiKSxoLmhhc0NvbnRlbnQ/aC5kYXRhJiZoLnByb2Nlc3NEYXRhJiYwPT09KGguY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmKGguZGF0YT1oLmRhdGEucmVwbGFjZShxdCwiKyIpKTooZD1oLnVybC5zbGljZShvLmxlbmd0aCksaC5kYXRhJiYoaC5wcm9jZXNzRGF0YXx8InN0cmluZyI9PXR5cGVvZiBoLmRhdGEpJiYobys9KGt0LnRlc3Qobyk/IiYiOiI/IikraC5kYXRhLGRlbGV0ZSBoLmRhdGEpLCExPT09aC5jYWNoZSYmKG89by5yZXBsYWNlKEh0LCIkMSIpLGQ9KGt0LnRlc3Qobyk/IiYiOiI/IikrIl89IitFdCsrK2QpLGgudXJsPW8rZCksaC5pZk1vZGlmaWVkJiYody5sYXN0TW9kaWZpZWRbb10mJkUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLHcubGFzdE1vZGlmaWVkW29dKSx3LmV0YWdbb10mJkUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsdy5ldGFnW29dKSksKGguZGF0YSYmaC5oYXNDb250ZW50JiYhMSE9PWguY29udGVudFR5cGV8fG4uY29udGVudFR5cGUpJiZFLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsaC5jb250ZW50VHlwZSksRS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLGguZGF0YVR5cGVzWzBdJiZoLmFjY2VwdHNbaC5kYXRhVHlwZXNbMF1dP2guYWNjZXB0c1toLmRhdGFUeXBlc1swXV0rKCIqIiE9PWguZGF0YVR5cGVzWzBdPyIsICIrJHQrIjsgcT0wLjAxIjoiIik6aC5hY2NlcHRzWyIqIl0pO2ZvcihwIGluIGguaGVhZGVycylFLnNldFJlcXVlc3RIZWFkZXIocCxoLmhlYWRlcnNbcF0pO2lmKGguYmVmb3JlU2VuZCYmKCExPT09aC5iZWZvcmVTZW5kLmNhbGwoZyxFLGgpfHxjKSlyZXR1cm4gRS5hYm9ydCgpO2lmKEM9ImFib3J0IixtLmFkZChoLmNvbXBsZXRlKSxFLmRvbmUoaC5zdWNjZXNzKSxFLmZhaWwoaC5lcnJvciksaT1fdChXdCxoLG4sRSkpe2lmKEUucmVhZHlTdGF0ZT0xLGYmJnkudHJpZ2dlcigiYWpheFNlbmQiLFtFLGhdKSxjKXJldHVybiBFO2guYXN5bmMmJmgudGltZW91dD4wJiYodT1lLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtFLmFib3J0KCJ0aW1lb3V0Iil9LGgudGltZW91dCkpO3RyeXtjPSExLGkuc2VuZChiLGspfWNhdGNoKGUpe2lmKGMpdGhyb3cgZTtrKC0xLGUpfX1lbHNlIGsoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIGsodCxuLHIscyl7dmFyIGwscCxkLGIsVCxDPW47Y3x8KGM9ITAsdSYmZS5jbGVhclRpbWVvdXQodSksaT12b2lkIDAsYT1zfHwiIixFLnJlYWR5U3RhdGU9dD4wPzQ6MCxsPXQ+PTIwMCYmdDwzMDB8fDMwND09PXQsciYmKGI9WHQoaCxFLHIpKSxiPVV0KGgsYixFLGwpLGw/KGguaWZNb2RpZmllZCYmKChUPUUuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSkmJih3Lmxhc3RNb2RpZmllZFtvXT1UKSwoVD1FLmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIikpJiYody5ldGFnW29dPVQpKSwyMDQ9PT10fHwiSEVBRCI9PT1oLnR5cGU/Qz0ibm9jb250ZW50IjozMDQ9PT10P0M9Im5vdG1vZGlmaWVkIjooQz1iLnN0YXRlLHA9Yi5kYXRhLGw9IShkPWIuZXJyb3IpKSk6KGQ9QywhdCYmQ3x8KEM9ImVycm9yIix0PDAmJih0PTApKSksRS5zdGF0dXM9dCxFLnN0YXR1c1RleHQ9KG58fEMpKyIiLGw/di5yZXNvbHZlV2l0aChnLFtwLEMsRV0pOnYucmVqZWN0V2l0aChnLFtFLEMsZF0pLEUuc3RhdHVzQ29kZSh4KSx4PXZvaWQgMCxmJiZ5LnRyaWdnZXIobD8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtFLGgsbD9wOmRdKSxtLmZpcmVXaXRoKGcsW0UsQ10pLGYmJih5LnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW0UsaF0pLC0tdy5hY3RpdmV8fHcuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiBFfSxnZXRKU09OOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdy5nZXQoZSx0LG4sImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHcuZ2V0KGUsdm9pZCAwLHQsInNjcmlwdCIpfX0pLHcuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihlLHQpe3dbdF09ZnVuY3Rpb24oZSxuLHIsaSl7cmV0dXJuIGcobikmJihpPWl8fHIscj1uLG49dm9pZCAwKSx3LmFqYXgody5leHRlbmQoe3VybDplLHR5cGU6dCxkYXRhVHlwZTppLGRhdGE6bixzdWNjZXNzOnJ9LHcuaXNQbGFpbk9iamVjdChlKSYmZSkpfX0pLHcuX2V2YWxVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuIHcuYWpheCh7dXJsOmUsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0IixjYWNoZTohMCxhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX0sdy5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHRoaXNbMF0mJihnKGUpJiYoZT1lLmNhbGwodGhpc1swXSkpLHQ9dyhlLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmdC5pbnNlcnRCZWZvcmUodGhpc1swXSksdC5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3doaWxlKGUuZmlyc3RFbGVtZW50Q2hpbGQpZT1lLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGcoZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3codGhpcykud3JhcElubmVyKGUuY2FsbCh0aGlzLHQpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PXcodGhpcyksbj10LmNvbnRlbnRzKCk7bi5sZW5ndGg/bi53cmFwQWxsKGUpOnQuYXBwZW5kKGUpfSl9LHdyYXA6ZnVuY3Rpb24oZSl7dmFyIHQ9ZyhlKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3codGhpcykud3JhcEFsbCh0P2UuY2FsbCh0aGlzLG4pOmUpfSl9LHVud3JhcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wYXJlbnQoZSkubm90KCJib2R5IikuZWFjaChmdW5jdGlvbigpe3codGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLHRoaXN9fSksdy5leHByLnBzZXVkb3MuaGlkZGVuPWZ1bmN0aW9uKGUpe3JldHVybiF3LmV4cHIucHNldWRvcy52aXNpYmxlKGUpfSx3LmV4cHIucHNldWRvcy52aXNpYmxlPWZ1bmN0aW9uKGUpe3JldHVybiEhKGUub2Zmc2V0V2lkdGh8fGUub2Zmc2V0SGVpZ2h0fHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKX0sdy5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgZS5YTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9fTt2YXIgVnQ9ezA6MjAwLDEyMjM6MjA0fSxHdD13LmFqYXhTZXR0aW5ncy54aHIoKTtoLmNvcnM9ISFHdCYmIndpdGhDcmVkZW50aWFscyJpbiBHdCxoLmFqYXg9R3Q9ISFHdCx3LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24odCl7dmFyIG4scjtpZihoLmNvcnN8fEd0JiYhdC5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbihpLG8pe3ZhciBhLHM9dC54aHIoKTtpZihzLm9wZW4odC50eXBlLHQudXJsLHQuYXN5bmMsdC51c2VybmFtZSx0LnBhc3N3b3JkKSx0LnhockZpZWxkcylmb3IoYSBpbiB0LnhockZpZWxkcylzW2FdPXQueGhyRmllbGRzW2FdO3QubWltZVR5cGUmJnMub3ZlcnJpZGVNaW1lVHlwZSYmcy5vdmVycmlkZU1pbWVUeXBlKHQubWltZVR5cGUpLHQuY3Jvc3NEb21haW58fGlbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGlbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoYSBpbiBpKXMuc2V0UmVxdWVzdEhlYWRlcihhLGlbYV0pO249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7biYmKG49cj1zLm9ubG9hZD1zLm9uZXJyb3I9cy5vbmFib3J0PXMub250aW1lb3V0PXMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsImFib3J0Ij09PWU/cy5hYm9ydCgpOiJlcnJvciI9PT1lPyJudW1iZXIiIT10eXBlb2Ygcy5zdGF0dXM/bygwLCJlcnJvciIpOm8ocy5zdGF0dXMscy5zdGF0dXNUZXh0KTpvKFZ0W3Muc3RhdHVzXXx8cy5zdGF0dXMscy5zdGF0dXNUZXh0LCJ0ZXh0IiE9PShzLnJlc3BvbnNlVHlwZXx8InRleHQiKXx8InN0cmluZyIhPXR5cGVvZiBzLnJlc3BvbnNlVGV4dD97YmluYXJ5OnMucmVzcG9uc2V9Ont0ZXh0OnMucmVzcG9uc2VUZXh0fSxzLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxzLm9ubG9hZD1uKCkscj1zLm9uZXJyb3I9cy5vbnRpbWVvdXQ9bigiZXJyb3IiKSx2b2lkIDAhPT1zLm9uYWJvcnQ/cy5vbmFib3J0PXI6cy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09cy5yZWFkeVN0YXRlJiZlLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuJiZyKCl9KX0sbj1uKCJhYm9ydCIpO3RyeXtzLnNlbmQodC5oYXNDb250ZW50JiZ0LmRhdGF8fG51bGwpfWNhdGNoKGUpe2lmKG4pdGhyb3cgZX19LGFib3J0OmZ1bmN0aW9uKCl7biYmbigpfX19KSx3LmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7ZS5jcm9zc0RvbWFpbiYmKGUuY29udGVudHMuc2NyaXB0PSExKX0pLHcuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGUpe3JldHVybiB3Lmdsb2JhbEV2YWwoZSksZX19fSksdy5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUuY2FjaGUmJihlLmNhY2hlPSExKSxlLmNyb3NzRG9tYWluJiYoZS50eXBlPSJHRVQiKX0pLHcuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihlKXtpZihlLmNyb3NzRG9tYWluKXt2YXIgdCxuO3JldHVybntzZW5kOmZ1bmN0aW9uKGksbyl7dD13KCI8c2NyaXB0PiIpLnByb3Aoe2NoYXJzZXQ6ZS5zY3JpcHRDaGFyc2V0LHNyYzplLnVybH0pLm9uKCJsb2FkIGVycm9yIixuPWZ1bmN0aW9uKGUpe3QucmVtb3ZlKCksbj1udWxsLGUmJm8oImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxyLmhlYWQuYXBwZW5kQ2hpbGQodFswXSl9LGFib3J0OmZ1bmN0aW9uKCl7biYmbigpfX19fSk7dmFyIFl0PVtdLFF0PS8oPSlcPyg/PSZ8JCl8XD9cPy87dy5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPVl0LnBvcCgpfHx3LmV4cGFuZG8rIl8iK0V0Kys7cmV0dXJuIHRoaXNbZV09ITAsZX19KSx3LmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKHQsbixyKXt2YXIgaSxvLGEscz0hMSE9PXQuanNvbnAmJihRdC50ZXN0KHQudXJsKT8idXJsIjoic3RyaW5nIj09dHlwZW9mIHQuZGF0YSYmMD09PSh0LmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJlF0LnRlc3QodC5kYXRhKSYmImRhdGEiKTtpZihzfHwianNvbnAiPT09dC5kYXRhVHlwZXNbMF0pcmV0dXJuIGk9dC5qc29ucENhbGxiYWNrPWcodC5qc29ucENhbGxiYWNrKT90Lmpzb25wQ2FsbGJhY2soKTp0Lmpzb25wQ2FsbGJhY2sscz90W3NdPXRbc10ucmVwbGFjZShRdCwiJDEiK2kpOiExIT09dC5qc29ucCYmKHQudXJsKz0oa3QudGVzdCh0LnVybCk/IiYiOiI/IikrdC5qc29ucCsiPSIraSksdC5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIGF8fHcuZXJyb3IoaSsiIHdhcyBub3QgY2FsbGVkIiksYVswXX0sdC5kYXRhVHlwZXNbMF09Impzb24iLG89ZVtpXSxlW2ldPWZ1bmN0aW9uKCl7YT1hcmd1bWVudHN9LHIuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09bz93KGUpLnJlbW92ZVByb3AoaSk6ZVtpXT1vLHRbaV0mJih0Lmpzb25wQ2FsbGJhY2s9bi5qc29ucENhbGxiYWNrLFl0LnB1c2goaSkpLGEmJmcobykmJm8oYVswXSksYT1vPXZvaWQgMH0pLCJzY3JpcHQifSksaC5jcmVhdGVIVE1MRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT1yLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keTtyZXR1cm4gZS5pbm5lckhUTUw9Ijxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IiwyPT09ZS5jaGlsZE5vZGVzLmxlbmd0aH0oKSx3LnBhcnNlSFRNTD1mdW5jdGlvbihlLHQsbil7aWYoInN0cmluZyIhPXR5cGVvZiBlKXJldHVybltdOyJib29sZWFuIj09dHlwZW9mIHQmJihuPXQsdD0hMSk7dmFyIGksbyxhO3JldHVybiB0fHwoaC5jcmVhdGVIVE1MRG9jdW1lbnQ/KChpPSh0PXIuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPXIubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQoaSkpOnQ9ciksbz1BLmV4ZWMoZSksYT0hbiYmW10sbz9bdC5jcmVhdGVFbGVtZW50KG9bMV0pXToobz14ZShbZV0sdCxhKSxhJiZhLmxlbmd0aCYmdyhhKS5yZW1vdmUoKSx3Lm1lcmdlKFtdLG8uY2hpbGROb2RlcykpfSx3LmZuLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPXRoaXMscz1lLmluZGV4T2YoIiAiKTtyZXR1cm4gcz4tMSYmKHI9dnQoZS5zbGljZShzKSksZT1lLnNsaWNlKDAscykpLGcodCk/KG49dCx0PXZvaWQgMCk6dCYmIm9iamVjdCI9PXR5cGVvZiB0JiYoaT0iUE9TVCIpLGEubGVuZ3RoPjAmJncuYWpheCh7dXJsOmUsdHlwZTppfHwiR0VUIixkYXRhVHlwZToiaHRtbCIsZGF0YTp0fSkuZG9uZShmdW5jdGlvbihlKXtvPWFyZ3VtZW50cyxhLmh0bWwocj93KCI8ZGl2PiIpLmFwcGVuZCh3LnBhcnNlSFRNTChlKSkuZmluZChyKTplKX0pLmFsd2F5cyhuJiZmdW5jdGlvbihlLHQpe2EuZWFjaChmdW5jdGlvbigpe24uYXBwbHkodGhpcyxvfHxbZS5yZXNwb25zZVRleHQsdCxlXSl9KX0pLHRoaXN9LHcuZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKGUsdCl7dy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vbih0LGUpfX0pLHcuZXhwci5wc2V1ZG9zLmFuaW1hdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB3LmdyZXAody50aW1lcnMsZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10LmVsZW19KS5sZW5ndGh9LHcub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsLGM9dy5jc3MoZSwicG9zaXRpb24iKSxmPXcoZSkscD17fTsic3RhdGljIj09PWMmJihlLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLHM9Zi5vZmZzZXQoKSxvPXcuY3NzKGUsInRvcCIpLHU9dy5jc3MoZSwibGVmdCIpLChsPSgiYWJzb2x1dGUiPT09Y3x8ImZpeGVkIj09PWMpJiYobyt1KS5pbmRleE9mKCJhdXRvIik+LTEpPyhhPShyPWYucG9zaXRpb24oKSkudG9wLGk9ci5sZWZ0KTooYT1wYXJzZUZsb2F0KG8pfHwwLGk9cGFyc2VGbG9hdCh1KXx8MCksZyh0KSYmKHQ9dC5jYWxsKGUsbix3LmV4dGVuZCh7fSxzKSkpLG51bGwhPXQudG9wJiYocC50b3A9dC50b3Atcy50b3ArYSksbnVsbCE9dC5sZWZ0JiYocC5sZWZ0PXQubGVmdC1zLmxlZnQraSksInVzaW5nImluIHQ/dC51c2luZy5jYWxsKGUscCk6Zi5jc3MocCl9fSx3LmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PWU/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24odCl7dy5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsZSx0KX0pO3ZhciB0LG4scj10aGlzWzBdO2lmKHIpcmV0dXJuIHIuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGg/KHQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyx7dG9wOnQudG9wK24ucGFnZVlPZmZzZXQsbGVmdDp0LmxlZnQrbi5wYWdlWE9mZnNldH0pOnt0b3A6MCxsZWZ0OjB9fSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBlLHQsbixyPXRoaXNbMF0saT17dG9wOjAsbGVmdDowfTtpZigiZml4ZWQiPT09dy5jc3MociwicG9zaXRpb24iKSl0PXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZWxzZXt0PXRoaXMub2Zmc2V0KCksbj1yLm93bmVyRG9jdW1lbnQsZT1yLm9mZnNldFBhcmVudHx8bi5kb2N1bWVudEVsZW1lbnQ7d2hpbGUoZSYmKGU9PT1uLmJvZHl8fGU9PT1uLmRvY3VtZW50RWxlbWVudCkmJiJzdGF0aWMiPT09dy5jc3MoZSwicG9zaXRpb24iKSllPWUucGFyZW50Tm9kZTtlJiZlIT09ciYmMT09PWUubm9kZVR5cGUmJigoaT13KGUpLm9mZnNldCgpKS50b3ArPXcuY3NzKGUsImJvcmRlclRvcFdpZHRoIiwhMCksaS5sZWZ0Kz13LmNzcyhlLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSl9cmV0dXJue3RvcDp0LnRvcC1pLnRvcC13LmNzcyhyLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnQubGVmdC1pLmxlZnQtdy5jc3MociwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGUmJiJzdGF0aWMiPT09dy5jc3MoZSwicG9zaXRpb24iKSllPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxiZX0pfX0pLHcuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihlLHQpe3ZhciBuPSJwYWdlWU9mZnNldCI9PT10O3cuZm5bZV09ZnVuY3Rpb24ocil7cmV0dXJuIHoodGhpcyxmdW5jdGlvbihlLHIsaSl7dmFyIG87aWYoeShlKT9vPWU6OT09PWUubm9kZVR5cGUmJihvPWUuZGVmYXVsdFZpZXcpLHZvaWQgMD09PWkpcmV0dXJuIG8/b1t0XTplW3JdO28/by5zY3JvbGxUbyhuP28ucGFnZVhPZmZzZXQ6aSxuP2k6by5wYWdlWU9mZnNldCk6ZVtyXT1pfSxlLHIsYXJndW1lbnRzLmxlbmd0aCl9fSksdy5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGUsdCl7dy5jc3NIb29rc1t0XT1fZShoLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oZSxuKXtpZihuKXJldHVybiBuPUZlKGUsdCksV2UudGVzdChuKT93KGUpLnBvc2l0aW9uKClbdF0rInB4IjpufSl9KSx3LmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihlLHQpe3cuZWFjaCh7cGFkZGluZzoiaW5uZXIiK2UsY29udGVudDp0LCIiOiJvdXRlciIrZX0sZnVuY3Rpb24obixyKXt3LmZuW3JdPWZ1bmN0aW9uKGksbyl7dmFyIGE9YXJndW1lbnRzLmxlbmd0aCYmKG58fCJib29sZWFuIiE9dHlwZW9mIGkpLHM9bnx8KCEwPT09aXx8ITA9PT1vPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4geih0aGlzLGZ1bmN0aW9uKHQsbixpKXt2YXIgbztyZXR1cm4geSh0KT8wPT09ci5pbmRleE9mKCJvdXRlciIpP3RbImlubmVyIitlXTp0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitlXTo5PT09dC5ub2RlVHlwZT8obz10LmRvY3VtZW50RWxlbWVudCxNYXRoLm1heCh0LmJvZHlbInNjcm9sbCIrZV0sb1sic2Nyb2xsIitlXSx0LmJvZHlbIm9mZnNldCIrZV0sb1sib2Zmc2V0IitlXSxvWyJjbGllbnQiK2VdKSk6dm9pZCAwPT09aT93LmNzcyh0LG4scyk6dy5zdHlsZSh0LG4saSxzKX0sdCxhP2k6dm9pZCAwLGEpfX0pfSksdy5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7dy5mblt0XT1mdW5jdGlvbihlLG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbih0LG51bGwsZSxuKTp0aGlzLnRyaWdnZXIodCl9fSksdy5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLHcuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLG51bGwsdCxuKX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub2ZmKGUsbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMub24odCxlLG4scil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihlLCIqKiIpOnRoaXMub2ZmKHQsZXx8IioqIixuKX19KSx3LnByb3h5PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKG49ZVt0XSx0PWUsZT1uKSxnKGUpKXJldHVybiByPW8uY2FsbChhcmd1bWVudHMsMiksaT1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsci5jb25jYXQoby5jYWxsKGFyZ3VtZW50cykpKX0saS5ndWlkPWUuZ3VpZD1lLmd1aWR8fHcuZ3VpZCsrLGl9LHcuaG9sZFJlYWR5PWZ1bmN0aW9uKGUpe2U/dy5yZWFkeVdhaXQrKzp3LnJlYWR5KCEwKX0sdy5pc0FycmF5PUFycmF5LmlzQXJyYXksdy5wYXJzZUpTT049SlNPTi5wYXJzZSx3Lm5vZGVOYW1lPU4sdy5pc0Z1bmN0aW9uPWcsdy5pc1dpbmRvdz15LHcuY2FtZWxDYXNlPUcsdy50eXBlPXgsdy5ub3c9RGF0ZS5ub3csdy5pc051bWVyaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9dy50eXBlKGUpO3JldHVybigibnVtYmVyIj09PXR8fCJzdHJpbmciPT09dCkmJiFpc05hTihlLXBhcnNlRmxvYXQoZSkpfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gd30pO3ZhciBKdD1lLmpRdWVyeSxLdD1lLiQ7cmV0dXJuIHcubm9Db25mbGljdD1mdW5jdGlvbih0KXtyZXR1cm4gZS4kPT09dyYmKGUuJD1LdCksdCYmZS5qUXVlcnk9PT13JiYoZS5qUXVlcnk9SnQpLHd9LHR8fChlLmpRdWVyeT1lLiQ9dyksd30pOwo="},{"meta":{"name":"encodeToGb2312.js","url":"https://greasyfork.org/scripts/368137-encodeToGb2312/code/encodeToGb2312.js?version=601683","ts":1583810153444,"mimetype":"text/javascript"},"source":"KGZ1bmN0aW9uKCl7CgogIHZhciBqc29uID0gewogICAgIjAwQTQiOiJBMUU4IiwKICAgICIwMEE3IjoiQTFFQyIsCiAgICAiMDBBOCI6IkExQTciLAogICAgIjAwQjAiOiJBMUUzIiwKICAgICIwMEIxIjoiQTFDMCIsCiAgICAiMDBCNyI6IkExQTQiLAogICAgIjAwRDciOiJBMUMxIiwKICAgICIwMEUwIjoiQThBNCIsCiAgICAiMDBFMSI6IkE4QTIiLAogICAgIjAwRTgiOiJBOEE4IiwKICAgICIwMEU5IjoiQThBNiIsCiAgICAiMDBFQSI6IkE4QkEiLAogICAgIjAwRUMiOiJBOEFDIiwKICAgICIwMEVEIjoiQThBQSIsCiAgICAiMDBGMiI6IkE4QjAiLAogICAgIjAwRjMiOiJBOEFFIiwKICAgICIwMEY3IjoiQTFDMiIsCiAgICAiMDBGOSI6IkE4QjQiLAogICAgIjAwRkEiOiJBOEIyIiwKICAgICIwMEZDIjoiQThCOSIsCiAgICAiMDEwMSI6IkE4QTEiLAogICAgIjAxMTMiOiJBOEE1IiwKICAgICIwMTFCIjoiQThBNyIsCiAgICAiMDEyQiI6IkE4QTkiLAogICAgIjAxNEQiOiJBOEFEIiwKICAgICIwMTZCIjoiQThCMSIsCiAgICAiMDFDRSI6IkE4QTMiLAogICAgIjAxRDAiOiJBOEFCIiwKICAgICIwMUQyIjoiQThBRiIsCiAgICAiMDFENCI6IkE4QjMiLAogICAgIjAxRDYiOiJBOEI1IiwKICAgICIwMUQ4IjoiQThCNiIsCiAgICAiMDFEQSI6IkE4QjciLAogICAgIjAxREMiOiJBOEI4IiwKICAgICIwMkM3IjoiQTFBNiIsCiAgICAiMDJDOSI6IkExQTUiLAogICAgIjAzOTEiOiJBNkExIiwKICAgICIwMzkyIjoiQTZBMiIsCiAgICAiMDM5MyI6IkE2QTMiLAogICAgIjAzOTQiOiJBNkE0IiwKICAgICIwMzk1IjoiQTZBNSIsCiAgICAiMDM5NiI6IkE2QTYiLAogICAgIjAzOTciOiJBNkE3IiwKICAgICIwMzk4IjoiQTZBOCIsCiAgICAiMDM5OSI6IkE2QTkiLAogICAgIjAzOUEiOiJBNkFBIiwKICAgICIwMzlCIjoiQTZBQiIsCiAgICAiMDM5QyI6IkE2QUMiLAogICAgIjAzOUQiOiJBNkFEIiwKICAgICIwMzlFIjoiQTZBRSIsCiAgICAiMDM5RiI6IkE2QUYiLAogICAgIjAzQTAiOiJBNkIwIiwKICAgICIwM0ExIjoiQTZCMSIsCiAgICAiMDNBMyI6IkE2QjIiLAogICAgIjAzQTQiOiJBNkIzIiwKICAgICIwM0E1IjoiQTZCNCIsCiAgICAiMDNBNiI6IkE2QjUiLAogICAgIjAzQTciOiJBNkI2IiwKICAgICIwM0E4IjoiQTZCNyIsCiAgICAiMDNBOSI6IkE2QjgiLAogICAgIjAzQjEiOiJBNkMxIiwKICAgICIwM0IyIjoiQTZDMiIsCiAgICAiMDNCMyI6IkE2QzMiLAogICAgIjAzQjQiOiJBNkM0IiwKICAgICIwM0I1IjoiQTZDNSIsCiAgICAiMDNCNiI6IkE2QzYiLAogICAgIjAzQjciOiJBNkM3IiwKICAgICIwM0I4IjoiQTZDOCIsCiAgICAiMDNCOSI6IkE2QzkiLAogICAgIjAzQkEiOiJBNkNBIiwKICAgICIwM0JCIjoiQTZDQiIsCiAgICAiMDNCQyI6IkE2Q0MiLAogICAgIjAzQkQiOiJBNkNEIiwKICAgICIwM0JFIjoiQTZDRSIsCiAgICAiMDNCRiI6IkE2Q0YiLAogICAgIjAzQzAiOiJBNkQwIiwKICAgICIwM0MxIjoiQTZEMSIsCiAgICAiMDNDMyI6IkE2RDIiLAogICAgIjAzQzQiOiJBNkQzIiwKICAgICIwM0M1IjoiQTZENCIsCiAgICAiMDNDNiI6IkE2RDUiLAogICAgIjAzQzciOiJBNkQ2IiwKICAgICIwM0M4IjoiQTZENyIsCiAgICAiMDNDOSI6IkE2RDgiLAogICAgIjA0MDEiOiJBN0E3IiwKICAgICIwNDEwIjoiQTdBMSIsCiAgICAiMDQxMSI6IkE3QTIiLAogICAgIjA0MTIiOiJBN0EzIiwKICAgICIwNDEzIjoiQTdBNCIsCiAgICAiMDQxNCI6IkE3QTUiLAogICAgIjA0MTUiOiJBN0E2IiwKICAgICIwNDE2IjoiQTdBOCIsCiAgICAiMDQxNyI6IkE3QTkiLAogICAgIjA0MTgiOiJBN0FBIiwKICAgICIwNDE5IjoiQTdBQiIsCiAgICAiMDQxQSI6IkE3QUMiLAogICAgIjA0MUIiOiJBN0FEIiwKICAgICIwNDFDIjoiQTdBRSIsCiAgICAiMDQxRCI6IkE3QUYiLAogICAgIjA0MUUiOiJBN0IwIiwKICAgICIwNDFGIjoiQTdCMSIsCiAgICAiMDQyMCI6IkE3QjIiLAogICAgIjA0MjEiOiJBN0IzIiwKICAgICIwNDIyIjoiQTdCNCIsCiAgICAiMDQyMyI6IkE3QjUiLAogICAgIjA0MjQiOiJBN0I2IiwKICAgICIwNDI1IjoiQTdCNyIsCiAgICAiMDQyNiI6IkE3QjgiLAogICAgIjA0MjciOiJBN0I5IiwKICAgICIwNDI4IjoiQTdCQSIsCiAgICAiMDQyOSI6IkE3QkIiLAogICAgIjA0MkEiOiJBN0JDIiwKICAgICIwNDJCIjoiQTdCRCIsCiAgICAiMDQyQyI6IkE3QkUiLAogICAgIjA0MkQiOiJBN0JGIiwKICAgICIwNDJFIjoiQTdDMCIsCiAgICAiMDQyRiI6IkE3QzEiLAogICAgIjA0MzAiOiJBN0QxIiwKICAgICIwNDMxIjoiQTdEMiIsCiAgICAiMDQzMiI6IkE3RDMiLAogICAgIjA0MzMiOiJBN0Q0IiwKICAgICIwNDM0IjoiQTdENSIsCiAgICAiMDQzNSI6IkE3RDYiLAogICAgIjA0MzYiOiJBN0Q4IiwKICAgICIwNDM3IjoiQTdEOSIsCiAgICAiMDQzOCI6IkE3REEiLAogICAgIjA0MzkiOiJBN0RCIiwKICAgICIwNDNBIjoiQTdEQyIsCiAgICAiMDQzQiI6IkE3REQiLAogICAgIjA0M0MiOiJBN0RFIiwKICAgICIwNDNEIjoiQTdERiIsCiAgICAiMDQzRSI6IkE3RTAiLAogICAgIjA0M0YiOiJBN0UxIiwKICAgICIwNDQwIjoiQTdFMiIsCiAgICAiMDQ0MSI6IkE3RTMiLAogICAgIjA0NDIiOiJBN0U0IiwKICAgICIwNDQzIjoiQTdFNSIsCiAgICAiMDQ0NCI6IkE3RTYiLAogICAgIjA0NDUiOiJBN0U3IiwKICAgICIwNDQ2IjoiQTdFOCIsCiAgICAiMDQ0NyI6IkE3RTkiLAogICAgIjA0NDgiOiJBN0VBIiwKICAgICIwNDQ5IjoiQTdFQiIsCiAgICAiMDQ0QSI6IkE3RUMiLAogICAgIjA0NEIiOiJBN0VEIiwKICAgICIwNDRDIjoiQTdFRSIsCiAgICAiMDQ0RCI6IkE3RUYiLAogICAgIjA0NEUiOiJBN0YwIiwKICAgICIwNDRGIjoiQTdGMSIsCiAgICAiMDQ1MSI6IkE3RDciLAogICAgIjIwMTQiOiJBMUFBIiwKICAgICIyMDE2IjoiQTFBQyIsCiAgICAiMjAxOCI6IkExQUUiLAogICAgIjIwMTkiOiJBMUFGIiwKICAgICIyMDFDIjoiQTFCMCIsCiAgICAiMjAxRCI6IkExQjEiLAogICAgIjIwMjYiOiJBMUFEIiwKICAgICIyMDMwIjoiQTFFQiIsCiAgICAiMjAzMiI6IkExRTQiLAogICAgIjIwMzMiOiJBMUU1IiwKICAgICIyMDNCIjoiQTFGOSIsCiAgICAiMjEwMyI6IkExRTYiLAogICAgIjIxMTYiOiJBMUVEIiwKICAgICIyMTYwIjoiQTJGMSIsCiAgICAiMjE2MSI6IkEyRjIiLAogICAgIjIxNjIiOiJBMkYzIiwKICAgICIyMTYzIjoiQTJGNCIsCiAgICAiMjE2NCI6IkEyRjUiLAogICAgIjIxNjUiOiJBMkY2IiwKICAgICIyMTY2IjoiQTJGNyIsCiAgICAiMjE2NyI6IkEyRjgiLAogICAgIjIxNjgiOiJBMkY5IiwKICAgICIyMTY5IjoiQTJGQSIsCiAgICAiMjE2QSI6IkEyRkIiLAogICAgIjIxNkIiOiJBMkZDIiwKICAgICIyMTkwIjoiQTFGQiIsCiAgICAiMjE5MSI6IkExRkMiLAogICAgIjIxOTIiOiJBMUZBIiwKICAgICIyMTkzIjoiQTFGRCIsCiAgICAiMjIwOCI6IkExQ0EiLAogICAgIjIyMEYiOiJBMUM3IiwKICAgICIyMjExIjoiQTFDNiIsCiAgICAiMjIxQSI6IkExQ0MiLAogICAgIjIyMUQiOiJBMUQ4IiwKICAgICIyMjFFIjoiQTFERSIsCiAgICAiMjIyMCI6IkExQ0YiLAogICAgIjIyMjUiOiJBMUNFIiwKICAgICIyMjI3IjoiQTFDNCIsCiAgICAiMjIyOCI6IkExQzUiLAogICAgIjIyMjkiOiJBMUM5IiwKICAgICIyMjJBIjoiQTFDOCIsCiAgICAiMjIyQiI6IkExRDIiLAogICAgIjIyMkUiOiJBMUQzIiwKICAgICIyMjM0IjoiQTFFMCIsCiAgICAiMjIzNSI6IkExREYiLAogICAgIjIyMzYiOiJBMUMzIiwKICAgICIyMjM3IjoiQTFDQiIsCiAgICAiMjIzRCI6IkExRDciLAogICAgIjIyNDgiOiJBMUQ2IiwKICAgICIyMjRDIjoiQTFENSIsCiAgICAiMjI2MCI6IkExRDkiLAogICAgIjIyNjEiOiJBMUQ0IiwKICAgICIyMjY0IjoiQTFEQyIsCiAgICAiMjI2NSI6IkExREQiLAogICAgIjIyNkUiOiJBMURBIiwKICAgICIyMjZGIjoiQTFEQiIsCiAgICAiMjI5OSI6IkExRDEiLAogICAgIjIyQTUiOiJBMUNEIiwKICAgICIyMzEyIjoiQTFEMCIsCiAgICAiMjQ2MCI6IkEyRDkiLAogICAgIjI0NjEiOiJBMkRBIiwKICAgICIyNDYyIjoiQTJEQiIsCiAgICAiMjQ2MyI6IkEyREMiLAogICAgIjI0NjQiOiJBMkREIiwKICAgICIyNDY1IjoiQTJERSIsCiAgICAiMjQ2NiI6IkEyREYiLAogICAgIjI0NjciOiJBMkUwIiwKICAgICIyNDY4IjoiQTJFMSIsCiAgICAiMjQ2OSI6IkEyRTIiLAogICAgIjI0NzQiOiJBMkM1IiwKICAgICIyNDc1IjoiQTJDNiIsCiAgICAiMjQ3NiI6IkEyQzciLAogICAgIjI0NzciOiJBMkM4IiwKICAgICIyNDc4IjoiQTJDOSIsCiAgICAiMjQ3OSI6IkEyQ0EiLAogICAgIjI0N0EiOiJBMkNCIiwKICAgICIyNDdCIjoiQTJDQyIsCiAgICAiMjQ3QyI6IkEyQ0QiLAogICAgIjI0N0QiOiJBMkNFIiwKICAgICIyNDdFIjoiQTJDRiIsCiAgICAiMjQ3RiI6IkEyRDAiLAogICAgIjI0ODAiOiJBMkQxIiwKICAgICIyNDgxIjoiQTJEMiIsCiAgICAiMjQ4MiI6IkEyRDMiLAogICAgIjI0ODMiOiJBMkQ0IiwKICAgICIyNDg0IjoiQTJENSIsCiAgICAiMjQ4NSI6IkEyRDYiLAogICAgIjI0ODYiOiJBMkQ3IiwKICAgICIyNDg3IjoiQTJEOCIsCiAgICAiMjQ4OCI6IkEyQjEiLAogICAgIjI0ODkiOiJBMkIyIiwKICAgICIyNDhBIjoiQTJCMyIsCiAgICAiMjQ4QiI6IkEyQjQiLAogICAgIjI0OEMiOiJBMkI1IiwKICAgICIyNDhEIjoiQTJCNiIsCiAgICAiMjQ4RSI6IkEyQjciLAogICAgIjI0OEYiOiJBMkI4IiwKICAgICIyNDkwIjoiQTJCOSIsCiAgICAiMjQ5MSI6IkEyQkEiLAogICAgIjI0OTIiOiJBMkJCIiwKICAgICIyNDkzIjoiQTJCQyIsCiAgICAiMjQ5NCI6IkEyQkQiLAogICAgIjI0OTUiOiJBMkJFIiwKICAgICIyNDk2IjoiQTJCRiIsCiAgICAiMjQ5NyI6IkEyQzAiLAogICAgIjI0OTgiOiJBMkMxIiwKICAgICIyNDk5IjoiQTJDMiIsCiAgICAiMjQ5QSI6IkEyQzMiLAogICAgIjI0OUIiOiJBMkM0IiwKICAgICIyNTAwIjoiQTlBNCIsCiAgICAiMjUwMSI6IkE5QTUiLAogICAgIjI1MDIiOiJBOUE2IiwKICAgICIyNTAzIjoiQTlBNyIsCiAgICAiMjUwNCI6IkE5QTgiLAogICAgIjI1MDUiOiJBOUE5IiwKICAgICIyNTA2IjoiQTlBQSIsCiAgICAiMjUwNyI6IkE5QUIiLAogICAgIjI1MDgiOiJBOUFDIiwKICAgICIyNTA5IjoiQTlBRCIsCiAgICAiMjUwQSI6IkE5QUUiLAogICAgIjI1MEIiOiJBOUFGIiwKICAgICIyNTBDIjoiQTlCMCIsCiAgICAiMjUwRCI6IkE5QjEiLAogICAgIjI1MEUiOiJBOUIyIiwKICAgICIyNTBGIjoiQTlCMyIsCiAgICAiMjUxMCI6IkE5QjQiLAogICAgIjI1MTEiOiJBOUI1IiwKICAgICIyNTEyIjoiQTlCNiIsCiAgICAiMjUxMyI6IkE5QjciLAogICAgIjI1MTQiOiJBOUI4IiwKICAgICIyNTE1IjoiQTlCOSIsCiAgICAiMjUxNiI6IkE5QkEiLAogICAgIjI1MTciOiJBOUJCIiwKICAgICIyNTE4IjoiQTlCQyIsCiAgICAiMjUxOSI6IkE5QkQiLAogICAgIjI1MUEiOiJBOUJFIiwKICAgICIyNTFCIjoiQTlCRiIsCiAgICAiMjUxQyI6IkE5QzAiLAogICAgIjI1MUQiOiJBOUMxIiwKICAgICIyNTFFIjoiQTlDMiIsCiAgICAiMjUxRiI6IkE5QzMiLAogICAgIjI1MjAiOiJBOUM0IiwKICAgICIyNTIxIjoiQTlDNSIsCiAgICAiMjUyMiI6IkE5QzYiLAogICAgIjI1MjMiOiJBOUM3IiwKICAgICIyNTI0IjoiQTlDOCIsCiAgICAiMjUyNSI6IkE5QzkiLAogICAgIjI1MjYiOiJBOUNBIiwKICAgICIyNTI3IjoiQTlDQiIsCiAgICAiMjUyOCI6IkE5Q0MiLAogICAgIjI1MjkiOiJBOUNEIiwKICAgICIyNTJBIjoiQTlDRSIsCiAgICAiMjUyQiI6IkE5Q0YiLAogICAgIjI1MkMiOiJBOUQwIiwKICAgICIyNTJEIjoiQTlEMSIsCiAgICAiMjUyRSI6IkE5RDIiLAogICAgIjI1MkYiOiJBOUQzIiwKICAgICIyNTMwIjoiQTlENCIsCiAgICAiMjUzMSI6IkE5RDUiLAogICAgIjI1MzIiOiJBOUQ2IiwKICAgICIyNTMzIjoiQTlENyIsCiAgICAiMjUzNCI6IkE5RDgiLAogICAgIjI1MzUiOiJBOUQ5IiwKICAgICIyNTM2IjoiQTlEQSIsCiAgICAiMjUzNyI6IkE5REIiLAogICAgIjI1MzgiOiJBOURDIiwKICAgICIyNTM5IjoiQTlERCIsCiAgICAiMjUzQSI6IkE5REUiLAogICAgIjI1M0IiOiJBOURGIiwKICAgICIyNTNDIjoiQTlFMCIsCiAgICAiMjUzRCI6IkE5RTEiLAogICAgIjI1M0UiOiJBOUUyIiwKICAgICIyNTNGIjoiQTlFMyIsCiAgICAiMjU0MCI6IkE5RTQiLAogICAgIjI1NDEiOiJBOUU1IiwKICAgICIyNTQyIjoiQTlFNiIsCiAgICAiMjU0MyI6IkE5RTciLAogICAgIjI1NDQiOiJBOUU4IiwKICAgICIyNTQ1IjoiQTlFOSIsCiAgICAiMjU0NiI6IkE5RUEiLAogICAgIjI1NDciOiJBOUVCIiwKICAgICIyNTQ4IjoiQTlFQyIsCiAgICAiMjU0OSI6IkE5RUQiLAogICAgIjI1NEEiOiJBOUVFIiwKICAgICIyNTRCIjoiQTlFRiIsCiAgICAiMjVBMCI6IkExRjYiLAogICAgIjI1QTEiOiJBMUY1IiwKICAgICIyNUIyIjoiQTFGOCIsCiAgICAiMjVCMyI6IkExRjciLAogICAgIjI1QzYiOiJBMUY0IiwKICAgICIyNUM3IjoiQTFGMyIsCiAgICAiMjVDQiI6IkExRjAiLAogICAgIjI1Q0UiOiJBMUYyIiwKICAgICIyNUNGIjoiQTFGMSIsCiAgICAiMjYwNSI6IkExRUYiLAogICAgIjI2MDYiOiJBMUVFIiwKICAgICIyNjQwIjoiQTFFMiIsCiAgICAiMjY0MiI6IkExRTEiLAogICAgIjMwMDAiOiJBMUExIiwKICAgICIzMDAxIjoiQTFBMiIsCiAgICAiMzAwMiI6IkExQTMiLAogICAgIjMwMDMiOiJBMUE4IiwKICAgICIzMDA1IjoiQTFBOSIsCiAgICAiMzAwOCI6IkExQjQiLAogICAgIjMwMDkiOiJBMUI1IiwKICAgICIzMDBBIjoiQTFCNiIsCiAgICAiMzAwQiI6IkExQjciLAogICAgIjMwMEMiOiJBMUI4IiwKICAgICIzMDBEIjoiQTFCOSIsCiAgICAiMzAwRSI6IkExQkEiLAogICAgIjMwMEYiOiJBMUJCIiwKICAgICIzMDEwIjoiQTFCRSIsCiAgICAiMzAxMSI6IkExQkYiLAogICAgIjMwMTMiOiJBMUZFIiwKICAgICIzMDE0IjoiQTFCMiIsCiAgICAiMzAxNSI6IkExQjMiLAogICAgIjMwMTYiOiJBMUJDIiwKICAgICIzMDE3IjoiQTFCRCIsCiAgICAiMzA0MSI6IkE0QTEiLAogICAgIjMwNDIiOiJBNEEyIiwKICAgICIzMDQzIjoiQTRBMyIsCiAgICAiMzA0NCI6IkE0QTQiLAogICAgIjMwNDUiOiJBNEE1IiwKICAgICIzMDQ2IjoiQTRBNiIsCiAgICAiMzA0NyI6IkE0QTciLAogICAgIjMwNDgiOiJBNEE4IiwKICAgICIzMDQ5IjoiQTRBOSIsCiAgICAiMzA0QSI6IkE0QUEiLAogICAgIjMwNEIiOiJBNEFCIiwKICAgICIzMDRDIjoiQTRBQyIsCiAgICAiMzA0RCI6IkE0QUQiLAogICAgIjMwNEUiOiJBNEFFIiwKICAgICIzMDRGIjoiQTRBRiIsCiAgICAiMzA1MCI6IkE0QjAiLAogICAgIjMwNTEiOiJBNEIxIiwKICAgICIzMDUyIjoiQTRCMiIsCiAgICAiMzA1MyI6IkE0QjMiLAogICAgIjMwNTQiOiJBNEI0IiwKICAgICIzMDU1IjoiQTRCNSIsCiAgICAiMzA1NiI6IkE0QjYiLAogICAgIjMwNTciOiJBNEI3IiwKICAgICIzMDU4IjoiQTRCOCIsCiAgICAiMzA1OSI6IkE0QjkiLAogICAgIjMwNUEiOiJBNEJBIiwKICAgICIzMDVCIjoiQTRCQiIsCiAgICAiMzA1QyI6IkE0QkMiLAogICAgIjMwNUQiOiJBNEJEIiwKICAgICIzMDVFIjoiQTRCRSIsCiAgICAiMzA1RiI6IkE0QkYiLAogICAgIjMwNjAiOiJBNEMwIiwKICAgICIzMDYxIjoiQTRDMSIsCiAgICAiMzA2MiI6IkE0QzIiLAogICAgIjMwNjMiOiJBNEMzIiwKICAgICIzMDY0IjoiQTRDNCIsCiAgICAiMzA2NSI6IkE0QzUiLAogICAgIjMwNjYiOiJBNEM2IiwKICAgICIzMDY3IjoiQTRDNyIsCiAgICAiMzA2OCI6IkE0QzgiLAogICAgIjMwNjkiOiJBNEM5IiwKICAgICIzMDZBIjoiQTRDQSIsCiAgICAiMzA2QiI6IkE0Q0IiLAogICAgIjMwNkMiOiJBNENDIiwKICAgICIzMDZEIjoiQTRDRCIsCiAgICAiMzA2RSI6IkE0Q0UiLAogICAgIjMwNkYiOiJBNENGIiwKICAgICIzMDcwIjoiQTREMCIsCiAgICAiMzA3MSI6IkE0RDEiLAogICAgIjMwNzIiOiJBNEQyIiwKICAgICIzMDczIjoiQTREMyIsCiAgICAiMzA3NCI6IkE0RDQiLAogICAgIjMwNzUiOiJBNEQ1IiwKICAgICIzMDc2IjoiQTRENiIsCiAgICAiMzA3NyI6IkE0RDciLAogICAgIjMwNzgiOiJBNEQ4IiwKICAgICIzMDc5IjoiQTREOSIsCiAgICAiMzA3QSI6IkE0REEiLAogICAgIjMwN0IiOiJBNERCIiwKICAgICIzMDdDIjoiQTREQyIsCiAgICAiMzA3RCI6IkE0REQiLAogICAgIjMwN0UiOiJBNERFIiwKICAgICIzMDdGIjoiQTRERiIsCiAgICAiMzA4MCI6IkE0RTAiLAogICAgIjMwODEiOiJBNEUxIiwKICAgICIzMDgyIjoiQTRFMiIsCiAgICAiMzA4MyI6IkE0RTMiLAogICAgIjMwODQiOiJBNEU0IiwKICAgICIzMDg1IjoiQTRFNSIsCiAgICAiMzA4NiI6IkE0RTYiLAogICAgIjMwODciOiJBNEU3IiwKICAgICIzMDg4IjoiQTRFOCIsCiAgICAiMzA4OSI6IkE0RTkiLAogICAgIjMwOEEiOiJBNEVBIiwKICAgICIzMDhCIjoiQTRFQiIsCiAgICAiMzA4QyI6IkE0RUMiLAogICAgIjMwOEQiOiJBNEVEIiwKICAgICIzMDhFIjoiQTRFRSIsCiAgICAiMzA4RiI6IkE0RUYiLAogICAgIjMwOTAiOiJBNEYwIiwKICAgICIzMDkxIjoiQTRGMSIsCiAgICAiMzA5MiI6IkE0RjIiLAogICAgIjMwOTMiOiJBNEYzIiwKICAgICIzMEExIjoiQTVBMSIsCiAgICAiMzBBMiI6IkE1QTIiLAogICAgIjMwQTMiOiJBNUEzIiwKICAgICIzMEE0IjoiQTVBNCIsCiAgICAiMzBBNSI6IkE1QTUiLAogICAgIjMwQTYiOiJBNUE2IiwKICAgICIzMEE3IjoiQTVBNyIsCiAgICAiMzBBOCI6IkE1QTgiLAogICAgIjMwQTkiOiJBNUE5IiwKICAgICIzMEFBIjoiQTVBQSIsCiAgICAiMzBBQiI6IkE1QUIiLAogICAgIjMwQUMiOiJBNUFDIiwKICAgICIzMEFEIjoiQTVBRCIsCiAgICAiMzBBRSI6IkE1QUUiLAogICAgIjMwQUYiOiJBNUFGIiwKICAgICIzMEIwIjoiQTVCMCIsCiAgICAiMzBCMSI6IkE1QjEiLAogICAgIjMwQjIiOiJBNUIyIiwKICAgICIzMEIzIjoiQTVCMyIsCiAgICAiMzBCNCI6IkE1QjQiLAogICAgIjMwQjUiOiJBNUI1IiwKICAgICIzMEI2IjoiQTVCNiIsCiAgICAiMzBCNyI6IkE1QjciLAogICAgIjMwQjgiOiJBNUI4IiwKICAgICIzMEI5IjoiQTVCOSIsCiAgICAiMzBCQSI6IkE1QkEiLAogICAgIjMwQkIiOiJBNUJCIiwKICAgICIzMEJDIjoiQTVCQyIsCiAgICAiMzBCRCI6IkE1QkQiLAogICAgIjMwQkUiOiJBNUJFIiwKICAgICIzMEJGIjoiQTVCRiIsCiAgICAiMzBDMCI6IkE1QzAiLAogICAgIjMwQzEiOiJBNUMxIiwKICAgICIzMEMyIjoiQTVDMiIsCiAgICAiMzBDMyI6IkE1QzMiLAogICAgIjMwQzQiOiJBNUM0IiwKICAgICIzMEM1IjoiQTVDNSIsCiAgICAiMzBDNiI6IkE1QzYiLAogICAgIjMwQzciOiJBNUM3IiwKICAgICIzMEM4IjoiQTVDOCIsCiAgICAiMzBDOSI6IkE1QzkiLAogICAgIjMwQ0EiOiJBNUNBIiwKICAgICIzMENCIjoiQTVDQiIsCiAgICAiMzBDQyI6IkE1Q0MiLAogICAgIjMwQ0QiOiJBNUNEIiwKICAgICIzMENFIjoiQTVDRSIsCiAgICAiMzBDRiI6IkE1Q0YiLAogICAgIjMwRDAiOiJBNUQwIiwKICAgICIzMEQxIjoiQTVEMSIsCiAgICAiMzBEMiI6IkE1RDIiLAogICAgIjMwRDMiOiJBNUQzIiwKICAgICIzMEQ0IjoiQTVENCIsCiAgICAiMzBENSI6IkE1RDUiLAogICAgIjMwRDYiOiJBNUQ2IiwKICAgICIzMEQ3IjoiQTVENyIsCiAgICAiMzBEOCI6IkE1RDgiLAogICAgIjMwRDkiOiJBNUQ5IiwKICAgICIzMERBIjoiQTVEQSIsCiAgICAiMzBEQiI6IkE1REIiLAogICAgIjMwREMiOiJBNURDIiwKICAgICIzMEREIjoiQTVERCIsCiAgICAiMzBERSI6IkE1REUiLAogICAgIjMwREYiOiJBNURGIiwKICAgICIzMEUwIjoiQTVFMCIsCiAgICAiMzBFMSI6IkE1RTEiLAogICAgIjMwRTIiOiJBNUUyIiwKICAgICIzMEUzIjoiQTVFMyIsCiAgICAiMzBFNCI6IkE1RTQiLAogICAgIjMwRTUiOiJBNUU1IiwKICAgICIzMEU2IjoiQTVFNiIsCiAgICAiMzBFNyI6IkE1RTciLAogICAgIjMwRTgiOiJBNUU4IiwKICAgICIzMEU5IjoiQTVFOSIsCiAgICAiMzBFQSI6IkE1RUEiLAogICAgIjMwRUIiOiJBNUVCIiwKICAgICIzMEVDIjoiQTVFQyIsCiAgICAiMzBFRCI6IkE1RUQiLAogICAgIjMwRUUiOiJBNUVFIiwKICAgICIzMEVGIjoiQTVFRiIsCiAgICAiMzBGMCI6IkE1RjAiLAogICAgIjMwRjEiOiJBNUYxIiwKICAgICIzMEYyIjoiQTVGMiIsCiAgICAiMzBGMyI6IkE1RjMiLAogICAgIjMwRjQiOiJBNUY0IiwKICAgICIzMEY1IjoiQTVGNSIsCiAgICAiMzBGNiI6IkE1RjYiLAogICAgIjMxMDUiOiJBOEM1IiwKICAgICIzMTA2IjoiQThDNiIsCiAgICAiMzEwNyI6IkE4QzciLAogICAgIjMxMDgiOiJBOEM4IiwKICAgICIzMTA5IjoiQThDOSIsCiAgICAiMzEwQSI6IkE4Q0EiLAogICAgIjMxMEIiOiJBOENCIiwKICAgICIzMTBDIjoiQThDQyIsCiAgICAiMzEwRCI6IkE4Q0QiLAogICAgIjMxMEUiOiJBOENFIiwKICAgICIzMTBGIjoiQThDRiIsCiAgICAiMzExMCI6IkE4RDAiLAogICAgIjMxMTEiOiJBOEQxIiwKICAgICIzMTEyIjoiQThEMiIsCiAgICAiMzExMyI6IkE4RDMiLAogICAgIjMxMTQiOiJBOEQ0IiwKICAgICIzMTE1IjoiQThENSIsCiAgICAiMzExNiI6IkE4RDYiLAogICAgIjMxMTciOiJBOEQ3IiwKICAgICIzMTE4IjoiQThEOCIsCiAgICAiMzExOSI6IkE4RDkiLAogICAgIjMxMUEiOiJBOERBIiwKICAgICIzMTFCIjoiQThEQiIsCiAgICAiMzExQyI6IkE4REMiLAogICAgIjMxMUQiOiJBOEREIiwKICAgICIzMTFFIjoiQThERSIsCiAgICAiMzExRiI6IkE4REYiLAogICAgIjMxMjAiOiJBOEUwIiwKICAgICIzMTIxIjoiQThFMSIsCiAgICAiMzEyMiI6IkE4RTIiLAogICAgIjMxMjMiOiJBOEUzIiwKICAgICIzMTI0IjoiQThFNCIsCiAgICAiMzEyNSI6IkE4RTUiLAogICAgIjMxMjYiOiJBOEU2IiwKICAgICIzMTI3IjoiQThFNyIsCiAgICAiMzEyOCI6IkE4RTgiLAogICAgIjMxMjkiOiJBOEU5IiwKICAgICIzMjIwIjoiQTJFNSIsCiAgICAiMzIyMSI6IkEyRTYiLAogICAgIjMyMjIiOiJBMkU3IiwKICAgICIzMjIzIjoiQTJFOCIsCiAgICAiMzIyNCI6IkEyRTkiLAogICAgIjMyMjUiOiJBMkVBIiwKICAgICIzMjI2IjoiQTJFQiIsCiAgICAiMzIyNyI6IkEyRUMiLAogICAgIjMyMjgiOiJBMkVEIiwKICAgICIzMjI5IjoiQTJFRSIsCiAgICAiNEUwMCI6IkQyQkIiLAogICAgIjRFMDEiOiJCNkExIiwKICAgICI0RTAzIjoiQzZERiIsCiAgICAiNEUwNyI6IkNERjIiLAogICAgIjRFMDgiOiJENUM5IiwKICAgICI0RTA5IjoiQzhGRCIsCiAgICAiNEUwQSI6IkM5Q0YiLAogICAgIjRFMEIiOiJDRkMyIiwKICAgICI0RTBDIjoiRDhBMiIsCiAgICAiNEUwRCI6IkIyQkIiLAogICAgIjRFMEUiOiJEM0VCIiwKICAgICI0RTEwIjoiRDhBNCIsCiAgICAiNEUxMSI6IkIzRjMiLAogICAgIjRFMTMiOiJEN0E4IiwKICAgICI0RTE0IjoiQzdEMiIsCiAgICAiNEUxNSI6IkQ4QTciLAogICAgIjRFMTYiOiJDQUMwIiwKICAgICI0RTE4IjoiQzdGMCIsCiAgICAiNEUxOSI6IkIxRkIiLAogICAgIjRFMUEiOiJEMkI1IiwKICAgICI0RTFCIjoiQjRENCIsCiAgICAiNEUxQyI6IkI2QUIiLAogICAgIjRFMUQiOiJDQkJGIiwKICAgICI0RTFFIjoiRDhBOSIsCiAgICAiNEUyMiI6IkI2QUEiLAogICAgIjRFMjQiOiJDMUJEIiwKICAgICI0RTI1IjoiRDFDRiIsCiAgICAiNEUyNyI6IkM5QTUiLAogICAgIjRFMjgiOiJEOEFEIiwKICAgICI0RTJBIjoiQjhGNiIsCiAgICAiNEUyQiI6IkQxQkUiLAogICAgIjRFMkMiOiJFM0RDIiwKICAgICI0RTJEIjoiRDZEMCIsCiAgICAiNEUzMCI6IkI3RTEiLAogICAgIjRFMzIiOiJCNEFFIiwKICAgICI0RTM0IjoiQzFEOSIsCiAgICAiNEUzNiI6IkQ4QkMiLAogICAgIjRFMzgiOiJDREU4IiwKICAgICI0RTM5IjoiQjVBNCIsCiAgICAiNEUzQSI6IkNFQUEiLAogICAgIjRFM0IiOiJENkY3IiwKICAgICI0RTNEIjoiQzBGNiIsCiAgICAiNEUzRSI6IkJFRDkiLAogICAgIjRFM0YiOiJEOEFGIiwKICAgICI0RTQzIjoiQzRDQiIsCiAgICAiNEU0NSI6IkJFQzMiLAogICAgIjRFNDciOiJEOEIxIiwKICAgICI0RTQ4IjoiQzNCNCIsCiAgICAiNEU0OSI6IkQyRTUiLAogICAgIjRFNEIiOiJENkFFIiwKICAgICI0RTRDIjoiQ0VEQSIsCiAgICAiNEU0RCI6IkQ1QTciLAogICAgIjRFNEUiOiJCQUY1IiwKICAgICI0RTRGIjoiQjdBNiIsCiAgICAiNEU1MCI6IkMwRDYiLAogICAgIjRFNTIiOiJDNkI5IiwKICAgICI0RTUzIjoiQzVEMiIsCiAgICAiNEU1NCI6IkM3QzciLAogICAgIjRFNTYiOiJCOUQ0IiwKICAgICI0RTU4IjoiQjNDQiIsCiAgICAiNEU1OSI6IkQyRDIiLAogICAgIjRFNUMiOiJEOEJGIiwKICAgICI0RTVEIjoiQkVDNSIsCiAgICAiNEU1RSI6IkM2RjIiLAogICAgIjRFNUYiOiJEMkIyIiwKICAgICI0RTYwIjoiQ0ZCMCIsCiAgICAiNEU2MSI6IkNGRTciLAogICAgIjRFNjYiOiJDQUU5IiwKICAgICI0RTY5IjoiRDhDMCIsCiAgICAiNEU3MCI6IkMyRjIiLAogICAgIjRFNzEiOiJDMkQyIiwKICAgICI0RTczIjoiQzhFOSIsCiAgICAiNEU3RSI6IkM3QUMiLAogICAgIjRFODYiOiJDMUNCIiwKICAgICI0RTg4IjoiRDNFOCIsCiAgICAiNEU4OSI6IkQ1RjkiLAogICAgIjRFOEIiOiJDQUMyIiwKICAgICI0RThDIjoiQjZGRSIsCiAgICAiNEU4RCI6IkQ4QTEiLAogICAgIjRFOEUiOiJEM0RBIiwKICAgICI0RThGIjoiQkZGNyIsCiAgICAiNEU5MSI6IkQ0QzYiLAogICAgIjRFOTIiOiJCQkE1IiwKICAgICI0RTkzIjoiRDhDMSIsCiAgICAiNEU5NCI6IkNFRTUiLAogICAgIjRFOTUiOiJCRUFFIiwKICAgICI0RTk4IjoiRDhBOCIsCiAgICAiNEU5QSI6IkQxQzciLAogICAgIjRFOUIiOiJEMEE5IiwKICAgICI0RTlGIjoiRDhCRCIsCiAgICAiNEVBMCI6IkQ5RUYiLAogICAgIjRFQTEiOiJDREY2IiwKICAgICI0RUEyIjoiQkZCQSIsCiAgICAiNEVBNCI6IkJEQkIiLAogICAgIjRFQTUiOiJCQUE1IiwKICAgICI0RUE2IjoiRDJFMCIsCiAgICAiNEVBNyI6IkIyRkEiLAogICAgIjRFQTgiOiJCQUUwIiwKICAgICI0RUE5IjoiQzRCNiIsCiAgICAiNEVBQiI6IkNGRUQiLAogICAgIjRFQUMiOiJCRUE5IiwKICAgICI0RUFEIjoiQ0RBNCIsCiAgICAiNEVBRSI6IkMxQzEiLAogICAgIjRFQjIiOiJDN0Q3IiwKICAgICI0RUIzIjoiRDlGMSIsCiAgICAiNEVCNSI6IkQ5RjQiLAogICAgIjRFQkEiOiJDOENCIiwKICAgICI0RUJCIjoiRDhFOSIsCiAgICAiNEVCRiI6IkQyREEiLAogICAgIjRFQzAiOiJDQUIyIiwKICAgICI0RUMxIjoiQzhDQSIsCiAgICAiNEVDMiI6IkQ4RUMiLAogICAgIjRFQzMiOiJEOEVBIiwKICAgICI0RUM0IjoiRDhDNiIsCiAgICAiNEVDNSI6IkJERjYiLAogICAgIjRFQzYiOiJDNkNEIiwKICAgICI0RUM3IjoiQjNGMCIsCiAgICAiNEVDOSI6IkQ4RUIiLAogICAgIjRFQ0EiOiJCREYxIiwKICAgICI0RUNCIjoiQkRFOSIsCiAgICAiNEVDRCI6IkM4RDQiLAogICAgIjRFQ0UiOiJCNEQzIiwKICAgICI0RUQxIjoiQzJEOCIsCiAgICAiNEVEMyI6IkIyRDYiLAogICAgIjRFRDQiOiJEN0QwIiwKICAgICI0RUQ1IjoiQ0FDQiIsCiAgICAiNEVENiI6IkNCRkIiLAogICAgIjRFRDciOiJENUNDIiwKICAgICI0RUQ4IjoiQjhCNiIsCiAgICAiNEVEOSI6IkNGQzkiLAogICAgIjRFREQiOiJEOURBIiwKICAgICI0RURFIjoiRDhGMCIsCiAgICAiNEVERiI6IkM3QUEiLAogICAgIjRFRTEiOiJEOEVFIiwKICAgICI0RUUzIjoiQjRGQSIsCiAgICAiNEVFNCI6IkMxRUUiLAogICAgIjRFRTUiOiJEMkQ0IiwKICAgICI0RUU4IjoiRDhFRCIsCiAgICAiNEVFQSI6IkQyQzciLAogICAgIjRFRUIiOiJEOEVGIiwKICAgICI0RUVDIjoiQzNDNyIsCiAgICAiNEVGMCI6IkQxRjYiLAogICAgIjRFRjIiOiJENkQ5IiwKICAgICI0RUYzIjoiRDhGMiIsCiAgICAiNEVGNSI6IkQ4RjUiLAogICAgIjRFRjYiOiJCQ0ZFIiwKICAgICI0RUY3IjoiQkNEQiIsCiAgICAiNEVGQiI6IkM4Q0UiLAogICAgIjRFRkQiOiJCN0REIiwKICAgICI0RUZGIjoiQjdDMiIsCiAgICAiNEYwMSI6IkM2RjMiLAogICAgIjRGMDkiOiJEOEY4IiwKICAgICI0RjBBIjoiRDJDMSIsCiAgICAiNEYwRCI6IkNFRTkiLAogICAgIjRGMEUiOiJCQ0JGIiwKICAgICI0RjBGIjoiQjdGQyIsCiAgICAiNEYxMCI6IkI3QTUiLAogICAgIjRGMTEiOiJEMEREIiwKICAgICI0RjE3IjoiRDZEQSIsCiAgICAiNEYxOCI6IkQzQzUiLAogICAgIjRGMTkiOiJCQkVGIiwKICAgICI0RjFBIjoiQkJFMSIsCiAgICAiNEYxQiI6IkQ4RjEiLAogICAgIjRGMUUiOiJDOUExIiwKICAgICI0RjFGIjoiQ0VCMCIsCiAgICAiNEYyMCI6IkI0QUIiLAogICAgIjRGMjIiOiJEOEYzIiwKICAgICI0RjI0IjoiQzlDQiIsCiAgICAiNEYyNSI6IkQ4RjYiLAogICAgIjRGMjYiOiJDMkQ3IiwKICAgICI0RjI3IjoiRDhGNyIsCiAgICAiNEYyQSI6IkNFQjEiLAogICAgIjRGMkIiOiJEOEY5IiwKICAgICI0RjJGIjoiQjJBRSIsCiAgICAiNEYzMCI6IkI5QzAiLAogICAgIjRGMzIiOiJEOUEzIiwKICAgICI0RjM0IjoiQjBFOSIsCiAgICAiNEYzNiI6IkMxRTYiLAogICAgIjRGMzgiOiJDOUVDIiwKICAgICI0RjNBIjoiQ0JDNSIsCiAgICAiNEYzQyI6IkNCQzYiLAogICAgIjRGM0QiOiJEOUE0IiwKICAgICI0RjQzIjoiQjVFOCIsCiAgICAiNEY0NiI6IkI1QUIiLAogICAgIjRGNEQiOiJDRUJCIiwKICAgICI0RjRFIjoiQjVDRCIsCiAgICAiNEY0RiI6IkQ3QTEiLAogICAgIjRGNTAiOiJEN0Y0IiwKICAgICI0RjUxIjoiRDNEMyIsCiAgICAiNEY1MyI6IkNDRTUiLAogICAgIjRGNTUiOiJCQUNFIiwKICAgICI0RjU3IjoiRDlBMiIsCiAgICAiNEY1OCI6IkQ5REMiLAogICAgIjRGNTkiOiJEM0UwIiwKICAgICI0RjVBIjoiRDhGRCIsCiAgICAiNEY1QiI6IkI3RjAiLAogICAgIjRGNUMiOiJEN0Y3IiwKICAgICI0RjVEIjoiRDhGRSIsCiAgICAiNEY1RSI6IkQ4RkEiLAogICAgIjRGNUYiOiJEOUExIiwKICAgICI0RjYwIjoiQzRFMyIsCiAgICAiNEY2MyI6IkQzQjYiLAogICAgIjRGNjQiOiJEOEY0IiwKICAgICI0RjY1IjoiRDlERCIsCiAgICAiNEY2NyI6IkQ4RkIiLAogICAgIjRGNjkiOiJDNUU1IiwKICAgICI0RjZDIjoiQzBEMCIsCiAgICAiNEY2RiI6IkQxRjAiLAogICAgIjRGNzAiOiJCMERCIiwKICAgICI0RjczIjoiQkNEMSIsCiAgICAiNEY3NCI6IkQ5QTYiLAogICAgIjRGNzYiOiJEOUE1IiwKICAgICI0RjdCIjoiRDlBQyIsCiAgICAiNEY3QyI6IkQ5QUUiLAogICAgIjRGN0UiOiJEOUFCIiwKICAgICI0RjdGIjoiQ0FCOSIsCiAgICAiNEY4MyI6IkQ5QTkiLAogICAgIjRGODQiOiJENkI2IiwKICAgICI0Rjg4IjoiQjNERSIsCiAgICAiNEY4OSI6IkQ5QTgiLAogICAgIjRGOEIiOiJDMEZEIiwKICAgICI0RjhEIjoiQ0FDQyIsCiAgICAiNEY4RiI6IkQ5QUEiLAogICAgIjRGOTEiOiJEOUE3IiwKICAgICI0Rjk0IjoiRDlCMCIsCiAgICAiNEY5NyI6IkI2QjEiLAogICAgIjRGOUIiOiJCOUE5IiwKICAgICI0RjlEIjoiRDJDMCIsCiAgICAiNEZBMCI6IkNGQzAiLAogICAgIjRGQTMiOiJDMkMyIiwKICAgICI0RkE1IjoiQkRDNCIsCiAgICAiNEZBNiI6IkQ1RUMiLAogICAgIjRGQTciOiJCMkUwIiwKICAgICI0RkE4IjoiQzdDOCIsCiAgICAiNEZBOSI6IkJGRUIiLAogICAgIjRGQUEiOiJEOUFEIiwKICAgICI0RkFDIjoiRDlBRiIsCiAgICAiNEZBRSI6IkNFRUEiLAogICAgIjRGQUYiOiJCQUVFIiwKICAgICI0RkI1IjoiQzdENiIsCiAgICAiNEZCRiI6IkIxRTMiLAogICAgIjRGQzMiOiJCNEQ5IiwKICAgICI0RkM0IjoiQjZFRCIsCiAgICAiNEZDNSI6IkQ5QjQiLAogICAgIjRGQ0EiOiJCRkExIiwKICAgICI0RkNFIjoiRDlERSIsCiAgICAiNEZDRiI6IkM3Q0UiLAogICAgIjRGRDAiOiJDMEZFIiwKICAgICI0RkQxIjoiRDlCOCIsCiAgICAiNEZENyI6IkNCRDciLAogICAgIjRGRDgiOiJCN0ZEIiwKICAgICI0RkRBIjoiRDlCNSIsCiAgICAiNEZEQyI6IkQ5QjciLAogICAgIjRGREQiOiJCMUEzIiwKICAgICI0RkRFIjoiRDNFMSIsCiAgICAiNEZERiI6IkQ5QjkiLAogICAgIjRGRTEiOiJEMEM1IiwKICAgICI0RkUzIjoiRDlCNiIsCiAgICAiNEZFNiI6IkQ5QjEiLAogICAgIjRGRTgiOiJEOUIyIiwKICAgICI0RkU5IjoiQzFBOSIsCiAgICAiNEZFQSI6IkQ5QjMiLAogICAgIjRGRUQiOiJCQ0YzIiwKICAgICI0RkVFIjoiRDBERSIsCiAgICAiNEZFRiI6IkI4QTkiLAogICAgIjRGRjEiOiJCRUUzIiwKICAgICI0RkYzIjoiRDlCRCIsCiAgICAiNEZGOCI6IkQ5QkEiLAogICAgIjRGRkEiOiJCMEIzIiwKICAgICI0RkZFIjoiRDlDMiIsCiAgICAiNTAwQyI6IkQ5QzQiLAogICAgIjUwMEQiOiJCMUI2IiwKICAgICI1MDBGIjoiRDlCRiIsCiAgICAiNTAxMiI6IkI1QjkiLAogICAgIjUwMTQiOiJCRUYzIiwKICAgICI1MDE4IjoiQ0NDOCIsCiAgICAiNTAxOSI6IkJBRjIiLAogICAgIjUwMUEiOiJEMkQwIiwKICAgICI1MDFDIjoiRDlDMyIsCiAgICAiNTAxRiI6IkJERTgiLAogICAgIjUwMjEiOiJCM0FCIiwKICAgICI1MDI1IjoiRDlDNSIsCiAgICAiNTAyNiI6IkJFRUIiLAogICAgIjUwMjgiOiJEOUM2IiwKICAgICI1MDI5IjoiRDlCQiIsCiAgICAiNTAyQSI6IkM0REYiLAogICAgIjUwMkMiOiJEOUJFIiwKICAgICI1MDJEIjoiRDlDMSIsCiAgICAiNTAyRSI6IkQ5QzAiLAogICAgIjUwM0EiOiJENUFFIiwKICAgICI1MDNDIjoiRDZCNSIsCiAgICAiNTAzRSI6IkM3RTMiLAogICAgIjUwNDMiOiJEOUM4IiwKICAgICI1MDQ3IjoiQkNEOSIsCiAgICAiNTA0OCI6IkQ5Q0EiLAogICAgIjUwNEMiOiJEOUJDIiwKICAgICI1MDRFIjoiRDlDQiIsCiAgICAiNTA0RiI6IkM2QUIiLAogICAgIjUwNTUiOiJEOUM5IiwKICAgICI1MDVBIjoiRDdGNiIsCiAgICAiNTA1QyI6IkNEQTMiLAogICAgIjUwNjUiOiJCREExIiwKICAgICI1MDZDIjoiRDlDQyIsCiAgICAiNTA3NiI6IkM1QkMiLAogICAgIjUwNzciOiJDREI1IiwKICAgICI1MDdCIjoiRDlDRCIsCiAgICAiNTA3RSI6IkQ5QzciLAogICAgIjUwN0YiOiJCM0E1IiwKICAgICI1MDgwIjoiQkZGRSIsCiAgICAiNTA4NSI6IkI4QjUiLAogICAgIjUwODgiOiJDMEZDIiwKICAgICI1MDhEIjoiQjBGOCIsCiAgICAiNTBBMyI6IkI0RjYiLAogICAgIjUwQTUiOiJEOUNFIiwKICAgICI1MEE3IjoiRDlDRiIsCiAgICAiNTBBOCI6IkI0QTIiLAogICAgIjUwQTkiOiJEOUQwIiwKICAgICI1MEFDIjoiQjRERiIsCiAgICAiNTBCMiI6IkIwQzEiLAogICAgIjUwQkEiOiJEOUQxIiwKICAgICI1MEJCIjoiQzlCNSIsCiAgICAiNTBDRiI6IkNGRjEiLAogICAgIjUwRDYiOiJEOUQyIiwKICAgICI1MERBIjoiQzFDNSIsCiAgICAiNTBFNiI6IkQ5RDYiLAogICAgIjUwRTciOiJDOUFFIiwKICAgICI1MEVDIjoiRDlENSIsCiAgICAiNTBFRCI6IkQ5RDQiLAogICAgIjUwRUUiOiJEOUQ3IiwKICAgICI1MEYzIjoiQ0JEQiIsCiAgICAiNTBGNSI6IkJEQTkiLAogICAgIjUwRkIiOiJDNkE3IiwKICAgICI1MTA2IjoiRDlEMyIsCiAgICAiNTEwNyI6IkQ5RDgiLAogICAgIjUxMEIiOiJEOUQ5IiwKICAgICI1MTEyIjoiQzhFNSIsCiAgICAiNTEyMSI6IkMwREMiLAogICAgIjUxM0YiOiJCNkY5IiwKICAgICI1MTQwIjoiRDhBMyIsCiAgICAiNTE0MSI6IkQ0Q0EiLAogICAgIjUxNDMiOiJENEFBIiwKICAgICI1MTQ0IjoiRDBENiIsCiAgICAiNTE0NSI6IkIzRTQiLAogICAgIjUxNDYiOiJENUQ3IiwKICAgICI1MTQ4IjoiQ0ZDOCIsCiAgICAiNTE0OSI6IkI5RTIiLAogICAgIjUxNEIiOiJCRkNCIiwKICAgICI1MTREIjoiQzNFMiIsCiAgICAiNTE1MSI6IkI2RDIiLAogICAgIjUxNTQiOiJDREMzIiwKICAgICI1MTU1IjoiRDlFRSIsCiAgICAiNTE1NiI6IkQ5RjAiLAogICAgIjUxNUEiOiJCNUIzIiwKICAgICI1MTVDIjoiQjZCNSIsCiAgICAiNTE2MiI6IkJFQTQiLAogICAgIjUxNjUiOiJDOEVCIiwKICAgICI1MTY4IjoiQzhBQiIsCiAgICAiNTE2QiI6IkIwQ0IiLAogICAgIjUxNkMiOiJCOUFCIiwKICAgICI1MTZEIjoiQzFGOSIsCiAgICAiNTE2RSI6IkQ5RTIiLAogICAgIjUxNzAiOiJDMEJDIiwKICAgICI1MTcxIjoiQjlCMiIsCiAgICAiNTE3MyI6IkI5RDgiLAogICAgIjUxNzQiOiJEMENCIiwKICAgICI1MTc1IjoiQjFGOCIsCiAgICAiNTE3NiI6IkM2RTQiLAogICAgIjUxNzciOiJCRURGIiwKICAgICI1MTc4IjoiQjVFNCIsCiAgICAiNTE3OSI6IkQ3QzgiLAogICAgIjUxN0IiOiJEMUY4IiwKICAgICI1MTdDIjoiQkNFNiIsCiAgICAiNTE3RCI6IkNBREUiLAogICAgIjUxODAiOiJCQ0JEIiwKICAgICI1MTgxIjoiRDlFNiIsCiAgICAiNTE4MiI6IkQ4RTciLAogICAgIjUxODUiOiJDNERBIiwKICAgICI1MTg4IjoiQjhENCIsCiAgICAiNTE4OSI6IkM4QkQiLAogICAgIjUxOEMiOiJCMkUxIiwKICAgICI1MThEIjoiRDREOSIsCiAgICAiNTE5MiI6IkMzQjAiLAogICAgIjUxOTUiOiJDM0UxIiwKICAgICI1MTk2IjoiREFBMiIsCiAgICAiNTE5NyI6IkM4REYiLAogICAgIjUxOTkiOiJEMEI0IiwKICAgICI1MTlCIjoiQkVGQyIsCiAgICAiNTE5QyI6IkM1QTkiLAogICAgIjUxQTAiOiJCOURBIiwKICAgICI1MUEyIjoiREFBMyIsCiAgICAiNTFBNCI6IkQ0QTkiLAogICAgIjUxQTUiOiJEQUE0IiwKICAgICI1MUFCIjoiRDlGQiIsCiAgICAiNTFBQyI6IkI2QUMiLAogICAgIjUxQUYiOiJCN0VCIiwKICAgICI1MUIwIjoiQjFGOSIsCiAgICAiNTFCMSI6IkQ5RkMiLAogICAgIjUxQjIiOiJCM0U1IiwKICAgICI1MUIzIjoiQkVGNiIsCiAgICAiNTFCNSI6IkJGRjYiLAogICAgIjUxQjYiOiJEMkIxIiwKICAgICI1MUI3IjoiQzBFNCIsCiAgICAiNTFCQiI6IkI2QjMiLAogICAgIjUxQkMiOiJEOUZFIiwKICAgICI1MUJEIjoiRDlGRCIsCiAgICAiNTFDMCI6IkJFQkIiLAogICAgIjUxQzQiOiJDNkUwIiwKICAgICI1MUM2IjoiRDdCQyIsCiAgICAiNTFDNyI6IkRBQTEiLAogICAgIjUxQzkiOiJDMUI5IiwKICAgICI1MUNCIjoiQjVGMiIsCiAgICAiNTFDQyI6IkMxRTgiLAogICAgIjUxQ0YiOiJCQ0Y1IiwKICAgICI1MUQxIjoiQjRENSIsCiAgICAiNTFEQiI6IkMxREQiLAogICAgIjUxREQiOiJDNEZEIiwKICAgICI1MUUwIjoiQkNCOCIsCiAgICAiNTFFMSI6IkI3QjIiLAogICAgIjUxRTQiOiJCN0VGIiwKICAgICI1MUVCIjoiRDlFQyIsCiAgICAiNTFFRCI6IkM2QkUiLAogICAgIjUxRUYiOiJCRkFEIiwKICAgICI1MUYwIjoiQkJDQiIsCiAgICAiNTFGMyI6IkI1Q0EiLAogICAgIjUxRjUiOiJEQkM5IiwKICAgICI1MUY2IjoiRDBENyIsCiAgICAiNTFGOCI6IkNEQjkiLAogICAgIjUxRjkiOiJCMEJDIiwKICAgICI1MUZBIjoiQjNGNiIsCiAgICAiNTFGQiI6IkJCRjciLAogICAgIjUxRkMiOiJEQkNBIiwKICAgICI1MUZEIjoiQkFBRiIsCiAgICAiNTFGRiI6IkQ0RTQiLAogICAgIjUyMDAiOiJCNUI2IiwKICAgICI1MjAxIjoiQjVGMyIsCiAgICAiNTIwMiI6IkQ4RDYiLAogICAgIjUyMDMiOiJDOEQwIiwKICAgICI1MjA2IjoiQjdENiIsCiAgICAiNTIwNyI6IkM3RDAiLAogICAgIjUyMDgiOiJEOEQ3IiwKICAgICI1MjBBIjoiQkZBRiIsCiAgICAiNTIwRCI6IkRCQkIiLAogICAgIjUyMEUiOiJEOEQ4IiwKICAgICI1MjExIjoiRDBDQyIsCiAgICAiNTIxMiI6IkJCQUUiLAogICAgIjUyMTYiOiJFQkJFIiwKICAgICI1MjE3IjoiQzFEMCIsCiAgICAiNTIxOCI6IkMxRjUiLAogICAgIjUyMTkiOiJENEYyIiwKICAgICI1MjFBIjoiQjhENSIsCiAgICAiNTIxQiI6IkI0QjQiLAogICAgIjUyMUQiOiJCM0Y1IiwKICAgICI1MjIwIjoiQzlCRSIsCiAgICAiNTIyNCI6IkM1RDAiLAogICAgIjUyMjgiOiJDNUQ5IiwKICAgICI1MjI5IjoiQzBGQiIsCiAgICAiNTIyQiI6IkIxRjAiLAogICAgIjUyMkQiOiJEOEQ5IiwKICAgICI1MjJFIjoiQjlDRSIsCiAgICAiNTIzMCI6IkI1QkQiLAogICAgIjUyMzMiOiJEOERBIiwKICAgICI1MjM2IjoiRDZDNiIsCiAgICAiNTIzNyI6IkNCQTIiLAogICAgIjUyMzgiOiJDOEFGIiwKICAgICI1MjM5IjoiQzlCMiIsCiAgICAiNTIzQSI6IkI0Q0MiLAogICAgIjUyM0IiOiJCRkNDIiwKICAgICI1MjNEIjoiQjlGNCIsCiAgICAiNTIzRiI6IkQ4REIiLAogICAgIjUyNDAiOiJEOERDIiwKICAgICI1MjQxIjoiQjZFNyIsCiAgICAiNTI0MiI6IkJDQzEiLAogICAgIjUyNDMiOiJDQ0VBIiwKICAgICI1MjRBIjoiQ0ZGNyIsCiAgICAiNTI0QyI6IkQ4REQiLAogICAgIjUyNEQiOiJDN0IwIiwKICAgICI1MjUwIjoiQjlEMCIsCiAgICAiNTI1MSI6IkJEQTMiLAogICAgIjUyNTQiOiJDQ0RFIiwKICAgICI1MjU2IjoiQzZDQSIsCiAgICAiNTI1QyI6IkQ4RTAiLAogICAgIjUyNUUiOiJEOERFIiwKICAgICI1MjYxIjoiRDhERiIsCiAgICAiNTI2NSI6IkIwRkUiLAogICAgIjUyNjciOiJCRUU3IiwKICAgICI1MjY5IjoiQ0FBMyIsCiAgICAiNTI2QSI6IkJDRjQiLAogICAgIjUyNkYiOiJCOEIxIiwKICAgICI1MjcyIjoiQjhFRSIsCiAgICAiNTI3RCI6IkQ4RTIiLAogICAgIjUyN0YiOiJCRENCIiwKICAgICI1MjgxIjoiRDhFNCIsCiAgICAiNTI4MiI6IkQ4RTMiLAogICAgIjUyODgiOiJDNUZDIiwKICAgICI1MjkwIjoiRDhFNSIsCiAgICAiNTI5MyI6IkQ4RTYiLAogICAgIjUyOUIiOiJDMUE2IiwKICAgICI1MjlEIjoiQzhCMCIsCiAgICAiNTI5RSI6IkIwRUMiLAogICAgIjUyOUYiOiJCOUE2IiwKICAgICI1MkEwIjoiQkNEMyIsCiAgICAiNTJBMSI6IkNFRjEiLAogICAgIjUyQTIiOiJEQkJEIiwKICAgICI1MkEzIjoiQzFEMyIsCiAgICAiNTJBOCI6IkI2QUYiLAogICAgIjUyQTkiOiJENkZBIiwKICAgICI1MkFBIjoiQzVBQyIsCiAgICAiNTJBQiI6IkJERDkiLAogICAgIjUyQUMiOiJEQkJFIiwKICAgICI1MkFEIjoiREJCRiIsCiAgICAiNTJCMSI6IkMwRjgiLAogICAgIjUyQjIiOiJCRUEyIiwKICAgICI1MkIzIjoiQzBDRCIsCiAgICAiNTJCRSI6IkRCQzAiLAogICAgIjUyQkYiOiJDQUM2IiwKICAgICI1MkMzIjoiQjJBQSIsCiAgICAiNTJDNyI6IkQzQzIiLAogICAgIjUyQzkiOiJDM0UzIiwKICAgICI1MkNCIjoiRDFBQiIsCiAgICAiNTJEMCI6IkRCQzIiLAogICAgIjUyRDIiOiJDMEQ1IiwKICAgICI1MkQ2IjoiREJDMyIsCiAgICAiNTJEOCI6IkJGQjEiLAogICAgIjUyREYiOiJDNEJDIiwKICAgICI1MkU0IjoiQzdEQSIsCiAgICAiNTJGMCI6IkRCQzQiLAogICAgIjUyRjkiOiJEOUU4IiwKICAgICI1MkZBIjoiQzlENyIsCiAgICAiNTJGRSI6IkI5QjQiLAogICAgIjUyRkYiOiJDRUYwIiwKICAgICI1MzAwIjoiRDRDOCIsCiAgICAiNTMwNSI6IkIwRkMiLAogICAgIjUzMDYiOiJCNEQyIiwKICAgICI1MzA4IjoiRDBEOSIsCiAgICAiNTMwRCI6IkQ5RTkiLAogICAgIjUzMEYiOiJERUNCIiwKICAgICI1MzEwIjoiRDlFQiIsCiAgICAiNTMxNSI6IkQ4QjAiLAogICAgIjUzMTYiOiJCQkFGIiwKICAgICI1MzE3IjoiQjFCMSIsCiAgICAiNTMxOSI6IkIzRDciLAogICAgIjUzMUEiOiJEOENFIiwKICAgICI1MzFEIjoiRDREMSIsCiAgICAiNTMyMCI6IkJEQjMiLAogICAgIjUzMjEiOiJCRkVGIiwKICAgICI1MzIzIjoiQ0ZCQiIsCiAgICAiNTMyNiI6IkQ4RDAiLAogICAgIjUzMkEiOiJCN0NCIiwKICAgICI1MzJFIjoiRDhEMSIsCiAgICAiNTMzOSI6IkM2QTUiLAogICAgIjUzM0EiOiJDN0Y4IiwKICAgICI1MzNCIjoiRDJCRCIsCiAgICAiNTMzRSI6IkQ4RDIiLAogICAgIjUzM0YiOiJDNEU0IiwKICAgICI1MzQxIjoiQ0FBRSIsCiAgICAiNTM0MyI6IkM3QTciLAogICAgIjUzNDUiOiJEOEE2IiwKICAgICI1MzQ3IjoiQzlGRCIsCiAgICAiNTM0OCI6IkNFRTciLAogICAgIjUzNDkiOiJCQkRDIiwKICAgICI1MzRBIjoiQjBFQiIsCiAgICAiNTM0RSI6IkJCQUEiLAogICAgIjUzNEYiOiJEMEFEIiwKICAgICI1MzUxIjoiQjFCMCIsCiAgICAiNTM1MiI6IkQ3RTQiLAogICAgIjUzNTMiOiJEN0JGIiwKICAgICI1MzU1IjoiQjVBNSIsCiAgICAiNTM1NiI6IkMyRjQiLAogICAgIjUzNTciOiJDNENGIiwKICAgICI1MzVBIjoiQjJBOSIsCiAgICAiNTM1QyI6IkIyQjciLAogICAgIjUzNUUiOiJCMUU1IiwKICAgICI1MzVGIjoiREZCMiIsCiAgICAiNTM2MCI6IkQ1QkMiLAogICAgIjUzNjEiOiJCRkE4IiwKICAgICI1MzYyIjoiQzJBQyIsCiAgICAiNTM2MyI6IkQ4RDUiLAogICAgIjUzNjQiOiJDMkIxIiwKICAgICI1MzY2IjoiRDhENCIsCiAgICAiNTM2NyI6IkNFRDQiLAogICAgIjUzNjkiOiJEQUUwIiwKICAgICI1MzZCIjoiQ0VDMCIsCiAgICAiNTM2RSI6IkQ4QjQiLAogICAgIjUzNkYiOiJDM0FFIiwKICAgICI1MzcwIjoiRDNBMSIsCiAgICAiNTM3MSI6IkNFQTMiLAogICAgIjUzNzMiOiJCQ0I0IiwKICAgICI1Mzc0IjoiQzhCNCIsCiAgICAiNTM3NSI6IkMyRDEiLAogICAgIjUzNzciOiJCRUVEIiwKICAgICI1Mzc4IjoiRDBCNiIsCiAgICAiNTM3QSI6IkRBRTEiLAogICAgIjUzN0YiOiJDN0U0IiwKICAgICI1MzgyIjoiQjNBNyIsCiAgICAiNTM4NCI6IkI2RjIiLAogICAgIjUzODUiOiJDQ0ZDIiwKICAgICI1Mzg2IjoiQzBGQSIsCiAgICAiNTM4OSI6IkMwRjciLAogICAgIjUzOEIiOiJEMUI5IiwKICAgICI1MzhDIjoiRDFFMSIsCiAgICAiNTM4RCI6IkQ4QzciLAogICAgIjUzOTUiOiJCMkRFIiwKICAgICI1Mzk4IjoiQzBFNSIsCiAgICAiNTM5QSI6IkJBRjEiLAogICAgIjUzOUQiOiJEOEM4IiwKICAgICI1MzlGIjoiRDRBRCIsCiAgICAiNTNBMiI6IkNGRTEiLAogICAgIjUzQTMiOiJEOEM5IiwKICAgICI1M0E1IjoiRDhDQSIsCiAgICAiNTNBNiI6IkNGQzMiLAogICAgIjUzQTgiOiJCM0Y4IiwKICAgICI1M0E5IjoiQkVDNyIsCiAgICAiNTNBRSI6IkQ4Q0IiLAogICAgIjUzQjYiOiJEQkNDIiwKICAgICI1M0JCIjoiQzhBNSIsCiAgICAiNTNCRiI6IkNGRDgiLAogICAgIjUzQzEiOiJDOEZFIiwKICAgICI1M0MyIjoiQjJDRSIsCiAgICAiNTNDOCI6IkQzRDYiLAogICAgIjUzQzkiOiJCMkU2IiwKICAgICI1M0NBIjoiQkNCMCIsCiAgICAiNTNDQiI6IkQzRDEiLAogICAgIjUzQ0MiOiJDQkFCIiwKICAgICI1M0NEIjoiQjdCNCIsCiAgICAiNTNEMSI6IkI3QTIiLAogICAgIjUzRDQiOiJDQUU1IiwKICAgICI1M0Q2IjoiQzhBMSIsCiAgICAiNTNENyI6IkNBREMiLAogICAgIjUzRDgiOiJCMUU0IiwKICAgICI1M0Q5IjoiRDBGMCIsCiAgICAiNTNEQiI6IkM1RDEiLAogICAgIjUzREYiOiJEQkM1IiwKICAgICI1M0UwIjoiQjVGRSIsCiAgICAiNTNFMyI6IkJGREEiLAogICAgIjUzRTQiOiJCOUM1IiwKICAgICI1M0U1IjoiQkVFNCIsCiAgICAiNTNFNiI6IkMxRUQiLAogICAgIjUzRTgiOiJERkI2IiwKICAgICI1M0U5IjoiREZCNSIsCiAgICAiNTNFQSI6IkQ2QkIiLAogICAgIjUzRUIiOiJCREQwIiwKICAgICI1M0VDIjoiRDVEOSIsCiAgICAiNTNFRCI6IkIwQzgiLAogICAgIjUzRUUiOiJCNkEzIiwKICAgICI1M0VGIjoiQkZDOSIsCiAgICAiNTNGMCI6IkNDQTgiLAogICAgIjUzRjEiOiJERkIzIiwKICAgICI1M0YyIjoiQ0FCNyIsCiAgICAiNTNGMyI6IkQzRDIiLAogICAgIjUzRjUiOiJEOENGIiwKICAgICI1M0Y2IjoiRDJCNiIsCiAgICAiNTNGNyI6IkJBQzUiLAogICAgIjUzRjgiOiJDQkJFIiwKICAgICI1M0Y5IjoiQ0NCRSIsCiAgICAiNTNGQiI6IkRGQjciLAogICAgIjUzRkMiOiJCNUYwIiwKICAgICI1M0ZEIjoiREZCNCIsCiAgICAiNTQwMSI6IkQzRjUiLAogICAgIjU0MDMiOiJCM0Q0IiwKICAgICI1NDA0IjoiQjhGNyIsCiAgICAiNTQwNiI6IkRGQkEiLAogICAgIjU0MDgiOiJCQUNGIiwKICAgICI1NDA5IjoiQkNBQSIsCiAgICAiNTQwQSI6IkI1RjUiLAogICAgIjU0MEMiOiJDREFDIiwKICAgICI1NDBEIjoiQzNGQiIsCiAgICAiNTQwRSI6IkJBRjMiLAogICAgIjU0MEYiOiJDMEY0IiwKICAgICI1NDEwIjoiQ0RDMiIsCiAgICAiNTQxMSI6IkNGRjIiLAogICAgIjU0MTIiOiJERkI4IiwKICAgICI1NDEzIjoiQ0ZDNSIsCiAgICAiNTQxNSI6IkMyQzAiLAogICAgIjU0MTYiOiJERkI5IiwKICAgICI1NDE3IjoiQzJGMCIsCiAgICAiNTQxQiI6IkJFRkQiLAogICAgIjU0MUQiOiJDMURGIiwKICAgICI1NDFFIjoiQ0RDQyIsCiAgICAiNTQxRiI6IkQyRjciLAogICAgIjU0MjAiOiJCN0NEIiwKICAgICI1NDIxIjoiREZDMSIsCiAgICAiNTQyMyI6IkRGQzQiLAogICAgIjU0MjYiOiJCN0YxIiwKICAgICI1NDI3IjoiQjBDOSIsCiAgICAiNTQyOCI6IkI2RDYiLAogICAgIjU0MjkiOiJCN0Q0IiwKICAgICI1NDJCIjoiQkFBQyIsCiAgICAiNTQyQyI6IkNDRkQiLAogICAgIjU0MkQiOiJCRkQ0IiwKICAgICI1NDJFIjoiQ0JCMSIsCiAgICAiNTQyRiI6IkM2RjQiLAogICAgIjU0MzEiOiJENkE4IiwKICAgICI1NDMyIjoiREZDNSIsCiAgICAiNTQzNCI6IkNFRTIiLAogICAgIjU0MzUiOiJCM0IzIiwKICAgICI1NDM4IjoiQ0VGQyIsCiAgICAiNTQzOSI6IkI0QjUiLAogICAgIjU0M0IiOiJDRUM3IiwKICAgICI1NDNDIjoiQkFGMCIsCiAgICAiNTQzRSI6IkNFRTEiLAogICAgIjU0NDAiOiJEMUJEIiwKICAgICI1NDQzIjoiREZDMCIsCiAgICAiNTQ0NiI6IkI0RjQiLAogICAgIjU0NDgiOiJCM0NBIiwKICAgICI1NDRBIjoiQjhFNiIsCiAgICAiNTQ0QiI6IkRGQkIiLAogICAgIjU0NTAiOiJDNEM1IiwKICAgICI1NDUyIjoiREZCQyIsCiAgICAiNTQ1MyI6IkRGQkQiLAogICAgIjU0NTQiOiJERkJFIiwKICAgICI1NDU1IjoiQzVCQiIsCiAgICAiNTQ1NiI6IkRGQkYiLAogICAgIjU0NTciOiJERkMyIiwKICAgICI1NDU4IjoiRDRCMSIsCiAgICAiNTQ1OSI6IkRGQzMiLAogICAgIjU0NUIiOiJDN0JBIiwKICAgICI1NDVDIjoiQ0VEOCIsCiAgICAiNTQ2MiI6IkM0RDgiLAogICAgIjU0NjQiOiJERkNBIiwKICAgICI1NDY2IjoiREZDRiIsCiAgICAiNTQ2OCI6IkQ2REMiLAogICAgIjU0NzEiOiJERkM5IiwKICAgICI1NDcyIjoiREZEQSIsCiAgICAiNTQ3MyI6IkNFQjYiLAogICAgIjU0NzUiOiJCQUM3IiwKICAgICI1NDc2IjoiREZDRSIsCiAgICAiNTQ3NyI6IkRGQzgiLAogICAgIjU0NzgiOiJDNURFIiwKICAgICI1NDdCIjoiQzlFQiIsCiAgICAiNTQ3QyI6IkJBRjQiLAogICAgIjU0N0QiOiJDM0ZDIiwKICAgICI1NDgwIjoiQkVENyIsCiAgICAiNTQ4MiI6IkRGQzYiLAogICAgIjU0ODQiOiJERkNEIiwKICAgICI1NDg2IjoiQzVEOCIsCiAgICAiNTQ4QiI6IkQ1QTYiLAogICAgIjU0OEMiOiJCQUNEIiwKICAgICI1NDhFIjoiQkVDQyIsCiAgICAiNTQ4RiI6IkQzQkQiLAogICAgIjU0OTAiOiJCOEMwIiwKICAgICI1NDkyIjoiRDZFNCIsCiAgICAiNTQ5NCI6IkRGQzciLAogICAgIjU0OTUiOiJCOUJFIiwKICAgICI1NDk2IjoiQkZBNyIsCiAgICAiNTQ5OSI6IkMxRkMiLAogICAgIjU0OUEiOiJERkNCIiwKICAgICI1NDlCIjoiREZDQyIsCiAgICAiNTQ5RCI6IkRGRDAiLAogICAgIjU0QTMiOiJERkRCIiwKICAgICI1NEE0IjoiREZFNSIsCiAgICAiNTRBNiI6IkRGRDciLAogICAgIjU0QTciOiJERkQ2IiwKICAgICI1NEE4IjoiRDdDOSIsCiAgICAiNTRBOSI6IkRGRTMiLAogICAgIjU0QUEiOiJERkU0IiwKICAgICI1NEFCIjoiRTVFQiIsCiAgICAiNTRBQyI6IkQyQTciLAogICAgIjU0QUQiOiJERkQyIiwKICAgICI1NEFGIjoiQkZBOSIsCiAgICAiNTRCMSI6IkQ0REIiLAogICAgIjU0QjMiOiJCRkM4IiwKICAgICI1NEI0IjoiREZENCIsCiAgICAiNTRCOCI6IkNGQ0MiLAogICAgIjU0QkIiOiJERkREIiwKICAgICI1NEJEIjoiRDFDQSIsCiAgICAiNTRCRiI6IkRGREUiLAogICAgIjU0QzAiOiJCMEE3IiwKICAgICI1NEMxIjoiQzZCNyIsCiAgICAiNTRDMiI6IkRGRDMiLAogICAgIjU0QzQiOiJCQUU1IiwKICAgICI1NEM2IjoiQjZERiIsCiAgICAiNTRDNyI6IkNEREIiLAogICAgIjU0QzgiOiJCOUZFIiwKICAgICI1NEM5IjoiRDRENSIsCiAgICAiNTRDQyI6IkRGREYiLAogICAgIjU0Q0QiOiJDRkVDIiwKICAgICI1NENFIjoiQjBBNSIsCiAgICAiNTRDRiI6IkRGRTciLAogICAgIjU0RDAiOiJERkQxIiwKICAgICI1NEQxIjoiRDFDNiIsCiAgICAiNTREMiI6IkRGRDUiLAogICAgIjU0RDMiOiJERkQ4IiwKICAgICI1NEQ0IjoiREZEOSIsCiAgICAiNTRENSI6IkRGREMiLAogICAgIjU0RDciOiJCQkE5IiwKICAgICI1NEQ5IjoiREZFMCIsCiAgICAiNTREQSI6IkRGRTEiLAogICAgIjU0REMiOiJERkUyIiwKICAgICI1NEREIjoiREZFNiIsCiAgICAiNTRERSI6IkRGRTgiLAogICAgIjU0REYiOiJEM0I0IiwKICAgICI1NEU1IjoiQjhFNyIsCiAgICAiNTRFNiI6IkM1QjYiLAogICAgIjU0RTciOiJERkVBIiwKICAgICI1NEU4IjoiQzlEQSIsCiAgICAiNTRFOSI6IkMxQTgiLAogICAgIjU0RUEiOiJDNEM0IiwKICAgICI1NEVEIjoiQkZERSIsCiAgICAiNTRFRSI6IkNGRjgiLAogICAgIjU0RjIiOiJENURDIiwKICAgICI1NEYzIjoiREZFRSIsCiAgICAiNTRGQSI6IkIyQjgiLAogICAgIjU0RkMiOiJCQURGIiwKICAgICI1NEZEIjoiREZFQyIsCiAgICAiNTRGRiI6IkRCQzEiLAogICAgIjU1MDEiOiJEMUU0IiwKICAgICI1NTA2IjoiQ0JGNCIsCiAgICAiNTUwNyI6IkI0QkQiLAogICAgIjU1MDkiOiJCMEE2IiwKICAgICI1NTBGIjoiREZGMSIsCiAgICAiNTUxMCI6IkNDQzYiLAogICAgIjU1MTEiOiJERkYyIiwKICAgICI1NTE0IjoiREZFRCIsCiAgICAiNTUxQiI6IkRGRTkiLAogICAgIjU1MjAiOiJERkVCIiwKICAgICI1NTIyIjoiREZFRiIsCiAgICAiNTUyMyI6IkRGRjAiLAogICAgIjU1MjQiOiJCQkJEIiwKICAgICI1NTI3IjoiREZGMyIsCiAgICAiNTUyQSI6IkRGRjQiLAogICAgIjU1MkMiOiJCQkEzIiwKICAgICI1NTJFIjoiQ0FEQiIsCiAgICAiNTUyRiI6IkNFQTgiLAogICAgIjU1MzAiOiJFMEE3IiwKICAgICI1NTMxIjoiQjNBQSIsCiAgICAiNTUzMyI6IkUwQTYiLAogICAgIjU1MzciOiJFMEExIiwKICAgICI1NTNDIjoiREZGRSIsCiAgICAiNTUzRSI6IkNERDkiLAogICAgIjU1M0YiOiJERkZDIiwKICAgICI1NTQxIjoiREZGQSIsCiAgICAiNTU0MyI6IkJGRDAiLAogICAgIjU1NDQiOiJEN0M0IiwKICAgICI1NTQ2IjoiQzlDQyIsCiAgICAiNTU0OSI6IkRGRjgiLAogICAgIjU1NEEiOiJCMEExIiwKICAgICI1NTUwIjoiREZGRCIsCiAgICAiNTU1NSI6IkRGRkIiLAogICAgIjU1NTYiOiJFMEEyIiwKICAgICI1NTVDIjoiRTBBOCIsCiAgICAiNTU2MSI6IkI3QzgiLAogICAgIjU1NjQiOiJDNkExIiwKICAgICI1NTY1IjoiQzlCNiIsCiAgICAiNTU2NiI6IkMwQjIiLAogICAgIjU1NjciOiJERkY1IiwKICAgICI1NTZBIjoiQzVCRSIsCiAgICAiNTU2QyI6IkQ4QzQiLAogICAgIjU1NkQiOiJERkY5IiwKICAgICI1NTZFIjoiQzRGNiIsCiAgICAiNTU3NSI6IkUwQTMiLAogICAgIjU1NzYiOiJFMEE0IiwKICAgICI1NTc3IjoiRTBBNSIsCiAgICAiNTU3OCI6IkQwQTUiLAogICAgIjU1N0IiOiJFMEI0IiwKICAgICI1NTdDIjoiQ0NFNCIsCiAgICAiNTU3RSI6IkUwQjEiLAogICAgIjU1ODAiOiJCRkE2IiwKICAgICI1NTgxIjoiRTBBRiIsCiAgICAiNTU4MiI6IkNFQjkiLAogICAgIjU1ODMiOiJFMEFCIiwKICAgICI1NTg0IjoiQzlDNiIsCiAgICAiNTU4NyI6IkMwQUUiLAogICAgIjU1ODgiOiJFMEFFIiwKICAgICI1NTg5IjoiQkFFRCIsCiAgICAiNTU4QSI6IkJBQjAiLAogICAgIjU1OEIiOiJFMEE5IiwKICAgICI1NThGIjoiREZGNiIsCiAgICAiNTU5MSI6IkUwQjMiLAogICAgIjU1OTQiOiJFMEI4IiwKICAgICI1NTk4IjoiQjRBRCIsCiAgICAiNTU5OSI6IkUwQjkiLAogICAgIjU1OUMiOiJDRkIyIiwKICAgICI1NTlEIjoiQkFDOCIsCiAgICAiNTU5RiI6IkUwQjAiLAogICAgIjU1QTciOiJEMEZBIiwKICAgICI1NUIxIjoiRTBBQyIsCiAgICAiNTVCMyI6IkQ0RkIiLAogICAgIjU1QjUiOiJERkY3IiwKICAgICI1NUI3IjoiQzVFNyIsCiAgICAiNTVCOSI6IkUwQUQiLAogICAgIjU1QkIiOiJEM0Y3IiwKICAgICI1NUJEIjoiRTBCNiIsCiAgICAiNTVCRSI6IkUwQjciLAogICAgIjU1QzQiOiJFMEM0IiwKICAgICI1NUM1IjoiRDBFMSIsCiAgICAiNTVDOSI6IkUwQkMiLAogICAgIjU1Q0MiOiJFMEM5IiwKICAgICI1NUNEIjoiRTBDQSIsCiAgICAiNTVEMSI6IkUwQkUiLAogICAgIjU1RDIiOiJFMEFBIiwKICAgICI1NUQzIjoiQzlBNCIsCiAgICAiNTVENCI6IkUwQzEiLAogICAgIjU1RDYiOiJFMEIyIiwKICAgICI1NURDIjoiQ0FDOCIsCiAgICAiNTVERCI6IkUwQzMiLAogICAgIjU1REYiOiJFMEI1IiwKICAgICI1NUUxIjoiQ0VDQiIsCiAgICAiNTVFMyI6IkNCQzMiLAogICAgIjU1RTQiOiJFMENEIiwKICAgICI1NUU1IjoiRTBDNiIsCiAgICAiNTVFNiI6IkUwQzIiLAogICAgIjU1RTgiOiJFMENCIiwKICAgICI1NUVBIjoiRTBCQSIsCiAgICAiNTVFQiI6IkUwQkYiLAogICAgIjU1RUMiOiJFMEMwIiwKICAgICI1NUVGIjoiRTBDNSIsCiAgICAiNTVGMiI6IkUwQzciLAogICAgIjU1RjMiOiJFMEM4IiwKICAgICI1NUY1IjoiRTBDQyIsCiAgICAiNTVGNyI6IkUwQkIiLAogICAgIjU1RkQiOiJDQkQ0IiwKICAgICI1NUZFIjoiRTBENSIsCiAgICAiNTYwMCI6IkUwRDYiLAogICAgIjU2MDEiOiJFMEQyIiwKICAgICI1NjA4IjoiRTBEMCIsCiAgICAiNTYwOSI6IkJDQ0UiLAogICAgIjU2MEMiOiJFMEQxIiwKICAgICI1NjBFIjoiQjhDMiIsCiAgICAiNTYwRiI6IkQ4QzUiLAogICAgIjU2MTgiOiJEMEVBIiwKICAgICI1NjFCIjoiQzJFRiIsCiAgICAiNTYxRSI6IkUwQ0YiLAogICAgIjU2MUYiOiJFMEJEIiwKICAgICI1NjIzIjoiRTBENCIsCiAgICAiNTYyNCI6IkUwRDMiLAogICAgIjU2MjciOiJFMEQ3IiwKICAgICI1NjJDIjoiRTBEQyIsCiAgICAiNTYyRCI6IkUwRDgiLAogICAgIjU2MzEiOiJENkY2IiwKICAgICI1NjMyIjoiQjNCMCIsCiAgICAiNTYzNCI6IkQ3RUMiLAogICAgIjU2MzYiOiJDQkJCIiwKICAgICI1NjM5IjoiRTBEQSIsCiAgICAiNTYzQiI6IkNFRkIiLAogICAgIjU2M0YiOiJCQUQ5IiwKICAgICI1NjRDIjoiRTBFMSIsCiAgICAiNTY0RCI6IkUwREQiLAogICAgIjU2NEUiOiJEMkFEIiwKICAgICI1NjU0IjoiRTBFMiIsCiAgICAiNTY1NyI6IkUwREIiLAogICAgIjU2NTgiOiJFMEQ5IiwKICAgICI1NjU5IjoiRTBERiIsCiAgICAiNTY1QyI6IkUwRTAiLAogICAgIjU2NjIiOiJFMERFIiwKICAgICI1NjY0IjoiRTBFNCIsCiAgICAiNTY2OCI6IkM2RjciLAogICAgIjU2NjkiOiJEOEFDIiwKICAgICI1NjZBIjoiRDRFQiIsCiAgICAiNTY2QiI6IkUwRTYiLAogICAgIjU2NkMiOiJDQUM5IiwKICAgICI1NjcxIjoiRTBFNSIsCiAgICAiNTY3NiI6IkI4QzEiLAogICAgIjU2N0IiOiJFMEU3IiwKICAgICI1NjdDIjoiRTBFOCIsCiAgICAiNTY4NSI6IkUwRTkiLAogICAgIjU2ODYiOiJFMEUzIiwKICAgICI1NjhFIjoiQkFCRiIsCiAgICAiNTY4RiI6IkNDRTciLAogICAgIjU2OTMiOiJFMEVBIiwKICAgICI1NkEzIjoiQ0ZGOSIsCiAgICAiNTZBRiI6IkUwRUIiLAogICAgIjU2QjciOiJDOEMyIiwKICAgICI1NkJDIjoiQkRDMCIsCiAgICAiNTZDQSI6IkM0RDIiLAogICAgIjU2RDQiOiJFMEVDIiwKICAgICI1NkQ3IjoiRTBFRCIsCiAgICAiNTZEQSI6IkM3RjQiLAogICAgIjU2REIiOiJDQkM0IiwKICAgICI1NkREIjoiRTBFRSIsCiAgICAiNTZERSI6IkJCRDgiLAogICAgIjU2REYiOiJEOEI2IiwKICAgICI1NkUwIjoiRDJGMiIsCiAgICAiNTZFMSI6IkUwRUYiLAogICAgIjU2RTIiOiJDREM1IiwKICAgICI1NkU0IjoiQjZEQSIsCiAgICAiNTZFQiI6IkUwRjEiLAogICAgIjU2RUQiOiJENEIwIiwKICAgICI1NkYwIjoiQzBBNyIsCiAgICAiNTZGMSI6IkI0RDEiLAogICAgIjU2RjQiOiJDRUE3IiwKICAgICI1NkY1IjoiRTBGMCIsCiAgICAiNTZGOSI6IkUwRjIiLAogICAgIjU2RkEiOiJCOUNDIiwKICAgICI1NkZEIjoiQjlGQSIsCiAgICAiNTZGRSI6IkNEQkMiLAogICAgIjU2RkYiOiJFMEYzIiwKICAgICI1NzAzIjoiQzZENCIsCiAgICAiNTcwNCI6IkUwRjQiLAogICAgIjU3MDYiOiJENEIyIiwKICAgICI1NzA4IjoiQzhBNiIsCiAgICAiNTcwOSI6IkUwRjYiLAogICAgIjU3MEEiOiJFMEY1IiwKICAgICI1NzFDIjoiRTBGNyIsCiAgICAiNTcxRiI6IkNEQzEiLAogICAgIjU3MjMiOiJDQUE1IiwKICAgICI1NzI4IjoiRDREQSIsCiAgICAiNTcyOSI6IkRCRDciLAogICAgIjU3MkEiOiJEQkQ5IiwKICAgICI1NzJDIjoiREJEOCIsCiAgICAiNTcyRCI6IkI5RTciLAogICAgIjU3MkUiOiJEQkRDIiwKICAgICI1NzJGIjoiREJERCIsCiAgICAiNTczMCI6IkI1RDgiLAogICAgIjU3MzMiOiJEQkRBIiwKICAgICI1NzM5IjoiREJEQiIsCiAgICAiNTczQSI6IkIzQTEiLAogICAgIjU3M0IiOiJEQkRGIiwKICAgICI1NzNFIjoiQkJGOCIsCiAgICAiNTc0MCI6IkQ2QjciLAogICAgIjU3NDIiOiJEQkUwIiwKICAgICI1NzQ3IjoiQkVGOSIsCiAgICAiNTc0QSI6IkI3QkIiLAogICAgIjU3NEMiOiJEQkQwIiwKICAgICI1NzREIjoiQ0NBRSIsCiAgICAiNTc0RSI6IkJGQjIiLAogICAgIjU3NEYiOiJCQkI1IiwKICAgICI1NzUwIjoiRDdGOCIsCiAgICAiNTc1MSI6IkJGRDMiLAogICAgIjU3NTciOiJCRkU5IiwKICAgICI1NzVBIjoiQkNFMSIsCiAgICAiNTc1QiI6IkNDQjMiLAogICAgIjU3NUMiOiJEQkRFIiwKICAgICI1NzVEIjoiQjBEMyIsCiAgICAiNTc1RSI6IkNFRUIiLAogICAgIjU3NUYiOiJCN0Q4IiwKICAgICI1NzYwIjoiRDdCOSIsCiAgICAiNTc2MSI6IkM2QzIiLAogICAgIjU3NjQiOiJDMEE0IiwKICAgICI1NzY2IjoiQ0NCOSIsCiAgICAiNTc2OCI6IkRCRTciLAogICAgIjU3NjkiOiJEQkUxIiwKICAgICI1NzZBIjoiQzZCQSIsCiAgICAiNTc2QiI6IkRCRTMiLAogICAgIjU3NkQiOiJEQkU4IiwKICAgICI1NzZGIjoiQzVGNyIsCiAgICAiNTc3MyI6IkRCRUEiLAogICAgIjU3NzYiOiJEQkU5IiwKICAgICI1Nzc3IjoiQkZDMCIsCiAgICAiNTc3QiI6IkRCRTYiLAogICAgIjU3N0MiOiJEQkU1IiwKICAgICI1NzgyIjoiQjRCOSIsCiAgICAiNTc4MyI6IkMwQUMiLAogICAgIjU3ODQiOiJDMkEyIiwKICAgICI1Nzg1IjoiREJFMiIsCiAgICAiNTc4NiI6IkRCRTQiLAogICAgIjU3OEIiOiJEMENEIiwKICAgICI1NzhDIjoiREJFRCIsCiAgICAiNTc5MiI6IkMwREQiLAogICAgIjU3OTMiOiJEQkYyIiwKICAgICI1NzlCIjoiQjZFMiIsCiAgICAiNTdBMCI6IkRCRjMiLAogICAgIjU3QTEiOiJEQkQyIiwKICAgICI1N0EyIjoiQjlCOCIsCiAgICAiNTdBMyI6IkQ0QUIiLAogICAgIjU3QTQiOiJEQkVDIiwKICAgICI1N0E2IjoiQkZEMSIsCiAgICAiNTdBNyI6IkRCRjAiLAogICAgIjU3QTkiOiJEQkQxIiwKICAgICI1N0FCIjoiQjVFNiIsCiAgICAiNTdBRCI6IkRCRUIiLAogICAgIjU3QUUiOiJCRkU1IiwKICAgICI1N0IyIjoiREJFRSIsCiAgICAiNTdCNCI6IkRCRjEiLAogICAgIjU3QjgiOiJEQkY5IiwKICAgICI1N0MyIjoiQjlBMSIsCiAgICAiNTdDMyI6IkIwQTMiLAogICAgIjU3Q0IiOiJDMkYxIiwKICAgICI1N0NFIjoiQjNDNyIsCiAgICAiNTdDRiI6IkRCRUYiLAogICAgIjU3RDIiOiJEQkY4IiwKICAgICI1N0Q0IjoiQzZEMiIsCiAgICAiNTdENSI6IkRCRjQiLAogICAgIjU3RDgiOiJEQkY1IiwKICAgICI1N0Q5IjoiREJGNyIsCiAgICAiNTdEQSI6IkRCRjYiLAogICAgIjU3REQiOiJEQkZFIiwKICAgICI1N0RGIjoiRDNGMiIsCiAgICAiNTdFMCI6IkIyQkEiLAogICAgIjU3RTQiOiJEQkZEIiwKICAgICI1N0VEIjoiRENBNCIsCiAgICAiNTdFRiI6IkRCRkIiLAogICAgIjU3RjQiOiJEQkZBIiwKICAgICI1N0Y4IjoiREJGQyIsCiAgICAiNTdGOSI6IkM1RTAiLAogICAgIjU3RkEiOiJCQkY5IiwKICAgICI1N0ZEIjoiRENBMyIsCiAgICAiNTgwMCI6IkRDQTUiLAogICAgIjU4MDIiOiJDQ0MzIiwKICAgICI1ODA2IjoiQjZEMSIsCiAgICAiNTgwNyI6IkREQzAiLAogICAgIjU4MEIiOiJEQ0ExIiwKICAgICI1ODBEIjoiRENBMiIsCiAgICAiNTgxMSI6IkM3QjUiLAogICAgIjU4MTUiOiJCNkU5IiwKICAgICI1ODE5IjoiRENBNyIsCiAgICAiNTgxRSI6IkRDQTYiLAogICAgIjU4MjAiOiJEQ0E5IiwKICAgICI1ODIxIjoiQjFBNCIsCiAgICAiNTgyNCI6IkI1Q0MiLAogICAgIjU4MkEiOiJCRkIwIiwKICAgICI1ODMwIjoiRDFERiIsCiAgICAiNTgzNSI6IkI2QzIiLAogICAgIjU4NDQiOiJEQ0E4IiwKICAgICI1ODRDIjoiQ0JGQSIsCiAgICAiNTg0RCI6IkVCRjMiLAogICAgIjU4NTEiOiJDQkRDIiwKICAgICI1ODU0IjoiQ0JGRSIsCiAgICAiNTg1OCI6IkNDQzEiLAogICAgIjU4NUUiOiJDOEZCIiwKICAgICI1ODY1IjoiRENBQSIsCiAgICAiNTg2QiI6IkNDRUUiLAogICAgIjU4NkMiOiJEQ0FCIiwKICAgICI1ODdFIjoiREJEMyIsCiAgICAiNTg4MCI6IkRDQUYiLAogICAgIjU4ODEiOiJEQ0FDIiwKICAgICI1ODgzIjoiQkVCMyIsCiAgICAiNTg4NSI6IkNBRkIiLAogICAgIjU4ODkiOiJEQ0FEIiwKICAgICI1ODkyIjoiQzlDQSIsCiAgICAiNTg5MyI6IkM0QjkiLAogICAgIjU4OTkiOiJDN0JEIiwKICAgICI1ODlBIjoiRENBRSIsCiAgICAiNTg5RSI6IkQ0RjYiLAogICAgIjU4OUYiOiJEMEU2IiwKICAgICI1OEE4IjoiQzRBQiIsCiAgICAiNThBOSI6IkI2RDUiLAogICAgIjU4QkMiOiJEQkQ0IiwKICAgICI1OEMxIjoiQjFEQSIsCiAgICAiNThDNSI6IkRCRDUiLAogICAgIjU4RDEiOiJEQkQ2IiwKICAgICI1OEQ1IjoiQkFCRSIsCiAgICAiNThFNCI6IkM4QzAiLAogICAgIjU4RUIiOiJDQUJGIiwKICAgICI1OEVDIjoiQzhDOSIsCiAgICAiNThFRSI6IkQ3QjMiLAogICAgIjU4RjAiOiJDOUY5IiwKICAgICI1OEYzIjoiQkZDNyIsCiAgICAiNThGNiI6IkJBRjgiLAogICAgIjU4RjkiOiJEMkJDIiwKICAgICI1OTAyIjoiRTJCQSIsCiAgICAiNTkwNCI6IkI0QTYiLAogICAgIjU5MDciOiJCMUI4IiwKICAgICI1OTBEIjoiQjhCNCIsCiAgICAiNTkwRiI6IkNGQzQiLAogICAgIjU5MTQiOiJEOUU3IiwKICAgICI1OTE1IjoiQ0ZBNiIsCiAgICAiNTkxNiI6IkNERTIiLAogICAgIjU5MTkiOiJEOUVEIiwKICAgICI1OTFBIjoiQjZFMCIsCiAgICAiNTkxQyI6IkQyQjkiLAogICAgIjU5MUYiOiJCOUJCIiwKICAgICI1OTI0IjoiRTJCOSIsCiAgICAiNTkyNSI6IkUyQjciLAogICAgIjU5MjciOiJCNEYzIiwKICAgICI1OTI5IjoiQ0NFQyIsCiAgICAiNTkyQSI6IkNDQUIiLAogICAgIjU5MkIiOiJCN0YyIiwKICAgICI1OTJEIjoiRDhCMiIsCiAgICAiNTkyRSI6IkQxRUIiLAogICAgIjU5MkYiOiJCQUJCIiwKICAgICI1OTMxIjoiQ0FBNyIsCiAgICAiNTkzNCI6IkNEQjciLAogICAgIjU5MzciOiJEMkM0IiwKICAgICI1OTM4IjoiQkZFNCIsCiAgICAiNTkzOSI6IkJDRDAiLAogICAgIjU5M0EiOiJCNkUxIiwKICAgICI1OTNDIjoiREVDNSIsCiAgICAiNTk0MSI6IkRFQzYiLAogICAgIjU5NDIiOiJEQkJDIiwKICAgICI1OTQ0IjoiRDFEOSIsCiAgICAiNTk0NyI6IkM2RTYiLAogICAgIjU5NDgiOiJDNENFIiwKICAgICI1OTQ5IjoiQjdFRSIsCiAgICAiNTk0QiI6IkI3REMiLAogICAgIjU5NEUiOiJCRkZDIiwKICAgICI1OTRGIjoiRDdFMCIsCiAgICAiNTk1MSI6IkM2RjUiLAogICAgIjU5NTQiOiJCMUJDIiwKICAgICI1OTU1IjoiREVDOCIsCiAgICAiNTk1NiI6IkJEQjEiLAogICAgIjU5NTciOiJDQ0Q3IiwKICAgICI1OTU4IjoiREVDQSIsCiAgICAiNTk1QSI6IkRFQzkiLAogICAgIjU5NjAiOiJCNUVDIiwKICAgICI1OTYyIjoiQzlERCIsCiAgICAiNTk2NSI6IkIwQzIiLAogICAgIjU5NzMiOiJDNUFFIiwKICAgICI1OTc0IjoiQzVBQiIsCiAgICAiNTk3NiI6IkM0Q0MiLAogICAgIjU5NzgiOiJCQ0U5IiwKICAgICI1OTc5IjoiQ0JGRCIsCiAgICAiNTk3RCI6IkJBQzMiLAogICAgIjU5ODEiOiJFNUY5IiwKICAgICI1OTgyIjoiQzhFNyIsCiAgICAiNTk4MyI6IkU1RkEiLAogICAgIjU5ODQiOiJDREZEIiwKICAgICI1OTg2IjoiRDdCMSIsCiAgICAiNTk4NyI6IkI4QkUiLAogICAgIjU5ODgiOiJDMkU4IiwKICAgICI1OThBIjoiQzhEMSIsCiAgICAiNTk4RCI6IkU1RkIiLAogICAgIjU5OTIiOiJCNkNBIiwKICAgICI1OTkzIjoiQkNDQiIsCiAgICAiNTk5NiI6IkQxRkQiLAogICAgIjU5OTciOiJFNkExIiwKICAgICI1OTk5IjoiQzNFRSIsCiAgICAiNTk5RSI6IkU2QTQiLAogICAgIjU5QTMiOiJFNUZFIiwKICAgICI1OUE0IjoiRTZBNSIsCiAgICAiNTlBNSI6IkNERDciLAogICAgIjU5QTgiOiJCN0MxIiwKICAgICI1OUE5IjoiRTVGQyIsCiAgICAiNTlBQSI6IkU1RkQiLAogICAgIjU5QUIiOiJFNkEzIiwKICAgICI1OUFFIjoiQzRERCIsCiAgICAiNTlBRiI6IkU2QTgiLAogICAgIjU5QjIiOiJFNkE3IiwKICAgICI1OUI5IjoiQzNDMyIsCiAgICAiNTlCQiI6IkM2REUiLAogICAgIjU5QkUiOiJFNkFBIiwKICAgICI1OUM2IjoiQzRCNyIsCiAgICAiNTlDQSI6IkU2QTIiLAogICAgIjU5Q0IiOiJDQUJDIiwKICAgICI1OUQwIjoiQkRFMyIsCiAgICAiNTlEMSI6IkI5QzMiLAogICAgIjU5RDIiOiJFNkE2IiwKICAgICI1OUQzIjoiRDBENSIsCiAgICAiNTlENCI6IkNFQUYiLAogICAgIjU5RDciOiJFNkE5IiwKICAgICI1OUQ4IjoiRTZCMCIsCiAgICAiNTlEQSI6IkQyQTYiLAogICAgIjU5REMiOiJCREFBIiwKICAgICI1OUREIjoiRTZBRCIsCiAgICAiNTlFMyI6IkU2QUYiLAogICAgIjU5RTUiOiJDMEQxIiwKICAgICI1OUU4IjoiRDJDQyIsCiAgICAiNTlFQyI6IkJDQTciLAogICAgIjU5RjkiOiJFNkIxIiwKICAgICI1OUZCIjoiRDJGNiIsCiAgICAiNTlGRiI6IkQ3Q0IiLAogICAgIjVBMDEiOiJDREZFIiwKICAgICI1QTAzIjoiQ0RERSIsCiAgICAiNUEwNCI6IkMyQTYiLAogICAgIjVBMDUiOiJFNkFCIiwKICAgICI1QTA2IjoiRTZBQyIsCiAgICAiNUEwNyI6IkJEQkYiLAogICAgIjVBMDgiOiJFNkFFIiwKICAgICI1QTA5IjoiRTZCMyIsCiAgICAiNUEwQyI6IkU2QjIiLAogICAgIjVBMTEiOiJFNkI2IiwKICAgICI1QTEzIjoiRTZCOCIsCiAgICAiNUExOCI6IkM0RUYiLAogICAgIjVBMUMiOiJDNEM4IiwKICAgICI1QTFGIjoiQkVFQSIsCiAgICAiNUEyMCI6IkM5RUYiLAogICAgIjVBMjMiOiJFNkI3IiwKICAgICI1QTI1IjoiQjZGMCIsCiAgICAiNUEyOSI6IkMzRTQiLAogICAgIjVBMzEiOiJEM0U5IiwKICAgICI1QTMyIjoiRTZCNCIsCiAgICAiNUEzNCI6IkU2QjUiLAogICAgIjVBMzYiOiJDOEEyIiwKICAgICI1QTNDIjoiRTZCRCIsCiAgICAiNUE0MCI6IkU2QjkiLAogICAgIjVBNDYiOiJDNkM1IiwKICAgICI1QTQ5IjoiQ0RGMSIsCiAgICAiNUE0QSI6IkU2QkIiLAogICAgIjVBNTUiOiJFNkJDIiwKICAgICI1QTVBIjoiQkJFOSIsCiAgICAiNUE2MiI6IkU2QkUiLAogICAgIjVBNjciOiJFNkJBIiwKICAgICI1QTZBIjoiQzBCNyIsCiAgICAiNUE3NCI6IkQzQTQiLAogICAgIjVBNzUiOiJFNkJGIiwKICAgICI1QTc2IjoiQzlGNCIsCiAgICAiNUE3NyI6IkU2QzMiLAogICAgIjVBN0EiOiJFNkM0IiwKICAgICI1QTdGIjoiRDBGNiIsCiAgICAiNUE5MiI6IkMzQkQiLAogICAgIjVBOUEiOiJDM0M0IiwKICAgICI1QTlCIjoiRTZDMiIsCiAgICAiNUFBQSI6IkU2QzEiLAogICAgIjVBQjIiOiJFNkM3IiwKICAgICI1QUIzIjoiQ0ZCMSIsCiAgICAiNUFCNSI6IkVCRjQiLAogICAgIjVBQjgiOiJFNkNBIiwKICAgICI1QUJFIjoiRTZDNSIsCiAgICAiNUFDMSI6IkJDREUiLAogICAgIjVBQzIiOiJDOUE5IiwKICAgICI1QUM5IjoiQkNCNSIsCiAgICAiNUFDQyI6IkNGRDMiLAogICAgIjVBRDIiOiJFNkM4IiwKICAgICI1QUQ0IjoiRTZDOSIsCiAgICAiNUFENiI6IkU2Q0UiLAogICAgIjVBRDgiOiJFNkQwIiwKICAgICI1QURDIjoiRTZEMSIsCiAgICAiNUFFMCI6IkU2Q0IiLAogICAgIjVBRTEiOiJCNUQ1IiwKICAgICI1QUUzIjoiRTZDQyIsCiAgICAiNUFFNiI6IkU2Q0YiLAogICAgIjVBRTkiOiJDNERCIiwKICAgICI1QUVCIjoiRTZDNiIsCiAgICAiNUFGMSI6IkU2Q0QiLAogICAgIjVCMDkiOiJFNkQyIiwKICAgICI1QjE2IjoiRTZENCIsCiAgICAiNUIxNyI6IkU2RDMiLAogICAgIjVCMzIiOiJFNkQ1IiwKICAgICI1QjM0IjoiRDlGOCIsCiAgICAiNUIzNyI6IkU2RDYiLAogICAgIjVCNDAiOiJFNkQ3IiwKICAgICI1QjUwIjoiRDdEMyIsCiAgICAiNUI1MSI6IkU2REQiLAogICAgIjVCNTMiOiJFNkRFIiwKICAgICI1QjU0IjoiQkZENyIsCiAgICAiNUI1NSI6IkQ0RDAiLAogICAgIjVCNTciOiJEN0Q2IiwKICAgICI1QjU4IjoiQjRFNiIsCiAgICAiNUI1OSI6IkNCRUYiLAogICAgIjVCNUEiOiJFNkRBIiwKICAgICI1QjVCIjoiRDhDMyIsCiAgICAiNUI1QyI6IkQ3Q0UiLAogICAgIjVCNUQiOiJEMEEyIiwKICAgICI1QjVGIjoiQzNDRiIsCiAgICAiNUI2MiI6IkU2REYiLAogICAgIjVCNjMiOiJCQ0JFIiwKICAgICI1QjY0IjoiQjlDMiIsCiAgICAiNUI2NSI6IkU2REIiLAogICAgIjVCNjYiOiJEMUE3IiwKICAgICI1QjY5IjoiQkFBMiIsCiAgICAiNUI2QSI6IkMyQ0YiLAogICAgIjVCNkMiOiJEOEFCIiwKICAgICI1QjcwIjoiQ0FFQiIsCiAgICAiNUI3MSI6IkU1RUUiLAogICAgIjVCNzMiOiJFNkRDIiwKICAgICI1Qjc1IjoiQjdGNSIsCiAgICAiNUI3QSI6IkM4RTYiLAogICAgIjVCN0QiOiJDNEY1IiwKICAgICI1QjgwIjoiRTVCMiIsCiAgICAiNUI4MSI6IkM0RkUiLAogICAgIjVCODMiOiJDQkZDIiwKICAgICI1Qjg0IjoiRTVCMyIsCiAgICAiNUI4NSI6IkQ1QUMiLAogICAgIjVCODciOiJEM0VFIiwKICAgICI1Qjg4IjoiQ0FEOCIsCiAgICAiNUI4OSI6IkIwQjIiLAogICAgIjVCOEIiOiJDQkNFIiwKICAgICI1QjhDIjoiQ0RFQSIsCiAgICAiNUI4RiI6IkJBRUEiLAogICAgIjVCOTMiOiJFNUI1IiwKICAgICI1Qjk1IjoiRTVCNCIsCiAgICAiNUI5NyI6IkQ3REEiLAogICAgIjVCOTgiOiJCOUQ5IiwKICAgICI1Qjk5IjoiRDZFNiIsCiAgICAiNUI5QSI6IkI2QTgiLAogICAgIjVCOUIiOiJDREYwIiwKICAgICI1QjlDIjoiRDJDQiIsCiAgICAiNUI5RCI6IkIxQTYiLAogICAgIjVCOUUiOiJDQUI1IiwKICAgICI1QkEwIjoiQjNFOCIsCiAgICAiNUJBMSI6IkM5RjMiLAogICAgIjVCQTIiOiJCRkNEIiwKICAgICI1QkEzIjoiRDBGQiIsCiAgICAiNUJBNCI6IkNBRDIiLAogICAgIjVCQTUiOiJFNUI2IiwKICAgICI1QkE2IjoiQkJDMiIsCiAgICAiNUJBQSI6IkNGREMiLAogICAgIjVCQUIiOiJCOUFDIiwKICAgICI1QkIwIjoiRDRENyIsCiAgICAiNUJCMyI6IkJBQTYiLAogICAgIjVCQjQiOiJEMUU3IiwKICAgICI1QkI1IjoiQ0ZGQyIsCiAgICAiNUJCNiI6IkJDRDIiLAogICAgIjVCQjgiOiJFNUI3IiwKICAgICI1QkI5IjoiQzhERCIsCiAgICAiNUJCRCI6IkJGRUQiLAogICAgIjVCQkUiOiJCMUY2IiwKICAgICI1QkJGIjoiQ0JERSIsCiAgICAiNUJDMiI6IkJDQzUiLAogICAgIjVCQzQiOiJCQ0M0IiwKICAgICI1QkM1IjoiRDJGQSIsCiAgICAiNUJDNiI6IkMzREMiLAogICAgIjVCQzciOiJCRkRDIiwKICAgICI1QkNDIjoiQjhCQiIsCiAgICAiNUJEMCI6IkMzQzIiLAogICAgIjVCRDIiOiJCQUFFIiwKICAgICI1QkQzIjoiRDRBMiIsCiAgICAiNUJERCI6IkM3REUiLAogICAgIjVCREUiOiJDNEFGIiwKICAgICI1QkRGIjoiQjJFQyIsCiAgICAiNUJFMSI6IkI5RDEiLAogICAgIjVCRTQiOiJFNUJCIiwKICAgICI1QkU1IjoiQzFDOCIsCiAgICAiNUJFOCI6IkQ1QUYiLAogICAgIjVCRUUiOiJFNUJDIiwKICAgICI1QkYwIjoiRTVCRSIsCiAgICAiNUJGOCI6IkI0RTciLAogICAgIjVCRjkiOiJCNkQ0IiwKICAgICI1QkZBIjoiQ0JDMiIsCiAgICAiNUJGQiI6IkQxQjAiLAogICAgIjVCRkMiOiJCNUJDIiwKICAgICI1QkZGIjoiQ0FEOSIsCiAgICAiNUMwMSI6IkI3RTIiLAogICAgIjVDMDQiOiJDOUU0IiwKICAgICI1QzA2IjoiQkRBQiIsCiAgICAiNUMwOSI6IkNFQkUiLAogICAgIjVDMEEiOiJEN0YwIiwKICAgICI1QzBGIjoiRDBBMSIsCiAgICAiNUMxMSI6IkM5RDkiLAogICAgIjVDMTQiOiJCNkZCIiwKICAgICI1QzE1IjoiRTZEOCIsCiAgICAiNUMxNiI6IkJDRTIiLAogICAgIjVDMTgiOiJCM0JFIiwKICAgICI1QzFBIjoiQzlEMCIsCiAgICAiNUMxQyI6IkU2RDkiLAogICAgIjVDMUQiOiJCM0EyIiwKICAgICI1QzIyIjoiREVDQyIsCiAgICAiNUMyNCI6IkQzQzgiLAogICAgIjVDMjUiOiJERUNEIiwKICAgICI1QzI3IjoiRDJBMiIsCiAgICAiNUMyQyI6IkRFQ0UiLAogICAgIjVDMzEiOiJCRUNEIiwKICAgICI1QzM0IjoiREVDRiIsCiAgICAiNUMzOCI6IkNBQUMiLAogICAgIjVDMzkiOiJEMkZDIiwKICAgICI1QzNBIjoiQjNERiIsCiAgICAiNUMzQiI6IkU1RUEiLAogICAgIjVDM0MiOiJDNEUxIiwKICAgICI1QzNEIjoiQkVBMSIsCiAgICAiNUMzRSI6IkNFQjIiLAogICAgIjVDM0YiOiJDNEYyIiwKICAgICI1QzQwIjoiQkVENiIsCiAgICAiNUM0MSI6IkM2QTgiLAogICAgIjVDNDIiOiJCMkUzIiwKICAgICI1QzQ1IjoiQkVEMyIsCiAgICAiNUM0OCI6IkM3RkMiLAogICAgIjVDNDkiOiJDQ0VCIiwKICAgICI1QzRBIjoiQkRFQyIsCiAgICAiNUM0QiI6IkNFREQiLAogICAgIjVDNEUiOiJDQUJBIiwKICAgICI1QzRGIjoiQzZDMSIsCiAgICAiNUM1MCI6IkU1RUMiLAogICAgIjVDNTEiOiJEMEJDIiwKICAgICI1QzU1IjoiRDVCOSIsCiAgICAiNUM1OSI6IkU1RUQiLAogICAgIjVDNUUiOiJDQUY0IiwKICAgICI1QzYwIjoiQ0RDMCIsCiAgICAiNUM2MSI6IkMyQzUiLAogICAgIjVDNjMiOiJFNUVGIiwKICAgICI1QzY1IjoiQzJDNCIsCiAgICAiNUM2NiI6IkU1RjAiLAogICAgIjVDNkUiOiJFNUY4IiwKICAgICI1QzZGIjoiQ0RDRCIsCiAgICAiNUM3MSI6IkM5QkQiLAogICAgIjVDNzkiOiJEMkQ5IiwKICAgICI1QzdBIjoiRTFBOCIsCiAgICAiNUM3RiI6IkQzRUMiLAogICAgIjVDODEiOiJDQkVBIiwKICAgICI1QzgyIjoiQzZGMSIsCiAgICAiNUM4OCI6IkUxQUMiLAogICAgIjVDOEMiOiJFMUE3IiwKICAgICI1QzhEIjoiRTFBOSIsCiAgICAiNUM5MCI6IkUxQUEiLAogICAgIjVDOTEiOiJFMUFGIiwKICAgICI1Qzk0IjoiQjJFRCIsCiAgICAiNUM5NiI6IkUxQUIiLAogICAgIjVDOTciOiJCOERBIiwKICAgICI1Qzk4IjoiRTFBRCIsCiAgICAiNUM5OSI6IkUxQUUiLAogICAgIjVDOUEiOiJFMUIwIiwKICAgICI1QzlCIjoiQjVCQSIsCiAgICAiNUM5QyI6IkUxQjEiLAogICAgIjVDQTIiOiJFMUIzIiwKICAgICI1Q0EzIjoiRTFCOCIsCiAgICAiNUNBOSI6IkQxRDIiLAogICAgIjVDQUIiOiJFMUI2IiwKICAgICI1Q0FDIjoiRTFCNSIsCiAgICAiNUNBRCI6IkMxRUIiLAogICAgIjVDQjEiOiJFMUI3IiwKICAgICI1Q0IzIjoiRDRDMCIsCiAgICAiNUNCNSI6IkUxQjIiLAogICAgIjVDQjciOiJFMUJBIiwKICAgICI1Q0I4IjoiQjBCNiIsCiAgICAiNUNCRCI6IkUxQjQiLAogICAgIjVDQkYiOiJCRkY5IiwKICAgICI1Q0MxIjoiRTFCOSIsCiAgICAiNUNDNCI6IkUxQkIiLAogICAgIjVDQ0IiOiJFMUJFIiwKICAgICI1Q0QyIjoiRTFCQyIsCiAgICAiNUNEOSI6IkQ2QzUiLAogICAgIjVDRTEiOiJDRkJGIiwKICAgICI1Q0U0IjoiRTFCRCIsCiAgICAiNUNFNSI6IkUxQkYiLAogICAgIjVDRTYiOiJDMkNEIiwKICAgICI1Q0U4IjoiQjZFQiIsCiAgICAiNUNFQSI6IkQzRjgiLAogICAgIjVDRUQiOiJDN0NEIiwKICAgICI1Q0YwIjoiQjdFNSIsCiAgICAiNUNGQiI6IkJFRkUiLAogICAgIjVEMDIiOiJFMUMwIiwKICAgICI1RDAzIjoiRTFDMSIsCiAgICAiNUQwNiI6IkUxQzciLAogICAgIjVEMDciOiJCM0U3IiwKICAgICI1RDBFIjoiQzZFOSIsCiAgICAiNUQxNCI6IkI0REUiLAogICAgIjVEMTYiOiJEMUMyIiwKICAgICI1RDFCIjoiRTFDOCIsCiAgICAiNUQxRSI6IkUxQzYiLAogICAgIjVEMjQiOiJFMUM1IiwKICAgICI1RDI2IjoiRTFDMyIsCiAgICAiNUQyNyI6IkUxQzIiLAogICAgIjVEMjkiOiJCMUMwIiwKICAgICI1RDJEIjoiRDVCOCIsCiAgICAiNUQyRSI6IkUxQzQiLAogICAgIjVEMzQiOiJFMUNCIiwKICAgICI1RDNEIjoiRTFDQyIsCiAgICAiNUQzRSI6IkUxQ0EiLAogICAgIjVENDciOiJFRkZBIiwKICAgICI1RDRBIjoiRTFEMyIsCiAgICAiNUQ0QiI6IkUxRDIiLAogICAgIjVENEMiOiJDN0I2IiwKICAgICI1RDU4IjoiRTFDOSIsCiAgICAiNUQ1QiI6IkUxQ0UiLAogICAgIjVENUQiOiJFMUQwIiwKICAgICI1RDY5IjoiRTFENCIsCiAgICAiNUQ2QiI6IkUxRDEiLAogICAgIjVENkMiOiJFMUNEIiwKICAgICI1RDZGIjoiRTFDRiIsCiAgICAiNUQ3NCI6IkUxRDUiLAogICAgIjVEODIiOiJFMUQ2IiwKICAgICI1RDk5IjoiRTFENyIsCiAgICAiNUQ5RCI6IkUxRDgiLAogICAgIjVEQjciOiJFMURBIiwKICAgICI1REM1IjoiRTFEQiIsCiAgICAiNURDRCI6IkNFQTEiLAogICAgIjVEREIiOiJFN0REIiwKICAgICI1REREIjoiQjRBOCIsCiAgICAiNURERSI6IkQ2REQiLAogICAgIjVERTEiOiJEMUIyIiwKICAgICI1REUyIjoiQjNCMiIsCiAgICAiNURFNSI6IkI5QTQiLAogICAgIjVERTYiOiJEN0YzIiwKICAgICI1REU3IjoiQzdDOSIsCiAgICAiNURFOCI6IkJFREUiLAogICAgIjVERTkiOiJCOUFFIiwKICAgICI1REVCIjoiQ0VENyIsCiAgICAiNURFRSI6IkIyRUUiLAogICAgIjVERUYiOiJEQkNGIiwKICAgICI1REYxIjoiQkNCQSIsCiAgICAiNURGMiI6IkQyRDEiLAogICAgIjVERjMiOiJDQkM4IiwKICAgICI1REY0IjoiQjBDRCIsCiAgICAiNURGNyI6IkNGRUYiLAogICAgIjVERkQiOiJEOUUzIiwKICAgICI1REZFIjoiQkRFRCIsCiAgICAiNUUwMSI6IkIxRDIiLAogICAgIjVFMDIiOiJDQUQwIiwKICAgICI1RTAzIjoiQjJCQyIsCiAgICAiNUUwNSI6IkNCQTciLAogICAgIjVFMDYiOiJCN0FCIiwKICAgICI1RTA4IjoiQ0FBNiIsCiAgICAiNUUwQyI6IkNGQTMiLAogICAgIjVFMEYiOiJFMEY4IiwKICAgICI1RTEwIjoiRDVDQSIsCiAgICAiNUUxMSI6IkUwRkIiLAogICAgIjVFMTQiOiJFMEZBIiwKICAgICI1RTE1IjoiQzVDMSIsCiAgICAiNUUxNiI6IkNDRkIiLAogICAgIjVFMTgiOiJDMUIxIiwKICAgICI1RTE5IjoiRTBGOSIsCiAgICAiNUUxQSI6IkQ2RTMiLAogICAgIjVFMUIiOiJCMkFGIiwKICAgICI1RTFDIjoiRDZDNCIsCiAgICAiNUUxRCI6IkI1REIiLAogICAgIjVFMjYiOiJCNEY4IiwKICAgICI1RTI3IjoiRDZBMSIsCiAgICAiNUUyRCI6IkNGQUYiLAogICAgIjVFMkUiOiJCMEVGIiwKICAgICI1RTMxIjoiRTBGQyIsCiAgICAiNUUzNyI6IkUxQTEiLAogICAgIjVFMzgiOiJCM0EzIiwKICAgICI1RTNCIjoiRTBGRCIsCiAgICAiNUUzQyI6IkUwRkUiLAogICAgIjVFM0QiOiJDM0IxIiwKICAgICI1RTQyIjoiQzNERCIsCiAgICAiNUU0NCI6IkUxQTIiLAogICAgIjVFNDUiOiJCN0Y5IiwKICAgICI1RTRDIjoiQkJDRiIsCiAgICAiNUU1NCI6IkUxQTMiLAogICAgIjVFNTUiOiJDNEJCIiwKICAgICI1RTVCIjoiRTFBNCIsCiAgICAiNUU1RSI6IkUxQTUiLAogICAgIjVFNjEiOiJFMUE2IiwKICAgICI1RTYyIjoiQjRCMSIsCiAgICAiNUU3MiI6IkI4QzkiLAogICAgIjVFNzMiOiJDNkJEIiwKICAgICI1RTc0IjoiQzRFQSIsCiAgICAiNUU3NiI6IkIyQTIiLAogICAgIjVFNzgiOiJEMEQyIiwKICAgICI1RTdBIjoiRTdEQiIsCiAgICAiNUU3QiI6IkJCQzMiLAogICAgIjVFN0MiOiJEM0Q3IiwKICAgICI1RTdEIjoiRDNDNCIsCiAgICAiNUU3RiI6IkI5RTMiLAogICAgIjVFODAiOiJFMkNGIiwKICAgICI1RTg0IjoiRDdBRiIsCiAgICAiNUU4NiI6IkM3RUMiLAogICAgIjVFODciOiJCMUQzIiwKICAgICI1RThBIjoiQjRCMiIsCiAgICAiNUU4QiI6IkUyRDEiLAogICAgIjVFOEYiOiJEMEYyIiwKICAgICI1RTkwIjoiQzJBRSIsCiAgICAiNUU5MSI6IkUyRDAiLAogICAgIjVFOTMiOiJCRkUyIiwKICAgICI1RTk0IjoiRDNBNiIsCiAgICAiNUU5NSI6IkI1RDciLAogICAgIjVFOTYiOiJFMkQyIiwKICAgICI1RTk3IjoiQjVFQSIsCiAgICAiNUU5OSI6IkMzRUQiLAogICAgIjVFOUEiOiJCOEZEIiwKICAgICI1RTlDIjoiQjhBRSIsCiAgICAiNUU5RSI6IkM1RDMiLAogICAgIjVFOUYiOiJCN0NGIiwKICAgICI1RUEwIjoiRTJENCIsCiAgICAiNUVBNSI6IkUyRDMiLAogICAgIjVFQTYiOiJCNkM4IiwKICAgICI1RUE3IjoiRDdGOSIsCiAgICAiNUVBRCI6IkNEQTUiLAogICAgIjVFQjMiOiJFMkQ4IiwKICAgICI1RUI1IjoiRTJENiIsCiAgICAiNUVCNiI6IkNBRkMiLAogICAgIjVFQjciOiJCRkI1IiwKICAgICI1RUI4IjoiRDNCOSIsCiAgICAiNUVCOSI6IkUyRDUiLAogICAgIjVFQkUiOiJFMkQ3IiwKICAgICI1RUM5IjoiQzFBRSIsCiAgICAiNUVDQSI6IkMwQzgiLAogICAgIjVFRDEiOiJFMkRCIiwKICAgICI1RUQyIjoiRTJEQSIsCiAgICAiNUVEMyI6IkMwQUEiLAogICAgIjVFRDYiOiJDMUNFIiwKICAgICI1RURCIjoiRTJEQyIsCiAgICAiNUVFOCI6IkUyREQiLAogICAgIjVFRUEiOiJFMkRFIiwKICAgICI1RUY0IjoiREJDOCIsCiAgICAiNUVGNiI6IkQxRDMiLAogICAgIjVFRjciOiJDREEyIiwKICAgICI1RUZBIjoiQkRBOCIsCiAgICAiNUVGRSI6IkRFQzMiLAogICAgIjVFRkYiOiJEOEE1IiwKICAgICI1RjAwIjoiQkZBQSIsCiAgICAiNUYwMSI6IkRCQ0QiLAogICAgIjVGMDIiOiJEMkVDIiwKICAgICI1RjAzIjoiQzZGQSIsCiAgICAiNUYwNCI6IkM1QUEiLAogICAgIjVGMDgiOiJERUM0IiwKICAgICI1RjBBIjoiQjFENyIsCiAgICAiNUYwQiI6IkRGQUUiLAogICAgIjVGMEYiOiJDQUJEIiwKICAgICI1RjExIjoiREZCMSIsCiAgICAiNUYxMyI6IkI5QUQiLAogICAgIjVGMTUiOiJEMkZEIiwKICAgICI1RjE3IjoiQjhBNSIsCiAgICAiNUYxOCI6IkJBRUIiLAogICAgIjVGMUIiOiJCM0RBIiwKICAgICI1RjFGIjoiQjVEQyIsCiAgICAiNUYyMCI6IkQ1QzUiLAogICAgIjVGMjUiOiJDM0Q2IiwKICAgICI1RjI2IjoiQ0ZEMiIsCiAgICAiNUYyNyI6IkJCQTEiLAogICAgIjVGMjkiOiJFNUYzIiwKICAgICI1RjJBIjoiRTVGMiIsCiAgICAiNUYyRCI6IkU1RjQiLAogICAgIjVGMkYiOiJDREU0IiwKICAgICI1RjMxIjoiQzhGNSIsCiAgICAiNUYzOSI6IkI1QUYiLAogICAgIjVGM0EiOiJDN0JGIiwKICAgICI1RjNDIjoiRTVGNiIsCiAgICAiNUY0MCI6IkVDQjAiLAogICAgIjVGNTAiOiJFNUU2IiwKICAgICI1RjUyIjoiQjlFOSIsCiAgICAiNUY1MyI6IkI1QjEiLAogICAgIjVGNTUiOiJDMkJDIiwKICAgICI1RjU2IjoiRTVFOCIsCiAgICAiNUY1NyI6IkU1RTciLAogICAgIjVGNTgiOiJFNUU5IiwKICAgICI1RjVEIjoiRDJDRCIsCiAgICAiNUY2MSI6IkUxRUEiLAogICAgIjVGNjIiOiJEMENFIiwKICAgICI1RjY0IjoiQ0RBRSIsCiAgICAiNUY2NiI6IkQxRTUiLAogICAgIjVGNjkiOiJCMkNBIiwKICAgICI1RjZBIjoiQjFFQiIsCiAgICAiNUY2QyI6IkIxRjIiLAogICAgIjVGNkQiOiJDNUVEIiwKICAgICI1RjcwIjoiRDVDMyIsCiAgICAiNUY3MSI6IkQzQjAiLAogICAgIjVGNzMiOiJFMURDIiwKICAgICI1Rjc3IjoiRTFERCIsCiAgICAiNUY3OSI6IkQyREIiLAogICAgIjVGN0IiOiJCM0I5IiwKICAgICI1RjdDIjoiQjFDQiIsCiAgICAiNUY4MCI6IkNERjkiLAogICAgIjVGODEiOiJENUY3IiwKICAgICI1RjgyIjoiRTFERSIsCiAgICAiNUY4NCI6IkJFQjYiLAogICAgIjVGODUiOiJCNEZEIiwKICAgICI1Rjg3IjoiRTFERiIsCiAgICAiNUY4OCI6IkJBREMiLAogICAgIjVGODkiOiJFMUUwIiwKICAgICI1RjhBIjoiQkJCMiIsCiAgICAiNUY4QiI6IkMyQzkiLAogICAgIjVGOEMiOiJFMUUxIiwKICAgICI1RjkwIjoiRDBFQyIsCiAgICAiNUY5MiI6IkNEQkQiLAogICAgIjVGOTUiOiJFMUUyIiwKICAgICI1Rjk3IjoiQjVDMyIsCiAgICAiNUY5OCI6IkM1QzciLAogICAgIjVGOTkiOiJFMUUzIiwKICAgICI1RjlDIjoiRTFFNCIsCiAgICAiNUZBMSI6IkQzRjkiLAogICAgIjVGQTgiOiJFMUU1IiwKICAgICI1RkFBIjoiRDFBRCIsCiAgICAiNUZBRCI6IkUxRTYiLAogICAgIjVGQUUiOiJDRUEyIiwKICAgICI1RkI1IjoiRTFFNyIsCiAgICAiNUZCNyI6IkI1QzIiLAogICAgIjVGQkMiOiJFMUU4IiwKICAgICI1RkJEIjoiQkJENSIsCiAgICAiNUZDMyI6IkQwQzQiLAogICAgIjVGQzQiOiJFMkUwIiwKICAgICI1RkM1IjoiQjFEOCIsCiAgICAiNUZDNiI6IkQyRTQiLAogICAgIjVGQzkiOiJFMkUxIiwKICAgICI1RkNDIjoiQkNDOSIsCiAgICAiNUZDRCI6IkM4Q0MiLAogICAgIjVGQ0YiOiJFMkUzIiwKICAgICI1RkQwIjoiRUNGRSIsCiAgICAiNUZEMSI6IkVDRkQiLAogICAgIjVGRDIiOiJERkFGIiwKICAgICI1RkQ2IjoiRTJFMiIsCiAgICAiNUZENyI6IkQ2QkUiLAogICAgIjVGRDgiOiJDREZDIiwKICAgICI1RkQ5IjoiQzNBNiIsCiAgICAiNUZERCI6IkUzQzMiLAogICAgIjVGRTAiOiJENkQyIiwKICAgICI1RkUxIjoiRTJFNyIsCiAgICAiNUZFNCI6IkUyRTgiLAogICAgIjVGRTciOiJEM0M3IiwKICAgICI1RkVBIjoiRTJFQyIsCiAgICAiNUZFQiI6IkJGRUMiLAogICAgIjVGRUQiOiJFMkVEIiwKICAgICI1RkVFIjoiRTJFNSIsCiAgICAiNUZGMSI6IkIzQzAiLAogICAgIjVGRjUiOiJDNEVFIiwKICAgICI1RkY4IjoiRTJFRSIsCiAgICAiNUZGQiI6IkQwQzMiLAogICAgIjVGRkQiOiJCQUY2IiwKICAgICI1RkZFIjoiRTJFOSIsCiAgICAiNUZGRiI6IkI3REUiLAogICAgIjYwMDAiOiJCQkIzIiwKICAgICI2MDAxIjoiQ0NBQyIsCiAgICAiNjAwMiI6IkNCQ0IiLAogICAgIjYwMDMiOiJFMkU0IiwKICAgICI2MDA0IjoiRTJFNiIsCiAgICAiNjAwNSI6IkUyRUEiLAogICAgIjYwMDYiOiJFMkVCIiwKICAgICI2MDBBIjoiRTJGNyIsCiAgICAiNjAwRCI6IkUyRjQiLAogICAgIjYwMEUiOiJENEY1IiwKICAgICI2MDBGIjoiRTJGMyIsCiAgICAiNjAxMiI6IkM1QUQiLAogICAgIjYwMTQiOiJENUZBIiwKICAgICI2MDE1IjoiQzVDMiIsCiAgICAiNjAxNiI6IkIyQzAiLAogICAgIjYwMTkiOiJFMkVGIiwKICAgICI2MDFCIjoiRTJGMiIsCiAgICAiNjAxQyI6IkMxQUYiLAogICAgIjYwMUQiOiJDQkJDIiwKICAgICI2MDIwIjoiQjVBMSIsCiAgICAiNjAyMSI6IkUyRjkiLAogICAgIjYwMjUiOiJCQ0IxIiwKICAgICI2MDI2IjoiRTJGMSIsCiAgICAiNjAyNyI6IkQwRDQiLAogICAgIjYwMjgiOiJENEI5IiwKICAgICI2MDI5IjoiRTJGNSIsCiAgICAiNjAyQSI6IkI5RDYiLAogICAgIjYwMkIiOiJFMkY2IiwKICAgICI2MDJGIjoiQzdEMyIsCiAgICAiNjAzNSI6IkUyRjAiLAogICAgIjYwM0IiOiJEN0RDIiwKICAgICI2MDNDIjoiRURBMSIsCiAgICAiNjAzRiI6IkUyRjgiLAogICAgIjYwNDEiOiJFREE1IiwKICAgICI2MDQyIjoiRTJGRSIsCiAgICAiNjA0MyI6IkNBRDEiLAogICAgIjYwNEIiOiJDMUI1IiwKICAgICI2MDREIjoiQkJEMCIsCiAgICAiNjA1MCI6IkJGRDYiLAogICAgIjYwNTIiOiJCQUUzIiwKICAgICI2MDU1IjoiQ0JBMSIsCiAgICAiNjA1OSI6IkVEQTYiLAogICAgIjYwNUEiOiJFREEzIiwKICAgICI2MDVEIjoiRURBMiIsCiAgICAiNjA2MiI6IkJCRDYiLAogICAgIjYwNjMiOiJFREE3IiwKICAgICI2MDY0IjoiRDBGNCIsCiAgICAiNjA2NyI6IkVEQTQiLAogICAgIjYwNjgiOiJCQURFIiwKICAgICI2MDY5IjoiQjZGNyIsCiAgICAiNjA2QSI6IkUzQTEiLAogICAgIjYwNkIiOiJCNkIyIiwKICAgICI2MDZDIjoiQ0NGMSIsCiAgICAiNjA2RCI6IkI5QTciLAogICAgIjYwNkYiOiJDRkEyIiwKICAgICI2MDcwIjoiQzdBMSIsCiAgICAiNjA3MyI6IkJGRDIiLAogICAgIjYwNzYiOiJCNkYxIiwKICAgICI2MDc4IjoiRTJGQSIsCiAgICAiNjA3OSI6IkUyRkIiLAogICAgIjYwN0EiOiJFMkZEIiwKICAgICI2MDdCIjoiRTJGQyIsCiAgICAiNjA3QyI6IkM0RDUiLAogICAgIjYwN0QiOiJFM0EyIiwKICAgICI2MDdGIjoiRDNDMSIsCiAgICAiNjA4MyI6IkUzQTciLAogICAgIjYwODQiOiJDN0M0IiwKICAgICI2MDg5IjoiQ0ZBNCIsCiAgICAiNjA4QyI6IkUzQTkiLAogICAgIjYwOEQiOiJCQUI3IiwKICAgICI2MDkyIjoiRTNBOCIsCiAgICAiNjA5NCI6IkJCREEiLAogICAgIjYwOTYiOiJFM0EzIiwKICAgICI2MDlBIjoiRTNBNCIsCiAgICAiNjA5QiI6IkUzQUEiLAogICAgIjYwOUQiOiJFM0E2IiwKICAgICI2MDlGIjoiQ0VGMiIsCiAgICAiNjBBMCI6IkQzQzYiLAogICAgIjYwQTMiOiJCQkJDIiwKICAgICI2MEE2IjoiRDRDMyIsCiAgICAiNjBBOCI6IkM0RkEiLAogICAgIjYwQUIiOiJFREE4IiwKICAgICI2MEFDIjoiRDBGQyIsCiAgICAiNjBBRCI6IkUzQTUiLAogICAgIjYwQUYiOiJDM0Y1IiwKICAgICI2MEIxIjoiRTNBRCIsCiAgICAiNjBCMiI6IkIxQUYiLAogICAgIjYwQjQiOiJFM0IyIiwKICAgICI2MEI4IjoiQkNDMiIsCiAgICAiNjBCQiI6IkUzQUMiLAogICAgIjYwQkMiOiJCNUJGIiwKICAgICI2MEM1IjoiQzdFOSIsCiAgICAiNjBDNiI6IkUzQjAiLAogICAgIjYwQ0EiOiJCRUFBIiwKICAgICI2MENCIjoiQ0RFRiIsCiAgICAiNjBEMSI6IkJCRjMiLAogICAgIjYwRDUiOiJDQ0U4IiwKICAgICI2MEQ4IjoiRTNBRiIsCiAgICAiNjBEQSI6IkUzQjEiLAogICAgIjYwREMiOiJDRkE3IiwKICAgICI2MEREIjoiRTNBRSIsCiAgICAiNjBERiI6IkNFQTkiLAogICAgIjYwRTAiOiJCQkREIiwKICAgICI2MEU2IjoiQjVFQiIsCiAgICAiNjBFNyI6IkJFRTUiLAogICAgIjYwRTgiOiJCMkQyIiwKICAgICI2MEU5IjoiQjNDRCIsCiAgICAiNjBFQiI6IkIxQjkiLAogICAgIjYwRUMiOiJFM0FCIiwKICAgICI2MEVEIjoiQjJEMSIsCiAgICAiNjBFRSI6IkI1QUMiLAogICAgIjYwRUYiOiJCOURGIiwKICAgICI2MEYwIjoiQjZFOCIsCiAgICAiNjBGMyI6IkNGRUIiLAogICAgIjYwRjQiOiJFM0I3IiwKICAgICI2MEY2IjoiQkJDQyIsCiAgICAiNjBGOSI6IkM4QzciLAogICAgIjYwRkEiOiJEMENBIiwKICAgICI2MTAwIjoiRTNCOCIsCiAgICAiNjEwMSI6IkIzRUUiLAogICAgIjYxMDYiOiJFREE5IiwKICAgICI2MTA4IjoiRDNGQSIsCiAgICAiNjEwOSI6IkQzRTQiLAogICAgIjYxMEQiOiJFREFBIiwKICAgICI2MTBFIjoiRTNCOSIsCiAgICAiNjEwRiI6IkQyRTIiLAogICAgIjYxMTUiOiJFM0I1IiwKICAgICI2MTFBIjoiRDNERSIsCiAgICAiNjExRiI6IkI4RDAiLAogICAgIjYxMjAiOiJFM0IzIiwKICAgICI2MTIzIjoiRTNCNiIsCiAgICAiNjEyNCI6IkI3REYiLAogICAgIjYxMjYiOiJFM0I0IiwKICAgICI2MTI3IjoiQzBBMiIsCiAgICAiNjEyQiI6IkUzQkEiLAogICAgIjYxM0YiOiJENEI4IiwKICAgICI2MTQ4IjoiQjRDOCIsCiAgICAiNjE0QSI6IkUzQkIiLAogICAgIjYxNEMiOiJCQkM1IiwKICAgICI2MTRFIjoiQzlGNyIsCiAgICAiNjE1MSI6IkM5RTUiLAogICAgIjYxNTUiOiJDNEJEIiwKICAgICI2MTVEIjoiRURBQiIsCiAgICAiNjE2MiI6IkMyRkQiLAogICAgIjYxNjciOiJCQkRCIiwKICAgICI2MTY4IjoiQkZBRSIsCiAgICAiNjE3MCI6IkNFQkYiLAogICAgIjYxNzUiOiJFM0JDIiwKICAgICI2MTc3IjoiQkZCNiIsCiAgICAiNjE4QiI6IkIxRUYiLAogICAgIjYxOEUiOiJENEY3IiwKICAgICI2MTk0IjoiRTNCRSIsCiAgICAiNjE5RCI6IkVEQUQiLAogICAgIjYxQTciOiJFM0JGIiwKICAgICI2MUE4IjoiQkFBOSIsCiAgICAiNjFBOSI6IkVEQUMiLAogICAgIjYxQUMiOiJFM0JEIiwKICAgICI2MUI3IjoiRTNDMCIsCiAgICAiNjFCRSI6IkJBQjYiLAogICAgIjYxQzIiOiJCNkFFIiwKICAgICI2MUM4IjoiRDBCOCIsCiAgICAiNjFDQSI6IkIwQzMiLAogICAgIjYxQ0IiOiJFREFFIiwKICAgICI2MUQxIjoiRURBRiIsCiAgICAiNjFEMiI6IkMwQzEiLAogICAgIjYxRDQiOiJFM0MxIiwKICAgICI2MUU2IjoiQzVCMyIsCiAgICAiNjFGNSI6IkUzQzIiLAogICAgIjYxRkYiOiJEQ0IyIiwKICAgICI2MjA2IjoiRURCMCIsCiAgICAiNjIwOCI6IkI4RUEiLAogICAgIjYyMEEiOiJDRUVDIiwKICAgICI2MjBCIjoiRUFBNyIsCiAgICAiNjIwQyI6IkQwRTciLAogICAgIjYyMEQiOiJDQUY5IiwKICAgICI2MjBFIjoiQzhENiIsCiAgICAiNjIwRiI6IkNGQjciLAogICAgIjYyMTAiOiJCM0M5IiwKICAgICI2MjExIjoiQ0VEMiIsCiAgICAiNjIxMiI6IkJERTQiLAogICAgIjYyMTUiOiJFM0RFIiwKICAgICI2MjE2IjoiQkJGMiIsCiAgICAiNjIxNyI6IkVBQTgiLAogICAgIjYyMTgiOiJENUJEIiwKICAgICI2MjFBIjoiQzZERCIsCiAgICAiNjIxQiI6IkVBQTkiLAogICAgIjYyMUYiOiJFQUFBIiwKICAgICI2MjIxIjoiRUFBQyIsCiAgICAiNjIyMiI6IkVBQUIiLAogICAgIjYyMjQiOiJFQUFFIiwKICAgICI2MjI1IjoiRUFBRCIsCiAgICAiNjIyQSI6IkJERDgiLAogICAgIjYyMkMiOiJFQUFGIiwKICAgICI2MjJFIjoiQzJCRSIsCiAgICAiNjIzMyI6IkI0QzEiLAogICAgIjYyMzQiOiJCNEY3IiwKICAgICI2MjM3IjoiQkJBNyIsCiAgICAiNjIzRCI6IkVDRTYiLAogICAgIjYyM0UiOiJFQ0U1IiwKICAgICI2MjNGIjoiQjdCRiIsCiAgICAiNjI0MCI6IkNCRjkiLAogICAgIjYyNDEiOiJCMUUyIiwKICAgICI2MjQzIjoiRUNFNyIsCiAgICAiNjI0NyI6IkM5QzgiLAogICAgIjYyNDgiOiJFQ0U4IiwKICAgICI2MjQ5IjoiRUNFOSIsCiAgICAiNjI0QiI6IkNBRDYiLAogICAgIjYyNEMiOiJERUQwIiwKICAgICI2MjREIjoiQjJDNSIsCiAgICAiNjI0RSI6IkQ0RkEiLAogICAgIjYyNTEiOiJDNkNCIiwKICAgICI2MjUyIjoiQjBDNyIsCiAgICAiNjI1MyI6IkI0RjIiLAogICAgIjYyNTQiOiJDOEQzIiwKICAgICI2MjU4IjoiQ0REMCIsCiAgICAiNjI1QiI6IkJGQjgiLAogICAgIjYyNjMiOiJCRkRCIiwKICAgICI2MjY2IjoiQzdBNCIsCiAgICAiNjI2NyI6IkQ2QjQiLAogICAgIjYyNjkiOiJDMEE5IiwKICAgICI2MjZBIjoiREVEMSIsCiAgICAiNjI2QiI6IkM5QTgiLAogICAgIjYyNkMiOiJEMUVGIiwKICAgICI2MjZEIjoiQzVBNCIsCiAgICAiNjI2RSI6IkIwRTciLAogICAgIjYyNkYiOiJCM0I2IiwKICAgICI2MjcwIjoiQzhDNSIsCiAgICAiNjI3MyI6IkIwRTIiLAogICAgIjYyNzYiOiJCN0Y2IiwKICAgICI2Mjc5IjoiQzVGQSIsCiAgICAiNjI3QyI6IkI2RjMiLAogICAgIjYyN0UiOiJENUQyIiwKICAgICI2MjdGIjoiQjNEMCIsCiAgICAiNjI4MCI6IkJDQkMiLAogICAgIjYyODQiOiJCM0FEIiwKICAgICI2Mjg5IjoiQkVGMSIsCiAgICAiNjI4QSI6IkIwRDEiLAogICAgIjYyOTEiOiJEMkQ2IiwKICAgICI2MjkyIjoiQ0FFMyIsCiAgICAiNjI5MyI6IkQ3QTUiLAogICAgIjYyOTUiOiJDREI2IiwKICAgICI2Mjk2IjoiQjZCNiIsCiAgICAiNjI5NyI6IkJGQjkiLAogICAgIjYyOTgiOiJENURCIiwKICAgICI2MjlBIjoiQjhBNyIsCiAgICAiNjI5QiI6IkM1RDciLAogICAgIjYyOUYiOiJERUQyIiwKICAgICI2MkEwIjoiQkZEOSIsCiAgICAiNjJBMSI6IkMyRDUiLAogICAgIjYyQTIiOiJDN0MwIiwKICAgICI2MkE0IjoiQkJBNCIsCiAgICAiNjJBNSI6IkIxQTgiLAogICAgIjYyQTgiOiJDNUVBIiwKICAgICI2MkFCIjoiQzVGQiIsCiAgICAiNjJBQyI6IkNDQTciLAogICAgIjYyQjEiOiJCMUE3IiwKICAgICI2MkI1IjoiQjVENiIsCiAgICAiNjJCOSI6IkM0QTgiLAogICAgIjYyQkIiOiJERUQzIiwKICAgICI2MkJDIjoiRDFCQSIsCiAgICAiNjJCRCI6IkIzRTkiLAogICAgIjYyQkYiOiJDM0YyIiwKICAgICI2MkMyIjoiQjdGNyIsCiAgICAiNjJDNCI6IkQ2RjQiLAogICAgIjYyQzUiOiJCNUEzIiwKICAgICI2MkM2IjoiQjJGMCIsCiAgICAiNjJDNyI6IkM0QjQiLAogICAgIjYyQzgiOiJDNEU5IiwKICAgICI2MkM5IjoiQzBBRCIsCiAgICAiNjJDQSI6IkRFRDQiLAogICAgIjYyQ0MiOiJCMEU4IiwKICAgICI2MkNEIjoiQzVDNCIsCiAgICAiNjJDRSI6IkMxRTAiLAogICAgIjYyRDAiOiJCOUQ1IiwKICAgICI2MkQyIjoiQkVEQyIsCiAgICAiNjJEMyI6IkNERDgiLAogICAgIjYyRDQiOiJCMENFIiwKICAgICI2MkQ2IjoiQ0RDRiIsCiAgICAiNjJENyI6IkRFRDYiLAogICAgIjYyRDgiOiJCRUQwIiwKICAgICI2MkQ5IjoiRDdCRSIsCiAgICAiNjJEQSI6IkRFRDUiLAogICAgIjYyREIiOiJENUQwIiwKICAgICI2MkRDIjoiQjBERCIsCiAgICAiNjJERiI6IkM0RTIiLAogICAgIjYyRTIiOiJDMkEzIiwKICAgICI2MkUzIjoiQkNGMCIsCiAgICAiNjJFNSI6IkQzQjUiLAogICAgIjYyRTYiOiJDMEI5IiwKICAgICI2MkU3IjoiQzVBMSIsCiAgICAiNjJFOCI6IkIyQTYiLAogICAgIjYyRTkiOiJENEYxIiwKICAgICI2MkVDIjoiQzBBOCIsCiAgICAiNjJFRCI6IkNBQzMiLAogICAgIjYyRUUiOiJERUQ3IiwKICAgICI2MkVGIjoiRDVGQyIsCiAgICAiNjJGMSI6IkI5QjAiLAogICAgIjYyRjMiOiJDOEFEIiwKICAgICI2MkY0IjoiQ0JBOSIsCiAgICAiNjJGNiI6IkRFRDkiLAogICAgIjYyRjciOiJCRkJEIiwKICAgICI2MkZDIjoiQzZCNCIsCiAgICAiNjJGRCI6IkQ3QTciLAogICAgIjYyRkUiOiJDQUIwIiwKICAgICI2MkZGIjoiQzRDMyIsCiAgICAiNjMwMSI6IkIzRDYiLAogICAgIjYzMDIiOiJCOUQyIiwKICAgICI2MzA3IjoiRDZCOCIsCiAgICAiNjMwOCI6IkVBRkMiLAogICAgIjYzMDkiOiJCMEI0IiwKICAgICI2MzBFIjoiQkZFNiIsCiAgICAiNjMxMSI6IkNDRjQiLAogICAgIjYzMTYiOiJDRERBIiwKICAgICI2MzFBIjoiRDZCRiIsCiAgICAiNjMxQiI6IkMyQ0UiLAogICAgIjYzMUQiOiJDRUNFIiwKICAgICI2MzFFIjoiQ0NBMiIsCiAgICAiNjMxRiI6IkQwQUUiLAogICAgIjYzMjAiOiJDNEQzIiwKICAgICI2MzIxIjoiQjVCMiIsCiAgICAiNjMyMiI6IkRFRDgiLAogICAgIjYzMjMiOiJENUY1IiwKICAgICI2MzI0IjoiQkNCNyIsCiAgICAiNjMyNSI6IkJCRDMiLAogICAgIjYzMjgiOiJCMEE0IiwKICAgICI2MzJBIjoiQzVCMiIsCiAgICAiNjMyQiI6IkI0RUMiLAogICAgIjYzMkYiOiJENUYxIiwKICAgICI2MzMyIjoiRUFGRCIsCiAgICAiNjMzOSI6IkRFREEiLAogICAgIjYzM0EiOiJDREE2IiwKICAgICI2MzNEIjoiQ0RFQyIsCiAgICAiNjM0MiI6IkNFRTYiLAogICAgIjYzNDMiOiJERURDIiwKICAgICI2MzQ1IjoiQ0RCMSIsCiAgICAiNjM0NiI6IkMwQTYiLAogICAgIjYzNDkiOiJEN0JEIiwKICAgICI2MzRCIjoiREVEQiIsCiAgICAiNjM0QyI6IkIwQzYiLAogICAgIjYzNEQiOiJCQUI0IiwKICAgICI2MzRFIjoiQzlEMyIsCiAgICAiNjM0RiI6IkM0RjMiLAogICAgIjYzNTAiOiJCRUU4IiwKICAgICI2MzU1IjoiQjJCNiIsCiAgICAiNjM1RSI6IkMwQ0MiLAogICAgIjYzNUYiOiJDQkYwIiwKICAgICI2MzYxIjoiQkNGMSIsCiAgICAiNjM2MiI6IkJCQkIiLAogICAgIjYzNjMiOiJCNUI3IiwKICAgICI2MzY3IjoiQzVGNSIsCiAgICAiNjM2OSI6IkRFRTYiLAogICAgIjYzNkQiOiJERUUzIiwKICAgICI2MzZFIjoiQkVERCIsCiAgICAiNjM3MSI6IkRFREYiLAogICAgIjYzNzYiOiJCNEI3IiwKICAgICI2Mzc3IjoiQkRERCIsCiAgICAiNjM3QSI6IkRFRTAiLAogICAgIjYzN0IiOiJDNEVEIiwKICAgICI2MzgwIjoiQ0ZDNiIsCiAgICAiNjM4MiI6IkI1RTAiLAogICAgIjYzODciOiJCNkRFIiwKICAgICI2Mzg4IjoiQ0FEQSIsCiAgICAiNjM4OSI6IkI1RjQiLAogICAgIjYzOEEiOiJERUU1IiwKICAgICI2MzhDIjoiRDVDNiIsCiAgICAiNjM4RSI6IkRFRTEiLAogICAgIjYzOEYiOiJDQ0NEIiwKICAgICI2MzkwIjoiQzZGRSIsCiAgICAiNjM5MiI6IkM1QzUiLAogICAgIjYzOTYiOiJEMkI0IiwKICAgICI2Mzk4IjoiQkVGMiIsCiAgICAiNjNBMCI6IkMyRDMiLAogICAgIjYzQTIiOiJDQ0JEIiwKICAgICI2M0EzIjoiQjNCOCIsCiAgICAiNjNBNSI6IkJERDMiLAogICAgIjYzQTciOiJCRkQ4IiwKICAgICI2M0E4IjoiQ0RDNiIsCiAgICAiNjNBOSI6IkQxREEiLAogICAgIjYzQUEiOiJCNEVCIiwKICAgICI2M0FDIjoiREVFNCIsCiAgICAiNjNBRCI6IkRFREQiLAogICAgIjYzQUUiOiJERUU3IiwKICAgICI2M0IwIjoiRUFGRSIsCiAgICAiNjNCMyI6IkMyQjAiLAogICAgIjYzQjQiOiJERUUyIiwKICAgICI2M0I3IjoiRDZDMCIsCiAgICAiNjNCOCI6IkI1QTciLAogICAgIjYzQkEiOiJCMkY0IiwKICAgICI2M0JDIjoiREVFOCIsCiAgICAiNjNCRSI6IkRFRjIiLAogICAgIjYzQzQiOiJERUVEIiwKICAgICI2M0M2IjoiREVGMSIsCiAgICAiNjNDOSI6IkM4RTAiLAogICAgIjYzQ0QiOiJEN0UxIiwKICAgICI2M0NFIjoiREVFRiIsCiAgICAiNjNDRiI6IkMzRTgiLAogICAgIjYzRDAiOiJDQ0UxIiwKICAgICI2M0QyIjoiQjJFNSIsCiAgICAiNjNENiI6IkQyQkUiLAogICAgIjYzREUiOiJERUVFIiwKICAgICI2M0UwIjoiREVFQiIsCiAgICAiNjNFMSI6IkNFRDUiLAogICAgIjYzRTMiOiJCNEE3IiwKICAgICI2M0U5IjoiQkZBQiIsCiAgICAiNjNFQSI6IkJFQkUiLAogICAgIjYzRUQiOiJCREQyIiwKICAgICI2M0YyIjoiREVFOSIsCiAgICAiNjNGNCI6IkQ0QUUiLAogICAgIjYzRjYiOiJERURFIiwKICAgICI2M0Y4IjoiREVFQSIsCiAgICAiNjNGRCI6IkMwQkYiLAogICAgIjYzRkYiOiJERUVDIiwKICAgICI2NDAwIjoiQjJGMyIsCiAgICAiNjQwMSI6IkI4RTkiLAogICAgIjY0MDIiOiJDMkE3IiwKICAgICI2NDA1IjoiQkRDMSIsCiAgICAiNjQwQiI6IkRFRjUiLAogICAgIjY0MEMiOiJERUY4IiwKICAgICI2NDBGIjoiQjJBQiIsCiAgICAiNjQxMCI6IkI0QTQiLAogICAgIjY0MTMiOiJCNEVBIiwKICAgICI2NDE0IjoiQzlBNiIsCiAgICAiNjQxQiI6IkRFRjYiLAogICAgIjY0MUMiOiJDQkQxIiwKICAgICI2NDFFIjoiQjhFMyIsCiAgICAiNjQyMCI6IkRFRjciLAogICAgIjY0MjEiOiJERUZBIiwKICAgICI2NDI2IjoiREVGOSIsCiAgICAiNjQyQSI6IkNDQzIiLAogICAgIjY0MkMiOiJCMEUxIiwKICAgICI2NDJEIjoiQjRFRSIsCiAgICAiNjQzNCI6IkU1QkEiLAogICAgIjY0M0EiOiJEMEFGIiwKICAgICI2NDNEIjoiQjJFQiIsCiAgICAiNjQzRiI6IkVCQTEiLAogICAgIjY0NDEiOiJERUY0IiwKICAgICI2NDQ0IjoiQzlFMyIsCiAgICAiNjQ0NSI6IkRFRjMiLAogICAgIjY0NDYiOiJCMERBIiwKICAgICI2NDQ3IjoiRDJBMSIsCiAgICAiNjQ0OCI6IkIxRjciLAogICAgIjY0NEEiOiJDQ0FGIiwKICAgICI2NDUyIjoiREVGMCIsCiAgICAiNjQ1NCI6IkNCQTQiLAogICAgIjY0NTgiOiJENUFBIiwKICAgICI2NDVFIjoiREVGQiIsCiAgICAiNjQ2NyI6IkI0REQiLAogICAgIjY0NjkiOiJDNEE2IiwKICAgICI2NDZEIjoiREVGRCIsCiAgICAiNjQ3OCI6IkMzRkUiLAogICAgIjY0NzkiOiJDNEExIiwKICAgICI2NDdBIjoiREZBMSIsCiAgICAiNjQ4MiI6IkMxQ0MiLAogICAgIjY0ODQiOiJERUZDIiwKICAgICI2NDg1IjoiQkVFRiIsCiAgICAiNjQ4NyI6IkM2QjIiLAogICAgIjY0OTEiOiJCM0M1IiwKICAgICI2NDkyIjoiQzhGNiIsCiAgICAiNjQ5NSI6IkNCQkEiLAogICAgIjY0OTYiOiJERUZFIiwKICAgICI2NDk5IjoiREZBNCIsCiAgICAiNjQ5RSI6IkQ3QjIiLAogICAgIjY0QTQiOiJCM0I3IiwKICAgICI2NEE5IjoiQzFDMyIsCiAgICAiNjRBQyI6IkM3Q0IiLAogICAgIjY0QUQiOiJCMkE1IiwKICAgICI2NEFFIjoiQjRFOSIsCiAgICAiNjRCMCI6IkQ3QUIiLAogICAgIjY0QjUiOiJDNEVDIiwKICAgICI2NEI3IjoiREZBMiIsCiAgICAiNjRCOCI6IkRGQTMiLAogICAgIjY0QkEiOiJERkE1IiwKICAgICI2NEJDIjoiQkFCMyIsCiAgICAiNjRDMCI6IkRGQTYiLAogICAgIjY0QzIiOiJDMERFIiwKICAgICI2NEM1IjoiQzlDMyIsCiAgICAiNjRDRCI6IkIyRDkiLAogICAgIjY0Q0UiOiJDN0U2IiwKICAgICI2NEQwIjoiREZBNyIsCiAgICAiNjREMiI6IkM3REMiLAogICAgIjY0RDciOiJERkE4IiwKICAgICI2NEQ4IjoiRUJBMiIsCiAgICAiNjRERSI6IkNCRDMiLAogICAgIjY0RTIiOiJERkFBIiwKICAgICI2NEU0IjoiREZBOSIsCiAgICAiNjRFNiI6IkIyQzEiLAogICAgIjY1MDAiOiJDNUNBIiwKICAgICI2NTA5IjoiREZBQiIsCiAgICAiNjUxMiI6IkQ0REMiLAogICAgIjY1MTgiOiJDOEMxIiwKICAgICI2NTI1IjoiREZBQyIsCiAgICAiNjUyQiI6IkJFRjAiLAogICAgIjY1MkUiOiJERkFEIiwKICAgICI2NTJGIjoiRDZBNyIsCiAgICAiNjUzNCI6IkVBQjciLAogICAgIjY1MzUiOiJFQkI2IiwKICAgICI2NTM2IjoiQ0FENSIsCiAgICAiNjUzOCI6IkQ4RkMiLAogICAgIjY1MzkiOiJCOEM0IiwKICAgICI2NTNCIjoiQjlBNSIsCiAgICAiNjUzRSI6IkI3QzUiLAogICAgIjY1M0YiOiJENUZFIiwKICAgICI2NTQ1IjoiQjlDQSIsCiAgICAiNjU0OCI6IkQwQTciLAogICAgIjY1NDkiOiJGNENEIiwKICAgICI2NTRDIjoiQjVEMCIsCiAgICAiNjU0RiI6IkMzRjQiLAogICAgIjY1NTEiOiJCRUM4IiwKICAgICI2NTU1IjoiRUJCNyIsCiAgICAiNjU1NiI6IkIwQkQiLAogICAgIjY1NTkiOiJCRENDIiwKICAgICI2NTVCIjoiQzFCMiIsCiAgICAiNjU1RCI6IkIxRDYiLAogICAgIjY1NUUiOiJCM0E4IiwKICAgICI2NTYyIjoiQjhEMiIsCiAgICAiNjU2MyI6IkM5QTIiLAogICAgIjY1NjYiOiJCNkQ4IiwKICAgICI2NTZCIjoiRUJCOCIsCiAgICAiNjU2QyI6IkJFQjQiLAogICAgIjY1NzAiOiJDQUZEIiwKICAgICI2NTcyIjoiQzdDMyIsCiAgICAiNjU3NCI6IkQ1RkIiLAogICAgIjY1NzciOiJCN0YzIiwKICAgICI2NTg3IjoiQ0VDNCIsCiAgICAiNjU4QiI6IkQ1QUIiLAogICAgIjY1OEMiOiJCMUYzIiwKICAgICI2NTkwIjoiRUNCMyIsCiAgICAiNjU5MSI6IkIwREYiLAogICAgIjY1OTMiOiJFQ0I1IiwKICAgICI2NTk3IjoiQjZCNyIsCiAgICAiNjU5OSI6IkMxQ0YiLAogICAgIjY1OUIiOiJGNUZBIiwKICAgICI2NTlDIjoiRDBCMSIsCiAgICAiNjU5RiI6IkQ1RTUiLAogICAgIjY1QTEiOiJDRUQzIiwKICAgICI2NUE0IjoiQkRFRiIsCiAgICAiNjVBNSI6IkIzRTIiLAogICAgIjY1QTciOiJCOEFCIiwKICAgICI2NUE5IjoiRDVCNiIsCiAgICAiNjVBQiI6IkVEQkQiLAogICAgIjY1QUQiOiJCNkNGIiwKICAgICI2NUFGIjoiQ0JCOSIsCiAgICAiNjVCMCI6IkQwQzIiLAogICAgIjY1QjkiOiJCN0JEIiwKICAgICI2NUJDIjoiRUNCNiIsCiAgICAiNjVCRCI6IkNBQTkiLAogICAgIjY1QzEiOiJDNUQ0IiwKICAgICI2NUMzIjoiRUNCOSIsCiAgICAiNjVDNCI6IkVDQjgiLAogICAgIjY1QzUiOiJDMkMzIiwKICAgICI2NUM2IjoiRUNCNyIsCiAgICAiNjVDQiI6IkQwRkQiLAogICAgIjY1Q0MiOiJFQ0JBIiwKICAgICI2NUNFIjoiRUNCQiIsCiAgICAiNjVDRiI6IkQ3RTUiLAogICAgIjY1RDIiOiJFQ0JDIiwKICAgICI2NUQ2IjoiRUNCRCIsCiAgICAiNjVENyI6IkM2RUMiLAogICAgIjY1RTAiOiJDRURFIiwKICAgICI2NUUyIjoiQkNDOCIsCiAgICAiNjVFNSI6IkM4RDUiLAogICAgIjY1RTYiOiJCNUE5IiwKICAgICI2NUU3IjoiQkVDOSIsCiAgICAiNjVFOCI6IkQ2QkMiLAogICAgIjY1RTkiOiJENEU3IiwKICAgICI2NUVDIjoiRDFBRSIsCiAgICAiNjVFRCI6IkQwRjEiLAogICAgIjY1RUUiOiJFQUI4IiwKICAgICI2NUVGIjoiRUFCOSIsCiAgICAiNjVGMCI6IkVBQkEiLAogICAgIjY1RjEiOiJCQUI1IiwKICAgICI2NUY2IjoiQ0FCMSIsCiAgICAiNjVGNyI6IkJGRjUiLAogICAgIjY1RkEiOiJDREZBIiwKICAgICI2NjAwIjoiRUFDMCIsCiAgICAiNjYwMiI6IkIwQkEiLAogICAgIjY2MDMiOiJFQUJFIiwKICAgICI2NjA2IjoiQzBBNSIsCiAgICAiNjYwQSI6IkVBQkIiLAogICAgIjY2MEMiOiJCMkZEIiwKICAgICI2NjBFIjoiQzNGNyIsCiAgICAiNjYwRiI6IkJCRTgiLAogICAgIjY2MTMiOiJEMkQ3IiwKICAgICI2NjE0IjoiQ0VGNCIsCiAgICAiNjYxNSI6IkVBQkYiLAogICAgIjY2MTkiOiJFQUJDIiwKICAgICI2NjFEIjoiRUFDMyIsCiAgICAiNjYxRiI6IkQwQzciLAogICAgIjY2MjAiOiJEM0IzIiwKICAgICI2NjI1IjoiQjRCQSIsCiAgICAiNjYyNyI6IkMzQzEiLAogICAgIjY2MjgiOiJEN0YyIiwKICAgICI2NjJEIjoiRDVEMSIsCiAgICAiNjYyRiI6IkNBQzciLAogICAgIjY2MzEiOiJFQUM1IiwKICAgICI2NjM0IjoiRUFDNCIsCiAgICAiNjYzNSI6IkVBQzciLAogICAgIjY2MzYiOiJFQUM2IiwKICAgICI2NjNDIjoiRDZFNyIsCiAgICAiNjYzRSI6IkNGRDQiLAogICAgIjY2NDEiOiJFQUNCIiwKICAgICI2NjQzIjoiQkJDRSIsCiAgICAiNjY0QiI6IkJERkEiLAogICAgIjY2NEMiOiJDOUNFIiwKICAgICI2NjRGIjoiRUFDQyIsCiAgICAiNjY1MiI6IkM5QjkiLAogICAgIjY2NTMiOiJDRkZFIiwKICAgICI2NjU0IjoiRUFDQSIsCiAgICAiNjY1NSI6IkQ0Q0UiLAogICAgIjY2NTYiOiJFQUNEIiwKICAgICI2NjU3IjoiRUFDRiIsCiAgICAiNjY1QSI6IkNERUQiLAogICAgIjY2NUYiOiJFQUM5IiwKICAgICI2NjYxIjoiRUFDRSIsCiAgICAiNjY2NCI6IkNFRUUiLAogICAgIjY2NjYiOiJCQkRFIiwKICAgICI2NjY4IjoiQjNCRiIsCiAgICAiNjY2RSI6IkM2RDUiLAogICAgIjY2NkYiOiJCRUIwIiwKICAgICI2NjcwIjoiQ0VGQSIsCiAgICAiNjY3NCI6IkM3RTciLAogICAgIjY2NzYiOiJCRUE3IiwKICAgICI2Njc3IjoiRUFEMCIsCiAgICAiNjY3QSI6IkQ2QzciLAogICAgIjY2N0UiOiJDMUMwIiwKICAgICI2NjgyIjoiRDRERCIsCiAgICAiNjY4NCI6IkVBRDEiLAogICAgIjY2ODciOiJDRkJFIiwKICAgICI2NjhDIjoiRUFEMiIsCiAgICAiNjY5MSI6IkNBRUUiLAogICAgIjY2OTYiOiJDNUFGIiwKICAgICI2Njk3IjoiQjBCNSIsCiAgICAiNjY5RCI6IkVBRDQiLAogICAgIjY2QTciOiJFQUQzIiwKICAgICI2NkE4IjoiRjRERiIsCiAgICAiNjZBRSI6IkM0QkEiLAogICAgIjY2QjQiOiJCMUE5IiwKICAgICI2NkI5IjoiRTVERiIsCiAgICAiNjZCRSI6IkVBRDUiLAogICAgIjY2RDkiOiJDQUVGIiwKICAgICI2NkRCIjoiRUFENiIsCiAgICAiNjZEQyI6IkVBRDciLAogICAgIjY2REQiOiJDNkQ4IiwKICAgICI2NkU2IjoiRUFEOCIsCiAgICAiNjZFOSI6IkVBRDkiLAogICAgIjY2RjAiOiJENEJCIiwKICAgICI2NkYyIjoiQzdGQSIsCiAgICAiNjZGMyI6IkQyQjciLAogICAgIjY2RjQiOiJCOEZDIiwKICAgICI2NkY3IjoiRUFDMiIsCiAgICAiNjZGOSI6IkIyREMiLAogICAgIjY2RkMiOiJDMkZDIiwKICAgICI2NkZFIjoiRDRGOCIsCiAgICAiNjZGRiI6IkNDRTYiLAogICAgIjY3MDAiOiJEN0VFIiwKICAgICI2NzA4IjoiRDRDMiIsCiAgICAiNjcwOSI6IkQzRDAiLAogICAgIjY3MEEiOiJFQkMzIiwKICAgICI2NzBCIjoiQzVGMyIsCiAgICAiNjcwRCI6IkI3RkUiLAogICAgIjY3MTAiOiJFQkQ0IiwKICAgICI2NzE0IjoiQ0JCNyIsCiAgICAiNjcxNSI6IkVCREUiLAogICAgIjY3MTciOiJDMENBIiwKICAgICI2NzFCIjoiQ0RGQiIsCiAgICAiNjcxRCI6IkIzQUYiLAogICAgIjY3MUYiOiJDNkRBIiwKICAgICI2NzI2IjoiRUJGQyIsCiAgICAiNjcyOCI6IkM0QkUiLAogICAgIjY3MkEiOiJDRUI0IiwKICAgICI2NzJCIjoiQzRBOSIsCiAgICAiNjcyQyI6IkIxQkUiLAogICAgIjY3MkQiOiJENEZEIiwKICAgICI2NzJGIjoiQ0FGNSIsCiAgICAiNjczMSI6IkQ2RUMiLAogICAgIjY3MzQiOiJDNkQzIiwKICAgICI2NzM1IjoiQjZFNCIsCiAgICAiNjczQSI6IkJCRkEiLAogICAgIjY3M0QiOiJEMEUwIiwKICAgICI2NzQwIjoiQzlCMSIsCiAgICAiNjc0MiI6IkQ0RDMiLAogICAgIjY3NDMiOiJDOEE4IiwKICAgICI2NzQ2IjoiQjhDQiIsCiAgICAiNjc0OCI6IkU4QkUiLAogICAgIjY3NDkiOiJDOUJDIiwKICAgICI2NzRDIjoiRThCQiIsCiAgICAiNjc0RSI6IkMwRUUiLAogICAgIjY3NEYiOiJEMEQzIiwKICAgICI2NzUwIjoiQjJDNCIsCiAgICAiNjc1MSI6IkI0RTUiLAogICAgIjY3NTMiOiJFOEJDIiwKICAgICI2NzU2IjoiRDVDOCIsCiAgICAiNjc1QyI6IkI2QzUiLAogICAgIjY3NUUiOiJFOEJEIiwKICAgICI2NzVGIjoiQ0FGOCIsCiAgICAiNjc2MCI6IkI4REMiLAogICAgIjY3NjEiOiJDQ0Y1IiwKICAgICI2NzY1IjoiQzBCNCIsCiAgICAiNjc2OCI6IkQxRUUiLAogICAgIjY3NjkiOiJFOEJGIiwKICAgICI2NzZBIjoiRThDMiIsCiAgICAiNjc2RCI6IkJBQkMiLAogICAgIjY3NkYiOiJCMUFEIiwKICAgICI2NzcwIjoiQkREQyIsCiAgICAiNjc3MiI6IkVBQkQiLAogICAgIjY3NzMiOiJFOEMzIiwKICAgICI2Nzc1IjoiRThDNiIsCiAgICAiNjc3NyI6IkU4Q0IiLAogICAgIjY3N0MiOiJFOENDIiwKICAgICI2NzdFIjoiQ0JDOSIsCiAgICAiNjc3RiI6IkIwRTUiLAogICAgIjY3ODEiOiJCQ0FCIiwKICAgICI2Nzg0IjoiQjlCOSIsCiAgICAiNjc4NyI6IkU4QzEiLAogICAgIjY3ODkiOiJDREY3IiwKICAgICI2NzhCIjoiRThDQSIsCiAgICAiNjc5MCI6IkNFRjYiLAogICAgIjY3OTUiOiJENUVEIiwKICAgICI2Nzk3IjoiQzFENiIsCiAgICAiNjc5OCI6IkU4QzQiLAogICAgIjY3OUEiOiJDM0I2IiwKICAgICI2NzlDIjoiQjlGQiIsCiAgICAiNjc5RCI6IkQ2QTYiLAogICAgIjY3OUUiOiJFOEM4IiwKICAgICI2N0EyIjoiQ0FFMCIsCiAgICAiNjdBMyI6IkQ0RTYiLAogICAgIjY3QTUiOiJFOEMwIiwKICAgICI2N0E3IjoiRThDNSIsCiAgICAiNjdBOCI6IkU4QzciLAogICAgIjY3QUEiOiJDN0I5IiwKICAgICI2N0FCIjoiQjdFMyIsCiAgICAiNjdBRCI6IkU4QzkiLAogICAgIjY3QUYiOiJCRkREIiwKICAgICI2N0IwIjoiRThEMiIsCiAgICAiNjdCMyI6IkU4RDciLAogICAgIjY3QjUiOiJFOEQ1IiwKICAgICI2N0I2IjoiQkNEQyIsCiAgICAiNjdCNyI6IkJDQ0YiLAogICAgIjY3QjgiOiJFOERCIiwKICAgICI2N0MxIjoiRThERSIsCiAgICAiNjdDMyI6IkU4REEiLAogICAgIjY3QzQiOiJCMUZBIiwKICAgICI2N0NGIjoiQjBEOCIsCiAgICAiNjdEMCI6IkM0QjMiLAogICAgIjY3RDEiOiJCOENDIiwKICAgICI2N0QyIjoiQzZFMiIsCiAgICAiNjdEMyI6IkM4QkUiLAogICAgIjY3RDQiOiJDOEUxIiwKICAgICI2N0Q4IjoiRThDRiIsCiAgICAiNjdEOSI6IkU4RDQiLAogICAgIjY3REEiOiJFOEQ2IiwKICAgICI2N0RDIjoiQjlGMSIsCiAgICAiNjdERCI6IkU4RDgiLAogICAgIjY3REUiOiJEN0Y1IiwKICAgICI2N0UwIjoiQzRGQiIsCiAgICAiNjdFMiI6IkU4REMiLAogICAgIjY3RTUiOiJCMkU5IiwKICAgICI2N0U5IjoiRThEMSIsCiAgICAiNjdFQyI6IkJDRUQiLAogICAgIjY3RUYiOiJCRkMyIiwKICAgICI2N0YwIjoiRThDRCIsCiAgICAiNjdGMSI6IkQ2RjkiLAogICAgIjY3RjMiOiJDMUY4IiwKICAgICI2N0Y0IjoiQjJGMSIsCiAgICAiNjdGRCI6IkU4REYiLAogICAgIjY3RkYiOiJDQUMxIiwKICAgICI2ODAwIjoiRThEOSIsCiAgICAiNjgwNSI6IkQ1QTQiLAogICAgIjY4MDciOiJCMUVBIiwKICAgICI2ODA4IjoiRDVCQiIsCiAgICAiNjgwOSI6IkU4Q0UiLAogICAgIjY4MEEiOiJFOEQwIiwKICAgICI2ODBCIjoiQjZCMCIsCiAgICAiNjgwQyI6IkU4RDMiLAogICAgIjY4MEUiOiJFOEREIiwKICAgICI2ODBGIjoiQzBCOCIsCiAgICAiNjgxMSI6IkNBRjciLAogICAgIjY4MTMiOiJDQkE4IiwKICAgICI2ODE2IjoiQzZEQyIsCiAgICAiNjgxNyI6IkMwRjUiLAogICAgIjY4MUQiOiJFOEU5IiwKICAgICI2ODIxIjoiRDBBMyIsCiAgICAiNjgyOSI6IkU4RjIiLAogICAgIjY4MkEiOiJENkVBIiwKICAgICI2ODMyIjoiRThFMCIsCiAgICAiNjgzMyI6IkU4RTEiLAogICAgIjY4MzciOiJEMUY5IiwKICAgICI2ODM4IjoiQkFDQiIsCiAgICAiNjgzOSI6IkI4RjkiLAogICAgIjY4M0MiOiJCOEYxIiwKICAgICI2ODNEIjoiRDRENCIsCiAgICAiNjgzRSI6IkU4RUYiLAogICAgIjY4NDAiOiJFOEVFIiwKICAgICI2ODQxIjoiRThFQyIsCiAgICAiNjg0MiI6IkI5RjAiLAogICAgIjY4NDMiOiJDQ0QyIiwKICAgICI2ODQ0IjoiRThFNiIsCiAgICAiNjg0NSI6IkNFQTYiLAogICAgIjY4NDYiOiJCRkYyIiwKICAgICI2ODQ4IjoiQjBCOCIsCiAgICAiNjg0OSI6IkU4RjEiLAogICAgIjY4NEEiOiJFOEYwIiwKICAgICI2ODRDIjoiRDdDMCIsCiAgICAiNjg0RSI6IkU4RTQiLAogICAgIjY4NTAiOiJDREE5IiwKICAgICI2ODUxIjoiQzlBMyIsCiAgICAiNjg1MyI6IkJCQjgiLAogICAgIjY4NTQiOiJCRERCIiwKICAgICI2ODU1IjoiRThFQSIsCiAgICAiNjg2MCI6IkU4RTIiLAogICAgIjY4NjEiOiJFOEUzIiwKICAgICI2ODYyIjoiRThFNSIsCiAgICAiNjg2MyI6IkI1QjUiLAogICAgIjY4NjQiOiJFOEU3IiwKICAgICI2ODY1IjoiQzdDNSIsCiAgICAiNjg2NiI6IkU4RUIiLAogICAgIjY4NjciOiJFOEVEIiwKICAgICI2ODY4IjoiQkRCMCIsCiAgICAiNjg2OSI6IkQ3QUUiLAogICAgIjY4NkIiOiJFOEY4IiwKICAgICI2ODc0IjoiRThGNSIsCiAgICAiNjg3NiI6IkNEQjAiLAogICAgIjY4NzciOiJFOEY2IiwKICAgICI2ODgxIjoiQzFCQSIsCiAgICAiNjg4MyI6IkU4RTgiLAogICAgIjY4ODUiOiJDM0I3IiwKICAgICI2ODg2IjoiQjBGMCIsCiAgICAiNjg4RiI6IkU4RjQiLAogICAgIjY4OTMiOiJFOEY3IiwKICAgICI2ODk3IjoiQjlBMyIsCiAgICAiNjhBMiI6IkM5RDIiLAogICAgIjY4QTYiOiJDM0NFIiwKICAgICI2OEE3IjoiQ0VFMCIsCiAgICAiNjhBOCI6IkMwRTYiLAogICAgIjY4QUQiOiJDQkYzIiwKICAgICI2OEFGIjoiQ0NERCIsCiAgICAiNjhCMCI6IkQwQjUiLAogICAgIjY4QjMiOiJDQUUxIiwKICAgICI2OEI1IjoiRThGMyIsCiAgICAiNjhDMCI6IkJDRUMiLAogICAgIjY4QzIiOiJFOEY5IiwKICAgICI2OEM5IjoiQzNERSIsCiAgICAiNjhDQiI6IkM2RTUiLAogICAgIjY4Q0QiOiJCOUY3IiwKICAgICI2OEQyIjoiQjBGNCIsCiAgICAiNjhENSI6IkQ3RDgiLAogICAgIjY4RDgiOiJCQ0FDIiwKICAgICI2OERBIjoiQzVFRiIsCiAgICAiNjhFMCI6IkNDQzQiLAogICAgIjY4RTMiOiJFOUE2IiwKICAgICI2OEVFIjoiQzlBRCIsCiAgICAiNjhGMCI6IkU5QTIiLAogICAgIjY4RjEiOiJDMEUyIiwKICAgICI2OEY1IjoiQkZDMyIsCiAgICAiNjhGOSI6IkU4RkUiLAogICAgIjY4RkEiOiJCOUQ3IiwKICAgICI2OEZDIjoiRThGQiIsCiAgICAiNjkwMSI6IkU5QTQiLAogICAgIjY5MDUiOiJEMkNFIiwKICAgICI2OTBCIjoiRTlBMyIsCiAgICAiNjkwRCI6IkQ2QjIiLAogICAgIjY5MEUiOiJEN0I1IiwKICAgICI2OTEwIjoiRTlBNyIsCiAgICAiNjkxMiI6IkJEQjciLAogICAgIjY5MUYiOiJFOEZDIiwKICAgICI2OTIwIjoiRThGRCIsCiAgICAiNjkyNCI6IkU5QTEiLAogICAgIjY5MkQiOiJDREQ2IiwKICAgICI2OTMwIjoiRDJBQyIsCiAgICAiNjkzNCI6IkU5QjIiLAogICAgIjY5MzkiOiJFOUE5IiwKICAgICI2OTNEIjoiQjRBQSIsCiAgICAiNjkzRiI6IkI0QkIiLAogICAgIjY5NDIiOiJFOUFCIiwKICAgICI2OTU0IjoiRDBBOCIsCiAgICAiNjk1NyI6IkU5QTUiLAogICAgIjY5NUEiOiJCM0ZFIiwKICAgICI2OTVEIjoiRTlBQyIsCiAgICAiNjk1RSI6IkMwRTMiLAogICAgIjY5NjAiOiJFOUFBIiwKICAgICI2OTYzIjoiRTlCOSIsCiAgICAiNjk2NiI6IkU5QjgiLAogICAgIjY5NkIiOiJFOUFFIiwKICAgICI2OTZFIjoiRThGQSIsCiAgICAiNjk3MSI6IkU5QTgiLAogICAgIjY5NzciOiJCRkFDIiwKICAgICI2OTc4IjoiRTlCMSIsCiAgICAiNjk3OSI6IkU5QkEiLAogICAgIjY5N0MiOiJDMkE1IiwKICAgICI2OTgwIjoiRTlBRiIsCiAgICAiNjk4MiI6IkI4QzUiLAogICAgIjY5ODQiOiJFOUFEIiwKICAgICI2OTg2IjoiRDNEQyIsCiAgICAiNjk4NyI6IkU5QjQiLAogICAgIjY5ODgiOiJFOUI1IiwKICAgICI2OTg5IjoiRTlCNyIsCiAgICAiNjk4RCI6IkU5QzciLAogICAgIjY5OTQiOiJDMEM2IiwKICAgICI2OTk1IjoiRTlDNSIsCiAgICAiNjk5OCI6IkU5QjAiLAogICAgIjY5OUIiOiJFOUJCIiwKICAgICI2OTlDIjoiQjBGMSIsCiAgICAiNjlBNyI6IkU5QkMiLAogICAgIjY5QTgiOiJENUE1IiwKICAgICI2OUFCIjoiRTlCRSIsCiAgICAiNjlBRCI6IkU5QkYiLAogICAgIjY5QjEiOiJFOUMxIiwKICAgICI2OUI0IjoiQzFGMSIsCiAgICAiNjlCNyI6IkM4QjYiLAogICAgIjY5QkIiOiJFOUJEIiwKICAgICI2OUMxIjoiRTlDMiIsCiAgICAiNjlDQSI6IkU5QzMiLAogICAgIjY5Q0MiOiJFOUIzIiwKICAgICI2OUNFIjoiRTlCNiIsCiAgICAiNjlEMCI6IkJCQjEiLAogICAgIjY5RDQiOiJFOUMwIiwKICAgICI2OURCIjoiQkNGNyIsCiAgICAiNjlERiI6IkU5QzQiLAogICAgIjY5RTAiOiJFOUM2IiwKICAgICI2OUVEIjoiRTlDQSIsCiAgICAiNjlGMiI6IkU5Q0UiLAogICAgIjY5RkQiOiJCMkRCIiwKICAgICI2OUZGIjoiRTlDOCIsCiAgICAiNkEwQSI6IkI3QUUiLAogICAgIjZBMTciOiJFOUNCIiwKICAgICI2QTE4IjoiRTlDQyIsCiAgICAiNkExRiI6IkQ1QzEiLAogICAgIjZBMjEiOiJDNEEzIiwKICAgICI2QTI4IjoiRTlEOCIsCiAgICAiNkEyQSI6IkJBRTEiLAogICAgIjZBMkYiOiJFOUM5IiwKICAgICI2QTMxIjoiRDNBMyIsCiAgICAiNkEzNSI6IkU5RDQiLAogICAgIjZBM0QiOiJFOUQ3IiwKICAgICI2QTNFIjoiRTlEMCIsCiAgICAiNkE0NCI6IkU5Q0YiLAogICAgIjZBNDciOiJDN0MxIiwKICAgICI2QTUwIjoiRTlEMiIsCiAgICAiNkE1OCI6IkU5RDkiLAogICAgIjZBNTkiOiJCM0M4IiwKICAgICI2QTVCIjoiRTlEMyIsCiAgICAiNkE2MSI6IkNGRjAiLAogICAgIjZBNjUiOiJFOUNEIiwKICAgICI2QTcxIjoiQjNGNyIsCiAgICAiNkE3OSI6IkU5RDYiLAogICAgIjZBN0MiOiJFOURBIiwKICAgICI2QTgwIjoiQ0NCNCIsCiAgICAiNkE4NCI6IkNGQUQiLAogICAgIjZBOEUiOiJFOUQ1IiwKICAgICI2QTkwIjoiRTlEQyIsCiAgICAiNkE5MSI6IkU5REIiLAogICAgIjZBOTciOiJFOURFIiwKICAgICI2QUEwIjoiRTlEMSIsCiAgICAiNkFBOSI6IkU5REQiLAogICAgIjZBQUIiOiJFOURGIiwKICAgICI2QUFDIjoiQzNDQSIsCiAgICAiNkIyMCI6IkM3QjciLAogICAgIjZCMjEiOiJCNENFIiwKICAgICI2QjIyIjoiQkJCNiIsCiAgICAiNkIyMyI6IkQwQzAiLAogICAgIjZCMjQiOiJFQ0EzIiwKICAgICI2QjI3IjoiQzVCNyIsCiAgICAiNkIzMiI6IkQzRkIiLAogICAgIjZCMzciOiJFQ0E0IiwKICAgICI2QjM5IjoiRUNBNSIsCiAgICAiNkIzQSI6IkM2REIiLAogICAgIjZCM0UiOiJCRkVFIiwKICAgICI2QjQzIjoiRUNBNiIsCiAgICAiNkI0NiI6IkVDQTciLAogICAgIjZCNDciOiJEMEFBIiwKICAgICI2QjQ5IjoiQzdCOCIsCiAgICAiNkI0QyI6IkI4RTgiLAogICAgIjZCNTkiOiJFQ0E4IiwKICAgICI2QjYyIjoiRDZCOSIsCiAgICAiNkI2MyI6IkQ1RkQiLAogICAgIjZCNjQiOiJCNENCIiwKICAgICI2QjY1IjoiQjJCRCIsCiAgICAiNkI2NiI6IkNFRTQiLAogICAgIjZCNjciOiJDNkU3IiwKICAgICI2QjZBIjoiQ0RFMSIsCiAgICAiNkI3OSI6IkI0RjUiLAogICAgIjZCN0IiOiJDQkMwIiwKICAgICI2QjdDIjoiQkNERiIsCiAgICAiNkI4MSI6IkU5RTIiLAogICAgIjZCODIiOiJFOUUzIiwKICAgICI2QjgzIjoiRDFFQSIsCiAgICAiNkI4NCI6IkU5RTUiLAogICAgIjZCODYiOiJCNEY5IiwKICAgICI2Qjg3IjoiRTlFNCIsCiAgICAiNkI4OSI6IkQxQjMiLAogICAgIjZCOEEiOiJDQUUyIiwKICAgICI2QjhCIjoiQjJEMCIsCiAgICAiNkI4RCI6IkU5RTgiLAogICAgIjZCOTIiOiJFOUU2IiwKICAgICI2QjkzIjoiRTlFNyIsCiAgICAiNkI5NiI6IkQ2QjMiLAogICAgIjZCOUEiOiJFOUU5IiwKICAgICI2QjlCIjoiRTlFQSIsCiAgICAiNkJBMSI6IkU5RUIiLAogICAgIjZCQUEiOiJFOUVDIiwKICAgICI2QkIzIjoiRUNBRiIsCiAgICAiNkJCNCI6IkM1QjkiLAogICAgIjZCQjUiOiJCNkNFIiwKICAgICI2QkI3IjoiRDJGMyIsCiAgICAiNkJCRiI6IkI1RUUiLAogICAgIjZCQzEiOiJCQkQ5IiwKICAgICI2QkMyIjoiRUNCMSIsCiAgICAiNkJDNSI6IkQyRTMiLAogICAgIjZCQ0IiOiJDRUUzIiwKICAgICI2QkNEIjoiQzRCOCIsCiAgICAiNkJDRiI6IkMzQkYiLAogICAgIjZCRDIiOiJCNkJFIiwKICAgICI2QkQzIjoiRDhCOSIsCiAgICAiNkJENCI6IkIxQzgiLAogICAgIjZCRDUiOiJCMUNGIiwKICAgICI2QkQ2IjoiQjFEMSIsCiAgICAiNkJENyI6IkM1RkUiLAogICAgIjZCRDkiOiJCMUQwIiwKICAgICI2QkRCIjoiQzNBQiIsCiAgICAiNkJFMSI6IkQ1QjEiLAogICAgIjZCRUEiOiJFQkE0IiwKICAgICI2QkVCIjoiQkFDMSIsCiAgICAiNkJFRiI6IkNDQkEiLAogICAgIjZCRjMiOiJFQkE1IiwKICAgICI2QkY1IjoiRUJBNyIsCiAgICAiNkJGOSI6IkVCQTgiLAogICAgIjZCRkQiOiJFQkE2IiwKICAgICI2QzA1IjoiRUJBOSIsCiAgICAiNkMwNiI6IkVCQUIiLAogICAgIjZDMDciOiJFQkFBIiwKICAgICI2QzBEIjoiRUJBQyIsCiAgICAiNkMwRiI6IkNBQ0YiLAogICAgIjZDMTAiOiJEOEI1IiwKICAgICI2QzExIjoiQzNGMSIsCiAgICAiNkMxMyI6IkMzQTUiLAogICAgIjZDMTQiOiJDNkY4IiwKICAgICI2QzE1IjoiRUJBRCIsCiAgICAiNkMxNiI6IkM0Q0EiLAogICAgIjZDMTgiOiJFQkFFIiwKICAgICI2QzE5IjoiRUJBRiIsCiAgICAiNkMxQSI6IkVCQjAiLAogICAgIjZDMUIiOiJCN0Q1IiwKICAgICI2QzFGIjoiQjdGQSIsCiAgICAiNkMyMSI6IkVCQjEiLAogICAgIjZDMjIiOiJDN0UyIiwKICAgICI2QzI0IjoiRUJCMyIsCiAgICAiNkMyNiI6IkJBQTQiLAogICAgIjZDMjciOiJEMUY1IiwKICAgICI2QzI4IjoiQjBCMSIsCiAgICAiNkMyOSI6IkVCQjIiLAogICAgIjZDMkEiOiJFQkI0IiwKICAgICI2QzJFIjoiQjVBQSIsCiAgICAiNkMyRiI6IkMyQzgiLAogICAgIjZDMzAiOiJDN0U4IiwKICAgICI2QzMyIjoiRUJCNSIsCiAgICAiNkMzNCI6IkNCQUUiLAogICAgIjZDMzUiOiJFM0RGIiwKICAgICI2QzM4IjoiRDNDMCIsCiAgICAiNkMzRCI6IkQ5REIiLAogICAgIjZDNDAiOiJDREExIiwKICAgICI2QzQxIjoiRDZBRCIsCiAgICAiNkM0MiI6IkM3RjMiLAogICAgIjZDNDYiOiJEOUUwIiwKICAgICI2QzQ3IjoiQkJFMyIsCiAgICAiNkM0OSI6IkJBQkEiLAogICAgIjZDNEEiOiJFM0UyIiwKICAgICI2QzUwIjoiQ0ZBQiIsCiAgICAiNkM1NCI6IkUzRTAiLAogICAgIjZDNTUiOiJDOUM3IiwKICAgICI2QzU3IjoiQkFCOSIsCiAgICAiNkM1QiI6IkQxQjQiLAogICAgIjZDNUMiOiJFM0UxIiwKICAgICI2QzVEIjoiQzhFQSIsCiAgICAiNkM1RSI6IkI5QUYiLAogICAgIjZDNUYiOiJCREFEIiwKICAgICI2QzYwIjoiQjNEOCIsCiAgICAiNkM2MSI6IkNFREIiLAogICAgIjZDNjQiOiJDQ0MwIiwKICAgICI2QzY4IjoiRTNFOCIsCiAgICAiNkM2OSI6IkUzRTkiLAogICAgIjZDNkEiOiJDREY0IiwKICAgICI2QzcwIjoiQ0NBRCIsCiAgICAiNkM3MiI6IkJDQjMiLAogICAgIjZDNzQiOiJFM0VBIiwKICAgICI2Qzc2IjoiRTNFQiIsCiAgICAiNkM3OSI6IkQwREEiLAogICAgIjZDN0QiOiJDNkZCIiwKICAgICI2QzdFIjoiQjdEQSIsCiAgICAiNkM4MSI6IkM3REYiLAogICAgIjZDODIiOiJEMkNBIiwKICAgICI2QzgzIjoiQ0VENiIsCiAgICAiNkM4NSI6IkUzRTQiLAogICAgIjZDODYiOiJFM0VDIiwKICAgICI2Qzg4IjoiQzlGMiIsCiAgICAiNkM4OSI6IkIzQzEiLAogICAgIjZDOEMiOiJFM0U3IiwKICAgICI2QzhGIjoiQzZFMyIsCiAgICAiNkM5MCI6IkUzRTUiLAogICAgIjZDOTMiOiJFREIzIiwKICAgICI2Qzk0IjoiRTNFNiIsCiAgICAiNkM5OSI6IkM5QjMiLAogICAgIjZDOUIiOiJDNUU2IiwKICAgICI2QzlGIjoiQjlCNSIsCiAgICAiNkNBMSI6IkMzQkIiLAogICAgIjZDQTMiOiJFM0UzIiwKICAgICI2Q0E0IjoiQzVCRCIsCiAgICAiNkNBNSI6IkMxQTQiLAogICAgIjZDQTYiOiJDMkQ5IiwKICAgICI2Q0E3IjoiQjJENyIsCiAgICAiNkNBOSI6IkUzRUQiLAogICAgIjZDQUEiOiJCQkE2IiwKICAgICI2Q0FCIjoiQzRBRCIsCiAgICAiNkNBRCI6IkUzRjAiLAogICAgIjZDQUUiOiJCRURBIiwKICAgICI2Q0IxIjoiRTNGQiIsCiAgICAiNkNCMiI6IkUzRjUiLAogICAgIjZDQjMiOiJCQUQzIiwKICAgICI2Q0I4IjoiQjdEMCIsCiAgICAiNkNCOSI6IkQzQ0QiLAogICAgIjZDQkIiOiJENkNFIiwKICAgICI2Q0JDIjoiRDVEMyIsCiAgICAiNkNCRCI6IkI5QzEiLAogICAgIjZDQkUiOiJENUI0IiwKICAgICI2Q0JGIjoiRDFEOCIsCiAgICAiNkNDNCI6IkQwQjkiLAogICAgIjZDQzUiOiJDN0Y2IiwKICAgICI2Q0M5IjoiQzhBQSIsCiAgICAiNkNDQSI6IkIyQjQiLAogICAgIjZDQ0MiOiJDM0RBIiwKICAgICI2Q0QwIjoiRTNFRSIsCiAgICAiNkNEMyI6IkUzRkMiLAogICAgIjZDRDQiOiJFM0VGIiwKICAgICI2Q0Q1IjoiQjdBOCIsCiAgICAiNkNENiI6IkUzRjciLAogICAgIjZDRDciOiJFM0Y0IiwKICAgICI2Q0RCIjoiQjdCQSIsCiAgICAiNkNERSI6IkM1QTIiLAogICAgIjZDRTAiOiJFM0Y2IiwKICAgICI2Q0UxIjoiQzVERCIsCiAgICAiNkNFMiI6IkIyQTgiLAogICAgIjZDRTMiOiJDNkZDIiwKICAgICI2Q0U1IjoiQzRFMCIsCiAgICAiNkNFOCI6IkQ3QTIiLAogICAgIjZDRUEiOiJDMEUxIiwKICAgICI2Q0VCIjoiRTNGOSIsCiAgICAiNkNFRSI6IkUzRkEiLAogICAgIjZDRUYiOiJFM0ZEIiwKICAgICI2Q0YwIjoiQ0NBOSIsCiAgICAiNkNGMSI6IkUzRjMiLAogICAgIjZDRjMiOiJEM0JFIiwKICAgICI2Q0Y1IjoiQjFDMyIsCiAgICAiNkNGNiI6IkVEQjQiLAogICAgIjZDRjciOiJFM0YxIiwKICAgICI2Q0Y4IjoiRTNGMiIsCiAgICAiNkNGQSI6IkUzRjgiLAogICAgIjZDRkIiOiJEMEJBIiwKICAgICI2Q0ZDIjoiQzZDMyIsCiAgICAiNkNGRCI6IkQ0RjMiLAogICAgIjZDRkUiOiJFM0ZFIiwKICAgICI2RDAxIjoiQkRFMCIsCiAgICAiNkQwNCI6IkU0QTciLAogICAgIjZEMDciOiJFNEE2IiwKICAgICI2RDBCIjoiRDFGMyIsCiAgICAiNkQwQyI6IkU0QTMiLAogICAgIjZEMEUiOiJFNEE5IiwKICAgICI2RDEyIjoiQzhGNyIsCiAgICAiNkQxNyI6IkNGQjQiLAogICAgIjZEMTkiOiJFNEE4IiwKICAgICI2RDFBIjoiRTRBRSIsCiAgICAiNkQxQiI6IkMyRTUiLAogICAgIjZEMUUiOiJCNkI0IiwKICAgICI2RDI1IjoiQkRGMiIsCiAgICAiNkQyNyI6IkU0QTIiLAogICAgIjZEMkEiOiJCQUU5IiwKICAgICI2RDJCIjoiRTRBQSIsCiAgICAiNkQyRSI6IkU0QUMiLAogICAgIjZEMzEiOiJCNkZEIiwKICAgICI2RDMyIjoiRDZERSIsCiAgICAiNkQzMyI6IkU0QjIiLAogICAgIjZEMzUiOiJFNEFEIiwKICAgICI2RDM5IjoiRTRBMSIsCiAgICAiNkQzQiI6IkJCRUUiLAogICAgIjZEM0MiOiJDREREIiwKICAgICI2RDNEIjoiQzdBMiIsCiAgICAiNkQzRSI6IkM1QzkiLAogICAgIjZENDEiOiJDMUY3IiwKICAgICI2RDQzIjoiRTRBNCIsCiAgICAiNkQ0NSI6IkM3QjMiLAogICAgIjZENDYiOiJCREFDIiwKICAgICI2RDQ3IjoiQkRCRCIsCiAgICAiNkQ0OCI6IkU0QTUiLAogICAgIjZENEEiOiJEN0M3IiwKICAgICI2RDRCIjoiQjJFMiIsCiAgICAiNkQ0RCI6IkU0QUIiLAogICAgIjZENEUiOiJCQ0MzIiwKICAgICI2RDRGIjoiRTRBRiIsCiAgICAiNkQ1MSI6IkJCRUIiLAogICAgIjZENTIiOiJFNEIwIiwKICAgICI2RDUzIjoiQzVBOCIsCiAgICAiNkQ1NCI6IkU0QjEiLAogICAgIjZENTkiOiJENUUzIiwKICAgICI2RDVBIjoiQkZBMyIsCiAgICAiNkQ1QyI6IkU0QkEiLAogICAgIjZENUUiOiJFNEI3IiwKICAgICI2RDYwIjoiRTRCQiIsCiAgICAiNkQ2MyI6IkU0QkQiLAogICAgIjZENjYiOiJDNkQ2IiwKICAgICI2RDY5IjoiQkFDNiIsCiAgICAiNkQ2QSI6IkMwQ0IiLAogICAgIjZENkUiOiJCOEExIiwKICAgICI2RDZGIjoiRTRCNCIsCiAgICAiNkQ3NCI6IkQ0QTEiLAogICAgIjZENzciOiJCQUEzIiwKICAgICI2RDc4IjoiQkRGRSIsCiAgICAiNkQ3QyI6IkU0QkMiLAogICAgIjZEODIiOiJDREJGIiwKICAgICI2RDg1IjoiQzRGOSIsCiAgICAiNkQ4OCI6IkNGRkIiLAogICAgIjZEODkiOiJDOUU2IiwKICAgICI2RDhDIjoiRDNCRiIsCiAgICAiNkQ4RSI6IkNGRDEiLAogICAgIjZEOTEiOiJFNEIzIiwKICAgICI2RDkzIjoiRTRCOCIsCiAgICAiNkQ5NCI6IkU0QjkiLAogICAgIjZEOTUiOiJDQ0U5IiwKICAgICI2RDlCIjoiQ0NDRSIsCiAgICAiNkQ5RCI6IkMwRDQiLAogICAgIjZEOUUiOiJFNEI1IiwKICAgICI2RDlGIjoiQzFCMCIsCiAgICAiNkRBMCI6IkU0QjYiLAogICAgIjZEQTEiOiJDRUQwIiwKICAgICI2REEzIjoiQkJDMSIsCiAgICAiNkRBNCI6IkI1RDMiLAogICAgIjZEQTYiOiJDOEYzIiwKICAgICI2REE3IjoiQkRBNyIsCiAgICAiNkRBOCI6IkQ1QzciLAogICAgIjZEQTkiOiJDOUFDIiwKICAgICI2REFBIjoiQjhBMiIsCiAgICAiNkRBQiI6IkU0Q0EiLAogICAgIjZEQUUiOiJFNENDIiwKICAgICI2REFGIjoiRDFDNCIsCiAgICAiNkRCMiI6IkQyQkEiLAogICAgIjZEQjUiOiJCQUFEIiwKICAgICI2REI4IjoiQkFENCIsCiAgICAiNkRCRiI6IkU0QzMiLAogICAgIjZEQzAiOiJCNUVEIiwKICAgICI2REM0IjoiRDdDRCIsCiAgICAiNkRDNSI6IkU0QzAiLAogICAgIjZEQzYiOiJDRkZEIiwKICAgICI2REM3IjoiRTRCRiIsCiAgICAiNkRDQiI6IkMxREMiLAogICAgIjZEQ0MiOiJDQ0NBIiwKICAgICI2REQxIjoiQ0FFNyIsCiAgICAiNkRENiI6IkM0RDciLAogICAgIjZERDgiOiJDQ0Q0IiwKICAgICI2REQ5IjoiRTRDOCIsCiAgICAiNkRERCI6IkU0QzciLAogICAgIjZEREUiOiJFNEMxIiwKICAgICI2REUwIjoiRTRDNCIsCiAgICAiNkRFMSI6IkI1QUQiLAogICAgIjZERTQiOiJEM0Q5IiwKICAgICI2REU2IjoiRTRDNiIsCiAgICAiNkRFQiI6IkQyRjkiLAogICAgIjZERUMiOiJCNEUzIiwKICAgICI2REVFIjoiQkJCNCIsCiAgICAiNkRGMSI6IkM5RUUiLAogICAgIjZERjMiOiJCNEJFIiwKICAgICI2REY3IjoiQkJFQyIsCiAgICAiNkRGOSI6IkQxQ0QiLAogICAgIjZERkIiOiJDQ0VEIiwKICAgICI2REZDIjoiRURCNSIsCiAgICAiNkUwNSI6IkM3RTUiLAogICAgIjZFMEEiOiJENEE4IiwKICAgICI2RTBDIjoiRTRDQiIsCiAgICAiNkUwRCI6IkQ3RDUiLAogICAgIjZFMEUiOiJFNEMyIiwKICAgICI2RTEwIjoiQkRBNSIsCiAgICAiNkUxMSI6IkU0QzUiLAogICAgIjZFMTQiOiJEM0U2IiwKICAgICI2RTE2IjoiRTRDOSIsCiAgICAiNkUxNyI6IkM5RjgiLAogICAgIjZFMUEiOiJFNEJFIiwKICAgICI2RTFEIjoiRDNFNSIsCiAgICAiNkUyMCI6IkM3RkUiLAogICAgIjZFMjEiOiJCNkM5IiwKICAgICI2RTIzIjoiRDRGQyIsCiAgICAiNkUyNCI6IkIyQjMiLAogICAgIjZFMjUiOiJFNEQ3IiwKICAgICI2RTI5IjoiQ0VDMiIsCiAgICAiNkUyQiI6IkU0Q0QiLAogICAgIjZFMkQiOiJDRUJDIiwKICAgICI2RTJGIjoiQjhEQiIsCiAgICAiNkUzMiI6IkU0RDYiLAogICAgIjZFMzQiOiJCRkNBIiwKICAgICI2RTM4IjoiRDNDRSIsCiAgICAiNkUzQSI6IkMzRUMiLAogICAgIjZFNDMiOiJDNUM4IiwKICAgICI2RTQ0IjoiRTREOCIsCiAgICAiNkU0RCI6IkNEQzQiLAogICAgIjZFNEUiOiJFNENGIiwKICAgICI2RTUzIjoiRTRENCIsCiAgICAiNkU1NCI6IkU0RDUiLAogICAgIjZFNTYiOiJCQUZFIiwKICAgICI2RTU4IjoiQ0ZFNiIsCiAgICAiNkU1QiI6IkQ1QkYiLAogICAgIjZFNUYiOiJFNEQyIiwKICAgICI2RTZCIjoiRTREMCIsCiAgICAiNkU2RSI6IkU0Q0UiLAogICAgIjZFN0UiOiJDREU1IiwKICAgICI2RTdGIjoiQ0FBQSIsCiAgICAiNkU4MyI6IkMwQTMiLAogICAgIjZFODUiOiJCREE2IiwKICAgICI2RTg2IjoiRTREMyIsCiAgICAiNkU4OSI6IkI4QzgiLAogICAgIjZFOEYiOiJFNEU3IiwKICAgICI2RTkwIjoiRDRCNCIsCiAgICAiNkU5OCI6IkU0REIiLAogICAgIjZFOUMiOiJDMUVGIiwKICAgICI2RTlGIjoiRTRFOSIsCiAgICAiNkVBMiI6IkQyRTciLAogICAgIjZFQTUiOiJFNERGIiwKICAgICI2RUE3IjoiRTRFMCIsCiAgICAiNkVBQSI6IkNGQUEiLAogICAgIjZFQUYiOiJDQkREIiwKICAgICI2RUIxIjoiRTREQSIsCiAgICAiNkVCMiI6IkU0RDEiLAogICAgIjZFQjQiOiJFNEU1IiwKICAgICI2RUI2IjoiQzhEQyIsCiAgICAiNkVCNyI6IkU0RTMiLAogICAgIjZFQkEiOiJDNEU3IiwKICAgICI2RUJCIjoiRTRFMiIsCiAgICAiNkVCRCI6IkU0RTEiLAogICAgIjZFQzEiOiJCM0ZDIiwKICAgICI2RUMyIjoiRTRFOCIsCiAgICAiNkVDNyI6IkI1RTEiLAogICAgIjZFQ0IiOiJEN0NDIiwKICAgICI2RUNGIjoiRTRFNiIsCiAgICAiNkVEMSI6IkJCQUMiLAogICAgIjZFRDMiOiJEN0QyIiwKICAgICI2RUQ0IjoiQ0NDRiIsCiAgICAiNkVENSI6IkVCRjgiLAogICAgIjZFRDciOiJFNEU0IiwKICAgICI2RURBIjoiQjlGNiIsCiAgICAiNkVERSI6IkQ2Q0QiLAogICAgIjZFREYiOiJFNEQ5IiwKICAgICI2RUUwIjoiRTREQyIsCiAgICAiNkVFMSI6IkMyRkEiLAogICAgIjZFRTIiOiJFNERFIiwKICAgICI2RUU0IjoiQzJDQiIsCiAgICAiNkVFNSI6IkMwQzQiLAogICAgIjZFRTYiOiJDMkQwIiwKICAgICI2RUU4IjoiQjFGNSIsCiAgICAiNkVFOSI6IkNDQjIiLAogICAgIjZFRjQiOiJCNUNFIiwKICAgICI2RUY5IjoiRTRFRiIsCiAgICAiNkYwMiI6IkM2QUYiLAogICAgIjZGMDYiOiJDNkUxIiwKICAgICI2RjA5IjoiRTRGNSIsCiAgICAiNkYwRiI6IkMyQTkiLAogICAgIjZGMTMiOiJDMEVDIiwKICAgICI2RjE0IjoiRDFERCIsCiAgICAiNkYxNSI6IkU0RUUiLAogICAgIjZGMjAiOiJDNEFFIiwKICAgICI2RjI0IjoiRTRFRCIsCiAgICAiNkYyOSI6IkU0RjYiLAogICAgIjZGMkEiOiJFNEY0IiwKICAgICI2RjJCIjoiQzJGRSIsCiAgICAiNkYyRCI6IkU0REQiLAogICAgIjZGMkYiOiJFNEYwIiwKICAgICI2RjMxIjoiQ0FGRSIsCiAgICAiNkYzMyI6IkQ1QzQiLAogICAgIjZGMzYiOiJFNEYxIiwKICAgICI2RjNFIjoiRDFGQSIsCiAgICAiNkY0NiI6IkU0RUIiLAogICAgIjZGNDciOiJFNEVDIiwKICAgICI2RjRCIjoiRTRGMiIsCiAgICAiNkY0RCI6IkNFQUIiLAogICAgIjZGNTgiOiJDNUNCIiwKICAgICI2RjVDIjoiQzdCMSIsCiAgICAiNkY1RSI6IkMyQkEiLAogICAgIjZGNjIiOiJFNEVBIiwKICAgICI2RjY2IjoiQzFDQSIsCiAgICAiNkY2RCI6IkNDQjYiLAogICAgIjZGNkUiOiJCM0IxIiwKICAgICI2RjcyIjoiRTRGQiIsCiAgICAiNkY3NCI6IkU0RjMiLAogICAgIjZGNzgiOiJFNEZBIiwKICAgICI2RjdBIjoiRTRGRCIsCiAgICAiNkY3QyI6IkU0RkMiLAogICAgIjZGODQiOiJCM0NFIiwKICAgICI2Rjg4IjoiQjNCQSIsCiAgICAiNkY4OSI6IkU0RjciLAogICAgIjZGOEMiOiJFNEY5IiwKICAgICI2RjhEIjoiRTRGOCIsCiAgICAiNkY4RSI6IkM1RUMiLAogICAgIjZGOUMiOiJDMEJEIiwKICAgICI2RkExIjoiRDRFOCIsCiAgICAiNkZBNyI6IkU1QTIiLAogICAgIjZGQjMiOiJCMEM0IiwKICAgICI2RkI2IjoiRTVBNCIsCiAgICAiNkZCOSI6IkU1QTMiLAogICAgIjZGQzAiOiJCQ0E0IiwKICAgICI2RkMyIjoiRTVBNSIsCiAgICAiNkZDOSI6IkU1QTEiLAogICAgIjZGRDEiOiJFNEZFIiwKICAgICI2RkQyIjoiQjFGNCIsCiAgICAiNkZERSI6IkU1QTgiLAogICAgIjZGRTAiOiJFNUE5IiwKICAgICI2RkUxIjoiRTVBNiIsCiAgICAiNkZFRSI6IkU1QTciLAogICAgIjZGRUYiOiJFNUFBIiwKICAgICI3MDExIjoiQzZEOSIsCiAgICAiNzAxQSI6IkU1QUIiLAogICAgIjcwMUIiOiJFNUFEIiwKICAgICI3MDIzIjoiRTVBQyIsCiAgICAiNzAzNSI6IkU1QUYiLAogICAgIjcwMzkiOiJFNUFFIiwKICAgICI3MDRDIjoiQjlFMCIsCiAgICAiNzA0RiI6IkU1QjAiLAogICAgIjcwNUUiOiJFNUIxIiwKICAgICI3MDZCIjoiQkJGMCIsCiAgICAiNzA2QyI6IkVDRTEiLAogICAgIjcwNkQiOiJDM0YwIiwKICAgICI3MDZGIjoiQjVDNiIsCiAgICAiNzA3MCI6IkJCRDIiLAogICAgIjcwNzUiOiJDMUU5IiwKICAgICI3MDc2IjoiRDRFRSIsCiAgICAiNzA3OCI6IkJFQzQiLAogICAgIjcwN0MiOiJEN0M2IiwKICAgICI3MDdFIjoiRDRENiIsCiAgICAiNzA3RiI6IkIyRDMiLAogICAgIjcwODAiOiJFQ0JFIiwKICAgICI3MDg1IjoiRUFDMSIsCiAgICAiNzA4OSI6IkMyQUYiLAogICAgIjcwOEEiOiJCNEI2IiwKICAgICI3MDhFIjoiRDFENyIsCiAgICAiNzA5MiI6IkIzQjQiLAogICAgIjcwOTQiOiJDOEIyIiwKICAgICI3MDk1IjoiQkZCQiIsCiAgICAiNzA5NiI6IkVDQzAiLAogICAgIjcwOTkiOiJENkNCIiwKICAgICI3MDlDIjoiRUNCRiIsCiAgICAiNzA5RCI6IkVDQzEiLAogICAgIjcwQUIiOiJFQ0M1IiwKICAgICI3MEFDIjoiQkVFNiIsCiAgICAiNzBBRCI6IkNDQkYiLAogICAgIjcwQUUiOiJDNURBIiwKICAgICI3MEFGIjoiQkVCQyIsCiAgICAiNzBCMSI6IkVDQzYiLAogICAgIjcwQjMiOiJCMUZFIiwKICAgICI3MEI3IjoiRUNDNCIsCiAgICAiNzBCOCI6IkQ1QTgiLAogICAgIjcwQjkiOiJCNUUzIiwKICAgICI3MEJCIjoiRUNDMiIsCiAgICAiNzBCQyI6IkMxQjYiLAogICAgIjcwQkQiOiJCM0UzIiwKICAgICI3MEMwIjoiRUNDMyIsCiAgICAiNzBDMSI6IkNCQjgiLAogICAgIjcwQzIiOiJDMEMzIiwKICAgICI3MEMzIjoiQ0NGRSIsCiAgICAiNzBDOCI6IkMxRDIiLAogICAgIjcwQ0EiOiJFQ0M4IiwKICAgICI3MEQ4IjoiQkFFNiIsCiAgICAiNzBEOSI6IkMwRDMiLAogICAgIjcwREIiOiJENkYyIiwKICAgICI3MERGIjoiRDFDQyIsCiAgICAiNzBFNCI6IkJGQkUiLAogICAgIjcwRTYiOiJCN0IzIiwKICAgICI3MEU3IjoiQzlENSIsCiAgICAiNzBFOCI6IkVDQzciLAogICAgIjcwRTkiOiJCQkUyIiwKICAgICI3MEVCIjoiQ0NDQyIsCiAgICAiNzBFQyI6IkJERkQiLAogICAgIjcwRUQiOiJDOEM4IiwKICAgICI3MEVGIjoiQ0ZBOSIsCiAgICAiNzBGNyI6IkNERTkiLAogICAgIjcwRjkiOiJDNUVCIiwKICAgICI3MEZEIjoiQjdFOSIsCiAgICAiNzEwOSI6IkQxQzkiLAogICAgIjcxMEEiOiJCQUI4IiwKICAgICI3MTEwIjoiRUNDOSIsCiAgICAiNzExMyI6IkVDQ0EiLAogICAgIjcxMTUiOiJCQkMwIiwKICAgICI3MTE2IjoiRUNDQiIsCiAgICAiNzExOCI6IkVDRTIiLAogICAgIjcxMTkiOiJCMUJBIiwKICAgICI3MTFBIjoiQjdEOSIsCiAgICAiNzEyNiI6IkJEQjkiLAogICAgIjcxMkYiOiJFQ0NDIiwKICAgICI3MTMwIjoiRDFFNiIsCiAgICAiNzEzMSI6IkVDQ0QiLAogICAgIjcxMzYiOiJDOEJCIiwKICAgICI3MTQ1IjoiRUNEMSIsCiAgICAiNzE0QSI6IkVDRDMiLAogICAgIjcxNEMiOiJCQkNEIiwKICAgICI3MTRFIjoiQkNFNSIsCiAgICAiNzE1QyI6IkVDQ0YiLAogICAgIjcxNUUiOiJDOUI3IiwKICAgICI3MTY0IjoiQzNCQSIsCiAgICAiNzE2NiI6IkVDRTMiLAogICAgIjcxNjciOiJENUQ1IiwKICAgICI3MTY4IjoiRUNEMCIsCiAgICAiNzE2RSI6IkQ2RjMiLAogICAgIjcxNzIiOiJFQ0QyIiwKICAgICI3MTczIjoiRUNDRSIsCiAgICAiNzE3OCI6IkVDRDQiLAogICAgIjcxN0EiOiJFQ0Q1IiwKICAgICI3MTdEIjoiQzlCRiIsCiAgICAiNzE4NCI6IkNGQTgiLAogICAgIjcxOEEiOiJEMERDIiwKICAgICI3MThGIjoiRDFBQyIsCiAgICAiNzE5NCI6IkM4REIiLAogICAgIjcxOTgiOiJFQ0Q2IiwKICAgICI3MTk5IjoiQ0VGNSIsCiAgICAiNzE5RiI6IkNBRUMiLAogICAgIjcxQTAiOiJFQ0RBIiwKICAgICI3MUE4IjoiRUNEOSIsCiAgICAiNzFBQyI6IkIwQkUiLAogICAgIjcxQjMiOiJFQ0Q3IiwKICAgICI3MUI1IjoiRUNEOCIsCiAgICAiNzFCOSI6IkVDRTQiLAogICAgIjcxQzMiOiJDOEJDIiwKICAgICI3MUNFIjoiQzFDNyIsCiAgICAiNzFENCI6IkVDREMiLAogICAgIjcxRDUiOiJEMUUwIiwKICAgICI3MUUwIjoiRUNEQiIsCiAgICAiNzFFNSI6IkQ0RUYiLAogICAgIjcxRTciOiJFQ0REIiwKICAgICI3MUVFIjoiREJDNiIsCiAgICAiNzFGOSI6IkVDREUiLAogICAgIjcyMDYiOiJCMUFDIiwKICAgICI3MjFEIjoiRUNERiIsCiAgICAiNzIyOCI6IkVDRTAiLAogICAgIjcyMkEiOiJEN0E2IiwKICAgICI3MjJDIjoiQzVDMCIsCiAgICAiNzIzMCI6IkVCQkMiLAogICAgIjcyMzEiOiJCMEFFIiwKICAgICI3MjM1IjoiQkVGNCIsCiAgICAiNzIzNiI6IkI4QjgiLAogICAgIjcyMzciOiJEMkFGIiwKICAgICI3MjM4IjoiQjBENiIsCiAgICAiNzIzOSI6IkI1RjkiLAogICAgIjcyM0IiOiJEOEIzIiwKICAgICI3MjNEIjoiQ0JBQyIsCiAgICAiNzIzRiI6IkUzREQiLAogICAgIjcyNDciOiJDNkFDIiwKICAgICI3MjQ4IjoiQjBFNiIsCiAgICAiNzI0QyI6IkM1QzYiLAogICAgIjcyNEQiOiJFQkI5IiwKICAgICI3MjUyIjoiRUJCQSIsCiAgICAiNzI1NiI6IkVCQkIiLAogICAgIjcyNTkiOiJEMUMwIiwKICAgICI3MjVCIjoiQzVBMyIsCiAgICAiNzI1RCI6IkVBRjIiLAogICAgIjcyNUYiOiJDNEIyIiwKICAgICI3MjYxIjoiQzRCNSIsCiAgICAiNzI2MiI6IkMwQ0UiLAogICAgIjcyNjYiOiJFQUYzIiwKICAgICI3MjY3IjoiQzRDMSIsCiAgICAiNzI2OSI6IkNFRUYiLAogICAgIjcyNkUiOiJFQUYwIiwKICAgICI3MjZGIjoiRUFGNCIsCiAgICAiNzI3MiI6IkM5RkMiLAogICAgIjcyNzUiOiJDN0EzIiwKICAgICI3Mjc5IjoiQ0NEOCIsCiAgICAiNzI3QSI6IkNFRkUiLAogICAgIjcyN0UiOiJFQUY1IiwKICAgICI3MjdGIjoiRUFGNiIsCiAgICAiNzI4MCI6IkNGQUMiLAogICAgIjcyODEiOiJDMEU3IiwKICAgICI3Mjg0IjoiRUFGNyIsCiAgICAiNzI4QSI6IkI2QkYiLAogICAgIjcyOEIiOiJFQUY4IiwKICAgICI3MjhEIjoiRUFGOSIsCiAgICAiNzI4RiI6IkVBRkEiLAogICAgIjcyOTIiOiJFQUZCIiwKICAgICI3MjlGIjoiRUFGMSIsCiAgICAiNzJBQyI6IkM4QUUiLAogICAgIjcyQUQiOiJFMUVCIiwKICAgICI3MkFGIjoiQjdCOCIsCiAgICAiNzJCMCI6IkUxRUMiLAogICAgIjcyQjQiOiJFMUVEIiwKICAgICI3MkI2IjoiRDdCNCIsCiAgICAiNzJCNyI6IkUxRUUiLAogICAgIjcyQjgiOiJFMUVGIiwKICAgICI3MkI5IjoiRDNDQyIsCiAgICAiNzJDMSI6IkUxRjEiLAogICAgIjcyQzIiOiJCRkYxIiwKICAgICI3MkMzIjoiRTFGMCIsCiAgICAiNzJDNCI6IkI1RDIiLAogICAgIjcyQzgiOiJCMUI3IiwKICAgICI3MkNEIjoiRTFGMyIsCiAgICAiNzJDRSI6IkUxRjIiLAogICAgIjcyRDAiOiJCQUZDIiwKICAgICI3MkQyIjoiRTFGNCIsCiAgICAiNzJENyI6IkI5QjciLAogICAgIjcyRDkiOiJCRUQxIiwKICAgICI3MkRFIjoiQzRGQyIsCiAgICAiNzJFMCI6IkJBREQiLAogICAgIjcyRTEiOiJCREM2IiwKICAgICI3MkU4IjoiRTFGNSIsCiAgICAiNzJFOSI6IkUxRjciLAogICAgIjcyRUMiOiJCNkMwIiwKICAgICI3MkVEIjoiQ0ZDMSIsCiAgICAiNzJFRSI6IkNBQTgiLAogICAgIjcyRUYiOiJFMUY2IiwKICAgICI3MkYwIjoiRDVGOCIsCiAgICAiNzJGMSI6IkQzRkMiLAogICAgIjcyRjIiOiJFMUY4IiwKICAgICI3MkYzIjoiRTFGQyIsCiAgICAiNzJGNCI6IkUxRjkiLAogICAgIjcyRjciOiJFMUZBIiwKICAgICI3MkY4IjoiQzBFQSIsCiAgICAiNzJGQSI6IkUxRkUiLAogICAgIjcyRkIiOiJFMkExIiwKICAgICI3MkZDIjoiQzBDNyIsCiAgICAiNzMwMSI6IkUxRkIiLAogICAgIjczMDMiOiJFMUZEIiwKICAgICI3MzBBIjoiRTJBNSIsCiAgICAiNzMwRSI6IkMxRDQiLAogICAgIjczMTMiOiJFMkEzIiwKICAgICI3MzE1IjoiRTJBOCIsCiAgICAiNzMxNiI6IkIyRkUiLAogICAgIjczMTciOiJFMkEyIiwKICAgICI3MzFCIjoiQzNDRCIsCiAgICAiNzMxQyI6IkIyQzIiLAogICAgIjczMUQiOiJFMkE3IiwKICAgICI3MzFFIjoiRTJBNiIsCiAgICAiNzMyMSI6IkUyQTQiLAogICAgIjczMjIiOiJFMkE5IiwKICAgICI3MzI1IjoiRTJBQiIsCiAgICAiNzMyOSI6IkQwQzkiLAogICAgIjczMkEiOiJENkVEIiwKICAgICI3MzJCIjoiQzNBOCIsCiAgICAiNzMyQyI6IkUyQUMiLAogICAgIjczMkUiOiJDRkQ3IiwKICAgICI3MzMxIjoiRTJBRSIsCiAgICAiNzMzNCI6IkJBRUYiLAogICAgIjczMzciOiJFOUUwIiwKICAgICI3MzM4IjoiRTJBRCIsCiAgICAiNzMzOSI6IkUyQUEiLAogICAgIjczM0UiOiJCQkFCIiwKICAgICI3MzNGIjoiRDRCMyIsCiAgICAiNzM0RCI6IkUyQjAiLAogICAgIjczNTAiOiJFMkFGIiwKICAgICI3MzUyIjoiRTlFMSIsCiAgICAiNzM1NyI6IkUyQjEiLAogICAgIjczNjAiOiJFMkIyIiwKICAgICI3MzZDIjoiRTJCMyIsCiAgICAiNzM2RCI6IkNDQTEiLAogICAgIjczNkYiOiJFMkI0IiwKICAgICI3MzdFIjoiRTJCNSIsCiAgICAiNzM4NCI6IkQwRkUiLAogICAgIjczODciOiJDMkNBIiwKICAgICI3Mzg5IjoiRDNGMSIsCiAgICAiNzM4QiI6IkNERjUiLAogICAgIjczOEUiOiJFN0UwIiwKICAgICI3MzkxIjoiRTdFMSIsCiAgICAiNzM5NiI6IkJFQzEiLAogICAgIjczOUIiOiJDMkVBIiwKICAgICI3MzlGIjoiRTdFNCIsCiAgICAiNzNBMiI6IkU3RTMiLAogICAgIjczQTkiOiJDREU2IiwKICAgICI3M0FCIjoiQzNCNSIsCiAgICAiNzNBRSI6IkU3RTIiLAogICAgIjczQUYiOiJCQkI3IiwKICAgICI3M0IwIjoiQ0ZENiIsCiAgICAiNzNCMiI6IkMxRTEiLAogICAgIjczQjMiOiJFN0U5IiwKICAgICI3M0I3IjoiRTdFOCIsCiAgICAiNzNCQSI6IkU3RjQiLAogICAgIjczQkIiOiJCMkEzIiwKICAgICI3M0MwIjoiRTdFQSIsCiAgICAiNzNDMiI6IkU3RTYiLAogICAgIjczQzgiOiJFN0VDIiwKICAgICI3M0M5IjoiRTdFQiIsCiAgICAiNzNDQSI6IkM5QkEiLAogICAgIjczQ0QiOiJENUU0IiwKICAgICI3M0NGIjoiRTdFNSIsCiAgICAiNzNEMCI6IkI3QTkiLAogICAgIjczRDEiOiJFN0U3IiwKICAgICI3M0Q5IjoiRTdFRSIsCiAgICAiNzNERSI6IkU3RjMiLAogICAgIjczRTAiOiJENkU5IiwKICAgICI3M0U1IjoiRTdFRCIsCiAgICAiNzNFNyI6IkU3RjIiLAogICAgIjczRTkiOiJFN0YxIiwKICAgICI3M0VEIjoiQjBFMCIsCiAgICAiNzNGMiI6IkU3RjUiLAogICAgIjc0MDMiOiJDN0YyIiwKICAgICI3NDA1IjoiQzBDNSIsCiAgICAiNzQwNiI6IkMwRUQiLAogICAgIjc0MDkiOiJDMUYwIiwKICAgICI3NDBBIjoiRTdGMCIsCiAgICAiNzQwRiI6IkU3RjYiLAogICAgIjc0MTAiOiJDQkY2IiwKICAgICI3NDFBIjoiRThBMiIsCiAgICAiNzQxQiI6IkU4QTEiLAogICAgIjc0MjIiOiJEN0MxIiwKICAgICI3NDI1IjoiRTdGQSIsCiAgICAiNzQyNiI6IkU3RjkiLAogICAgIjc0MjgiOiJFN0ZCIiwKICAgICI3NDJBIjoiRTdGNyIsCiAgICAiNzQyQyI6IkU3RkUiLAogICAgIjc0MkUiOiJFN0ZEIiwKICAgICI3NDMwIjoiRTdGQyIsCiAgICAiNzQzMyI6IkMxRDUiLAogICAgIjc0MzQiOiJDN0Q5IiwKICAgICI3NDM1IjoiQzVGRCIsCiAgICAiNzQzNiI6IkM1QzMiLAogICAgIjc0M0MiOiJDN0VEIiwKICAgICI3NDQxIjoiRThBMyIsCiAgICAiNzQ1NSI6IkU4QTYiLAogICAgIjc0NTciOiJFOEE1IiwKICAgICI3NDU5IjoiRThBNyIsCiAgICAiNzQ1QSI6IkJBRjciLAogICAgIjc0NUIiOiJFN0Y4IiwKICAgICI3NDVDIjoiRThBNCIsCiAgICAiNzQ1RSI6IkM4RjAiLAogICAgIjc0NUYiOiJDOUFBIiwKICAgICI3NDZEIjoiRThBOSIsCiAgICAiNzQ3MCI6IkI5RTUiLAogICAgIjc0NzYiOiJEMUZFIiwKICAgICI3NDc3IjoiRThBOCIsCiAgICAiNzQ3RSI6IkU4QUEiLAogICAgIjc0ODAiOiJFOEFEIiwKICAgICI3NDgxIjoiRThBRSIsCiAgICAiNzQ4MyI6IkMxQTciLAogICAgIjc0ODciOiJFOEFGIiwKICAgICI3NDhCIjoiRThCMCIsCiAgICAiNzQ4RSI6IkU4QUMiLAogICAgIjc0OTAiOiJFOEI0IiwKICAgICI3NDlDIjoiRThBQiIsCiAgICAiNzQ5RSI6IkU4QjEiLAogICAgIjc0QTciOiJFOEI1IiwKICAgICI3NEE4IjoiRThCMiIsCiAgICAiNzRBOSI6IkU4QjMiLAogICAgIjc0QkEiOiJFOEI3IiwKICAgICI3NEQyIjoiRThCNiIsCiAgICAiNzREQyI6IkI5Q0YiLAogICAgIjc0REUiOiJGMEFDIiwKICAgICI3NEUwIjoiRjBBRCIsCiAgICAiNzRFMiI6IkM2QjAiLAogICAgIjc0RTMiOiJCMEVBIiwKICAgICI3NEU0IjoiQzhCRiIsCiAgICAiNzRFNiI6IkNEREYiLAogICAgIjc0RUUiOiJDRUNEIiwKICAgICI3NEVGIjoiRUFCMSIsCiAgICAiNzRGNCI6IkVBQjIiLAogICAgIjc0RjYiOiJDNkJGIiwKICAgICI3NEY3IjoiQjRDOSIsCiAgICAiNzRGRiI6IkVBQjMiLAogICAgIjc1MDQiOiJENUU3IiwKICAgICI3NTBEIjoiRERGOSIsCiAgICAiNzUwRiI6IkVBQjQiLAogICAgIjc1MTEiOiJFQUI1IiwKICAgICI3NTEzIjoiRUFCNiIsCiAgICAiNzUxOCI6IkI4Q0EiLAogICAgIjc1MTkiOiJERkIwIiwKICAgICI3NTFBIjoiQzlGNSIsCiAgICAiNzUxQyI6IkNDRjAiLAogICAgIjc1MUYiOiJDOUZBIiwKICAgICI3NTI1IjoiQzlGQiIsCiAgICAiNzUyOCI6IkQzQzMiLAogICAgIjc1MjkiOiJDQkE2IiwKICAgICI3NTJCIjoiQjhBNiIsCiAgICAiNzUyQyI6IkYwQUUiLAogICAgIjc1MkQiOiJCMUMyIiwKICAgICI3NTJGIjoiRTVCOCIsCiAgICAiNzUzMCI6IkNDRUYiLAogICAgIjc1MzEiOiJEM0M5IiwKICAgICI3NTMyIjoiQkNENyIsCiAgICAiNzUzMyI6IkM5RUEiLAogICAgIjc1MzUiOiJCNUU3IiwKICAgICI3NTM3IjoiQzREMCIsCiAgICAiNzUzOCI6IkI1RTkiLAogICAgIjc1M0EiOiJFRUFFIiwKICAgICI3NTNCIjoiQkJBRCIsCiAgICAiNzUzRSI6IkU3REUiLAogICAgIjc1NDAiOiJFRUFGIiwKICAgICI3NTQ1IjoiQjNBOSIsCiAgICAiNzU0OCI6IkVFQjIiLAogICAgIjc1NEIiOiJFRUIxIiwKICAgICI3NTRDIjoiQkRFNyIsCiAgICAiNzU0RSI6IkVFQjAiLAogICAgIjc1NEYiOiJDRUI3IiwKICAgICI3NTU0IjoiQzVDRiIsCiAgICAiNzU1OSI6IkMxRjQiLAogICAgIjc1NUEiOiJEQkNFIiwKICAgICI3NTVCIjoiRUVCMyIsCiAgICAiNzU1QyI6IkQwRjMiLAogICAgIjc1NjUiOiJDMkQ0IiwKICAgICI3NTY2IjoiQzZFOCIsCiAgICAiNzU2QSI6IkI3QUMiLAogICAgIjc1NzIiOiJFRUI0IiwKICAgICI3NTc0IjoiQjNFQiIsCiAgICAiNzU3OCI6IkJCRkIiLAogICAgIjc1NzkiOiJFRUI1IiwKICAgICI3NTdGIjoiRTdEQyIsCiAgICAiNzU4MyI6IkVFQjYiLAogICAgIjc1ODYiOiJCREFFIiwKICAgICI3NThCIjoiRjFFMiIsCiAgICAiNzU4RiI6IkNBRTgiLAogICAgIjc1OTEiOiJEMkM5IiwKICAgICI3NTkyIjoiRjBEQSIsCiAgICAiNzU5NCI6IkYwREIiLAogICAgIjc1OTYiOiJGMERDIiwKICAgICI3NTk3IjoiQzFDNiIsCiAgICAiNzU5OSI6IkI4RUQiLAogICAgIjc1OUEiOiJCRUNFIiwKICAgICI3NTlEIjoiRjBERSIsCiAgICAiNzU5RiI6IkM1QjEiLAogICAgIjc1QTAiOiJGMEREIiwKICAgICI3NUExIjoiRDFGMSIsCiAgICAiNzVBMyI6IkYwRTAiLAogICAgIjc1QTQiOiJCMENDIiwKICAgICI3NUE1IjoiQkRFQSIsCiAgICAiNzVBQiI6IkQyREYiLAogICAgIjc1QUMiOiJGMERGIiwKICAgICI3NUFFIjoiQjRBRiIsCiAgICAiNzVBRiI6IkI3RTgiLAogICAgIjc1QjAiOiJGMEU2IiwKICAgICI3NUIxIjoiRjBFNSIsCiAgICAiNzVCMiI6IkM2QTMiLAogICAgIjc1QjMiOiJGMEUxIiwKICAgICI3NUI0IjoiRjBFMiIsCiAgICAiNzVCNSI6IkI0QzMiLAogICAgIjc1QjgiOiJGMEUzIiwKICAgICI3NUI5IjoiRDVFRSIsCiAgICAiNzVCQyI6IkNDREIiLAogICAgIjc1QkQiOiJCRUQyIiwKICAgICI3NUJFIjoiQkNCMiIsCiAgICAiNzVDMiI6IkYwRTgiLAogICAgIjc1QzMiOiJGMEU3IiwKICAgICI3NUM0IjoiRjBFNCIsCiAgICAiNzVDNSI6IkIyQTEiLAogICAgIjc1QzciOiJENkEyIiwKICAgICI3NUM4IjoiRDNCOCIsCiAgICAiNzVDOSI6IkJFQjciLAogICAgIjc1Q0EiOiJDOEFDIiwKICAgICI3NUNEIjoiRjBFQSIsCiAgICAiNzVEMiI6IkQxRjciLAogICAgIjc1RDQiOiJENkNDIiwKICAgICI3NUQ1IjoiQkFEQiIsCiAgICAiNzVENiI6IkYwRTkiLAogICAgIjc1RDgiOiJCNkJCIiwKICAgICI3NURCIjoiQ0RCNCIsCiAgICAiNzVERSI6IkM2QTYiLAogICAgIjc1RTIiOiJDMUExIiwKICAgICI3NUUzIjoiRjBFQiIsCiAgICAiNzVFNCI6IkYwRUUiLAogICAgIjc1RTYiOiJGMEVEIiwKICAgICI3NUU3IjoiRjBGMCIsCiAgICAiNzVFOCI6IkYwRUMiLAogICAgIjc1RUEiOiJCQkJFIiwKICAgICI3NUVCIjoiRjBFRiIsCiAgICAiNzVGMCI6IkNDQjUiLAogICAgIjc1RjEiOiJGMEYyIiwKICAgICI3NUY0IjoiQjNENSIsCiAgICAiNzVGOSI6IkIxRDQiLAogICAgIjc1RkMiOiJGMEYzIiwKICAgICI3NUZGIjoiRjBGNCIsCiAgICAiNzYwMCI6IkYwRjYiLAogICAgIjc2MDEiOiJCNEUxIiwKICAgICI3NjAzIjoiRjBGMSIsCiAgICAiNzYwNSI6IkYwRjciLAogICAgIjc2MEEiOiJGMEZBIiwKICAgICI3NjBDIjoiRjBGOCIsCiAgICAiNzYxMCI6IkYwRjUiLAogICAgIjc2MTUiOiJGMEZEIiwKICAgICI3NjE3IjoiRjBGOSIsCiAgICAiNzYxOCI6IkYwRkMiLAogICAgIjc2MTkiOiJGMEZFIiwKICAgICI3NjFCIjoiRjFBMSIsCiAgICAiNzYxRiI6IkNFQzEiLAogICAgIjc2MjAiOiJGMUE0IiwKICAgICI3NjIyIjoiRjFBMyIsCiAgICAiNzYyNCI6IkMxRjYiLAogICAgIjc2MjUiOiJGMEZCIiwKICAgICI3NjI2IjoiQ0FERCIsCiAgICAiNzYyOSI6IkI0RjEiLAogICAgIjc2MkEiOiJCMUYxIiwKICAgICI3NjJCIjoiQ0NCMSIsCiAgICAiNzYyRCI6IkYxQTYiLAogICAgIjc2MzAiOiJGMUE3IiwKICAgICI3NjMzIjoiRjFBQyIsCiAgICAiNzYzNCI6IkQ1Q0UiLAogICAgIjc2MzUiOiJGMUE5IiwKICAgICI3NjM4IjoiQzhCMyIsCiAgICAiNzYzQyI6IkYxQTIiLAogICAgIjc2M0UiOiJGMUFCIiwKICAgICI3NjNGIjoiRjFBOCIsCiAgICAiNzY0MCI6IkYxQTUiLAogICAgIjc2NDMiOiJGMUFBIiwKICAgICI3NjRDIjoiQjBBOSIsCiAgICAiNzY0RCI6IkYxQUQiLAogICAgIjc2NTQiOiJGMUFGIiwKICAgICI3NjU2IjoiRjFCMSIsCiAgICAiNzY1QyI6IkYxQjAiLAogICAgIjc2NUUiOiJGMUFFIiwKICAgICI3NjYzIjoiRDFBMiIsCiAgICAiNzY2QiI6IkYxQjIiLAogICAgIjc2NkYiOiJGMUIzIiwKICAgICI3Njc4IjoiQjlFRiIsCiAgICAiNzY3QiI6IkI1QzciLAogICAgIjc2N0QiOiJCMEQ3IiwKICAgICI3NjdFIjoiQjBEOSIsCiAgICAiNzY4MiI6IkQ0RUQiLAogICAgIjc2ODQiOiJCNUM0IiwKICAgICI3Njg2IjoiQkRENCIsCiAgICAiNzY4NyI6IkJCQ0EiLAogICAgIjc2ODgiOiJGMEE3IiwKICAgICI3NjhCIjoiQjhERSIsCiAgICAiNzY4RSI6IkYwQTgiLAogICAgIjc2OTEiOiJCMEE4IiwKICAgICI3NjkzIjoiRjBBOSIsCiAgICAiNzY5NiI6IkNERUUiLAogICAgIjc2OTkiOiJGMEFBIiwKICAgICI3NkE0IjoiRjBBQiIsCiAgICAiNzZBRSI6IkM2QTQiLAogICAgIjc2QjEiOiJENkU1IiwKICAgICI3NkIyIjoiRjFFNCIsCiAgICAiNzZCNCI6IkYxRTUiLAogICAgIjc2QkYiOiJDM0YzIiwKICAgICI3NkMyIjoiRDNEQiIsCiAgICAiNzZDNSI6IkQ2RDEiLAogICAgIjc2QzYiOiJDNUU4IiwKICAgICI3NkM4IjoiRDNBRiIsCiAgICAiNzZDQSI6IkQyRTYiLAogICAgIjc2Q0QiOiJFRUMxIiwKICAgICI3NkNFIjoiQjBCQiIsCiAgICAiNzZDRiI6IkQ1QjUiLAogICAgIjc2RDAiOiJEMUNFIiwKICAgICI3NkQxIjoiQkNFMCIsCiAgICAiNzZEMiI6IkJBRDAiLAogICAgIjc2RDQiOiJCRkY4IiwKICAgICI3NkQ2IjoiQjhDNyIsCiAgICAiNzZENyI6IkI1QzEiLAogICAgIjc2RDgiOiJDNUNDIiwKICAgICI3NkRCIjoiQ0FBMiIsCiAgICAiNzZERiI6IkMzQ0IiLAogICAgIjc2RTUiOiJFRUMyIiwKICAgICI3NkVFIjoiQzRCRiIsCiAgICAiNzZFRiI6IkI2QTIiLAogICAgIjc2RjEiOiJFREVDIiwKICAgICI3NkYyIjoiQzNBNCIsCiAgICAiNzZGNCI6IkQ2QjEiLAogICAgIjc2RjgiOiJDRkUwIiwKICAgICI3NkY5IjoiRURFRiIsCiAgICAiNzZGQyI6IkM1Q0UiLAogICAgIjc2RkUiOiJCNkRDIiwKICAgICI3NzAxIjoiQ0FBMSIsCiAgICAiNzcwNCI6IkVERUQiLAogICAgIjc3MDciOiJFREYwIiwKICAgICI3NzA4IjoiRURGMSIsCiAgICAiNzcwOSI6IkMzQkMiLAogICAgIjc3MEIiOiJCRkI0IiwKICAgICI3NzBEIjoiRURFRSIsCiAgICAiNzcxOSI6IkVERjQiLAogICAgIjc3MUEiOiJFREYyIiwKICAgICI3NzFGIjoiRDVFNiIsCiAgICAiNzcyMCI6IkMzREYiLAogICAgIjc3MjIiOiJFREYzIiwKICAgICI3NzI2IjoiRURGNiIsCiAgICAiNzcyOCI6IkQ1QTMiLAogICAgIjc3MjkiOiJEMUEzIiwKICAgICI3NzJEIjoiRURGNSIsCiAgICAiNzcyRiI6IkMzRDAiLAogICAgIjc3MzUiOiJFREY3IiwKICAgICI3NzM2IjoiQkZGNCIsCiAgICAiNzczNyI6IkJFRUMiLAogICAgIjc3MzgiOiJFREY4IiwKICAgICI3NzNBIjoiQ0NGNyIsCiAgICAiNzczQyI6IkQxREIiLAogICAgIjc3NDAiOiJEN0M1IiwKICAgICI3NzQxIjoiRDVGNiIsCiAgICAiNzc0MyI6IkVERkMiLAogICAgIjc3NDciOiJFREZCIiwKICAgICI3NzUwIjoiRURGOSIsCiAgICAiNzc1MSI6IkVERkEiLAogICAgIjc3NUEiOiJFREZEIiwKICAgICI3NzVCIjoiQkVBNiIsCiAgICAiNzc2MSI6IkNCQUYiLAogICAgIjc3NjIiOiJFRUExIiwKICAgICI3NzYzIjoiQjZCRCIsCiAgICAiNzc2NSI6IkVFQTIiLAogICAgIjc3NjYiOiJDNEMwIiwKICAgICI3NzY4IjoiRURGRSIsCiAgICAiNzc2QiI6IkJEREUiLAogICAgIjc3NkMiOiJCMkM3IiwKICAgICI3Nzc5IjoiQjZDMyIsCiAgICAiNzc3RCI6IkVFQTUiLAogICAgIjc3N0UiOiJEOEJBIiwKICAgICI3NzdGIjoiRUVBMyIsCiAgICAiNzc4MCI6IkVFQTYiLAogICAgIjc3ODQiOiJDM0U5IiwKICAgICI3Nzg1IjoiQjNGMiIsCiAgICAiNzc4QyI6IkVFQTciLAogICAgIjc3OEQiOiJFRUE0IiwKICAgICI3NzhFIjoiQ0ZCOSIsCiAgICAiNzc5MSI6IkVFQTgiLAogICAgIjc3OTIiOiJDMkY3IiwKICAgICI3NzlGIjoiRUVBOSIsCiAgICAiNzdBMCI6IkVFQUEiLAogICAgIjc3QTIiOiJERUFCIiwKICAgICI3N0E1IjoiQzZCMyIsCiAgICAiNzdBNyI6IkM3QzYiLAogICAgIjc3QTkiOiJENkY1IiwKICAgICI3N0FBIjoiQjVDOSIsCiAgICAiNzdBQyI6IkNCQjIiLAogICAgIjc3QjAiOiJFRUFCIiwKICAgICI3N0IzIjoiQ0RBQiIsCiAgICAiNzdCNSI6IkVFQUMiLAogICAgIjc3QkIiOiJENUIwIiwKICAgICI3N0JEIjoiRUVBRCIsCiAgICAiNzdCRiI6IkY2QzQiLAogICAgIjc3Q0QiOiJEQkM3IiwKICAgICI3N0Q3IjoiQjRBMyIsCiAgICAiNzdEQiI6IkMzQUMiLAogICAgIjc3REMiOiJGMUU2IiwKICAgICI3N0UyIjoiQ0FCOCIsCiAgICAiNzdFMyI6IkQyRDMiLAogICAgIjc3RTUiOiJENkFBIiwKICAgICI3N0U3IjoiRUZGMiIsCiAgICAiNzdFOSI6IkJFRDgiLAogICAgIjc3RUIiOiJCREMzIiwKICAgICI3N0VDIjoiRUZGMyIsCiAgICAiNzdFRCI6IkI2Q0MiLAogICAgIjc3RUUiOiJCMEFCIiwKICAgICI3N0YzIjoiQ0FBRiIsCiAgICAiNzdGNiI6IkVEQjYiLAogICAgIjc3RjgiOiJFREI3IiwKICAgICI3N0ZEIjoiQ0VGOSIsCiAgICAiNzdGRSI6IkI3QUYiLAogICAgIjc3RkYiOiJCRkYzIiwKICAgICI3ODAwIjoiRURCOCIsCiAgICAiNzgwMSI6IkMyRUIiLAogICAgIjc4MDIiOiJDOUIwIiwKICAgICI3ODA5IjoiRURCOSIsCiAgICAiNzgwQyI6IkM2RjYiLAogICAgIjc4MEQiOiJCRkIzIiwKICAgICI3ODExIjoiRURCQyIsCiAgICAiNzgxMiI6IkM1RjgiLAogICAgIjc4MTQiOiJEMUQwIiwKICAgICI3ODE2IjoiRDdBOSIsCiAgICAiNzgxNyI6IkVEQkEiLAogICAgIjc4MTgiOiJFREJCIiwKICAgICI3ODFBIjoiRDFFMiIsCiAgICAiNzgxQyI6IkVEQkYiLAogICAgIjc4MUQiOiJFREMwIiwKICAgICI3ODFGIjoiRURDNCIsCiAgICAiNzgyMyI6IkVEQzgiLAogICAgIjc4MjUiOiJFREM2IiwKICAgICI3ODI2IjoiRURDRSIsCiAgICAiNzgyNyI6IkQ1RTgiLAogICAgIjc4MjkiOiJFREM5IiwKICAgICI3ODJDIjoiRURDNyIsCiAgICAiNzgyRCI6IkVEQkUiLAogICAgIjc4MzAiOiJDNUU5IiwKICAgICI3ODM0IjoiQzZDNiIsCiAgICAiNzgzNyI6IkM5RTkiLAogICAgIjc4MzgiOiJENEQyIiwKICAgICI3ODM5IjoiRURDMSIsCiAgICAiNzgzQSI6IkVEQzIiLAogICAgIjc4M0IiOiJFREMzIiwKICAgICI3ODNDIjoiRURDNSIsCiAgICAiNzgzRSI6IkMwRjkiLAogICAgIjc4NDAiOiJCNEExIiwKICAgICI3ODQ1IjoiQjlFOCIsCiAgICAiNzg0NyI6IkVERDAiLAogICAgIjc4NEMiOiJFREQxIiwKICAgICI3ODRFIjoiRURDQSIsCiAgICAiNzg1MCI6IkVEQ0YiLAogICAgIjc4NTIiOiJDRUY4IiwKICAgICI3ODU1IjoiQ0JCNiIsCiAgICAiNzg1NiI6IkVEQ0MiLAogICAgIjc4NTciOiJFRENEIiwKICAgICI3ODVEIjoiQ0ZGNSIsCiAgICAiNzg2QSI6IkVERDIiLAogICAgIjc4NkIiOiJDMUYyIiwKICAgICI3ODZDIjoiRDNCMiIsCiAgICAiNzg2RCI6IkVEQ0IiLAogICAgIjc4NkUiOiJDOEI3IiwKICAgICI3ODc3IjoiQkNFRiIsCiAgICAiNzg3QyI6IkM1RjAiLAogICAgIjc4ODciOiJFREQ2IiwKICAgICI3ODg5IjoiQjVFRiIsCiAgICAiNzg4QyI6IkMyQjUiLAogICAgIjc4OEQiOiJCMEFEIiwKICAgICI3ODhFIjoiQ0JFOSIsCiAgICAiNzg5MSI6IkIxQUUiLAogICAgIjc4OTMiOiJFREQ0IiwKICAgICI3ODk3IjoiQ0RFQiIsCiAgICAiNzg5OCI6IkI1RTIiLAogICAgIjc4OUEiOiJFREQ1IiwKICAgICI3ODlCIjoiRUREMyIsCiAgICAiNzg5QyI6IkVERDciLAogICAgIjc4OUYiOiJCNUZBIiwKICAgICI3OEExIjoiRUREOCIsCiAgICAiNzhBMyI6IkVERDkiLAogICAgIjc4QTUiOiJFRERDIiwKICAgICI3OEE3IjoiQjFDQyIsCiAgICAiNzhCMCI6IkM1RjYiLAogICAgIjc4QjEiOiJCQ0VFIiwKICAgICI3OEIyIjoiRUREQSIsCiAgICAiNzhCMyI6IkNDQkMiLAogICAgIjc4QjQiOiJCMkVBIiwKICAgICI3OEI5IjoiRUREQiIsCiAgICAiNzhCRSI6IkM0RUIiLAogICAgIjc4QzEiOiJCNEM1IiwKICAgICI3OEM1IjoiQjBGNSIsCiAgICAiNzhDOSI6IkVEREYiLAogICAgIjc4Q0EiOiJDMERBIiwKICAgICI3OENCIjoiQjRFOCIsCiAgICAiNzhEMCI6IkM1Q0QiLAogICAgIjc4RDQiOiJFREREIiwKICAgICI3OEQ1IjoiQkZDNCIsCiAgICAiNzhEOSI6IkVEREUiLAogICAgIjc4RTgiOiJDNEE1IiwKICAgICI3OEVDIjoiRURFMCIsCiAgICAiNzhGMiI6IkVERTEiLAogICAgIjc4RjQiOiJFREUzIiwKICAgICI3OEY3IjoiQzFENyIsCiAgICAiNzhGQSI6IkJCQzciLAogICAgIjc5MDEiOiJCREI4IiwKICAgICI3OTA1IjoiRURFMiIsCiAgICAiNzkxMyI6IkVERTQiLAogICAgIjc5MUUiOiJFREU2IiwKICAgICI3OTI0IjoiRURFNSIsCiAgICAiNzkzNCI6IkVERTciLAogICAgIjc5M0EiOiJDQUJFIiwKICAgICI3OTNCIjoiRUNFQSIsCiAgICAiNzkzQyI6IkMwRjEiLAogICAgIjc5M0UiOiJDOUU3IiwKICAgICI3OTQwIjoiRUNFQiIsCiAgICAiNzk0MSI6IkM2RUUiLAogICAgIjc5NDYiOiJFQ0VDIiwKICAgICI3OTQ4IjoiQzZFRCIsCiAgICAiNzk0OSI6IkVDRUQiLAogICAgIjc5NTMiOiJFQ0YwIiwKICAgICI3OTU2IjoiRDdFNiIsCiAgICAiNzk1NyI6IkVDRjMiLAogICAgIjc5NUEiOiJFQ0YxIiwKICAgICI3OTVCIjoiRUNFRSIsCiAgICAiNzk1QyI6IkVDRUYiLAogICAgIjc5NUQiOiJEN0EzIiwKICAgICI3OTVFIjoiQzlGMSIsCiAgICAiNzk1RiI6IkNCRUUiLAogICAgIjc5NjAiOiJFQ0Y0IiwKICAgICI3OTYyIjoiRUNGMiIsCiAgICAiNzk2NSI6IkNGRTkiLAogICAgIjc5NjciOiJFQ0Y2IiwKICAgICI3OTY4IjoiQzZCMSIsCiAgICAiNzk2RCI6IkJDQzAiLAogICAgIjc5NkYiOiJFQ0Y1IiwKICAgICI3OTc3IjoiQjVCQiIsCiAgICAiNzk3OCI6IkJCRjYiLAogICAgIjc5N0EiOiJFQ0Y3IiwKICAgICI3OTgwIjoiRDlGNyIsCiAgICAiNzk4MSI6IkJERkIiLAogICAgIjc5ODQiOiJDMkJCIiwKICAgICI3OTg1IjoiRUNGOCIsCiAgICAiNzk4QSI6IkVDRjkiLAogICAgIjc5OEYiOiJCOEEzIiwKICAgICI3OTlBIjoiRUNGQSIsCiAgICAiNzlBNyI6IkVDRkIiLAogICAgIjc5QjMiOiJFQ0ZDIiwKICAgICI3OUI5IjoiRDNFRCIsCiAgICAiNzlCQSI6IkQ4QUUiLAogICAgIjc5QkIiOiJDMEVCIiwKICAgICI3OUJEIjoiQzdERCIsCiAgICAiNzlCRSI6IkJBQ0MiLAogICAgIjc5QzAiOiJEMEUzIiwKICAgICI3OUMxIjoiQ0JCRCIsCiAgICAiNzlDMyI6IkNEQkEiLAogICAgIjc5QzYiOiJCOEQxIiwKICAgICI3OUM5IjoiQjFGQyIsCiAgICAiNzlDQiI6IkM3RUYiLAogICAgIjc5Q0QiOiJENkQ2IiwKICAgICI3OUQxIjoiQkZDNiIsCiAgICAiNzlEMiI6IkMzRUIiLAogICAgIjc5RDUiOiJFRkY1IiwKICAgICI3OUQ4IjoiQzNEOCIsCiAgICAiNzlERiI6IkQ3RTIiLAogICAgIjc5RTMiOiJFRkY3IiwKICAgICI3OUU0IjoiQjNEMyIsCiAgICAiNzlFNiI6IkM3RDgiLAogICAgIjc5RTciOiJEMUVEIiwKICAgICI3OUU5IjoiRDZDOCIsCiAgICAiNzlFQiI6IkVGRjgiLAogICAgIjc5RUQiOiJFRkY2IiwKICAgICI3OUVGIjoiQkJGRCIsCiAgICAiNzlGMCI6IkIzQzYiLAogICAgIjc5RjgiOiJCREQ1IiwKICAgICI3OUZCIjoiRDJDNiIsCiAgICAiNzlGRCI6IkJCRTAiLAogICAgIjdBMDAiOiJDRkExIiwKICAgICI3QTAyIjoiRUZGQyIsCiAgICAiN0EwMyI6IkVGRkIiLAogICAgIjdBMDYiOiJFRkY5IiwKICAgICI3QTBCIjoiQjNDQyIsCiAgICAiN0EwRCI6IkM5RDQiLAogICAgIjdBMEUiOiJDQkIwIiwKICAgICI3QTE0IjoiRUZGRSIsCiAgICAiN0ExNyI6IkIwREUiLAogICAgIjdBMUEiOiJENkM5IiwKICAgICI3QTFFIjoiRUZGRCIsCiAgICAiN0EyMCI6IkIzRUQiLAogICAgIjdBMjMiOiJGNkQ1IiwKICAgICI3QTMzIjoiQ0VDOCIsCiAgICAiN0EzNyI6IkYwQTIiLAogICAgIjdBMzkiOiJGMEExIiwKICAgICI3QTNCIjoiQjVCRSIsCiAgICAiN0EzQyI6IkJDREEiLAogICAgIjdBM0QiOiJCQkZDIiwKICAgICI3QTNGIjoiQjhFNSIsCiAgICAiN0E0NiI6IkM0QzIiLAogICAgIjdBNTEiOiJGMEEzIiwKICAgICI3QTU3IjoiQ0JFQiIsCiAgICAiN0E3MCI6IkYwQTYiLAogICAgIjdBNzQiOiJEMUE4IiwKICAgICI3QTc2IjoiQkVCRiIsCiAgICAiN0E3NyI6IkM3RUUiLAogICAgIjdBNzgiOiJGMUI2IiwKICAgICI3QTc5IjoiRjFCNyIsCiAgICAiN0E3QSI6IkJGRDUiLAogICAgIjdBN0YiOiJCNEE5IiwKICAgICI3QTgwIjoiRjFCOCIsCiAgICAiN0E4MSI6IkNEQkIiLAogICAgIjdBODMiOiJDN0Q0IiwKICAgICI3QTg0IjoiRDVBRCIsCiAgICAiN0E4NiI6IkYxQjkiLAogICAgIjdBODgiOiJGMUJBIiwKICAgICI3QThEIjoiQzdDRiIsCiAgICAiN0E5MSI6IkQyQTQiLAogICAgIjdBOTIiOiJENkNGIiwKICAgICI3QTk1IjoiRjFCQiIsCiAgICAiN0E5NiI6IkJERDEiLAogICAgIjdBOTciOiJCNEIwIiwKICAgICI3QTk4IjoiQkVCRCIsCiAgICAiN0E5QyI6IkI0REMiLAogICAgIjdBOUQiOiJDRUQxIiwKICAgICI3QTlGIjoiQkZERiIsCiAgICAiN0FBMCI6IkYxQkQiLAogICAgIjdBQTUiOiJCRkZBIiwKICAgICI3QUE2IjoiRjFCQyIsCiAgICAiN0FBOCI6IkYxQkYiLAogICAgIjdBQUMiOiJGMUJFIiwKICAgICI3QUFEIjoiRjFDMCIsCiAgICAiN0FCMyI6IkYxQzEiLAogICAgIjdBQkYiOiJDMUZFIiwKICAgICI3QUNCIjoiQzFBMiIsCiAgICAiN0FENiI6IkNBRkEiLAogICAgIjdBRDkiOiJENUJFIiwKICAgICI3QURFIjoiQkVCQSIsCiAgICAiN0FERiI6IkJFQjkiLAogICAgIjdBRTAiOiJENUMyIiwKICAgICI3QUUzIjoiQkZBMiIsCiAgICAiN0FFNSI6IkNEQUYiLAogICAgIjdBRTYiOiJGMUI1IiwKICAgICI3QUVEIjoiQkRERiIsCiAgICAiN0FFRiI6IkI2Q0IiLAogICAgIjdBRjkiOiJENkYxIiwKICAgICI3QUZBIjoiRjNDMyIsCiAgICAiN0FGRCI6IkYzQzQiLAogICAgIjdBRkYiOiJCOENEIiwKICAgICI3QjAzIjoiRjNDNiIsCiAgICAiN0IwNCI6IkYzQzciLAogICAgIjdCMDYiOiJCMENBIiwKICAgICI3QjA4IjoiRjNDNSIsCiAgICAiN0IwQSI6IkYzQzkiLAogICAgIjdCMEIiOiJDQkYxIiwKICAgICI3QjBGIjoiRjNDQiIsCiAgICAiN0IxMSI6IkQwQTYiLAogICAgIjdCMTQiOiJCMUNBIiwKICAgICI3QjE1IjoiRjNDOCIsCiAgICAiN0IxOSI6IkYzQ0YiLAogICAgIjdCMUIiOiJCNUQxIiwKICAgICI3QjFFIjoiRjNENyIsCiAgICAiN0IyMCI6IkYzRDIiLAogICAgIjdCMjQiOiJGM0Q0IiwKICAgICI3QjI1IjoiRjNEMyIsCiAgICAiN0IyNiI6IkI3RkIiLAogICAgIjdCMjgiOiJCMUJGIiwKICAgICI3QjJBIjoiRjNDRSIsCiAgICAiN0IyQiI6IkYzQ0EiLAogICAgIjdCMkMiOiJCNURBIiwKICAgICI3QjJFIjoiRjNEMCIsCiAgICAiN0IzMSI6IkYzRDEiLAogICAgIjdCMzMiOiJGM0Q1IiwKICAgICI3QjM4IjoiRjNDRCIsCiAgICAiN0IzQSI6IkJDRTMiLAogICAgIjdCM0MiOiJDMUZEIiwKICAgICI3QjNFIjoiRjNENiIsCiAgICAiN0I0NSI6IkYzREEiLAogICAgIjdCNDciOiJGM0NDIiwKICAgICI3QjQ5IjoiQjVDOCIsCiAgICAiN0I0QiI6IkJERUUiLAogICAgIjdCNEMiOiJGM0RDIiwKICAgICI3QjRGIjoiQjdBNCIsCiAgICAiN0I1MCI6IkJGRjAiLAogICAgIjdCNTEiOiJENkZFIiwKICAgICI3QjUyIjoiQ0RCMiIsCiAgICAiN0I1NCI6IkI0RjAiLAogICAgIjdCNTYiOiJCMkRGIiwKICAgICI3QjU4IjoiRjNEOCIsCiAgICAiN0I1QSI6IkYzRDkiLAogICAgIjdCNUIiOiJDOUI4IiwKICAgICI3QjVEIjoiRjNERCIsCiAgICAiN0I2MCI6IkYzREUiLAogICAgIjdCNjIiOiJGM0UxIiwKICAgICI3QjZFIjoiRjNERiIsCiAgICAiN0I3MSI6IkYzRTMiLAogICAgIjdCNzIiOiJGM0UyIiwKICAgICI3Qjc1IjoiRjNEQiIsCiAgICAiN0I3NyI6IkJGRUEiLAogICAgIjdCNzkiOiJCM0VGIiwKICAgICI3QjdCIjoiRjNFMCIsCiAgICAiN0I3RSI6IkM3QTkiLAogICAgIjdCODAiOiJCQ0YyIiwKICAgICI3Qjg1IjoiRjNFQiIsCiAgICAiN0I4RCI6IkI5QkYiLAogICAgIjdCOTAiOiJGM0U0IiwKICAgICI3Qjk0IjoiQjJBRCIsCiAgICAiN0I5NSI6IkJCRkUiLAogICAgIjdCOTciOiJDQkUzIiwKICAgICI3QjlDIjoiRjNFRCIsCiAgICAiN0I5RCI6IkYzRTkiLAogICAgIjdCQTEiOiJCOURDIiwKICAgICI3QkEyIjoiRjNFRSIsCiAgICAiN0JBNiI6IkYzRTUiLAogICAgIjdCQTciOiJGM0U2IiwKICAgICI3QkE4IjoiRjNFQSIsCiAgICAiN0JBOSI6IkMyRTEiLAogICAgIjdCQUEiOiJGM0VDIiwKICAgICI3QkFCIjoiRjNFRiIsCiAgICAiN0JBQyI6IkYzRTgiLAogICAgIjdCQUQiOiJCQ0ZEIiwKICAgICI3QkIxIjoiQ0ZFNCIsCiAgICAiN0JCNCI6IkYzRjAiLAogICAgIjdCQjgiOiJGM0U3IiwKICAgICI3QkMxIjoiRjNGMiIsCiAgICAiN0JDNiI6IkQ3QUQiLAogICAgIjdCQzciOiJDNkFBIiwKICAgICI3QkNDIjoiRjNGMyIsCiAgICAiN0JEMSI6IkYzRjEiLAogICAgIjdCRDMiOiJDMkE4IiwKICAgICI3QkQ5IjoiQjhERCIsCiAgICAiN0JEQSI6IkYzRjUiLAogICAgIjdCREQiOiJGM0Y0IiwKICAgICI3QkUxIjoiQjREQiIsCiAgICAiN0JFNSI6IkYzRjYiLAogICAgIjdCRTYiOiJGM0Y3IiwKICAgICI3QkVBIjoiRjNGOCIsCiAgICAiN0JFRSI6IkMwQkEiLAogICAgIjdCRjEiOiJDMEU5IiwKICAgICI3QkY3IjoiQzVGMSIsCiAgICAiN0JGQyI6IkYzRkIiLAogICAgIjdCRkUiOiJGM0ZBIiwKICAgICI3QzA3IjoiQjREOCIsCiAgICAiN0MwQiI6IkYzRkUiLAogICAgIjdDMEMiOiJGM0Y5IiwKICAgICI3QzBGIjoiRjNGQyIsCiAgICAiN0MxNiI6IkYzRkQiLAogICAgIjdDMUYiOiJGNEExIiwKICAgICI3QzI2IjoiRjRBMyIsCiAgICAiN0MyNyI6IkJCQzkiLAogICAgIjdDMkEiOiJGNEEyIiwKICAgICI3QzM4IjoiRjRBNCIsCiAgICAiN0MzRiI6IkIyQkUiLAogICAgIjdDNDAiOiJGNEE2IiwKICAgICI3QzQxIjoiRjRBNSIsCiAgICAiN0M0RCI6IkJDQUUiLAogICAgIjdDNzMiOiJDM0Q3IiwKICAgICI3Qzc0IjoiRDlFMSIsCiAgICAiN0M3QiI6IkMwRTAiLAogICAgIjdDN0MiOiJGNENDIiwKICAgICI3QzdEIjoiRDdEMSIsCiAgICAiN0M4OSI6IkI3REIiLAogICAgIjdDOTEiOiJGNENFIiwKICAgICI3QzkyIjoiQzFBMyIsCiAgICAiN0M5NSI6IkM2QzkiLAogICAgIjdDOTciOiJCNEQ2IiwKICAgICI3Qzk4IjoiRDVCMyIsCiAgICAiN0M5QyI6IkY0RDAiLAogICAgIjdDOUQiOiJGNENGIiwKICAgICI3QzlFIjoiRjREMSIsCiAgICAiN0M5RiI6IkNCREEiLAogICAgIjdDQTIiOiJGNEQyIiwKICAgICI3Q0E0IjoiRDRDMSIsCiAgICAiN0NBNSI6IkQ2RTAiLAogICAgIjdDQUEiOiJCN0UwIiwKICAgICI3Q0FFIjoiQzFCOCIsCiAgICAiN0NCMSI6IkMxQkIiLAogICAgIjdDQjIiOiJGNEQzIiwKICAgICI3Q0IzIjoiQkVBQyIsCiAgICAiN0NCOSI6IkI0RTIiLAogICAgIjdDQkMiOiJGNEQ0IiwKICAgICI3Q0JEIjoiRjRENSIsCiAgICAiN0NCRSI6IkJFQUIiLAogICAgIjdDQzEiOiJGNEQ2IiwKICAgICI3Q0M1IjoiRjREQiIsCiAgICAiN0NDNyI6IkY0RDciLAogICAgIjdDQzgiOiJGNERBIiwKICAgICI3Q0NBIjoiQkFGRCIsCiAgICAiN0NDQyI6IkY0RDgiLAogICAgIjdDQ0QiOiJGNEQ5IiwKICAgICI3Q0Q1IjoiQjhFMiIsCiAgICAiN0NENiI6IkNDQzciLAogICAgIjdDRDciOiJGNERDIiwKICAgICI3Q0Q5IjoiQjJEQSIsCiAgICAiN0NEQyI6IkMzRDMiLAogICAgIjdDREYiOiJENEUzIiwKICAgICI3Q0UwIjoiQkZCNyIsCiAgICAiN0NFOCI6IkY0REQiLAogICAgIjdDRUYiOiJDNUI0IiwKICAgICI3Q0Y4IjoiRjRFOSIsCiAgICAiN0NGQiI6IkNGQjUiLAogICAgIjdEMEEiOiJDRUM5IiwKICAgICI3RDIwIjoiQ0JEOCIsCiAgICAiN0QyMiI6IkNCRjciLAogICAgIjdEMjciOiJCREY0IiwKICAgICI3RDJCIjoiRDdDRiIsCiAgICAiN0QyRiI6IkMwREIiLAogICAgIjdENkUiOiJEMEY1IiwKICAgICI3RDc3IjoiRjRFQSIsCiAgICAiN0RBNiI6IkY0RUIiLAogICAgIjdEQUUiOiJGNEVDIiwKICAgICI3RTNCIjoiRjdFMyIsCiAgICAiN0U0MSI6IkI3QjEiLAogICAgIjdFNDciOiJGNEVEIiwKICAgICI3RTgyIjoiRDdFQiIsCiAgICAiN0U5QiI6IkY0RUUiLAogICAgIjdFOUYiOiJFNkY5IiwKICAgICI3RUEwIjoiQkVDMCIsCiAgICAiN0VBMSI6IkU2RkEiLAogICAgIjdFQTIiOiJCQUVDIiwKICAgICI3RUEzIjoiRTZGQiIsCiAgICAiN0VBNCI6IkNGQ0IiLAogICAgIjdFQTUiOiJFNkZDIiwKICAgICI3RUE2IjoiRDRCQyIsCiAgICAiN0VBNyI6IkJDQjYiLAogICAgIjdFQTgiOiJFNkZEIiwKICAgICI3RUE5IjoiRTZGRSIsCiAgICAiN0VBQSI6IkJDQ0QiLAogICAgIjdFQUIiOiJDOEQyIiwKICAgICI3RUFDIjoiQ0VCMyIsCiAgICAiN0VBRCI6IkU3QTEiLAogICAgIjdFQUYiOiJCNEJGIiwKICAgICI3RUIwIjoiRTdBMiIsCiAgICAiN0VCMSI6IkM5QjQiLAogICAgIjdFQjIiOiJCOEQ5IiwKICAgICI3RUIzIjoiQzRDOSIsCiAgICAiN0VCNSI6IkQ3REQiLAogICAgIjdFQjYiOiJDMkRBIiwKICAgICI3RUI3IjoiQjdENyIsCiAgICAiN0VCOCI6IkQ2QkQiLAogICAgIjdFQjkiOiJDRUM2IiwKICAgICI3RUJBIjoiQjdDNCIsCiAgICAiN0VCRCI6IkM1QTYiLAogICAgIjdFQkUiOiJFN0EzIiwKICAgICI3RUJGIjoiQ0ZERiIsCiAgICAiN0VDMCI6IkU3QTQiLAogICAgIjdFQzEiOiJFN0E1IiwKICAgICI3RUMyIjoiRTdBNiIsCiAgICAiN0VDMyI6IkMxQjciLAogICAgIjdFQzQiOiJEN0U5IiwKICAgICI3RUM1IjoiQzlGMCIsCiAgICAiN0VDNiI6IkNGQjgiLAogICAgIjdFQzciOiJENkFGIiwKICAgICI3RUM4IjoiRDZENSIsCiAgICAiN0VDOSI6IkU3QTciLAogICAgIjdFQ0EiOiJCMEVEIiwKICAgICI3RUNCIjoiRTdBOCIsCiAgICAiN0VDQyI6IkU3QTkiLAogICAgIjdFQ0QiOiJDOURDIiwKICAgICI3RUNFIjoiRDJFRiIsCiAgICAiN0VDRiI6IkJFQUQiLAogICAgIjdFRDAiOiJFN0FBIiwKICAgICI3RUQxIjoiQjBGMyIsCiAgICAiN0VEMiI6IkM4REUiLAogICAgIjdFRDMiOiJCREUxIiwKICAgICI3RUQ0IjoiRTdBQiIsCiAgICAiN0VENSI6IkM4QzYiLAogICAgIjdFRDciOiJFN0FDIiwKICAgICI3RUQ4IjoiQkJFNiIsCiAgICAiN0VEOSI6IkI4RjgiLAogICAgIjdFREEiOiJEMUE0IiwKICAgICI3RURCIjoiRTdBRCIsCiAgICAiN0VEQyI6IkMyRTciLAogICAgIjdFREQiOiJCRUY4IiwKICAgICI3RURFIjoiQkRDQSIsCiAgICAiN0VERiI6IkNEQjMiLAogICAgIjdFRTAiOiJFN0FFIiwKICAgICI3RUUxIjoiRTdBRiIsCiAgICAiN0VFMiI6IkJFRUUiLAogICAgIjdFRTMiOiJEMEU1IiwKICAgICI3RUU1IjoiQ0JFNyIsCiAgICAiN0VFNiI6IkNDRDAiLAogICAgIjdFRTciOiJCQ0NDIiwKICAgICI3RUU4IjoiRTdCMCIsCiAgICAiN0VFOSI6IkJDQTgiLAogICAgIjdFRUEiOiJEMEY3IiwKICAgICI3RUVCIjoiRTdCMSIsCiAgICAiN0VFRCI6IkQwRjgiLAogICAgIjdFRUUiOiJFN0IyIiwKICAgICI3RUVGIjoiRTdCMyIsCiAgICAiN0VGMCI6IkI0QzIiLAogICAgIjdFRjEiOiJFN0I0IiwKICAgICI3RUYyIjoiRTdCNSIsCiAgICAiN0VGMyI6IkM5RkUiLAogICAgIjdFRjQiOiJDRUFDIiwKICAgICI3RUY1IjoiQzNFMCIsCiAgICAiN0VGNiI6IkU3QjciLAogICAgIjdFRjciOiJCMUMxIiwKICAgICI3RUY4IjoiQjNGMSIsCiAgICAiN0VGQSI6IkU3QjgiLAogICAgIjdFRkIiOiJFN0I5IiwKICAgICI3RUZDIjoiRDdEQiIsCiAgICAiN0VGRCI6IkQ1QzAiLAogICAgIjdFRkUiOiJFN0JBIiwKICAgICI3RUZGIjoiQzJDQyIsCiAgICAiN0YwMCI6IkQ3QkEiLAogICAgIjdGMDEiOiJFN0JCIiwKICAgICI3RjAyIjoiRTdCQyIsCiAgICAiN0YwMyI6IkU3QkQiLAogICAgIjdGMDQiOiJCQ0VBIiwKICAgICI3RjA1IjoiQzNFNSIsCiAgICAiN0YwNiI6IkMwQzIiLAogICAgIjdGMDciOiJFN0JFIiwKICAgICI3RjA4IjoiRTdCRiIsCiAgICAiN0YwOSI6IkJDQTkiLAogICAgIjdGMEIiOiJFN0MwIiwKICAgICI3RjBDIjoiRTdDMSIsCiAgICAiN0YwRCI6IkU3QjYiLAogICAgIjdGMEUiOiJCNkQwIiwKICAgICI3RjBGIjoiRTdDMiIsCiAgICAiN0YxMSI6IkU3QzMiLAogICAgIjdGMTIiOiJFN0M0IiwKICAgICI3RjEzIjoiQkJCQSIsCiAgICAiN0YxNCI6IkI1REUiLAogICAgIjdGMTUiOiJDMkM2IiwKICAgICI3RjE2IjoiQjFFMCIsCiAgICAiN0YxNyI6IkU3QzUiLAogICAgIjdGMTgiOiJENEI1IiwKICAgICI3RjE5IjoiRTdDNiIsCiAgICAiN0YxQSI6IkI4QkYiLAogICAgIjdGMUIiOiJFN0M4IiwKICAgICI3RjFDIjoiRTdDNyIsCiAgICAiN0YxRCI6IkI3RUMiLAogICAgIjdGMUYiOiJFN0M5IiwKICAgICI3RjIwIjoiQjJGOCIsCiAgICAiN0YyMSI6IkU3Q0EiLAogICAgIjdGMjIiOiJFN0NCIiwKICAgICI3RjIzIjoiRTdDQyIsCiAgICAiN0YyNCI6IkU3Q0QiLAogICAgIjdGMjUiOiJFN0NFIiwKICAgICI3RjI2IjoiRTdDRiIsCiAgICAiN0YyNyI6IkU3RDAiLAogICAgIjdGMjgiOiJEM0E3IiwKICAgICI3RjI5IjoiQ0JGNSIsCiAgICAiN0YyQSI6IkU3RDEiLAogICAgIjdGMkIiOiJFN0QyIiwKICAgICI3RjJDIjoiRTdEMyIsCiAgICAiN0YyRCI6IkU3RDQiLAogICAgIjdGMkUiOiJDOUM5IiwKICAgICI3RjJGIjoiRTdENSIsCiAgICAiN0YzMCI6IkU3RDYiLAogICAgIjdGMzEiOiJFN0Q3IiwKICAgICI3RjMyIjoiRTdEOCIsCiAgICAiN0YzMyI6IkU3RDkiLAogICAgIjdGMzQiOiJCREM5IiwKICAgICI3RjM1IjoiRTdEQSIsCiAgICAiN0YzNiI6IkYzQkUiLAogICAgIjdGMzgiOiJCOEQ3IiwKICAgICI3RjNBIjoiQzhCMSIsCiAgICAiN0Y0MiI6IkYzQkYiLAogICAgIjdGNDQiOiJGM0MwIiwKICAgICI3RjQ1IjoiRjNDMSIsCiAgICAiN0Y1MCI6IkI5REUiLAogICAgIjdGNTEiOiJDREY4IiwKICAgICI3RjU0IjoiRDhFOCIsCiAgICAiN0Y1NSI6IkJBQjEiLAogICAgIjdGNTciOiJDMkRFIiwKICAgICI3RjU4IjoiRUVCNyIsCiAgICAiN0Y1QSI6IkI3QTMiLAogICAgIjdGNUYiOiJFRUI5IiwKICAgICI3RjYxIjoiRUVCOCIsCiAgICAiN0Y2MiI6IkIwRDUiLAogICAgIjdGNjgiOiJFRUJCIiwKICAgICI3RjY5IjoiRDVENiIsCiAgICAiN0Y2QSI6IkQ3RUYiLAogICAgIjdGNkUiOiJENkMzIiwKICAgICI3RjcxIjoiRUVCRCIsCiAgICAiN0Y3MiI6IkNBRjAiLAogICAgIjdGNzQiOiJFRUJDIiwKICAgICI3Rjc5IjoiRUVCRSIsCiAgICAiN0Y3RSI6IkVFQzAiLAogICAgIjdGODEiOiJFRUJGIiwKICAgICI3RjhBIjoiRDFGMiIsCiAgICAiN0Y4QyI6IkM3QkMiLAogICAgIjdGOEUiOiJDM0MwIiwKICAgICI3Rjk0IjoiQjhFMSIsCiAgICAiN0Y5QSI6IkMxRTciLAogICAgIjdGOUQiOiJGNEM2IiwKICAgICI3RjlFIjoiRDBERiIsCiAgICAiN0Y5RiI6IkY0QzciLAogICAgIjdGQTEiOiJDRkRCIiwKICAgICI3RkE0IjoiQzhCQSIsCiAgICAiN0ZBNyI6IkY0QzgiLAogICAgIjdGQUYiOiJGNEM5IiwKICAgICI3RkIwIjoiRjRDQSIsCiAgICAiN0ZCMiI6IkY0Q0IiLAogICAgIjdGQjgiOiJEOUZBIiwKICAgICI3RkI5IjoiQjhGRSIsCiAgICAiN0ZCQyI6IkU1RjEiLAogICAgIjdGQkQiOiJEM0YwIiwKICAgICI3RkJGIjoiRjRFMCIsCiAgICAiN0ZDMSI6IkNFQ0MiLAogICAgIjdGQzUiOiJCM0UxIiwKICAgICI3RkNBIjoiRjFCNCIsCiAgICAiN0ZDQyI6IkQyRUUiLAogICAgIjdGQ0UiOiJGNEUxIiwKICAgICI3RkQ0IjoiQ0ZFOCIsCiAgICAiN0ZENSI6IkY0RTIiLAogICAgIjdGRDgiOiJDN0NDIiwKICAgICI3RkRGIjoiQjVENCIsCiAgICAiN0ZFMCI6IkI0RTQiLAogICAgIjdGRTEiOiJGNEU0IiwKICAgICI3RkU1IjoiRjRFMyIsCiAgICAiN0ZFNiI6IkY0RTUiLAogICAgIjdGRTkiOiJGNEU2IiwKICAgICI3RkVFIjoiRjRFNyIsCiAgICAiN0ZGMCI6IkJBQjIiLAogICAgIjdGRjEiOiJCMEJGIiwKICAgICI3RkYzIjoiRjRFOCIsCiAgICAiN0ZGQiI6IkI3QUQiLAogICAgIjdGRkMiOiJEMkVEIiwKICAgICI4MDAwIjoiRDJBQiIsCiAgICAiODAwMSI6IkMwQ0YiLAogICAgIjgwMDMiOiJCRkJDIiwKICAgICI4MDA0IjoiRUJBMyIsCiAgICAiODAwNSI6IkQ1REYiLAogICAgIjgwMDYiOiJFQUM4IiwKICAgICI4MDBCIjoiRjFGMyIsCiAgICAiODAwQyI6IkI2RjgiLAogICAgIjgwMEQiOiJDQkEzIiwKICAgICI4MDEwIjoiQzRDRCIsCiAgICAiODAxMiI6IkYxRTciLAogICAgIjgwMTQiOiJGMUU4IiwKICAgICI4MDE1IjoiQjhGQiIsCiAgICAiODAxNiI6IkYxRTkiLAogICAgIjgwMTciOiJCQUM0IiwKICAgICI4MDE4IjoiRDRDNSIsCiAgICAiODAxOSI6IkIwRDIiLAogICAgIjgwMUMiOiJGMUVBIiwKICAgICI4MDIwIjoiRjFFQiIsCiAgICAiODAyMiI6IkYxRUMiLAogICAgIjgwMjUiOiJGMUVEIiwKICAgICI4MDI2IjoiRjFFRSIsCiAgICAiODAyNyI6IkYxRUYiLAogICAgIjgwMjgiOiJGMUYxIiwKICAgICI4MDI5IjoiRjFGMCIsCiAgICAiODAyQSI6IkM1RDUiLAogICAgIjgwMzEiOiJGMUYyIiwKICAgICI4MDMzIjoiQjZGQSIsCiAgICAiODAzNSI6IkYxRjQiLAogICAgIjgwMzYiOiJEMkFFIiwKICAgICI4MDM3IjoiREVDNyIsCiAgICAiODAzOCI6IkNCQ0EiLAogICAgIjgwM0IiOiJCM0RDIiwKICAgICI4MDNEIjoiQjVBMiIsCiAgICAiODAzRiI6IkI5QTIiLAogICAgIjgwNDIiOiJDNEY0IiwKICAgICI4MDQzIjoiRjFGNSIsCiAgICAiODA0NiI6IkYxRjYiLAogICAgIjgwNEEiOiJDMUM0IiwKICAgICI4MDRCIjoiQzFGQiIsCiAgICAiODA0QyI6IkQ2QjAiLAogICAgIjgwNEQiOiJGMUY3IiwKICAgICI4MDUyIjoiRjFGOCIsCiAgICAiODA1NCI6IkMxQUEiLAogICAgIjgwNTgiOiJDNkI4IiwKICAgICI4MDVBIjoiQkVEQiIsCiAgICAiODA2OSI6IkYxRjkiLAogICAgIjgwNkEiOiJCNENGIiwKICAgICI4MDcxIjoiRjFGQSIsCiAgICAiODA3RiI6IkVEQjIiLAogICAgIjgwODAiOiJFREIxIiwKICAgICI4MDgzIjoiQ0JFMCIsCiAgICAiODA4NCI6IkQyREUiLAogICAgIjgwODYiOiJDQkMxIiwKICAgICI4MDg3IjoiRDVEOCIsCiAgICAiODA4OSI6IkM4RTIiLAogICAgIjgwOEIiOiJDMERGIiwKICAgICI4MDhDIjoiQkNBMSIsCiAgICAiODA5MyI6IkVCQzEiLAogICAgIjgwOTYiOiJEMEE0IiwKICAgICI4MDk4IjoiRDZFMiIsCiAgICAiODA5QSI6IkI2QzciLAogICAgIjgwOUIiOiJCOEQ4IiwKICAgICI4MDlDIjoiRUJDMCIsCiAgICAiODA5RCI6IkI4Q0UiLAogICAgIjgwOUYiOiJFQkJGIiwKICAgICI4MEEwIjoiQjNBNiIsCiAgICAiODBBMSI6IkI5QzkiLAogICAgIjgwQTIiOiJENkFCIiwKICAgICI4MEE0IjoiQjdGNCIsCiAgICAiODBBNSI6IkI3Q0EiLAogICAgIjgwQTkiOiJCQ0U3IiwKICAgICI4MEFBIjoiQjdCRSIsCiAgICAiODBBQiI6IkVCQzYiLAogICAgIjgwQUQiOiJFQkM3IiwKICAgICI4MEFFIjoiQjBCOSIsCiAgICAiODBBRiI6IkJGQ0YiLAogICAgIjgwQjEiOiJFQkM1IiwKICAgICI4MEIyIjoiRDNGRCIsCiAgICAiODBCNCI6IkVCQzgiLAogICAgIjgwQjciOiJFQkM5IiwKICAgICI4MEJBIjoiQjdDRSIsCiAgICAiODBCQyI6IkVCQzIiLAogICAgIjgwQkQiOiJFQkM0IiwKICAgICI4MEJFIjoiQzlGNiIsCiAgICAiODBCRiI6IkQ2RDciLAogICAgIjgwQzAiOiJENUNEIiwKICAgICI4MEMxIjoiRDBCMiIsCiAgICAiODBDMiI6IkVCQ0YiLAogICAgIjgwQzMiOiJDRUI4IiwKICAgICI4MEM0IjoiRUJEMCIsCiAgICAiODBDNiI6IkI1QTgiLAogICAgIjgwQ0MiOiJCMUIzIiwKICAgICI4MENEIjoiRUJEMiIsCiAgICAiODBDRSI6IkNDQTUiLAogICAgIjgwRDYiOiJDNUQ2IiwKICAgICI4MEQ3IjoiRUJEMyIsCiAgICAiODBEOSI6IkVCRDEiLAogICAgIjgwREEiOiJDNURGIiwKICAgICI4MERCIjoiRUJDRSIsCiAgICAiODBEQyI6IkNBQTQiLAogICAgIjgwREQiOiJFQkQ1IiwKICAgICI4MERFIjoiQjBGQiIsCiAgICAiODBFMSI6IkJBRkEiLAogICAgIjgwRTQiOiJEOEI3IiwKICAgICI4MEU1IjoiRjFFMyIsCiAgICAiODBFNyI6IkVCQ0EiLAogICAgIjgwRTgiOiJFQkNCIiwKICAgICI4MEU5IjoiRUJDQyIsCiAgICAiODBFQSI6IkVCQ0QiLAogICAgIjgwRUIiOiJFQkQ2IiwKICAgICI4MEVDIjoiRTZDMCIsCiAgICAiODBFRCI6IkVCRDkiLAogICAgIjgwRUYiOiJCRkU4IiwKICAgICI4MEYwIjoiRDJDOCIsCiAgICAiODBGMSI6IkVCRDciLAogICAgIjgwRjIiOiJFQkRDIiwKICAgICI4MEYzIjoiQjhFQyIsCiAgICAiODBGNCI6IkVCRDgiLAogICAgIjgwRjYiOiJCREJBIiwKICAgICI4MEY4IjoiRDBEOCIsCiAgICAiODBGQSI6IkIwQjciLAogICAgIjgwRkMiOiJFQkREIiwKICAgICI4MEZEIjoiQzREQyIsCiAgICAiODEwMiI6IkQ2QUMiLAogICAgIjgxMDYiOiJCNEUwIiwKICAgICI4MTA5IjoiQzJGNiIsCiAgICAiODEwQSI6IkJDQjkiLAogICAgIjgxMEQiOiJFQkRBIiwKICAgICI4MTBFIjoiRUJEQiIsCiAgICAiODEwRiI6IkQ0RTAiLAogICAgIjgxMTAiOiJDNkVBIiwKICAgICI4MTExIjoiQzRENCIsCiAgICAiODExMiI6IkVCREYiLAogICAgIjgxMTMiOiJDNUE3IiwKICAgICI4MTE0IjoiRDlGNSIsCiAgICAiODExNiI6IkIyQjEiLAogICAgIjgxMTgiOiJFQkU0IiwKICAgICI4MTFBIjoiQkRDNSIsCiAgICAiODExRSI6IkVCRTIiLAogICAgIjgxMkMiOiJFQkUzIiwKICAgICI4MTJGIjoiQjhBQyIsCiAgICAiODEzMSI6IkNERDEiLAogICAgIjgxMzIiOiJFQkU1IiwKICAgICI4MTM2IjoiRUJFMSIsCiAgICAiODEzOCI6IkMxQjMiLAogICAgIjgxM0UiOiJDNkEyIiwKICAgICI4MTQ2IjoiQ0NGMyIsCiAgICAiODE0OCI6IkVCRTYiLAogICAgIjgxNEEiOiJDMEIwIiwKICAgICI4MTRCIjoiRDJCOCIsCiAgICAiODE0QyI6IkVCRTciLAogICAgIjgxNTAiOiJCOEFGIiwKICAgICI4MTUxIjoiQjhBRCIsCiAgICAiODE1MyI6IkVCRTgiLAogICAgIjgxNTQiOiJDN0JCIiwKICAgICI4MTU1IjoiQ0RGMyIsCiAgICAiODE1OSI6IkVCRUEiLAogICAgIjgxNUEiOiJFQkVCIiwKICAgICI4MTYwIjoiRUJFRCIsCiAgICAiODE2NSI6IkQwQzgiLAogICAgIjgxNjciOiJFQkYyIiwKICAgICI4MTY5IjoiRUJFRSIsCiAgICAiODE2RCI6IkVCRjEiLAogICAgIjgxNkUiOiJDOEY5IiwKICAgICI4MTcwIjoiRDFGQyIsCiAgICAiODE3MSI6IkVCRUMiLAogICAgIjgxNzQiOiJFQkU5IiwKICAgICI4MTc5IjoiQjhCOSIsCiAgICAiODE3QSI6IkNGRDkiLAogICAgIjgxN0IiOiJDNEU1IiwKICAgICI4MTdDIjoiRUJFRiIsCiAgICAiODE3RCI6IkVCRjAiLAogICAgIjgxN0UiOiJDQ0RBIiwKICAgICI4MTdGIjoiQ0RDOCIsCiAgICAiODE4MCI6IkIwRjIiLAogICAgIjgxODIiOiJFQkY2IiwKICAgICI4MTg4IjoiRUJGNSIsCiAgICAiODE4QSI6IkIyQjIiLAogICAgIjgxOEYiOiJCOEUwIiwKICAgICI4MTkxIjoiRUJGNyIsCiAgICAiODE5OCI6IkIxRUMiLAogICAgIjgxOUIiOiJDQ0M1IiwKICAgICI4MTlDIjoiQzRBNCIsCiAgICAiODE5RCI6IkNGQTUiLAogICAgIjgxQTMiOiJFQkY5IiwKICAgICI4MUE2IjoiRUNBMiIsCiAgICAiODFBOCI6IkM1RjIiLAogICAgIjgxQUEiOiJFQkZBIiwKICAgICI4MUIzIjoiQzlDNSIsCiAgICAiODFCQSI6IkUyREYiLAogICAgIjgxQkIiOiJFQkZFIiwKICAgICI4MUMwIjoiQ0RDRSIsCiAgICAiODFDMSI6IkVDQTEiLAogICAgIjgxQzIiOiJCMURCIiwKICAgICI4MUMzIjoiRDNCNyIsCiAgICAiODFDNiI6IkQyREMiLAogICAgIjgxQ0EiOiJFQkZEIiwKICAgICI4MUNDIjoiRUJGQiIsCiAgICAiODFFMyI6IkIzQkMiLAogICAgIjgxRTciOiJFQUIwIiwKICAgICI4MUVBIjoiRDdENCIsCiAgICAiODFFQyI6IkY0QUIiLAogICAgIjgxRUQiOiJCM0Y0IiwKICAgICI4MUYzIjoiRDZDMSIsCiAgICAiODFGNCI6IkQ2QzIiLAogICAgIjgxRkIiOiJENUU5IiwKICAgICI4MUZDIjoiQkVDQSIsCiAgICAiODFGRSI6IkY0QTciLAogICAgIjgyMDAiOiJEMkE4IiwKICAgICI4MjAxIjoiRjRBOCIsCiAgICAiODIwMiI6IkY0QTkiLAogICAgIjgyMDQiOiJGNEFBIiwKICAgICI4MjA1IjoiQkVDQiIsCiAgICAiODIwNiI6IkQzREYiLAogICAgIjgyMEMiOiJDOUUwIiwKICAgICI4MjBEIjoiQzlFMSIsCiAgICAiODIxMCI6IkYzQzIiLAogICAgIjgyMTIiOiJDQUU2IiwKICAgICI4MjE0IjoiQ0NGMiIsCiAgICAiODIxQiI6IkUyQjYiLAogICAgIjgyMUMiOiJDQkI0IiwKICAgICI4MjFFIjoiQ0VFOCIsCiAgICAiODIxRiI6IkQ2REIiLAogICAgIjgyMjEiOiJGNEFEIiwKICAgICI4MjIyIjoiRjRBRSIsCiAgICAiODIyMyI6IkY0QUYiLAogICAgIjgyMjgiOiJGNEIyIiwKICAgICI4MjJBIjoiQkFCRCIsCiAgICAiODIyQiI6IkY0QjMiLAogICAgIjgyMkMiOiJCMEUzIiwKICAgICI4MjJEIjoiRjRCMCIsCiAgICAiODIyRiI6IkY0QjEiLAogICAgIjgyMzAiOiJCREEyIiwKICAgICI4MjMxIjoiQjJENSIsCiAgICAiODIzMyI6IkY0QjYiLAogICAgIjgyMzQiOiJGNEI3IiwKICAgICI4MjM1IjoiQjZFNiIsCiAgICAiODIzNiI6IkIyQjAiLAogICAgIjgyMzciOiJDRkNGIiwKICAgICI4MjM4IjoiRjRCNCIsCiAgICAiODIzOSI6IkI0QUMiLAogICAgIjgyM0IiOiJGNEI1IiwKICAgICI4MjNFIjoiRjRCOCIsCiAgICAiODI0NCI6IkY0QjkiLAogICAgIjgyNDciOiJDREE3IiwKICAgICI4MjQ5IjoiRjRCQSIsCiAgICAiODI0QiI6IkY0QkIiLAogICAgIjgyNEYiOiJGNEJDIiwKICAgICI4MjU4IjoiQ0JEMiIsCiAgICAiODI1QSI6IkY0QkQiLAogICAgIjgyNUYiOiJGNEJFIiwKICAgICI4MjY4IjoiRjRCRiIsCiAgICAiODI2RSI6IkY0REUiLAogICAgIjgyNkYiOiJDMUJDIiwKICAgICI4MjcwIjoiQkNFOCIsCiAgICAiODI3MiI6IkM5QUIiLAogICAgIjgyNzMiOiJEMURFIiwKICAgICI4Mjc0IjoiRTVGNSIsCiAgICAiODI3OSI6IkRDQjMiLAogICAgIjgyN0EiOiJEMkQ1IiwKICAgICI4MjdEIjoiRENCNCIsCiAgICAiODI3RSI6IkIwQUMiLAogICAgIjgyN0YiOiJEQ0I1IiwKICAgICI4MjgyIjoiQkREQSIsCiAgICAiODI4NCI6IkRDQjkiLAogICAgIjgyODgiOiJEOEMyIiwKICAgICI4MjhBIjoiRENCNyIsCiAgICAiODI4QiI6IkQzRjMiLAogICAgIjgyOEQiOiJDOUQ2IiwKICAgICI4MjhFIjoiRENCQSIsCiAgICAiODI4RiI6IkRDQjYiLAogICAgIjgyOTEiOiJEQ0JCIiwKICAgICI4MjkyIjoiQzNBMiIsCiAgICAiODI5NyI6IkRDQkMiLAogICAgIjgyOTgiOiJEQ0M1IiwKICAgICI4Mjk5IjoiRENCRCIsCiAgICAiODI5QyI6IkNFREYiLAogICAgIjgyOUQiOiJENkE1IiwKICAgICI4MjlGIjoiRENDRiIsCiAgICAiODJBMSI6IkRDQ0QiLAogICAgIjgyQTQiOiJEQ0QyIiwKICAgICI4MkE1IjoiQkRFNiIsCiAgICAiODJBNiI6IkMyQUIiLAogICAgIjgyQTgiOiJEQ0I4IiwKICAgICI4MkE5IjoiRENDQiIsCiAgICAiODJBQSI6IkRDQ0UiLAogICAgIjgyQUIiOiJEQ0JFIiwKICAgICI4MkFDIjoiQjdEMiIsCiAgICAiODJBRCI6IkIwQzUiLAogICAgIjgyQUUiOiJEQ0M3IiwKICAgICI4MkFGIjoiRDBCRSIsCiAgICAiODJCMCI6IkRDQzEiLAogICAgIjgyQjEiOiJCQkE4IiwKICAgICI4MkIzIjoiQjdCQyIsCiAgICAiODJCNCI6IkRDQ0MiLAogICAgIjgyQjciOiJEQ0M2IiwKICAgICI4MkI4IjoiRENCRiIsCiAgICAiODJCOSI6IkM3REIiLAogICAgIjgyQkQiOiJEMUJGIiwKICAgICI4MkJFIjoiRENDMCIsCiAgICAiODJDMSI6IkRDQ0EiLAogICAgIjgyQzQiOiJEQ0QwIiwKICAgICI4MkM3IjoiQ0VBRCIsCiAgICAiODJDOCI6IkRDQzIiLAogICAgIjgyQ0EiOiJEQ0MzIiwKICAgICI4MkNCIjoiRENDOCIsCiAgICAiODJDQyI6IkRDQzkiLAogICAgIjgyQ0QiOiJCMkQ0IiwKICAgICI4MkNFIjoiRENEMSIsCiAgICAiODJDRiI6IkNCRDUiLAogICAgIjgyRDEiOiJENEI3IiwKICAgICI4MkQyIjoiRENEQiIsCiAgICAiODJEMyI6IkRDREYiLAogICAgIjgyRDQiOiJDQ0E2IiwKICAgICI4MkQ1IjoiRENFNiIsCiAgICAiODJENyI6IkMzRTciLAogICAgIjgyRDgiOiJEQ0RDIiwKICAgICI4MkRCIjoiQkZDMSIsCiAgICAiODJEQyI6IkRDRDkiLAogICAgIjgyREUiOiJCMEZBIiwKICAgICI4MkRGIjoiQjlCNiIsCiAgICAiODJFMCI6IkRDRTUiLAogICAgIjgyRTEiOiJEQ0QzIiwKICAgICI4MkUzIjoiRENDNCIsCiAgICAiODJFNCI6IkRDRDYiLAogICAgIjgyRTUiOiJDOEY0IiwKICAgICI4MkU2IjoiQkZFMCIsCiAgICAiODJFQiI6IkM5QkIiLAogICAgIjgyRUYiOiJCMUJEIiwKICAgICI4MkYxIjoiRDNBMiIsCiAgICAiODJGNCI6IkRDREEiLAogICAgIjgyRjciOiJEQ0Q1IiwKICAgICI4MkY5IjoiQzZCQiIsCiAgICAiODJGQiI6IkRDREUiLAogICAgIjgzMDEiOiJEN0MyIiwKICAgICI4MzAyIjoiQzNBRiIsCiAgICAiODMwMyI6IkI3QjYiLAogICAgIjgzMDQiOiJDN0QxIiwKICAgICI4MzA1IjoiQzNBOSIsCiAgICAiODMwNiI6IkRDRTIiLAogICAgIjgzMDciOiJEQ0Q4IiwKICAgICI4MzA4IjoiRENFQiIsCiAgICAiODMwOSI6IkRDRDQiLAogICAgIjgzMEMiOiJEQ0REIiwKICAgICI4MzBFIjoiQkVBNSIsCiAgICAiODMwRiI6IkRDRDciLAogICAgIjgzMTEiOiJEQ0UwIiwKICAgICI4MzE0IjoiRENFMyIsCiAgICAiODMxNSI6IkRDRTQiLAogICAgIjgzMTciOiJEQ0Y4IiwKICAgICI4MzFBIjoiRENFMSIsCiAgICAiODMxQiI6IkREQTIiLAogICAgIjgzMUMiOiJEQ0U3IiwKICAgICI4MzI3IjoiQkNFQiIsCiAgICAiODMyOCI6IkI0QzQiLAogICAgIjgzMkIiOiJDM0EzIiwKICAgICI4MzJDIjoiQjJFNyIsCiAgICAiODMyRCI6IkRDRkEiLAogICAgIjgzMkYiOiJEQ0YyIiwKICAgICI4MzMxIjoiRENFRiIsCiAgICAiODMzMyI6IkRDRkMiLAogICAgIjgzMzQiOiJEQ0VFIiwKICAgICI4MzM1IjoiRDJGMCIsCiAgICAiODMzNiI6IkIyRTgiLAogICAgIjgzMzgiOiJDOEQ3IiwKICAgICI4MzM5IjoiQzhFMyIsCiAgICAiODMzQSI6IkRDRkIiLAogICAgIjgzM0MiOiJEQ0VEIiwKICAgICI4MzQwIjoiRENGNyIsCiAgICAiODM0MyI6IkRDRjUiLAogICAgIjgzNDYiOiJCRUEzIiwKICAgICI4MzQ3IjoiRENGNCIsCiAgICAiODM0OSI6IkIyREQiLAogICAgIjgzNEYiOiJEQ0YzIiwKICAgICI4MzUwIjoiQkNGNiIsCiAgICAiODM1MSI6IkRDRTgiLAogICAgIjgzNTIiOiJCQkM0IiwKICAgICI4MzU0IjoiQzBGMyIsCiAgICAiODM1QSI6IkJDRDQiLAogICAgIjgzNUIiOiJEQ0U5IiwKICAgICI4MzVDIjoiRENFQSIsCiAgICAiODM1RSI6IkRDRjEiLAogICAgIjgzNUYiOiJEQ0Y2IiwKICAgICI4MzYwIjoiRENGOSIsCiAgICAiODM2MSI6IkI1QjQiLAogICAgIjgzNjMiOiJDOEQ5IiwKICAgICI4MzY0IjoiQkJFNyIsCiAgICAiODM2NSI6IkRDRkUiLAogICAgIjgzNjYiOiJEQ0ZEIiwKICAgICI4MzY3IjoiRDNBQiIsCiAgICAiODM2OCI6IkREQTEiLAogICAgIjgzNjkiOiJEREEzIiwKICAgICI4MzZBIjoiRERBNSIsCiAgICAiODM2QiI6IkQyRjEiLAogICAgIjgzNkMiOiJEREE0IiwKICAgICI4MzZEIjoiRERBNiIsCiAgICAiODM2RSI6IkREQTciLAogICAgIjgzNkYiOiJEMkE5IiwKICAgICI4Mzc3IjoiQkFDOSIsCiAgICAiODM3OCI6IkREQTkiLAogICAgIjgzN0IiOiJEREI2IiwKICAgICI4MzdDIjoiRERCMSIsCiAgICAiODM3RCI6IkREQjQiLAogICAgIjgzODUiOiJEREIwIiwKICAgICI4Mzg2IjoiQzZDRSIsCiAgICAiODM4OSI6IkMwRjIiLAogICAgIjgzOEUiOiJDOUFGIiwKICAgICI4MzkyIjoiRENFQyIsCiAgICAiODM5MyI6IkREQUUiLAogICAgIjgzOTgiOiJEREI3IiwKICAgICI4MzlCIjoiRENGMCIsCiAgICAiODM5QyI6IkREQUYiLAogICAgIjgzOUUiOiJEREI4IiwKICAgICI4M0EwIjoiRERBQyIsCiAgICAiODNBOCI6IkREQjkiLAogICAgIjgzQTkiOiJEREIzIiwKICAgICI4M0FBIjoiRERBRCIsCiAgICAiODNBQiI6IkM0QUEiLAogICAgIjgzQjAiOiJEREE4IiwKICAgICI4M0IxIjoiQzBCMyIsCiAgICAiODNCMiI6IkMxQUIiLAogICAgIjgzQjMiOiJEREFBIiwKICAgICI4M0I0IjoiRERBQiIsCiAgICAiODNCNiI6IkREQjIiLAogICAgIjgzQjciOiJCQkYxIiwKICAgICI4M0I4IjoiRERCNSIsCiAgICAiODNCOSI6IkQzQTgiLAogICAgIjgzQkEiOiJEREJBIiwKICAgICI4M0JDIjoiRERCQiIsCiAgICAiODNCRCI6IkMzQTciLAogICAgIjgzQzAiOiJEREQyIiwKICAgICI4M0MxIjoiRERCQyIsCiAgICAiODNDNSI6IkRERDEiLAogICAgIjgzQzciOiJCOUJEIiwKICAgICI4M0NBIjoiQkVENSIsCiAgICAiODNDQyI6IkJFRkEiLAogICAgIjgzQ0YiOiJCQUNBIiwKICAgICI4M0Q0IjoiRERDQSIsCiAgICAiODNENiI6IkREQzUiLAogICAgIjgzRDgiOiJEREJGIiwKICAgICI4M0RDIjoiQjJDQiIsCiAgICAiODNERCI6IkREQzMiLAogICAgIjgzREYiOiJERENCIiwKICAgICI4M0UwIjoiQjJBNCIsCiAgICAiODNFMSI6IkRERDUiLAogICAgIjgzRTUiOiJEREJFIiwKICAgICI4M0U5IjoiQzZEMCIsCiAgICAiODNFQSI6IkRERDAiLAogICAgIjgzRjAiOiJEREQ0IiwKICAgICI4M0YxIjoiQzFFMiIsCiAgICAiODNGMiI6IkI3QzYiLAogICAgIjgzRjgiOiJERENFIiwKICAgICI4M0Y5IjoiRERDRiIsCiAgICAiODNGRCI6IkREQzQiLAogICAgIjg0MDEiOiJEREJEIiwKICAgICI4NDAzIjoiRERDRCIsCiAgICAiODQwNCI6IkNDRDEiLAogICAgIjg0MDYiOiJEREM5IiwKICAgICI4NDBCIjoiRERDMiIsCiAgICAiODQwQyI6IkMzQzgiLAogICAgIjg0MEQiOiJDNkJDIiwKICAgICI4NDBFIjoiQ0VBRSIsCiAgICAiODQwRiI6IkREQ0MiLAogICAgIjg0MTEiOiJEREM4IiwKICAgICI4NDE4IjoiRERDMSIsCiAgICAiODQxQyI6IkREQzYiLAogICAgIjg0MUQiOiJDMkRDIiwKICAgICI4NDI0IjoiRDNBOSIsCiAgICAiODQyNSI6IkQzQUEiLAogICAgIjg0MjYiOiJEREQzIiwKICAgICI4NDI3IjoiQ0ZGNCIsCiAgICAiODQyOCI6IkM4RjgiLAogICAgIjg0MzEiOiJEREU2IiwKICAgICI4NDM4IjoiRERDNyIsCiAgICAiODQzQyI6IkRERTAiLAogICAgIjg0M0QiOiJDMkU0IiwKICAgICI4NDQ2IjoiRERFMSIsCiAgICAiODQ1MSI6IkRERDciLAogICAgIjg0NTciOiJENkY4IiwKICAgICI4NDU5IjoiREREOSIsCiAgICAiODQ1QSI6IkRERDgiLAogICAgIjg0NUIiOiJCOEYwIiwKICAgICI4NDVDIjoiRERENiIsCiAgICAiODQ2MSI6IkM2Q0YiLAogICAgIjg0NjMiOiJCNkFEIiwKICAgICI4NDY5IjoiRERFMiIsCiAgICAiODQ2QiI6IkJBRjkiLAogICAgIjg0NkMiOiJENEUxIiwKICAgICI4NDZEIjoiRERFNyIsCiAgICAiODQ3MSI6IkI0RDAiLAogICAgIjg0NzMiOiJERERBIiwKICAgICI4NDc1IjoiQkZGQiIsCiAgICAiODQ3NiI6IkRERTMiLAogICAgIjg0NzgiOiJERERGIiwKICAgICI4NDdBIjoiRERERCIsCiAgICAiODQ4MiI6IkI1RDkiLAogICAgIjg0ODciOiJERERCIiwKICAgICI4NDg4IjoiREREQyIsCiAgICAiODQ4OSI6IkREREUiLAogICAgIjg0OEIiOiJCREFGIiwKICAgICI4NDhDIjoiRERFNCIsCiAgICAiODQ4RSI6IkRERTUiLAogICAgIjg0OTciOiJEREY1IiwKICAgICI4NDk5IjoiQzNDOSIsCiAgICAiODQ5QyI6IkNCRTIiLAogICAgIjg0QTEiOiJEREYyIiwKICAgICI4NEFGIjoiRDhFMSIsCiAgICAiODRCMiI6IkM2RDEiLAogICAgIjg0QjQiOiJEREY0IiwKICAgICI4NEI4IjoiRDVGNCIsCiAgICAiODRCOSI6IkRERjMiLAogICAgIjg0QkEiOiJEREYwIiwKICAgICI4NEJEIjoiRERFQyIsCiAgICAiODRCRiI6IkRERUYiLAogICAgIjg0QzEiOiJEREU4IiwKICAgICI4NEM0IjoiRDBFRSIsCiAgICAiODRDOSI6IkM4RDgiLAogICAgIjg0Q0EiOiJEREVFIiwKICAgICI4NENEIjoiRERFOSIsCiAgICAiODREMCI6IkRERUEiLAogICAgIjg0RDEiOiJDQkYyIiwKICAgICI4NEQzIjoiRERFRCIsCiAgICAiODRENiI6IkIxQ0QiLAogICAgIjg0REQiOiJDMEI2IiwKICAgICI4NERGIjoiQkNCQiIsCiAgICAiODRFMCI6IkRERjEiLAogICAgIjg0RTMiOiJEREY3IiwKICAgICI4NEU1IjoiRERGNiIsCiAgICAiODRFNiI6IkRERUIiLAogICAgIjg0RUMiOiJDNUVFIiwKICAgICI4NEYwIjoiRERGQiIsCiAgICAiODRGQyI6IkRFQTQiLAogICAgIjg0RkYiOiJERUEzIiwKICAgICI4NTBDIjoiRERGOCIsCiAgICAiODUxMSI6IkMzRUYiLAogICAgIjg1MTMiOiJDMkZCIiwKICAgICI4NTE3IjoiRDVFMSIsCiAgICAiODUxQSI6IkNFQjUiLAogICAgIjg1MUYiOiJEREZEIiwKICAgICI4NTIxIjoiQjJDQyIsCiAgICAiODUyQiI6IkM0RTgiLAogICAgIjg1MkMiOiJDQURGIiwKICAgICI4NTM3IjoiQzdCRSIsCiAgICAiODUzOCI6IkRERkEiLAogICAgIjg1MzkiOiJEREZDIiwKICAgICI4NTNBIjoiRERGRSIsCiAgICAiODUzQiI6IkRFQTIiLAogICAgIjg1M0MiOiJCMEFBIiwKICAgICI4NTNEIjoiQjFDRSIsCiAgICAiODU0MyI6IkRFQUMiLAogICAgIjg1NDgiOiJERUE2IiwKICAgICI4NTQ5IjoiQkRCNiIsCiAgICAiODU0QSI6IkM4RUYiLAogICAgIjg1NTYiOiJERUExIiwKICAgICI4NTU5IjoiREVBNSIsCiAgICAiODU1RSI6IkRFQTkiLAogICAgIjg1NjQiOiJERUE4IiwKICAgICI4NTY4IjoiREVBNyIsCiAgICAiODU3MiI6IkRFQUQiLAogICAgIjg1NzQiOiJENENDIiwKICAgICI4NTc5IjoiREVCMyIsCiAgICAiODU3QSI6IkRFQUEiLAogICAgIjg1N0IiOiJERUFFIiwKICAgICI4NTdFIjoiQzBEOSIsCiAgICAiODU4NCI6IkIxQTEiLAogICAgIjg1ODUiOiJERUI2IiwKICAgICI4NTg3IjoiREVCMSIsCiAgICAiODU4RiI6IkRFQjIiLAogICAgIjg1OUIiOiJEMUE2IiwKICAgICI4NTlDIjoiREVCNSIsCiAgICAiODVBNCI6IkRFQUYiLAogICAgIjg1QTgiOiJERUIwIiwKICAgICI4NUFBIjoiRDBCRCIsCiAgICAiODVBRSI6IkRFQjQiLAogICAgIjg1QUYiOiJDQUVEIiwKICAgICI4NUIwIjoiREVCOSIsCiAgICAiODVCNyI6IkRFQjgiLAogICAgIjg1QjkiOiJERUI3IiwKICAgICI4NUMxIjoiREVCQiIsCiAgICAiODVDOSI6IkJERTUiLAogICAgIjg1Q0YiOiJCMkQ4IiwKICAgICI4NUQwIjoiQzNFQSIsCiAgICAiODVEMyI6IkRFQkEiLAogICAgIjg1RDUiOiJDNUJBIiwKICAgICI4NURDIjoiREVCQyIsCiAgICAiODVFNCI6IkNDRDkiLAogICAgIjg1RTkiOiJCN0FBIiwKICAgICI4NUZCIjoiRDRFNSIsCiAgICAiODVGRiI6IkRFQkQiLAogICAgIjg2MDUiOiJERUJGIiwKICAgICI4NjExIjoiQzRBMiIsCiAgICAiODYxNiI6IkRFQzEiLAogICAgIjg2MjciOiJERUJFIiwKICAgICI4NjI5IjoiREVDMCIsCiAgICAiODYzOCI6IkQ1QkEiLAogICAgIjg2M0MiOiJERUMyIiwKICAgICI4NjREIjoiRjJBRSIsCiAgICAiODY0RSI6IkJCQTIiLAogICAgIjg2NEYiOiJDMkIyIiwKICAgICI4NjUwIjoiQzVCMCIsCiAgICAiODY1MSI6IkMyQzciLAogICAgIjg2NTQiOiJGMkFGIiwKICAgICI4NjVBIjoiRDBFOSIsCiAgICAiODY1RSI6IkQzREQiLAogICAgIjg2NjIiOiJFQkJEIiwKICAgICI4NjZCIjoiQjNFNiIsCiAgICAiODY2QyI6IkYyQjAiLAogICAgIjg2NkUiOiJGMkIxIiwKICAgICI4NjcxIjoiQ0FBRCIsCiAgICAiODY3OSI6IkJBRTciLAogICAgIjg2N0EiOiJGMkIzIiwKICAgICI4NjdCIjoiRjJCNSIsCiAgICAiODY3QyI6IkYyQjQiLAogICAgIjg2N0QiOiJDQkU0IiwKICAgICI4NjdFIjoiQ0ZCQSIsCiAgICAiODY3RiI6IkYyQjIiLAogICAgIjg2ODAiOiJDQUI0IiwKICAgICI4NjgxIjoiRDJDRiIsCiAgICAiODY4MiI6IkMyRUMiLAogICAgIjg2OEEiOiJDRUMzIiwKICAgICI4NjhCIjoiRjJCOCIsCiAgICAiODY4QyI6IkIwRjYiLAogICAgIjg2OEQiOiJGMkI3IiwKICAgICI4NjkzIjoiRjJCRSIsCiAgICAiODY5NSI6IkIyQ0YiLAogICAgIjg2OUMiOiJEMUMxIiwKICAgICI4NjlEIjoiRjJCQSIsCiAgICAiODZBMyI6IkYyQkMiLAogICAgIjg2QTQiOiJENEU5IiwKICAgICI4NkE3IjoiRjJCQiIsCiAgICAiODZBOCI6IkYyQjYiLAogICAgIjg2QTkiOiJGMkJGIiwKICAgICI4NkFBIjoiRjJCRCIsCiAgICAiODZBQyI6IkYyQjkiLAogICAgIjg2QUYiOiJGMkM3IiwKICAgICI4NkIwIjoiRjJDNCIsCiAgICAiODZCMSI6IkYyQzYiLAogICAgIjg2QjQiOiJGMkNBIiwKICAgICI4NkI1IjoiRjJDMiIsCiAgICAiODZCNiI6IkYyQzAiLAogICAgIjg2QkEiOiJGMkM1IiwKICAgICI4NkMwIjoiRDZGQiIsCiAgICAiODZDNCI6IkYyQzEiLAogICAgIjg2QzYiOiJDN0Y5IiwKICAgICI4NkM3IjoiQzlERiIsCiAgICAiODZDOSI6IkYyQzgiLAogICAgIjg2Q0EiOiJCOUM2IiwKICAgICI4NkNCIjoiQjVCMCIsCiAgICAiODZDRSI6IkYyQzMiLAogICAgIjg2Q0YiOiJGMkM5IiwKICAgICI4NkQwIjoiRjJEMCIsCiAgICAiODZEMSI6IkYyRDYiLAogICAgIjg2RDQiOiJCQkQ3IiwKICAgICI4NkQ4IjoiRjJENSIsCiAgICAiODZEOSI6IkNEREMiLAogICAgIjg2REIiOiJENkVCIiwKICAgICI4NkRFIjoiRjJEMiIsCiAgICAiODZERiI6IkYyRDQiLAogICAgIjg2RTQiOiJCOEYyIiwKICAgICI4NkU5IjoiRjJDQiIsCiAgICAiODZFRCI6IkYyQ0UiLAogICAgIjg2RUUiOiJDMkY5IiwKICAgICI4NkYwIjoiRDVERCIsCiAgICAiODZGMSI6IkYyQ0MiLAogICAgIjg2RjIiOiJGMkNEIiwKICAgICI4NkYzIjoiRjJDRiIsCiAgICAiODZGNCI6IkYyRDMiLAogICAgIjg2RjgiOiJGMkQ5IiwKICAgICI4NkY5IjoiRDNCQyIsCiAgICAiODZGRSI6IkI2RUEiLAogICAgIjg3MDAiOiJDQUYxIiwKICAgICI4NzAyIjoiQjdFNCIsCiAgICAiODcwMyI6IkYyRDciLAogICAgIjg3MDciOiJGMkQ4IiwKICAgICI4NzA4IjoiRjJEQSIsCiAgICAiODcwOSI6IkYyREQiLAogICAgIjg3MEEiOiJGMkRCIiwKICAgICI4NzBEIjoiRjJEQyIsCiAgICAiODcxMiI6IkQxRDEiLAogICAgIjg3MTMiOiJGMkQxIiwKICAgICI4NzE1IjoiQ0RDOSIsCiAgICAiODcxNyI6IkNFQ0YiLAogICAgIjg3MTgiOiJENkE5IiwKICAgICI4NzFBIjoiRjJFMyIsCiAgICAiODcxQyI6IkMzREIiLAogICAgIjg3MUUiOiJGMkUwIiwKICAgICI4NzIxIjoiQzBBRiIsCiAgICAiODcyMiI6IkYyRUMiLAogICAgIjg3MjMiOiJGMkRFIiwKICAgICI4NzI1IjoiRjJFMSIsCiAgICAiODcyOSI6IkYyRTgiLAogICAgIjg3MkUiOiJGMkUyIiwKICAgICI4NzMxIjoiRjJFNyIsCiAgICAiODczNCI6IkYyRTYiLAogICAgIjg3MzciOiJGMkU5IiwKICAgICI4NzNCIjoiRjJERiIsCiAgICAiODczRSI6IkYyRTQiLAogICAgIjg3M0YiOiJGMkVBIiwKICAgICI4NzQ3IjoiRDNBQyIsCiAgICAiODc0OCI6IkYyRTUiLAogICAgIjg3NDkiOiJCMkY1IiwKICAgICI4NzRDIjoiRjJGMiIsCiAgICAiODc0RSI6IkQwQUIiLAogICAgIjg3NTMiOiJGMkY1IiwKICAgICI4NzU3IjoiQkJDOCIsCiAgICAiODc1OSI6IkYyRjkiLAogICAgIjg3NjAiOiJGMkYwIiwKICAgICI4NzYzIjoiRjJGNiIsCiAgICAiODc2NCI6IkYyRjgiLAogICAgIjg3NjUiOiJGMkZBIiwKICAgICI4NzZFIjoiRjJGMyIsCiAgICAiODc3MCI6IkYyRjEiLAogICAgIjg3NzQiOiJCQUZCIiwKICAgICI4Nzc2IjoiQjVGQiIsCiAgICAiODc3QiI6IkYyRUYiLAogICAgIjg3N0MiOiJGMkY3IiwKICAgICI4NzdEIjoiRjJFRCIsCiAgICAiODc3RSI6IkYyRUUiLAogICAgIjg3ODIiOiJGMkVCIiwKICAgICI4NzgzIjoiRjNBNiIsCiAgICAiODc4NSI6IkYzQTMiLAogICAgIjg3ODgiOiJGM0EyIiwKICAgICI4NzhCIjoiRjJGNCIsCiAgICAiODc4RCI6IkM4REEiLAogICAgIjg3OTMiOiJGMkZCIiwKICAgICI4Nzk3IjoiRjNBNSIsCiAgICAiODc5RiI6IkMzRjgiLAogICAgIjg3QTgiOiJGMkZEIiwKICAgICI4N0FCIjoiRjNBNyIsCiAgICAiODdBQyI6IkYzQTkiLAogICAgIjg3QUQiOiJGM0E0IiwKICAgICI4N0FGIjoiRjJGQyIsCiAgICAiODdCMyI6IkYzQUIiLAogICAgIjg3QjUiOiJGM0FBIiwKICAgICI4N0JBIjoiQzJERCIsCiAgICAiODdCRCI6IkYzQUUiLAogICAgIjg3QzAiOiJGM0IwIiwKICAgICI4N0M2IjoiRjNBMSIsCiAgICAiODdDQSI6IkYzQjEiLAogICAgIjg3Q0IiOiJGM0FDIiwKICAgICI4N0QxIjoiRjNBRiIsCiAgICAiODdEMiI6IkYyRkUiLAogICAgIjg3RDMiOiJGM0FEIiwKICAgICI4N0RCIjoiRjNCMiIsCiAgICAiODdFMCI6IkYzQjQiLAogICAgIjg3RTUiOiJGM0E4IiwKICAgICI4N0VBIjoiRjNCMyIsCiAgICAiODdFRSI6IkYzQjUiLAogICAgIjg3RjkiOiJEMEI3IiwKICAgICI4N0ZFIjoiRjNCOCIsCiAgICAiODgwMyI6IkQ5RjkiLAogICAgIjg4MEEiOiJGM0I5IiwKICAgICI4ODEzIjoiRjNCNyIsCiAgICAiODgxNSI6IkM4RTQiLAogICAgIjg4MTYiOiJGM0I2IiwKICAgICI4ODFCIjoiRjNCQSIsCiAgICAiODgyMSI6IkYzQkIiLAogICAgIjg4MjIiOiJCNEMwIiwKICAgICI4ODMyIjoiRUVDMyIsCiAgICAiODgzOSI6IkYzQkMiLAogICAgIjg4M0MiOiJGM0JEIiwKICAgICI4ODQwIjoiRDFBQSIsCiAgICAiODg0NCI6IkY0QUMiLAogICAgIjg4NDUiOiJEMEM2IiwKICAgICI4ODRDIjoiRDBEMCIsCiAgICAiODg0RCI6IkQxREMiLAogICAgIjg4NTQiOiJDRkNFIiwKICAgICI4ODU3IjoiQkRENiIsCiAgICAiODg1OSI6IkQxQzMiLAogICAgIjg4NjEiOiJCQUUyIiwKICAgICI4ODYyIjoiRTFFOSIsCiAgICAiODg2MyI6IkQyQzIiLAogICAgIjg4NjQiOiJGMUMyIiwKICAgICI4ODY1IjoiQjJCOSIsCiAgICAiODg2OCI6IkIxRUQiLAogICAgIjg4NjkiOiJGMUMzIiwKICAgICI4ODZCIjoiQzlDMCIsCiAgICAiODg2QyI6IkIzQzQiLAogICAgIjg4NkUiOiJEOUYyIiwKICAgICI4ODcwIjoiQ0JBNSIsCiAgICAiODg3MiI6IkYxQzQiLAogICAgIjg4NzciOiJENkQ0IiwKICAgICI4ODdEIjoiRjFDNSIsCiAgICAiODg3RSI6IkY0QzAiLAogICAgIjg4N0YiOiJGMUM2IiwKICAgICI4ODgxIjoiRDRBQyIsCiAgICAiODg4MiI6IkYxQzciLAogICAgIjg4ODQiOiJCMEMwIiwKICAgICI4ODg1IjoiRjRDMSIsCiAgICAiODg4OCI6IkY0QzIiLAogICAgIjg4OEIiOiJCNEZDIiwKICAgICI4ODhEIjoiQzVEQiIsCiAgICAiODg5MiI6IkNDQkIiLAogICAgIjg4OTYiOiJEMEU0IiwKICAgICI4ODlDIjoiQ0RFMCIsCiAgICAiODhBMiI6IkYxQzgiLAogICAgIjg4QTQiOiJEOUYzIiwKICAgICI4OEFCIjoiQjFCQiIsCiAgICAiODhBRCI6IkNGQUUiLAogICAgIjg4QjEiOiJCOEE0IiwKICAgICI4OEI3IjoiRjFDQSIsCiAgICAiODhCQyI6IkYxQ0IiLAogICAgIjg4QzEiOiJCMkMzIiwKICAgICI4OEMyIjoiQzFEMSIsCiAgICAiODhDNSI6IkQ3QjAiLAogICAgIjg4QzYiOiJGMUM5IiwKICAgICI4OEM5IjoiRjFDQyIsCiAgICAiODhDRSI6IkYxQ0UiLAogICAgIjg4RDIiOiJEOUY2IiwKICAgICI4OEQ0IjoiRDJFMSIsCiAgICAiODhENSI6IkQ0QTMiLAogICAgIjg4RDgiOiJGNEMzIiwKICAgICI4OEQ5IjoiQzhCOSIsCiAgICAiODhERiI6IkY0QzQiLAogICAgIjg4RTIiOiJGMUNEIiwKICAgICI4OEUzIjoiRjFDRiIsCiAgICAiODhFNCI6IkJGRTMiLAogICAgIjg4RTUiOiJGMUQwIiwKICAgICI4OEU4IjoiRjFENCIsCiAgICAiODhGMCI6IkYxRDYiLAogICAgIjg4RjEiOiJGMUQxIiwKICAgICI4OEYzIjoiQzlEMSIsCiAgICAiODhGNCI6IkM1RTEiLAogICAgIjg4RjgiOiJDMkUzIiwKICAgICI4OEY5IjoiQjlGQyIsCiAgICAiODhGQyI6IkYxRDMiLAogICAgIjg4RkUiOiJGMUQ1IiwKICAgICI4OTAyIjoiQjlEMyIsCiAgICAiODkwQSI6IkYxREIiLAogICAgIjg5MTAiOiJCQUQ2IiwKICAgICI4OTEyIjoiQjBGRCIsCiAgICAiODkxMyI6IkYxRDkiLAogICAgIjg5MTkiOiJGMUQ4IiwKICAgICI4OTFBIjoiRjFEMiIsCiAgICAiODkxQiI6IkYxREEiLAogICAgIjg5MjEiOiJGMUQ3IiwKICAgICI4OTI1IjoiQzhFQyIsCiAgICAiODkyQSI6IkNEQ0EiLAogICAgIjg5MkIiOiJGMUREIiwKICAgICI4OTMwIjoiRTVCRCIsCiAgICAiODkzNCI6IkYxREMiLAogICAgIjg5MzYiOiJGMURFIiwKICAgICI4OTQxIjoiRjFERiIsCiAgICAiODk0NCI6IkNGRTUiLAogICAgIjg5NUUiOiJGNEM1IiwKICAgICI4OTVGIjoiQkRGMyIsCiAgICAiODk2NiI6IkYxRTAiLAogICAgIjg5N0IiOiJGMUUxIiwKICAgICI4OTdGIjoiQ0VGNyIsCiAgICAiODk4MSI6IkQyQUEiLAogICAgIjg5ODMiOiJGMUZCIiwKICAgICI4OTg2IjoiQjhCMiIsCiAgICAiODlDMSI6IkJDRkIiLAogICAgIjg5QzIiOiJCOURCIiwKICAgICI4OUM0IjoiQjlFNiIsCiAgICAiODlDNSI6IkMzRDkiLAogICAgIjg5QzYiOiJDQUQzIiwKICAgICI4OUM3IjoiRUFFOCIsCiAgICAiODlDOCI6IkMwQzAiLAogICAgIjg5QzkiOiJCRUY1IiwKICAgICI4OUNBIjoiRUFFOSIsCiAgICAiODlDQiI6IkVBRUEiLAogICAgIjg5Q0MiOiJFQUVCIiwKICAgICI4OUNFIjoiRUFFQyIsCiAgICAiODlDRiI6IkVBRUQiLAogICAgIjg5RDAiOiJFQUVFIiwKICAgICI4OUQxIjoiRUFFRiIsCiAgICAiODlEMiI6IkJEQzciLAogICAgIjg5RDYiOiJGNUZCIiwKICAgICI4OURBIjoiRjVGRCIsCiAgICAiODlEQyI6IkY1RkUiLAogICAgIjg5REUiOiJGNUZDIiwKICAgICI4OUUzIjoiQkRFMiIsCiAgICAiODlFNSI6IkY2QTEiLAogICAgIjg5RTYiOiJCNEE1IiwKICAgICI4OUVCIjoiRjZBMiIsCiAgICAiODlFRiI6IkY2QTMiLAogICAgIjg5RjMiOiJFQ0IyIiwKICAgICI4QTAwIjoiRDFENCIsCiAgICAiOEEwNyI6IkQ5RUEiLAogICAgIjhBM0UiOiJGNkE0IiwKICAgICI4QTQ4IjoiRUVCQSIsCiAgICAiOEE3OSI6IkQ1QjIiLAogICAgIjhBODkiOiJEM0ZFIiwKICAgICI4QThBIjoiQ0NEQyIsCiAgICAiOEE5MyI6IkNBQzQiLAogICAgIjhCMDciOiJFNUMwIiwKICAgICI4QjI2IjoiRjZBNSIsCiAgICAiOEI2NiI6IkJFQUYiLAogICAgIjhCNkMiOiJDNkE5IiwKICAgICI4QkEwIjoiREFBNSIsCiAgICAiOEJBMSI6IkJDQzYiLAogICAgIjhCQTIiOiJCNkE5IiwKICAgICI4QkEzIjoiQjhCQyIsCiAgICAiOEJBNCI6IkM4Q0YiLAogICAgIjhCQTUiOiJCQ0E1IiwKICAgICI4QkE2IjoiREFBNiIsCiAgICAiOEJBNyI6IkRBQTciLAogICAgIjhCQTgiOiJDQ0Q2IiwKICAgICI4QkE5IjoiQzhDMyIsCiAgICAiOEJBQSI6IkRBQTgiLAogICAgIjhCQUIiOiJDNkZEIiwKICAgICI4QkFEIjoiRDFCNSIsCiAgICAiOEJBRSI6IkQyRTkiLAogICAgIjhCQUYiOiJEMUI2IiwKICAgICI4QkIwIjoiQkNDNyIsCiAgICAiOEJCMiI6IkJEQjIiLAogICAgIjhCQjMiOiJCQkU0IiwKICAgICI4QkI0IjoiREFBOSIsCiAgICAiOEJCNSI6IkRBQUEiLAogICAgIjhCQjYiOiJEMUM4IiwKICAgICI4QkI3IjoiREFBQiIsCiAgICAiOEJCOCI6IkQwRUQiLAogICAgIjhCQjkiOiJCNkVGIiwKICAgICI4QkJBIjoiQzJEQiIsCiAgICAiOEJCQyI6IkNCQ0YiLAogICAgIjhCQkQiOiJCN0VEIiwKICAgICI4QkJFIjoiQzlFOCIsCiAgICAiOEJCRiI6IkI3QzMiLAogICAgIjhCQzAiOiJCRUY3IiwKICAgICI4QkMxIjoiRDZBNCIsCiAgICAiOEJDMiI6IkRBQUMiLAogICAgIjhCQzMiOiJEQUFEIiwKICAgICI4QkM0IjoiQzZDMCIsCiAgICAiOEJDNSI6IkQ3RTciLAogICAgIjhCQzYiOiJDQUI2IiwKICAgICI4QkM4IjoiRDVBOSIsCiAgICAiOEJDOSI6IkNCREYiLAogICAgIjhCQ0EiOiJENUVGIiwKICAgICI4QkNCIjoiREFBRSIsCiAgICAiOEJDQyI6IkQ2REYiLAogICAgIjhCQ0QiOiJCNENBIiwKICAgICI4QkNFIjoiREFCMCIsCiAgICAiOEJDRiI6IkRBQUYiLAogICAgIjhCRDEiOiJEMkVCIiwKICAgICI4QkQyIjoiREFCMSIsCiAgICAiOEJEMyI6IkRBQjIiLAogICAgIjhCRDQiOiJEQUIzIiwKICAgICI4QkQ1IjoiQ0FENCIsCiAgICAiOEJENiI6IkRBQjQiLAogICAgIjhCRDciOiJDQUFCIiwKICAgICI4QkQ4IjoiREFCNSIsCiAgICAiOEJEOSI6IkRBQjYiLAogICAgIjhCREEiOiJCM0NGIiwKICAgICI4QkRCIjoiRDZFRiIsCiAgICAiOEJEQyI6IkRBQjciLAogICAgIjhCREQiOiJCQkIwIiwKICAgICI4QkRFIjoiQjVBRSIsCiAgICAiOEJERiI6IkRBQjgiLAogICAgIjhCRTAiOiJEQUI5IiwKICAgICI4QkUxIjoiQjlFRSIsCiAgICAiOEJFMiI6IkQxQUYiLAogICAgIjhCRTMiOiJEMkU4IiwKICAgICI4QkU0IjoiREFCQSIsCiAgICAiOEJFNSI6IkI4QzMiLAogICAgIjhCRTYiOiJDRkVBIiwKICAgICI4QkU3IjoiQjJFRiIsCiAgICAiOEJFOCI6IkRBQkIiLAogICAgIjhCRTkiOiJEQUJDIiwKICAgICI4QkVCIjoiQkRFQiIsCiAgICAiOEJFQyI6IkNFREMiLAogICAgIjhCRUQiOiJEM0VGIiwKICAgICI4QkVFIjoiREFCRCIsCiAgICAiOEJFRiI6IkNFRjMiLAogICAgIjhCRjAiOiJEQUJFIiwKICAgICI4QkYxIjoiRDNENSIsCiAgICAiOEJGMiI6IkJCRTUiLAogICAgIjhCRjMiOiJEQUJGIiwKICAgICI4QkY0IjoiQ0JCNSIsCiAgICAiOEJGNSI6IkNCRDAiLAogICAgIjhCRjYiOiJEQUMwIiwKICAgICI4QkY3IjoiQzdFQiIsCiAgICAiOEJGOCI6IkQ2RUUiLAogICAgIjhCRjkiOiJEQUMxIiwKICAgICI4QkZBIjoiQzVCNSIsCiAgICAiOEJGQiI6IkI2QzEiLAogICAgIjhCRkMiOiJEQUMyIiwKICAgICI4QkZEIjoiQjdDQyIsCiAgICAiOEJGRSI6IkJGQ0UiLAogICAgIjhCRkYiOiJEQUMzIiwKICAgICI4QzAwIjoiREFDNCIsCiAgICAiOEMwMSI6IkNCQUQiLAogICAgIjhDMDIiOiJEQUM1IiwKICAgICI4QzAzIjoiQjVGNyIsCiAgICAiOEMwNCI6IkRBQzYiLAogICAgIjhDMDUiOiJDMUMyIiwKICAgICI4QzA2IjoiRDdCQiIsCiAgICAiOEMwNyI6IkRBQzciLAogICAgIjhDMDgiOiJDQ0I4IiwKICAgICI4QzBBIjoiRDJFQSIsCiAgICAiOEMwQiI6IkM0QjEiLAogICAgIjhDMEMiOiJEQUM4IiwKICAgICI4QzBEIjoiQjVGRCIsCiAgICAiOEMwRSI6IkJCRDEiLAogICAgIjhDMEYiOiJEQUM5IiwKICAgICI4QzEwIjoiRDBCMyIsCiAgICAiOEMxMSI6IkRBQ0EiLAogICAgIjhDMTIiOiJEQUNCIiwKICAgICI4QzEzIjoiQ0VCRCIsCiAgICAiOEMxNCI6IkRBQ0MiLAogICAgIjhDMTUiOiJEQUNEIiwKICAgICI4QzE2IjoiREFDRSIsCiAgICAiOEMxNyI6IkIyRjciLAogICAgIjhDMTgiOiJEQUQxIiwKICAgICI4QzE5IjoiREFDRiIsCiAgICAiOEMxQSI6IkQxRTgiLAogICAgIjhDMUIiOiJEQUQwIiwKICAgICI4QzFDIjoiQzNENSIsCiAgICAiOEMxRCI6IkRBRDIiLAogICAgIjhDMUYiOiJEQUQzIiwKICAgICI4QzIwIjoiREFENCIsCiAgICAiOEMyMSI6IkRBRDUiLAogICAgIjhDMjIiOiJEMEJCIiwKICAgICI4QzIzIjoiRDJBNSIsCiAgICAiOEMyNCI6IkIwRjkiLAogICAgIjhDMjUiOiJEQUQ2IiwKICAgICI4QzI2IjoiQzdBQiIsCiAgICAiOEMyNyI6IkRBRDciLAogICAgIjhDMjgiOiJCREY3IiwKICAgICI4QzI5IjoiQzNBMSIsCiAgICAiOEMyQSI6IkRBRDgiLAogICAgIjhDMkIiOiJEQUQ5IiwKICAgICI4QzJDIjoiQzNGRCIsCiAgICAiOEMyRCI6IkNDQjciLAogICAgIjhDMkUiOiJEQURBIiwKICAgICI4QzJGIjoiREFEQiIsCiAgICAiOEMzMCI6IkMwQkUiLAogICAgIjhDMzEiOiJDNkQ3IiwKICAgICI4QzMyIjoiREFEQyIsCiAgICAiOEMzMyI6IkRBREQiLAogICAgIjhDMzQiOiJDN0I0IiwKICAgICI4QzM1IjoiREFERSIsCiAgICAiOEMzNiI6IkRBREYiLAogICAgIjhDMzciOiJCOUM4IiwKICAgICI4QzQxIjoiQkJFRCIsCiAgICAiOEM0NiI6IkI2QjkiLAogICAgIjhDNDciOiJGNEY4IiwKICAgICI4QzQ5IjoiRjRGOSIsCiAgICAiOEM0QyI6IkNERTMiLAogICAgIjhDNTUiOiJGNUI5IiwKICAgICI4QzVBIjoiRUJFMCIsCiAgICAiOEM2MSI6IkNGRjMiLAogICAgIjhDNjIiOiJCQkJGIiwKICAgICI4QzZBIjoiQkFDMCIsCiAgICAiOEM2QiI6IkQ0QTUiLAogICAgIjhDNzMiOiJFMUQ5IiwKICAgICI4Qzc4IjoiRjVGNCIsCiAgICAiOEM3OSI6IkIxQUEiLAogICAgIjhDN0EiOiJCMkYyIiwKICAgICI4QzgyIjoiRjVGNSIsCiAgICAiOEM4NSI6IkY1RjciLAogICAgIjhDODkiOiJCQUQxIiwKICAgICI4QzhBIjoiRjVGNiIsCiAgICAiOEM4QyI6IkMzQjIiLAogICAgIjhDOTQiOiJGNUY5IiwKICAgICI4Qzk4IjoiRjVGOCIsCiAgICAiOEQxRCI6IkIxQjQiLAogICAgIjhEMUUiOiJENUVBIiwKICAgICI4RDFGIjoiQjhCQSIsCiAgICAiOEQyMSI6IkI5QjEiLAogICAgIjhEMjIiOiJCMkM2IiwKICAgICI4RDIzIjoiRDRGMCIsCiAgICAiOEQyNCI6IkNGQ0QiLAogICAgIjhEMjUiOiJCMERDIiwKICAgICI4RDI2IjoiRDVDQiIsCiAgICAiOEQyNyI6IkJCRjUiLAogICAgIjhEMjgiOiJENkNBIiwKICAgICI4RDI5IjoiQjdCNyIsCiAgICAiOEQyQSI6IkNDQjAiLAogICAgIjhEMkIiOiJDNkI2IiwKICAgICI4RDJDIjoiQjFFMSIsCiAgICAiOEQyRCI6IkI5QkEiLAogICAgIjhEMkUiOiJENkZDIiwKICAgICI4RDJGIjoiQjlFMSIsCiAgICAiOEQzMCI6IkI3QTEiLAogICAgIjhEMzEiOiJCQ0ZBIiwKICAgICI4RDMyIjoiRUFEQSIsCiAgICAiOEQzMyI6IkVBREIiLAogICAgIjhEMzQiOiJDQ0Y5IiwKICAgICI4RDM1IjoiQjlGMyIsCiAgICAiOEQzNiI6IkVBREMiLAogICAgIjhEMzciOiJCNEZCIiwKICAgICI4RDM4IjoiQzNCMyIsCiAgICAiOEQzOSI6IkI3RDEiLAogICAgIjhEM0EiOiJCQUQ4IiwKICAgICI4RDNCIjoiRUFERCIsCiAgICAiOEQzQyI6IkQ0RjQiLAogICAgIjhEM0QiOiJFQURFIiwKICAgICI4RDNFIjoiQkNENiIsCiAgICAiOEQzRiI6IkJCREYiLAogICAgIjhENDAiOiJFQURGIiwKICAgICI4RDQxIjoiQzFERSIsCiAgICAiOEQ0MiI6IkMyQjgiLAogICAgIjhENDMiOiJENERGIiwKICAgICI4RDQ0IjoiRDdDQSIsCiAgICAiOEQ0NSI6IkVBRTAiLAogICAgIjhENDYiOiJFQUUxIiwKICAgICI4RDQ3IjoiRUFFNCIsCiAgICAiOEQ0OCI6IkVBRTIiLAogICAgIjhENDkiOiJFQUUzIiwKICAgICI4RDRBIjoiQzlERSIsCiAgICAiOEQ0QiI6IkI4QjMiLAogICAgIjhENEMiOiJCNkM0IiwKICAgICI4RDREIjoiRUFFNSIsCiAgICAiOEQ0RSI6IkNBRUEiLAogICAgIjhENEYiOiJDOUNEIiwKICAgICI4RDUwIjoiQjRDRCIsCiAgICAiOEQ1MyI6IkUyRDkiLAogICAgIjhENTQiOiJDNUUyIiwKICAgICI4RDU1IjoiRUFFNiIsCiAgICAiOEQ1NiI6IkMwQjUiLAogICAgIjhENTgiOiJEN0I4IiwKICAgICI4RDU5IjoiRUFFNyIsCiAgICAiOEQ1QSI6IkQ3QUMiLAogICAgIjhENUIiOiJDOEZDIiwKICAgICI4RDVDIjoiRDhEMyIsCiAgICAiOEQ1RCI6IkQ4Q0QiLAogICAgIjhENUUiOiJENERFIiwKICAgICI4RDYwIjoiRDRGOSIsCiAgICAiOEQ2MSI6IkM5QzQiLAogICAgIjhENjIiOiJEM0FFIiwKICAgICI4RDYzIjoiQjhEMyIsCiAgICAiOEQ2NCI6IkIzRTAiLAogICAgIjhENjYiOiJDOUUyIiwKICAgICI4RDY3IjoiRjRGNiIsCiAgICAiOEQ2QiI6IkJBRDUiLAogICAgIjhENkQiOiJGNEY3IiwKICAgICI4RDcwIjoiRDdERiIsCiAgICAiOEQ3MyI6IkY0RjEiLAogICAgIjhENzQiOiJCOEIwIiwKICAgICI4RDc1IjoiRDVENCIsCiAgICAiOEQ3NiI6IkI4Q0YiLAogICAgIjhENzciOiJDNkYwIiwKICAgICI4RDgxIjoiQjNDMyIsCiAgICAiOEQ4NCI6IkY0RjIiLAogICAgIjhEODUiOiJCM0FDIiwKICAgICI4RDhBIjoiRDRCRCIsCiAgICAiOEQ4QiI6IkM3RjciLAogICAgIjhEOTEiOiJGNEY0IiwKICAgICI4RDk0IjoiRjRGMyIsCiAgICAiOEQ5RiI6IkNDQ0IiLAogICAgIjhEQTMiOiJDOEE0IiwKICAgICI4REIxIjoiRjRGNSIsCiAgICAiOERCMyI6IkQ3RTMiLAogICAgIjhEQjQiOiJDNUJGIiwKICAgICI4REI1IjoiRjVDMCIsCiAgICAiOERCOCI6IkY1QkIiLAogICAgIjhEQkEiOiJGNUMzIiwKICAgICI4REJDIjoiRjVDMiIsCiAgICAiOERCRSI6IkQ2QkEiLAogICAgIjhEQkYiOiJGNUMxIiwKICAgICI4REMzIjoiRDRCRSIsCiAgICAiOERDNCI6IkY1QzQiLAogICAgIjhEQzYiOiJGNUNDIiwKICAgICI4RENCIjoiQjBDRiIsCiAgICAiOERDQyI6IkI1RjgiLAogICAgIjhEQ0UiOiJGNUM5IiwKICAgICI4RENGIjoiRjVDQSIsCiAgICAiOEREMSI6IkM1REMiLAogICAgIjhERDYiOiJGNUM1IiwKICAgICI4REQ3IjoiRjVDNiIsCiAgICAiOEREQSI6IkY1QzciLAogICAgIjhEREIiOiJGNUNCIiwKICAgICI4REREIjoiQkVFMCIsCiAgICAiOERERSI6IkY1QzgiLAogICAgIjhEREYiOiJCOEZBIiwKICAgICI4REUzIjoiRjVEMCIsCiAgICAiOERFNCI6IkY1RDMiLAogICAgIjhERTgiOiJCRkU3IiwKICAgICI4REVBIjoiQjlGMiIsCiAgICAiOERFQiI6IkY1QkMiLAogICAgIjhERUMiOiJGNUNEIiwKICAgICI4REVGIjoiQzJCNyIsCiAgICAiOERGMyI6IkNDRjgiLAogICAgIjhERjUiOiJCQ0Y5IiwKICAgICI4REY3IjoiRjVDRSIsCiAgICAiOERGOCI6IkY1Q0YiLAogICAgIjhERjkiOiJGNUQxIiwKICAgICI4REZBIjoiQjZFNSIsCiAgICAiOERGQiI6IkY1RDIiLAogICAgIjhERkQiOiJGNUQ1IiwKICAgICI4RTA1IjoiRjVCRCIsCiAgICAiOEUwOSI6IkY1RDQiLAogICAgIjhFMEEiOiJEM0JCIiwKICAgICI4RTBDIjoiQjNFQyIsCiAgICAiOEUwRiI6IkNDQTQiLAogICAgIjhFMTQiOiJGNUQ2IiwKICAgICI4RTFEIjoiRjVENyIsCiAgICAiOEUxRSI6IkJFRTEiLAogICAgIjhFMUYiOiJGNUQ4IiwKICAgICI4RTIyIjoiQ0NERiIsCiAgICAiOEUyMyI6IkY1REIiLAogICAgIjhFMjkiOiJCMkM4IiwKICAgICI4RTJBIjoiRDdEOSIsCiAgICAiOEUyQyI6IkY1RDkiLAogICAgIjhFMkUiOiJGNURBIiwKICAgICI4RTJGIjoiRjVEQyIsCiAgICAiOEUzMSI6IkY1RTIiLAogICAgIjhFMzUiOiJGNUUwIiwKICAgICI4RTM5IjoiRjVERiIsCiAgICAiOEUzQSI6IkY1REQiLAogICAgIjhFM0QiOiJGNUUxIiwKICAgICI4RTQwIjoiRjVERSIsCiAgICAiOEU0MSI6IkY1RTQiLAogICAgIjhFNDIiOiJGNUU1IiwKICAgICI4RTQ0IjoiQ0NFMyIsCiAgICAiOEU0NyI6IkU1QkYiLAogICAgIjhFNDgiOiJCNUI4IiwKICAgICI4RTQ5IjoiRjVFMyIsCiAgICAiOEU0QSI6IkY1RTgiLAogICAgIjhFNEIiOiJDQ0EzIiwKICAgICI4RTUxIjoiRjVFNiIsCiAgICAiOEU1MiI6IkY1RTciLAogICAgIjhFNTkiOiJGNUJFIiwKICAgICI4RTY2IjoiQjFDNCIsCiAgICAiOEU2OSI6IkY1QkYiLAogICAgIjhFNkMiOiJCNUM1IiwKICAgICI4RTZEIjoiQjJFNCIsCiAgICAiOEU2RiI6IkY1RUMiLAogICAgIjhFNzAiOiJGNUU5IiwKICAgICI4RTcyIjoiQjZENyIsCiAgICAiOEU3NCI6IkY1RUQiLAogICAgIjhFNzYiOiJGNUVBIiwKICAgICI4RTdDIjoiRjVFQiIsCiAgICAiOEU3RiI6IkI0REEiLAogICAgIjhFODEiOiJENEVBIiwKICAgICI4RTg1IjoiRjVFRSIsCiAgICAiOEU4NyI6IkIzRjkiLAogICAgIjhFOEYiOiJGNUVGIiwKICAgICI4RTkwIjoiRjVGMSIsCiAgICAiOEU5NCI6IkY1RjAiLAogICAgIjhFOUMiOiJGNUYyIiwKICAgICI4RTlFIjoiRjVGMyIsCiAgICAiOEVBQiI6IkM5RUQiLAogICAgIjhFQUMiOiJCOUFBIiwKICAgICI4RUFGIjoiQzdGQiIsCiAgICAiOEVCMiI6IkI2RTMiLAogICAgIjhFQkEiOiJDQ0M5IiwKICAgICI4RUNFIjoiRUFBNiIsCiAgICAiOEY2NiI6IkIzQjUiLAogICAgIjhGNjciOiJENEZFIiwKICAgICI4RjY4IjoiQjlFQyIsCiAgICAiOEY2OSI6IkQwRjkiLAogICAgIjhGNkIiOiJFOUVEIiwKICAgICI4RjZDIjoiRDdBQSIsCiAgICAiOEY2RCI6IkU5RUUiLAogICAgIjhGNkUiOiJDMkQ2IiwKICAgICI4RjZGIjoiQzhFRCIsCiAgICAiOEY3MCI6IkJBRTQiLAogICAgIjhGNzEiOiJFOUVGIiwKICAgICI4RjcyIjoiRTlGMCIsCiAgICAiOEY3MyI6IkU5RjEiLAogICAgIjhGNzQiOiJENkUxIiwKICAgICI4Rjc1IjoiRTlGMiIsCiAgICAiOEY3NiI6IkU5RjMiLAogICAgIjhGNzciOiJFOUY1IiwKICAgICI4Rjc4IjoiRTlGNCIsCiAgICAiOEY3OSI6IkU5RjYiLAogICAgIjhGN0EiOiJFOUY3IiwKICAgICI4RjdCIjoiQzdFMSIsCiAgICAiOEY3QyI6IkU5RjgiLAogICAgIjhGN0QiOiJENEQ4IiwKICAgICI4RjdFIjoiRTlGOSIsCiAgICAiOEY3RiI6IkJEQ0UiLAogICAgIjhGODEiOiJFOUZBIiwKICAgICI4RjgyIjoiRTlGQiIsCiAgICAiOEY4MyI6IkJEQ0YiLAogICAgIjhGODQiOiJFOUZDIiwKICAgICI4Rjg1IjoiQjhBOCIsCiAgICAiOEY4NiI6IkMxQkUiLAogICAgIjhGODciOiJFOUZEIiwKICAgICI4Rjg4IjoiQjFCMiIsCiAgICAiOEY4OSI6IkJCRDQiLAogICAgIjhGOEEiOiJCOUY1IiwKICAgICI4RjhCIjoiRTlGRSIsCiAgICAiOEY4RCI6IkVBQTEiLAogICAgIjhGOEUiOiJFQUEyIiwKICAgICI4RjhGIjoiRUFBMyIsCiAgICAiOEY5MCI6IkI3RjgiLAogICAgIjhGOTEiOiJCQ0FEIiwKICAgICI4RjkzIjoiQ0FFNCIsCiAgICAiOEY5NCI6IkUwQ0UiLAogICAgIjhGOTUiOiJENEFGIiwKICAgICI4Rjk2IjoiQ0ZCRCIsCiAgICAiOEY5NyI6IkQ1QjciLAogICAgIjhGOTgiOiJFQUE0IiwKICAgICI4Rjk5IjoiRDVERSIsCiAgICAiOEY5QSI6IkVBQTUiLAogICAgIjhGOUIiOiJEMEMxIiwKICAgICI4RjlDIjoiQjlCQyIsCiAgICAiOEY5RSI6IkI0QzciLAogICAgIjhGOUYiOiJCMUQ5IiwKICAgICI4RkEzIjoiQzBCMSIsCiAgICAiOEZBOCI6IkIxRTYiLAogICAgIjhGQTkiOiJCMUU3IiwKICAgICI4RkFCIjoiQjFFOCIsCiAgICAiOEZCMCI6IkIzQkQiLAogICAgIjhGQjEiOiJDOEU4IiwKICAgICI4RkI2IjoiRTVDMSIsCiAgICAiOEZCOSI6IkIxREYiLAogICAgIjhGQkQiOiJDMUM5IiwKICAgICI4RkJFIjoiQjRFRiIsCiAgICAiOEZDMSI6IkM3QTgiLAogICAgIjhGQzIiOiJEM0Q4IiwKICAgICI4RkM0IjoiQzZGOSIsCiAgICAiOEZDNSI6IkQxQjgiLAogICAgIjhGQzciOiJCOUZEIiwKICAgICI4RkM4IjoiQzJGNSIsCiAgICAiOEZDRSI6IkQzQUQiLAogICAgIjhGRDAiOiJENENCIiwKICAgICI4RkQxIjoiQkRGQyIsCiAgICAiOEZEMyI6IkU1QzIiLAogICAgIjhGRDQiOiJCN0I1IiwKICAgICI4RkQ1IjoiRTVDMyIsCiAgICAiOEZEOCI6IkJCQjkiLAogICAgIjhGRDkiOiJENUUyIiwKICAgICI4RkRCIjoiQkRGOCIsCiAgICAiOEZEQyI6IkQ0QjYiLAogICAgIjhGREQiOiJDRUE1IiwKICAgICI4RkRFIjoiQzFBQyIsCiAgICAiOEZERiI6IkIzRDkiLAogICAgIjhGRTIiOiJDQ0Y2IiwKICAgICI4RkU0IjoiRTVDNiIsCiAgICAiOEZFNSI6IkU1QzQiLAogICAgIjhGRTYiOiJFNUM4IiwKICAgICI4RkU4IjoiRTVDQSIsCiAgICAiOEZFOSI6IkU1QzciLAogICAgIjhGRUEiOiJCNUNGIiwKICAgICI4RkVCIjoiQzZDOCIsCiAgICAiOEZFRCI6IkI1RkMiLAogICAgIjhGRUUiOiJFNUM1IiwKICAgICI4RkYwIjoiQ0FGNiIsCiAgICAiOEZGMyI6IkU1QzkiLAogICAgIjhGRjciOiJDM0Q0IiwKICAgICI4RkY4IjoiQjFDNSIsCiAgICAiOEZGOSI6IkJDQTMiLAogICAgIjhGRkQiOiJEN0I3IiwKICAgICI5MDAwIjoiQ0RDQiIsCiAgICAiOTAwMSI6IkNCQ0QiLAogICAgIjkwMDIiOiJDQUNBIiwKICAgICI5MDAzIjoiQ0NEMyIsCiAgICAiOTAwNCI6IkU1Q0MiLAogICAgIjkwMDUiOiJFNUNCIiwKICAgICI5MDA2IjoiQzRFNiIsCiAgICAiOTAwOSI6IkQxQTEiLAogICAgIjkwMEEiOiJEMUI3IiwKICAgICI5MDBCIjoiRTVDRCIsCiAgICAiOTAwRCI6IkU1RDAiLAogICAgIjkwMEYiOiJDREI4IiwKICAgICI5MDEwIjoiRDZGMCIsCiAgICAiOTAxMSI6IkU1Q0YiLAogICAgIjkwMTIiOiJCNUREIiwKICAgICI5MDE0IjoiQ0RCRSIsCiAgICAiOTAxNiI6IkU1RDEiLAogICAgIjkwMTciOiJCNkJBIiwKICAgICI5MDFBIjoiQ0RBOCIsCiAgICAiOTAxQiI6IkI5RTQiLAogICAgIjkwMUQiOiJDQUM1IiwKICAgICI5MDFFIjoiQjNEMSIsCiAgICAiOTAxRiI6IkNCRDkiLAogICAgIjkwMjAiOiJENEVDIiwKICAgICI5MDIxIjoiRTVEMiIsCiAgICAiOTAyMiI6IkI3RUEiLAogICAgIjkwMjYiOiJFNUNFIiwKICAgICI5MDJEIjoiRTVENSIsCiAgICAiOTAyRSI6IkI0RkUiLAogICAgIjkwMkYiOiJFNUQ2IiwKICAgICI5MDM1IjoiRTVEMyIsCiAgICAiOTAzNiI6IkU1RDQiLAogICAgIjkwMzgiOiJEMkREIiwKICAgICI5MDNCIjoiQzJERiIsCiAgICAiOTAzQyI6IkIxQzYiLAogICAgIjkwM0UiOiJEM0UyIiwKICAgICI5MDQxIjoiQjZERCIsCiAgICAiOTA0MiI6IkNCRUMiLAogICAgIjkwNDQiOiJFNUQ3IiwKICAgICI5MDQ3IjoiRDNGNiIsCiAgICAiOTA0RCI6IkIxRTkiLAogICAgIjkwNEYiOiJCNkY0IiwKICAgICI5MDUwIjoiRTVEQSIsCiAgICAiOTA1MSI6IkU1RDgiLAogICAgIjkwNTIiOiJFNUQ5IiwKICAgICI5MDUzIjoiQjVDMCIsCiAgICAiOTA1NyI6IkQyQzUiLAogICAgIjkwNTgiOiJFNURDIiwKICAgICI5MDVCIjoiRTVERSIsCiAgICAiOTA2MiI6IkU1REQiLAogICAgIjkwNjMiOiJDN0IyIiwKICAgICI5MDY1IjoiRDJBMyIsCiAgICAiOTA2OCI6IkU1REIiLAogICAgIjkwNkQiOiJENEUyIiwKICAgICI5MDZFIjoiRDVEQSIsCiAgICAiOTA3NCI6IkU1RTAiLAogICAgIjkwNzUiOiJEN0YxIiwKICAgICI5MDdEIjoiRTVFMSIsCiAgICAiOTA3RiI6IkIxREMiLAogICAgIjkwODAiOiJEMUZCIiwKICAgICI5MDgyIjoiRTVFMiIsCiAgICAiOTA4MyI6IkU1RTQiLAogICAgIjkwODgiOiJFNUUzIiwKICAgICI5MDhCIjoiRTVFNSIsCiAgICAiOTA5MSI6IkQyRDgiLAogICAgIjkwOTMiOiJCNUNCIiwKICAgICI5MDk1IjoiRTdERiIsCiAgICAiOTA5NyI6IkRBRjUiLAogICAgIjkwOTkiOiJEQUY4IiwKICAgICI5MDlCIjoiREFGNiIsCiAgICAiOTA5RCI6IkRBRjciLAogICAgIjkwQTEiOiJEQUZBIiwKICAgICI5MEEyIjoiRDBDRiIsCiAgICAiOTBBMyI6IkM0QzciLAogICAgIjkwQTYiOiJCMEVFIiwKICAgICI5MEFBIjoiRDBCMCIsCiAgICAiOTBBQyI6IkRBRjkiLAogICAgIjkwQUUiOiJEM0NBIiwKICAgICI5MEFGIjoiQkFBQSIsCiAgICAiOTBCMCI6IkRCQTIiLAogICAgIjkwQjEiOiJDN0YxIiwKICAgICI5MEIzIjoiREFGQyIsCiAgICAiOTBCNCI6IkRBRkIiLAogICAgIjkwQjUiOiJDOURCIiwKICAgICI5MEI2IjoiREFGRCIsCiAgICAiOTBCOCI6IkRCQTEiLAogICAgIjkwQjkiOiJEN0RFIiwKICAgICI5MEJBIjoiREFGRSIsCiAgICAiOTBCQiI6IkMxREEiLAogICAgIjkwQkUiOiJEQkE1IiwKICAgICI5MEMxIjoiRDNGNCIsCiAgICAiOTBDNCI6IkRCQTciLAogICAgIjkwQzUiOiJEQkE0IiwKICAgICI5MEM3IjoiREJBOCIsCiAgICAiOTBDQSI6IkJEQkMiLAogICAgIjkwQ0UiOiJDMEM5IiwKICAgICI5MENGIjoiREJBMyIsCiAgICAiOTBEMCI6IkRCQTYiLAogICAgIjkwRDEiOiJENkEzIiwKICAgICI5MEQzIjoiREJBOSIsCiAgICAiOTBENyI6IkRCQUQiLAogICAgIjkwREIiOiJEQkFFIiwKICAgICI5MERDIjoiREJBQyIsCiAgICAiOTBERCI6IkJBQzIiLAogICAgIjkwRTEiOiJCRkE0IiwKICAgICI5MEUyIjoiREJBQiIsCiAgICAiOTBFNiI6IkRCQUEiLAogICAgIjkwRTciOiJENEM3IiwKICAgICI5MEU4IjoiQjJCRiIsCiAgICAiOTBFQiI6IkRCQUYiLAogICAgIjkwRUQiOiJCOUY5IiwKICAgICI5MEVGIjoiREJCMCIsCiAgICAiOTBGNCI6IkIzQkIiLAogICAgIjkwRjgiOiJCNUE2IiwKICAgICI5MEZEIjoiQjZCQyIsCiAgICAiOTBGRSI6IkRCQjEiLAogICAgIjkxMDIiOiJCNkY1IiwKICAgICI5MTA0IjoiREJCMiIsCiAgICAiOTExOSI6IkIxQzkiLAogICAgIjkxMUUiOiJEQkI0IiwKICAgICI5MTIyIjoiREJCMyIsCiAgICAiOTEyMyI6IkRCQjUiLAogICAgIjkxMkYiOiJEQkI3IiwKICAgICI5MTMxIjoiREJCNiIsCiAgICAiOTEzOSI6IkRCQjgiLAogICAgIjkxNDMiOiJEQkI5IiwKICAgICI5MTQ2IjoiREJCQSIsCiAgICAiOTE0OSI6IkQzQ0YiLAogICAgIjkxNEEiOiJGNEZBIiwKICAgICI5MTRCIjoiQzdGNSIsCiAgICAiOTE0QyI6IkQ3QzMiLAogICAgIjkxNEQiOiJDNUU0IiwKICAgICI5MTRFIjoiRjRGQyIsCiAgICAiOTE0RiI6IkY0RkQiLAogICAgIjkxNTAiOiJGNEZCIiwKICAgICI5MTUyIjoiQkVDNiIsCiAgICAiOTE1NyI6IkQwRUYiLAogICAgIjkxNUEiOiJCN0QzIiwKICAgICI5MTVEIjoiRDRDRCIsCiAgICAiOTE1RSI6IkNDQUEiLAogICAgIjkxNjEiOiJGNUEyIiwKICAgICI5MTYyIjoiRjVBMSIsCiAgICAiOTE2MyI6IkJBQTgiLAogICAgIjkxNjQiOiJGNEZFIiwKICAgICI5MTY1IjoiQ0JENiIsCiAgICAiOTE2OSI6IkY1QTQiLAogICAgIjkxNkEiOiJDMEQyIiwKICAgICI5MTZDIjoiQjNFQSIsCiAgICAiOTE2RSI6IkNEQUEiLAogICAgIjkxNkYiOiJGNUE1IiwKICAgICI5MTcwIjoiRjVBMyIsCiAgICAiOTE3MSI6IkJEQjQiLAogICAgIjkxNzIiOiJGNUE4IiwKICAgICI5MTc0IjoiRjVBOSIsCiAgICAiOTE3NSI6IkJEQ0QiLAogICAgIjkxNzYiOiJDM0I4IiwKICAgICI5MTc3IjoiQkZFMSIsCiAgICAiOTE3OCI6IkNCRTEiLAogICAgIjkxNzkiOiJGNUFBIiwKICAgICI5MTdEIjoiRjVBNiIsCiAgICAiOTE3RSI6IkY1QTciLAogICAgIjkxN0YiOiJDNEYwIiwKICAgICI5MTg1IjoiRjVBQyIsCiAgICAiOTE4NyI6IkI0QkMiLAogICAgIjkxODkiOiJEN0VEIiwKICAgICI5MThCIjoiQjRENyIsCiAgICAiOTE4QyI6IkY1QUIiLAogICAgIjkxOEQiOiJGNUFFIiwKICAgICI5MTkwIjoiRjVBRCIsCiAgICAiOTE5MSI6IkY1QUYiLAogICAgIjkxOTIiOiJEMEQxIiwKICAgICI5MTlBIjoiQzNEMSIsCiAgICAiOTE5QiI6IkM4QTkiLAogICAgIjkxQTIiOiJGNUIwIiwKICAgICI5MUEzIjoiRjVCMSIsCiAgICAiOTFBQSI6IkY1QjIiLAogICAgIjkxQUQiOiJGNUIzIiwKICAgICI5MUFFIjoiRjVCNCIsCiAgICAiOTFBRiI6IkY1QjUiLAogICAgIjkxQjQiOiJGNUI3IiwKICAgICI5MUI1IjoiRjVCNiIsCiAgICAiOTFCQSI6IkY1QjgiLAogICAgIjkxQzciOiJCMkM5IiwKICAgICI5MUM5IjoiRDNENCIsCiAgICAiOTFDQSI6IkNBQ0QiLAogICAgIjkxQ0MiOiJDMEVGIiwKICAgICI5MUNEIjoiRDZEOCIsCiAgICAiOTFDRSI6IkQyQjAiLAogICAgIjkxQ0YiOiJDMUJGIiwKICAgICI5MUQxIjoiQkRGMCIsCiAgICAiOTFEQyI6IkI4QUEiLAogICAgIjkyNzQiOiJCQ0Y4IiwKICAgICI5MjhFIjoiRjZDNiIsCiAgICAiOTJBRSI6IkY2QzciLAogICAgIjkyQzgiOiJGNkM4IiwKICAgICI5MzNFIjoiRjZDOSIsCiAgICAiOTM2QSI6IkY2Q0EiLAogICAgIjkzOEYiOiJGNkNDIiwKICAgICI5M0NBIjoiRjZDQiIsCiAgICAiOTNENiI6IkY3RTkiLAogICAgIjk0M0UiOiJGNkNEIiwKICAgICI5NDZCIjoiRjZDRSIsCiAgICAiOTQ4NSI6IkVFQzQiLAogICAgIjk0ODYiOiJFRUM1IiwKICAgICI5NDg3IjoiRUVDNiIsCiAgICAiOTQ4OCI6IkQ1RUIiLAogICAgIjk0ODkiOiJCNkE0IiwKICAgICI5NDhBIjoiRUVDOCIsCiAgICAiOTQ4QiI6IkVFQzciLAogICAgIjk0OEMiOiJFRUM5IiwKICAgICI5NDhEIjoiRUVDQSIsCiAgICAiOTQ4RSI6IkM3QTUiLAogICAgIjk0OEYiOiJFRUNCIiwKICAgICI5NDkwIjoiRUVDQyIsCiAgICAiOTQ5MiI6IkI3QjAiLAogICAgIjk0OTMiOiJCNUY2IiwKICAgICI5NDk0IjoiRUVDRCIsCiAgICAiOTQ5NSI6IkVFQ0YiLAogICAgIjk0OTciOiJFRUNFIiwKICAgICI5NDk5IjoiQjhDNiIsCiAgICAiOTQ5QSI6IkVFRDAiLAogICAgIjk0OUIiOiJFRUQxIiwKICAgICI5NDlDIjoiRUVEMiIsCiAgICAiOTQ5RCI6IkI2REIiLAogICAgIjk0OUUiOiJCM0FFIiwKICAgICI5NDlGIjoiRDZEMyIsCiAgICAiOTRBMCI6IkM0QzYiLAogICAgIjk0QTEiOiJCMUI1IiwKICAgICI5NEEyIjoiQjhENiIsCiAgICAiOTRBMyI6IkVFRDMiLAogICAgIjk0QTQiOiJFRUQ0IiwKICAgICI5NEE1IjoiRDRCRiIsCiAgICAiOTRBNiI6IkM3RDUiLAogICAgIjk0QTciOiJCRUZCIiwKICAgICI5NEE4IjoiQ0VEOSIsCiAgICAiOTRBOSI6IkI5QjMiLAogICAgIjk0QUEiOiJFRUQ2IiwKICAgICI5NEFCIjoiRUVENSIsCiAgICAiOTRBQyI6IkVFRDgiLAogICAgIjk0QUQiOiJFRUQ3IiwKICAgICI5NEFFIjoiQzVBNSIsCiAgICAiOTRBRiI6IkVFRDkiLAogICAgIjk0QjAiOiJFRURBIiwKICAgICI5NEIxIjoiQzdBRSIsCiAgICAiOTRCMiI6IkVFREIiLAogICAgIjk0QjMiOiJDN0FGIiwKICAgICI5NEI0IjoiRUVEQyIsCiAgICAiOTRCNSI6IkIyQTciLAogICAgIjk0QjYiOiJFRUREIiwKICAgICI5NEI3IjoiRUVERSIsCiAgICAiOTRCOCI6IkVFREYiLAogICAgIjk0QjkiOiJFRUUwIiwKICAgICI5NEJBIjoiRUVFMSIsCiAgICAiOTRCQiI6IkQ3RUEiLAogICAgIjk0QkMiOiJFRUUyIiwKICAgICI5NEJEIjoiRUVFMyIsCiAgICAiOTRCRSI6IkJDRDgiLAogICAgIjk0QkYiOiJFRUU0IiwKICAgICI5NEMwIjoiRDNDQiIsCiAgICAiOTRDMSI6IkNDRkEiLAogICAgIjk0QzIiOiJCMkFDIiwKICAgICI5NEMzIjoiQzFFNSIsCiAgICAiOTRDNCI6IkVFRTUiLAogICAgIjk0QzUiOiJDN0E2IiwKICAgICI5NEM2IjoiQzNBRCIsCiAgICAiOTRDOCI6IkVFRTYiLAogICAgIjk0QzkiOiJFRUU3IiwKICAgICI5NENBIjoiRUVFOCIsCiAgICAiOTRDQiI6IkVFRTkiLAogICAgIjk0Q0MiOiJFRUVBIiwKICAgICI5NENEIjoiRUVFQiIsCiAgICAiOTRDRSI6IkVFRUMiLAogICAgIjk0RDAiOiJFRUVEIiwKICAgICI5NEQxIjoiRUVFRSIsCiAgICAiOTREMiI6IkVFRUYiLAogICAgIjk0RDUiOiJFRUYwIiwKICAgICI5NEQ2IjoiRUVGMSIsCiAgICAiOTRENyI6IkVFRjIiLAogICAgIjk0RDgiOiJFRUY0IiwKICAgICI5NEQ5IjoiRUVGMyIsCiAgICAiOTREQiI6IkVFRjUiLAogICAgIjk0REMiOiJDREFEIiwKICAgICI5NEREIjoiQzJDMSIsCiAgICAiOTRERSI6IkVFRjYiLAogICAgIjk0REYiOiJFRUY3IiwKICAgICI5NEUwIjoiRUVGOCIsCiAgICAiOTRFMSI6IkQ1QTEiLAogICAgIjk0RTIiOiJFRUY5IiwKICAgICI5NEUzIjoiQ0ZCMyIsCiAgICAiOTRFNCI6IkVFRkEiLAogICAgIjk0RTUiOiJFRUZCIiwKICAgICI5NEU3IjoiRUVGQyIsCiAgICAiOTRFOCI6IkVFRkQiLAogICAgIjk0RTkiOiJFRkExIiwKICAgICI5NEVBIjoiRUVGRSIsCiAgICAiOTRFQiI6IkVGQTIiLAogICAgIjk0RUMiOiJCOEY1IiwKICAgICI5NEVEIjoiQzNGQSIsCiAgICAiOTRFRSI6IkVGQTMiLAogICAgIjk0RUYiOiJFRkE0IiwKICAgICI5NEYwIjoiQkRDMiIsCiAgICAiOTRGMSI6IkQyQkYiLAogICAgIjk0RjIiOiJCMkY5IiwKICAgICI5NEYzIjoiRUZBNSIsCiAgICAiOTRGNCI6IkVGQTYiLAogICAgIjk0RjUiOiJFRkE3IiwKICAgICI5NEY2IjoiRDJGOCIsCiAgICAiOTRGNyI6IkVGQTgiLAogICAgIjk0RjgiOiJENkZEIiwKICAgICI5NEY5IjoiRUZBOSIsCiAgICAiOTRGQSI6IkM2Q0MiLAogICAgIjk0RkMiOiJFRkFBIiwKICAgICI5NEZEIjoiRUZBQiIsCiAgICAiOTRGRSI6IkMxQjQiLAogICAgIjk0RkYiOiJFRkFDIiwKICAgICI5NTAwIjoiQ0ZGQSIsCiAgICAiOTUwMSI6IkNCRjgiLAogICAgIjk1MDIiOiJFRkFFIiwKICAgICI5NTAzIjoiRUZBRCIsCiAgICAiOTUwNCI6IkIzRkEiLAogICAgIjk1MDUiOiJCOUY4IiwKICAgICI5NTA2IjoiRUZBRiIsCiAgICAiOTUwNyI6IkVGQjAiLAogICAgIjk1MDgiOiJEMEUyIiwKICAgICI5NTA5IjoiRUZCMSIsCiAgICAiOTUwQSI6IkVGQjIiLAogICAgIjk1MEIiOiJCN0U2IiwKICAgICI5NTBDIjoiRDBCRiIsCiAgICAiOTUwRCI6IkVGQjMiLAogICAgIjk1MEUiOiJFRkI0IiwKICAgICI5NTBGIjoiRUZCNSIsCiAgICAiOTUxMCI6IkM4RjEiLAogICAgIjk1MTEiOiJDQ0UwIiwKICAgICI5NTEyIjoiRUZCNiIsCiAgICAiOTUxMyI6IkVGQjciLAogICAgIjk1MTQiOiJFRkI4IiwKICAgICI5NTE1IjoiRUZCOSIsCiAgICAiOTUxNiI6IkVGQkEiLAogICAgIjk1MTciOiJENUUwIiwKICAgICI5NTE4IjoiRUZCQiIsCiAgICAiOTUxOSI6IkI0RUQiLAogICAgIjk1MUEiOiJDM0FBIiwKICAgICI5NTFCIjoiRUZCQyIsCiAgICAiOTUxRCI6IkVGQkQiLAogICAgIjk1MUUiOiJFRkJFIiwKICAgICI5NTFGIjoiRUZCRiIsCiAgICAiOTUyMSI6IkNFRkQiLAogICAgIjk1MjIiOiJFRkMwIiwKICAgICI5NTIzIjoiQzJFMCIsCiAgICAiOTUyNCI6IkI0QjgiLAogICAgIjk1MjUiOiJEN0I2IiwKICAgICI5NTI2IjoiQkRGNSIsCiAgICAiOTUyOCI6IkNGQzciLAogICAgIjk1MjkiOiJFRkMzIiwKICAgICI5NTJBIjoiRUZDMSIsCiAgICAiOTUyQiI6IkVGQzIiLAogICAgIjk1MkMiOiJFRkM0IiwKICAgICI5NTJEIjoiQjZBNyIsCiAgICAiOTUyRSI6IkJDRkMiLAogICAgIjk1MkYiOiJCRUUyIiwKICAgICI5NTMwIjoiQzNDQyIsCiAgICAiOTUzMSI6IkVGQzUiLAogICAgIjk1MzIiOiJFRkM2IiwKICAgICI5NTM0IjoiRUZDNyIsCiAgICAiOTUzNSI6IkVGQ0YiLAogICAgIjk1MzYiOiJFRkM4IiwKICAgICI5NTM3IjoiRUZDOSIsCiAgICAiOTUzOCI6IkVGQ0EiLAogICAgIjk1MzkiOiJDN0MyIiwKICAgICI5NTNBIjoiRUZGMSIsCiAgICAiOTUzQiI6IkI2Q0QiLAogICAgIjk1M0MiOiJFRkNCIiwKICAgICI5NTNFIjoiRUZDQyIsCiAgICAiOTUzRiI6IkVGQ0QiLAogICAgIjk1NDAiOiJCNkM2IiwKICAgICI5NTQxIjoiQzNCRSIsCiAgICAiOTU0MiI6IkVGQ0UiLAogICAgIjk1NDQiOiJFRkQwIiwKICAgICI5NTQ1IjoiRUZEMSIsCiAgICAiOTU0NiI6IkVGRDIiLAogICAgIjk1NDciOiJENUYyIiwKICAgICI5NTQ5IjoiRUZEMyIsCiAgICAiOTU0QSI6IkM0RjciLAogICAgIjk1NEMiOiJFRkQ0IiwKICAgICI5NTREIjoiQzRGOCIsCiAgICAiOTU0RSI6IkVGRDUiLAogICAgIjk1NEYiOiJFRkQ2IiwKICAgICI5NTUwIjoiQjhFNCIsCiAgICAiOTU1MSI6IkIwRjciLAogICAgIjk1NTIiOiJFRkQ3IiwKICAgICI5NTUzIjoiRUZEOCIsCiAgICAiOTU1NCI6IkVGRDkiLAogICAgIjk1NTYiOiJFRkRBIiwKICAgICI5NTU3IjoiRUZEQiIsCiAgICAiOTU1OCI6IkVGREMiLAogICAgIjk1NTkiOiJFRkREIiwKICAgICI5NTVCIjoiRUZERSIsCiAgICAiOTU1QyI6IkJFQjUiLAogICAgIjk1NUQiOiJFRkUxIiwKICAgICI5NTVFIjoiRUZERiIsCiAgICAiOTU1RiI6IkVGRTAiLAogICAgIjk1NjEiOiJFRkUyIiwKICAgICI5NTYyIjoiRUZFMyIsCiAgICAiOTU2MyI6IkMxQ0QiLAogICAgIjk1NjQiOiJFRkU0IiwKICAgICI5NTY1IjoiRUZFNSIsCiAgICAiOTU2NiI6IkVGRTYiLAogICAgIjk1NjciOiJFRkU3IiwKICAgICI5NTY4IjoiRUZFOCIsCiAgICAiOTU2OSI6IkVGRTkiLAogICAgIjk1NkEiOiJFRkVBIiwKICAgICI5NTZCIjoiRUZFQiIsCiAgICAiOTU2QyI6IkVGRUMiLAogICAgIjk1NkQiOiJDMEQ4IiwKICAgICI5NTZGIjoiRUZFRCIsCiAgICAiOTU3MCI6IkMxQUQiLAogICAgIjk1NzEiOiJFRkVFIiwKICAgICI5NTcyIjoiRUZFRiIsCiAgICAiOTU3MyI6IkVGRjAiLAogICAgIjk1NzYiOiJDRkUyIiwKICAgICI5NTdGIjoiQjNBNCIsCiAgICAiOTVFOCI6IkMzQzUiLAogICAgIjk1RTkiOiJFM0M1IiwKICAgICI5NUVBIjoiQzlDMSIsCiAgICAiOTVFQiI6IkUzQzYiLAogICAgIjk1RUQiOiJCMUQ1IiwKICAgICI5NUVFIjoiQ0VDQSIsCiAgICAiOTVFRiI6IkI0QjMiLAogICAgIjk1RjAiOiJDOEYyIiwKICAgICI5NUYxIjoiRTNDNyIsCiAgICAiOTVGMiI6IkNGRDAiLAogICAgIjk1RjMiOiJFM0M4IiwKICAgICI5NUY0IjoiQkNFNCIsCiAgICAiOTVGNSI6IkUzQzkiLAogICAgIjk1RjYiOiJFM0NBIiwKICAgICI5NUY3IjoiQzNDNiIsCiAgICAiOTVGOCI6IkQ1QTIiLAogICAgIjk1RjkiOiJDNEQ2IiwKICAgICI5NUZBIjoiQjlFQiIsCiAgICAiOTVGQiI6IkNFQzUiLAogICAgIjk1RkMiOiJFM0NCIiwKICAgICI5NUZEIjoiQzNGNiIsCiAgICAiOTVGRSI6IkUzQ0MiLAogICAgIjk2MDAiOiJCN0E3IiwKICAgICI5NjAxIjoiQjhGMyIsCiAgICAiOTYwMiI6IkJBRDIiLAogICAgIjk2MDMiOiJFM0NEIiwKICAgICI5NjA0IjoiRTNDRSIsCiAgICAiOTYwNSI6IkQ0QzQiLAogICAgIjk2MDYiOiJFM0NGIiwKICAgICI5NjA4IjoiRTNEMCIsCiAgICAiOTYwOSI6IkQxQ0IiLAogICAgIjk2MEEiOiJFM0QxIiwKICAgICI5NjBCIjoiRTNEMiIsCiAgICAiOTYwQyI6IkUzRDMiLAogICAgIjk2MEQiOiJFM0Q0IiwKICAgICI5NjBFIjoiRDFENiIsCiAgICAiOTYwRiI6IkUzRDUiLAogICAgIjk2MTAiOiJCMkZCIiwKICAgICI5NjExIjoiQzBCQiIsCiAgICAiOTYxMiI6IkUzRDYiLAogICAgIjk2MTQiOiJDMEFCIiwKICAgICI5NjE1IjoiRTNENyIsCiAgICAiOTYxNiI6IkUzRDgiLAogICAgIjk2MTciOiJFM0Q5IiwKICAgICI5NjE5IjoiRTNEQSIsCiAgICAiOTYxQSI6IkUzREIiLAogICAgIjk2MUMiOiJCOEI3IiwKICAgICI5NjFEIjoiREFFMiIsCiAgICAiOTYxRiI6IkI2RDMiLAogICAgIjk2MjEiOiJEQUU0IiwKICAgICI5NjIyIjoiREFFMyIsCiAgICAiOTYyQSI6IkRBRTYiLAogICAgIjk2MkUiOiJDOEVFIiwKICAgICI5NjMxIjoiREFFNSIsCiAgICAiOTYzMiI6IkI3QzAiLAogICAgIjk2MzMiOiJEMUY0IiwKICAgICI5NjM0IjoiRDJGNSIsCiAgICAiOTYzNSI6IkQ1RjMiLAogICAgIjk2MzYiOiJCREQ3IiwKICAgICI5NjNCIjoiRDdFOCIsCiAgICAiOTYzQyI6IkRBRTgiLAogICAgIjk2M0QiOiJEQUU3IiwKICAgICI5NjNGIjoiQjBBMiIsCiAgICAiOTY0MCI6IkNERDMiLAogICAgIjk2NDIiOiJEQUU5IiwKICAgICI5NjQ0IjoiQjhCRCIsCiAgICAiOTY0NSI6IkJDQ0EiLAogICAgIjk2NDYiOiJDMkJEIiwKICAgICI5NjQ3IjoiQzJBNCIsCiAgICAiOTY0OCI6IkIzQzIiLAogICAgIjk2NDkiOiJEQUVBIiwKICAgICI5NjRCIjoiQzJBQSIsCiAgICAiOTY0QyI6IkM0QjAiLAogICAgIjk2NEQiOiJCREI1IiwKICAgICI5NjUwIjoiQ0ZERSIsCiAgICAiOTY1NCI6IkRBRUIiLAogICAgIjk2NTUiOiJDOUMyIiwKICAgICI5NjVCIjoiQjFERCIsCiAgICAiOTY1RiI6IkRBRUMiLAogICAgIjk2NjEiOiJCNkI4IiwKICAgICI5NjYyIjoiRDRCQSIsCiAgICAiOTY2NCI6IkIzRkQiLAogICAgIjk2NjciOiJEQUVEIiwKICAgICI5NjY4IjoiRDRDOSIsCiAgICAiOTY2OSI6IkNGRDUiLAogICAgIjk2NkEiOiJDNUUzIiwKICAgICI5NjZDIjoiREFFRSIsCiAgICAiOTY3MiI6IkRBRUYiLAogICAgIjk2NzQiOiJEQUYwIiwKICAgICI5Njc1IjoiQzFFQSIsCiAgICAiOTY3NiI6IkNDRDUiLAogICAgIjk2NzciOiJDRkREIiwKICAgICI5Njg1IjoiRDNFNyIsCiAgICAiOTY4NiI6IkMyQTEiLAogICAgIjk2ODgiOiJEQUYxIiwKICAgICI5NjhCIjoiQ0JFNSIsCiAgICAiOTY4RCI6IkRBRjIiLAogICAgIjk2OEYiOiJDQkU2IiwKICAgICI5NjkwIjoiRDJGRSIsCiAgICAiOTY5NCI6IkI4RjQiLAogICAgIjk2OTciOiJEQUYzIiwKICAgICI5Njk4IjoiQjBBRiIsCiAgICAiOTY5OSI6IkNGQjYiLAogICAgIjk2OUMiOiJENUNGIiwKICAgICI5NkE3IjoiQ0JFRCIsCiAgICAiOTZCMCI6IkRBRjQiLAogICAgIjk2QjMiOiJFM0M0IiwKICAgICI5NkI2IjoiQzFBNSIsCiAgICAiOTZCOSI6IkY2QkYiLAogICAgIjk2QkMiOiJGNkMwIiwKICAgICI5NkJEIjoiRjZDMSIsCiAgICAiOTZCRSI6IkM0RDEiLAogICAgIjk2QzAiOiJDOEI4IiwKICAgICI5NkMxIjoiRDFFMyIsCiAgICAiOTZDNCI6IkQwREIiLAogICAgIjk2QzUiOiJEMUM1IiwKICAgICI5NkM2IjoiQkNBRiIsCiAgICAiOTZDNyI6IkI5Q0QiLAogICAgIjk2QzkiOiJFRkY0IiwKICAgICI5NkNDIjoiQjRDNiIsCiAgICAiOTZDRCI6IkQzQkEiLAogICAgIjk2Q0UiOiJGNkMyIiwKICAgICI5NkNGIjoiQjNGQiIsCiAgICAiOTZEMiI6IkY2QzMiLAogICAgIjk2RDUiOiJCNUYxIiwKICAgICI5NkUwIjoiRjZDNSIsCiAgICAiOTZFOCI6IkQzRUEiLAogICAgIjk2RTkiOiJGNkE3IiwKICAgICI5NkVBIjoiRDFBOSIsCiAgICAiOTZFRiI6IkY2QTkiLAogICAgIjk2RjMiOiJGNkE4IiwKICAgICI5NkY2IjoiQzFFMyIsCiAgICAiOTZGNyI6IkMwRDciLAogICAgIjk2RjkiOiJCMUEyIiwKICAgICI5NkZFIjoiQ0VFRCIsCiAgICAiOTcwMCI6IkQwRTgiLAogICAgIjk3MDEiOiJGNkFCIiwKICAgICI5NzA0IjoiQ0ZGNiIsCiAgICAiOTcwNiI6IkY2QUEiLAogICAgIjk3MDciOiJENUYwIiwKICAgICI5NzA4IjoiRjZBQyIsCiAgICAiOTcwOSI6IkMzQjkiLAogICAgIjk3MEQiOiJCQkY0IiwKICAgICI5NzBFIjoiRjZBRSIsCiAgICAiOTcwRiI6IkY2QUQiLAogICAgIjk3MTMiOiJDNERFIiwKICAgICI5NzE2IjoiQzFEOCIsCiAgICAiOTcxQyI6IkNCQUEiLAogICAgIjk3MUUiOiJDRkJDIiwKICAgICI5NzJBIjoiRjZBRiIsCiAgICAiOTcyRCI6IkY2QjAiLAogICAgIjk3MzAiOiJGNkIxIiwKICAgICI5NzMyIjoiQzJCNiIsCiAgICAiOTczOCI6IkIwRDQiLAogICAgIjk3MzkiOiJDNUY5IiwKICAgICI5NzNFIjoiRjZCMiIsCiAgICAiOTc1MiI6IkM3RTAiLAogICAgIjk3NTMiOiJGNkE2IiwKICAgICI5NzU2IjoiQkVCOCIsCiAgICAiOTc1OSI6IkJFQjIiLAogICAgIjk3NUIiOiJCNUU1IiwKICAgICI5NzVFIjoiQjdDNyIsCiAgICAiOTc2MCI6IkJGQkYiLAogICAgIjk3NjEiOiJDM0QyIiwKICAgICI5NzYyIjoiQzNFNiIsCiAgICAiOTc2NSI6IkQ4Q0MiLAogICAgIjk3NjkiOiJCOEVGIiwKICAgICI5NzczIjoiQkRGOSIsCiAgICAiOTc3NCI6IkQxQTUiLAogICAgIjk3NzYiOiJCMEQwIiwKICAgICI5NzdDIjoiRjdCMCIsCiAgICAiOTc4NSI6IkY3QjEiLAogICAgIjk3OEIiOiJEMEFDIiwKICAgICI5NzhEIjoiQjBCMCIsCiAgICAiOTc5MSI6IkY3QjIiLAogICAgIjk3OTIiOiJGN0IzIiwKICAgICI5Nzk0IjoiRjdCNCIsCiAgICAiOTc5OCI6IkM3Q0EiLAogICAgIjk3QTAiOiJCRUNGIiwKICAgICI5N0EzIjoiRjdCNyIsCiAgICAiOTdBQiI6IkY3QjYiLAogICAgIjk3QUQiOiJCMURFIiwKICAgICI5N0FGIjoiRjdCNSIsCiAgICAiOTdCMiI6IkY3QjgiLAogICAgIjk3QjQiOiJGN0I5IiwKICAgICI5N0U2IjoiQ0VBNCIsCiAgICAiOTdFNyI6IkM4Q0QiLAogICAgIjk3RTkiOiJCQUFCIiwKICAgICI5N0VBIjoiRThCOCIsCiAgICAiOTdFQiI6IkU4QjkiLAogICAgIjk3RUMiOiJFOEJBIiwKICAgICI5N0VEIjoiQkVDMiIsCiAgICAiOTdGMyI6IkQyRjQiLAogICAgIjk3RjUiOiJENENGIiwKICAgICI5N0Y2IjoiQzlEOCIsCiAgICAiOTg3NSI6IkQyQjMiLAogICAgIjk4NzYiOiJCNkE1IiwKICAgICI5ODc3IjoiQzdFQSIsCiAgICAiOTg3OCI6IkYxRkMiLAogICAgIjk4NzkiOiJDRkVFIiwKICAgICI5ODdBIjoiQ0JCMyIsCiAgICAiOTg3QiI6IkQwRUIiLAogICAgIjk4N0MiOiJFN0VGIiwKICAgICI5ODdEIjoiQ0RFNyIsCiAgICAiOTg3RSI6IkI5Q0IiLAogICAgIjk4N0YiOiJCNkQ5IiwKICAgICI5ODgwIjoiRjFGRCIsCiAgICAiOTg4MSI6IkIwRTQiLAogICAgIjk4ODIiOiJDQkNDIiwKICAgICI5ODgzIjoiRjFGRSIsCiAgICAiOTg4NCI6IkQ0QTQiLAogICAgIjk4ODUiOiJDMkFEIiwKICAgICI5ODg2IjoiQzFFQyIsCiAgICAiOTg4NyI6IkM2QzQiLAogICAgIjk4ODgiOiJCRUIxIiwKICAgICI5ODg5IjoiRjJBMSIsCiAgICAiOTg4QSI6IkJDRDUiLAogICAgIjk4OEMiOiJGMkEyIiwKICAgICI5ODhEIjoiRjJBMyIsCiAgICAiOTg4RiI6IkYyQTQiLAogICAgIjk4OTAiOiJEMkMzIiwKICAgICI5ODkxIjoiQzZCNSIsCiAgICAiOTg5MyI6IkNEQzciLAogICAgIjk4OTQiOiJGMkE1IiwKICAgICI5ODk2IjoiRDNCMSIsCiAgICAiOTg5NyI6IkJGQzUiLAogICAgIjk4OTgiOiJDQ0UyIiwKICAgICI5ODlBIjoiRjJBNiIsCiAgICAiOTg5QiI6IkYyQTciLAogICAgIjk4OUMiOiJEMUQ1IiwKICAgICI5ODlEIjoiQjZFRSIsCiAgICAiOTg5RSI6IkYyQTgiLAogICAgIjk4OUYiOiJGMkE5IiwKICAgICI5OEEwIjoiQjVERiIsCiAgICAiOThBMSI6IkYyQUEiLAogICAgIjk4QTIiOiJGMkFCIiwKICAgICI5OEE0IjoiQjJGQyIsCiAgICAiOThBNSI6IkYyQUMiLAogICAgIjk4QTYiOiJGMkFEIiwKICAgICI5OEE3IjoiQzhBNyIsCiAgICAiOThDRSI6IkI3RTciLAogICAgIjk4RDEiOiJFQ0E5IiwKICAgICI5OEQyIjoiRUNBQSIsCiAgICAiOThEMyI6IkVDQUIiLAogICAgIjk4RDUiOiJFQ0FDIiwKICAgICI5OEQ4IjoiQzZBRSIsCiAgICAiOThEOSI6IkVDQUQiLAogICAgIjk4REEiOiJFQ0FFIiwKICAgICI5OERFIjoiQjdDOSIsCiAgICAiOThERiI6IkNBQjMiLAogICAgIjk4RTciOiJFMkI4IiwKICAgICI5OEU4IjoiRjdDRiIsCiAgICAiOTkwRCI6IkY3RDAiLAogICAgIjk5MTAiOiJCMkNEIiwKICAgICI5OTJFIjoiRjdEMSIsCiAgICAiOTk1NCI6IkY3RDMiLAogICAgIjk5NTUiOiJGN0QyIiwKICAgICI5OTYzIjoiRTJCQiIsCiAgICAiOTk2NSI6IkJDQTIiLAogICAgIjk5NjciOiJFMkJDIiwKICAgICI5OTY4IjoiRTJCRCIsCiAgICAiOTk2OSI6IkUyQkUiLAogICAgIjk5NkEiOiJFMkJGIiwKICAgICI5OTZCIjoiRTJDMCIsCiAgICAiOTk2QyI6IkUyQzEiLAogICAgIjk5NkQiOiJCN0I5IiwKICAgICI5OTZFIjoiRDJGQiIsCiAgICAiOTk2RiI6IkJEQTQiLAogICAgIjk5NzAiOiJDQUNFIiwKICAgICI5OTcxIjoiQjFBNSIsCiAgICAiOTk3MiI6IkNCQzciLAogICAgIjk5NzQiOiJFMkMyIiwKICAgICI5OTc1IjoiQjZGQyIsCiAgICAiOTk3NiI6IkM4QzQiLAogICAgIjk5NzciOiJFMkMzIiwKICAgICI5OTdBIjoiQkRDOCIsCiAgICAiOTk3QyI6IkIxRkQiLAogICAgIjk5N0QiOiJFMkM0IiwKICAgICI5OTdGIjoiQjZGNiIsCiAgICAiOTk4MCI6IkUyQzUiLAogICAgIjk5ODEiOiJDNEQ5IiwKICAgICI5OTg0IjoiRTJDNiIsCiAgICAiOTk4NSI6IkNGREEiLAogICAgIjk5ODYiOiJCOUREIiwKICAgICI5OTg3IjoiRTJDNyIsCiAgICAiOTk4OCI6IkMwQTEiLAogICAgIjk5OEEiOiJFMkM4IiwKICAgICI5OThCIjoiQjJGNiIsCiAgICAiOTk4RCI6IkUyQzkiLAogICAgIjk5OEYiOiJDMUYzIiwKICAgICI5OTkwIjoiRTJDQSIsCiAgICAiOTk5MSI6IkUyQ0IiLAogICAgIjk5OTIiOiJDMkY4IiwKICAgICI5OTkzIjoiRTJDQyIsCiAgICAiOTk5NCI6IkUyQ0QiLAogICAgIjk5OTUiOiJFMkNFIiwKICAgICI5OTk2IjoiQ0FENyIsCiAgICAiOTk5NyI6IkQ4QjgiLAogICAgIjk5OTgiOiJEOUU1IiwKICAgICI5OTk5IjoiQ0ZFMyIsCiAgICAiOTlBNSI6IkYwQTUiLAogICAgIjk5QTgiOiJEQ0IwIiwKICAgICI5QTZDIjoiQzJFRCIsCiAgICAiOUE2RCI6IkQ0QTYiLAogICAgIjlBNkUiOiJDREQ0IiwKICAgICI5QTZGIjoiRDFCMSIsCiAgICAiOUE3MCI6IkIzREIiLAogICAgIjlBNzEiOiJDN0ZEIiwKICAgICI5QTczIjoiQjJCNSIsCiAgICAiOUE3NCI6IkMyQkYiLAogICAgIjlBNzUiOiJFNkUwIiwKICAgICI5QTc2IjoiQ0FCQiIsCiAgICAiOUE3NyI6IkU2RTEiLAogICAgIjlBNzgiOiJFNkUyIiwKICAgICI5QTc5IjoiQkVENCIsCiAgICAiOUE3QSI6IkU2RTMiLAogICAgIjlBN0IiOiJEN0E0IiwKICAgICI5QTdDIjoiQ0RENSIsCiAgICAiOUE3RCI6IkU2RTUiLAogICAgIjlBN0UiOiJCQ0REIiwKICAgICI5QTdGIjoiRTZFNCIsCiAgICAiOUE4MCI6IkU2RTYiLAogICAgIjlBODEiOiJFNkU3IiwKICAgICI5QTgyIjoiQzJFRSIsCiAgICAiOUE4NCI6IkJEQkUiLAogICAgIjlBODUiOiJFNkU4IiwKICAgICI5QTg2IjoiQzJFNiIsCiAgICAiOUE4NyI6IkJBQTciLAogICAgIjlBODgiOiJFNkU5IiwKICAgICI5QThBIjoiRTZFQSIsCiAgICAiOUE4QiI6IkIzRDIiLAogICAgIjlBOEMiOiJEMUU5IiwKICAgICI5QThGIjoiQkZBNSIsCiAgICAiOUE5MCI6IkU2RUIiLAogICAgIjlBOTEiOiJDNkVGIiwKICAgICI5QTkyIjoiRTZFQyIsCiAgICAiOUE5MyI6IkU2RUQiLAogICAgIjlBOTYiOiJFNkVFIiwKICAgICI5QTk3IjoiQzZBRCIsCiAgICAiOUE5OCI6IkU2RUYiLAogICAgIjlBOUEiOiJDOUE3IiwKICAgICI5QTlCIjoiRTZGMCIsCiAgICAiOUE5QyI6IkU2RjEiLAogICAgIjlBOUQiOiJFNkYyIiwKICAgICI5QTlFIjoiRTVCOSIsCiAgICAiOUE5RiI6IkU2RjMiLAogICAgIjlBQTAiOiJFNkY0IiwKICAgICI5QUExIjoiQzJFMiIsCiAgICAiOUFBMiI6IkU2RjUiLAogICAgIjlBQTMiOiJFNkY2IiwKICAgICI5QUE0IjoiRDZFOCIsCiAgICAiOUFBNSI6IkU2RjciLAogICAgIjlBQTciOiJFNkY4IiwKICAgICI5QUE4IjoiQjlDNyIsCiAgICAiOUFCMCI6IkY3QkIiLAogICAgIjlBQjEiOiJGN0JBIiwKICAgICI5QUI2IjoiRjdCRSIsCiAgICAiOUFCNyI6IkY3QkMiLAogICAgIjlBQjgiOiJCQUExIiwKICAgICI5QUJBIjoiRjdCRiIsCiAgICAiOUFCQyI6IkY3QzAiLAogICAgIjlBQzAiOiJGN0MyIiwKICAgICI5QUMxIjoiRjdDMSIsCiAgICAiOUFDMiI6IkY3QzQiLAogICAgIjlBQzUiOiJGN0MzIiwKICAgICI5QUNCIjoiRjdDNSIsCiAgICAiOUFDQyI6IkY3QzYiLAogICAgIjlBRDEiOiJGN0M3IiwKICAgICI5QUQzIjoiQ0JFOCIsCiAgICAiOUFEOCI6IkI4REYiLAogICAgIjlBREYiOiJGN0Q0IiwKICAgICI5QUUxIjoiRjdENSIsCiAgICAiOUFFNiI6IkY3RDYiLAogICAgIjlBRUIiOiJGN0Q4IiwKICAgICI5QUVEIjoiRjdEQSIsCiAgICAiOUFFRiI6IkY3RDciLAogICAgIjlBRjkiOiJGN0RCIiwKICAgICI5QUZCIjoiRjdEOSIsCiAgICAiOUIwMyI6IkQ3RDciLAogICAgIjlCMDgiOiJGN0RDIiwKICAgICI5QjBGIjoiRjdERCIsCiAgICAiOUIxMyI6IkY3REUiLAogICAgIjlCMUYiOiJGN0RGIiwKICAgICI5QjIzIjoiRjdFMCIsCiAgICAiOUIyRiI6IkRCQ0IiLAogICAgIjlCMzIiOiJEOEFBIiwKICAgICI5QjNCIjoiRTVGNyIsCiAgICAiOUIzQyI6IkI5RUQiLAogICAgIjlCNDEiOiJCRkZEIiwKICAgICI5QjQyIjoiQkJFQSIsCiAgICAiOUI0MyI6IkY3QzkiLAogICAgIjlCNDQiOiJDNkM3IiwKICAgICI5QjQ1IjoiRjdDOCIsCiAgICAiOUI0NyI6IkY3Q0EiLAogICAgIjlCNDgiOiJGN0NDIiwKICAgICI5QjQ5IjoiRjdDQiIsCiAgICAiOUI0RCI6IkY3Q0QiLAogICAgIjlCNEYiOiJDRUJBIiwKICAgICI5QjUxIjoiRjdDRSIsCiAgICAiOUI1NCI6IkM0QTciLAogICAgIjlDN0MiOiJEM0UzIiwKICAgICI5QzdGIjoiRjZDRiIsCiAgICAiOUM4MSI6IkMyQjMiLAogICAgIjlDODIiOiJGNkQwIiwKICAgICI5Qzg1IjoiRjZEMSIsCiAgICAiOUM4NiI6IkY2RDIiLAogICAgIjlDODciOiJGNkQzIiwKICAgICI5Qzg4IjoiRjZENCIsCiAgICAiOUM4QiI6IkY2RDYiLAogICAgIjlDOEQiOiJCMUFCIiwKICAgICI5QzhFIjoiRjZENyIsCiAgICAiOUM5MCI6IkY2RDgiLAogICAgIjlDOTEiOiJGNkQ5IiwKICAgICI5QzkyIjoiRjZEQSIsCiAgICAiOUM5NCI6IkY2REIiLAogICAgIjlDOTUiOiJGNkRDIiwKICAgICI5QzlBIjoiRjZERCIsCiAgICAiOUM5QiI6IkY2REUiLAogICAgIjlDOUMiOiJDRkNBIiwKICAgICI5QzlFIjoiRjZERiIsCiAgICAiOUM5RiI6IkY2RTAiLAogICAgIjlDQTAiOiJGNkUxIiwKICAgICI5Q0ExIjoiRjZFMiIsCiAgICAiOUNBMiI6IkY2RTMiLAogICAgIjlDQTMiOiJGNkU0IiwKICAgICI5Q0E0IjoiQzBGMCIsCiAgICAiOUNBNSI6IkY2RTUiLAogICAgIjlDQTYiOiJGNkU2IiwKICAgICI5Q0E3IjoiRjZFNyIsCiAgICAiOUNBOCI6IkY2RTgiLAogICAgIjlDQTkiOiJGNkU5IiwKICAgICI5Q0FCIjoiRjZFQSIsCiAgICAiOUNBRCI6IkY2RUIiLAogICAgIjlDQUUiOiJGNkVDIiwKICAgICI5Q0IwIjoiRjZFRCIsCiAgICAiOUNCMSI6IkY2RUUiLAogICAgIjlDQjIiOiJGNkVGIiwKICAgICI5Q0IzIjoiRjZGMCIsCiAgICAiOUNCNCI6IkY2RjEiLAogICAgIjlDQjUiOiJGNkYyIiwKICAgICI5Q0I2IjoiRjZGMyIsCiAgICAiOUNCNyI6IkY2RjQiLAogICAgIjlDQjgiOiJCRUE4IiwKICAgICI5Q0JBIjoiRjZGNSIsCiAgICAiOUNCQiI6IkY2RjYiLAogICAgIjlDQkMiOiJGNkY3IiwKICAgICI5Q0JEIjoiRjZGOCIsCiAgICAiOUNDMyI6IkM4RkEiLAogICAgIjlDQzQiOiJGNkY5IiwKICAgICI5Q0M1IjoiRjZGQSIsCiAgICAiOUNDNiI6IkY2RkIiLAogICAgIjlDQzciOiJGNkZDIiwKICAgICI5Q0NBIjoiRjZGRCIsCiAgICAiOUNDQiI6IkY2RkUiLAogICAgIjlDQ0MiOiJGN0ExIiwKICAgICI5Q0NEIjoiRjdBMiIsCiAgICAiOUNDRSI6IkY3QTMiLAogICAgIjlDQ0YiOiJGN0E0IiwKICAgICI5Q0QwIjoiRjdBNSIsCiAgICAiOUNEMyI6IkY3QTYiLAogICAgIjlDRDQiOiJGN0E3IiwKICAgICI5Q0Q1IjoiRjdBOCIsCiAgICAiOUNENiI6IkIxRUUiLAogICAgIjlDRDciOiJGN0E5IiwKICAgICI5Q0Q4IjoiRjdBQSIsCiAgICAiOUNEOSI6IkY3QUIiLAogICAgIjlDREMiOiJGN0FDIiwKICAgICI5Q0REIjoiRjdBRCIsCiAgICAiOUNERSI6IkMxREIiLAogICAgIjlDREYiOiJGN0FFIiwKICAgICI5Q0UyIjoiRjdBRiIsCiAgICAiOUUxRiI6IkM0RjEiLAogICAgIjlFMjAiOiJGMEFGIiwKICAgICI5RTIxIjoiQkNBNiIsCiAgICAiOUUyMiI6IkYwQjAiLAogICAgIjlFMjMiOiJDM0Y5IiwKICAgICI5RTI1IjoiQzVCOCIsCiAgICAiOUUyNiI6IkQxQkIiLAogICAgIjlFMjgiOiJGMEIxIiwKICAgICI5RTI5IjoiRjBCMiIsCiAgICAiOUUyQSI6IkYwQjMiLAogICAgIjlFMkIiOiJGMEI0IiwKICAgICI5RTJDIjoiRjBCNSIsCiAgICAiOUUyRCI6IkQxQkMiLAogICAgIjlFMkYiOiJEMUVDIiwKICAgICI5RTMxIjoiRjBCNyIsCiAgICAiOUUzMiI6IkYwQjYiLAogICAgIjlFMzMiOiJENEE3IiwKICAgICI5RTM1IjoiQ0REMiIsCiAgICAiOUUzNiI6IkYwQjgiLAogICAgIjlFMzciOiJGMEJBIiwKICAgICI5RTM4IjoiRjBCOSIsCiAgICAiOUUzOSI6IkYwQkIiLAogICAgIjlFM0EiOiJGMEJDIiwKICAgICI5RTNEIjoiQjhFQiIsCiAgICAiOUUzRSI6IkYwQkQiLAogICAgIjlFM0YiOiJCQUU4IiwKICAgICI5RTQxIjoiRjBCRSIsCiAgICAiOUU0MiI6IkYwQkYiLAogICAgIjlFNDMiOiJCRUU5IiwKICAgICI5RTQ0IjoiRjBDMCIsCiAgICAiOUU0NSI6IkI2RUMiLAogICAgIjlFNDYiOiJGMEMxIiwKICAgICI5RTQ3IjoiRjBDMiIsCiAgICAiOUU0OCI6IkYwQzMiLAogICAgIjlFNDkiOiJGMEM0IiwKICAgICI5RTRBIjoiQzhCNSIsCiAgICAiOUU0QiI6IkYwQzUiLAogICAgIjlFNEMiOiJGMEM2IiwKICAgICI5RTRFIjoiRjBDNyIsCiAgICAiOUU0RiI6IkM1RjQiLAogICAgIjlFNTEiOiJGMEM4IiwKICAgICI5RTU1IjoiRjBDOSIsCiAgICAiOUU1NyI6IkYwQ0EiLAogICAgIjlFNTgiOiJGN0JEIiwKICAgICI5RTVBIjoiRjBDQiIsCiAgICAiOUU1QiI6IkYwQ0MiLAogICAgIjlFNUMiOiJGMENEIiwKICAgICI5RTVFIjoiRjBDRSIsCiAgICAiOUU2MyI6IkYwQ0YiLAogICAgIjlFNjQiOiJCQUQ3IiwKICAgICI5RTY2IjoiRjBEMCIsCiAgICAiOUU2NyI6IkYwRDEiLAogICAgIjlFNjgiOiJGMEQyIiwKICAgICI5RTY5IjoiRjBEMyIsCiAgICAiOUU2QSI6IkYwRDQiLAogICAgIjlFNkIiOiJGMEQ1IiwKICAgICI5RTZDIjoiRjBENiIsCiAgICAiOUU2RCI6IkYwRDgiLAogICAgIjlFNzAiOiJEM0E1IiwKICAgICI5RTcxIjoiRjBENyIsCiAgICAiOUU3MyI6IkYwRDkiLAogICAgIjlFN0UiOiJGNUJBIiwKICAgICI5RTdGIjoiQzJCOSIsCiAgICAiOUU4MiI6IkY3RTQiLAogICAgIjlFODciOiJGN0U1IiwKICAgICI5RTg4IjoiRjdFNiIsCiAgICAiOUU4QiI6IkY3RTciLAogICAgIjlFOTIiOiJGN0U4IiwKICAgICI5RTkzIjoiQzJCNCIsCiAgICAiOUU5RCI6IkY3RUEiLAogICAgIjlFOUYiOiJGN0VCIiwKICAgICI5RUE2IjoiQzJGMyIsCiAgICAiOUVCNCI6IkY0RjAiLAogICAgIjlFQjgiOiJGNEVGIiwKICAgICI5RUJCIjoiQzJFOSIsCiAgICAiOUVCRCI6IkY3RTEiLAogICAgIjlFQkUiOiJGN0UyIiwKICAgICI5RUM0IjoiQkJDNiIsCiAgICAiOUVDOSI6IkQ5RTQiLAogICAgIjlFQ0QiOiJDQUYyIiwKICAgICI5RUNFIjoiQzBFOCIsCiAgICAiOUVDRiI6IkYwQTQiLAogICAgIjlFRDEiOiJCQURBIiwKICAgICI5RUQ0IjoiQzdBRCIsCiAgICAiOUVEOCI6IkM0QUMiLAogICAgIjlFREIiOiJGN0VDIiwKICAgICI5RURDIjoiRjdFRCIsCiAgICAiOUVERCI6IkY3RUUiLAogICAgIjlFREYiOiJGN0YwIiwKICAgICI5RUUwIjoiRjdFRiIsCiAgICAiOUVFMiI6IkY3RjEiLAogICAgIjlFRTUiOiJGN0Y0IiwKICAgICI5RUU3IjoiRjdGMyIsCiAgICAiOUVFOSI6IkY3RjIiLAogICAgIjlFRUEiOiJGN0Y1IiwKICAgICI5RUVGIjoiRjdGNiIsCiAgICAiOUVGOSI6IkVERTkiLAogICAgIjlFRkIiOiJFREVBIiwKICAgICI5RUZDIjoiRURFQiIsCiAgICAiOUVGRSI6IkY2QkMiLAogICAgIjlGMEIiOiJGNkJEIiwKICAgICI5RjBEIjoiRjZCRSIsCiAgICAiOUYwRSI6IkI2QTYiLAogICAgIjlGMTAiOiJEOEJFIiwKICAgICI5RjEzIjoiQjlDNCIsCiAgICAiOUYxNyI6IkQ4QkIiLAogICAgIjlGMTkiOiJEQ0IxIiwKICAgICI5RjIwIjoiQ0FGMyIsCiAgICAiOUYyMiI6IkY3RjciLAogICAgIjlGMkMiOiJGN0Y4IiwKICAgICI5RjJGIjoiRjdGOSIsCiAgICAiOUYzNyI6IkY3RkIiLAogICAgIjlGMzkiOiJGN0ZBIiwKICAgICI5RjNCIjoiQjFDNyIsCiAgICAiOUYzRCI6IkY3RkMiLAogICAgIjlGM0UiOiJGN0ZEIiwKICAgICI5RjQ0IjoiRjdGRSIsCiAgICAiOUY1MCI6IkM2RUIiLAogICAgIjlGNTEiOiJFQ0I0IiwKICAgICI5RjdGIjoiQjNERCIsCiAgICAiOUY4MCI6IkY2QjMiLAogICAgIjlGODMiOiJGNkI0IiwKICAgICI5Rjg0IjoiQzFFNCIsCiAgICAiOUY4NSI6IkY2QjUiLAogICAgIjlGODYiOiJGNkI2IiwKICAgICI5Rjg3IjoiRjZCNyIsCiAgICAiOUY4OCI6IkY2QjgiLAogICAgIjlGODkiOiJGNkI5IiwKICAgICI5RjhBIjoiRjZCQSIsCiAgICAiOUY4QiI6IkM4QTMiLAogICAgIjlGOEMiOiJGNkJCIiwKICAgICI5Rjk5IjoiQzFGQSIsCiAgICAiOUY5QSI6IkI5QTgiLAogICAgIjlGOUIiOiJFREU4IiwKICAgICI5RjlGIjoiQjlFQSIsCiAgICAiOUZBMCI6IkQ5REYiLAogICAgIkZGMDEiOiJBM0ExIiwKICAgICJGRjAyIjoiQTNBMiIsCiAgICAiRkYwMyI6IkEzQTMiLAogICAgIkZGMDQiOiJBMUU3IiwKICAgICJGRjA1IjoiQTNBNSIsCiAgICAiRkYwNiI6IkEzQTYiLAogICAgIkZGMDciOiJBM0E3IiwKICAgICJGRjA4IjoiQTNBOCIsCiAgICAiRkYwOSI6IkEzQTkiLAogICAgIkZGMEEiOiJBM0FBIiwKICAgICJGRjBCIjoiQTNBQiIsCiAgICAiRkYwQyI6IkEzQUMiLAogICAgIkZGMEQiOiJBM0FEIiwKICAgICJGRjBFIjoiQTNBRSIsCiAgICAiRkYwRiI6IkEzQUYiLAogICAgIkZGMTAiOiJBM0IwIiwKICAgICJGRjExIjoiQTNCMSIsCiAgICAiRkYxMiI6IkEzQjIiLAogICAgIkZGMTMiOiJBM0IzIiwKICAgICJGRjE0IjoiQTNCNCIsCiAgICAiRkYxNSI6IkEzQjUiLAogICAgIkZGMTYiOiJBM0I2IiwKICAgICJGRjE3IjoiQTNCNyIsCiAgICAiRkYxOCI6IkEzQjgiLAogICAgIkZGMTkiOiJBM0I5IiwKICAgICJGRjFBIjoiQTNCQSIsCiAgICAiRkYxQiI6IkEzQkIiLAogICAgIkZGMUMiOiJBM0JDIiwKICAgICJGRjFEIjoiQTNCRCIsCiAgICAiRkYxRSI6IkEzQkUiLAogICAgIkZGMUYiOiJBM0JGIiwKICAgICJGRjIwIjoiQTNDMCIsCiAgICAiRkYyMSI6IkEzQzEiLAogICAgIkZGMjIiOiJBM0MyIiwKICAgICJGRjIzIjoiQTNDMyIsCiAgICAiRkYyNCI6IkEzQzQiLAogICAgIkZGMjUiOiJBM0M1IiwKICAgICJGRjI2IjoiQTNDNiIsCiAgICAiRkYyNyI6IkEzQzciLAogICAgIkZGMjgiOiJBM0M4IiwKICAgICJGRjI5IjoiQTNDOSIsCiAgICAiRkYyQSI6IkEzQ0EiLAogICAgIkZGMkIiOiJBM0NCIiwKICAgICJGRjJDIjoiQTNDQyIsCiAgICAiRkYyRCI6IkEzQ0QiLAogICAgIkZGMkUiOiJBM0NFIiwKICAgICJGRjJGIjoiQTNDRiIsCiAgICAiRkYzMCI6IkEzRDAiLAogICAgIkZGMzEiOiJBM0QxIiwKICAgICJGRjMyIjoiQTNEMiIsCiAgICAiRkYzMyI6IkEzRDMiLAogICAgIkZGMzQiOiJBM0Q0IiwKICAgICJGRjM1IjoiQTNENSIsCiAgICAiRkYzNiI6IkEzRDYiLAogICAgIkZGMzciOiJBM0Q3IiwKICAgICJGRjM4IjoiQTNEOCIsCiAgICAiRkYzOSI6IkEzRDkiLAogICAgIkZGM0EiOiJBM0RBIiwKICAgICJGRjNCIjoiQTNEQiIsCiAgICAiRkYzQyI6IkEzREMiLAogICAgIkZGM0QiOiJBM0REIiwKICAgICJGRjNFIjoiQTNERSIsCiAgICAiRkYzRiI6IkEzREYiLAogICAgIkZGNDAiOiJBM0UwIiwKICAgICJGRjQxIjoiQTNFMSIsCiAgICAiRkY0MiI6IkEzRTIiLAogICAgIkZGNDMiOiJBM0UzIiwKICAgICJGRjQ0IjoiQTNFNCIsCiAgICAiRkY0NSI6IkEzRTUiLAogICAgIkZGNDYiOiJBM0U2IiwKICAgICJGRjQ3IjoiQTNFNyIsCiAgICAiRkY0OCI6IkEzRTgiLAogICAgIkZGNDkiOiJBM0U5IiwKICAgICJGRjRBIjoiQTNFQSIsCiAgICAiRkY0QiI6IkEzRUIiLAogICAgIkZGNEMiOiJBM0VDIiwKICAgICJGRjREIjoiQTNFRCIsCiAgICAiRkY0RSI6IkEzRUUiLAogICAgIkZGNEYiOiJBM0VGIiwKICAgICJGRjUwIjoiQTNGMCIsCiAgICAiRkY1MSI6IkEzRjEiLAogICAgIkZGNTIiOiJBM0YyIiwKICAgICJGRjUzIjoiQTNGMyIsCiAgICAiRkY1NCI6IkEzRjQiLAogICAgIkZGNTUiOiJBM0Y1IiwKICAgICJGRjU2IjoiQTNGNiIsCiAgICAiRkY1NyI6IkEzRjciLAogICAgIkZGNTgiOiJBM0Y4IiwKICAgICJGRjU5IjoiQTNGOSIsCiAgICAiRkY1QSI6IkEzRkEiLAogICAgIkZGNUIiOiJBM0ZCIiwKICAgICJGRjVDIjoiQTNGQyIsCiAgICAiRkY1RCI6IkEzRkQiLAogICAgIkZGNUUiOiJBMUFCIiwKICAgICJGRkUwIjoiQTFFOSIsCiAgICAiRkZFMSI6IkExRUEiLAogICAgIkZGRTMiOiJBM0ZFIiwKICAgICJGRkU1IjoiQTNBNCIKICB9OwoKICB2YXIgZW5jb2RlVG9HYjIzMTIgPSBmdW5jdGlvbihzdHIsc2VwKXsKICAgIHZhciBzdHJPdXQ9IiI7CiAgICBmb3IodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKXsKICAgICAgdmFyIGMgPSBzdHIuY2hhckF0KGkpOyAKICAgICAgdmFyIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTsKICAgICAgdmFyIGdjb2RlID0ganNvbltjb2RlLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpXTsKICAgICAgaWYoZ2NvZGUgJiYgZ2NvZGUubGVuZ3RoICUgMiAhPT0gMCkgZ2NvZGUgPSAiMCIgKyBnY29kZTsKICAgICAgaWYoYz09IiAiKSB7CiAgICAgICAgc3RyT3V0ICs9ICIyMCI7CiAgICAgIH1lbHNlIGlmKGNvZGUgPCAxOTk2OCl7CiAgICAgICAgdmFyIGIgPSBzdHIuY2hhckNvZGVBdChpKS50b1N0cmluZygxNik7CiAgICAgICAgaWYoYiAmJiBiLmxlbmd0aCAlIDIgIT09IDApIGIgPSAiMCIgKyBiOwogICAgICAgIHN0ck91dCArPSBiOwogICAgICB9IGVsc2UgaWYoZ2NvZGUpewogICAgICAgIHN0ck91dCArPSBnY29kZTsKICAgICAgfSBlbHNlewogICAgICAgIHN0ck91dCArPSAiIjsKICAgICAgICBjb25zb2xlLmxvZygibm90IG1hdGNoIixjLGNvZGUsZ2NvZGUpOwogICAgICAgIC8vdGhyb3cgRXJyb3IoIm5vdCBtYXRjaCIpOwogICAgICB9CiAgICB9CiAgICBpZiAoc2VwKSB7CiAgICAgICAgc3RyT3V0ID0gc3RyT3V0LnJlcGxhY2UoLyguezJ9KS9pZywiJSQxIikKICAgIH0KICAgIHJldHVybiBzdHJPdXQ7CiAgfQoKICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7CiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZW5jb2RlVG9HYjIzMTI7CiAgICB9CiAgICBleHBvcnRzLmVuY29kZVRvR2IyMzEyID0gZW5jb2RlVG9HYjIzMTI7CiAgfSBlbHNlIHsKICAgIHRoaXMuZW5jb2RlVG9HYjIzMTIgPSBlbmNvZGVUb0diMjMxMjsKICB9CgoKfSkuY2FsbCh0aGlzKTs="}]},{"name":"YouTube Links","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["googlevideo.com","s.ytimg.com"],"orig_excludes":[],"orig_includes":["http://*.youtube.com/*","http://youtube.com/*","https://*.youtube.com/*","https://youtube.com/*"],"orig_matches":["*://*.youtube.com/*","*://*.googlevideo.com/*","*://s.ytimg.com/yts/jsbin/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1571242711271},"enabled":true,"position":8,"file_url":"https://greasyfork.org/scripts/5566-youtube-links/code/YouTube%20Links.user.js","uuid":"4380cd64-7610-4fa1-8149-771bfc755053","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIFlvdVR1YmUgTGlua3MKLy8gQG5hbWVzcGFjZSAgICAgIGh0dHA6Ly93d3cuc21hbGxhcHBsZS5uZXQvbGFicy9Zb3VUdWJlTGlua3MvCi8vIEBkZXNjcmlwdGlvbiAgICBEb3dubG9hZCBZb3VUdWJlIHZpZGVvcy4gVmlkZW8gZm9ybWF0cyBhcmUgbGlzdGVkIGF0IHRoZSB0b3Agb2YgdGhlIHdhdGNoIHBhZ2UuIFZpZGVvIGxpbmtzIGFyZSB0YWdnZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBkb3dubG9hZGVkIGVhc2lseS4KLy8gQGF1dGhvciAgICAgICAgIE5nIEh1biBZYW5nCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vKi55b3V0dWJlLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8veW91dHViZS5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgaHR0cHM6Ly8qLnlvdXR1YmUuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHBzOi8veW91dHViZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyoueW91dHViZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyouZ29vZ2xldmlkZW8uY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9zLnl0aW1nLmNvbS95dHMvanNiaW4vKgovLyBAZ3JhbnQgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgIEdNLnhtbEh0dHBSZXF1ZXN0Ci8vIEBjb25uZWN0ICAgICAgICBnb29nbGV2aWRlby5jb20KLy8gQGNvbm5lY3QgICAgICAgIHMueXRpbWcuY29tCi8vIEB2ZXJzaW9uICAgICAgICAyLjEyCi8vID09L1VzZXJTY3JpcHQ9PQoKLyogVGhpcyBpcyBiYXNlZCBvbiBZb3VUdWJlIEhEIFN1aXRlIDMuNC4xICovCgovKiBUZXN0ZWQgb24gRmlyZWZveCA1LjAsIENocm9tZSAxMyBhbmQgT3BlcmEgMTEuNTAgKi8KCihmdW5jdGlvbigpIHsKCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cgp2YXIgd2luID0gdHlwZW9mKHVuc2FmZVdpbmRvdykgIT09ICJ1bmRlZmluZWQiID8gdW5zYWZlV2luZG93IDogd2luZG93Owp2YXIgZG9jID0gd2luLmRvY3VtZW50Owp2YXIgbG9jID0gd2luLmxvY2F0aW9uOwoKaWYod2luLnRvcCAhPSB3aW4uc2VsZikKICByZXR1cm47Cgp2YXIgdW5zYWZlV2luID0gd2luOwoKLy8gSGFjayB0byBnZXQgdW5zYWZlIHdpbmRvdyBpbiBDaHJvbWUKKGZ1bmN0aW9uKCkgewoKdmFyIGlzQ2hyb21lID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImNocm9tZSIpID49IDA7CgppZighaXNDaHJvbWUpCiAgcmV0dXJuOwoKLy8gQ2hyb21lIDI3IGZpeGVkIHRoaXMgZXhwbG9pdCwgYnV0IGx1Y2tpbHksIGl0cyB1bnNhZmVXaW4gbm93IHdvcmtzIGZvciB1cwp0cnkgewogIHZhciBkaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgZGl2LnNldEF0dHJpYnV0ZSgib25jbGljayIsICJyZXR1cm4gd2luZG93OyIpOwogIHVuc2FmZVdpbiA9IGRpdi5vbmNsaWNrKCk7Cn0gY2F0Y2goZSkgewogIH0KCn0pICgpOwoKdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAiIjsKdmFyIGlzRWRnZUJyb3dzZXIgPSB1YS5tYXRjaCgvIEVkZ2VcLy8pOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmlmKHR5cGVvZiBHTSA9PSAib2JqZWN0IiAmJiBHTS54bWxIdHRwUmVxdWVzdCAmJiB0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgPT0gInVuZGVmaW5lZCIpIHsKICBHTV94bWxodHRwUmVxdWVzdCA9IGFzeW5jIGZ1bmN0aW9uKG9wdHMpIHsKICAgIGF3YWl0IEdNLnhtbEh0dHBSZXF1ZXN0KG9wdHMpOwogICAgfQogIH0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cgp2YXIgU0NSSVBUX05BTUUgPSAiWW91VHViZSBMaW5rcyI7Cgp2YXIgcmVsSW5mbyA9IHsKICB2ZXI6IDIxMjAwLAogIHRzOiAyMDIwMDEyOTAwLAogIGRlc2M6ICJVcGRhdGUgc2lnIGRldGVjdGlvbiIKICB9OwoKdmFyIFNDUklQVF9VUERBVEVfTElOSyA9IGxvYy5wcm90b2NvbCArICIvL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNTU2NS15b3V0dWJlLWxpbmtzLXVwZGF0ZXIvY29kZS9Zb3VUdWJlIExpbmtzIFVwZGF0ZXIudXNlci5qcyI7CnZhciBTQ1JJUFRfTElOSyA9IGxvYy5wcm90b2NvbCArICIvL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNTU2Ni15b3V0dWJlLWxpbmtzL2NvZGUvWW91VHViZSBMaW5rcy51c2VyLmpzIjsKCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cgp2YXIgZG9tID0ge307Cgpkb20uZ0UgPSBmdW5jdGlvbihpZCkgewogIHJldHVybiBkb2MuZ2V0RWxlbWVudEJ5SWQoaWQpOwogIH07Cgpkb20uZ1QgPSBmdW5jdGlvbihkb20sIHRhZykgewogIGlmKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgdGFnID0gZG9tOwogICAgZG9tID0gZG9jOwogICAgfQoKICByZXR1cm4gZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZyk7CiAgfTsKCmRvbS5jRSA9IGZ1bmN0aW9uKHRhZykgewogIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7CiAgfTsKCmRvbS5jVCA9IGZ1bmN0aW9uKHMpIHsKICByZXR1cm4gZG9jLmNyZWF0ZVRleHROb2RlKHMpOwogIH07Cgpkb20uYXR0ciA9IGZ1bmN0aW9uKG9iaiwgaywgdikgewogIGlmKGFyZ3VtZW50cy5sZW5ndGggPT0gMikKICAgIHJldHVybiBvYmouZ2V0QXR0cmlidXRlKGspOwoKICBvYmouc2V0QXR0cmlidXRlKGssIHYpOwogIH07Cgpkb20ucHJlcGVuZCA9IGZ1bmN0aW9uKG9iaiwgY2hpbGQpIHsKICBvYmouaW5zZXJ0QmVmb3JlKGNoaWxkLCBvYmouZmlyc3RDaGlsZCk7CiAgfTsKCmRvbS5hcHBlbmQgPSBmdW5jdGlvbihvYmosIGNoaWxkKSB7CiAgb2JqLmFwcGVuZENoaWxkKGNoaWxkKTsKICB9OwoKZG9tLm9mZnNldCA9IGZ1bmN0aW9uKG9iaikgewogIHZhciB4ID0gMDsKICB2YXIgeSA9IDA7CgogIGlmKG9iai5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHsKICAgIHZhciBib3ggPSBvYmouZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICB2YXIgb3duZXIgPSBvYmoub3duZXJEb2N1bWVudDsKCiAgICB4ID0gYm94LmxlZnQgKyBNYXRoLm1heChvd25lci5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCwgb3duZXIuYm9keS5zY3JvbGxMZWZ0KSAtIG93bmVyLmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0OwogICAgeSA9IGJveC50b3AgKyBNYXRoLm1heChvd25lci5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLCBvd25lci5ib2R5LnNjcm9sbFRvcCkgLSBvd25lci5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wOwoKICAgIHJldHVybiB7IGxlZnQ6IHgsIHRvcDogeSB9OwogICAgfQoKICBpZihvYmoub2Zmc2V0UGFyZW50KSB7CiAgICBkbyB7CiAgICAgIHggKz0gb2JqLm9mZnNldExlZnQgLSBvYmouc2Nyb2xsTGVmdDsKICAgICAgeSArPSBvYmoub2Zmc2V0VG9wIC0gb2JqLnNjcm9sbFRvcDsKICAgICAgb2JqID0gb2JqLm9mZnNldFBhcmVudDsKICAgIH0gd2hpbGUob2JqKTsKICAgIH0KCiAgcmV0dXJuIHsgbGVmdDogeCwgdG9wOiB5IH07CiAgfTsKCmRvbS5pblZpZXdwb3J0ID0gZnVuY3Rpb24oZWwpIHsKICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICByZXR1cm4gcmVjdC5ib3R0b20gPj0gMCAmJgogICByZWN0LnJpZ2h0ID49IDAgJiYKICAgcmVjdC50b3AgPCAod2luLmlubmVySGVpZ2h0IHx8IGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSAmJgogICByZWN0LmxlZnQgPCAod2luLmlubmVyV2lkdGggfHwgZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCk7CiAgfTsKCmRvbS5odG1sID0gZnVuY3Rpb24ob2JqLCBzKSB7CiAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PSAxKQogICAgcmV0dXJuIG9iai5pbm5lckhUTUw7CgogIG9iai5pbm5lckhUTUwgPSBzOwogIH07Cgpkb20uZW1pdEh0bWwgPSBmdW5jdGlvbih0YWcsIGF0dHJzLCBib2R5KSB7CiAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICBpZih0eXBlb2YoYXR0cnMpID09ICJzdHJpbmciKSB7CiAgICAgIGJvZHkgPSBhdHRyczsKICAgICAgYXR0cnMgPSB7fTsKICAgICAgfQogICAgfQoKICB2YXIgbGlzdCA9IFtdOwoKICBmb3IodmFyIGsgaW4gYXR0cnMpIHsKICAgIGlmKGF0dHJzW2tdICE9IG51bGwpCiAgICAgIGxpc3QucHVzaChrICsgIj0nIiArIGF0dHJzW2tdLnJlcGxhY2UoLycvZywgIiYjMzk7IikgKyAiJyIpOwogICAgfQoKICB2YXIgcyA9ICI8IiArIHRhZyArICIgIiArIGxpc3Quam9pbigiICIpICsgIj4iOwoKICBpZihib2R5ICE9IG51bGwpCiAgICBzICs9IGJvZHkgKyAiPC8iICsgdGFnICsgIj4iOwoKICByZXR1cm4gczsKICB9OwoKZG9tLmVtaXRDc3NTdHlsZXMgPSBmdW5jdGlvbihzdHlsZXMpIHsKICB2YXIgbGlzdCA9IFtdOwoKICBmb3IodmFyIGsgaW4gc3R5bGVzKSB7CiAgICBsaXN0LnB1c2goayArICI6ICIgKyBzdHlsZXNba10gKyAiOyIpOwogICAgfQoKICByZXR1cm4gIiB7ICIgKyBsaXN0LmpvaW4oIiAiKSArICIgfSI7CiAgfTsKCmRvbS5hamF4ID0gZnVuY3Rpb24ob3B0cykgewogIGZ1bmN0aW9uIG5ld1hocigpIHsKICAgIGlmKHdpbmRvdy5BY3RpdmVYT2JqZWN0KSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUCIpOwogICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgfQoKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIik7CiAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgIH0KICAgICAgfQoKICAgIGlmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkKICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoKICAgIHJldHVybiBudWxsOwogICAgfQoKICBmdW5jdGlvbiBub3AoKSB7CiAgICB9CgogIC8vIEVudHJ5IHBvaW50CiAgdmFyIHhociA9IG5ld1hocigpOwoKICBvcHRzID0gYWRkUHJvcCh7CiAgICB0eXBlOiAiR0VUIiwKICAgIGFzeW5jOiB0cnVlLAogICAgc3VjY2Vzczogbm9wLAogICAgZXJyb3I6IG5vcCwKICAgIGNvbXBsZXRlOiBub3AKICAgIH0sIG9wdHMpOwoKICB4aHIub3BlbihvcHRzLnR5cGUsIG9wdHMudXJsLCBvcHRzLmFzeW5jKTsKCiAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgaWYoeGhyLnJlYWR5U3RhdGUgPT0gNCkgewogICAgICB2YXIgc3RhdHVzID0gK3hoci5zdGF0dXM7CgogICAgICBpZihzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCkgewogICAgICAgIG9wdHMuc3VjY2Vzcyh4aHIucmVzcG9uc2VUZXh0LCAic3VjY2VzcyIsIHhocik7CiAgICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICBvcHRzLmVycm9yKHhociwgImVycm9yIik7CiAgICAgICAgfQoKICAgICAgb3B0cy5jb21wbGV0ZSh4aHIpOwogICAgICB9CiAgICB9OwoKICB4aHIuc2VuZCgiIik7CiAgfTsKCmRvbS5jcm9zc0FqYXggPSBmdW5jdGlvbihvcHRzKSB7CiAgZnVuY3Rpb24gd3JhcFhocih4aHIpIHsKICAgIHZhciBoZWFkZXJzID0geGhyLnJlc3BvbnNlSGVhZGVycy5yZXBsYWNlKCJcciIsICIiKS5zcGxpdCgiXG4iKTsKCiAgICB2YXIgb2JqID0ge307CgogICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbihpZHgsIGVsbSkgewogICAgICB2YXIgbnYgPSBlbG0uc3BsaXQoIjoiKTsKICAgICAgaWYobnZbMV0gIT0gbnVsbCkKICAgICAgICBvYmpbbnZbMF0udG9Mb3dlckNhc2UoKV0gPSBudlsxXS5yZXBsYWNlKC9eXHMrLywgIiIpLnJlcGxhY2UoL1xzKyQvLCAiIik7CiAgICAgIH0pOwoKICAgIHZhciByZXNwb25zZVhNTCA9IG51bGw7CgogICAgaWYob3B0cy5kYXRhVHlwZSA9PSAieG1sIikKICAgICAgcmVzcG9uc2VYTUwgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhoci5yZXNwb25zZVRleHQsICJ0ZXh0L3htbCIpOwoKICAgIHJldHVybiB7CiAgICAgIHJlc3BvbnNlVGV4dDogeGhyLnJlc3BvbnNlVGV4dCwKICAgICAgcmVzcG9uc2VYTUw6IHJlc3BvbnNlWE1MLAogICAgICBzdGF0dXM6IHhoci5zdGF0dXMsCgogICAgICBnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB4aHIucmVzcG9uc2VIZWFkZXJzOwogICAgICAgIH0sCgogICAgICBnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24obmFtZSkgewogICAgICAgIHJldHVybiBvYmpbbmFtZS50b0xvd2VyQ2FzZSgpXTsKICAgICAgICB9CiAgICAgIH07CiAgICB9CgogIGZ1bmN0aW9uIG5vcCgpIHsKICAgIH0KCiAgLy8gRW50cnkgcG9pbnQKICBvcHRzID0gYWRkUHJvcCh7CiAgICB0eXBlOiAiR0VUIiwKICAgIGFzeW5jOiB0cnVlLAogICAgc3VjY2Vzczogbm9wLAogICAgZXJyb3I6IG5vcCwKICAgIGNvbXBsZXRlOiBub3AKICAgIH0sIG9wdHMpOwoKICBpZih0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgPT09ICJ1bmRlZmluZWQiKSB7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICB2YXIgeGhyID0ge307CiAgICAgIG9wdHMuZXJyb3IoeGhyLCAiZXJyb3IiKTsKICAgICAgb3B0cy5jb21wbGV0ZSh4aHIpOwogICAgICB9LCAwKTsKICAgIHJldHVybjsKICAgIH0KCiAgLy8gVGFtcGVyTW9ua2V5IGRvZXMgbm90IGhhbmRsZSBVUkxzIHN0YXJ0aW5nIHdpdGggLy8KICB2YXIgdXJsOwoKICBpZihvcHRzLnVybC5tYXRjaCgvXlwvXC8vKSkKICAgIHVybCA9IGxvYy5wcm90b2NvbCArIG9wdHMudXJsOwogIGVsc2UKICAgIHVybCA9IG9wdHMudXJsOwoKICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICBtZXRob2Q6IG9wdHMudHlwZSwKICAgIHVybDogdXJsLAogICAgc3luY2hyb25vdXM6ICFvcHRzLmFzeW5jLAoKICAgIG9ubG9hZDogZnVuY3Rpb24oeGhyKSB7CiAgICAgIHhociA9IHdyYXBYaHIoeGhyKTsKCiAgICAgIGlmKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApCiAgICAgICAgb3B0cy5zdWNjZXNzKHhoci5yZXNwb25zZVhNTCB8fCB4aHIucmVzcG9uc2VUZXh0LCAic3VjY2VzcyIsIHhocik7CiAgICAgIGVsc2UKICAgICAgICBvcHRzLmVycm9yKHhociwgImVycm9yIik7CgogICAgICBvcHRzLmNvbXBsZXRlKHhocik7CiAgICAgIH0sCgogICAgb25lcnJvcjogZnVuY3Rpb24oeGhyKSB7CiAgICAgIHhociA9IHdyYXBYaHIoeGhyKTsKICAgICAgb3B0cy5lcnJvcih4aHIsICJlcnJvciIpOwogICAgICBvcHRzLmNvbXBsZXRlKHhocik7CiAgICAgIH0KICAgIH0pOwogIH07Cgpkb20uYWRkRXZlbnQgPSBmdW5jdGlvbihlLCB0eXBlLCBmbikgewogIGZ1bmN0aW9uIG1vdXNlRXZlbnQoZXZ0KSB7CiAgICBpZih0aGlzICE9IGV2dC5yZWxhdGVkVGFyZ2V0ICYmICFkb20uaXNBQ2hpbGRPZih0aGlzLCBldnQucmVsYXRlZFRhcmdldCkpCiAgICAgIGZuLmNhbGwodGhpcywgZXZ0KTsKICAgIH0KCiAgLy8gRW50cnkgcG9pbnQKICBpZihlLmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIHZhciBlZmZGbiA9IGZuOwoKICAgIGlmKHR5cGUgPT0gIm1vdXNlZW50ZXIiKSB7CiAgICAgIHR5cGUgPSAibW91c2VvdmVyIjsKICAgICAgZWZmRm4gPSBtb3VzZUV2ZW50OwogICAgICB9CiAgICBlbHNlIGlmKHR5cGUgPT0gIm1vdXNlbGVhdmUiKSB7CiAgICAgIHR5cGUgPSAibW91c2VvdXQiOwogICAgICBlZmZGbiA9IG1vdXNlRXZlbnQ7CiAgICAgIH0KCiAgICBlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZWZmRm4sIC8qY2FwdHVyZVBoYXNlKi8gZmFsc2UpOwogICAgfQogIGVsc2UKICAgIGUuYXR0YWNoRXZlbnQoIm9uIiArIHR5cGUsIGZ1bmN0aW9uKCkgeyBmbih3aW4uZXZlbnQpOyB9KTsKICB9OwoKZG9tLmluc2VydENzcyA9IGZ1bmN0aW9uIChzdHlsZXMpIHsKICB2YXIgc3MgPSBkb20uY0UoInN0eWxlIik7CiAgZG9tLmF0dHIoc3MsICJ0eXBlIiwgInRleHQvY3NzIik7CgogIHZhciBoaCA9IGRvbS5nVCgiaGVhZCIpIFswXTsKICBkb20uYXBwZW5kKGhoLCBzcyk7CiAgZG9tLmFwcGVuZChzcywgZG9tLmNUKHN0eWxlcykpOwogIH07Cgpkb20uaXNBQ2hpbGRPZiA9IGZ1bmN0aW9uKHBhcmVudCwgY2hpbGQpIHsKICBpZihwYXJlbnQgPT09IGNoaWxkKQogICAgcmV0dXJuIGZhbHNlOwoKICB3aGlsZShjaGlsZCAmJiBjaGlsZCAhPT0gcGFyZW50KSB7CiAgICBjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGU7CiAgICB9CgogIHJldHVybiBjaGlsZCA9PT0gcGFyZW50OwogIH07CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gdGltZU5vd0luU2VjKCkgewogIHJldHVybiBNYXRoLnJvdW5kKCtuZXcgRGF0ZSgpIC8gMTAwMCk7CiAgfQoKZnVuY3Rpb24gZm9yTG9vcChvcHRzLCBmbikgewogIG9wdHMgPSBhZGRQcm9wKHsgc3RhcnQ6IDAsIGluYzogMSB9LCBvcHRzKTsKCiAgZm9yKHZhciBpZHggPSBvcHRzLnN0YXJ0OyBpZHggPCBvcHRzLm51bTsgaWR4ICs9IG9wdHMuaW5jKSB7CiAgICBpZihmbi5jYWxsKG9wdHMsIGlkeCwgb3B0cykgPT09IGZhbHNlKQogICAgICBicmVhazsKICAgIH0KICB9CgpmdW5jdGlvbiBmb3JFYWNoKGxpc3QsIGZuKSB7CiAgZm9yTG9vcCh7IG51bTogbGlzdC5sZW5ndGggfSwgZnVuY3Rpb24oaWR4KSB7CiAgICByZXR1cm4gZm4uY2FsbChsaXN0W2lkeF0sIGlkeCwgbGlzdFtpZHhdKTsKICAgIH0pOwogIH0KCmZ1bmN0aW9uIGFkZFByb3AoZGVzdCwgc3JjKSB7CiAgZm9yKHZhciBrIGluIHNyYykgewogICAgaWYoc3JjW2tdICE9IG51bGwpCiAgICAgIGRlc3Rba10gPSBzcmNba107CiAgICB9CgogIHJldHVybiBkZXN0OwogIH0KCmZ1bmN0aW9uIGluQXJyYXkoZWxtLCBhcnJheSkgewogIGZvcih2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7ICsraSkgewogICAgaWYoYXJyYXlbaV0gPT09IGVsbSkKICAgICAgcmV0dXJuIGk7CiAgICB9CgogIHJldHVybiAtMTsKICB9CgpmdW5jdGlvbiB1bmVzY0h0bWxFbnRpdGllcyhzKSB7CiAgcmV0dXJuIHMucmVwbGFjZSgvJmx0Oy9nLCAiPCIpLnJlcGxhY2UoLyZndDsvZywgIj4iKS5yZXBsYWNlKC8mYW1wOy9nLCAiJiIpLnJlcGxhY2UoLyZxdW90Oy9nLCAnIicpLnJlcGxhY2UoLyYjMzk7L2csICInIik7CiAgfQoKZnVuY3Rpb24gbG9nTXNnKHMpIHsKICB3aW4uY29uc29sZS5sb2cocyk7CiAgfQoKZnVuY3Rpb24gY252U2FmZUZuYW1lKHMpIHsKICByZXR1cm4gcy5yZXBsYWNlKC86L2csICItIikucmVwbGFjZSgvIi9nLCAiJyIpLnJlcGxhY2UoL1tcXC98Kj9dL2csICJfIik7CiAgfQoKZnVuY3Rpb24gZW5jb2RlU2FmZUZuYW1lKHMpIHsKICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGNudlNhZmVGbmFtZShzKSkucmVwbGFjZSgvJy9nLCAiJTI3Iik7CiAgfQoKZnVuY3Rpb24gZ2V0VmlkZW9OYW1lKHMpIHsKICB2YXIgbGlzdCA9IFsKICAgIHsgbmFtZTogIjNHUCIsIGNvZGVjOiAidmlkZW9cXC8zZ3BwIiB9LAogICAgeyBuYW1lOiAiRkxWIiwgY29kZWM6ICJ2aWRlb1xcL3gtZmx2IiB9LAogICAgeyBuYW1lOiAiTTRWIiwgY29kZWM6ICJ2aWRlb1xcL3gtbTR2IiB9LAogICAgeyBuYW1lOiAiTVAzIiwgY29kZWM6ICJhdWRpb1xcL21wZWciIH0sCiAgICB7IG5hbWU6ICJNUDQiLCBjb2RlYzogInZpZGVvXFwvbXA0IiB9LAogICAgeyBuYW1lOiAiTTRBIiwgY29kZWM6ICJhdWRpb1xcL21wNCIgfSwKICAgIHsgbmFtZTogIlFUIiwgY29kZWM6ICJ2aWRlb1xcL3F1aWNrdGltZSIgfSwKICAgIHsgbmFtZTogIldFQk0iLCBjb2RlYzogImF1ZGlvXFwvd2VibSIgfSwKICAgIHsgbmFtZTogIldFQk0iLCBjb2RlYzogInZpZGVvXFwvd2VibSIgfSwKICAgIHsgbmFtZTogIldNViIsIGNvZGVjOiAidmlkZW9cXC9tcy13bXYiIH0KICAgIF07CgogIHZhciBzcENvZGVjcyA9IHsKICAgICJhdjAxIjogIkFWMSIsCiAgICAib3B1cyI6ICJPUFVTIiwKICAgICJ2b3JiaXMiOiAiVk9SIiwKICAgICJ2cDkiOiAiVlA5IgogICAgfTsKCiAgaWYocy5tYXRjaCgvO1xzKlwrP2NvZGVjcz1cIihbYS16QS1aMC05XSspLykpIHsKICAgIHZhciBzdHIgPSBSZWdFeHAuJDE7CiAgICBpZihzcENvZGVjc1tzdHJdKQogICAgICByZXR1cm4gc3BDb2RlY3Nbc3RyXTsKICAgIH0KCiAgdmFyIG5hbWUgPSAiPyI7CgogIGZvckVhY2gobGlzdCwgZnVuY3Rpb24oaWR4LCBlbG0pIHsKICAgIGlmKHMubWF0Y2goIl4iICsgZWxtLmNvZGVjKSkgewogICAgICBuYW1lID0gZWxtLm5hbWU7CiAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSk7CgogIHJldHVybiBuYW1lOwogIH0KCmZ1bmN0aW9uIGdldEFzcGVjdFJhdGlvKHdkLCBodCkgewogIHJldHVybiBNYXRoLnJvdW5kKHdkIC8gaHQgKiAxMDApIC8gMTAwOwogIH0KCmZ1bmN0aW9uIGNudlJlc05hbWUocmVzKSB7CiAgdmFyIHJlc01hcCA9IHsKICAgICJhdWRpbyI6ICJBdWRpbyIKICAgIH07CgogIGlmKHJlc01hcFtyZXNdKQogICAgcmV0dXJuIHJlc01hcFtyZXNdOwoKICBpZighcmVzLm1hdGNoKC9eKFxkKyl4KFxkKykvKSkKICAgIHJldHVybiByZXM7CgogIHZhciB3ZCA9ICtSZWdFeHAuJDE7CiAgdmFyIGh0ID0gK1JlZ0V4cC4kMjsKCiAgaWYod2QgPCBodCkgewogICAgdmFyIHQgPSB3ZDsKICAgIHdkID0gaHQ7CiAgICBodCA9IHQ7CiAgICB9CgogIHZhciBob3J6UmVzQXIgPSBbCiAgICBbIDE2MDAwLCAiMTZLIiBdLAogICAgWyAxNDAwMCwgIjE0SyIgXSwKICAgIFsgMTIwMDAsICIxMksiIF0sCiAgICBbIDEwMDAwLCAiMTBLIiBdLAogICAgWyA4MDAwLCAiOEsiIF0sCiAgICBbIDYwMDAsICI2SyIgXSwKICAgIFsgNTAwMCwgIjVLIiBdLAogICAgWyA0MDAwLCAiNEsiIF0sCiAgICBbIDMwMDAsICIzSyIgXSwKICAgIFsgMjA0OCwgIjJLIiBdCiAgICBdOwoKICB2YXIgdmVydFJlc0FyID0gWwogICAgWyA0MzIwLCAiOEsiIF0sCiAgICBbIDMxNjAsICI2SyIgXSwKICAgIFsgMjg4MCwgIjVLIiBdLAogICAgWyAyMTYwLCAiNEsiIF0sCiAgICBbIDE3MjgsICIzSyIgXSwKICAgIFsgMTUzNiwgIjJLIiBdLAogICAgWyAyNDAsICIyNDB2IiBdLAogICAgWyAxNDQsICIxNDR2IiBdCiAgICBdOwoKICB2YXIgYXNwZWN0UmF0aW8gPSBnZXRBc3BlY3RSYXRpbyh3ZCwgaHQpOwogIHZhciBuYW1lOwoKICBkbyB7CiAgICBmb3JFYWNoKGhvcnpSZXNBciwgZnVuY3Rpb24oaWR4LCBlbG0pIHsKICAgICAgdmFyIHRvbGVyYW5jZSA9IGVsbVswXSAqIDAuMDU7CiAgICAgIGlmKHdkID49IGVsbVswXSAqIDAuOTUpIHsKICAgICAgICBuYW1lID0gZWxtWzFdOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgIGlmKG5hbWUpCiAgICAgIGJyZWFrOwoKICAgIGlmKGFzcGVjdFJhdGlvID49IFdJREVfQVJfQ1VUT0ZGKQogICAgICBodCA9IE1hdGgucm91bmQod2QgKiA5IC8gMTYpOwoKICAgIGZvckVhY2godmVydFJlc0FyLCBmdW5jdGlvbihpZHgsIGVsbSkgewogICAgICB2YXIgdG9sZXJhbmNlID0gZWxtWzBdICogMC4wNTsKICAgICAgaWYoaHQgPj0gZWxtWzBdIC0gdG9sZXJhbmNlICYmIGh0IDwgZWxtWzBdICsgdG9sZXJhbmNlKSB7CiAgICAgICAgbmFtZSA9IGVsbVsxXTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKCiAgICBpZihuYW1lKQogICAgICBicmVhazsKCiAgICAvLyBTbmFwIHRvIHN0ZCB2ZXJ0IHJlcwogICAgdmFyIHZlcnRSZXNMaXN0ID0gWyA0MzIwLCAzMTYwLCAyODgwLCAyMTYwLCAxNTM2LCAxMDgwLCA3MjAsIDQ4MCwgMzYwLCAyNDAsIDE0NCBdOwoKICAgIGZvckVhY2godmVydFJlc0xpc3QsIGZ1bmN0aW9uKGlkeCwgZWxtKSB7CiAgICAgIHZhciB0b2xlcmFuY2UgPSBlbG0gKiAwLjA1OwogICAgICBpZihodCA+PSBlbG0gLSB0b2xlcmFuY2UgJiYgaHQgPCBlbG0gKyB0b2xlcmFuY2UpIHsKICAgICAgICBodCA9IGVsbTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKCiAgICBuYW1lID0gU3RyaW5nKGh0KSArIChhc3BlY3RSYXRpbyA8IEZVTExfQVJfQ1VUT0ZGID8gImYiIDogInAiKTsKICB9IHdoaWxlKGZhbHNlKTsKCiAgaWYoYXNwZWN0UmF0aW8gPj0gVUxUUkFfV0lERV9BUl9DVVRPRkYpCiAgICBuYW1lID0gInUiICsgbmFtZTsKICBlbHNlIGlmKGFzcGVjdFJhdGlvID49IFdJREVfQVJfQ1VUT0ZGKQogICAgbmFtZSA9ICJ3IiArIG5hbWU7CgogIHJldHVybiBuYW1lOwogIH0KCmZ1bmN0aW9uIG1hcFJlc1RvUXVhbGl0eShyZXMpIHsKICBpZighcmVzLm1hdGNoKC9eKFxkKyl4KFxkKykvKSkKICAgIHJldHVybiByZXM7CgogIHZhciB3ZCA9ICtSZWdFeHAuJDE7CiAgdmFyIGh0ID0gK1JlZ0V4cC4kMjsKCiAgaWYod2QgPCBodCkgewogICAgdmFyIHQgPSB3ZDsKICAgIHdkID0gaHQ7CiAgICBodCA9IHQ7CiAgICB9CgogIHZhciByZXNMaXN0ID0gWwogICAgeyByZXM6IDMxNjAsIHEgOiAidWx0cmFoaWdocmVzIiB9LAogICAgeyByZXM6IDE1MzYsIHEgOiAiaGlnaHJlcyIgfSwKICAgIHsgcmVzOiAxMDgwLCBxOiAiaGQxMDgwIiB9LAogICAgeyByZXM6IDcyMCwgcSA6ICJoZDcyMCIgfSwKICAgIHsgcmVzOiA0ODAsIHEgOiAibGFyZ2UiIH0sCiAgICB7IHJlczogMzYwLCBxIDogIm1lZGl1bSIgfQogICAgXTsKCiAgdmFyIHE7CgogIGZvckVhY2gocmVzTGlzdCwgZnVuY3Rpb24oaWR4LCBlbG0pIHsKICAgIGlmKGh0ID49IGVsbS5yZXMpIHsKICAgICAgcSA9IGVsbS5xOwogICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0pOwoKICByZXR1cm4gcSB8fCAic21hbGwiOwogIH0KCmZ1bmN0aW9uIGdldFF1YWxpdHlJZHgocXVhbGl0eSkgewogIHZhciBsaXN0ID0gWyAic21hbGwiLCAibWVkaXVtIiwgImxhcmdlIiwgImhkNzIwIiwgImhkMTA4MCIsICJoaWdocmVzIiwgInVsdHJhaGlnaHJlcyIgXTsKCiAgZm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHsKICAgIGlmKGxpc3RbaV0gPT0gcXVhbGl0eSkKICAgICAgcmV0dXJuIGk7CiAgICB9CgogIHJldHVybiAtMTsKICB9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKUmVnRXhwLmVzY2FwZSA9IGZ1bmN0aW9uKHMpIHsKICByZXR1cm4gU3RyaW5nKHMpLnJlcGxhY2UoLyhbLiorP149IToke30oKXxcW1xdXC9cXF0pL2csICJcXCQxIik7CiAgfTsKCnZhciBkZWNyeXB0U2lnID0gewogIHN0b3JlOiB7fQogIH07CgooZnVuY3Rpb24gKCkgewoKdmFyIFNJR19TVE9SRV9JRCA9ICJ1anNZdExpbmtzU2lnIjsKCnZhciBDSEtfU0lHX0lOVEVSVkFMID0gMyAqIDg2NDAwOwoKZGVjcnlwdFNpZy5sb2FkID0gZnVuY3Rpb24oKSB7CiAgdmFyIG9iaiA9IGxvY2FsU3RvcmFnZVtTSUdfU1RPUkVfSURdOwogIGlmKG9iaiA9PSBudWxsKQogICAgcmV0dXJuOwoKICBkZWNyeXB0U2lnLnN0b3JlID0gSlNPTi5wYXJzZShvYmopOwogIH07CgpkZWNyeXB0U2lnLnNhdmUgPSBmdW5jdGlvbigpIHsKICBsb2NhbFN0b3JhZ2VbU0lHX1NUT1JFX0lEXSA9IEpTT04uc3RyaW5naWZ5KGRlY3J5cHRTaWcuc3RvcmUpOwogIH07CgpkZWNyeXB0U2lnLmV4dHJhY3RTY3JpcHRVcmwgPSBmdW5jdGlvbihkYXRhKSB7CiAgaWYoZGF0YS5tYXRjaCgveXRwbGF5ZXIuY29uZmlnXHMqPS4qXCJhc3NldHMiXHMqOlxzKnsuKiJqcyJccyo6XHMqKCIuKz8iKS8pKQogICAgcmV0dXJuIEpTT04ucGFyc2UoUmVnRXhwLiQxKTsKICBlbHNlCiAgICByZXR1cm4gZmFsc2U7CiAgfTsKCmRlY3J5cHRTaWcuZ2V0U2NyaXB0TmFtZSA9IGZ1bmN0aW9uKHVybCkgewogIGlmKHVybC5tYXRjaCgvXC95dHNcL2pzYmluXC9wbGF5ZXItKC4qKVwvW2EtekEtWjAtOV9dK1wuanMkLykpCiAgICByZXR1cm4gUmVnRXhwLiQxOwoKICBpZih1cmwubWF0Y2goL1wveXRzXC9qc2JpblwvaHRtbDVwbGF5ZXItKC4qKVwvaHRtbDVwbGF5ZXJcLmpzJC8pKQogICAgcmV0dXJuIFJlZ0V4cC4kMTsKCiAgaWYodXJsLm1hdGNoKC9cL2h0bWw1cGxheWVyLSguKilcLmpzJC8pKQogICAgcmV0dXJuIFJlZ0V4cC4kMTsKCiAgcmV0dXJuIHVybDsKICB9OwoKZGVjcnlwdFNpZy5mZXRjaFNjcmlwdCA9IGZ1bmN0aW9uKHNjcmlwdE5hbWUsIHVybCkgewogIGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkgewogICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvXG58XHIvZywgIiIpOwoKICAgIHZhciBzaWdGbjsKCiAgICBmb3JFYWNoKFsKICAgICAgL1wuc2lnbmF0dXJlXHMqPVxzKihcdyspXChcdytcKS8sCiAgICAgIC9cLnNldFwoXCJzaWduYXR1cmVcIiwoW1x3JF0rKVwoXHcrXClcKS8sCiAgICAgIC9cL3l0XC5ha2FtYWl6ZWRcLm5ldFwvXClccypcfFx8XHMqXHcrXC5zZXRccypcKC4qP1wpXHMqO1xzKlx3K1xzKiYmXHMqXHcrXC5zZXRccypcKFxzKlx3K1xzKixccyooPzplbmNvZGVVUklDb21wb25lbnRccypcKCk/KFtcdyRdKylccypcKC8sCiAgICAgIC9cYihbYS16QS1aMC05JF17Mn0pXHMqPVxzKmZ1bmN0aW9uXChccyphXHMqXClccyp7XHMqYVxzKj1ccyphXC5zcGxpdFwoXHMqIiJccypcKS8sCiAgICAgIC8oW2EtekEtWjAtOSRdKylccyo9XHMqZnVuY3Rpb25cKFxzKmFccypcKVxzKntccyphXHMqPVxzKmFcLnNwbGl0XChccyoiIlxzKlwpLywKICAgICAgLztccypcdytccyomJlxzKlx3K1wuc2V0XChcdytccyosXHMqKD86ZW5jb2RlVVJJQ29tcG9uZW50XHMqXCgpPyhbXHckXSspXHMqXCgvLAogICAgICAvO1xzKlx3K1xzKiYmXHMqXHcrXC5zZXRcKFx3K1xzKixccypcKFteKV0qXClccypcKFxzKihbXHckXSspXHMqXCgvCiAgICAgIF0sIGZ1bmN0aW9uKGlkeCwgcmVnZXgpIHsKICAgICAgICBpZihkYXRhLm1hdGNoKHJlZ2V4KSkgewogICAgICAgICAgc2lnRm4gPSBSZWdFeHAuJDE7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgaWYoc2lnRm4gPT0gbnVsbCkKICAgICAgcmV0dXJuOwoKICAgIC8vY29uc29sZS5sb2coc2NyaXB0TmFtZSArICIgc2lnIGZuOiAiICsgc2lnRm4pOwoKICAgIHZhciBmbkFyZ0JvZHkgPSAnXFxzKlxcKChcXHcrKVxcKVxccyp7KFxcdys9XFx3K1xcLnNwbGl0XFwoIiJcXCk7Lis/O3JldHVybiBcXHcrXFwuam9pblxcKCIiXFwpKSc7CgogICAgaWYoIWRhdGEubWF0Y2gobmV3IFJlZ0V4cCgiZnVuY3Rpb24gIiArIFJlZ0V4cC5lc2NhcGUoc2lnRm4pICsgZm5BcmdCb2R5KSkgJiYKICAgICAhZGF0YS5tYXRjaChuZXcgUmVnRXhwKCIoPzp2YXIgfFssO11cXHMqfF5cXHMqKSIgKyBSZWdFeHAuZXNjYXBlKHNpZ0ZuKSArICJcXHMqPVxccypmdW5jdGlvbiIgKyBmbkFyZ0JvZHkpKSkKICAgICAgcmV0dXJuOwoKICAgIHZhciBmblBhcmFtID0gUmVnRXhwLiQxOwogICAgdmFyIGZuQm9keSA9IFJlZ0V4cC4kMjsKCiAgICB2YXIgZm5IbHAgPSB7fTsKICAgIHZhciBvYmpIbHAgPSB7fTsKCiAgICAvL2NvbnNvbGUubG9nKCJwYXJhbTogIiArIGZuUGFyYW0pOwogICAgLy9jb25zb2xlLmxvZyhmbkJvZHkpOwoKICAgIGZuQm9keSA9IGZuQm9keS5zcGxpdCgiOyIpOwoKICAgIGZvckVhY2goZm5Cb2R5LCBmdW5jdGlvbihpZHgsIGVsbSkgewogICAgICAvLyBpdHMgb3duIHByb3BlcnR5CiAgICAgIGlmKGVsbS5tYXRjaChuZXcgUmVnRXhwKCJeIiArIGZuUGFyYW0gKyAiPSIgKyBmblBhcmFtICsgIlxcLiIpKSkKICAgICAgICByZXR1cm47CgogICAgICAvLyBnbG9iYWwgZm4KICAgICAgaWYoZWxtLm1hdGNoKG5ldyBSZWdFeHAoIl4iICsgZm5QYXJhbSArICI9KFthLXpBLVpfJF1bYS16QS1aMC05XyRdKilcXCgiKSkpIHsKICAgICAgICB2YXIgbmFtZSA9IFJlZ0V4cC4kMTsKICAgICAgICAvL2NvbnNvbGUubG9nKCJmbkhscDogIiArIG5hbWUpOwoKICAgICAgICBpZihmbkhscFtuYW1lXSkKICAgICAgICAgIHJldHVybjsKCiAgICAgICAgaWYoZGF0YS5tYXRjaChuZXcgUmVnRXhwKCIoZnVuY3Rpb24gIiArIFJlZ0V4cC5lc2NhcGUoUmVnRXhwLiQxKSArICIuKz87cmV0dXJuIFxcdyt9KSIpKSkKICAgICAgICAgIGZuSGxwW25hbWVdID0gUmVnRXhwLiQxOwoKICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgLy8gb2JqZWN0IGZuCiAgICAgIGlmKGVsbS5tYXRjaChuZXcgUmVnRXhwKCJeKFthLXpBLVpfJF1bYS16QS1aMC05XyRdKilcLihbYS16QS1aXyRdW2EtekEtWjAtOV8kXSopXFwoIikpKSB7CiAgICAgICAgdmFyIG5hbWUgPSBSZWdFeHAuJDE7CiAgICAgICAgLy9jb25zb2xlLmxvZygib2JqSGxwOiAiICsgbmFtZSk7CgogICAgICAgIGlmKG9iakhscFtuYW1lXSkKICAgICAgICAgIHJldHVybjsKCiAgICAgICAgaWYoZGF0YS5tYXRjaChuZXcgUmVnRXhwKCIodmFyICIgKyBSZWdFeHAuZXNjYXBlKFJlZ0V4cC4kMSkgKyAiPXsuKz99OykiKSkpCiAgICAgICAgICBvYmpIbHBbbmFtZV0gPSBSZWdFeHAuJDE7CgogICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0pOwoKICAgIC8vY29uc29sZS5sb2coZm5IbHApOwogICAgLy9jb25zb2xlLmxvZyhvYmpIbHApOwoKICAgIHZhciBmbkhscFN0ciA9ICIiOwoKICAgIGZvcih2YXIgayBpbiBmbkhscCkKICAgICAgZm5IbHBTdHIgKz0gZm5IbHBba107CgogICAgZm9yKHZhciBrIGluIG9iakhscCkKICAgICAgZm5IbHBTdHIgKz0gb2JqSGxwW2tdOwoKICAgIHZhciBmdWxsRm4gPSAiZnVuY3Rpb24oIiArIGZuUGFyYW0gKyAiKXsiICsgZm5IbHBTdHIgKyBmbkJvZHkuam9pbigiOyIpICsgIn0iOwogICAgLy9jb25zb2xlLmxvZyhmdWxsRm4pOwoKICAgIGRlY3J5cHRTaWcuc3RvcmVbc2NyaXB0TmFtZV0gPSB7IHZlcjogcmVsSW5mby52ZXIsIHRzOiB0aW1lTm93SW5TZWMoKSwgZm46IGZ1bGxGbiB9OwogICAgLy9jb25zb2xlLmxvZyhkZWNyeXB0U2lnKTsKCiAgICBkZWNyeXB0U2lnLnNhdmUoKTsKICAgIH0KCiAgLy8gRW50cnkgcG9pbnQKICBkb20uY3Jvc3NBamF4KHsgdXJsOiB1cmwsIHN1Y2Nlc3M6IHN1Y2Nlc3MgfSk7CiAgfTsKCmRlY3J5cHRTaWcuY29uZEZldGNoU2NyaXB0ID0gZnVuY3Rpb24odXJsKSB7CiAgdmFyIHNjcmlwdE5hbWUgPSBkZWNyeXB0U2lnLmdldFNjcmlwdE5hbWUodXJsKTsKICB2YXIgc3RvcmUgPSBkZWNyeXB0U2lnLnN0b3JlW3NjcmlwdE5hbWVdOwogIHZhciBub3cgPSB0aW1lTm93SW5TZWMoKTsKCiAgaWYoc3RvcmUgJiYgbm93IC0gc3RvcmUudHMgPCBDSEtfU0lHX0lOVEVSVkFMICYmIHN0b3JlLnZlciA9PSByZWxJbmZvLnZlcikKICAgIHJldHVybjsKCiAgZGVjcnlwdFNpZy5mZXRjaFNjcmlwdChzY3JpcHROYW1lLCB1cmwpOwogIH07Cgp9KSAoKTsKCmZ1bmN0aW9uIGRlb2JmdXNjYXRlVmlkZW9TaWcoc2NyaXB0TmFtZSwgc2lnKSB7CiAgaWYoIWRlY3J5cHRTaWcuc3RvcmVbc2NyaXB0TmFtZV0pCiAgICByZXR1cm4gc2lnOwoKICAvL2NvbnNvbGUubG9nKGRlY3J5cHRTaWcuc3RvcmVbc2NyaXB0TmFtZV0uZm4pOwoKICB0cnkgewogICAgc2lnID0gZXZhbCgiKCIgKyBkZWNyeXB0U2lnLnN0b3JlW3NjcmlwdE5hbWVdLmZuICsgIikgKFwiIiArIHNpZyArICJcIikiKTsKICB9IGNhdGNoKGUpIHsKICAgIH0KCiAgcmV0dXJuIHNpZzsKICB9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZnVuY3Rpb24gZGVvYmZ1c2NhdGVTaWdJbk9iaihtYXAsIG9iaikgewogIGlmKG9iai5zID09IG51bGwgfHwgb2JqLnNpZyAhPSBudWxsKQogICAgcmV0dXJuOwoKICB2YXIgc2lnID0gZGVvYmZ1c2NhdGVWaWRlb1NpZyhtYXAuc2NyaXB0TmFtZSwgb2JqLnMpOwoKICBpZihzaWcgIT0gb2JqLnMpIHsKICAgIG9iai5zaWcgPSBzaWc7CiAgICBkZWxldGUgb2JqLnM7CiAgICB9CiAgfQoKZnVuY3Rpb24gcGFyc2VTdHJlYW1NYXAobWFwLCB2YWx1ZSkgewogIHZhciBmbXRVcmxMaXN0ID0gW107CgogIGZvckVhY2godmFsdWUuc3BsaXQoIiwiKSwgZnVuY3Rpb24oaWR4LCBlbG0pIHsKICAgIHZhciBlbG1zID0gZWxtLnJlcGxhY2UoL1xcXC8vZywgIi8iKS5yZXBsYWNlKC9cXHUwMDI2L2csICImIikuc3BsaXQoIiYiKTsKICAgIHZhciBvYmogPSB7fTsKCiAgICBmb3JFYWNoKGVsbXMsIGZ1bmN0aW9uKGlkeCwgZWxtKSB7CiAgICAgIHZhciBrdiA9IGVsbS5zcGxpdCgiPSIpOwogICAgICBvYmpba3ZbMF1dID0gZGVjb2RlVVJJQ29tcG9uZW50KGt2WzFdKTsKICAgICAgfSk7CgogICAgb2JqLml0YWcgPSArb2JqLml0YWc7CgogICAgaWYob2JqLmNvbm4gIT0gbnVsbCAmJiBvYmouY29ubi5tYXRjaCgvXnJ0bXBlOlwvXC8vKSkKICAgICAgb2JqLmlzRHJtID0gdHJ1ZTsKCiAgICBpZihvYmoucyAhPSBudWxsICYmIG9iai5zaWcgPT0gbnVsbCkgewogICAgICB2YXIgc2lnID0gZGVvYmZ1c2NhdGVWaWRlb1NpZyhtYXAuc2NyaXB0TmFtZSwgb2JqLnMpOwogICAgICBpZihzaWcgIT0gb2JqLnMpIHsKICAgICAgICBvYmouc2lnID0gc2lnOwogICAgICAgIGRlbGV0ZSBvYmouczsKICAgICAgICB9CiAgICAgIH0KCiAgICBmbXRVcmxMaXN0LnB1c2gob2JqKTsKICAgIH0pOwoKICAvL2xvZ01zZyhmbXRVcmxMaXN0KTsKCiAgbWFwLmZtdFVybExpc3QgPSBmbXRVcmxMaXN0OwogIH0KCmZ1bmN0aW9uIHBhcnNlQWRhcHRpdmVTdHJlYW1NYXAobWFwLCB2YWx1ZSkgewogIHZhciBmbXRVcmxMaXN0ID0gW107CgogIGZvckVhY2godmFsdWUuc3BsaXQoIiwiKSwgZnVuY3Rpb24oaWR4LCBlbG0pIHsKICAgIHZhciBlbG1zID0gZWxtLnJlcGxhY2UoL1xcXC8vZywgIi8iKS5yZXBsYWNlKC9cXHUwMDI2L2csICImIikuc3BsaXQoIiYiKTsKICAgIHZhciBvYmogPSB7fTsKCiAgICBmb3JFYWNoKGVsbXMsIGZ1bmN0aW9uKGlkeCwgZWxtKSB7CiAgICAgIHZhciBrdiA9IGVsbS5zcGxpdCgiPSIpOwogICAgICBvYmpba3ZbMF1dID0gZGVjb2RlVVJJQ29tcG9uZW50KGt2WzFdKTsKICAgICAgfSk7CgogICAgb2JqLml0YWcgPSArb2JqLml0YWc7CgogICAgaWYob2JqLmJpdHJhdGUgIT0gbnVsbCkKICAgICAgb2JqLmJpdHJhdGUgPSArb2JqLmJpdHJhdGU7CgogICAgaWYob2JqLmNsZW4gIT0gbnVsbCkKICAgICAgb2JqLmNsZW4gPSArb2JqLmNsZW47CgogICAgaWYob2JqLmZwcyAhPSBudWxsKQogICAgICBvYmouZnBzID0gK29iai5mcHM7CgogICAgLy9sb2dNc2cob2JqKTsKICAgIC8vbG9nTXNnKG1hcC52aWRlb0lkICsgIjogIiArIG9iai5pbmRleCArICIgIiArIG9iai5pbml0ICsgIiAiICsgb2JqLml0YWcgKyAiICIgKyBvYmouc2l6ZSArICIgIiArIG9iai5iaXRyYXRlICsgIiAiICsgb2JqLnR5cGUpOwoKICAgIGlmKG9iai50eXBlLm1hdGNoKC9edmlkZW9cL21wNC8pICYmICFvYmoudHlwZS5tYXRjaCgvO1xzKlwrP2NvZGVjcz0iYXYwMVwuLykpCiAgICAgIG9iai5lZmZUeXBlID0gInZpZGVvL3gtbTR2IjsKCiAgICBpZihvYmoudHlwZS5tYXRjaCgvXmF1ZGlvXC8vKSkKICAgICAgb2JqLnNpemUgPSAiYXVkaW8iOwoKICAgIG9iai5xdWFsaXR5ID0gbWFwUmVzVG9RdWFsaXR5KG9iai5zaXplKTsKCiAgICBpZighbWFwLmFkYXB0aXZlQVIgJiYgb2JqLnNpemUubWF0Y2goL14oXGQrKXgoXGQrKS8pKQogICAgICBtYXAuYWRhcHRpdmVBUiA9ICtSZWdFeHAuJDEgLyArUmVnRXhwLiQyOwoKICAgIGRlb2JmdXNjYXRlU2lnSW5PYmoobWFwLCBvYmopOwoKICAgIGZtdFVybExpc3QucHVzaChvYmopOwoKICAgIG1hcC5mbXRNYXBbb2JqLml0YWddID0geyByZXM6IGNudlJlc05hbWUob2JqLnNpemUpIH07CiAgICB9KTsKCiAgLy9sb2dNc2coZm10VXJsTGlzdCk7CgogIG1hcC5mbXRVcmxMaXN0ID0gbWFwLmZtdFVybExpc3QuY29uY2F0KGZtdFVybExpc3QpOwogIH0KCmZ1bmN0aW9uIHBhcnNlRm10TGlzdChtYXAsIHZhbHVlKSB7CiAgdmFyIGxpc3QgPSB2YWx1ZS5zcGxpdCgiLCIpOwoKICBmb3JFYWNoKGxpc3QsIGZ1bmN0aW9uKGlkeCwgZWxtKSB7CiAgICB2YXIgZWxtcyA9IGVsbS5yZXBsYWNlKC9cXFwvL2csICIvIikuc3BsaXQoIi8iKTsKCiAgICB2YXIgZm10SWQgPSBlbG1zWzBdOwogICAgdmFyIHJlcyA9IGVsbXNbMV07CiAgICBlbG1zLnNwbGljZSgvKmlkeCovIDAsIC8qcm0qLyAyKTsKCiAgICBpZihtYXAuYWRhcHRpdmVBUiAmJiByZXMubWF0Y2goL14oXGQrKXgoXGQrKS8pKQogICAgICByZXMgPSBNYXRoLnJvdW5kKCtSZWdFeHAuJDIgKiBtYXAuYWRhcHRpdmVBUikgKyAieCIgKyBSZWdFeHAuJDI7CgogICAgbWFwLmZtdE1hcFtmbXRJZF0gPSB7IHJlczogY252UmVzTmFtZShyZXMpLCB2YXJzOiBlbG1zIH07CiAgICB9KTsKCiAgLy9sb2dNc2cobWFwLmZtdE1hcCk7CiAgfQoKZnVuY3Rpb24gcGFyc2VOZXdGb3JtYXRzTWFwKG1hcCwgc3RyKSB7CiAgdmFyIGxpc3QgPSBKU09OLnBhcnNlKHN0ci5yZXBsYWNlKC9cXFwvL2csICIvIikucmVwbGFjZSgvXFwiL2csICJcIiIpLnJlcGxhY2UoL1xcXFwvZywgIlxcIikpOwoKICBmb3JFYWNoKGxpc3QsIGZ1bmN0aW9uKGlkeCwgZWxtKSB7CiAgICB2YXIgb2JqID0gewogICAgICBiaXRyYXRlOiBlbG0uYml0cmF0ZSwKICAgICAgZnBzOiBlbG0uZnBzLAogICAgICBpdGFnOiBlbG0uaXRhZywKICAgICAgdHlwZTogZWxtLm1pbWVUeXBlLAogICAgICB1cmw6IGVsbS51cmwKICAgICAgfTsKCiAgICAvLyBEaXN0aW5ndWlzaCBiZXR3ZWVuIEFWMSwgTTRWIGFuZCBNUDQKICAgIGlmKGVsbS5hdWRpb1F1YWxpdHkgPT0gbnVsbCAmJiBvYmoudHlwZS5tYXRjaCgvXnZpZGVvXC9tcDQvKSAmJiAhb2JqLnR5cGUubWF0Y2goLztccypcKz9jb2RlY3M9ImF2MDFcLi8pKQogICAgICBvYmouZWZmVHlwZSA9ICJ2aWRlby94LW00diI7CgogICAgaWYoZWxtLmNvbnRlbnRMZW5ndGggIT0gbnVsbCkKICAgICAgb2JqLmNsZW4gPSArZWxtLmNvbnRlbnRMZW5ndGg7CgogICAgaWYob2JqLnR5cGUubWF0Y2goL15hdWRpb1wvLykpCiAgICAgIG9iai5zaXplID0gImF1ZGlvIjsKICAgIGVsc2UKICAgICAgb2JqLnNpemUgPSBlbG0ud2lkdGggKyAieCIgKyBlbG0uaGVpZ2h0OwoKICAgIG9iai5xdWFsaXR5ID0gbWFwUmVzVG9RdWFsaXR5KG9iai5zaXplKTsKCiAgICBpZihlbG0uY2lwaGVyKSB7CiAgICAgIGZvckVhY2goZWxtLmNpcGhlci5zcGxpdCgiJiIpLCBmdW5jdGlvbihpZHgsIGVsbSkgewogICAgICAgIHZhciBrdiA9IGVsbS5zcGxpdCgiPSIpOwogICAgICAgIG9ialtrdlswXV0gPSBkZWNvZGVVUklDb21wb25lbnQoa3ZbMV0pOwogICAgICAgIH0pOwoKICAgICAgZGVvYmZ1c2NhdGVTaWdJbk9iaihtYXAsIG9iaik7CiAgICAgIH0KCiAgICBtYXAuZm10VXJsTGlzdC5wdXNoKG9iaik7CgogICAgaWYobWFwLmZtdE1hcFtvYmouaXRhZ10gPT0gbnVsbCkKICAgICAgbWFwLmZtdE1hcFtvYmouaXRhZ10gPSB7IHJlczogY252UmVzTmFtZShvYmouc2l6ZSkgfTsKICAgIH0pOwogIH0KCmZ1bmN0aW9uIGdldFZpZGVvSW5mbyh1cmwsIGNhbGxiYWNrKSB7CiAgZnVuY3Rpb24gZ2V0VmlkZW9OYW1lQnlUeXBlKGVsbSkgewogICAgcmV0dXJuIGdldFZpZGVvTmFtZShlbG0uZWZmVHlwZSB8fCBlbG0udHlwZSk7CiAgICB9CgogIGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkgewogICAgdmFyIG1hcCA9IHt9OwoKICAgIGlmKGRhdGEubWF0Y2goLzxkaXZccytpZD0idmVyaWZ5LWRldGFpbHMiPi8pKSB7CiAgICAgIGxvZ01zZygiU2tpcHBpbmcgIiArIHVybCk7CiAgICAgIHJldHVybjsKICAgICAgfQoKICAgIGlmKGRhdGEubWF0Y2goLzxoMVxzK2lkPSJ1bmF2YWlsYWJsZS1tZXNzYWdlIj4vKSkgewogICAgICBsb2dNc2coIk5vdCBhdmFpbCAiICsgdXJsKTsKICAgICAgcmV0dXJuOwogICAgICB9CgogICAgaWYoZGF0YS5tYXRjaCgvInQiOlxzPyIoLis/KSIvKSkKICAgICAgbWFwLnQgPSBSZWdFeHAuJDE7CgogICAgaWYoZGF0YS5tYXRjaCgvIig/OnZpZGVvX2lkfHZpZGVvSWQpIjpccz8iKC4rPykiLykpCiAgICAgIG1hcC52aWRlb0lkID0gUmVnRXhwLiQxOwogICAgZWxzZSBpZihkYXRhLm1hdGNoKC9cXCJ2aWRlb0lkXFwiOlxzP1xcIiguKz8pXFwiLykpCiAgICAgIG1hcC52aWRlb0lkID0gUmVnRXhwLiQxOwogICAgZWxzZSBpZihkYXRhLm1hdGNoKC8nVklERU9fSUQnOlxzPyIoLis/KSIsLykpCiAgICAgIG1hcC52aWRlb0lkID0gUmVnRXhwLiQxOwoKICAgIGlmKCFtYXAudmlkZW9JZCkgewogICAgICBsb2dNc2coIk5vIHZpZGVvSWQ7IHNraXBwaW5nICIgKyB1cmwpOwogICAgICByZXR1cm47CiAgICAgIH0KCiAgICBtYXAuc2NyaXB0VXJsID0gZGVjcnlwdFNpZy5leHRyYWN0U2NyaXB0VXJsKGRhdGEpOwogICAgaWYobWFwLnNjcmlwdFVybCkgewogICAgICAvL2xvZ01zZyhtYXAudmlkZW9JZCArICIgc2NyaXB0OiAiICsgbWFwLnNjcmlwdFVybCk7CiAgICAgIG1hcC5zY3JpcHROYW1lID0gZGVjcnlwdFNpZy5nZXRTY3JpcHROYW1lKG1hcC5zY3JpcHRVcmwpOwogICAgICBkZWNyeXB0U2lnLmNvbmRGZXRjaFNjcmlwdChtYXAuc2NyaXB0VXJsKTsKICAgICAgfQoKICAgIGlmKGRhdGEubWF0Y2goLzxtZXRhXHMraXRlbXByb3A9Im5hbWUiXHMqY29udGVudD0iKC4rKSJccyo+XHMqXG4vKSkKICAgICAgbWFwLnRpdGxlID0gdW5lc2NIdG1sRW50aXRpZXMoUmVnRXhwLiQxKTsKCiAgICBpZihtYXAudGl0bGUgPT0gbnVsbCAmJiBkYXRhLm1hdGNoKC88bWV0YVxzK25hbWU9InRpdGxlIlxzKmNvbnRlbnQ9IiguKykiXHMqPi8pKQogICAgICBtYXAudGl0bGUgPSB1bmVzY0h0bWxFbnRpdGllcyhSZWdFeHAuJDEpOwoKICAgIHZhciB0aXRsZVN0cmVhbTsKCiAgICBpZihtYXAudGl0bGUgPT0gbnVsbCAmJiBkYXRhLm1hdGNoKC8idmlkZW9EZXRhaWxzIjp7KFtefV0qKX0vKSkKICAgICAgdGl0bGVTdHJlYW0gPSBSZWdFeHAuJDE7CiAgICBlbHNlCiAgICAgIHRpdGxlU3RyZWFtID0gZGF0YTsKCiAgICAvLyBFZGdlIHJlcGxhY2VzICYgd2l0aCBcdTAwMjYKICAgIGlmKG1hcC50aXRsZSA9PSBudWxsICYmIHRpdGxlU3RyZWFtLm1hdGNoKC9bLHtdInRpdGxlIjooIlteIl0rIilbLH1dLykpCiAgICAgIG1hcC50aXRsZSA9IHVuZXNjSHRtbEVudGl0aWVzKEpTT04ucGFyc2UoUmVnRXhwLiQxKSk7CgogICAgLy8gRWRnZSBmYWlscyB0aGUgcHJldmlvdXMgcmVnZXggaWYgXCIgZXhpc3RzCiAgICBpZihtYXAudGl0bGUgPT0gbnVsbCAmJiB0aXRsZVN0cmVhbS5tYXRjaCgvWyx7XSJ0aXRsZSI6KCIuKj8iKVssfV0iLykpCiAgICAgIG1hcC50aXRsZSA9IHVuZXNjSHRtbEVudGl0aWVzKEpTT04ucGFyc2UoUmVnRXhwLiQxKSk7CgogICAgaWYoZGF0YS5tYXRjaCgvWyx7XVxcImlzTGl2ZUNvbnRlbnRcXCI6XHMqdHJ1ZVssfV0vKSkKICAgICAgbWFwLmlzTGl2ZSA9IHRydWU7CgogICAgbWFwLmZtdFVybExpc3QgPSBbXTsKCiAgICB2YXIgb2xkRm10RmxhZzsKCiAgICBpZihkYXRhLm1hdGNoKC9bLHtdInVybF9lbmNvZGVkX2ZtdF9zdHJlYW1fbWFwIjpccz8iKFteIl0rKSJbLH1dLykpIHsKICAgICAgcGFyc2VTdHJlYW1NYXAobWFwLCBSZWdFeHAuJDEpOwogICAgICBvbGRGbXRGbGFnID0gdHJ1ZTsKICAgICAgfQoKICAgIG1hcC5mbXRNYXAgPSB7fTsKCiAgICBpZihkYXRhLm1hdGNoKC9bLHtdImFkYXB0aXZlX2ZtdHMiOlxzPyIoLis/KSJbLH1dLykpIHsKICAgICAgcGFyc2VBZGFwdGl2ZVN0cmVhbU1hcChtYXAsIFJlZ0V4cC4kMSk7CiAgICAgIG9sZEZtdEZsYWcgPSB0cnVlOwogICAgICB9CgogICAgaWYoZGF0YS5tYXRjaCgvWyx7XSJmbXRfbGlzdCI6XHM/IihbXiJdKykiWyx9XS8pKQogICAgICBwYXJzZUZtdExpc3QobWFwLCBSZWdFeHAuJDEpOwoKICAgIGlmKCFvbGRGbXRGbGFnICYmIGRhdGEubWF0Y2goL1xcImZvcm1hdHNcXCI6KFxbe1teXF1dKn1cXSlbfSxdLykpCiAgICAgIHBhcnNlTmV3Rm9ybWF0c01hcChtYXAsIFJlZ0V4cC4kMSk7CgogICAgaWYoIW9sZEZtdEZsYWcgJiYgZGF0YS5tYXRjaCgvXFwiYWRhcHRpdmVGb3JtYXRzXFwiOihcW3tbXlxdXSp9XF0pW30sXS8pKQogICAgICBwYXJzZU5ld0Zvcm1hdHNNYXAobWFwLCBSZWdFeHAuJDEpOwoKICAgIGlmKGRhdGEubWF0Y2goL1sse10iZGFzaG1wZCI6XHM/IiguKz8pIlssfV0vKSkKICAgICAgbWFwLmRhc2htcGQgPSBkZWNvZGVVUklDb21wb25lbnQoUmVnRXhwLiQxLnJlcGxhY2UoL1xcXC8vZywgIi8iKSk7CiAgICBlbHNlIGlmKGRhdGEubWF0Y2goL1sse11cXCJkYXNoTWFuaWZlc3RVcmxcXCI6XHM/XFwiKC4rPylcXCJbLH1dLykpCiAgICAgIG1hcC5kYXNobXBkID0gZGVjb2RlVVJJQ29tcG9uZW50KFJlZ0V4cC4kMS5yZXBsYWNlKC9cXFwvL2csICIvIikpOwoKICAgIGlmKHVzZXJDb25maWcuZmlsdGVyZWRGb3JtYXRzLmxlbmd0aCA+IDApIHsKICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG1hcC5mbXRVcmxMaXN0Lmxlbmd0aDsgKytpKSB7CiAgICAgICAgaWYoaW5BcnJheShnZXRWaWRlb05hbWVCeVR5cGUobWFwLmZtdFVybExpc3RbaV0pLCB1c2VyQ29uZmlnLmZpbHRlcmVkRm9ybWF0cykgPj0gMCkgewogICAgICAgICAgbWFwLmZtdFVybExpc3Quc3BsaWNlKGksIC8qbGVuKi8gMSk7CiAgICAgICAgICAtLWk7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICB2YXIgaGFzSGlnaFJlcyA9IGZhbHNlOwogICAgdmFyIGhhc0hpZ2hBdWRpbyA9IGZhbHNlOwogICAgdmFyIEhJR0hfQVVESU9fQlBTID0gOTYgKiAxMDI0OwoKICAgIGZvckVhY2gobWFwLmZtdFVybExpc3QsIGZ1bmN0aW9uKGlkeCwgZWxtKSB7CiAgICAgIGhhc0hpZ2hSZXMgfD0gZWxtLnF1YWxpdHkgPT0gImhkNzIwIiB8fCBlbG0ucXVhbGl0eSA9PSAiaGQxMDgwIjsKCiAgICAgIGlmKGVsbS5xdWFsaXR5ID09ICJhdWRpbyIpCiAgICAgICAgaGFzSGlnaEF1ZGlvIHw9IGVsbS5iaXRyYXRlID49IEhJR0hfQVVESU9fQlBTOwogICAgICB9KTsKCiAgICBpZihoYXNIaWdoUmVzKSB7CiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBtYXAuZm10VXJsTGlzdC5sZW5ndGg7ICsraSkgewogICAgICAgIGlmKGluQXJyYXkoZ2V0VmlkZW9OYW1lQnlUeXBlKG1hcC5mbXRVcmxMaXN0W2ldKSwgdXNlckNvbmZpZy5rZWVwRm9ybWF0cykgPj0gMCkKICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICBpZihtYXAuZm10VXJsTGlzdFtpXS5xdWFsaXR5ID09ICJzbWFsbCIpIHsKICAgICAgICAgIG1hcC5mbXRVcmxMaXN0LnNwbGljZShpLCAvKmxlbiovIDEpOwogICAgICAgICAgLS1pOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgaWYoaGFzSGlnaEF1ZGlvKSB7CiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBtYXAuZm10VXJsTGlzdC5sZW5ndGg7ICsraSkgewogICAgICAgIGlmKGluQXJyYXkoZ2V0VmlkZW9OYW1lQnlUeXBlKG1hcC5mbXRVcmxMaXN0W2ldKSwgdXNlckNvbmZpZy5rZWVwRm9ybWF0cykgPj0gMCkKICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICBpZihtYXAuZm10VXJsTGlzdFtpXS5xdWFsaXR5ID09ICJhdWRpbyIgJiYgbWFwLmZtdFVybExpc3RbaV0uYml0cmF0ZSA8IEhJR0hfQVVESU9fQlBTKSB7CiAgICAgICAgICBtYXAuZm10VXJsTGlzdC5zcGxpY2UoaSwgLypsZW4qLyAxKTsKICAgICAgICAgIC0taTsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgIG1hcC5mbXRVcmxMaXN0LnNvcnQoY21wVXJsTGlzdCk7CgogICAgY2FsbGJhY2sobWFwKTsKICAgIH0KCiAgLy8gRW50cnkgcG9pbnQKICBkb20uYWpheCh7IHVybDogdXJsLCBzdWNjZXNzOiBzdWNjZXNzIH0pOwogIH0KCmZ1bmN0aW9uIGNtcFVybExpc3QoYSwgYikgewogIHZhciBkaWZmID0gZ2V0UXVhbGl0eUlkeChiLnF1YWxpdHkpIC0gZ2V0UXVhbGl0eUlkeChhLnF1YWxpdHkpOwogIGlmKGRpZmYgIT0gMCkKICAgIHJldHVybiBkaWZmOwoKICB2YXIgYVJlcyA9IChhLnNpemUgfHwgIiIpLm1hdGNoKC9eKFxkKyl4KFxkKykvKTsKICB2YXIgYlJlcyA9IChiLnNpemUgfHwgIiIpLm1hdGNoKC9eKFxkKyl4KFxkKykvKTsKCiAgaWYoYVJlcyA9PSBudWxsKSBhUmVzID0gWyAwLCAwLCAwIF07CiAgaWYoYlJlcyA9PSBudWxsKSBiUmVzID0gWyAwLCAwLCAwIF07CgogIGRpZmYgPSArYlJlc1syXSAtICthUmVzWzJdOwogIGlmKGRpZmYgIT0gMCkKICAgIHJldHVybiBkaWZmOwoKICB2YXIgYUZwcyA9IGEuZnBzIHx8IDA7CiAgdmFyIGJGcHMgPSBiLmZwcyB8fCAwOwoKICByZXR1cm4gYkZwcyAtIGFGcHM7CiAgfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCnZhciBDU1NfUFJFRklYID0gInVqcy0iOwoKdmFyIEhEUl9MSU5LU19IVE1MX0lEID0gQ1NTX1BSRUZJWCArICJoZHItbGlua3MtZGl2IjsKdmFyIExJTktTX0hUTUxfSUQgPSBDU1NfUFJFRklYICsgImxpbmtzLWNscyI7CnZhciBMSU5LU19UUF9IVE1MX0lEID0gQ1NTX1BSRUZJWCArICJsaW5rcy10cC1kaXYiOwp2YXIgVVBEQVRFX0hUTUxfSUQgPSBDU1NfUFJFRklYICsgInVwZGF0ZS1kaXYiOwp2YXIgVklEX0ZNVF9CVE5fSUQgPSBDU1NfUFJFRklYICsgInZpZC1mbXQtYnRuIjsKCi8qIFRoZSAhaW1wb3J0YW50IGF0dHIgaXMgdG8gb3ZlcnJpZGUgdGhlIHBhZ2UncyBzcGVjaWZpY2l0eS4gKi8KdmFyIENTU19TVFlMRVMgPQogICIjIiArIFZJRF9GTVRfQlROX0lEICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImN1cnNvciI6ICJwb2ludGVyIiwKICAgICJtYXJnaW4iOiAiMCAwLjMzM2VtIiwKICAgICJwYWRkaW5nIjogIjAuNWVtIgogICAgfSkgKyAiXG4iICsKICAiIyIgKyBVUERBVEVfSFRNTF9JRCArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNmMDAiLAogICAgImJvcmRlci1yYWRpdXMiOiAiMnB4IiwKICAgICJjb2xvciI6ICIjZmZmIiwKICAgICJwYWRkaW5nIjogIjVweCIsCiAgICAidGV4dC1hbGlnbiI6ICJjZW50ZXIiLAogICAgInRleHQtZGVjb3JhdGlvbiI6ICJub25lIiwKICAgICJwb3NpdGlvbiI6ICJmaXhlZCIsCiAgICAidG9wIjogIjAuNWVtIiwKICAgICJyaWdodCI6ICIwLjVlbSIsCiAgICAiei1pbmRleCI6ICIxMDAwIgogICAgfSkgKyAiXG4iICsKICAiIyIgKyBVUERBVEVfSFRNTF9JRCArICI6aG92ZXIiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiIzBkMCIKICAgIH0pICsgIlxuIiArCiAgIiNwYWdlLWNvbnRhaW5lciAjIiArIEhEUl9MSU5LU19IVE1MX0lEICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImZvbnQtc2l6ZSI6ICI5MCUiCiAgICB9KSArICJcbiIgKwogICIjcGFnZS1tYW5hZ2VyICMiICsgSERSX0xJTktTX0hUTUxfSUQgKyBkb20uZW1pdENzc1N0eWxlcyh7IC8vIDIwMTcgTWF0ZXJpYWwgRGVzaWduCiAgICAiZm9udC1zaXplIjogIjEuMmVtIgogICAgfSkgKyAiXG4iICsKICAiIyIgKyBIRFJfTElOS1NfSFRNTF9JRCArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNmOGY4ZjgiLAogICAgImJvcmRlciI6ICIjZWVlIDFweCBzb2xpZCIsCiAgICAvLyJib3JkZXItcmFkaXVzIjogIjNweCIsCiAgICAiY29sb3IiOiAiIzMzMyIsCiAgICAibWFyZ2luIjogIjVweCIsCiAgICAicGFkZGluZyI6ICI1cHgiCiAgICB9KSArICJcbiIgKwogICJodG1sW2RhcmtdICMiICsgSERSX0xJTktTX0hUTUxfSUQgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjMjIyIiwKICAgICJib3JkZXIiOiAibm9uZSIKICAgIH0pICsgIlxuIiArCiAgIiMiICsgSERSX0xJTktTX0hUTUxfSUQgKyAiIC4iICsgQ1NTX1BSRUZJWCArICJncm91cCIgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjZmZmIiwKICAgICJjb2xvciI6ICIjMDAwICFpbXBvcnRhbnQiLAogICAgImJvcmRlciI6ICIjY2NjIDFweCBzb2xpZCIsCiAgICAiYm9yZGVyLXJhZGl1cyI6ICIzcHgiLAogICAgImRpc3BsYXkiOiAiaW5saW5lLWJsb2NrIiwKICAgICJtYXJnaW4iOiAiM3B4IiwKICAgIH0pICsgIlxuIiArCiAgImh0bWxbZGFya10gIyIgKyBIRFJfTElOS1NfSFRNTF9JRCArICIgLiIgKyBDU1NfUFJFRklYICsgImdyb3VwIiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiM0NDQiLAogICAgImNvbG9yIjogIiNmZmYgIWltcG9ydGFudCIsCiAgICAiYm9yZGVyIjogIm5vbmUiCiAgICB9KSArICJcbiIgKwogICIjIiArIEhEUl9MSU5LU19IVE1MX0lEICsgIiBhIiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJkaXNwbGF5IjogInRhYmxlLWNlbGwiLAogICAgInBhZGRpbmciOiAiM3B4IiwKICAgICJ0ZXh0LWRlY29yYXRpb24iOiAibm9uZSIKICAgIH0pICsgIlxuIiArCiAgIiMiICsgSERSX0xJTktTX0hUTUxfSUQgKyAiIGE6aG92ZXIiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiI2QxZTFmYSIKICAgIH0pICsgIlxuIiArCiAgImRpdi4iICsgTElOS1NfSFRNTF9JRCArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJib3JkZXItcmFkaXVzIjogIjNweCIsCiAgICAiY3Vyc29yIjogImRlZmF1bHQiLAogICAgImxpbmUtaGVpZ2h0IjogIjFlbSIsCiAgICAicG9zaXRpb24iOiAiYWJzb2x1dGUiLAogICAgImxlZnQiOiAiMCIsCiAgICAidG9wIjogIjAiLAogICAgInotaW5kZXgiOiAiMTAwMCIKICAgIH0pICsgIlxuIiArCiAgIiNwYWdlLW1hbmFnZXIgZGl2LiIgKyBMSU5LU19IVE1MX0lEICsgZG9tLmVtaXRDc3NTdHlsZXMoeyAvLyAyMDE3IE1hdGVyaWFsIERlc2lnbgogICAgImZvbnQtc2l6ZSI6ICIxLjJlbSIsCiAgICAicGFkZGluZyI6ICIycHggNHB4IgogICAgfSkgKyAiXG4iICsKICAiZGl2LiIgKyBMSU5LU19IVE1MX0lEICsgIi5sYXlvdXQyMDE3IiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsgLy8gMjAxNyBNYXRlcmlhbCBEZXNpZ24KICAgICJmb250LXNpemUiOiAiMS4yZW0iCiAgICB9KSArICJcbiIgKwogICIjIiArIExJTktTX1RQX0hUTUxfSUQgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjZjBmMGYwIiwKICAgICJib3JkZXIiOiAiI2FhYSAxcHggc29saWQiLAogICAgInBhZGRpbmciOiAiM3B4IDAiLAogICAgInRleHQtZGVjb3JhdGlvbiI6ICJub25lIiwKICAgICJ3aGl0ZS1zcGFjZSI6ICJub3dyYXAiLAogICAgInotaW5kZXgiOiAiMTEwMCIKICAgIH0pICsgIlxuIiArCiAgImh0bWxbZGFya10gIyIgKyBMSU5LU19UUF9IVE1MX0lEICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiIzIyMiIKICAgIH0pICsgIlxuIiArCiAgImRpdi4iICsgTElOS1NfSFRNTF9JRCArICIgYSIgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAiZGlzcGxheSI6ICJpbmxpbmUtYmxvY2siLAogICAgIm1hcmdpbiI6ICIxcHgiLAogICAgInRleHQtZGVjb3JhdGlvbiI6ICJub25lIgogICAgfSkgKyAiXG4iICsKICAiZGl2LiIgKyBMSU5LU19IVE1MX0lEICsgIiAuIiArIENTU19QUkVGSVggKyAidmlkZW8iICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImRpc3BsYXkiOiAiaW5saW5lLWJsb2NrIiwKICAgICJ0ZXh0LWFsaWduIjogImNlbnRlciIsCiAgICAid2lkdGgiOiAiMy41ZW0iCiAgICB9KSArICJcbiIgKwogICJkaXYuIiArIExJTktTX0hUTUxfSUQgKyAiIC4iICsgQ1NTX1BSRUZJWCArICJxdWFsaXR5IiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJkaXNwbGF5IjogImlubGluZS1ibG9jayIsCiAgICAidGV4dC1hbGlnbiI6ICJjZW50ZXIiLAogICAgIndpZHRoIjogIjUuNWVtIgogICAgfSkgKyAiXG4iICsKICAiLiIgKyBDU1NfUFJFRklYICsgInZpZGVvIiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJjb2xvciI6ICIjZmZmICFpbXBvcnRhbnQiLAogICAgInBhZGRpbmciOiAiMXB4IDNweCIsCiAgICAidGV4dC1hbGlnbiI6ICJjZW50ZXIiCiAgICB9KSArICJcbiIgKwogICIuIiArIENTU19QUkVGSVggKyAicXVhbGl0eSIgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAiY29sb3IiOiAiIzAwMCAhaW1wb3J0YW50IiwKICAgICJkaXNwbGF5IjogInRhYmxlLWNlbGwiLAogICAgIm1pbi13aWR0aCI6ICIxLjVlbSIsCiAgICAicGFkZGluZyI6ICIxcHggM3B4IiwKICAgICJ0ZXh0LWFsaWduIjogImNlbnRlciIsCiAgICAidmVydGljYWwtYWxpZ24iOiAibWlkZGxlIgogICAgfSkgKyAiXG4iICsKICAiaHRtbFtkYXJrXSAuIiArIENTU19QUkVGSVggKyAicXVhbGl0eSIgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAiY29sb3IiOiAiI2ZmZiAhaW1wb3J0YW50IgogICAgfSkgKyAiXG4iICsKICAiLiIgKyBDU1NfUFJFRklYICsgImZpbGVzaXplIiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJmb250LXNpemUiOiAiOTAlIiwKICAgICJtYXJnaW4tdG9wIjogIjJweCIsCiAgICAicGFkZGluZyI6ICIxcHggM3B4IiwKICAgICJ0ZXh0LWFsaWduIjogImNlbnRlciIKICAgIH0pICsgIlxuIiArCiAgImh0bWxbZGFya10gLiIgKyBDU1NfUFJFRklYICsgImZpbGVzaXplIiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJjb2xvciI6ICIjOTk5IgogICAgfSkgKyAiXG4iICsKICAiLiIgKyBDU1NfUFJFRklYICsgImZpbGVzaXplLWVyciIgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAiY29sb3IiOiAiI2YwMCIsCiAgICAiZm9udC1zaXplIjogIjkwJSIsCiAgICAibWFyZ2luLXRvcCI6ICIycHgiLAogICAgInBhZGRpbmciOiAiMXB4IDNweCIsCiAgICAidGV4dC1hbGlnbiI6ICJjZW50ZXIiCiAgICB9KSArICJcbiIgKwogICIuIiArIENTU19QUkVGSVggKyAibm90LWF2YWlsIiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiM3MDAiLAogICAgImNvbG9yIjogIiNmZmYiLAogICAgInBhZGRpbmciOiAiM3B4IiwKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICIzZ3AiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiI2JiYiIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJhdjEiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiI2Y1ZiIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJmbHYiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiIzBkZCIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJtNGEiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiIzA3ZSIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJtNHYiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiIzA3ZSIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJtcDMiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiIzdiYSIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJtcDQiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiIzc3NyIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJvcHVzIiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNlMGUiCiAgICB9KSArICJcbiIgKwogICIuIiArIENTU19QUkVGSVggKyAicXQiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiI2YwOCIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJ2b3IiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiI2UwZSIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJ2cDkiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiI2UwZSIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJ3ZWJtIiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNkNGQiCiAgICB9KSArICJcbiIgKwogICIuIiArIENTU19QUkVGSVggKyAid212IiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNjNzUiCiAgICB9KSArICJcbiIgKwogICIuIiArIENTU19QUkVGSVggKyAic21hbGwiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImNvbG9yIjogIiM4ODggIWltcG9ydGFudCIsCiAgICB9KSArICJcbiIgKwogICIuIiArIENTU19QUkVGSVggKyAibWVkaXVtIiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJjb2xvciI6ICIjZmZmICFpbXBvcnRhbnQiLAogICAgImJhY2tncm91bmQtY29sb3IiOiAiIzBkMCIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJsYXJnZSIgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAiY29sb3IiOiAiI2ZmZiAhaW1wb3J0YW50IiwKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiMwMGQiLAogICAgImJhY2tncm91bmQtaW1hZ2UiOiAibGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjMDBkLCAjMDBhKSIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJoZDcyMCIgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAiY29sb3IiOiAiI2ZmZiAhaW1wb3J0YW50IiwKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNmOTAiLAogICAgImJhY2tncm91bmQtaW1hZ2UiOiAibGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjZjkwLCAjZDcwKSIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJoZDEwODAiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImNvbG9yIjogIiNmZmYgIWltcG9ydGFudCIsCiAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjZjAwIiwKICAgICJiYWNrZ3JvdW5kLWltYWdlIjogImxpbmVhci1ncmFkaWVudCh0byByaWdodCwgI2YwMCwgI2MwMCkiCiAgICB9KSArICJcbiIgKwogICIuIiArIENTU19QUkVGSVggKyAiaGlnaHJlcyIgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAiY29sb3IiOiAiI2ZmZiAhaW1wb3J0YW50IiwKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNjMGYiLAogICAgImJhY2tncm91bmQtaW1hZ2UiOiAibGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjYzBmLCAjOTBmKSIKICAgIH0pICsgIlxuIiArCiAgIi4iICsgQ1NTX1BSRUZJWCArICJ1bHRyYWhpZ2hyZXMiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImNvbG9yIjogIiNmZmYgIWltcG9ydGFudCIsCiAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjZmZlNDJiIiwKICAgICJiYWNrZ3JvdW5kLWltYWdlIjogImxpbmVhci1ncmFkaWVudCh0byByaWdodCwgI2ZmZTQyYiwgI2RmYjIwMCkiCiAgICB9KSArICJcbiIgKwogICIuIiArIENTU19QUkVGSVggKyAicG9zLXJlbCIgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAicG9zaXRpb24iOiAicmVsYXRpdmUiCiAgICB9KSArICJcbiIgKwogICIjIiArIEhEUl9MSU5LU19IVE1MX0lEICsgIiBhLmZsYXNoOmhvdmVyIiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNmZmEiLAogICAgInRyYW5zaXRpb24iOiAiYmFja2dyb3VuZC1jb2xvciAwLjI1cyBsaW5lYXIiCiAgICB9KSArICJcbiIgKwogICIjIiArIEhEUl9MSU5LU19IVE1MX0lEICsgIiBhLmZsYXNoLW91dDpob3ZlciIgKyBkb20uZW1pdENzc1N0eWxlcyh7CiAgICAidHJhbnNpdGlvbiI6ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMjVzIGxpbmVhciIKICAgIH0pICsgIlxuIiArCiAgImRpdi4iICsgTElOS1NfSFRNTF9JRCArICIgYS5mbGFzaCBkaXYiICsgZG9tLmVtaXRDc3NTdHlsZXMoewogICAgImJhY2tncm91bmQtY29sb3IiOiAiI2ZmYSIsCiAgICAidHJhbnNpdGlvbiI6ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMjVzIGxpbmVhciIKICAgIH0pICsgIlxuIiArCiAgImRpdi4iICsgTElOS1NfSFRNTF9JRCArICIgYS5mbGFzaC1vdXQgZGl2IiArIGRvbS5lbWl0Q3NzU3R5bGVzKHsKICAgICJ0cmFuc2l0aW9uIjogImJhY2tncm91bmQtY29sb3IgMC4yNXMgbGluZWFyIgogICAgfSkgKyAiXG4iICsKICAiIjsKCmZ1bmN0aW9uIGNvbmRJbnNlcnRIZHIoZGl2SWQpIHsKICBpZihkb20uZ0UoSERSX0xJTktTX0hUTUxfSUQpKQogICAgcmV0dXJuIHRydWU7CgogIHZhciBpbnNlcnRQdE5vZGUgPSBkb20uZ0UoZGl2SWQpOwogIGlmKCFpbnNlcnRQdE5vZGUpCiAgICByZXR1cm4gZmFsc2U7CgogIHZhciBkaXZOb2RlID0gZG9tLmNFKCJkaXYiKTsKICBkaXZOb2RlLmlkID0gSERSX0xJTktTX0hUTUxfSUQ7CgogIGluc2VydFB0Tm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXZOb2RlLCBpbnNlcnRQdE5vZGUpOwogIHJldHVybiB0cnVlOwogIH0KCmZ1bmN0aW9uIGNvbmRSZW1vdmVIZHIoKSB7CiAgdmFyIG5vZGUgPSBkb20uZ0UoSERSX0xJTktTX0hUTUxfSUQpOwoKICBpZihub2RlKQogICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpOwogIH0KCmZ1bmN0aW9uIGNvbmRJbnNlcnRUb29sdGlwKCkgewogIGlmKGRvbS5nRShMSU5LU19UUF9IVE1MX0lEKSkKICAgIHJldHVybiB0cnVlOwoKICB2YXIgdG9vbFRpcE5vZGUgPSBkb20uY0UoImRpdiIpOwogIHRvb2xUaXBOb2RlLmlkID0gTElOS1NfVFBfSFRNTF9JRDsKCiAgdmFyIGNscyA9IFsgTElOS1NfSFRNTF9JRCBdOwoKICBpZihkb20uZ0UoInBhZ2UtbWFuYWdlciIpKQogICAgY2xzLnB1c2goImxheW91dDIwMTciKTsKCiAgZG9tLmF0dHIodG9vbFRpcE5vZGUsICJjbGFzcyIsIGNscy5qb2luKCIgIikpOwogIGRvbS5hdHRyKHRvb2xUaXBOb2RlLCAic3R5bGUiLCAiZGlzcGxheTogbm9uZTsiKTsKCiAgZG9tLmFwcGVuZChkb2MuYm9keSwgdG9vbFRpcE5vZGUpOwoKICBkb20uYWRkRXZlbnQodG9vbFRpcE5vZGUsICJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oZXZ0KSB7CiAgICAvL2xvZ01zZygibW91c2UgbGVhdmUiKTsKICAgIGRvbS5hdHRyKHRvb2xUaXBOb2RlLCAic3R5bGUiLCAiZGlzcGxheTogbm9uZTsiKTsKICAgIHN0b3BDaGtNb3VzZUluUG9wdXAoKTsKICAgIH0pOwogIH0KCmZ1bmN0aW9uIGNvbmRJbnNlcnRVcGRhdGVJY29uKCkgewogIGlmKGRvbS5nRShVUERBVEVfSFRNTF9JRCkpCiAgICByZXR1cm47CgogIHZhciBkaXZOb2RlID0gZG9tLmNFKCJhIik7CiAgZGl2Tm9kZS5pZCA9IFVQREFURV9IVE1MX0lEOwogIGRvbS5hcHBlbmQoZG9jLmJvZHksIGRpdk5vZGUpOwogIH0KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgp2YXIgU1RPUkVfSUQgPSAidWpzWXRMaW5rcyI7CnZhciBKU09OUF9JRCA9ICJ1anNZdExpbmtzIjsKCi8vIFVzZXIgc2V0dGluZ3MgY2FuIGJlIHNhdmVkIGluIGxvY2FsU3RvcmFnZS4gUmVmZXIgdG8gZG9jdW1lbnRhdGlvbiBmb3IgZGV0YWlscy4KdmFyIHVzZXJDb25maWcgPSB7CiAgY29weVRvQ2xpcGJvYXJkOiAhaXNFZGdlQnJvd3NlciwKICBmaWx0ZXJlZEZvcm1hdHM6IFtdLAogIGtlZXBGb3JtYXRzOiBbXSwKICBzaG93VmlkZW9Gb3JtYXRzOiB0cnVlLAogIHNob3dWaWRlb1NpemU6IHRydWUsCiAgdGFnTGlua3M6IHRydWUKICB9OwoKdmFyIHZpZGVvSW5mb0NhY2hlID0ge307Cgp2YXIgVEFHX0xJTktfTlVNX1BFUl9CQVRDSCA9IDU7CnZhciBJTklfVEFHX0xJTktfREVMQVlfTVMgPSAyMDA7CnZhciBTVUJfVEFHX0xJTktfREVMQVlfTVMgPSA1MDA7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKdmFyIEZVTExfQVJfQ1VUT0ZGID0gMS41Owp2YXIgV0lERV9BUl9DVVRPRkYgPSAyLjA7CnZhciBVTFRSQV9XSURFX0FSX0NVVE9GRiA9IDIuMzsKCnZhciBIRlJfQ1VUT0ZGID0gNDU7CgpmdW5jdGlvbiBMaW5rcygpIHsKICB9CgpMaW5rcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkgewogIGZvcih2YXIgayBpbiB1c2VyQ29uZmlnKSB7CiAgICB0cnkgewogICAgICB2YXIgdiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JFX0lEICsgIi5jZmcuIiArIGspOwogICAgICBpZih2ICE9IG51bGwpCiAgICAgICAgdXNlckNvbmZpZ1trXSA9IEpTT04ucGFyc2Uodik7CiAgICB9IGNhdGNoKGUpIHsKICAgICAgbG9nTXNnKGsgKyAiOiB1bmFibGUgdG8gcGFyc2UgJyIgKyB2ICsgIiciKTsKICAgICAgfQogICAgfQogIH07CgpMaW5rcy5wcm90b3R5cGUuZ2V0UHJlZmVycmVkRm10ID0gZnVuY3Rpb24obWFwKSB7CiAgdmFyIHNlbEVsbSA9IG1hcC5mbXRVcmxMaXN0WzBdOwoKICBmb3JFYWNoKG1hcC5mbXRVcmxMaXN0LCBmdW5jdGlvbihpZHgsIGVsbSkgewogICAgaWYoZ2V0VmlkZW9OYW1lKGVsbS50eXBlKS50b0xvd2VyQ2FzZSgpICE9ICJ3ZWJtIikgewogICAgICBzZWxFbG0gPSBlbG07CiAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSk7CgogIHJldHVybiBzZWxFbG07CiAgfTsKCkxpbmtzLnByb3RvdHlwZS5wYXJzZURhc2hNYW5pZmVzdCA9IGZ1bmN0aW9uKG1hcCwgY2FsbGJhY2spIHsKICBmdW5jdGlvbiBwYXJzZSh4bWwpIHsKICAgIC8vbG9nTXNnKHhtbCk7CgogICAgdmFyIGRhc2hMaXN0ID0gW107CgogICAgdmFyIGFkYXB0YXRpb25TZXREb20gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkFkYXB0YXRpb25TZXQiKTsKICAgIC8vbG9nTXNnKGFkYXB0YXRpb25TZXREb20pOwoKICAgIGZvckVhY2goYWRhcHRhdGlvblNldERvbSwgZnVuY3Rpb24oaSwgYWRhcHRhdGlvbkVsbSkgewogICAgICB2YXIgbWltZVR5cGUgPSBhZGFwdGF0aW9uRWxtLmdldEF0dHJpYnV0ZSgibWltZVR5cGUiKTsKICAgICAgLy9sb2dNc2coaSArICIgIiArIG1pbWVUeXBlKTsKCiAgICAgIHZhciByZXByZXNlbnRhdGlvbkRvbSA9IGFkYXB0YXRpb25FbG0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlJlcHJlc2VudGF0aW9uIik7CiAgICAgIGZvckVhY2gocmVwcmVzZW50YXRpb25Eb20sIGZ1bmN0aW9uKGosIHJlcEVsbSkgewogICAgICAgIHZhciBkYXNoRWxtID0geyBtaW1lVHlwZTogbWltZVR5cGUgfTsKCiAgICAgICAgZm9yRWFjaChbICJjb2RlY3MiIF0sIGZ1bmN0aW9uKGlkeCwgZWxtKSB7CiAgICAgICAgICB2YXIgdiA9IHJlcEVsbS5nZXRBdHRyaWJ1dGUoZWxtKTsKICAgICAgICAgIGlmKHYgIT0gbnVsbCkKICAgICAgICAgICAgZGFzaEVsbVtlbG1dID0gdjsKICAgICAgICAgIH0pOwoKICAgICAgICBmb3JFYWNoKFsgImF1ZGlvU2FtcGxpbmdSYXRlIiwgImJhbmR3aWR0aCIsICJmcmFtZVJhdGUiLCAiaGVpZ2h0IiwgImlkIiwgIndpZHRoIiBdLCBmdW5jdGlvbihpZHgsIGVsbSkgewogICAgICAgICAgdmFyIHYgPSByZXBFbG0uZ2V0QXR0cmlidXRlKGVsbSk7CiAgICAgICAgICBpZih2ICE9IG51bGwpCiAgICAgICAgICAgIGRhc2hFbG1bZWxtXSA9ICt2OwogICAgICAgICAgfSk7CgogICAgICAgIHZhciBiYXNlVXJsRG9tID0gcmVwRWxtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJCYXNlVVJMIik7CiAgICAgICAgZGFzaEVsbS5sZW4gPSArYmFzZVVybERvbVswXS5nZXRBdHRyaWJ1dGUoInl0OmNvbnRlbnRMZW5ndGgiKTsKICAgICAgICBkYXNoRWxtLnVybCA9IGJhc2VVcmxEb21bMF0udGV4dENvbnRlbnQ7CgogICAgICAgIHZhciBzZWdMaXN0ID0gcmVwRWxtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJTZWdtZW50TGlzdCIpOwogICAgICAgIGlmKHNlZ0xpc3QubGVuZ3RoID4gMCkKICAgICAgICAgIGRhc2hFbG0ubnVtU2VnbWVudHMgPSBzZWdMaXN0WzBdLmNoaWxkTm9kZXMubGVuZ3RoOwoKICAgICAgICBkYXNoTGlzdC5wdXNoKGRhc2hFbG0pOwogICAgICAgIH0pOwogICAgICB9KTsKCiAgICAvL2xvZ01zZyhtYXApOwogICAgLy9sb2dNc2coZGFzaExpc3QpOwoKICAgIHZhciBtYXhCaXRSYXRlTWFwID0ge307CgogICAgZm9yRWFjaChkYXNoTGlzdCwgZnVuY3Rpb24oaWR4LCBkYXNoRWxtKSB7CiAgICAgIGlmKGRhc2hFbG0ubWltZVR5cGUgIT0gInZpZGVvL21wNCIgJiYgZGFzaEVsbS5taW1lVHlwZSAhPSAidmlkZW8vd2VibSIpCiAgICAgICAgcmV0dXJuOwoKICAgICAgdmFyIGlkID0gWyBkYXNoRWxtLm1pbWVUeXBlLCBkYXNoRWxtLndpZHRoLCBkYXNoRWxtLmhlaWdodCwgZGFzaEVsbS5mcmFtZVJhdGUgXS5qb2luKCJ8Iik7CgogICAgICBpZihtYXhCaXRSYXRlTWFwW2lkXSA9PSBudWxsIHx8IG1heEJpdFJhdGVNYXBbaWRdIDwgZGFzaEVsbS5iYW5kd2lkdGgpCiAgICAgICAgbWF4Qml0UmF0ZU1hcFtpZF0gPSBkYXNoRWxtLmJhbmR3aWR0aDsKICAgICAgfSk7CgogICAgZm9yRWFjaChkYXNoTGlzdCwgZnVuY3Rpb24oaWR4LCBkYXNoRWxtKSB7CiAgICAgIHZhciBmb3VuZElkeDsKCiAgICAgIGZvckVhY2gobWFwLmZtdFVybExpc3QsIGZ1bmN0aW9uKGlkeCwgbWFwRWxtKSB7CiAgICAgICAgaWYoZGFzaEVsbS5pZCA9PSBtYXBFbG0uaXRhZykgewogICAgICAgICAgZm91bmRJZHggPSBpZHg7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICBpZihmb3VuZElkeCAhPSBudWxsKSB7CiAgICAgICAgaWYoZGFzaEVsbS5udW1TZWdtZW50cyAhPSBudWxsKQogICAgICAgICAgbWFwLmZtdFVybExpc3RbZm91bmRJZHhdLm51bVNlZ21lbnRzID0gZGFzaEVsbS5udW1TZWdtZW50czsKCiAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgIC8vbG9nTXNnKGRhc2hFbG0pOwoKICAgICAgaWYoKGRhc2hFbG0ubWltZVR5cGUgPT0gInZpZGVvL21wNCIgfHwgZGFzaEVsbS5taW1lVHlwZSA9PSAidmlkZW8vd2VibSIpICYmIChkYXNoRWxtLndpZHRoID49IDEwMDAgfHwgZGFzaEVsbS5oZWlnaHQgPj0gMTAwMCkpIHsKICAgICAgICB2YXIgaWQgPSBbIGRhc2hFbG0ubWltZVR5cGUsIGRhc2hFbG0ud2lkdGgsIGRhc2hFbG0uaGVpZ2h0LCBkYXNoRWxtLmZyYW1lUmF0ZSBdLmpvaW4oInwiKTsKCiAgICAgICAgaWYobWF4Qml0UmF0ZU1hcFtpZF0gPT0gbnVsbCB8fCBkYXNoRWxtLmJhbmR3aWR0aCA8IG1heEJpdFJhdGVNYXBbaWRdKQogICAgICAgICAgcmV0dXJuOwoKICAgICAgICB2YXIgc2l6ZSA9IGRhc2hFbG0ud2lkdGggKyAieCIgKyBkYXNoRWxtLmhlaWdodDsKCiAgICAgICAgaWYobWFwLmZtdE1hcFtkYXNoRWxtLmlkXSA9PSBudWxsKQogICAgICAgICAgbWFwLmZtdE1hcFtkYXNoRWxtLmlkXSA9IHsgcmVzOiBjbnZSZXNOYW1lKHNpemUpIH07CgogICAgICAgIG1hcC5mbXRVcmxMaXN0LnB1c2goewogICAgICAgICAgYml0cmF0ZTogZGFzaEVsbS5iYW5kd2lkdGgsCiAgICAgICAgICBlZmZUeXBlOiBkYXNoRWxtLm1pbWVUeXBlID09ICJ2aWRlby9tcDQiID8gInZpZGVvL3gtbTR2IiA6IG51bGwsCiAgICAgICAgICBmaWxlc2l6ZTogZGFzaEVsbS5sZW4sCiAgICAgICAgICBmcHM6IGRhc2hFbG0uZnJhbWVSYXRlLAogICAgICAgICAgaXRhZzogZGFzaEVsbS5pZCwKICAgICAgICAgIHF1YWxpdHk6IG1hcFJlc1RvUXVhbGl0eShzaXplKSwKICAgICAgICAgIHNpemU6IHNpemUsCiAgICAgICAgICB0eXBlOiBkYXNoRWxtLm1pbWVUeXBlICsgIjsrY29kZWNzPVwiIiArIGRhc2hFbG0uY29kZWNzICsgIlwiIiwKICAgICAgICAgIHVybDogZGFzaEVsbS51cmwsCiAgICAgICAgICBudW1TZWdtZW50czogZGFzaEVsbS5udW1TZWdtZW50cwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICBlbHNlIGlmKGRhc2hFbG0ubWltZVR5cGUgPT0gImF1ZGlvL21wNCIgJiYgZGFzaEVsbS5hdWRpb1NhbXBsaW5nUmF0ZSA+PSA0NDEwMCkgewogICAgICAgIGlmKG1hcC5mbXRNYXBbZGFzaEVsbS5pZF0gPT0gbnVsbCkgewogICAgICAgICAgbWFwLmZtdE1hcFtkYXNoRWxtLmlkXSA9IHsgcmVzOiAiQXVkaW8iIH07CiAgICAgICAgICB9CgogICAgICAgIG1hcC5mbXRVcmxMaXN0LnB1c2goewogICAgICAgICAgYml0cmF0ZTogZGFzaEVsbS5iYW5kd2lkdGgsCiAgICAgICAgICBmaWxlc2l6ZTogZGFzaEVsbS5sZW4sCiAgICAgICAgICBpdGFnOiBkYXNoRWxtLmlkLAogICAgICAgICAgcXVhbGl0eTogImF1ZGlvIiwKICAgICAgICAgIHR5cGU6IGRhc2hFbG0ubWltZVR5cGUgKyAiOytjb2RlY3M9XCIiICsgZGFzaEVsbS5jb2RlY3MgKyAiXCIiLAogICAgICAgICAgdXJsOiBkYXNoRWxtLnVybAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICBpZihjb25kSW5zZXJ0SGRyKG1lLmdldEluc2VydFB0KCkpKQogICAgICBtZS5jcmVhdGVMaW5rcyhkb20uZ0UoSERSX0xJTktTX0hUTUxfSUQpLCBtYXApOwogICAgfQoKICAvLyBFbnRyeSBwb2ludAogIHZhciBtZSA9IHRoaXM7CgogIGlmKCFtYXAuZGFzaG1wZCkgewogICAgc2V0VGltZW91dChjYWxsYmFjaywgMCk7CiAgICByZXR1cm47CiAgICB9CgogIC8vbG9nTXNnKG1hcC5kYXNobXBkKTsKCiAgaWYobWFwLmRhc2htcGQubWF0Y2goL1wvc1wvKFthLXpBLVowLTkuXSspXC8vKSkgewogICAgdmFyIHNpZyA9IGRlb2JmdXNjYXRlVmlkZW9TaWcobWFwLnNjcmlwdE5hbWUsIFJlZ0V4cC4kMSk7CiAgICBtYXAuZGFzaG1wZCA9IG1hcC5kYXNobXBkLnJlcGxhY2UoL1wvc1wvW2EtekEtWjAtOS5dK1wvLywgIi9zaWcvIiArIHNpZyArICIvIik7CiAgICB9CgogIGRvbS5jcm9zc0FqYXgoewogICAgdXJsOiBtYXAuZGFzaG1wZCwKICAgIGRhdGFUeXBlOiAieG1sIiwKCiAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCBzdGF0dXMsIHhocikgewogICAgICBwYXJzZShkYXRhKTsKICAgICAgY2FsbGJhY2soKTsKICAgICAgfSwKCiAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMpIHsKICAgICAgY2FsbGJhY2soKTsKICAgICAgfSwKCiAgICBjb21wbGV0ZTogZnVuY3Rpb24oeGhyKSB7CiAgICAgIH0KICAgIH0pOwogIH07CgpMaW5rcy5wcm90b3R5cGUuY2hlY2tGbXRzID0gZnVuY3Rpb24oZm9yY2VGbGFnKSB7CiAgdmFyIG1lID0gdGhpczsKCiAgaWYoIXVzZXJDb25maWcuc2hvd1ZpZGVvRm9ybWF0cykKICAgIHJldHVybjsKCiAgaWYoIWZvcmNlRmxhZyAmJiB1c2VyQ29uZmlnLnNob3dWaWRlb0Zvcm1hdHMgPT0gImJ0biIpIHsKICAgIGNvbmRSZW1vdmVIZHIoKTsKCiAgICBpZihkb20uZ0UoVklEX0ZNVF9CVE5fSUQpKQogICAgICByZXR1cm47CgogICAgLy8gJ2NvbnRhaW5lcicgaXMgZm9yIE1hdGVyaWFsIERlc2lnbgogICAgdmFyIG1hc3RIID0gZG9tLmdFKCJ5dC1tYXN0aGVhZC1zaWduaW4iKSB8fCBkb20uZ0UoInl0LW1hc3RoZWFkLXVzZXIiKSB8fCBkb20uZ0UoImNvbnRhaW5lciIpOwogICAgaWYoIW1hc3RIKQogICAgICByZXR1cm47CgogICAgdmFyIGJ0biA9IGRvbS5jRSgiYnV0dG9uIik7CiAgICBkb20uYXR0cihidG4sICJpZCIsIFZJRF9GTVRfQlROX0lEKTsKICAgIGRvbS5hdHRyKGJ0biwgImNsYXNzIiwgInl0LXVpeC1idXR0b24geXQtdWl4LWJ1dHRvbi1kZWZhdWx0Iik7CiAgICBidG4uaW5uZXJIVE1MID0gIlZpZEZtdHMiOwoKICAgIGRvbS5wcmVwZW5kKG1hc3RILCBidG4pOwoKICAgIGRvbS5hZGRFdmVudChidG4sICJjbGljayIsIGZ1bmN0aW9uKGV2dCkgewogICAgICBtZS5jaGVja0ZtdHMoLypmb3JjZSovIHRydWUpOwogICAgICB9KTsKCiAgICByZXR1cm47CiAgICB9CgogIGlmKCFsb2MuaHJlZi5tYXRjaCgvd2F0Y2hcPyg/Oi4rJik/dj0oW2EtekEtWjAtOV8tXSspLykpCiAgICByZXR1cm4gZmFsc2U7CgogIHZhciB2aWRlb0lkID0gUmVnRXhwLiQxOwoKICB2YXIgdXJsID0gbG9jLnByb3RvY29sICsgIi8vIiArIGxvYy5ob3N0ICsgIi93YXRjaD92PSIgKyB2aWRlb0lkOwoKICB2YXIgY3VyVmlkZW9VcmwgPSBsb2MudG9TdHJpbmcoKTsKCiAgZ2V0VmlkZW9JbmZvKHVybCwgZnVuY3Rpb24obWFwKSB7CiAgICBtZS5wYXJzZURhc2hNYW5pZmVzdChtYXAsIGZ1bmN0aW9uKCkgewogICAgICAvLyBIYXMgYmVjb21lIHN0YWxlIChlZyBzd2l0Y2ggZm9yd2FyZC9iYWNrIHBhZ2VzIHF1aWNrbHkpCiAgICAgIGlmKGN1clZpZGVvVXJsICE9IGxvYy50b1N0cmluZygpKQogICAgICAgIHJldHVybjsKCiAgICAgIG1lLnNob3dMaW5rcyhtZS5nZXRJbnNlcnRQdCgpLCBtYXApOwogICAgICB9KTsKICAgIH0pOwogIH07CgpMaW5rcy5wcm90b3R5cGUuZ2VuVXJsID0gZnVuY3Rpb24obWFwLCBlbG0pIHsKICB2YXIgdXJsID0gZWxtLnVybCArICImdGl0bGU9IiArIGVuY29kZVNhZmVGbmFtZShtYXAudGl0bGUpOwoKICBpZihlbG0uc2lnICE9IG51bGwpCiAgICB1cmwgKz0gIiZzaWc9IiArIGVsbS5zaWc7CgogIHJldHVybiB1cmw7CiAgfTsKCkxpbmtzLnByb3RvdHlwZS5lbWl0TGlua3MgPSBmdW5jdGlvbihtYXApIHsKICBmdW5jdGlvbiBmbXRTaXplKHNpemUsIHVuaXRzKSB7CiAgICBpZighdW5pdHMpCiAgICAgIHVuaXRzID0gWyAia0IiLCAiTUIiLCAiR0IiIF07CgogICAgZm9yKHZhciBpZHggPSAwOyBpZHggPCB1bml0cy5sZW5ndGg7ICsraWR4KSB7CiAgICAgIHNpemUgLz0gMTAwMDsKCiAgICAgIGlmKHNpemUgPCAxMCkKICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChzaXplICogMTAwKSAvIDEwMCArIHVuaXRzW2lkeF07CgogICAgICBpZihzaXplIDwgMTAwKQogICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHNpemUgKiAxMCkgLyAxMCArIHVuaXRzW2lkeF07CgogICAgICBpZihzaXplIDwgMTAwMCB8fCBpZHggPT0gdW5pdHMubGVuZ3RoIC0gMSkKICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChzaXplKSArIHVuaXRzW2lkeF07CiAgICAgIH0KICAgIH0KCiAgZnVuY3Rpb24gZm10Qml0cmF0ZShzaXplKSB7CiAgICByZXR1cm4gZm10U2l6ZShzaXplLCBbICJrYnBzIiwgIk1icHMiLCAiR2JwcyIgXSk7CiAgICB9CgogIGZ1bmN0aW9uIGdldEZpbGVFeHQodmlkZW9OYW1lLCBlbG0pIHsKICAgIGlmKHZpZGVvTmFtZSA9PSAiVlA5IikKICAgICAgcmV0dXJuICJ2aWRlby53ZWJtIjsKCiAgICBpZih2aWRlb05hbWUgPT0gIlZPUiIpCiAgICAgIHJldHVybiAiYXVkaW8ud2VibSI7CgogICAgcmV0dXJuIHZpZGVvTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgfQoKICAvLyBFbnRyeSBwb2ludAogIHZhciBtZSA9IHRoaXM7CiAgdmFyIHMgPSBbXTsKCiAgdmFyIHJlc01hcCA9IHt9OwoKICBtYXAuZm10VXJsTGlzdC5zb3J0KGNtcFVybExpc3QpOwoKICBmb3JFYWNoKG1hcC5mbXRVcmxMaXN0LCBmdW5jdGlvbihpZHgsIGVsbSkgewogICAgdmFyIGZtdE1hcCA9IG1hcC5mbXRNYXBbZWxtLml0YWddOwoKICAgIGlmKCFyZXNNYXBbZm10TWFwLnJlc10pIHsKICAgICAgcmVzTWFwW2ZtdE1hcC5yZXNdID0gW107CiAgICAgIHJlc01hcFtmbXRNYXAucmVzXS5xdWFsaXR5ID0gZWxtLnF1YWxpdHk7CiAgICAgIH0KCiAgICByZXNNYXBbZm10TWFwLnJlc10ucHVzaChlbG0pOwogICAgfSk7CgogIGZvcih2YXIgcmVzIGluIHJlc01hcCkgewogICAgdmFyIHFGaWVsZHMgPSBbXTsKCiAgICBxRmllbGRzLnB1c2goZG9tLmVtaXRIdG1sKCJkaXYiLCB7ICJjbGFzcyI6IENTU19QUkVGSVggKyAicXVhbGl0eSAiICsgQ1NTX1BSRUZJWCArIHJlc01hcFtyZXNdLnF1YWxpdHkgfSwgcmVzKSk7CgogICAgZm9yRWFjaChyZXNNYXBbcmVzXSwgZnVuY3Rpb24oaWR4LCBlbG0pIHsKICAgICAgdmFyIGZpZWxkcyA9IFtdOwogICAgICB2YXIgZm10TWFwID0gbWFwLmZtdE1hcFtlbG0uaXRhZ107CiAgICAgIHZhciB2aWRlb05hbWUgPSBnZXRWaWRlb05hbWUoZWxtLmVmZlR5cGUgfHwgZWxtLnR5cGUpOwoKICAgICAgdmFyIGFkZE1zZyA9IFsgZWxtLml0YWcsIGVsbS50eXBlLCBlbG0uc2l6ZSB8fCBlbG0ucXVhbGl0eSBdOwoKICAgICAgaWYoZWxtLmZwcyAhPSBudWxsKQogICAgICAgIGFkZE1zZy5wdXNoKGVsbS5mcHMgKyAiZnBzIik7CgogICAgICB2YXIgdmFyTXNnID0gIiI7CgogICAgICBpZihlbG0uYml0cmF0ZSAhPSBudWxsKQogICAgICAgIHZhck1zZyA9IGZtdEJpdHJhdGUoZWxtLmJpdHJhdGUpOwogICAgICBlbHNlIGlmKGZtdE1hcC52YXJzICE9IG51bGwpCiAgICAgICAgdmFyTXNnID0gZm10TWFwLnZhcnMuam9pbigpOwoKICAgICAgYWRkTXNnLnB1c2godmFyTXNnKTsKCiAgICAgIGlmKGVsbS5zICE9IG51bGwpCiAgICAgICAgYWRkTXNnLnB1c2goInNpZy0iICsgZWxtLnMubGVuZ3RoKTsKCiAgICAgIGlmKGVsbS5maWxlc2l6ZSAhPSBudWxsICYmIGVsbS5maWxlc2l6ZSA+PSAwKQogICAgICAgIGFkZE1zZy5wdXNoKGZtdFNpemUoZWxtLmZpbGVzaXplKSk7CgogICAgICB2YXIgdmlkU3VmZml4ID0gIiI7CgogICAgICBpZihpbkFycmF5KGVsbS5pdGFnLCBbIDgyLCA4MywgODQsIDEwMCwgMTAxLCAxMDIgXSkgPj0gMCkKICAgICAgICB2aWRTdWZmaXggPSAiICgzRCkiOwogICAgICBlbHNlIGlmKGVsbS5mcHMgIT0gbnVsbCAmJiBlbG0uZnBzID49IEhGUl9DVVRPRkYpCiAgICAgICAgdmlkU3VmZml4ID0gIiAoSEZSKSI7CgogICAgICBmaWVsZHMucHVzaChkb20uZW1pdEh0bWwoImRpdiIsIHsgImNsYXNzIjogQ1NTX1BSRUZJWCArICJ2aWRlbyAiICsgQ1NTX1BSRUZJWCArIHZpZGVvTmFtZS50b0xvd2VyQ2FzZSgpIH0sIHZpZGVvTmFtZSArIHZpZFN1ZmZpeCkpOwoKICAgICAgaWYoZWxtLmZpbGVzaXplICE9IG51bGwpIHsKICAgICAgICB2YXIgZmlsZXNpemUgPSBlbG0uZmlsZXNpemU7CgogICAgICAgIGlmKChtYXAuaXNMaXZlIHx8IChlbG0ubnVtU2VnbWVudHMgfHwgMSkgPiAxKSAmJiBmaWxlc2l6ZSA9PSAwKQogICAgICAgICAgZmlsZXNpemUgPSAtMTsKCiAgICAgICAgaWYoZmlsZXNpemUgPj0gMCkgewogICAgICAgICAgZmllbGRzLnB1c2goZG9tLmVtaXRIdG1sKCJkaXYiLCB7ICJjbGFzcyI6IENTU19QUkVGSVggKyAiZmlsZXNpemUiIH0sIGZtdFNpemUoZmlsZXNpemUpKSk7CiAgICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICB2YXIgbXNnOwoKICAgICAgICAgIGlmKGVsbS5pc0RybSkKICAgICAgICAgICAgbXNnID0gIkRSTSI7CiAgICAgICAgICBlbHNlIGlmKGVsbS5zICE9IG51bGwpCiAgICAgICAgICAgIG1zZyA9ICJzaWctIiArIGVsbS5zLmxlbmd0aDsKICAgICAgICAgIGVsc2UgaWYoZWxtLm51bVNlZ21lbnRzID4gMSkKICAgICAgICAgICAgbXNnID0gIkZyYWciOwogICAgICAgICAgZWxzZSBpZihtYXAuaXNMaXZlKQogICAgICAgICAgICBtc2cgPSAiTGl2ZSI7CiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIG1zZyA9ICJFcnIiOwoKICAgICAgICAgIGZpZWxkcy5wdXNoKGRvbS5lbWl0SHRtbCgiZGl2IiwgeyAiY2xhc3MiOiBDU1NfUFJFRklYICsgImZpbGVzaXplLWVyciIgfSwgbXNnKSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgdmFyIHVybDsKCiAgICAgIGlmKGVsbS5pc0RybSkKICAgICAgICB1cmwgPSBlbG0uY29ubiArICI/IiArIGVsbS5zdHJlYW07CiAgICAgIGVsc2UKICAgICAgICB1cmwgPSBtZS5nZW5VcmwobWFwLCBlbG0pOwoKICAgICAgdmFyIGZuYW1lID0gY252U2FmZUZuYW1lKG1hcC50aXRsZSk7CiAgICAgIHZhciBleHQgPSBnZXRGaWxlRXh0KHZpZGVvTmFtZSwgZWxtKTsKCiAgICAgIGlmKGV4dCkKICAgICAgICBmbmFtZSArPSAiLiIgKyBleHQ7CgogICAgICB2YXIgYWhyZWYgPSBkb20uZW1pdEh0bWwoImEiLCB7CiAgICAgICAgZG93bmxvYWQ6IGZuYW1lLAogICAgICAgIGV4dDogZXh0LAogICAgICAgIGhyZWY6IHVybCwKICAgICAgICByZXM6IHJlcywKICAgICAgICB0aXRsZTogYWRkTXNnLmpvaW4oIiB8ICIpCiAgICAgICAgfSwgZmllbGRzLmpvaW4oIiIpKTsKCiAgICAgIHFGaWVsZHMucHVzaChhaHJlZik7CiAgICAgIH0pOwoKICAgIHMucHVzaChkb20uZW1pdEh0bWwoImRpdiIsIHsgImNsYXNzIjogQ1NTX1BSRUZJWCArICJncm91cCIgfSwgcUZpZWxkcy5qb2luKCIiKSkpOwogICAgfQoKICByZXR1cm4gcy5qb2luKCIiKTsKICB9OwoKTGlua3MucHJvdG90eXBlLmNyZWF0ZUxpbmtzID0gZnVuY3Rpb24oaW5zZXJ0Tm9kZSwgbWFwKSB7CiAgZnVuY3Rpb24gY29weVRvQ2xpcGJvYXJkKHRleHQpIHsKICAgIHZhciBub2RlID0gZG9tLmNFKCJ0ZXh0YXJlYSIpOwoKICAgIC8vIE5lZWRlZCB0byBwcmV2ZW50IHNjcm9sbGluZyB0byB0b3Agb2YgcGFnZQogICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CgogICAgbm9kZS52YWx1ZSA9IHRleHQ7CgogICAgZG9tLmFwcGVuZChkb2N1bWVudC5ib2R5LCBub2RlKTsKCiAgICBub2RlLmZvY3VzKCk7CiAgICBub2RlLnNlbGVjdCgpOwoKICAgIHZhciByZXQgPSBmYWxzZTsKCiAgICB0cnkgewogICAgICBpZihkb2N1bWVudC5leGVjQ29tbWFuZCgiY29weSIpKQogICAgICAgIHJldCA9IHRydWU7CiAgICAgIH0gY2F0Y2goZSkgewogICAgICAgIH0KCiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG5vZGUpOwoKICAgIHJldHVybiByZXQ7CiAgICB9CgogIGZ1bmN0aW9uIGFkZENvcHlIYW5kbGVyKG5vZGUpIHsKICAgIGZvckVhY2goZG9tLmdUKG5vZGUsICJhIiksIGZ1bmN0aW9uKGlkeCwgZWxtKSB7CiAgICAgIGRvbS5hZGRFdmVudChlbG0sICJjbGljayIsIGZ1bmN0aW9uKGV2dCkgewogICAgICAgIHZhciBtZSA9IHRoaXM7CgogICAgICAgIHZhciBleHQgPSBkb20uYXR0cihtZSwgImV4dCIpOwogICAgICAgIHZhciByZXMgPSBkb20uYXR0cihtZSwgInJlcyIpIHx8ICIiOwoKICAgICAgICAvLyBUaGlzIGlzIHRoZSBvbmx5IHZpZGVvIHRoYXQgY2FuIGJlIGRvd25sb2FkZWQgZGlyZWN0bHkKICAgICAgICBpZihleHQgPT0gIm1wNCIgJiYgcmVzLm1hdGNoKC9eW2Etel0/NzIwW2Etel0kLykpCiAgICAgICAgICByZXR1cm47CgogICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICB2YXIgZm5hbWUgPSBkb20uYXR0cihtZSwgImRvd25sb2FkIik7CiAgICAgICAgLy9sb2dNc2coZm5hbWUpOwoKICAgICAgICBjb3B5VG9DbGlwYm9hcmQoZm5hbWUpOwoKICAgICAgICB2YXIgb3JnQ2xzID0gZG9tLmF0dHIobWUsICJjbGFzcyIpIHx8ICIiOwoKICAgICAgICBkb20uYXR0cihtZSwgImNsYXNzIiwgb3JnQ2xzICsgIiBmbGFzaCIpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGRvbS5hdHRyKG1lLCAiY2xhc3MiLCBvcmdDbHMgKyAiIGZsYXNoLW91dCIpOyB9LCAyNTApOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGRvbS5hdHRyKG1lLCAiY2xhc3MiLCBvcmdDbHMpOyB9LCA1MDApOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgLy8gRW50cnkgcG9pbnQKICB2YXIgbWUgPSB0aGlzOwoKICBpZihpbnNlcnROb2RlID09IG51bGwpCiAgICByZXR1cm47CgogIC8qIEVtaXQgdG8gdG1wIG5vZGUgZmlyc3QgYmVjYXVzZSBpbiBHTSA0LCA8YT4gZXZlbnQgZG9lcyBub3QgZmlyZSBvbiBub2RlcwogICBhbHJlYWR5IGluIHRoZSBET00uICovCgogIHZhciBzdGdOb2RlID0gZG9tLmNFKCJkaXYiKTsKICBkb20uaHRtbChzdGdOb2RlLCBtZS5lbWl0TGlua3MobWFwKSk7CgogIGlmKHVzZXJDb25maWcuY29weVRvQ2xpcGJvYXJkKQogICAgYWRkQ29weUhhbmRsZXIoc3RnTm9kZSk7CgogIGRvbS5odG1sKGluc2VydE5vZGUsICIiKTsKCiAgd2hpbGUoc3RnTm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApCiAgICBpbnNlcnROb2RlLmFwcGVuZENoaWxkKHN0Z05vZGUuZmlyc3RDaGlsZCk7CiAgfTsKCnZhciBJTklfU0hPV19GSUxFU0laRV9ERUxBWV9NUyA9IDUwMDsKdmFyIFNVQl9TSE9XX0ZJTEVTSVpFX0RFTEFZX01TID0gMjAwOwoKTGlua3MucHJvdG90eXBlLnNob3dMaW5rcyA9IGZ1bmN0aW9uKGRpdklkLCBtYXApIHsKICBmdW5jdGlvbiB1cGRhdGVMaW5rcygpIHsKICAgIC8vIEhhcyBiZWNvbWUgc3RhbGUgKGVnIHN3aXRjaCBmb3J3YXJkL2JhY2sgcGFnZXMgcXVpY2tseSkKICAgIGlmKGN1clZpZGVvVXJsICE9IGxvYy50b1N0cmluZygpKQogICAgICByZXR1cm47CgogICAgLy8hISBIYWNrIHRvIHVwZGF0ZSBmaWxlIHNpemUKICAgIHZhciBub2RlID0gZG9tLmdFKEhEUl9MSU5LU19IVE1MX0lEKTsKICAgIGlmKG5vZGUpCiAgICAgIG1lLmNyZWF0ZUxpbmtzKG5vZGUsIG1hcCk7CiAgICB9CgogIC8vIEVudHJ5IHBvaW50CiAgdmFyIG1lID0gdGhpczsKCiAgLy8gdmlkZW8gaXMgbm90IGF2YWlsCiAgaWYoIW1hcC5mbXRVcmxMaXN0KQogICAgcmV0dXJuOwoKICAvL2xvZ01zZyhKU09OLnN0cmluZ2lmeShtYXApKTsKCiAgaWYoIWNvbmRJbnNlcnRIZHIoZGl2SWQpKQogICAgcmV0dXJuOwoKICBtZS5jcmVhdGVMaW5rcyhkb20uZ0UoSERSX0xJTktTX0hUTUxfSUQpLCBtYXApOwoKICBpZighdXNlckNvbmZpZy5zaG93VmlkZW9TaXplKQogICAgcmV0dXJuOwoKICB2YXIgY3VyVmlkZW9VcmwgPSBsb2MudG9TdHJpbmcoKTsKCiAgZm9yRWFjaChtYXAuZm10VXJsTGlzdCwgZnVuY3Rpb24oaWR4LCBlbG0pIHsKICAgIC8vbG9nTXNnKGVsbS5pdGFnICsgIiAiICsgZWxtLnVybCk7CgogICAgLy8gV2UganVzdCBmYWlsIG91dHJpZ2h0IGZvciBwcm90ZWN0ZWQvb2JmdXNjYXRlZCB2aWRlb3MKICAgIGlmKGVsbS5pc0RybSB8fCBlbG0ucyAhPSBudWxsKSB7CiAgICAgIGVsbS5maWxlc2l6ZSA9IC0xOwogICAgICB1cGRhdGVMaW5rcygpOwogICAgICByZXR1cm47CiAgICAgIH0KCiAgICBpZihlbG0uY2xlbiAhPSBudWxsKSB7CiAgICAgIGVsbS5maWxlc2l6ZSA9IGVsbS5jbGVuOwogICAgICB1cGRhdGVMaW5rcygpOwogICAgICByZXR1cm47CiAgICAgIH0KCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAvLyBIYXMgYmVjb21lIHN0YWxlIChlZyBzd2l0Y2ggZm9yd2FyZC9iYWNrIHBhZ2VzIHF1aWNrbHkpCiAgICAgIGlmKGN1clZpZGVvVXJsICE9IGxvYy50b1N0cmluZygpKQogICAgICAgIHJldHVybjsKCiAgICAgIGRvbS5jcm9zc0FqYXgoewogICAgICAgIHR5cGU6ICJIRUFEIiwKICAgICAgICB1cmw6IG1lLmdlblVybChtYXAsIGVsbSksCgogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgeGhyKSB7CiAgICAgICAgICB2YXIgZmlsZXNpemUgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtTGVuZ3RoIik7CiAgICAgICAgICBpZihmaWxlc2l6ZSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgICAgLy9sb2dNc2cobWFwLnRpdGxlICsgIiAiICsgZWxtLml0YWcgKyAiOiAiICsgZmlsZXNpemUpOwogICAgICAgICAgZWxtLmZpbGVzaXplID0gK2ZpbGVzaXplOwoKICAgICAgICAgIHVwZGF0ZUxpbmtzKCk7CiAgICAgICAgICB9LAoKICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMpIHsKICAgICAgICAgIC8vbG9nTXNnKG1hcC5mbXRNYXBbZWxtLml0YWddLnJlcyArICIgIiArIGdldFZpZGVvTmFtZShlbG0udHlwZSkgKyAiOiAiICsgeGhyLnN0YXR1cyk7CgogICAgICAgICAgaWYoeGhyLnN0YXR1cyAhPSA0MDMgJiYgeGhyLnN0YXR1cyAhPSA0MDQpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgICBlbG0uZmlsZXNpemUgPSAtMTsKCiAgICAgICAgICB1cGRhdGVMaW5rcygpOwogICAgICAgICAgfSwKCiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHhocikgewogICAgICAgICAgLy9sb2dNc2cobWFwLnRpdGxlICsgIjogIiArIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICB9LCBJTklfU0hPV19GSUxFU0laRV9ERUxBWV9NUyArIGlkeCAqIFNVQl9TSE9XX0ZJTEVTSVpFX0RFTEFZX01TKTsKICAgIH0pOwogIH07CgpMaW5rcy5wcm90b3R5cGUudGFnTGlua3MgPSBmdW5jdGlvbigpIHsKICB2YXIgU0NBTk5FRCA9IDE7CiAgdmFyIFJFUV9JTkZPID0gMjsKICB2YXIgQURERURfSU5GTyA9IDM7CgogIGZ1bmN0aW9uIHByZXBhcmVUYWdIdG1sKG5vZGUsIG1hcCkgewogICAgdmFyIGVsbSA9IG1lLmdldFByZWZlcnJlZEZtdChtYXApOwogICAgdmFyIGZtdE1hcCA9IG1hcC5mbXRNYXBbZWxtLml0YWddOwoKICAgIGRvbS5hdHRyKG5vZGUsICJjbGFzcyIsIExJTktTX0hUTUxfSUQgKyAiICIgKyBDU1NfUFJFRklYICsgInF1YWxpdHkgIiArIENTU19QUkVGSVggKyBlbG0ucXVhbGl0eSk7CgogICAgdmFyIGxhYmVsID0gZm10TWFwLnJlczsKCiAgICBpZihlbG0uZnBzID49IEhGUl9DVVRPRkYpCiAgICAgIGxhYmVsICs9IGVsbS5mcHM7CgogICAgdmFyIHRhZ0V2ZW50OwoKICAgIGlmKHVzZXJDb25maWcudGFnTGlua3MgPT0gImxhYmVsIikKICAgICAgdGFnRXZlbnQgPSAiY2xpY2siOwogICAgZWxzZQogICAgICB0YWdFdmVudCA9ICJtb3VzZWVudGVyIjsKCiAgICBkb20uYWRkRXZlbnQobm9kZSwgdGFnRXZlbnQsIGZ1bmN0aW9uKGV2dCkgewogICAgICAvL2xvZ01zZygibW91c2UgZW50ZXIgIiArIG1hcC52aWRlb0lkKTsKICAgICAgdmFyIHBvcyA9IGRvbS5vZmZzZXQobm9kZSk7CiAgICAgIC8vbG9nTXNnKCJtb3VzZSBlbnRlcjogeCAiICsgcG9zLmxlZnQgKyAiLCB5ICIgKyBwb3MudG9wKTsKCiAgICAgIHZhciB0b29sVGlwTm9kZSA9IGRvbS5nRShMSU5LU19UUF9IVE1MX0lEKTsKCiAgICAgIGRvbS5hdHRyKHRvb2xUaXBOb2RlLCAic3R5bGUiLCAicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAiICsgcG9zLmxlZnQgKyAicHg7IHRvcDogIiArIHBvcy50b3AgKyAicHgiKTsKCiAgICAgIG1lLmNyZWF0ZUxpbmtzKHRvb2xUaXBOb2RlLCBtYXApOwoKICAgICAgc3RhcnRDaGtNb3VzZUluUG9wdXAoKTsKICAgICAgfSk7CgogICAgcmV0dXJuIGxhYmVsOwogICAgfQoKICBmdW5jdGlvbiBhZGRUYWcoaE5vZGUsIG1hcCkgewogICAgLy9sb2dNc2coZG9tLmh0bWwoaE5vZGUpKTsKICAgIC8vbG9nTXNnKCJoTm9kZSAiICsgZG9tLmF0dHIoaE5vZGUsICJjbGFzcyIpKTsKICAgIC8vdmFyIGltZyA9IGRvbS5nVChoTm9kZSwgImltZyIpIFswXTsKICAgIC8vbG9nTXNnKGRvbS5hdHRyKGltZywgInNyYyIpKTsKICAgIC8vbG9nTXNnKGRvbS5hdHRyKGltZywgImNsYXNzIikpOwoKICAgIGRvbS5hdHRyKGhOb2RlLCBDU1NfUFJFRklYICsgInByb2Nlc3NlZCIsIEFEREVEX0lORk8pOwoKICAgIHZhciBub2RlID0gZG9tLmNFKCJkaXYiKTsKCiAgICBpZihtYXAuZm10VXJsTGlzdCAmJiBtYXAuZm10VXJsTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgIHRhZ0h0bWwgPSBwcmVwYXJlVGFnSHRtbChub2RlLCBtYXApOwogICAgICB9CiAgICBlbHNlIHsKICAgICAgZG9tLmF0dHIobm9kZSwgImNsYXNzIiwgTElOS1NfSFRNTF9JRCArICIgIiArIENTU19QUkVGSVggKyAibm90LWF2YWlsIik7CiAgICAgIHRhZ0h0bWwgPSAiTkEiOwogICAgICB9CgogICAgdmFyIHBhcmVudE5vZGU7CiAgICB2YXIgaW5zTm9kZTsKCiAgICB2YXIgY2xzID0gZG9tLmF0dHIoaE5vZGUsICJjbGFzcyIpIHx8ICIiOwogICAgdmFyIGlzVmlkZW9XYWxsU3RpbGwgPSBjbHMubWF0Y2goL3ZpZGVvd2FsbC1zdGlsbC8pOwogICAgaWYoaXNWaWRlb1dhbGxTdGlsbCkgewogICAgICBwYXJlbnROb2RlID0gaE5vZGU7CiAgICAgIGluc05vZGUgPSBoTm9kZS5maXJzdENoaWxkOwogICAgICB9CiAgICBlbHNlIHsKICAgICAgcGFyZW50Tm9kZSA9IGhOb2RlLnBhcmVudE5vZGU7CiAgICAgIGluc05vZGUgPSBoTm9kZTsKICAgICAgfQoKICAgIHZhciBwYXJlbnRDc3NQb3NpdGlvblN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50Tm9kZSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgicG9zaXRpb24iKTsKCiAgICBpZihwYXJlbnRDc3NQb3NpdGlvblN0eWxlICE9ICJhYnNvbHV0ZSIgJiYgcGFyZW50Q3NzUG9zaXRpb25TdHlsZSAhPSAicmVsYXRpdmUiKQogICAgICBkb20uYXR0cihwYXJlbnROb2RlLCAiY2xhc3MiLCBkb20uYXR0cihwYXJlbnROb2RlLCAiY2xhc3MiKSArICIgIiArIENTU19QUkVGSVggKyAicG9zLXJlbCIpOwoKICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIGluc05vZGUpOwoKICAgIGRvbS5odG1sKG5vZGUsIHRhZ0h0bWwpOwogICAgfQoKICBmdW5jdGlvbiBnZXRGbXQodmlkZW9JZCwgaE5vZGUpIHsKICAgIGlmKHZpZGVvSW5mb0NhY2hlW3ZpZGVvSWRdKSB7CiAgICAgIGFkZFRhZyhoTm9kZSwgdmlkZW9JbmZvQ2FjaGVbdmlkZW9JZF0pOwogICAgICByZXR1cm47CiAgICAgIH0KCiAgICB2YXIgdXJsOwoKICAgIGlmKHZpZGVvSWQubWF0Y2goLy4rPT0kLykpCiAgICAgIHVybCA9IGxvYy5wcm90b2NvbCArICIvLyIgKyBsb2MuaG9zdCArICIvY3RocnU/a2V5PSIgKyB2aWRlb0lkOwogICAgZWxzZQogICAgICB1cmwgPSBsb2MucHJvdG9jb2wgKyAiLy8iICsgbG9jLmhvc3QgKyAiL3dhdGNoP3Y9IiArIHZpZGVvSWQ7CgogICAgZ2V0VmlkZW9JbmZvKHVybCwgZnVuY3Rpb24obWFwKSB7CiAgICAgIHZpZGVvSW5mb0NhY2hlW3ZpZGVvSWRdID0gbWFwOwogICAgICBhZGRUYWcoaE5vZGUsIG1hcCk7CiAgICAgIH0pOwogICAgfQoKICAvLyBFbnRyeSBwb2ludAogIHZhciBtZSA9IHRoaXM7CgogIHZhciBsaXN0ID0gW107CgogIGZvckVhY2goZG9tLmdUKCJhIiksIGZ1bmN0aW9uKGlkeCwgaE5vZGUpIHsKICAgIGlmKGRvbS5hdHRyKGhOb2RlLCBDU1NfUFJFRklYICsgInByb2Nlc3NlZCIpKQogICAgICByZXR1cm47CgogICAgaWYoIWRvbS5pblZpZXdwb3J0KGhOb2RlKSkKICAgICAgcmV0dXJuOwoKICAgIGRvbS5hdHRyKGhOb2RlLCBDU1NfUFJFRklYICsgInByb2Nlc3NlZCIsIFNDQU5ORUQpOwoKICAgIGlmKCFoTm9kZS5ocmVmLm1hdGNoKC93YXRjaFw/dj0oW2EtekEtWjAtOV8tXSspLykgJiYKICAgICAhaE5vZGUuaHJlZi5tYXRjaCgvd2F0Y2hfdmlkZW9zLis/JnZpZGVvX2lkcz0oW2EtekEtWjAtOV8tXSspLykpCiAgICAgIHJldHVybjsKCiAgICB2YXIgdmlkZW9JZCA9IFJlZ0V4cC4kMTsKCiAgICB2YXIgY2xzID0gZG9tLmF0dHIoaE5vZGUsICJjbGFzcyIpIHx8ICIiOwogICAgaWYoIWNscy5tYXRjaCgvdmlkZW93YWxsLXN0aWxsLykpIHsKICAgICAgaWYoY2xzID09ICJ5dC1idXR0b24iIHx8IGNscy5tYXRjaCgveXQtdWl4LWJ1dHRvbi8pKQogICAgICAgIHJldHVybjsKCiAgICAgIC8vIE1hdGVyaWFsIERlc2lnbgogICAgICBpZihjbHMubWF0Y2goL3l0ZC1wbGF5bGlzdC0ocGFuZWwtKT92aWRlby1yZW5kZXJlci8pKQogICAgICAgIHJldHVybjsKCiAgICAgIGlmKGRvbS5hdHRyKGhOb2RlLnBhcmVudE5vZGUsICJjbGFzcyIpID09ICJ2aWRlby10aW1lIikKICAgICAgICByZXR1cm47CgogICAgICBpZihkb20uaHRtbChoTm9kZSkubWF0Y2goL3ZpZGVvLWxvZ28vaSkpCiAgICAgICAgcmV0dXJuOwoKICAgICAgdmFyIGltZyA9IGRvbS5nVChoTm9kZSwgImltZyIpOwogICAgICBpZihpbWcgPT0gbnVsbCB8fCBpbWcubGVuZ3RoID09IDApCiAgICAgICAgcmV0dXJuOwoKICAgICAgaW1nID0gaW1nWzBdOwoKICAgICAgLy8gL3l0cy9pbWcvcGl4ZWwtKi5naWYgaXMgdGhlIHBsYWNlaG9sZGVyIGltYWdlCiAgICAgIC8vIGNhbiBiZSBudWxsIGFzIHdlbGwKICAgICAgdmFyIGltZ1NyYyA9IGRvbS5hdHRyKGltZywgInNyYyIpIHx8ICIiOwogICAgICBpZihpbWdTcmMuaW5kZXhPZigieXRpbWcuY29tIikgPCAwICYmICFpbWdTcmMubWF0Y2goL15cL3l0c1wvaW1nXC8uKlwuZ2lmJC8pICYmIGltZ1NyYyAhPSAiIikKICAgICAgICByZXR1cm47CgogICAgICB2YXIgdG5TcmMgPSBkb20uYXR0cihpbWcsICJ0aHVtYiIpIHx8ICIiOwoKICAgICAgaWYoaW1nU3JjLm1hdGNoKC8uKz9cLyhbYS16QS1aMC05Xy1dKilcLyhocSk/ZGVmYXVsdFwuanBnJC8pKQogICAgICAgIHZpZGVvSWQgPSBSZWdFeHAuJDE7CiAgICAgIGVsc2UgaWYodG5TcmMubWF0Y2goLy4rP1wvKFthLXpBLVowLTlfLV0qKVwvKGhxKT9kZWZhdWx0XC5qcGckLykpCiAgICAgICAgdmlkZW9JZCA9IFJlZ0V4cC4kMTsKICAgICAgfQoKICAgIC8vbG9nTXNnKGlkeCArICIgIiArIGhOb2RlLmhyZWYpOwogICAgLy9sb2dNc2coInZpZGVvSWQ6ICIgKyB2aWRlb0lkKTsKCiAgICBsaXN0LnB1c2goeyB2aWRlb0lkOiB2aWRlb0lkLCBoTm9kZTogaE5vZGUgfSk7CgogICAgZG9tLmF0dHIoaE5vZGUsIENTU19QUkVGSVggKyAicHJvY2Vzc2VkIiwgUkVRX0lORk8pOwogICAgfSk7CgogIGZvckxvb3AoeyBudW06IGxpc3QubGVuZ3RoLCBpbmM6IFRBR19MSU5LX05VTV9QRVJfQkFUQ0gsIGJhdGNoSWR4OiAwIH0sIGZ1bmN0aW9uKGlkeCkgewogICAgdmFyIGJhdGNoSWR4ID0gdGhpcy5iYXRjaElkeCsrOwogICAgdmFyIGJhdGNoTGlzdCA9IGxpc3Quc2xpY2UoaWR4LCBpZHggKyBUQUdfTElOS19OVU1fUEVSX0JBVENIKTsKCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICBmb3JFYWNoKGJhdGNoTGlzdCwgZnVuY3Rpb24oaWR4LCBlbG0pIHsKICAgICAgICAvL2xvZ01zZyhiYXRjaElkeCArICIgIiArIGlkeCArICIgIiArIGVsbS5oTm9kZS5ocmVmKTsKICAgICAgICBnZXRGbXQoZWxtLnZpZGVvSWQsIGVsbS5oTm9kZSk7CiAgICAgICAgfSk7CiAgICAgIH0sIElOSV9UQUdfTElOS19ERUxBWV9NUyArIGJhdGNoSWR4ICogU1VCX1RBR19MSU5LX0RFTEFZX01TKTsKICAgIH0pOwogIH07CgpMaW5rcy5wcm90b3R5cGUuaW52YWxpZGF0ZVRhZ0xpbmtzID0gZnVuY3Rpb24oKSB7CiAgaWYoIXVzZXJDb25maWcudGFnTGlua3MpCiAgICByZXR1cm47CgogIGZvckVhY2goZG9tLmdUKCJhIiksIGZ1bmN0aW9uKGlkeCwgaE5vZGUpIHsKICAgIGhOb2RlLnJlbW92ZUF0dHJpYnV0ZShDU1NfUFJFRklYICsgInByb2Nlc3NlZCIpOwogICAgfSk7CgogIHZhciBub2RlcyA9IGRvbS5nVCgiZGl2Iik7CgogIGZvcih2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7ICkgewogICAgdmFyIGhOb2RlID0gbm9kZXNbaV07CiAgICB2YXIgY2xzID0gZG9tLmF0dHIoaE5vZGUsICJjbGFzcyIpIHx8ICIiOwoKICAgIGlmKGNscy5tYXRjaChuZXcgUmVnRXhwKCIoXnxcXHMrKSIgKyBSZWdFeHAuZXNjYXBlKExJTktTX0hUTUxfSUQpICsgIlxccysiICsgUmVnRXhwLmVzY2FwZShDU1NfUFJFRklYICsgInF1YWxpdHkiKSArICIoXFxzK3wkKSIpKSkgewogICAgICBoTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGhOb2RlKTsKICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICArK2k7CiAgICB9CiAgfTsKCkxpbmtzLnByb3RvdHlwZS5wZXJpb2RpY1RhZ0xpbmtzID0gZnVuY3Rpb24oZGVsYXlNcykgewogIGZ1bmN0aW9uIHBvbGwoKSB7CiAgICBtZS50YWdMaW5rcygpOwogICAgbWUudGFnTGlua3NUaW1lcklkID0gc2V0VGltZW91dChwb2xsLCAzMDAwKTsKICAgIH0KCiAgLy8gRW50cnkgcG9pbnQKICBpZighdXNlckNvbmZpZy50YWdMaW5rcykKICAgIHJldHVybjsKCiAgdmFyIG1lID0gdGhpczsKCiAgZGVsYXlNcyA9IGRlbGF5TXMgfHwgMDsKCiAgaWYobWUudGFnTGlua3NUaW1lcklkICE9IG51bGwpIHsKICAgIGNsZWFyVGltZW91dChtZS50YWdMaW5rc1RpbWVySWQpOwogICAgZGVsZXRlIG1lLnRhZ0xpbmtzVGltZXJJZDsKICAgIH0KCiAgc2V0VGltZW91dChwb2xsLCBkZWxheU1zKTsKICB9OwoKTGlua3MucHJvdG90eXBlLmdldEluc2VydFB0ID0gZnVuY3Rpb24oKSB7CiAgaWYoZG9tLmdFKCJwYWdlIikpCiAgICByZXR1cm4gInBhZ2UiOwogIGVsc2UgaWYoZG9tLmdFKCJjb2x1bW5zIikpIC8vIDIwMTcgTWF0ZXJpYWwgRGVzaWduCiAgICByZXR1cm4gImNvbHVtbnMiOwogIGVsc2UKICAgIHJldHVybiAidG9wIjsKICB9OwoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkxpbmtzLnByb3RvdHlwZS5sb2FkU2V0dGluZ3MgPSBmdW5jdGlvbigpIHsKICB2YXIgb2JqID0gbG9jYWxTdG9yYWdlW1NUT1JFX0lEXTsKICBpZihvYmogPT0gbnVsbCkKICAgIHJldHVybjsKCiAgb2JqID0gSlNPTi5wYXJzZShvYmopOwoKICB0aGlzLmxhc3RDaGtSZXFUcyA9ICtvYmoubGFzdENoa1JlcVRzOwogIHRoaXMubGFzdENoa1RzID0gK29iai5sYXN0Q2hrVHM7CiAgdGhpcy5sYXN0Q2hrVmVyID0gK29iai5sYXN0Q2hrVmVyOwogIH07CgpMaW5rcy5wcm90b3R5cGUuc3RvcmVTZXR0aW5ncyA9IGZ1bmN0aW9uKCkgewogIGxvY2FsU3RvcmFnZVtTVE9SRV9JRF0gPSBKU09OLnN0cmluZ2lmeSh7CiAgICBsYXN0Q2hrUmVxVHM6IHRoaXMubGFzdENoa1JlcVRzLAogICAgbGFzdENoa1RzOiB0aGlzLmxhc3RDaGtUcywKICAgIGxhc3RDaGtWZXI6IHRoaXMubGFzdENoa1ZlcgogICAgfSk7CiAgfTsKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgp2YXIgVVBEQVRFX0NIS19JTlRFUlZBTCA9IDUgKiA4NjQwMDsKdmFyIEZBSUxfVE9fQ0hLX1VQREFURV9JTlRFUlZBTCA9IDE0ICogODY0MDA7CgpMaW5rcy5wcm90b3R5cGUuY2hrVmVyID0gZnVuY3Rpb24oZm9yY2VGbGFnKSB7CiAgaWYodGhpcy5sYXN0Q2hrVmVyID4gcmVsSW5mby52ZXIpIHsKICAgIHRoaXMuc2hvd05ld1Zlcih7IHZlcjogdGhpcy5sYXN0Q2hrVmVyIH0pOwogICAgcmV0dXJuOwogICAgfQoKICB2YXIgbm93ID0gdGltZU5vd0luU2VjKCk7CgogIC8vbG9nTXNnKCJsYXN0Q2hrUmVxVHMgIiArIHRoaXMubGFzdENoa1JlcVRzICsgIiwgZGlmZiAiICsgKG5vdyAtIHRoaXMubGFzdENoa1JlcVRzKSk7CiAgLy9sb2dNc2coImxhc3RDaGtUcyAiICsgdGhpcy5sYXN0Q2hrVHMpOwogIC8vbG9nTXNnKCJsYXN0Q2hrVmVyICIgKyB0aGlzLmxhc3RDaGtWZXIpOwoKICBpZih0aGlzLmxhc3RDaGtSZXFUcyA9PSBudWxsIHx8IG5vdyA8IHRoaXMubGFzdENoa1JlcVRzKSB7CiAgICB0aGlzLmxhc3RDaGtSZXFUcyA9IG5vdzsKICAgIHRoaXMuc3RvcmVTZXR0aW5ncygpOwogICAgcmV0dXJuOwogICAgfQoKICBpZihub3cgLSB0aGlzLmxhc3RDaGtSZXFUcyA8IFVQREFURV9DSEtfSU5URVJWQUwpCiAgICByZXR1cm47CgogIGlmKHRoaXMubGFzdENoa1JlcVRzIC0gdGhpcy5sYXN0Q2hrVHMgPiBGQUlMX1RPX0NIS19VUERBVEVfSU5URVJWQUwpCiAgICBsb2dNc2coIkZhaWxlZCB0byBjaGVjayB2ZXIgZm9yICIgKyAoKHRoaXMubGFzdENoa1JlcVRzIC0gdGhpcy5sYXN0Q2hrVHMpIC8gODY0MDApICsgIiBkYXlzIik7CgogIHRoaXMubGFzdENoa1JlcVRzID0gbm93OwogIHRoaXMuc3RvcmVTZXR0aW5ncygpOwoKICB1bnNhZmVXaW5bSlNPTlBfSURdID0gdGhpczsKCiAgdmFyIHNjcmlwdCA9IGRvbS5jRSgic2NyaXB0Iik7CiAgc2NyaXB0LnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICBzY3JpcHQuc3JjICA9IFNDUklQVF9VUERBVEVfTElOSzsKICBkb20uYXBwZW5kKGRvYy5ib2R5LCBzY3JpcHQpOwogIH07CgpMaW5rcy5wcm90b3R5cGUuY2hrVmVyQ2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhKSB7CiAgZGVsZXRlIHVuc2FmZVdpbltKU09OUF9JRF07CgogIHRoaXMubGFzdENoa1RzID0gdGltZU5vd0luU2VjKCk7CiAgdGhpcy5zdG9yZVNldHRpbmdzKCk7CgogIC8vbG9nTXNnKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsKCiAgdmFyIGxhdGVzdEVsbSA9IGRhdGFbMF07CgogIGlmKGxhdGVzdEVsbS52ZXIgPD0gcmVsSW5mby52ZXIpCiAgICByZXR1cm47CgogIHRoaXMuc2hvd05ld1ZlcihsYXRlc3RFbG0pOwogIH07CgpMaW5rcy5wcm90b3R5cGUuc2hvd05ld1ZlciA9IGZ1bmN0aW9uKGxhdGVzdEVsbSkgewogIGZ1bmN0aW9uIGdldFZlclN0cih2ZXIpIHsKICAgIHZhciB2ZXJTdHIgPSAiIiArIHZlcjsKCiAgICB2YXIgbWFqb3JWID0gdmVyU3RyLnN1YnN0cigwLCB2ZXJTdHIubGVuZ3RoIC0gNCkgfHwgIjAiOwogICAgdmFyIG1pbm9yViA9IHZlclN0ci5zdWJzdHIodmVyU3RyLmxlbmd0aCAtIDQsIDIpOwogICAgcmV0dXJuIG1ham9yViArICIuIiArIG1pbm9yVjsKICAgIH0KCiAgLy8gRW50cnkgcG9pbnQKICB0aGlzLmxhc3RDaGtWZXIgPSBsYXRlc3RFbG0udmVyOwogIHRoaXMuc3RvcmVTZXR0aW5ncygpOwoKICBjb25kSW5zZXJ0VXBkYXRlSWNvbigpOwoKICB2YXIgYU5vZGUgPSBkb20uZ0UoVVBEQVRFX0hUTUxfSUQpOwoKICBhTm9kZS5ocmVmID0gU0NSSVBUX0xJTks7CgogIGlmKGxhdGVzdEVsbS5kZXNjICE9IG51bGwpCiAgICBkb20uYXR0cihhTm9kZSwgInRpdGxlIiwgbGF0ZXN0RWxtLmRlc2MpOwoKICBkb20uaHRtbChhTm9kZSwgZG9tLmVtaXRIdG1sKCJiIiwgU0NSSVBUX05BTUUgKyAiICIgKyBnZXRWZXJTdHIocmVsSW5mby52ZXIpKSArCiAgICI8YnI+Q2xpY2sgdG8gdXBkYXRlIHRvICIgKyBnZXRWZXJTdHIobGF0ZXN0RWxtLnZlcikpOwogIH07CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKdmFyIGluc3Q7CgpmdW5jdGlvbiB3YWl0Rm9yUmVhZHkoKSB7CiAgZnVuY3Rpb24gc3RhcnQoKSB7CiAgICBpbnN0ID0gbmV3IExpbmtzKCk7CgogICAgaW5zdC5pbml0KCk7CiAgICBpbnN0LmxvYWRTZXR0aW5ncygpOwogICAgZGVjcnlwdFNpZy5sb2FkKCk7CgogICAgZG9tLmluc2VydENzcyhDU1NfU1RZTEVTKTsKCiAgICBjb25kSW5zZXJ0VG9vbHRpcCgpOwoKICAgIGlmKGxvYy5wYXRobmFtZS5tYXRjaCgvXC93YXRjaC8pKSB7CiAgICAgIGluc3QuY2hlY2tGbXRzKCk7CiAgICAgIH0KCiAgICBpbnN0LnBlcmlvZGljVGFnTGlua3MoKTsKCiAgICBpbnN0LmNoa1ZlcigpOwogICAgfQoKICAvLyBFbnRyeSBwb2ludAogIC8vICdjb250ZW50JyBpcyBmb3IgTWF0ZXJpYWwgRGVzaWduCiAgaWYoZG9tLmdFKCJwYWdlIikgfHwgZG9tLmdFKCJjb250ZW50IikgfHwgZG9tLmdFKCJ0b3AiKSkgewogICAgc3RhcnQoKTsKICAgIHJldHVybjsKICAgIH0KCiAgaWYoIWRvbS5nRSgidG9wIikpCiAgICBzZXRUaW1lb3V0KHdhaXRGb3JSZWFkeSwgMzAwKTsKICB9Cgp2YXIgc2Nyb2xsVG9wID0gd2luLnBhZ2VZT2Zmc2V0IHx8IGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKZG9tLmFkZEV2ZW50KHdpbiwgInNjcm9sbCIsIGZ1bmN0aW9uKGUpIHsKICB2YXIgbmV3U2Nyb2xsVG9wID0gd2luLnBhZ2VZT2Zmc2V0IHx8IGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICBpZihNYXRoLmFicyhuZXdTY3JvbGxUb3AgLSBzY3JvbGxUb3ApIDwgMTAwKQogICAgcmV0dXJuOwoKICAvL2xvZ01zZygic2Nyb2xsIGJ5ICIgKyAobmV3U2Nyb2xsVG9wIC0gc2Nyb2xsVG9wKSk7CgogIHNjcm9sbFRvcCA9IG5ld1Njcm9sbFRvcDsKCiAgaWYoaW5zdCkKICAgIGluc3QucGVyaW9kaWNUYWdMaW5rcygyMDApOwogIH0pOwoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCnZhciBjdXJNb3VzZVBvcyA9IHt9Owp2YXIgY2hrTW91c2VJblBvcHVwVGltZXI7CgpmdW5jdGlvbiB0cmFja01vdXNlUG9zKGUpIHsKICBjdXJNb3VzZVBvcy54ID0gZS5wYWdlWDsKICBjdXJNb3VzZVBvcy55ID0gZS5wYWdlWTsKICB9Cgpkb20uYWRkRXZlbnQod2luZG93LCAibW91c2Vtb3ZlIiwgdHJhY2tNb3VzZVBvcyk7CgpmdW5jdGlvbiBjaGtNb3VzZUluUG9wdXAoKSB7CiAgY2hrTW91c2VJblBvcHVwVGltZXIgPSBudWxsOwoKICB2YXIgdG9vbFRpcE5vZGUgPSBkb20uZ0UoTElOS1NfVFBfSFRNTF9JRCk7CiAgaWYoIXRvb2xUaXBOb2RlKQogICAgcmV0dXJuOwoKICB2YXIgcG9zID0gZG9tLm9mZnNldCh0b29sVGlwTm9kZSk7CiAgdmFyIHJlY3QgPSB0b29sVGlwTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgLy9sb2dNc2coIm1vdXNlIHggIiArIGN1ck1vdXNlUG9zLnggKyAiLCB5ICIgKyBjdXJNb3VzZVBvcy55KTsKICAvL2xvZ01zZygieCAiICsgTWF0aC5yb3VuZChwb3MubGVmdCkgKyAiLCB5ICIgKyBNYXRoLnJvdW5kKHBvcy50b3ApICsgIiwgd2QgIiArIE1hdGgucm91bmQocmVjdC53aWR0aCkgKyAiLCBodCAiICsgTWF0aC5yb3VuZChyZWN0LmhlaWdodCkpOwoKICBpZihjdXJNb3VzZVBvcy54IDwgcG9zLmxlZnQgfHwgY3VyTW91c2VQb3MueCA+PSBwb3MubGVmdCArIHJlY3Qud2lkdGggfHwKICAgY3VyTW91c2VQb3MueSA8IHBvcy50b3AgfHwgY3VyTW91c2VQb3MueSA+PSBwb3MudG9wICsgcmVjdC5oZWlnaHQpIHsKICAgIGRvbS5hdHRyKHRvb2xUaXBOb2RlLCAic3R5bGUiLCAiZGlzcGxheTogbm9uZTsiKTsKICAgIHJldHVybjsKICAgIH0KCiAgY2hrTW91c2VJblBvcHVwVGltZXIgPSBzZXRUaW1lb3V0KGNoa01vdXNlSW5Qb3B1cCwgMTAwMCk7CiAgfQoKZnVuY3Rpb24gc3RhcnRDaGtNb3VzZUluUG9wdXAoKSB7CiAgc3RvcENoa01vdXNlSW5Qb3B1cCgpOwogIGNoa01vdXNlSW5Qb3B1cFRpbWVyID0gc2V0VGltZW91dChjaGtNb3VzZUluUG9wdXAsIDEwMDApOwogIH0KCmZ1bmN0aW9uIHN0b3BDaGtNb3VzZUluUG9wdXAoKSB7CiAgaWYoIWNoa01vdXNlSW5Qb3B1cFRpbWVyKQogICAgcmV0dXJuOwoKICBjbGVhclRpbWVvdXQoY2hrTW91c2VJblBvcHVwVGltZXIpOwogIGNoa01vdXNlSW5Qb3B1cFRpbWVyID0gbnVsbDsKICB9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLyogWW91VHViZSByZXVzZXMgdGhlIGN1cnJlbnQgcGFnZSB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiBhIG5ldyB2aWRlby4gV2UgbmVlZAogdG8gZGV0ZWN0IGl0IGFuZCByZWxvYWQgdGhlIGZvcm1hdHMuICovCgooZnVuY3Rpb24oKSB7Cgp2YXIgUEVSSU9ESUNfQ0hLX1ZJREVPX1VSTF9NUyA9IDEwMDA7Cgp2YXIgY3VyVmlkZW9VcmwgPSBsb2MudG9TdHJpbmcoKTsKCmZ1bmN0aW9uIHBlcmlvZGljQ2hrVmlkZW9VcmwoKSB7CiAgdmFyIG5ld1ZpZGVvVXJsID0gbG9jLnRvU3RyaW5nKCk7CgogIGlmKGN1clZpZGVvVXJsICE9IG5ld1ZpZGVvVXJsICYmIGluc3QpIHsKICAgIC8vbG9nTXNnKGN1clZpZGVvVXJsICsgIiAtPiAiICsgbmV3VmlkZW9VcmwpOwoKICAgIGN1clZpZGVvVXJsID0gbmV3VmlkZW9Vcmw7CgogICAgaW5zdC5pbnZhbGlkYXRlVGFnTGlua3MoKTsKICAgIGluc3QucGVyaW9kaWNUYWdMaW5rcygxMDApOwoKICAgIGlmKGxvYy5wYXRobmFtZS5tYXRjaCgvXC93YXRjaC8pKQogICAgICBpbnN0LmNoZWNrRm10cygpOwogICAgZWxzZQogICAgICBjb25kUmVtb3ZlSGRyKCk7CiAgICB9CgogIHNldFRpbWVvdXQocGVyaW9kaWNDaGtWaWRlb1VybCwgUEVSSU9ESUNfQ0hLX1ZJREVPX1VSTF9NUyk7CiAgfQoKcGVyaW9kaWNDaGtWaWRlb1VybCgpOwoKfSkgKCk7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKd2FpdEZvclJlYWR5KCk7Cgp9KSAoKTsK"},{"name":"集装箱","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["taobao.com","www.lanzous.com","pan.baidu.com","share.weiyun.com","ypsuperkey.meek.com.cn","newday.me"],"orig_excludes":[],"orig_includes":["*://**/*"],"orig_matches":[],"orig_noframes":true,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"config_json":"s{\"wpzs_version_date\":\"20200314\",\"wpzs_version_latest\":\"0.2.2\",\"wpzs_wpzs_share_list\":{\"b00n7nu4d\":{\"share_id\":\"b00n7nu4d\",\"share_pwd\":\"0\",\"share_link\":\"https://www.lanzous.com/b00n7nu4d\",\"share_source\":\"lanzous\",\"share_time\":1579666346950},\"b0b89uhcd\":{\"share_id\":\"b0b89uhcd\",\"share_pwd\":\"0\",\"share_link\":\"https://www.lanzous.com/b0b89uhcd\",\"share_source\":\"lanzous\",\"share_time\":1580101923266},\"b0cjwv8yh\":{\"share_id\":\"b0cjwv8yh\",\"share_pwd\":\"0\",\"share_link\":\"https://www.lanzous.com/b0cjwv8yh\",\"share_source\":\"lanzous\",\"share_time\":1580300060781},\"dqWZAuBh0_J9vylFwjz8DQ\":{\"share_id\":\"dqWZAuBh0_J9vylFwjz8DQ\",\"share_pwd\":\"2333\",\"share_link\":\"https://pan.baidu.com/share/init?surl=dqWZAuBh0_J9vylFwjz8DQ\",\"share_source\":\"baidu\",\"share_time\":1581751798988},\"d1OntdiwfyP6iiieIFEToA\":{\"share_id\":\"d1OntdiwfyP6iiieIFEToA\",\"share_pwd\":\"mpb1\",\"share_link\":\"https://pan.baidu.com/share/init?surl=d1OntdiwfyP6iiieIFEToA\",\"share_source\":\"baidu\",\"share_time\":1582201693733},\"i956tkj\":{\"share_id\":\"i956tkj\",\"share_pwd\":\"ecrf\",\"share_link\":\"https://www.lanzous.com/i956tkj\",\"share_source\":\"lanzous\",\"share_time\":1583121848244},\"dyX8CKIEHik15gDiWShXCQ\":{\"share_id\":\"dyX8CKIEHik15gDiWShXCQ\",\"share_pwd\":\"r7lj\",\"share_link\":\"https://pan.baidu.com/share/init?surl=dyX8CKIEHik15gDiWShXCQ\",\"share_source\":\"baidu\",\"share_time\":1583724410974},\"AuGLiYUfcV7EDBvOjGuTbg\":{\"share_id\":\"AuGLiYUfcV7EDBvOjGuTbg\",\"share_pwd\":\"cvb2\",\"share_link\":\"https://pan.baidu.com/share/init?surl=AuGLiYUfcV7EDBvOjGuTbg\",\"share_source\":\"baidu\",\"share_time\":1583726501416},\"i9fffhg\":{\"share_id\":\"i9fffhg\",\"share_pwd\":\"au89\",\"share_link\":\"https://www.lanzous.com/i9fffhg\",\"share_source\":\"lanzous\",\"share_time\":1583939268006},\"5y0tGaX5575GX6WqI5cKQw\":{\"share_id\":\"5y0tGaX5575GX6WqI5cKQw\",\"share_pwd\":\"jf2y\",\"share_link\":\"https://pan.baidu.com/share/init?surl=5y0tGaX5575GX6WqI5cKQw\",\"share_source\":\"baidu\",\"share_time\":1583985465823}},\"wpzs_option\":{\"send_usage\":\"yes\",\"baidu_page_home\":\"yes\",\"baidu_page_share\":\"yes\",\"baidu_page_verify\":\"yes\",\"baidu_share_status\":\"yes\",\"baidu_custom_password\":\"yes\",\"baidu_show_origin\":\"yes\",\"baidu_multi_link\":\"no\",\"baidu_auto_jump\":\"no\",\"weiyun_page_verify\":\"yes\",\"weiyun_share_status\":\"yes\",\"weiyun_auto_jump\":\"no\",\"lanzous_page_verify\":\"yes\",\"lanzous_share_status\":\"yes\",\"lanzous_auto_jump\":\"no\"},\"yhg_version_date\":\"20200311\",\"yhg_dialog\":0,\"yhg_version_latest\":\"1.3.0\"}","uid":"shz6gn9pqk68t8lbqpr798metunqq3jlh","wpzs_optionJson":"s{\"send_usage\":\"yes\",\"baidu_page_home\":\"yes\",\"baidu_page_share\":\"yes\",\"baidu_page_verify\":\"yes\",\"baidu_share_status\":\"yes\",\"baidu_custom_password\":\"yes\",\"baidu_show_origin\":\"yes\",\"baidu_multi_link\":\"no\",\"baidu_auto_jump\":\"no\",\"weiyun_page_verify\":\"yes\",\"weiyun_share_status\":\"yes\",\"weiyun_auto_jump\":\"no\",\"lanzous_page_verify\":\"yes\",\"lanzous_share_status\":\"no\",\"lanzous_auto_jump\":\"no\"}","wpzs_share_log_json":"s{\"BS9TEes2kzhmicGHMiu3tQ\":{\"share_id\":\"BS9TEes2kzhmicGHMiu3tQ\",\"share_pwd\":\"yfu8\",\"share_link\":\"https://pan.baidu.com/share/init?surl=BS9TEes2kzhmicGHMiu3tQ\",\"share_source\":\"baidu\",\"share_time\":1574569308156},\"b00n4qm3e\":{\"share_id\":\"b00n4qm3e\",\"share_pwd\":\"0\",\"share_link\":\"https://www.lanzous.com/b00n4qm3e\",\"share_source\":\"lanzous\",\"share_time\":1574925278462},\"R910GmeMAm1JEJQJ5BAgNQ\":{\"share_id\":\"R910GmeMAm1JEJQJ5BAgNQ\",\"share_pwd\":\"rxzv\",\"share_link\":\"https://pan.baidu.com/share/init?surl=R910GmeMAm1JEJQJ5BAgNQ\",\"share_source\":\"baidu\",\"share_time\":1575342417225},\"b00n7e6md\":{\"share_id\":\"b00n7e6md\",\"share_pwd\":\"0\",\"share_link\":\"https://www.lanzous.com/b00n7e6md\",\"share_source\":\"lanzous\",\"share_time\":1575346928048}}","wpzs_uid":"sx4rkih20moop7n3om1suugd52n29k3z5","yhg_configJson":"s{\"version_date\":\"20191202\",\"version_latest\":\"1.3.0\",\"dialog\":0}","yhg_uid":"s551il5fqs8p06dkvacn2gjyf6zipoacy"},"ts":1584164664300},"enabled":true,"position":9,"file_url":"https://greasyfork.org/scripts/382927-%E9%9B%86%E8%A3%85%E7%AE%B1/code/%E9%9B%86%E8%A3%85%E7%AE%B1.user.js","uuid":"b2a31fb1-f42f-47f2-8cbe-9d651ec84c8f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDpm4boo4XnrrEKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vb25lLm5ld2RheS5tZS8KLy8gQHZlcnNpb24gICAgICAwLjIuMAovLyBAaWNvbiAgICAgICAgIGh0dHA6Ly9vbmUubmV3ZGF5Lm1lL29uZS9mYXZpY29uLmljbwovLyBAYXV0aG9yICAgICAgIOWTqeWRtQovLyBAZGVzY3JpcHRpb24gIOS4gOS4quaPkuS7tu+8jOaPkOS+m+S4gOaPveWtkOacjeWKoeOAguaPkuS7tuS4u+imgeWKn+iDveacie+8mlsxXee9keebmOWKqeaJi++8muWkp+amguaYr+acgOS8mOmbheWlveeUqOeahOe9keebmOWKqeaJi+S6huOAgiBbMl3kvJgg5oOgIOi0rSDvvJrku6XmnIDkvJjmg6DnmoTku7fmoLzvvIzmiorlrp3otJ3mirHlm57lrrbjgIIgWzNd5LiL6L295Y2r5aOr77ya5ouS57ud6auYKOaNhinpgJ8o57uRKeS4i+i9veOAggovLyBAaW5jbHVkZSAgICAgICo6Ly8qKi8qCi8vIEBjb25uZWN0ICAgICAgdGFvYmFvLmNvbQovLyBAY29ubmVjdCAgICAgIHd3dy5sYW56b3VzLmNvbQovLyBAY29ubmVjdCAgICAgIHBhbi5iYWlkdS5jb20KLy8gQGNvbm5lY3QgICAgICBzaGFyZS53ZWl5dW4uY29tCi8vIEBjb25uZWN0ICAgICAgeXBzdXBlcmtleS5tZWVrLmNvbS5jbgovLyBAY29ubmVjdCAgICAgIG5ld2RheS5tZQovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2pxdWVyeS8xLjEyLjQvanF1ZXJ5Lm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLnN0YXRpY2ZpbGUub3JnL3NuYXAuc3ZnLzAuNS4xL3NuYXAuc3ZnLW1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2VjaGFydHMvNC4xLjAvZWNoYXJ0cy5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2Nkbi5zdGF0aWNmaWxlLm9yZy9xcmNvZGUtZ2VuZXJhdG9yLzEuNC4zL3FyY29kZS5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2Nkbi5zdGF0aWNmaWxlLm9yZy92dWUvMi42LjYvdnVlLm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2ZpbmRBbmRSZXBsYWNlRE9NVGV4dC8wLjQuNi9maW5kQW5kUmVwbGFjZURPTVRleHQubWluLmpzCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGdyYW50ICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fbGlzdFZhbHVlcwovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgR01fb3BlbkluVGFiCi8vIEBub2ZyYW1lcwovLyA9PS9Vc2VyU2NyaXB0PT0KCnZhciBhcHBXcHpzID0gZnVuY3Rpb24gKCkgewogICAgCiAgICB2YXIgaW5qZWN0Q29uZmlnID0gewogICAgICAgIG5hbWU6ICJ3cHpzIiwKICAgICAgICB2ZXJzaW9uOiAiMC4zLjYiLAogICAgICAgIGFkZG9uOiB7CiAgICAgICAgICAgIG9wdGlvbnNfcGFnZTogIi9wYWdlL3dwenMvb3B0aW9uLmh0bWwiCiAgICAgICAgfSwKICAgICAgICBzY3JpcHQ6IHsKICAgICAgICAgICAgb3B0aW9uc19wYWdlOiAiaHR0cDovL3Bhbi5uZXdkYXkubWUvc2NyaXB0L29wdGlvbi5odG1sIgogICAgICAgIH0KICAgIH07CgogICAgdmFyIGNvbnRhaW5lciA9IChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbW9kdWxlX2RlZmluZXM6IHt9LAogICAgICAgICAgICBtb2R1bGVfb2JqZWN0czoge30KICAgICAgICB9OwoKICAgICAgICBvYmouZGVmaW5lID0gZnVuY3Rpb24gKG5hbWUsIHJlcXVpcmVzLCBjYWxsYmFjaykgewogICAgICAgICAgICBuYW1lID0gb2JqLnByb2Nlc3NOYW1lKG5hbWUpOwogICAgICAgICAgICBvYmoubW9kdWxlX2RlZmluZXNbbmFtZV0gPSB7CiAgICAgICAgICAgICAgICByZXF1aXJlczogcmVxdWlyZXMsCiAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2sKICAgICAgICAgICAgfTsKICAgICAgICB9OwoKICAgICAgICBvYmoucmVxdWlyZSA9IGZ1bmN0aW9uIChuYW1lLCBjYWNoZSkgewogICAgICAgICAgICBpZiAodHlwZW9mIGNhY2hlID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICBjYWNoZSA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgIGlmIChjYWNoZSAmJiBvYmoubW9kdWxlX29iamVjdHMuaGFzT3duUHJvcGVydHkobmFtZSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBvYmoubW9kdWxlX29iamVjdHNbbmFtZV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAob2JqLm1vZHVsZV9kZWZpbmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZXMgPSBvYmoubW9kdWxlX2RlZmluZXNbbmFtZV0ucmVxdWlyZXM7CiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBvYmoubW9kdWxlX2RlZmluZXNbbmFtZV0uY2FsbGJhY2s7CgogICAgICAgICAgICAgICAgdmFyIG1vZHVsZSA9IG9iai51c2UocmVxdWlyZXMsIGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgIGNhY2hlICYmIG9iai5yZWdpc3RlcihuYW1lLCBtb2R1bGUpOwogICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai51c2UgPSBmdW5jdGlvbiAocmVxdWlyZXMsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciBtb2R1bGUgPSB7CiAgICAgICAgICAgICAgICBleHBvcnRzOiB7fQogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgcGFyYW1zID0gb2JqLmJ1aWxkUGFyYW1zKHJlcXVpcmVzLCBtb2R1bGUpOwogICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2suYXBwbHkodGhpcywgcGFyYW1zKTsKICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmoucmVnaXN0ZXIgPSBmdW5jdGlvbiAobmFtZSwgbW9kdWxlKSB7CiAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgIG9iai5tb2R1bGVfb2JqZWN0c1tuYW1lXSA9IG1vZHVsZTsKICAgICAgICB9OwoKICAgICAgICBvYmouYnVpbGRQYXJhbXMgPSBmdW5jdGlvbiAocmVxdWlyZXMsIG1vZHVsZSkgewogICAgICAgICAgICB2YXIgcGFyYW1zID0gW107CiAgICAgICAgICAgIHJlcXVpcmVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKG9iai5yZXF1aXJlKG5hbWUpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHBhcmFtcy5wdXNoKG9iai5yZXF1aXJlKTsKICAgICAgICAgICAgcGFyYW1zLnB1c2gobW9kdWxlLmV4cG9ydHMpOwogICAgICAgICAgICBwYXJhbXMucHVzaChtb2R1bGUpOwogICAgICAgICAgICByZXR1cm4gcGFyYW1zOwogICAgICAgIH07CgogICAgICAgIG9iai5wcm9jZXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZGVmaW5lOiBvYmouZGVmaW5lLAogICAgICAgICAgICB1c2U6IG9iai51c2UsCiAgICAgICAgICAgIHJlZ2lzdGVyOiBvYmoucmVnaXN0ZXIsCiAgICAgICAgICAgIG1vZHVsZXM6IG9iai5tb2R1bGVfb2JqZWN0cwogICAgICAgIH07CiAgICB9KSgpOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImdtIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5yZWFkeSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICBpZiAodHlwZW9mIEdNX2dldFZhbHVlICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnJlYWR5KGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgicnVudGltZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgdXJsOiBsb2NhdGlvbi5ocmVmLAogICAgICAgICAgICByZWZlcmVyOiBkb2N1bWVudC5yZWZlcnJlciwKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0VXJsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gb2JqLnVybDsKICAgICAgICB9OwoKICAgICAgICBvYmouc2V0VXJsID0gZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICBvYmoudXJsID0gdXJsOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRSZWZlcmVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gb2JqLnJlZmVyZXI7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldFJlZmVyZXIgPSBmdW5jdGlvbiAocmVmZXJlcikgewogICAgICAgICAgICBvYmoucmVmZXJlciA9IHJlZmVyZXI7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFVybFBhcmFtID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgdmFyIHBhcmFtID0gb2JqLnBhcnNlVXJsUGFyYW0ob2JqLmdldFVybCgpKTsKICAgICAgICAgICAgaWYgKG5hbWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbS5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHBhcmFtW25hbWVdIDogbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5wYXJzZVVybFBhcmFtID0gZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoIj8iKSkgewogICAgICAgICAgICAgICAgdXJsID0gdXJsLnNwbGl0KCI/IilbMV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHJlZyA9IC8oW149JlxzXSspWz1cc10qKFtePSZcc10qKS9nOwogICAgICAgICAgICB2YXIgb2JqID0ge307CiAgICAgICAgICAgIHdoaWxlIChyZWcuZXhlYyh1cmwpKSB7CiAgICAgICAgICAgICAgICBvYmpbUmVnRXhwLiQxXSA9IFJlZ0V4cC4kMjsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gb2JqOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJvYmplY3QiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmtleXMgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICB2YXIgbGlzdCA9IFtdOwogICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkgewogICAgICAgICAgICAgICAgbGlzdC5wdXNoKGtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnZhbHVlcyA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHZhciBsaXN0ID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7CiAgICAgICAgICAgICAgICBsaXN0LnB1c2goZGF0YVtrZXldKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbGlzdDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgic3RvcmFnZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouZ2V0VmFsdWUgPSBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZShuYW1lLCBkZWZhdWx0VmFsdWUpOwogICAgICAgIH07CgogICAgICAgIG9iai5zZXRWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICBHTV9zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFZhbHVlTGlzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG5hbWVMaXN0ID0gR01fbGlzdFZhbHVlcygpOwogICAgICAgICAgICB2YXIgdmFsdWVMaXN0ID0ge307CiAgICAgICAgICAgIG5hbWVMaXN0LmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgICAgIHZhbHVlTGlzdFtuYW1lXSA9IG9iai5nZXRWYWx1ZShuYW1lKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZUxpc3Q7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImFkZG9uIiwgWyJzdG9yYWdlIiwgImNvbnN0YW50Il0sIGZ1bmN0aW9uIChzdG9yYWdlLCBjb25zdGFudCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50Lm5hbWUgKyAiX3N0YXR1cyIKICAgICAgICB9OwoKICAgICAgICBvYmouaXNFbmFibGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChzdG9yYWdlLmdldFZhbHVlKG9iai5uYW1lKSA9PSAib2ZmIikgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiY29uZmlnIiwgWyJzdG9yYWdlIiwgImNvbnN0YW50Il0sIGZ1bmN0aW9uIChzdG9yYWdlLCBjb25zdGFudCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIG5hbWU6ICJjb25maWdfanNvbiIKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0Q29uZmlnID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgdmFyIGNvbmZpZ0pzb24gPSBzdG9yYWdlLmdldFZhbHVlKG9iai5uYW1lKTsKICAgICAgICAgICAgdmFyIGNvbmZpZ09iamVjdCA9IG9iai5wYXJzZUpzb24oY29uZmlnSnNvbik7CiAgICAgICAgICAgIGlmIChuYW1lKSB7CiAgICAgICAgICAgICAgICBuYW1lID0gb2JqLnByb2Nlc3NOYW1lKG5hbWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ09iamVjdC5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IGNvbmZpZ09iamVjdFtuYW1lXSA6IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnT2JqZWN0OwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldENvbmZpZyA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICB2YXIgY29uZmlnT2JqZWN0ID0gb2JqLmdldENvbmZpZygpOwogICAgICAgICAgICBjb25maWdPYmplY3Rbb2JqLnByb2Nlc3NOYW1lKG5hbWUpXSA9IHZhbHVlOwogICAgICAgICAgICBzdG9yYWdlLnNldFZhbHVlKG9iai5uYW1lLCBKU09OLnN0cmluZ2lmeShjb25maWdPYmplY3QpKTsKICAgICAgICB9OwoKICAgICAgICBvYmoucGFyc2VKc29uID0gZnVuY3Rpb24gKGpzb25TdHIpIHsKICAgICAgICAgICAgdmFyIGpzb25PYmplY3QgPSB7fTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmIChqc29uU3RyKSB7CiAgICAgICAgICAgICAgICAgICAganNvbk9iamVjdCA9IEpTT04ucGFyc2UoanNvblN0cik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfQogICAgICAgICAgICByZXR1cm4ganNvbk9iamVjdDsKICAgICAgICB9OwoKICAgICAgICBvYmoucHJvY2Vzc05hbWUgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICByZXR1cm4gY29uc3RhbnQubmFtZSArICJfIiArIG5hbWU7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoIm9wdGlvbiIsIFsiY29uZmlnIiwgImNvbnN0YW50IiwgIm9iamVjdCJdLCBmdW5jdGlvbiAoY29uZmlnLCBjb25zdGFudCwgb2JqZWN0KSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbmFtZTogIm9wdGlvbiIsCiAgICAgICAgICAgIGNvbnN0YW50OiBjb25zdGFudC5vcHRpb24KICAgICAgICB9OwoKICAgICAgICBvYmouaXNPcHRpb25BY3RpdmUgPSBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICB2YXIgbmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9iai5nZXRPcHRpb24oKTsKICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5pbmRleE9mKG5hbWUpID49IDAgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldE9wdGlvbkFjdGl2ZSA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbS5uYW1lOwogICAgICAgICAgICB2YXIgb3B0aW9uID0gb2JqLmdldE9wdGlvbigpOwogICAgICAgICAgICBpZiAob3B0aW9uLmluZGV4T2YobmFtZSkgPCAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24ucHVzaChuYW1lKTsKICAgICAgICAgICAgICAgIG9iai5zZXRPcHRpb24ob3B0aW9uKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5zZXRPcHRpb25VbkFjdGl2ZSA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbS5uYW1lOwogICAgICAgICAgICB2YXIgb3B0aW9uID0gb2JqLmdldE9wdGlvbigpOwogICAgICAgICAgICB2YXIgaW5kZXggPSBvcHRpb24uaW5kZXhPZihuYW1lKTsKICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25baW5kZXhdOwogICAgICAgICAgICAgICAgb2JqLnNldE9wdGlvbihvcHRpb24pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE9wdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG9wdGlvbiA9IFtdOwogICAgICAgICAgICB2YXIgb3B0aW9uT2JqZWN0ID0gb2JqLmdldE9wdGlvbk9iamVjdCgpOwogICAgICAgICAgICBvYmplY3QudmFsdWVzKG9iai5jb25zdGFudCkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpdGVtLm5hbWU7CiAgICAgICAgICAgICAgICBpZiAob3B0aW9uT2JqZWN0Lmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbk9iamVjdFtuYW1lXSAhPSAibm8iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5wdXNoKG5hbWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udmFsdWUgIT0gIm5vIikgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbi5wdXNoKG5hbWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjsKICAgICAgICB9OwoKICAgICAgICBvYmouc2V0T3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikgewogICAgICAgICAgICB2YXIgb3B0aW9uT2JqZWN0ID0ge307CiAgICAgICAgICAgIG9iamVjdC52YWx1ZXMob2JqLmNvbnN0YW50KS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgICAgICAgICAgIGlmIChvcHRpb24uaW5kZXhPZihuYW1lKSA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uT2JqZWN0W25hbWVdID0gInllcyI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbk9iamVjdFtuYW1lXSA9ICJubyI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBvYmouc2V0T3B0aW9uT2JqZWN0KG9wdGlvbk9iamVjdCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE9wdGlvbk9iamVjdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG9wdGlvbk9iamVjdCA9IGNvbmZpZy5nZXRDb25maWcob2JqLm5hbWUpOwogICAgICAgICAgICByZXR1cm4gb3B0aW9uT2JqZWN0ID8gb3B0aW9uT2JqZWN0IDoge307CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldE9wdGlvbk9iamVjdCA9IGZ1bmN0aW9uIChvcHRpb25PYmplY3QpIHsKICAgICAgICAgICAgY29uZmlnLnNldENvbmZpZyhvYmoubmFtZSwgb3B0aW9uT2JqZWN0KTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgibW9kZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgY29uc3RhbnQ6IHsKICAgICAgICAgICAgICAgIGFkZG9uOiAiYWRkb24iLAogICAgICAgICAgICAgICAgc2NyaXB0OiAic2NyaXB0IgogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChHTV9pbmZvLmFkZG9uKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLmNvbnN0YW50LmFkZG9uOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5jb25zdGFudC5zY3JpcHQ7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgidXNlciIsIFsic3RvcmFnZSJdLCBmdW5jdGlvbiAoc3RvcmFnZSkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmdldFVpZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVpZCA9IHN0b3JhZ2UuZ2V0VmFsdWUoInVpZCIpOwogICAgICAgICAgICBpZiAoIXVpZCkgewogICAgICAgICAgICAgICAgdWlkID0gb2JqLnJhbmRTdHJpbmcoMzIpOwogICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZSgidWlkIiwgdWlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdWlkOwogICAgICAgIH07CgogICAgICAgIG9iai5yYW5kU3RyaW5nID0gZnVuY3Rpb24gKGxlbmd0aCkgewogICAgICAgICAgICB2YXIgcG9zc2libGUgPSAiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5IjsKICAgICAgICAgICAgdmFyIHRleHQgPSAiIjsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRleHQ7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImJyb3dzZXIiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIGNvbnN0YW50OiB7CiAgICAgICAgICAgICAgICBmaXJlZm94OiAiZmlyZWZveCIsCiAgICAgICAgICAgICAgICBlZGdlOiAiZWRnZSIsCiAgICAgICAgICAgICAgICBiYWlkdTogImJhaWR1IiwKICAgICAgICAgICAgICAgIGxpZWJhbzogImxpZWJhbyIsCiAgICAgICAgICAgICAgICB1YzogInVjIiwKICAgICAgICAgICAgICAgIHFxOiAicXEiLAogICAgICAgICAgICAgICAgc29nb3U6ICJzb2dvdSIsCiAgICAgICAgICAgICAgICBvcGVyYTogIm9wZXJhIiwKICAgICAgICAgICAgICAgIG1heHRob246ICJtYXh0aG9uIiwKICAgICAgICAgICAgICAgIGllMjM0NTogIjIzNDUiLAogICAgICAgICAgICAgICAgc2UzNjA6ICIzNjAiLAogICAgICAgICAgICAgICAgY2hyb21lOiAiY2hyb21lIiwKICAgICAgICAgICAgICAgIHNhZmFyaTogInNhZmFyaSIsCiAgICAgICAgICAgICAgICBvdGhlcjogIm90aGVyIgogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldEJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBvYmoubWF0Y2hCcm93c2VyVHlwZShuYXZpZ2F0b3IudXNlckFnZW50KTsKICAgICAgICB9OwoKICAgICAgICBvYmoubWF0Y2hCcm93c2VyVHlwZSA9IGZ1bmN0aW9uICh1c2VyQWdlbnQpIHsKICAgICAgICAgICAgdmFyIGJyb3dzZXIgPSBvYmouY29uc3RhbnQub3RoZXI7CiAgICAgICAgICAgIHVzZXJBZ2VudCA9IHVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBpZiAodXNlckFnZW50Lm1hdGNoKC9maXJlZm94LykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5maXJlZm94OwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvZWRnZS8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQuZWRnZTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL2JpZHVicm93c2VyLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5iYWlkdTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL2xiYnJvd3Nlci8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQubGllYmFvOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvdWJyb3dzZXIvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LnVjOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvcXFicm93c2UvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LnFxOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvbWV0YXNyLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5zb2dvdTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL29wci8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQub3BlcmE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9tYXh0aG9uLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5tYXh0aG9uOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvMjM0NWV4cGxvcmVyLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5pZTIzNDU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9jaHJvbWUvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBpZiAob2JqLmV4aXN0TWltZSgidHlwZSIsICJhcHBsaWNhdGlvbi92bmQuY2hyb21pdW0ucmVtb3Rpbmctdmlld2VyIikpIHsKICAgICAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LnNlMzYwOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmNocm9tZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL3NhZmFyaS8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQuc2FmYXJpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBicm93c2VyOwogICAgICAgIH07CgogICAgICAgIG9iai5leGlzdE1pbWUgPSBmdW5jdGlvbiAob3B0aW9uLCB2YWx1ZSkgewogICAgICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgdmFyIG1pbWVUeXBlcyA9IG5hdmlnYXRvci5taW1lVHlwZXM7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBtdCBpbiBtaW1lVHlwZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobWltZVR5cGVzW210XVtvcHRpb25dID09IHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImVudiIsIFsibW9kZSIsICJ1c2VyIiwgImJyb3dzZXIiLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKG1vZGUsIHVzZXIsIGJyb3dzZXIsIGNvbnN0YW50KSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouaXNBZGRvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKG1vZGUuZ2V0TW9kZSgpID09IG1vZGUuY29uc3RhbnQuYWRkb24pIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmlzSW5qZWN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAob2JqLmlzQWRkb24oKSkgewogICAgICAgICAgICAgICAgaWYgKEdNX2luZm8uYWRkb24ubmFtZSAhPSBjb25zdGFudC5uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoR01faW5mby5zY3JpcHQuYWxpYXMgJiYgR01faW5mby5zY3JpcHQuYWxpYXMgIT0gY29uc3RhbnQubmFtZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBtb2RlLmdldE1vZGUoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0QWlkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoR01faW5mby5hZGRvbiAmJiBHTV9pbmZvLmFkZG9uLmlkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gR01faW5mby5hZGRvbi5pZDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChHTV9pbmZvLnNjcmlwdEhhbmRsZXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBHTV9pbmZvLnNjcmlwdEhhbmRsZXIudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAidW5rbm93biI7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0VWlkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdXNlci5nZXRVaWQoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKG9iai5pc0luamVjdCgpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0Q29uZmlnLnZlcnNpb247CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gR01faW5mby5zY3JpcHQudmVyc2lvbjsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5nZXRCcm93c2VyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5nZXRCcm93c2VyKCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldEluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBtb2RlOiBvYmouZ2V0TW9kZSgpLAogICAgICAgICAgICAgICAgYWlkOiBvYmouZ2V0QWlkKCksCiAgICAgICAgICAgICAgICB1aWQ6IG9iai5nZXRVaWQoKSwKICAgICAgICAgICAgICAgIHZlcnNpb246IG9iai5nZXRWZXJzaW9uKCksCiAgICAgICAgICAgICAgICBicm93c2VyOiBvYmouZ2V0QnJvd3NlcigpCiAgICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImh0dHAiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmFqYXggPSBmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgICAgIHZhciBkZXRhaWxzID0gewogICAgICAgICAgICAgICAgbWV0aG9kOiBvcHRpb24udHlwZSwKICAgICAgICAgICAgICAgIHVybDogb3B0aW9uLnVybCwKICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogb3B0aW9uLmRhdGFUeXBlLAogICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnN1Y2Nlc3MgJiYgb3B0aW9uLnN1Y2Nlc3MocmVzdWx0LnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmVycm9yICYmIG9wdGlvbi5lcnJvcihyZXN1bHQuZXJyb3IpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8g5o+Q5Lqk5pWw5o2uCiAgICAgICAgICAgIGlmIChvcHRpb24uZGF0YSkgewogICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5kYXRhIGluc3RhbmNlb2YgRm9ybURhdGEpIHsKICAgICAgICAgICAgICAgICAgICBkZXRhaWxzLmRhdGEgPSBvcHRpb24uZGF0YTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9uLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGksIG9wdGlvbi5kYXRhW2ldKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5kYXRhID0gZm9ybURhdGE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOiHquWumuS5ieWktAogICAgICAgICAgICBpZiAob3B0aW9uLmhlYWRlcnMpIHsKICAgICAgICAgICAgICAgIGRldGFpbHMuaGVhZGVycyA9IG9wdGlvbi5oZWFkZXJzOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDotoXml7YKICAgICAgICAgICAgaWYgKG9wdGlvbi50aW1lb3V0KSB7CiAgICAgICAgICAgICAgICBkZXRhaWxzLnRpbWVvdXQgPSBvcHRpb24udGltZW91dDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoZGV0YWlscyk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoInJvdXRlciIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouZ29VcmwgPSBmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgIG9iai5ydW5Db2RlKCdsb2NhdGlvbi5ocmVmID0gIicgKyB1cmwgKyAnIjsnKTsKICAgICAgICB9OwoKICAgICAgICBvYmoub3BlblVybCA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgb2JqLnJ1bkNvZGUoJ3dpbmRvdy5vcGVuKCInICsgdXJsICsgJyIpOycpOwogICAgICAgIH07CgogICAgICAgIG9iai5vcGVuVGFiID0gZnVuY3Rpb24gKHVybCwgYWN0aXZlKSB7CiAgICAgICAgICAgIEdNX29wZW5JblRhYih1cmwsICFhY3RpdmUpOwogICAgICAgIH07CgogICAgICAgIG9iai5ydW5Db2RlID0gZnVuY3Rpb24gKHNjcmlwdCkgewogICAgICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkb2N1bWVudC5sb29rdXBOYW1lc3BhY2VVUkkobnVsbCkgfHwgImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLCAic2NyaXB0Iik7CiAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSBzY3JpcHQ7CiAgICAgICAgICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50KS5hcHBlbmRDaGlsZChub2RlKTsKICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpCiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImxvZ2dlciIsIFsiZW52IiwgImNvbnN0YW50Il0sIGZ1bmN0aW9uIChlbnYsIGNvbnN0YW50KSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbGV2ZWw6IDMsCiAgICAgICAgICAgIGNvbnN0YW50OiB7CiAgICAgICAgICAgICAgICBkZWJ1ZzogMCwKICAgICAgICAgICAgICAgIGluZm86IDEsCiAgICAgICAgICAgICAgICB3YXJuOiAyLAogICAgICAgICAgICAgICAgZXJyb3I6IDMKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5kZWJ1ZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICAgIG9iai5sb2cobWVzc2FnZSwgb2JqLmNvbnN0YW50LmRlYnVnKTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5mbyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICAgIG9iai5sb2cobWVzc2FnZSwgb2JqLmNvbnN0YW50LmluZm8pOwogICAgICAgIH07CgogICAgICAgIG9iai53YXJuID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICAgICAgb2JqLmxvZyhtZXNzYWdlLCBvYmouY29uc3RhbnQud2Fybik7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICAgICAgb2JqLmxvZyhtZXNzYWdlLCBvYmouY29uc3RhbnQuZXJyb3IpOwogICAgICAgIH07CgogICAgICAgIG9iai5sb2cgPSBmdW5jdGlvbiAobWVzc2FnZSwgbGV2ZWwpIHsKICAgICAgICAgICAgaWYgKGxldmVsIDwgb2JqLmxldmVsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXAoIlsiICsgY29uc3RhbnQubmFtZSArICJdIiArIGVudi5nZXRNb2RlKCkpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTsKICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpOwogICAgICAgIH07CgogICAgICAgIG9iai5zZXRMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCkgewogICAgICAgICAgICBvYmoubGV2ZWwgPSBsZXZlbDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgibWV0YSIsIFsiY29uc3RhbnQiLCAiJCJdLCBmdW5jdGlvbiAoY29uc3RhbnQsICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5leGlzdE1ldGEgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICBuYW1lID0gb2JqLnByb2Nlc3NOYW1lKG5hbWUpOwogICAgICAgICAgICBpZiAoJCgibWV0YVtuYW1lPSciICsgbmFtZSArICInXSIpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouYXBwZW5kTWV0YSA9IGZ1bmN0aW9uIChuYW1lLCBjb250ZW50KSB7CiAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgIGNvbnRlbnQgfHwgKGNvbnRlbnQgPSAib24iKTsKICAgICAgICAgICAgJCgnPG1ldGEgbmFtZT0iJyArIG5hbWUgKyAnIiBjb250ZW50PSJvbiI+JykuYXBwZW5kVG8oJCgiaGVhZCIpKTsKICAgICAgICB9OwoKICAgICAgICBvYmoucHJvY2Vzc05hbWUgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICByZXR1cm4gY29uc3RhbnQubmFtZSArICI6OiIgKyBuYW1lOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJ1bnNhZmVfd2luZG93IiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodHlwZW9mIHVuc2FmZVdpbmRvdyA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICByZXR1cm4gd2luZG93OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHVuc2FmZVdpbmRvdzsKICAgICAgICB9CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJzdmdfY3J5cHQiLCBbInNuYXAiXSwgZnVuY3Rpb24gKHNuYXApIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5nZXRSZXFEYXRhID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcmVxVGltZSA9IE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKTsKICAgICAgICAgICAgdmFyIHJlcVBvaW50ID0gb2JqLmdldFN0clBvaW50KCJ0aW1lc3RhbXA6IiArIHJlcVRpbWUpOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcmVxX3RpbWU6IHJlcVRpbWUsCiAgICAgICAgICAgICAgICByZXFfcG9pbnQ6IHJlcVBvaW50CiAgICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFN0clBvaW50ID0gZnVuY3Rpb24gKHN0cikgewogICAgICAgICAgICBpZiAoc3RyLmxlbmd0aCA8IDIpIHsKICAgICAgICAgICAgICAgIHJldHVybiAiMDowIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHBhdGggPSAiIjsKICAgICAgICAgICAgdmFyIGN1cnJlbnQsIGxhc3QgPSBzdHJbMF0uY2hhckNvZGVBdCgpOwogICAgICAgICAgICB2YXIgc3VtID0gbGFzdDsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBzdHJbaV0uY2hhckNvZGVBdCgpOwogICAgICAgICAgICAgICAgaWYgKGkgPT0gMSkgewogICAgICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoICsgIk0iOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aCArICIgTCI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwYXRoID0gcGF0aCArIGN1cnJlbnQgKyAiICIgKyBsYXN0OwogICAgICAgICAgICAgICAgbGFzdCA9IGN1cnJlbnQ7CiAgICAgICAgICAgICAgICBzdW0gPSBzdW0gKyBjdXJyZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhdGggPSBwYXRoICsgIiBaIjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gc3VtICUgc3RyLmxlbmd0aDsKICAgICAgICAgICAgdmFyIGRhdGEgPSBzbmFwLnBhdGguZ2V0UG9pbnRBdExlbmd0aChwYXRoLCBzdHJbaW5kZXhdLmNoYXJDb2RlQXQoKSk7CiAgICAgICAgICAgIHJldHVybiBkYXRhLm0ueCArICI6IiArIGRhdGEubi55OwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJjYWxlbmRhciIsIFsib2JqZWN0Il0sIGZ1bmN0aW9uIChvYmplY3QpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5mb3JtYXRUaW1lID0gZnVuY3Rpb24gKHRpbWVzdGFtcCwgZm9ybWF0KSB7CiAgICAgICAgICAgIHRpbWVzdGFtcCB8fCAodGltZXN0YW1wID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSk7CiAgICAgICAgICAgIGZvcm1hdCB8fCAoZm9ybWF0ID0gIlktbS1kIEg6aTpzIik7CiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTsKICAgICAgICAgICAgdmFyIHllYXIgPSAxOTAwICsgZGF0ZS5nZXRZZWFyKCk7CiAgICAgICAgICAgIHZhciBtb250aCA9ICIwIiArIChkYXRlLmdldE1vbnRoKCkgKyAxKTsKICAgICAgICAgICAgdmFyIGRheSA9ICIwIiArIGRhdGUuZ2V0RGF0ZSgpOwogICAgICAgICAgICB2YXIgaG91ciA9ICIwIiArIGRhdGUuZ2V0SG91cnMoKTsKICAgICAgICAgICAgdmFyIG1pbnV0ZSA9ICIwIiArIGRhdGUuZ2V0TWludXRlcygpOwogICAgICAgICAgICB2YXIgc2Vjb25kID0gIjAiICsgZGF0ZS5nZXRTZWNvbmRzKCk7CiAgICAgICAgICAgIHZhciB2YXJzID0gewogICAgICAgICAgICAgICAgIlkiOiB5ZWFyLAogICAgICAgICAgICAgICAgIm0iOiBtb250aC5zdWJzdHJpbmcobW9udGgubGVuZ3RoIC0gMiwgbW9udGgubGVuZ3RoKSwKICAgICAgICAgICAgICAgICJkIjogZGF5LnN1YnN0cmluZyhkYXkubGVuZ3RoIC0gMiwgZGF5Lmxlbmd0aCksCiAgICAgICAgICAgICAgICAiSCI6IGhvdXIuc3Vic3RyaW5nKGhvdXIubGVuZ3RoIC0gMiwgaG91ci5sZW5ndGgpLAogICAgICAgICAgICAgICAgImkiOiBtaW51dGUuc3Vic3RyaW5nKG1pbnV0ZS5sZW5ndGggLSAyLCBtaW51dGUubGVuZ3RoKSwKICAgICAgICAgICAgICAgICJzIjogc2Vjb25kLnN1YnN0cmluZyhzZWNvbmQubGVuZ3RoIC0gMiwgc2Vjb25kLmxlbmd0aCkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIG9iai5yZXBsYWNlVmFycyh2YXJzLCBmb3JtYXQpOwogICAgICAgIH07CgogICAgICAgIG9iai5yZXBsYWNlVmFycyA9IGZ1bmN0aW9uICh2YXJzLCB2YWx1ZSkgewogICAgICAgICAgICBvYmplY3Qua2V5cyh2YXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShrZXksIHZhcnNba2V5XSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIC8qKiBjdXN0b20gc3RhcnQgKiovCiAgICBjb250YWluZXIuZGVmaW5lKCJjb25zdGFudCIsIFsibW9kZSIsICJicm93c2VyIl0sIGZ1bmN0aW9uIChtb2RlLCBicm93c2VyKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbmFtZTogaW5qZWN0Q29uZmlnLm5hbWUsCiAgICAgICAgICAgIG1vZGU6IG1vZGUuY29uc3RhbnQsCiAgICAgICAgICAgIGJyb3dzZXI6IGJyb3dzZXIuY29uc3RhbnQsCiAgICAgICAgICAgIGFkZG9uOiBpbmplY3RDb25maWcuYWRkb24sCiAgICAgICAgICAgIHNjcmlwdDogaW5qZWN0Q29uZmlnLnNjcmlwdCwKICAgICAgICAgICAgc291cmNlOiB7CiAgICAgICAgICAgICAgICBiYWlkdTogImJhaWR1IiwKICAgICAgICAgICAgICAgIHdlaXl1bjogIndlaXl1biIsCiAgICAgICAgICAgICAgICBsYW56b3VzOiAibGFuem91cyIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9uOiB7CiAgICAgICAgICAgICAgICBzZW5kX3VzYWdlOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogInNlbmRfdXNhZ2UiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJhaWR1X3BhZ2VfaG9tZTogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJiYWlkdV9wYWdlX2hvbWUiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJhaWR1X3BhZ2Vfc2hhcmU6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYmFpZHVfcGFnZV9zaGFyZSIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ5ZXMiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYmFpZHVfcGFnZV92ZXJpZnk6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYmFpZHVfcGFnZV92ZXJpZnkiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJhaWR1X3NoYXJlX3N0YXR1czogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJiYWlkdV9zaGFyZV9zdGF0dXMiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJhaWR1X2N1c3RvbV9wYXNzd29yZDogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJiYWlkdV9jdXN0b21fcGFzc3dvcmQiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJhaWR1X3Nob3dfb3JpZ2luOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImJhaWR1X3Nob3dfb3JpZ2luIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBiYWlkdV9tdWx0aV9saW5rOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImJhaWR1X211bHRpX2xpbmsiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAibm8iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYmFpZHVfYXV0b19qdW1wOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImJhaWR1X2F1dG9fanVtcCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJubyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB3ZWl5dW5fcGFnZV92ZXJpZnk6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAid2VpeXVuX3BhZ2VfdmVyaWZ5IiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB3ZWl5dW5fc2hhcmVfc3RhdHVzOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIndlaXl1bl9zaGFyZV9zdGF0dXMiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHdlaXl1bl9hdXRvX2p1bXA6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAid2VpeXVuX2F1dG9fanVtcCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJubyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBsYW56b3VzX3BhZ2VfdmVyaWZ5OiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImxhbnpvdXNfcGFnZV92ZXJpZnkiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGxhbnpvdXNfc2hhcmVfc3RhdHVzOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImxhbnpvdXNfc2hhcmVfc3RhdHVzIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBsYW56b3VzX2F1dG9fanVtcDogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJsYW56b3VzX2F1dG9fanVtcCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJubyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJzaGFyZV9sb2ciLCBbIm9iamVjdCIsICJjb25maWciLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKG9iamVjdCwgY29uZmlnLCBjb25zdGFudCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50Lm5hbWUgKyAiX3NoYXJlX2xpc3QiCiAgICAgICAgfTsKCiAgICAgICAgb2JqLmFkZFNoYXJlTG9nID0gZnVuY3Rpb24gKHNoYXJlSWQsIHNoYXJlUHdkLCBzaGFyZUxpbmssIHNoYXJlU291cmNlKSB7CiAgICAgICAgICAgIHZhciBzaGFyZUxpc3QgPSBvYmouZ2V0U2hhcmVMb2dMaXN0KCk7CiAgICAgICAgICAgIHNoYXJlTGlzdFtzaGFyZUlkXSA9IHsKICAgICAgICAgICAgICAgIHNoYXJlX2lkOiBzaGFyZUlkLAogICAgICAgICAgICAgICAgc2hhcmVfcHdkOiBzaGFyZVB3ZCwKICAgICAgICAgICAgICAgIHNoYXJlX2xpbms6IHNoYXJlTGluaywKICAgICAgICAgICAgICAgIHNoYXJlX3NvdXJjZTogc2hhcmVTb3VyY2UsCiAgICAgICAgICAgICAgICBzaGFyZV90aW1lOiAobmV3IERhdGUoKSkuZ2V0VGltZSgpCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGNvbmZpZy5zZXRDb25maWcob2JqLm5hbWUsIHNoYXJlTGlzdCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFNoYXJlTG9nTGlzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHNoYXJlTGlzdCA9IGNvbmZpZy5nZXRDb25maWcob2JqLm5hbWUpOwogICAgICAgICAgICByZXR1cm4gc2hhcmVMaXN0ID8gc2hhcmVMaXN0IDoge307CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmJ1aWxkU2hhcmVMaW5rID0gZnVuY3Rpb24gKHNoYXJlSWQsIHNoYXJlU291cmNlLCBzaGFyZUxpbmspIHsKICAgICAgICAgICAgaWYgKHNoYXJlU291cmNlID09IGNvbnN0YW50LnNvdXJjZS5iYWlkdSkgewogICAgICAgICAgICAgICAgc2hhcmVMaW5rID0gImh0dHBzOi8vcGFuLmJhaWR1LmNvbS9zLzEiICsgc2hhcmVJZDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChzaGFyZVNvdXJjZSA9PSBjb25zdGFudC5zb3VyY2UuYmFpZHUpIHsKICAgICAgICAgICAgICAgIHNoYXJlTGluayA9ICJodHRwczovL3NoYXJlLndlaXl1bi5jb20vIiArIHNoYXJlSWQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcmVTb3VyY2UgPT0gY29uc3RhbnQuc291cmNlLmJhaWR1KSB7CiAgICAgICAgICAgICAgICBzaGFyZUxpbmsgPSAiaHR0cHM6Ly93d3cubGFuem91cy5jb20vIiArIHNoYXJlSWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHNoYXJlTGluazsKICAgICAgICB9OwoKICAgICAgICBvYmouYnVpbGRTaGFyZVRpbWUgPSBmdW5jdGlvbiAoc2hhcmVUaW1lKSB7CiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoc2hhcmVUaW1lKTsKICAgICAgICAgICAgdmFyIHllYXIgPSAxOTAwICsgZGF0ZS5nZXRZZWFyKCk7CiAgICAgICAgICAgIHZhciBtb250aCA9ICIwIiArIChkYXRlLmdldE1vbnRoKCkgKyAxKTsKICAgICAgICAgICAgdmFyIGRheSA9ICIwIiArIGRhdGUuZ2V0RGF0ZSgpOwogICAgICAgICAgICB2YXIgaG91ciA9ICIwIiArIGRhdGUuZ2V0SG91cnMoKTsKICAgICAgICAgICAgdmFyIG1pbnV0ZSA9ICIwIiArIGRhdGUuZ2V0TWludXRlcygpOwogICAgICAgICAgICB2YXIgc2Vjb25kID0gIjAiICsgZGF0ZS5nZXRTZWNvbmRzKCk7CiAgICAgICAgICAgIHZhciB2YXJzID0gewogICAgICAgICAgICAgICAgIlkiOiB5ZWFyLAogICAgICAgICAgICAgICAgIm0iOiBtb250aC5zdWJzdHJpbmcobW9udGgubGVuZ3RoIC0gMiwgbW9udGgubGVuZ3RoKSwKICAgICAgICAgICAgICAgICJkIjogZGF5LnN1YnN0cmluZyhkYXkubGVuZ3RoIC0gMiwgZGF5Lmxlbmd0aCksCiAgICAgICAgICAgICAgICAiSCI6IGhvdXIuc3Vic3RyaW5nKGhvdXIubGVuZ3RoIC0gMiwgaG91ci5sZW5ndGgpLAogICAgICAgICAgICAgICAgImkiOiBtaW51dGUuc3Vic3RyaW5nKG1pbnV0ZS5sZW5ndGggLSAyLCBtaW51dGUubGVuZ3RoKSwKICAgICAgICAgICAgICAgICJzIjogc2Vjb25kLnN1YnN0cmluZyhzZWNvbmQubGVuZ3RoIC0gMiwgc2Vjb25kLmxlbmd0aCkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIG9iai5yZXBsYWNlVmFycyh2YXJzLCAiWS1tLWQgSDppOnMiKTsKICAgICAgICB9OwoKICAgICAgICBvYmoucmVwbGFjZVZhcnMgPSBmdW5jdGlvbiAodmFycywgdmFsdWUpIHsKICAgICAgICAgICAgb2JqZWN0LmtleXModmFycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2Uoa2V5LCB2YXJzW2tleV0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJhcGkiLCBbIm9iamVjdCIsICJodHRwIiwgImVudiIsICJjb25maWciLCAib3B0aW9uIiwgInN2Z19jcnlwdCIsICJzaGFyZV9sb2ciLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKG9iamVjdCwgaHR0cCwgZW52LCBjb25maWcsIG9wdGlvbiwgc3ZnQ3J5cHQsIHNoYXJlTG9nLCBjb25zdGFudCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIGJhc2U6ICJodHRwczovL2FwaS5uZXdkYXkubWUiCiAgICAgICAgfTsKCiAgICAgICAgb2JqLnZlcnNpb25RdWVyeSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICBvYmoucmVxdWVzdEFwaSgiL3NoYXJlL2Rpc2svdmVyc2lvbiIsIHt9LCBjYWxsYmFjayk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnF1ZXJ5U2hhcmVPcmlnaW4gPSBmdW5jdGlvbiAoc2hhcmVTb3VyY2UsIHNoYXJlSWQsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIG9iai5xdWVyeVNoYXJlKHNoYXJlU291cmNlLCBzaGFyZUlkLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5yZWZlcnJlcikgewogICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Q6IG9iamVjdC52YWx1ZXMocmVzcG9uc2UucmVmZXJyZXIpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3VsdCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5xdWVyeVNoYXJlUHdkID0gZnVuY3Rpb24gKHNoYXJlU291cmNlLCBzaGFyZUlkLCBzaGFyZUxpbmssIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgc2hhcmVfaWQ6IHNoYXJlSWQsCiAgICAgICAgICAgICAgICBzaGFyZV9wb2ludDogc3ZnQ3J5cHQuZ2V0U3RyUG9pbnQoc2hhcmVJZCksCiAgICAgICAgICAgICAgICBzaGFyZV9saW5rOiBzaGFyZUxpbmsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgb2JqLnJlcXVlc3RBcGkoIi9zaGFyZS9kaXNrL3F1ZXJ5IiwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuY29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnF1ZXJ5U2hhcmVQd2RZcChzaGFyZVNvdXJjZSwgc2hhcmVJZCwgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmoucXVlcnlTaGFyZVB3ZFlwID0gZnVuY3Rpb24gKHNoYXJlU291cmNlLCBzaGFyZUlkLCBjYWxsYmFjaykgewogICAgICAgICAgICBvYmoucXVlcnlTaGFyZShzaGFyZVNvdXJjZSwgc2hhcmVJZCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuYWNjZXNzX2NvZGUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gewogICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAxLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZV9wd2Q6IHJlc3BvbnNlLmFjY2Vzc19jb2RlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3VsdCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5zdG9yZVNoYXJlUHdkID0gZnVuY3Rpb24gKHNoYXJlSWQsIHNoYXJlUHdkLCBzaGFyZUxpbmssIHNoYXJlU291cmNlLCBjYWxsYmFjaykgewogICAgICAgICAgICAvLyDorrDlvZXml6Xlv5cKICAgICAgICAgICAgc2hhcmVMb2cuYWRkU2hhcmVMb2coc2hhcmVJZCwgc2hhcmVQd2QsIHNoYXJlTGluaywgc2hhcmVTb3VyY2UpOwoKICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICBzaGFyZV9pZDogc2hhcmVJZCwKICAgICAgICAgICAgICAgIHNoYXJlX3B3ZDogc2hhcmVQd2QsCiAgICAgICAgICAgICAgICBzaGFyZV9wb2ludDogc3ZnQ3J5cHQuZ2V0U3RyUG9pbnQoc2hhcmVJZCksCiAgICAgICAgICAgICAgICBzaGFyZV9saW5rOiBzaGFyZUxpbmsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgb2JqLnJlcXVlc3RBcGkoIi9zaGFyZS9kaXNrL3N0b3JlIiwgZGF0YSwgY2FsbGJhY2spOwogICAgICAgIH07CgogICAgICAgIG9iai5sb2dPcHRpb24gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICBhcHBfaWQ6IGNvbmZpZy5nZXRDb25maWcoImFwcF9pZCIpLAogICAgICAgICAgICAgICAgdGVtcF9wYXRoOiBjb25maWcuZ2V0Q29uZmlnKCJ0ZW1wX3BhdGgiKSwKICAgICAgICAgICAgICAgIG9wdGlvbl9qc29uOiBKU09OLnN0cmluZ2lmeShvcHRpb24uZ2V0T3B0aW9uKCkpCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIG9iai5yZXF1ZXN0QXBpKCIvc2hhcmUvZGlzay9vcHRpb24iLCBkYXRhLCBjYWxsYmFjayk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnF1ZXJ5U2hhcmUgPSBmdW5jdGlvbiAoc2hhcmVTb3VyY2UsIHNoYXJlSWQsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciBwcmVmaXggPSAiQkRZIjsKICAgICAgICAgICAgaWYgKHNoYXJlU291cmNlID09IGNvbnN0YW50LnNvdXJjZS5sYW56b3VzKSB7CiAgICAgICAgICAgICAgICBwcmVmaXggPSAiTFpZIjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgdXJsID0gImh0dHBzOi8veXBzdXBlcmtleS5tZWVrLmNvbS5jbi9hcGkvdjEvaXRlbXMvIiArIHByZWZpeCArICItIiArIHNoYXJlSWQgKyAiP2NsaWVudF92ZXJzaW9uPTIwMTkuMiI7CiAgICAgICAgICAgIGh0dHAuYWpheCh7CiAgICAgICAgICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5yZXF1ZXN0QXBpID0gZnVuY3Rpb24gKHBhdGgsIGRhdGEsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGRhdGEubW9kZSA9IGVudi5nZXRNb2RlKCk7CiAgICAgICAgICAgIGRhdGEuYWlkID0gZW52LmdldEFpZCgpOwogICAgICAgICAgICBkYXRhLnVpZCA9IGVudi5nZXRVaWQoKTsKICAgICAgICAgICAgZGF0YS52ZXJzaW9uID0gZW52LmdldFZlcnNpb24oKTsKICAgICAgICAgICAgZGF0YS5icm93c2VyID0gZW52LmdldEJyb3dzZXIoKTsKCiAgICAgICAgICAgIGh0dHAuYWpheCh7CiAgICAgICAgICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgICAgICAgICB1cmw6IG9iai5iYXNlICsgcGF0aCwKICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJ1cGRhdGVyIiwgWyJjb25maWciLCAiY2FsZW5kYXIiLCAiYXBpIl0sIGZ1bmN0aW9uIChjb25maWcsIGNhbGVuZGFyLCBhcGkpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdmVyc2lvbkRhdGUgPSBjb25maWcuZ2V0Q29uZmlnKCJ2ZXJzaW9uX2RhdGUiKTsKICAgICAgICAgICAgdmFyIGN1cnJlbnREYXRlID0gY2FsZW5kYXIuZm9ybWF0VGltZShudWxsLCAiWW1kIik7CiAgICAgICAgICAgIGlmICghdmVyc2lvbkRhdGUgfHwgdmVyc2lvbkRhdGUgPCBjdXJyZW50RGF0ZSkgewogICAgICAgICAgICAgICAgYXBpLnZlcnNpb25RdWVyeShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBjb25maWcuc2V0Q29uZmlnKCJ2ZXJzaW9uX2RhdGUiLCBjdXJyZW50RGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmNvZGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuc2V0Q29uZmlnKCJ2ZXJzaW9uX2xhdGVzdCIsIHJlc3BvbnNlLmRhdGEudmVyc2lvbik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiY29yZSIsIFsicm91dGVyIiwgImVudiIsICJjb25zdGFudCIsICJ1cGRhdGVyIl0sIGZ1bmN0aW9uIChyb3V0ZXIsIGVudiwgY29uc3RhbnQsIHVwZGF0ZXIpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5vcGVuUGFnZSA9IGZ1bmN0aW9uICh1cmwsIG1vZGUpIHsKICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CiAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgLy8gc2VsZgogICAgICAgICAgICAgICAgICAgIHJvdXRlci5nb1VybCh1cmwpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgIC8vIG5ldwogICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVXJsKHVybCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgLy8gbmV3ICYgbm90IGFjdGl2ZQogICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKHVybCwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgIC8vIG5ldyAmIGFjdGl2ZQogICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKHVybCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmoub3Blbk9wdGlvblBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChlbnYuaXNBZGRvbigpKSB7CiAgICAgICAgICAgICAgICBpZiAoZW52LmlzSW5qZWN0KCkpIHsKICAgICAgICAgICAgICAgICAgICByb3V0ZXIub3BlblRhYihpbmplY3RDb25maWcuYWRkb24ub3B0aW9uc19wYWdlLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKEdNX2luZm8uYWRkb24ub3B0aW9uc19wYWdlLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKGNvbnN0YW50LnNjcmlwdC5vcHRpb25zX3BhZ2UsIHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRWZXJzaW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB1cGRhdGVyLmluaXQoKTsKICAgICAgICB9OwoKICAgICAgICBvYmoucmVhZHkgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICAgICAgb2JqLmluaXRWZXJzaW9uKCk7CiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIC8qKiBhcHAgc3RhcnQgKiovCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfYmFpZHUiLCBbInJ1bnRpbWUiLCAiY29uZmlnIiwgIm9wdGlvbiIsICJyb3V0ZXIiLCAibG9nZ2VyIiwgInVuc2FmZV93aW5kb3ciLCAiY29uc3RhbnQiLCAiY29yZSIsICJhcGkiLCAiJCJdLCBmdW5jdGlvbiAocnVudGltZSwgY29uZmlnLCBvcHRpb24sIHJvdXRlciwgbG9nZ2VyLCB1bnNhZmVXaW5kb3csIGNvbnN0YW50LCBjb3JlLCBhcGksICQpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICBhcHBfaWQ6IDI1MDUyOCwKICAgICAgICAgICAgdGVtcF9wYXRoOiAiL2FwcHMvdGVtcCIsCiAgICAgICAgICAgIHl1bl9kYXRhOiBudWxsLAogICAgICAgICAgICB2ZXJpZnlfcGFnZTogewogICAgICAgICAgICAgICAgc2hhcmVfcHdkOiBudWxsLAogICAgICAgICAgICAgICAgc2V0UHdkOiBudWxsLAogICAgICAgICAgICAgICAgYmFja3VwUHdkOiBudWxsLAogICAgICAgICAgICAgICAgcmVzdG9yZVB3ZDogbnVsbCwKICAgICAgICAgICAgICAgIHN1Ym1pdF9wd2Q6IG51bGwKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoIi5iYWlkdS5jb20vcy8iKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuYmFpZHVfcGFnZV9zaGFyZSkgJiYgb2JqLmluaXRTaGFyZVBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKHVybC5pbmRleE9mKCIuYmFpZHUuY29tL2Rpc2svaG9tZSIpID4gMCkgewogICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5iYWlkdV9wYWdlX2hvbWUpICYmIG9iai5pbml0SG9tZVBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVybC5pbmRleE9mKCIuYmFpZHUuY29tL2Rpc2svdGltZWxpbmUiKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuYmFpZHVfcGFnZV9ob21lKSAmJiBvYmouaW5pdFRpbWVMaW5lUGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXJsLmluZGV4T2YoIi5iYWlkdS5jb20vc2hhcmUvaW5pdCIpID4gMCkgewogICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5iYWlkdV9wYWdlX3ZlcmlmeSkgJiYgb2JqLmluaXRWZXJpZnlQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0U2hhcmVQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvYmoucmVnaXN0ZXJDdXN0b21BcHBJZCgpOwoKICAgICAgICAgICAgb2JqLnJlbW92ZVZpZGVvTGltaXQoKTsKCiAgICAgICAgICAgIG9iai5wcmV0dHlTaW5nbGVTaGFyZVBhZ2UoKTsKCiAgICAgICAgICAgIG9iai5pbml0QnV0dG9uU2hhcmUoKTsKCiAgICAgICAgICAgIG9iai5pbml0QnV0dG9uRXZlbnQoKTsKCiAgICAgICAgICAgIGlmIChvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LmJhaWR1X3Nob3dfb3JpZ2luKSkgewogICAgICAgICAgICAgICAgb2JqLnNob3dTaGFyZU9yaWdpbigpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRIb21lUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgb2JqLnJlZ2lzdGVyQ3VzdG9tQXBwSWQoKTsKCiAgICAgICAgICAgIG9iai5yZWdpc3RlckN1c3RvbVNoYXJlUHdkKCk7CgogICAgICAgICAgICBvYmouaW5pdEJ1dHRvbkhvbWUoKTsKCiAgICAgICAgICAgIG9iai5pbml0QnV0dG9uRXZlbnQoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdFRpbWVMaW5lUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgb2JqLnJlZ2lzdGVyQ3VzdG9tQXBwSWQoKTsKCiAgICAgICAgICAgIG9iai5yZWdpc3RlckN1c3RvbVNoYXJlUHdkKCk7CgogICAgICAgICAgICBvYmouaW5pdEJ1dHRvblRpbWVMaW5lKCk7CgogICAgICAgICAgICBvYmouaW5pdEJ1dHRvbkV2ZW50KCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRWZXJpZnlQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvYmoucmVnaXN0ZXJTdG9yZVNoYXJlUHdkKCk7CgogICAgICAgICAgICBpZiAob2JqLmluaXRWZXJpZnlQYWdlRWxlbWVudCgpKSB7CiAgICAgICAgICAgICAgICBvYmouYXV0b1BhZGRpbmdTaGFyZVB3ZCgpOwoKICAgICAgICAgICAgICAgIG9iai5yZWdpc3RlclB3ZFNoYXJlU3dpdGNoKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdFZlcmlmeVBhZ2VFbGVtZW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgc2hhcmVJZCA9IG9iai5nZXRTaGFyZUlkKCk7CiAgICAgICAgICAgIHZhciAkcHdkID0gJCgiLmlucHV0LWFyZWEgaW5wdXQiKTsKICAgICAgICAgICAgaWYgKHNoYXJlSWQgJiYgJHB3ZC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIC8vIOiuvue9ruaPkOWPlueggQogICAgICAgICAgICAgICAgb2JqLnZlcmlmeV9wYWdlLnNldFB3ZCA9IGZ1bmN0aW9uIChwd2QpIHsKICAgICAgICAgICAgICAgICAgICAkcHdkLnZhbChwd2QpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAvLyDlpIfku73mj5Dlj5bnoIEKICAgICAgICAgICAgICAgIG9iai52ZXJpZnlfcGFnZS5iYWNrdXBQd2QgPSBmdW5jdGlvbiAocHdkKSB7CiAgICAgICAgICAgICAgICAgICAgJHB3ZC5hdHRyKCJkYXRhLXB3ZCIsIHB3ZCk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIC8vIOi/mOWOn+aPkOWPlueggQogICAgICAgICAgICAgICAgb2JqLnZlcmlmeV9wYWdlLnJlc3RvcmVQd2QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgJHB3ZC52YWwoJHB3ZC5hdHRyKCJkYXRhLXB3ZCIpKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgLy8g5o+Q5Lqk5o+Q5Y+W56CBCiAgICAgICAgICAgICAgICB2YXIgJGJ1dHRvbiA9ICQoIi5pbnB1dC1hcmVhIC5nLWJ1dHRvbiIpOwogICAgICAgICAgICAgICAgaWYgKCRidXR0b24ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnZlcmlmeV9wYWdlLnN1Ym1pdF9wd2QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRidXR0b24uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmF1dG9QYWRkaW5nU2hhcmVQd2QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzaGFyZUlkID0gb2JqLmdldFNoYXJlSWQoKTsKICAgICAgICAgICAgdmFyIHNoYXJlTGluayA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgIGFwaS5xdWVyeVNoYXJlUHdkKGNvbnN0YW50LnNvdXJjZS5iYWlkdSwgc2hhcmVJZCwgc2hhcmVMaW5rLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5jb2RlID09IDEpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVQd2QgPSByZXNwb25zZS5kYXRhLnNoYXJlX3B3ZDsKICAgICAgICAgICAgICAgICAgICBvYmoudmVyaWZ5X3BhZ2Uuc2hhcmVfcHdkID0gc2hhcmVQd2Q7CiAgICAgICAgICAgICAgICAgICAgb2JqLnZlcmlmeV9wYWdlLnNldFB3ZChzaGFyZVB3ZCk7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dUaXBTdWNjZXNzKCLloavlhYXmj5Dlj5bnoIHmiJDlip8iKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuYmFpZHVfYXV0b19qdW1wKSkgewogICAgICAgICAgICAgICAgICAgICAgICBvYmoudmVyaWZ5X3BhZ2Uuc3VibWl0X3B3ZCAmJiBvYmoudmVyaWZ5X3BhZ2Uuc3VibWl0X3B3ZCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGlwRXJyb3IoIuaaguaXoOS6uuWIhuS6q+aPkOWPlueggSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmoucmVnaXN0ZXJQd2RTaGFyZVN3aXRjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g5re75Yqg5byA5YWzCiAgICAgICAgICAgICQoIi5waWNrcHciKS5hZnRlcignPGRsIGNsYXNzPSJjbGVhcmZpeCI+PGR0PuaPkOWPlueggeWIhuS6q+iuvue9rjxzcGFuIHN0eWxlPSJmbG9hdDpyaWdodCI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBjaGVja2VkIGlkPSJuZC1zaGFyZS1jaGVjayIgc3R5bGU9InZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Ij4gPGEgY2xhc3M9Im5kLW9wZW4tcGFnZS1vcHRpb24iIGhyZWY9ImphdmFzY3JpcHQ6OyIgdGl0bGU9IueCueWHu+afpeeci+abtOWkmuiEmuacrOmFjee9riI+5YWx5Lqr5o+Q5Y+W56CBPC9hPjwvc3Bhbj48L2R0PjwvZGw+Jyk7CiAgICAgICAgICAgIG9iai5pc1B3ZFNoYXJlT3BlbigpIHx8ICQoIiNuZC1zaGFyZS1jaGVjayIpLnJlbW92ZUF0dHIoImNoZWNrZWQiKTsKCiAgICAgICAgICAgIC8vIOW8gOWFsy3kuovku7YKICAgICAgICAgICAgJCgiI25kLXNoYXJlLWNoZWNrIikub24oImNoYW5nZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNldE9wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuYmFpZHVfc2hhcmVfc3RhdHVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZXRPcHRpb25VbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuYmFpZHVfc2hhcmVfc3RhdHVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyDmiZPlvIDphY3nva7pobUKICAgICAgICAgICAgJCgiLm5kLW9wZW4tcGFnZS1vcHRpb24iKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBjb3JlLm9wZW5PcHRpb25QYWdlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5yZWdpc3RlclN0b3JlU2hhcmVQd2QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG9iai5nZXRKcXVlcnkoKShkb2N1bWVudCkuYWpheENvbXBsZXRlKGZ1bmN0aW9uIChldmVudCwgeGhyLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdFVybCA9IG9wdGlvbnMudXJsOwogICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RVcmwuaW5kZXhPZigiL3NoYXJlL3ZlcmlmeSIpID49IDApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBvcHRpb25zLmRhdGEubWF0Y2goL3B3ZD0oW2EtejAtOV0rKS9pKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2dnZXIud2FybigicHdkIHNoYXJlIG5vdCBtYXRjaCIpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8g5ouS57udKuWPtwogICAgICAgICAgICAgICAgICAgIGlmIChvYmoudmVyaWZ5X3BhZ2UuYmFja3VwUHdkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai52ZXJpZnlfcGFnZS5iYWNrdXBQd2QobWF0Y2hbMV0pOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KG9iai52ZXJpZnlfcGFnZS5yZXN0b3JlUHdkLCA1MDApOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0geGhyLnJlc3BvbnNlSlNPTjsKICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZSAmJiByZXNwb25zZS5lcnJubyA9PSAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9nZ2VyLndhcm4oInB3ZCBzaGFyZSBlcnJvciIpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlUHdkID0gbWF0Y2hbMV07CiAgICAgICAgICAgICAgICAgICAgaWYgKHNoYXJlUHdkID09IG9iai52ZXJpZnlfcGFnZS5zaGFyZV9wd2QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2dlci53YXJuKCJwd2Qgc2hhcmUgbm90IGNoYW5nZSIpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmouaXNQd2RTaGFyZU9wZW4oKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9nZ2VyLndhcm4oInB3ZCBzaGFyZSBjbG9zZWQiKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciBzaGFyZUlkID0gb2JqLmdldFNoYXJlSWQoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVMaW5rID0gcnVudGltZS5nZXRVcmwoKTsKICAgICAgICAgICAgICAgICAgICBhcGkuc3RvcmVTaGFyZVB3ZChzaGFyZUlkLCBzaGFyZVB3ZCwgc2hhcmVMaW5rLCBjb25zdGFudC5zb3VyY2UuYmFpZHUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmoucmVnaXN0ZXJDdXN0b21BcHBJZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgb2JqLmdldEpxdWVyeSgpKGRvY3VtZW50KS5hamF4U2VuZChmdW5jdGlvbiAoZXZlbnQsIHhociwgb3B0aW9ucykgewogICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RVcmwgPSBvcHRpb25zLnVybDsKICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0VXJsLmluZGV4T2YoIi9hcGkvZG93bmxvYWQiKSA+PSAwIHx8IHJlcXVlc3RVcmwuaW5kZXhPZigiL2FwaS9zaGFyZWRvd25sb2FkIikgPj0gMCkgewogICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHJlcXVlc3RVcmwubWF0Y2goL2FwcF9pZD0oXGQrKS8pOwogICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnVybCA9IHJlcXVlc3RVcmwucmVwbGFjZShtYXRjaFswXSwgImFwcF9pZD0iICsgb2JqLmdldEFwcElkKCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJlZ2lzdGVyQ3VzdG9tU2hhcmVQd2QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIOWKn+iDveW8gOWFswogICAgICAgICAgICBpZiAoIW9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuYmFpZHVfY3VzdG9tX3Bhc3N3b3JkKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDnlJ/miJDmj5Dlj5bnoIEKICAgICAgICAgICAgb2JqLmFzeW5jKCJmdW5jdGlvbi13aWRnZXQtMTpzaGFyZS91dGlsL3NoYXJlRnJpZW5kL2NyZWF0ZUxpbmtTaGFyZS5qcyIsIGZ1bmN0aW9uIChzaGFyZUxpbmspIHsKICAgICAgICAgICAgICAgIHNoYXJlTGluay5wcm90b3R5cGUubWFrZVByaXZhdGVQYXNzd29yZE9yaWdpbiA9IHNoYXJlTGluay5wcm90b3R5cGUubWFrZVByaXZhdGVQYXNzd29yZDsKICAgICAgICAgICAgICAgIHNoYXJlTGluay5wcm90b3R5cGUubWFrZVByaXZhdGVQYXNzd29yZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVQd2QgPSBjb25maWcuZ2V0Q29uZmlnKCJzaGFyZV9wd2QiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hhcmVQd2QgPyBzaGFyZVB3ZCA6IHRoaXMubWFrZVByaXZhdGVQYXNzd29yZE9yaWdpbigpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyDliIbkuqvkuovku7YKICAgICAgICAgICAgb2JqLmFzeW5jKCJmdW5jdGlvbi13aWRnZXQtMTpzaGFyZS91dGlsL3NoYXJlRGlhbG9nLmpzIiwgZnVuY3Rpb24gKHNoYXJlRGlhbG9nKSB7CiAgICAgICAgICAgICAgICBzaGFyZURpYWxvZy5wcm90b3R5cGUub25WaXNpYmlsaXR5Q2hhbmdlT3JpZ2luID0gc2hhcmVEaWFsb2cucHJvdG90eXBlLm9uVmlzaWJpbGl0eUNoYW5nZTsKICAgICAgICAgICAgICAgIHNoYXJlRGlhbG9nLnByb3RvdHlwZS5vblZpc2liaWxpdHlDaGFuZ2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCQoIi5uZC1pbnB1dC1zaGFyZS1wd2QiKS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVQd2QgPSBjb25maWcuZ2V0Q29uZmlnKCJzaGFyZV9wd2QiKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnPHRyPjx0ZCBjbGFzcz0iZmlyc3QtY2hpbGQiPjxsYWJlbD7mj5Dlj5bnoIE8L2xhYmVsPjwvdGQ+PHRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0ibmQtaW5wdXQtc2hhcmUtcHdkIiB2YWx1ZT0iJyArIChzaGFyZVB3ZCA/IHNoYXJlUHdkIDogIiIpICsgJyIgcGxhY2Vob2xkZXI9IuS4uuepuuWImemaj+acuuWbm+S9jSIgc3R5bGU9InBhZGRpbmc6IDZweDsgd2lkdGg6IDEwMHB4O2JvcmRlcjogMXB4IHNvbGlkICNlOWU5ZTk7Ij48L3RkPjwvdHI+JzsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3NoYXJlIC5kaWFsb2ctYm9keSB0YWJsZSIpLmFwcGVuZChodG1sKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2VPcmlnaW4oc3RhdHVzKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8g5o+Q5Y+W56CB5pu05pS55LqL5Lu2CiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCJjaGFuZ2UiLCAiLm5kLWlucHV0LXNoYXJlLXB3ZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWU7CiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgIXZhbHVlLm1hdGNoKC9eWzAtOWEtel17NH0kL2kpKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dUaXBFcnJvcigi5o+Q5Y+W56CB5Y+q6IO95piv5Zub5L2N5pWw5a2X5oiW5a2X5q+NIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25maWcuc2V0Q29uZmlnKCJzaGFyZV9wd2QiLCB2YWx1ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5yZW1vdmVWaWRlb0xpbWl0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG9iai5nZXRTeXN0ZW1Db250ZXh0KCkubWVzc2FnZTsKICAgICAgICAgICAgaWYgKG1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgIG1lc3NhZ2UudHJpZ2dlcigic2hhcmUtdmlkZW8tYWZ0ZXItdHJhbnNmZXIiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCJ3YWl0IHJlbW92ZVZpZGVvTGltaXQuLi4iKTsKICAgICAgICAgICAgICAgIG9iai5zZXRUaW1lb3V0KG9iai5yZW1vdmVWaWRlb0xpbWl0LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnByZXR0eVNpbmdsZVNoYXJlUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCFvYmouaXNTaGFyZVBhZ2VNdWx0aSgpKSB7CiAgICAgICAgICAgICAgICAkKCIjbGF5b3V0TWFpbiIpLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogImF1dG8iLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiAiMTE4MHB4IiwKICAgICAgICAgICAgICAgICAgICAibWFyZ2luIjogIjg4cHggMzBweCIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNob3dTaGFyZU9yaWdpbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHNoYXJlSWQgPSBvYmouZ2V0U2hhcmVJZCgpOwogICAgICAgICAgICBhcGkucXVlcnlTaGFyZU9yaWdpbihjb25zdGFudC5zb3VyY2UuYmFpZHUsIHNoYXJlSWQsIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmNvZGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5saXN0ICYmIGRhdGEubGlzdC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnPGRpdiBzdHlsZT0icGFkZGluZzogMTBweCA1cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjZmNmY2OyBsaW5lLWhlaWdodDogMzBweDsiPic7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZGF0YS5saXN0WzBdOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5saXN0Lmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxwPuWIhuS6q+adpea6kO+8mjxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSInICsgaXRlbS51cmwgKyAnIj4nICsgaXRlbS50aXRsZSArICc8L2E+IFs8YSBjbGFzcz0ic2hvdy1vcmlnaW4tZGlhbG9nIiBocmVmPSJqYXZhc2NyaXB0OjsiIHN0eWxlPSJjb2xvcjojZmYwMDAwOyI+IOafpeeci+abtOWkmiA8L2E+XTwvcD4nOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPHA+5YiG5Lqr5p2l5rqQ77yaPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9IicgKyBpdGVtLnVybCArICciPicgKyBpdGVtLnRpdGxlICsgJzwvYT48L3A+JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIubW9kdWxlLXNoYXJlLWhlYWRlciIpLmFmdGVyKGh0bWwpOwoKICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oImNsaWNrIiwgIi5zaG93LW9yaWdpbi1kaWFsb2ciLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSAi5YiG5Lqr5p2l5rqQIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBib2R5ID0gJzxkaXYgc3R5bGU9InBhZGRpbmc6IDIwcHggMjBweDttaW4taGVpZ2h0OiAxMjBweDsgbWF4LWhlaWdodDogMzAwcHg7IG92ZXJmbG93LXk6IGF1dG87Ij4nOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgKz0gJzxwPicgKyAoKytpbmRleCkgKyAn77yaPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9IicgKyBpdGVtLnVybCArICciPicgKyBpdGVtLnRpdGxlICsgJzwvYT48L3A+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgKz0gJzwvZGl2Pic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9vdGVyID0gb2JqLnJlbmRlckZvb3RlckFwcElkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0RpYWxvZyh0aXRsZSwgYm9keSwgZm9vdGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBvYmouc2hvd1RpcEVycm9yKCLmmoLmnKrmn6Xor6LliLDliIbkuqvnmoTmnaXmupAiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5pbml0QnV0dG9uU2hhcmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICgkKCIueC1idXR0b24tYm94IikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICc8YSBjbGFzcz0iZy1idXR0b24gbmQtYnV0dG9uLWJ1aWxkIj48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLWRpc2siIHRpdGxlPSLkuIvovb0iPjwvZW0+PHNwYW4gY2xhc3M9InRleHQiPueUn+aIkOmTvuaOpTwvc3Bhbj48L3NwYW4+PC9hPic7CiAgICAgICAgICAgICAgICAkKCIueC1idXR0b24tYm94IikuYXBwZW5kKGh0bWwpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oIndhaXQgaW5pdEJ1dHRvblNoYXJlLi4uIik7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KG9iai5pbml0QnV0dG9uU2hhcmUsIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdEJ1dHRvbkhvbWUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBsaXN0VG9vbHMgPSBvYmouZ2V0U3lzdGVtQ29udGV4dCgpLkJyb2tlci5nZXRCdXR0b25Ccm9rZXIoImxpc3RUb29scyIpOwogICAgICAgICAgICBpZiAobGlzdFRvb2xzICYmIGxpc3RUb29scy4kYm94KSB7CiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICc8YSBjbGFzcz0iZy1idXR0b24gbmQtYnV0dG9uLWJ1aWxkIj48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLWRpc2siIHRpdGxlPSLkuIvovb0iPjwvZW0+PHNwYW4gY2xhc3M9InRleHQiPueUn+aIkOmTvuaOpTwvc3Bhbj48L3NwYW4+PC9hPic7CiAgICAgICAgICAgICAgICAkKGxpc3RUb29scy4kYm94KS5wcmVwZW5kKGh0bWwpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oIndhaXQgaW5pdEJ1dHRvbkhvbWUuLi4iKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQob2JqLmluaXRCdXR0b25Ib21lLCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRCdXR0b25UaW1lTGluZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCQoIi5tb2R1bGUtb3BlcmF0ZUJ0biAuZ3JvdXAtYnV0dG9uIikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICc8c3BhbiBjbGFzcz0iYnV0dG9uIj48YSBjbGFzcz0iZy12LWJ1dHRvbiBnLXYtYnV0dG9uLW1pZGRsZSBuZC1idXR0b24tYnVpbGQiPjxzcGFuIGNsYXNzPSJnLXYtYnV0dG9uLXJpZ2h0Ij48ZW0gY2xhc3M9Imljb24gaWNvbi1kaXNrIj48L2VtPjxzcGFuIGNsYXNzPSJ0ZXh0Ij7nlJ/miJDpk77mjqU8L3NwYW4+PC9zcGFuPjwvYT48L3NwYW4+JzsKICAgICAgICAgICAgICAgICQoIi5tb2R1bGUtb3BlcmF0ZUJ0biAuZ3JvdXAtYnV0dG9uIikucHJlcGVuZChodG1sKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCJ3YWl0IGluaXRCdXR0b25UaW1lTGluZS4uLiIpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChvYmouaW5pdEJ1dHRvblRpbWVMaW5lLCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRCdXR0b25FdmVudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g55Sf5oiQ6ZO+5o6lCiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCJjbGljayIsICIubmQtYnV0dG9uLWJ1aWxkIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIHl1bkRhdGEgPSBvYmouZ2V0WXVuRGF0YSgpOwogICAgICAgICAgICAgICAgaWYgKHl1bkRhdGEuTVlVSykgewogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlTGlzdCA9IG9iai5nZXRTZWxlY3RlZEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVTdGF0ID0gb2JqLmdldEZpbGVMaXN0U3RhdChmaWxlTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoID4gMSAmJiBmaWxlU3RhdC5maWxlX251bSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dEb3dubG9hZFNlbGVjdChmaWxlTGlzdCwgZmlsZVN0YXQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhY2sgPSBmaWxlU3RhdC5maWxlX251bSA/IGZhbHNlIDogdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouaXNIb21lUGFnZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dEb3dubG9hZEluZm9Ib21lKGZpbGVMaXN0LCBwYWNrKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zaG93RG93bmxvYWRJbmZvU2hhcmUoZmlsZUxpc3QsIHBhY2spOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBvYmouc2hvd1RpcEVycm9yKCLor7foh7PlsJHpgInmi6nkuIDkuKrmlofku7bmiJbmlofku7blpLkiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0xvZ2luKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8g5Y6L57yp5YyFCiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCJjbGljayIsICIubmQtYnV0dG9uLXBhY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgZmlsZUxpc3QgPSBvYmouZ2V0U2VsZWN0ZWRGaWxlTGlzdCgpOwogICAgICAgICAgICAgICAgaWYgKG9iai5pc0hvbWVQYWdlKCkpIHsKICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0Rvd25sb2FkSW5mb0hvbWUoZmlsZUxpc3QsIHRydWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dEb3dubG9hZEluZm9TaGFyZShmaWxlTGlzdCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8g5aSa5paH5Lu2CiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCJjbGljayIsICIubmQtYnV0dG9uLW11bHRpIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGZpbGVMaXN0ID0gb2JqLmdldFNlbGVjdGVkRmlsZUxpc3QoKTsKCiAgICAgICAgICAgICAgICAvLyDov4fmu6Tmlofku7blpLkKICAgICAgICAgICAgICAgIGZpbGVMaXN0ID0gb2JqLmZpbHRlckZpbGVMaXN0RGlyKGZpbGVMaXN0KTsKCiAgICAgICAgICAgICAgICBpZiAob2JqLmlzSG9tZVBhZ2UoKSkgewogICAgICAgICAgICAgICAgICAgIG9iai5zaG93RG93bmxvYWRJbmZvSG9tZShmaWxlTGlzdCwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dEb3dubG9hZEluZm9TaGFyZShmaWxlTGlzdCwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIOW6lOeUqElECiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCJjbGljayIsICIubmQtY2hhbmdlLWFwcC1pZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG9iai5zaG93QXBwSWRDaGFuZ2UoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCJjaGFuZ2UiLCAiLm5kLWlucHV0LWFwcC1pZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG9iai5zZXRBcHBJZCh0aGlzLnZhbHVlKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyDmiZPlvIDphY3nva7pobUKICAgICAgICAgICAgJChkb2N1bWVudCkub24oImNsaWNrIiwgIi5uZC1vcGVuLXBhZ2Utb3B0aW9uIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29yZS5vcGVuT3B0aW9uUGFnZSgpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIOaJk+W8gOS4tOaXtumhtemdogogICAgICAgICAgICAkKGRvY3VtZW50KS5vbigiY2xpY2siLCAiLm5kLW9wZW4tcGFnZS10ZW1wIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcm91dGVyLm9wZW5UYWIoImh0dHBzOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUjL2FsbD92bW9kZT1saXN0JnBhdGg9IiArIGVuY29kZVVSSUNvbXBvbmVudChvYmouZ2V0VGVtcFBhdGgoKSksIHRydWUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd0xvZ2luID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvYmouZ2V0SnF1ZXJ5KCkoIltub2RlLXR5cGU9J2hlYWRlci1sb2dpbi1idG4nXSIpLmNsaWNrKCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNob3dEb3dubG9hZEluZm9TaGFyZSA9IGZ1bmN0aW9uIChmaWxlTGlzdCwgcGFjaykgewogICAgICAgICAgICBsb2dnZXIuaW5mbyhmaWxlTGlzdCk7CiAgICAgICAgICAgIGlmIChwYWNrKSB7CiAgICAgICAgICAgICAgICBvYmouc2hvd0Rvd25sb2FkSW5mb1NoYXJlQmFja3VwKGZpbGVMaXN0LCBwYWNrKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIG9iai5hcHBseVRyYW5zZmVyRmlsZShmaWxlTGlzdCwgb2JqLmdldFRlbXBQYXRoKCksIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5leHRyYSAmJiByZXNwb25zZS5leHRyYS5saXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0TWFwID0ge307CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmV4dHJhLmxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdE1hcFtpdGVtLmZyb21fZnNfaWRdID0gaXRlbTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG93bkxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RNYXAuaGFzT3duUHJvcGVydHkoaXRlbS5mc19pZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBsaXN0TWFwW2l0ZW0uZnNfaWRdLmZyb20uc3BsaXQoIi8iKS5wb3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5zZXJ2ZXJfZmlsZW5hbWUuaW5kZXhPZigiLiIpID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXJ2ZXJfZmlsZW5hbWUgPSBmaWxlTmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kbGluayA9IG9iai5idWlsZERvd25sb2FkVXJsKGxpc3RNYXBbaXRlbS5mc19pZF0udG8sIGZpbGVOYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3duTGlzdC5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dEb3dubG9hZExpbmtGaWxlKGRvd25MaXN0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5zaG93RG93bmxvYWRJbmZvU2hhcmVCYWNrdXAgPSBmdW5jdGlvbiAoZmlsZUxpc3QsIHBhY2spIHsKICAgICAgICAgICAgb2JqLmdldERvd25sb2FkU2hhcmUoZmlsZUxpc3QsIHBhY2ssIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgb2JqLmhpZGVUaXAoKTsKICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubGlzdCAmJiByZXNwb25zZS5saXN0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIC8vIOaWh+S7tgogICAgICAgICAgICAgICAgICAgIG9iai5zaG93RG93bmxvYWRMaW5rRmlsZShyZXNwb25zZS5saXN0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRsaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5Y6L57yp5YyFCiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dEb3dubG9hZExpbmtQYWNrKGZpbGVMaXN0LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRsaW5rOiByZXNwb25zZS5kbGluawogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5YW25LuWCiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dEaWFsb2dVbktub3duUmVzcG9uc2UocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd0Rvd25sb2FkSW5mb0hvbWUgPSBmdW5jdGlvbiAoZmlsZUxpc3QsIHBhY2spIHsKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZmlsZUxpc3QpOwogICAgICAgICAgICBpZiAocGFjaykgewogICAgICAgICAgICAgICAgb2JqLmdldERvd25sb2FkSG9tZShmaWxlTGlzdCwgcGFjaywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmhpZGVUaXAoKTsKICAgICAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhyZXNwb25zZSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kbGluayAmJiB0eXBlb2YgcmVzcG9uc2UuZGxpbmsgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Y6L57yp5YyFCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zaG93RG93bmxvYWRMaW5rUGFjayhmaWxlTGlzdCwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGxpbms6IHJlc3BvbnNlLmRsaW5rCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YW25LuWCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zaG93RGlhbG9nVW5Lbm93blJlc3BvbnNlKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGZpbGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBpdGVtLmRsaW5rID0gb2JqLmJ1aWxkRG93bmxvYWRVcmwoaXRlbS5wYXRoLCBpdGVtLnNlcnZlcl9maWxlbmFtZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIG9iai5zaG93RG93bmxvYWRMaW5rRmlsZShmaWxlTGlzdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd0Rvd25sb2FkSW5mb0hvbWVCYWNrdXAgPSBmdW5jdGlvbiAoZmlsZUxpc3QsIHBhY2spIHsKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZmlsZUxpc3QpOwogICAgICAgICAgICBvYmouZ2V0RG93bmxvYWRIb21lKGZpbGVMaXN0LCBwYWNrLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIG9iai5oaWRlVGlwKCk7CiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhyZXNwb25zZSk7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRsaW5rICYmIHR5cGVvZiByZXNwb25zZS5kbGluayA9PSAib2JqZWN0IiAmJiByZXNwb25zZS5kbGluay5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAvLyDmlofku7YKICAgICAgICAgICAgICAgICAgICB2YXIgZGxpbmtNYXBwaW5nID0ge307CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGxpbmsuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICBkbGlua01hcHBpbmdbaXRlbS5mc19pZF0gPSBpdGVtLmRsaW5rOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0ZW0uZGxpbmsgPSBkbGlua01hcHBpbmdbaXRlbS5mc19pZF07CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZGxpbmsgPSBvYmouYnVpbGREb3dubG9hZFVybChpdGVtLnBhdGgpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIG9iai5zaG93RG93bmxvYWRMaW5rRmlsZShmaWxlTGlzdCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kbGluayAmJiB0eXBlb2YgcmVzcG9uc2UuZGxpbmsgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgICAgICAvLyDljovnvKnljIUKICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0Rvd25sb2FkTGlua1BhY2soZmlsZUxpc3QsIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGxpbms6IHJlc3BvbnNlLmRsaW5rCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyDlhbbku5YKICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0RpYWxvZ1VuS25vd25SZXNwb25zZShyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93RG93bmxvYWRMaW5rRmlsZSA9IGZ1bmN0aW9uIChmaWxlTGlzdCkgewogICAgICAgICAgICB2YXIgdGl0bGUgPSAi5paH5Lu25LiL6L29IjsKICAgICAgICAgICAgdmFyIGJvZHkgPSAnPGRpdiBzdHlsZT0icGFkZGluZzogMjBweCAyMHB4O21pbi1oZWlnaHQ6IDEyMHB4OyBtYXgtaGVpZ2h0OiAzMDBweDsgb3ZlcmZsb3cteTogYXV0bzsgIj4nOwoKICAgICAgICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCA+IDEgJiYgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5iYWlkdV9tdWx0aV9saW5rKSkgewogICAgICAgICAgICAgICAgdmFyIGRsaW5rTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgdmFyIGRsaW5rQXBpTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgZmlsZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIGRsaW5rTGlzdC5wdXNoKGl0ZW0uZGxpbmsgKyAiJmZpbGVuYW1lPSIgKyBlbmNvZGVVUklDb21wb25lbnQoaXRlbS5zZXJ2ZXJfZmlsZW5hbWUpKTsKICAgICAgICAgICAgICAgICAgICBpdGVtLmRsaW5rX2FwaSAmJiBkbGlua0FwaUxpc3QucHVzaChpdGVtLmRsaW5rX2FwaSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGJvZHkgKz0gJzxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij4nOwogICAgICAgICAgICAgICAgYm9keSArPSAnPGRpdj7mibnph4/pk77mjqU8L2Rpdj48ZGl2IHN0eWxlPSJoZWlnaHQ6IDgwcHg7IG92ZXJmbG93OiBhdXRvOyI+PHRleHRhcmVhIG5hbWU9ImRsaW5rX29mZmljYWwiIHN0eWxlPSJ3aWR0aDoyNTAwcHg7IGJvcmRlcjogMXB4IHNvbGlkICNmMmYyZjI7IiByb3dzPSInICsgZGxpbmtMaXN0Lmxlbmd0aCArICciPicgKyBkbGlua0xpc3Quam9pbigiXG4iKSArICc8L3RleHRhcmVhPjwvZGl2Pic7CiAgICAgICAgICAgICAgICBib2R5ICs9ICc8L2Rpdj4nOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgICAgYm9keSArPSAnPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTBweDsiPic7CgogICAgICAgICAgICAgICAgYm9keSArPSAnPGRpdj4nICsgKGluZGV4ICsgMSkgKyAn77yaJyArIGl0ZW0uc2VydmVyX2ZpbGVuYW1lICsgJzwvZGl2Pic7CgogICAgICAgICAgICAgICAgYm9keSArPSAnPGRpdj48YSBocmVmPSInICsgaXRlbS5kbGluayArICcmZmlsZW5hbWU9JyArIGVuY29kZVVSSUNvbXBvbmVudChpdGVtLnNlcnZlcl9maWxlbmFtZSkgKyAnIiB0aXRsZT0iJyArIGl0ZW0uZGxpbmsgKyAnIiBzdHlsZT0iZGlzcGxheTpibG9jazsgb3ZlcmZsb3c6aGlkZGVuOyB3aGl0ZS1zcGFjZTpub3dyYXA7IHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7Ij4nICsgaXRlbS5kbGluayArICc8L2E+PC9kaXY+JzsKCiAgICAgICAgICAgICAgICBib2R5ICs9ICc8L2Rpdj4nOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYm9keSArPSAnPC9kaXY+JzsKICAgICAgICAgICAgdmFyIGZvb3RlciA9IG9iai5yZW5kZXJGb290ZXJBcHBJZCgpOwogICAgICAgICAgICBvYmouc2hvd0RpYWxvZyh0aXRsZSwgYm9keSwgZm9vdGVyKTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd0Rvd25sb2FkTGlua1BhY2sgPSBmdW5jdGlvbiAoZmlsZUxpc3QsIGRhdGEpIHsKICAgICAgICAgICAgdmFyIHRpdGxlID0gIuaWh+S7tuS4i+i9vSI7CiAgICAgICAgICAgIHZhciBib2R5ID0gJzxkaXYgc3R5bGU9InBhZGRpbmc6IDIwcHggMjBweDttaW4taGVpZ2h0OiAxMjBweDsgbWF4LWhlaWdodDogMzAwcHg7IG92ZXJmbG93LXk6IGF1dG87ICI+JzsKCiAgICAgICAgICAgIHZhciBwYWNrTmFtZSA9IG9iai5nZXREb3dubG9hZFBhY2tOYW1lKGZpbGVMaXN0KTsKICAgICAgICAgICAgYm9keSArPSAnPGRpdj4nICsgcGFja05hbWUgKyAnPC9kaXY+PGRpdj48YSBocmVmPSInICsgZGF0YS5kbGluayArICcmemlwbmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhY2tOYW1lKSArICciIHRpdGxlPSInICsgZGF0YS5kbGluayArICciIHN0eWxlPSJkaXNwbGF5OmJsb2NrOyBvdmVyZmxvdzpoaWRkZW47IHdoaXRlLXNwYWNlOm5vd3JhcDsgdGV4dC1vdmVyZmxvdzplbGxpcHNpczsiPicgKyBkYXRhLmRsaW5rICsgJzwvYT48L2Rpdj4nOwoKICAgICAgICAgICAgYm9keSArPSAnPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTVweDsiPuaJk+WMheeahOaWh+S7ti/mlofku7blpLnliJfooag8L2Rpdj4nOwogICAgICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgICAgYm9keSArPSAnPGRpdiB0aXRsZT0iJyArIGl0ZW0ucGF0aCArICciIHN0eWxlPSJjb2xvcjogJyArIChpdGVtLmlzZGlyID8gImJsdWUiIDogImluaGVyaXQiKSArICc7Ij5bJyArIChpbmRleCArIDEpICsgJ10gJyArIGl0ZW0uc2VydmVyX2ZpbGVuYW1lICsgJzwvZGl2Pic7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgYm9keSArPSAnPC9kaXY+JzsKICAgICAgICAgICAgdmFyIGZvb3RlciA9IG9iai5yZW5kZXJGb290ZXJBcHBJZCgpOwogICAgICAgICAgICBvYmouc2hvd0RpYWxvZyh0aXRsZSwgYm9keSwgZm9vdGVyKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0RG93bmxvYWRQYWNrTmFtZSA9IGZ1bmN0aW9uIChmaWxlTGlzdCkgewogICAgICAgICAgICByZXR1cm4gZmlsZUxpc3RbMF0uc2VydmVyX2ZpbGVuYW1lICsgIiDnrYkiICsgZmlsZUxpc3QubGVuZ3RoICsgIuS4quaWh+S7ti56aXAiOwogICAgICAgIH07CgogICAgICAgIG9iai5idWlsZERvd25sb2FkVXJsID0gZnVuY3Rpb24gKHBhdGgsIG5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuICJodHRwczovL3Bjcy5iYWlkdS5jb20vcmVzdC8yLjAvcGNzL2ZpbGU/bWV0aG9kPWRvd25sb2FkJmFwcF9pZD0iICsgb2JqLmdldEFwcElkKCkgKyAiJmZpbGVuYW1lPSIgKyBlbmNvZGVVUklDb21wb25lbnQobmFtZSkgKyAiJnBhdGg9IiArIGVuY29kZVVSSUNvbXBvbmVudChwYXRoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd0Rvd25sb2FkU2VsZWN0ID0gZnVuY3Rpb24gKGZpbGVMaXN0LCBmaWxlU3RhdCkgewogICAgICAgICAgICB2YXIgdGl0bGUgPSAi6ZO+5o6l57G75Z6LIjsKICAgICAgICAgICAgdmFyIGJvZHkgPSAnPGRpdiBzdHlsZT0icGFkZGluZzogNDBweCAyMHB4OyBtYXgtaGVpZ2h0OiAzMDBweDsgb3ZlcmZsb3cteTogYXV0bzsiPic7CgogICAgICAgICAgICBib2R5ICs9ICc8ZGl2IGNsYXNzPSJub3JtYWxCdG5Cb3ggZy1jZW50ZXIiPjxhIGNsYXNzPSJnLWJ1dHRvbiBnLWJ1dHRvbi1sYXJnZSBnLWJ1dHRvbi1ncmF5LWxhcmdlIG5kLWJ1dHRvbi1tdWx0aSI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0Ij48ZW0gY2xhc3M9Imljb24gaWNvbi1kb3dubG9hZCI+PC9lbT4g5aSa5paH5Lu2PC9zcGFuPjwvYT4nOwogICAgICAgICAgICBib2R5ICs9ICc8YSBjbGFzcz0iZy1idXR0b24gZy1idXR0b24tbGFyZ2UgZy1idXR0b24tZ3JheS1sYXJnZSBuZC1idXR0b24tcGFjayIgc3R5bGU9Im1hcmdpbi1sZWZ0OjUwcHg7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLXBvbHkiPjwvZW0+IOWOi+e8qeWMhTwvc3Bhbj48L2E+PC9kaXY+JzsKCiAgICAgICAgICAgIGlmIChmaWxlU3RhdC5kaXJfbnVtKSB7CiAgICAgICAgICAgICAgICBib2R5ICs9ICc8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiA0MHB4OyBwYWRkaW5nLXRvcDogMTBweDsgbWFyZ2luLWJvdHRvbTogLTIwcHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjRDBERkU3OyI+PHAgY2xhc3M9ImctY2VudGVyIj7pgInmi6kgW+WkmuaWh+S7tl0g5Lya6L+H5ruk5b2T5YmN6YCJ5Lit55qEIDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkIj4nICsgZmlsZVN0YXQuZGlyX251bSArICc8L3NwYW4+IOS4quaWh+S7tuWkuTwvcD4nOwoKICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IDE7CiAgICAgICAgICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaXNkaXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYm9keSArPSAnPHAgdGl0bGU9IicgKyBpdGVtLnBhdGggKyAnIiBzdHlsZT0iY29sb3I6IGJsdWU7Ij5bJyArIGluZGV4ICsgJ10gJyArIGl0ZW0uc2VydmVyX2ZpbGVuYW1lICsgJzwvcD4nOwogICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgYm9keSArPSAnPC9kaXY+JzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYm9keSArPSAnPC9kaXY+JzsKICAgICAgICAgICAgdmFyIGZvb3RlciA9IG9iai5yZW5kZXJGb290ZXJBcHBJZCgpOwogICAgICAgICAgICBvYmouc2hvd0RpYWxvZyh0aXRsZSwgYm9keSwgZm9vdGVyKTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd0FwcElkQ2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdGl0bGUgPSAi5bqU55SoSUQiOwogICAgICAgICAgICB2YXIgYm9keSA9ICc8ZGl2IHN0eWxlPSJwYWRkaW5nOiA2MHB4IDIwcHg7IG1heC1oZWlnaHQ6IDMwMHB4OyBvdmVyZmxvdy15OiBhdXRvOyI+PGRpdiBjbGFzcz0iZy1jZW50ZXIiIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxMHB4OyI+5b2T5YmN5bqU55SoSUTvvJo8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9Im5kLWlucHV0LWFwcC1pZCIgc3R5bGU9ImJvcmRlcjogMXB4IHNvbGlkICNmMmYyZjI7IHBhZGRpbmc6IDRweCA1cHg7IiB2YWx1ZT0iJyArIG9iai5nZXRBcHBJZCgpICsgJyI+PC9kaXY+PGRpdiBjbGFzcz0iZy1jZW50ZXIiPjxwPuWmgueUn+aIkOmTvuaOpeaIluiAheS4i+i9veaWh+S7tuW8guW4uO+8jOivt+WwneivleS/ruaUueS4uuWumOaWueW6lOeUqElE44CQJyArIG9iai5hcHBfaWQgKyAn44CRPC9wPjxwPuS/ruaUueW6lOeUqElE5Y+v6IO95a2Y5Zyo5pyq55+l55qE6aOO6Zmp77yM6K+35oWO6YeN5L2/55So77yM5pu05aSa5bqU55SoSUTor7fmn6XnnIs8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzM3ODMwMSI+IOiEmuacrOS4u+mhtSA8L2E+PC9wPjwvZGl2PjwvZGl2Pic7CiAgICAgICAgICAgIHZhciBmb290ZXIgPSAnJzsKICAgICAgICAgICAgb2JqLnNob3dEaWFsb2codGl0bGUsIGJvZHksIGZvb3Rlcik7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNob3dEaWFsb2dVbktub3duUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgdmFyIHRpdGxlID0gIuacquefpee7k+aenCI7CiAgICAgICAgICAgIHZhciBib2R5ID0gJzxkaXYgc3R5bGU9InBhZGRpbmc6IDIwcHggMjBweDsgbWF4LWhlaWdodDogMzAwcHg7IG92ZXJmbG93LXk6IGF1dG87Ij48cHJlIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlLXdyYXA7IHdvcmQtd3JhcDogYnJlYWstd29yZDsgd29yZC1icmVhazogYnJlYWstYWxsOyI+JyArIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLCBudWxsLCA0KSArICc8L3ByZT48L2Rpdj4nOwogICAgICAgICAgICB2YXIgZm9vdGVyID0gb2JqLnJlbmRlckZvb3RlckFwcElkKCk7CiAgICAgICAgICAgIG9iai5zaG93RGlhbG9nKHRpdGxlLCBib2R5LCBmb290ZXIpOwogICAgICAgIH07CgogICAgICAgIG9iai5yZW5kZXJGb290ZXJBcHBJZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuICc8cCBzdHlsZT0icGFkZGluZy10b3A6IDEwcHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjRDBERkU3OyI+5bqU55SoSUTvvJonICsgb2JqLmdldEFwcElkKCkgKyAnIDxhIGhyZWY9ImphdmFzY3JpcHQ6OyIgY2xhc3M9Im5kLWNoYW5nZS1hcHAtaWQiPuS/ruaUuTwvYT7vvIzlhbbku5bpobXpnaLvvJogPGEgY2xhc3M9Im5kLW9wZW4tcGFnZS1vcHRpb24iIGhyZWY9ImphdmFzY3JpcHQ6OyI+6YWN572u6aG16Z2iPC9hPiDjgIE8YSBjbGFzcz0ibmQtb3Blbi1wYWdlLXRlbXAiIGhyZWY9ImphdmFzY3JpcHQ6OyI+5Li05pe25paH5Lu2PC9hPjwvcD4nOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93RGlhbG9nID0gZnVuY3Rpb24gKHRpdGxlLCBib2R5LCBmb290ZXIpIHsKICAgICAgICAgICAgdmFyIGRpYWxvZyA9IG9iai5yZXF1aXJlKCJzeXN0ZW0tY29yZTpzeXN0ZW0vdWlTZXJ2aWNlL2RpYWxvZy9kaWFsb2cuanMiKS52ZXJpZnkoewogICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgICAgICAgICAgaW1nOiAiaW1nIiwKICAgICAgICAgICAgICAgIHZjb2RlOiAidmNvZGUiCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8g5YaF5a65CiAgICAgICAgICAgICQoZGlhbG9nLiRkaWFsb2cpLmZpbmQoIi5kaWFsb2ctYm9keSIpLmh0bWwoYm9keSk7CgogICAgICAgICAgICAvLyDlupXpg6gKICAgICAgICAgICAgJChkaWFsb2cuJGRpYWxvZykuZmluZCgiLmRpYWxvZy1mb290ZXIiKS5odG1sKGZvb3Rlcik7CgogICAgICAgICAgICBkaWFsb2cuc2hvdygpOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93VGlwU3VjY2VzcyA9IGZ1bmN0aW9uIChtc2csIGhhc0Nsb3NlLCBhdXRvQ2xvc2UpIHsKICAgICAgICAgICAgb2JqLnNob3dUaXAoInN1Y2Nlc3MiLCBtc2csIGhhc0Nsb3NlLCBhdXRvQ2xvc2UpOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93VGlwRXJyb3IgPSBmdW5jdGlvbiAobXNnLCBoYXNDbG9zZSwgYXV0b0Nsb3NlKSB7CiAgICAgICAgICAgIG9iai5zaG93VGlwKCJmYWlsdXJlIiwgbXNnLCBoYXNDbG9zZSwgYXV0b0Nsb3NlKTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd1RpcExvYWRpbmcgPSBmdW5jdGlvbiAobXNnLCBoYXNDbG9zZSwgYXV0b0Nsb3NlKSB7CiAgICAgICAgICAgIG9iai5zaG93VGlwKCJsb2FkaW5nIiwgbXNnLCBoYXNDbG9zZSwgYXV0b0Nsb3NlKTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd1RpcCA9IGZ1bmN0aW9uIChtb2RlLCBtc2csIGhhc0Nsb3NlLCBhdXRvQ2xvc2UpIHsKICAgICAgICAgICAgdmFyIG9wdGlvbiA9IHsKICAgICAgICAgICAgICAgIG1vZGU6IG1vZGUsCiAgICAgICAgICAgICAgICBtc2c6IG1zZwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8g5YWz6Zet5oyJ6ZKuCiAgICAgICAgICAgIGlmICh0eXBlb2YgaGFzQ2xvc2UgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5oYXNDbG9zZSA9IGhhc0Nsb3NlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDoh6rliqjlhbPpl60KICAgICAgICAgICAgaWYgKHR5cGVvZiBhdXRvQ2xvc2UgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5hdXRvQ2xvc2UgPSBhdXRvQ2xvc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG9iai5yZXF1aXJlKCJzeXN0ZW0tY29yZTpzeXN0ZW0vdWlTZXJ2aWNlL3RpcC90aXAuanMiKS5zaG93KG9wdGlvbik7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmhpZGVUaXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG9iai5yZXF1aXJlKCJzeXN0ZW0tY29yZTpzeXN0ZW0vdWlTZXJ2aWNlL3RpcC90aXAuanMiKS5oaWRlKHsKICAgICAgICAgICAgICAgIGhpZGVUaXBzQW5pbWF0aW9uRmxhZzogMQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouaXNIb21lUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVybCA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigiLmJhaWR1LmNvbS9kaXNrIikgPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pc1RpbWVsaW5lUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVybCA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigiLmJhaWR1LmNvbS9kaXNrL3RpbWVsaW5lIikgPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pc1NoYXJlUGFnZU11bHRpID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgeXVuRGF0YSA9IG9iai5nZXRZdW5EYXRhKCk7CiAgICAgICAgICAgIGlmICh5dW5EYXRhLlNIQVJFUEFHRVRZUEUgPT0gInNpbmdsZV9maWxlX3BhZ2UiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5nZXRTZWxlY3RlZEZpbGVMaXN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAob2JqLmlzSG9tZVBhZ2UoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5nZXRTZWxlY3RlZEZpbGVMaXN0SG9tZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5nZXRTZWxlY3RlZEZpbGVMaXN0U2hhcmUoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5nZXRTZWxlY3RlZEZpbGVMaXN0SG9tZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKG9iai5pc1RpbWVsaW5lUGFnZSgpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLnJlcXVpcmUoInBhbi10aW1lbGluZTp3aWRnZXQvc3RvcmUvaW5kZXguanMiKS5nZXR0ZXJzLmdldENob29zZWRJdGVtQXJyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5yZXF1aXJlKCdzeXN0ZW0tY29yZTpjb250ZXh0L2NvbnRleHQuanMnKS5pbnN0YW5jZUZvclN5c3RlbS5saXN0LmdldFNlbGVjdGVkKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0U2VsZWN0ZWRGaWxlTGlzdFNoYXJlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gb2JqLnJlcXVpcmUoJ3N5c3RlbS1jb3JlOmNvbnRleHQvY29udGV4dC5qcycpLmluc3RhbmNlRm9yU3lzdGVtLmxpc3QuZ2V0U2VsZWN0ZWQoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0RmlsZUxpc3RTdGF0ID0gZnVuY3Rpb24gKGZpbGVMaXN0KSB7CiAgICAgICAgICAgIHZhciBmaWxlU3RhdCA9IHsKICAgICAgICAgICAgICAgIGZpbGVfbnVtOiAwLAogICAgICAgICAgICAgICAgZGlyX251bTogMAogICAgICAgICAgICB9OwogICAgICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICBpZiAoaXRlbS5pc2RpciA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsZVN0YXQuZmlsZV9udW0rKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGZpbGVTdGF0LmRpcl9udW0rKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBmaWxlU3RhdDsKICAgICAgICB9OwoKICAgICAgICBvYmouZmlsdGVyRmlsZUxpc3REaXIgPSBmdW5jdGlvbiAoZmlsZUxpc3QpIHsKICAgICAgICAgICAgdmFyIGZpbGVMaXN0RmlsdGVyID0gW107CiAgICAgICAgICAgIGZpbGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGlmIChpdGVtLmlzZGlyID09IDApIHsKICAgICAgICAgICAgICAgICAgICBmaWxlTGlzdEZpbHRlci5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGZpbGVMaXN0RmlsdGVyOwogICAgICAgIH07CgogICAgICAgIG9iai5wYXJzZUZpZExpc3QgPSBmdW5jdGlvbiAoZmlsZUxpc3QpIHsKICAgICAgICAgICAgdmFyIGZpZExpc3QgPSBbXTsKICAgICAgICAgICAgZmlsZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgZmlkTGlzdC5wdXNoKGl0ZW0uZnNfaWQpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGZpZExpc3Q7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldERvd25sb2FkU2hhcmUgPSBmdW5jdGlvbiAoZmlsZUxpc3QsIHBhY2ssIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIG9iai5zaG93VGlwTG9hZGluZygi55Sf5oiQ6ZO+5o6l5Lit77yM6K+356iN562JLi4uIik7CiAgICAgICAgICAgIG9iai5pbml0V2lkZ2V0Q29udGV4dCgiZnVuY3Rpb24td2lkZ2V0LTE6ZG93bmxvYWQvdXRpbC9jb250ZXh0LmpzIik7CiAgICAgICAgICAgIG9iai5hc3luYygiZnVuY3Rpb24td2lkZ2V0LTE6ZG93bmxvYWQvc2VydmljZS9kbGlua1NlcnZpY2UuanMiLCBmdW5jdGlvbiAoZGwpIHsKICAgICAgICAgICAgICAgIHZhciB5dW5EYXRhID0gb2JqLmdldFl1bkRhdGEoKTsKICAgICAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgICAgIGxpc3Q6IGZpbGVMaXN0LAogICAgICAgICAgICAgICAgICAgIHNoYXJlX3VrOiB5dW5EYXRhLlNIQVJFX1VLLAogICAgICAgICAgICAgICAgICAgIHNoYXJlX2lkOiB5dW5EYXRhLlNIQVJFX0lELAogICAgICAgICAgICAgICAgICAgIHNpZ246IHl1bkRhdGEuU0lHTiwKICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHl1bkRhdGEuVElNRVNUQU1QLAogICAgICAgICAgICAgICAgICAgIHR5cGU6IHBhY2sgPyAiYmF0Y2giIDogIm5vbGltaXQiCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZGwuZ2V0RGxpbmtTaGFyZShkYXRhLCBjYWxsYmFjayk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXREb3dubG9hZEhvbWUgPSBmdW5jdGlvbiAoZmlsZUxpc3QsIHBhY2ssIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIG9iai5zaG93VGlwTG9hZGluZygi55Sf5oiQ6ZO+5o6l5Lit77yM6K+356iN562JLi4uIik7CiAgICAgICAgICAgIG9iai5pbml0V2lkZ2V0Q29udGV4dCgiZnVuY3Rpb24td2lkZ2V0LTE6ZG93bmxvYWQvdXRpbC9jb250ZXh0LmpzIik7CiAgICAgICAgICAgIG9iai5hc3luYygiZnVuY3Rpb24td2lkZ2V0LTE6ZG93bmxvYWQvc2VydmljZS9kbGlua1NlcnZpY2UuanMiLCBmdW5jdGlvbiAoZGwpIHsKICAgICAgICAgICAgICAgIHZhciBmaWRMaXN0ID0gb2JqLnBhcnNlRmlkTGlzdChmaWxlTGlzdCk7CiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHBhY2sgPyAiYmF0Y2giIDogIm5vbGltaXQiOwogICAgICAgICAgICAgICAgZGwuZ2V0RGxpbmtQYW4oSlNPTi5zdHJpbmdpZnkoZmlkTGlzdCksIHR5cGUsIGNhbGxiYWNrKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmFwcGx5VHJhbnNmZXJGaWxlID0gZnVuY3Rpb24gKGZpbGVMaXN0LCBwYXRoLCBjYWxsYmFjaykgewogICAgICAgICAgICBvYmoubGlzdERpcihwYXRoLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5lcnJubyA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnRyYW5zZmVyRmlsZShmaWxlTGlzdCwgcGF0aCwgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBvYmouY3JlYXRlRGlyKHBhdGgsIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZXJybm8gPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnRyYW5zZmVyRmlsZShmaWxlTGlzdCwgcmVzcG9uc2UucGF0aCwgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygiIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai50cmFuc2ZlckZpbGUgPSBmdW5jdGlvbiAoZmlsZUxpc3QsIHBhdGgsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciB5dW5EYXRhID0gb2JqLmdldFl1bkRhdGEoKTsKICAgICAgICAgICAgdmFyIGZpZExpc3QgPSBvYmoucGFyc2VGaWRMaXN0KGZpbGVMaXN0KTsKICAgICAgICAgICAgdmFyIHVybCA9ICIvc2hhcmUvdHJhbnNmZXI/b25kdXA9bmV3Y29weSZhc3luYz0xJnNoYXJlaWQ9IiArIHl1bkRhdGEuU0hBUkVfSUQgKyAiJmZyb209IiArIHl1bkRhdGEuU0hBUkVfVUsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICBmc2lkbGlzdDogIlsiICsgZmlkTGlzdC5qb2luKCIsIikgKyAiXSIsCiAgICAgICAgICAgICAgICBwYXRoOiBwYXRoCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIG9iai5hamF4KHsKICAgICAgICAgICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgICAgICAgICB0aW1lb3V0OiAxZTUsCiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5saXN0RGlyID0gZnVuY3Rpb24gKHBhdGgsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSAiL2FwaS9saXN0IjsKICAgICAgICAgICAgb2JqLmFqYXgoewogICAgICAgICAgICAgICAgdHlwZTogImdldCIsCiAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBvcmRlcjogIm5hbWUiLAogICAgICAgICAgICAgICAgICAgIGRlc2M6IDAsCiAgICAgICAgICAgICAgICAgICAgc2hvd2VtcHR5OiAwLAogICAgICAgICAgICAgICAgICAgIHdlYjogMSwKICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICAgICAgICAgIG51bTogMTAsCiAgICAgICAgICAgICAgICAgICAgZGlyOiBwYXRoCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDFlNSwKICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmNyZWF0ZURpciA9IGZ1bmN0aW9uIChwYXRoLCBjYWxsYmFjaykgewogICAgICAgICAgICB2YXIgdXJsID0gIi9hcGkvY3JlYXRlP2E9Y29tbWl0IjsKICAgICAgICAgICAgb2JqLmFqYXgoewogICAgICAgICAgICAgICAgdHlwZTogInBvc3QiLAogICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aCwKICAgICAgICAgICAgICAgICAgICBpc2RpcjogMSwKICAgICAgICAgICAgICAgICAgICBibG9ja19saXN0OiAiW10iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDFlNSwKICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soIiIpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFNoYXJlSWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzaGFyZUlkID0gcnVudGltZS5nZXRVcmxQYXJhbSgic3VybCIpOwogICAgICAgICAgICBpZiAoc2hhcmVJZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHNoYXJlSWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvXC9zXC8xKFxTKykvKTsKICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogbnVsbDsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pc1B3ZFNoYXJlT3BlbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuYmFpZHVfc2hhcmVfc3RhdHVzKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0WXVuRGF0YSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCFvYmoueXVuX2RhdGEpIHsKICAgICAgICAgICAgICAgIG9iai55dW5fZGF0YSA9IHVuc2FmZVdpbmRvdy55dW5EYXRhOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBvYmoueXVuX2RhdGE7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFRlbXBQYXRoID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdGVtcFBhdGggPSBjb25maWcuZ2V0Q29uZmlnKCJ0ZW1wX3BhdGgiKTsKICAgICAgICAgICAgaWYgKHRlbXBQYXRoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGVtcFBhdGg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLnRlbXBfcGF0aDsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5zZXRUZW1wUGF0aCA9IGZ1bmN0aW9uICh0ZW1wUGF0aCkgewogICAgICAgICAgICBjb25maWcuc2V0Q29uZmlnKCJ0ZW1wX3BhdGgiLCB0ZW1wUGF0aCk7CiAgICAgICAgICAgIGFwaS5sb2dPcHRpb24oKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0QXBwSWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBhcHBJZCA9IGNvbmZpZy5nZXRDb25maWcoImFwcF9pZCIpOwogICAgICAgICAgICBpZiAoYXBwSWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBhcHBJZDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBvYmouYXBwX2lkOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldEFwcElkID0gZnVuY3Rpb24gKGFwcElkKSB7CiAgICAgICAgICAgIGNvbmZpZy5zZXRDb25maWcoImFwcF9pZCIsIGFwcElkKTsKICAgICAgICAgICAgYXBpLmxvZ09wdGlvbigpOwogICAgICAgIH07CgogICAgICAgIG9iai5pbml0V2lkZ2V0Q29udGV4dCA9IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykgewogICAgICAgICAgICB2YXIgaW5pdEZ1bmMgPSBmdW5jdGlvbiAod2lkZ2V0KSB7CiAgICAgICAgICAgICAgICBpZiAoIXdpZGdldC5nZXRDb250ZXh0KCkpIHsKICAgICAgICAgICAgICAgICAgICB3aWRnZXQuc2V0Q29udGV4dChvYmouZ2V0U3lzdGVtQ29udGV4dCgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmIChjYWxsYmFjaykgewogICAgICAgICAgICAgICAgb2JqLmFzeW5jKG5hbWUsIGluaXRGdW5jKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGluaXRGdW5jKG9iai5yZXF1aXJlKG5hbWUpKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5hamF4ID0gZnVuY3Rpb24gKG9wdGlvbikgewogICAgICAgICAgICBvYmouZ2V0SnF1ZXJ5KCkuYWpheChvcHRpb24pOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRTeXN0ZW1Db250ZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gb2JqLnJlcXVpcmUoInN5c3RlbS1jb3JlOmNvbnRleHQvY29udGV4dC5qcyIpLmluc3RhbmNlRm9yU3lzdGVtOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRKcXVlcnkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBvYmoucmVxdWlyZSgiYmFzZTp3aWRnZXQvbGlicy9qcXVlcnlwYWNrZXQuanMiKTsKICAgICAgICB9OwoKICAgICAgICBvYmoucmVxdWlyZSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiB1bnNhZmVXaW5kb3cucmVxdWlyZShuYW1lKTsKICAgICAgICB9OwoKICAgICAgICBvYmouYXN5bmMgPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHsKICAgICAgICAgICAgdW5zYWZlV2luZG93LnJlcXVpcmUuYXN5bmMobmFtZSwgY2FsbGJhY2spOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfd2VpeXVuIiwgWyJydW50aW1lIiwgIm9iamVjdCIsICJvcHRpb24iLCAibG9nZ2VyIiwgInVuc2FmZV93aW5kb3ciLCAiY29uc3RhbnQiLCAiY29yZSIsICJhcGkiLCAiJCJdLCBmdW5jdGlvbiAocnVudGltZSwgb2JqZWN0LCBvcHRpb24sIGxvZ2dlciwgdW5zYWZlV2luZG93LCBjb25zdGFudCwgY29yZSwgYXBpLCAkKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgYXhpb3M6IG51bGwsCiAgICAgICAgICAgIG1vZGFsOiBudWxsLAogICAgICAgICAgICBzdG9yZTogbnVsbCwKICAgICAgICAgICAgaW5qZWN0X25hbWU6ICJfbmRfaW5qZWN0XyIsCiAgICAgICAgICAgIHdlYnBhY2tfcmVxdWlyZTogbnVsbCwKICAgICAgICAgICAgdmVyaWZ5X3BhZ2U6IHsKICAgICAgICAgICAgICAgIHNldFB3ZDogbnVsbCwKICAgICAgICAgICAgICAgIHNoYXJlX3B3ZDogbnVsbCwKICAgICAgICAgICAgICAgIHN1Ym1pdF9wd2Q6IG51bGwKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoInNoYXJlLndlaXl1bi5jb20iKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQud2VpeXVuX3BhZ2VfdmVyaWZ5KSAmJiBvYmouaW5pdFZlcmlmeVBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRWZXJpZnlQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvYmouaW5pdFdlYnBhY2tSZXF1aXJlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG9iai5yZWdpc3RlclN0b3JlU2hhcmVQd2QoKTsKICAgICAgICAgICAgfSk7CgoKICAgICAgICAgICAgb2JqLmluaXRWZXJpZnlQYWdlRWxlbWVudChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBvYmouYXV0b1BhZGRpbmdTaGFyZVB3ZCgpOwogICAgICAgICAgICAgICAgb2JqLnJlZ2lzdGVyUHdkU2hhcmVTd2l0Y2goKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRWZXJpZnlQYWdlRWxlbWVudCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICB2YXIgc2hhcmVJZCA9IG9iai5nZXRTaGFyZUlkKCk7CiAgICAgICAgICAgIHZhciAkcHdkID0gJCgiLmNhcmQtaW5uZXIgLmlucHV0LXR4dFt0eXBlPSdwYXNzd29yZCddIik7CiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCgiLmNhcmQtaW5uZXIgLmJ0bi1tYWluIik7CiAgICAgICAgICAgIGlmIChzaGFyZUlkICYmICRwd2QubGVuZ3RoICYmICRidXR0b24ubGVuZ3RoKSB7CgogICAgICAgICAgICAgICAgLy8g5pi+56S65YiG5Lqr5a+G56CBCiAgICAgICAgICAgICAgICAkcHdkLmF0dHIoInR5cGUiLCAidGV4dCIpOwoKICAgICAgICAgICAgICAgIC8vIOiuvue9ruWIhuS6q+WvhueggQogICAgICAgICAgICAgICAgb2JqLnZlcmlmeV9wYWdlLnNldFB3ZCA9IGZ1bmN0aW9uIChwd2QpIHsKICAgICAgICAgICAgICAgICAgICAkcHdkLnZhbChwd2QpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAvLyDph43pgKDmjInpkq4KICAgICAgICAgICAgICAgIHZhciAkaXRlbUJ1dHRvbiA9ICRidXR0b24ucGFyZW50KCk7CiAgICAgICAgICAgICAgICAkaXRlbUJ1dHRvbi5odG1sKCRidXR0b24ucHJvcCgib3V0ZXJIVE1MIikpOwogICAgICAgICAgICAgICAgJGJ1dHRvbiA9ICRpdGVtQnV0dG9uLmZpbmQoIi5idG4tbWFpbiIpOwoKICAgICAgICAgICAgICAgIC8vIOaMiemSruS6i+S7tgogICAgICAgICAgICAgICAgJGJ1dHRvbi5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmdldFN0b3JlKCkgJiYgb2JqLmdldFN0b3JlKCkuZGVmYXVsdC5kaXNwYXRjaCgic2hhcmVJbmZvL2xvYWRTaGFyZUluZm9XaXRob3V0TG9naW4iLCAkcHdkLnZhbCgpKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vIOaPkOS6pOWvhueggQogICAgICAgICAgICAgICAgb2JqLnZlcmlmeV9wYWdlLnN1Ym1pdF9wd2QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgJGJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmluaXRWZXJpZnlQYWdlRWxlbWVudChjYWxsYmFjaykKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdFdlYnBhY2tSZXF1aXJlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciBtb3JlTW9kdWxlcyA9IHt9OwogICAgICAgICAgICBtb3JlTW9kdWxlc1tvYmouaW5qZWN0X25hbWVdID0gZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAgICAgICAgICAgb2JqLndlYnBhY2tfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX187CiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB1bnNhZmVXaW5kb3cud2VicGFja0pzb25wKFtvYmouaW5qZWN0X25hbWVdLCBtb3JlTW9kdWxlcywgW29iai5pbmplY3RfbmFtZV0pOwogICAgICAgIH07CgogICAgICAgIG9iai5hdXRvUGFkZGluZ1NoYXJlUHdkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgc2hhcmVJZCA9IG9iai5nZXRTaGFyZUlkKCk7CiAgICAgICAgICAgIHZhciBzaGFyZUxpbmsgPSBvYmouZ2V0U2hhcmVMaW5rKCk7CiAgICAgICAgICAgIGFwaS5xdWVyeVNoYXJlUHdkKGNvbnN0YW50LnNvdXJjZS53ZWl5dW4sIHNoYXJlSWQsIHNoYXJlTGluaywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuY29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlUHdkID0gcmVzcG9uc2UuZGF0YS5zaGFyZV9wd2Q7CiAgICAgICAgICAgICAgICAgICAgb2JqLnZlcmlmeV9wYWdlLnNoYXJlX3B3ZCA9IHNoYXJlUHdkOwogICAgICAgICAgICAgICAgICAgIG9iai52ZXJpZnlfcGFnZS5zZXRQd2Qoc2hhcmVQd2QpOwogICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGlwU3VjY2Vzcygi5aGr5YWF5a+G56CB5oiQ5YqfIik7CgogICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LndlaXl1bl9hdXRvX2p1bXApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai52ZXJpZnlfcGFnZS5zdWJtaXRfcHdkICYmIG9iai52ZXJpZnlfcGFnZS5zdWJtaXRfcHdkKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dUaXBFcnJvcigi5pqC5peg5Lq65YiG5Lqr5a+G56CBIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5yZWdpc3RlclB3ZFNoYXJlU3dpdGNoID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDmt7vliqDlvIDlhbMKICAgICAgICAgICAgJCgiLmNhcmQtaW5uZXIgLmZvcm0taXRlbS1sYWJlbCAuZm9ybS1pdGVtLXRpdCIpLmh0bWwoJzxzcGFuIGNsYXNzPSJmb3JtLWl0ZW0tdGl0Ij7or7fovpPlhaXliIbkuqvlr4bnoIE8c3BhbiBzdHlsZT0ibWFyZ2luLWxlZnQ6IDQ1cHg7Ij48aW5wdXQgdHlwZT0iY2hlY2tib3giIGNoZWNrZWQgaWQ9Im5kLXNoYXJlLWNoZWNrIiBzdHlsZT0idmVydGljYWwtYWxpZ246IG1pZGRsZTsiPiA8YSBjbGFzcz0ibmQtb3Blbi1wYWdlLW9wdGlvbiIgaHJlZj0iamF2YXNjcmlwdDo7IiB0aXRsZT0i54K55Ye75p+l55yL5pu05aSa6ISa5pys6YWN572uIj7lhbHkuqvlr4bnoIE8L2E+PC9zcGFuPjwvc3Bhbj4nKTsKICAgICAgICAgICAgb2JqLmlzUHdkU2hhcmVPcGVuKCkgfHwgJCgiI25kLXNoYXJlLWNoZWNrIikucmVtb3ZlQXR0cigiY2hlY2tlZCIpOwoKICAgICAgICAgICAgLy8g5byA5YWzLeS6i+S7tgogICAgICAgICAgICAkKCIjbmQtc2hhcmUtY2hlY2siKS5vbigiY2hhbmdlIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHsKICAgICAgICAgICAgICAgICAgICBvcHRpb24uc2V0T3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC53ZWl5dW5fc2hhcmVfc3RhdHVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZXRPcHRpb25VbkFjdGl2ZShvcHRpb24uY29uc3RhbnQud2VpeXVuX3NoYXJlX3N0YXR1cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8g5omT5byA6YWN572u6aG1CiAgICAgICAgICAgICQoIi5uZC1vcGVuLXBhZ2Utb3B0aW9uIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29yZS5vcGVuT3B0aW9uUGFnZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmoucmVnaXN0ZXJTdG9yZVNoYXJlUHdkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvYmouYWRkUmVzcG9uc2VJbnRlcmNlcHRvcihmdW5jdGlvbiAocmVxdWVzdCwgcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0VXJsID0gcmVxdWVzdC5yZXNwb25zZVVSTDsKICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0VXJsLmluZGV4T2YoIndlaXl1blNoYXJlTm9Mb2dpbi9XZWl5dW5TaGFyZVZpZXciKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLnJzcF9oZWFkZXIucmV0Y29kZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHJlc3BvbnNlLmNvbmZpZy5kYXRhLm1hdGNoKC9cXCJzaGFyZV9wd2RcXCI6XFwiKFtcd10rKVxcIi8pOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9nZ2VyLndhcm4oInB3ZCBzaGFyZSBub3QgbWF0Y2giKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlUHdkID0gbWF0Y2hbMV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGFyZVB3ZCA9PSBvYmoudmVyaWZ5X3BhZ2Uuc2hhcmVfcHdkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9nZ2VyLndhcm4oInB3ZCBzaGFyZSBub3QgY2hhbmdlIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2JqLmlzUHdkU2hhcmVPcGVuKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2dnZXIud2FybigicHdkIHNoYXJlIGNsb3NlZCIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVJZCA9IG9iai5nZXRTaGFyZUlkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFyZUxpbmsgPSBvYmouZ2V0U2hhcmVMaW5rKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zdG9yZVNoYXJlUHdkKHNoYXJlSWQsIHNoYXJlUHdkLCBzaGFyZUxpbmssIGNvbnN0YW50LnNvdXJjZS53ZWl5dW4pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2dlci53YXJuKCJwd2Qgc2hhcmUgZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5hZGRSZXNwb25zZUludGVyY2VwdG9yID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciBzdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3BvbnNlLnJlcXVlc3QsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIG9iai5nZXRBeGlvcygpICYmIG9iai5nZXRBeGlvcygpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2Uoc3VjY2VzcywgZXJyb3IpOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93VGlwU3VjY2VzcyA9IGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgICAgb2JqLmdldE1vZGFsKCkgJiYgb2JqLmdldE1vZGFsKCkuc3VjY2Vzcyhtc2cpOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93VGlwRXJyb3IgPSBmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICAgIG9iai5nZXRNb2RhbCgpICYmIG9iai5nZXRNb2RhbCgpLmVycm9yKG1zZyk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFNoYXJlSWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICB2YXIgbWF0Y2ggPSB1cmwubWF0Y2goL3NoYXJlLndlaXl1bi5jb21cLyhbMC05YS16XSspL2kpOwogICAgICAgICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IG51bGw7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFNoYXJlTGluayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmlzUHdkU2hhcmVPcGVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC53ZWl5dW5fc2hhcmVfc3RhdHVzKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0QXhpb3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICghb2JqLmF4aW9zKSB7CiAgICAgICAgICAgICAgICBvYmouYXhpb3MgPSBvYmoubWF0Y2hXZWJwYWNrTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIG5hbWUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlICYmIG1vZHVsZS5BeGlvcykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBvYmouYXhpb3M7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE1vZGFsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoIW9iai5tb2RhbCkgewogICAgICAgICAgICAgICAgb2JqLm1vZGFsID0gb2JqLm1hdGNoV2VicGFja01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZSAmJiBtb2R1bGUuY29uZmlybSAmJiBtb2R1bGUuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBvYmoubW9kYWw7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFN0b3JlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoIW9iai5zdG9yZSkgewogICAgICAgICAgICAgICAgb2JqLnN0b3JlID0gb2JqLm1hdGNoV2VicGFja01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZSAmJiBtb2R1bGUuZGVmYXVsdCAmJiBtb2R1bGUuZGVmYXVsdC5fbW9kdWxlc05hbWVzcGFjZU1hcCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBvYmouc3RvcmU7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLm1hdGNoV2VicGFja01vZHVsZSA9IGZ1bmN0aW9uIChtYXRjaEZ1bmMpIHsKICAgICAgICAgICAgdmFyIG5hbWVzID0gb2JqZWN0LmtleXMob2JqLndlYnBhY2tfcmVxdWlyZS5jKTsKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBuYW1lcykgewogICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBuYW1lc1tpXTsKICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IG1hdGNoRnVuYyhvYmoud2VicGFja19yZXF1aXJlKG5hbWUpLCBuYW1lKTsKICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfbGFuem91cyIsIFsicnVudGltZSIsICJvcHRpb24iLCAibG9nZ2VyIiwgInVuc2FmZV93aW5kb3ciLCAiY29uc3RhbnQiLCAiY29yZSIsICJhcGkiLCAiJCJdLCBmdW5jdGlvbiAocnVudGltZSwgb3B0aW9uLCBsb2dnZXIsIHVuc2FmZVdpbmRvdywgY29uc3RhbnQsIGNvcmUsIGFwaSwgJCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIHZlcmlmeV9wYWdlOiB7CiAgICAgICAgICAgICAgICBzZXRQd2Q6IG51bGwsCiAgICAgICAgICAgICAgICBzaGFyZV9wd2Q6IG51bGwsCiAgICAgICAgICAgICAgICBzdWJtaXRfcHdkOiBudWxsCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdXJsID0gcnVudGltZS5nZXRVcmwoKTsKICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCJsYW56b3VzLmNvbSIpID4gMCkgewogICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5sYW56b3VzX3BhZ2VfdmVyaWZ5KSAmJiBvYmouaW5pdFZlcmlmeVBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRWZXJpZnlQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvYmoucmVnaXN0ZXJTdG9yZVNoYXJlUHdkKCk7CgogICAgICAgICAgICBvYmouaW5pdFZlcmlmeVBhZ2VFbGVtZW50KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG9iai5hdXRvUGFkZGluZ1NoYXJlUHdkKCk7CgogICAgICAgICAgICAgICAgb2JqLnJlZ2lzdGVyUHdkU2hhcmVTd2l0Y2goKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRWZXJpZnlQYWdlRWxlbWVudCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICB2YXIgc2hhcmVJZCA9IG9iai5nZXRTaGFyZUlkKCk7CiAgICAgICAgICAgIHZhciAkcHdkID0gJCgiI3B3ZCIpOwogICAgICAgICAgICBpZiAoc2hhcmVJZCAmJiAkcHdkLmxlbmd0aCkgewoKICAgICAgICAgICAgICAgIC8vIOiuvue9ruWIhuS6q+WvhueggQogICAgICAgICAgICAgICAgb2JqLnZlcmlmeV9wYWdlLnNldFB3ZCA9IGZ1bmN0aW9uIChwd2QpIHsKICAgICAgICAgICAgICAgICAgICAkcHdkLnZhbChwd2QpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAvLyDmj5DkuqTlr4bnoIEKICAgICAgICAgICAgICAgIG9iai52ZXJpZnlfcGFnZS5zdWJtaXRfcHdkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICQoIiNzdWIiKS5jbGljaygpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmluaXRWZXJpZnlQYWdlRWxlbWVudChjYWxsYmFjaykKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouYXV0b1BhZGRpbmdTaGFyZVB3ZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHNoYXJlSWQgPSBvYmouZ2V0U2hhcmVJZCgpOwogICAgICAgICAgICB2YXIgc2hhcmVMaW5rID0gb2JqLmdldFNoYXJlTGluaygpOwogICAgICAgICAgICBhcGkucXVlcnlTaGFyZVB3ZChjb25zdGFudC5zb3VyY2UubGFuem91cywgc2hhcmVJZCwgc2hhcmVMaW5rLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5jb2RlID09IDEpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVQd2QgPSByZXNwb25zZS5kYXRhLnNoYXJlX3B3ZDsKICAgICAgICAgICAgICAgICAgICBvYmoudmVyaWZ5X3BhZ2Uuc2hhcmVfcHdkID0gc2hhcmVQd2Q7CiAgICAgICAgICAgICAgICAgICAgb2JqLnZlcmlmeV9wYWdlLnNldFB3ZChzaGFyZVB3ZCk7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dUaXAoMSwgIuWhq+WFheWvhueggeaIkOWKnyIsIDIwMDApOwoKICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5sYW56b3VzX2F1dG9fanVtcCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnZlcmlmeV9wYWdlLnN1Ym1pdF9wd2QgJiYgb2JqLnZlcmlmeV9wYWdlLnN1Ym1pdF9wd2QoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBvYmouc2hvd1RpcCgwLCAi5pqC5peg5Lq65YiG5Lqr5a+G56CBIiwgMjAwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5yZWdpc3RlclB3ZFNoYXJlU3dpdGNoID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgaHRtbCA9ICc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi10b3A6IDEwcHg7Ij7liIbkuqvorr7nva4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjaGVja2VkIGlkPSJuZC1zaGFyZS1jaGVjayIgc3R5bGU9InZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IiA+IDxhIHN0eWxlPSJjdXJzb3I6IHBvaW50ZXI7IiBjbGFzcz0ibmQtb3Blbi1wYWdlLW9wdGlvbiIgaHJlZj0iamF2YXNjcmlwdDo7IiB0aXRsZT0i54K55Ye75p+l55yL5pu05aSa6ISa5pys6YWN572uIj7lhbHkuqvlr4bnoIE8L2E+PC9kaXY+JzsKICAgICAgICAgICAgaWYgKCQoIi5vZmYiKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICQoIi5vZmYiKS5hZnRlcihodG1sKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICQoIi5wYXNzd2RkaXYtdXNlciIpLmFmdGVyKGh0bWwpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG9iai5pc1B3ZFNoYXJlT3BlbigpIHx8ICQoIiNuZC1zaGFyZS1jaGVjayIpLnJlbW92ZUF0dHIoImNoZWNrZWQiKTsKCiAgICAgICAgICAgIC8vIOW8gOWFsy3kuovku7YKICAgICAgICAgICAgJCgiI25kLXNoYXJlLWNoZWNrIikub24oImNoYW5nZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNldE9wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQubGFuem91c19zaGFyZV9zdGF0dXMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNldE9wdGlvblVuQWN0aXZlKG9wdGlvbi5jb25zdGFudC5sYW56b3VzX3NoYXJlX3N0YXR1cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8g5omT5byA6YWN572u6aG1CiAgICAgICAgICAgICQoIi5uZC1vcGVuLXBhZ2Utb3B0aW9uIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29yZS5vcGVuT3B0aW9uUGFnZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmoucmVnaXN0ZXJTdG9yZVNoYXJlUHdkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB1bnNhZmVXaW5kb3cuJChkb2N1bWVudCkuYWpheENvbXBsZXRlKGZ1bmN0aW9uIChldmVudCwgeGhyLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBvcHRpb25zLmRhdGEubWF0Y2goL3B3ZD0oXHcrKS8pOwogICAgICAgICAgICAgICAgaWYgKCFtYXRjaCkgewogICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IG9wdGlvbnMuZGF0YS5tYXRjaCgvcD0oXHcrKS8pOwogICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2dlci53YXJuKCJwd2Qgc2hhcmUgbm90IG1hdGNoIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBzaGFyZVB3ZCA9IG1hdGNoWzFdOwoKICAgICAgICAgICAgICAgIGlmIChzaGFyZVB3ZCA9PSBvYmoudmVyaWZ5X3BhZ2Uuc2hhcmVfcHdkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2dlci53YXJuKCJwd2Qgc2hhcmUgbm90IGNoYW5nZSIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghb2JqLmlzUHdkU2hhcmVPcGVuKCkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9nZ2VyLndhcm4oInB3ZCBzaGFyZSBjbG9zZWQiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2YXIgc2hhcmVJZCA9IG9iai5nZXRTaGFyZUlkKCk7CiAgICAgICAgICAgICAgICB2YXIgc2hhcmVMaW5rID0gb2JqLmdldFNoYXJlTGluaygpOwogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gb2JqLnBhcnNlSnNvbih4aHIucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnp0ID09IDEgJiYgc2hhcmVQd2QpIHsKICAgICAgICAgICAgICAgICAgICBhcGkuc3RvcmVTaGFyZVB3ZChzaGFyZUlkLCBzaGFyZVB3ZCwgc2hhcmVMaW5rLCBjb25zdGFudC5zb3VyY2UubGFuem91cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybigicHdkIHNoYXJlIGVycm9yIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93VGlwID0gZnVuY3Rpb24gKGNvZGUsIG1zZywgdGltZW91dCkgewogICAgICAgICAgICB2YXIgc2VsZWN0b3I7CiAgICAgICAgICAgIGlmICgkKCIub2ZmIikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBzZWxlY3RvciA9ICIjcHdkZXJyIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gIiNpbmZvIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY29kZSkgewogICAgICAgICAgICAgICAgJChzZWxlY3RvcikuaHRtbCgnPHNwYW4gc3R5bGU9ImNvbG9yOiBncmVlbjsiPicgKyBtc2cgKyAnPC9zcGFuPicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJChzZWxlY3RvcikuaHRtbCgnPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4nICsgbXNnICsgJzwvc3Bhbj4nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICQoc2VsZWN0b3IpLmh0bWwoIiIpOwogICAgICAgICAgICB9LCB0aW1lb3V0KTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0U2hhcmVJZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCIvIilbMV07CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFNoYXJlTGluayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRvcC5sb2NhdGlvbi5ocmVmOwogICAgICAgIH07CgogICAgICAgIG9iai5pc1B3ZFNoYXJlT3BlbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQubGFuem91c19zaGFyZV9zdGF0dXMpOwogICAgICAgIH07CgogICAgICAgIG9iai5wYXJzZUpzb24gPSBmdW5jdGlvbiAoanNvblN0cikgewogICAgICAgICAgICB2YXIganNvbk9iamVjdCA9IHt9OwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKGpzb25TdHIpIHsKICAgICAgICAgICAgICAgICAgICBqc29uT2JqZWN0ID0gSlNPTi5wYXJzZShqc29uU3RyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoZSkgeyB9CiAgICAgICAgICAgIHJldHVybiBqc29uT2JqZWN0OwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfbmV3ZGF5IiwgWyJvYmplY3QiLCAibWV0YSIsICJjb25maWciLCAib3B0aW9uIiwgInJvdXRlciIsICJlbnYiLCAiY29uc3RhbnQiLCAiYXBpIiwgInNoYXJlX2xvZyIsICJjb3JlIiwgIiQiLCAidnVlIl0sIGZ1bmN0aW9uIChvYmplY3QsIG1ldGEsIGNvbmZpZywgb3B0aW9uLCByb3V0ZXIsIGVudiwgY29uc3RhbnQsIGFwaSwgc2hhcmVMb2csIGNvcmUsICQsIHZ1ZSkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKG1ldGEuZXhpc3RNZXRhKCJpbmZvIikpIHsKICAgICAgICAgICAgICAgIG9iai5pbml0SW5mb1BhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKG1ldGEuZXhpc3RNZXRhKCJvcHRpb24iKSkgewogICAgICAgICAgICAgICAgb2JqLmluaXRPcHRpb25QYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChtZXRhLmV4aXN0TWV0YSgic2hhcmUiKSkgewogICAgICAgICAgICAgICAgb2JqLmluaXRTaGFyZVBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKG1ldGEuZXhpc3RNZXRhKCJkZXYiKSkgewogICAgICAgICAgICAgICAgb2JqLmluaXREZXZQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0SW5mb1BhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG5ldyB2dWUoewogICAgICAgICAgICAgICAgZWw6ICIjY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBpbmZvOiBlbnYuZ2V0SW5mbygpCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5pbml0QWRkb25SZWFkeSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdE9wdGlvblBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG5ldyB2dWUoewogICAgICAgICAgICAgICAgZWw6ICIjY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBhcHBfaWQ6IGNvbmZpZy5nZXRDb25maWcoImFwcF9pZCIpLAogICAgICAgICAgICAgICAgICAgIHRlbXBfcGF0aDogY29uZmlnLmdldENvbmZpZygidGVtcF9wYXRoIiksCiAgICAgICAgICAgICAgICAgICAgaW5mbzogZW52LmdldEluZm8oKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb246IG9wdGlvbi5nZXRPcHRpb24oKQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBvYmouaW5pdEFkZG9uUmVhZHkoKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB3YXRjaDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbjogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZXRPcHRpb24odmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICBhcGkubG9nT3B0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBhcHBfaWQ6IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuc2V0Q29uZmlnKCJhcHBfaWQiLCB2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICYmIGFwaS5sb2dPcHRpb24oKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHRlbXBfcGF0aDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5zZXRDb25maWcoInRlbXBfcGF0aCIsIHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgJiYgYXBpLmxvZ09wdGlvbigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBtZXRob2RzOiB7CiAgICAgICAgICAgICAgICAgICAgb3BlblRlbXBQYWdlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKCJodHRwczovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lIy9hbGw/dm1vZGU9bGlzdCZwYXRoPSIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy50ZW1wX3BhdGggPyB0aGlzLnRlbXBfcGF0aCA6ICIvYXBwcy90ZW1wIiksIHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRTaGFyZVBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzaGFyZUxvZ0xpc3QgPSBzaGFyZUxvZy5nZXRTaGFyZUxvZ0xpc3QoKTsKICAgICAgICAgICAgbmV3IHZ1ZSh7CiAgICAgICAgICAgICAgICBlbDogIiNjb250YWluZXIiLAogICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIGluZm86IGVudi5nZXRJbmZvKCksCiAgICAgICAgICAgICAgICAgICAgbGlzdDogW10KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmluaXRBZGRvblJlYWR5KCk7CgogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFNoYXJlTG9nTGlzdCgiYWxsIik7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbWV0aG9kczogewogICAgICAgICAgICAgICAgICAgIHNob3dTaGFyZUxvZ0xpc3Q6IGZ1bmN0aW9uIChzb3VyY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiLmFtLW5hdi10YWJzIC5hbS1hY3RpdmUiKS5yZW1vdmVDbGFzcygiYW0tYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIi5zb3VyY2UtIiArIHNvdXJjZSkuYWRkQ2xhc3MoImFtLWFjdGl2ZSIpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRTaGFyZUxvZ0xpc3Qoc291cmNlKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGxvYWRTaGFyZUxvZ0xpc3Q6IGZ1bmN0aW9uIChzb3VyY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ID0gdGhpcy5wcm9jZXNzU2hhcmVMb2dMaXN0KHNvdXJjZSk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU2hhcmVMb2dMaXN0OiBmdW5jdGlvbiAoc291cmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJTaGFyZUxvZ0xpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmtleXMoc2hhcmVMb2dMaXN0KS5mb3JFYWNoKGZ1bmN0aW9uIChzaGFyZUlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHNoYXJlTG9nTGlzdFtzaGFyZUlkXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgPT0gImFsbCIgfHwgc291cmNlID09IGl0ZW0uc2hhcmVfc291cmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyU2hhcmVMb2dMaXN0LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZV9pZDogc2hhcmVJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVfcHdkOiBpdGVtLnNoYXJlX3B3ZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVfbGluazogc2hhcmVMb2cuYnVpbGRTaGFyZUxpbmsoc2hhcmVJZCwgaXRlbS5zaGFyZV9zb3VyY2UsIGl0ZW0uc2hhcmVfbGluayksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlX3RpbWU6IHNoYXJlTG9nLmJ1aWxkU2hhcmVUaW1lKGl0ZW0uc2hhcmVfdGltZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZV90aW1lOiBpdGVtLnNoYXJlX3RpbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJTaGFyZUxvZ0xpc3Quc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIuY3JlYXRlX3RpbWUgLSBhLmNyZWF0ZV90aW1lOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RGV2UGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiI2Rldi1hZGRvbi1pbmZvIikudmFsKEpTT04uc3RyaW5naWZ5KGVudi5nZXRJbmZvKCkpKTsKCiAgICAgICAgICAgICQoIi5kZXYtb3Blbi1wYWdlLW9wdGlvbiIpLmFkZENsYXNzKCJuZC1vcGVuLXBhZ2Utb3B0aW9uIikucmVtb3ZlQ2xhc3MoImRldi1vcGVuLXBhZ2Utb3B0aW9uIik7CiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCJjbGljayIsICIubmQtb3Blbi1wYWdlLW9wdGlvbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGNvcmUub3Blbk9wdGlvblBhZ2UoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRBZGRvblJlYWR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCJib2R5IikuYWRkQ2xhc3MoIm5kLWFkZG9uLXJlYWR5Iik7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcCIsIFsicnVudGltZSIsICJhZGRvbiIsICJsb2dnZXIiLCAibWV0YSIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBhZGRvbiwgbG9nZ2VyLCBtZXRhLCAkLCByZXF1aXJlKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbWV0YU5hbWUgPSAic3RhdHVzIjsKICAgICAgICAgICAgaWYgKG1ldGEuZXhpc3RNZXRhKG1ldGFOYW1lKSkgewogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oInNldHVwIGFscmVhZHkiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChhZGRvbi5pc0VuYWJsZSgpKSB7CiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygic2V0dXAgc3VjY2VzcyIpOwoKICAgICAgICAgICAgICAgIC8vIOa3u+WKoG1ldGEKICAgICAgICAgICAgICAgIG1ldGEuYXBwZW5kTWV0YShtZXRhTmFtZSk7CgogICAgICAgICAgICAgICAgLy8g6L+Q6KGM5bqU55SoCiAgICAgICAgICAgICAgICAkKG9iai5ydW5BcHApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oImFkZG9uIGRpc2FibGVkIik7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0QXBwTGlzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX2JhaWR1IiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgImJhaWR1LmNvbSIKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfd2VpeXVuIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgIndlaXl1bi5jb20iCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX2xhbnpvdXMiLAogICAgICAgICAgICAgICAgICAgIG1hdGNoczogWwogICAgICAgICAgICAgICAgICAgICAgICAibGFuem91cy5jb20iCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX25ld2RheSIsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICIqIgogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXTsKICAgICAgICB9OwoKICAgICAgICBvYmoucnVuQXBwID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdXJsID0gcnVudGltZS5nZXRVcmwoKTsKICAgICAgICAgICAgbG9nZ2VyLmluZm8odXJsKTsKCiAgICAgICAgICAgIHZhciBhcHBMaXN0ID0gb2JqLmdldEFwcExpc3QoKTsKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBhcHBMaXN0KSB7CiAgICAgICAgICAgICAgICB2YXIgYXBwID0gYXBwTGlzdFtpXTsKICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhhcHApOwoKICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IG9iai5tYXRjaEFwcCh1cmwsIGFwcCk7CiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoIm1hdGNoICIgKyAobWF0Y2ggPyAieWVzIiA6ICJubyIpKTsKCiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygicnVuICIgKyBhcHAubmFtZSk7CiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZShhcHAubmFtZSkucnVuKCkgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLm1hdGNoQXBwID0gZnVuY3Rpb24gKHVybCwgYXBwKSB7CiAgICAgICAgICAgIHZhciBtYXRjaCA9IGZhbHNlOwogICAgICAgICAgICBhcHAubWF0Y2hzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZihpdGVtKSA+IDAgfHwgaXRlbSA9PSAiKiIpIHsKICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gbWF0Y2g7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIC8vIGxpYgogICAgY29udGFpbmVyLmRlZmluZSgiJCIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy4kOwogICAgfSk7CiAgICBjb250YWluZXIuZGVmaW5lKCJzbmFwIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodHlwZW9mIFNuYXAgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgcmV0dXJuIFNuYXA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gd2luZG93LlNuYXA7CiAgICAgICAgfQogICAgfSk7CiAgICBjb250YWluZXIuZGVmaW5lKCJ2dWUiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB3aW5kb3cuVnVlOwogICAgfSk7CgogICAgY29udGFpbmVyLnVzZShbImdtIiwgImNvcmUiLCAiYXBwIiwgImxvZ2dlciIsICJzaGFyZV9sb2ciXSwgZnVuY3Rpb24gKGdtLCBjb3JlLCBhcHAsIGxvZ2dlciwgc2hhcmVMb2cpIHsKICAgICAgICBnbS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIOaXpeW/l+e6p+WIqwogICAgICAgICAgICBsb2dnZXIuc2V0TGV2ZWwobG9nZ2VyLmNvbnN0YW50LmluZm8pOwoKICAgICAgICAgICAgY29yZS5yZWFkeShhcHAucnVuKTsKICAgICAgICB9KTsKICAgIH0pOwoKfTsKCnZhciBhcHBZaGcgPSBmdW5jdGlvbiAoKSB7CiAgICAKICAgIHZhciBpbmplY3RDb25maWcgPSB7CiAgICAgICAgbmFtZTogInloZyIsCiAgICAgICAgdmVyc2lvbjogIjEuMy40IiwKICAgICAgICBhZGRvbjogewogICAgICAgICAgICBvcHRpb25zX3BhZ2U6ICIvcGFnZS95aGcvb3B0aW9uLmh0bWwiCiAgICAgICAgfSwKICAgICAgICBzY3JpcHQ6IHsKICAgICAgICAgICAgb3B0aW9uc19wYWdlOiAiaHR0cDovL3RiLm5ld2RheS5tZS9zY3JpcHQvb3B0aW9uLmh0bWwiCiAgICAgICAgfQogICAgfTsKCiAgICB2YXIgY29udGFpbmVyID0gKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICBtb2R1bGVfZGVmaW5lczoge30sCiAgICAgICAgICAgIG1vZHVsZV9vYmplY3RzOiB7fQogICAgICAgIH07CgogICAgICAgIG9iai5kZWZpbmUgPSBmdW5jdGlvbiAobmFtZSwgcmVxdWlyZXMsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgIG9iai5tb2R1bGVfZGVmaW5lc1tuYW1lXSA9IHsKICAgICAgICAgICAgICAgIHJlcXVpcmVzOiByZXF1aXJlcywKICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjawogICAgICAgICAgICB9OwogICAgICAgIH07CgogICAgICAgIG9iai5yZXF1aXJlID0gZnVuY3Rpb24gKG5hbWUsIGNhY2hlKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FjaGUgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIGNhY2hlID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbmFtZSA9IG9iai5wcm9jZXNzTmFtZShuYW1lKTsKICAgICAgICAgICAgaWYgKGNhY2hlICYmIG9iai5tb2R1bGVfb2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5tb2R1bGVfb2JqZWN0c1tuYW1lXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChvYmoubW9kdWxlX2RlZmluZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHsKICAgICAgICAgICAgICAgIHZhciByZXF1aXJlcyA9IG9iai5tb2R1bGVfZGVmaW5lc1tuYW1lXS5yZXF1aXJlczsKICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IG9iai5tb2R1bGVfZGVmaW5lc1tuYW1lXS5jYWxsYmFjazsKCiAgICAgICAgICAgICAgICB2YXIgbW9kdWxlID0gb2JqLnVzZShyZXF1aXJlcywgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgY2FjaGUgJiYgb2JqLnJlZ2lzdGVyKG5hbWUsIG1vZHVsZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnVzZSA9IGZ1bmN0aW9uIChyZXF1aXJlcywgY2FsbGJhY2spIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHsKICAgICAgICAgICAgICAgIGV4cG9ydHM6IHt9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBvYmouYnVpbGRQYXJhbXMocmVxdWlyZXMsIG1vZHVsZSk7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjay5hcHBseSh0aGlzLCBwYXJhbXMpOwogICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGUuZXhwb3J0czsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5yZWdpc3RlciA9IGZ1bmN0aW9uIChuYW1lLCBtb2R1bGUpIHsKICAgICAgICAgICAgbmFtZSA9IG9iai5wcm9jZXNzTmFtZShuYW1lKTsKICAgICAgICAgICAgb2JqLm1vZHVsZV9vYmplY3RzW25hbWVdID0gbW9kdWxlOwogICAgICAgIH07CgogICAgICAgIG9iai5idWlsZFBhcmFtcyA9IGZ1bmN0aW9uIChyZXF1aXJlcywgbW9kdWxlKSB7CiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbXTsKICAgICAgICAgICAgcmVxdWlyZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICAgICAgcGFyYW1zLnB1c2gob2JqLnJlcXVpcmUobmFtZSkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcGFyYW1zLnB1c2gob2JqLnJlcXVpcmUpOwogICAgICAgICAgICBwYXJhbXMucHVzaChtb2R1bGUuZXhwb3J0cyk7CiAgICAgICAgICAgIHBhcmFtcy5wdXNoKG1vZHVsZSk7CiAgICAgICAgICAgIHJldHVybiBwYXJhbXM7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnByb2Nlc3NOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkZWZpbmU6IG9iai5kZWZpbmUsCiAgICAgICAgICAgIHVzZTogb2JqLnVzZSwKICAgICAgICAgICAgcmVnaXN0ZXI6IG9iai5yZWdpc3RlciwKICAgICAgICAgICAgbW9kdWxlczogb2JqLm1vZHVsZV9vYmplY3RzCiAgICAgICAgfTsKICAgIH0pKCk7CgogICAgY29udGFpbmVyLmRlZmluZSgiZ20iLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJlYWR5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgR01fZ2V0VmFsdWUgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBvYmoucmVhZHkoY2FsbGJhY2spOwogICAgICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJydW50aW1lIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICB1cmw6IGxvY2F0aW9uLmhyZWYsCiAgICAgICAgICAgIHJlZmVyZXI6IGRvY3VtZW50LnJlZmVycmVyLAogICAgICAgIH07CgogICAgICAgIG9iai5nZXRVcmwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBvYmoudXJsOwogICAgICAgIH07CgogICAgICAgIG9iai5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgIG9iai51cmwgPSB1cmw7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFJlZmVyZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBvYmoucmVmZXJlcjsKICAgICAgICB9OwoKICAgICAgICBvYmouc2V0UmVmZXJlciA9IGZ1bmN0aW9uIChyZWZlcmVyKSB7CiAgICAgICAgICAgIG9iai5yZWZlcmVyID0gcmVmZXJlcjsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0VXJsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICB2YXIgcGFyYW0gPSBvYmoucGFyc2VVcmxQYXJhbShvYmouZ2V0VXJsKCkpOwogICAgICAgICAgICBpZiAobmFtZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtLmhhc093blByb3BlcnR5KG5hbWUpID8gcGFyYW1bbmFtZV0gOiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnBhcnNlVXJsUGFyYW0gPSBmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigiPyIpKSB7CiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuc3BsaXQoIj8iKVsxXTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgcmVnID0gLyhbXj0mXHNdKylbPVxzXSooW149JlxzXSopL2c7CiAgICAgICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgICAgd2hpbGUgKHJlZy5leGVjKHVybCkpIHsKICAgICAgICAgICAgICAgIG9ialtSZWdFeHAuJDFdID0gUmVnRXhwLiQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBvYmo7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoIm9iamVjdCIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoua2V5cyA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHZhciBsaXN0ID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7CiAgICAgICAgICAgICAgICBsaXN0LnB1c2goa2V5KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbGlzdDsKICAgICAgICB9OwoKICAgICAgICBvYmoudmFsdWVzID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgdmFyIGxpc3QgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgICAgICAgIGxpc3QucHVzaChkYXRhW2tleV0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBsaXN0OwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJzdG9yYWdlIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5nZXRWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lLCBkZWZhdWx0VmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIEdNX2dldFZhbHVlKG5hbWUsIGRlZmF1bHRWYWx1ZSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldFZhbHVlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKG5hbWUsIHZhbHVlKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0VmFsdWVMaXN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbmFtZUxpc3QgPSBHTV9saXN0VmFsdWVzKCk7CiAgICAgICAgICAgIHZhciB2YWx1ZUxpc3QgPSB7fTsKICAgICAgICAgICAgbmFtZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICAgICAgdmFsdWVMaXN0W25hbWVdID0gb2JqLmdldFZhbHVlKG5hbWUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlTGlzdDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYWRkb24iLCBbInN0b3JhZ2UiLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKHN0b3JhZ2UsIGNvbnN0YW50KSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbmFtZTogY29uc3RhbnQubmFtZSArICJfc3RhdHVzIgogICAgICAgIH07CgogICAgICAgIG9iai5pc0VuYWJsZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHN0b3JhZ2UuZ2V0VmFsdWUob2JqLm5hbWUpID09ICJvZmYiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJjb25maWciLCBbInN0b3JhZ2UiLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKHN0b3JhZ2UsIGNvbnN0YW50KSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbmFtZTogImNvbmZpZ19qc29uIgogICAgICAgIH07CgogICAgICAgIG9iai5nZXRDb25maWcgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICB2YXIgY29uZmlnSnNvbiA9IHN0b3JhZ2UuZ2V0VmFsdWUob2JqLm5hbWUpOwogICAgICAgICAgICB2YXIgY29uZmlnT2JqZWN0ID0gb2JqLnBhcnNlSnNvbihjb25maWdKc29uKTsKICAgICAgICAgICAgaWYgKG5hbWUpIHsKICAgICAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnT2JqZWN0Lmhhc093blByb3BlcnR5KG5hbWUpID8gY29uZmlnT2JqZWN0W25hbWVdIDogbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBjb25maWdPYmplY3Q7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouc2V0Q29uZmlnID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgIHZhciBjb25maWdPYmplY3QgPSBvYmouZ2V0Q29uZmlnKCk7CiAgICAgICAgICAgIGNvbmZpZ09iamVjdFtvYmoucHJvY2Vzc05hbWUobmFtZSldID0gdmFsdWU7CiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUob2JqLm5hbWUsIEpTT04uc3RyaW5naWZ5KGNvbmZpZ09iamVjdCkpOwogICAgICAgIH07CgogICAgICAgIG9iai5wYXJzZUpzb24gPSBmdW5jdGlvbiAoanNvblN0cikgewogICAgICAgICAgICB2YXIganNvbk9iamVjdCA9IHt9OwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKGpzb25TdHIpIHsKICAgICAgICAgICAgICAgICAgICBqc29uT2JqZWN0ID0gSlNPTi5wYXJzZShqc29uU3RyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoZSkgeyB9CiAgICAgICAgICAgIHJldHVybiBqc29uT2JqZWN0OwogICAgICAgIH07CgogICAgICAgIG9iai5wcm9jZXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBjb25zdGFudC5uYW1lICsgIl8iICsgbmFtZTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgib3B0aW9uIiwgWyJjb25maWciLCAiY29uc3RhbnQiLCAib2JqZWN0Il0sIGZ1bmN0aW9uIChjb25maWcsIGNvbnN0YW50LCBvYmplY3QpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICBuYW1lOiAib3B0aW9uIiwKICAgICAgICAgICAgY29uc3RhbnQ6IGNvbnN0YW50Lm9wdGlvbgogICAgICAgIH07CgogICAgICAgIG9iai5pc09wdGlvbkFjdGl2ZSA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbS5uYW1lOwogICAgICAgICAgICB2YXIgb3B0aW9uID0gb2JqLmdldE9wdGlvbigpOwogICAgICAgICAgICByZXR1cm4gb3B0aW9uLmluZGV4T2YobmFtZSkgPj0gMCA/IHRydWUgOiBmYWxzZTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2V0T3B0aW9uQWN0aXZlID0gZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgdmFyIG5hbWUgPSBpdGVtLm5hbWU7CiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvYmouZ2V0T3B0aW9uKCk7CiAgICAgICAgICAgIGlmIChvcHRpb24uaW5kZXhPZihuYW1lKSA8IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5wdXNoKG5hbWUpOwogICAgICAgICAgICAgICAgb2JqLnNldE9wdGlvbihvcHRpb24pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldE9wdGlvblVuQWN0aXZlID0gZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgdmFyIG5hbWUgPSBpdGVtLm5hbWU7CiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvYmouZ2V0T3B0aW9uKCk7CiAgICAgICAgICAgIHZhciBpbmRleCA9IG9wdGlvbi5pbmRleE9mKG5hbWUpOwogICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkgewogICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbltpbmRleF07CiAgICAgICAgICAgICAgICBvYmouc2V0T3B0aW9uKG9wdGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0T3B0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgb3B0aW9uID0gW107CiAgICAgICAgICAgIHZhciBvcHRpb25PYmplY3QgPSBvYmouZ2V0T3B0aW9uT2JqZWN0KCk7CiAgICAgICAgICAgIG9iamVjdC52YWx1ZXMob2JqLmNvbnN0YW50KS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25PYmplY3QuaGFzT3duUHJvcGVydHkobmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uT2JqZWN0W25hbWVdICE9ICJubyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnB1c2gobmFtZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS52YWx1ZSAhPSAibm8iKSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnB1c2gobmFtZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gb3B0aW9uOwogICAgICAgIH07CgogICAgICAgIG9iai5zZXRPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgICAgIHZhciBvcHRpb25PYmplY3QgPSB7fTsKICAgICAgICAgICAgb2JqZWN0LnZhbHVlcyhvYmouY29uc3RhbnQpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbS5uYW1lOwogICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5pbmRleE9mKG5hbWUpID49IDApIHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25PYmplY3RbbmFtZV0gPSAieWVzIjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uT2JqZWN0W25hbWVdID0gIm5vIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG9iai5zZXRPcHRpb25PYmplY3Qob3B0aW9uT2JqZWN0KTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0T3B0aW9uT2JqZWN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgb3B0aW9uT2JqZWN0ID0gY29uZmlnLmdldENvbmZpZyhvYmoubmFtZSk7CiAgICAgICAgICAgIHJldHVybiBvcHRpb25PYmplY3QgPyBvcHRpb25PYmplY3QgOiB7fTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2V0T3B0aW9uT2JqZWN0ID0gZnVuY3Rpb24gKG9wdGlvbk9iamVjdCkgewogICAgICAgICAgICBjb25maWcuc2V0Q29uZmlnKG9iai5uYW1lLCBvcHRpb25PYmplY3QpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJtb2RlIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICBjb25zdGFudDogewogICAgICAgICAgICAgICAgYWRkb246ICJhZGRvbiIsCiAgICAgICAgICAgICAgICBzY3JpcHQ6ICJzY3JpcHQiCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0TW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKEdNX2luZm8uYWRkb24pIHsKICAgICAgICAgICAgICAgIHJldHVybiBvYmouY29uc3RhbnQuYWRkb247CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLmNvbnN0YW50LnNjcmlwdDsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJ1c2VyIiwgWyJzdG9yYWdlIl0sIGZ1bmN0aW9uIChzdG9yYWdlKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouZ2V0VWlkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdWlkID0gc3RvcmFnZS5nZXRWYWx1ZSgidWlkIik7CiAgICAgICAgICAgIGlmICghdWlkKSB7CiAgICAgICAgICAgICAgICB1aWQgPSBvYmoucmFuZFN0cmluZygzMik7CiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldFZhbHVlKCJ1aWQiLCB1aWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB1aWQ7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJhbmRTdHJpbmcgPSBmdW5jdGlvbiAobGVuZ3RoKSB7CiAgICAgICAgICAgIHZhciBwb3NzaWJsZSA9ICJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiOwogICAgICAgICAgICB2YXIgdGV4dCA9ICIiOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYnJvd3NlciIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgY29uc3RhbnQ6IHsKICAgICAgICAgICAgICAgIGZpcmVmb3g6ICJmaXJlZm94IiwKICAgICAgICAgICAgICAgIGVkZ2U6ICJlZGdlIiwKICAgICAgICAgICAgICAgIGJhaWR1OiAiYmFpZHUiLAogICAgICAgICAgICAgICAgbGllYmFvOiAibGllYmFvIiwKICAgICAgICAgICAgICAgIHVjOiAidWMiLAogICAgICAgICAgICAgICAgcXE6ICJxcSIsCiAgICAgICAgICAgICAgICBzb2dvdTogInNvZ291IiwKICAgICAgICAgICAgICAgIG9wZXJhOiAib3BlcmEiLAogICAgICAgICAgICAgICAgbWF4dGhvbjogIm1heHRob24iLAogICAgICAgICAgICAgICAgaWUyMzQ1OiAiMjM0NSIsCiAgICAgICAgICAgICAgICBzZTM2MDogIjM2MCIsCiAgICAgICAgICAgICAgICBjaHJvbWU6ICJjaHJvbWUiLAogICAgICAgICAgICAgICAgc2FmYXJpOiAic2FmYXJpIiwKICAgICAgICAgICAgICAgIG90aGVyOiAib3RoZXIiCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0QnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG9iai5tYXRjaEJyb3dzZXJUeXBlKG5hdmlnYXRvci51c2VyQWdlbnQpOwogICAgICAgIH07CgogICAgICAgIG9iai5tYXRjaEJyb3dzZXJUeXBlID0gZnVuY3Rpb24gKHVzZXJBZ2VudCkgewogICAgICAgICAgICB2YXIgYnJvd3NlciA9IG9iai5jb25zdGFudC5vdGhlcjsKICAgICAgICAgICAgdXNlckFnZW50ID0gdXNlckFnZW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIGlmICh1c2VyQWdlbnQubWF0Y2goL2ZpcmVmb3gvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmZpcmVmb3g7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9lZGdlLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5lZGdlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvYmlkdWJyb3dzZXIvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmJhaWR1OwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvbGJicm93c2VyLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5saWViYW87CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC91YnJvd3Nlci8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQudWM7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9xcWJyb3dzZS8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQucXE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9tZXRhc3IvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LnNvZ291OwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvb3ByLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5vcGVyYTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL21heHRob24vKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50Lm1heHRob247CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC8yMzQ1ZXhwbG9yZXIvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmllMjM0NTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL2Nocm9tZS8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGlmIChvYmouZXhpc3RNaW1lKCJ0eXBlIiwgImFwcGxpY2F0aW9uL3ZuZC5jaHJvbWl1bS5yZW1vdGluZy12aWV3ZXIiKSkgewogICAgICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQuc2UzNjA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQuY2hyb21lOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvc2FmYXJpLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5zYWZhcmk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXI7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmV4aXN0TWltZSA9IGZ1bmN0aW9uIChvcHRpb24sIHZhbHVlKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICB2YXIgbWltZVR5cGVzID0gbmF2aWdhdG9yLm1pbWVUeXBlczsKICAgICAgICAgICAgICAgIGZvciAodmFyIG10IGluIG1pbWVUeXBlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChtaW1lVHlwZXNbbXRdW29wdGlvbl0gPT0gdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiZW52IiwgWyJtb2RlIiwgInVzZXIiLCAiYnJvd3NlciIsICJjb25zdGFudCJdLCBmdW5jdGlvbiAobW9kZSwgdXNlciwgYnJvd3NlciwgY29uc3RhbnQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5pc0FkZG9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAobW9kZS5nZXRNb2RlKCkgPT0gbW9kZS5jb25zdGFudC5hZGRvbikgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaXNJbmplY3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChvYmouaXNBZGRvbigpKSB7CiAgICAgICAgICAgICAgICBpZiAoR01faW5mby5hZGRvbi5uYW1lICE9IGNvbnN0YW50Lm5hbWUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIChHTV9pbmZvLnNjcmlwdC5hbGlhcyAmJiBHTV9pbmZvLnNjcmlwdC5hbGlhcyAhPSBjb25zdGFudC5uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0TW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG1vZGUuZ2V0TW9kZSgpOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRBaWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChHTV9pbmZvLmFkZG9uICYmIEdNX2luZm8uYWRkb24uaWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBHTV9pbmZvLmFkZG9uLmlkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKEdNX2luZm8uc2NyaXB0SGFuZGxlcikgewogICAgICAgICAgICAgICAgcmV0dXJuIEdNX2luZm8uc2NyaXB0SGFuZGxlci50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuICJ1bmtub3duIjsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5nZXRVaWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB1c2VyLmdldFVpZCgpOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRWZXJzaW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAob2JqLmlzSW5qZWN0KCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RDb25maWcudmVyc2lvbjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBHTV9pbmZvLnNjcmlwdC52ZXJzaW9uOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldEJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmdldEJyb3dzZXIoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0SW5mbyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIG1vZGU6IG9iai5nZXRNb2RlKCksCiAgICAgICAgICAgICAgICBhaWQ6IG9iai5nZXRBaWQoKSwKICAgICAgICAgICAgICAgIHVpZDogb2JqLmdldFVpZCgpLAogICAgICAgICAgICAgICAgdmVyc2lvbjogb2JqLmdldFZlcnNpb24oKSwKICAgICAgICAgICAgICAgIGJyb3dzZXI6IG9iai5nZXRCcm93c2VyKCkKICAgICAgICAgICAgfTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiaHR0cCIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouYWpheCA9IGZ1bmN0aW9uIChvcHRpb24pIHsKICAgICAgICAgICAgdmFyIGRldGFpbHMgPSB7CiAgICAgICAgICAgICAgICBtZXRob2Q6IG9wdGlvbi50eXBlLAogICAgICAgICAgICAgICAgdXJsOiBvcHRpb24udXJsLAogICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiBvcHRpb24uZGF0YVR5cGUsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICBvcHRpb24uc3VjY2VzcyAmJiBvcHRpb24uc3VjY2VzcyhyZXN1bHQucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICBvcHRpb24uZXJyb3IgJiYgb3B0aW9uLmVycm9yKHJlc3VsdC5lcnJvcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvLyDmj5DkuqTmlbDmja4KICAgICAgICAgICAgaWYgKG9wdGlvbi5kYXRhKSB7CiAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmRhdGEgaW5zdGFuY2VvZiBGb3JtRGF0YSkgewogICAgICAgICAgICAgICAgICAgIGRldGFpbHMuZGF0YSA9IG9wdGlvbi5kYXRhOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBvcHRpb24uZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoaSwgb3B0aW9uLmRhdGFbaV0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkZXRhaWxzLmRhdGEgPSBmb3JtRGF0YTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g6Ieq5a6a5LmJ5aS0CiAgICAgICAgICAgIGlmIChvcHRpb24uaGVhZGVycykgewogICAgICAgICAgICAgICAgZGV0YWlscy5oZWFkZXJzID0gb3B0aW9uLmhlYWRlcnM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOi2heaXtgogICAgICAgICAgICBpZiAob3B0aW9uLnRpbWVvdXQpIHsKICAgICAgICAgICAgICAgIGRldGFpbHMudGltZW91dCA9IG9wdGlvbi50aW1lb3V0OwogICAgICAgICAgICB9CgogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdChkZXRhaWxzKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgicm91dGVyIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5nb1VybCA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgb2JqLnJ1bkNvZGUoJ2xvY2F0aW9uLmhyZWYgPSAiJyArIHVybCArICciOycpOwogICAgICAgIH07CgogICAgICAgIG9iai5vcGVuVXJsID0gZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICBvYmoucnVuQ29kZSgnd2luZG93Lm9wZW4oIicgKyB1cmwgKyAnIik7Jyk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLm9wZW5UYWIgPSBmdW5jdGlvbiAodXJsLCBhY3RpdmUpIHsKICAgICAgICAgICAgR01fb3BlbkluVGFiKHVybCwgIWFjdGl2ZSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJ1bkNvZGUgPSBmdW5jdGlvbiAoc2NyaXB0KSB7CiAgICAgICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGRvY3VtZW50Lmxvb2t1cE5hbWVzcGFjZVVSSShudWxsKSB8fCAiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsICJzY3JpcHQiKTsKICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHNjcmlwdDsKICAgICAgICAgICAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQpLmFwcGVuZENoaWxkKG5vZGUpOwogICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSkKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgibG9nZ2VyIiwgWyJlbnYiLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKGVudiwgY29uc3RhbnQpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICBsZXZlbDogMywKICAgICAgICAgICAgY29uc3RhbnQ6IHsKICAgICAgICAgICAgICAgIGRlYnVnOiAwLAogICAgICAgICAgICAgICAgaW5mbzogMSwKICAgICAgICAgICAgICAgIHdhcm46IDIsCiAgICAgICAgICAgICAgICBlcnJvcjogMwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmRlYnVnID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICAgICAgb2JqLmxvZyhtZXNzYWdlLCBvYmouY29uc3RhbnQuZGVidWcpOwogICAgICAgIH07CgogICAgICAgIG9iai5pbmZvID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICAgICAgb2JqLmxvZyhtZXNzYWdlLCBvYmouY29uc3RhbnQuaW5mbyk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLndhcm4gPSBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgICAgICBvYmoubG9nKG1lc3NhZ2UsIG9iai5jb25zdGFudC53YXJuKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgICAgICBvYmoubG9nKG1lc3NhZ2UsIG9iai5jb25zdGFudC5lcnJvcik7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmxvZyA9IGZ1bmN0aW9uIChtZXNzYWdlLCBsZXZlbCkgewogICAgICAgICAgICBpZiAobGV2ZWwgPCBvYmoubGV2ZWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5ncm91cCgiWyIgKyBjb25zdGFudC5uYW1lICsgIl0iICsgZW52LmdldE1vZGUoKSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpOwogICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldExldmVsID0gZnVuY3Rpb24gKGxldmVsKSB7CiAgICAgICAgICAgIG9iai5sZXZlbCA9IGxldmVsOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJtZXRhIiwgWyJjb25zdGFudCIsICIkIl0sIGZ1bmN0aW9uIChjb25zdGFudCwgJCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmV4aXN0TWV0YSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgIGlmICgkKCJtZXRhW25hbWU9JyIgKyBuYW1lICsgIiddIikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5hcHBlbmRNZXRhID0gZnVuY3Rpb24gKG5hbWUsIGNvbnRlbnQpIHsKICAgICAgICAgICAgbmFtZSA9IG9iai5wcm9jZXNzTmFtZShuYW1lKTsKICAgICAgICAgICAgY29udGVudCB8fCAoY29udGVudCA9ICJvbiIpOwogICAgICAgICAgICAkKCc8bWV0YSBuYW1lPSInICsgbmFtZSArICciIGNvbnRlbnQ9Im9uIj4nKS5hcHBlbmRUbygkKCJoZWFkIikpOwogICAgICAgIH07CgogICAgICAgIG9iai5wcm9jZXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBjb25zdGFudC5uYW1lICsgIjo6IiArIG5hbWU7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoInVuc2FmZV93aW5kb3ciLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0eXBlb2YgdW5zYWZlV2luZG93ID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIHJldHVybiB3aW5kb3c7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdW5zYWZlV2luZG93OwogICAgICAgIH0KICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoInN2Z19jcnlwdCIsIFsic25hcCJdLCBmdW5jdGlvbiAoc25hcCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmdldFJlcURhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciByZXFUaW1lID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApOwogICAgICAgICAgICB2YXIgcmVxUG9pbnQgPSBvYmouZ2V0U3RyUG9pbnQoInRpbWVzdGFtcDoiICsgcmVxVGltZSk7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByZXFfdGltZTogcmVxVGltZSwKICAgICAgICAgICAgICAgIHJlcV9wb2ludDogcmVxUG9pbnQKICAgICAgICAgICAgfTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0U3RyUG9pbnQgPSBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoIDwgMikgewogICAgICAgICAgICAgICAgcmV0dXJuICIwOjAiOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgcGF0aCA9ICIiOwogICAgICAgICAgICB2YXIgY3VycmVudCwgbGFzdCA9IHN0clswXS5jaGFyQ29kZUF0KCk7CiAgICAgICAgICAgIHZhciBzdW0gPSBsYXN0OwogICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHN0ci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgY3VycmVudCA9IHN0cltpXS5jaGFyQ29kZUF0KCk7CiAgICAgICAgICAgICAgICBpZiAoaSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHBhdGggKyAiTSI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoICsgIiBMIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoICsgY3VycmVudCArICIgIiArIGxhc3Q7CiAgICAgICAgICAgICAgICBsYXN0ID0gY3VycmVudDsKICAgICAgICAgICAgICAgIHN1bSA9IHN1bSArIGN1cnJlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcGF0aCA9IHBhdGggKyAiIFoiOwogICAgICAgICAgICB2YXIgaW5kZXggPSBzdW0gJSBzdHIubGVuZ3RoOwogICAgICAgICAgICB2YXIgZGF0YSA9IHNuYXAucGF0aC5nZXRQb2ludEF0TGVuZ3RoKHBhdGgsIHN0cltpbmRleF0uY2hhckNvZGVBdCgpKTsKICAgICAgICAgICAgcmV0dXJuIGRhdGEubS54ICsgIjoiICsgZGF0YS5uLnk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImNhbGVuZGFyIiwgWyJvYmplY3QiXSwgZnVuY3Rpb24gKG9iamVjdCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmZvcm1hdFRpbWUgPSBmdW5jdGlvbiAodGltZXN0YW1wLCBmb3JtYXQpIHsKICAgICAgICAgICAgdGltZXN0YW1wIHx8ICh0aW1lc3RhbXAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpKTsKICAgICAgICAgICAgZm9ybWF0IHx8IChmb3JtYXQgPSAiWS1tLWQgSDppOnMiKTsKICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApOwogICAgICAgICAgICB2YXIgeWVhciA9IDE5MDAgKyBkYXRlLmdldFllYXIoKTsKICAgICAgICAgICAgdmFyIG1vbnRoID0gIjAiICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpOwogICAgICAgICAgICB2YXIgZGF5ID0gIjAiICsgZGF0ZS5nZXREYXRlKCk7CiAgICAgICAgICAgIHZhciBob3VyID0gIjAiICsgZGF0ZS5nZXRIb3VycygpOwogICAgICAgICAgICB2YXIgbWludXRlID0gIjAiICsgZGF0ZS5nZXRNaW51dGVzKCk7CiAgICAgICAgICAgIHZhciBzZWNvbmQgPSAiMCIgKyBkYXRlLmdldFNlY29uZHMoKTsKICAgICAgICAgICAgdmFyIHZhcnMgPSB7CiAgICAgICAgICAgICAgICAiWSI6IHllYXIsCiAgICAgICAgICAgICAgICAibSI6IG1vbnRoLnN1YnN0cmluZyhtb250aC5sZW5ndGggLSAyLCBtb250aC5sZW5ndGgpLAogICAgICAgICAgICAgICAgImQiOiBkYXkuc3Vic3RyaW5nKGRheS5sZW5ndGggLSAyLCBkYXkubGVuZ3RoKSwKICAgICAgICAgICAgICAgICJIIjogaG91ci5zdWJzdHJpbmcoaG91ci5sZW5ndGggLSAyLCBob3VyLmxlbmd0aCksCiAgICAgICAgICAgICAgICAiaSI6IG1pbnV0ZS5zdWJzdHJpbmcobWludXRlLmxlbmd0aCAtIDIsIG1pbnV0ZS5sZW5ndGgpLAogICAgICAgICAgICAgICAgInMiOiBzZWNvbmQuc3Vic3RyaW5nKHNlY29uZC5sZW5ndGggLSAyLCBzZWNvbmQubGVuZ3RoKQogICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm4gb2JqLnJlcGxhY2VWYXJzKHZhcnMsIGZvcm1hdCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJlcGxhY2VWYXJzID0gZnVuY3Rpb24gKHZhcnMsIHZhbHVlKSB7CiAgICAgICAgICAgIG9iamVjdC5rZXlzKHZhcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKGtleSwgdmFyc1trZXldKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLyoqIGN1c3RvbSBzdGFydCAqKi8KICAgIGNvbnRhaW5lci5kZWZpbmUoImNvbnN0YW50IiwgWyJtb2RlIiwgImJyb3dzZXIiXSwgZnVuY3Rpb24gKG1vZGUsIGJyb3dzZXIpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBuYW1lOiBpbmplY3RDb25maWcubmFtZSwKICAgICAgICAgICAgbW9kZTogbW9kZS5jb25zdGFudCwKICAgICAgICAgICAgYnJvd3NlcjogYnJvd3Nlci5jb25zdGFudCwKICAgICAgICAgICAgYWRkb246IGluamVjdENvbmZpZy5hZGRvbiwKICAgICAgICAgICAgc2NyaXB0OiBpbmplY3RDb25maWcuc2NyaXB0LAogICAgICAgICAgICBzaXRlOiB7CiAgICAgICAgICAgICAgICB0YW9iYW86ICJ0YW9iYW8iLAogICAgICAgICAgICAgICAgamQ6ICJqZCIsCiAgICAgICAgICAgICAgICBrYW9sYTogImthb2xhIiwKICAgICAgICAgICAgICAgIGd1b21laTogImd1b21laSIsCiAgICAgICAgICAgICAgICB5YW54dWFuOiAieWFueHVhbiIsCiAgICAgICAgICAgICAgICBzdW5pbmc6ICJzdW5pbmciLAogICAgICAgICAgICAgICAgZGFuZ2Rhbmc6ICJkYW5nZGFuZyIsCiAgICAgICAgICAgICAgICBuZXdkYXk6ICJuZXdkYXkiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbjogewogICAgICAgICAgICAgICAgY2hhcnRfc2NhbGU6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY2hhcnRfc2NhbGUiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNoYXJ0X3BvaW50OiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImNoYXJ0X3BvaW50IiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjaGFydF96b29tOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImNoYXJ0X3pvb20iLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAibm8iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdGFvYmFvX2RldGFpbDogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJ0YW9iYW8iLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRhb2Jhb19zaG9wX2NvdXBvbjogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJ0YW9iYW9fc2hvcF9jb3Vwb24iLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRhb2Jhb19zZWFyY2g6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAidGFvYmFvX3NlYXJjaCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ5ZXMiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdGFvYmFvX3Nob3A6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAidGFvYmFvX3Nob3AiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGpkX2RldGFpbDogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJqZCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ5ZXMiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAga2FvbGFfZGV0YWlsOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImthb2xhIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB5YW54dWFuX2RldGFpbDogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJ5YW54dWFuIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzdW5pbmdfZGV0YWlsOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogInN1bmluZyIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ5ZXMiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGFuZ2RhbmdfZGV0YWlsOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImRhbmdkYW5nIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBndW9tZWlfZGV0YWlsOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImd1b21laSIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ5ZXMiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgicmVzb3VyY2UiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmdldFRleHQgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICBpZiAobmFtZSA9PSAic3R5bGUiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLmdldFN0eWxlVGV4dCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0U3R5bGVUZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gJyN0Yi1jb29sLWFyZWF7Ym9yZGVyOjFweCBzb2xpZCAjZWVlO21hcmdpbjowIGF1dG87cG9zaXRpb246cmVsYXRpdmU7Y2xlYXI6Ym90aDtkaXNwbGF5Om5vbmV9I3RiLWNvb2wtYXJlYSAudGItY29vbC1hcmVhLWhvbWV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjVweDtyaWdodDoxMHB4O3otaW5kZXg6MTAwMDB9I3RiLWNvb2wtYXJlYSAudGItY29vbC1hcmVhLWhvbWUgYXtjb2xvcjojNTE1ODU4O2ZvbnQtc2l6ZToxMHB4O3RleHQtZGVjb3JhdGlvbjpub25lfSN0Yi1jb29sLWFyZWEgLnRiLWNvb2wtYXJlYS1ob21lIGEubmV3LXZlcnNpb257Y29sb3I6I2ZmMDAzNn0jdGItY29vbC1hcmVhIC50Yi1jb29sLWFyZWEtYmVuZWZpdHt3aWR0aDoyNDBweDtmbG9hdDpsZWZ0fSN0Yi1jb29sLWFyZWEgLnRiLWNvb2wtYXJlYS1iZW5lZml0IC50Yi1jb29sLXF1YW4tcXJjb2Rle3RleHQtYWxpZ246Y2VudGVyO21pbi1oZWlnaHQ6MTUwcHg7bWFyZ2luLXRvcDo0MHB4fSN0Yi1jb29sLWFyZWEgLnRiLWNvb2wtYXJlYS1iZW5lZml0IC50Yi1jb29sLXF1YW4tcXJjb2RlIGNhbnZhcywjdGItY29vbC1hcmVhIC50Yi1jb29sLWFyZWEtYmVuZWZpdCAudGItY29vbC1xdWFuLXFyY29kZSBpbWd7bWFyZ2luOjAgYXV0b30jdGItY29vbC1hcmVhIC50Yi1jb29sLWFyZWEtYmVuZWZpdCAudGItY29vbC1xdWFuLXRpdGxle21hcmdpbi10b3A6MjBweDtjb2xvcjojMDAwO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjcwMDt0ZXh0LWFsaWduOmNlbnRlcn0jdGItY29vbC1hcmVhIC50Yi1jb29sLWFyZWEtYmVuZWZpdCAudGItY29vbC1xdWFuLXRpdGxlIHNwYW57Y29sb3I6I2ZmMDAzNjtmb250LXdlaWdodDo3MDB9I3RiLWNvb2wtYXJlYSAudGItY29vbC1hcmVhLWJlbmVmaXQgLnRiLWNvb2wtcXVhbi1hY3Rpb257bWFyZ2luLXRvcDoxMHB4O3RleHQtYWxpZ246Y2VudGVyfSN0Yi1jb29sLWFyZWEgLnRiLWNvb2wtYXJlYS1iZW5lZml0IC50Yi1jb29sLXF1YW4tYWN0aW9uIGF7dGV4dC1kZWNvcmF0aW9uOm5vbmV9I3RiLWNvb2wtYXJlYSAudGItY29vbC1hcmVhLWJlbmVmaXQgLnRiLWNvb2wtcXVhbi1hY3Rpb24gLnRiLWNvb2wtcXVhbi1idXR0b257bWluLXdpZHRoOjEyMHB4O3BhZGRpbmc6MCA4cHg7bGluZS1oZWlnaHQ6MzVweDtjb2xvcjojZmZmO2JhY2tncm91bmQ6I2ZmMDAzNjtmb250LXNpemU6MTNweDtmb250LXdlaWdodDo3MDA7bGV0dGVyLXNwYWNpbmc6MS41cHg7bWFyZ2luOjAgYXV0bzt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXItcmFkaXVzOjE1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7Y3Vyc29yOnBvaW50ZXJ9I3RiLWNvb2wtYXJlYSAudGItY29vbC1hcmVhLWJlbmVmaXQgLnRiLWNvb2wtcXVhbi1hY3Rpb24gLnRiLWNvb2wtcXVhbi1idXR0b24ucXVhbi1ub25le2NvbG9yOiMwMDA7YmFja2dyb3VuZDojYmVjNWM1fSN0Yi1jb29sLWFyZWEgLnRiLWNvb2wtYXJlYS1oaXN0b3J5e2hlaWdodDozMDBweDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmV9I3RiLWNvb2wtYXJlYSAudGItY29vbC1hcmVhLWhpc3RvcnkgI3RiLWNvb2wtYXJlYS1jaGFydCwjdGItY29vbC1hcmVhIC50Yi1jb29sLWFyZWEtaGlzdG9yeSAudGItY29vbC1hcmVhLWNvbnRhaW5lcnt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfSN0Yi1jb29sLWFyZWEgLnRiLWNvb2wtYXJlYS1oaXN0b3J5IC50Yi1jb29sLWhpc3RvcnktdGlwe3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbjowO3RvcDo1MCU7bGVmdDo1MCU7bGV0dGVyLXNwYWNpbmc6MXB4O2ZvbnQtc2l6ZToxNXB4O3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSl9I3RiLWNvb2wtYXJlYSAudGItY29vbC1hcmVhLXRhYmxle21hcmdpbi10b3A6MTBweDtwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzpoaWRkZW59I3RiLWNvb2wtYXJlYSAudGItY29vbC1xdWFuLXRpcHtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW46MDt0b3A6NTAlO2xlZnQ6NTAlO2xldHRlci1zcGFjaW5nOjFweDtmb250LXNpemU6MTVweDtvcGFjaXR5OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKX0jdGItY29vbC1hcmVhIC50Yi1jb29sLXF1YW4tdGlwIGF7Y29sb3I6IzMzMztmb250LXdlaWdodDo0MDA7dGV4dC1kZWNvcmF0aW9uOm5vbmV9I3RiLWNvb2wtYXJlYSAudGItY29vbC1xdWFuLXRpcCBhOmhvdmVye2NvbG9yOiNmZjAwMzZ9I3RiLWNvb2wtYXJlYSAudGItY29vbC1hcmVhLXRhYmxlIC50Yi1jb29sLXF1YW4tdGFibGV7d2lkdGg6MTAwJTtmb250LXNpemU6MTRweDt0ZXh0LWFsaWduOmNlbnRlcn0jdGItY29vbC1hcmVhIC50Yi1jb29sLWFyZWEtdGFibGUgLnRiLWNvb2wtcXVhbi10YWJsZSB0ciB0ZHtwYWRkaW5nOjRweDtjb2xvcjojMWMyMzIzO2JvcmRlci10b3A6MXB4IHNvbGlkICNlZWU7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICNlZWV9I3RiLWNvb2wtYXJlYSAudGItY29vbC1hcmVhLXRhYmxlIC50Yi1jb29sLXF1YW4tdGFibGUgdHIgdGQgc3Bhbntjb2xvcjojZmYwMDM2O2ZvbnQtd2VpZ2h0OjcwMH0jdGItY29vbC1hcmVhIC50Yi1jb29sLWFyZWEtdGFibGUgLnRiLWNvb2wtcXVhbi10YWJsZSB0ciB0ZDpmaXJzdC1jaGlsZHtib3JkZXItbGVmdDpub25lfSN0Yi1jb29sLWFyZWEgLnRiLWNvb2wtYXJlYS10YWJsZSAudGItY29vbC1xdWFuLXRhYmxlIC50Yi1jb29sLXF1YW4tbGlua3t3aWR0aDo2MHB4O2xpbmUtaGVpZ2h0OjI0cHg7Zm9udC1zaXplOjEycHg7YmFja2dyb3VuZDojZmYwMDM2O3RleHQtZGVjb3JhdGlvbjpub25lO2Rpc3BsYXk6aW5saW5lLWJsb2NrfSN0Yi1jb29sLWFyZWEgLnRiLWNvb2wtYXJlYS10YWJsZSAudGItY29vbC1xdWFuLXRhYmxlIC50Yi1jb29sLXF1YW4tbGluay1lbmFibGV7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6I2ZmZn0jdGItY29vbC1hcmVhIC50Yi1jb29sLWFyZWEtdGFibGUgLnRiLWNvb2wtcXVhbi10YWJsZSAudGItY29vbC1xdWFuLWxpbmstZGlzYWJsZXtjdXJzb3I6ZGVmYXVsdDtjb2xvcjojMDAwO2JhY2tncm91bmQ6I2NjY30jdGItY29vbC1hcmVhIC50Yi1jb29sLXF1YW4tZW1wdHkgLnRiLWNvb2wtcXVhbi10aXB7b3BhY2l0eToxfSN0Yi1jb29sLWFyZWEgLnRiLWNvb2wtcXVhbi1lbXB0eSAudGItY29vbC1xdWFuLXRhYmxle2ZpbHRlcjpibHVyKDNweCk7LXdlYmtpdC1maWx0ZXI6Ymx1cigzcHgpOy1tb3otZmlsdGVyOmJsdXIoM3B4KTstbXMtZmlsdGVyOmJsdXIoM3B4KX0udGItY29vbC1ib3gtYXJlYXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTBweDtsZWZ0OjVweDt6LWluZGV4Ojk5OTl9LnRiLWNvb2wtYm94LXdhaXR7Y3Vyc29yOnBvaW50ZXJ9LnRiLWNvb2wtYm94LWFscmVhZHl7cG9zaXRpb246cmVsYXRpdmV9LnRiLWNvb2wtYm94LWluZm97d2lkdGg6YXV0byFpbXBvcnRhbnQ7aGVpZ2h0OmF1dG8haW1wb3J0YW50O3BhZGRpbmc6NnB4IDhweCFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHg7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czoxNXB4O2N1cnNvcjpwb2ludGVyO3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudH0udGItY29vbC1ib3gtaW5mbzpob3Zlcnt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9LnRiLWNvb2wtYm94LWluZm86dmlzaXRlZHt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9LnRiLWNvb2wtYm94LWluZm8tZGVmYXVsdHtiYWNrZ3JvdW5kOiMzMTg2ZmQhaW1wb3J0YW50fS50Yi1jb29sLWJveC1pbmZvLWZpbmR7YmFja2dyb3VuZDojZmYwMDM2IWltcG9ydGFudH0udGItY29vbC1ib3gtaW5mby1lbXB0eXtjb2xvcjojMDAwIWltcG9ydGFudDtiYWNrZ3JvdW5kOiNjY2MhaW1wb3J0YW50fS50Yi1jb29sLWJveC1pbmZvLXRyYW5zbHVjZW50e29wYWNpdHk6LjMzfS5tdWktemVicmEtbW9kdWxlIC50Yi1jb29sLWJveC1pbmZve2ZvbnQtc2l6ZToxMHB4fS56ZWJyYS16aXlpbmctcWlhbmdnb3UgLnRiLWNvb2wtYm94LWFyZWF7cmlnaHQ6MTBweDtsZWZ0OmF1dG99LmltcG9ydC1zaGFuZ291LWl0ZW1jZWxsIC50Yi1jb29sLWJveC1hcmVhe3JpZ2h0OjEwcHg7bGVmdDphdXRvfS5pdGVtX3NfY3BiIC50Yi1jb29sLWJveC1hcmVhe3RvcDphdXRvO2JvdHRvbToxMHB4fS5qLW1kdi1jaGFvc2hpIC5tLWZsb29yIC50Yi1jb29sLWJveC1hcmVhIGF7d2lkdGg6YXV0bztoZWlnaHQ6YXV0b30ubGVmdC13aWRlciAucHJvaW5mby1tYWlue21hcmdpbi1ib3R0b206NDBweH0uZGV0YWlsSGQgLm0taW5mb3ttYXJnaW4tYm90dG9tOjIwcHh9LnRiLWNvb2wtcXVhbi1kYXRle2NvbG9yOiAjMjMzYjNkO2ZvbnQtd2VpZ2h0OiBub3JtYWw7Zm9udC1zaXplOiAxMnB4O30gLnRiLWNvb2wtYXJlYS1oYXMtZGF0ZSAudGItY29vbC1xdWFuLXFyY29kZXttYXJnaW4tdG9wOiAzMHB4ICFpbXBvcnRhbnQ7fSAudGItY29vbC1hcmVhLWhhcy1kYXRlIC50Yi1jb29sLXF1YW4tdGl0bGV7bWFyZ2luLXRvcDogMTBweCAhaW1wb3J0YW50O30nOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJhcGkiLCBbImh0dHAiLCAiZW52IiwgInN2Z19jcnlwdCJdLCBmdW5jdGlvbiAoaHR0cCwgZW52LCBzdmdDcnlwdCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIGJhc2U6ICJodHRwczovL2FwaS5uZXdkYXkubWUiCiAgICAgICAgfTsKCiAgICAgICAgb2JqLnZlcnNpb25RdWVyeSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICBvYmoucmVxdWVzdEFwaSgiL3Rhb2Jhby90b29sL3ZlcnNpb24iLCB7fSwgY2FsbGJhY2spOwogICAgICAgIH07CgogICAgICAgIG9iai5pdGVtUXVlcnkgPSBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaykgewogICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgIGl0ZW1fdXJsOiB1cmwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgb2JqLnJlcXVlc3RBcGkoIi90YW9iYW8vdG9vbC9xdWVyeSIsIGRhdGEsIGNhbGxiYWNrKTsKICAgICAgICB9OwoKICAgICAgICBvYmouYmFzaWNRdWVyeSA9IGZ1bmN0aW9uIChpdGVtSWQsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgaXRlbV9pZDogaXRlbUlkLAogICAgICAgICAgICAgICAgc291cmNlOiAidGFvYmFvIgogICAgICAgICAgICB9OwogICAgICAgICAgICBvYmoucmVxdWVzdEFwaSgiL3Rhb2Jhby90b29sL2Jhc2ljIiwgZGF0YSwgY2FsbGJhY2spOwogICAgICAgIH07CgogICAgICAgIG9iai50cmVuZFF1ZXJ5ID0gZnVuY3Rpb24gKHVybCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICBpdGVtX3VybDogdXJsLAogICAgICAgICAgICAgICAgaXRlbV9wb2ludDogc3ZnQ3J5cHQuZ2V0U3RyUG9pbnQodXJsKQogICAgICAgICAgICB9OwogICAgICAgICAgICBvYmoucmVxdWVzdEFwaSgiL3Rhb2Jhby90b29sL3RyZW5kIiwgZGF0YSwgY2FsbGJhY2spOwogICAgICAgIH07CgogICAgICAgIG9iai5sb2dPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uLCBjYWxsYmFjaykgewogICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgIG9wdGlvbl9qc29uOiBKU09OLnN0cmluZ2lmeShvcHRpb24pCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIG9iai5yZXF1ZXN0QXBpKCIvdGFvYmFvL3Rvb2wvb3B0aW9uIiwgZGF0YSwgY2FsbGJhY2spOwogICAgICAgIH07CgogICAgICAgIG9iai5jb3Vwb25RdWVyeVNob3AgPSBmdW5jdGlvbiAoaXRlbUlkLCBzaG9wSWQsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGh0dHAuYWpheCh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZ2V0IiwKICAgICAgICAgICAgICAgIHVybDogImh0dHBzOi8vY2FydC50YW9iYW8uY29tL2pzb24vR2V0UHJpY2VWb2x1bWUuZG8/c2VsbGVySWQ9IiArIHNob3BJZCwKICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJlcXVlc3RBcGkgPSBmdW5jdGlvbiAocGF0aCwgZGF0YSwgY2FsbGJhY2spIHsKICAgICAgICAgICAgZGF0YS5tb2RlID0gZW52LmdldE1vZGUoKTsKICAgICAgICAgICAgZGF0YS5haWQgPSBlbnYuZ2V0QWlkKCk7CiAgICAgICAgICAgIGRhdGEudWlkID0gZW52LmdldFVpZCgpOwogICAgICAgICAgICBkYXRhLnZlcnNpb24gPSBlbnYuZ2V0VmVyc2lvbigpOwogICAgICAgICAgICBkYXRhLmJyb3dzZXIgPSBlbnYuZ2V0QnJvd3NlcigpOwoKICAgICAgICAgICAgaHR0cC5hamF4KHsKICAgICAgICAgICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICAgICAgICAgIHVybDogb2JqLmJhc2UgKyBwYXRoLAogICAgICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCIiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoInVwZGF0ZXIiLCBbImNvbmZpZyIsICJjYWxlbmRhciIsICJhcGkiXSwgZnVuY3Rpb24gKGNvbmZpZywgY2FsZW5kYXIsIGFwaSkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB2ZXJzaW9uRGF0ZSA9IGNvbmZpZy5nZXRDb25maWcoInZlcnNpb25fZGF0ZSIpOwogICAgICAgICAgICB2YXIgY3VycmVudERhdGUgPSBjYWxlbmRhci5mb3JtYXRUaW1lKG51bGwsICJZbWQiKTsKICAgICAgICAgICAgaWYgKCF2ZXJzaW9uRGF0ZSB8fCB2ZXJzaW9uRGF0ZSA8IGN1cnJlbnREYXRlKSB7CiAgICAgICAgICAgICAgICBhcGkudmVyc2lvblF1ZXJ5KGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGNvbmZpZy5zZXRDb25maWcoInZlcnNpb25fZGF0ZSIsIGN1cnJlbnREYXRlKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuY29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5zZXRDb25maWcoImRpYWxvZyIsIHJlc3BvbnNlLmRhdGEuZGlhbG9nKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnNldENvbmZpZygidmVyc2lvbl9sYXRlc3QiLCByZXNwb25zZS5kYXRhLnZlcnNpb24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImNvcmUiLCBbImNvbmZpZyIsICJlbnYiLCAicm91dGVyIiwgImNvbnN0YW50IiwgInJlc291cmNlIiwgInVwZGF0ZXIiLCAiJCJdLCBmdW5jdGlvbiAoY29uZmlnLCBlbnYsIHJvdXRlciwgY29uc3RhbnQsIHJlc291cmNlLCB1cGRhdGVyLCAkKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouYXBwZW5kU3R5bGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzdHlsZVRleHQgPSByZXNvdXJjZS5nZXRUZXh0KCJzdHlsZSIpOwogICAgICAgICAgICAkKCI8c3R5bGU+PC9zdHlsZT4iKS50ZXh0KHN0eWxlVGV4dCkuYXBwZW5kVG8oJCgiaGVhZCIpKTsKICAgICAgICB9OwoKICAgICAgICBvYmouanVtcExpbmsgPSBmdW5jdGlvbiAoanVtcFVybCwganVtcE1vZGUpIHsKICAgICAgICAgICAgc3dpdGNoIChqdW1wTW9kZSkgewogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgIC8vIHNlbGYKICAgICAgICAgICAgICAgICAgICByb3V0ZXIuZ29VcmwoanVtcFVybCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgLy8gbmV3CiAgICAgICAgICAgICAgICAgICAgcm91dGVyLm9wZW5VcmwoanVtcFVybCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgLy8gbmV3ICYgbm90IGFjdGl2ZQogICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKGp1bXBVcmwsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAvLyBuZXcgJiBhY3RpdmUKICAgICAgICAgICAgICAgICAgICByb3V0ZXIub3BlblRhYihqdW1wVXJsLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5qdW1wQ291cG9uTGluayA9IGZ1bmN0aW9uIChqdW1wVXJsLCBqdW1wTW9kZSkgewogICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBvYmouanVtcExpbmsoanVtcFVybCwganVtcE1vZGUpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoIXdpbmRvdy5sYXllciB8fCBlbnYuZ2V0TW9kZSgpID09IGNvbnN0YW50Lm1vZGUuc2NyaXB0KSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGVudi5nZXRCcm93c2VyKCkgIT0gY29uc3RhbnQuYnJvd3Nlci5zZTM2MCB8fCBjb25maWcuZ2V0Q29uZmlnKCJkaWFsb2ciKSA9PSAwKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGNvbmZpZy5nZXRDb25maWcoInJlbWVtYmVyIikpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBsYXllci5vcGVuKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBjbG9zZUJ0bjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgYXJlYTogIjQwMHB4IiwKICAgICAgICAgICAgICAgICAgICBzaGFkZTogMC44LAogICAgICAgICAgICAgICAgICAgIGlkOiAibmQtY291cG9uLWRpYWxvZyIsCiAgICAgICAgICAgICAgICAgICAgYnRuOiBbIuWQjOaEj+i3s+i9rCIsICLov5jmmK/nrpfkuoYiXSwKICAgICAgICAgICAgICAgICAgICBidG5BbGlnbjogImMiLAogICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTk5OTk5OTk5LAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICc8ZGl2IHN0eWxlPSJwYWRkaW5nOiAzMHB4IDUwcHggMjBweCA1MHB4OyBsaW5lLWhlaWdodDogMzBweDsgYmFja2dyb3VuZC1jb2xvcjogIzAwOGE5ODsgZm9udC1zaXplOiAxM3B4OyBjb2xvcjogI2ZmZjsgdGV4dC1hbGlnbjogY2VudGVyOyI+5Y2z5bCG6Lez6L2s5Yiw5reY5a6d5a6i6ZO+5o6l6aKG5Y+W5LyY5oOg5Yi4Li4uPGJyLz7lj6rmmK/ljrvpooblj5bkvJjmg6DliLjvvIzlr7notK3nianmsqHmnInku7vkvZXlvbHlk43lk6bvvIE8YnIvPjxpbnB1dCBjbGFzcz0ibmQtaWdub3JlLWRpYWxvZyIgdHlwZT0iY2hlY2tib3giIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyI+IDxzcGFuPuS4jeWGjeaPkOekujwvc3Bhbj48L2Rpdj4nCiAgICAgICAgICAgICAgICAgICAgLCBzdWNjZXNzOiBmdW5jdGlvbiAobGF5ZXJvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSBsYXllcm8uZmluZCgiLm5kLWlnbm9yZS1kaWFsb2ciKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRidXR0b25ZZXMgPSBsYXllcm8uZmluZCgiLmxheXVpLWxheWVyLWJ0bjAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGJ1dHRvblllcy5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGNoZWNrYm94LnByb3AoImNoZWNrZWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5zZXRDb25maWcoInJlbWVtYmVyIiwgInllcyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmoub3Blbk9wdGlvblBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChlbnYuaXNBZGRvbigpKSB7CiAgICAgICAgICAgICAgICBpZiAoZW52LmlzSW5qZWN0KCkpIHsKICAgICAgICAgICAgICAgICAgICByb3V0ZXIub3BlblRhYihpbmplY3RDb25maWcuYWRkb24ub3B0aW9uc19wYWdlLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKEdNX2luZm8uYWRkb24ub3B0aW9uc19wYWdlLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKGNvbnN0YW50LnNjcmlwdC5vcHRpb25zX3BhZ2UsIHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRWZXJzaW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB1cGRhdGVyLmluaXQoKTsKICAgICAgICB9OwoKICAgICAgICBvYmoucmVhZHkgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICAgICAgb2JqLmluaXRWZXJzaW9uKCk7CiAgICAgICAgICAgIG9iai5hcHBlbmRTdHlsZSgpOwoKICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLyoqIGFwcCBzdGFydCAqKi8KICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF9kZXRhaWwiLCBbInJ1bnRpbWUiLCAib2JqZWN0IiwgIm9wdGlvbiIsICJlbnYiLCAibG9nZ2VyIiwgImNhbGVuZGFyIiwgImNvbnN0YW50IiwgImNvcmUiLCAiYXBpIiwgImVjaGFydHMiLCAiJCJdLCBmdW5jdGlvbiAocnVudGltZSwgb2JqZWN0LCBvcHRpb24sIGVudiwgbG9nZ2VyLCBjYWxlbmRhciwgY29uc3RhbnQsIGNvcmUsIGFwaSwgZWNoYXJ0cywgJCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIHRyZW5kRGF0YTogbnVsbAogICAgICAgIH07CgogICAgICAgIG9iai5nZXRTaXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gb2JqLm1hdGNoU2l0ZShydW50aW1lLmdldFVybCgpKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0SXRlbVVybCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG9iai5tYXRjaEl0ZW1VcmwocnVudGltZS5nZXRVcmwoKSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHNpdGUgPSBvYmouZ2V0U2l0ZSgpOwogICAgICAgICAgICBzd2l0Y2ggKHNpdGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnQuc2l0ZS50YW9iYW86CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC50YW9iYW9fZGV0YWlsKSAmJiBvYmouaW5pdERldGFpbFRhb0JhbygpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudC5zaXRlLmpkOgogICAgICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuamRfZGV0YWlsKSAmJiBvYmouaW5pdERldGFpbEpkKCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50LnNpdGUua2FvbGE6CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5rYW9sYV9kZXRhaWwpICYmIG9iai5pbml0RGV0YWlsS2FvTGEoKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnQuc2l0ZS55YW54dWFuOgogICAgICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQueWFueHVhbl9kZXRhaWwpICYmIG9iai5pbml0RGV0YWlsWWFuWHVhbigpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudC5zaXRlLnN1bmluZzoKICAgICAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnN1bmluZ19kZXRhaWwpICYmIG9iai5pbml0RGV0YWlsU3VOaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50LnNpdGUuZGFuZ2Rhbmc6CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5kYW5nZGFuZ19kZXRhaWwpICYmIG9iai5pbml0RGV0YWlsRGFuZ0RhbmcoKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnQuc2l0ZS5ndW9tZWk6CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5ndW9tZWlfZGV0YWlsKSAmJiBvYmouaW5pdERldGFpbEd1b01laSgpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXREZXRhaWxUYW9CYW8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICgkKCcjZGV0YWlsJykubGVuZ3RoIHx8ICQoIi5qdS13cmFwcGVyIikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IG9iai5nZXRBcHBlbmRIdG1sKCk7CiAgICAgICAgICAgICAgICBpZiAoJCgiI0pfRGV0YWlsTWV0YSIpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICQoIiNKX0RldGFpbE1ldGEiKS5hcHBlbmQoaHRtbCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICQoIiNkZXRhaWwiKS5hcHBlbmQoaHRtbCArICI8YnIvPiIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBvbkVtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGV4dCgi5omT5byA5reY5a6d5omr5LiA5omrIik7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgb2JqLmluaXREZXRhaWwob25FbXB0eSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBvYmouaW5pdERldGFpbFRhb0JhbygpOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdERldGFpbEpkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoJCgiLnByb2R1Y3QtaW50cm8iKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHZhciBodG1sID0gb2JqLmdldEFwcGVuZEh0bWwoKTsKICAgICAgICAgICAgICAgICQoIi5wcm9kdWN0LWludHJvIikuYXBwZW5kKGh0bWwpOwoKICAgICAgICAgICAgICAgIHZhciBvbkVtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGV4dCgi5omT5byA5Lqs5Lic5omr5LiA5omrIik7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgb2JqLmluaXREZXRhaWwob25FbXB0eSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBvYmouaW5pdERldGFpbEpkKCk7CiAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RGV0YWlsS2FvTGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICgkKCIjai1wcm9kdWN0aGVhZCIpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBvYmouZ2V0QXBwZW5kSHRtbCgpOwogICAgICAgICAgICAgICAgJCgiI2otcHJvZHVjdGhlYWQiKS5hZnRlcihodG1sKTsKCiAgICAgICAgICAgICAgICB2YXIgb25FbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBvYmouc2hvd1RleHQoIuaJk+W8gOiAg+aLieaJq+S4gOaJqyIpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIG9iai5pbml0RGV0YWlsKG9uRW1wdHkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmluaXREZXRhaWxLYW9MYSgpOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdERldGFpbFlhblh1YW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICgkKCIuZGV0YWlsSGQiKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHZhciBodG1sID0gb2JqLmdldEFwcGVuZEh0bWwoKTsKICAgICAgICAgICAgICAgICQoIi5kZXRhaWxIZCIpLmFwcGVuZChodG1sKTsKCiAgICAgICAgICAgICAgICB2YXIgb25FbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBvYmouc2hvd1RleHQoIuaJk+W8gOS4pemAieaJq+S4gOaJqyIpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIG9iai5pbml0RGV0YWlsKG9uRW1wdHkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmluaXREZXRhaWxZYW5YdWFuKCk7CiAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RGV0YWlsU3VOaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoJCgiLnByb2luZm8tY29udGFpbmVyIikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IG9iai5nZXRBcHBlbmRIdG1sKCk7CiAgICAgICAgICAgICAgICAkKCIucHJvaW5mby1jb250YWluZXIiKS5hcHBlbmQoaHRtbCk7CgogICAgICAgICAgICAgICAgdmFyIG9uRW1wdHkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dUZXh0KCLmiZPlvIDoi4/lroHmiavkuIDmiasiKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBvYmouaW5pdERldGFpbChvbkVtcHR5KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5pbml0RGV0YWlsU3VOaW5nKCk7CiAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RGV0YWlsRGFuZ0RhbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICgkKCIucHJvZHVjdF9tYWluIikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IG9iai5nZXRBcHBlbmRIdG1sKCk7CiAgICAgICAgICAgICAgICAkKCIucHJvZHVjdF9tYWluIikuYXBwZW5kKGh0bWwpOwoKICAgICAgICAgICAgICAgIHZhciBvbkVtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5zaG93VGV4dCgi5omT5byA5b2T5b2T5omr5LiA5omrIik7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgb2JqLmluaXREZXRhaWwob25FbXB0eSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBvYmouaW5pdERldGFpbERhbmdEYW5nKCk7CiAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RGV0YWlsR3VvTWVpID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoJCgiLmdvbWUtY29udGFpbmVyIikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IG9iai5nZXRBcHBlbmRIdG1sKCk7CiAgICAgICAgICAgICAgICAkKCIuZ29tZS1jb250YWluZXIiKS5hcHBlbmQoaHRtbCk7CgogICAgICAgICAgICAgICAgdmFyIG9uRW1wdHkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dUZXh0KCLmiZPlvIDlm73nvo7miavkuIDmiasiKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBvYmouaW5pdERldGFpbChvbkVtcHR5KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5pbml0RGV0YWlsR3VvTWVpKCk7CiAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RGV0YWlsID0gZnVuY3Rpb24gKG9uRW1wdHkpIHsKICAgICAgICAgICAgLy8g54mI5pys5L+h5oGvCiAgICAgICAgICAgIG9iai5zaG93VmVyc2lvbigpOwoKICAgICAgICAgICAgLy8g5ZWG5ZOB5p+l6K+iCiAgICAgICAgICAgIGFwaS5pdGVtUXVlcnkocnVudGltZS5nZXRVcmwoKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgJCgiI3RiLWNvb2wtYXJlYSIpLnNob3coKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuY29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAvLyDku7fmoLzotovlir8KICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0NoYXJ0KGRhdGEuZ29vZF91cmwpOwoKICAgICAgICAgICAgICAgICAgICAvLyDkvJjmg6Dkv6Hmga8KICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5hY3RfdXJsIHx8IGRhdGEuY291cG9uX21vbmV5ID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0NvdXBvbihkYXRhKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9uRW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIOS8mOaDoOWIuOWIl+ihqAogICAgICAgICAgICAgICAgICAgIGlmIChvYmouZ2V0U2l0ZSgpID09IGNvbnN0YW50LnNpdGUudGFvYmFvICYmIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQudGFvYmFvX3Nob3BfY291cG9uKSkgewogICAgICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0NvdXBvbkxpc3QoZGF0YS5pdGVtX2lkLCBkYXRhLnNob3BfaWQpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8g5LqM57u056CBCiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dRcmNvZGUoZGF0YS5hcHBfdXJsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBpdGVtVXJsID0gb2JqLmdldEl0ZW1VcmwoKTsKCiAgICAgICAgICAgICAgICAgICAgLy8g5Lu35qC86LaL5Yq/CiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dDaGFydChpdGVtVXJsKTsKCiAgICAgICAgICAgICAgICAgICAgLy8g5peg5LyY5oOg5Yi4CiAgICAgICAgICAgICAgICAgICAgb25FbXB0eSgpOwoKICAgICAgICAgICAgICAgICAgICAvLyDkuoznu7TnoIEKICAgICAgICAgICAgICAgICAgICBvYmouc2hvd1FyY29kZShpdGVtVXJsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLm9wZW5Db3Vwb25MaW5rID0gZnVuY3Rpb24gKGNvdXBvbklkLCBzaG9wSWQpIHsKICAgICAgICAgICAgdmFyIGNvdXBvbkxpbmsgPSBvYmouYnVpbGRDb3Vwb25MaW5rKGNvdXBvbklkLCBzaG9wSWQpOwogICAgICAgICAgICB3aW5kb3cub3Blbihjb3Vwb25MaW5rLCAi6aKG5Y+W5LyY5oOg5Yi4IiwgIndpZHRoPTYwMCxoZWlnaHQ9NjAwLHRvb2xiYXI9bm8sbWVudWJhcj1ubyxzY3JvbGxiYXJzPWF1dG8scmVzaXplYWJsZT1ubyxsb2NhdGlvbj1ubyxzdGF0dXM9bm8iKTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd0NvdXBvbiA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHZhciBodG1sOwogICAgICAgICAgICBpZiAoZGF0YS5hY3RfdXJsKSB7CiAgICAgICAgICAgICAgICBodG1sID0gIjxwPiIgKyBkYXRhLmFjdF90ZXh0ICsgIjwvcD4iOwogICAgICAgICAgICAgICAgaWYgKGRhdGEuYWN0X3RpcCkgewogICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gIjxwIGNsYXNzPVwidGItY29vbC1xdWFuLWRhdGVcIj4iICsgZGF0YS5hY3RfdGlwICsgIjwvcD4iOwoKICAgICAgICAgICAgICAgICAgICAkKCIudGItY29vbC1hcmVhLWJlbmVmaXQiKS5hZGRDbGFzcygidGItY29vbC1hcmVhLWhhcy1kYXRlIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkKCIudGItY29vbC1xdWFuLXRpdGxlIikuaHRtbChodG1sKTsKCiAgICAgICAgICAgICAgICBodG1sID0gJzxhIGNsYXNzPSJ0Yi1jb29sLXF1YW4tYnV0dG9uIHF1YW4tZXhpc3QiIGRhdGEtdXJsPSInICsgZGF0YS5hY3RfdXJsICsgJyIgZGF0YS1tb2RlPSInICsgZGF0YS5hY3RfbW9kZSArICciPicgKyBkYXRhLmFjdF90aXRsZSArICc8L2E+JzsKICAgICAgICAgICAgICAgICQoIi50Yi1jb29sLXF1YW4tYWN0aW9uIikuaHRtbChodG1sKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGh0bWwgPSAiPHA+5Yi45ZCO5Lu3IDxzcGFuPiIgKyBkYXRhLmNvdXBvbl9wcmljZS50b0ZpeGVkKDIpICsgIjwvc3Bhbj4g5YWDPC9wPiI7CiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGFydF90aW1lICYmIGRhdGEuZW5kX3RpbWUpIHsKICAgICAgICAgICAgICAgICAgICBodG1sICs9ICI8cCBjbGFzcz1cInRiLWNvb2wtcXVhbi1kYXRlXCI+77yIIiArIGRhdGEuc3RhcnRfdGltZSArICIgfiAiICsgZGF0YS5lbmRfdGltZSArICLvvIk8L3A+IjsKCiAgICAgICAgICAgICAgICAgICAgJCgiLnRiLWNvb2wtYXJlYS1iZW5lZml0IikuYWRkQ2xhc3MoInRiLWNvb2wtYXJlYS1oYXMtZGF0ZSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJCgiLnRiLWNvb2wtcXVhbi10aXRsZSIpLmh0bWwoaHRtbCk7CgogICAgICAgICAgICAgICAgaHRtbCA9ICc8YSBjbGFzcz0idGItY29vbC1xdWFuLWJ1dHRvbiBxdWFuLWV4aXN0IiBkYXRhLXVybD0iJyArIGRhdGEuanVtcF91cmwgKyAnIiBkYXRhLW1vZGU9IicgKyBkYXRhLmp1bXBfbW9kZSArICciPumihicgKyBkYXRhLmNvdXBvbl9tb25leSArICflhYPkvJjmg6DliLg8L2E+JzsKICAgICAgICAgICAgICAgICQoIi50Yi1jb29sLXF1YW4tYWN0aW9uIikuaHRtbChodG1sKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJCgiLnRiLWNvb2wtcXVhbi1idXR0b24ucXVhbi1leGlzdCIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpczsKICAgICAgICAgICAgICAgIHZhciBqdW1wVXJsID0gJCgkdGhpcykuYXR0cigiZGF0YS11cmwiKTsKICAgICAgICAgICAgICAgIHZhciBqdW1wTW9kZSA9IHBhcnNlSW50KCQoJHRoaXMpLmF0dHIoImRhdGEtbW9kZSIpKTsKICAgICAgICAgICAgICAgICR0aGlzLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgY29yZS5qdW1wQ291cG9uTGluayhqdW1wVXJsLCBqdW1wTW9kZSk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd1FyY29kZSA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgdmFyIHR5cGUgPSAwOwogICAgICAgICAgICBpZiAodXJsLmxlbmd0aCA8IDgwKSB7CiAgICAgICAgICAgICAgICB0eXBlID0gNTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgcXIgPSBxcmNvZGUodHlwZSwgIk0iKTsKICAgICAgICAgICAgcXIuYWRkRGF0YSh1cmwpOwogICAgICAgICAgICBxci5tYWtlKCk7CiAgICAgICAgICAgICQoIi50Yi1jb29sLXF1YW4tcXJjb2RlIikuaHRtbChxci5jcmVhdGVJbWdUYWcoNCwgMikpOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93VGV4dCA9IGZ1bmN0aW9uIChidXR0b25UZXh0LCBpbmZvVGV4dCkgewogICAgICAgICAgICB2YXIgaW5mb1RleHRBcnIgPSBbIuenu+WKqOerrzxzcGFuPuW/q+aNtzwvc3Bhbj7otK3kubAiXTsKICAgICAgICAgICAgaWYgKCFpbmZvVGV4dCkgewogICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gKG5ldyBEYXRlKCkpLnZhbHVlT2YoKSAlIGluZm9UZXh0QXJyLmxlbmd0aDsKICAgICAgICAgICAgICAgIGluZm9UZXh0ID0gaW5mb1RleHRBcnJbaW5kZXhdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBpbmZvSHRtbCA9ICI8cD4iICsgaW5mb1RleHQgKyAiPC9wPiI7CiAgICAgICAgICAgICQoIi50Yi1jb29sLXF1YW4tdGl0bGUiKS5odG1sKGluZm9IdG1sKTsKCiAgICAgICAgICAgIGJ1dHRvblRleHQgfHwgKGJ1dHRvblRleHQgPSAi5omL5py65omr5LiA5omrIik7CiAgICAgICAgICAgIHZhciBidXR0b25IdG1sID0gJzxhIGNsYXNzPSJ0Yi1jb29sLXF1YW4tYnV0dG9uIHF1YW4tbm9uZSI+JyArIGJ1dHRvblRleHQgKyAnPC9hPic7CiAgICAgICAgICAgICQoIi50Yi1jb29sLXF1YW4tYWN0aW9uIikuaHRtbChidXR0b25IdG1sKTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd1ZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBodG1sID0gJzxhIGNsYXNzPSJuZC1vcGVuLXBhZ2Utb3B0aW9uIiB0aXRsZT0i5b2T5YmN54mI5pys77yaJyArIGVudi5nZXRWZXJzaW9uKCkgKyAnIiBocmVmPSJqYXZhc2NyaXB0OjsiPlsg6YWN572uIF08L2E+JzsKICAgICAgICAgICAgJCgiLnRiLWNvb2wtYXJlYS1ob21lIikuaHRtbChodG1sKTsKCiAgICAgICAgICAgIC8vIOaJk+W8gOmFjee9rumhtQogICAgICAgICAgICAkKCIubmQtb3Blbi1wYWdlLW9wdGlvbiIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGNvcmUub3Blbk9wdGlvblBhZ2UoKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93Q2hhcnQgPSBmdW5jdGlvbiAoaXRlbVVybCkgewogICAgICAgICAgICAkKCIudGItY29vbC1oaXN0b3J5LXRpcCIpLmh0bWwoIuafpeivouWOhuWPsuS7t+agvOS4rS4uLiIpOwoKICAgICAgICAgICAgYXBpLnRyZW5kUXVlcnkoaXRlbVVybCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcocmVzcG9uc2UpOwoKICAgICAgICAgICAgICAgIG9iai50cmVuZERhdGEgPSBvYmoucGFyc2VUcmVuZFJlc3BvbnNlKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIG9iai5zaG93Q2hhcnRSZWZyZXNoKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93Q2hhcnRSZWZyZXNoID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvYmouc2hvd0NoYXJ0RGF0YShvYmoudHJlbmREYXRhKTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2hvd0NoYXJ0RGF0YSA9IGZ1bmN0aW9uICh0cmVuZERhdGEpIHsKICAgICAgICAgICAgaWYgKHRyZW5kRGF0YSkgewogICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9iai5idWlsZENoYXJ0T3B0aW9uKHRyZW5kRGF0YSk7CiAgICAgICAgICAgICAgICAkKCIudGItY29vbC1hcmVhLWNvbnRhaW5lciIpLmh0bWwoJzxkaXYgaWQ9InRiLWNvb2wtYXJlYS1jaGFydCI+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRiLWNvb2wtYXJlYS1jaGFydCIpKS5zZXRPcHRpb24ob3B0aW9uKTsKICAgICAgICAgICAgICAgICQoIi50Yi1jb29sLWhpc3RvcnktdGlwIikuaHRtbCgiIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIudGItY29vbC1oaXN0b3J5LXRpcCIpLmh0bWwoIuaaguaXoOWVhuWTgeWOhuWPsuS7t+agvOS/oeaBryIpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNob3dDb3Vwb25MaXN0ID0gZnVuY3Rpb24gKGl0ZW1JZCwgc2hvcElkKSB7CiAgICAgICAgICAgIGFwaS5jb3Vwb25RdWVyeVNob3AoaXRlbUlkLCBzaG9wSWQsIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgdmFyIGNvdXBvbkxpc3Q7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBjb3Vwb25MaXN0ID0gb2JqLnBhcnNlQ291cG9uTGlzdFNob3AoaXRlbUlkLCBzaG9wSWQsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0NvdXBvbkxpc3RMb2dpblllcyhjb3Vwb25MaXN0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvdXBvbkxpc3QgPSBvYmoucGFyc2VDb3Vwb25MaXN0UGFkZGluZygpOwogICAgICAgICAgICAgICAgICAgIG9iai5zaG93Q291cG9uTGlzdExvZ2luTm8oY291cG9uTGlzdCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93Q291cG9uTGlzdExvZ2luWWVzID0gZnVuY3Rpb24gKGNvdXBvbkxpc3QpIHsKICAgICAgICAgICAgb2JqLmJ1aWxkQ291cG9uTGlzdFRhYmxlKGNvdXBvbkxpc3QpOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93Q291cG9uTGlzdExvZ2luTm8gPSBmdW5jdGlvbiAoY291cG9uTGlzdCkgewogICAgICAgICAgICBvYmouYnVpbGRDb3Vwb25MaXN0VGFibGUoY291cG9uTGlzdCk7CgogICAgICAgICAgICB2YXIgbG9naW5VcmwgPSBvYmouYnVpbGRMb2dpblVybCgpOwogICAgICAgICAgICAkKCIudGItY29vbC1xdWFuLXRpcCIpLmh0bWwoJzxhIGhyZWY9IicgKyBsb2dpblVybCArICciPueZu+W9leWQjuWPr+S7peafpeeci+W6l+mTuuS8mOaDoOWIuOWTpjwvYT4nKTsKICAgICAgICAgICAgJCgiLnRiLWNvb2wtYXJlYS10YWJsZSIpLmFkZENsYXNzKCJ0Yi1jb29sLXF1YW4tZW1wdHkiKTsKICAgICAgICB9OwoKICAgICAgICBvYmouYnVpbGRDb3Vwb25MaXN0VGFibGUgPSBmdW5jdGlvbiAoY291cG9uTGlzdCkgewogICAgICAgICAgICB2YXIgbGlzdCA9IG9iamVjdC52YWx1ZXMoY291cG9uTGlzdCk7CiAgICAgICAgICAgIHZhciBjb21wYXJlID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICAgIGlmIChhLmNvdXBvbl9tb25leSA9PSBiLmNvdXBvbl9tb25leSkgewogICAgICAgICAgICAgICAgICAgIGlmIChhLmNvdXBvbl9tb25leV9zdGFydCA+IGIuY291cG9uX21vbmV5X3N0YXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYS5jb3Vwb25fbW9uZXlfc3RhcnQgPT0gYi5jb3Vwb25fbW9uZXlfc3RhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGEuY291cG9uX21vbmV5ID4gYi5jb3Vwb25fbW9uZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhLmNvdXBvbl9tb25leSA9PSBiLmNvdXBvbl9tb25leSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBsaXN0LnNvcnQoY29tcGFyZSk7CgogICAgICAgICAgICB2YXIgaHRtbCA9ICIiOwogICAgICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGh0bWwgKz0gIjx0cj4iOwogICAgICAgICAgICAgICAgaHRtbCArPSAiPHRkPua7oSAiICsgaXRlbS5jb3Vwb25fbW9uZXlfc3RhcnQgKyAiIOWHjyA8c3Bhbj4iICsgaXRlbS5jb3Vwb25fbW9uZXkgKyAiPC9zcGFuPiDlhYM8L3RkPiI7CiAgICAgICAgICAgICAgICB2YXIgY291cG9uQ29tbW9uOwogICAgICAgICAgICAgICAgaWYgKGl0ZW0uY291cG9uX2NvbW1vbiA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgY291cG9uQ29tbW9uID0gIumZkOWumuWVhuWTgSI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uY291cG9uX2NvbW1vbiA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgY291cG9uQ29tbW9uID0gIjxzcGFuPumAmueUqDwvc3Bhbj4iOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb3Vwb25Db21tb24gPSAiLS0iOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaHRtbCArPSAiPHRkPiAiICsgY291cG9uQ29tbW9uICsgIjwvdGQ+IjsKICAgICAgICAgICAgICAgIGh0bWwgKz0gIjx0ZD4iICsgaXRlbS5jb3Vwb25fc3RhcnQgKyAiIH4gPHNwYW4+IiArIGl0ZW0uY291cG9uX2VuZCArICI8L3NwYW4+PC90ZD4iOwogICAgICAgICAgICAgICAgaHRtbCArPSAiPHRkPuW3sumihiA8c3Bhbj4iICsgaXRlbS5jb3Vwb25fbnVtICsgIjwvc3Bhbj4g5bygPC90ZD4iOwogICAgICAgICAgICAgICAgaWYgKGl0ZW0uY291cG9uX3JlY2VpdmUpIHsKICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8dGQ+PGEgY2xhc3M9InRiLWNvb2wtcXVhbi1saW5rIHRiLWNvb2wtcXVhbi1saW5rLWRpc2FibGUiPuW3sumihuWPljwvYT48L3RkPic7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0ZD48YSBjbGFzcz0idGItY29vbC1xdWFuLWxpbmsgdGItY29vbC1xdWFuLWxpbmstZW5hYmxlIiBkYXRhLXNob3A9IicgKyBpdGVtLnNob3BfaWQgKyAnIiBkYXRhLWNvdXBvbj0iJyArIGl0ZW0uY291cG9uX2lkICsgJyI+6aKGIOWPljwvYT48L3RkPic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBodG1sICs9ICI8L3RyPiI7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIudGItY29vbC1xdWFuLXRhYmxlIikuaHRtbChodG1sKTsKCiAgICAgICAgICAgICQoIi50Yi1jb29sLXF1YW4tbGluay1lbmFibGUiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9IHRoaXM7CiAgICAgICAgICAgICAgICB2YXIgY291cG9uSWQgPSAkKCR0aGlzKS5hdHRyKCJkYXRhLWNvdXBvbiIpOwogICAgICAgICAgICAgICAgdmFyIHNob3BJZCA9ICQoJHRoaXMpLmF0dHIoImRhdGEtc2hvcCIpOwogICAgICAgICAgICAgICAgJHRoaXMub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBvYmoub3BlbkNvdXBvbkxpbmsoY291cG9uSWQsIHNob3BJZCk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouYnVpbGRMb2dpblVybCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGl0ZW1VcmwgPSBvYmouZ2V0SXRlbVVybCgpOwogICAgICAgICAgICByZXR1cm4gImh0dHBzOi8vbG9naW4udG1hbGwuY29tLz9yZWRpcmVjdFVSTD0iICsgZXNjYXBlKGl0ZW1VcmwpOwogICAgICAgIH07CgogICAgICAgIG9iai5idWlsZENvdXBvbkxpbmsgPSBmdW5jdGlvbiAoY291cG9uSWQsIHNob3BJZCkgewogICAgICAgICAgICByZXR1cm4gImh0dHBzOi8vbWFya2V0Lm0udGFvYmFvLmNvbS9hcHBzL2FsaXl4L2NvdXBvbi9kZXRhaWwuaHRtbD93aF93ZWV4PXRydWUmYWN0aXZpdHlfaWQ9IiArIGNvdXBvbklkICsgIiZzZWxsZXJfaWQ9IiArIHNob3BJZDsKICAgICAgICB9OwoKICAgICAgICBvYmouYnVpbGRDaGFydE9wdGlvbiA9IGZ1bmN0aW9uICh0cmVuZERhdGEpIHsKICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKHRyZW5kRGF0YSk7CgogICAgICAgICAgICB2YXIgdGV4dCA9ICLljoblj7LkvY7ku7fvvJp7cmVkfO+/pSIgKyBwYXJzZUZsb2F0KHRyZW5kRGF0YS5zdGF0Lm1pbl9wcmljZSkudG9GaXhlZCgyKSArICJ9ICgge3JlZHwiICsgdHJlbmREYXRhLnN0YXQubWluX2RhdGUgKyAifSApIjsKICAgICAgICAgICAgdmFyIGNoYXJ0T3B0aW9uID0gewogICAgICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICAgICAgICBsZWZ0OiAiY2VudGVyIiwKICAgICAgICAgICAgICAgICAgICBzdWJ0ZXh0OiB0ZXh0LAogICAgICAgICAgICAgICAgICAgIHN1YnRleHRTdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIiMwMDAiLAogICAgICAgICAgICAgICAgICAgICAgICByaWNoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogInJlZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogImF4aXMiLAogICAgICAgICAgICAgICAgICAgIGF4aXNQb2ludGVyOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJjcm9zcyIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKHBhcmFtcykgewogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBwYXJhbXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gcGFyYW1zLm5hbWUuZ2V0RnVsbFllYXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gcGFyYW1zLm5hbWUuZ2V0TW9udGgoKSArIDE7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXkgPSBwYXJhbXMubmFtZS5nZXREYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb250aCA8IDEwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9ICIwIiArIG1vbnRoOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXkgPCAxMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5ID0gIjAiICsgZGF5OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAi5pel5pyf77yaIiArIHllYXIgKyAiLSIgKyBtb250aCArICItIiArIGRheSArICI8YnIvPuS7t+agvO+8mu+/pSIgKyBwYXJhbXMudmFsdWVbMV0udG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZ3JpZDogewogICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDIwLAogICAgICAgICAgICAgICAgICAgIHRvcDogNTAsCiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAxMCwKICAgICAgICAgICAgICAgICAgICBjb250YWluTGFiZWw6IHRydWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB4QXhpczogewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ0aW1lIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHlBeGlzOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogInZhbHVlIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNlcmllczogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImxpbmUiLAogICAgICAgICAgICAgICAgICAgICAgICBzdGVwOiAiZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdHJlbmREYXRhLmRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbFNpemU6IDMsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAiI2VkNTcwMCIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vIOiHquWKqOWIu+W6pgogICAgICAgICAgICBpZiAob3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5jaGFydF9zY2FsZSkpIHsKICAgICAgICAgICAgICAgIHZhciBzdGVwID0gMTA7CiAgICAgICAgICAgICAgICB2YXIgWW1pbiA9IE1hdGguZmxvb3IodHJlbmREYXRhLnN0YXQubWluX3ByaWNlICogMC45IC8gc3RlcCkgKiBzdGVwOwogICAgICAgICAgICAgICAgdmFyIFltYXggPSBNYXRoLmNlaWwodHJlbmREYXRhLnN0YXQubWF4X3ByaWNlICogMS4xIC8gc3RlcCkgKiBzdGVwOwogICAgICAgICAgICAgICAgY2hhcnRPcHRpb24ueUF4aXMubWluID0gWW1pbjsKICAgICAgICAgICAgICAgIGNoYXJ0T3B0aW9uLnlBeGlzLm1heCA9IFltYXg7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOagh+iusOaegeWAvAogICAgICAgICAgICBpZiAob3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5jaGFydF9wb2ludCkpIHsKICAgICAgICAgICAgICAgIHZhciBzZXJpZXMgPSBjaGFydE9wdGlvbi5zZXJpZXNbMF07CiAgICAgICAgICAgICAgICBzZXJpZXMubWFya1BvaW50ID0gewogICAgICAgICAgICAgICAgICAgIGRhdGE6IFsKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRyZW5kRGF0YS5zdGF0Lm1pbl9wcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkOiBbdHJlbmREYXRhLnN0YXQubWluX3RpbWUsIHRyZW5kRGF0YS5zdGF0Lm1pbl9wcmljZV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAi5pyA5bCP5YC8IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAiZ3JlZW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0cmVuZERhdGEuc3RhdC5tYXhfcHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZDogW3RyZW5kRGF0YS5zdGF0Lm1heF90aW1lLCB0cmVuZERhdGEuc3RhdC5tYXhfcHJpY2VdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIuacgOWkp+WAvCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogInJlZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOiHqueUsee8qeaUvgogICAgICAgICAgICBpZiAob3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5jaGFydF96b29tKSkgewogICAgICAgICAgICAgICAgY2hhcnRPcHRpb24uZGF0YVpvb20gPSBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiaW5zaWRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogMTAwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGNoYXJ0T3B0aW9uKTsKICAgICAgICAgICAgcmV0dXJuIGNoYXJ0T3B0aW9uOwogICAgICAgIH07CgogICAgICAgIG9iai5wYXJzZVRyZW5kUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmNvZGUgPT0gMSAmJiByZXNwb25zZS5kYXRhLmxpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdDsKCiAgICAgICAgICAgICAgICB2YXIgdHJlbmREYXRhID0gewogICAgICAgICAgICAgICAgICAgIHN0YXQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbWluX3ByaWNlOiAwLAogICAgICAgICAgICAgICAgICAgICAgICBtaW5fdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgbWluX2RhdGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIG1heF9wcmljZTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgbWF4X3RpbWU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIG1heF9kYXRlOiBudWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2UgPSBNYXRoLmNlaWwoaXRlbS5wcmljZSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZShpdGVtLnRpbWUgKiAxMDAwKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IGNhbGVuZGFyLmZvcm1hdFRpbWUoaXRlbS50aW1lICogMTAwMCwgIlktbS1kIik7CgogICAgICAgICAgICAgICAgICAgIHZhciBwb2ludCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB0cmVuZERhdGEuZGF0YS5wdXNoKHBvaW50KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHRyZW5kRGF0YS5zdGF0Lm1pbl9wcmljZSA9PSAwIHx8IHRyZW5kRGF0YS5zdGF0Lm1pbl9wcmljZSA+PSBwcmljZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0cmVuZERhdGEuc3RhdC5taW5fcHJpY2UgPSBwcmljZTsKICAgICAgICAgICAgICAgICAgICAgICAgdHJlbmREYXRhLnN0YXQubWluX3RpbWUgPSB0aW1lOwogICAgICAgICAgICAgICAgICAgICAgICB0cmVuZERhdGEuc3RhdC5taW5fZGF0ZSA9IGRhdGU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAodHJlbmREYXRhLnN0YXQubWF4X3ByaWNlIDw9IHByaWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyZW5kRGF0YS5zdGF0Lm1heF9wcmljZSA9IHByaWNlOwogICAgICAgICAgICAgICAgICAgICAgICB0cmVuZERhdGEuc3RhdC5tYXhfdGltZSA9IHRpbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyZW5kRGF0YS5zdGF0Lm1heF9kYXRlID0gZGF0ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiB0cmVuZERhdGE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5wYXJzZUNvdXBvbkxpc3RQYWRkaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHNob3BfaWQ6ICIiLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9yZWNlaXZlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBjb3Vwb25fbnVtOiAwLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9pZDogIiIsCiAgICAgICAgICAgICAgICAgICAgY291cG9uX21vbmV5OiAxMCwKICAgICAgICAgICAgICAgICAgICBjb3Vwb25fbW9uZXlfc3RhcnQ6IDIwLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9zdGFydDogIjIwMTgtMDEtMDEiLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9lbmQ6ICIyMDE4LTEyLTEyIiwKICAgICAgICAgICAgICAgICAgICBjb3Vwb25fY29tbW9uOiAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHNob3BfaWQ6ICIiLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9yZWNlaXZlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBjb3Vwb25fbnVtOiAwLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9pZDogIiIsCiAgICAgICAgICAgICAgICAgICAgY291cG9uX21vbmV5OiAyMCwKICAgICAgICAgICAgICAgICAgICBjb3Vwb25fbW9uZXlfc3RhcnQ6IDQwLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9zdGFydDogIjIwMTgtMDEtMDEiLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9lbmQ6ICIyMDE4LTEyLTEyIiwKICAgICAgICAgICAgICAgICAgICBjb3Vwb25fY29tbW9uOiAxCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHNob3BfaWQ6ICIiLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9yZWNlaXZlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBjb3Vwb25fbnVtOiAwLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9pZDogIiIsCiAgICAgICAgICAgICAgICAgICAgY291cG9uX21vbmV5OiA0MCwKICAgICAgICAgICAgICAgICAgICBjb3Vwb25fbW9uZXlfc3RhcnQ6IDgwLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9zdGFydDogIjIwMTgtMDEtMDEiLAogICAgICAgICAgICAgICAgICAgIGNvdXBvbl9lbmQ6ICIyMDE4LTEyLTEyIiwKICAgICAgICAgICAgICAgICAgICBjb3Vwb25fY29tbW9uOiAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF07CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnBhcnNlQ291cG9uTGlzdFNob3AgPSBmdW5jdGlvbiAoaXRlbUlkLCBzaG9wSWQsIHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHZhciBjb3Vwb25MaXN0ID0ge307CiAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5wcmljZVZvbHVtZXMpIHsKICAgICAgICAgICAgICAgIHJlc3BvbnNlLnByaWNlVm9sdW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdXBvbklkID0gaXRlbS5pZDsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVjZWl2ZSA9IGl0ZW0uc3RhdHVzID09ICJyZWNlaXZlZCI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdXBvbkxpc3QuaGFzT3duUHJvcGVydHkoY291cG9uSWQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvdXBvbkxpc3RbY291cG9uSWRdLmNvdXBvbl9yZWNlaXZlID0gcmVjZWl2ZTsKICAgICAgICAgICAgICAgICAgICAgICAgY291cG9uTGlzdFtjb3Vwb25JZF0uY291cG9uX251bSA9IGl0ZW0ucmVjZWl2ZWRBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291cG9uTW9uZXlTdGFydCA9IGl0ZW0uY29uZGl0aW9uLnJlcGxhY2UoIua7oSIsICIiKS5zcGxpdCgi5YePIilbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3Vwb25TdGFydCA9IGl0ZW0udGltZVJhbmdlLnNwbGl0KCItIilbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3Vwb25FbmQgPSBpdGVtLnRpbWVSYW5nZS5zcGxpdCgiLSIpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBjb3Vwb25MaXN0W2NvdXBvbklkXSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3BfaWQ6IHNob3BJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdXBvbl9yZWNlaXZlOiByZWNlaXZlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY291cG9uX251bTogaXRlbS5yZWNlaXZlZEFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdXBvbl9pZDogY291cG9uSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3Vwb25fbW9uZXk6IHBhcnNlRmxvYXQoaXRlbS5wcmljZSkudG9GaXhlZCgyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdXBvbl9tb25leV9zdGFydDogcGFyc2VGbG9hdChjb3Vwb25Nb25leVN0YXJ0KS50b0ZpeGVkKDIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY291cG9uX3N0YXJ0OiBjb3Vwb25TdGFydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdXBvbl9lbmQ6IGNvdXBvbkVuZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdXBvbl9jb21tb246IC0xCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGNvdXBvbkxpc3Q7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLm1hdGNoSXRlbVVybCA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgdmFyIHNpdGUgPSBvYmoubWF0Y2hTaXRlKHVybCk7CiAgICAgICAgICAgIHZhciBpdGVtSWQgPSBydW50aW1lLmdldFVybFBhcmFtKCJpZCIpOwoKICAgICAgICAgICAgaWYgKHNpdGUgPT0gY29uc3RhbnQuc2l0ZS50YW9iYW8pIHsKICAgICAgICAgICAgICAgIGlmIChpdGVtSWQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gImh0dHBzOi8vaXRlbS50YW9iYW8uY29tL2l0ZW0uaHRtP2lkPSIgKyBpdGVtSWQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzaXRlID09IGNvbnN0YW50LnNpdGUueWFueHVhbikgewogICAgICAgICAgICAgICAgaWYgKGl0ZW1JZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAiaHR0cDovL3lvdS4xNjMuY29tL2l0ZW0vZGV0YWlsP2lkPSIgKyBpdGVtSWQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOWOu+mZpOWPguaVsOWSjOWTiOW4jAogICAgICAgICAgICB1cmwgPSB1cmwuc3BsaXQoIj8iKVswXTsKICAgICAgICAgICAgdXJsID0gdXJsLnNwbGl0KCIjIilbMF07CgogICAgICAgICAgICBpZiAoc2l0ZSA9PSBjb25zdGFudC5zaXRlLmd1b21laSkgewogICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoImh0dHBzIiwgImh0dHAiKTsKICAgICAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLm1hdGNoU2l0ZSA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgLy8g5reY5a6dCiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigiLy9pdGVtLnRhb2Jhby5jb20vaXRlbS5odG0iKSA+IDAgfHwgdXJsLmluZGV4T2YoIi8vZGV0YWlsLnRtYWxsLmNvbS9pdGVtLmh0bSIpID4gMCB8fCB1cmwuaW5kZXhPZigiLy9jaGFvc2hpLmRldGFpbC50bWFsbC5jb20vaXRlbS5odG0iKSA+IDAgfHwgdXJsLmluZGV4T2YoIi8vZGV0YWlsLnRtYWxsLmhrL2hrL2l0ZW0uaHRtIikgPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnQuc2l0ZS50YW9iYW87CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOS6rOS4nAogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoIml0ZW0uamQuY29tIikgPiAwIHx8IHVybC5pbmRleE9mKCJpdGVtLmpkLmhrIikgPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnQuc2l0ZS5qZDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g6ICD5ouJCiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigiZ29vZHMua2FvbGEuY29tIikgPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnQuc2l0ZS5rYW9sYTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g5Lil6YCJCiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigieW91LjE2My5jb20vaXRlbSIpID4gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50LnNpdGUueWFueHVhbjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g6IuP5a6BCiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigicHJvZHVjdC5zdW5pbmcuY29tIikgPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnQuc2l0ZS5zdW5pbmc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOW9k+W9kwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoInByb2R1Y3QuZGFuZ2RhbmcuY29tIikgPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnQuc2l0ZS5kYW5nZGFuZzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g5Zu9576OCiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigiaXRlbS5nb21lLmNvbS5jbiIpID4gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50LnNpdGUuZ3VvbWVpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0QXBwZW5kSHRtbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGlkPSJ0Yi1jb29sLWFyZWEiPjxkaXYgY2xhc3M9InRiLWNvb2wtYXJlYS1ob21lIj48L2Rpdj48ZGl2IGNsYXNzPSJ0Yi1jb29sLWFyZWEtYmVuZWZpdCI+PGRpdiBjbGFzcz0idGItY29vbC1xdWFuLXFyY29kZSI+PC9kaXY+PGRpdiBjbGFzcz0idGItY29vbC1xdWFuLXRpdGxlIj48L2Rpdj48ZGl2IGNsYXNzPSJ0Yi1jb29sLXF1YW4tYWN0aW9uIj48L2Rpdj48L2Rpdj48ZGl2IGlkPSJ0Yi1jb29sLWFyZWEtaGlzdG9yeSIgY2xhc3M9InRiLWNvb2wtYXJlYS1oaXN0b3J5Ij48ZGl2IGNsYXNzPSJ0Yi1jb29sLWFyZWEtY29udGFpbmVyIj48L2Rpdj48cCBjbGFzcz0idGItY29vbC1oaXN0b3J5LXRpcCI+PC9wPjwvZGl2PjxkaXYgY2xhc3M9InRiLWNvb2wtYXJlYS10YWJsZSI+PHRhYmxlIGNsYXNzPSJ0Yi1jb29sLXF1YW4tdGFibGUiPjwvdGFibGU+PHAgY2xhc3M9InRiLWNvb2wtcXVhbi10aXAiPjwvcD48L2Rpdj48L2Rpdj4nOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfc2VhcmNoIiwgWyJydW50aW1lIiwgIm9wdGlvbiIsICJhcGkiLCAiJCJdLCBmdW5jdGlvbiAocnVudGltZSwgb3B0aW9uLCBhcGksICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzZWxlY3Rvckxpc3QgPSBbXTsKCiAgICAgICAgICAgIC8vIOaQnOe0oumhtQogICAgICAgICAgICBpZiAob3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC50YW9iYW9fc2VhcmNoKSkgewogICAgICAgICAgICAgICAgdmFyIHVybCA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoIi8vcy50YW9iYW8uY29tL3NlYXJjaCIpID4gMCB8fCB1cmwuaW5kZXhPZigiLy9zLnRhb2Jhby5jb20vbGlzdCIpID4gMCkgewogICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yTGlzdC5wdXNoKCIuaXRlbXMgLml0ZW0iKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHVybC5pbmRleE9mKCIvL2xpc3QudG1hbGwuY29tL3NlYXJjaF9wcm9kdWN0Lmh0bSIpID4gMCkgewogICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yTGlzdC5wdXNoKCIucHJvZHVjdCIpOwogICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yTGlzdC5wdXNoKCIuY2hhb3NoaS1yZWNvbW1lbmQtbGlzdCAuY2hhb3NoaS1yZWNvbW1lbmQtaXRlbSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAodXJsLmluZGV4T2YoIi8vbGlzdC50bWFsbC5oay9zZWFyY2hfcHJvZHVjdC5odG0iKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvckxpc3QucHVzaCgiI0pfSXRlbUxpc3QgLnByb2R1Y3QiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g5bqX6ZO66aG1CiAgICAgICAgICAgIGlmIChvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnRhb2Jhb19zaG9wKSkgewogICAgICAgICAgICAgICAgc2VsZWN0b3JMaXN0LnB1c2goIiNKX1Nob3BTZWFyY2hSZXN1bHQgLml0ZW0iKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHNlbGVjdG9yTGlzdCAmJiBzZWxlY3Rvckxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgb2JqLmluaXRTZWFyY2hIdG1sKHNlbGVjdG9yTGlzdCk7CiAgICAgICAgICAgICAgICBvYmouaW5pdFNlYXJjaEV2ZW50KCk7CiAgICAgICAgICAgICAgICBvYmouYmFzaWNRdWVyeSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdFNlYXJjaEh0bWwgPSBmdW5jdGlvbiAoc2VsZWN0b3JMaXN0KSB7CiAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHNlbGVjdG9yTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgICAgICAgICAgICAgIG9iai5pbml0U2VhcmNoSXRlbVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdFNlYXJjaEV2ZW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKGRvY3VtZW50KS5vbigiY2xpY2siLCAiLnRiLWNvb2wtYm94LWFyZWEiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgaWYgKCR0aGlzLmhhc0NsYXNzKCJ0Yi1jb29sLWJveC13YWl0IikpIHsKICAgICAgICAgICAgICAgICAgICBvYmouYmFzaWNRdWVyeUl0ZW0odGhpcyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCR0aGlzLmhhc0NsYXNzKCJ0Yi1jb29sLWJveC1pbmZvLXRyYW5zbHVjZW50IikpIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygidGItY29vbC1ib3gtaW5mby10cmFuc2x1Y2VudCIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygidGItY29vbC1ib3gtaW5mby10cmFuc2x1Y2VudCIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouYmFzaWNRdWVyeSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgJCgiLnRiLWNvb2wtYm94LXdhaXQiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBvYmouYmFzaWNRdWVyeUl0ZW0odGhpcyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRTZWFyY2hJdGVtU2VsZWN0b3IgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgJChzZWxlY3RvcikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBvYmouaW5pdFNlYXJjaEl0ZW0odGhpcyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5pbml0U2VhcmNoSXRlbSA9IGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHNlbGVjdG9yKTsKICAgICAgICAgICAgaWYgKCR0aGlzLmhhc0NsYXNzKCJ0Yi1jb29sLWJveC1hbHJlYWR5IikpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCJ0Yi1jb29sLWJveC1hbHJlYWR5IikKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIG5pZCA9ICR0aGlzLmF0dHIoImRhdGEtaWQiKTsKICAgICAgICAgICAgaWYgKCFvYmouaXNWYWlsaWRJdGVtSWQobmlkKSkgewogICAgICAgICAgICAgICAgbmlkID0gJHRoaXMuYXR0cigiZGF0YS1pdGVtaWQiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFvYmouaXNWYWlsaWRJdGVtSWQobmlkKSkgewogICAgICAgICAgICAgICAgaWYgKCR0aGlzLmF0dHIoImhyZWYiKSkgewogICAgICAgICAgICAgICAgICAgIG5pZCA9IGxvY2F0aW9uLnByb3RvY29sICsgJHRoaXMuYXR0cigiaHJlZiIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgJGEgPSAkdGhpcy5maW5kKCJhIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKCEkYS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgbmlkID0gJGEuYXR0cigiZGF0YS1uaWQiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIW9iai5pc1ZhaWxpZEl0ZW1JZChuaWQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkYS5oYXNDbGFzcygial9SZWNlaXZlQ291cG9uIikgJiYgJGEubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmlkID0gbG9jYXRpb24ucHJvdG9jb2wgKyAkKCRhWzFdKS5hdHRyKCJocmVmIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuaWQgPSBsb2NhdGlvbi5wcm90b2NvbCArICRhLmF0dHIoImhyZWYiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKG9iai5pc1ZhbGlkTmlkKG5pZCkpIHsKICAgICAgICAgICAgICAgIG9iai5hcHBlbkJhc2ljUXVlcnlIdG1sKCR0aGlzLCBuaWQpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmFwcGVuQmFzaWNRdWVyeUh0bWwgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIG5pZCkgewogICAgICAgICAgICBzZWxlY3Rvci5hcHBlbmQoJzxkaXYgY2xhc3M9InRiLWNvb2wtYm94LWFyZWEgdGItY29vbC1ib3gtd2FpdCIgZGF0YS1uaWQ9IicgKyBuaWQgKyAnIj48YSBjbGFzcz0idGItY29vbC1ib3gtaW5mbyB0Yi1jb29sLWJveC1pbmZvLWRlZmF1bHQiIHRpdGxlPSLngrnlh7vmn6Xor6IiPuW+heafpeivojwvYT48L2Rpdj4nKTsKICAgICAgICB9OwoKICAgICAgICBvYmouYmFzaWNRdWVyeUl0ZW0gPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgdmFyICR0aGlzID0gJChzZWxlY3Rvcik7CiAgICAgICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCJ0Yi1jb29sLWJveC13YWl0Iik7CgogICAgICAgICAgICB2YXIgbmlkID0gJHRoaXMuYXR0cigiZGF0YS1uaWQiKTsKICAgICAgICAgICAgYXBpLmJhc2ljUXVlcnkobmlkLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5jb2RlID09IDEpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY291cG9uX21vbmV5ID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0Jhc2ljUXVlcnlGaW5kKCR0aGlzLCBkYXRhLml0ZW1faWQsIGRhdGEuaXRlbV9wcmljZV9idXksIGRhdGEuY291cG9uX21vbmV5KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0Jhc2ljUXVlcnlFbXB0eSgkdGhpcyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBvYmouc2hvd0Jhc2ljUXVlcnlFbXB0eSgkdGhpcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93QmFzaWNRdWVyeUZpbmQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGl0ZW1JZCwgaXRlbVByaWNlQnV5LCBjb3Vwb25Nb25leSkgewogICAgICAgICAgICBzZWxlY3Rvci5odG1sKCc8YSB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9InRiLWNvb2wtYm94LWluZm8gdGItY29vbC1ib3gtaW5mby1maW5kIiB0aXRsZT0i5YiH5o2i6YCP5piO5bqmIj7liLjlkI4gJyArIGl0ZW1QcmljZUJ1eSArICfvvIjlh48nICsgY291cG9uTW9uZXkgKyAn5YWD77yJPC9hPicpOwogICAgICAgIH07CgogICAgICAgIG9iai5zaG93QmFzaWNRdWVyeUVtcHR5ID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgICAgICAgIHNlbGVjdG9yLmFkZENsYXNzKCJ0Yi1jb29sLWJveC1pbmZvLXRyYW5zbHVjZW50Iik7CiAgICAgICAgICAgIHNlbGVjdG9yLmh0bWwoJzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGNsYXNzPSJ0Yi1jb29sLWJveC1pbmZvIHRiLWNvb2wtYm94LWluZm8tZW1wdHkiIHRpdGxlPSLliIfmjaLpgI/mmI7luqYiPuaaguaXoOS8mOaDoDwvYT4nKTsKICAgICAgICB9OwoKICAgICAgICBvYmouaXNWYWlsaWRJdGVtSWQgPSBmdW5jdGlvbiAoaXRlbUlkKSB7CiAgICAgICAgICAgIGlmICghaXRlbUlkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBpdGVtSWRJbnQgPSBwYXJzZUludChpdGVtSWQpOwogICAgICAgICAgICBpZiAoaXRlbUlkSW50ID09IGl0ZW1JZCAmJiBpdGVtSWQgPiAxMDAwMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaXNWYWxpZE5pZCA9IGZ1bmN0aW9uIChuaWQpIHsKICAgICAgICAgICAgaWYgKCFuaWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChuaWQuaW5kZXhPZignaHR0cCcpID49IDApIHsKICAgICAgICAgICAgICAgIGlmIChvYmouaXNEZXRhaWxQYWdlVGFvQmFvKG5pZCkgfHwgbmlkLmluZGV4T2YoIi8vZGV0YWlsLmp1LnRhb2Jhby5jb20vaG9tZS5odG0iKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmlzRGV0YWlsUGFnZVRhb0JhbyA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCIvL2l0ZW0udGFvYmFvLmNvbS9pdGVtLmh0bSIpID4gMCB8fCB1cmwuaW5kZXhPZigiLy9kZXRhaWwudG1hbGwuY29tL2l0ZW0uaHRtIikgPiAwIHx8IHVybC5pbmRleE9mKCIvL2NoYW9zaGkuZGV0YWlsLnRtYWxsLmNvbS9pdGVtLmh0bSIpID4gMCB8fCB1cmwuaW5kZXhPZigiLy9kZXRhaWwudG1hbGwuaGsvaGsvaXRlbS5odG0iKSA+IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF9uZXdkYXkiLCBbIm9wdGlvbiIsICJlbnYiLCAiYXBpIiwgIm1ldGEiLCAiY29yZSIsICIkIiwgInZ1ZSJdLCBmdW5jdGlvbiAob3B0aW9uLCBlbnYsIGFwaSwgbWV0YSwgY29yZSwgJCwgdnVlKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAobWV0YS5leGlzdE1ldGEoImluZm8iKSkgewogICAgICAgICAgICAgICAgb2JqLmluaXRJbmZvUGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAobWV0YS5leGlzdE1ldGEoIm9wdGlvbiIpKSB7CiAgICAgICAgICAgICAgICBvYmouaW5pdE9wdGlvblBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKG1ldGEuZXhpc3RNZXRhKCJkZXYiKSkgewogICAgICAgICAgICAgICAgb2JqLmluaXREZXZQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0SW5mb1BhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG5ldyB2dWUoewogICAgICAgICAgICAgICAgZWw6ICIjY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBpbmZvOiBlbnYuZ2V0SW5mbygpCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5pbml0QWRkb25SZWFkeSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdE9wdGlvblBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG5ldyB2dWUoewogICAgICAgICAgICAgICAgZWw6ICIjY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBpbmZvOiBlbnYuZ2V0SW5mbygpLAogICAgICAgICAgICAgICAgICAgIG9wdGlvbjogb3B0aW9uLmdldE9wdGlvbigpCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5pbml0QWRkb25SZWFkeSgpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHdhdGNoOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uOiBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNldE9wdGlvbih2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5sb2dPcHRpb24odmFsdWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXREZXZQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIjZGV2LWFkZG9uLWluZm8iKS52YWwoSlNPTi5zdHJpbmdpZnkoZW52LmdldEluZm8oKSkpOwoKICAgICAgICAgICAgJCgiLmRldi1vcGVuLXBhZ2Utb3B0aW9uIikuYWRkQ2xhc3MoIm5kLW9wZW4tcGFnZS1vcHRpb24iKS5yZW1vdmVDbGFzcygiZGV2LW9wZW4tcGFnZS1vcHRpb24iKTsKICAgICAgICAgICAgJChkb2N1bWVudCkub24oImNsaWNrIiwgIi5uZC1vcGVuLXBhZ2Utb3B0aW9uIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29yZS5vcGVuT3B0aW9uUGFnZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdEFkZG9uUmVhZHkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQoImJvZHkiKS5hZGRDbGFzcygibmQtYWRkb24tcmVhZHkiKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYXBwIiwgWyJydW50aW1lIiwgImFkZG9uIiwgIm1ldGEiLCAibG9nZ2VyIiwgIiQiXSwgZnVuY3Rpb24gKHJ1bnRpbWUsIGFkZG9uLCBtZXRhLCBsb2dnZXIsICQsIHJlcXVpcmUpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBtZXRhTmFtZSA9ICJzdGF0dXMiOwogICAgICAgICAgICBpZiAobWV0YS5leGlzdE1ldGEobWV0YU5hbWUpKSB7CiAgICAgICAgICAgICAgICBsb2dnZXIud2Fybigic2V0dXAgYWxyZWFkeSIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGFkZG9uLmlzRW5hYmxlKCkpIHsKICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCJzZXR1cCBzdWNjZXNzIik7CgogICAgICAgICAgICAgICAgLy8g5re75YqgbWV0YQogICAgICAgICAgICAgICAgbWV0YS5hcHBlbmRNZXRhKG1ldGFOYW1lKTsKCiAgICAgICAgICAgICAgICAvLyDov5DooYzlupTnlKgKICAgICAgICAgICAgICAgICQob2JqLnJ1bkFwcCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBsb2dnZXIud2FybigiYWRkb24gZGlzYWJsZWQiKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5nZXRBcHBMaXN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfZGV0YWlsIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgInRhb2Jhby5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAidG1hbGwuY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgInRtYWxsLmhrIiwKICAgICAgICAgICAgICAgICAgICAgICAgImpkLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJqZC5oayIsCiAgICAgICAgICAgICAgICAgICAgICAgICJrYW9sYS5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAiMTYzLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJzdW5pbmcuY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgImRhbmdkYW5nLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJnb21lLmNvbS5jbiIsCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX3NlYXJjaCIsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICJ0YW9iYW8uY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgInRtYWxsLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ0bWFsbC5oayIKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfbmV3ZGF5IiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgIioiCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdOwogICAgICAgIH07CgogICAgICAgIG9iai5ydW5BcHAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBsb2dnZXIuaW5mbyh1cmwpOwoKICAgICAgICAgICAgdmFyIGFwcExpc3QgPSBvYmouZ2V0QXBwTGlzdCgpOwogICAgICAgICAgICBmb3IgKHZhciBpIGluIGFwcExpc3QpIHsKICAgICAgICAgICAgICAgIHZhciBhcHAgPSBhcHBMaXN0W2ldOwogICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGFwcCk7CgogICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gb2JqLm1hdGNoQXBwKHVybCwgYXBwKTsKICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygibWF0Y2ggIiArIChtYXRjaCA/ICJ5ZXMiIDogIm5vIikpOwoKICAgICAgICAgICAgICAgIGlmIChtYXRjaCA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCJydW4gIiArIGFwcC5uYW1lKTsKICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlKGFwcC5uYW1lKS5ydW4oKSA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmoubWF0Y2hBcHAgPSBmdW5jdGlvbiAodXJsLCBhcHApIHsKICAgICAgICAgICAgdmFyIG1hdGNoID0gZmFsc2U7CiAgICAgICAgICAgIGFwcC5tYXRjaHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKGl0ZW0pID4gMCB8fCBpdGVtID09ICIqIikgewogICAgICAgICAgICAgICAgICAgIG1hdGNoID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBtYXRjaDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLy8gbGliCiAgICBjb250YWluZXIuZGVmaW5lKCIkIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gd2luZG93LiQ7CiAgICB9KTsKICAgIGNvbnRhaW5lci5kZWZpbmUoInNuYXAiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0eXBlb2YgU25hcCAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICByZXR1cm4gU25hcDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuU25hcDsKICAgICAgICB9CiAgICB9KTsKICAgIGNvbnRhaW5lci5kZWZpbmUoInZ1ZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5WdWU7CiAgICB9KTsKICAgIGNvbnRhaW5lci5kZWZpbmUoImVjaGFydHMiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0eXBlb2YgZWNoYXJ0cyAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICByZXR1cm4gZWNoYXJ0czsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuZWNoYXJ0czsKICAgICAgICB9CiAgICB9KTsKCiAgICBjb250YWluZXIudXNlKFsiZ20iLCAiY29yZSIsICJhcHAiLCAibG9nZ2VyIl0sIGZ1bmN0aW9uIChnbSwgY29yZSwgYXBwLCBsb2dnZXIpIHsKICAgICAgICBnbS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIOaXpeW/l+e6p+WIqwogICAgICAgICAgICBsb2dnZXIuc2V0TGV2ZWwobG9nZ2VyLmNvbnN0YW50LmluZm8pOwoKICAgICAgICAgICAgY29yZS5yZWFkeShhcHAucnVuKTsKICAgICAgICB9KTsKICAgIH0pOwoKCn07Cgp2YXIgYXBwWHp3cyA9IGZ1bmN0aW9uICgpIHsKICAgIAogICAgdmFyIGluamVjdENvbmZpZyA9IHsKICAgICAgICBuYW1lOiAieHp3cyIsCiAgICAgICAgdmVyc2lvbjogIjAuMS41IgogICAgfTsKCiAgICB2YXIgY29udGFpbmVyID0gKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICBtb2R1bGVfZGVmaW5lczoge30sCiAgICAgICAgICAgIG1vZHVsZV9vYmplY3RzOiB7fQogICAgICAgIH07CgogICAgICAgIG9iai5kZWZpbmUgPSBmdW5jdGlvbiAobmFtZSwgcmVxdWlyZXMsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgIG9iai5tb2R1bGVfZGVmaW5lc1tuYW1lXSA9IHsKICAgICAgICAgICAgICAgIHJlcXVpcmVzOiByZXF1aXJlcywKICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjawogICAgICAgICAgICB9OwogICAgICAgIH07CgogICAgICAgIG9iai5yZXF1aXJlID0gZnVuY3Rpb24gKG5hbWUsIGNhY2hlKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FjaGUgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIGNhY2hlID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbmFtZSA9IG9iai5wcm9jZXNzTmFtZShuYW1lKTsKICAgICAgICAgICAgaWYgKGNhY2hlICYmIG9iai5tb2R1bGVfb2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5tb2R1bGVfb2JqZWN0c1tuYW1lXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChvYmoubW9kdWxlX2RlZmluZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHsKICAgICAgICAgICAgICAgIHZhciByZXF1aXJlcyA9IG9iai5tb2R1bGVfZGVmaW5lc1tuYW1lXS5yZXF1aXJlczsKICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IG9iai5tb2R1bGVfZGVmaW5lc1tuYW1lXS5jYWxsYmFjazsKCiAgICAgICAgICAgICAgICB2YXIgbW9kdWxlID0gb2JqLnVzZShyZXF1aXJlcywgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgY2FjaGUgJiYgb2JqLnJlZ2lzdGVyKG5hbWUsIG1vZHVsZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnVzZSA9IGZ1bmN0aW9uIChyZXF1aXJlcywgY2FsbGJhY2spIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHsKICAgICAgICAgICAgICAgIGV4cG9ydHM6IHt9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBvYmouYnVpbGRQYXJhbXMocmVxdWlyZXMsIG1vZHVsZSk7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjay5hcHBseSh0aGlzLCBwYXJhbXMpOwogICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGUuZXhwb3J0czsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5yZWdpc3RlciA9IGZ1bmN0aW9uIChuYW1lLCBtb2R1bGUpIHsKICAgICAgICAgICAgbmFtZSA9IG9iai5wcm9jZXNzTmFtZShuYW1lKTsKICAgICAgICAgICAgb2JqLm1vZHVsZV9vYmplY3RzW25hbWVdID0gbW9kdWxlOwogICAgICAgIH07CgogICAgICAgIG9iai5idWlsZFBhcmFtcyA9IGZ1bmN0aW9uIChyZXF1aXJlcywgbW9kdWxlKSB7CiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbXTsKICAgICAgICAgICAgcmVxdWlyZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICAgICAgcGFyYW1zLnB1c2gob2JqLnJlcXVpcmUobmFtZSkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcGFyYW1zLnB1c2gob2JqLnJlcXVpcmUpOwogICAgICAgICAgICBwYXJhbXMucHVzaChtb2R1bGUuZXhwb3J0cyk7CiAgICAgICAgICAgIHBhcmFtcy5wdXNoKG1vZHVsZSk7CiAgICAgICAgICAgIHJldHVybiBwYXJhbXM7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnByb2Nlc3NOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkZWZpbmU6IG9iai5kZWZpbmUsCiAgICAgICAgICAgIHVzZTogb2JqLnVzZSwKICAgICAgICAgICAgcmVnaXN0ZXI6IG9iai5yZWdpc3RlciwKICAgICAgICAgICAgbW9kdWxlczogb2JqLm1vZHVsZV9vYmplY3RzCiAgICAgICAgfTsKICAgIH0pKCk7CgogICAgY29udGFpbmVyLmRlZmluZSgiZ20iLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJlYWR5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgR01fZ2V0VmFsdWUgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBvYmoucmVhZHkoY2FsbGJhY2spOwogICAgICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJydW50aW1lIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICB1cmw6IGxvY2F0aW9uLmhyZWYKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0VXJsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gb2JqLnVybDsKICAgICAgICB9OwoKICAgICAgICBvYmouc2V0VXJsID0gZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICBvYmoudXJsID0gdXJsOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJvYmplY3QiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmtleXMgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICB2YXIgbGlzdCA9IFtdOwogICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkgewogICAgICAgICAgICAgICAgbGlzdC5wdXNoKGtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnZhbHVlcyA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHZhciBsaXN0ID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7CiAgICAgICAgICAgICAgICBsaXN0LnB1c2goZGF0YVtrZXldKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbGlzdDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgic3RvcmFnZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouZ2V0VmFsdWUgPSBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZShuYW1lLCBkZWZhdWx0VmFsdWUpOwogICAgICAgIH07CgogICAgICAgIG9iai5zZXRWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICBHTV9zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFZhbHVlTGlzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG5hbWVMaXN0ID0gR01fbGlzdFZhbHVlcygpOwogICAgICAgICAgICB2YXIgdmFsdWVMaXN0ID0ge307CiAgICAgICAgICAgIG5hbWVMaXN0LmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgICAgIHZhbHVlTGlzdFtuYW1lXSA9IG9iai5nZXRWYWx1ZShuYW1lKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZUxpc3Q7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImFkZG9uIiwgWyJzdG9yYWdlIiwgImNvbnN0YW50Il0sIGZ1bmN0aW9uIChzdG9yYWdlLCBjb25zdGFudCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50Lm5hbWUgKyAiX3N0YXR1cyIKICAgICAgICB9OwoKICAgICAgICBvYmouaXNFbmFibGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChzdG9yYWdlLmdldFZhbHVlKG9iai5uYW1lKSA9PSAib2ZmIikgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiY29uZmlnIiwgWyJzdG9yYWdlIiwgImNvbnN0YW50Il0sIGZ1bmN0aW9uIChzdG9yYWdlLCBjb25zdGFudCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIG5hbWU6ICJjb25maWdfanNvbiIKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0Q29uZmlnID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgdmFyIGNvbmZpZ0pzb24gPSBzdG9yYWdlLmdldFZhbHVlKG9iai5uYW1lKTsKICAgICAgICAgICAgdmFyIGNvbmZpZ09iamVjdCA9IG9iai5wYXJzZUpzb24oY29uZmlnSnNvbik7CiAgICAgICAgICAgIGlmIChuYW1lKSB7CiAgICAgICAgICAgICAgICBuYW1lID0gb2JqLnByb2Nlc3NOYW1lKG5hbWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ09iamVjdC5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IGNvbmZpZ09iamVjdFtuYW1lXSA6IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnT2JqZWN0OwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldENvbmZpZyA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICB2YXIgY29uZmlnT2JqZWN0ID0gb2JqLmdldENvbmZpZygpOwogICAgICAgICAgICBjb25maWdPYmplY3Rbb2JqLnByb2Nlc3NOYW1lKG5hbWUpXSA9IHZhbHVlOwogICAgICAgICAgICBzdG9yYWdlLnNldFZhbHVlKG9iai5uYW1lLCBKU09OLnN0cmluZ2lmeShjb25maWdPYmplY3QpKTsKICAgICAgICB9OwoKICAgICAgICBvYmoucGFyc2VKc29uID0gZnVuY3Rpb24gKGpzb25TdHIpIHsKICAgICAgICAgICAgdmFyIGpzb25PYmplY3QgPSB7fTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmIChqc29uU3RyKSB7CiAgICAgICAgICAgICAgICAgICAganNvbk9iamVjdCA9IEpTT04ucGFyc2UoanNvblN0cik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfQogICAgICAgICAgICByZXR1cm4ganNvbk9iamVjdDsKICAgICAgICB9OwoKICAgICAgICBvYmoucHJvY2Vzc05hbWUgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICByZXR1cm4gY29uc3RhbnQubmFtZSArICJfIiArIG5hbWU7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoIm9wdGlvbiIsIFsiY29uZmlnIiwgImNvbnN0YW50IiwgIm9iamVjdCJdLCBmdW5jdGlvbiAoY29uZmlnLCBjb25zdGFudCwgb2JqZWN0KSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbmFtZTogIm9wdGlvbiIsCiAgICAgICAgICAgIGNvbnN0YW50OiBjb25zdGFudC5vcHRpb24KICAgICAgICB9OwoKICAgICAgICBvYmouaXNPcHRpb25BY3RpdmUgPSBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICB2YXIgbmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9iai5nZXRPcHRpb24oKTsKICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5pbmRleE9mKG5hbWUpID49IDAgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldE9wdGlvbkFjdGl2ZSA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbS5uYW1lOwogICAgICAgICAgICB2YXIgb3B0aW9uID0gb2JqLmdldE9wdGlvbigpOwogICAgICAgICAgICBpZiAob3B0aW9uLmluZGV4T2YobmFtZSkgPCAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24ucHVzaChuYW1lKTsKICAgICAgICAgICAgICAgIG9iai5zZXRPcHRpb24ob3B0aW9uKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5zZXRPcHRpb25VbkFjdGl2ZSA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbS5uYW1lOwogICAgICAgICAgICB2YXIgb3B0aW9uID0gb2JqLmdldE9wdGlvbigpOwogICAgICAgICAgICB2YXIgaW5kZXggPSBvcHRpb24uaW5kZXhPZihuYW1lKTsKICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25baW5kZXhdOwogICAgICAgICAgICAgICAgb2JqLnNldE9wdGlvbihvcHRpb24pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE9wdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG9wdGlvbiA9IFtdOwogICAgICAgICAgICB2YXIgb3B0aW9uT2JqZWN0ID0gb2JqLmdldE9wdGlvbk9iamVjdCgpOwogICAgICAgICAgICBvYmplY3QudmFsdWVzKG9iai5jb25zdGFudCkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpdGVtLm5hbWU7CiAgICAgICAgICAgICAgICBpZiAob3B0aW9uT2JqZWN0Lmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbk9iamVjdFtuYW1lXSAhPSAibm8iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5wdXNoKG5hbWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udmFsdWUgIT0gIm5vIikgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbi5wdXNoKG5hbWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjsKICAgICAgICB9OwoKICAgICAgICBvYmouc2V0T3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikgewogICAgICAgICAgICB2YXIgb3B0aW9uT2JqZWN0ID0ge307CiAgICAgICAgICAgIG9iamVjdC52YWx1ZXMob2JqLmNvbnN0YW50KS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgICAgICAgICAgIGlmIChvcHRpb24uaW5kZXhPZihuYW1lKSA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uT2JqZWN0W25hbWVdID0gInllcyI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbk9iamVjdFtuYW1lXSA9ICJubyI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBvYmouc2V0T3B0aW9uT2JqZWN0KG9wdGlvbk9iamVjdCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE9wdGlvbk9iamVjdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG9wdGlvbk9iamVjdCA9IGNvbmZpZy5nZXRDb25maWcob2JqLm5hbWUpOwogICAgICAgICAgICByZXR1cm4gb3B0aW9uT2JqZWN0ID8gb3B0aW9uT2JqZWN0IDoge307CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldE9wdGlvbk9iamVjdCA9IGZ1bmN0aW9uIChvcHRpb25PYmplY3QpIHsKICAgICAgICAgICAgY29uZmlnLnNldENvbmZpZyhvYmoubmFtZSwgb3B0aW9uT2JqZWN0KTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgibW9kZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgY29uc3RhbnQ6IHsKICAgICAgICAgICAgICAgIGFkZG9uOiAiYWRkb24iLAogICAgICAgICAgICAgICAgc2NyaXB0OiAic2NyaXB0IgogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgR01faW5mbyA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5jb25zdGFudC5hZGRvbjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChHTV9pbmZvLnNjcmlwdEhhbmRsZXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBvYmouY29uc3RhbnQuc2NyaXB0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5jb25zdGFudC5hZGRvbjsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJ1c2VyIiwgWyJzdG9yYWdlIl0sIGZ1bmN0aW9uIChzdG9yYWdlKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouZ2V0VWlkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdWlkID0gc3RvcmFnZS5nZXRWYWx1ZSgidWlkIik7CiAgICAgICAgICAgIGlmICghdWlkKSB7CiAgICAgICAgICAgICAgICB1aWQgPSBvYmoucmFuZFN0cmluZygzMik7CiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldFZhbHVlKCJ1aWQiLCB1aWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB1aWQ7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJhbmRTdHJpbmcgPSBmdW5jdGlvbiAobGVuZ3RoKSB7CiAgICAgICAgICAgIHZhciBwb3NzaWJsZSA9ICJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiOwogICAgICAgICAgICB2YXIgdGV4dCA9ICIiOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYnJvd3NlciIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgY29uc3RhbnQ6IHsKICAgICAgICAgICAgICAgIGZpcmVmb3g6ICJmaXJlZm94IiwKICAgICAgICAgICAgICAgIGVkZ2U6ICJlZGdlIiwKICAgICAgICAgICAgICAgIGJhaWR1OiAiYmFpZHUiLAogICAgICAgICAgICAgICAgbGllYmFvOiAibGllYmFvIiwKICAgICAgICAgICAgICAgIHVjOiAidWMiLAogICAgICAgICAgICAgICAgcXE6ICJxcSIsCiAgICAgICAgICAgICAgICBzb2dvdTogInNvZ291IiwKICAgICAgICAgICAgICAgIG9wZXJhOiAib3BlcmEiLAogICAgICAgICAgICAgICAgbWF4dGhvbjogIm1heHRob24iLAogICAgICAgICAgICAgICAgaWUyMzQ1OiAiMjM0NSIsCiAgICAgICAgICAgICAgICBzZTM2MDogIjM2MCIsCiAgICAgICAgICAgICAgICBjaHJvbWU6ICJjaHJvbWUiLAogICAgICAgICAgICAgICAgc2FmYXJpOiAic2FmYXJpIiwKICAgICAgICAgICAgICAgIG90aGVyOiAib3RoZXIiCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0QnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG9iai5tYXRjaEJyb3dzZXJUeXBlKG5hdmlnYXRvci51c2VyQWdlbnQpOwogICAgICAgIH07CgogICAgICAgIG9iai5tYXRjaEJyb3dzZXJUeXBlID0gZnVuY3Rpb24gKHVzZXJBZ2VudCkgewogICAgICAgICAgICB2YXIgYnJvd3NlciA9IG9iai5jb25zdGFudC5vdGhlcjsKICAgICAgICAgICAgdXNlckFnZW50ID0gdXNlckFnZW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIGlmICh1c2VyQWdlbnQubWF0Y2goL2ZpcmVmb3gvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmZpcmVmb3g7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9lZGdlLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5lZGdlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvYmlkdWJyb3dzZXIvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmJhaWR1OwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvbGJicm93c2VyLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5saWViYW87CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC91YnJvd3Nlci8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQudWM7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9xcWJyb3dzZS8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQucXE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9tZXRhc3IvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LnNvZ291OwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvb3ByLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5vcGVyYTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL21heHRob24vKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50Lm1heHRob247CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC8yMzQ1ZXhwbG9yZXIvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmllMjM0NTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL2Nocm9tZS8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGlmIChvYmouZXhpc3RNaW1lKCJ0eXBlIiwgImFwcGxpY2F0aW9uL3ZuZC5jaHJvbWl1bS5yZW1vdGluZy12aWV3ZXIiKSkgewogICAgICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQuc2UzNjA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQuY2hyb21lOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvc2FmYXJpLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5zYWZhcmk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXI7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmV4aXN0TWltZSA9IGZ1bmN0aW9uIChvcHRpb24sIHZhbHVlKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICB2YXIgbWltZVR5cGVzID0gbmF2aWdhdG9yLm1pbWVUeXBlczsKICAgICAgICAgICAgICAgIGZvciAodmFyIG10IGluIG1pbWVUeXBlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChtaW1lVHlwZXNbbXRdW29wdGlvbl0gPT0gdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiZW52IiwgWyJtb2RlIiwgInVzZXIiLCAiYnJvd3NlciIsICJjb25zdGFudCJdLCBmdW5jdGlvbiAobW9kZSwgdXNlciwgYnJvd3NlciwgY29uc3RhbnQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5pc0FkZG9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAobW9kZS5nZXRNb2RlKCkgPT0gbW9kZS5jb25zdGFudC5hZGRvbikgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaXNJbmplY3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChvYmouaXNBZGRvbigpKSB7CiAgICAgICAgICAgICAgICBpZiAoR01faW5mby5hZGRvbi5uYW1lICE9IGNvbnN0YW50Lm5hbWUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIChHTV9pbmZvLnNjcmlwdC5hbGlhcyAmJiBHTV9pbmZvLnNjcmlwdC5hbGlhcyAhPSBjb25zdGFudC5uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0TW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG1vZGUuZ2V0TW9kZSgpOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRBaWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChHTV9pbmZvLmFkZG9uICYmIEdNX2luZm8uYWRkb24uaWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBHTV9pbmZvLmFkZG9uLmlkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKEdNX2luZm8uc2NyaXB0SGFuZGxlcikgewogICAgICAgICAgICAgICAgcmV0dXJuIEdNX2luZm8uc2NyaXB0SGFuZGxlci50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuICJ1bmtub3duIjsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5nZXRVaWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB1c2VyLmdldFVpZCgpOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRWZXJzaW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAob2JqLmlzSW5qZWN0KCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RDb25maWcudmVyc2lvbjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBHTV9pbmZvLnNjcmlwdC52ZXJzaW9uOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldEJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmdldEJyb3dzZXIoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0SW5mbyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIG1vZGU6IG9iai5nZXRNb2RlKCksCiAgICAgICAgICAgICAgICBhaWQ6IG9iai5nZXRBaWQoKSwKICAgICAgICAgICAgICAgIHVpZDogb2JqLmdldFVpZCgpLAogICAgICAgICAgICAgICAgdmVyc2lvbjogb2JqLmdldFZlcnNpb24oKSwKICAgICAgICAgICAgICAgIGJyb3dzZXI6IG9iai5nZXRCcm93c2VyKCkKICAgICAgICAgICAgfTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiaHR0cCIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouYWpheCA9IGZ1bmN0aW9uIChvcHRpb24pIHsKICAgICAgICAgICAgdmFyIGRldGFpbHMgPSB7CiAgICAgICAgICAgICAgICB1cmw6IG9wdGlvbi51cmwsCiAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IG9wdGlvbi5kYXRhVHlwZSwKICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zdWNjZXNzICYmIG9wdGlvbi5zdWNjZXNzKHJlc3VsdC5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbi5lcnJvciAmJiBvcHRpb24uZXJyb3IocmVzdWx0LmVycm9yKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vIOaPkOS6pOaVsOaNrgogICAgICAgICAgICBpZiAob3B0aW9uLmRhdGEpIHsKICAgICAgICAgICAgICAgIGRldGFpbHMubWV0aG9kID0gIlBPU1QiOwogICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5kYXRhIGluc3RhbmNlb2YgRm9ybURhdGEpIHsKICAgICAgICAgICAgICAgICAgICBkZXRhaWxzLmRhdGEgPSBvcHRpb24uZGF0YTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9uLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGksIG9wdGlvbi5kYXRhW2ldKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5kYXRhID0gZm9ybURhdGE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBkZXRhaWxzLm1ldGhvZCA9ICJHRVQiOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDoh6rlrprkuYnlpLQKICAgICAgICAgICAgaWYgKG9wdGlvbi5oZWFkZXJzKSB7CiAgICAgICAgICAgICAgICBkZXRhaWxzLmhlYWRlcnMgPSBvcHRpb24uaGVhZGVyczsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g6LaF5pe2CiAgICAgICAgICAgIGlmIChvcHRpb24udGltZW91dCkgewogICAgICAgICAgICAgICAgZGV0YWlscy50aW1lb3V0ID0gb3B0aW9uLnRpbWVvdXQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KGRldGFpbHMpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJsb2dnZXIiLCBbImVudiIsICJjb25zdGFudCJdLCBmdW5jdGlvbiAoZW52LCBjb25zdGFudCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIGxldmVsOiAzLAogICAgICAgICAgICBjb25zdGFudDogewogICAgICAgICAgICAgICAgZGVidWc6IDAsCiAgICAgICAgICAgICAgICBpbmZvOiAxLAogICAgICAgICAgICAgICAgd2FybjogMiwKICAgICAgICAgICAgICAgIGVycm9yOiAzCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZGVidWcgPSBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgICAgICBvYmoubG9nKG1lc3NhZ2UsIG9iai5jb25zdGFudC5kZWJ1Zyk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluZm8gPSBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgICAgICBvYmoubG9nKG1lc3NhZ2UsIG9iai5jb25zdGFudC5pbmZvKTsKICAgICAgICB9OwoKICAgICAgICBvYmoud2FybiA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICAgIG9iai5sb2cobWVzc2FnZSwgb2JqLmNvbnN0YW50Lndhcm4pOwogICAgICAgIH07CgogICAgICAgIG9iai5lcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICAgIG9iai5sb2cobWVzc2FnZSwgb2JqLmNvbnN0YW50LmVycm9yKTsKICAgICAgICB9OwoKICAgICAgICBvYmoubG9nID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGxldmVsKSB7CiAgICAgICAgICAgIGlmIChsZXZlbCA8IG9iai5sZXZlbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmdyb3VwKCJbIiArIGNvbnN0YW50Lm5hbWUgKyAiXSIgKyBlbnYuZ2V0TW9kZSgpKTsKICAgICAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7CiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouc2V0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwpIHsKICAgICAgICAgICAgb2JqLmxldmVsID0gbGV2ZWw7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoIm1ldGEiLCBbImNvbnN0YW50IiwgIiQiXSwgZnVuY3Rpb24gKGNvbnN0YW50LCAkKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouZXhpc3RNZXRhID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgbmFtZSA9IG9iai5wcm9jZXNzTmFtZShuYW1lKTsKICAgICAgICAgICAgaWYgKCQoIm1ldGFbbmFtZT0nIiArIG5hbWUgKyAiJ10iKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmFwcGVuZE1ldGEgPSBmdW5jdGlvbiAobmFtZSwgY29udGVudCkgewogICAgICAgICAgICBuYW1lID0gb2JqLnByb2Nlc3NOYW1lKG5hbWUpOwogICAgICAgICAgICBjb250ZW50IHx8IChjb250ZW50ID0gIm9uIik7CiAgICAgICAgICAgICQoJzxtZXRhIG5hbWU9IicgKyBuYW1lICsgJyIgY29udGVudD0ib24iPicpLmFwcGVuZFRvKCQoImhlYWQiKSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnByb2Nlc3NOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50Lm5hbWUgKyAiOjoiICsgbmFtZTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLyoqIGN1c3RvbSBzdGFydCAqKi8KICAgIGNvbnRhaW5lci5kZWZpbmUoImNvbnN0YW50IiwgWyJtb2RlIiwgImJyb3dzZXIiXSwgZnVuY3Rpb24gKG1vZGUsIGJyb3dzZXIpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBuYW1lOiBpbmplY3RDb25maWcubmFtZSwKICAgICAgICAgICAgbW9kZTogbW9kZS5jb25zdGFudCwKICAgICAgICAgICAgYnJvd3NlcjogYnJvd3Nlci5jb25zdGFudCwKICAgICAgICAgICAgb3B0aW9uOiB7CiAgICAgICAgICAgICAgICBzaXRlX29ubGluZWRvd246IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAic2l0ZV9vbmxpbmVkb3duIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzaXRlX2NyMTczOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogInNpdGVfY3IxNzMiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNpdGVfeGlhemFpYmE6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAic2l0ZV94aWF6YWliYSIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ5ZXMiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2l0ZV9teWRvd246IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAic2l0ZV9teWRvd24iLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNpdGVfcGM2OiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogInNpdGVfcGM2IiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzaXRlX3pvbDogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJzaXRlX3pvbCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ5ZXMiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2l0ZV9wY29ubGluZTogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJzaXRlX3Bjb25saW5lIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzaXRlX2piNTE6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAic2l0ZV9qYjUxIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzaXRlX2NuY3JrOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogInNpdGVfY25jcmsiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNpdGVfcGNfcXE6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAic2l0ZV9wY19xcSIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ5ZXMiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2l0ZV9jcnNreTogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJzaXRlX2Nyc2t5IiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzaXRlX2R1b3RlOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogInNpdGVfZHVvdGUiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNpdGVfZG93bnphOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogInNpdGVfZG93bnphIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzaXRlX3llc2t5OiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogInNpdGVfeWVza3kiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNpdGVfZGRvb286IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAic2l0ZV9kZG9vbyIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ5ZXMiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2l0ZV9wY2hvbWU6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAic2l0ZV9wY2hvbWUiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNpdGVfeHBnb2Q6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAic2l0ZV94cGdvZCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ5ZXMiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2l0ZV81Mno6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAic2l0ZV81MnoiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAieWVzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNpdGVfb3Bkb3duOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogInNpdGVfb3Bkb3duIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInllcyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJjb3JlIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5yZWFkeSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICAvLyBodHRwOi8vd3d3Lm9ubGluZWRvd24ubmV0L3NvZnQvNS5odG0KICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF9vbmxpbmVkb3duIiwgWyJydW50aW1lIiwgIm9wdGlvbiIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBvcHRpb24sICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoIm9ubGluZWRvd24ubmV0L3NvZnQiKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuc2l0ZV9vbmxpbmVkb3duKSAmJiBvYmouaW5pdERvd25sb2FkUGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdERvd25sb2FkUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g6aG26YOo6auY6YCf5LiL6L29CiAgICAgICAgICAgICQoIi5vbmVkb3duYnRuMiIpLmhpZGUoKTsKCiAgICAgICAgICAgIC8vIOW6lemDqOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCQoIi5kb3duRHogaDQiKS5nZXQoMCkpLmhpZGUoKTsKICAgICAgICAgICAgJCgiLmRvd25EeiAuZ2Fvc3UiKS5oaWRlKCk7CgogICAgICAgICAgICAvLyDnp7vpmaTlvLnnqpcKICAgICAgICAgICAgJCgiLnd4V3AiKS5yZW1vdmUoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLy8gaHR0cHM6Ly93d3cuY3IxNzMuY29tL3NvZnQvMTg2NDUuaHRtbAogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX2NyMTczIiwgWyJydW50aW1lIiwgIm9wdGlvbiIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBvcHRpb24sICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoImNyMTczLmNvbS9zb2Z0IikgPiAwIHx8IHVybC5pbmRleE9mKCJjcjE3My5jb20vZ2FtZSIpID4gMCkgewogICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5zaXRlX2NyMTczKSAmJiBvYmouaW5pdFNvZnRQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0U29mdFBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIOmhtumDqOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCIuZG93bm5vd2dhb3N1IikuaGlkZSgpOwoKICAgICAgICAgICAgLy8g5bqV6YOo6auY6YCf5LiL6L29CiAgICAgICAgICAgICQoIi51bF9BZGRyZXNzIikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5maW5kKCIuZi1nc2gzIikubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgICQoJCh0aGlzKS5maW5kKCIuZi1nc2gzIikuZ2V0KDApKS5oaWRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIudWxfQWRkcmVzcyAuZG93bnVybCIpLmhpZGUoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLy8gaHR0cHM6Ly93d3cueGlhemFpYmEuY29tL2h0bWwvODIuaHRtbAogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX3hpYXphaWJhIiwgWyJydW50aW1lIiwgIm9wdGlvbiIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBvcHRpb24sICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoInhpYXphaWJhLmNvbS9odG1sIikgPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnNpdGVfeGlhemFpYmEpICYmIG9iai5pbml0RG93bmxvYWRQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RG93bmxvYWRQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDpobbpg6jpq5jpgJ/kuIvovb0KICAgICAgICAgICAgJCgiLmhzcGVlZCIpLmhpZGUoKTsKCiAgICAgICAgICAgIC8vIOW6lemDqOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCIubmVlZGZhc3QiKS5wYXJlbnQoKS5oaWRlKCk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIC8vIGh0dHA6Ly93d3cubXlkb3duLmNvbS9zb2Z0LzQyMS80NzIwMzA5MjEuc2h0bWwKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF9teWRvd24iLCBbInJ1bnRpbWUiLCAib3B0aW9uIiwgIiQiXSwgZnVuY3Rpb24gKHJ1bnRpbWUsIG9wdGlvbiwgJCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVybCA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigibXlkb3duLmNvbS9zb2Z0IikgPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnNpdGVfbXlkb3duKSAmJiBvYmouaW5pdERvd25sb2FkUGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdERvd25sb2FkUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g6auY6YCf5LiL6L29CiAgICAgICAgICAgICQoIi5kb3duYnRuIikuaGlkZSgpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICAvLyBodHRwOi8vd3d3LnBjNi5jb20vc29mdHZpZXcvU29mdFZpZXdfMTgyMi5odG1sCiAgICAvLyBodHRwOi8vd3d3LnBjNi5jb20vbW9kLzY0NzM4OS5odG1sCiAgICAvLyBodHRwOi8vd3d3LnBjNi5jb20vYXovMjU0NzM0Lmh0bWwKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF9wYzYiLCBbInJ1bnRpbWUiLCAib3B0aW9uIiwgIiQiXSwgZnVuY3Rpb24gKHJ1bnRpbWUsIG9wdGlvbiwgJCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVybCA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigicGM2LmNvbS9zb2Z0dmlldyIpID4gMCkgewogICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5zaXRlX3BjNikgJiYgb2JqLmluaXREb3dubG9hZFBhZ2VTb2Z0KCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmICh1cmwuaW5kZXhPZigicGM2LmNvbS9tb2QiKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuc2l0ZV9wYzYpICYmIG9iai5pbml0RG93bmxvYWRQYWdlU29mdCgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAodXJsLmluZGV4T2YoInBjNi5jb20vYXoiKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuc2l0ZV9wYzYpICYmIG9iai5pbml0RG93bmxvYWRQYWdlQW5kcm9pZCgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdERvd25sb2FkUGFnZVNvZnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIOmhtumDqOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCIjeHpidG4gLmRvd25ub3ciKS5oaWRlKCk7CgogICAgICAgICAgICAvLyDlupXpg6jpq5jpgJ/kuIvovb0KICAgICAgICAgICAgJCgiLnVsX0FkZHJlc3MiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmZpbmQoImgzIikubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgICQoJCh0aGlzKS5maW5kKCJoMyIpLmdldCgwKSkuaGlkZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiLnVsX0FkZHJlc3MgI2dhb3N1eGlhemFpIikuaGlkZSgpOwogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RG93bmxvYWRQYWdlQW5kcm9pZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiLnVsX0FkZHJlc3MiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmZpbmQoImgzIikubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgICQoJCh0aGlzKS5maW5kKCJoMyIpLmdldCgwKSkuaGlkZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiLnVsX0FkZHJlc3MgI2dhb3N1eGlhemFpIikuaGlkZSgpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICAvLyBodHRwOi8veGlhemFpLnpvbC5jb20uY24vZGV0YWlsLzkvODk3MzQuc2h0bWwKICAgIC8vIGh0dHA6Ly94aWF6YWkuem9sLmNvbS5jbi9pbmRleC5waHA/Yz1EZXRhaWxfRGV0YWlsTWluaSZuPWU0YmQxZjIxZDBjNzYxZDA1JnNvZnRpZD04OTczNAogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX3pvbCIsIFsicnVudGltZSIsICJvcHRpb24iLCAiJCJdLCBmdW5jdGlvbiAocnVudGltZSwgb3B0aW9uLCAkKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdXJsID0gcnVudGltZS5nZXRVcmwoKTsKICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCJ6b2wuY29tLmNuL2RldGFpbCIpID4gMCkgewogICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5zaXRlX3pvbCkgJiYgb2JqLmluaXREb3dubG9hZFBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKHVybC5pbmRleE9mKCJ6b2wuY29tLmNuL2luZGV4LnBocCIpID4gMCkgewogICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5zaXRlX3pvbCkgJiYgb2JqLmluaXREb3dubG9hZFBhZ2VNaW5pKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RG93bmxvYWRQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDpobbpg6jpq5jpgJ/kuIvovb0KICAgICAgICAgICAgJCgiLnNvZnQtdGV4dC1sIikuaGlkZSgpOwogICAgICAgICAgICAkKCIuc29mdC10ZXh0LXIiKS5hZGRDbGFzcygic29mdC10ZXh0LWwiKS5yZW1vdmVDbGFzcygic29mdC10ZXh0LXIiKTsKCiAgICAgICAgICAgIC8vIOW6lemDqOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCIuYm94LXRvcC1hZCIpLmhpZGUoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdERvd25sb2FkUGFnZU1pbmkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQoIi5kb3duLWg0IikucGFyZW50KCkuaGlkZSgpOwogICAgICAgICAgICAkKCIuZG93bi1qaXN1IikuaGlkZSgpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICAvLyBodHRwczovL2RsLnBjb25saW5lLmNvbS5jbi9kb3dubG9hZC85MTAzNC5odG1sCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfcGNvbmxpbmUiLCBbInJ1bnRpbWUiLCAib3B0aW9uIiwgIiQiXSwgZnVuY3Rpb24gKHJ1bnRpbWUsIG9wdGlvbiwgJCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVybCA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigicGNvbmxpbmUuY29tLmNuL2Rvd25sb2FkIikgPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnNpdGVfcGNvbmxpbmUpICYmIG9iai5pbml0RG93bmxvYWRQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RG93bmxvYWRQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDpobbpg6jpq5jpgJ/kuIvovb0KICAgICAgICAgICAgJCgiI0poc0J0biIpLmhpZGUoKTsKCiAgICAgICAgICAgIC8vIOW6lemDqOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCQoIi5saW5rcyBwIikuZ2V0KDApKS5oaWRlKCk7CgogICAgICAgICAgICAvLyDor6/lr7zmgKflub/lkYoKICAgICAgICAgICAgJCgiLml2eSIpLmhpZGUoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLy8gaHR0cHM6Ly93d3cuamI1MS5uZXQvc29mdHMvNDA1ODkuaHRtbAogICAgLy8gaHR0cHM6Ly93d3cuamI1MS5uZXQvZm9udHMvNjU4MjI1Lmh0bWwKICAgIC8vIGh0dHBzOi8vd3d3LmpiNTEubmV0L2dhbWUvNjQ5Mzg0Lmh0bWwKICAgIC8vIGh0dHBzOi8vd3d3LmpiNTEubmV0L2NvZGVzLzU3NTQ5Mi5odG1sCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfamI1MSIsIFsicnVudGltZSIsICJvcHRpb24iLCAiJCJdLCBmdW5jdGlvbiAocnVudGltZSwgb3B0aW9uLCAkKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdXJsID0gcnVudGltZS5nZXRVcmwoKTsKICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCJqYjUxLm5ldC9zb2Z0cyIpID4gMCkgewogICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5zaXRlX2piNTEpICYmIG9iai5pbml0RG93bmxvYWRQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmICh1cmwuaW5kZXhPZigiamI1MS5uZXQvZm9udHMiKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuc2l0ZV9qYjUxKSAmJiBvYmouaW5pdERvd25sb2FkUGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAodXJsLmluZGV4T2YoImpiNTEubmV0L2dhbWUiKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuc2l0ZV9qYjUxKSAmJiBvYmouaW5pdERvd25sb2FkUGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAodXJsLmluZGV4T2YoImpiNTEubmV0L2NvZGVzIikgPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnNpdGVfamI1MSkgJiYgb2JqLmluaXREb3dubG9hZFBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXREb3dubG9hZFBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIOmhtumDqOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCIuZ3NkdyIpLmhpZGUoKTsKCiAgICAgICAgICAgIC8vIOW6lemDqOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCQoIi5hZGRyZXNzLXdyYXAgLmdzIikuZ2V0KDApKS5oaWRlKCk7CiAgICAgICAgICAgICQoIiNnYW9zdSIpLmhpZGUoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLy8gaHR0cDovL3d3dy5jbmNyay5jb20vZG93bmluZm8vMTgwMjYyLmh0bWwKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF9jbmNyayIsIFsicnVudGltZSIsICJvcHRpb24iLCAiJCJdLCBmdW5jdGlvbiAocnVudGltZSwgb3B0aW9uLCAkKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdXJsID0gcnVudGltZS5nZXRVcmwoKTsKICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCJjbmNyay5jb20vZG93bmluZm8iKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuc2l0ZV9jbmNyaykgJiYgb2JqLmluaXREb3dubG9hZFBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXREb3dubG9hZFBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCIuZG93bmZpbGVfaGl0cyIpLmhpZGUoKTsKICAgICAgICAgICAgJCgiLmRvd25sb2FkLWFkZHJlc3MiKS5odG1sKCI8cD7lhajmmK/pq5go5o2GKemAnyjnu5Ep5LiL6L2977yM5bey5L2c6ZqQ6JeP5aSE55CGPC9wPiIpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICAvLyBodHRwczovL3BjLnFxLmNvbS9kZXRhaWwvOC9kZXRhaWxfMTE0ODguaHRtbAogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX3FxIiwgWyJydW50aW1lIiwgIm9wdGlvbiIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBvcHRpb24sICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoInBjLnFxLmNvbS9kZXRhaWwiKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuc2l0ZV9wY19xcSkgJiYgb2JqLmluaXREb3dubG9hZFBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXREb3dubG9hZFBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCIuZGV0YWlsLWluc3RhbGwtZmFzdCIpLmhpZGUoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLy8gaHR0cHM6Ly93d3cuY3Jza3kuY29tL3NvZnQvNDg0NDIuaHRtbAogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX2Nyc2t5IiwgWyJydW50aW1lIiwgIm9wdGlvbiIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBvcHRpb24sICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoImNyc2t5LmNvbS9zb2Z0IikgPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnNpdGVfY3Jza3kpICYmIG9iai5pbml0RG93bmxvYWRQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RG93bmxvYWRQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCQoIi5pX2R3b24gYSIpLmdldCgxKSkuaGlkZSgpOwoKICAgICAgICAgICAgJCgiLkFkb3duX2RsaSIpLmhpZGUoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLy8gaHR0cDovL3d3dy5kdW90ZS5jb20vc29mdC8zMTQwNjUuaHRtbAogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX2R1b3RlIiwgWyJydW50aW1lIiwgIm9wdGlvbiIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBvcHRpb24sICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoImR1b3RlLmNvbS9zb2Z0IikgPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnNpdGVfZHVvdGUpICYmIG9iai5pbml0RG93bmxvYWRQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RG93bmxvYWRQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDor6/lr7zlub/lkYoKICAgICAgICAgICAgJCgiLmRsLWJhbm5lciIpLmhpZGUoKTsKCiAgICAgICAgICAgIC8vIOW6lemDqOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCIuZG93bi1saXN0cyIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaWYgKCQodGhpcykuZmluZCgiLmRvd25sb2FkLWJveCIpLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICAkKCQodGhpcykuZmluZCgiLmRvd25sb2FkLWJveCIpLmdldCgwKSkuaGlkZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLy8gaHR0cDovL3d3dy5kb3duemEuY24vc29mdC8xOTM0NTYuaHRtbAogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX2Rvd256YSIsIFsicnVudGltZSIsICJvcHRpb24iLCAiJCJdLCBmdW5jdGlvbiAocnVudGltZSwgb3B0aW9uLCAkKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdXJsID0gcnVudGltZS5nZXRVcmwoKTsKICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCJkb3duemEuY24vc29mdCIpID4gMCB8fCB1cmwuaW5kZXhPZigiZG93bnphLmNuL2FuZHJvaWQiKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuc2l0ZV9kb3duemEpICYmIG9iai5pbml0RG93bmxvYWRQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RG93bmxvYWRQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDpobbpg6jpq5jpgJ/kuIvovb0KICAgICAgICAgICAgJCgiI3h6cUlNRzEiKS5oaWRlKCk7CgogICAgICAgICAgICAvLyDlupXpg6jpq5jpgJ/kuIvovb0KICAgICAgICAgICAgJCgkKCIucGMtZG93bl91cmxfbGVmdCAucHVsbC1sZWZ0IGRpdiIpLmdldCgwKSkuaGlkZSgpOwogICAgICAgICAgICAkKCIucGMtZG93bl91cmxfbGVmdCAuZG93bl90b3AiKS5oaWRlKCk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIC8vIGh0dHA6Ly9teWRvd24ueWVza3kuY29tL3Bjc29mdC8yNjYxMjYuaHRtbAogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX3llc2t5IiwgWyJydW50aW1lIiwgIm9wdGlvbiIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBvcHRpb24sICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoInllc2t5LmNvbS9wY3NvZnQiKSA+IDApIHsKICAgICAgICAgICAgICAgIG9wdGlvbi5pc09wdGlvbkFjdGl2ZShvcHRpb24uY29uc3RhbnQuc2l0ZV95ZXNreSkgJiYgb2JqLmluaXREb3dubG9hZFBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKHVybC5pbmRleE9mKCJ5ZXNreS5jb20vZ2FtZSIpID4gMCkgewogICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5zaXRlX3llc2t5KSAmJiBvYmouaW5pdERvd25sb2FkUGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdERvd25sb2FkUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g6aG26YOo6auY6YCf5LiL6L29CiAgICAgICAgICAgICQoIi5ia2Rvd24iKS5oaWRlKCk7CiAgICAgICAgICAgICQoIiNsb2NhbF9kb3duIikuc2hvdygpOwoKICAgICAgICAgICAgLy8g5bqV6YOo6auY6YCf5LiL6L29CiAgICAgICAgICAgICQoJCgiLmJrLXNvZnRfZG93bnVybCAudXJsIGg0IikuZ2V0KDApKS5oaWRlKCk7CiAgICAgICAgICAgICQoIi5iay1zb2Z0X2Rvd251cmwgLmRvd25fcmVmZXJlciIpLmhpZGUoKTsKICAgICAgICAgICAgJCgiLmJrLXNvZnRfZG93bnVybCBociIpLmhpZGUoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgLy8gaHR0cDovL3d3dy5kZG9vby5jb20vc29mdGRvd24vNjU0NDguaHRtCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfZGRvb28iLCBbInJ1bnRpbWUiLCAib3B0aW9uIiwgIiQiXSwgZnVuY3Rpb24gKHJ1bnRpbWUsIG9wdGlvbiwgJCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVybCA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigiZGRvb28uY29tL3NvZnRkb3duIikgPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnNpdGVfZGRvb28pICYmIG9iai5pbml0RG93bmxvYWRQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RG93bmxvYWRQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDpobbpg6jpq5jpgJ/kuIvovb0KICAgICAgICAgICAgJCgiLmdzYnRuMSIpLmhpZGUoKTsKCiAgICAgICAgICAgIC8vIOW6lemDqOmrmOmAn+S4i+i9vQogICAgICAgICAgICAkKCQoIi50eHRmb250IikuZ2V0KDApKS5oaWRlKCk7CiAgICAgICAgICAgICQoIi5jX2Rvd24iKS5oaWRlKCk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIC8vIGh0dHBzOi8vZG93bmxvYWQucGNob21lLm5ldC9tb2JpbGUvZ2FtZXMvb3RoZXIvZG93bmxvYWQtMTkzNTgzLmh0bWwKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF9wY2hvbWUiLCBbInJ1bnRpbWUiLCAib3B0aW9uIiwgIiQiXSwgZnVuY3Rpb24gKHJ1bnRpbWUsIG9wdGlvbiwgJCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVybCA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigiZG93bmxvYWQucGNob21lLm5ldCIpID4gMCAmJiB1cmwuaW5kZXhPZigiL2Rvd25sb2FkLSIpID4gMCkgewogICAgICAgICAgICAgICAgb3B0aW9uLmlzT3B0aW9uQWN0aXZlKG9wdGlvbi5jb25zdGFudC5zaXRlX3BjaG9tZSkgJiYgb2JqLmluaXREb3dubG9hZFBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXREb3dubG9hZFBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIOS4jemcgOaPkOekugogICAgICAgICAgICAkKCIuZGwtdGlwIikuaGlkZSgpOwoKICAgICAgICAgICAgLy8g5re35reG5bm/5ZGKCiAgICAgICAgICAgICQoIi5tb2RfYmFubmVyIikuaGlkZSgpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICAvLyBodHRwczovL3d3dy54cGdvZC5jb20vc29mdC8xMjEuaHRtbAogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX3hwZ29kIiwgWyJydW50aW1lIiwgIm9wdGlvbiIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBvcHRpb24sICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoInhwZ29kLmNvbS9zb2Z0IikgPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnNpdGVfeHBnb2QpICYmIG9iai5pbml0RG93bmxvYWRQYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RG93bmxvYWRQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDpobbpg6jpq5jpgJ/kuIvovb0KICAgICAgICAgICAgJCgkKCIjYnp4eiBhIikuZ2V0KDEpKS5oaWRlKCk7CgogICAgICAgICAgICAvLyDlupXpg6jpq5jpgJ/kuIvovb0KICAgICAgICAgICAgJCgiLnNob3dfeHpxIikuaGlkZSgpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICAvLyBodHRwczovL3d3dy41MnouY29tL3NvZnQvMzg5NjY5Lmh0bWwKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF81MnoiLCBbInJ1bnRpbWUiLCAib3B0aW9uIiwgIiQiXSwgZnVuY3Rpb24gKHJ1bnRpbWUsIG9wdGlvbiwgJCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVybCA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigiNTJ6LmNvbS9zb2Z0IikgPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnNpdGVfNTJ6KSAmJiBvYmouaW5pdERvd25sb2FkUGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdERvd25sb2FkUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g6auY6YCf5LiL6L29CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgJCgkKCIuZWxZeHh6SW4iKS5nZXQoMCkpLmhpZGUoKTsKICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIC8vIGh0dHA6Ly93d3cub3Bkb3duLmNvbS9zb2Z0LzIzNDg1Lmh0bWwKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF9vcGRvd24iLCBbInJ1bnRpbWUiLCAib3B0aW9uIiwgIiQiXSwgZnVuY3Rpb24gKHJ1bnRpbWUsIG9wdGlvbiwgJCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVybCA9IHJ1bnRpbWUuZ2V0VXJsKCk7CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigib3Bkb3duLmNvbS9zb2Z0IikgPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uaXNPcHRpb25BY3RpdmUob3B0aW9uLmNvbnN0YW50LnNpdGVfb3Bkb3duKSAmJiBvYmouaW5pdERvd25sb2FkUGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdERvd25sb2FkUGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g6auY6YCf5LiL6L29CiAgICAgICAgICAgICQoIi5kb3dubm93cyIpLmhpZGUoKTsKICAgICAgICAgICAgJCgiLmxpc3RhZGRyIikuaGlkZSgpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfbmV3ZGF5IiwgWyJlbnYiLCAiY29uZmlnIiwgIm9wdGlvbiIsICJtZXRhIiwgInZ1ZSJdLCBmdW5jdGlvbiAoZW52LCBjb25maWcsIG9wdGlvbiwgbWV0YSwgdnVlKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAobWV0YS5leGlzdE1ldGEoIm9wdGlvbiIpKSB7CiAgICAgICAgICAgICAgICBvYmouaW5pdE9wdGlvblBhZ2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRPcHRpb25QYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBuZXcgdnVlKHsKICAgICAgICAgICAgICAgIGVsOiAiI2NvbnRhaW5lciIsCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgaW5mbzogZW52LmdldEluZm8oKSwKICAgICAgICAgICAgICAgICAgICBvcHRpb246IG9wdGlvbi5nZXRPcHRpb24oKSwKICAgICAgICAgICAgICAgICAgICBjaGVja19zd2l0Y2g6IGNvbmZpZy5nZXRDb25maWcoImNoZWNrX3N3aXRjaCIpID09ICJvZmYiID8gZmFsc2UgOiB0cnVlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5pbml0QWRkb25SZWFkeSgpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHdhdGNoOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uOiBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNldE9wdGlvbih2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBjaGVja19zd2l0Y2g6IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuc2V0Q29uZmlnKCJjaGVja19zd2l0Y2giLCB2YWx1ZSA/ICJvbiIgOiAib2ZmIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdEFkZG9uUmVhZHkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQoImJvZHkiKS5hZGRDbGFzcygibmQtYWRkb24tcmVhZHkiKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYXBwIiwgWyJydW50aW1lIiwgImFkZG9uIiwgImNvbmZpZyIsICJsb2dnZXIiLCAibWV0YSIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBhZGRvbiwgY29uZmlnLCBsb2dnZXIsIG1ldGEsICQsIHJlcXVpcmUpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICBjaGVja19zd2l0Y2g6ICJjaGVja19zd2l0Y2giCiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG1ldGFOYW1lID0gInN0YXR1cyI7CiAgICAgICAgICAgIGlmIChtZXRhLmV4aXN0TWV0YShtZXRhTmFtZSkpIHsKICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCJzZXR1cCBhbHJlYWR5Iik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoYWRkb24uaXNFbmFibGUoKSkgewogICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oInNldHVwIHN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgICAvLyDmt7vliqBtZXRhCiAgICAgICAgICAgICAgICBtZXRhLmFwcGVuZE1ldGEobWV0YU5hbWUpOwoKICAgICAgICAgICAgICAgIC8vIOi/kOihjOW6lOeUqAogICAgICAgICAgICAgICAgJChvYmoucnVuQXBwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCJhZGRvbiBkaXNhYmxlZCIpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldEFwcExpc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF9vbmxpbmVkb3duIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgIm9ubGluZWRvd24ubmV0IgogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoOiBvYmouY2hlY2tfc3dpdGNoCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfY3IxNzMiLAogICAgICAgICAgICAgICAgICAgIG1hdGNoczogWwogICAgICAgICAgICAgICAgICAgICAgICAiY3IxNzMuY29tIgogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoOiBvYmouY2hlY2tfc3dpdGNoCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfeGlhemFpYmEiLAogICAgICAgICAgICAgICAgICAgIG1hdGNoczogWwogICAgICAgICAgICAgICAgICAgICAgICAieGlhemFpYmEuY29tIgogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoOiBvYmouY2hlY2tfc3dpdGNoCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfbXlkb3duIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgIm15ZG93bi5jb20iCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICBzd2l0Y2g6IG9iai5jaGVja19zd2l0Y2gKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF9wYzYiLAogICAgICAgICAgICAgICAgICAgIG1hdGNoczogWwogICAgICAgICAgICAgICAgICAgICAgICAicGM2LmNvbSIKICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgIHN3aXRjaDogb2JqLmNoZWNrX3N3aXRjaAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX3pvbCIsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICJ6b2wuY29tLmNuIgogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoOiBvYmouY2hlY2tfc3dpdGNoCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfcGNvbmxpbmUiLAogICAgICAgICAgICAgICAgICAgIG1hdGNoczogWwogICAgICAgICAgICAgICAgICAgICAgICAicGNvbmxpbmUuY29tLmNuIgogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoOiBvYmouY2hlY2tfc3dpdGNoCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfamI1MSIsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICJqYjUxLm5ldCIKICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgIHN3aXRjaDogb2JqLmNoZWNrX3N3aXRjaAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX2NuY3JrIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgImNuY3JrLmNvbSIKICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgIHN3aXRjaDogb2JqLmNoZWNrX3N3aXRjaAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX3FxIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgInBjLnFxLmNvbSIKICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgIHN3aXRjaDogb2JqLmNoZWNrX3N3aXRjaAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX2Nyc2t5IiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgInd3dy5jcnNreS5jb20iCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICBzd2l0Y2g6IG9iai5jaGVja19zd2l0Y2gKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF9kdW90ZSIsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICJkdW90ZS5jb20iCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICBzd2l0Y2g6IG9iai5jaGVja19zd2l0Y2gKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF9kb3duemEiLAogICAgICAgICAgICAgICAgICAgIG1hdGNoczogWwogICAgICAgICAgICAgICAgICAgICAgICAiZG93bnphLmNuIgogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoOiBvYmouY2hlY2tfc3dpdGNoCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfeWVza3kiLAogICAgICAgICAgICAgICAgICAgIG1hdGNoczogWwogICAgICAgICAgICAgICAgICAgICAgICAieWVza3kuY29tIgogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoOiBvYmouY2hlY2tfc3dpdGNoCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfZGRvb28iLAogICAgICAgICAgICAgICAgICAgIG1hdGNoczogWwogICAgICAgICAgICAgICAgICAgICAgICAiZGRvb28uY29tIgogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoOiBvYmouY2hlY2tfc3dpdGNoCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfcGNob21lIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgInBjaG9tZS5uZXQiCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICBzd2l0Y2g6IG9iai5jaGVja19zd2l0Y2gKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF94cGdvZCIsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICJ4cGdvZC5jb20iCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICBzd2l0Y2g6IG9iai5jaGVja19zd2l0Y2gKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF81MnoiLAogICAgICAgICAgICAgICAgICAgIG1hdGNoczogWwogICAgICAgICAgICAgICAgICAgICAgICAiNTJ6LmNvbSIKICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgIHN3aXRjaDogb2JqLmNoZWNrX3N3aXRjaAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX29wZG93biIsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICJvcGRvd24uY29tIgogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoOiBvYmouY2hlY2tfc3dpdGNoCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfbmV3ZGF5IiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgIioiCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdOwogICAgICAgIH07CgogICAgICAgIG9iai5ydW5BcHAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICBsb2dnZXIuaW5mbyh1cmwpOwoKICAgICAgICAgICAgdmFyIGFwcExpc3QgPSBvYmouZ2V0QXBwTGlzdCgpOwogICAgICAgICAgICBmb3IgKHZhciBpIGluIGFwcExpc3QpIHsKICAgICAgICAgICAgICAgIHZhciBhcHAgPSBhcHBMaXN0W2ldOwogICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGFwcCk7CgogICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gb2JqLm1hdGNoQXBwKHVybCwgYXBwKTsKICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygibWF0Y2ggIiArIChtYXRjaCA/ICJ5ZXMiIDogIm5vIikpOwoKICAgICAgICAgICAgICAgIGlmIChtYXRjaCA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChhcHAuc3dpdGNoICYmIGNvbmZpZy5nZXRDb25maWcoYXBwLnN3aXRjaCkgPT0gIm9mZiIpIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygicnVuICIgKyBhcHAubmFtZSk7CiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZShhcHAubmFtZSkucnVuKCkgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLm1hdGNoQXBwID0gZnVuY3Rpb24gKHVybCwgYXBwKSB7CiAgICAgICAgICAgIHZhciBtYXRjaCA9IGZhbHNlOwogICAgICAgICAgICBhcHAubWF0Y2hzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZihpdGVtKSA+IDAgfHwgaXRlbSA9PSAiKiIpIHsKICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gbWF0Y2g7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIC8vIOazqOWGjOaooeWdlwogICAgY29udGFpbmVyLmRlZmluZSgiJCIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy4kOwogICAgfSk7CiAgICBjb250YWluZXIuZGVmaW5lKCJ2dWUiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB3aW5kb3cuVnVlOwogICAgfSk7CgogICAgY29udGFpbmVyLnVzZShbImdtIiwgImNvcmUiLCAiYXBwIiwgImxvZ2dlciJdLCBmdW5jdGlvbiAoZ20sIGNvcmUsIGFwcCwgbG9nZ2VyKSB7CiAgICAgICAgZ20ucmVhZHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDml6Xlv5fnuqfliKsKICAgICAgICAgICAgbG9nZ2VyLnNldExldmVsKGxvZ2dlci5jb25zdGFudC5pbmZvKTsKCiAgICAgICAgICAgIGNvcmUucmVhZHkoYXBwLnJ1bik7CiAgICAgICAgfSk7CiAgICB9KTsKCgp9OwoKdmFyIGFwcExqamMgPSBmdW5jdGlvbiAoKSB7CiAgICAKICAgIHZhciBpbmplY3RDb25maWcgPSB7CiAgICAgICAgbmFtZTogImxqamMiLAogICAgICAgIHZlcnNpb246ICIwLjEuMyIKICAgIH07CgogICAgdmFyIGNvbnRhaW5lciA9IChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbW9kdWxlX2RlZmluZXM6IHt9LAogICAgICAgICAgICBtb2R1bGVfb2JqZWN0czoge30KICAgICAgICB9OwoKICAgICAgICBvYmouZGVmaW5lID0gZnVuY3Rpb24gKG5hbWUsIHJlcXVpcmVzLCBjYWxsYmFjaykgewogICAgICAgICAgICBuYW1lID0gb2JqLnByb2Nlc3NOYW1lKG5hbWUpOwogICAgICAgICAgICBvYmoubW9kdWxlX2RlZmluZXNbbmFtZV0gPSB7CiAgICAgICAgICAgICAgICByZXF1aXJlczogcmVxdWlyZXMsCiAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2sKICAgICAgICAgICAgfTsKICAgICAgICB9OwoKICAgICAgICBvYmoucmVxdWlyZSA9IGZ1bmN0aW9uIChuYW1lLCBjYWNoZSkgewogICAgICAgICAgICBpZiAodHlwZW9mIGNhY2hlID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICBjYWNoZSA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgIGlmIChjYWNoZSAmJiBvYmoubW9kdWxlX29iamVjdHMuaGFzT3duUHJvcGVydHkobmFtZSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBvYmoubW9kdWxlX29iamVjdHNbbmFtZV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAob2JqLm1vZHVsZV9kZWZpbmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZXMgPSBvYmoubW9kdWxlX2RlZmluZXNbbmFtZV0ucmVxdWlyZXM7CiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBvYmoubW9kdWxlX2RlZmluZXNbbmFtZV0uY2FsbGJhY2s7CgogICAgICAgICAgICAgICAgdmFyIG1vZHVsZSA9IG9iai51c2UocmVxdWlyZXMsIGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgIGNhY2hlICYmIG9iai5yZWdpc3RlcihuYW1lLCBtb2R1bGUpOwogICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai51c2UgPSBmdW5jdGlvbiAocmVxdWlyZXMsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciBtb2R1bGUgPSB7CiAgICAgICAgICAgICAgICBleHBvcnRzOiB7fQogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgcGFyYW1zID0gb2JqLmJ1aWxkUGFyYW1zKHJlcXVpcmVzLCBtb2R1bGUpOwogICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2suYXBwbHkodGhpcywgcGFyYW1zKTsKICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmoucmVnaXN0ZXIgPSBmdW5jdGlvbiAobmFtZSwgbW9kdWxlKSB7CiAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgIG9iai5tb2R1bGVfb2JqZWN0c1tuYW1lXSA9IG1vZHVsZTsKICAgICAgICB9OwoKICAgICAgICBvYmouYnVpbGRQYXJhbXMgPSBmdW5jdGlvbiAocmVxdWlyZXMsIG1vZHVsZSkgewogICAgICAgICAgICB2YXIgcGFyYW1zID0gW107CiAgICAgICAgICAgIHJlcXVpcmVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKG9iai5yZXF1aXJlKG5hbWUpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHBhcmFtcy5wdXNoKG9iai5yZXF1aXJlKTsKICAgICAgICAgICAgcGFyYW1zLnB1c2gobW9kdWxlLmV4cG9ydHMpOwogICAgICAgICAgICBwYXJhbXMucHVzaChtb2R1bGUpOwogICAgICAgICAgICByZXR1cm4gcGFyYW1zOwogICAgICAgIH07CgogICAgICAgIG9iai5wcm9jZXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZGVmaW5lOiBvYmouZGVmaW5lLAogICAgICAgICAgICB1c2U6IG9iai51c2UsCiAgICAgICAgICAgIHJlZ2lzdGVyOiBvYmoucmVnaXN0ZXIsCiAgICAgICAgICAgIG1vZHVsZXM6IG9iai5tb2R1bGVfb2JqZWN0cwogICAgICAgIH07CiAgICB9KSgpOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImdtIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5yZWFkeSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICBpZiAodHlwZW9mIEdNX2dldFZhbHVlICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLnJlYWR5KGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgicnVudGltZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgdXJsOiBsb2NhdGlvbi5ocmVmLAogICAgICAgICAgICByZWZlcmVyOiBkb2N1bWVudC5yZWZlcnJlciwKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0VXJsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gb2JqLnVybDsKICAgICAgICB9OwoKICAgICAgICBvYmouc2V0VXJsID0gZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICBvYmoudXJsID0gdXJsOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRSZWZlcmVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gb2JqLnJlZmVyZXI7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldFJlZmVyZXIgPSBmdW5jdGlvbiAocmVmZXJlcikgewogICAgICAgICAgICBvYmoucmVmZXJlciA9IHJlZmVyZXI7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFVybFBhcmFtID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgdmFyIHBhcmFtID0gb2JqLnBhcnNlVXJsUGFyYW0ob2JqLmdldFVybCgpKTsKICAgICAgICAgICAgaWYgKG5hbWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbS5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHBhcmFtW25hbWVdIDogbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5wYXJzZVVybFBhcmFtID0gZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoIj8iKSkgewogICAgICAgICAgICAgICAgdXJsID0gdXJsLnNwbGl0KCI/IilbMV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHJlZyA9IC8oW149JlxzXSspWz1cc10qKFtePSZcc10qKS9nOwogICAgICAgICAgICB2YXIgb2JqID0ge307CiAgICAgICAgICAgIHdoaWxlIChyZWcuZXhlYyh1cmwpKSB7CiAgICAgICAgICAgICAgICBvYmpbUmVnRXhwLiQxXSA9IFJlZ0V4cC4kMjsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gb2JqOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJzdG9yYWdlIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5nZXRWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lLCBkZWZhdWx0VmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIEdNX2dldFZhbHVlKG5hbWUsIGRlZmF1bHRWYWx1ZSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldFZhbHVlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKG5hbWUsIHZhbHVlKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0VmFsdWVMaXN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbmFtZUxpc3QgPSBHTV9saXN0VmFsdWVzKCk7CiAgICAgICAgICAgIHZhciB2YWx1ZUxpc3QgPSB7fTsKICAgICAgICAgICAgbmFtZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICAgICAgdmFsdWVMaXN0W25hbWVdID0gb2JqLmdldFZhbHVlKG5hbWUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlTGlzdDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYWRkb24iLCBbInN0b3JhZ2UiLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKHN0b3JhZ2UsIGNvbnN0YW50KSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbmFtZTogY29uc3RhbnQubmFtZSArICJfc3RhdHVzIgogICAgICAgIH07CgogICAgICAgIG9iai5pc0VuYWJsZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHN0b3JhZ2UuZ2V0VmFsdWUob2JqLm5hbWUpID09ICJvZmYiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJjb25maWciLCBbInN0b3JhZ2UiLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKHN0b3JhZ2UsIGNvbnN0YW50KSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbmFtZTogImNvbmZpZ19qc29uIgogICAgICAgIH07CgogICAgICAgIG9iai5nZXRDb25maWcgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICB2YXIgY29uZmlnSnNvbiA9IHN0b3JhZ2UuZ2V0VmFsdWUob2JqLm5hbWUpOwogICAgICAgICAgICB2YXIgY29uZmlnT2JqZWN0ID0gb2JqLnBhcnNlSnNvbihjb25maWdKc29uKTsKICAgICAgICAgICAgaWYgKG5hbWUpIHsKICAgICAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnT2JqZWN0Lmhhc093blByb3BlcnR5KG5hbWUpID8gY29uZmlnT2JqZWN0W25hbWVdIDogbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBjb25maWdPYmplY3Q7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouc2V0Q29uZmlnID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgIHZhciBjb25maWdPYmplY3QgPSBvYmouZ2V0Q29uZmlnKCk7CiAgICAgICAgICAgIGNvbmZpZ09iamVjdFtvYmoucHJvY2Vzc05hbWUobmFtZSldID0gdmFsdWU7CiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUob2JqLm5hbWUsIEpTT04uc3RyaW5naWZ5KGNvbmZpZ09iamVjdCkpOwogICAgICAgIH07CgogICAgICAgIG9iai5wYXJzZUpzb24gPSBmdW5jdGlvbiAoanNvblN0cikgewogICAgICAgICAgICB2YXIganNvbk9iamVjdCA9IHt9OwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKGpzb25TdHIpIHsKICAgICAgICAgICAgICAgICAgICBqc29uT2JqZWN0ID0gSlNPTi5wYXJzZShqc29uU3RyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoZSkgeyB9CiAgICAgICAgICAgIHJldHVybiBqc29uT2JqZWN0OwogICAgICAgIH07CgogICAgICAgIG9iai5wcm9jZXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBjb25zdGFudC5uYW1lICsgIl8iICsgbmFtZTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgibW9kZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgY29uc3RhbnQ6IHsKICAgICAgICAgICAgICAgIGFkZG9uOiAiYWRkb24iLAogICAgICAgICAgICAgICAgc2NyaXB0OiAic2NyaXB0IgogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChHTV9pbmZvLmFkZG9uKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLmNvbnN0YW50LmFkZG9uOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5jb25zdGFudC5zY3JpcHQ7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgidXNlciIsIFsic3RvcmFnZSJdLCBmdW5jdGlvbiAoc3RvcmFnZSkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmdldFVpZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHVpZCA9IHN0b3JhZ2UuZ2V0VmFsdWUoInVpZCIpOwogICAgICAgICAgICBpZiAoIXVpZCkgewogICAgICAgICAgICAgICAgdWlkID0gb2JqLnJhbmRTdHJpbmcoMzIpOwogICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZSgidWlkIiwgdWlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdWlkOwogICAgICAgIH07CgogICAgICAgIG9iai5yYW5kU3RyaW5nID0gZnVuY3Rpb24gKGxlbmd0aCkgewogICAgICAgICAgICB2YXIgcG9zc2libGUgPSAiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5IjsKICAgICAgICAgICAgdmFyIHRleHQgPSAiIjsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRleHQ7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImJyb3dzZXIiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIGNvbnN0YW50OiB7CiAgICAgICAgICAgICAgICBmaXJlZm94OiAiZmlyZWZveCIsCiAgICAgICAgICAgICAgICBlZGdlOiAiZWRnZSIsCiAgICAgICAgICAgICAgICBiYWlkdTogImJhaWR1IiwKICAgICAgICAgICAgICAgIGxpZWJhbzogImxpZWJhbyIsCiAgICAgICAgICAgICAgICB1YzogInVjIiwKICAgICAgICAgICAgICAgIHFxOiAicXEiLAogICAgICAgICAgICAgICAgc29nb3U6ICJzb2dvdSIsCiAgICAgICAgICAgICAgICBvcGVyYTogIm9wZXJhIiwKICAgICAgICAgICAgICAgIG1heHRob246ICJtYXh0aG9uIiwKICAgICAgICAgICAgICAgIGllMjM0NTogIjIzNDUiLAogICAgICAgICAgICAgICAgc2UzNjA6ICIzNjAiLAogICAgICAgICAgICAgICAgY2hyb21lOiAiY2hyb21lIiwKICAgICAgICAgICAgICAgIHNhZmFyaTogInNhZmFyaSIsCiAgICAgICAgICAgICAgICBvdGhlcjogIm90aGVyIgogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldEJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBvYmoubWF0Y2hCcm93c2VyVHlwZShuYXZpZ2F0b3IudXNlckFnZW50KTsKICAgICAgICB9OwoKICAgICAgICBvYmoubWF0Y2hCcm93c2VyVHlwZSA9IGZ1bmN0aW9uICh1c2VyQWdlbnQpIHsKICAgICAgICAgICAgdmFyIGJyb3dzZXIgPSBvYmouY29uc3RhbnQub3RoZXI7CiAgICAgICAgICAgIHVzZXJBZ2VudCA9IHVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBpZiAodXNlckFnZW50Lm1hdGNoKC9maXJlZm94LykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5maXJlZm94OwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvZWRnZS8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQuZWRnZTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL2JpZHVicm93c2VyLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5iYWlkdTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL2xiYnJvd3Nlci8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQubGllYmFvOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvdWJyb3dzZXIvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LnVjOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvcXFicm93c2UvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LnFxOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvbWV0YXNyLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5zb2dvdTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL29wci8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQub3BlcmE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9tYXh0aG9uLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5tYXh0aG9uOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvMjM0NWV4cGxvcmVyLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5pZTIzNDU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9jaHJvbWUvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBpZiAob2JqLmV4aXN0TWltZSgidHlwZSIsICJhcHBsaWNhdGlvbi92bmQuY2hyb21pdW0ucmVtb3Rpbmctdmlld2VyIikpIHsKICAgICAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LnNlMzYwOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmNocm9tZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL3NhZmFyaS8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQuc2FmYXJpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBicm93c2VyOwogICAgICAgIH07CgogICAgICAgIG9iai5leGlzdE1pbWUgPSBmdW5jdGlvbiAob3B0aW9uLCB2YWx1ZSkgewogICAgICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgdmFyIG1pbWVUeXBlcyA9IG5hdmlnYXRvci5taW1lVHlwZXM7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBtdCBpbiBtaW1lVHlwZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobWltZVR5cGVzW210XVtvcHRpb25dID09IHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImVudiIsIFsibW9kZSIsICJ1c2VyIiwgImJyb3dzZXIiLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKG1vZGUsIHVzZXIsIGJyb3dzZXIsIGNvbnN0YW50KSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouaXNBZGRvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKG1vZGUuZ2V0TW9kZSgpID09IG1vZGUuY29uc3RhbnQuYWRkb24pIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmlzSW5qZWN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAob2JqLmlzQWRkb24oKSAmJiBHTV9pbmZvLmFkZG9uLm5hbWUgIT0gY29uc3RhbnQubmFtZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoR01faW5mby5zY3JpcHQuYWxpYXMgJiYgR01faW5mby5zY3JpcHQuYWxpYXMgIT0gY29uc3RhbnQubmFtZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBtb2RlLmdldE1vZGUoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0QWlkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoR01faW5mby5hZGRvbiAmJiBHTV9pbmZvLmFkZG9uLmlkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gR01faW5mby5hZGRvbi5pZDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChHTV9pbmZvLnNjcmlwdEhhbmRsZXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBHTV9pbmZvLnNjcmlwdEhhbmRsZXIudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAidW5rbm93biI7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0VWlkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdXNlci5nZXRVaWQoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKG9iai5pc0luamVjdCgpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0Q29uZmlnLnZlcnNpb247CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gR01faW5mby5zY3JpcHQudmVyc2lvbjsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5nZXRCcm93c2VyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5nZXRCcm93c2VyKCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldEluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBtb2RlOiBvYmouZ2V0TW9kZSgpLAogICAgICAgICAgICAgICAgYWlkOiBvYmouZ2V0QWlkKCksCiAgICAgICAgICAgICAgICB1aWQ6IG9iai5nZXRVaWQoKSwKICAgICAgICAgICAgICAgIHZlcnNpb246IG9iai5nZXRWZXJzaW9uKCksCiAgICAgICAgICAgICAgICBicm93c2VyOiBvYmouZ2V0QnJvd3NlcigpCiAgICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImh0dHAiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmFqYXggPSBmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgICAgIHZhciBkZXRhaWxzID0gewogICAgICAgICAgICAgICAgbWV0aG9kOiBvcHRpb24udHlwZSwKICAgICAgICAgICAgICAgIHVybDogb3B0aW9uLnVybCwKICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogb3B0aW9uLmRhdGFUeXBlLAogICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnN1Y2Nlc3MgJiYgb3B0aW9uLnN1Y2Nlc3MocmVzdWx0LnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmVycm9yICYmIG9wdGlvbi5lcnJvcihyZXN1bHQuZXJyb3IpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8g5o+Q5Lqk5pWw5o2uCiAgICAgICAgICAgIGlmIChvcHRpb24uZGF0YSkgewogICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5kYXRhIGluc3RhbmNlb2YgRm9ybURhdGEpIHsKICAgICAgICAgICAgICAgICAgICBkZXRhaWxzLmRhdGEgPSBvcHRpb24uZGF0YTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9uLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGksIG9wdGlvbi5kYXRhW2ldKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5kYXRhID0gZm9ybURhdGE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOiHquWumuS5ieWktAogICAgICAgICAgICBpZiAob3B0aW9uLmhlYWRlcnMpIHsKICAgICAgICAgICAgICAgIGRldGFpbHMuaGVhZGVycyA9IG9wdGlvbi5oZWFkZXJzOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDotoXml7YKICAgICAgICAgICAgaWYgKG9wdGlvbi50aW1lb3V0KSB7CiAgICAgICAgICAgICAgICBkZXRhaWxzLnRpbWVvdXQgPSBvcHRpb24udGltZW91dDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoZGV0YWlscyk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoInJvdXRlciIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouZ29VcmwgPSBmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgIG9iai5ydW5Db2RlKCdsb2NhdGlvbi5ocmVmID0gIicgKyB1cmwgKyAnIjsnKTsKICAgICAgICB9OwoKICAgICAgICBvYmoub3BlblVybCA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgb2JqLnJ1bkNvZGUoJ3dpbmRvdy5vcGVuKCInICsgdXJsICsgJyIpOycpOwogICAgICAgIH07CgogICAgICAgIG9iai5vcGVuVGFiID0gZnVuY3Rpb24gKHVybCwgYWN0aXZlKSB7CiAgICAgICAgICAgIEdNX29wZW5JblRhYih1cmwsICFhY3RpdmUpOwogICAgICAgIH07CgogICAgICAgIG9iai5ydW5Db2RlID0gZnVuY3Rpb24gKHNjcmlwdCkgewogICAgICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkb2N1bWVudC5sb29rdXBOYW1lc3BhY2VVUkkobnVsbCkgfHwgImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLCAic2NyaXB0Iik7CiAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSBzY3JpcHQ7CiAgICAgICAgICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50KS5hcHBlbmRDaGlsZChub2RlKTsKICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpCiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImxvZ2dlciIsIFsiZW52IiwgImNvbnN0YW50Il0sIGZ1bmN0aW9uIChlbnYsIGNvbnN0YW50KSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgbGV2ZWw6IDMsCiAgICAgICAgICAgIGNvbnN0YW50OiB7CiAgICAgICAgICAgICAgICBkZWJ1ZzogMCwKICAgICAgICAgICAgICAgIGluZm86IDEsCiAgICAgICAgICAgICAgICB3YXJuOiAyLAogICAgICAgICAgICAgICAgZXJyb3I6IDMKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5kZWJ1ZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICAgIG9iai5sb2cobWVzc2FnZSwgb2JqLmNvbnN0YW50LmRlYnVnKTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5mbyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICAgIG9iai5sb2cobWVzc2FnZSwgb2JqLmNvbnN0YW50LmluZm8pOwogICAgICAgIH07CgogICAgICAgIG9iai53YXJuID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICAgICAgb2JqLmxvZyhtZXNzYWdlLCBvYmouY29uc3RhbnQud2Fybik7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICAgICAgb2JqLmxvZyhtZXNzYWdlLCBvYmouY29uc3RhbnQuZXJyb3IpOwogICAgICAgIH07CgogICAgICAgIG9iai5sb2cgPSBmdW5jdGlvbiAobWVzc2FnZSwgbGV2ZWwpIHsKICAgICAgICAgICAgaWYgKGxldmVsIDwgb2JqLmxldmVsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXAoIlsiICsgY29uc3RhbnQubmFtZSArICJdIiArIGVudi5nZXRNb2RlKCkpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTsKICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpOwogICAgICAgIH07CgogICAgICAgIG9iai5zZXRMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCkgewogICAgICAgICAgICBvYmoubGV2ZWwgPSBsZXZlbDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgibWV0YSIsIFsiY29uc3RhbnQiLCAiJCJdLCBmdW5jdGlvbiAoY29uc3RhbnQsICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5leGlzdE1ldGEgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICBuYW1lID0gb2JqLnByb2Nlc3NOYW1lKG5hbWUpOwogICAgICAgICAgICBpZiAoJCgibWV0YVtuYW1lPSciICsgbmFtZSArICInXSIpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouYXBwZW5kTWV0YSA9IGZ1bmN0aW9uIChuYW1lLCBjb250ZW50KSB7CiAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgIGNvbnRlbnQgfHwgKGNvbnRlbnQgPSAib24iKTsKICAgICAgICAgICAgJCgnPG1ldGEgbmFtZT0iJyArIG5hbWUgKyAnIiBjb250ZW50PSJvbiI+JykuYXBwZW5kVG8oJCgiaGVhZCIpKTsKICAgICAgICB9OwoKICAgICAgICBvYmoucHJvY2Vzc05hbWUgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICByZXR1cm4gY29uc3RhbnQubmFtZSArICI6OiIgKyBuYW1lOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJ1bnNhZmVfd2luZG93IiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodHlwZW9mIHVuc2FmZVdpbmRvdyA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICByZXR1cm4gd2luZG93OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHVuc2FmZVdpbmRvdzsKICAgICAgICB9CiAgICB9KTsKCiAgICAvKiogY3VzdG9tIHN0YXJ0ICoqLwogICAgY29udGFpbmVyLmRlZmluZSgiY29uc3RhbnQiLCBbIm1vZGUiLCAiYnJvd3NlciJdLCBmdW5jdGlvbiAobW9kZSwgYnJvd3NlcikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG5hbWU6IGluamVjdENvbmZpZy5uYW1lLAogICAgICAgICAgICBtb2RlOiBtb2RlLmNvbnN0YW50LAogICAgICAgICAgICBicm93c2VyOiBicm93c2VyLmNvbnN0YW50LAogICAgICAgICAgICBzb3VyY2U6IHsKICAgICAgICAgICAgICAgIGJhaWR1OiAiYmFpZHUiLAogICAgICAgICAgICAgICAgd2VpeXVuOiAid2VpeXVuIiwKICAgICAgICAgICAgICAgIGxhbnpvdXM6ICJsYW56b3VzIgogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoInJlc291cmNlIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5nZXRFcnJvckljb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFJQUFBQUNBQ0FZQUFBRERQbUhMQUFBUDgwbEVRVlI0WHUyZGZaQWs1VjNIdjcrbmQyOXZaL3BsWWhrbzlTeWlrcERjNWU1MlprZ1ZnYndRNm5pN0FBVkhncENBZUNrc0V5MDFwb2lwbEFxS1FvR1JTcGxLSlZaU0pFQUl4aHdoY3RuZzhXSkVUUTRUN05uTjdhRVhSU0JHRFFyRTdlbWVmWjN1bjlXejdIRmNicWFmZnUrZW5mbDNudWYzOXYzTTB6M2R6d3RoOU5uUUZhQU5uZjBvZVl3QTJPQVFqQUFZQWJEQks3REIweCtOQUNNQU5rNEZ1QWxqd2F0VXUreFdGWXhWUFlpcW43MkExM0hSN1l5UjBxbUloUTZac0RaS1ZZWnVCT0FteGp0ZWRhdEwyTTRRMnduWXpzVGJDYlFsaktnTS9nR0I1aGplSEFHSEZHQ3VpczRSTXJFYXhrN1IyNVllQUh1SGVoSVV2TlVqT2d1RU13RnVBRFNlU3VHWlZ3QXlHZmlXQUE0Uzh6ZTFHZWY1Vkh4bFpMU1VBSFNhbFVhWHhWNEdYVXlFVXpLcTFZbmRNUDROaEs4SmorL1FacHgvempXV0NNNUxBNEMxRFQrQnpkVnJtR2t2RWUyTWtHdjZYUmhQTVBIbkRUajNsdVUrb3ZBQXRIZG9wL0VZL3o2STNwdStnc2w1WUhoM1RLeTZOMDhlV25vbU9hdkpXeW9zQUQzaHgva0dNSzRFa1VnKzlTd3NjcGZCZHhVWmhNSUJZRTFOdkJaaS9DWVFYWm1GUkpuNVlOdzV2dEs5b1hKNDhRZVorWlJ3VkJnQStEUm9scXJkU09EZlRPMHVYcUlnYVRaaDhDSXhidE4vNU54R3oySXBUVit5dG5NSGdBR3k2OXBlRm53TFFDZkxCbDdtZHN6NHZzSjh2VGJqM0pkM0hya0M0RFNyMjd0TTl4RFJqcndMa1lkL0JqODI0WGIzVHM0dVBadUhmOTluYmdETTE5WDNrOERIQWRxY1YvSkY4TXNNUjNpNFdwKzFIOGdqbnN3QjRCMm9XdVBxUFFTNk5JK0VpK3VUUDYxYnptL1RVMWpPTXNaTUFmQ2Y0SzJ5OGhVaXZDYkxKTXZpaThHSGdkVkxhK2J5djJjVmMyWUEyRlBxMmE2Q0J3azBtVlZ5SmZYem91SjZ1OVRaem13VzhXY0NRTHVoWGNiRWZ6bXNmKytTRm9vWkhlRjF6OU5uRnc4bWJmdDRlNmtEMEc1cTF6SHpaMENVdXErMGk1V3BmZVpsa0hlNVlTNThQVTIvcVlyU2JsYXZaNGlQcFpuQTBOdjIrQ3BqeHZsU1dubW1Ca0M3V2IyV0llNU1LL0NOWTVkZGR2bkMybXpua1RSeVRnVUF1Nkh1OFlCOTVYMkprMGFwNDlqa0pmTGNjL1NaeGNmaldEbFIzOFFCbUorcW5rc0tQUWpRV05MQmJtUjdETmlLeDJja1Bla2tVUUI2TTNXZ21CdFpxRlJ6WjM1K2ZNVnRKdmxHTVRFQWVCdFVhMEtiR3oza1NSVUIzL2kzZGROK013R2NoS2ZFQUpodnFQY1QwV1ZKQkRXeUVWQUJqMjh5WnB3Yms2aFRJZ0MwNjlyN1dPQ09KQUlhMlpDb0FMTkhvTFAxbHYwUEVxMEhOb2tOZ05XWU9CVTBQcmZSMytyRkZTSjhmMzVPZDUwMzBDem13L2Q5dVVjQ0FHaFBnSEI2bkNCR2ZTTlg0RzdEdEsrTjNEdnVmSURlWTE3Z3MzRUNHUFdOVndGeXUyZkZlV2NRZVFUdzE5bFpyRDFMaEZxOEZFYTk0MVdBaitpbXM0MEFMNHFkeUFETU45VFBFTkd2UkhFNjZwTjBCYndQR21ibno2SllqUVRBZkwxeU9nbmxpU2dPUjMyU3I0RC9sRkFBUDYrYjlndGhyVWNDd0dxb0IwQjBmbGhuby9icFZZQ0IyMnVtZlgxWUQ2RUJtRzlVbWtUS1A0VjFsRlI3Qmk4UXFKS1V2YlRzTUdNK3kvc2p2eTVZY2JiVTV2Qi9ZWElLRDBCVC9XcCtFenJkaXdpSzVZRWZLalFFalAxNng3N2FVdFg5L2dPYk1JTEVhaHZoQ1dFb0FPeTZ1dFVqSE01K2RnK3Zzc2U3YXpPZFIvMEN0YWUwczFqaFJ3djU4TWtYdjJYdkljRGxiZGhrYlZaOVdET0J3TDhYTUpic242WW40Y2lDRkFvQXE2bmVDOUJWc3NhVGFjZExZTDdVYUhVZU90YWUzVkRQY1FuVHhacGt5ZzhZcHZPSzZlNjhCWlBXU2VvMEVaMlRURDBHV3lIR1IvU1cvU2V5dnFRQjhQLzN0NkUrbituRVR1Wmx3VGhmbTNIKzdrUUoyVTMxSFI3Z3p6M0lmM0hKTWIvODQyUE5jaVJnNE9tYWFmOUM0Z0JZZGZVM0lPZ1Rzb1pqdHdzUWY5MStJU0FZSVA1Nm5ENEU3YzNxTkVEbnhxNU5nQUZ5OFJaOTF2NldqQi9wRWNCcVpQM01uNWNFc0Zzem5iOE5TaVJYQ0JnSDlKWjlrWC9OSHhTbnYzbFZtN1g5SUZ3UWxFL2M3LzFaMkxXVzg2c3lkcVFBV051c0FVZGtEQ2JicHVBUStPS1RmVW5Rem1GWml1L1gzMTl2YUxUc1Z4SFFEZEpEQ29ENVp2VldndmhJa0xGMHZpOG9CQVVWLytnbEIzeEZ6WFQyQldraUJZRFYxTDRINEhWQnh0TDd2bUFRRkZ6OG5nN01YelJhenRWQm1nUUNZTmZWVjN1Qy9qZklVUHJmRndTQ01vaS9Sc0J6aHVuOFZKQXVnUUJZOWVvMUVPTHVJRVBaZko4ekJLVVJmMDBOV3NYcjlVTzJQM3IzL1FRRDBOQStEOEl2WnlPd2pKZWNJQ2laK0wweHdPTVAxR2FjUDQ4SmdQby9JRHBKUnByczJ2QVN1YlJMNXI5dUluOFJTeWgrRHdEd3ZwcnBYQkVaZ01XcHphOVpVY1lMdWRHaHYrT1c0dUhDZms4SmowMTZiYldTZURnaW9BOGFwdjFPbWI1V1U1c0dJTlZXeGw3OE5zSDNBUU12QWUxRzVTSW01V3Z4QTBuSGd2OEtWTGgwWG1valFVbC8rY2RXVzErMVZUcUVUajhGQWdDb2ZwaEpTTDlZU0VmbXdWWkRROER3SjdOc0NveDFDTVR2M1FnR1BCWWVDTUI4US9zY0VmWUdGaXZuQm1FZ3NCclY4d0hhUHhDQ0lSRy9CNENINi9RWnUrK2luWUVBV0EzdElBaHZ6bGxmS2ZlSlFUQkU0dmR1QkJsL1dtdlpINDUwQ1podmFBNFJlc2VxbE9FVEd3Slo4UUdsM2RDbXMzaXhFN3Z1akdtalpWOGNHZ0ErRlJOdFF5dkVmclpoaWhBWmduRGkzdy9DSldIaXlxc3RNMyszMW5LbXdnUFFtd0NpeFZwM2xsdlNJZjRkV0kzcUJZRDRnTDVzdjV1ZXhNcWdtSG50bDE4YThYdVhBUEIvMUV5bjc2a3FmZThCbkRkV1QzWW54SE41aVJqWGI1aVJRTVpYR2NWLzZSN0FxYlZzTGZRSXNGamZmTXFLR005dEUyTVpVWUxhSkFWQldjVmZyNDl1MnFMZmhoSjlSNEQ4Sm9FRXlScnUrN2dRbEYxOHYxckM0NVA2blc3Vy94SlFyKzUwaGNoa3U5Sndrb1p2SFJXQ1lSQy85eXhnd0Z2QnZnRFlEZlVOSGxIcGprSHJoMGRZQ0laRi9ONEl3THhWYXpuL2NxTGE5QVZnWWNma2x0WHhzVUtkYnhQK3QvOWpQYVEzVk9nZFpnSDZkckhXSFVTcndIaTN1Nlh5M2NYL0NnVUFUNkhXVnJSUTY4eWloWmRSTDRtcDI4ZEg0cTlBOGhSK3VOREwwQ1RLcDF1MlFVK2hIUTRBZ05wTkxkS21BeEl4WmRza2d2anJBUTREQkpIK0JmZ0ZzSnJxWWlGVzNjVEJKWWI0d3dDQnYvVjhyV1dyb1o4RHZBVEFjMlUreVl1Wjc2KzFuTXZqOEhNVWdvYjJWby80UU9rdUI4ei9iYlNjbjRrR1FFUDdEZ2h2U3FLQTJkdjQ4WVdhL1dLd0dwTm5HSzNGZnd5SzBhNnJiM01GZkFqS2Mrb0o0M0dqWlo4WkRZQ20ra1dBM2hOVW1NSjlMem5zdjd4aWg4K1dYWVpXdW5zQ3hwMUd5KzQ3cDJQd2ZJQ21lZ05BZjFnNGdRY0ZGRnI4OWJWNjhyT055d1FCQXgrdG1mYXQwVWFBdW5vbEJQMUZhUUNJTFA1NmhzTUhBVEgyNkMzN3E1RUFLTlgyNzdIRmp3WkJZWGNxZVNrZDRmRzJRV2NNREx3RWNCT1ZOclMrTTBxTE16S0V1ZUhUL2xwbUpnOTczcm5yVzlJTXl0UGZxY1FqK3B2aTFPS1ZrUmltUFZCam1aVkJ4ZjRua05ndi8zZ0o1UzhIaVN3K1NZRWdadjc3V3N0NSt5RFRnUURNTjdUYmlQQTdLY1FYMzJScTRvZS9IQlFTQXVZL01Gck93SnY0UUFCNjA2aEpISWl2VnNJV1VoZS8vQkFRNDIxQlp3b0VBckEyT1ZSMUNuVUlWR2JpbHhnQzVtVzk1VlNEdHE0SkJNQXZnZFhVdmduZ3JJUi93OUhNWlM1K1dTSGdodzNUQ2R6T1Z3cUFkcU1nUzhSeTM1Q3BQRGVHTWt2RGZiU2xBT2p0RWtMd2w0bEx0WS8yMHc3b0pUdHZQL1hkdU1vQUFhL3FjRjVOSnF3Z0xhUUZ0WnJxUXdDZEYyUXdsZThMSTM0NUxnY012cTltT3UrVzBVSWVnRWIxYXBENGdvelJSTnNVVHZ5WEljaDBrNG9RUlNWMkw5RmJDMUxMK3FVQjhQOE5XTHIyQWhINlRpNElFYU5jMDhLS3Z4WittSW1tbVQwbllINWViemtueXg0c0tRM0EycjhCOWRNQXZWOU92WGl0L1AzMmphNjlaZERtQnVzZTh0eVp3NGRBOGJCYlpxY1NxNjcrSGdUOVViektETzVOOEc3VnpjNUhaWDJFQXFDM1dvakduczd1VkhCK1JEZWQzZjEydk14NkI4NStSWlVaQ2VicjFWMUVOQTJpQ1ZseHdyYnp0ODBSSGZwWi9ZajlvbXpmVUFEMFJvR0dkamNJMThnNmlOK09IOUdYbkl1T1g3aFpGUEdQM2hFTVdKRGFFMS8wVGxRZmoxK1BRUmI0RTRicC9GWVlIK0VCbUpwNExjVDQ5N0w4UzhqZ3g0d2w1L3gxQ0lvbS9pQUlNaE9mZVVWWjVsUFVKenVoRnZTR0JzQlBkcjZoM2tkRWlVeTJsS1YxSFFKc0JtZTE2N1pzYk1lMk8vWnlZRTFWZGtNUmY1WCtMOS9mQ1VSK2gvQmo0NDBFZ0wxVDNlYU4wZUVvQllyVGg1bS9RYUFPQ0gxM3ZJaGpQNm0rYXdkYjRWYUFia3JLNXNDQkg3eTRhZFY5WGVYUTRuK0c5UmNKZ0xWN0FmWGpJUHBnV0llajlzbFhnQm0vVzJ2WnQwU3hIQmtBM2dhMXZWbDlCcUNmak9KNDFDZVpDdmhIeEJpbWZack0yUUFuOGhnWmdMVlJvUHBla0xnbm1WUkdWcUpVUUxqOERtM1dlU3hLWDc5UExBQjZFQlRwVlhIVUtwUzFIL09YalpiemkzSENqdzJBdjUvd3NoZy9YS2J0NU9JVXJEaDkrUVhxME92RFBQUkovQkt3YnRDcVY2K0NFUGNXcHpoREhna3pDMkNYMW5LK0VUZlQyQ1BBVVFpYTJsMEFmaWx1UUtQK3dSVUkrN3gva01YRUFQRFhFRmpRRGhQd2M4RXBqRnJFcU1CM2ROTStNMml1bjZ6OXhBRHdIVHBUMWFtdVFnZEx0WHBXdGxMRmFQZWpUZDVxWTNKbTZmdEpoWk1vQUg1UWRsMTl1eWZnSCt3OGxsU1FJenYrM0FQWVkreTlSVzExRGlWWmo4UUI2RUhRVVBkNHdMN3NYaHNuV1pJaTJ1SWw4dHh6OUpuRng1T09MaFVBL0NEYnplcTFESEZuMGdGdlBIdnNzc3NYMW1ZN2o2U1JlMm9BdkFUQjlRenhzVFFDM3pBMlBiN0ttSEcrbEZhK3FRS3dCb0YybmYrcU1zdjVBMmtWSzFPN3pNc2c3M0xEWFBoNm1uNVRCNkFIUVVPN2pJbS9QTG94bEpQU3YrRVRidmNDZlhieG9GeVA2SzB5QWNBUHp6KzZEUW85TVBxTEdDaldpMktWejlZT09abk10OGdNQUQ5dGE2cnlKbGJFL1FUYUVsaUdEZGlBd2JOWTZWNWVtMXQ2T3F2ME13WEFUNHBQaGQ0Mk5QKzlRWUVPV015cTNBUDhNSDlTSitkRFpHSTF5Mmd5QjJBOU9hdWgvanFBMjlPY0pwMWxJYVA2WXNBaTEzMlBNYnZ3WUZRYmNmcmxCb0FmZEdkbnBkNVZ4RDBnMmhvbmliTDJaZVpITjYyNDc2c2NYc3h0Vi9aY0FlaGRFZ0JoTmJUcmlQam1qVEs5ekovR0pWeDhTSisxSDhnYjN0d0JXQzhBOTA0cFUvMWxVNzhHa0pKM1lkTHc3Mi9jRE9BV28yM2ZUazloT1EwZllXMFdCb0Qxd08yNnV0VWwzSlQxdW9Pd2hRdmRudmxUWStUOWNkVmMrR0hvdmlsMktCd0E2N24yVHV4Z3VwR0FQYVY5aXNpOEFzSWQ0MTMzNW40bmRxU29yWlRwd2dMd0NoQkFOeERvWFZJWkZhQ1JQOVFUOGQzanErNHRVUlpyWkpsQzRRRTRlby9nUHovUXFwZENpQ3ZBZks3VUVmQVpWcEtCTmpIMkUyT2Z0bUlmQ0RxRk5NUFFCcm9xRFFESFp1RS9UTEkxN1YyZTRBdkJ0SXNJdFh3S3lqOWt4clJnbXRabjdQMzV4QkRQYXlrQmVBVU1nR2p2bkR3ZFk0cS9KWnEvaDlFWmFiMTBXaHZhOFJqUU8wanFZZDIwajhRcmYvNjlTdy9BOFNWYzI4cW04a1lCMnM0a3RnTzhIY0NPVUVmZk1ETVRQVVBnT1FCenpKaFRnRG0xNWZ4clVwTXg4NWQrTFlLaEEyQlFZZjJqOEJaNXN0cUZWMVdnVkYxU0tuNTdBYS9qb3RzWlV4U25ZaTEwK2gyeFZoVFJrb3hqUXdHUVpPR0d4ZFlJZ0dGUk1tSWVJd0FpRm01WXVvMEFHQllsSStZeEFpQmk0WWFsMndpQVlWRXlZaDcvRHh6QVZlb0xXdkFwQUFBQUFFbEZUa1N1UW1DQyI7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFN1Y2Nlc3NJY29uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBSUFBQUFDQUNBWUFBQUREUG1ITEFBQVFBMGxFUVZSNFh1MWRlNVFjVlozK2Z0VTlNM2xQVjhkd1VOWUhJWnFRbVc1QmlHY2Rrd3d6WFpFVldYQ1BCeDlIeFNNY2R4Y1JIMFR4N0VZWHo0cjRJbklVa1Qzc0poelhYUlN5ZjZ3c0NwSHVHVWxpVURFU3UzcFludUdocUx1elZQVWs1REV6M2ZYYmM3dG5QQ0hUM2ZXdTZxNnUvbWYrcUh0L2orLzc1dGF0VzdkK2x4RC91aG9CNnVyczQrUVJDNkRMUlJBTElCWkFseVBRNWVsSGN3UzRHNG5zSzVhdkFhUkJjR0lRUUpiQnB3TllTa3hMeEYrQWx3SllCdEEwaUNlWmFSTEUvd3VtU1NLZUJQZ0ZaanhyU0hpbTBscys5UGhHSEltaVZpSWhnTlVQeVAxTGlVZEFsQ1BHV3hrWUlLSmVMd2xqWmcyZ1F3eitKWWp6eHd3YU83UkZuL0xTUnhpMk9sTUFETXFNcHpZejB4WUpwRER6QmlLU0FnV1F1UXFpQTJET00vRnVkYlM4RndRT05BWVBuSFdVQU01K2NNWHJrNVhrNVdEK0VCRzkyb1A4UFRUQnp6SG9lNVNzN2l3T1R6M2pvV0ZmVGJXOUFMSzdzZFJJeWg4a3h1VkU5QlpmMGZESU9ETS94S0FkNVNYYW5iOGJ3bkdQelBwaXBtMEZrSDJ3LzB5dUpLNEI4QkdxVGRZNjc4Zk1MeExoNXVrKy9WdnRPb2xzT3dGa3hsTERNT2lUSUZ4S29MYUx6NUVNbWFlWTZKYUVaR3cvT0ZJdU83TGhVNmUyQVhqZGVPcDFQUVo5bDBDYmZjbzFmTE9Nb3l3WlgxV3AvR1dNb0JKK1FBaC9LWGpOajlHM2VGSHFPaGkwallqNjJnRVV2Mk5nNEhFR3Jpamx0UDErK3pLekgrb0lrQ21rTmdPMGswQm5tUVVheGV2TStPNHNacmMrcGh4NU1hejh3aEhBT0pKWkkvVVZRTm9hVnVMdDRyZSt3TVJYcWtyNVA4T0lLWEFCREl3dlBWMnE5dDFEaEExaEpOeXVQaG00NDhWKzdXTy9QeC9IZ293eFVBR0lHVDR4N1FKb1ZaQkpkb292Qmo4Tk10NmpqazRkQ0NybXdBU1F5YWV2QmZqcmdTL1pCb1drWjM2NHdreWZWUlh0RzU2WmJHSElmd0V3S0RzbTN3clFWVUVrRkIwZmZGc3hwMy9VNzN4OEZjQjV2MExQVEZuZVJVU1grcDFJRk8wenNLdTNYM3YvZ2ZNeDYxZCt2Z2xnN1Q0czc1Mlc3NDMwd281ZnJKeGtsOEY3WnZyMGkvMWFTdlpGQU9JRkRoTHlQaENkRXdCRzBYZkJmQkJWZldQeFFoejFPbG52QlZCN3hrL3ZCakRxZGJCZGJtK3NLR2tYZXIyRTdLMEF4RWFOc2ZSZEJGelc1V1Q1a3I2WUU2aWoybnU4M0hqaXFRQ3loZFJOOGVxZUw5eWZQQ3U0cVpqVFArT1ZGODhFa00zTEh3WFJyVjRGRnR0cGdRRHoxVVZGLzQ0WEdIa2lnTXhZLzNuRTBrTUE5WGdSVkd6RERBR2VyUkp2bUJndC84YXNwZGwxMXdJNFp6eVZNZ3lwQk9BTU0yZnhkUzhSNEdjbGljOTF1OEhFdFFBeWhmUnVBdDdtWldxeExZc0lNTjlmVlBTM1cyemRzSmtyQVF6bTAxc2x3azF1QW9qN3VrT0FHVnZkdkRkd0xJRHMyUEsxNEdRSm9LUzdGT0xlN2hEZzJZcFVYZi9veU9Hbm5OaHhMSUJNWHQ3ZktkdTBuUURUU1gwWWVFRE5hWTV1dzQ0RWtDbWtQa3lRZG5ZU1NGR1AxV0QreTVLaTMyczNUOXNDcU0vNjZSbUFVbmFkeGUzOVE0REJUL1gyNit2dHZqbTBMWUJNUHIyRENGZjRsMHBzMlRFQ3pOdUtpbjZqbmY2MkJIQjJJZlhhSk5PaGVGZVBIWWlEYTh2QVN3bkplTFdkdFFGYkFzZ1U1TnNKOUpIZ1VvbzkyVVhBQUgrcGxOTS9aN1dmWlFHY3ZXZkpLNU16ZmM5Ni9kMjkxVURqZHRZUXNEc0tXQlpBL0tiUEdnSHQwSW9aWDFRVjdSK3N4R0pKQUhQci9iOEhzTmlLMGJoTnVBallHUVVzQ1NBemx2NFVNUUxacGh3dWROSHhickR4aVpKUy9wWlpScFlFa00ybkh3ZmhEV2JHNHV2dGd3QXpIbFlWN2MxbUVaa0tvUDZ1UC9Fck0wUHg5WVVJMUNxRkVNYUkrR0ZtdkVaaU9wK0JkeERSeWlEd1lxNmVwU3BUaDFyNU1oZEFRYjZGUUI4TEl1RG8rT0JKTU41VlZQUzlwK2IwWi91eFdENHVYMCtnei9xZEx3TTNxRG50ODQ0RklEN3NtQzNMa3lEcTl6dllxTmhuNXVjcnhKdi9PMWQrcmxWTzJieDhJNGorenMrOEdmaWRtdE5hRnROcU9RSU1qc252a0poc3YyRHdNNmwydGkzSWwrakUwRzl5eDE4d2pWUHNvQzZrUzBSWWI5cldSUU5tREttSzlsQXpFeTBGa01tbnRoTkoxN3J3M3pWZGJaRS9oMG9tTDE5TlJOLzJGeVQrWERHbmY4bVJBTElGK1FCQWIvSTN3TTYzN29SOGtmWEFlT3FjaENFOTRpY0NEQlRVbktiWUZvRDR2SXVUOHBISVZPcnlDV1duNUl0d1JHR3NYa1B5dGFna00wK3JDWDFac3krS210NENNbU9wUzRtbFVNcVcrTVNWNTJiZGtDK0NFVFdTQ05LRG5nZDJxa0htelkyZVNFU3o1Z0lvcEc4bTRKTytCOWVoRHBqNWtFUW5ObHVhOERYSk1adFBmeE9Fai9zTkFiTnh2YXFVLzdHUm42WUN5T2JsdlNEYTZIZHduV2hma00rWUdTb3BSLy9IYWZ4dkdGLytpa1ZHei9PQnZGOWg3QzRxMmwvWUZFRDZKWkNvcXgvL1RrYkFDL0xYN0ZtMmFzbHN6emhBQTBHZ0syNVZxcUsvMXJJQTV0UTVHVVJ3bmVUREsvSVh6L2J1SVdCZGtMa2ZtOVlXUFhVUnBrLzEyZkFXTURBdWIwd1l0R0FaTThpQTI4MVhKNU12c0t3WXhwc2UzVkplOE1qWlVBQ1pRbHBVNkw2OTNVZ0lLNTVhYVZlZUhuWnp6eGZEZmhqLytmT1lNZkg3MVZIOVRrc2pRTFlnZngyZ1Q0Y0YrTXY4TXA1a1lpbXNjcktDL0dscGR1TVRJMGYrenlrZVlaTXY0bTYyUzZqeENCRDIxbTlCdXNSZk1CWlY3NThZT3F5SkJOYmxsNjlNVXVJaWlhWFBnL0I2cDJUWTZSY1Y4dXNDNE50VlJmOGJTeU5BcHBDK082d3lMOHo4VTZycUZ6Y3JpRlI3blhwTS9yN2ZwZWVpUkg2ZGRQNUJNYWUvejVJQXNubjVQaEExZkc2MDh4OWt0NjA0WVdNV2xiV20xYlBIa2N3WU5aSCtsVjBmVnRwSGovemFDUEFqVmRFdnRpYUFncndQb0xkYUFjdkxOZ2J4MzVkRzlTOWJzbmszRXBtVjZWMWVpeUNLNU5mKy84RjcxSncrYkVrQW1ZSjhrRUJ2dEVTRWw0MW9kbDF4OU1qamxrMTZMZ0tlT0NGVkx1ajBDVjlEL0pnUEZoWDlYR3NDeU10UEU5RnF5MFI0MWJDaUxiTmRETkV6RWZBRTl4cWIxRTFUdXROMDJtRzIzeXgyVVlsY3plbHJyQW1nSUQ5Sm9BV05uUUpqdFY5MWNXWGwvS3pmYXA5YU85Y2lpRGI1OVRrZ25pd3Eyb0tkM1EwZkE3TjUrWkZReXJ3eTNsNVV0UHR0a1QvZjJMRUl1b0Q4bWdENGthS2lMOWpjMDB3QWUwQzB5UkVSYmpxNUxYcGtXd1JkUW41ZEFIdUxpcjdnUkxZbVM4SHlqd2gwa1JzdUhmZmw2bVZGWmVvL0hQZTNLZ0xtZzl4bmpFYjFubjhxZmd5K1Q4M3BDemh0Sm9DN0NQUnV4eVM0NkNpMk1CRVpGeFZ6VTJPT3paaUpnUG5nc1dVMC9OU2ZhNGVkK21qbkNWK2puR3AxaG5QYUFrNmIzQUxTL3dMQ2xVN0JjZHRQaU1CSVFKa1kwZmM1dG5VM0V0bVY4cjhCOU42WDJlaEM4dXR6UU55aDVyUUZsVjBhQzZDUS9nS0E2eDJENzBWSHhyRnFnaTkwSllMNmNUVjMva2tFWFVwK2ZRckFYMU1WZmNIWFNJMzNBK1RsOXlhSXZ1OEZqNjVzTUk1QnFvd1dSdy8vd3JHZGVSRXcxblhic0g4eVpnempDalZYdnVOVUhCc0tZUDBEcVhPVGt2UnJ4NkI3MkZGODYwNVVVZHlLWU8zUHNNek5zU3VkZHM5Zk1BbHM4b1ZRUXdHSTgzeVg5S1ZQZU1paksxTTFFYUE2WE14TmhTTEtUaWRmZ0YrVnRPVVRJM2pKMGdnZ0dtWHk4bk5FOUJwWHpIblptWGtLWkl3R0xZSW9rQS93WkRHbm45YUlqbGJmQmJSZkZmQ0FSUkFOOHBzdkFnbEJOUDh1b0pBV1R3SGlhYUM5ZnN4VHpOaWtidEZWUHdPTERQbjFSOENiMVp6VzhDUGZWcCtHRFJOTFAvVVRaS2UyR2F6RHdMQmZJb2dTK1RXTXliaTBPRnEreDlZdEFHTFhUVlYraVlqNm5CTGxaNythQ0tUS2tEcHk1REV2L1VTTmZBYXpJZWtyR2swQVc5NEM1aWFDNDBSMGdaY0FlMnVMSjFtcWJQWktCRkVqdjRaMWs3ZUE4enkwTEJDUmJkZDV3TXRVeEpNVnFUcms5TUNFZVZPUkpOL2svbTg2QWd3VzBrTVM4RE52LzJ1OXQ4YkFINnRTWlpOVEVVU1YvRHJTZkVreHAvOVhNOVROcTRUbDVlZUpxR1doSWU4cHRXOVJpR0JXTXQ3eTJFajVXVHU5STA1K3VhZGZQNjNWR1FLbUFoZ3N5RGRJb0cxMlFBMnJyYWlLTlNzWm02eUtJTnJrMTNZQ2Yxdk42ZGUwNHNOVUFPdkhWNnhKR3Nrbnd5TFZybCtySW9nNitiWEJuNnJucTZOVEIxd0pRSFR1dEdKUlFnUlZ3N2lrMGRld0lwL0JRdjlaRWlkK0hPWHl0d3c4cHVhMHM4MytnVXhIZ1ByallQcGFJbXczTTlaVzE1bXJBUDY5Q3R5WDZERitVZTNocWNRSmFTT0QzZ2FtS3dsWTFGYnhlaHlNd2ZoMFNkRk1PYk1rQUZFdXZtcEl2eVZnbWNkeHh1WjhRTUR6Y3ZHMVVhQ1EvaUlCbG84aThTR3YyS1JsQk5qeUVmT1dSZ0RoTng0RkxLTWZha05tbnBsT1ZNNncrbm1iWlFIVUpvTUJGRGdPRmIwSU9HZndQNnM1L2ErdHBtSkxBUEhSTVZaaERhY2RNeHNWNHRWbWxjcFBqczZXQU9ZZUNiY0JkRU00S2NaZVd5SEFqSjJxb3RuYXptOWJBR0svNE9KZStZbTIyaTRXNjBJcys1UWxpYyswYzJpa2dNMjJBR3Fqd0ZqcUVyRDB3eGozOWtHZzJiWnZzd2dkQ1dEdXNmQW5CR3d4Y3hCZjl4OEJjVGFScXVoRFRqdzVGa0Q5SFVIaVVZQjZuRGlPKzNpRkFGZEFsVUZibFZWT2N1MVlBTUxHWUQ2OVZTTGM1RlVxc1IzN0NEQmpxNnBvanM5MGRDV0F1YldCVUNxSzJZY3FnajNjMWxOd09nazhHY3E1dFlFU2dETWlDSEU3cC9TQ0pCbURkbWY5cHlia2VnUVFCZ2Z5S3pZa0tMRWZvR1E3SXhhZDJMaFM1ZXJRaEhMNFliYzVlU0tBMm55Z0lQK3RCTHJOYlVCeGYzTUVEUEJWcFp6K1QrWXR6VnQ0Sm9ENnBGRCtta1QwR1hPM2NRdW5DRFQ3enQrcFBVOEZBSEVZNGxqNnJyRHFERHNGb1ZQNk5Tdno0aVorYndVZ0lobEhNbXVrZHdNWWRSTlkzSGNCQW1ORlNidXcyZkZ2VHZIeVhnQmlxWGczbGlKUk8zUnFRV2xTcDRGMmRUL21SMURWTjltdW9tb0JORjhFSVB5dTNZZmx2ZFB5dlFSYVVKdk9RbHh4a3prRVJKSG5tVDc5WWpmVlRWcUI2WnNBaEZOeCt2aE1XZDdsZDIzL3FLcUZtWC9ZbTlJdmEvVmhoOXZjZlJWQUxiaDZrYVpiQWJyS2JiRGQxWjl2SzQ3cVY0UEU1LzMrL2Z3WHdGenM5YTNsL05WNHNjaUVUT1lxZzY1enM3NXZSeTZCQ1VBRWxSbnJQdzhzaVNxa1o5a0pzbnZhOHFRQmVtY3BwKzBQS3VkQUJTQ1NxcDlLbnI2RmdBOEhsV1FuK0dId2ZrT2FlZGZFeU5FL0JobHY0QUtZVHk2VFQ3MFRvQjFFbEE0eTRYYjB4V3g4UTlYSzErSGRFRjh6QmZvTFRRQWl5OW9SdGRYa2RoQmRIbWpXYmVKTW5PSUJzS2pndVNlc2tFSVZ3SHpTb2hBRmdmKzFXK1lHOVlybzlKWHE2ZHFORXdPWUNZdDg0YmN0QkNBQ0daaEFyL1NIOURZQ3RrYjUxSEt4c0NNMmNKWnlVMCtIU2Z5ODc3WVJ3SHhBQS90WHBLWGp5VStCOFhFaXJHZ0hrTnpHSUQ3WUFIQVBNMyt6dEtYY1ZxWDMyazRBODJDdmZrRHVYeXJ4TlFUYUNsREtMUWxoOUdmZ0NBRTdqU1MybDRhMTM0WVJnNW5QdGhYQWZPQzF4OGFFL0FFUUxpZVFvNjNQWmlCNGZWMXMwMmJRRHFtcS9jQ1BGemhleHR2MkFqZzVXYkVWUFdFa1AwU01LMEI0bFpkQXVMWEZ6TTh6NFh0UzB0aFJISjU2eHEyOW9QcDNsQUQrQkVwdDQwbHFrNmoySVlFVVp0NUFSRkpRb05YOGlBb2tSQWZBbkdmaTNlcG9lYS9mNi9aKzVOZVpBamdGaWRwOGdYaUVRVnNJOUdhQXp5U2lsVjRDVm45MHc0VEIrRG1JODdOOTVieGZyMmk5ak52TVZpUUUwQ2pKMm42RTQvTHJLTUZuZ3JFYW9ET1lhUldJVjRGcEZSR2Z4b3pUaVpBQTR5aURqb0g0S0lDakVFZlZnRjRRaElPckpVNFlKZldDSTArQUlHYnprZnBGVmdDUllzbkhaR0lCK0FodUo1aU9CZEFKTFBrWVl5d0FIOEh0Qk5PeEFEcUJKUjlqL0g4OFhJcmIvUmlFMGdBQUFBQkpSVTVFcmtKZ2dnPT0iOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRMb2NrSWNvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUlBQUFBQ0FDQVlBQUFERFBtSExBQUFLLzBsRVFWUjRYdTFkZTR3ZGRSWCt6dHp0dlgzQzdneWxaZHV5TzFjSWhJQUp4aG9OU3VTVkVDa2dDcFEvRUNGQ2c0MU5SRjQ3ZDhGY3NYdW5MU1NpaUFqeERSb0JRUTFFdzZOZ0tCcFJFaFdVU3JyTzdOSlNFUGJPcGJUUTdtdU9tYVd0Mis1OXpNeWRLVFBNMlgvditiNXpmdC81OXR5WnVUTy9JY2hmcGhXZ1RLOWVGZzh4UU1aTklBWVFBMlJjZ1l3dlh5YUFHQ0RqQ21SOCtUSUJ4QUFaVnlEank1Y0pJQWJJdUFJWlg3NU1BREZBeGhYSStQSmxBb2dCTXE1QXhwY3ZFeUJtQTZocStiREplUk1MRlpwY3pEbG9DckNRZ0VWTTJFTk1Jd3ozOVhGMERPKzBYeDRFSHB5TXVad1o5R0tBaUJXZjEzdjk0Z0xOV2dIaTB3azRFNkNGZmxJd01BYm16U0Q4R2N3Yko4Wm5iM3g3VzlueGcyMG5SZ3pRam5yN3NhdG1kUlhWaTRtVkx3QTRpd2hLdTdUTWNJbndORnpjVjMwbi95dThXZDdWTG1jOXZCaWdIVlc3eTNPMS9PaVZJT29ENGFoMnFKcGplU2VBdTBiZnhXMjdYamZmakRLUEdDQ2ttbXB2MzBvaXVoMUVpME5TQkljeDlqQndoek9hTDJONytkM2dCRE1SWW9DQUttcEwrNWNneno4RmNFWkFhSFRoek5zbldWbjkxdERBYjlzbEZRTUVVRkFyOXAzSnJOeFBCRFVBTExaUWwvbTdOYnR3TFZBZUM1dEVET0JUT1ZVdlhRdndyVVNVTk0yZXAvR0o4MGUyYnRqdWN5a0hoQ1Z0TVdIV0VEdW1TeSt0VlFqOXNTY0tuWURmNEVubEFtZDQ0RTlCS2NRQUxSVHIwbzBCaGFnVVZOaERIYy9BQk5nOXg3SFhQUjRrdHhpZ2lWcGFyL0ZGS1BTVElJSytyN0hNNzhETkxhOE9yOTNzdHc0eFFBT2xPbnRLcHlrS1AwRkVPYjlpSmlHT2dhM2pvM3p5emxmTnFwOTZ4QUIxVkpyL29ldU96THY1elpFZTdUUHZab0pGVElNTTNySTNiUmVJVkRDV0FMdzhzZ05NNWo5VTdjSVpRTmx0WlFJeFFKMXJJMnJSMkVTZ1UxcUoxK3B6WnJ6QTRFZUpsVWVjb1lIbkFIQWp6T0U5TittNW5Ic1pHRmNRb2FjVmQ2dlBtWG10WTVzM3Q0b1RBeHlra0tiM2ZRV2szTkZLdUVhZk16TUQ5REFtK2V2T0srWkxJWGhJNnpYT1p3VzNFT2lrRVBncENETlBFdVBFNnBENTcyWWNZb0JwNml6b0xoK1JuejFtQTVnZlJuaG1QRE1PWmRWT2UrM0xZZkFIWXpwNys4L1BrZnM5RUhXSDRXUHdIeDNML0tRWXdLZDZxbDY2bXdpcmZJWWZHTWI4ODZwZHVCd29UNFRDTndETjAwdUxDc0RqUlBod0dGNW05MkxIWHZkZ0k2eE1nTDNLcU4zOXkxQnc3VEJIL1F5VUhhdnlqVEFOOG9YeGZuVXNqUDBTaEhOOXhVOExZdkJMam1XZTJPajRRd3l3endDNmNROFJYUlZDNE5zZHk3d21LQzV3L0RGckNwcTd3THZTOTVHZ1dHYXNkT3pLQS9Wd1lnQlBsVVhYemRQbTVrZEFtQjFFWE84NzM3RzNuSDZvYnVVNll0a04zVzVIeDR2QlQwLzVxYXBsMXYzMVVnd0FRQzBhVnhEb1IwR2FEL0NiNDJPRjR3L0ZiVnZUNjlLS0phK1JUd2FwZGVyTVpHenlhT2ZWRGRzT3hva0JQQVBvSmU4ZzY2d2dvcnJnMVRYTHZDc0lKcXBZdFZoNm1JQUxndkM1THQ5WUd6STNpQUZtcUZidTBJcWp1d0FxK0JlVUI2dlc0UEdIYXZRZlhGZG5iMSt2UWpRWTVJQ1ZHWTg1ZHVWc01jQkJDblRweHFjVW9tZjhOeDlnMTczRUdWcDNmeEJNMUxGcTRJTldIcTFhaGZrSG42Wm0vaXVncTJqMEtTRFRiNE84MjdlZHNkMmQyUGF0M1g0eGNjUWQzdE4zZWtkTzJSaUVld0swZkljMThQeDBUT1lOb09uR3owRGszYzd0NjQvQnYzTXM4eHhmd2JFR1haUlRpOGM2QkJ6bU44MGs4MlZ2MmVhOVlvQnBDbWk2OFJjUUxmY3JvdXZTbDJ0REE5LzNHeDlubkZvcy9aaUF5LzNtY0prck5kczg0TTZtekU4QVZUZEdpRWp6S3lMZ2ZxeHFyZnVyLy9qNElydjAwdlVLWWNhUmZhT016SHkvWTV1WHlBU1lwb0NxRzI2ZzMrSEhhR2wxMjhDcjhiWFZQM09YWHJwVUlSd3cwcHVoR2ZpOVkxVStJd2JZcDhEU2ErWm8rVG0rSDdEd0xxZzR0dW5kSWRUd2QzMy83V3MvTXVoRm9YcS9EbWI3SzJEcE5YUFUvSndiL2JhQ1hleXVEVlhXKzQyUE8yN3FRVlJsMXRWKzg3RExyOVdHekx0bEF2aFZMQU54Mlo0QUdXaHdxeVdLQVZvcDlBSC9YQXp3QVc5d3ErVTFOY0RjbnRKUnN4WCtHZ0crTDVTMFN2aEIvWnhCLzUzYTNXT0NId3Q1TStqN0lrMURBMmk2Y1JNSU53WDdsZXg5V1VQeWtqTHVxM0wrS2d5Vjl5U3Z1QU1ycW1zQVRTK3RBZUU3U1M4K3lmVXg0d0hIcnF4TWNvMWViVE1NNE4xMnhMTnlsdnpudDk4NkYzeHV6VElmYlo4cFBvWVpCdEI2U3hVb01PSkxtUjFtWnQ3azJPYXBTVjd4VEFQb3h0TWcrblNTaTA1TGJkNGoyNDVWeVNmbDBuRTkzV1lZUU5WTC93ajdFRUphR25NbzYzUXgyVm16MXU4NGxEbUQ1SnBwZ0tMeFFqdlBwQVZKbm9WWU1VQVd1dHhraldJQU1ZQjhCV1RaQXpJQnN0eDlBR0tBaUF6Z25WSVIrQmt3TmpKb2tJbmZKYWJqQUh5Q3dHZURhRjVFcVNLbEVRTzBLYWUzYXpZRGQ0N3Y1bTgyM0NqNXZUdDdyZ2J6elVUVTFXYktTT0ZpZ0Ria1pQQzQ2eW9YK2QwVFZ6M2FPSUU2OERSQVI3YVJObEtvR0NDa25ONE5tT1FxbjY4T0QvdzZDSVhXYXh6UENqMFg1SUdKSVB4Qlk4VUFRUlhiSDg4YnFwYnArNGJONldtbTl0WlIrRGVoVTBjSUZBT0VFSk1aampPYVg5Yk9udmhxc2JTSmdLWWJKSVVvTFRCRURCQllzcWt0em43bzJPYVZJYUQ3SWFwdWZJbUlmdEFPUnhSWU1VQUlGWnZ0YWVPWFRsMXl3MUlxZEd6MUd4OVhuQmdnbExLUlBIOUhxbTVNQm5yc0sxU3R6VUZpZ0JDaXV1TTRxYmExOHM4UTBBTWdXckhrdld3cDFLYVA3ZWJlaHhjRGhGRFNaVHF2Wmc4OEVnSzZIN0pnaWFIbEN6VFNEa2NVV0RGQUNCVmR4ZzAxdTNKckNPaCtTSml0WDlySjF3Z3JCZ2loS2pQKzd0aVZrME5BOTBNMHZYUW5DS3ZiNFlnQ0t3WUlxYUxMZkdyTk5qZUZnbmVYNTZxelI3Y1Q2UEJRK0FoQllvQ1FZakpqTTNia1ArNDQ1YmVEVW1oNjZWNFFMZzJLaXlOZUROQ0dxc3o4cEpQYnRRS0RkNHo2cFFtNjY1ZGYzckJ4WW9Dd3l1M0ZNZmhGaHJ1aVpxMS9wU25WTVdzS3FydmdJUUlTc0lQWC95c1ZBN1JwQUEvT2pHSEhydlEybzNydmlhYU9ST3pkTTcxT01VQUVCdkEyWnE1YVp0UGYrTVVBNFlST3lYTUJZb0J3N1cyTkVnTzAxcWl0Q1BrS2FFdStmV0NaQUpISVdJZEVKa0JjeXU3bGxRa1FpY0F5QVNLUlVTWkFYREkyNXBVSkVJbm1NZ0Vpa1ZFbVFGd3l5Z1NJV1ZtWkFIRUpMR2NCY1Nrclp3RlJLaXNUSUVvMXAzUEpCSWhMV1prQTBTbkx3SWhqVlJZMlk5U1c5aTlCbm1lOEdUTzZLc0l4eVdsZ09OMW1vRm9KMmRsVE9pMlh3MU1ScFl1TXBsWGRrU1VLU1pTU3J3RHZIUzEwb1dNTlBOUm9uYXBldW9VSU40ZlVJVGFZR0NBaWFabDV5Qm5mYzBLOUZ6WjI2djA5T2JpYlFUUW5vblNSMFlnQklwTnk2dGFndjQxVGJ1WGIxdG90KzJnNzlmNVRGZUpmRUxBa3lsUlJjWWtCb2xKeUw0KzNaUXlJdDRIeEdnRTlJRm9jY1lwSTZjUUFrY3FaUGpJeFFQcDZGbW5GWW9CSTVVd2ZtUmdnZlQyTHRHSXhRS1J5cG84c2RRYlFpaVh2emRnZlRaL1V5YXk0YW8za2dYdkdrMWxkblhjR3FicnhJQkZkbU5TQzAxVVh2MUcxekVWSnJubm1LMk9LeHVjQWFuakpOY21MU1ZwdERIemJzU3BmVFZwZDArdXArOW80dFdnOFM2QlRrbHg0MG10anhsdGp5dGh4dS81ejJ4dEpycld1QWJxS054NU55RDFMd0xJa0Y1L1kyaGg3R0RqUHNTdFBKTGJHdllVMWZIUG8vTVhHd3NJY0tnUDhXUkIxSjMwaFNhaHZhbjlqNEJHZWRFdk9LK3YvbFlTYVd0WGc2K1hSM3BPM0U3bmNzWUMzUHZscnBBQnp4L0NPNGJWMm1oU1NocWFwV3pIVUtnYUlRZFEwVVlvQjB0U3RHR29WQThRZ2Fwb294UUJwNmxZTXRZb0JZaEExVFpSaWdEUjFLNFpheFFBeGlKb21TakZBbXJvVlE2MWlnQmhFVFJPbEdDQk4zWXFoVmpGQURLS21pVklNa0tadXhWQ3JHQ0FHVWRORUtRWklVN2RpcUZVTUVJT29hYUlVQTZTcFd6SFUrai9nMjdDOU00MTZRUUFBQUFCSlJVNUVya0pnZ2c9PSI7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE90aGVySWNvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUlBQUFBQ0FDQVlBQUFERFBtSExBQUFaR0VsRVFWUjRYdTFkZVpnY1ZiWC9uZXFlU1RMVDFaQ1FtV3FDZ2lBSUdNUUZVWkU5TEE5RThDbXJDc3FTZEFjUWxjV054eElYRUpVSEFnK1NyZ1JFUUVFQ1BoYzJVY0srUFZBRWdnaXlpUGlGcWs1SW9LdG5Ka3QzL2Q1M2F4YVN5Y3gwM2VycW51NUEvWlB2eTV5OVR0KzY5OXl6Q0RiQWh5ZHVOTmxiMDc2REpJenRTV3dIa2UwQlRoR2dnMERIVy85S1dxbFBzQ2hBTDRIZXdYOEJXUTd5V1JoNEZyNy9ySmxZL1l6TWZYUEZobVl1MlJBVThtWmFNMkRJSGdEM0FHUUhDTHJxb3hjTEFCWUR2QmMwN2pkdDUrNzY4R2tjMVpaMEFHOTJaaS80M0JjaXV3UFlvM0htR29FVGNTK0U5MFBrTG5PZWM4KzR5aEtCZVVzNEFPZkFLUDNiMmdzR2pnRGtVQWltUnRDMS9pakVVZ2h1Qm5GamFwcHpyOHlCWDMrbXRYRm9hZ2ZvbmRYOXlZckljUlQ1ckFDYjFLWnFnN0ZKRnlJM0orQmYxNUV2UE54ZzdxSFpOYVVERkhQV1p3QjhXeUNmQ0sxSkV3T1NmQ2hCL0xCenZudExzNG5aTkE3QXc1SG9tZEw5UmNMNEZvRDNONXVoNHBHSGkwVjRRZWZyaFJ0a0lTcngwS3lOU2xNNFFFODJjMUFGdUVnRTc2dE5uZGJBSnZnUHFXQzJ1Y0JkTk40U2o2c0RyRHloYStzMVNXTWVJUHVNdHlIR2d6L0pXOXZGUDNWaWZ1ay94b08vNGprdURzRGpwNXFsWk9KN0FFNkdTTnQ0S2Q4VWZNazFoRnhxbHN2ZmxhdVdlWTJXcWFFT0VCem5sblRQQW93Zk5PMVJydEZ2WUlnZkN3VE9OUFB1VmFLQ2t3MTZHdVlBeGF3NUZlajRyWWg4c2tHNnRTWWI0bDZpNTdDMDdTMXJoQUlOY1lEaXpLN2R4VEFXUXNScWhGSmo4U0N4SElBbllJbUNONEx2SUxFeElTa0FwZ2ltakxlTUlGOUxDQTl0UlB5ZzdnNVF6R2ErS1lJZk5kU294TDhnZUZ6QTV5RHl2Rkh4bjU4MHNieFlMbHRlRENNSHM1TTM4b3kySFF3WTI4RG50aFJzQytCamdHd1dCajh1R0tGL1Jzb3UvSGRjOUVhaVV6Y0hVT2Y2MG1Uck9vZ2NWVThGQXRvcTZnYmNUUU9MMm4wdW1tZ1hYcXdIejVYWjd2ZXVObVNHK0pnQndReEF1dXZCWjIyYUpINXUyczV4OWRvWDFNVUJlRGphUzVPdDMwTmsvM29aaU9TYmh1QW13cjhtbFY5NmY3ME1OSnI4QktTVTY5cWROTDRNNEhBUk1ldW1LM2lMdWR3OVZCWmlkZHc4WW5lQVlQbVU5bHNGc212Y3d2YlQ0eDhoc3NDYzU5eFlIL3I2Vkhrc0pwWW1aZzRCbWExYlRJTzROMVV1SHh6M1VURldCL0NPeTNTaGpYZEI1QVA2Wmh4ejYxWUc4Q3NhbGUrbjV5NTdMbDdhOFZJclphMFBFUGcyZ0NNaGtvaVhPcDVJbFh2M2xTdUxhaU1ieXhPYkEvUmxKMisrQnUzM2lNaVdzVWcyU0lTMGsxaDkzaVI3eGI5aXBWdG5ZbjJ6TSs4cCsvZ21CQ2ZHeVVxRmtaT1ZOVE02Rml6L2R4eDBZM0VBbnBDZTRpVW5QU2FRcmVJUXFuK2x4MEtqWFA1NjUxWExsc1JHY3h3STlSdy9kWnJmbHJ3TXdPZmlZay95UmJQUzk3RTRWb0thSFlDbllsS3AxM29Za0EvR29TQ0Jmd3B4L0lhUWJyVzJQVXJaN3YxOU1mSUN2Q2NPT3dGNElrVmpON0dYOU5aQ3J5WUhDSTU2VXpKL0FyQlhMVUlNNFJKelU2dWQwK1Jxckl5RlhwTVJDVGFMRXpJWEE1Z2RqMmhjbEZydTdsL0wxWEpORHVCbE16ZEJjR2l0eWhCWWtRQ083c3c3dDlWS3F4WHcreE5lNUdjQ1RLNVpYbUtoYVR0SFJLVVQyUUc4YkdZT0JPZEdaZnpXcjU1M1M5TC9RdXFLcFU3TnRGcUlRT21rcmd6TGlZVVE3RmF6Mk9SWnB1MmVGNFZPSkFmd1ptWDJoUEJ1aUVUQ1grdmwvelJsdTZjMU9vZ1R4VkQxd09rUEpsbDVRR2JWUnA5K3d1ZnVIZk1MRCtuUzBYNkIzbXlybTVTLzFaYWtTWjlFTG0yN0MzUUYzaERodmF6MVZRZ3VCc1NJckIvcHBpcDk3OWM5R1dnNWdQSllMMmM5S0pCZG9ndXFxbS84ejZic3dwMlJhV3lBaUNvdHpnZHVoS0Fqc25yazNTbmIzVWRuUmRWeUFDOXJuUWVSTTJzUTBCVmd2NVR0UGgyWnhnYU0yRE83NjhPK2I5eGUwN1U1OFYzVGR1YUVOVk5vQitqSlR2MklqOFRqVWIvN0pOOFFrVjNOdlBPM3NNSzlIZUc4V1pucEZENGMrWEtKSkF6c2FNNXpGNGV4WHlnSENGSzVYck9lRE9ydW9qekVTa1BLdTNmbWx6MGVCZjN0aGxPYzNiMnIrTVlpQ05xajZFN2c4WFRlMlRrTWJpZ0g2TitreUNWaENLNEhRMVpFZUdBcVgvaGpKUHkzS1ZKUHpqcllCMzRUZVdOSS95VFRMc3l0WnI2cURsQ2EyVzM1Q1hsQitsT210QitCZjNvcVg3aElHL0VkQkJSem1XOEpjRUVVVTVEMDBOYTdaZnB5Ny9XeDhLczZnSmUxcm8rYTFVUHc5K204ZTBnVUJlTEc2WnRwYlZsSmNGZWZ4bzRpbkFaaUdrV21nWHlYaUNRQnZrbWlLQ0xxMzRJQlBrbERubWhqNVlrSithVXY2T3lzNDVTOW1NdmNMc0FCVVdpU3ZDNXR1OGRFZG9BZzRHTWdVc2t6aVZmTVBrNlhhOTJlS01MWGlzT1R1bEtsaWh3TkdQc005QTJvSVgyTERvbnJFNFovYmVlOHBVL1VLcHNPdmtxd0tVbjdNMUh6RVJQd1B6bFdjdW1ZSzRDWHM1Nk90UEVqMXdpdzAzZ2M5M3F6MXNkOXdTeFNQbC9UbVhyVXQ4VEZGTTVPenlzOHFQTWlhNEh0eVUzOXFNL0VRMUdLYUVnOGxyYWRqNDNHZjFRSEtPVzY5eU9NaU1FYS8wUXpYNWhYaTlLNnVNV1R6VTFRN3ZpWlFBN1d4ZFdHVjBjdHlMeFVINy9ScUJYT3kyYStBb0hLSzlCL2lCbWpYYStQNmdCZXpyb0xrQm02M0FnK21NNjd0Vjl3YURBdTVib09JQlBYMUs4MXpNakNxTnlGZGxUMmIxUnRuNWZMM0J1eEk4b2Z6THd6NGo1aVJBZFF3UWdZcWhlTzVrTldtS2hNYjJUZVhpbG5YVUNJS2lrZmw0ZkE2MGJGbjVGYVVIaXEzZ0o0TXpmWkhrYnltU2pCT0NGM0hPbVRQTElENURJTEFSeW1yUkQ5eTAyNzhCVnR2SWdJWGpielBRak9qb2dlRzVycU1tYUFlNlR5aFNkakl6b0tJUzlyNVNHUzFlZkQ2ODI4KzRYaGVPczVRSkRNU0x5c3kwRGw2WnVWdnExMGI2TjArUXpDbDNMZFp4REdUelR4WHdYNEYwQ2VCSDBId3FVQ2VST0E1VlBlSmNDSElOZ1RrSXdtWFpYRXVEaTEzUDFRTGRrNVlYaXF6R3UyODZVb2NabEVZdlhtSFZjc2YzVnRQdXM1Z0pmdFBodGlxTkp0ellkbm0zbjNCNXBJa2NDOVhOY2VRRUo5RDhNOXhOOXArRFBEN3R4N2M5MjdWQ0FuZy9pQ3puTGJpRkl1cGJDWHkzd1h3RG5obEY4TGFvVEVrZlVjb0ppMVhvcVEydDJYV3JWeW1sejlSbEJzV2MrblA0a2lvL1lub2RySWtMellYT0YrSThvdlV4Mi9La3hjTHlKYmg5R0paSTlacm13YWQvSEdjTjRxSndNVWxTWS9JWXhjZ3pBa1gwamI3amFqcmdBOXN6STcrd2IrVDRmb0FPd1ZadDQ1T1FLZU5vcVg3YzVCVkZlUk1FL3RxMUtRQU9QamtiQS9Ddkg5TDZYbUY2NE5JMTB0TUtXY3RZQ1FFM1JwR0N6djFHa3YrOHNnM2pvcmdKZXpMZ1hrRkMyaUpKT0diRFZwbnZOUExid0l3QU1wVkV2Q2ZLTlZVV1hhZG82TndHWTlsT0Nlbm9raG80MUZrOFR0YWR2NVZCeDh4NkpSekc2eW5VamJzN3A4MUlxWXR0M1RSbmFBYkthZ2U1WnVaTHcvNkRPUVNOeFhUV20xS3pkN01TM09JSTJYczM0RlNJanNXNVpUZWJlOUVYY0hrZTRKU05lMDNhRk43dEFLRU5hNDZ4bWZPTUswSFhWc3JQdFR6Rm9YaWNpcFZSbVIvMlBhcnQ1S1ZvV29ONnY3VUJqR1RWVjVBekRXbERkclJFV1RsN09PQk9TR01ES3REWk9vY0plT0JlNGo2ditHSE1ETFpzNkZJSFFxa1VJT05qM1QzSTFsRGxUeFp0MmZzQnRVc3JKNzJsNzZRSndDRFd5OFZCK0NxbzlSS1grMGM4R3lQMWNGckJGQUZacDQ3VlpCTjN1STVIK2xiZmY4ZFIwZ1FwaFJ3Q3RUZVhkbWpYcUVRbWNXYlNYSlZLK1BKOWVrNEhhS2pUV2hDSWNFQ3ZZZldhc1M1bGhvK0R5NFVWMUJpN21NS2pEUjNPdndMalB2N2p2a0FFRkRoeWxXRDZEdXhUVWVIM3VaODUzdzUzRU4wc05CZTJkT2VWY2wwYjVPRUdOa2NseHM1dDJZeTlQN09SV3pWa2xFT3F1cElUNzNTODEzVmNsYzNaOVN6dHFIRUQxZXhNclVDaWVsanNiQko2QTB5OXFYaG1pbGJLa2t6N1R0MWw3YUZOSkVRVktxSkVNc3EyOTVkMGpTb2NCQ3IwRHF1MXJ4UDlpSXV3RWwrRUNxZmxFN01pallXN1czNzNlQW5IVStJZDhKWllsQklQSTNwdTErVmd1bkJ1RGd4ZytKMjBPUXVNbk1PNGVIZ05NQzBZaytrajFkaldyek5yQXkzU0lpQjJrcEJIelB6RHZuQmc1UXpGb3EwUEZ4TFFMazEwemJ2VlFMcDRXQncxN0NxTnI5dE8yR2loekdaWTVTdHZ0MGluR2hGajNpQWROMmRnOGN3TXRhWmQxMkpxTmRMMm9KMFNMQVFZUlUrR2lZRFNESnE5SzJxeDJocThVVU9vR3F0ZmowbVhtblEvcE8ySFNMY3BKYVVieEdmLzlyTVU2dHVLcXZzZGVXZkNwc1l3ZjYvRXg2dnZ1N1d2bnE0RWZkQjZoNGhhcE8xZDVGRXJnam5YY08xQkd5RldHRDdpYzkxdThnRWh5WlFqeC9TK1dkSFJvUkJSd3VpNWV6L3FUZm9heXlwK2hkcmd5d0pTODFiZmRySVF6U3NpQThaVXJhVzkzMlI0R01tbEE1WERtRCtIU243ZHc2SGtwN3VjemxBRTdTNFUyZkowZ3htL214Q0w2aGc2amF2SnQ1NXdwTm5KWUJIK2p3ZFRzRTIya0lQYy9NTzdGMkJOUGdyVTV5WHlQa3B6bzRBdjVRbFh2L0doQ3Q0NXlBKzZieTdsMDZ6Rm9GVmgzM2lNU3ZkZm9ma0h6VWhMdDczTkZISFp0cEhKUFhJc3NicFppekh0S3Q5MDlVVnI4N3JqNTFPa3JXRzliTFpVNENlSWxXUkpSNElJVlZueFo3aFVvdEc3ZEhWVDZWRS9LU3BnRDNxUlhncjdvdDNsSjV4eGlQalk2bWNxSEJlWXpWV2VxUXEzVVRZVW4veCthS3dwbFJzbzFDQ3hjU2tLZGdRbWwxUnJlNzJwK2xtTFgrRVRibEtaQ0Y2RFZ0cDJvOFBLVGM0dzRXZERpVkNYY0tncGJ3b1I3VjFjeWdmMVN6ZFRueGNsWkZwNXFZd0hQaVphMGxFTmswbE9iOUhsQXc4KzY0RDM0SUwrL29rRDB6cCs3a0c4azdkTWJYQkRNQVVUbXMwMTcyV2h3eXhFbWptTTI4cmpYd2d2aTNXZ0ZVNTQ2Tndnb3lIcUhPc0xMcHdLbkxwUW9TaThMclRoL0VCYWtWN2puTnNPU1BwS3VYemJ3Q3dlWmg3YUJXTXZGeUdkMEJSVStZZWVjallaazBJNXdLblZabzNDUG9IeDlmOVZFemdZRWptNzE5clplMUZrTmtlbFY5QmdGVUVhK1h6YXpTYWtWQ1BtWGFiaXg5Z1VNTEdpT2dhbmhCdzNnNmRPNGorVXpDWDNOQUs1eDZ0S3U1aWRVcUVLVDEzU0Q0VWpydnZqZkdkOUpRVXVHVE80UDl6cUpVaC90cHVSaDlEUlV5SXJOaU52TlBFV3dSRmwzVk5hb1ZRT3U3MGNxYndLRE9Ic25Id2hnbytENnV4cmJtenh5MS9MZkVVOHhsbHVrRnNQQ0syZ004RTdiS0pyQkNDeDhEdlZ6bTVyQjkrdzN3a002OCsvdVdlUE1EUW1wL3pzSEZLaEw0cU02RmgrSmw1cDJxdllXYXpYRDlOM3VaTjBMdGQ0aDdUZHVKcHdWK2d3d3hVRExuNjdBaitMQ0tCR28zZ21oVTNydU9NdFZnZFZLNnh2TldyNW9lby8wOVNsNkhHc0NsQWtHL2dNaDZkZU5qQ2pLUVVCaFYyUEhBODNLV211aVZyOGFieFBPbTdXelhhcUh1S0MxOUNGeWo5Z0RhcGNZVVp0UHozUG5Wak5sTWYvZHkxdmNCT2F1cVRNUmMwM2EwN3RXcjBtd0FRUDlGRmxST2dNYkRzNldVNno2YU1MU3FXUWxjbU00N3Vqa0VHb0xGRDZwUlZuYWVhYnZWSFNWK0VXdWk2T1dzbndLaW1hVERvNlIzcHZXSlNrSWUxdUZPOG5kcDIvMk1EczU0dzNwWmF4NUVjdFhrSVBtZHRPMUc2czVaalhZOS8xN01abTRUZ1ZhYW5pb1ZGOVZlVGNxZG1xUEs2Wmg1VitNQ3FaNnFoNk1kcEU3RHFOcENUa0E3WmJ1L0RFZTFlYUNLV1d1RmlHeXNJMUZxdVRPaHZ5NGdaNzBaT2k0K3dLRU5sZmMxcWoyYWpsSnZSMWd2bDFIZFVsUThKL3d6VUNZK1dCZXdDQ0o3aDhjR1duRWpxS05mSzhGRzJRQU9OcklZY0FEOTBuQmc1TFpqcldTNERVVldMMEpidjhHOXpxQUQ3QTNCSWoyRHRONCtRRSsvMW9HTzh2MGZiQ0lkT0VCL1BwbFYwa3FHQkpBUWZMeGpuaE9scVZUcldMZkpKUTJtaTlEUWE0WXh2RHg4WUNQNGdFQjIxZEszd1oxQnRXUjdtd0NITFZwZDF4eGNaT2JkZmRUL0RWM3FSQ2tSVjFlbTVxWk9kNk5heEx4TjNtbG9OVGtIU1c5SmtOS25tYVRybjJ2bUMwRXowTFVjSUhUOS9Ub0MwdmMvbDU1ZitOL1FVcjhER0pzRnZObVpJMEQ4U3B2Z1duYzVRdzRRTkJ5YVlMbTY4UUNDdDZUemJ0VUFpN2FRN3lCVXRVQ1U2QitKNVduYjJXU1ErTHFOSXJQV2ZJam9OWDBpMlNiK3R1OEVoYXErcjFnQmd1QVBxWkpBOVhJemh1M2Ixa0V1WnJ0MkUwbmNyeXNwaVd2VHR2TWxYYnp4Z3UvSlR0MlVrampDQi9ZUml1bzhkcmNrS3plMzBnUnpMMmRkQjhnWGRXMDQvT1MyZnJQb25QV2lRTGJTSTh5eXdjcm16VmdzTVZ5UDBxenVZM3lSeTRmMzFpTllFdklNMHk1VXpSblFzMDM4MEtxYXFTenRMK3RVQVFYSGZmTGx0TzJ1ODI1SGFCY2ZKU29Za0wvTXpMdGZqVi9kK0NpR2FZWmgrSlZQZGM1ZkdxWVpWWHlDYVZMeXNwa3JJTkF2UlEvVExqN3F3QWlsUTdMQ3JTWXRjTFdIVFdqcUh4azhYQVkwQzZubDdyUm1yZjVaT1d2cSs5WVl5ZWVpR0NISlZWdE1zbGVvTnZORHo4Z2pZN0xXRFJBNVVwOUpmWHIwNmN1eFBvYk9IS1MyY21XYmlWY3VmU0VPdm5IVDhMS1c5c1Zkdnd3aFI4WW9VQjFqRFZkd1BKb2toVEZ5L3l4ZUNkVzhTWHovZ05UOHdoL0MwRzBrakU3RDZoSGttajdTNVBaUmp4Q1JXcEgzYzMwMXRkelpXaGFpZWwvZkJsb3ZxQVJPSkVOTkx6ZFEzcm5aSnAyck9FMXBncVUyZnRyempNYUsxWXd4TjFCekxzL2FMN01PN2RwcjlaV0Jmc2g5WVhiT1FhWk1remx3MkpTMmtleGtTT1VqbzQyOEhUT0lVTXhsSGhQZ28xR01id0FIZGVhZDI2TGcxZ3NuMUl6Qkp1eUFWc3gyLzZlSUVUWGNmcCtaZC9ZY3phWmpPMERJQ1IwakVRKzZhRlQ4N1ZNTENxRjY3TmZycGErek1NMkJVWG90bzJMbkk4NUVWTk8yelJYdXNjMTBBdWlkdmNsbVpULzVyTzVNZ0VHOXEzM09xb1lSSXhXT3ZHWDErMUo1WjY5bUs3THdjdDNuQUlZNjVXeEowZ0hrUHFDeUlPNGhFN1U2OVVBSDBFZDBTL2NHK2FyQ2ozVGUrZkpZY2xSMWdOSkpYUm1XRXk5R244VE5TOHk4Ky9WYWpmRjJ4STkyMXo5dzZDTTl0UFZ1bWI3Y2U3MG1CMURJeFd6bW15TDRVZlNYMFBocDR0RmxiUTdNVXRZNmxTSVhSWlZHeU5OU3RudHhOZnlxSzRBaU1KQjRvTDVERWR1ZzB4Y2YvOUdvS1JyVmxHNzJ2L2ZNNmpyUU40eGJ3cHhZUnRTRitIdHFtak5kNXFCcXRYQW9CMUJNb2t3VldmZGt5QjREMkdXa0NkYk4va0lhS2Q5QTYvY0hBVXlLeWpmaCs3dDJ6Qzg4RkFZL3RBTW9ZcldjUlFlK1RBNTgyZGVjNytnVk1ZVFJaQU9BOFdaYk80QlE1ZnJka2RYUnpOUFVjb0NCN09GSGRUdUxEbHNKM2tpU0I0WDEwTWlHYURGRVZhTlpObkJuMU9OZW9DNzVWR3FhdTVOT2pxYVdBeWdlcWhIQm1vVC9kRTJDQXFzTTR0RHhhcTNlYkw0eDBPajVON3JEb05mNVlZR2xOcTZlUHZ5MnI1cXUyZzRRbkFwbVdZZUlJYit0Um56c3Y5TVg4TGhVdm5CTmJYUmFHN3VVeXh4SGNFSGtEZCtBK2xGbkZVWnlnR0EvRUdYUTlFanZpdjdscVFtRjArVXlyR3J0VjZrbmZYQzUwMjVkQXBHc0h1YjYwQVF1U3VlZDA2UFFpZXdBUEJ5SjBtVHJOb2pzSDRYeE9qamtNeEE1WXFUcnlwcHBOeUVCbGRCSlFNMGtDTjJnZWxRMXlEdFQwOXdEd3h6NVJxSVIyUUdDUGNjcG1PQ3R5dHd2Z3AxcnRqT3hFdkJQTSszQzNKcHBOVEVCTDJ0OUZTSS9ydVY3UDZpZWFseHRUbkJuMUxKNjF1UUFnUk5rSjI5VVF2dURXajFxeDNoQkJCOFVTSFpEV3cyQ1h6MTVsZlo4eHRGLytrK21FdjV1Y3NYU1VpMytYck1EQlB1QjR6SmRhSWNhNi9ydVdvUVp3aVZWMzNzN1ZlazlTNjRzTG8rRjVqZ1I0UW5wS2FYRXBQTWhtRlhyUm0vb2x3KytaSmI3ZG83RE5yRTRnQklzT0I0bWZUVmxhNXU0YkszRzB3T3dFK1hLaFoxWExWc1NGOTFHME9rNWZ1cTBTakp4Qm9Dc2Z1M2U2QktxTm5adFdMV2Y3bkZ2TklxeE9VRHdPVkRlbnV4UWs2dy9IS3VSeVRXRS9CS0o4Zy9UYzVkRnlvaU5WWjR4aUJWUG5Mb3QvT1NaUW40ZUltMng4aVgvbWtxc25DRnozMXdSRjkxWUhTQndncE82VXFXS29TYVI3UmVYa01Qby9FSGdYOWU1cW5DVFhLMDJqdVAvcUNOZHo0VHV3d2c1Vm45NFkwajUxVzYvRDUrVGExMjFLc2IyeE80QWdSUE1RYksweExvV0lrZkZKdWt3UWdTTFF0eEkzNzhtdldDcGRqbGJyWElGdlhsblovYWt6Mk1nT0V5M3FGYUxQN0V3TmMwNUt1cFJieXhlZFhHQVFZYkZYT1piUXA2bk81aGF5emlCeDlGVkxXNUlMR3BQWU5IRXVhN3UrTFJRTEZlZTBMWDFtcVF4QThRTUNQYXU2ZEltRkVlV2hYSm15blorRWdvOEFsQmRIVURKRXhTY3dyZ0pJZzBiTkVYaUZSSDhHZVN6WXNnTEJ2M25KcldYbjVITGxoZkQyRWlOamUxYm5aenVpN0V0Zlc1TjRBTWkyQW1RemNMZ3h3SkRMa2tJRCt2SUY3U2FlT3J5cnJzREtJSDZqNG04dm03ZlJ3MnRWWDI4RWtsQTFSTnBCWVZKSVV4Q1Vxb1R2dGJVTFEyK1dxRGtuVVR2RjlPMnA5bkFVNHRMQU53UUJ4allGeGlsSlpteklUd25ydk93dnJyTmpxRW1rM0ZPeWk3OG9GR0p0QTF6Z0VIVEJ4a3Z2bkUxUkhaczl0ZlJVUG1JdnhoR1plWm9CUnoxa3FYaERqQzBHcnlXbVUzeVBOMyt0dlV5eEhqUkRXWVQwZit2bEYyWTE2aGYvZHE2am9zRERBcWc5Z1pzeDRVQ3RFeDNrZGdjaFNSRmZvNWt6eG5WVXJkajR6a0NvWEYxZ0xVL0N4VW0xSGZ2VS9WVXRsbG9xMkxOaFBqbk5IcTVIMG4vcG5DQUlVZFFZOTJZVUhHRDJuTU1tdVZ0cnlVSGdUc1NLSi9kVEpYSFRlVUFnN1lLaGxnWU9GKzNnM2tUdnZNQmtYaFhvb0t6T2hhNGp6U2JqRTNwQUVPT2tPdmVwVUk1bG9LajZocHFyY05iR1FoVjM1QUFydXF3M1VmcndDSVdrazN0QUlNYXF0cCtiK1B1ZzhRd2pnWndVQnpaTkxGWWIzMGlxMERjUXZxL01OOG8zTnBzUFFhYWZnOFE1cVdvMjBhdll1d2prQU1JSENEQWU4TGcxUXRHdFY0VHlCMGs3ekFsOFNleGwvVFdpMWM5NkxiRUNqQ1c0cXByVnRsSUhPaERsRE9vUmdpUlM2cENHcmlQeEQwQzN0SEd5aDBUNXk5N1BpUmVVNEsxdkFNTXQycC80VXI1M1FabFN4cXlCUmhNMDk2Y2dvMEY2Q0RROGRhL2tsYjR3ZmNhNkNYUU8vUXY4UWFBZjBId2l2aDh4UmUrM0ZaSnZqcnB5dGRlYWNvM0dWR28vd2UycmlDQVhUTENCQUFBQUFCSlJVNUVya0pnZ2c9PSI7CiAgICAgICAgfQoKICAgICAgICBvYmouZ2V0U3R5bGVUZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gIi5vbmUtcGFuLXRpcCB7IGN1cnNvcjogcG9pbnRlcjt9IiArCiAgICAgICAgICAgICAgICAiLm9uZS1wYW4tdGlwOjpiZWZvcmUge2JhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTtiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O2JveC1zaXppbmc6IGJvcmRlci1ib3g7d2lkdGg6IDFlbTtoZWlnaHQ6IDFlbTttYXJnaW46IDAgMXB4IC4xNWVtIDFweDt2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO2Rpc3BsYXk6IGlubGluZS1ibG9jazt9IiArCiAgICAgICAgICAgICAgICAiLm9uZS1wYW4tdGlwLXN1Y2Nlc3M6OmJlZm9yZSB7Y29udGVudDogJyc7YmFja2dyb3VuZC1pbWFnZTogdXJsKCIgKyBvYmouZ2V0U3VjY2Vzc0ljb24oKSArICIpfSIgKwogICAgICAgICAgICAgICAgIi5vbmUtcGFuLXRpcC1lcnJvciB7dGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7fSIgKwogICAgICAgICAgICAgICAgIi5vbmUtcGFuLXRpcC1lcnJvcjo6YmVmb3JlIHtjb250ZW50OiAnJztiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIiArIG9iai5nZXRFcnJvckljb24oKSArICIpfSIgKwogICAgICAgICAgICAgICAgIi5vbmUtcGFuLXRpcC1vdGhlcjo6YmVmb3JlIHtjb250ZW50OiAnJztiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIiArIG9iai5nZXRPdGhlckljb24oKSArICIpfSIgKwogICAgICAgICAgICAgICAgIi5vbmUtcGFuLXRpcC1sb2NrOjpiZWZvcmV7Y29udGVudDogJyc7YmFja2dyb3VuZC1pbWFnZTogdXJsKCIgKyBvYmouZ2V0TG9ja0ljb24oKSArICIpfSI7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwaSIsIFsiaHR0cCIsICJlbnYiLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKGh0dHAsIGVudiwgY29uc3RhbnQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5jaGVja0xpbmtCYXRjaCA9IGZ1bmN0aW9uICh1dWlkTGlzdCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgaWYgKHV1aWRMaXN0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgaHR0cC5hamF4KHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiAiaHR0cHM6Ly95cHN1cGVya2V5Lm1lZWsuY29tLmNuL2FwaS92MS9pdGVtL2NoZWNrLWRhdGEiLAogICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgICAgICB1dWlkczogdXVpZExpc3Quam9pbigiLCIpLAogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfdmVyc2lvbjogIjIwMTkuMiIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlIHx8IHJlc3BvbnNlLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0ge307CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7fSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7fSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouY2hlY2tMaW5rID0gZnVuY3Rpb24gKHNoYXJlU291cmNlLCBzaGFyZUlkLCBjYWxsYmFjaykgewogICAgICAgICAgICBpZiAoc2hhcmVTb3VyY2UgPT0gY29uc3RhbnQuc291cmNlLmJhaWR1KSB7CiAgICAgICAgICAgICAgICBvYmouY2hlY2tMaW5rQmFpZHUoc2hhcmVJZCwgY2FsbGJhY2spOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKHNoYXJlU291cmNlID09IGNvbnN0YW50LnNvdXJjZS5sYW56b3VzKSB7CiAgICAgICAgICAgICAgICBvYmouY2hlY2tMaW5rTGFuem91cyhzaGFyZUlkLCBjYWxsYmFjayk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoc2hhcmVTb3VyY2UgPT0gY29uc3RhbnQuc291cmNlLndlaXl1bikgewogICAgICAgICAgICAgICAgb2JqLmNoZWNrTGlua1dlaXl1bihzaGFyZUlkLCBjYWxsYmFjayk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouY2hlY2tMaW5rQmFpZHUgPSBmdW5jdGlvbiAoc2hhcmVJZCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgdmFyIHVybDsKICAgICAgICAgICAgaWYgKHNoYXJlSWQuaW5kZXhPZigiaHR0cCIpIDwgMCkgewogICAgICAgICAgICAgICAgdXJsID0gImh0dHBzOi8vcGFuLmJhaWR1LmNvbS9zLzEiICsgc2hhcmVJZDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHVybCA9IHNoYXJlSWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaHR0cC5hamF4KHsKICAgICAgICAgICAgICAgIHR5cGU6ICJnZXQiLAogICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSAxOwogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pbmRleE9mKCLovpPlhaXmj5Dlj5bnoIEiKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAyOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5pbmRleE9mKCLlj6/og73nmoTljp/lm6AiKSA+IDAgfHwgcmVzcG9uc2UuaW5kZXhPZigi5YiG5Lqr55qE5paH5Lu25bey57uP6KKr5Y+W5raI5LqGIikgPiAwIHx8IHJlc3BvbnNlLmluZGV4T2YoIuWIhuS6q+WGheWuueWPr+iDveWboOS4uua2ieWPiuS+teadgyIpID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IC0xOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiAwCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5jaGVja0xpbmtMYW56b3VzID0gZnVuY3Rpb24gKHNoYXJlSWQsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciB1cmw7CiAgICAgICAgICAgIGlmIChzaGFyZUlkLmluZGV4T2YoImh0dHAiKSA8IDApIHsKICAgICAgICAgICAgICAgIHVybCA9ICJodHRwczovL3d3dy5sYW56b3VzLmNvbS8iICsgc2hhcmVJZDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHVybCA9IHNoYXJlSWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaHR0cC5hamF4KHsKICAgICAgICAgICAgICAgIHR5cGU6ICJnZXQiLAogICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSAxOwogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pbmRleE9mKCLovpPlhaXlr4bnoIEiKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAyOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5pbmRleE9mKCLmnaXmmZrllaYiKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAtMTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soewogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGUKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soewogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogMAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouY2hlY2tMaW5rV2VpeXVuID0gZnVuY3Rpb24gKHNoYXJlSWQsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciB1cmw7CiAgICAgICAgICAgIGlmIChzaGFyZUlkLmluZGV4T2YoImh0dHAiKSA8IDApIHsKICAgICAgICAgICAgICAgIHVybCA9ICJodHRwczovL3NoYXJlLndlaXl1bi5jb20vIiArIHNoYXJlSWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB1cmwgPSBzaGFyZUlkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGh0dHAuYWpheCh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZ2V0IiwKICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gMTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaW5kZXhPZigi6ZO+5o6l5bey5Yig6ZmkIikgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gLTE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmluZGV4T2YoJyJzaGFyZV9rZXkiOm51bGwnKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAyOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiAwCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJjb3JlIiwgWyJyZXNvdXJjZSIsICIkIl0sIGZ1bmN0aW9uIChyZXNvdXJjZSwgJCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmFwcGVuZFN0eWxlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgc3R5bGVUZXh0ID0gcmVzb3VyY2UuZ2V0U3R5bGVUZXh0KCk7CiAgICAgICAgICAgICQoIjxzdHlsZT48L3N0eWxlPiIpLnRleHQoc3R5bGVUZXh0KS5hcHBlbmRUbygkKCJoZWFkIikpOwogICAgICAgIH07CgogICAgICAgIG9iai5yZWFkeSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICBvYmouYXBwZW5kU3R5bGUoKTsKICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX2NoZWNrX3VybCIsIFsicnVudGltZSIsICJjb25zdGFudCIsICJjb25maWciLCAiYXBpIiwgIiQiXSwgZnVuY3Rpb24gKHJ1bnRpbWUsIGNvbnN0YW50LCBjb25maWcsIGFwaSwgJCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIGJhaWR1X3JlZzogLyg/Omh0dHBzPzpcL1wvKT9wYW5cLmJhaWR1XC5jb21cL3NcLyhbXHdcLV17NCwyNX0pXGIvZ2ksCiAgICAgICAgICAgIGxhbnpvdXNfcmVnOiAvKD86aHR0cHM/OlwvXC8pP3d3d1wubGFuem91c1wuY29tXC8oW2EtekEtWjAtOV9cLV17NSwyMn0pXGIvZ2ksCiAgICAgICAgICAgIHdlaXl1bl9yZWc6IC8oPzpodHRwcz86XC9cLyk/c2hhcmVcLndlaXl1blwuY29tXC8oW2EtekEtWjAtOV9cLV17NSwyMn0pXGIvZ2kKICAgICAgICB9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvYmouaXNFbmFibGUoKSAmJiBvYmoucnVuTWF0Y2goKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH07CgogICAgICAgIG9iai5pc0VuYWJsZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBmaW5kQW5kUmVwbGFjZURPTVRleHQgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGNvbmZpZy5nZXRDb25maWcoImNoZWNrX3N3aXRjaCIpID09ICJvZmYiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBub3dVcmwgPSBydW50aW1lLmdldFVybCgpOwogICAgICAgICAgICB2YXIgaWdub3JlVXJsID0gY29uZmlnLmdldENvbmZpZygiaWdub3JlX3VybCIpOwogICAgICAgICAgICB2YXIgcm93TGlzdCA9IGlnbm9yZVVybCA/IGlnbm9yZVVybC5zcGxpdCgiXG4iKSA6IFtdOwogICAgICAgICAgICBmb3IgKHZhciBpIGluIHJvd0xpc3QpIHsKICAgICAgICAgICAgICAgIGlmIChub3dVcmwuaW5kZXhPZihyb3dMaXN0W2ldKSA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9OwoKICAgICAgICBvYmoucnVuTWF0Y2ggPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB1dWlkTGlzdCA9IFtdOwoKICAgICAgICAgICAgZmluZEFuZFJlcGxhY2VET01UZXh0KGRvY3VtZW50LmJvZHksIHsKICAgICAgICAgICAgICAgIGZpbmQ6IC8oWyBdKShcLz9zXC8xW2EtekEtWjAtOV9cLV17NSwyMn0pL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZTogZnVuY3Rpb24gKHBvcnRpb24sIG1hdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoWzJdLmluZGV4T2YoIi8iKSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiIGh0dHBzOi8vcGFuLmJhaWR1LmNvbSIgKyBtYXRjaFsyXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiIGh0dHBzOi8vcGFuLmJhaWR1LmNvbS8iICsgbWF0Y2hbMl07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGZpbmRBbmRSZXBsYWNlRE9NVGV4dChkb2N1bWVudC5ib2R5LCB7CiAgICAgICAgICAgICAgICBmaW5kOiBvYmouYmFpZHVfcmVnLAogICAgICAgICAgICAgICAgcmVwbGFjZTogZnVuY3Rpb24gKHBvcnRpb24sIG1hdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlSWQgPSBtYXRjaFsxXS5zbGljZSgxKTsKICAgICAgICAgICAgICAgICAgICB2YXIgdXVpZCA9ICJCRFktIiArIHNoYXJlSWQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKHV1aWRMaXN0LmluZGV4T2YodXVpZCkgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHV1aWRMaXN0LnB1c2godXVpZCk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IG9iai5jcmVhdGVPbmVQYW5Ob2RlKHNoYXJlSWQsIGNvbnN0YW50LnNvdXJjZS5iYWlkdSwgdXVpZCk7CiAgICAgICAgICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9ICJodHRwczovL3Bhbi5iYWlkdS5jb20vcy8xIiArIHNoYXJlSWQ7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgZmluZEFuZFJlcGxhY2VET01UZXh0KGRvY3VtZW50LmJvZHksIHsKICAgICAgICAgICAgICAgIGZpbmQ6IG9iai5sYW56b3VzX3JlZywKICAgICAgICAgICAgICAgIHJlcGxhY2U6IGZ1bmN0aW9uIChwb3J0aW9uLCBtYXRjaCkgewogICAgICAgICAgICAgICAgICAgIHZhciBzaGFyZUlkID0gbWF0Y2hbMV07CiAgICAgICAgICAgICAgICAgICAgdmFyIHV1aWQgPSAiTFpZLSIgKyBzaGFyZUlkOwogICAgICAgICAgICAgICAgICAgIGlmICh1dWlkTGlzdC5pbmRleE9mKHV1aWQpIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICB1dWlkTGlzdC5wdXNoKHV1aWQpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBvYmouY3JlYXRlT25lUGFuTm9kZShzaGFyZUlkLCBjb25zdGFudC5zb3VyY2UubGFuem91cywgdXVpZCk7CiAgICAgICAgICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9ICJodHRwczovL3d3dy5sYW56b3VzLmNvbS8iICsgc2hhcmVJZDsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBmaW5kQW5kUmVwbGFjZURPTVRleHQoZG9jdW1lbnQuYm9keSwgewogICAgICAgICAgICAgICAgZmluZDogb2JqLndlaXl1bl9yZWcsCiAgICAgICAgICAgICAgICByZXBsYWNlOiBmdW5jdGlvbiAocG9ydGlvbiwgbWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVJZCA9IG1hdGNoWzFdOwogICAgICAgICAgICAgICAgICAgIHZhciB1dWlkID0gIldZLSIgKyBzaGFyZUlkOwoKICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IG9iai5jcmVhdGVPbmVQYW5Ob2RlKHNoYXJlSWQsIGNvbnN0YW50LnNvdXJjZS5sYW56b3VzLCB1dWlkKTsKICAgICAgICAgICAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gImh0dHBzOi8vd3d3LmxhbnpvdXMuY29tLyIgKyBzaGFyZUlkOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICQoImEiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIG1hdGNoLCBvbmVJZCwgb25lU291cmNlLCBvbmVVdWlkOwogICAgICAgICAgICAgICAgdmFyIGhyZWYgPSBlbGVtZW50LmhyZWY7CiAgICAgICAgICAgICAgICBpZiAoaHJlZiAmJiAobWF0Y2ggPSAvKD86aHR0cHM/OlwvXC8pP3BhblwuYmFpZHVcLmNvbVwvc1wvKFtcd1wtXXs0LDI1fSkvZ2kuZXhlYyhocmVmKSkpIHsKICAgICAgICAgICAgICAgICAgICBvbmVJZCA9IG1hdGNoWzFdLnNsaWNlKDEpOwogICAgICAgICAgICAgICAgICAgIG9uZVV1aWQgPSAiQkRZLSIgKyBvbmVJZDsKICAgICAgICAgICAgICAgICAgICBvbmVTb3VyY2UgPSBjb25zdGFudC5zb3VyY2UuYmFpZHU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChocmVmICYmIChtYXRjaCA9IC8oPzpodHRwcz86XC9cLyk/d3d3XC5sYW56b3VzXC5jb21cLyhbYS16QS1aMC05X1wtXXs1LDIyfSkvZ2kuZXhlYyhocmVmKSkpIHsKICAgICAgICAgICAgICAgICAgICBvbmVJZCA9IG1hdGNoWzFdOwogICAgICAgICAgICAgICAgICAgIG9uZVV1aWQgPSAiTFpZLSIgKyBvbmVJZDsKICAgICAgICAgICAgICAgICAgICBvbmVTb3VyY2UgPSBjb25zdGFudC5zb3VyY2UubGFuem91czsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhyZWYgJiYgKG1hdGNoID0gLyg/Omh0dHBzPzpcL1wvKT9zaGFyZVwud2VpeXVuXC5jb21cLyhbYS16QS1aMC05X1wtXXs1LDIyfSkvZ2kuZXhlYyhocmVmKSkpIHsKICAgICAgICAgICAgICAgICAgICBvbmVJZCA9IG1hdGNoWzFdOwogICAgICAgICAgICAgICAgICAgIG9uZVV1aWQgPSAiIjsKICAgICAgICAgICAgICAgICAgICBvbmVTb3VyY2UgPSBjb25zdGFudC5zb3VyY2Uud2VpeXVuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiAkKGVsZW1lbnQpLmZpbmQoIi5vbmUtcGFuLXRpcCIpLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG9uZVV1aWQgJiYgdXVpZExpc3QuaW5kZXhPZihvbmVVdWlkKSA8IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXVpZExpc3QucHVzaChvbmVVdWlkKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gb2JqLmNyZWF0ZU9uZVBhbk5vZGUob25lSWQsIG9uZVNvdXJjZSwgb25lVXVpZCk7CiAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KS53cmFwSW5uZXIobm9kZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgYXBpLmNoZWNrTGlua0JhdGNoKHV1aWRMaXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICQoIi5vbmUtcGFuLXRpcCIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSB0aGlzLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGUubm9kZU5hbWUgIT0gIkEiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLndyYXAoJzxhIGhyZWY9IicgKyB0aGlzLnRleHRDb250ZW50ICsgJyIgdGFyZ2V0PSJfYmxhbmsiPjwvYT4nKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciB1dWlkID0gJHRoaXMuYXR0cigib25lLXV1aWQiKSwgaXRlbTsKICAgICAgICAgICAgICAgICAgICBpZiAodXVpZCAmJiByZXNwb25zZS5oYXNPd25Qcm9wZXJ0eSh1dWlkKSAmJiAoaXRlbSA9IHJlc3BvbnNlW3V1aWRdKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hY2Nlc3NfY29kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoIm9uZS1wYW4tdGlwLWxvY2siKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnN0YXRlID09ICJWQUxJRCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCJvbmUtcGFuLXRpcC1zdWNjZXNzIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5zdGF0ZSA9PSAiSU5WQUxJRCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCJvbmUtcGFuLXRpcC1lcnJvciIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVTb3VyY2UgPSAkdGhpcy5hdHRyKCJvbmUtc291cmNlIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlSWQgPSAkdGhpcy5hdHRyKCJvbmUtaWQiKTsKICAgICAgICAgICAgICAgICAgICBhcGkuY2hlY2tMaW5rKHNoYXJlU291cmNlLCBzaGFyZUlkLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXRlID09IDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCJvbmUtcGFuLXRpcC1sb2NrIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2Uuc3RhdGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoIm9uZS1wYW4tdGlwLXN1Y2Nlc3MiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5zdGF0ZSA9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoIm9uZS1wYW4tdGlwLWVycm9yIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygib25lLXBhbi10aXAtb3RoZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5jcmVhdGVPbmVQYW5Ob2RlID0gZnVuY3Rpb24gKG9uZUlkLCBvbmVTb3VyY2UsIG9uZVV1aWQpIHsKICAgICAgICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZG9jdW1lbnQubG9va3VwTmFtZXNwYWNlVVJJKG51bGwpIHx8ICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgInNwYW4iKTsKICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgIm9uZS1wYW4tdGlwIik7CiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCJvbmUtaWQiLCBvbmVJZCk7CiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCJvbmUtc291cmNlIiwgb25lU291cmNlKTsKICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoIm9uZS11dWlkIiwgb25lVXVpZCk7CiAgICAgICAgICAgIHJldHVybiBub2RlOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfbmV3ZGF5IiwgWyJjb25maWciLCAiZW52IiwgIm1ldGEiLCAidnVlIiwgIiQiXSwgZnVuY3Rpb24gKGNvbmZpZywgZW52LCBtZXRhLCB2dWUsICQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChtZXRhLmV4aXN0TWV0YSgib3B0aW9uIikpIHsKICAgICAgICAgICAgICAgIG9iai5pbml0T3B0aW9uUGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdE9wdGlvblBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG5ldyB2dWUoewogICAgICAgICAgICAgICAgZWw6ICIjY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBpbmZvOiBlbnYuZ2V0SW5mbygpLAogICAgICAgICAgICAgICAgICAgIGNoZWNrX3N3aXRjaDogY29uZmlnLmdldENvbmZpZygiY2hlY2tfc3dpdGNoIikgPT0gIm9mZiIgPyBmYWxzZSA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaWdub3JlX3VybDogY29uZmlnLmdldENvbmZpZygiaWdub3JlX3VybCIpCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5pbml0QWRkb25SZWFkeSgpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHdhdGNoOiB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tfc3dpdGNoOiBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnNldENvbmZpZygiY2hlY2tfc3dpdGNoIiwgdmFsdWUgPyAib24iIDogIm9mZiIpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgaWdub3JlX3VybDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5zZXRDb25maWcoImlnbm9yZV91cmwiLCB2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdEFkZG9uUmVhZHkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQoImJvZHkiKS5hZGRDbGFzcygibmQtYWRkb24tcmVhZHkiKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYXBwIiwgWyJydW50aW1lIiwgImFkZG9uIiwgImxvZ2dlciIsICJtZXRhIiwgIiQiXSwgZnVuY3Rpb24gKHJ1bnRpbWUsIGFkZG9uLCBsb2dnZXIsIG1ldGEsICQsIHJlcXVpcmUpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBtZXRhTmFtZSA9ICJzdGF0dXMiOwogICAgICAgICAgICBpZiAobWV0YS5leGlzdE1ldGEobWV0YU5hbWUpKSB7CiAgICAgICAgICAgICAgICBsb2dnZXIud2Fybigic2V0dXAgYWxyZWFkeSIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGFkZG9uLmlzRW5hYmxlKCkpIHsKICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCJzZXR1cCBzdWNjZXNzIik7CgogICAgICAgICAgICAgICAgLy8g5re75YqgbWV0YQogICAgICAgICAgICAgICAgbWV0YS5hcHBlbmRNZXRhKG1ldGFOYW1lKTsKCiAgICAgICAgICAgICAgICAvLyDov5DooYzlupTnlKgKICAgICAgICAgICAgICAgICQob2JqLnJ1bkFwcCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBsb2dnZXIud2FybigiYWRkb24gZGlzYWJsZWQiKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5nZXRBcHBMaXN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfY2hlY2tfdXJsIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgIioiCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX25ld2RheSIsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICIqIgogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXTsKICAgICAgICB9OwoKICAgICAgICBvYmoucnVuQXBwID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdXJsID0gcnVudGltZS5nZXRVcmwoKTsKICAgICAgICAgICAgbG9nZ2VyLmluZm8odXJsKTsKCiAgICAgICAgICAgIHZhciBhcHBMaXN0ID0gb2JqLmdldEFwcExpc3QoKTsKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBhcHBMaXN0KSB7CiAgICAgICAgICAgICAgICB2YXIgYXBwID0gYXBwTGlzdFtpXTsKICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhhcHApOwoKICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IG9iai5tYXRjaEFwcCh1cmwsIGFwcCk7CiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoIm1hdGNoICIgKyAobWF0Y2ggPyAieWVzIiA6ICJubyIpKTsKCiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygicnVuICIgKyBhcHAubmFtZSk7CiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZShhcHAubmFtZSkucnVuKCkgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLm1hdGNoQXBwID0gZnVuY3Rpb24gKHVybCwgYXBwKSB7CiAgICAgICAgICAgIHZhciBtYXRjaCA9IGZhbHNlOwogICAgICAgICAgICBhcHAubWF0Y2hzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZihpdGVtKSA+IDAgfHwgaXRlbSA9PSAiKiIpIHsKICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gbWF0Y2g7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIC8vIGxpYgogICAgY29udGFpbmVyLmRlZmluZSgiJCIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy4kOwogICAgfSk7CiAgICBjb250YWluZXIuZGVmaW5lKCJ2dWUiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB3aW5kb3cuVnVlOwogICAgfSk7CgogICAgY29udGFpbmVyLnVzZShbImdtIiwgImNvcmUiLCAiYXBwIiwgImxvZ2dlciJdLCBmdW5jdGlvbiAoZ20sIGNvcmUsIGFwcCwgbG9nZ2VyKSB7CiAgICAgICAgZ20ucmVhZHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDml6Xlv5fnuqfliKsKICAgICAgICAgICAgbG9nZ2VyLnNldExldmVsKGxvZ2dlci5jb25zdGFudC5pbmZvKTsKCiAgICAgICAgICAgIGNvcmUucmVhZHkoYXBwLnJ1bik7CiAgICAgICAgfSk7CiAgICB9KTsKCn07CgooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIHZhciBpbmplY3RDb25maWcgPSB7CiAgICAgICAgbmFtZTogImp6eCIsCiAgICAgICAgdmVyc2lvbjogIjAuMi4wIiwKICAgICAgICBhZGRvbjogewogICAgICAgICAgICBvcHRpb25zX3BhZ2U6ICIvcGFnZS9qengvaW5mby5odG1sIgogICAgICAgIH0sCiAgICAgICAgc2NyaXB0OiB7CiAgICAgICAgICAgIG9wdGlvbnNfcGFnZTogImh0dHA6Ly9vbmUubmV3ZGF5Lm1lL3BhZ2Uvanp4L2luZm8uaHRtbCIKICAgICAgICB9CiAgICB9OwoKICAgIHZhciBjb250YWluZXIgPSAoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIG1vZHVsZV9kZWZpbmVzOiB7fSwKICAgICAgICAgICAgbW9kdWxlX29iamVjdHM6IHt9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmRlZmluZSA9IGZ1bmN0aW9uIChuYW1lLCByZXF1aXJlcywgY2FsbGJhY2spIHsKICAgICAgICAgICAgbmFtZSA9IG9iai5wcm9jZXNzTmFtZShuYW1lKTsKICAgICAgICAgICAgb2JqLm1vZHVsZV9kZWZpbmVzW25hbWVdID0gewogICAgICAgICAgICAgICAgcmVxdWlyZXM6IHJlcXVpcmVzLAogICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrCiAgICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJlcXVpcmUgPSBmdW5jdGlvbiAobmFtZSwgY2FjaGUpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWNoZSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgY2FjaGUgPSB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBuYW1lID0gb2JqLnByb2Nlc3NOYW1lKG5hbWUpOwogICAgICAgICAgICBpZiAoY2FjaGUgJiYgb2JqLm1vZHVsZV9vYmplY3RzLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLm1vZHVsZV9vYmplY3RzW25hbWVdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKG9iai5tb2R1bGVfZGVmaW5lcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgICAgICAgICAgdmFyIHJlcXVpcmVzID0gb2JqLm1vZHVsZV9kZWZpbmVzW25hbWVdLnJlcXVpcmVzOwogICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gb2JqLm1vZHVsZV9kZWZpbmVzW25hbWVdLmNhbGxiYWNrOwoKICAgICAgICAgICAgICAgIHZhciBtb2R1bGUgPSBvYmoudXNlKHJlcXVpcmVzLCBjYWxsYmFjayk7CiAgICAgICAgICAgICAgICBjYWNoZSAmJiBvYmoucmVnaXN0ZXIobmFtZSwgbW9kdWxlKTsKICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmoudXNlID0gZnVuY3Rpb24gKHJlcXVpcmVzLCBjYWxsYmFjaykgewogICAgICAgICAgICB2YXIgbW9kdWxlID0gewogICAgICAgICAgICAgICAgZXhwb3J0czoge30KICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IG9iai5idWlsZFBhcmFtcyhyZXF1aXJlcywgbW9kdWxlKTsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrLmFwcGx5KHRoaXMsIHBhcmFtcyk7CiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJlZ2lzdGVyID0gZnVuY3Rpb24gKG5hbWUsIG1vZHVsZSkgewogICAgICAgICAgICBuYW1lID0gb2JqLnByb2Nlc3NOYW1lKG5hbWUpOwogICAgICAgICAgICBvYmoubW9kdWxlX29iamVjdHNbbmFtZV0gPSBtb2R1bGU7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmJ1aWxkUGFyYW1zID0gZnVuY3Rpb24gKHJlcXVpcmVzLCBtb2R1bGUpIHsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdOwogICAgICAgICAgICByZXF1aXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChvYmoucmVxdWlyZShuYW1lKSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBwYXJhbXMucHVzaChvYmoucmVxdWlyZSk7CiAgICAgICAgICAgIHBhcmFtcy5wdXNoKG1vZHVsZS5leHBvcnRzKTsKICAgICAgICAgICAgcGFyYW1zLnB1c2gobW9kdWxlKTsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtczsKICAgICAgICB9OwoKICAgICAgICBvYmoucHJvY2Vzc05hbWUgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRlZmluZTogb2JqLmRlZmluZSwKICAgICAgICAgICAgdXNlOiBvYmoudXNlLAogICAgICAgICAgICByZWdpc3Rlcjogb2JqLnJlZ2lzdGVyLAogICAgICAgICAgICBtb2R1bGVzOiBvYmoubW9kdWxlX29iamVjdHMKICAgICAgICB9OwogICAgfSkoKTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJnbSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucmVhZHkgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBHTV9nZXRWYWx1ZSAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIG9iai5yZWFkeShjYWxsYmFjayk7CiAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoInJ1bnRpbWUiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIHVybDogbG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgcmVmZXJlcjogZG9jdW1lbnQucmVmZXJyZXIsCiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFVybCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG9iai51cmw7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldFVybCA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgb2JqLnVybCA9IHVybDsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0UmVmZXJlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG9iai5yZWZlcmVyOwogICAgICAgIH07CgogICAgICAgIG9iai5zZXRSZWZlcmVyID0gZnVuY3Rpb24gKHJlZmVyZXIpIHsKICAgICAgICAgICAgb2JqLnJlZmVyZXIgPSByZWZlcmVyOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRVcmxQYXJhbSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHZhciBwYXJhbSA9IG9iai5wYXJzZVVybFBhcmFtKG9iai5nZXRVcmwoKSk7CiAgICAgICAgICAgIGlmIChuYW1lKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW0uaGFzT3duUHJvcGVydHkobmFtZSkgPyBwYXJhbVtuYW1lXSA6IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW07CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmoucGFyc2VVcmxQYXJhbSA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCI/IikpIHsKICAgICAgICAgICAgICAgIHVybCA9IHVybC5zcGxpdCgiPyIpWzFdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciByZWcgPSAvKFtePSZcc10rKVs9XHNdKihbXj0mXHNdKikvZzsKICAgICAgICAgICAgdmFyIG9iaiA9IHt9OwogICAgICAgICAgICB3aGlsZSAocmVnLmV4ZWModXJsKSkgewogICAgICAgICAgICAgICAgb2JqW1JlZ0V4cC4kMV0gPSBSZWdFeHAuJDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG9iajsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgic3RvcmFnZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouZ2V0VmFsdWUgPSBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZShuYW1lLCBkZWZhdWx0VmFsdWUpOwogICAgICAgIH07CgogICAgICAgIG9iai5zZXRWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICBHTV9zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldFZhbHVlTGlzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG5hbWVMaXN0ID0gR01fbGlzdFZhbHVlcygpOwogICAgICAgICAgICB2YXIgdmFsdWVMaXN0ID0ge307CiAgICAgICAgICAgIG5hbWVMaXN0LmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgICAgIHZhbHVlTGlzdFtuYW1lXSA9IG9iai5nZXRWYWx1ZShuYW1lKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZUxpc3Q7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImFkZG9uIiwgWyJzdG9yYWdlIiwgImNvbnN0YW50Il0sIGZ1bmN0aW9uIChzdG9yYWdlLCBjb25zdGFudCkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50Lm5hbWUgKyAiX3N0YXR1cyIKICAgICAgICB9OwoKICAgICAgICBvYmouaXNFbmFibGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChzdG9yYWdlLmdldFZhbHVlKG9iai5uYW1lKSA9PSAib2ZmIikgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgibW9kZSIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgY29uc3RhbnQ6IHsKICAgICAgICAgICAgICAgIGFkZG9uOiAiYWRkb24iLAogICAgICAgICAgICAgICAgc2NyaXB0OiAic2NyaXB0IgogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldE1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgR01faW5mbyA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5jb25zdGFudC5hZGRvbjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChHTV9pbmZvLnNjcmlwdEhhbmRsZXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBvYmouY29uc3RhbnQuc2NyaXB0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5jb25zdGFudC5hZGRvbjsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJ1c2VyIiwgWyJzdG9yYWdlIl0sIGZ1bmN0aW9uIChzdG9yYWdlKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmouZ2V0VWlkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdWlkID0gc3RvcmFnZS5nZXRWYWx1ZSgidWlkIik7CiAgICAgICAgICAgIGlmICghdWlkKSB7CiAgICAgICAgICAgICAgICB1aWQgPSBvYmoucmFuZFN0cmluZygzMik7CiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldFZhbHVlKCJ1aWQiLCB1aWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB1aWQ7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJhbmRTdHJpbmcgPSBmdW5jdGlvbiAobGVuZ3RoKSB7CiAgICAgICAgICAgIHZhciBwb3NzaWJsZSA9ICJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiOwogICAgICAgICAgICB2YXIgdGV4dCA9ICIiOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYnJvd3NlciIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgY29uc3RhbnQ6IHsKICAgICAgICAgICAgICAgIGZpcmVmb3g6ICJmaXJlZm94IiwKICAgICAgICAgICAgICAgIGVkZ2U6ICJlZGdlIiwKICAgICAgICAgICAgICAgIGJhaWR1OiAiYmFpZHUiLAogICAgICAgICAgICAgICAgbGllYmFvOiAibGllYmFvIiwKICAgICAgICAgICAgICAgIHVjOiAidWMiLAogICAgICAgICAgICAgICAgcXE6ICJxcSIsCiAgICAgICAgICAgICAgICBzb2dvdTogInNvZ291IiwKICAgICAgICAgICAgICAgIG9wZXJhOiAib3BlcmEiLAogICAgICAgICAgICAgICAgbWF4dGhvbjogIm1heHRob24iLAogICAgICAgICAgICAgICAgaWUyMzQ1OiAiMjM0NSIsCiAgICAgICAgICAgICAgICBzZTM2MDogIjM2MCIsCiAgICAgICAgICAgICAgICBjaHJvbWU6ICJjaHJvbWUiLAogICAgICAgICAgICAgICAgc2FmYXJpOiAic2FmYXJpIiwKICAgICAgICAgICAgICAgIG90aGVyOiAib3RoZXIiCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0QnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG9iai5tYXRjaEJyb3dzZXJUeXBlKG5hdmlnYXRvci51c2VyQWdlbnQpOwogICAgICAgIH07CgogICAgICAgIG9iai5tYXRjaEJyb3dzZXJUeXBlID0gZnVuY3Rpb24gKHVzZXJBZ2VudCkgewogICAgICAgICAgICB2YXIgYnJvd3NlciA9IG9iai5jb25zdGFudC5vdGhlcjsKICAgICAgICAgICAgdXNlckFnZW50ID0gdXNlckFnZW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIGlmICh1c2VyQWdlbnQubWF0Y2goL2ZpcmVmb3gvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmZpcmVmb3g7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9lZGdlLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5lZGdlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvYmlkdWJyb3dzZXIvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmJhaWR1OwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvbGJicm93c2VyLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5saWViYW87CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC91YnJvd3Nlci8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQudWM7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9xcWJyb3dzZS8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQucXE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9tZXRhc3IvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LnNvZ291OwogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvb3ByLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5vcGVyYTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL21heHRob24vKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50Lm1heHRob247CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC8yMzQ1ZXhwbG9yZXIvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gb2JqLmNvbnN0YW50LmllMjM0NTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWdlbnQubWF0Y2goL2Nocm9tZS8pICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGlmIChvYmouZXhpc3RNaW1lKCJ0eXBlIiwgImFwcGxpY2F0aW9uL3ZuZC5jaHJvbWl1bS5yZW1vdGluZy12aWV3ZXIiKSkgewogICAgICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQuc2UzNjA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBvYmouY29uc3RhbnQuY2hyb21lOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5tYXRjaCgvc2FmYXJpLykgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IG9iai5jb25zdGFudC5zYWZhcmk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXI7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmV4aXN0TWltZSA9IGZ1bmN0aW9uIChvcHRpb24sIHZhbHVlKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICB2YXIgbWltZVR5cGVzID0gbmF2aWdhdG9yLm1pbWVUeXBlczsKICAgICAgICAgICAgICAgIGZvciAodmFyIG10IGluIG1pbWVUeXBlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChtaW1lVHlwZXNbbXRdW29wdGlvbl0gPT0gdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiZW52IiwgWyJtb2RlIiwgInVzZXIiLCAiYnJvd3NlciIsICJjb25zdGFudCJdLCBmdW5jdGlvbiAobW9kZSwgdXNlciwgYnJvd3NlciwgY29uc3RhbnQpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5pc0FkZG9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAobW9kZS5nZXRNb2RlKCkgPT0gbW9kZS5jb25zdGFudC5hZGRvbikgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaXNJbmplY3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChvYmouaXNBZGRvbigpKSB7CiAgICAgICAgICAgICAgICBpZiAoR01faW5mby5hZGRvbi5uYW1lICE9IGNvbnN0YW50Lm5hbWUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIChHTV9pbmZvLnNjcmlwdC5hbGlhcyAmJiBHTV9pbmZvLnNjcmlwdC5hbGlhcyAhPSBjb25zdGFudC5uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0TW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG1vZGUuZ2V0TW9kZSgpOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRBaWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChHTV9pbmZvLmFkZG9uICYmIEdNX2luZm8uYWRkb24uaWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBHTV9pbmZvLmFkZG9uLmlkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKEdNX2luZm8uc2NyaXB0SGFuZGxlcikgewogICAgICAgICAgICAgICAgcmV0dXJuIEdNX2luZm8uc2NyaXB0SGFuZGxlci50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuICJ1bmtub3duIjsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5nZXRVaWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB1c2VyLmdldFVpZCgpOwogICAgICAgIH07CgogICAgICAgIG9iai5nZXRWZXJzaW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAob2JqLmlzSW5qZWN0KCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RDb25maWcudmVyc2lvbjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBHTV9pbmZvLnNjcmlwdC52ZXJzaW9uOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmdldEJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmdldEJyb3dzZXIoKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0SW5mbyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIG1vZGU6IG9iai5nZXRNb2RlKCksCiAgICAgICAgICAgICAgICBhaWQ6IG9iai5nZXRBaWQoKSwKICAgICAgICAgICAgICAgIHVpZDogb2JqLmdldFVpZCgpLAogICAgICAgICAgICAgICAgdmVyc2lvbjogb2JqLmdldFZlcnNpb24oKSwKICAgICAgICAgICAgICAgIGJyb3dzZXI6IG9iai5nZXRCcm93c2VyKCkKICAgICAgICAgICAgfTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgicm91dGVyIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5nb1VybCA9IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgb2JqLnJ1bkNvZGUoJ2xvY2F0aW9uLmhyZWYgPSAiJyArIHVybCArICciOycpOwogICAgICAgIH07CgogICAgICAgIG9iai5vcGVuVXJsID0gZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICBvYmoucnVuQ29kZSgnd2luZG93Lm9wZW4oIicgKyB1cmwgKyAnIik7Jyk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLm9wZW5UYWIgPSBmdW5jdGlvbiAodXJsLCBhY3RpdmUpIHsKICAgICAgICAgICAgR01fb3BlbkluVGFiKHVybCwgIWFjdGl2ZSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnJ1bkNvZGUgPSBmdW5jdGlvbiAoc2NyaXB0KSB7CiAgICAgICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGRvY3VtZW50Lmxvb2t1cE5hbWVzcGFjZVVSSShudWxsKSB8fCAiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsICJzY3JpcHQiKTsKICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHNjcmlwdDsKICAgICAgICAgICAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQpLmFwcGVuZENoaWxkKG5vZGUpOwogICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSkKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgibG9nZ2VyIiwgWyJlbnYiLCAiY29uc3RhbnQiXSwgZnVuY3Rpb24gKGVudiwgY29uc3RhbnQpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICBsZXZlbDogMywKICAgICAgICAgICAgY29uc3RhbnQ6IHsKICAgICAgICAgICAgICAgIGRlYnVnOiAwLAogICAgICAgICAgICAgICAgaW5mbzogMSwKICAgICAgICAgICAgICAgIHdhcm46IDIsCiAgICAgICAgICAgICAgICBlcnJvcjogMwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmRlYnVnID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICAgICAgb2JqLmxvZyhtZXNzYWdlLCBvYmouY29uc3RhbnQuZGVidWcpOwogICAgICAgIH07CgogICAgICAgIG9iai5pbmZvID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICAgICAgb2JqLmxvZyhtZXNzYWdlLCBvYmouY29uc3RhbnQuaW5mbyk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLndhcm4gPSBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgICAgICBvYmoubG9nKG1lc3NhZ2UsIG9iai5jb25zdGFudC53YXJuKTsKICAgICAgICB9OwoKICAgICAgICBvYmouZXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgICAgICBvYmoubG9nKG1lc3NhZ2UsIG9iai5jb25zdGFudC5lcnJvcik7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmxvZyA9IGZ1bmN0aW9uIChtZXNzYWdlLCBsZXZlbCkgewogICAgICAgICAgICBpZiAobGV2ZWwgPCBvYmoubGV2ZWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5ncm91cCgiWyIgKyBjb25zdGFudC5uYW1lICsgIl0iICsgZW52LmdldE1vZGUoKSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpOwogICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLnNldExldmVsID0gZnVuY3Rpb24gKGxldmVsKSB7CiAgICAgICAgICAgIG9iai5sZXZlbCA9IGxldmVsOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJtZXRhIiwgWyJjb25zdGFudCIsICIkIl0sIGZ1bmN0aW9uIChjb25zdGFudCwgJCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLmV4aXN0TWV0YSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIG5hbWUgPSBvYmoucHJvY2Vzc05hbWUobmFtZSk7CiAgICAgICAgICAgIGlmICgkKCJtZXRhW25hbWU9JyIgKyBuYW1lICsgIiddIikubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIG9iai5hcHBlbmRNZXRhID0gZnVuY3Rpb24gKG5hbWUsIGNvbnRlbnQpIHsKICAgICAgICAgICAgbmFtZSA9IG9iai5wcm9jZXNzTmFtZShuYW1lKTsKICAgICAgICAgICAgY29udGVudCB8fCAoY29udGVudCA9ICJvbiIpOwogICAgICAgICAgICAkKCc8bWV0YSBuYW1lPSInICsgbmFtZSArICciIGNvbnRlbnQ9Im9uIj4nKS5hcHBlbmRUbygkKCJoZWFkIikpOwogICAgICAgIH07CgogICAgICAgIG9iai5wcm9jZXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBjb25zdGFudC5uYW1lICsgIjo6IiArIG5hbWU7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoInVuc2FmZV93aW5kb3ciLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0eXBlb2YgdW5zYWZlV2luZG93ID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIHJldHVybiB3aW5kb3c7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdW5zYWZlV2luZG93OwogICAgICAgIH0KICAgIH0pOwoKICAgIC8qKiBjdXN0b20gc3RhcnQgKiovCiAgICBjb250YWluZXIuZGVmaW5lKCJjb25zdGFudCIsIFsibW9kZSIsICJicm93c2VyIl0sIGZ1bmN0aW9uIChtb2RlLCBicm93c2VyKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbmFtZTogaW5qZWN0Q29uZmlnLm5hbWUsCiAgICAgICAgICAgIG1vZGU6IG1vZGUuY29uc3RhbnQsCiAgICAgICAgICAgIGJyb3dzZXI6IGJyb3dzZXIuY29uc3RhbnQsCiAgICAgICAgICAgIGFkZG9uOiBpbmplY3RDb25maWcuYWRkb24sCiAgICAgICAgICAgIHNjcmlwdDogaW5qZWN0Q29uZmlnLnNjcmlwdAogICAgICAgIH07CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJjb3JlIiwgWyJyb3V0ZXIiLCAiY29uc3RhbnQiLCAiZW52Il0sIGZ1bmN0aW9uIChyb3V0ZXIsIGNvbnN0YW50LCBlbnYpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5vcGVuUGFnZSA9IGZ1bmN0aW9uICh1cmwsIG1vZGUpIHsKICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CiAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgLy8gc2VsZgogICAgICAgICAgICAgICAgICAgIHJvdXRlci5nb1VybCh1cmwpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgIC8vIG5ldwogICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVXJsKHVybCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgLy8gbmV3ICYgbm90IGFjdGl2ZQogICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKHVybCwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgIC8vIG5ldyAmIGFjdGl2ZQogICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKHVybCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmoub3Blbk9wdGlvblBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChlbnYuaXNBZGRvbigpKSB7CiAgICAgICAgICAgICAgICBpZiAoZW52LmlzSW5qZWN0KCkpIHsKICAgICAgICAgICAgICAgICAgICByb3V0ZXIub3BlblRhYihpbmplY3RDb25maWcuYWRkb24ub3B0aW9uc19wYWdlLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKEdNX2luZm8uYWRkb24ub3B0aW9uc19wYWdlLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJvdXRlci5vcGVuVGFiKGNvbnN0YW50LnNjcmlwdC5vcHRpb25zX3BhZ2UsIHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRBZGRvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgR01faW5mby5zY3JpcHQuYWxpYXMgPSBjb25zdGFudC5uYW1lOwogICAgICAgIH07CgogICAgICAgIG9iai5yZWFkeSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICBvYmouaW5pdEFkZG9uKCk7CiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF9uZXdkYXkiLCBbInN0b3JhZ2UiLCAibWV0YSIsICJlbnYiLCAiY29yZSIsICIkIiwgInZ1ZSJdLCBmdW5jdGlvbiAoc3RvcmFnZSwgbWV0YSwgZW52LCBjb3JlLCAkLCB2dWUpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChtZXRhLmV4aXN0TWV0YSgiaW5mbyIpKSB7CiAgICAgICAgICAgICAgICBvYmouaW5pdEluZm9QYWdlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChtZXRhLmV4aXN0TWV0YSgiZGV2IikpIHsKICAgICAgICAgICAgICAgIG9iai5pbml0RGV2UGFnZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouaW5pdEluZm9QYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgIGluZm86IGVudi5nZXRJbmZvKCkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIHdhdGNoID0ge307CiAgICAgICAgICAgIHZhciBuYW1lTGlzdCA9IFsid3B6cyIsICJsampjIiwgInloZyIsICJ4endzIl07CiAgICAgICAgICAgIG5hbWVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IGl0ZW0gKyAiX3N0YXR1cyI7CiAgICAgICAgICAgICAgICBkYXRhW2ZpZWxkXSA9IHN0b3JhZ2UuZ2V0VmFsdWUoZmllbGQpID09ICJvZmYiID8gZmFsc2UgOiB0cnVlOwogICAgICAgICAgICAgICAgd2F0Y2hbZmllbGRdID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShmaWVsZCwgdmFsdWUgPyAib24iIDogIm9mZiIpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG5ldyB2dWUoewogICAgICAgICAgICAgICAgZWw6ICIjY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmluaXRBZGRvblJlYWR5KCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgd2F0Y2g6IHdhdGNoCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIG9iai5pbml0RGV2UGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiI2Rldi1hZGRvbi1pbmZvIikudmFsKEpTT04uc3RyaW5naWZ5KGVudi5nZXRJbmZvKCkpKTsKCiAgICAgICAgICAgICQoIi5kZXYtb3Blbi1wYWdlLW9wdGlvbiIpLmFkZENsYXNzKCJuZC1vcGVuLXBhZ2Utb3B0aW9uIikucmVtb3ZlQ2xhc3MoImRldi1vcGVuLXBhZ2Utb3B0aW9uIik7CiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCJjbGljayIsICIubmQtb3Blbi1wYWdlLW9wdGlvbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGNvcmUub3Blbk9wdGlvblBhZ2UoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgb2JqLmluaXRBZGRvblJlYWR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCJib2R5IikuYWRkQ2xhc3MoIm5kLWFkZG9uLXJlYWR5Iik7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcF93cHpzIiwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb2JqID0ge307CgogICAgICAgIG9iai5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGFwcFdwenMoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX3loZyIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBhcHBZaGcoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gb2JqOwogICAgfSk7CgogICAgY29udGFpbmVyLmRlZmluZSgiYXBwX3h6d3MiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgb2JqLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYXBwWHp3cygpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9KTsKCiAgICBjb250YWluZXIuZGVmaW5lKCJhcHBfbGpqYyIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBhcHBMampjKCk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIGNvbnRhaW5lci5kZWZpbmUoImFwcCIsIFsicnVudGltZSIsICJhZGRvbiIsICJsb2dnZXIiLCAibWV0YSIsICIkIl0sIGZ1bmN0aW9uIChydW50aW1lLCBhZGRvbiwgbG9nZ2VyLCBtZXRhLCAkLCByZXF1aXJlKSB7CiAgICAgICAgdmFyIG9iaiA9IHt9OwoKICAgICAgICBvYmoucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbWV0YU5hbWUgPSAic3RhdHVzIjsKICAgICAgICAgICAgaWYgKG1ldGEuZXhpc3RNZXRhKG1ldGFOYW1lKSkgewogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oInNldHVwIGFscmVhZHkiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChhZGRvbi5pc0VuYWJsZSgpKSB7CiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygic2V0dXAgc3VjY2VzcyIpOwoKICAgICAgICAgICAgICAgIC8vIOa3u+WKoG1ldGEKICAgICAgICAgICAgICAgIG1ldGEuYXBwZW5kTWV0YShtZXRhTmFtZSk7CgogICAgICAgICAgICAgICAgLy8g6L+Q6KGM5bqU55SoCiAgICAgICAgICAgICAgICAkKG9iai5ydW5BcHApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oImFkZG9uIGRpc2FibGVkIik7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBvYmouZ2V0QXBwTGlzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX3dwenMiLAogICAgICAgICAgICAgICAgICAgIG1hdGNoczogWwogICAgICAgICAgICAgICAgICAgICAgICAiYmFpZHUuY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaXl1bi5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAibGFuem91cy5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpYm8uY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgImN0ZmlsZS5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAicGlwaXBhbi5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAiZGZwYW4uY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5ld2RheS5tZSIKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfeWhnIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgInRhb2Jhby5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAidG1hbGwuY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgInRtYWxsLmhrIiwKICAgICAgICAgICAgICAgICAgICAgICAgImxpYW5neGlueWFvLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICI5NTA5NS5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAiamQuY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgImpkLmhrIiwKICAgICAgICAgICAgICAgICAgICAgICAgImthb2xhLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICIxNjMuY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgInloZC5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAic3VuaW5nLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJhbWF6b24uY24iLAogICAgICAgICAgICAgICAgICAgICAgICAiZGFuZ2RhbmcuY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgImdvbWUuY29tLmNuIiwKICAgICAgICAgICAgICAgICAgICAgICAgInZpcC5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAibmV3ZGF5Lm1lIgogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF94endzIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgIm9ubGluZWRvd24ubmV0IiwKICAgICAgICAgICAgICAgICAgICAgICAgImNyMTczLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ4aWF6YWliYS5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAibXlkb3duLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJwYzYuY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgInpvbC5jb20uY24iLAogICAgICAgICAgICAgICAgICAgICAgICAicGNvbmxpbmUuY29tLmNuIiwKICAgICAgICAgICAgICAgICAgICAgICAgImpiNTEubmV0IiwKICAgICAgICAgICAgICAgICAgICAgICAgImNuY3JrLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJwYy5xcS5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAiY3Jza3kuY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgImR1b3RlLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJkb3duemEuY24iLAogICAgICAgICAgICAgICAgICAgICAgICAieWVza3kuY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgImRkb29vLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJwY2hvbWUubmV0IiwKICAgICAgICAgICAgICAgICAgICAgICAgInhwZ29kLmNvbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICI1MnouY29tIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm9wZG93bi5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICAibmV3ZGF5Lm1lIgogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF9sampjIiwKICAgICAgICAgICAgICAgICAgICBtYXRjaHM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgIioiCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX25ld2RheSIsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICIqIgogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXTsKICAgICAgICB9OwoKICAgICAgICBvYmoucnVuQXBwID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdXJsID0gcnVudGltZS5nZXRVcmwoKTsKICAgICAgICAgICAgbG9nZ2VyLmluZm8odXJsKTsKCiAgICAgICAgICAgIHZhciBhcHBMaXN0ID0gb2JqLmdldEFwcExpc3QoKTsKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBhcHBMaXN0KSB7CiAgICAgICAgICAgICAgICB2YXIgYXBwID0gYXBwTGlzdFtpXTsKICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhhcHApOwoKICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IG9iai5tYXRjaEFwcCh1cmwsIGFwcCk7CiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoIm1hdGNoICIgKyAobWF0Y2ggPyAieWVzIiA6ICJubyIpKTsKCiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygicnVuICIgKyBhcHAubmFtZSk7CiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZShhcHAubmFtZSkucnVuKCkgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgb2JqLm1hdGNoQXBwID0gZnVuY3Rpb24gKHVybCwgYXBwKSB7CiAgICAgICAgICAgIHZhciBtYXRjaCA9IGZhbHNlOwogICAgICAgICAgICBhcHAubWF0Y2hzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZihpdGVtKSA+IDAgfHwgaXRlbSA9PSAiKiIpIHsKICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gbWF0Y2g7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0pOwoKICAgIC8vIGxpYgogICAgY29udGFpbmVyLmRlZmluZSgiJCIsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy4kOwogICAgfSk7CiAgICBjb250YWluZXIuZGVmaW5lKCJ2dWUiLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB3aW5kb3cuVnVlOwogICAgfSk7CgogICAgY29udGFpbmVyLnVzZShbImdtIiwgImNvcmUiLCAiYXBwIiwgImxvZ2dlciJdLCBmdW5jdGlvbiAoZ20sIGNvcmUsIGFwcCwgbG9nZ2VyKSB7CiAgICAgICAgZ20ucmVhZHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDml6Xlv5fnuqfliKsKICAgICAgICAgICAgbG9nZ2VyLnNldExldmVsKGxvZ2dlci5jb25zdGFudC5pbmZvKTsKCiAgICAgICAgICAgIGNvcmUucmVhZHkoYXBwLnJ1bik7CiAgICAgICAgfSk7CiAgICB9KTsKfSkoKTs=","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdn.staticfile.org/jquery/1.12.4/jquery.min.js","ts":1584071792125,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2MS4xMi40IHwgKGMpIGpRdWVyeSBGb3VuZGF0aW9uIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEuZG9jdW1lbnQ/YihhLCEwKTpmdW5jdGlvbihhKXtpZighYS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gYihhKX06YihhKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1jLnNsaWNlLGY9Yy5jb25jYXQsZz1jLnB1c2gsaD1jLmluZGV4T2YsaT17fSxqPWkudG9TdHJpbmcsaz1pLmhhc093blByb3BlcnR5LGw9e30sbT0iMS4xMi40IixuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBuLmZuLmluaXQoYSxiKX0sbz0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2cscD0vXi1tcy0vLHE9Ly0oW1xkYS16XSkvZ2kscj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O24uZm49bi5wcm90b3R5cGU9e2pxdWVyeTptLGNvbnN0cnVjdG9yOm4sc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmUuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW4ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZWFjaCh0aGlzLGEpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpnLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG4uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oZT1hcmd1bWVudHNbaF0pKWZvcihkIGluIGUpYT1nW2RdLGM9ZVtkXSxnIT09YyYmKGomJmMmJihuLmlzUGxhaW5PYmplY3QoYyl8fChiPW4uaXNBcnJheShjKSkpPyhiPyhiPSExLGY9YSYmbi5pc0FycmF5KGEpP2E6W10pOmY9YSYmbi5pc1BsYWluT2JqZWN0KGEpP2E6e30sZ1tkXT1uLmV4dGVuZChqLGYsYykpOnZvaWQgMCE9PWMmJihnW2RdPWMpKTtyZXR1cm4gZ30sbi5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iYXJyYXkiPT09bi50eXBlKGEpfSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXt2YXIgYj1hJiZhLnRvU3RyaW5nKCk7cmV0dXJuIW4uaXNBcnJheShhKSYmYi1wYXJzZUZsb2F0KGIpKzE+PTB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtpZighYXx8Im9iamVjdCIhPT1uLnR5cGUoYSl8fGEubm9kZVR5cGV8fG4uaXNXaW5kb3coYSkpcmV0dXJuITE7dHJ5e2lmKGEuY29uc3RydWN0b3ImJiFrLmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIWsuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWlmKCFsLm93bkZpcnN0KWZvcihiIGluIGEpcmV0dXJuIGsuY2FsbChhLGIpO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxrLmNhbGwoYSxiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aVtqLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZuLnRyaW0oYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTA7aWYocyhhKSl7Zm9yKGM9YS5sZW5ndGg7Yz5kO2QrKylpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoZCBpbiBhKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjooYSsiIikucmVwbGFjZShvLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLCJzdHJpbmciPT10eXBlb2YgYT9bYV06YSk6Zy5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKGgpcmV0dXJuIGguY2FsbChiLGEsYyk7Zm9yKGQ9Yi5sZW5ndGgsYz1jPzA+Yz9NYXRoLm1heCgwLGQrYyk6YzowO2Q+YztjKyspaWYoYyBpbiBiJiZiW2NdPT09YSlyZXR1cm4gY31yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7d2hpbGUoYz5kKWFbZSsrXT1iW2QrK107aWYoYyE9PWMpd2hpbGUodm9pZCAwIT09YltkXSlhW2UrK109YltkKytdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGc9MCxoPVtdO2lmKHMoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5nO2crKyllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihnIGluIGEpZT1iKGFbZ10sZyxjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGYuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGImJihmPWFbYl0sYj1hLGE9Ziksbi5pc0Z1bmN0aW9uKGEpPyhjPWUuY2FsbChhcmd1bWVudHMsMiksZD1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsYy5jb25jYXQoZS5jYWxsKGFyZ3VtZW50cykpKX0sZC5ndWlkPWEuZ3VpZD1hLmd1aWR8fG4uZ3VpZCsrLGQpOnZvaWQgMH0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxzdXBwb3J0Omx9KSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYobi5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2lbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gcyhhKXt2YXIgYj0hIWEmJiJsZW5ndGgiaW4gYSYmYS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2EoKSx6PWdhKCksQT1nYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTD0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTT0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLE49IlxcWyIrTCsiKigiK00rIikoPzoiK0wrIiooWypeJHwhfl0/PSkiK0wrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitNKyIpKXwpIitMKyIqXFxdIixPPSI6KCIrTSsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrTisiKSopfC4qKVxcKXwpIixQPW5ldyBSZWdFeHAoTCsiKyIsImciKSxRPW5ldyBSZWdFeHAoIl4iK0wrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTCsiKyQiLCJnIiksUj1uZXcgUmVnRXhwKCJeIitMKyIqLCIrTCsiKiIpLFM9bmV3IFJlZ0V4cCgiXiIrTCsiKihbPit+XXwiK0wrIikiK0wrIioiKSxUPW5ldyBSZWdFeHAoIj0iK0wrIiooW15cXF0nXCJdKj8pIitMKyIqXFxdIiwiZyIpLFU9bmV3IFJlZ0V4cChPKSxWPW5ldyBSZWdFeHAoIl4iK00rIiQiKSxXPXtJRDpuZXcgUmVnRXhwKCJeIygiK00rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK04pLFBTRVVETzpuZXcgUmVnRXhwKCJeIitPKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK0wrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK0wrIiooPzooWystXXwpIitMKyIqKFxcZCspfCkpIitMKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitLKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTCsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitMKyIqKCg/Oi1cXGQpP1xcZCopIitMKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxYPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWT0vXmhcZCQvaSxaPS9eW157XStce1xzKlxbbmF0aXZlIFx3LywkPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sXz0vWyt+XS8sYWE9Lyd8XFwvZyxiYT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0wrIj98KCIrTCsiKXwuKSIsImlnIiksY2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGRhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmEoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3PWImJmIub3duZXJEb2N1bWVudCx4PWI/Yi5ub2RlVHlwZTo5O2lmKGQ9ZHx8W10sInN0cmluZyIhPXR5cGVvZiBhfHwhYXx8MSE9PXgmJjkhPT14JiYxMSE9PXgpcmV0dXJuIGQ7aWYoIWUmJigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixwKSl7aWYoMTEhPT14JiYobz0kLmV4ZWMoYSkpKWlmKGY9b1sxXSl7aWYoOT09PXgpe2lmKCEoaj1iLmdldEVsZW1lbnRCeUlkKGYpKSlyZXR1cm4gZDtpZihqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZSBpZih3JiYoaj13LmdldEVsZW1lbnRCeUlkKGYpKSYmdChiLGopJiZqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZXtpZihvWzJdKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoZj1vWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZikpLGR9aWYoYy5xc2EmJiFBW2ErIiAiXSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYoMSE9PXgpdz1iLHM9YTtlbHNlIGlmKCJvYmplY3QiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXsoaz1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/az1rLnJlcGxhY2UoYWEsIlxcJCYiKTpiLnNldEF0dHJpYnV0ZSgiaWQiLGs9dSkscj1nKGEpLGg9ci5sZW5ndGgsbD1WLnRlc3Qoayk/IiMiK2s6IltpZD0nIitrKyInXSI7d2hpbGUoaC0tKXJbaF09bCsiICIrcWEocltoXSk7cz1yLmpvaW4oIiwiKSx3PV8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8Yn1pZihzKXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbChzKSksZH1jYXRjaCh5KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUSwiJDEiKSxiLGQsZSl9ZnVuY3Rpb24gZ2EoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjKyIgIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrIiAiXT1lfXJldHVybiBifWZ1bmN0aW9uIGhhKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gaWEoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYShhLGIpe3ZhciBjPWEuc3BsaXQoInwiKSxlPWMubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbWEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PWN8fCJidXR0b24iPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBoYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9hKGEpe3JldHVybiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1mYS5zdXBwb3J0PXt9LGY9ZmEuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiPyJIVE1MIiE9PWIubm9kZU5hbWU6ITF9LG09ZmEuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZSxnPWE/YS5vd25lckRvY3VtZW50fHxhOnY7cmV0dXJuIGchPT1uJiY5PT09Zy5ub2RlVHlwZSYmZy5kb2N1bWVudEVsZW1lbnQ/KG49ZyxvPW4uZG9jdW1lbnRFbGVtZW50LHA9IWYobiksKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixkYSkpLGMuYXR0cmlidXRlcz1pYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVoudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImlkIik9PT1ifX0pOihkZWxldGUgZC5maW5kLklELGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPSJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOmMucXNhP2IucXVlcnlTZWxlY3RvckFsbChhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKCIqIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1aLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD0iPGEgaWQ9JyIrdSsiJz48L2E+PHNlbGVjdCBpZD0nIit1KyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGEucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnEucHVzaCgiWypeJF09IitMKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHEucHVzaCgiXFxbIitMKyIqKD86dmFsdWV8IitLKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrdSsiLV0iKS5sZW5ndGh8fHEucHVzaCgifj0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrdSsiKyoiKS5sZW5ndGh8fHEucHVzaCgiLiMuK1srfl0iKX0pLGlhKGZ1bmN0aW9uKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrTCsiKlsqXiR8IX5dPz0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPVoudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmaWEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiZGl2Iikscy5jYWxsKGEsIltzIT0nJ106eCIpLHIucHVzaCgiIT0iLE8pfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oInwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oInwiKSksYj1aLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxaLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGthKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9rYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZmEubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYShhLG51bGwsbnVsbCxiKX0sZmEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFQsIj0nJDEnXSIpLGMubWF0Y2hlc1NlbGVjdG9yJiZwJiYhQVtiKyIgIl0mJighcnx8IXIudGVzdChiKSkmJighcXx8IXEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGZhKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGZhLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZmEuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkQuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGZhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZmEudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1mYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpoYSxtYXRjaDpXLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoYmEsY2EpLGFbM109KGFbM118fGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGJhLGNhKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmEuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZmEuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFcuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8IiI6YyYmVS50ZXN0KGMpJiYoYj1nKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrTCsiKSIrYSsiKCIrTCsifCQpIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmEuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UucmVwbGFjZShQLCIgIikrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPSJvbmx5Ij09PWEmJiFvJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLCIiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2hhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1KKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmhhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShRLCIkMSIpKTtyZXR1cm4gZFt1XT9oYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmEoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoYmEsY2EpLGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8ZShiKSkuaW5kZXhPZihhKT4tMX19KSxsYW5nOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBWLnRlc3QoYXx8IiIpfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIithKSxhPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPXA/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxiLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhKyItIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09b30sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1uLmFjdGl2ZUVsZW1lbnQmJighbi5oYXNGb2N1c3x8bi5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmISFhLmNoZWNrZWR8fCJvcHRpb24iPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmImJ1dHRvbiI9PT1hLnR5cGV8fCJidXR0b24iPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4iaW5wdXQiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bmEoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Om5hKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpuYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6bmEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpuYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bGEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bWEoYik7ZnVuY3Rpb24gcGEoKXt9cGEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBwYSxnPWZhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpe2MmJiEoZT1SLmV4ZWMoaCkpfHwoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1XW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmEuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHJhKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJihjJiYhYyhmLGQsZSl8fChnLnB1c2goZiksaiYmYi5wdXNoKGgpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHwiKiIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXVhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtyYShzYShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdmEoaT4xJiZzYShtKSxpPjEmJnFhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09YVtpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoUSwiJDEiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9IjAiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKCIqIixrKSx5PXcrPW51bGw9PXY/MTpNYXRoLnJhbmRvbSgpfHwuMSx6PXgubGVuZ3RoO2ZvcihrJiYoaj1nPT09bnx8Z3x8ayk7cyE9PXomJm51bGwhPShsPXhbc10pO3MrKyl7aWYoZSYmbCl7bz0wLGd8fGwub3duZXJEb2N1bWVudD09PW58fChtKGwpLGg9IXApO3doaWxlKHE9YVtvKytdKWlmKHEobCxnfHxuLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9eSl9YyYmKChsPSFxJiZsKSYmci0tLGYmJnQucHVzaChsKSl9aWYocis9cyxjJiZzIT09cil7bz0wO3doaWxlKHE9YltvKytdKXEodCx1LGcsaCk7aWYoZil7aWYocj4wKXdoaWxlKHMtLSl0W3NdfHx1W3NdfHwodVtzXT1GLmNhbGwoaSkpO3U9dWEodSl9SC5hcHBseShpLHUpLGsmJiFmJiZ1Lmxlbmd0aD4wJiZyK2IubGVuZ3RoPjEmJmZhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXksaj12KSx0fTtyZXR1cm4gYz9oYShmKTpmfXJldHVybiBoPWZhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErIiAiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1XLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksXy50ZXN0KGpbMF0udHlwZSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYShqKSwhYSlyZXR1cm4gSC5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSwhYnx8Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGphKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGphKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlU29ydD1uLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sdj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sdz1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHg9L148KFtcdy1dKylccypcLz8+KD86PFwvXDE+fCkkLyx5PS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih5LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBuLmluQXJyYXkoYSxiKT4tMSE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPVtdLGQ9dGhpcyxlPWQubGVuZ3RoO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2U+YjtiKyspaWYobi5jb250YWlucyhkW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7ZT5iO2IrKyluLmZpbmQoYSxkW2JdLGMpO3JldHVybiBjPXRoaXMucHVzaFN0YWNrKGU+MT9uLnVuaXF1ZShjKTpjKSxjLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrYTphLGN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEheih0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8sQz1uLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxBLCJzdHJpbmciPT10eXBlb2YgYSl7aWYoZT0iPCI9PT1hLmNoYXJBdCgwKSYmIj4iPT09YS5jaGFyQXQoYS5sZW5ndGgtMSkmJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06Qi5leGVjKGEpLCFlfHwhZVsxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fGMpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGVbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChlWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmQsITApKSx4LnRlc3QoZVsxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoZSBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2VdKT90aGlzW2VdKGJbZV0pOnRoaXMuYXR0cihlLGJbZV0pO3JldHVybiB0aGlzfWlmKGY9ZC5nZXRFbGVtZW50QnlJZChlWzJdKSxmJiZmLnBhcmVudE5vZGUpe2lmKGYuaWQhPT1lWzJdKXJldHVybiBBLmZpbmQoYSk7dGhpcy5sZW5ndGg9MSx0aGlzWzBdPWZ9cmV0dXJuIHRoaXMuY29udGV4dD1kLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpPyJ1bmRlZmluZWQiIT10eXBlb2YgYy5yZWFkeT9jLnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0MucHJvdG90eXBlPW4uZm4sQT1uKGQpO3ZhciBEPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYixjPW4oYSx0aGlzKSxkPWMubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7ZD5iO2IrKylpZihuLmNvbnRhaW5zKHRoaXMsY1tiXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dy50ZXN0KGEpfHwic3RyaW5nIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlU29ydChmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP24uaW5BcnJheSh0aGlzWzBdLG4oYSkpOm4uaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWVTb3J0KG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEYoYSxiKXtkbyBhPWFbYl07d2hpbGUoYSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gdigoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIHYoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYSwiaWZyYW1lIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDpuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihFW2FdfHwoZT1uLnVuaXF1ZVNvcnQoZSkpLEQudGVzdChhKSYmKGU9ZS5yZXZlcnNlKCkpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRz0vXFMrL2c7ZnVuY3Rpb24gSChhKXt2YXIgYj17fTtyZXR1cm4gbi5lYWNoKGEubWF0Y2goRyl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9bi5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT0ic3RyaW5nIj09dHlwZW9mIGE/SChhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmPVtdLGc9W10saD0tMSxpPWZ1bmN0aW9uKCl7Zm9yKGU9YS5vbmNlLGQ9Yj0hMDtnLmxlbmd0aDtoPS0xKXtjPWcuc2hpZnQoKTt3aGlsZSgrK2g8Zi5sZW5ndGgpZltoXS5hcHBseShjWzBdLGNbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2UmJihoPWYubGVuZ3RoLGM9ITEpfWEubWVtb3J5fHwoYz0hMSksYj0hMSxlJiYoZj1jP1tdOiIiKX0saj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihjJiYhYiYmKGg9Zi5sZW5ndGgtMSxnLnB1c2goYykpLGZ1bmN0aW9uIGQoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXtuLmlzRnVuY3Rpb24oYyk/YS51bmlxdWUmJmouaGFzKGMpfHxmLnB1c2goYyk6YyYmYy5sZW5ndGgmJiJzdHJpbmciIT09bi50eXBlKGMpJiZkKGMpfSl9KGFyZ3VtZW50cyksYyYmIWImJmkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixmLGMpKT4tMSlmLnNwbGljZShjLDEpLGg+PWMmJmgtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxmKT4tMTpmLmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBmJiYoZj1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sZj1jPSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZT0hMCxjfHxqLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfSxuLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpXV0sYz0icGVuZGluZyIsZD17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuLkRlZmVycmVkKGZ1bmN0aW9uKGMpe24uZWFjaChiLGZ1bmN0aW9uKGIsZil7dmFyIGc9bi5pc0Z1bmN0aW9uKGFbYl0pJiZhW2JdO2VbZlsxXV0oZnVuY3Rpb24oKXt2YXIgYT1nJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhjLm5vdGlmeSkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpOmNbZlswXSsiV2l0aCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdKyJXaXRoIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1lLmNhbGwoYXJndW1lbnRzKSxkPWMubGVuZ3RoLGY9MSE9PWR8fGEmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2Q6MCxnPTE9PT1mP2E6bi5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ZS5jYWxsKGFyZ3VtZW50cyk6ZCxjPT09aT9nLm5vdGlmeVdpdGgoYixjKTotLWZ8fGcucmVzb2x2ZVdpdGgoYixjKX19LGksaixrO2lmKGQ+MSlmb3IoaT1uZXcgQXJyYXkoZCksaj1uZXcgQXJyYXkoZCksaz1uZXcgQXJyYXkoZCk7ZD5iO2IrKyljW2JdJiZuLmlzRnVuY3Rpb24oY1tiXS5wcm9taXNlKT9jW2JdLnByb21pc2UoKS5wcm9ncmVzcyhoKGIsaixpKSkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCk6LS1mO3JldHVybiBmfHxnLnJlc29sdmVXaXRoKGssYyksZy5wcm9taXNlKCl9fSk7dmFyIEk7bi5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gbi5yZWFkeS5wcm9taXNlKCkuZG9uZShhKSx0aGlzfSxuLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9uLnJlYWR5V2FpdCsrOm4ucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tbi5yZWFkeVdhaXQ6bi5pc1JlYWR5KXx8KG4uaXNSZWFkeT0hMCxhIT09ITAmJi0tbi5yZWFkeVdhaXQ+MHx8KEkucmVzb2x2ZVdpdGgoZCxbbl0pLG4uZm4udHJpZ2dlckhhbmRsZXImJihuKGQpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpLG4oZCkub2ZmKCJyZWFkeSIpKSkpfX0pO2Z1bmN0aW9uIEooKXtkLmFkZEV2ZW50TGlzdGVuZXI/KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixLKSk6KGQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5kZXRhY2hFdmVudCgib25sb2FkIixLKSl9ZnVuY3Rpb24gSygpeyhkLmFkZEV2ZW50TGlzdGVuZXJ8fCJsb2FkIj09PWEuZXZlbnQudHlwZXx8ImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZSkmJihKKCksbi5yZWFkeSgpKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7aWYoIUkpaWYoST1uLkRlZmVycmVkKCksImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09ZC5yZWFkeVN0YXRlJiYhZC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpYS5zZXRUaW1lb3V0KG4ucmVhZHkpO2Vsc2UgaWYoZC5hZGRFdmVudExpc3RlbmVyKWQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixLKTtlbHNle2QuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5hdHRhY2hFdmVudCgib25sb2FkIixLKTt2YXIgYz0hMTt0cnl7Yz1udWxsPT1hLmZyYW1lRWxlbWVudCYmZC5kb2N1bWVudEVsZW1lbnR9Y2F0Y2goZSl7fWMmJmMuZG9TY3JvbGwmJiFmdW5jdGlvbiBmKCl7aWYoIW4uaXNSZWFkeSl7dHJ5e2MuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChiKXtyZXR1cm4gYS5zZXRUaW1lb3V0KGYsNTApfUooKSxuLnJlYWR5KCl9fSgpfXJldHVybiBJLnByb21pc2UoYil9LG4ucmVhZHkucHJvbWlzZSgpO3ZhciBMO2ZvcihMIGluIG4obCkpYnJlYWs7bC5vd25GaXJzdD0iMCI9PT1MLGwuaW5saW5lQmxvY2tOZWVkc0xheW91dD0hMSxuKGZ1bmN0aW9uKCl7dmFyIGEsYixjLGU7Yz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sYyYmYy5zdHlsZSYmKGI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsYy5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZChiKSwidW5kZWZpbmVkIiE9dHlwZW9mIGIuc3R5bGUuem9vbSYmKGIuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsbC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWE9Mz09PWIub2Zmc2V0V2lkdGgsYSYmKGMuc3R5bGUuem9vbT0xKSksYy5yZW1vdmVDaGlsZChlKSl9KSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5kZWxldGVFeHBhbmRvPSEwO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKGIpe2wuZGVsZXRlRXhwYW5kbz0hMX1hPW51bGx9KCk7dmFyIE09ZnVuY3Rpb24oYSl7dmFyIGI9bi5ub0RhdGFbKGEubm9kZU5hbWUrIiAiKS50b0xvd2VyQ2FzZSgpXSxjPSthLm5vZGVUeXBlfHwxO3JldHVybiAxIT09YyYmOSE9PWM/ITE6IWJ8fGIhPT0hMCYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKT09PWJ9LE49L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpe3ZhciBkPSJkYXRhLSIrYi5yZXBsYWNlKE8sIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9bi5kYXRhKGEsYixjKX1lbHNlIGM9dm9pZCAwOwp9cmV0dXJuIGN9ZnVuY3Rpb24gUShhKXt2YXIgYjtmb3IoYiBpbiBhKWlmKCgiZGF0YSIhPT1ifHwhbi5pc0VtcHR5T2JqZWN0KGFbYl0pKSYmInRvSlNPTiIhPT1iKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFIoYSxiLGQsZSl7aWYoTShhKSl7dmFyIGYsZyxoPW4uZXhwYW5kbyxpPWEubm9kZVR5cGUsaj1pP24uY2FjaGU6YSxrPWk/YVtoXTphW2hdJiZoO2lmKGsmJmpba10mJihlfHxqW2tdLmRhdGEpfHx2b2lkIDAhPT1kfHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIGt8fChrPWk/YVtoXT1jLnBvcCgpfHxuLmd1aWQrKzpoKSxqW2tdfHwoaltrXT1pP3t9Ont0b0pTT046bi5ub29wfSksIm9iamVjdCIhPXR5cGVvZiBiJiYiZnVuY3Rpb24iIT10eXBlb2YgYnx8KGU/altrXT1uLmV4dGVuZChqW2tdLGIpOmpba10uZGF0YT1uLmV4dGVuZChqW2tdLmRhdGEsYikpLGc9altrXSxlfHwoZy5kYXRhfHwoZy5kYXRhPXt9KSxnPWcuZGF0YSksdm9pZCAwIT09ZCYmKGdbbi5jYW1lbENhc2UoYildPWQpLCJzdHJpbmciPT10eXBlb2YgYj8oZj1nW2JdLG51bGw9PWYmJihmPWdbbi5jYW1lbENhc2UoYildKSk6Zj1nLGZ9fWZ1bmN0aW9uIFMoYSxiLGMpe2lmKE0oYSkpe3ZhciBkLGUsZj1hLm5vZGVUeXBlLGc9Zj9uLmNhY2hlOmEsaD1mP2Fbbi5leHBhbmRvXTpuLmV4cGFuZG87aWYoZ1toXSl7aWYoYiYmKGQ9Yz9nW2hdOmdbaF0uZGF0YSkpe24uaXNBcnJheShiKT9iPWIuY29uY2F0KG4ubWFwKGIsbi5jYW1lbENhc2UpKTpiIGluIGQ/Yj1bYl06KGI9bi5jYW1lbENhc2UoYiksYj1iIGluIGQ/W2JdOmIuc3BsaXQoIiAiKSksZT1iLmxlbmd0aDt3aGlsZShlLS0pZGVsZXRlIGRbYltlXV07aWYoYz8hUShkKTohbi5pc0VtcHR5T2JqZWN0KGQpKXJldHVybn0oY3x8KGRlbGV0ZSBnW2hdLmRhdGEsUShnW2hdKSkpJiYoZj9uLmNsZWFuRGF0YShbYV0sITApOmwuZGVsZXRlRXhwYW5kb3x8ZyE9Zy53aW5kb3c/ZGVsZXRlIGdbaF06Z1toXT12b2lkIDApfX19bi5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7ImFwcGxldCAiOiEwLCJlbWJlZCAiOiEwLCJvYmplY3QgIjoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIn0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLm5vZGVUeXBlP24uY2FjaGVbYVtuLmV4cGFuZG9dXTphW24uZXhwYW5kb10sISFhJiYhUShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFIoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFMoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBSKGEsYixjLCEwKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyhhLGIsITApfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9bi5kYXRhKGYpLDE9PT1mLm5vZGVUeXBlJiYhbi5fZGF0YShmLCJwYXJzZWRBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFAoZixkLGVbZF0pKSk7bi5fZGF0YShmLCJwYXJzZWRBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhKX0pOmFyZ3VtZW50cy5sZW5ndGg+MT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhLGIpfSk6Zj9QKGYsYSxuLmRhdGEoZixhKSk6dm9pZCAwfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1uLl9kYXRhKGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1uLl9kYXRhKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gbi5fZGF0YShhLGMpfHxuLl9kYXRhKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7bi5fcmVtb3ZlRGF0YShhLGIrInF1ZXVlIiksbi5fcmVtb3ZlRGF0YShhLGMpfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSljPW4uX2RhdGEoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSksZnVuY3Rpb24oKXt2YXIgYTtsLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXtpZihudWxsIT1hKXJldHVybiBhO2E9ITE7dmFyIGIsYyxlO3JldHVybiBjPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxjJiZjLnN0eWxlPyhiPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGMuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoYiksInVuZGVmaW5lZCIhPXR5cGVvZiBiLnN0eWxlLnpvb20mJihiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLGIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUud2lkdGg9IjVweCIsYT0zIT09Yi5vZmZzZXRXaWR0aCksYy5yZW1vdmVDaGlsZChlKSxhKTp2b2lkIDB9fSgpO3ZhciBUPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK1QrIikoW2EteiVdKikkIiwiaSIpLFY9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxXPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX07ZnVuY3Rpb24gWChhLGIsYyxkKXt2YXIgZSxmPTEsZz0yMCxoPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZC5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gbi5jc3MoYSxiLCIiKX0saT1oKCksaj1jJiZjWzNdfHwobi5jc3NOdW1iZXJbYl0/IiI6InB4Iiksaz0obi5jc3NOdW1iZXJbYl18fCJweCIhPT1qJiYraSkmJlUuZXhlYyhuLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fCIuNSIsay89ZixuLnN0eWxlKGEsYixrK2opO3doaWxlKGYhPT0oZj1oKCkvaSkmJjEhPT1mJiYtLWcpfXJldHVybiBjJiYoaz0ra3x8K2l8fDAsZT1jWzFdP2srKGNbMV0rMSkqY1syXTorY1syXSxkJiYoZC51bml0PWosZC5zdGFydD1rLGQuZW5kPWUpKSxlfXZhciBZPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoIm9iamVjdCI9PT1uLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYylZKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9LFo9L14oPzpjaGVja2JveHxyYWRpbykkL2ksJD0vPChbXHc6LV0rKS8sXz0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksYWE9L15ccysvLGJhPSJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZGlhbG9nfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1haW58bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHBpY3R1cmV8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRlbXBsYXRlfHRpbWV8dmlkZW8iO2Z1bmN0aW9uIGNhKGEpe3ZhciBiPWJhLnNwbGl0KCJ8IiksYz1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihjLmNyZWF0ZUVsZW1lbnQpd2hpbGUoYi5sZW5ndGgpYy5jcmVhdGVFbGVtZW50KGIucG9wKCkpO3JldHVybiBjfSFmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTthLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixsLmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1hLmZpcnN0Q2hpbGQubm9kZVR5cGUsbC50Ym9keT0hYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsbC5odG1sU2VyaWFsaXplPSEhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxsLmh0bWw1Q2xvbmU9Ijw6bmF2PjwvOm5hdj4iIT09ZC5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCxjLnR5cGU9ImNoZWNrYm94IixjLmNoZWNrZWQ9ITAsYi5hcHBlbmRDaGlsZChjKSxsLmFwcGVuZENoZWNrZWQ9Yy5jaGVja2VkLGEuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixsLm5vQ2xvbmVDaGVja2VkPSEhYS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsYi5hcHBlbmRDaGlsZChhKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksYy5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksYy5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0IiksYS5hcHBlbmRDaGlsZChjKSxsLmNoZWNrQ2xvbmU9YS5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsbC5ub0Nsb25lRXZlbnQ9ISFhLmFkZEV2ZW50TGlzdGVuZXIsYVtuLmV4cGFuZG9dPTEsbC5hdHRyaWJ1dGVzPSFhLmdldEF0dHJpYnV0ZShuLmV4cGFuZG8pfSgpO3ZhciBkYT17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLHBhcmFtOlsxLCI8b2JqZWN0PiIsIjwvb2JqZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6bC5odG1sU2VyaWFsaXplP1swLCIiLCIiXTpbMSwiWDxkaXY+IiwiPC9kaXY+Il19O2RhLm9wdGdyb3VwPWRhLm9wdGlvbixkYS50Ym9keT1kYS50Zm9vdD1kYS5jb2xncm91cD1kYS5jYXB0aW9uPWRhLnRoZWFkLGRhLnRoPWRhLnRkO2Z1bmN0aW9uIGVhKGEsYil7dmFyIGMsZCxlPTAsZj0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOnZvaWQgMDtpZighZilmb3IoZj1bXSxjPWEuY2hpbGROb2Rlc3x8YTtudWxsIT0oZD1jW2VdKTtlKyspIWJ8fG4ubm9kZU5hbWUoZCxiKT9mLnB1c2goZCk6bi5tZXJnZShmLGVhKGQsYikpO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sZik6Zn1mdW5jdGlvbiBmYShhLGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YVtkXSk7ZCsrKW4uX2RhdGEoYywiZ2xvYmFsRXZhbCIsIWJ8fG4uX2RhdGEoYltkXSwiZ2xvYmFsRXZhbCIpKX12YXIgZ2E9Lzx8JiM/XHcrOy8saGE9Lzx0Ym9keS9pO2Z1bmN0aW9uIGlhKGEpe1oudGVzdChhLnR5cGUpJiYoYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWQpfWZ1bmN0aW9uIGphKGEsYixjLGQsZSl7Zm9yKHZhciBmLGcsaCxpLGosayxtLG89YS5sZW5ndGgscD1jYShiKSxxPVtdLHI9MDtvPnI7cisrKWlmKGc9YVtyXSxnfHwwPT09ZylpZigib2JqZWN0Ij09PW4udHlwZShnKSluLm1lcmdlKHEsZy5ub2RlVHlwZT9bZ106Zyk7ZWxzZSBpZihnYS50ZXN0KGcpKXtpPWl8fHAuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksaj0oJC5leGVjKGcpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLG09ZGFbal18fGRhLl9kZWZhdWx0LGkuaW5uZXJIVE1MPW1bMV0rbi5odG1sUHJlZmlsdGVyKGcpK21bMl0sZj1tWzBdO3doaWxlKGYtLSlpPWkubGFzdENoaWxkO2lmKCFsLmxlYWRpbmdXaGl0ZXNwYWNlJiZhYS50ZXN0KGcpJiZxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShhYS5leGVjKGcpWzBdKSksIWwudGJvZHkpe2c9InRhYmxlIiE9PWp8fGhhLnRlc3QoZyk/Ijx0YWJsZT4iIT09bVsxXXx8aGEudGVzdChnKT8wOmk6aS5maXJzdENoaWxkLGY9ZyYmZy5jaGlsZE5vZGVzLmxlbmd0aDt3aGlsZShmLS0pbi5ub2RlTmFtZShrPWcuY2hpbGROb2Rlc1tmXSwidGJvZHkiKSYmIWsuY2hpbGROb2Rlcy5sZW5ndGgmJmcucmVtb3ZlQ2hpbGQoayl9bi5tZXJnZShxLGkuY2hpbGROb2RlcyksaS50ZXh0Q29udGVudD0iIjt3aGlsZShpLmZpcnN0Q2hpbGQpaS5yZW1vdmVDaGlsZChpLmZpcnN0Q2hpbGQpO2k9cC5sYXN0Q2hpbGR9ZWxzZSBxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShnKSk7aSYmcC5yZW1vdmVDaGlsZChpKSxsLmFwcGVuZENoZWNrZWR8fG4uZ3JlcChlYShxLCJpbnB1dCIpLGlhKSxyPTA7d2hpbGUoZz1xW3IrK10paWYoZCYmbi5pbkFycmF5KGcsZCk+LTEpZSYmZS5wdXNoKGcpO2Vsc2UgaWYoaD1uLmNvbnRhaW5zKGcub3duZXJEb2N1bWVudCxnKSxpPWVhKHAuYXBwZW5kQ2hpbGQoZyksInNjcmlwdCIpLGgmJmZhKGkpLGMpe2Y9MDt3aGlsZShnPWlbZisrXSlfLnRlc3QoZy50eXBlfHwiIikmJmMucHVzaChnKX1yZXR1cm4gaT1udWxsLHB9IWZ1bmN0aW9uKCl7dmFyIGIsYyxlPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGIgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSljPSJvbiIrYiwobFtiXT1jIGluIGEpfHwoZS5zZXRBdHRyaWJ1dGUoYywidCIpLGxbYl09ZS5hdHRyaWJ1dGVzW2NdLmV4cGFuZG89PT0hMSk7ZT1udWxsfSgpO3ZhciBrYT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksbGE9L15rZXkvLG1hPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxuYT0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sb2E9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHBhKCl7cmV0dXJuITB9ZnVuY3Rpb24gcWEoKXtyZXR1cm4hMX1mdW5jdGlvbiByYSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gc2EoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoIm9iamVjdCI9PXR5cGVvZiBiKXsic3RyaW5nIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpc2EoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoInN0cmluZyI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9cWE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1uLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPW4uX2RhdGEoYSk7aWYocil7Yy5oYW5kbGVyJiYoaT1jLGM9aS5oYW5kbGVyLGU9aS5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoZz1yLmV2ZW50cyl8fChnPXIuZXZlbnRzPXt9KSwoaz1yLmhhbmRsZSl8fChrPXIuaGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygbnx8YSYmbi5ldmVudC50cmlnZ2VyZWQ9PT1hLnR5cGU/dm9pZCAwOm4uZXZlbnQuZGlzcGF0Y2guYXBwbHkoay5lbGVtLGFyZ3VtZW50cyl9LGsuZWxlbT1hKSxiPShifHwiIikubWF0Y2goRyl8fFsiIl0saD1iLmxlbmd0aDt3aGlsZShoLS0pZj1vYS5leGVjKGJbaF0pfHxbXSxvPXE9ZlsxXSxwPShmWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2ouZGVsZWdhdGVUeXBlOmouYmluZFR5cGUpfHxvLGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxsPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9LGkpLChtPWdbb10pfHwobT1nW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGouc2V0dXAmJmouc2V0dXAuY2FsbChhLGQscCxrKSE9PSExfHwoYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihvLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitvLGspKSksai5hZGQmJihqLmFkZC5jYWxsKGEsbCksbC5oYW5kbGVyLmd1aWR8fChsLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsbCk6bS5wdXNoKGwpLG4uZXZlbnQuZ2xvYmFsW29dPSEwKTthPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9bi5oYXNEYXRhKGEpJiZuLl9kYXRhKGEpO2lmKHImJihrPXIuZXZlbnRzKSl7Yj0oYnx8IiIpLm1hdGNoKEcpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9b2EuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8pe2w9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLG09a1tvXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitwLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGk9Zj1tLmxlbmd0aDt3aGlsZShmLS0pZz1tW2ZdLCFlJiZxIT09Zy5vcmlnVHlwZXx8YyYmYy5ndWlkIT09Zy5ndWlkfHxoJiYhaC50ZXN0KGcubmFtZXNwYWNlKXx8ZCYmZCE9PWcuc2VsZWN0b3ImJigiKioiIT09ZHx8IWcuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxnLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGcpKTtpJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGtbb10pfWVsc2UgZm9yKG8gaW4gayluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChrKSYmKGRlbGV0ZSByLmhhbmRsZSxuLl9yZW1vdmVEYXRhKGEsImV2ZW50cyIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGcsaCxpLGosbCxtLG8scD1bZXx8ZF0scT1rLmNhbGwoYiwidHlwZSIpP2IudHlwZTpiLHI9ay5jYWxsKGIsIm5hbWVzcGFjZSIpP2IubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoaT1tPWU9ZXx8ZCwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJiFuYS50ZXN0KHErbi5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKCIuIik+LTEmJihyPXEuc3BsaXQoIi4iKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaD1xLmluZGV4T2YoIjoiKTwwJiYib24iK3EsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChxLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9Zj8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKCIuIiksYi5ybmFtZXNwYWNlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1lKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxsPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZnx8IWwudHJpZ2dlcnx8bC50cmlnZ2VyLmFwcGx5KGUsYykhPT0hMSkpe2lmKCFmJiYhbC5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZSkpe2ZvcihqPWwuZGVsZWdhdGVUeXBlfHxxLG5hLnRlc3QoaitxKXx8KGk9aS5wYXJlbnROb2RlKTtpO2k9aS5wYXJlbnROb2RlKXAucHVzaChpKSxtPWk7bT09PShlLm93bmVyRG9jdW1lbnR8fGQpJiZwLnB1c2gobS5kZWZhdWx0Vmlld3x8bS5wYXJlbnRXaW5kb3d8fGEpfW89MDt3aGlsZSgoaT1wW28rK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWIudHlwZT1vPjE/ajpsLmJpbmRUeXBlfHxxLGc9KG4uX2RhdGEoaSwiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZuLl9kYXRhKGksImhhbmRsZSIpLGcmJmcuYXBwbHkoaSxjKSxnPWgmJmlbaF0sZyYmZy5hcHBseSYmTShpKSYmKGIucmVzdWx0PWcuYXBwbHkoaSxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO2lmKGIudHlwZT1xLCFmJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKCFsLl9kZWZhdWx0fHxsLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYyk9PT0hMSkmJk0oZSkmJmgmJmVbcV0mJiFuLmlzV2luZG93KGUpKXttPWVbaF0sbSYmKGVbaF09bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cTt0cnl7ZVtxXSgpfWNhdGNoKHMpe31uLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbSYmKGVbaF09bSl9cmV0dXJuIGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGQsZixnLGg9W10saT1lLmNhbGwoYXJndW1lbnRzKSxqPShuLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYS50eXBlXXx8W10saz1uLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWEucm5hbWVzcGFjZSYmIWEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKXx8KGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxkPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1kJiYoYS5yZXN1bHQ9ZCk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoImNsaWNrIiE9PWEudHlwZXx8aXNOYU4oYS5idXR0b24pfHxhLmJ1dHRvbjwxKSlmb3IoO2khPXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9uKGUsdGhpcykuaW5kZXgoaSk+LTE6bi5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LGZpeDpmdW5jdGlvbihhKXtpZihhW24uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxlLGY9YS50eXBlLGc9YSxoPXRoaXMuZml4SG9va3NbZl07aHx8KHRoaXMuZml4SG9va3NbZl09aD1tYS50ZXN0KGYpP3RoaXMubW91c2VIb29rczpsYS50ZXN0KGYpP3RoaXMua2V5SG9va3M6e30pLGU9aC5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChoLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG4uRXZlbnQoZyksYj1lLmxlbmd0aDt3aGlsZShiLS0pYz1lW2JdLGFbY109Z1tjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1nLnNyY0VsZW1lbnR8fGQpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGEubWV0YUtleT0hIWEubWV0YUtleSxoLmZpbHRlcj9oLmZpbHRlcihhLGcpOmF9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBkZXRhaWwgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc9Yi5idXR0b24saD1iLmZyb21FbGVtZW50O3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihlPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGQsZj1lLmRvY3VtZW50RWxlbWVudCxjPWUuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZiYmZi5zY3JvbGxMZWZ0fHxjJiZjLnNjcm9sbExlZnR8fDApLShmJiZmLmNsaWVudExlZnR8fGMmJmMuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGYmJmYuc2Nyb2xsVG9wfHxjJiZjLnNjcm9sbFRvcHx8MCktKGYmJmYuY2xpZW50VG9wfHxjJiZjLmNsaWVudFRvcHx8MCkpLCFhLnJlbGF0ZWRUYXJnZXQmJmgmJihhLnJlbGF0ZWRUYXJnZXQ9aD09PWEudGFyZ2V0P2IudG9FbGVtZW50OmgpLGEud2hpY2h8fHZvaWQgMD09PWd8fChhLndoaWNoPTEmZz8xOjImZz8zOjQmZz8yOjApLGF9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09cmEoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChhKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1yYSgpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiBuLm5vZGVOYW1lKHRoaXMsImlucHV0IikmJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2s/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMH0pO24uZXZlbnQudHJpZ2dlcihkLG51bGwsYiksZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0sbi5yZW1vdmVFdmVudD1kLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0ib24iK2I7YS5kZXRhY2hFdmVudCYmKCJ1bmRlZmluZWQiPT10eXBlb2YgYVtkXSYmKGFbZF09bnVsbCksYS5kZXRhY2hFdmVudChkLGMpKX0sbi5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbi5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/cGE6cWEpOnRoaXMudHlwZT1hLGImJm4uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG4ubm93KCksdm9pZCh0aGlzW24uZXhwYW5kb109ITApKTpuZXcgbi5FdmVudChhLGIpfSxuLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bi5FdmVudCxpc0RlZmF1bHRQcmV2ZW50ZWQ6cWEsaXNQcm9wYWdhdGlvblN0b3BwZWQ6cWEsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6cWEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cGEsYSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1wYSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmKGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9cGEsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybiBlJiYoZT09PWR8fG4uY29udGFpbnMoZCxlKSl8fChhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLGwuc3VibWl0fHwobi5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gbi5ub2RlTmFtZSh0aGlzLCJmb3JtIik/ITE6dm9pZCBuLmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9bi5ub2RlTmFtZShiLCJpbnB1dCIpfHxuLm5vZGVOYW1lKGIsImJ1dHRvbiIpP24ucHJvcChiLCJmb3JtIik6dm9pZCAwO2MmJiFuLl9kYXRhKGMsInN1Ym1pdCIpJiYobi5ldmVudC5hZGQoYywic3VibWl0Ll9zdWJtaXQiLGZ1bmN0aW9uKGEpe2EuX3N1Ym1pdEJ1YmJsZT0hMH0pLG4uX2RhdGEoYywic3VibWl0IiwhMCkpfSl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihhKXthLl9zdWJtaXRCdWJibGUmJihkZWxldGUgYS5fc3VibWl0QnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWEuaXNUcmlnZ2VyJiZuLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxhKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubm9kZU5hbWUodGhpcywiZm9ybSIpPyExOnZvaWQgbi5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KSxsLmNoYW5nZXx8KG4uZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGthLnRlc3QodGhpcy5ub2RlTmFtZSk/KCJjaGVja2JveCIhPT10aGlzLnR5cGUmJiJyYWRpbyIhPT10aGlzLnR5cGV8fChuLmV2ZW50LmFkZCh0aGlzLCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXsiY2hlY2tlZCI9PT1hLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiYodGhpcy5fanVzdENoYW5nZWQ9ITApfSksbi5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5fanVzdENoYW5nZWQmJiFhLmlzVHJpZ2dlciYmKHRoaXMuX2p1c3RDaGFuZ2VkPSExKSxuLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMsYSl9KSksITEpOnZvaWQgbi5ldmVudC5hZGQodGhpcywiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7a2EudGVzdChiLm5vZGVOYW1lKSYmIW4uX2RhdGEoYiwiY2hhbmdlIikmJihuLmV2ZW50LmFkZChiLCJjaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oYSl7IXRoaXMucGFyZW50Tm9kZXx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fG4uZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcy5wYXJlbnROb2RlLGEpfSksbi5fZGF0YShiLCJjaGFuZ2UiLCEwKSl9KX0saGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3JldHVybiB0aGlzIT09Ynx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fCJyYWRpbyIhPT1iLnR5cGUmJiJjaGVja2JveCIhPT1iLnR5cGU/YS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBuLmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpLCFrYS50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLGwuZm9jdXNpbnx8bi5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1uLl9kYXRhKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksbi5fZGF0YShkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPW4uX2RhdGEoZCxiKS0xO2U/bi5fZGF0YShkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLG4uX3JlbW92ZURhdGEoZCxiKSl9fX0pLG4uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gc2EodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBzYSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGIhPT0hMSYmImZ1bmN0aW9uIiE9dHlwZW9mIGJ8fChjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9cWEpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIHRhPS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2csdWE9bmV3IFJlZ0V4cCgiPCg/OiIrYmErIilbXFxzLz5dIiwiaSIpLHZhPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzotXSspW14+XSopXC8+L2dpLHdhPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLHhhPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHlhPS9edHJ1ZVwvKC4qKS8semE9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLEFhPWNhKGQpLEJhPUFhLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2Z1bmN0aW9uIENhKGEsYil7cmV0dXJuIG4ubm9kZU5hbWUoYSwidGFibGUiKSYmbi5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsInRyIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiBEYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09bi5maW5kLmF0dHIoYSwidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9eWEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiBGYShhLGIpe2lmKDE9PT1iLm5vZGVUeXBlJiZuLmhhc0RhdGEoYSkpe3ZhciBjLGQsZSxmPW4uX2RhdGEoYSksZz1uLl9kYXRhKGIsZiksaD1mLmV2ZW50cztpZihoKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGMgaW4gaClmb3IoZD0wLGU9aFtjXS5sZW5ndGg7ZT5kO2QrKyluLmV2ZW50LmFkZChiLGMsaFtjXVtkXSl9Zy5kYXRhJiYoZy5kYXRhPW4uZXh0ZW5kKHt9LGcuZGF0YSkpfX1mdW5jdGlvbiBHYShhLGIpe3ZhciBjLGQsZTtpZigxPT09Yi5ub2RlVHlwZSl7aWYoYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIWwubm9DbG9uZUV2ZW50JiZiW24uZXhwYW5kb10pe2U9bi5fZGF0YShiKTtmb3IoZCBpbiBlLmV2ZW50cyluLnJlbW92ZUV2ZW50KGIsZCxlLmhhbmRsZSk7Yi5yZW1vdmVBdHRyaWJ1dGUobi5leHBhbmRvKX0ic2NyaXB0Ij09PWMmJmIudGV4dCE9PWEudGV4dD8oRGEoYikudGV4dD1hLnRleHQsRWEoYikpOiJvYmplY3QiPT09Yz8oYi5wYXJlbnROb2RlJiYoYi5vdXRlckhUTUw9YS5vdXRlckhUTUwpLGwuaHRtbDVDbG9uZSYmYS5pbm5lckhUTUwmJiFuLnRyaW0oYi5pbm5lckhUTUwpJiYoYi5pbm5lckhUTUw9YS5pbm5lckhUTUwpKToiaW5wdXQiPT09YyYmWi50ZXN0KGEudHlwZSk/KGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCxiLnZhbHVlIT09YS52YWx1ZSYmKGIudmFsdWU9YS52YWx1ZSkpOiJvcHRpb24iPT09Yz9iLmRlZmF1bHRTZWxlY3RlZD1iLnNlbGVjdGVkPWEuZGVmYXVsdFNlbGVjdGVkOiJpbnB1dCIhPT1jJiYidGV4dGFyZWEiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX19ZnVuY3Rpb24gSGEoYSxiLGMsZCl7Yj1mLmFwcGx5KFtdLGIpO3ZhciBlLGcsaCxpLGosayxtPTAsbz1hLmxlbmd0aCxwPW8tMSxxPWJbMF0scj1uLmlzRnVuY3Rpb24ocSk7aWYocnx8bz4xJiYic3RyaW5nIj09dHlwZW9mIHEmJiFsLmNoZWNrQ2xvbmUmJnhhLnRlc3QocSkpcmV0dXJuIGEuZWFjaChmdW5jdGlvbihlKXt2YXIgZj1hLmVxKGUpO3ImJihiWzBdPXEuY2FsbCh0aGlzLGUsZi5odG1sKCkpKSxIYShmLGIsYyxkKX0pO2lmKG8mJihrPWphKGIsYVswXS5vd25lckRvY3VtZW50LCExLGEsZCksZT1rLmZpcnN0Q2hpbGQsMT09PWsuY2hpbGROb2Rlcy5sZW5ndGgmJihrPWUpLGV8fGQpKXtmb3IoaT1uLm1hcChlYShrLCJzY3JpcHQiKSxEYSksaD1pLmxlbmd0aDtvPm07bSsrKWc9ayxtIT09cCYmKGc9bi5jbG9uZShnLCEwLCEwKSxoJiZuLm1lcmdlKGksZWEoZywic2NyaXB0IikpKSxjLmNhbGwoYVttXSxnLG0pO2lmKGgpZm9yKGo9aVtpLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG4ubWFwKGksRWEpLG09MDtoPm07bSsrKWc9aVttXSxfLnRlc3QoZy50eXBlfHwiIikmJiFuLl9kYXRhKGcsImdsb2JhbEV2YWwiKSYmbi5jb250YWlucyhqLGcpJiYoZy5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChnLnNyYyk6bi5nbG9iYWxFdmFsKChnLnRleHR8fGcudGV4dENvbnRlbnR8fGcuaW5uZXJIVE1MfHwiIikucmVwbGFjZSh6YSwiIikpKTtrPWU9bnVsbH1yZXR1cm4gYX1mdW5jdGlvbiBJYShhLGIsYyl7Zm9yKHZhciBkLGU9Yj9uLmZpbHRlcihiLGEpOmEsZj0wO251bGwhPShkPWVbZl0pO2YrKyljfHwxIT09ZC5ub2RlVHlwZXx8bi5jbGVhbkRhdGEoZWEoZCkpLGQucGFyZW50Tm9kZSYmKGMmJm4uY29udGFpbnMoZC5vd25lckRvY3VtZW50LGQpJiZmYShlYShkLCJzY3JpcHQiKSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKTtyZXR1cm4gYX1uLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHZhLCI8JDE+PC8kMj4iKX0sY2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1uLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZihsLmh0bWw1Q2xvbmV8fG4uaXNYTUxEb2MoYSl8fCF1YS50ZXN0KCI8IithLm5vZGVOYW1lKyI+Iik/Zj1hLmNsb25lTm9kZSghMCk6KEJhLmlubmVySFRNTD1hLm91dGVySFRNTCxCYS5yZW1vdmVDaGlsZChmPUJhLmZpcnN0Q2hpbGQpKSwhKGwubm9DbG9uZUV2ZW50JiZsLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZD1lYShmKSxoPWVhKGEpLGc9MDtudWxsIT0oZT1oW2ddKTsrK2cpZFtnXSYmR2EoZSxkW2ddKTtpZihiKWlmKGMpZm9yKGg9aHx8ZWEoYSksZD1kfHxlYShmKSxnPTA7bnVsbCE9KGU9aFtnXSk7ZysrKUZhKGUsZFtnXSk7ZWxzZSBGYShhLGYpO3JldHVybiBkPWVhKGYsInNjcmlwdCIpLGQubGVuZ3RoPjAmJmZhKGQsIWkmJmVhKGEsInNjcmlwdCIpKSxkPWg9ZT1udWxsLGZ9LGNsZWFuRGF0YTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZCxlLGYsZyxoPTAsaT1uLmV4cGFuZG8saj1uLmNhY2hlLGs9bC5hdHRyaWJ1dGVzLG09bi5ldmVudC5zcGVjaWFsO251bGwhPShkPWFbaF0pO2grKylpZigoYnx8TShkKSkmJihmPWRbaV0sZz1mJiZqW2ZdKSl7aWYoZy5ldmVudHMpZm9yKGUgaW4gZy5ldmVudHMpbVtlXT9uLmV2ZW50LnJlbW92ZShkLGUpOm4ucmVtb3ZlRXZlbnQoZCxlLGcuaGFuZGxlKTtqW2ZdJiYoZGVsZXRlIGpbZl0sa3x8InVuZGVmaW5lZCI9PXR5cGVvZiBkLnJlbW92ZUF0dHJpYnV0ZT9kW2ldPXZvaWQgMDpkLnJlbW92ZUF0dHJpYnV0ZShpKSxjLnB1c2goZikpfX19KSxuLmZuLmV4dGVuZCh7ZG9tTWFuaXA6SGEsZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiBJYSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIElhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxkKS5jcmVhdGVUZXh0Tm9kZShhKSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEhhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1DYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPUNhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKyl7MT09PWEubm9kZVR5cGUmJm4uY2xlYW5EYXRhKGVhKGEsITEpKTt3aGlsZShhLmZpcnN0Q2hpbGQpYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Eub3B0aW9ucyYmbi5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGEub3B0aW9ucy5sZW5ndGg9MCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gWSh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEpcmV0dXJuIDE9PT1iLm5vZGVUeXBlP2IuaW5uZXJIVE1MLnJlcGxhY2UodGEsIiIpOnZvaWQgMDtpZigic3RyaW5nIj09dHlwZW9mIGEmJiF3YS50ZXN0KGEpJiYobC5odG1sU2VyaWFsaXplfHwhdWEudGVzdChhKSkmJihsLmxlYWRpbmdXaGl0ZXNwYWNlfHwhYWEudGVzdChhKSkmJiFkYVsoJC5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1uLmh0bWxQcmVmaWx0ZXIoYSk7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoZWEoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5wYXJlbnROb2RlO24uaW5BcnJheSh0aGlzLGEpPDAmJihuLmNsZWFuRGF0YShlYSh0aGlzKSksYyYmYy5yZXBsYWNlQ2hpbGQoYix0aGlzKSl9LGEpfX0pLG4uZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD0wLGU9W10sZj1uKGEpLGg9Zi5sZW5ndGgtMTtoPj1kO2QrKyljPWQ9PT1oP3RoaXM6dGhpcy5jbG9uZSghMCksbihmW2RdKVtiXShjKSxnLmFwcGx5KGUsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBKYSxLYT17SFRNTDoiYmxvY2siLEJPRFk6ImJsb2NrIn07ZnVuY3Rpb24gTGEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sImRpc3BsYXkiKTtyZXR1cm4gYy5kZXRhY2goKSxkfWZ1bmN0aW9uIE1hKGEpe3ZhciBiPWQsYz1LYVthXTtyZXR1cm4gY3x8KGM9TGEoYSxiKSwibm9uZSIhPT1jJiZjfHwoSmE9KEphfHxuKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPShKYVswXS5jb250ZW50V2luZG93fHxKYVswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGIud3JpdGUoKSxiLmNsb3NlKCksYz1MYShhLGIpLEphLmRldGFjaCgpKSxLYVthXT1jKSxjfXZhciBOYT0vXm1hcmdpbi8sT2E9bmV3IFJlZ0V4cCgiXigiK1QrIikoPyFweClbYS16JV0rJCIsImkiKSxQYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sUWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZyxoLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxqPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYoai5zdHlsZSl7ai5zdHlsZS5jc3NUZXh0PSJmbG9hdDpsZWZ0O29wYWNpdHk6LjUiLGwub3BhY2l0eT0iMC41Ij09PWouc3R5bGUub3BhY2l0eSxsLmNzc0Zsb2F0PSEhai5zdHlsZS5jc3NGbG9hdCxqLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsai5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGwuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1qLnN0eWxlLmJhY2tncm91bmRDbGlwLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7cGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlIixqLmlubmVySFRNTD0iIixpLmFwcGVuZENoaWxkKGopLGwuYm94U2l6aW5nPSIiPT09ai5zdHlsZS5ib3hTaXppbmd8fCIiPT09ai5zdHlsZS5Nb3pCb3hTaXppbmd8fCIiPT09ai5zdHlsZS5XZWJraXRCb3hTaXppbmcsbi5leHRlbmQobCx7cmVsaWFibGVIaWRkZW5PZmZzZXRzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxmfSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZX0scGl4ZWxNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksY30scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksYn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZ30scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxofX0pO2Z1bmN0aW9uIGsoKXt2YXIgayxsLG09ZC5kb2N1bWVudEVsZW1lbnQ7bS5hcHBlbmRDaGlsZChpKSxqLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJSIsYj1lPWg9ITEsYz1nPSEwLGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKGw9YS5nZXRDb21wdXRlZFN0eWxlKGopLGI9IjElIiE9PShsfHx7fSkudG9wLGg9IjJweCI9PT0obHx8e30pLm1hcmdpbkxlZnQsZT0iNHB4Ij09PShsfHx7d2lkdGg6IjRweCJ9KS53aWR0aCxqLnN0eWxlLm1hcmdpblJpZ2h0PSI1MCUiLGM9IjRweCI9PT0obHx8e21hcmdpblJpZ2h0OiI0cHgifSkubWFyZ2luUmlnaHQsaz1qLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGsuc3R5bGUuY3NzVGV4dD1qLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MCIsay5zdHlsZS5tYXJnaW5SaWdodD1rLnN0eWxlLndpZHRoPSIwIixqLnN0eWxlLndpZHRoPSIxcHgiLGc9IXBhcnNlRmxvYXQoKGEuZ2V0Q29tcHV0ZWRTdHlsZShrKXx8e30pLm1hcmdpblJpZ2h0KSxqLnJlbW92ZUNoaWxkKGspKSxqLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWouZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgsZiYmKGouc3R5bGUuZGlzcGxheT0iIixqLmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIsai5jaGlsZE5vZGVzWzBdLnN0eWxlLmJvcmRlckNvbGxhcHNlPSJzZXBhcmF0ZSIsaz1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLGtbMF0uc3R5bGUuY3NzVGV4dD0ibWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowO2Rpc3BsYXk6bm9uZSIsZj0wPT09a1swXS5vZmZzZXRIZWlnaHQsZiYmKGtbMF0uc3R5bGUuZGlzcGxheT0iIixrWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWtbMF0ub2Zmc2V0SGVpZ2h0KSksbS5yZW1vdmVDaGlsZChpKX19fSgpO3ZhciBSYSxTYSxUYT0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87YS5nZXRDb21wdXRlZFN0eWxlPyhSYT1mdW5jdGlvbihiKXt2YXIgYz1iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIGMmJmMub3BlbmVyfHwoYz1hKSxjLmdldENvbXB1dGVkU3R5bGUoYil9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2MuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXTp2b2lkIDAsIiIhPT1nJiZ2b2lkIDAhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSxjJiYhbC5waXhlbE1hcmdpblJpZ2h0KCkmJk9hLnRlc3QoZykmJk5hLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9Ziksdm9pZCAwPT09Zz9nOmcrIiJ9KTpRYS5jdXJyZW50U3R5bGUmJihSYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5jdXJyZW50U3R5bGV9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2NbYl06dm9pZCAwLG51bGw9PWcmJmgmJmhbYl0mJihnPWhbYl0pLE9hLnRlc3QoZykmJiFUYS50ZXN0KGIpJiYoZD1oLmxlZnQsZT1hLnJ1bnRpbWVTdHlsZSxmPWUmJmUubGVmdCxmJiYoZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQpLGgubGVmdD0iZm9udFNpemUiPT09Yj8iMWVtIjpnLGc9aC5waXhlbExlZnQrInB4IixoLmxlZnQ9ZCxmJiYoZS5sZWZ0PWYpKSx2b2lkIDA9PT1nP2c6ZysiInx8ImF1dG8ifSk7ZnVuY3Rpb24gVWEoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIFZhPS9hbHBoYVwoW14pXSpcKS9pLFdhPS9vcGFjaXR5XHMqPVxzKihbXildKikvaSxYYT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sWWE9bmV3IFJlZ0V4cCgiXigiK1QrIikoLiopJCIsImkiKSxaYT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sJGE9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LF9hPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl0sYWI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZTtmdW5jdGlvbiBiYihhKXtpZihhIGluIGFiKXJldHVybiBhO3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKSxjPV9hLmxlbmd0aDt3aGlsZShjLS0paWYoYT1fYVtjXStiLGEgaW4gYWIpcmV0dXJuIGF9ZnVuY3Rpb24gY2IoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109bi5fZGF0YShkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlcoZCkmJihmW2ddPW4uX2RhdGEoZCwib2xkZGlzcGxheSIsTWEoZC5ub2RlTmFtZSkpKSk6KGU9VyhkKSwoYyYmIm5vbmUiIT09Y3x8IWUpJiZuLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGU/YzpuLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfWZ1bmN0aW9uIGRiKGEsYixjKXt2YXIgZD1ZYS5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHwicHgiKTpifWZ1bmN0aW9uIGViKGEsYixjLGQsZSl7Zm9yKHZhciBmPWM9PT0oZD8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PWI/MTowLGc9MDs0PmY7Zis9MikibWFyZ2luIj09PWMmJihnKz1uLmNzcyhhLGMrVltmXSwhMCxlKSksZD8oImNvbnRlbnQiPT09YyYmKGctPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSkpLCJtYXJnaW4iIT09YyYmKGctPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk6KGcrPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSksInBhZGRpbmciIT09YyYmKGcrPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gZmIoYSxiLGMpe3ZhciBkPSEwLGU9IndpZHRoIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPVJhKGEpLGc9bC5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT1TYShhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLE9hLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK2ViKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPVNhKGEsIm9wYWNpdHkiKTtyZXR1cm4iIj09PWM/IjEiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6bC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7aWYoYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1iYihoKXx8aCksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLHZvaWQgMD09PWMpcmV0dXJuIGcmJiJnZXQiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdO2lmKGY9dHlwZW9mIGMsInN0cmluZyI9PT1mJiYoZT1VLmV4ZWMoYykpJiZlWzFdJiYoYz1YKGEsYixlKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiPT09ZiYmKGMrPWUmJmVbM118fChuLmNzc051bWJlcltoXT8iIjoicHgiKSksbC5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLCEoZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpKSkpdHJ5e2lbYl09Y31jYXRjaChqKXt9fX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPWJiKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmImdldCJpbiBnJiYoZj1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1mJiYoZj1TYShhLGIsZCkpLCJub3JtYWwiPT09ZiYmYiBpbiAkYSYmKGY9JGFbYl0pLCIiPT09Y3x8Yz8oZT1wYXJzZUZsb2F0KGYpLGM9PT0hMHx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pLG4uZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP1hhLnRlc3Qobi5jc3MoYSwiZGlzcGxheSIpKSYmMD09PWEub2Zmc2V0V2lkdGg/UGEoYSxaYSxmdW5jdGlvbigpe3JldHVybiBmYihhLGIsZCl9KTpmYihhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQmJlJhKGEpO3JldHVybiBkYihhLGMsZD9lYihhLGIsZCxsLmJveFNpemluZyYmImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksbC5vcGFjaXR5fHwobi5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gV2EudGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZSxlPW4uaXNOdW1lcmljKGIpPyJhbHBoYShvcGFjaXR5PSIrMTAwKmIrIikiOiIiLGY9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLnpvb209MSwoYj49MXx8IiI9PT1iKSYmIiI9PT1uLnRyaW0oZi5yZXBsYWNlKFZhLCIiKSkmJmMucmVtb3ZlQXR0cmlidXRlJiYoYy5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCIiPT09Ynx8ZCYmIWQuZmlsdGVyKXx8KGMuZmlsdGVyPVZhLnRlc3QoZik/Zi5yZXBsYWNlKFZhLGUpOmYrIiAiK2UpfX0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9VWEobC5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/UGEoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sU2EsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG4uY3NzSG9va3MubWFyZ2luTGVmdD1VYShsLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihhLGIpe3JldHVybiBiPyhwYXJzZUZsb2F0KFNhKGEsIm1hcmdpbkxlZnQiKSl8fChuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKT9hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtUGEoYSx7Cm1hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSk6MCkpKyJweCI6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5kO2QrKyllW2ErVltkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxOYS50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1kYil9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPVJhKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtXKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gZ2IoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IGdiLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1nYixnYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmdiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPWdiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpnYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1nYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOmdiLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LGdiLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1nYi5wcm90b3R5cGUsZ2IucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6MSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbD09YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV0mJiFuLmNzc0hvb2tzW2EucHJvcF0/YS5lbGVtW2EucHJvcF09YS5ub3c6bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCl9fX0sZ2IucHJvcEhvb2tzLnNjcm9sbFRvcD1nYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LG4uZng9Z2IucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBoYixpYixqYj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sa2I9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBsYigpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtoYj12b2lkIDB9KSxoYj1uLm5vdygpfWZ1bmN0aW9uIG1iKGEsYil7dmFyIGMsZD17aGVpZ2h0OmF9LGU9MDtmb3IoYj1iPzE6MDs0PmU7ZSs9Mi1iKWM9VltlXSxkWyJtYXJnaW4iK2NdPWRbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihkLm9wYWNpdHk9ZC53aWR0aD1hKSxkfWZ1bmN0aW9uIG5iKGEsYixjKXtmb3IodmFyIGQsZT0ocWIudHdlZW5lcnNbYl18fFtdKS5jb25jYXQocWIudHdlZW5lcnNbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gb2IoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbT10aGlzLG89e30scD1hLnN0eWxlLHE9YS5ub2RlVHlwZSYmVyhhKSxyPW4uX2RhdGEoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLG0uYWx3YXlzKGZ1bmN0aW9uKCl7bS5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoYy5vdmVyZmxvdz1bcC5vdmVyZmxvdyxwLm92ZXJmbG93WCxwLm92ZXJmbG93WV0saj1uLmNzcyhhLCJkaXNwbGF5Iiksaz0ibm9uZSI9PT1qP24uX2RhdGEoYSwib2xkZGlzcGxheSIpfHxNYShhLm5vZGVOYW1lKTpqLCJpbmxpbmUiPT09ayYmIm5vbmUiPT09bi5jc3MoYSwiZmxvYXQiKSYmKGwuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmImlubGluZSIhPT1NYShhLm5vZGVOYW1lKT9wLnpvb209MTpwLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIixsLnNocmlua1dyYXBCbG9ja3MoKXx8bS5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLGpiLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXJ8fHZvaWQgMD09PXJbZF0pY29udGludWU7cT0hMH1vW2RdPXImJnJbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChvKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP01hKGEubm9kZU5hbWUpOmopJiYocC5kaXNwbGF5PWopO2Vsc2V7cj8iaGlkZGVuImluIHImJihxPXIuaGlkZGVuKTpyPW4uX2RhdGEoYSwiZnhzaG93Iix7fSksZiYmKHIuaGlkZGVuPSFxKSxxP24oYSkuc2hvdygpOm0uZG9uZShmdW5jdGlvbigpe24oYSkuaGlkZSgpfSksbS5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7bi5fcmVtb3ZlRGF0YShhLCJmeHNob3ciKTtmb3IoYiBpbiBvKW4uc3R5bGUoYSxiLG9bYl0pfSk7Zm9yKGQgaW4gbylnPW5iKHE/cltkXTowLGQsbSksZCBpbiByfHwocltkXT1nLnN0YXJ0LHEmJihnLmVuZD1nLnN0YXJ0LGcuc3RhcnQ9IndpZHRoIj09PWR8fCJoZWlnaHQiPT09ZD8xOjApKX19ZnVuY3Rpb24gcGIoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiYiZXhwYW5kImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBxYihhLGIsYyl7dmFyIGQsZSxmPTAsZz1xYi5wcmVmaWx0ZXJzLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPWhifHxsYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpuLmVhc2luZy5fZGVmYXVsdH0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOmhifHxsYigpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtkPmM7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj8oaC5ub3RpZnlXaXRoKGEsW2osMSwwXSksaC5yZXNvbHZlV2l0aChhLFtqLGJdKSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihwYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9cWIucHJlZmlsdGVyc1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIG4uaXNGdW5jdGlvbihkLnN0b3ApJiYobi5fcXVldWVIb29rcyhqLmVsZW0sai5vcHRzLnF1ZXVlKS5zdG9wPW4ucHJveHkoZC5zdG9wLGQpKSxkO3JldHVybiBuLm1hcChrLG5iLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQocWIse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpO3JldHVybiBYKGMuZWxlbSxhLFUuZXhlYyhiKSxjKSxjfV19LHR3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVsiKiJdKTphPWEubWF0Y2goRyk7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLHFiLnR3ZWVuZXJzW2NdPXFiLnR3ZWVuZXJzW2NdfHxbXSxxYi50d2VlbmVyc1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXJzOltvYl0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9xYi5wcmVmaWx0ZXJzLnVuc2hpZnQoYSk6cWIucHJlZmlsdGVycy5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJiJvYmplY3QiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsbnVsbCE9ZC5xdWV1ZSYmZC5xdWV1ZSE9PSEwfHwoZC5xdWV1ZT0iZngiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtuLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJm4uZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxuLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihXKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmlzRW1wdHlPYmplY3QoYSksZj1uLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9cWIodGhpcyxuLmV4dGVuZCh7fSxhKSxmKTsoZXx8bi5fZGF0YSh0aGlzLCJmaW5pc2giKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihjPWIsYj1hLGE9dm9pZCAwKSxiJiZhIT09ITEmJnRoaXMucXVldWUoYXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhKyJxdWV1ZUhvb2tzIixmPW4udGltZXJzLGc9bi5fZGF0YSh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZrYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1uLl9kYXRhKHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUobWIoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOm1iKCJzaG93Iiksc2xpZGVVcDptYigiaGlkZSIpLHNsaWRlVG9nZ2xlOm1iKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPW4udGltZXJzLGM9MDtmb3IoaGI9bi5ub3coKTtjPGIubGVuZ3RoO2MrKylhPWJbY10sYSgpfHxiW2NdIT09YXx8Yi5zcGxpY2UoYy0tLDEpO2IubGVuZ3RofHxuLmZ4LnN0b3AoKSxoYj12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtpYnx8KGliPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKGliKSxpYj1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8ImZ4Iix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYSxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGY9ZS5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYy5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxjLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxiLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94IiksYy5hcHBlbmRDaGlsZChiKSxhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxhLnN0eWxlLmNzc1RleHQ9InRvcDoxcHgiLGwuZ2V0U2V0QXR0cmlidXRlPSJ0IiE9PWMuY2xhc3NOYW1lLGwuc3R5bGU9L3RvcC8udGVzdChhLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksbC5ocmVmTm9ybWFsaXplZD0iL2EiPT09YS5nZXRBdHRyaWJ1dGUoImhyZWYiKSxsLmNoZWNrT249ISFiLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Zi5zZWxlY3RlZCxsLmVuY3R5cGU9ISFkLmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGUuZGlzYWJsZWQ9ITAsbC5vcHREaXNhYmxlZD0hZi5kaXNhYmxlZCxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSxsLmlucHV0PSIiPT09Yi5nZXRBdHRyaWJ1dGUoInZhbHVlIiksYi52YWx1ZT0idCIsYi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGwucmFkaW9WYWx1ZT0idCI9PT1iLnZhbHVlfSgpO3ZhciByYj0vXHIvZyxzYj0vW1x4MjBcdFxyXG5cZl0rL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT0iIjoibnVtYmVyIj09dHlwZW9mIGU/ZSs9IiI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOmErIiJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYic2V0ImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSwidmFsdWUiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKHJiLCIiKTpudWxsPT1jPyIiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsInZhbHVlIik7cmV0dXJuIG51bGwhPWI/YjpuLnRyaW0obi50ZXh0KGEpKS5yZXBsYWNlKHNiLCIgIil9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwoYy5zZWxlY3RlZHx8aT09PWUpJiYobC5vcHREaXNhYmxlZD8hYy5kaXNhYmxlZDpudWxsPT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0paWYoZD1lW2ddLG4uaW5BcnJheShuLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpdHJ5e2Quc2VsZWN0ZWQ9Yz0hMH1jYXRjaChoKXtkLnNjcm9sbEhlaWdodH1lbHNlIGQuc2VsZWN0ZWQ9ITE7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGV9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSk7dmFyIHRiLHViLHZiPW4uZXhwci5hdHRySGFuZGxlLHdiPS9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2kseGI9bC5nZXRTZXRBdHRyaWJ1dGUseWI9bC5pbnB1dDtuLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBZKHRoaXMsbi5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT91Yjp0YikpLHZvaWQgMCE9PWM/bnVsbD09PWM/dm9pZCBuLnJlbW92ZUF0dHIoYSxiKTplJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOihkPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZD92b2lkIDA6ZCkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFsLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1iJiZuLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEcpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZltlKytdKWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYyk/eWImJnhifHwhd2IudGVzdChjKT9hW2RdPSExOmFbbi5jYW1lbENhc2UoImRlZmF1bHQtIitjKV09YVtkXT0hMTpuLmF0dHIoYSxjLCIiKSxhLnJlbW92ZUF0dHJpYnV0ZSh4Yj9jOmQpfX0pLHViPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRyKGEsYyk6eWImJnhifHwhd2IudGVzdChjKT9hLnNldEF0dHJpYnV0ZSgheGImJm4ucHJvcEZpeFtjXXx8YyxjKTphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYyldPWFbY109ITAsY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPXZiW2JdfHxuLmZpbmQuYXR0cjt5YiYmeGJ8fCF3Yi50ZXN0KGIpP3ZiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj12YltiXSx2YltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsdmJbYl09ZiksZX06dmJbYl09ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYildP2IudG9Mb3dlckNhc2UoKTpudWxsfX0pLHliJiZ4Ynx8KG4uYXR0ckhvb2tzLnZhbHVlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLm5vZGVOYW1lKGEsImlucHV0Iik/dm9pZChhLmRlZmF1bHRWYWx1ZT1iKTp0YiYmdGIuc2V0KGEsYixjKX19KSx4Ynx8KHRiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlTm9kZShjKTtyZXR1cm4gZHx8YS5zZXRBdHRyaWJ1dGVOb2RlKGQ9YS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShjKSksZC52YWx1ZT1iKz0iIiwidmFsdWUiPT09Y3x8Yj09PWEuZ2V0QXR0cmlidXRlKGMpP2I6dm9pZCAwfX0sdmIuaWQ9dmIubmFtZT12Yi5jb29yZHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiYiIiE9PWQudmFsdWU/ZC52YWx1ZTpudWxsfSxuLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpO3JldHVybiBjJiZjLnNwZWNpZmllZD9jLnZhbHVlOnZvaWQgMH0sc2V0OnRiLnNldH0sbi5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3RiLnNldChhLCIiPT09Yj8hMTpiLGMpfX0sbi5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGIpe24uYXR0ckhvb2tzW2JdPXtzZXQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4iIj09PWM/KGEuc2V0QXR0cmlidXRlKGIsImF1dG8iKSxjKTp2b2lkIDB9fX0pKSxsLnN0eWxlfHwobi5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0fHx2b2lkIDB9LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnN0eWxlLmNzc1RleHQ9YisiIn19KTt2YXIgemI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkL2ksQWI9L14oPzphfGFyZWEpJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9bi5wcm9wRml4W2FdfHxhLHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2FdPXZvaWQgMCxkZWxldGUgdGhpc1thXX1jYXRjaChiKXt9fSl9fSksbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuIDE9PT1mJiZuLmlzWE1MRG9jKGEpfHwoYj1uLnByb3BGaXhbYl18fGIsZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSwidGFiaW5kZXgiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTp6Yi50ZXN0KGEubm9kZU5hbWUpfHxBYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KSxsLmhyZWZOb3JtYWxpemVkfHxuLmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oYSxiKXtuLnByb3BIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShiLDQpfX19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLG4uZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pLGwuZW5jdHlwZXx8KG4ucHJvcEZpeC5lbmN0eXBlPSJlbmNvZGluZyIpO3ZhciBCYj0vW1x0XHJcblxmXS9nO2Z1bmN0aW9uIENiKGEpe3JldHVybiBuLmF0dHIoYSwiY2xhc3MiKXx8IiJ9bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsQ2IodGhpcykpKX0pO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZigiICIrZisiICIpPDAmJihkKz1mKyIgIik7aD1uLnRyaW0oZCksZSE9PWgmJm4uYXR0cihjLCJjbGFzcyIsaCl9fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLENiKHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKCJjbGFzcyIsIiIpO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKXdoaWxlKGQuaW5kZXhPZigiICIrZisiICIpPi0xKWQ9ZC5yZXBsYWNlKCIgIitmKyIgIiwiICIpO2g9bi50cmltKGQpLGUhPT1oJiZuLmF0dHIoYywiY2xhc3MiLGgpfX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6bi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsQ2IodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZigic3RyaW5nIj09PWMpe2Q9MCxlPW4odGhpcyksZj1hLm1hdGNoKEcpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlIHZvaWQgMCE9PWEmJiJib29sZWFuIiE9PWN8fChiPUNiKHRoaXMpLGImJm4uX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsYiksbi5hdHRyKHRoaXMsImNsYXNzIixifHxhPT09ITE/IiI6bi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj0iICIrYSsiICI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJigiICIrQ2IoYykrIiAiKS5yZXBsYWNlKEJiLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KSxuLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIERiPWEubG9jYXRpb24sRWI9bi5ub3coKSxGYj0vXD8vLEdiPS8oLCl8KFxbfHspfCh9fF0pfCIoPzpbXiJcXFxyXG5dfFxcWyJcXFwvYmZucnRdfFxcdVtcZGEtZkEtRl17NH0pKiJccyo6P3x0cnVlfGZhbHNlfG51bGx8LT8oPyEwXGQpXGQrKD86XC5cZCt8KSg/OltlRV1bKy1dP1xkK3wpL2c7bi5wYXJzZUpTT049ZnVuY3Rpb24oYil7aWYoYS5KU09OJiZhLkpTT04ucGFyc2UpcmV0dXJuIGEuSlNPTi5wYXJzZShiKyIiKTt2YXIgYyxkPW51bGwsZT1uLnRyaW0oYisiIik7cmV0dXJuIGUmJiFuLnRyaW0oZS5yZXBsYWNlKEdiLGZ1bmN0aW9uKGEsYixlLGYpe3JldHVybiBjJiZiJiYoZD0wKSwwPT09ZD9hOihjPWV8fGIsZCs9IWYtIWUsIiIpfSkpP0Z1bmN0aW9uKCJyZXR1cm4gIitlKSgpOm4uZXJyb3IoIkludmFsaWQgSlNPTjogIitiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgYyxkO2lmKCFifHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIG51bGw7dHJ5e2EuRE9NUGFyc2VyPyhkPW5ldyBhLkRPTVBhcnNlcixjPWQucGFyc2VGcm9tU3RyaW5nKGIsInRleHQveG1sIikpOihjPW5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSJmYWxzZSIsYy5sb2FkWE1MKGIpKX1jYXRjaChlKXtjPXZvaWQgMH1yZXR1cm4gYyYmYy5kb2N1bWVudEVsZW1lbnQmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8bi5lcnJvcigiSW52YWxpZCBYTUw6ICIrYiksY307dmFyIEhiPS8jLiokLyxJYj0vKFs/Jl0pXz1bXiZdKi8sSmI9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSxLYj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxMYj0vXig/OkdFVHxIRUFEKSQvLE1iPS9eXC9cLy8sTmI9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sT2I9e30sUGI9e30sUWI9IiovIi5jb25jYXQoIioiKSxSYj1EYi5ocmVmLFNiPU5iLmV4ZWMoUmIudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIFRiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9YixiPSIqIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEcpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pIisiPT09ZC5jaGFyQXQoMCk/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gVWIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09UGI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBWYihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYil2b2lkIDAhPT1iW2RdJiYoKGVbZF0/YTpjfHwoYz17fSkpW2RdPWJbZF0pO3JldHVybiBjJiZuLmV4dGVuZCghMCxhLGMpLGF9ZnVuY3Rpb24gV2IoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWUmJihlPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcihnIGluIGgpaWYoaFtnXSYmaFtnXS50ZXN0KGUpKXtpLnVuc2hpZnQoZyk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGcgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tnKyIgIitpWzBdXSl7Zj1nO2JyZWFrfWR8fChkPWcpfWY9Znx8ZH1yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gWGIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6UmIsdHlwZToiR0VUIixpc0xvY2FsOktiLnRlc3QoU2JbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6UWIsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6bi5wYXJzZUpTT04sInRleHQgeG1sIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9WYihWYihhLG4uYWpheFNldHRpbmdzKSxiKTpWYihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpUYihPYiksYWpheFRyYW5zcG9ydDpUYihQYiksYWpheDpmdW5jdGlvbihiLGMpeyJvYmplY3QiPT10eXBlb2YgYiYmKGM9YixiPXZvaWQgMCksYz1jfHx7fTt2YXIgZCxlLGYsZyxoLGksaixrLGw9bi5hamF4U2V0dXAoe30sYyksbT1sLmNvbnRleHR8fGwsbz1sLmNvbnRleHQmJihtLm5vZGVUeXBlfHxtLmpxdWVyeSk/bihtKTpuLmV2ZW50LHA9bi5EZWZlcnJlZCgpLHE9bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iikscj1sLnN0YXR1c0NvZGV8fHt9LHM9e30sdD17fSx1PTAsdj0iY2FuY2VsZWQiLHc9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dSl7aWYoIWspe2s9e307d2hpbGUoYj1KYi5leGVjKGcpKWtbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9a1thLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT11P2c6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdXx8KGE9dFtjXT10W2NdfHxhLHNbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdXx8KGwubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dSlmb3IoYiBpbiBhKXJbYl09W3JbYl0sYVtiXV07ZWxzZSB3LmFsd2F5cyhhW3cuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHY7cmV0dXJuIGomJmouYWJvcnQoYikseSgwLGIpLHRoaXN9fTtpZihwLnByb21pc2UodykuY29tcGxldGU9cS5hZGQsdy5zdWNjZXNzPXcuZG9uZSx3LmVycm9yPXcuZmFpbCxsLnVybD0oKGJ8fGwudXJsfHxSYikrIiIpLnJlcGxhY2UoSGIsIiIpLnJlcGxhY2UoTWIsU2JbMV0rIi8vIiksbC50eXBlPWMubWV0aG9kfHxjLnR5cGV8fGwubWV0aG9kfHxsLnR5cGUsbC5kYXRhVHlwZXM9bi50cmltKGwuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8WyIiXSxudWxsPT1sLmNyb3NzRG9tYWluJiYoZD1OYi5leGVjKGwudXJsLnRvTG93ZXJDYXNlKCkpLGwuY3Jvc3NEb21haW49ISghZHx8ZFsxXT09PVNiWzFdJiZkWzJdPT09U2JbMl0mJihkWzNdfHwoImh0dHA6Ij09PWRbMV0/IjgwIjoiNDQzIikpPT09KFNiWzNdfHwoImh0dHA6Ij09PVNiWzFdPyI4MCI6IjQ0MyIpKSkpLGwuZGF0YSYmbC5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBsLmRhdGEmJihsLmRhdGE9bi5wYXJhbShsLmRhdGEsbC50cmFkaXRpb25hbCkpLFViKE9iLGwsYyx3KSwyPT09dSlyZXR1cm4gdztpPW4uZXZlbnQmJmwuZ2xvYmFsLGkmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGwudHlwZT1sLnR5cGUudG9VcHBlckNhc2UoKSxsLmhhc0NvbnRlbnQ9IUxiLnRlc3QobC50eXBlKSxmPWwudXJsLGwuaGFzQ29udGVudHx8KGwuZGF0YSYmKGY9bC51cmwrPShGYi50ZXN0KGYpPyImIjoiPyIpK2wuZGF0YSxkZWxldGUgbC5kYXRhKSxsLmNhY2hlPT09ITEmJihsLnVybD1JYi50ZXN0KGYpP2YucmVwbGFjZShJYiwiJDFfPSIrRWIrKyk6ZisoRmIudGVzdChmKT8iJiI6Ij8iKSsiXz0iK0ViKyspKSxsLmlmTW9kaWZpZWQmJihuLmxhc3RNb2RpZmllZFtmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsbi5sYXN0TW9kaWZpZWRbZl0pLG4uZXRhZ1tmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixuLmV0YWdbZl0pKSwobC5kYXRhJiZsLmhhc0NvbnRlbnQmJmwuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJncuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixsLmNvbnRlbnRUeXBlKSx3LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsbC5kYXRhVHlwZXNbMF0mJmwuYWNjZXB0c1tsLmRhdGFUeXBlc1swXV0/bC5hY2NlcHRzW2wuZGF0YVR5cGVzWzBdXSsoIioiIT09bC5kYXRhVHlwZXNbMF0/IiwgIitRYisiOyBxPTAuMDEiOiIiKTpsLmFjY2VwdHNbIioiXSk7Zm9yKGUgaW4gbC5oZWFkZXJzKXcuc2V0UmVxdWVzdEhlYWRlcihlLGwuaGVhZGVyc1tlXSk7aWYobC5iZWZvcmVTZW5kJiYobC5iZWZvcmVTZW5kLmNhbGwobSx3LGwpPT09ITF8fDI9PT11KSlyZXR1cm4gdy5hYm9ydCgpO3Y9ImFib3J0Ijtmb3IoZSBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl3W2VdKGxbZV0pO2lmKGo9VWIoUGIsbCxjLHcpKXtpZih3LnJlYWR5U3RhdGU9MSxpJiZvLnRyaWdnZXIoImFqYXhTZW5kIixbdyxsXSksMj09PXUpcmV0dXJuIHc7bC5hc3luYyYmbC50aW1lb3V0PjAmJihoPWEuc2V0VGltZW91dChmdW5jdGlvbigpe3cuYWJvcnQoInRpbWVvdXQiKX0sbC50aW1lb3V0KSk7dHJ5e3U9MSxqLnNlbmQocyx5KX1jYXRjaCh4KXtpZighKDI+dSkpdGhyb3cgeDt5KC0xLHgpfX1lbHNlIHkoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIHkoYixjLGQsZSl7dmFyIGsscyx0LHYseCx5PWM7MiE9PXUmJih1PTIsaCYmYS5jbGVhclRpbWVvdXQoaCksaj12b2lkIDAsZz1lfHwiIix3LnJlYWR5U3RhdGU9Yj4wPzQ6MCxrPWI+PTIwMCYmMzAwPmJ8fDMwND09PWIsZCYmKHY9V2IobCx3LGQpKSx2PVhiKGwsdix3LGspLGs/KGwuaWZNb2RpZmllZCYmKHg9dy5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLHgmJihuLmxhc3RNb2RpZmllZFtmXT14KSx4PXcuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSx4JiYobi5ldGFnW2ZdPXgpKSwyMDQ9PT1ifHwiSEVBRCI9PT1sLnR5cGU/eT0ibm9jb250ZW50IjozMDQ9PT1iP3k9Im5vdG1vZGlmaWVkIjooeT12LnN0YXRlLHM9di5kYXRhLHQ9di5lcnJvcixrPSF0KSk6KHQ9eSwhYiYmeXx8KHk9ImVycm9yIiwwPmImJihiPTApKSksdy5zdGF0dXM9Yix3LnN0YXR1c1RleHQ9KGN8fHkpKyIiLGs/cC5yZXNvbHZlV2l0aChtLFtzLHksd10pOnAucmVqZWN0V2l0aChtLFt3LHksdF0pLHcuc3RhdHVzQ29kZShyKSxyPXZvaWQgMCxpJiZvLnRyaWdnZXIoaz8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt3LGwsaz9zOnRdKSxxLmZpcmVXaXRoKG0sW3cseV0pLGkmJihvLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3csbF0pLC0tbi5hY3RpdmV8fG4uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB3fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG4uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheChuLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sbi5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmMT09PWEuZmlyc3RDaGlsZC5ub2RlVHlwZSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPW4odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9bi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24ubm9kZU5hbWUodGhpcywiYm9keSIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KTtmdW5jdGlvbiBZYihhKXtyZXR1cm4gYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxuLmNzcyhhLCJkaXNwbGF5Iil9ZnVuY3Rpb24gWmIoYSl7aWYoIW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50fHxkLGEpKXJldHVybiEwO3doaWxlKGEmJjE9PT1hLm5vZGVUeXBlKXtpZigibm9uZSI9PT1ZYihhKXx8ImhpZGRlbiI9PT1hLnR5cGUpcmV0dXJuITA7YT1hLnBhcmVudE5vZGV9cmV0dXJuITF9bi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBsLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpP2Eub2Zmc2V0V2lkdGg8PTAmJmEub2Zmc2V0SGVpZ2h0PD0wJiYhYS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aDpaYihhKX0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgJGI9LyUyMC9nLF9iPS9cW1xdJC8sYWM9L1xyP1xuL2csYmM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGNjPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBkYyhhLGIsYyxkKXt2YXIgZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxfYi50ZXN0KGEpP2QoYSxlKTpkYyhhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09bi50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpZGMoYSsiWyIrZSsiXSIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj8iIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5PYmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlkYyhjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSgkYiwiKyIpfSxuLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1uLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYT9uLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmY2MudGVzdCh0aGlzLm5vZGVOYW1lKSYmIWJjLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFaLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYWMsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGFjLCJcclxuIil9fSkuZ2V0KCl9fSksbi5hamF4U2V0dGluZ3MueGhyPXZvaWQgMCE9PWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTG9jYWw/aWMoKTpkLmRvY3VtZW50TW9kZT44P2hjKCk6L14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmaGMoKXx8aWMoKX06aGM7dmFyIGVjPTAsZmM9e30sZ2M9bi5hamF4U2V0dGluZ3MueGhyKCk7YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGZjKWZjW2FdKHZvaWQgMCwhMCl9KSxsLmNvcnM9ISFnYyYmIndpdGhDcmVkZW50aWFscyJpbiBnYyxnYz1sLmFqYXg9ISFnYyxnYyYmbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe2lmKCFiLmNyb3NzRG9tYWlufHxsLmNvcnMpe3ZhciBjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7dmFyIGYsZz1iLnhocigpLGg9KytlYztpZihnLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZiBpbiBiLnhockZpZWxkcylnW2ZdPWIueGhyRmllbGRzW2ZdO2IubWltZVR5cGUmJmcub3ZlcnJpZGVNaW1lVHlwZSYmZy5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGRbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGRbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZiBpbiBkKXZvaWQgMCE9PWRbZl0mJmcuc2V0UmVxdWVzdEhlYWRlcihmLGRbZl0rIiIpO2cuc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCksYz1mdW5jdGlvbihhLGQpe3ZhciBmLGksajtpZihjJiYoZHx8ND09PWcucmVhZHlTdGF0ZSkpaWYoZGVsZXRlIGZjW2hdLGM9dm9pZCAwLGcub25yZWFkeXN0YXRlY2hhbmdlPW4ubm9vcCxkKTQhPT1nLnJlYWR5U3RhdGUmJmcuYWJvcnQoKTtlbHNle2o9e30sZj1nLnN0YXR1cywic3RyaW5nIj09dHlwZW9mIGcucmVzcG9uc2VUZXh0JiYoai50ZXh0PWcucmVzcG9uc2VUZXh0KTt0cnl7aT1nLnN0YXR1c1RleHR9Y2F0Y2goayl7aT0iIn1mfHwhYi5pc0xvY2FsfHxiLmNyb3NzRG9tYWluPzEyMjM9PT1mJiYoZj0yMDQpOmY9ai50ZXh0PzIwMDo0MDR9aiYmZShmLGksaixnLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX0sYi5hc3luYz80PT09Zy5yZWFkeVN0YXRlP2Euc2V0VGltZW91dChjKTpnLm9ucmVhZHlzdGF0ZWNoYW5nZT1mY1toXT1jOmMoKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKHZvaWQgMCwhMCl9fX19KTtmdW5jdGlvbiBoYygpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBpYygpe3RyeXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChiKXt9fW4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLG4uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjPWQuaGVhZHx8bigiaGVhZCIpWzBdfHxkLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe2I9ZC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLmFzeW5jPSEwLGEuc2NyaXB0Q2hhcnNldCYmKGIuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGIuc3JjPWEudXJsLGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7KGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSkmJihiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxmKDIwMCwic3VjY2VzcyIpKX0sYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2ImJmIub25sb2FkKHZvaWQgMCwhMCl9fX19KTt2YXIgamM9W10sa2M9Lyg9KVw/KD89JnwkKXxcP1w/LztuLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9amMucG9wKCl8fG4uZXhwYW5kbysiXyIrRWIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKGtjLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYma2MudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKGtjLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShGYi50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP24oYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssamMucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fGQ7dmFyIGU9eC5leGVjKGEpLGY9IWMmJltdO3JldHVybiBlP1tiLmNyZWF0ZUVsZW1lbnQoZVsxXSldOihlPWphKFthXSxiLGYpLGYmJmYubGVuZ3RoJiZuKGYpLnJlbW92ZSgpLG4ubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9O3ZhciBsYz1uLmZuLmxvYWQ7bi5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJmxjKXJldHVybiBsYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZigiICIpO3JldHVybiBoPi0xJiYoZD1uLnRyaW0oYS5zbGljZShoLGEubGVuZ3RoKSksYT1hLnNsaWNlKDAsaCkpLG4uaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiYib2JqZWN0Ij09dHlwZW9mIGImJihlPSJQT1NUIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmV8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP24oIjxkaXY+IikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sbi5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07ZnVuY3Rpb24gbWMoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsInBvc2l0aW9uIiksbD1uKGEpLG09e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLCJ0b3AiKSxpPW4uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiZuLmluQXJyYXkoImF1dG8iLFtmLGldKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLG4uZXh0ZW5kKHt9LGgpKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXt0b3A6MCxsZWZ0OjB9LGU9dGhpc1swXSxmPWUmJmUub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixlKT8oInVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1tYyhmKSx7dG9wOmQudG9wKyhjLnBhZ2VZT2Zmc2V0fHxiLnNjcm9sbFRvcCktKGIuY2xpZW50VG9wfHwwKSxsZWZ0OmQubGVmdCsoYy5wYWdlWE9mZnNldHx8Yi5zY3JvbGxMZWZ0KS0oYi5jbGllbnRMZWZ0fHwwKX0pOmR9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXt0b3A6MCxsZWZ0OjB9LGQ9dGhpc1swXTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoZCwicG9zaXRpb24iKT9iPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1sIil8fChjPWEub2Zmc2V0KCkpLGMudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLGMubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6Yi50b3AtYy50b3Atbi5jc3MoZCwibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtYy5sZWZ0LW4uY3NzKGQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShhJiYhbi5ub2RlTmFtZShhLCJodG1sIikmJiJzdGF0aWMiPT09bi5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxRYX0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPS9ZLy50ZXN0KGIpO24uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9bWMoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9iIGluIGY/ZltiXTpmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/bihmKS5zY3JvbGxMZWZ0KCk6ZSxjP2U6bihmKS5zY3JvbGxUb3AoKSk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksbi5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT1VYShsLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1TYShhLGIpLE9hLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxuLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7CnBhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGVbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGVbIm9mZnNldCIrYV0sZVsiY2xpZW50IithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsIioqIik6dGhpcy5vZmYoYixhfHwiKioiLGMpfX0pLG4uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sbi5mbi5hbmRTZWxmPW4uZm4uYWRkQmFjaywiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBuYz1hLmpRdWVyeSxvYz1hLiQ7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYmKGEuJD1vYyksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9bmMpLG59LGJ8fChhLmpRdWVyeT1hLiQ9biksbn0pOwo="},{"meta":{"name":"snap.svg-min.js","url":"https://cdn.staticfile.org/snap.svg/0.5.1/snap.svg-min.js","ts":1584071792117,"mimetype":"text/javascript"},"source":"Ly8gU25hcC5zdmcgMC41LjAKLy8KLy8gQ29weXJpZ2h0IChjKSAyMDEzIOKAkyAyMDE3IEFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkLiBBbGwgcmlnaHRzIHJlc2VydmVkLgovLwovLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgovLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKLy8KLy8gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCi8vCi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCi8vCi8vIGJ1aWxkOiAyMDE3LTAyLTA2CgohZnVuY3Rpb24oYSl7dmFyIGIsYyxkPSIwLjUuMCIsZT0iaGFzT3duUHJvcGVydHkiLGY9L1tcLlwvXS8sZz0vXHMqLFxzKi8saD0iKiIsaT1mdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9LGo9e246e319LGs9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMubGVuZ3RoO2I+YTthKyspaWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzW2FdKXJldHVybiB0aGlzW2FdfSxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubGVuZ3RoOy0tYTspaWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzW2FdKXJldHVybiB0aGlzW2FdfSxtPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbj1TdHJpbmcsbz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEFycmF5fHwiW29iamVjdCBBcnJheV0iPT1tLmNhbGwoYSl9O2V2ZT1mdW5jdGlvbihhLGQpe3ZhciBlLGY9YyxnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxoPWV2ZS5saXN0ZW5lcnMoYSksaj0wLG09W10sbj17fSxvPVtdLHA9YjtvLmZpcnN0RGVmaW5lZD1rLG8ubGFzdERlZmluZWQ9bCxiPWEsYz0wO2Zvcih2YXIgcT0wLHI9aC5sZW5ndGg7cj5xO3ErKykiekluZGV4ImluIGhbcV0mJihtLnB1c2goaFtxXS56SW5kZXgpLGhbcV0uekluZGV4PDAmJihuW2hbcV0uekluZGV4XT1oW3FdKSk7Zm9yKG0uc29ydChpKTttW2pdPDA7KWlmKGU9blttW2orK11dLG8ucHVzaChlLmFwcGx5KGQsZykpLGMpcmV0dXJuIGM9ZixvO2ZvcihxPTA7cj5xO3ErKylpZihlPWhbcV0sInpJbmRleCJpbiBlKWlmKGUuekluZGV4PT1tW2pdKXtpZihvLnB1c2goZS5hcHBseShkLGcpKSxjKWJyZWFrO2RvIGlmKGorKyxlPW5bbVtqXV0sZSYmby5wdXNoKGUuYXBwbHkoZCxnKSksYylicmVhazt3aGlsZShlKX1lbHNlIG5bZS56SW5kZXhdPWU7ZWxzZSBpZihvLnB1c2goZS5hcHBseShkLGcpKSxjKWJyZWFrO3JldHVybiBjPWYsYj1wLG99LGV2ZS5fZXZlbnRzPWosZXZlLmxpc3RlbmVycz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxnLGksayxsLG09byhhKT9hOmEuc3BsaXQoZiksbj1qLHA9W25dLHE9W107Zm9yKGU9MCxnPW0ubGVuZ3RoO2c+ZTtlKyspe2ZvcihsPVtdLGk9MCxrPXAubGVuZ3RoO2s+aTtpKyspZm9yKG49cFtpXS5uLGM9W25bbVtlXV0sbltoXV0sZD0yO2QtLTspYj1jW2RdLGImJihsLnB1c2goYikscT1xLmNvbmNhdChiLmZ8fFtdKSk7cD1sfXJldHVybiBxfSxldmUuc2VwYXJhdG9yPWZ1bmN0aW9uKGEpe2E/KGE9bihhKS5yZXBsYWNlKC8oPz1bXC5cXlxdXFtcLV0pL2csIlxcIiksYT0iWyIrYSsiXSIsZj1uZXcgUmVnRXhwKGEpKTpmPS9bXC5cL10vfSxldmUub249ZnVuY3Rpb24oYSxiKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgYilyZXR1cm4gZnVuY3Rpb24oKXt9O2Zvcih2YXIgYz1vKGEpP28oYVswXSk/YTpbYV06bihhKS5zcGxpdChnKSxkPTAsZT1jLmxlbmd0aDtlPmQ7ZCsrKSFmdW5jdGlvbihhKXtmb3IodmFyIGMsZD1vKGEpP2E6bihhKS5zcGxpdChmKSxlPWosZz0wLGg9ZC5sZW5ndGg7aD5nO2crKyllPWUubixlPWUuaGFzT3duUHJvcGVydHkoZFtnXSkmJmVbZFtnXV18fChlW2RbZ11dPXtuOnt9fSk7Zm9yKGUuZj1lLmZ8fFtdLGc9MCxoPWUuZi5sZW5ndGg7aD5nO2crKylpZihlLmZbZ109PWIpe2M9ITA7YnJlYWt9IWMmJmUuZi5wdXNoKGIpfShjW2RdKTtyZXR1cm4gZnVuY3Rpb24oYSl7K2E9PSthJiYoYi56SW5kZXg9K2EpfX0sZXZlLmY9ZnVuY3Rpb24oYSl7dmFyIGI9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7ZXZlLmFwcGx5KG51bGwsW2EsbnVsbF0uY29uY2F0KGIpLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSkpfX0sZXZlLnN0b3A9ZnVuY3Rpb24oKXtjPTF9LGV2ZS5udD1mdW5jdGlvbihhKXt2YXIgYz1vKGIpP2Iuam9pbigiLiIpOmI7cmV0dXJuIGE/bmV3IFJlZ0V4cCgiKD86XFwufFxcL3xeKSIrYSsiKD86XFwufFxcL3wkKSIpLnRlc3QoYyk6Y30sZXZlLm50cz1mdW5jdGlvbigpe3JldHVybiBvKGIpP2I6Yi5zcGxpdChmKX0sZXZlLm9mZj1ldmUudW5iaW5kPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIHZvaWQoZXZlLl9ldmVudHM9aj17bjp7fX0pO3ZhciBjPW8oYSk/byhhWzBdKT9hOlthXTpuKGEpLnNwbGl0KGcpO2lmKGMubGVuZ3RoPjEpZm9yKHZhciBkPTAsaT1jLmxlbmd0aDtpPmQ7ZCsrKWV2ZS5vZmYoY1tkXSxiKTtlbHNle2M9byhhKT9hOm4oYSkuc3BsaXQoZik7dmFyIGssbCxtLGQsaSxwLHEscj1bal0scz1bXTtmb3IoZD0wLGk9Yy5sZW5ndGg7aT5kO2QrKylmb3IocD0wO3A8ci5sZW5ndGg7cCs9bS5sZW5ndGgtMil7aWYobT1bcCwxXSxrPXJbcF0ubixjW2RdIT1oKWtbY1tkXV0mJihtLnB1c2goa1tjW2RdXSkscy51bnNoaWZ0KHtuOmssbmFtZTpjW2RdfSkpO2Vsc2UgZm9yKGwgaW4gaylrW2VdKGwpJiYobS5wdXNoKGtbbF0pLHMudW5zaGlmdCh7bjprLG5hbWU6bH0pKTtyLnNwbGljZS5hcHBseShyLG0pfWZvcihkPTAsaT1yLmxlbmd0aDtpPmQ7ZCsrKWZvcihrPXJbZF07ay5uOyl7aWYoYil7aWYoay5mKXtmb3IocD0wLHE9ay5mLmxlbmd0aDtxPnA7cCsrKWlmKGsuZltwXT09Yil7ay5mLnNwbGljZShwLDEpO2JyZWFrfSFrLmYubGVuZ3RoJiZkZWxldGUgay5mfWZvcihsIGluIGsubilpZihrLm5bZV0obCkmJmsubltsXS5mKXt2YXIgdD1rLm5bbF0uZjtmb3IocD0wLHE9dC5sZW5ndGg7cT5wO3ArKylpZih0W3BdPT1iKXt0LnNwbGljZShwLDEpO2JyZWFrfSF0Lmxlbmd0aCYmZGVsZXRlIGsubltsXS5mfX1lbHNle2RlbGV0ZSBrLmY7Zm9yKGwgaW4gay5uKWsubltlXShsKSYmay5uW2xdLmYmJmRlbGV0ZSBrLm5bbF0uZn1rPWsubn1hOmZvcihkPTAsaT1zLmxlbmd0aDtpPmQ7ZCsrKXtrPXNbZF07Zm9yKGwgaW4gay5uW2submFtZV0uZiljb250aW51ZSBhO2ZvcihsIGluIGsubltrLm5hbWVdLm4pY29udGludWUgYTtkZWxldGUgay5uW2submFtZV19fX0sZXZlLm9uY2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbigpe3JldHVybiBldmUub2ZmKGEsYyksYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBldmUub24oYSxjKX0sZXZlLnZlcnNpb249ZCxldmUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iWW91IGFyZSBydW5uaW5nIEV2ZSAiK2R9LCJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1ldmU6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoImV2ZSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gZXZlfSk6YS5ldmU9ZXZlfSh0aGlzKSxmdW5jdGlvbihhLGIpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFsiZXZlIl0sZnVuY3Rpb24oYyl7cmV0dXJuIGIoYSxjKX0pO2Vsc2UgaWYoInVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzKXt2YXIgYz1yZXF1aXJlKCJldmUiKTttb2R1bGUuZXhwb3J0cz1iKGEsYyl9ZWxzZSBiKGEsYS5ldmUpfSh3aW5kb3d8fHRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihiKXt2YXIgYyxkPXt9LGU9YS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGEud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxhLm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8YS5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxhLm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihhKXtyZXR1cm4gc2V0VGltZW91dChhLDE2LChuZXcgRGF0ZSkuZ2V0VGltZSgpKSwhMH0sZj1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEFycmF5fHwiW29iamVjdCBBcnJheV0iPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9LGc9MCxoPSJNIisoK25ldyBEYXRlKS50b1N0cmluZygzNiksaT1mdW5jdGlvbigpe3JldHVybiBoKyhnKyspLnRvU3RyaW5nKDM2KX0saj1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9LGs9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihudWxsPT1hKXJldHVybiBiLnM7dmFyIGM9Yi5zLWE7Yi5iKz1iLmR1cipjLGIuQis9Yi5kdXIqYyxiLnM9YX0sbD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBudWxsPT1hP2Iuc3BkOnZvaWQoYi5zcGQ9YSl9LG09ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gbnVsbD09YT9iLmR1cjooYi5zPWIucyphL2IuZHVyLHZvaWQoYi5kdXI9YSkpfSxuPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkZWxldGUgZFthLmlkXSxhLnVwZGF0ZSgpLGIoIm1pbmEuc3RvcC4iK2EuaWQsYSl9LG89ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EucGRpZnx8KGRlbGV0ZSBkW2EuaWRdLGEudXBkYXRlKCksYS5wZGlmPWEuZ2V0KCktYS5iKX0scD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5wZGlmJiYoYS5iPWEuZ2V0KCktYS5wZGlmLGRlbGV0ZSBhLnBkaWYsZFthLmlkXT1hLHIoKSl9LHE9ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXM7aWYoZihiLnN0YXJ0KSl7YT1bXTtmb3IodmFyIGM9MCxkPWIuc3RhcnQubGVuZ3RoO2Q+YztjKyspYVtjXT0rYi5zdGFydFtjXSsoYi5lbmRbY10tYi5zdGFydFtjXSkqYi5lYXNpbmcoYi5zKX1lbHNlIGE9K2Iuc3RhcnQrKGIuZW5kLWIuc3RhcnQpKmIuZWFzaW5nKGIucyk7Yi5zZXQoYSl9LHI9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIHZvaWQoY3x8KGM9ZShyKSkpO3ZhciBmPTA7Zm9yKHZhciBnIGluIGQpaWYoZC5oYXNPd25Qcm9wZXJ0eShnKSl7dmFyIGg9ZFtnXSxpPWguZ2V0KCk7ZisrLGgucz0oaS1oLmIpLyhoLmR1ci9oLnNwZCksaC5zPj0xJiYoZGVsZXRlIGRbZ10saC5zPTEsZi0tLGZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiKCJtaW5hLmZpbmlzaC4iK2EuaWQsYSl9KX0oaCkpLGgudXBkYXRlKCl9Yz1mP2Uocik6ITF9LHM9ZnVuY3Rpb24oYSxiLGMsZSxmLGcsaCl7dmFyIGo9e2lkOmkoKSxzdGFydDphLGVuZDpiLGI6YyxzOjAsZHVyOmUtYyxzcGQ6MSxnZXQ6ZixzZXQ6ZyxlYXNpbmc6aHx8cy5saW5lYXIsc3RhdHVzOmssc3BlZWQ6bCxkdXJhdGlvbjptLHN0b3A6bixwYXVzZTpvLHJlc3VtZTpwLHVwZGF0ZTpxfTtkW2ouaWRdPWo7dmFyIHQsdT0wO2Zvcih0IGluIGQpaWYoZC5oYXNPd25Qcm9wZXJ0eSh0KSYmKHUrKywyPT11KSlicmVhaztyZXR1cm4gMT09dSYmcigpLGp9O3JldHVybiBzLnRpbWU9aixzLmdldEJ5SWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGRbYV18fG51bGx9LHMubGluZWFyPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxzLmVhc2VvdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucG93KGEsMS43KX0scy5lYXNlaW49ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucG93KGEsLjQ4KX0scy5lYXNlaW5vdXQ9ZnVuY3Rpb24oYSl7aWYoMT09YSlyZXR1cm4gMTtpZigwPT1hKXJldHVybiAwO3ZhciBiPS40OC1hLzEuMDQsYz1NYXRoLnNxcnQoLjE3MzQrYipiKSxkPWMtYixlPU1hdGgucG93KE1hdGguYWJzKGQpLDEvMykqKDA+ZD8tMToxKSxmPS1jLWIsZz1NYXRoLnBvdyhNYXRoLmFicyhmKSwxLzMpKigwPmY/LTE6MSksaD1lK2crLjU7cmV0dXJuIDMqKDEtaCkqaCpoK2gqaCpofSxzLmJhY2tpbj1mdW5jdGlvbihhKXtpZigxPT1hKXJldHVybiAxO3ZhciBiPTEuNzAxNTg7cmV0dXJuIGEqYSooKGIrMSkqYS1iKX0scy5iYWNrb3V0PWZ1bmN0aW9uKGEpe2lmKDA9PWEpcmV0dXJuIDA7YS09MTt2YXIgYj0xLjcwMTU4O3JldHVybiBhKmEqKChiKzEpKmErYikrMX0scy5lbGFzdGljPWZ1bmN0aW9uKGEpe3JldHVybiBhPT0hIWE/YTpNYXRoLnBvdygyLC0xMCphKSpNYXRoLnNpbigoYS0uMDc1KSooMipNYXRoLlBJKS8uMykrMX0scy5ib3VuY2U9ZnVuY3Rpb24oYSl7dmFyIGIsYz03LjU2MjUsZD0yLjc1O3JldHVybiAxL2Q+YT9iPWMqYSphOjIvZD5hPyhhLT0xLjUvZCxiPWMqYSphKy43NSk6Mi41L2Q+YT8oYS09Mi4yNS9kLGI9YyphKmErLjkzNzUpOihhLT0yLjYyNS9kLGI9YyphKmErLjk4NDM3NSksYn0sYS5taW5hPXMsc30oInVuZGVmaW5lZCI9PXR5cGVvZiBiP2Z1bmN0aW9uKCl7fTpiKSxkPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSxiKXtpZihhKXtpZihhLm5vZGVUeXBlKXJldHVybiB3KGEpO2lmKGUoYSwiYXJyYXkiKSYmYy5zZXQpcmV0dXJuIGMuc2V0LmFwcGx5KGMsYSk7aWYoYSBpbnN0YW5jZW9mIHMpcmV0dXJuIGE7aWYobnVsbD09YilyZXR1cm4gYT15LmRvYy5xdWVyeVNlbGVjdG9yKFN0cmluZyhhKSksdyhhKX1yZXR1cm4gYT1udWxsPT1hPyIxMDAlIjphLGI9bnVsbD09Yj8iMTAwJSI6YixuZXcgdihhLGIpfWZ1bmN0aW9uIGQoYSxiKXtpZihiKXtpZigiI3RleHQiPT1hJiYoYT15LmRvYy5jcmVhdGVUZXh0Tm9kZShiLnRleHR8fGJbIiN0ZXh0Il18fCIiKSksIiNjb21tZW50Ij09YSYmKGE9eS5kb2MuY3JlYXRlQ29tbWVudChiLnRleHR8fGJbIiN0ZXh0Il18fCIiKSksInN0cmluZyI9PXR5cGVvZiBhJiYoYT1kKGEpKSwic3RyaW5nIj09dHlwZW9mIGIpcmV0dXJuIDE9PWEubm9kZVR5cGU/InhsaW5rOiI9PWIuc3Vic3RyaW5nKDAsNik/YS5nZXRBdHRyaWJ1dGVOUyhULGIuc3Vic3RyaW5nKDYpKToieG1sOiI9PWIuc3Vic3RyaW5nKDAsNCk/YS5nZXRBdHRyaWJ1dGVOUyhVLGIuc3Vic3RyaW5nKDQpKTphLmdldEF0dHJpYnV0ZShiKToidGV4dCI9PWI/YS5ub2RlVmFsdWU6bnVsbDtpZigxPT1hLm5vZGVUeXBlKXtmb3IodmFyIGMgaW4gYilpZihiW3pdKGMpKXt2YXIgZT1BKGJbY10pO2U/InhsaW5rOiI9PWMuc3Vic3RyaW5nKDAsNik/YS5zZXRBdHRyaWJ1dGVOUyhULGMuc3Vic3RyaW5nKDYpLGUpOiJ4bWw6Ij09Yy5zdWJzdHJpbmcoMCw0KT9hLnNldEF0dHJpYnV0ZU5TKFUsYy5zdWJzdHJpbmcoNCksZSk6YS5zZXRBdHRyaWJ1dGUoYyxlKTphLnJlbW92ZUF0dHJpYnV0ZShjKX19ZWxzZSJ0ZXh0ImluIGImJihhLm5vZGVWYWx1ZT1iLnRleHQpfWVsc2UgYT15LmRvYy5jcmVhdGVFbGVtZW50TlMoVSxhKTtyZXR1cm4gYX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGI9QS5wcm90b3R5cGUudG9Mb3dlckNhc2UuY2FsbChiKSwiZmluaXRlIj09Yj9pc0Zpbml0ZShhKToiYXJyYXkiPT1iJiYoYSBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5JiZBcnJheS5pc0FycmF5KGEpKT8hMDoibnVsbCI9PWImJm51bGw9PT1hfHxiPT10eXBlb2YgYSYmbnVsbCE9PWF8fCJvYmplY3QiPT1iJiZhPT09T2JqZWN0KGEpfHxKLmNhbGwoYSkuc2xpY2UoOCwtMSkudG9Mb3dlckNhc2UoKT09Yn1mdW5jdGlvbiBmKGEpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBhfHxPYmplY3QoYSkhPT1hKXJldHVybiBhO3ZhciBiPW5ldyBhLmNvbnN0cnVjdG9yO2Zvcih2YXIgYyBpbiBhKWFbel0oYykmJihiW2NdPWYoYVtjXSkpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspaWYoYVtjXT09PWIpcmV0dXJuIGEucHVzaChhLnNwbGljZShjLDEpWzBdKX1mdW5jdGlvbiBpKGEsYixjKXtmdW5jdGlvbiBkKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLGY9ZS5qb2luKCLikIAiKSxnPWQuY2FjaGU9ZC5jYWNoZXx8e30saT1kLmNvdW50PWQuY291bnR8fFtdO3JldHVybiBnW3pdKGYpPyhoKGksZiksYz9jKGdbZl0pOmdbZl0pOihpLmxlbmd0aD49MWUzJiZkZWxldGUgZ1tpLnNoaWZ0KCldLGkucHVzaChmKSxnW2ZdPWEuYXBwbHkoYixlKSxjP2MoZ1tmXSk6Z1tmXSl9cmV0dXJuIGR9ZnVuY3Rpb24gaihhLGIsYyxkLGUsZil7aWYobnVsbD09ZSl7dmFyIGc9YS1jLGg9Yi1kO3JldHVybiBnfHxoPygxODArMTgwKkQuYXRhbjIoLWgsLWcpL0grMzYwKSUzNjA6MH1yZXR1cm4gaihhLGIsZSxmKS1qKGMsZCxlLGYpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIGElMzYwKkgvMTgwfWZ1bmN0aW9uIGwoYSl7cmV0dXJuIDE4MCphL0glMzYwfWZ1bmN0aW9uIG0oYSl7dmFyIGI9W107cmV0dXJuIGE9YS5yZXBsYWNlKC8oPzpefFxzKShcdyspXCgoW14pXSspXCkvZyxmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGQ9ZC5zcGxpdCgvXHMqLFxzKnxccysvKSwicm90YXRlIj09YyYmMT09ZC5sZW5ndGgmJmQucHVzaCgwLDApLCJzY2FsZSI9PWMmJihkLmxlbmd0aD4yP2Q9ZC5zbGljZSgwLDIpOjI9PWQubGVuZ3RoJiZkLnB1c2goMCwwKSwxPT1kLmxlbmd0aCYmZC5wdXNoKGRbMF0sMCwwKSksInNrZXdYIj09Yz9iLnB1c2goWyJtIiwxLDAsRC50YW4oayhkWzBdKSksMSwwLDBdKToic2tld1kiPT1jP2IucHVzaChbIm0iLDEsRC50YW4oayhkWzBdKSksMCwxLDAsMF0pOmIucHVzaChbYy5jaGFyQXQoMCldLmNvbmNhdChkKSksYX0pLGJ9ZnVuY3Rpb24gbihhLGIpe3ZhciBkPWFhKGEpLGU9bmV3IGMuTWF0cml4O2lmKGQpZm9yKHZhciBmPTAsZz1kLmxlbmd0aDtnPmY7ZisrKXt2YXIgaCxpLGosayxsLG09ZFtmXSxuPW0ubGVuZ3RoLG89QShtWzBdKS50b0xvd2VyQ2FzZSgpLHA9bVswXSE9byxxPXA/ZS5pbnZlcnQoKTowOyJ0Ij09byYmMj09bj9lLnRyYW5zbGF0ZShtWzFdLDApOiJ0Ij09byYmMz09bj9wPyhoPXEueCgwLDApLGk9cS55KDAsMCksaj1xLngobVsxXSxtWzJdKSxrPXEueShtWzFdLG1bMl0pLGUudHJhbnNsYXRlKGotaCxrLWkpKTplLnRyYW5zbGF0ZShtWzFdLG1bMl0pOiJyIj09bz8yPT1uPyhsPWx8fGIsZS5yb3RhdGUobVsxXSxsLngrbC53aWR0aC8yLGwueStsLmhlaWdodC8yKSk6ND09biYmKHA/KGo9cS54KG1bMl0sbVszXSksaz1xLnkobVsyXSxtWzNdKSxlLnJvdGF0ZShtWzFdLGosaykpOmUucm90YXRlKG1bMV0sbVsyXSxtWzNdKSk6InMiPT1vPzI9PW58fDM9PW4/KGw9bHx8YixlLnNjYWxlKG1bMV0sbVtuLTFdLGwueCtsLndpZHRoLzIsbC55K2wuaGVpZ2h0LzIpKTo0PT1uP3A/KGo9cS54KG1bMl0sbVszXSksaz1xLnkobVsyXSxtWzNdKSxlLnNjYWxlKG1bMV0sbVsxXSxqLGspKTplLnNjYWxlKG1bMV0sbVsxXSxtWzJdLG1bM10pOjU9PW4mJihwPyhqPXEueChtWzNdLG1bNF0pLGs9cS55KG1bM10sbVs0XSksZS5zY2FsZShtWzFdLG1bMl0saixrKSk6ZS5zY2FsZShtWzFdLG1bMl0sbVszXSxtWzRdKSk6Im0iPT1vJiY3PT1uJiZlLmFkZChtWzFdLG1bMl0sbVszXSxtWzRdLG1bNV0sbVs2XSl9cmV0dXJuIGV9ZnVuY3Rpb24gbyhhKXt2YXIgYj1hLm5vZGUub3duZXJTVkdFbGVtZW50JiZ3KGEubm9kZS5vd25lclNWR0VsZW1lbnQpfHxhLm5vZGUucGFyZW50Tm9kZSYmdyhhLm5vZGUucGFyZW50Tm9kZSl8fGMuc2VsZWN0KCJzdmciKXx8YygwLDApLGQ9Yi5zZWxlY3QoImRlZnMiKSxlPW51bGw9PWQ/ITE6ZC5ub2RlO3JldHVybiBlfHwoZT11KCJkZWZzIixiLm5vZGUpLm5vZGUpLGV9ZnVuY3Rpb24gcChhKXtyZXR1cm4gYS5ub2RlLm93bmVyU1ZHRWxlbWVudCYmdyhhLm5vZGUub3duZXJTVkdFbGVtZW50KXx8Yy5zZWxlY3QoInN2ZyIpfWZ1bmN0aW9uIHEoYSxiLGMpe2Z1bmN0aW9uIGUoYSl7aWYobnVsbD09YSlyZXR1cm4gSTtpZihhPT0rYSlyZXR1cm4gYTtkKGose3dpZHRoOmF9KTt0cnl7cmV0dXJuIGouZ2V0QkJveCgpLndpZHRofWNhdGNoKGIpe3JldHVybiAwfX1mdW5jdGlvbiBmKGEpe2lmKG51bGw9PWEpcmV0dXJuIEk7aWYoYT09K2EpcmV0dXJuIGE7ZChqLHtoZWlnaHQ6YX0pO3RyeXtyZXR1cm4gai5nZXRCQm94KCkuaGVpZ2h0fWNhdGNoKGIpe3JldHVybiAwfX1mdW5jdGlvbiBnKGQsZSl7bnVsbD09Yj9pW2RdPWUoYS5hdHRyKGQpfHwwKTpkPT1iJiYoaT1lKG51bGw9PWM/YS5hdHRyKGQpfHwwOmMpKX12YXIgaD1wKGEpLm5vZGUsaT17fSxqPWgucXVlcnlTZWxlY3RvcigiLnN2Zy0tLW1nciIpO3N3aXRjaChqfHwoaj1kKCJyZWN0IiksZChqLHt4Oi05ZTkseTotOWU5LHdpZHRoOjEwLGhlaWdodDoxMCwiY2xhc3MiOiJzdmctLS1tZ3IiLGZpbGw6Im5vbmUifSksaC5hcHBlbmRDaGlsZChqKSksYS50eXBlKXtjYXNlInJlY3QiOmcoInJ4IixlKSxnKCJyeSIsZik7Y2FzZSJpbWFnZSI6Zygid2lkdGgiLGUpLGcoImhlaWdodCIsZik7Y2FzZSJ0ZXh0IjpnKCJ4IixlKSxnKCJ5IixmKTticmVhaztjYXNlImNpcmNsZSI6ZygiY3giLGUpLGcoImN5IixmKSxnKCJyIixlKTticmVhaztjYXNlImVsbGlwc2UiOmcoImN4IixlKSxnKCJjeSIsZiksZygicngiLGUpLGcoInJ5IixmKTticmVhaztjYXNlImxpbmUiOmcoIngxIixlKSxnKCJ4MiIsZSksZygieTEiLGYpLGcoInkyIixmKTticmVhaztjYXNlIm1hcmtlciI6ZygicmVmWCIsZSksZygibWFya2VyV2lkdGgiLGUpLGcoInJlZlkiLGYpLGcoIm1hcmtlckhlaWdodCIsZik7YnJlYWs7Y2FzZSJyYWRpYWxHcmFkaWVudCI6ZygiZngiLGUpLGcoImZ5IixmKTticmVhaztjYXNlInRzcGFuIjpnKCJkeCIsZSksZygiZHkiLGYpO2JyZWFrO2RlZmF1bHQ6ZyhiLGUpfXJldHVybiBoLnJlbW92ZUNoaWxkKGopLGl9ZnVuY3Rpb24gcihhKXtlKGEsImFycmF5Iil8fChhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSk7Zm9yKHZhciBiPTAsYz0wLGQ9dGhpcy5ub2RlO3RoaXNbYl07KWRlbGV0ZSB0aGlzW2IrK107Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKykic2V0Ij09YVtiXS50eXBlP2FbYl0uZm9yRWFjaChmdW5jdGlvbihhKXtkLmFwcGVuZENoaWxkKGEubm9kZSl9KTpkLmFwcGVuZENoaWxkKGFbYl0ubm9kZSk7dmFyIGY9ZC5jaGlsZE5vZGVzO2ZvcihiPTA7YjxmLmxlbmd0aDtiKyspdGhpc1tjKytdPXcoZltiXSk7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gcyhhKXtpZihhLnNuYXAgaW4gVilyZXR1cm4gVlthLnNuYXBdO3ZhciBiO3RyeXtiPWEub3duZXJTVkdFbGVtZW50fWNhdGNoKGMpe310aGlzLm5vZGU9YSxiJiYodGhpcy5wYXBlcj1uZXcgdihiKSksdGhpcy50eXBlPWEudGFnTmFtZXx8YS5ub2RlTmFtZTt2YXIgZD10aGlzLmlkPVModGhpcyk7aWYodGhpcy5hbmltcz17fSx0aGlzLl89e3RyYW5zZm9ybTpbXX0sYS5zbmFwPWQsVltkXT10aGlzLCJnIj09dGhpcy50eXBlJiYodGhpcy5hZGQ9ciksdGhpcy50eXBlIGlue2c6MSxtYXNrOjEscGF0dGVybjoxLHN5bWJvbDoxfSlmb3IodmFyIGUgaW4gdi5wcm90b3R5cGUpdi5wcm90b3R5cGVbel0oZSkmJih0aGlzW2VdPXYucHJvdG90eXBlW2VdKX1mdW5jdGlvbiB0KGEpe3RoaXMubm9kZT1hfWZ1bmN0aW9uIHUoYSxiKXt2YXIgYz1kKGEpO2IuYXBwZW5kQ2hpbGQoYyk7dmFyIGU9dyhjKTtyZXR1cm4gZX1mdW5jdGlvbiB2KGEsYil7dmFyIGMsZSxmLGc9di5wcm90b3R5cGU7aWYoYSYmYS50YWdOYW1lJiYic3ZnIj09YS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpe2lmKGEuc25hcCBpbiBWKXJldHVybiBWW2Euc25hcF07dmFyIGg9YS5vd25lckRvY3VtZW50O2M9bmV3IHMoYSksZT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZXNjIilbMF0sZj1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZWZzIilbMF0sZXx8KGU9ZCgiZGVzYyIpLGUuYXBwZW5kQ2hpbGQoaC5jcmVhdGVUZXh0Tm9kZSgiQ3JlYXRlZCB3aXRoIFNuYXAiKSksYy5ub2RlLmFwcGVuZENoaWxkKGUpKSxmfHwoZj1kKCJkZWZzIiksYy5ub2RlLmFwcGVuZENoaWxkKGYpKSxjLmRlZnM9Zjtmb3IodmFyIGkgaW4gZylnW3pdKGkpJiYoY1tpXT1nW2ldKTtjLnBhcGVyPWMucm9vdD1jfWVsc2UgYz11KCJzdmciLHkuZG9jLmJvZHkpLGQoYy5ub2RlLHtoZWlnaHQ6Yix2ZXJzaW9uOjEuMSx3aWR0aDphLHhtbG5zOlV9KTtyZXR1cm4gY31mdW5jdGlvbiB3KGEpe3JldHVybiBhP2EgaW5zdGFuY2VvZiBzfHxhIGluc3RhbmNlb2YgdD9hOmEudGFnTmFtZSYmInN2ZyI9PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpP25ldyB2KGEpOmEudGFnTmFtZSYmIm9iamVjdCI9PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYiaW1hZ2Uvc3ZnK3htbCI9PWEudHlwZT9uZXcgdihhLmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3ZnIilbMF0pOm5ldyBzKGEpOmF9ZnVuY3Rpb24geChhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKyl7dmFyIGU9e3R5cGU6YVtjXS50eXBlLGF0dHI6YVtjXS5hdHRyKCl9LGY9YVtjXS5jaGlsZHJlbigpO2IucHVzaChlKSxmLmxlbmd0aCYmeChmLGUuY2hpbGROb2Rlcz1bXSl9fWMudmVyc2lvbj0iMC41LjEiLGMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iU25hcCB2Iit0aGlzLnZlcnNpb259LGMuXz17fTt2YXIgeT17d2luOmEud2luZG93LGRvYzphLndpbmRvdy5kb2N1bWVudH07Yy5fLmdsb2I9eTt2YXIgej0iaGFzT3duUHJvcGVydHkiLEE9U3RyaW5nLEI9cGFyc2VGbG9hdCxDPXBhcnNlSW50LEQ9TWF0aCxFPUQubWF4LEY9RC5taW4sRz1ELmFicyxIPShELnBvdyxELlBJKSxJPShELnJvdW5kLCIiKSxKPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsSz0vXlxzKigoI1thLWZcZF17Nn0pfCgjW2EtZlxkXXszfSl8cmdiYT9cKFxzKihbXGRcLl0rJT9ccyosXHMqW1xkXC5dKyU/XHMqLFxzKltcZFwuXSslPyg/OlxzKixccypbXGRcLl0rJT8pPylccypcKXxoc2JhP1woXHMqKFtcZFwuXSsoPzpkZWd8XHhiMHwlKT9ccyosXHMqW1xkXC5dKyU/XHMqLFxzKltcZFwuXSsoPzolP1xzKixccypbXGRcLl0rKT8lPylccypcKXxoc2xhP1woXHMqKFtcZFwuXSsoPzpkZWd8XHhiMHwlKT9ccyosXHMqW1xkXC5dKyU/XHMqLFxzKltcZFwuXSsoPzolP1xzKixccypbXGRcLl0rKT8lPylccypcKSlccyokL2ksTD0oYy5fLnNlcGFyYXRvcj0vWyxcc10rLywvW1xzXSosW1xzXSovKSxNPXtoczoxLHJnOjF9LE49LyhbYS16XSlbXHMsXSooKC0/XGQqXC4/XGQqKD86ZVtcLStdP1xkKyk/W1xzXSosP1tcc10qKSspL2dpLE89LyhbcnN0bV0pW1xzLF0qKCgtP1xkKlwuP1xkKig/OmVbXC0rXT9cZCspP1tcc10qLD9bXHNdKikrKS9naSxQPS8oLT9cZCpcLj9cZCooPzplW1wtK10/XGQrKT8pW1xzXSosP1tcc10qL2dpLFE9MCxSPSJTIisoK25ldyBEYXRlKS50b1N0cmluZygzNiksUz1mdW5jdGlvbihhKXtyZXR1cm4oYSYmYS50eXBlP2EudHlwZTpJKStSKyhRKyspLnRvU3RyaW5nKDM2KX0sVD0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsVT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLFY9e307Yy51cmw9ZnVuY3Rpb24oYSl7cmV0dXJuInVybCgnIyIrYSsiJykifTtjLl8uJD1kLGMuXy5pZD1TLGMuZm9ybWF0PWZ1bmN0aW9uKCl7dmFyIGE9L1x7KFteXH1dKylcfS9nLGI9Lyg/Oig/Ol58XC4pKC4rPykoPz1cW3xcLnwkfFwoKXxcWygnfCIpKC4rPylcMlxdKShcKFwpKT8vZyxjPWZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kO3JldHVybiBjLnJlcGxhY2UoYixmdW5jdGlvbihhLGIsYyxkLGYpe2I9Ynx8ZCxlJiYoYiBpbiBlJiYoZT1lW2JdKSwiZnVuY3Rpb24iPT10eXBlb2YgZSYmZiYmKGU9ZSgpKSl9KSxlPShudWxsPT1lfHxlPT1kP2E6ZSkrIiJ9O3JldHVybiBmdW5jdGlvbihiLGQpe3JldHVybiBBKGIpLnJlcGxhY2UoYSxmdW5jdGlvbihhLGIpe3JldHVybiBjKGEsYixkKX0pfX0oKSxjLl8uY2xvbmU9ZixjLl8uY2FjaGVyPWksYy5yYWQ9ayxjLmRlZz1sLGMuc2luPWZ1bmN0aW9uKGEpe3JldHVybiBELnNpbihjLnJhZChhKSl9LGMudGFuPWZ1bmN0aW9uKGEpe3JldHVybiBELnRhbihjLnJhZChhKSl9LGMuY29zPWZ1bmN0aW9uKGEpe3JldHVybiBELmNvcyhjLnJhZChhKSl9LGMuYXNpbj1mdW5jdGlvbihhKXtyZXR1cm4gYy5kZWcoRC5hc2luKGEpKX0sYy5hY29zPWZ1bmN0aW9uKGEpe3JldHVybiBjLmRlZyhELmFjb3MoYSkpfSxjLmF0YW49ZnVuY3Rpb24oYSl7cmV0dXJuIGMuZGVnKEQuYXRhbihhKSl9LGMuYXRhbjI9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuZGVnKEQuYXRhbjIoYSkpfSxjLmFuZ2xlPWosYy5sZW49ZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuIE1hdGguc3FydChjLmxlbjIoYSxiLGQsZSkpfSxjLmxlbjI9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuKGEtYykqKGEtYykrKGItZCkqKGItZCl9LGMuY2xvc2VzdFBvaW50PWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe3ZhciBkPWEueC1iLGU9YS55LWM7cmV0dXJuIGQqZCtlKmV9Zm9yKHZhciBlLGYsZyxoLGk9YS5ub2RlLGo9aS5nZXRUb3RhbExlbmd0aCgpLGs9ai9pLnBhdGhTZWdMaXN0Lm51bWJlck9mSXRlbXMqLjEyNSxsPTEvMCxtPTA7aj49bTttKz1rKShoPWQoZz1pLmdldFBvaW50QXRMZW5ndGgobSkpKTxsJiYoZT1nLGY9bSxsPWgpO2ZvcihrKj0uNTtrPi41Oyl7dmFyIG4sbyxwLHEscixzOyhwPWYtayk+PTAmJihyPWQobj1pLmdldFBvaW50QXRMZW5ndGgocCkpKTxsPyhlPW4sZj1wLGw9cik6KHE9ZitrKTw9aiYmKHM9ZChvPWkuZ2V0UG9pbnRBdExlbmd0aChxKSkpPGw/KGU9byxmPXEsbD1zKTprKj0uNX1yZXR1cm4gZT17eDplLngseTplLnksbGVuZ3RoOmYsZGlzdGFuY2U6TWF0aC5zcXJ0KGwpfX0sYy5pcz1lLGMuc25hcFRvPWZ1bmN0aW9uKGEsYixjKXtpZihjPWUoYywiZmluaXRlIik/YzoxMCxlKGEsImFycmF5Iikpe2Zvcih2YXIgZD1hLmxlbmd0aDtkLS07KWlmKEcoYVtkXS1iKTw9YylyZXR1cm4gYVtkXX1lbHNle2E9K2E7dmFyIGY9YiVhO2lmKGM+ZilyZXR1cm4gYi1mO2lmKGY+YS1jKXJldHVybiBiLWYrYX1yZXR1cm4gYn0sYy5nZXRSR0I9aShmdW5jdGlvbihhKXtpZighYXx8KGE9QShhKSkuaW5kZXhPZigiLSIpKzEpcmV0dXJue3I6LTEsZzotMSxiOi0xLGhleDoibm9uZSIsZXJyb3I6MSx0b1N0cmluZzpafTtpZigibm9uZSI9PWEpcmV0dXJue3I6LTEsZzotMSxiOi0xLGhleDoibm9uZSIsdG9TdHJpbmc6Wn07aWYoIShNW3pdKGEudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCwyKSl8fCIjIj09YS5jaGFyQXQoKSkmJihhPVcoYSkpLCFhKXJldHVybntyOi0xLGc6LTEsYjotMSxoZXg6Im5vbmUiLGVycm9yOjEsdG9TdHJpbmc6Wn07dmFyIGIsZCxmLGcsaCxpLGo9YS5tYXRjaChLKTtyZXR1cm4gaj8oalsyXSYmKGY9QyhqWzJdLnN1YnN0cmluZyg1KSwxNiksZD1DKGpbMl0uc3Vic3RyaW5nKDMsNSksMTYpLGI9QyhqWzJdLnN1YnN0cmluZygxLDMpLDE2KSksalszXSYmKGY9QygoaD1qWzNdLmNoYXJBdCgzKSkraCwxNiksZD1DKChoPWpbM10uY2hhckF0KDIpKStoLDE2KSxiPUMoKGg9alszXS5jaGFyQXQoMSkpK2gsMTYpKSxqWzRdJiYoaT1qWzRdLnNwbGl0KEwpLGI9QihpWzBdKSwiJSI9PWlbMF0uc2xpY2UoLTEpJiYoYio9Mi41NSksZD1CKGlbMV0pLCIlIj09aVsxXS5zbGljZSgtMSkmJihkKj0yLjU1KSxmPUIoaVsyXSksIiUiPT1pWzJdLnNsaWNlKC0xKSYmKGYqPTIuNTUpLCJyZ2JhIj09alsxXS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsNCkmJihnPUIoaVszXSkpLGlbM10mJiIlIj09aVszXS5zbGljZSgtMSkmJihnLz0xMDApKSxqWzVdPyhpPWpbNV0uc3BsaXQoTCksYj1CKGlbMF0pLCIlIj09aVswXS5zbGljZSgtMSkmJihiLz0xMDApLGQ9QihpWzFdKSwiJSI9PWlbMV0uc2xpY2UoLTEpJiYoZC89MTAwKSxmPUIoaVsyXSksIiUiPT1pWzJdLnNsaWNlKC0xKSYmKGYvPTEwMCksKCJkZWciPT1pWzBdLnNsaWNlKC0zKXx8IsKwIj09aVswXS5zbGljZSgtMSkpJiYoYi89MzYwKSwiaHNiYSI9PWpbMV0udG9Mb3dlckNhc2UoKS5zbGljZSgwLDQpJiYoZz1CKGlbM10pKSxpWzNdJiYiJSI9PWlbM10uc2xpY2UoLTEpJiYoZy89MTAwKSxjLmhzYjJyZ2IoYixkLGYsZykpOmpbNl0/KGk9als2XS5zcGxpdChMKSxiPUIoaVswXSksIiUiPT1pWzBdLnNsaWNlKC0xKSYmKGIvPTEwMCksZD1CKGlbMV0pLCIlIj09aVsxXS5zbGljZSgtMSkmJihkLz0xMDApLGY9QihpWzJdKSwiJSI9PWlbMl0uc2xpY2UoLTEpJiYoZi89MTAwKSwoImRlZyI9PWlbMF0uc2xpY2UoLTMpfHwiwrAiPT1pWzBdLnNsaWNlKC0xKSkmJihiLz0zNjApLCJoc2xhIj09alsxXS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsNCkmJihnPUIoaVszXSkpLGlbM10mJiIlIj09aVszXS5zbGljZSgtMSkmJihnLz0xMDApLGMuaHNsMnJnYihiLGQsZixnKSk6KGI9RihELnJvdW5kKGIpLDI1NSksZD1GKEQucm91bmQoZCksMjU1KSxmPUYoRC5yb3VuZChmKSwyNTUpLGc9RihFKGcsMCksMSksaj17cjpiLGc6ZCxiOmYsdG9TdHJpbmc6Wn0sai5oZXg9IiMiKygxNjc3NzIxNnxmfGQ8PDh8Yjw8MTYpLnRvU3RyaW5nKDE2KS5zbGljZSgxKSxqLm9wYWNpdHk9ZShnLCJmaW5pdGUiKT9nOjEsaikpOntyOi0xLGc6LTEsYjotMSxoZXg6Im5vbmUiLGVycm9yOjEsdG9TdHJpbmc6Wn19LGMpLGMuaHNiPWkoZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjLmhzYjJyZ2IoYSxiLGQpLmhleH0pLGMuaHNsPWkoZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjLmhzbDJyZ2IoYSxiLGQpLmhleH0pLGMucmdiPWkoZnVuY3Rpb24oYSxiLGMsZCl7aWYoZShkLCJmaW5pdGUiKSl7dmFyIGY9RC5yb3VuZDtyZXR1cm4icmdiYSgiK1tmKGEpLGYoYiksZihjKSwrZC50b0ZpeGVkKDIpXSsiKSJ9cmV0dXJuIiMiKygxNjc3NzIxNnxjfGI8PDh8YTw8MTYpLnRvU3RyaW5nKDE2KS5zbGljZSgxKX0pO3ZhciBXPWZ1bmN0aW9uKGEpe3ZhciBiPXkuZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fHkuZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdmciKVswXSxjPSJyZ2IoMjU1LCAwLCAwKSI7cmV0dXJuKFc9aShmdW5jdGlvbihhKXtpZigicmVkIj09YS50b0xvd2VyQ2FzZSgpKXJldHVybiBjO2Iuc3R5bGUuY29sb3I9YyxiLnN0eWxlLmNvbG9yPWE7dmFyIGQ9eS5kb2MuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShiLEkpLmdldFByb3BlcnR5VmFsdWUoImNvbG9yIik7cmV0dXJuIGQ9PWM/bnVsbDpkfSkpKGEpfSxYPWZ1bmN0aW9uKCl7cmV0dXJuImhzYigiK1t0aGlzLmgsdGhpcy5zLHRoaXMuYl0rIikifSxZPWZ1bmN0aW9uKCl7cmV0dXJuImhzbCgiK1t0aGlzLmgsdGhpcy5zLHRoaXMubF0rIikifSxaPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PXRoaXMub3BhY2l0eXx8bnVsbD09dGhpcy5vcGFjaXR5P3RoaXMuaGV4OiJyZ2JhKCIrW3RoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMub3BhY2l0eV0rIikifSwkPWZ1bmN0aW9uKGEsYixkKXtpZihudWxsPT1iJiZlKGEsIm9iamVjdCIpJiYiciJpbiBhJiYiZyJpbiBhJiYiYiJpbiBhJiYoZD1hLmIsYj1hLmcsYT1hLnIpLG51bGw9PWImJmUoYSxzdHJpbmcpKXt2YXIgZj1jLmdldFJHQihhKTthPWYucixiPWYuZyxkPWYuYn1yZXR1cm4oYT4xfHxiPjF8fGQ+MSkmJihhLz0yNTUsYi89MjU1LGQvPTI1NSksW2EsYixkXX0sXz1mdW5jdGlvbihhLGIsZCxmKXthPUQucm91bmQoMjU1KmEpLGI9RC5yb3VuZCgyNTUqYiksZD1ELnJvdW5kKDI1NSpkKTt2YXIgZz17cjphLGc6YixiOmQsb3BhY2l0eTplKGYsImZpbml0ZSIpP2Y6MSxoZXg6Yy5yZ2IoYSxiLGQpLHRvU3RyaW5nOlp9O3JldHVybiBlKGYsImZpbml0ZSIpJiYoZy5vcGFjaXR5PWYpLGd9O2MuY29sb3I9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGUoYSwib2JqZWN0IikmJiJoImluIGEmJiJzImluIGEmJiJiImluIGE/KGI9Yy5oc2IycmdiKGEpLGEucj1iLnIsYS5nPWIuZyxhLmI9Yi5iLGEub3BhY2l0eT0xLGEuaGV4PWIuaGV4KTplKGEsIm9iamVjdCIpJiYiaCJpbiBhJiYicyJpbiBhJiYibCJpbiBhPyhiPWMuaHNsMnJnYihhKSxhLnI9Yi5yLGEuZz1iLmcsYS5iPWIuYixhLm9wYWNpdHk9MSxhLmhleD1iLmhleCk6KGUoYSwic3RyaW5nIikmJihhPWMuZ2V0UkdCKGEpKSxlKGEsIm9iamVjdCIpJiYiciJpbiBhJiYiZyJpbiBhJiYiYiJpbiBhJiYhKCJlcnJvciJpbiBhKT8oYj1jLnJnYjJoc2woYSksYS5oPWIuaCxhLnM9Yi5zLGEubD1iLmwsYj1jLnJnYjJoc2IoYSksYS52PWIuYik6KGE9e2hleDoibm9uZSJ9LGEucj1hLmc9YS5iPWEuaD1hLnM9YS52PWEubD0tMSxhLmVycm9yPTEpKSxhLnRvU3RyaW5nPVosYX0sYy5oc2IycmdiPWZ1bmN0aW9uKGEsYixjLGQpe2UoYSwib2JqZWN0IikmJiJoImluIGEmJiJzImluIGEmJiJiImluIGEmJihjPWEuYixiPWEucyxkPWEubyxhPWEuaCksYSo9MzYwO3ZhciBmLGcsaCxpLGo7cmV0dXJuIGE9YSUzNjAvNjAsaj1jKmIsaT1qKigxLUcoYSUyLTEpKSxmPWc9aD1jLWosYT1+fmEsZis9W2osaSwwLDAsaSxqXVthXSxnKz1baSxqLGosaSwwLDBdW2FdLGgrPVswLDAsaSxqLGosaV1bYV0sXyhmLGcsaCxkKX0sYy5oc2wycmdiPWZ1bmN0aW9uKGEsYixjLGQpe2UoYSwib2JqZWN0IikmJiJoImluIGEmJiJzImluIGEmJiJsImluIGEmJihjPWEubCxiPWEucyxhPWEuaCksKGE+MXx8Yj4xfHxjPjEpJiYoYS89MzYwLGIvPTEwMCxjLz0xMDApLGEqPTM2MDt2YXIgZixnLGgsaSxqO3JldHVybiBhPWElMzYwLzYwLGo9MipiKiguNT5jP2M6MS1jKSxpPWoqKDEtRyhhJTItMSkpLGY9Zz1oPWMtai8yLGE9fn5hLGYrPVtqLGksMCwwLGksal1bYV0sZys9W2ksaixqLGksMCwwXVthXSxoKz1bMCwwLGksaixqLGldW2FdLF8oZixnLGgsZCl9LGMucmdiMmhzYj1mdW5jdGlvbihhLGIsYyl7Yz0kKGEsYixjKSxhPWNbMF0sYj1jWzFdLGM9Y1syXTt2YXIgZCxlLGYsZztyZXR1cm4gZj1FKGEsYixjKSxnPWYtRihhLGIsYyksZD0wPT1nP251bGw6Zj09YT8oYi1jKS9nOmY9PWI/KGMtYSkvZysyOihhLWIpL2crNCxkPShkKzM2MCklNio2MC8zNjAsZT0wPT1nPzA6Zy9mLHtoOmQsczplLGI6Zix0b1N0cmluZzpYfX0sYy5yZ2IyaHNsPWZ1bmN0aW9uKGEsYixjKXtjPSQoYSxiLGMpLGE9Y1swXSxiPWNbMV0sYz1jWzJdO3ZhciBkLGUsZixnLGgsaTtyZXR1cm4gZz1FKGEsYixjKSxoPUYoYSxiLGMpLGk9Zy1oLGQ9MD09aT9udWxsOmc9PWE/KGItYykvaTpnPT1iPyhjLWEpL2krMjooYS1iKS9pKzQsZD0oZCszNjApJTYqNjAvMzYwLGY9KGcraCkvMixlPTA9PWk/MDouNT5mP2kvKDIqZik6aS8oMi0yKmYpLHtoOmQsczplLGw6Zix0b1N0cmluZzpZfX0sYy5wYXJzZVBhdGhTdHJpbmc9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9Yy5wYXRoKGEpO2lmKGIuYXJyKXJldHVybiBjLnBhdGguY2xvbmUoYi5hcnIpO3ZhciBkPXthOjcsYzo2LG86MixoOjEsbDoyLG06MixyOjQscTo0LHM6NCx0OjIsdjoxLHU6Myx6OjB9LGY9W107cmV0dXJuIGUoYSwiYXJyYXkiKSYmZShhWzBdLCJhcnJheSIpJiYoZj1jLnBhdGguY2xvbmUoYSkpLGYubGVuZ3RofHxBKGEpLnJlcGxhY2UoTixmdW5jdGlvbihhLGIsYyl7dmFyIGU9W10sZz1iLnRvTG93ZXJDYXNlKCk7aWYoYy5yZXBsYWNlKFAsZnVuY3Rpb24oYSxiKXtiJiZlLnB1c2goK2IpfSksIm0iPT1nJiZlLmxlbmd0aD4yJiYoZi5wdXNoKFtiXS5jb25jYXQoZS5zcGxpY2UoMCwyKSkpLGc9ImwiLGI9Im0iPT1iPyJsIjoiTCIpLCJvIj09ZyYmMT09ZS5sZW5ndGgmJmYucHVzaChbYixlWzBdXSksInIiPT1nKWYucHVzaChbYl0uY29uY2F0KGUpKTtlbHNlIGZvcig7ZS5sZW5ndGg+PWRbZ10mJihmLnB1c2goW2JdLmNvbmNhdChlLnNwbGljZSgwLGRbZ10pKSksZFtnXSk7KTt9KSxmLnRvU3RyaW5nPWMucGF0aC50b1N0cmluZyxiLmFycj1jLnBhdGguY2xvbmUoZiksZn07dmFyIGFhPWMucGFyc2VUcmFuc2Zvcm1TdHJpbmc9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9W107cmV0dXJuIGUoYSwiYXJyYXkiKSYmZShhWzBdLCJhcnJheSIpJiYoYj1jLnBhdGguY2xvbmUoYSkpLGIubGVuZ3RofHxBKGEpLnJlcGxhY2UoTyxmdW5jdGlvbihhLGMsZCl7dmFyIGU9W107Yy50b0xvd2VyQ2FzZSgpO2QucmVwbGFjZShQLGZ1bmN0aW9uKGEsYil7YiYmZS5wdXNoKCtiKX0pLGIucHVzaChbY10uY29uY2F0KGUpKX0pLGIudG9TdHJpbmc9Yy5wYXRoLnRvU3RyaW5nLGJ9O2MuXy5zdmdUcmFuc2Zvcm0yc3RyaW5nPW0sYy5fLnJnVHJhbnNmb3JtPS9eW2Etel1bXHNdKi0/XC4/XGQvaSxjLl8udHJhbnNmb3JtMm1hdHJpeD1uLGMuX3VuaXQycHg9cTt5LmRvYy5jb250YWluc3x8eS5kb2MuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsZD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PWR8fCEoIWR8fDEhPWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKWZvcig7YjspaWYoYj1iLnBhcmVudE5vZGUsYj09YSlyZXR1cm4hMDtyZXR1cm4hMX07Yy5fLmdldFNvbWVEZWZzPW8sYy5fLmdldFNvbWVTVkc9cCxjLnNlbGVjdD1mdW5jdGlvbihhKXtyZXR1cm4gYT1BKGEpLnJlcGxhY2UoLyhbXlxcXSk6L2csIiQxXFw6Iiksdyh5LmRvYy5xdWVyeVNlbGVjdG9yKGEpKX0sYy5zZWxlY3RBbGw9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXkuZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoYSksZD0oYy5zZXR8fEFycmF5KSgpLGU9MDtlPGIubGVuZ3RoO2UrKylkLnB1c2godyhiW2VdKSk7cmV0dXJuIGR9LHNldEludGVydmFsKGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIFYpaWYoVlt6XShhKSl7dmFyIGI9VlthXSxjPWIubm9kZTsoInN2ZyIhPWIudHlwZSYmIWMub3duZXJTVkdFbGVtZW50fHwic3ZnIj09Yi50eXBlJiYoIWMucGFyZW50Tm9kZXx8Im93bmVyU1ZHRWxlbWVudCJpbiBjLnBhcmVudE5vZGUmJiFjLm93bmVyU1ZHRWxlbWVudCkpJiZkZWxldGUgVlthXX19LDFlNCkscy5wcm90b3R5cGUuYXR0cj1mdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMsZj1kLm5vZGU7aWYoIWEpe2lmKDEhPWYubm9kZVR5cGUpcmV0dXJue3RleHQ6Zi5ub2RlVmFsdWV9O2Zvcih2YXIgZz1mLmF0dHJpYnV0ZXMsaD17fSxpPTAsaj1nLmxlbmd0aDtqPmk7aSsrKWhbZ1tpXS5ub2RlTmFtZV09Z1tpXS5ub2RlVmFsdWU7cmV0dXJuIGh9aWYoZShhLCJzdHJpbmciKSl7aWYoIShhcmd1bWVudHMubGVuZ3RoPjEpKXJldHVybiBiKCJzbmFwLnV0aWwuZ2V0YXR0ci4iK2EsZCkuZmlyc3REZWZpbmVkKCk7dmFyIGs9e307a1thXT1jLGE9a31mb3IodmFyIGwgaW4gYSlhW3pdKGwpJiZiKCJzbmFwLnV0aWwuYXR0ci4iK2wsZCxhW2xdKTtyZXR1cm4gZH0sYy5wYXJzZT1mdW5jdGlvbihhKXt2YXIgYj15LmRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYz0hMCxkPXkuZG9jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2lmKGE9QShhKSxhLm1hdGNoKC9eXHMqPFxzKnN2Zyg/OlxzfD4pLyl8fChhPSI8c3ZnPiIrYSsiPC9zdmc+IixjPSExKSxkLmlubmVySFRNTD1hLGE9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3ZnIilbMF0paWYoYyliPWE7ZWxzZSBmb3IoO2EuZmlyc3RDaGlsZDspYi5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpO3JldHVybiBuZXcgdChiKX0sYy5mcmFnbWVudD1mdW5jdGlvbigpe2Zvcih2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksYj15LmRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyl7dmFyIGY9YVtkXTtmLm5vZGUmJmYubm9kZS5ub2RlVHlwZSYmYi5hcHBlbmRDaGlsZChmLm5vZGUpLGYubm9kZVR5cGUmJmIuYXBwZW5kQ2hpbGQoZiksInN0cmluZyI9PXR5cGVvZiBmJiZiLmFwcGVuZENoaWxkKGMucGFyc2UoZikubm9kZSl9cmV0dXJuIG5ldyB0KGIpfSxjLl8ubWFrZT11LGMuXy53cmFwPXcsdi5wcm90b3R5cGUuZWw9ZnVuY3Rpb24oYSxiKXt2YXIgYz11KGEsdGhpcy5ub2RlKTtyZXR1cm4gYiYmYy5hdHRyKGIpLGN9LHMucHJvdG90eXBlLmNoaWxkcmVuPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9dGhpcy5ub2RlLmNoaWxkTm9kZXMsZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylhW2RdPWMoYltkXSk7cmV0dXJuIGF9LHMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB4KFt0aGlzXSxhKSxhWzBdfSxiLm9uKCJzbmFwLnV0aWwuZ2V0YXR0ciIsZnVuY3Rpb24oKXt2YXIgYT1iLm50KCk7YT1hLnN1YnN0cmluZyhhLmxhc3RJbmRleE9mKCIuIikrMSk7dmFyIGM9YS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KTtyZXR1cm4gYmFbel0oYyk/dGhpcy5ub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLm5vZGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShjKTpkKHRoaXMubm9kZSxhKX0pO3ZhciBiYT17ImFsaWdubWVudC1iYXNlbGluZSI6MCwiYmFzZWxpbmUtc2hpZnQiOjAsY2xpcDowLCJjbGlwLXBhdGgiOjAsImNsaXAtcnVsZSI6MCxjb2xvcjowLCJjb2xvci1pbnRlcnBvbGF0aW9uIjowLCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMiOjAsImNvbG9yLXByb2ZpbGUiOjAsImNvbG9yLXJlbmRlcmluZyI6MCxjdXJzb3I6MCxkaXJlY3Rpb246MCxkaXNwbGF5OjAsImRvbWluYW50LWJhc2VsaW5lIjowLCJlbmFibGUtYmFja2dyb3VuZCI6MCxmaWxsOjAsImZpbGwtb3BhY2l0eSI6MCwiZmlsbC1ydWxlIjowLGZpbHRlcjowLCJmbG9vZC1jb2xvciI6MCwiZmxvb2Qtb3BhY2l0eSI6MCxmb250OjAsImZvbnQtZmFtaWx5IjowLCJmb250LXNpemUiOjAsImZvbnQtc2l6ZS1hZGp1c3QiOjAsImZvbnQtc3RyZXRjaCI6MCwiZm9udC1zdHlsZSI6MCwiZm9udC12YXJpYW50IjowLCJmb250LXdlaWdodCI6MCwiZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCI6MCwiZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwiOjAsImltYWdlLXJlbmRlcmluZyI6MCxrZXJuaW5nOjAsImxldHRlci1zcGFjaW5nIjowLCJsaWdodGluZy1jb2xvciI6MCxtYXJrZXI6MCwibWFya2VyLWVuZCI6MCwibWFya2VyLW1pZCI6MCwibWFya2VyLXN0YXJ0IjowLG1hc2s6MCxvcGFjaXR5OjAsb3ZlcmZsb3c6MCwicG9pbnRlci1ldmVudHMiOjAsInNoYXBlLXJlbmRlcmluZyI6MCwic3RvcC1jb2xvciI6MCwic3RvcC1vcGFjaXR5IjowLHN0cm9rZTowLCJzdHJva2UtZGFzaGFycmF5IjowLCJzdHJva2UtZGFzaG9mZnNldCI6MCwic3Ryb2tlLWxpbmVjYXAiOjAsInN0cm9rZS1saW5lam9pbiI6MCwic3Ryb2tlLW1pdGVybGltaXQiOjAsInN0cm9rZS1vcGFjaXR5IjowLCJzdHJva2Utd2lkdGgiOjAsInRleHQtYW5jaG9yIjowLCJ0ZXh0LWRlY29yYXRpb24iOjAsInRleHQtcmVuZGVyaW5nIjowLCJ1bmljb2RlLWJpZGkiOjAsdmlzaWJpbGl0eTowLCJ3b3JkLXNwYWNpbmciOjAsIndyaXRpbmctbW9kZSI6MH07Yi5vbigic25hcC51dGlsLmF0dHIiLGZ1bmN0aW9uKGEpe3ZhciBjPWIubnQoKSxlPXt9O2M9Yy5zdWJzdHJpbmcoYy5sYXN0SW5kZXhPZigiLiIpKzEpLGVbY109YTt2YXIgZj1jLnJlcGxhY2UoLy0oXHcpL2dpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX0pLGc9Yy5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KTtiYVt6XShnKT90aGlzLm5vZGUuc3R5bGVbZl09bnVsbD09YT9JOmE6ZCh0aGlzLm5vZGUsZSl9KSxmdW5jdGlvbihhKXt9KHYucHJvdG90eXBlKSxjLmFqYXg9ZnVuY3Rpb24oYSxjLGQsZil7dmFyIGc9bmV3IFhNTEh0dHBSZXF1ZXN0LGg9UygpO2lmKGcpe2lmKGUoYywiZnVuY3Rpb24iKSlmPWQsZD1jLGM9bnVsbDtlbHNlIGlmKGUoYywib2JqZWN0Iikpe3ZhciBpPVtdO2Zvcih2YXIgaiBpbiBjKWMuaGFzT3duUHJvcGVydHkoaikmJmkucHVzaChlbmNvZGVVUklDb21wb25lbnQoaikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChjW2pdKSk7Yz1pLmpvaW4oIiYiKX1yZXR1cm4gZy5vcGVuKGM/IlBPU1QiOiJHRVQiLGEsITApLGMmJihnLnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLGcuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC10eXBlIiwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikpLGQmJihiLm9uY2UoInNuYXAuYWpheC4iK2grIi4wIixkKSxiLm9uY2UoInNuYXAuYWpheC4iK2grIi4yMDAiLGQpLGIub25jZSgic25hcC5hamF4LiIraCsiLjMwNCIsZCkpLGcub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09Zy5yZWFkeVN0YXRlJiZiKCJzbmFwLmFqYXguIitoKyIuIitnLnN0YXR1cyxmLGcpfSw0PT1nLnJlYWR5U3RhdGU/ZzooZy5zZW5kKGMpLGcpfX0sYy5sb2FkPWZ1bmN0aW9uKGEsYixkKXtjLmFqYXgoYSxmdW5jdGlvbihhKXt2YXIgZT1jLnBhcnNlKGEucmVzcG9uc2VUZXh0KTtkP2IuY2FsbChkLGUpOmIoZSl9KX07dmFyIGNhPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz1hLm93bmVyRG9jdW1lbnQsZD1jLmJvZHksZT1jLmRvY3VtZW50RWxlbWVudCxmPWUuY2xpZW50VG9wfHxkLmNsaWVudFRvcHx8MCxoPWUuY2xpZW50TGVmdHx8ZC5jbGllbnRMZWZ0fHwwLGk9Yi50b3ArKGcud2luLnBhZ2VZT2Zmc2V0fHxlLnNjcm9sbFRvcHx8ZC5zY3JvbGxUb3ApLWYsaj1iLmxlZnQrKGcud2luLnBhZ2VYT2Zmc2V0fHxlLnNjcm9sbExlZnR8fGQuc2Nyb2xsTGVmdCktaDtyZXR1cm57eTppLHg6an19O3JldHVybiBjLmdldEVsZW1lbnRCeVBvaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPShjLmNhbnZhcyx5LmRvYy5lbGVtZW50RnJvbVBvaW50KGEsYikpO2lmKHkud2luLm9wZXJhJiYic3ZnIj09ZC50YWdOYW1lKXt2YXIgZT1jYShkKSxmPWQuY3JlYXRlU1ZHUmVjdCgpO2YueD1hLWUueCxmLnk9Yi1lLnksZi53aWR0aD1mLmhlaWdodD0xO3ZhciBnPWQuZ2V0SW50ZXJzZWN0aW9uTGlzdChmLG51bGwpO2cubGVuZ3RoJiYoZD1nW2cubGVuZ3RoLTFdKX1yZXR1cm4gZD93KGQpOm51bGx9LGMucGx1Z2luPWZ1bmN0aW9uKGEpe2EoYyxzLHYseSx0KX0seS53aW4uU25hcD1jLGN9KGF8fHRoaXMpO3JldHVybiBkLnBsdWdpbihmdW5jdGlvbihjLGQsZSxmLGcpe2Z1bmN0aW9uIGgoYSxiKXtpZihudWxsPT1iKXt2YXIgZD0hMDtpZihiPSJsaW5lYXJHcmFkaWVudCI9PWEudHlwZXx8InJhZGlhbEdyYWRpZW50Ij09YS50eXBlP2Eubm9kZS5nZXRBdHRyaWJ1dGUoImdyYWRpZW50VHJhbnNmb3JtIik6InBhdHRlcm4iPT1hLnR5cGU/YS5ub2RlLmdldEF0dHJpYnV0ZSgicGF0dGVyblRyYW5zZm9ybSIpOmEubm9kZS5nZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIpLCFiKXJldHVybiBuZXcgYy5NYXRyaXg7Yj1jLl8uc3ZnVHJhbnNmb3JtMnN0cmluZyhiKX1lbHNlIGI9Yy5fLnJnVHJhbnNmb3JtLnRlc3QoYik/bShiKS5yZXBsYWNlKC9cLnszfXxcdTIwMjYvZyxhLl8udHJhbnNmb3JtfHwiIik6Yy5fLnN2Z1RyYW5zZm9ybTJzdHJpbmcoYiksbChiLCJhcnJheSIpJiYoYj1jLnBhdGg/Yy5wYXRoLnRvU3RyaW5nLmNhbGwoYik6bShiKSksYS5fLnRyYW5zZm9ybT1iO3ZhciBlPWMuXy50cmFuc2Zvcm0ybWF0cml4KGIsYS5nZXRCQm94KDEpKTtyZXR1cm4gZD9lOnZvaWQoYS5tYXRyaXg9ZSl9ZnVuY3Rpb24gaShhKXtmdW5jdGlvbiBiKGEsYil7dmFyIGQ9byhhLm5vZGUsYik7ZD1kJiZkLm1hdGNoKGcpLGQ9ZCYmZFsyXSxkJiYiIyI9PWQuY2hhckF0KCkmJihkPWQuc3Vic3RyaW5nKDEpLGQmJihpW2RdPShpW2RdfHxbXSkuY29uY2F0KGZ1bmN0aW9uKGQpe3ZhciBlPXt9O2VbYl09Yy51cmwoZCksbyhhLm5vZGUsZSl9KSkpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9byhhLm5vZGUsInhsaW5rOmhyZWYiKTtiJiYiIyI9PWIuY2hhckF0KCkmJihiPWIuc3Vic3RyaW5nKDEpLGImJihpW2JdPShpW2JdfHxbXSkuY29uY2F0KGZ1bmN0aW9uKGIpe2EuYXR0cigieGxpbms6aHJlZiIsIiMiK2IpfSkpKX1mb3IodmFyIGUsZj1hLnNlbGVjdEFsbCgiKiIpLGc9L15ccyp1cmxcKCgifCd8KSguKilcMVwpXHMqJC8saD1bXSxpPXt9LGo9MCxrPWYubGVuZ3RoO2s+ajtqKyspe2U9ZltqXSxiKGUsImZpbGwiKSxiKGUsInN0cm9rZSIpLGIoZSwiZmlsdGVyIiksYihlLCJtYXNrIiksYihlLCJjbGlwLXBhdGgiKSxkKGUpO3ZhciBsPW8oZS5ub2RlLCJpZCIpO2wmJihvKGUubm9kZSx7aWQ6ZS5pZH0pLGgucHVzaCh7b2xkOmwsaWQ6ZS5pZH0pKX1mb3Ioaj0wLGs9aC5sZW5ndGg7az5qO2orKyl7dmFyIG09aVtoW2pdLm9sZF07aWYobSlmb3IodmFyIG49MCxwPW0ubGVuZ3RoO3A+bjtuKyspbVtuXShoW2pdLmlkKX19ZnVuY3Rpb24gaihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1hPyI8Iit0aGlzLnR5cGU6IiIsYz10aGlzLm5vZGUuYXR0cmlidXRlcyxkPXRoaXMubm9kZS5jaGlsZE5vZGVzO2lmKGEpZm9yKHZhciBlPTAsZj1jLmxlbmd0aDtmPmU7ZSsrKWIrPSIgIitjW2VdLm5hbWUrJz0iJytjW2VdLnZhbHVlLnJlcGxhY2UoLyIvZywnXFwiJykrJyInO2lmKGQubGVuZ3RoKXtmb3IoYSYmKGIrPSI+IiksZT0wLGY9ZC5sZW5ndGg7Zj5lO2UrKykzPT1kW2VdLm5vZGVUeXBlP2IrPWRbZV0ubm9kZVZhbHVlOjE9PWRbZV0ubm9kZVR5cGUmJihiKz1zKGRbZV0pLnRvU3RyaW5nKCkpO2EmJihiKz0iPC8iK3RoaXMudHlwZSsiPiIpfWVsc2UgYSYmKGIrPSIvPiIpO3JldHVybiBifX12YXIgaz1kLnByb3RvdHlwZSxsPWMuaXMsbT1TdHJpbmcsbj1jLl91bml0MnB4LG89Yy5fLiQscD1jLl8ubWFrZSxxPWMuXy5nZXRTb21lRGVmcyxyPSJoYXNPd25Qcm9wZXJ0eSIscz1jLl8ud3JhcDtrLmdldEJCb3g9ZnVuY3Rpb24oYSl7aWYoInRzcGFuIj09dGhpcy50eXBlKXJldHVybiBjLl8uYm94KHRoaXMubm9kZS5nZXRDbGllbnRSZWN0cygpLml0ZW0oMCkpO2lmKCFjLk1hdHJpeHx8IWMucGF0aClyZXR1cm4gdGhpcy5ub2RlLmdldEJCb3goKTt2YXIgYj10aGlzLGQ9bmV3IGMuTWF0cml4O2lmKGIucmVtb3ZlZClyZXR1cm4gYy5fLmJveCgpO2Zvcig7InVzZSI9PWIudHlwZTspaWYoYXx8KGQ9ZC5hZGQoYi50cmFuc2Zvcm0oKS5sb2NhbE1hdHJpeC50cmFuc2xhdGUoYi5hdHRyKCJ4Iil8fDAsYi5hdHRyKCJ5Iil8fDApKSksYi5vcmlnaW5hbCliPWIub3JpZ2luYWw7ZWxzZXt2YXIgZT1iLmF0dHIoInhsaW5rOmhyZWYiKTtiPWIub3JpZ2luYWw9Yi5ub2RlLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5zdWJzdHJpbmcoZS5pbmRleE9mKCIjIikrMSkpfXZhciBmPWIuXyxnPWMucGF0aC5nZXRbYi50eXBlXXx8Yy5wYXRoLmdldC5kZWZsdDt0cnl7cmV0dXJuIGE/KGYuYmJveHd0PWc/Yy5wYXRoLmdldEJCb3goYi5yZWFsUGF0aD1nKGIpKTpjLl8uYm94KGIubm9kZS5nZXRCQm94KCkpLGMuXy5ib3goZi5iYm94d3QpKTooYi5yZWFsUGF0aD1nKGIpLGIubWF0cml4PWIudHJhbnNmb3JtKCkubG9jYWxNYXRyaXgsZi5iYm94PWMucGF0aC5nZXRCQm94KGMucGF0aC5tYXAoYi5yZWFsUGF0aCxkLmFkZChiLm1hdHJpeCkpKSxjLl8uYm94KGYuYmJveCkpfWNhdGNoKGgpe3JldHVybiBjLl8uYm94KCl9fTt2YXIgdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmluZ307ay50cmFuc2Zvcm09ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fO2lmKG51bGw9PWEpe2Zvcih2YXIgZCxlPXRoaXMsZj1uZXcgYy5NYXRyaXgodGhpcy5ub2RlLmdldENUTSgpKSxnPWgodGhpcyksaT1bZ10saj1uZXcgYy5NYXRyaXgsaz1nLnRvVHJhbnNmb3JtU3RyaW5nKCksbD1tKGcpPT1tKHRoaXMubWF0cml4KT9tKGIudHJhbnNmb3JtKTprOyJzdmciIT1lLnR5cGUmJihlPWUucGFyZW50KCkpOylpLnB1c2goaChlKSk7Zm9yKGQ9aS5sZW5ndGg7ZC0tOylqLmFkZChpW2RdKTtyZXR1cm57c3RyaW5nOmwsZ2xvYmFsTWF0cml4OmYsdG90YWxNYXRyaXg6aixsb2NhbE1hdHJpeDpnLGRpZmZNYXRyaXg6Zi5jbG9uZSgpLmFkZChnLmludmVydCgpKSxnbG9iYWw6Zi50b1RyYW5zZm9ybVN0cmluZygpLHRvdGFsOmoudG9UcmFuc2Zvcm1TdHJpbmcoKSxsb2NhbDprLHRvU3RyaW5nOnR9fXJldHVybiBhIGluc3RhbmNlb2YgYy5NYXRyaXg/KHRoaXMubWF0cml4PWEsdGhpcy5fLnRyYW5zZm9ybT1hLnRvVHJhbnNmb3JtU3RyaW5nKCkpOmgodGhpcyxhKSx0aGlzLm5vZGUmJigibGluZWFyR3JhZGllbnQiPT10aGlzLnR5cGV8fCJyYWRpYWxHcmFkaWVudCI9PXRoaXMudHlwZT9vKHRoaXMubm9kZSx7Z3JhZGllbnRUcmFuc2Zvcm06dGhpcy5tYXRyaXh9KToicGF0dGVybiI9PXRoaXMudHlwZT9vKHRoaXMubm9kZSx7cGF0dGVyblRyYW5zZm9ybTp0aGlzLm1hdHJpeH0pOm8odGhpcy5ub2RlLHt0cmFuc2Zvcm06dGhpcy5tYXRyaXh9KSksdGhpc30say5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcyh0aGlzLm5vZGUucGFyZW50Tm9kZSl9LGsuYXBwZW5kPWsuYWRkPWZ1bmN0aW9uKGEpe2lmKGEpe2lmKCJzZXQiPT1hLnR5cGUpe3ZhciBiPXRoaXM7cmV0dXJuIGEuZm9yRWFjaChmdW5jdGlvbihhKXtiLmFkZChhKX0pLHRoaXN9YT1zKGEpLHRoaXMubm9kZS5hcHBlbmRDaGlsZChhLm5vZGUpLGEucGFwZXI9dGhpcy5wYXBlcn1yZXR1cm4gdGhpc30say5hcHBlbmRUbz1mdW5jdGlvbihhKXtyZXR1cm4gYSYmKGE9cyhhKSxhLmFwcGVuZCh0aGlzKSksdGhpc30say5wcmVwZW5kPWZ1bmN0aW9uKGEpe2lmKGEpe2lmKCJzZXQiPT1hLnR5cGUpe3ZhciBiLGM9dGhpcztyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2I/Yi5hZnRlcihhKTpjLnByZXBlbmQoYSksYj1hfSksdGhpc31hPXMoYSk7dmFyIGQ9YS5wYXJlbnQoKTt0aGlzLm5vZGUuaW5zZXJ0QmVmb3JlKGEubm9kZSx0aGlzLm5vZGUuZmlyc3RDaGlsZCksdGhpcy5hZGQmJnRoaXMuYWRkKCksYS5wYXBlcj10aGlzLnBhcGVyLHRoaXMucGFyZW50KCkmJnRoaXMucGFyZW50KCkuYWRkKCksZCYmZC5hZGQoKX1yZXR1cm4gdGhpc30say5wcmVwZW5kVG89ZnVuY3Rpb24oYSl7cmV0dXJuIGE9cyhhKSxhLnByZXBlbmQodGhpcyksdGhpc30say5iZWZvcmU9ZnVuY3Rpb24oYSl7aWYoInNldCI9PWEudHlwZSl7dmFyIGI9dGhpcztyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWEucGFyZW50KCk7Yi5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEubm9kZSxiLm5vZGUpLGMmJmMuYWRkKCl9KSx0aGlzLnBhcmVudCgpLmFkZCgpLHRoaXN9YT1zKGEpO3ZhciBjPWEucGFyZW50KCk7cmV0dXJuIHRoaXMubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLm5vZGUsdGhpcy5ub2RlKSx0aGlzLnBhcmVudCgpJiZ0aGlzLnBhcmVudCgpLmFkZCgpLGMmJmMuYWRkKCksYS5wYXBlcj10aGlzLnBhcGVyLHRoaXN9LGsuYWZ0ZXI9ZnVuY3Rpb24oYSl7YT1zKGEpO3ZhciBiPWEucGFyZW50KCk7cmV0dXJuIHRoaXMubm9kZS5uZXh0U2libGluZz90aGlzLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYS5ub2RlLHRoaXMubm9kZS5uZXh0U2libGluZyk6dGhpcy5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYS5ub2RlKSx0aGlzLnBhcmVudCgpJiZ0aGlzLnBhcmVudCgpLmFkZCgpLGImJmIuYWRkKCksYS5wYXBlcj10aGlzLnBhcGVyLHRoaXN9LGsuaW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGEpe2E9cyhhKTt2YXIgYj10aGlzLnBhcmVudCgpO3JldHVybiBhLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLGEubm9kZSksdGhpcy5wYXBlcj1hLnBhcGVyLGImJmIuYWRkKCksYS5wYXJlbnQoKSYmYS5wYXJlbnQoKS5hZGQoKSx0aGlzfSxrLmluc2VydEFmdGVyPWZ1bmN0aW9uKGEpe2E9cyhhKTt2YXIgYj10aGlzLnBhcmVudCgpO3JldHVybiBhLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLGEubm9kZS5uZXh0U2libGluZyksdGhpcy5wYXBlcj1hLnBhcGVyLGImJmIuYWRkKCksYS5wYXJlbnQoKSYmYS5wYXJlbnQoKS5hZGQoKSx0aGlzfSxrLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMucGFyZW50KCk7cmV0dXJuIHRoaXMubm9kZS5wYXJlbnROb2RlJiZ0aGlzLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpLGRlbGV0ZSB0aGlzLnBhcGVyLHRoaXMucmVtb3ZlZD0hMCxhJiZhLmFkZCgpLHRoaXN9LGsuc2VsZWN0PWZ1bmN0aW9uKGEpe3JldHVybiBzKHRoaXMubm9kZS5xdWVyeVNlbGVjdG9yKGEpKX0say5zZWxlY3RBbGw9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMubm9kZS5xdWVyeVNlbGVjdG9yQWxsKGEpLGQ9KGMuc2V0fHxBcnJheSkoKSxlPTA7ZTxiLmxlbmd0aDtlKyspZC5wdXNoKHMoYltlXSkpO3JldHVybiBkfSxrLmFzUFg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YiYmKGI9dGhpcy5hdHRyKGEpKSwrbih0aGlzLGEsYil9LGsudXNlPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm5vZGUuaWQ7cmV0dXJuIGJ8fChiPXRoaXMuaWQsbyh0aGlzLm5vZGUse2lkOmJ9KSksYT0ibGluZWFyR3JhZGllbnQiPT10aGlzLnR5cGV8fCJyYWRpYWxHcmFkaWVudCI9PXRoaXMudHlwZXx8InBhdHRlcm4iPT10aGlzLnR5cGU/cCh0aGlzLnR5cGUsdGhpcy5ub2RlLnBhcmVudE5vZGUpOnAoInVzZSIsdGhpcy5ub2RlLnBhcmVudE5vZGUpLG8oYS5ub2RlLHsieGxpbms6aHJlZiI6IiMiK2J9KSxhLm9yaWdpbmFsPXRoaXMsYX0say5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPXModGhpcy5ub2RlLmNsb25lTm9kZSghMCkpO3JldHVybiBvKGEubm9kZSwiaWQiKSYmbyhhLm5vZGUse2lkOmEuaWR9KSxpKGEpLGEuaW5zZXJ0QWZ0ZXIodGhpcyksYX0say50b0RlZnM9ZnVuY3Rpb24oKXt2YXIgYT1xKHRoaXMpO3JldHVybiBhLmFwcGVuZENoaWxkKHRoaXMubm9kZSksdGhpc30say5wYXR0ZXJuPWsudG9QYXR0ZXJuPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXAoInBhdHRlcm4iLHEodGhpcykpO3JldHVybiBudWxsPT1hJiYoYT10aGlzLmdldEJCb3goKSksbChhLCJvYmplY3QiKSYmIngiaW4gYSYmKGI9YS55LGM9YS53aWR0aCxkPWEuaGVpZ2h0LGE9YS54KSxvKGUubm9kZSx7eDphLHk6Yix3aWR0aDpjLGhlaWdodDpkLHBhdHRlcm5Vbml0czoidXNlclNwYWNlT25Vc2UiLGlkOmUuaWQsdmlld0JveDpbYSxiLGMsZF0uam9pbigiICIpfSksZS5ub2RlLmFwcGVuZENoaWxkKHRoaXMubm9kZSksZX0say5tYXJrZXI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPXAoIm1hcmtlciIscSh0aGlzKSk7cmV0dXJuIG51bGw9PWEmJihhPXRoaXMuZ2V0QkJveCgpKSxsKGEsIm9iamVjdCIpJiYieCJpbiBhJiYoYj1hLnksYz1hLndpZHRoLGQ9YS5oZWlnaHQsZT1hLnJlZlh8fGEuY3gsZj1hLnJlZll8fGEuY3ksYT1hLngpLG8oZy5ub2RlLHt2aWV3Qm94OlthLGIsYyxkXS5qb2luKCIgIiksbWFya2VyV2lkdGg6YyxtYXJrZXJIZWlnaHQ6ZCxvcmllbnQ6ImF1dG8iLHJlZlg6ZXx8MCxyZWZZOmZ8fDAsaWQ6Zy5pZH0pLGcubm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpLGd9O3ZhciB1PXt9O2suZGF0YT1mdW5jdGlvbihhLGQpe3ZhciBlPXVbdGhpcy5pZF09dVt0aGlzLmlkXXx8e307aWYoMD09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYigic25hcC5kYXRhLmdldC4iK3RoaXMuaWQsdGhpcyxlLG51bGwpLGU7aWYoMT09YXJndW1lbnRzLmxlbmd0aCl7aWYoYy5pcyhhLCJvYmplY3QiKSl7Zm9yKHZhciBmIGluIGEpYVtyXShmKSYmdGhpcy5kYXRhKGYsYVtmXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGIoInNuYXAuZGF0YS5nZXQuIit0aGlzLmlkLHRoaXMsZVthXSxhKSxlW2FdfXJldHVybiBlW2FdPWQsYigic25hcC5kYXRhLnNldC4iK3RoaXMuaWQsdGhpcyxkLGEpLHRoaXN9LGsucmVtb3ZlRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT91W3RoaXMuaWRdPXt9OnVbdGhpcy5pZF0mJmRlbGV0ZSB1W3RoaXMuaWRdW2FdLHRoaXN9LGsub3V0ZXJTVkc9ay50b1N0cmluZz1qKDEpLGsuaW5uZXJTVkc9aigpLGsudG9EYXRhVVJMPWZ1bmN0aW9uKCl7aWYoYSYmYS5idG9hKXt2YXIgYj10aGlzLmdldEJCb3goKSxkPWMuZm9ybWF0KCc8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9Int3aWR0aH0iIGhlaWdodD0ie2hlaWdodH0iIHZpZXdCb3g9Int4fSB7eX0ge3dpZHRofSB7aGVpZ2h0fSI+e2NvbnRlbnRzfTwvc3ZnPicse3g6K2IueC50b0ZpeGVkKDMpLHk6K2IueS50b0ZpeGVkKDMpLHdpZHRoOitiLndpZHRoLnRvRml4ZWQoMyksaGVpZ2h0OitiLmhlaWdodC50b0ZpeGVkKDMpLGNvbnRlbnRzOnRoaXMub3V0ZXJTVkcoKX0pOwpyZXR1cm4iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGQpKSl9fSxnLnByb3RvdHlwZS5zZWxlY3Q9ay5zZWxlY3QsZy5wcm90b3R5cGUuc2VsZWN0QWxsPWsuc2VsZWN0QWxsfSksZC5wbHVnaW4oZnVuY3Rpb24oYSxkLGUsZixnKXtmdW5jdGlvbiBoKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZC5zbGljZShhLGIpO3JldHVybiAxPT1lLmxlbmd0aCYmKGU9ZVswXSksYz9jKGUpOmV9fXZhciBpPWQucHJvdG90eXBlLGo9YS5pcyxrPVN0cmluZyxsPSJoYXNPd25Qcm9wZXJ0eSIsbT1mdW5jdGlvbihhLGIsZCxlKXsiZnVuY3Rpb24iIT10eXBlb2YgZHx8ZC5sZW5ndGh8fChlPWQsZD1jLmxpbmVhciksdGhpcy5hdHRyPWEsdGhpcy5kdXI9YixkJiYodGhpcy5lYXNpbmc9ZCksZSYmKHRoaXMuY2FsbGJhY2s9ZSl9O2EuXy5BbmltYXRpb249bSxhLmFuaW1hdGlvbj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gbmV3IG0oYSxiLGMsZCl9LGkuaW5BbmltPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPVtdO2Zvcih2YXIgYyBpbiBhLmFuaW1zKWEuYW5pbXNbbF0oYykmJiFmdW5jdGlvbihhKXtiLnB1c2goe2FuaW06bmV3IG0oYS5fYXR0cnMsYS5kdXIsYS5lYXNpbmcsYS5fY2FsbGJhY2spLG1pbmE6YSxjdXJTdGF0dXM6YS5zdGF0dXMoKSxzdGF0dXM6ZnVuY3Rpb24oYil7cmV0dXJuIGEuc3RhdHVzKGIpfSxzdG9wOmZ1bmN0aW9uKCl7YS5zdG9wKCl9fSl9KGEuYW5pbXNbY10pO3JldHVybiBifSxhLmFuaW1hdGU9ZnVuY3Rpb24oYSxkLGUsZixnLGgpeyJmdW5jdGlvbiIhPXR5cGVvZiBnfHxnLmxlbmd0aHx8KGg9ZyxnPWMubGluZWFyKTt2YXIgaT1jLnRpbWUoKSxqPWMoYSxkLGksaStmLGMudGltZSxlLGcpO3JldHVybiBoJiZiLm9uY2UoIm1pbmEuZmluaXNoLiIrai5pZCxoKSxqfSxpLnN0b3A9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5pbkFuaW0oKSxiPTAsYz1hLmxlbmd0aDtjPmI7YisrKWFbYl0uc3RvcCgpO3JldHVybiB0aGlzfSxpLmFuaW1hdGU9ZnVuY3Rpb24oYSxkLGUsZil7ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUubGVuZ3RofHwoZj1lLGU9Yy5saW5lYXIpLGEgaW5zdGFuY2VvZiBtJiYoZj1hLmNhbGxiYWNrLGU9YS5lYXNpbmcsZD1hLmR1cixhPWEuYXR0cik7dmFyIGcsaSxuLG8scD1bXSxxPVtdLHI9e30scz10aGlzO2Zvcih2YXIgdCBpbiBhKWlmKGFbbF0odCkpe3MuZXF1YWw/KG89cy5lcXVhbCh0LGsoYVt0XSkpLGc9by5mcm9tLGk9by50byxuPW8uZik6KGc9K3MuYXR0cih0KSxpPSthW3RdKTt2YXIgdT1qKGcsImFycmF5Iik/Zy5sZW5ndGg6MTtyW3RdPWgocC5sZW5ndGgscC5sZW5ndGgrdSxuKSxwPXAuY29uY2F0KGcpLHE9cS5jb25jYXQoaSl9dmFyIHY9Yy50aW1lKCksdz1jKHAscSx2LHYrZCxjLnRpbWUsZnVuY3Rpb24oYSl7dmFyIGI9e307Zm9yKHZhciBjIGluIHIpcltsXShjKSYmKGJbY109cltjXShhKSk7cy5hdHRyKGIpfSxlKTtyZXR1cm4gcy5hbmltc1t3LmlkXT13LHcuX2F0dHJzPWEsdy5fY2FsbGJhY2s9ZixiKCJzbmFwLmFuaW1jcmVhdGVkLiIrcy5pZCx3KSxiLm9uY2UoIm1pbmEuZmluaXNoLiIrdy5pZCxmdW5jdGlvbigpe2Iub2ZmKCJtaW5hLiouIit3LmlkKSxkZWxldGUgcy5hbmltc1t3LmlkXSxmJiZmLmNhbGwocyl9KSxiLm9uY2UoIm1pbmEuc3RvcC4iK3cuaWQsZnVuY3Rpb24oKXtiLm9mZigibWluYS4qLiIrdy5pZCksZGVsZXRlIHMuYW5pbXNbdy5pZF19KSxzfX0pLGQucGx1Z2luKGZ1bmN0aW9uKGEsYixjLGQsZSl7ZnVuY3Rpb24gZihhLGIsYyxkLGUsZil7cmV0dXJuIG51bGw9PWImJiJbb2JqZWN0IFNWR01hdHJpeF0iPT1nLmNhbGwoYSk/KHRoaXMuYT1hLmEsdGhpcy5iPWEuYix0aGlzLmM9YS5jLHRoaXMuZD1hLmQsdGhpcy5lPWEuZSx2b2lkKHRoaXMuZj1hLmYpKTp2b2lkKG51bGwhPWE/KHRoaXMuYT0rYSx0aGlzLmI9K2IsdGhpcy5jPStjLHRoaXMuZD0rZCx0aGlzLmU9K2UsdGhpcy5mPStmKToodGhpcy5hPTEsdGhpcy5iPTAsdGhpcy5jPTAsdGhpcy5kPTEsdGhpcy5lPTAsdGhpcy5mPTApKX12YXIgZz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGg9U3RyaW5nLGk9TWF0aCxqPSIiOyFmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBhWzBdKmFbMF0rYVsxXSphWzFdfWZ1bmN0aW9uIGQoYSl7dmFyIGI9aS5zcXJ0KGMoYSkpO2FbMF0mJihhWzBdLz1iKSxhWzFdJiYoYVsxXS89Yil9Yi5hZGQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGcpe2lmKGEmJmEgaW5zdGFuY2VvZiBmKXJldHVybiB0aGlzLmFkZChhLmEsYS5iLGEuYyxhLmQsYS5lLGEuZik7dmFyIGg9YSp0aGlzLmErYip0aGlzLmMsaT1hKnRoaXMuYitiKnRoaXMuZDtyZXR1cm4gdGhpcy5lKz1lKnRoaXMuYStnKnRoaXMuYyx0aGlzLmYrPWUqdGhpcy5iK2cqdGhpcy5kLHRoaXMuYz1jKnRoaXMuYStkKnRoaXMuYyx0aGlzLmQ9Yyp0aGlzLmIrZCp0aGlzLmQsdGhpcy5hPWgsdGhpcy5iPWksdGhpc30sZi5wcm90b3R5cGUubXVsdExlZnQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGcpe2lmKGEmJmEgaW5zdGFuY2VvZiBmKXJldHVybiB0aGlzLm11bHRMZWZ0KGEuYSxhLmIsYS5jLGEuZCxhLmUsYS5mKTt2YXIgaD1hKnRoaXMuYStjKnRoaXMuYixpPWEqdGhpcy5jK2MqdGhpcy5kLGo9YSp0aGlzLmUrYyp0aGlzLmYrZTtyZXR1cm4gdGhpcy5iPWIqdGhpcy5hK2QqdGhpcy5iLHRoaXMuZD1iKnRoaXMuYytkKnRoaXMuZCx0aGlzLmY9Yip0aGlzLmUrZCp0aGlzLmYrZyx0aGlzLmE9aCx0aGlzLmM9aSx0aGlzLmU9aix0aGlzfSxiLmludmVydD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmEqYS5kLWEuYiphLmM7cmV0dXJuIG5ldyBmKGEuZC9iLC1hLmIvYiwtYS5jL2IsYS5hL2IsKGEuYyphLmYtYS5kKmEuZSkvYiwoYS5iKmEuZS1hLmEqYS5mKS9iKX0sYi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZih0aGlzLmEsdGhpcy5iLHRoaXMuYyx0aGlzLmQsdGhpcy5lLHRoaXMuZil9LGIudHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZSs9YSp0aGlzLmErYip0aGlzLmMsdGhpcy5mKz1hKnRoaXMuYitiKnRoaXMuZCx0aGlzfSxiLnNjYWxlPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBudWxsPT1iJiYoYj1hKSwoY3x8ZCkmJnRoaXMudHJhbnNsYXRlKGMsZCksdGhpcy5hKj1hLHRoaXMuYio9YSx0aGlzLmMqPWIsdGhpcy5kKj1iLChjfHxkKSYmdGhpcy50cmFuc2xhdGUoLWMsLWQpLHRoaXN9LGIucm90YXRlPWZ1bmN0aW9uKGIsYyxkKXtiPWEucmFkKGIpLGM9Y3x8MCxkPWR8fDA7dmFyIGU9K2kuY29zKGIpLnRvRml4ZWQoOSksZj0raS5zaW4oYikudG9GaXhlZCg5KTtyZXR1cm4gdGhpcy5hZGQoZSxmLC1mLGUsYyxkKSx0aGlzLmFkZCgxLDAsMCwxLC1jLC1kKX0sYi5za2V3WD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5za2V3KGEsMCl9LGIuc2tld1k9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2tldygwLGEpfSxiLnNrZXc9ZnVuY3Rpb24oYixjKXtiPWJ8fDAsYz1jfHwwLGI9YS5yYWQoYiksYz1hLnJhZChjKTt2YXIgZD1pLnRhbihiKS50b0ZpeGVkKDkpLGU9aS50YW4oYykudG9GaXhlZCg5KTtyZXR1cm4gdGhpcy5hZGQoMSxlLGQsMSwwLDApfSxiLng9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSp0aGlzLmErYip0aGlzLmMrdGhpcy5lfSxiLnk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSp0aGlzLmIrYip0aGlzLmQrdGhpcy5mfSxiLmdldD1mdW5jdGlvbihhKXtyZXR1cm4rdGhpc1toLmZyb21DaGFyQ29kZSg5NythKV0udG9GaXhlZCg0KX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJtYXRyaXgoIitbdGhpcy5nZXQoMCksdGhpcy5nZXQoMSksdGhpcy5nZXQoMiksdGhpcy5nZXQoMyksdGhpcy5nZXQoNCksdGhpcy5nZXQoNSldLmpvaW4oKSsiKSJ9LGIub2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuZS50b0ZpeGVkKDQpLHRoaXMuZi50b0ZpeGVkKDQpXX0sYi5kZXRlcm1pbmFudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEqdGhpcy5kLXRoaXMuYip0aGlzLmN9LGIuc3BsaXQ9ZnVuY3Rpb24oKXt2YXIgYj17fTtiLmR4PXRoaXMuZSxiLmR5PXRoaXMuZjt2YXIgZT1bW3RoaXMuYSx0aGlzLmJdLFt0aGlzLmMsdGhpcy5kXV07Yi5zY2FsZXg9aS5zcXJ0KGMoZVswXSkpLGQoZVswXSksYi5zaGVhcj1lWzBdWzBdKmVbMV1bMF0rZVswXVsxXSplWzFdWzFdLGVbMV09W2VbMV1bMF0tZVswXVswXSpiLnNoZWFyLGVbMV1bMV0tZVswXVsxXSpiLnNoZWFyXSxiLnNjYWxleT1pLnNxcnQoYyhlWzFdKSksZChlWzFdKSxiLnNoZWFyLz1iLnNjYWxleSx0aGlzLmRldGVybWluYW50KCk8MCYmKGIuc2NhbGV4PS1iLnNjYWxleCk7dmFyIGY9ZVswXVsxXSxnPWVbMV1bMV07cmV0dXJuIDA+Zz8oYi5yb3RhdGU9YS5kZWcoaS5hY29zKGcpKSwwPmYmJihiLnJvdGF0ZT0zNjAtYi5yb3RhdGUpKTpiLnJvdGF0ZT1hLmRlZyhpLmFzaW4oZikpLGIuaXNTaW1wbGU9ISgrYi5zaGVhci50b0ZpeGVkKDkpfHxiLnNjYWxleC50b0ZpeGVkKDkpIT1iLnNjYWxleS50b0ZpeGVkKDkpJiZiLnJvdGF0ZSksYi5pc1N1cGVyU2ltcGxlPSErYi5zaGVhci50b0ZpeGVkKDkpJiZiLnNjYWxleC50b0ZpeGVkKDkpPT1iLnNjYWxleS50b0ZpeGVkKDkpJiYhYi5yb3RhdGUsYi5ub1JvdGF0aW9uPSErYi5zaGVhci50b0ZpeGVkKDkpJiYhYi5yb3RhdGUsYn0sYi50b1RyYW5zZm9ybVN0cmluZz1mdW5jdGlvbihhKXt2YXIgYj1hfHx0aGlzLnNwbGl0KCk7cmV0dXJuK2Iuc2hlYXIudG9GaXhlZCg5KT8ibSIrW3RoaXMuZ2V0KDApLHRoaXMuZ2V0KDEpLHRoaXMuZ2V0KDIpLHRoaXMuZ2V0KDMpLHRoaXMuZ2V0KDQpLHRoaXMuZ2V0KDUpXTooYi5zY2FsZXg9K2Iuc2NhbGV4LnRvRml4ZWQoNCksYi5zY2FsZXk9K2Iuc2NhbGV5LnRvRml4ZWQoNCksYi5yb3RhdGU9K2Iucm90YXRlLnRvRml4ZWQoNCksKGIuZHh8fGIuZHk/InQiK1srYi5keC50b0ZpeGVkKDQpLCtiLmR5LnRvRml4ZWQoNCldOmopKyhiLnJvdGF0ZT8iciIrWytiLnJvdGF0ZS50b0ZpeGVkKDQpLDAsMF06aikrKDEhPWIuc2NhbGV4fHwxIT1iLnNjYWxleT8icyIrW2Iuc2NhbGV4LGIuc2NhbGV5LDAsMF06aikpfX0oZi5wcm90b3R5cGUpLGEuTWF0cml4PWYsYS5tYXRyaXg9ZnVuY3Rpb24oYSxiLGMsZCxlLGcpe3JldHVybiBuZXcgZihhLGIsYyxkLGUsZyl9fSksZC5wbHVnaW4oZnVuY3Rpb24oYSxjLGQsZSxmKXtmdW5jdGlvbiBnKGQpe3JldHVybiBmdW5jdGlvbihlKXtpZihiLnN0b3AoKSxlIGluc3RhbmNlb2YgZiYmMT09ZS5ub2RlLmNoaWxkTm9kZXMubGVuZ3RoJiYoInJhZGlhbEdyYWRpZW50Ij09ZS5ub2RlLmZpcnN0Q2hpbGQudGFnTmFtZXx8ImxpbmVhckdyYWRpZW50Ij09ZS5ub2RlLmZpcnN0Q2hpbGQudGFnTmFtZXx8InBhdHRlcm4iPT1lLm5vZGUuZmlyc3RDaGlsZC50YWdOYW1lKSYmKGU9ZS5ub2RlLmZpcnN0Q2hpbGQsbih0aGlzKS5hcHBlbmRDaGlsZChlKSxlPWwoZSkpLGUgaW5zdGFuY2VvZiBjKWlmKCJyYWRpYWxHcmFkaWVudCI9PWUudHlwZXx8ImxpbmVhckdyYWRpZW50Ij09ZS50eXBlfHwicGF0dGVybiI9PWUudHlwZSl7ZS5ub2RlLmlkfHxwKGUubm9kZSx7aWQ6ZS5pZH0pO3ZhciBnPXEoZS5ub2RlLmlkKX1lbHNlIGc9ZS5hdHRyKGQpO2Vsc2UgaWYoZz1hLmNvbG9yKGUpLGcuZXJyb3Ipe3ZhciBoPWEobih0aGlzKS5vd25lclNWR0VsZW1lbnQpLmdyYWRpZW50KGUpO2g/KGgubm9kZS5pZHx8cChoLm5vZGUse2lkOmguaWR9KSxnPXEoaC5ub2RlLmlkKSk6Zz1lfWVsc2UgZz1yKGcpO3ZhciBpPXt9O2lbZF09ZyxwKHRoaXMubm9kZSxpKSx0aGlzLm5vZGUuc3R5bGVbZF09dH19ZnVuY3Rpb24gaChhKXtiLnN0b3AoKSxhPT0rYSYmKGErPSJweCIpLHRoaXMubm9kZS5zdHlsZS5mb250U2l6ZT1hfWZ1bmN0aW9uIGkoYSl7Zm9yKHZhciBiPVtdLGM9YS5jaGlsZE5vZGVzLGQ9MCxlPWMubGVuZ3RoO2U+ZDtkKyspe3ZhciBmPWNbZF07Mz09Zi5ub2RlVHlwZSYmYi5wdXNoKGYubm9kZVZhbHVlKSwidHNwYW4iPT1mLnRhZ05hbWUmJigxPT1mLmNoaWxkTm9kZXMubGVuZ3RoJiYzPT1mLmZpcnN0Q2hpbGQubm9kZVR5cGU/Yi5wdXNoKGYuZmlyc3RDaGlsZC5ub2RlVmFsdWUpOmIucHVzaChpKGYpKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gaigpe3JldHVybiBiLnN0b3AoKSx0aGlzLm5vZGUuc3R5bGUuZm9udFNpemV9dmFyIGs9YS5fLm1ha2UsbD1hLl8ud3JhcCxtPWEuaXMsbj1hLl8uZ2V0U29tZURlZnMsbz0vXnVybFwoKFsnIl0/KShbXildKylcMVwpJC8scD1hLl8uJCxxPWEudXJsLHI9U3RyaW5nLHM9YS5fLnNlcGFyYXRvcix0PSIiO2EuZGV1cmw9ZnVuY3Rpb24oYSl7dmFyIGI9U3RyaW5nKGEpLm1hdGNoKG8pO3JldHVybiBiP2JbMl06YX0sYi5vbigic25hcC51dGlsLmF0dHIubWFzayIsZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIGN8fGEgaW5zdGFuY2VvZiBmKXtpZihiLnN0b3AoKSxhIGluc3RhbmNlb2YgZiYmMT09YS5ub2RlLmNoaWxkTm9kZXMubGVuZ3RoJiYoYT1hLm5vZGUuZmlyc3RDaGlsZCxuKHRoaXMpLmFwcGVuZENoaWxkKGEpLGE9bChhKSksIm1hc2siPT1hLnR5cGUpdmFyIGQ9YTtlbHNlIGQ9aygibWFzayIsbih0aGlzKSksZC5ub2RlLmFwcGVuZENoaWxkKGEubm9kZSk7IWQubm9kZS5pZCYmcChkLm5vZGUse2lkOmQuaWR9KSxwKHRoaXMubm9kZSx7bWFzazpxKGQuaWQpfSl9fSksZnVuY3Rpb24oYSl7Yi5vbigic25hcC51dGlsLmF0dHIuY2xpcCIsYSksYi5vbigic25hcC51dGlsLmF0dHIuY2xpcC1wYXRoIixhKSxiLm9uKCJzbmFwLnV0aWwuYXR0ci5jbGlwUGF0aCIsYSl9KGZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBjfHxhIGluc3RhbmNlb2YgZil7Yi5zdG9wKCk7Zm9yKHZhciBkLGU9YS5ub2RlO2U7KXtpZigiY2xpcFBhdGgiPT09ZS5ub2RlTmFtZSl7ZD1uZXcgYyhlKTticmVha31pZigic3ZnIj09PWUubm9kZU5hbWUpe2Q9dm9pZCAwO2JyZWFrfWU9ZS5wYXJlbnROb2RlfWR8fChkPWsoImNsaXBQYXRoIixuKHRoaXMpKSxkLm5vZGUuYXBwZW5kQ2hpbGQoYS5ub2RlKSwhZC5ub2RlLmlkJiZwKGQubm9kZSx7aWQ6ZC5pZH0pKSxwKHRoaXMubm9kZSx7ImNsaXAtcGF0aCI6cShkLm5vZGUuaWR8fGQuaWQpfSl9fSksYi5vbigic25hcC51dGlsLmF0dHIuZmlsbCIsZygiZmlsbCIpKSxiLm9uKCJzbmFwLnV0aWwuYXR0ci5zdHJva2UiLGcoInN0cm9rZSIpKTt2YXIgdT0vXihbbHJdKSg/OlwoKFteKV0qKVwpKT8oLiopJC9pO2Iub24oInNuYXAudXRpbC5ncmFkLnBhcnNlIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjPShiLWgpLyhhLWkpLGQ9aTthPmQ7ZCsrKWZbZF0ub2Zmc2V0PSsoK2grYyooZC1pKSkudG9GaXhlZCgyKTtpPWEsaD1ifWE9cihhKTt2YXIgYz1hLm1hdGNoKHUpO2lmKCFjKXJldHVybiBudWxsO3ZhciBkPWNbMV0sZT1jWzJdLGY9Y1szXTtlPWUuc3BsaXQoL1xzKixccyovKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuK2E9PWE/K2E6YX0pLDE9PWUubGVuZ3RoJiYwPT1lWzBdJiYoZT1bXSksZj1mLnNwbGl0KCItIiksZj1mLm1hcChmdW5jdGlvbihhKXthPWEuc3BsaXQoIjoiKTt2YXIgYj17Y29sb3I6YVswXX07cmV0dXJuIGFbMV0mJihiLm9mZnNldD1wYXJzZUZsb2F0KGFbMV0pKSxifSk7dmFyIGc9Zi5sZW5ndGgsaD0wLGk9MDtnLS07Zm9yKHZhciBqPTA7Zz5qO2orKykib2Zmc2V0ImluIGZbal0mJmIoaixmW2pdLm9mZnNldCk7cmV0dXJuIGZbZ10ub2Zmc2V0PWZbZ10ub2Zmc2V0fHwxMDAsYihnLGZbZ10ub2Zmc2V0KSx7dHlwZTpkLHBhcmFtczplLHN0b3BzOmZ9fSksYi5vbigic25hcC51dGlsLmF0dHIuZCIsZnVuY3Rpb24oYyl7Yi5zdG9wKCksbShjLCJhcnJheSIpJiZtKGNbMF0sImFycmF5IikmJihjPWEucGF0aC50b1N0cmluZy5jYWxsKGMpKSxjPXIoYyksYy5tYXRjaCgvW3J1b10vaSkmJihjPWEucGF0aC50b0Fic29sdXRlKGMpKSxwKHRoaXMubm9kZSx7ZDpjfSl9KSgtMSksYi5vbigic25hcC51dGlsLmF0dHIuI3RleHQiLGZ1bmN0aW9uKGEpe2Iuc3RvcCgpLGE9cihhKTtmb3IodmFyIGM9ZS5kb2MuY3JlYXRlVGV4dE5vZGUoYSk7dGhpcy5ub2RlLmZpcnN0Q2hpbGQ7KXRoaXMubm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUuZmlyc3RDaGlsZCk7dGhpcy5ub2RlLmFwcGVuZENoaWxkKGMpfSkoLTEpLGIub24oInNuYXAudXRpbC5hdHRyLnBhdGgiLGZ1bmN0aW9uKGEpe2Iuc3RvcCgpLHRoaXMuYXR0cih7ZDphfSl9KSgtMSksYi5vbigic25hcC51dGlsLmF0dHIuY2xhc3MiLGZ1bmN0aW9uKGEpe2Iuc3RvcCgpLHRoaXMubm9kZS5jbGFzc05hbWUuYmFzZVZhbD1hfSkoLTEpLGIub24oInNuYXAudXRpbC5hdHRyLnZpZXdCb3giLGZ1bmN0aW9uKGEpe3ZhciBjO2M9bShhLCJvYmplY3QiKSYmIngiaW4gYT9bYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0XS5qb2luKCIgIik6bShhLCJhcnJheSIpP2Euam9pbigiICIpOmEscCh0aGlzLm5vZGUse3ZpZXdCb3g6Y30pLGIuc3RvcCgpfSkoLTEpLGIub24oInNuYXAudXRpbC5hdHRyLnRyYW5zZm9ybSIsZnVuY3Rpb24oYSl7dGhpcy50cmFuc2Zvcm0oYSksYi5zdG9wKCl9KSgtMSksYi5vbigic25hcC51dGlsLmF0dHIuciIsZnVuY3Rpb24oYSl7InJlY3QiPT10aGlzLnR5cGUmJihiLnN0b3AoKSxwKHRoaXMubm9kZSx7cng6YSxyeTphfSkpfSkoLTEpLGIub24oInNuYXAudXRpbC5hdHRyLnRleHRwYXRoIixmdW5jdGlvbihhKXtpZihiLnN0b3AoKSwidGV4dCI9PXRoaXMudHlwZSl7dmFyIGQsZSxmO2lmKCFhJiZ0aGlzLnRleHRQYXRoKXtmb3IoZT10aGlzLnRleHRQYXRoO2Uubm9kZS5maXJzdENoaWxkOyl0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoZS5ub2RlLmZpcnN0Q2hpbGQpO3JldHVybiBlLnJlbW92ZSgpLHZvaWQgZGVsZXRlIHRoaXMudGV4dFBhdGh9aWYobShhLCJzdHJpbmciKSl7dmFyIGc9bih0aGlzKSxoPWwoZy5wYXJlbnROb2RlKS5wYXRoKGEpO2cuYXBwZW5kQ2hpbGQoaC5ub2RlKSxkPWguaWQsaC5hdHRyKHtpZDpkfSl9ZWxzZSBhPWwoYSksYSBpbnN0YW5jZW9mIGMmJihkPWEuYXR0cigiaWQiKSxkfHwoZD1hLmlkLGEuYXR0cih7aWQ6ZH0pKSk7aWYoZClpZihlPXRoaXMudGV4dFBhdGgsZj10aGlzLm5vZGUsZSllLmF0dHIoeyJ4bGluazpocmVmIjoiIyIrZH0pO2Vsc2V7Zm9yKGU9cCgidGV4dFBhdGgiLHsieGxpbms6aHJlZiI6IiMiK2R9KTtmLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoZi5maXJzdENoaWxkKTtmLmFwcGVuZENoaWxkKGUpLHRoaXMudGV4dFBhdGg9bChlKX19fSkoLTEpLGIub24oInNuYXAudXRpbC5hdHRyLnRleHQiLGZ1bmN0aW9uKGEpe2lmKCJ0ZXh0Ij09dGhpcy50eXBlKXtmb3IodmFyIGM9dGhpcy5ub2RlLGQ9ZnVuY3Rpb24oYSl7dmFyIGI9cCgidHNwYW4iKTtpZihtKGEsImFycmF5IikpZm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYi5hcHBlbmRDaGlsZChkKGFbY10pKTtlbHNlIGIuYXBwZW5kQ2hpbGQoZS5kb2MuY3JlYXRlVGV4dE5vZGUoYSkpO3JldHVybiBiLm5vcm1hbGl6ZSYmYi5ub3JtYWxpemUoKSxifTtjLmZpcnN0Q2hpbGQ7KWMucmVtb3ZlQ2hpbGQoYy5maXJzdENoaWxkKTtmb3IodmFyIGY9ZChhKTtmLmZpcnN0Q2hpbGQ7KWMuYXBwZW5kQ2hpbGQoZi5maXJzdENoaWxkKX1iLnN0b3AoKX0pKC0xKSxiLm9uKCJzbmFwLnV0aWwuYXR0ci5mb250U2l6ZSIsaCkoLTEpLGIub24oInNuYXAudXRpbC5hdHRyLmZvbnQtc2l6ZSIsaCkoLTEpLGIub24oInNuYXAudXRpbC5nZXRhdHRyLnRyYW5zZm9ybSIsZnVuY3Rpb24oKXtyZXR1cm4gYi5zdG9wKCksdGhpcy50cmFuc2Zvcm0oKX0pKC0xKSxiLm9uKCJzbmFwLnV0aWwuZ2V0YXR0ci50ZXh0cGF0aCIsZnVuY3Rpb24oKXtyZXR1cm4gYi5zdG9wKCksdGhpcy50ZXh0UGF0aH0pKC0xKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYyl7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5zdG9wKCk7dmFyIGQ9ZS5kb2MuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLm5vZGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgibWFya2VyLSIrYyk7cmV0dXJuIm5vbmUiPT1kP2Q6YShlLmRvYy5nZXRFbGVtZW50QnlJZChkLm1hdGNoKG8pWzFdKSl9fWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe2Iuc3RvcCgpO3ZhciBkPSJtYXJrZXIiK2EuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHJpbmcoMSk7aWYoIiI9PWN8fCFjKXJldHVybiB2b2lkKHRoaXMubm9kZS5zdHlsZVtkXT0ibm9uZSIpO2lmKCJtYXJrZXIiPT1jLnR5cGUpe3ZhciBlPWMubm9kZS5pZDtyZXR1cm4gZXx8cChjLm5vZGUse2lkOmMuaWR9KSx2b2lkKHRoaXMubm9kZS5zdHlsZVtkXT1xKGUpKX19fWIub24oInNuYXAudXRpbC5nZXRhdHRyLm1hcmtlci1lbmQiLGMoImVuZCIpKSgtMSksYi5vbigic25hcC51dGlsLmdldGF0dHIubWFya2VyRW5kIixjKCJlbmQiKSkoLTEpLGIub24oInNuYXAudXRpbC5nZXRhdHRyLm1hcmtlci1zdGFydCIsYygic3RhcnQiKSkoLTEpLGIub24oInNuYXAudXRpbC5nZXRhdHRyLm1hcmtlclN0YXJ0IixjKCJzdGFydCIpKSgtMSksYi5vbigic25hcC51dGlsLmdldGF0dHIubWFya2VyLW1pZCIsYygibWlkIikpKC0xKSxiLm9uKCJzbmFwLnV0aWwuZ2V0YXR0ci5tYXJrZXJNaWQiLGMoIm1pZCIpKSgtMSksYi5vbigic25hcC51dGlsLmF0dHIubWFya2VyLWVuZCIsZCgiZW5kIikpKC0xKSxiLm9uKCJzbmFwLnV0aWwuYXR0ci5tYXJrZXJFbmQiLGQoImVuZCIpKSgtMSksYi5vbigic25hcC51dGlsLmF0dHIubWFya2VyLXN0YXJ0IixkKCJzdGFydCIpKSgtMSksYi5vbigic25hcC51dGlsLmF0dHIubWFya2VyU3RhcnQiLGQoInN0YXJ0IikpKC0xKSxiLm9uKCJzbmFwLnV0aWwuYXR0ci5tYXJrZXItbWlkIixkKCJtaWQiKSkoLTEpLGIub24oInNuYXAudXRpbC5hdHRyLm1hcmtlck1pZCIsZCgibWlkIikpKC0xKX0oKSxiLm9uKCJzbmFwLnV0aWwuZ2V0YXR0ci5yIixmdW5jdGlvbigpe3JldHVybiJyZWN0Ij09dGhpcy50eXBlJiZwKHRoaXMubm9kZSwicngiKT09cCh0aGlzLm5vZGUsInJ5Iik/KGIuc3RvcCgpLHAodGhpcy5ub2RlLCJyeCIpKTp2b2lkIDB9KSgtMSksYi5vbigic25hcC51dGlsLmdldGF0dHIudGV4dCIsZnVuY3Rpb24oKXtpZigidGV4dCI9PXRoaXMudHlwZXx8InRzcGFuIj09dGhpcy50eXBlKXtiLnN0b3AoKTt2YXIgYT1pKHRoaXMubm9kZSk7cmV0dXJuIDE9PWEubGVuZ3RoP2FbMF06YX19KSgtMSksYi5vbigic25hcC51dGlsLmdldGF0dHIuI3RleHQiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS50ZXh0Q29udGVudH0pKC0xKSxiLm9uKCJzbmFwLnV0aWwuZ2V0YXR0ci5maWxsIixmdW5jdGlvbihjKXtpZighYyl7Yi5zdG9wKCk7dmFyIGQ9Yigic25hcC51dGlsLmdldGF0dHIuZmlsbCIsdGhpcywhMCkuZmlyc3REZWZpbmVkKCk7cmV0dXJuIGEoYS5kZXVybChkKSl8fGR9fSkoLTEpLGIub24oInNuYXAudXRpbC5nZXRhdHRyLnN0cm9rZSIsZnVuY3Rpb24oYyl7aWYoIWMpe2Iuc3RvcCgpO3ZhciBkPWIoInNuYXAudXRpbC5nZXRhdHRyLnN0cm9rZSIsdGhpcywhMCkuZmlyc3REZWZpbmVkKCk7cmV0dXJuIGEoYS5kZXVybChkKSl8fGR9fSkoLTEpLGIub24oInNuYXAudXRpbC5nZXRhdHRyLnZpZXdCb3giLGZ1bmN0aW9uKCl7Yi5zdG9wKCk7dmFyIGM9cCh0aGlzLm5vZGUsInZpZXdCb3giKTtyZXR1cm4gYz8oYz1jLnNwbGl0KHMpLGEuXy5ib3goK2NbMF0sK2NbMV0sK2NbMl0sK2NbM10pKTp2b2lkIDB9KSgtMSksYi5vbigic25hcC51dGlsLmdldGF0dHIucG9pbnRzIixmdW5jdGlvbigpe3ZhciBhPXAodGhpcy5ub2RlLCJwb2ludHMiKTtyZXR1cm4gYi5zdG9wKCksYT9hLnNwbGl0KHMpOnZvaWQgMH0pKC0xKSxiLm9uKCJzbmFwLnV0aWwuZ2V0YXR0ci5wYXRoIixmdW5jdGlvbigpe3ZhciBhPXAodGhpcy5ub2RlLCJkIik7cmV0dXJuIGIuc3RvcCgpLGF9KSgtMSksYi5vbigic25hcC51dGlsLmdldGF0dHIuY2xhc3MiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5jbGFzc05hbWUuYmFzZVZhbH0pKC0xKSxiLm9uKCJzbmFwLnV0aWwuZ2V0YXR0ci5mb250U2l6ZSIsaikoLTEpLGIub24oInNuYXAudXRpbC5nZXRhdHRyLmZvbnQtc2l6ZSIsaikoLTEpfSksZC5wbHVnaW4oZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0vXFMrL2csZz1TdHJpbmcsaD1iLnByb3RvdHlwZTtoLmFkZENsYXNzPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGg9ZyhhfHwiIikubWF0Y2goZil8fFtdLGk9dGhpcy5ub2RlLGo9aS5jbGFzc05hbWUuYmFzZVZhbCxrPWoubWF0Y2goZil8fFtdO2lmKGgubGVuZ3RoKXtmb3IoYj0wO2Q9aFtiKytdOyljPWsuaW5kZXhPZihkKSx+Y3x8ay5wdXNoKGQpO2U9ay5qb2luKCIgIiksaiE9ZSYmKGkuY2xhc3NOYW1lLmJhc2VWYWw9ZSl9cmV0dXJuIHRoaXN9LGgucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsaD1nKGF8fCIiKS5tYXRjaChmKXx8W10saT10aGlzLm5vZGUsaj1pLmNsYXNzTmFtZS5iYXNlVmFsLGs9ai5tYXRjaChmKXx8W107aWYoay5sZW5ndGgpe2ZvcihiPTA7ZD1oW2IrK107KWM9ay5pbmRleE9mKGQpLH5jJiZrLnNwbGljZShjLDEpO2U9ay5qb2luKCIgIiksaiE9ZSYmKGkuY2xhc3NOYW1lLmJhc2VWYWw9ZSl9cmV0dXJuIHRoaXN9LGguaGFzQ2xhc3M9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ub2RlLGM9Yi5jbGFzc05hbWUuYmFzZVZhbCxkPWMubWF0Y2goZil8fFtdO3JldHVybiEhfmQuaW5kZXhPZihhKX0saC50b2dnbGVDbGFzcz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWIpcmV0dXJuIGI/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpO3ZhciBjLGQsZSxnLGg9KGF8fCIiKS5tYXRjaChmKXx8W10saT10aGlzLm5vZGUsaj1pLmNsYXNzTmFtZS5iYXNlVmFsLGs9ai5tYXRjaChmKXx8W107Zm9yKGM9MDtlPWhbYysrXTspZD1rLmluZGV4T2YoZSksfmQ/ay5zcGxpY2UoZCwxKTprLnB1c2goZSk7cmV0dXJuIGc9ay5qb2luKCIgIiksaiE9ZyYmKGkuY2xhc3NOYW1lLmJhc2VWYWw9ZyksdGhpc319KSxkLnBsdWdpbihmdW5jdGlvbihhLGMsZCxlLGYpe2Z1bmN0aW9uIGcoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gaChhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuK2IudG9GaXhlZCgzKSthfX12YXIgaT17IisiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYn0sIi0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0sIi8iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEvYn0sIioiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEqYn19LGo9U3RyaW5nLGs9L1thLXpdKyQvaSxsPS9eXHMqKFsrXC1cLypdKVxzKj1ccyooW1xkLmVFK1wtXSspXHMqKFteXGRcc10rKT9ccyokLztiLm9uKCJzbmFwLnV0aWwuYXR0ciIsZnVuY3Rpb24oYSl7dmFyIGM9aihhKS5tYXRjaChsKTtpZihjKXt2YXIgZD1iLm50KCksZT1kLnN1YnN0cmluZyhkLmxhc3RJbmRleE9mKCIuIikrMSksZj10aGlzLmF0dHIoZSksZz17fTtiLnN0b3AoKTt2YXIgaD1jWzNdfHwiIixtPWYubWF0Y2goayksbj1pW2NbMV1dO2lmKG0mJm09PWg/YT1uKHBhcnNlRmxvYXQoZiksK2NbMl0pOihmPXRoaXMuYXNQWChlKSxhPW4odGhpcy5hc1BYKGUpLHRoaXMuYXNQWChlLGNbMl0raCkpKSxpc05hTihmKXx8aXNOYU4oYSkpcmV0dXJuO2dbZV09YSx0aGlzLmF0dHIoZyl9fSkoLTEwKSxiLm9uKCJzbmFwLnV0aWwuZXF1YWwiLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9aih0aGlzLmF0dHIoYSl8fCIiKSxlPWooYykubWF0Y2gobCk7aWYoZSl7Yi5zdG9wKCk7dmFyIGY9ZVszXXx8IiIsbT1kLm1hdGNoKGspLG49aVtlWzFdXTtyZXR1cm4gbSYmbT09Zj97ZnJvbTpwYXJzZUZsb2F0KGQpLHRvOm4ocGFyc2VGbG9hdChkKSwrZVsyXSksZjpoKG0pfTooZD10aGlzLmFzUFgoYSkse2Zyb206ZCx0bzpuKGQsdGhpcy5hc1BYKGEsZVsyXStmKSksZjpnfSl9fSkoLTEwKX0pLGQucGx1Z2luKGZ1bmN0aW9uKGMsZCxlLGYsZyl7dmFyIGg9ZS5wcm90b3R5cGUsaT1jLmlzO2gucmVjdD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc7cmV0dXJuIG51bGw9PWYmJihmPWUpLGkoYSwib2JqZWN0IikmJiJbb2JqZWN0IE9iamVjdF0iPT1hP2c9YTpudWxsIT1hJiYoZz17eDphLHk6Yix3aWR0aDpjLGhlaWdodDpkfSxudWxsIT1lJiYoZy5yeD1lLGcucnk9ZikpLHRoaXMuZWwoInJlY3QiLGcpfSxoLmNpcmNsZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGkoYSwib2JqZWN0IikmJiJbb2JqZWN0IE9iamVjdF0iPT1hP2Q9YTpudWxsIT1hJiYoZD17Y3g6YSxjeTpiLHI6Y30pLHRoaXMuZWwoImNpcmNsZSIsZCl9O3ZhciBqPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKX1yZXR1cm4gZnVuY3Rpb24oYixjKXt2YXIgZD1mLmRvYy5jcmVhdGVFbGVtZW50KCJpbWciKSxlPWYuZG9jLmJvZHk7ZC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5ZW07dG9wOi05OTk5ZW0iLGQub25sb2FkPWZ1bmN0aW9uKCl7Yy5jYWxsKGQpLGQub25sb2FkPWQub25lcnJvcj1udWxsLGUucmVtb3ZlQ2hpbGQoZCl9LGQub25lcnJvcj1hLGUuYXBwZW5kQ2hpbGQoZCksZC5zcmM9Yn19KCk7aC5pbWFnZT1mdW5jdGlvbihhLGIsZCxlLGYpe3ZhciBnPXRoaXMuZWwoImltYWdlIik7aWYoaShhLCJvYmplY3QiKSYmInNyYyJpbiBhKWcuYXR0cihhKTtlbHNlIGlmKG51bGwhPWEpe3ZhciBoPXsieGxpbms6aHJlZiI6YSxwcmVzZXJ2ZUFzcGVjdFJhdGlvOiJub25lIn07bnVsbCE9YiYmbnVsbCE9ZCYmKGgueD1iLGgueT1kKSxudWxsIT1lJiZudWxsIT1mPyhoLndpZHRoPWUsaC5oZWlnaHQ9Zik6aihhLGZ1bmN0aW9uKCl7Yy5fLiQoZy5ub2RlLHt3aWR0aDp0aGlzLm9mZnNldFdpZHRoLGhlaWdodDp0aGlzLm9mZnNldEhlaWdodH0pfSksYy5fLiQoZy5ub2RlLGgpfXJldHVybiBnfSxoLmVsbGlwc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU7cmV0dXJuIGkoYSwib2JqZWN0IikmJiJbb2JqZWN0IE9iamVjdF0iPT1hP2U9YTpudWxsIT1hJiYoZT17Y3g6YSxjeTpiLHJ4OmMscnk6ZH0pLHRoaXMuZWwoImVsbGlwc2UiLGUpfSxoLnBhdGg9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGkoYSwib2JqZWN0IikmJiFpKGEsImFycmF5Iik/Yj1hOmEmJihiPXtkOmF9KSx0aGlzLmVsKCJwYXRoIixiKX0saC5ncm91cD1oLmc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbCgiZyIpO3JldHVybiAxPT1hcmd1bWVudHMubGVuZ3RoJiZhJiYhYS50eXBlP2IuYXR0cihhKTphcmd1bWVudHMubGVuZ3RoJiZiLmFkZChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpLGJ9LGguc3ZnPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGo9e307cmV0dXJuIGkoYSwib2JqZWN0IikmJm51bGw9PWI/aj1hOihudWxsIT1hJiYoai54PWEpLG51bGwhPWImJihqLnk9YiksbnVsbCE9YyYmKGoud2lkdGg9YyksbnVsbCE9ZCYmKGouaGVpZ2h0PWQpLG51bGwhPWUmJm51bGwhPWYmJm51bGwhPWcmJm51bGwhPWgmJihqLnZpZXdCb3g9W2UsZixnLGhdKSksdGhpcy5lbCgic3ZnIixqKX0saC5tYXNrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWwoIm1hc2siKTtyZXR1cm4gMT09YXJndW1lbnRzLmxlbmd0aCYmYSYmIWEudHlwZT9iLmF0dHIoYSk6YXJndW1lbnRzLmxlbmd0aCYmYi5hZGQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKSxifSxoLnB0cm49ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtpZihpKGEsIm9iamVjdCIpKXZhciBqPWE7ZWxzZSBqPXtwYXR0ZXJuVW5pdHM6InVzZXJTcGFjZU9uVXNlIn0sYSYmKGoueD1hKSxiJiYoai55PWIpLG51bGwhPWMmJihqLndpZHRoPWMpLG51bGwhPWQmJihqLmhlaWdodD1kKSxudWxsIT1lJiZudWxsIT1mJiZudWxsIT1nJiZudWxsIT1oP2oudmlld0JveD1bZSxmLGcsaF06ai52aWV3Qm94PVthfHwwLGJ8fDAsY3x8MCxkfHwwXTtyZXR1cm4gdGhpcy5lbCgicGF0dGVybiIsail9LGgudXNlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hPyhhIGluc3RhbmNlb2YgZCYmKGEuYXR0cigiaWQiKXx8YS5hdHRyKHtpZDpjLl8uaWQoYSl9KSxhPWEuYXR0cigiaWQiKSksIiMiPT1TdHJpbmcoYSkuY2hhckF0KCkmJihhPWEuc3Vic3RyaW5nKDEpKSx0aGlzLmVsKCJ1c2UiLHsieGxpbms6aHJlZiI6IiMiK2F9KSk6ZC5wcm90b3R5cGUudXNlLmNhbGwodGhpcyl9LGguc3ltYm9sPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXt9O3JldHVybiBudWxsIT1hJiZudWxsIT1iJiZudWxsIT1jJiZudWxsIT1kJiYoZS52aWV3Qm94PVthLGIsYyxkXSksdGhpcy5lbCgic3ltYm9sIixlKX0saC50ZXh0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fTtyZXR1cm4gaShhLCJvYmplY3QiKT9kPWE6bnVsbCE9YSYmKGQ9e3g6YSx5OmIsdGV4dDpjfHwiIn0pLHRoaXMuZWwoInRleHQiLGQpfSxoLmxpbmU9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307cmV0dXJuIGkoYSwib2JqZWN0Iik/ZT1hOm51bGwhPWEmJihlPXt4MTphLHgyOmMseTE6Yix5MjpkfSksdGhpcy5lbCgibGluZSIsZSl9LGgucG9seWxpbmU9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aD4xJiYoYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpO3ZhciBiPXt9O3JldHVybiBpKGEsIm9iamVjdCIpJiYhaShhLCJhcnJheSIpP2I9YTpudWxsIT1hJiYoYj17cG9pbnRzOmF9KSx0aGlzLmVsKCJwb2x5bGluZSIsYil9LGgucG9seWdvbj1mdW5jdGlvbihhKXthcmd1bWVudHMubGVuZ3RoPjEmJihhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSk7dmFyIGI9e307cmV0dXJuIGkoYSwib2JqZWN0IikmJiFpKGEsImFycmF5Iik/Yj1hOm51bGwhPWEmJihiPXtwb2ludHM6YX0pLHRoaXMuZWwoInBvbHlnb24iLGIpfSxmdW5jdGlvbigpe2Z1bmN0aW9uIGQoKXtyZXR1cm4gdGhpcy5zZWxlY3RBbGwoInN0b3AiKX1mdW5jdGlvbiBlKGEsYil7dmFyIGQ9bCgic3RvcCIpLGU9e29mZnNldDorYisiJSJ9O2E9Yy5jb2xvcihhKSxlWyJzdG9wLWNvbG9yIl09YS5oZXgsYS5vcGFjaXR5PDEmJihlWyJzdG9wLW9wYWNpdHkiXT1hLm9wYWNpdHkpLGwoZCxlKTtmb3IodmFyIGYsZz10aGlzLnN0b3BzKCksaD0wO2g8Zy5sZW5ndGg7aCsrKXt2YXIgaT1wYXJzZUZsb2F0KGdbaF0uYXR0cigib2Zmc2V0IikpO2lmKGk+Yil7dGhpcy5ub2RlLmluc2VydEJlZm9yZShkLGdbaF0ubm9kZSksZj0hMDticmVha319cmV0dXJuIGZ8fHRoaXMubm9kZS5hcHBlbmRDaGlsZChkKSx0aGlzfWZ1bmN0aW9uIGYoKXtpZigibGluZWFyR3JhZGllbnQiPT10aGlzLnR5cGUpe3ZhciBhPWwodGhpcy5ub2RlLCJ4MSIpfHwwLGI9bCh0aGlzLm5vZGUsIngyIil8fDEsZD1sKHRoaXMubm9kZSwieTEiKXx8MCxlPWwodGhpcy5ub2RlLCJ5MiIpfHwwO3JldHVybiBjLl8uYm94KGEsZCxtYXRoLmFicyhiLWEpLG1hdGguYWJzKGUtZCkpfXZhciBmPXRoaXMubm9kZS5jeHx8LjUsZz10aGlzLm5vZGUuY3l8fC41LGg9dGhpcy5ub2RlLnJ8fDA7cmV0dXJuIGMuXy5ib3goZi1oLGctaCwyKmgsMipoKX1mdW5jdGlvbiBnKGEpe3ZhciBkPWEsZT10aGlzLnN0b3BzKCk7aWYoInN0cmluZyI9PXR5cGVvZiBhJiYoZD1iKCJzbmFwLnV0aWwuZ3JhZC5wYXJzZSIsbnVsbCwibCgwLDAsMCwxKSIrYSkuZmlyc3REZWZpbmVkKCkuc3RvcHMpLGMuaXMoZCwiYXJyYXkiKSl7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspaWYoZFtmXSl7dmFyIGc9Yy5jb2xvcihkW2ZdLmNvbG9yKSxoPXtvZmZzZXQ6ZFtmXS5vZmZzZXQrIiUifTtoWyJzdG9wLWNvbG9yIl09Zy5oZXgsZy5vcGFjaXR5PDEmJihoWyJzdG9wLW9wYWNpdHkiXT1nLm9wYWNpdHkpLGVbZl0uYXR0cihoKX1lbHNlIGVbZl0ucmVtb3ZlKCk7Zm9yKGY9ZS5sZW5ndGg7ZjxkLmxlbmd0aDtmKyspdGhpcy5hZGRTdG9wKGRbZl0uY29sb3IsZFtmXS5vZmZzZXQpO3JldHVybiB0aGlzfX1mdW5jdGlvbiBpKGEsYyl7dmFyIGQsZT1iKCJzbmFwLnV0aWwuZ3JhZC5wYXJzZSIsbnVsbCxjKS5maXJzdERlZmluZWQoKTtpZighZSlyZXR1cm4gbnVsbDtlLnBhcmFtcy51bnNoaWZ0KGEpLGQ9ImwiPT1lLnR5cGUudG9Mb3dlckNhc2UoKT9qLmFwcGx5KDAsZS5wYXJhbXMpOmsuYXBwbHkoMCxlLnBhcmFtcyksZS50eXBlIT1lLnR5cGUudG9Mb3dlckNhc2UoKSYmbChkLm5vZGUse2dyYWRpZW50VW5pdHM6InVzZXJTcGFjZU9uVXNlIn0pO2Zvcih2YXIgZj1lLnN0b3BzLGc9Zi5sZW5ndGgsaD0wO2c+aDtoKyspe3ZhciBpPWZbaF07ZC5hZGRTdG9wKGkuY29sb3IsaS5vZmZzZXQpfXJldHVybiBkfWZ1bmN0aW9uIGooYSxiLGgsaSxqKXt2YXIgaz1jLl8ubWFrZSgibGluZWFyR3JhZGllbnQiLGEpO3JldHVybiBrLnN0b3BzPWQsay5hZGRTdG9wPWUsay5nZXRCQm94PWYsay5zZXRTdG9wcz1nLG51bGwhPWImJmwoay5ub2RlLHt4MTpiLHkxOmgseDI6aSx5MjpqfSksa31mdW5jdGlvbiBrKGEsYixnLGgsaSxqKXt2YXIgaz1jLl8ubWFrZSgicmFkaWFsR3JhZGllbnQiLGEpO3JldHVybiBrLnN0b3BzPWQsay5hZGRTdG9wPWUsay5nZXRCQm94PWYsbnVsbCE9YiYmbChrLm5vZGUse2N4OmIsY3k6ZyxyOmh9KSxudWxsIT1pJiZudWxsIT1qJiZsKGsubm9kZSx7Zng6aSxmeTpqfSksa312YXIgbD1jLl8uJDtoLmdyYWRpZW50PWZ1bmN0aW9uKGEpe3JldHVybiBpKHRoaXMuZGVmcyxhKX0saC5ncmFkaWVudExpbmVhcj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gaih0aGlzLmRlZnMsYSxiLGMsZCl9LGguZ3JhZGllbnRSYWRpYWw9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gayh0aGlzLmRlZnMsYSxiLGMsZCxlKX0saC50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5ub2RlLm93bmVyRG9jdW1lbnQsZD1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxlPWIuY3JlYXRlRWxlbWVudCgiZGl2IiksZj10aGlzLm5vZGUuY2xvbmVOb2RlKCEwKTtyZXR1cm4gZC5hcHBlbmRDaGlsZChlKSxlLmFwcGVuZENoaWxkKGYpLGMuXy4kKGYse3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyJ9KSxhPWUuaW5uZXJIVE1MLGQucmVtb3ZlQ2hpbGQoZC5maXJzdENoaWxkKSxhfSxoLnRvRGF0YVVSTD1mdW5jdGlvbigpe3JldHVybiBhJiZhLmJ0b2E/ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0aGlzKSkpOnZvaWQgMH0saC5jbGVhcj1mdW5jdGlvbigpe2Zvcih2YXIgYSxiPXRoaXMubm9kZS5maXJzdENoaWxkO2I7KWE9Yi5uZXh0U2libGluZywiZGVmcyIhPWIudGFnTmFtZT9iLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik6aC5jbGVhci5jYWxsKHtub2RlOmJ9KSxiPWF9fSgpfSksZC5wbHVnaW4oZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj1lLnBzPWUucHN8fHt9O3JldHVybiBiW2FdP2JbYV0uc2xlZXA9MTAwOmJbYV09e3NsZWVwOjEwMH0sc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgYyBpbiBiKWJbTV0oYykmJmMhPWEmJihiW2NdLnNsZWVwLS0sIWJbY10uc2xlZXAmJmRlbGV0ZSBiW2NdKX0pLGJbYV19ZnVuY3Rpb24gZihhLGIsYyxkKXtyZXR1cm4gbnVsbD09YSYmKGE9Yj1jPWQ9MCksbnVsbD09YiYmKGI9YS55LGM9YS53aWR0aCxkPWEuaGVpZ2h0LGE9YS54KSx7eDphLHk6Yix3aWR0aDpjLHc6YyxoZWlnaHQ6ZCxoOmQseDI6YStjLHkyOmIrZCxjeDphK2MvMixjeTpiK2QvMixyMTpQLm1pbihjLGQpLzIscjI6UC5tYXgoYyxkKS8yLHIwOlAuc3FydChjKmMrZCpkKS8yLHBhdGg6eShhLGIsYyxkKSx2YjpbYSxiLGMsZF0uam9pbigiICIpfX1mdW5jdGlvbiBnKCl7cmV0dXJuIHRoaXMuam9pbigiLCIpLnJlcGxhY2UoTiwiJDEiKX1mdW5jdGlvbiBoKGEpe3ZhciBiPUwoYSk7cmV0dXJuIGIudG9TdHJpbmc9ZyxifWZ1bmN0aW9uIGkoYSxiLGMsZCxlLGYsZyxoLGkpe3JldHVybiBudWxsPT1pP3AoYSxiLGMsZCxlLGYsZyxoKTprKGEsYixjLGQsZSxmLGcsaCxxKGEsYixjLGQsZSxmLGcsaCxpKSl9ZnVuY3Rpb24gaihjLGQpe2Z1bmN0aW9uIGUoYSl7cmV0dXJuKygrYSkudG9GaXhlZCgzKX1yZXR1cm4gYS5fLmNhY2hlcihmdW5jdGlvbihhLGYsZyl7YSBpbnN0YW5jZW9mIGImJihhPWEuYXR0cigiZCIpKSxhPUcoYSk7Zm9yKHZhciBoLGosbCxtLG4sbz0iIixwPXt9LHE9MCxyPTAscz1hLmxlbmd0aDtzPnI7cisrKXtpZihsPWFbcl0sIk0iPT1sWzBdKWg9K2xbMV0saj0rbFsyXTtlbHNle2lmKG09aShoLGosbFsxXSxsWzJdLGxbM10sbFs0XSxsWzVdLGxbNl0pLHErbT5mKXtpZihkJiYhcC5zdGFydCl7aWYobj1pKGgsaixsWzFdLGxbMl0sbFszXSxsWzRdLGxbNV0sbFs2XSxmLXEpLG8rPVsiQyIrZShuLnN0YXJ0LngpLGUobi5zdGFydC55KSxlKG4ubS54KSxlKG4ubS55KSxlKG4ueCksZShuLnkpXSxnKXJldHVybiBvO3Auc3RhcnQ9byxvPVsiTSIrZShuLngpLGUobi55KSsiQyIrZShuLm4ueCksZShuLm4ueSksZShuLmVuZC54KSxlKG4uZW5kLnkpLGUobFs1XSksZShsWzZdKV0uam9pbigpLHErPW0saD0rbFs1XSxqPStsWzZdO2NvbnRpbnVlfWlmKCFjJiYhZClyZXR1cm4gbj1pKGgsaixsWzFdLGxbMl0sbFszXSxsWzRdLGxbNV0sbFs2XSxmLXEpfXErPW0saD0rbFs1XSxqPStsWzZdfW8rPWwuc2hpZnQoKStsfXJldHVybiBwLmVuZD1vLG49Yz9xOmQ/cDprKGgsaixsWzBdLGxbMV0sbFsyXSxsWzNdLGxbNF0sbFs1XSwxKX0sbnVsbCxhLl8uY2xvbmUpfWZ1bmN0aW9uIGsoYSxiLGMsZCxlLGYsZyxoLGkpe3ZhciBqPTEtaSxrPVQoaiwzKSxsPVQoaiwyKSxtPWkqaSxuPW0qaSxvPWsqYSszKmwqaSpjKzMqaippKmkqZStuKmcscD1rKmIrMypsKmkqZCszKmoqaSppKmYrbipoLHE9YSsyKmkqKGMtYSkrbSooZS0yKmMrYSkscj1iKzIqaSooZC1iKSttKihmLTIqZCtiKSxzPWMrMippKihlLWMpK20qKGctMiplK2MpLHQ9ZCsyKmkqKGYtZCkrbSooaC0yKmYrZCksdT1qKmEraSpjLHY9aipiK2kqZCx3PWoqZStpKmcseD1qKmYraSpoLHk9OTAtMTgwKlAuYXRhbjIocS1zLHItdCkvUTtyZXR1cm57eDpvLHk6cCxtOnt4OnEseTpyfSxuOnt4OnMseTp0fSxzdGFydDp7eDp1LHk6dn0sZW5kOnt4OncseTp4fSxhbHBoYTp5fX1mdW5jdGlvbiBsKGIsYyxkLGUsZyxoLGksail7YS5pcyhiLCJhcnJheSIpfHwoYj1bYixjLGQsZSxnLGgsaSxqXSk7dmFyIGs9Ri5hcHBseShudWxsLGIpO3JldHVybiBmKGsubWluLngsay5taW4ueSxrLm1heC54LWsubWluLngsay5tYXgueS1rLm1pbi55KX1mdW5jdGlvbiBtKGEsYixjKXtyZXR1cm4gYj49YS54JiZiPD1hLngrYS53aWR0aCYmYz49YS55JiZjPD1hLnkrYS5oZWlnaHR9ZnVuY3Rpb24gbihhLGIpe3JldHVybiBhPWYoYSksYj1mKGIpLG0oYixhLngsYS55KXx8bShiLGEueDIsYS55KXx8bShiLGEueCxhLnkyKXx8bShiLGEueDIsYS55Mil8fG0oYSxiLngsYi55KXx8bShhLGIueDIsYi55KXx8bShhLGIueCxiLnkyKXx8bShhLGIueDIsYi55Mil8fChhLng8Yi54MiYmYS54PmIueHx8Yi54PGEueDImJmIueD5hLngpJiYoYS55PGIueTImJmEueT5iLnl8fGIueTxhLnkyJiZiLnk+YS55KX1mdW5jdGlvbiBvKGEsYixjLGQsZSl7dmFyIGY9LTMqYis5KmMtOSpkKzMqZSxnPWEqZis2KmItMTIqYys2KmQ7cmV0dXJuIGEqZy0zKmIrMypjfWZ1bmN0aW9uIHAoYSxiLGMsZCxlLGYsZyxoLGkpe251bGw9PWkmJihpPTEpLGk9aT4xPzE6MD5pPzA6aTtmb3IodmFyIGo9aS8yLGs9MTIsbD1bLS4xMjUyLC4xMjUyLC0uMzY3OCwuMzY3OCwtLjU4NzMsLjU4NzMsLS43Njk5LC43Njk5LC0uOTA0MSwuOTA0MSwtLjk4MTYsLjk4MTZdLG09Wy4yNDkxLC4yNDkxLC4yMzM1LC4yMzM1LC4yMDMyLC4yMDMyLC4xNjAxLC4xNjAxLC4xMDY5LC4xMDY5LC4wNDcyLC4wNDcyXSxuPTAscD0wO2s+cDtwKyspe3ZhciBxPWoqbFtwXStqLHI9byhxLGEsYyxlLGcpLHM9byhxLGIsZCxmLGgpLHQ9cipyK3MqcztuKz1tW3BdKlAuc3FydCh0KX1yZXR1cm4gaipufWZ1bmN0aW9uIHEoYSxiLGMsZCxlLGYsZyxoLGkpe2lmKCEoMD5pfHxwKGEsYixjLGQsZSxmLGcsaCk8aSkpe3ZhciBqLGs9MSxsPWsvMixtPWstbCxuPS4wMTtmb3Ioaj1wKGEsYixjLGQsZSxmLGcsaCxtKTtVKGotaSk+bjspbC89MixtKz0oaT5qPzE6LTEpKmwsaj1wKGEsYixjLGQsZSxmLGcsaCxtKTtyZXR1cm4gbX19ZnVuY3Rpb24gcihhLGIsYyxkLGUsZixnLGgpe2lmKCEoUyhhLGMpPFIoZSxnKXx8UihhLGMpPlMoZSxnKXx8UyhiLGQpPFIoZixoKXx8UihiLGQpPlMoZixoKSkpe3ZhciBpPShhKmQtYipjKSooZS1nKS0oYS1jKSooZSpoLWYqZyksaj0oYSpkLWIqYykqKGYtaCktKGItZCkqKGUqaC1mKmcpLGs9KGEtYykqKGYtaCktKGItZCkqKGUtZyk7aWYoayl7dmFyIGw9aS9rLG09ai9rLG49K2wudG9GaXhlZCgyKSxvPSttLnRvRml4ZWQoMik7aWYoIShuPCtSKGEsYykudG9GaXhlZCgyKXx8bj4rUyhhLGMpLnRvRml4ZWQoMil8fG48K1IoZSxnKS50b0ZpeGVkKDIpfHxuPitTKGUsZykudG9GaXhlZCgyKXx8bzwrUihiLGQpLnRvRml4ZWQoMil8fG8+K1MoYixkKS50b0ZpeGVkKDIpfHxvPCtSKGYsaCkudG9GaXhlZCgyKXx8bz4rUyhmLGgpLnRvRml4ZWQoMikpKXJldHVybnt4OmwseTptfX19fWZ1bmN0aW9uIHMoYSxiLGMpe3ZhciBkPWwoYSksZT1sKGIpO2lmKCFuKGQsZSkpcmV0dXJuIGM/MDpbXTtmb3IodmFyIGY9cC5hcHBseSgwLGEpLGc9cC5hcHBseSgwLGIpLGg9fn4oZi84KSxpPX5+KGcvOCksaj1bXSxtPVtdLG89e30scT1jPzA6W10scz0wO2grMT5zO3MrKyl7dmFyIHQ9ay5hcHBseSgwLGEuY29uY2F0KHMvaCkpO2oucHVzaCh7eDp0LngseTp0LnksdDpzL2h9KX1mb3Iocz0wO2krMT5zO3MrKyl0PWsuYXBwbHkoMCxiLmNvbmNhdChzL2kpKSxtLnB1c2goe3g6dC54LHk6dC55LHQ6cy9pfSk7Zm9yKHM9MDtoPnM7cysrKWZvcih2YXIgdT0wO2k+dTt1Kyspe3ZhciB2PWpbc10sdz1qW3MrMV0seD1tW3VdLHk9bVt1KzFdLHo9VSh3Lngtdi54KTwuMDAxPyJ5IjoieCIsQT1VKHkueC14LngpPC4wMDE/InkiOiJ4IixCPXIodi54LHYueSx3Lngsdy55LHgueCx4LnkseS54LHkueSk7aWYoQil7aWYob1tCLngudG9GaXhlZCg0KV09PUIueS50b0ZpeGVkKDQpKWNvbnRpbnVlO29bQi54LnRvRml4ZWQoNCldPUIueS50b0ZpeGVkKDQpO3ZhciBDPXYudCtVKChCW3pdLXZbel0pLyh3W3pdLXZbel0pKSoody50LXYudCksRD14LnQrVSgoQltBXS14W0FdKS8oeVtBXS14W0FdKSkqKHkudC14LnQpO0M+PTAmJjE+PUMmJkQ+PTAmJjE+PUQmJihjP3ErKzpxLnB1c2goe3g6Qi54LHk6Qi55LHQxOkMsdDI6RH0pKX19cmV0dXJuIHF9ZnVuY3Rpb24gdChhLGIpe3JldHVybiB2KGEsYil9ZnVuY3Rpb24gdShhLGIpe3JldHVybiB2KGEsYiwxKX1mdW5jdGlvbiB2KGEsYixjKXthPUcoYSksYj1HKGIpO2Zvcih2YXIgZCxlLGYsZyxoLGksaixrLGwsbSxuPWM/MDpbXSxvPTAscD1hLmxlbmd0aDtwPm87bysrKXt2YXIgcT1hW29dO2lmKCJNIj09cVswXSlkPWg9cVsxXSxlPWk9cVsyXTtlbHNleyJDIj09cVswXT8obD1bZCxlXS5jb25jYXQocS5zbGljZSgxKSksZD1sWzZdLGU9bFs3XSk6KGw9W2QsZSxkLGUsaCxpLGgsaV0sZD1oLGU9aSk7Zm9yKHZhciByPTAsdD1iLmxlbmd0aDt0PnI7cisrKXt2YXIgdT1iW3JdO2lmKCJNIj09dVswXSlmPWo9dVsxXSxnPWs9dVsyXTtlbHNleyJDIj09dVswXT8obT1bZixnXS5jb25jYXQodS5zbGljZSgxKSksZj1tWzZdLGc9bVs3XSk6KG09W2YsZyxmLGcsaixrLGosa10sZj1qLGc9ayk7dmFyIHY9cyhsLG0sYyk7aWYoYyluKz12O2Vsc2V7Zm9yKHZhciB3PTAseD12Lmxlbmd0aDt4Pnc7dysrKXZbd10uc2VnbWVudDE9byx2W3ddLnNlZ21lbnQyPXIsdlt3XS5iZXoxPWwsdlt3XS5iZXoyPW07bj1uLmNvbmNhdCh2KX19fX19cmV0dXJuIG59ZnVuY3Rpb24gdyhhLGIsYyl7dmFyIGQ9eChhKTtyZXR1cm4gbShkLGIsYykmJnYoYSxbWyJNIixiLGNdLFsiSCIsZC54MisxMF1dLDEpJTI9PTF9ZnVuY3Rpb24geChhKXt2YXIgYj1lKGEpO2lmKGIuYmJveClyZXR1cm4gTChiLmJib3gpO2lmKCFhKXJldHVybiBmKCk7YT1HKGEpO2Zvcih2YXIgYyxkPTAsZz0wLGg9W10saT1bXSxqPTAsaz1hLmxlbmd0aDtrPmo7aisrKWlmKGM9YVtqXSwiTSI9PWNbMF0pZD1jWzFdLGc9Y1syXSxoLnB1c2goZCksaS5wdXNoKGcpO2Vsc2V7dmFyIGw9RihkLGcsY1sxXSxjWzJdLGNbM10sY1s0XSxjWzVdLGNbNl0pO2g9aC5jb25jYXQobC5taW4ueCxsLm1heC54KSxpPWkuY29uY2F0KGwubWluLnksbC5tYXgueSksZD1jWzVdLGc9Y1s2XX12YXIgbT1SLmFwcGx5KDAsaCksbj1SLmFwcGx5KDAsaSksbz1TLmFwcGx5KDAsaCkscD1TLmFwcGx5KDAsaSkscT1mKG0sbixvLW0scC1uKTtyZXR1cm4gYi5iYm94PUwocSkscX1mdW5jdGlvbiB5KGEsYixjLGQsZSl7aWYoZSlyZXR1cm5bWyJNIiwrYSsgK2UsYl0sWyJsIixjLTIqZSwwXSxbImEiLGUsZSwwLDAsMSxlLGVdLFsibCIsMCxkLTIqZV0sWyJhIixlLGUsMCwwLDEsLWUsZV0sWyJsIiwyKmUtYywwXSxbImEiLGUsZSwwLDAsMSwtZSwtZV0sWyJsIiwwLDIqZS1kXSxbImEiLGUsZSwwLDAsMSxlLC1lXSxbInoiXV07dmFyIGY9W1siTSIsYSxiXSxbImwiLGMsMF0sWyJsIiwwLGRdLFsibCIsLWMsMF0sWyJ6Il1dO3JldHVybiBmLnRvU3RyaW5nPWcsZn1mdW5jdGlvbiB6KGEsYixjLGQsZSl7aWYobnVsbD09ZSYmbnVsbD09ZCYmKGQ9YyksYT0rYSxiPStiLGM9K2MsZD0rZCxudWxsIT1lKXZhciBmPU1hdGguUEkvMTgwLGg9YStjKk1hdGguY29zKC1kKmYpLGk9YStjKk1hdGguY29zKC1lKmYpLGo9YitjKk1hdGguc2luKC1kKmYpLGs9YitjKk1hdGguc2luKC1lKmYpLGw9W1siTSIsaCxqXSxbIkEiLGMsYywwLCsoZS1kPjE4MCksMCxpLGtdXTtlbHNlIGw9W1siTSIsYSxiXSxbIm0iLDAsLWRdLFsiYSIsYyxkLDAsMSwxLDAsMipkXSxbImEiLGMsZCwwLDEsMSwwLC0yKmRdLFsieiJdXTtyZXR1cm4gbC50b1N0cmluZz1nLGx9ZnVuY3Rpb24gQShiKXt2YXIgYz1lKGIpLGQ9U3RyaW5nLnByb3RvdHlwZS50b0xvd2VyQ2FzZTtpZihjLnJlbClyZXR1cm4gaChjLnJlbCk7YS5pcyhiLCJhcnJheSIpJiZhLmlzKGImJmJbMF0sImFycmF5Iil8fChiPWEucGFyc2VQYXRoU3RyaW5nKGIpKTt2YXIgZj1bXSxpPTAsaj0wLGs9MCxsPTAsbT0wOyJNIj09YlswXVswXSYmKGk9YlswXVsxXSxqPWJbMF1bMl0saz1pLGw9aixtKyssZi5wdXNoKFsiTSIsaSxqXSkpO2Zvcih2YXIgbj1tLG89Yi5sZW5ndGg7bz5uO24rKyl7dmFyIHA9ZltuXT1bXSxxPWJbbl07aWYocVswXSE9ZC5jYWxsKHFbMF0pKXN3aXRjaChwWzBdPWQuY2FsbChxWzBdKSxwWzBdKXtjYXNlImEiOnBbMV09cVsxXSxwWzJdPXFbMl0scFszXT1xWzNdLHBbNF09cVs0XSxwWzVdPXFbNV0scFs2XT0rKHFbNl0taSkudG9GaXhlZCgzKSxwWzddPSsocVs3XS1qKS50b0ZpeGVkKDMpO2JyZWFrO2Nhc2UidiI6cFsxXT0rKHFbMV0taikudG9GaXhlZCgzKTticmVhaztjYXNlIm0iOms9cVsxXSxsPXFbMl07ZGVmYXVsdDpmb3IodmFyIHI9MSxzPXEubGVuZ3RoO3M+cjtyKyspcFtyXT0rKHFbcl0tKHIlMj9pOmopKS50b0ZpeGVkKDMpfWVsc2V7cD1mW25dPVtdLCJtIj09cVswXSYmKGs9cVsxXStpLGw9cVsyXStqKTtmb3IodmFyIHQ9MCx1PXEubGVuZ3RoO3U+dDt0KyspZltuXVt0XT1xW3RdfXZhciB2PWZbbl0ubGVuZ3RoO3N3aXRjaChmW25dWzBdKXtjYXNlInoiOmk9ayxqPWw7YnJlYWs7Y2FzZSJoIjppKz0rZltuXVt2LTFdO2JyZWFrO2Nhc2UidiI6ais9K2Zbbl1bdi0xXTticmVhaztkZWZhdWx0OmkrPStmW25dW3YtMl0sais9K2Zbbl1bdi0xXX19cmV0dXJuIGYudG9TdHJpbmc9ZyxjLnJlbD1oKGYpLGZ9ZnVuY3Rpb24gQihiKXt2YXIgYz1lKGIpO2lmKGMuYWJzKXJldHVybiBoKGMuYWJzKTtpZihLKGIsImFycmF5IikmJksoYiYmYlswXSwiYXJyYXkiKXx8KGI9YS5wYXJzZVBhdGhTdHJpbmcoYikpLCFifHwhYi5sZW5ndGgpcmV0dXJuW1siTSIsMCwwXV07dmFyIGQsZj1bXSxpPTAsaj0wLGs9MCxsPTAsbT0wOyJNIj09YlswXVswXSYmKGk9K2JbMF1bMV0saj0rYlswXVsyXSxrPWksbD1qLG0rKyxmWzBdPVsiTSIsaSxqXSk7Zm9yKHZhciBuLG8scD0zPT1iLmxlbmd0aCYmIk0iPT1iWzBdWzBdJiYiUiI9PWJbMV1bMF0udG9VcHBlckNhc2UoKSYmIloiPT1iWzJdWzBdLnRvVXBwZXJDYXNlKCkscT1tLHI9Yi5sZW5ndGg7cj5xO3ErKyl7aWYoZi5wdXNoKG49W10pLG89YltxXSxkPW9bMF0sZCE9ZC50b1VwcGVyQ2FzZSgpKXN3aXRjaChuWzBdPWQudG9VcHBlckNhc2UoKSxuWzBdKXtjYXNlIkEiOm5bMV09b1sxXSxuWzJdPW9bMl0sblszXT1vWzNdLG5bNF09b1s0XSxuWzVdPW9bNV0sbls2XT0rb1s2XStpLG5bN109K29bN10rajticmVhaztjYXNlIlYiOm5bMV09K29bMV0rajticmVhaztjYXNlIkgiOm5bMV09K29bMV0raTticmVhaztjYXNlIlIiOmZvcih2YXIgcz1baSxqXS5jb25jYXQoby5zbGljZSgxKSksdD0yLHU9cy5sZW5ndGg7dT50O3QrKylzW3RdPStzW3RdK2ksc1srK3RdPStzW3RdK2o7Zi5wb3AoKSxmPWYuY29uY2F0KEkocyxwKSk7YnJlYWs7Y2FzZSJPIjpmLnBvcCgpLHM9eihpLGosb1sxXSxvWzJdKSxzLnB1c2goc1swXSksZj1mLmNvbmNhdChzKTticmVhaztjYXNlIlUiOmYucG9wKCksZj1mLmNvbmNhdCh6KGksaixvWzFdLG9bMl0sb1szXSkpLG49WyJVIl0uY29uY2F0KGZbZi5sZW5ndGgtMV0uc2xpY2UoLTIpKTticmVhaztjYXNlIk0iOms9K29bMV0raSxsPStvWzJdK2o7ZGVmYXVsdDpmb3IodD0xLHU9by5sZW5ndGg7dT50O3QrKyluW3RdPStvW3RdKyh0JTI/aTpqKX1lbHNlIGlmKCJSIj09ZClzPVtpLGpdLmNvbmNhdChvLnNsaWNlKDEpKSxmLnBvcCgpLGY9Zi5jb25jYXQoSShzLHApKSxuPVsiUiJdLmNvbmNhdChvLnNsaWNlKC0yKSk7ZWxzZSBpZigiTyI9PWQpZi5wb3AoKSxzPXooaSxqLG9bMV0sb1syXSkscy5wdXNoKHNbMF0pLGY9Zi5jb25jYXQocyk7ZWxzZSBpZigiVSI9PWQpZi5wb3AoKSxmPWYuY29uY2F0KHooaSxqLG9bMV0sb1syXSxvWzNdKSksbj1bIlUiXS5jb25jYXQoZltmLmxlbmd0aC0xXS5zbGljZSgtMikpO2Vsc2UgZm9yKHZhciB2PTAsdz1vLmxlbmd0aDt3PnY7disrKW5bdl09b1t2XTtpZihkPWQudG9VcHBlckNhc2UoKSwiTyIhPWQpc3dpdGNoKG5bMF0pe2Nhc2UiWiI6aT0rayxqPStsO2JyZWFrO2Nhc2UiSCI6aT1uWzFdO2JyZWFrO2Nhc2UiViI6aj1uWzFdO2JyZWFrO2Nhc2UiTSI6az1uW24ubGVuZ3RoLTJdLGw9bltuLmxlbmd0aC0xXTtkZWZhdWx0Omk9bltuLmxlbmd0aC0yXSxqPW5bbi5sZW5ndGgtMV19fXJldHVybiBmLnRvU3RyaW5nPWcsYy5hYnM9aChmKSxmfWZ1bmN0aW9uIEMoYSxiLGMsZCl7cmV0dXJuW2EsYixjLGQsYyxkXX1mdW5jdGlvbiBEKGEsYixjLGQsZSxmKXt2YXIgZz0xLzMsaD0yLzM7cmV0dXJuW2cqYStoKmMsZypiK2gqZCxnKmUraCpjLGcqZitoKmQsZSxmXX1mdW5jdGlvbiBFKGIsYyxkLGUsZixnLGgsaSxqLGspe3ZhciBsLG09MTIwKlEvMTgwLG49US8xODAqKCtmfHwwKSxvPVtdLHA9YS5fLmNhY2hlcihmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSpQLmNvcyhjKS1iKlAuc2luKGMpLGU9YSpQLnNpbihjKStiKlAuY29zKGMpO3JldHVybnt4OmQseTplfX0pO2lmKCFkfHwhZSlyZXR1cm5bYixjLGksaixpLGpdO2lmKGspeT1rWzBdLHo9a1sxXSx3PWtbMl0seD1rWzNdO2Vsc2V7bD1wKGIsYywtbiksYj1sLngsYz1sLnksbD1wKGksaiwtbiksaT1sLngsaj1sLnk7dmFyIHE9KFAuY29zKFEvMTgwKmYpLFAuc2luKFEvMTgwKmYpLChiLWkpLzIpLHI9KGMtaikvMixzPXEqcS8oZCpkKStyKnIvKGUqZSk7cz4xJiYocz1QLnNxcnQocyksZD1zKmQsZT1zKmUpO3ZhciB0PWQqZCx1PWUqZSx2PShnPT1oPy0xOjEpKlAuc3FydChVKCh0KnUtdCpyKnItdSpxKnEpLyh0KnIqcit1KnEqcSkpKSx3PXYqZCpyL2UrKGIraSkvMix4PXYqLWUqcS9kKyhjK2opLzIseT1QLmFzaW4oKChjLXgpL2UpLnRvRml4ZWQoOSkpLHo9UC5hc2luKCgoai14KS9lKS50b0ZpeGVkKDkpKTt5PXc+Yj9RLXk6eSx6PXc+aT9RLXo6eiwwPnkmJih5PTIqUSt5KSwwPnomJih6PTIqUSt6KSxoJiZ5PnomJih5LT0yKlEpLCFoJiZ6PnkmJih6LT0yKlEpfXZhciBBPXoteTtpZihVKEEpPm0pe3ZhciBCPXosQz1pLEQ9ajt6PXkrbSooaCYmej55PzE6LTEpLGk9dytkKlAuY29zKHopLGo9eCtlKlAuc2luKHopLG89RShpLGosZCxlLGYsMCxoLEMsRCxbeixCLHcseF0pfUE9ei15O3ZhciBGPVAuY29zKHkpLEc9UC5zaW4oeSksSD1QLmNvcyh6KSxJPVAuc2luKHopLEo9UC50YW4oQS80KSxLPTQvMypkKkosTD00LzMqZSpKLE09W2IsY10sTj1bYitLKkcsYy1MKkZdLE89W2krSypJLGotTCpIXSxSPVtpLGpdO2lmKE5bMF09MipNWzBdLU5bMF0sTlsxXT0yKk1bMV0tTlsxXSxrKXJldHVybltOLE8sUl0uY29uY2F0KG8pO289W04sTyxSXS5jb25jYXQobykuam9pbigpLnNwbGl0KCIsIik7Zm9yKHZhciBTPVtdLFQ9MCxWPW8ubGVuZ3RoO1Y+VDtUKyspU1tUXT1UJTI/cChvW1QtMV0sb1tUXSxuKS55OnAob1tUXSxvW1QrMV0sbikueDtyZXR1cm4gU31mdW5jdGlvbiBGKGEsYixjLGQsZSxmLGcsaCl7Zm9yKHZhciBpLGosayxsLG0sbixvLHAscT1bXSxyPVtbXSxbXV0scz0wOzI+czsrK3MpaWYoMD09cz8oaj02KmEtMTIqYys2KmUsaT0tMyphKzkqYy05KmUrMypnLGs9MypjLTMqYSk6KGo9NipiLTEyKmQrNipmLGk9LTMqYis5KmQtOSpmKzMqaCxrPTMqZC0zKmIpLFUoaSk8MWUtMTIpe2lmKFUoaik8MWUtMTIpY29udGludWU7bD0tay9qLGw+MCYmMT5sJiZxLnB1c2gobCl9ZWxzZSBvPWoqai00KmsqaSxwPVAuc3FydChvKSwwPm98fChtPSgtaitwKS8oMippKSxtPjAmJjE+bSYmcS5wdXNoKG0pLG49KC1qLXApLygyKmkpLG4+MCYmMT5uJiZxLnB1c2gobikpO2Zvcih2YXIgdCx1PXEubGVuZ3RoLHY9dTt1LS07KWw9cVt1XSx0PTEtbCxyWzBdW3VdPXQqdCp0KmErMyp0KnQqbCpjKzMqdCpsKmwqZStsKmwqbCpnLHJbMV1bdV09dCp0KnQqYiszKnQqdCpsKmQrMyp0KmwqbCpmK2wqbCpsKmg7cmV0dXJuIHJbMF1bdl09YSxyWzFdW3ZdPWIsclswXVt2KzFdPWcsclsxXVt2KzFdPWgsclswXS5sZW5ndGg9clsxXS5sZW5ndGg9disyLHttaW46e3g6Ui5hcHBseSgwLHJbMF0pLHk6Ui5hcHBseSgwLHJbMV0pfSxtYXg6e3g6Uy5hcHBseSgwLHJbMF0pLHk6Uy5hcHBseSgwLHJbMV0pfX19ZnVuY3Rpb24gRyhhLGIpe3ZhciBjPSFiJiZlKGEpO2lmKCFiJiZjLmN1cnZlKXJldHVybiBoKGMuY3VydmUpO2Zvcih2YXIgZD1CKGEpLGY9YiYmQihiKSxnPXt4OjAseTowLGJ4OjAsYnk6MCxYOjAsWTowLHF4Om51bGwscXk6bnVsbH0saT17eDowLHk6MCxieDowLGJ5OjAsWDowLFk6MCxxeDpudWxsLHF5Om51bGx9LGo9KGZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2lmKCFhKXJldHVyblsiQyIsYi54LGIueSxiLngsYi55LGIueCxiLnldO3N3aXRjaCghKGFbMF1pbntUOjEsUToxfSkmJihiLnF4PWIucXk9bnVsbCksYVswXSl7Y2FzZSJNIjpiLlg9YVsxXSxiLlk9YVsyXTticmVhaztjYXNlIkEiOmE9WyJDIl0uY29uY2F0KEUuYXBwbHkoMCxbYi54LGIueV0uY29uY2F0KGEuc2xpY2UoMSkpKSk7YnJlYWs7Y2FzZSJTIjoiQyI9PWN8fCJTIj09Yz8oZD0yKmIueC1iLmJ4LGU9MipiLnktYi5ieSk6KGQ9Yi54LGU9Yi55KSxhPVsiQyIsZCxlXS5jb25jYXQoYS5zbGljZSgxKSk7YnJlYWs7Y2FzZSJUIjoiUSI9PWN8fCJUIj09Yz8oYi5xeD0yKmIueC1iLnF4LGIucXk9MipiLnktYi5xeSk6KGIucXg9Yi54LGIucXk9Yi55KSxhPVsiQyJdLmNvbmNhdChEKGIueCxiLnksYi5xeCxiLnF5LGFbMV0sYVsyXSkpO2JyZWFrO2Nhc2UiUSI6Yi5xeD1hWzFdLGIucXk9YVsyXSxhPVsiQyJdLmNvbmNhdChEKGIueCxiLnksYVsxXSxhWzJdLGFbM10sYVs0XSkpO2JyZWFrO2Nhc2UiTCI6YT1bIkMiXS5jb25jYXQoQyhiLngsYi55LGFbMV0sYVsyXSkpO2JyZWFrO2Nhc2UiSCI6YT1bIkMiXS5jb25jYXQoQyhiLngsYi55LGFbMV0sYi55KSk7YnJlYWs7Y2FzZSJWIjphPVsiQyJdLmNvbmNhdChDKGIueCxiLnksYi54LGFbMV0pKTticmVhaztjYXNlIloiOmE9WyJDIl0uY29uY2F0KEMoYi54LGIueSxiLlgsYi5ZKSl9cmV0dXJuIGF9KSxrPWZ1bmN0aW9uKGEsYil7aWYoYVtiXS5sZW5ndGg+Nyl7YVtiXS5zaGlmdCgpO2Zvcih2YXIgYz1hW2JdO2MubGVuZ3RoOyltW2JdPSJBIixmJiYobltiXT0iQSIpLGEuc3BsaWNlKGIrKywwLFsiQyJdLmNvbmNhdChjLnNwbGljZSgwLDYpKSk7YS5zcGxpY2UoYiwxKSxyPVMoZC5sZW5ndGgsZiYmZi5sZW5ndGh8fDApfX0sbD1mdW5jdGlvbihhLGIsYyxlLGcpe2EmJmImJiJNIj09YVtnXVswXSYmIk0iIT1iW2ddWzBdJiYoYi5zcGxpY2UoZywwLFsiTSIsZS54LGUueV0pLGMuYng9MCxjLmJ5PTAsYy54PWFbZ11bMV0sYy55PWFbZ11bMl0scj1TKGQubGVuZ3RoLGYmJmYubGVuZ3RofHwwKSl9LG09W10sbj1bXSxvPSIiLHA9IiIscT0wLHI9UyhkLmxlbmd0aCxmJiZmLmxlbmd0aHx8MCk7cj5xO3ErKyl7ZFtxXSYmKG89ZFtxXVswXSksIkMiIT1vJiYobVtxXT1vLHEmJihwPW1bcS0xXSkpLGRbcV09aihkW3FdLGcscCksIkEiIT1tW3FdJiYiQyI9PW8mJihtW3FdPSJDIiksayhkLHEpLGYmJihmW3FdJiYobz1mW3FdWzBdKSwiQyIhPW8mJihuW3FdPW8scSYmKHA9bltxLTFdKSksZltxXT1qKGZbcV0saSxwKSwiQSIhPW5bcV0mJiJDIj09byYmKG5bcV09IkMiKSxrKGYscSkpLGwoZCxmLGcsaSxxKSxsKGYsZCxpLGcscSk7dmFyIHM9ZFtxXSx0PWYmJmZbcV0sdT1zLmxlbmd0aCx2PWYmJnQubGVuZ3RoO2cueD1zW3UtMl0sZy55PXNbdS0xXSxnLmJ4PU8oc1t1LTRdKXx8Zy54LGcuYnk9TyhzW3UtM10pfHxnLnksaS5ieD1mJiYoTyh0W3YtNF0pfHxpLngpLGkuYnk9ZiYmKE8odFt2LTNdKXx8aS55KSxpLng9ZiYmdFt2LTJdLGkueT1mJiZ0W3YtMV19cmV0dXJuIGZ8fChjLmN1cnZlPWgoZCkpLGY/W2QsZl06ZH1mdW5jdGlvbiBIKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGMsZCxlLGYsZyxoLGk7Zm9yKGE9RyhhKSxlPTAsZz1hLmxlbmd0aDtnPmU7ZSsrKWZvcihpPWFbZV0sZj0xLGg9aS5sZW5ndGg7aD5mO2YrPTIpYz1iLngoaVtmXSxpW2YrMV0pLGQ9Yi55KGlbZl0saVtmKzFdKSxpW2ZdPWMsaVtmKzFdPWQ7cmV0dXJuIGF9ZnVuY3Rpb24gSShhLGIpe2Zvcih2YXIgYz1bXSxkPTAsZT1hLmxlbmd0aDtlLTIqIWI+ZDtkKz0yKXt2YXIgZj1be3g6K2FbZC0yXSx5OithW2QtMV19LHt4OithW2RdLHk6K2FbZCsxXX0se3g6K2FbZCsyXSx5OithW2QrM119LHt4OithW2QrNF0seTorYVtkKzVdfV07Yj9kP2UtND09ZD9mWzNdPXt4OithWzBdLHk6K2FbMV19OmUtMj09ZCYmKGZbMl09e3g6K2FbMF0seTorYVsxXX0sZlszXT17eDorYVsyXSx5OithWzNdfSk6ZlswXT17eDorYVtlLTJdLHk6K2FbZS0xXX06ZS00PT1kP2ZbM109ZlsyXTpkfHwoZlswXT17eDorYVtkXSx5OithW2QrMV19KSxjLnB1c2goWyJDIiwoLWZbMF0ueCs2KmZbMV0ueCtmWzJdLngpLzYsKC1mWzBdLnkrNipmWzFdLnkrZlsyXS55KS82LChmWzFdLngrNipmWzJdLngtZlszXS54KS82LChmWzFdLnkrNipmWzJdLnktZlszXS55KS82LGZbMl0ueCxmWzJdLnldKX1yZXR1cm4gY312YXIgSj1iLnByb3RvdHlwZSxLPWEuaXMsTD1hLl8uY2xvbmUsTT0iaGFzT3duUHJvcGVydHkiLE49Lyw/KFthLXpdKSw/L2dpLE89cGFyc2VGbG9hdCxQPU1hdGgsUT1QLlBJLFI9UC5taW4sUz1QLm1heCxUPVAucG93LFU9UC5hYnMsVj1qKDEpLFc9aigpLFg9aigwLDEpLFk9YS5fdW5pdDJweCxaPXtwYXRoOmZ1bmN0aW9uKGEpe3JldHVybiBhLmF0dHIoInBhdGgiKX0sY2lyY2xlOmZ1bmN0aW9uKGEpe3ZhciBiPVkoYSk7cmV0dXJuIHooYi5jeCxiLmN5LGIucil9LGVsbGlwc2U6ZnVuY3Rpb24oYSl7dmFyIGI9WShhKTtyZXR1cm4geihiLmN4fHwwLGIuY3l8fDAsYi5yeCxiLnJ5KTsKfSxyZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPVkoYSk7cmV0dXJuIHkoYi54fHwwLGIueXx8MCxiLndpZHRoLGIuaGVpZ2h0LGIucngsYi5yeSl9LGltYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPVkoYSk7cmV0dXJuIHkoYi54fHwwLGIueXx8MCxiLndpZHRoLGIuaGVpZ2h0KX0sbGluZTpmdW5jdGlvbihhKXtyZXR1cm4iTSIrW2EuYXR0cigieDEiKXx8MCxhLmF0dHIoInkxIil8fDAsYS5hdHRyKCJ4MiIpLGEuYXR0cigieTIiKV19LHBvbHlsaW5lOmZ1bmN0aW9uKGEpe3JldHVybiJNIithLmF0dHIoInBvaW50cyIpfSxwb2x5Z29uOmZ1bmN0aW9uKGEpe3JldHVybiJNIithLmF0dHIoInBvaW50cyIpKyJ6In0sZGVmbHQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlLmdldEJCb3goKTtyZXR1cm4geShiLngsYi55LGIud2lkdGgsYi5oZWlnaHQpfX07YS5wYXRoPWUsYS5wYXRoLmdldFRvdGFsTGVuZ3RoPVYsYS5wYXRoLmdldFBvaW50QXRMZW5ndGg9VyxhLnBhdGguZ2V0U3VicGF0aD1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy5nZXRUb3RhbExlbmd0aChhKS1jPDFlLTYpcmV0dXJuIFgoYSxiKS5lbmQ7dmFyIGQ9WChhLGMsMSk7cmV0dXJuIGI/WChkLGIpLmVuZDpkfSxKLmdldFRvdGFsTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5nZXRUb3RhbExlbmd0aD90aGlzLm5vZGUuZ2V0VG90YWxMZW5ndGgoKTp2b2lkIDB9LEouZ2V0UG9pbnRBdExlbmd0aD1mdW5jdGlvbihhKXtyZXR1cm4gVyh0aGlzLmF0dHIoImQiKSxhKX0sSi5nZXRTdWJwYXRoPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucGF0aC5nZXRTdWJwYXRoKHRoaXMuYXR0cigiZCIpLGIsYyl9LGEuXy5ib3g9ZixhLnBhdGguZmluZERvdHNBdFNlZ21lbnQ9ayxhLnBhdGguYmV6aWVyQkJveD1sLGEucGF0aC5pc1BvaW50SW5zaWRlQkJveD1tLGEuY2xvc2VzdD1mdW5jdGlvbihiLGMsZCxlKXtmb3IodmFyIGc9MTAwLGg9ZihiLWcvMixjLWcvMixnLGcpLGk9W10saj1kWzBdLmhhc093blByb3BlcnR5KCJ4Iik/ZnVuY3Rpb24oYSl7cmV0dXJue3g6ZFthXS54LHk6ZFthXS55fX06ZnVuY3Rpb24oYSl7cmV0dXJue3g6ZFthXSx5OmVbYV19fSxrPTA7MWU2Pj1nJiYhazspe2Zvcih2YXIgbD0wLG49ZC5sZW5ndGg7bj5sO2wrKyl7dmFyIG89aihsKTtpZihtKGgsby54LG8ueSkpe2srKyxpLnB1c2gobyk7YnJlYWt9fWt8fChnKj0yLGg9ZihiLWcvMixjLWcvMixnLGcpKX1pZigxZTYhPWcpe3ZhciBwLHE9MS8wO2ZvcihsPTAsbj1pLmxlbmd0aDtuPmw7bCsrKXt2YXIgcj1hLmxlbihiLGMsaVtsXS54LGlbbF0ueSk7cT5yJiYocT1yLGlbbF0ubGVuPXIscD1pW2xdKX1yZXR1cm4gcH19LGEucGF0aC5pc0JCb3hJbnRlcnNlY3Q9bixhLnBhdGguaW50ZXJzZWN0aW9uPXQsYS5wYXRoLmludGVyc2VjdGlvbk51bWJlcj11LGEucGF0aC5pc1BvaW50SW5zaWRlPXcsYS5wYXRoLmdldEJCb3g9eCxhLnBhdGguZ2V0PVosYS5wYXRoLnRvUmVsYXRpdmU9QSxhLnBhdGgudG9BYnNvbHV0ZT1CLGEucGF0aC50b0N1YmljPUcsYS5wYXRoLm1hcD1ILGEucGF0aC50b1N0cmluZz1nLGEucGF0aC5jbG9uZT1ofSksZC5wbHVnaW4oZnVuY3Rpb24oYSxkLGUsZil7dmFyIGc9TWF0aC5tYXgsaD1NYXRoLm1pbixpPWZ1bmN0aW9uKGEpe2lmKHRoaXMuaXRlbXM9W10sdGhpcy5iaW5kaW5ncz17fSx0aGlzLmxlbmd0aD0wLHRoaXMudHlwZT0ic2V0IixhKWZvcih2YXIgYj0wLGM9YS5sZW5ndGg7Yz5iO2IrKylhW2JdJiYodGhpc1t0aGlzLml0ZW1zLmxlbmd0aF09dGhpcy5pdGVtc1t0aGlzLml0ZW1zLmxlbmd0aF09YVtiXSx0aGlzLmxlbmd0aCsrKX0saj1pLnByb3RvdHlwZTtqLnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGEsYixjPTAsZD1hcmd1bWVudHMubGVuZ3RoO2Q+YztjKyspYT1hcmd1bWVudHNbY10sYSYmKGI9dGhpcy5pdGVtcy5sZW5ndGgsdGhpc1tiXT10aGlzLml0ZW1zW2JdPWEsdGhpcy5sZW5ndGgrKyk7cmV0dXJuIHRoaXN9LGoucG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoJiZkZWxldGUgdGhpc1t0aGlzLmxlbmd0aC0tXSx0aGlzLml0ZW1zLnBvcCgpfSxqLmZvckVhY2g9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPXRoaXMuaXRlbXMubGVuZ3RoO2Q+YztjKyspaWYoYS5jYWxsKGIsdGhpcy5pdGVtc1tjXSxjKT09PSExKXJldHVybiB0aGlzO3JldHVybiB0aGlzfSxqLmFuaW1hdGU9ZnVuY3Rpb24oZCxlLGYsZyl7ImZ1bmN0aW9uIiE9dHlwZW9mIGZ8fGYubGVuZ3RofHwoZz1mLGY9Yy5saW5lYXIpLGQgaW5zdGFuY2VvZiBhLl8uQW5pbWF0aW9uJiYoZz1kLmNhbGxiYWNrLGY9ZC5lYXNpbmcsZT1mLmR1cixkPWQuYXR0cik7dmFyIGg9YXJndW1lbnRzO2lmKGEuaXMoZCwiYXJyYXkiKSYmYS5pcyhoW2gubGVuZ3RoLTFdLCJhcnJheSIpKXZhciBpPSEwO3ZhciBqLGs9ZnVuY3Rpb24oKXtqP3RoaXMuYj1qOmo9dGhpcy5ifSxsPTAsbT10aGlzLG49ZyYmZnVuY3Rpb24oKXsrK2w9PW0ubGVuZ3RoJiZnLmNhbGwodGhpcyl9O3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oYSxjKXtiLm9uY2UoInNuYXAuYW5pbWNyZWF0ZWQuIithLmlkLGspLGk/aFtjXSYmYS5hbmltYXRlLmFwcGx5KGEsaFtjXSk6YS5hbmltYXRlKGQsZSxmLG4pfSl9LGoucmVtb3ZlPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmxlbmd0aDspdGhpcy5wb3AoKS5yZW1vdmUoKTtyZXR1cm4gdGhpc30sai5iaW5kPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYil0aGlzLmJpbmRpbmdzW2FdPWI7ZWxzZXt2YXIgZT1jfHxhO3RoaXMuYmluZGluZ3NbYV09ZnVuY3Rpb24oYSl7ZFtlXT1hLGIuYXR0cihkKX19cmV0dXJuIHRoaXN9LGouYXR0cj1mdW5jdGlvbihhKXt2YXIgYj17fTtmb3IodmFyIGMgaW4gYSl0aGlzLmJpbmRpbmdzW2NdP3RoaXMuYmluZGluZ3NbY10oYVtjXSk6YltjXT1hW2NdO2Zvcih2YXIgZD0wLGU9dGhpcy5pdGVtcy5sZW5ndGg7ZT5kO2QrKyl0aGlzLml0ZW1zW2RdLmF0dHIoYik7cmV0dXJuIHRoaXN9LGouY2xlYXI9ZnVuY3Rpb24oKXtmb3IoO3RoaXMubGVuZ3RoOyl0aGlzLnBvcCgpfSxqLnNwbGljZT1mdW5jdGlvbihhLGIsYyl7YT0wPmE/Zyh0aGlzLmxlbmd0aCthLDApOmEsYj1nKDAsaCh0aGlzLmxlbmd0aC1hLGIpKTt2YXIgZCxlPVtdLGY9W10saj1bXTtmb3IoZD0yO2Q8YXJndW1lbnRzLmxlbmd0aDtkKyspai5wdXNoKGFyZ3VtZW50c1tkXSk7Zm9yKGQ9MDtiPmQ7ZCsrKWYucHVzaCh0aGlzW2ErZF0pO2Zvcig7ZDx0aGlzLmxlbmd0aC1hO2QrKyllLnB1c2godGhpc1thK2RdKTt2YXIgaz1qLmxlbmd0aDtmb3IoZD0wO2Q8aytlLmxlbmd0aDtkKyspdGhpcy5pdGVtc1thK2RdPXRoaXNbYStkXT1rPmQ/altkXTplW2Qta107Zm9yKGQ9dGhpcy5pdGVtcy5sZW5ndGg9dGhpcy5sZW5ndGgtPWItazt0aGlzW2RdOylkZWxldGUgdGhpc1tkKytdO3JldHVybiBuZXcgaShmKX0sai5leGNsdWRlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5sZW5ndGg7Yz5iO2IrKylpZih0aGlzW2JdPT1hKXJldHVybiB0aGlzLnNwbGljZShiLDEpLCEwO3JldHVybiExfSxqLmluc2VydEFmdGVyPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLml0ZW1zLmxlbmd0aDtiLS07KXRoaXMuaXRlbXNbYl0uaW5zZXJ0QWZ0ZXIoYSk7cmV0dXJuIHRoaXN9LGouZ2V0QkJveD1mdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPVtdLGM9W10sZD1bXSxlPXRoaXMuaXRlbXMubGVuZ3RoO2UtLTspaWYoIXRoaXMuaXRlbXNbZV0ucmVtb3ZlZCl7dmFyIGY9dGhpcy5pdGVtc1tlXS5nZXRCQm94KCk7YS5wdXNoKGYueCksYi5wdXNoKGYueSksYy5wdXNoKGYueCtmLndpZHRoKSxkLnB1c2goZi55K2YuaGVpZ2h0KX1yZXR1cm4gYT1oLmFwcGx5KDAsYSksYj1oLmFwcGx5KDAsYiksYz1nLmFwcGx5KDAsYyksZD1nLmFwcGx5KDAsZCkse3g6YSx5OmIseDI6Yyx5MjpkLHdpZHRoOmMtYSxoZWlnaHQ6ZC1iLGN4OmErKGMtYSkvMixjeTpiKyhkLWIpLzJ9fSxqLmNsb25lPWZ1bmN0aW9uKGEpe2E9bmV3IGk7Zm9yKHZhciBiPTAsYz10aGlzLml0ZW1zLmxlbmd0aDtjPmI7YisrKWEucHVzaCh0aGlzLml0ZW1zW2JdLmNsb25lKCkpO3JldHVybiBhfSxqLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlNuYXDigJhzIHNldCJ9LGoudHlwZT0ic2V0IixhLlNldD1pLGEuc2V0PWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJmEucHVzaC5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSksYX19KSxkLnBsdWdpbihmdW5jdGlvbihhLGMsZCxlKXtmdW5jdGlvbiBmKGEpe3ZhciBiPWFbMF07c3dpdGNoKGIudG9Mb3dlckNhc2UoKSl7Y2FzZSJ0IjpyZXR1cm5bYiwwLDBdO2Nhc2UibSI6cmV0dXJuW2IsMSwwLDAsMSwwLDBdO2Nhc2UiciI6cmV0dXJuIDQ9PWEubGVuZ3RoP1tiLDAsYVsyXSxhWzNdXTpbYiwwXTtjYXNlInMiOnJldHVybiA1PT1hLmxlbmd0aD9bYiwxLDEsYVszXSxhWzRdXTozPT1hLmxlbmd0aD9bYiwxLDFdOltiLDFdfX1mdW5jdGlvbiBnKGIsYyxkKXtiPWJ8fG5ldyBhLk1hdHJpeCxjPWN8fG5ldyBhLk1hdHJpeCxiPWEucGFyc2VUcmFuc2Zvcm1TdHJpbmcoYi50b1RyYW5zZm9ybVN0cmluZygpKXx8W10sYz1hLnBhcnNlVHJhbnNmb3JtU3RyaW5nKGMudG9UcmFuc2Zvcm1TdHJpbmcoKSl8fFtdO2Zvcih2YXIgZSxnLGgsaSxqPU1hdGgubWF4KGIubGVuZ3RoLGMubGVuZ3RoKSxrPVtdLG49W10sbz0wO2o+bztvKyspe2lmKGg9YltvXXx8ZihjW29dKSxpPWNbb118fGYoaCksaFswXSE9aVswXXx8InIiPT1oWzBdLnRvTG93ZXJDYXNlKCkmJihoWzJdIT1pWzJdfHxoWzNdIT1pWzNdKXx8InMiPT1oWzBdLnRvTG93ZXJDYXNlKCkmJihoWzNdIT1pWzNdfHxoWzRdIT1pWzRdKSl7Yj1hLl8udHJhbnNmb3JtMm1hdHJpeChiLGQoKSksYz1hLl8udHJhbnNmb3JtMm1hdHJpeChjLGQoKSksaz1bWyJtIixiLmEsYi5iLGIuYyxiLmQsYi5lLGIuZl1dLG49W1sibSIsYy5hLGMuYixjLmMsYy5kLGMuZSxjLmZdXTticmVha31mb3Ioa1tvXT1bXSxuW29dPVtdLGU9MCxnPU1hdGgubWF4KGgubGVuZ3RoLGkubGVuZ3RoKTtnPmU7ZSsrKWUgaW4gaCYmKGtbb11bZV09aFtlXSksZSBpbiBpJiYobltvXVtlXT1pW2VdKX1yZXR1cm57ZnJvbTptKGspLHRvOm0obiksZjpsKGspfX1mdW5jdGlvbiBoKGEpe3JldHVybiBhfWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybitiLnRvRml4ZWQoMykrYX19ZnVuY3Rpb24gaihhKXtyZXR1cm4gYS5qb2luKCIgIil9ZnVuY3Rpb24gayhiKXtyZXR1cm4gYS5yZ2IoYlswXSxiWzFdLGJbMl0sYlszXSl9ZnVuY3Rpb24gbChhKXt2YXIgYixjLGQsZSxmLGcsaD0wLGk9W107Zm9yKGI9MCxjPWEubGVuZ3RoO2M+YjtiKyspe2ZvcihmPSJbIixnPVsnIicrYVtiXVswXSsnIiddLGQ9MSxlPWFbYl0ubGVuZ3RoO2U+ZDtkKyspZ1tkXT0idmFsWyIraCsrICsiXSI7Zis9ZysiXSIsaVtiXT1mfXJldHVybiBGdW5jdGlvbigidmFsIiwicmV0dXJuIFNuYXAucGF0aC50b1N0cmluZy5jYWxsKFsiK2krIl0pIil9ZnVuY3Rpb24gbShhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylmb3IodmFyIGU9MSxmPWFbY10ubGVuZ3RoO2Y+ZTtlKyspYi5wdXNoKGFbY11bZV0pO3JldHVybiBifWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGlzRmluaXRlKGEpfWZ1bmN0aW9uIG8oYixjKXtyZXR1cm4gYS5pcyhiLCJhcnJheSIpJiZhLmlzKGMsImFycmF5Iik/Yi50b1N0cmluZygpPT1jLnRvU3RyaW5nKCk6ITF9dmFyIHA9e30scT0vWyVhLXpdKyQvaSxyPVN0cmluZztwLnN0cm9rZT1wLmZpbGw9ImNvbG91ciIsYy5wcm90b3R5cGUuZXF1YWw9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYigic25hcC51dGlsLmVxdWFsIix0aGlzLGEsYykuZmlyc3REZWZpbmVkKCl9LGIub24oInNuYXAudXRpbC5lcXVhbCIsZnVuY3Rpb24oYixjKXt2YXIgZCxlLGY9cih0aGlzLmF0dHIoYil8fCIiKSxzPXRoaXM7aWYoImNvbG91ciI9PXBbYl0pcmV0dXJuIGQ9YS5jb2xvcihmKSxlPWEuY29sb3IoYykse2Zyb206W2QucixkLmcsZC5iLGQub3BhY2l0eV0sdG86W2UucixlLmcsZS5iLGUub3BhY2l0eV0sZjprfTtpZigidmlld0JveCI9PWIpcmV0dXJuIGQ9dGhpcy5hdHRyKGIpLnZiLnNwbGl0KCIgIikubWFwKE51bWJlciksZT1jLnNwbGl0KCIgIikubWFwKE51bWJlcikse2Zyb206ZCx0bzplLGY6an07aWYoInRyYW5zZm9ybSI9PWJ8fCJncmFkaWVudFRyYW5zZm9ybSI9PWJ8fCJwYXR0ZXJuVHJhbnNmb3JtIj09YilyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGMmJihjPXIoYykucmVwbGFjZSgvXC57M318XHUyMDI2L2csZikpLGY9dGhpcy5tYXRyaXgsYz1hLl8ucmdUcmFuc2Zvcm0udGVzdChjKT9hLl8udHJhbnNmb3JtMm1hdHJpeChjLHRoaXMuZ2V0QkJveCgpKTphLl8udHJhbnNmb3JtMm1hdHJpeChhLl8uc3ZnVHJhbnNmb3JtMnN0cmluZyhjKSx0aGlzLmdldEJCb3goKSksZyhmLGMsZnVuY3Rpb24oKXtyZXR1cm4gcy5nZXRCQm94KDEpfSk7aWYoImQiPT1ifHwicGF0aCI9PWIpcmV0dXJuIGQ9YS5wYXRoLnRvQ3ViaWMoZixjKSx7ZnJvbTptKGRbMF0pLHRvOm0oZFsxXSksZjpsKGRbMF0pfTtpZigicG9pbnRzIj09YilyZXR1cm4gZD1yKGYpLnNwbGl0KGEuXy5zZXBhcmF0b3IpLGU9cihjKS5zcGxpdChhLl8uc2VwYXJhdG9yKSx7ZnJvbTpkLHRvOmUsZjpmdW5jdGlvbihhKXtyZXR1cm4gYX19O2lmKG4oZikmJm4oYykpcmV0dXJue2Zyb206cGFyc2VGbG9hdChmKSx0bzpwYXJzZUZsb2F0KGMpLGY6aH07dmFyIHQ9Zi5tYXRjaChxKSx1PXIoYykubWF0Y2gocSk7cmV0dXJuIHQmJm8odCx1KT97ZnJvbTpwYXJzZUZsb2F0KGYpLHRvOnBhcnNlRmxvYXQoYyksZjppKHQpfTp7ZnJvbTp0aGlzLmFzUFgoYiksdG86dGhpcy5hc1BYKGIsYyksZjpofX0pfSksZC5wbHVnaW4oZnVuY3Rpb24oYSxjLGQsZSl7Zm9yKHZhciBmPWMucHJvdG90eXBlLGc9Imhhc093blByb3BlcnR5IixoPSgiY3JlYXRlVG91Y2giaW4gZS5kb2MpLGk9WyJjbGljayIsImRibGNsaWNrIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2VvdXQiLCJtb3VzZW92ZXIiLCJtb3VzZXVwIiwidG91Y2hzdGFydCIsInRvdWNobW92ZSIsInRvdWNoZW5kIiwidG91Y2hjYW5jZWwiXSxqPXttb3VzZWRvd246InRvdWNoc3RhcnQiLG1vdXNlbW92ZToidG91Y2htb3ZlIixtb3VzZXVwOiJ0b3VjaGVuZCJ9LGs9KGZ1bmN0aW9uKGEsYil7dmFyIGM9InkiPT1hPyJzY3JvbGxUb3AiOiJzY3JvbGxMZWZ0IixkPWImJmIubm9kZT9iLm5vZGUub3duZXJEb2N1bWVudDplLmRvYztyZXR1cm4gZFtjIGluIGQuZG9jdW1lbnRFbGVtZW50PyJkb2N1bWVudEVsZW1lbnQiOiJib2R5Il1bY119KSxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpfSxtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKX0sbj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1oJiZqW2JdP2pbYl06YixmPWZ1bmN0aW9uKGUpe3ZhciBmPWsoInkiLGQpLGk9aygieCIsZCk7aWYoaCYmaltnXShiKSlmb3IodmFyIG49MCxvPWUudGFyZ2V0VG91Y2hlcyYmZS50YXJnZXRUb3VjaGVzLmxlbmd0aDtvPm47bisrKWlmKGUudGFyZ2V0VG91Y2hlc1tuXS50YXJnZXQ9PWF8fGEuY29udGFpbnMoZS50YXJnZXRUb3VjaGVzW25dLnRhcmdldCkpe3ZhciBwPWU7ZT1lLnRhcmdldFRvdWNoZXNbbl0sZS5vcmlnaW5hbEV2ZW50PXAsZS5wcmV2ZW50RGVmYXVsdD1sLGUuc3RvcFByb3BhZ2F0aW9uPW07YnJlYWt9dmFyIHE9ZS5jbGllbnRYK2kscj1lLmNsaWVudFkrZjtyZXR1cm4gYy5jYWxsKGQsZSxxLHIpfTtyZXR1cm4gYiE9PWUmJmEuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGEuYWRkRXZlbnRMaXN0ZW5lcihlLGYsITEpLGZ1bmN0aW9uKCl7cmV0dXJuIGIhPT1lJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixmLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxmLCExKSwhMH19LG89W10scD1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD1hLmNsaWVudFgsZT1hLmNsaWVudFksZj1rKCJ5IiksZz1rKCJ4IiksaT1vLmxlbmd0aDtpLS07KXtpZihjPW9baV0saCl7Zm9yKHZhciBqLGw9YS50b3VjaGVzJiZhLnRvdWNoZXMubGVuZ3RoO2wtLTspaWYoaj1hLnRvdWNoZXNbbF0sai5pZGVudGlmaWVyPT1jLmVsLl9kcmFnLmlkfHxjLmVsLm5vZGUuY29udGFpbnMoai50YXJnZXQpKXtkPWouY2xpZW50WCxlPWouY2xpZW50WSwoYS5vcmlnaW5hbEV2ZW50P2Eub3JpZ2luYWxFdmVudDphKS5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrfX1lbHNlIGEucHJldmVudERlZmF1bHQoKTt2YXIgbT1jLmVsLm5vZGU7bS5uZXh0U2libGluZyxtLnBhcmVudE5vZGUsbS5zdHlsZS5kaXNwbGF5O2QrPWcsZSs9ZixiKCJzbmFwLmRyYWcubW92ZS4iK2MuZWwuaWQsYy5tb3ZlX3Njb3BlfHxjLmVsLGQtYy5lbC5fZHJhZy54LGUtYy5lbC5fZHJhZy55LGQsZSxhKX19LHE9ZnVuY3Rpb24oYyl7YS51bm1vdXNlbW92ZShwKS51bm1vdXNldXAocSk7Zm9yKHZhciBkLGU9by5sZW5ndGg7ZS0tOylkPW9bZV0sZC5lbC5fZHJhZz17fSxiKCJzbmFwLmRyYWcuZW5kLiIrZC5lbC5pZCxkLmVuZF9zY29wZXx8ZC5zdGFydF9zY29wZXx8ZC5tb3ZlX3Njb3BlfHxkLmVsLGMpLGIub2ZmKCJzbmFwLmRyYWcuKi4iK2QuZWwuaWQpO289W119LHI9aS5sZW5ndGg7ci0tOykhZnVuY3Rpb24oYil7YVtiXT1mW2JdPWZ1bmN0aW9uKGMsZCl7aWYoYS5pcyhjLCJmdW5jdGlvbiIpKXRoaXMuZXZlbnRzPXRoaXMuZXZlbnRzfHxbXSx0aGlzLmV2ZW50cy5wdXNoKHtuYW1lOmIsZjpjLHVuYmluZDpuKHRoaXMubm9kZXx8ZG9jdW1lbnQsYixjLGR8fHRoaXMpfSk7ZWxzZSBmb3IodmFyIGU9MCxmPXRoaXMuZXZlbnRzLmxlbmd0aDtmPmU7ZSsrKWlmKHRoaXMuZXZlbnRzW2VdLm5hbWU9PWIpdHJ5e3RoaXMuZXZlbnRzW2VdLmYuY2FsbCh0aGlzKX1jYXRjaChnKXt9cmV0dXJuIHRoaXN9LGFbInVuIitiXT1mWyJ1biIrYl09ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPXRoaXMuZXZlbnRzfHxbXSxkPWMubGVuZ3RoO2QtLTspaWYoY1tkXS5uYW1lPT1iJiYoY1tkXS5mPT1hfHwhYSkpcmV0dXJuIGNbZF0udW5iaW5kKCksYy5zcGxpY2UoZCwxKSwhYy5sZW5ndGgmJmRlbGV0ZSB0aGlzLmV2ZW50cyx0aGlzO3JldHVybiB0aGlzfX0oaVtyXSk7Zi5ob3Zlcj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5tb3VzZW92ZXIoYSxjKS5tb3VzZW91dChiLGR8fGMpfSxmLnVuaG92ZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy51bm1vdXNlb3ZlcihhKS51bm1vdXNlb3V0KGIpfTt2YXIgcz1bXTtmLmRyYWc9ZnVuY3Rpb24oYyxkLGUsZixnLGgpe2Z1bmN0aW9uIGkoaSxqLGwpeyhpLm9yaWdpbmFsRXZlbnR8fGkpLnByZXZlbnREZWZhdWx0KCksay5fZHJhZy54PWosay5fZHJhZy55PWwsay5fZHJhZy5pZD1pLmlkZW50aWZpZXIsIW8ubGVuZ3RoJiZhLm1vdXNlbW92ZShwKS5tb3VzZXVwKHEpLG8ucHVzaCh7ZWw6ayxtb3ZlX3Njb3BlOmYsc3RhcnRfc2NvcGU6ZyxlbmRfc2NvcGU6aH0pLGQmJmIub24oInNuYXAuZHJhZy5zdGFydC4iK2suaWQsZCksYyYmYi5vbigic25hcC5kcmFnLm1vdmUuIitrLmlkLGMpLGUmJmIub24oInNuYXAuZHJhZy5lbmQuIitrLmlkLGUpLGIoInNuYXAuZHJhZy5zdGFydC4iK2suaWQsZ3x8Znx8ayxqLGwsaSl9ZnVuY3Rpb24gaihhLGMsZCl7Yigic25hcC5kcmFnaW5pdC4iK2suaWQsayxhLGMsZCl9dmFyIGs9dGhpcztpZighYXJndW1lbnRzLmxlbmd0aCl7dmFyIGw7cmV0dXJuIGsuZHJhZyhmdW5jdGlvbihhLGIpe3RoaXMuYXR0cih7dHJhbnNmb3JtOmwrKGw/IlQiOiJ0IikrW2EsYl19KX0sZnVuY3Rpb24oKXtsPXRoaXMudHJhbnNmb3JtKCkubG9jYWx9KX1yZXR1cm4gYi5vbigic25hcC5kcmFnaW5pdC4iK2suaWQsaSksay5fZHJhZz17fSxzLnB1c2goe2VsOmssc3RhcnQ6aSxpbml0Omp9KSxrLm1vdXNlZG93bihqKSxrfSxmLnVuZHJhZz1mdW5jdGlvbigpe2Zvcih2YXIgYz1zLmxlbmd0aDtjLS07KXNbY10uZWw9PXRoaXMmJih0aGlzLnVubW91c2Vkb3duKHNbY10uaW5pdCkscy5zcGxpY2UoYywxKSxiLnVuYmluZCgic25hcC5kcmFnLiouIit0aGlzLmlkKSxiLnVuYmluZCgic25hcC5kcmFnaW5pdC4iK3RoaXMuaWQpKTtyZXR1cm4hcy5sZW5ndGgmJmEudW5tb3VzZW1vdmUocCkudW5tb3VzZXVwKHEpLHRoaXN9fSksZC5wbHVnaW4oZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGY9KGMucHJvdG90eXBlLGQucHJvdG90eXBlKSxnPS9eXHMqdXJsXCgoLispXCkvLGg9U3RyaW5nLGk9YS5fLiQ7YS5maWx0ZXI9e30sZi5maWx0ZXI9ZnVuY3Rpb24oYil7dmFyIGQ9dGhpczsic3ZnIiE9ZC50eXBlJiYoZD1kLnBhcGVyKTt2YXIgZT1hLnBhcnNlKGgoYikpLGY9YS5fLmlkKCksZz0oZC5ub2RlLm9mZnNldFdpZHRoLGQubm9kZS5vZmZzZXRIZWlnaHQsaSgiZmlsdGVyIikpO3JldHVybiBpKGcse2lkOmYsZmlsdGVyVW5pdHM6InVzZXJTcGFjZU9uVXNlIn0pLGcuYXBwZW5kQ2hpbGQoZS5ub2RlKSxkLmRlZnMuYXBwZW5kQ2hpbGQoZyksbmV3IGMoZyl9LGIub24oInNuYXAudXRpbC5nZXRhdHRyLmZpbHRlciIsZnVuY3Rpb24oKXtiLnN0b3AoKTt2YXIgYz1pKHRoaXMubm9kZSwiZmlsdGVyIik7aWYoYyl7dmFyIGQ9aChjKS5tYXRjaChnKTtyZXR1cm4gZCYmYS5zZWxlY3QoZFsxXSl9fSksYi5vbigic25hcC51dGlsLmF0dHIuZmlsdGVyIixmdW5jdGlvbihkKXtpZihkIGluc3RhbmNlb2YgYyYmImZpbHRlciI9PWQudHlwZSl7Yi5zdG9wKCk7dmFyIGU9ZC5ub2RlLmlkO2V8fChpKGQubm9kZSx7aWQ6ZC5pZH0pLGU9ZC5pZCksaSh0aGlzLm5vZGUse2ZpbHRlcjphLnVybChlKX0pfWQmJiJub25lIiE9ZHx8KGIuc3RvcCgpLHRoaXMubm9kZS5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpKX0pLGEuZmlsdGVyLmJsdXI9ZnVuY3Rpb24oYixjKXtudWxsPT1iJiYoYj0yKTt2YXIgZD1udWxsPT1jP2I6W2IsY107cmV0dXJuIGEuZm9ybWF0KCc8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSJ7ZGVmfSIvPicse2RlZjpkfSl9LGEuZmlsdGVyLmJsdXIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcygpfSxhLmZpbHRlci5zaGFkb3c9ZnVuY3Rpb24oYixjLGQsZSxmKXtyZXR1cm4gbnVsbD09ZiYmKG51bGw9PWU/KGY9ZCxkPTQsZT0iIzAwMCIpOihmPWUsZT1kLGQ9NCkpLG51bGw9PWQmJihkPTQpLG51bGw9PWYmJihmPTEpLG51bGw9PWImJihiPTAsYz0yKSxudWxsPT1jJiYoYz1iKSxlPWEuY29sb3IoZSksYS5mb3JtYXQoJzxmZUdhdXNzaWFuQmx1ciBpbj0iU291cmNlQWxwaGEiIHN0ZERldmlhdGlvbj0ie2JsdXJ9Ii8+PGZlT2Zmc2V0IGR4PSJ7ZHh9IiBkeT0ie2R5fSIgcmVzdWx0PSJvZmZzZXRibHVyIi8+PGZlRmxvb2QgZmxvb2QtY29sb3I9Intjb2xvcn0iLz48ZmVDb21wb3NpdGUgaW4yPSJvZmZzZXRibHVyIiBvcGVyYXRvcj0iaW4iLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSJ7b3BhY2l0eX0iLz48L2ZlQ29tcG9uZW50VHJhbnNmZXI+PGZlTWVyZ2U+PGZlTWVyZ2VOb2RlLz48ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiLz48L2ZlTWVyZ2U+Jyx7Y29sb3I6ZSxkeDpiLGR5OmMsYmx1cjpkLG9wYWNpdHk6Zn0pfSxhLmZpbHRlci5zaGFkb3cudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcygpfSxhLmZpbHRlci5ncmF5c2NhbGU9ZnVuY3Rpb24oYil7cmV0dXJuIG51bGw9PWImJihiPTEpLGEuZm9ybWF0KCc8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0ie2F9IHtifSB7Y30gMCAwIHtkfSB7ZX0ge2Z9IDAgMCB7Z30ge2J9IHtofSAwIDAgMCAwIDAgMSAwIi8+Jyx7YTouMjEyNisuNzg3NCooMS1iKSxiOi43MTUyLS43MTUyKigxLWIpLGM6LjA3MjItLjA3MjIqKDEtYiksZDouMjEyNi0uMjEyNiooMS1iKSxlOi43MTUyKy4yODQ4KigxLWIpLGY6LjA3MjItLjA3MjIqKDEtYiksZzouMjEyNi0uMjEyNiooMS1iKSxoOi4wNzIyKy45Mjc4KigxLWIpfSl9LGEuZmlsdGVyLmdyYXlzY2FsZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzKCl9LGEuZmlsdGVyLnNlcGlhPWZ1bmN0aW9uKGIpe3JldHVybiBudWxsPT1iJiYoYj0xKSxhLmZvcm1hdCgnPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9InthfSB7Yn0ge2N9IDAgMCB7ZH0ge2V9IHtmfSAwIDAge2d9IHtofSB7aX0gMCAwIDAgMCAwIDEgMCIvPicse2E6LjM5MysuNjA3KigxLWIpLGI6Ljc2OS0uNzY5KigxLWIpLGM6LjE4OS0uMTg5KigxLWIpLGQ6LjM0OS0uMzQ5KigxLWIpLGU6LjY4NisuMzE0KigxLWIpLGY6LjE2OC0uMTY4KigxLWIpLGc6LjI3Mi0uMjcyKigxLWIpLGg6LjUzNC0uNTM0KigxLWIpLGk6LjEzMSsuODY5KigxLWIpfSl9LGEuZmlsdGVyLnNlcGlhLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMoKX0sYS5maWx0ZXIuc2F0dXJhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG51bGw9PWImJihiPTEpLGEuZm9ybWF0KCc8ZmVDb2xvck1hdHJpeCB0eXBlPSJzYXR1cmF0ZSIgdmFsdWVzPSJ7YW1vdW50fSIvPicse2Ftb3VudDoxLWJ9KX0sYS5maWx0ZXIuc2F0dXJhdGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcygpfSxhLmZpbHRlci5odWVSb3RhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIGI9Ynx8MCxhLmZvcm1hdCgnPGZlQ29sb3JNYXRyaXggdHlwZT0iaHVlUm90YXRlIiB2YWx1ZXM9InthbmdsZX0iLz4nLHthbmdsZTpifSl9LGEuZmlsdGVyLmh1ZVJvdGF0ZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzKCl9LGEuZmlsdGVyLmludmVydD1mdW5jdGlvbihiKXtyZXR1cm4gbnVsbD09YiYmKGI9MSksYS5mb3JtYXQoJzxmZUNvbXBvbmVudFRyYW5zZmVyPjxmZUZ1bmNSIHR5cGU9InRhYmxlIiB0YWJsZVZhbHVlcz0ie2Ftb3VudH0ge2Ftb3VudDJ9Ii8+PGZlRnVuY0cgdHlwZT0idGFibGUiIHRhYmxlVmFsdWVzPSJ7YW1vdW50fSB7YW1vdW50Mn0iLz48ZmVGdW5jQiB0eXBlPSJ0YWJsZSIgdGFibGVWYWx1ZXM9InthbW91bnR9IHthbW91bnQyfSIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj4nLHthbW91bnQ6YixhbW91bnQyOjEtYn0pfSxhLmZpbHRlci5pbnZlcnQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcygpfSxhLmZpbHRlci5icmlnaHRuZXNzPWZ1bmN0aW9uKGIpe3JldHVybiBudWxsPT1iJiYoYj0xKSxhLmZvcm1hdCgnPGZlQ29tcG9uZW50VHJhbnNmZXI+PGZlRnVuY1IgdHlwZT0ibGluZWFyIiBzbG9wZT0ie2Ftb3VudH0iLz48ZmVGdW5jRyB0eXBlPSJsaW5lYXIiIHNsb3BlPSJ7YW1vdW50fSIvPjxmZUZ1bmNCIHR5cGU9ImxpbmVhciIgc2xvcGU9InthbW91bnR9Ii8+PC9mZUNvbXBvbmVudFRyYW5zZmVyPicse2Ftb3VudDpifSl9LGEuZmlsdGVyLmJyaWdodG5lc3MudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcygpfSxhLmZpbHRlci5jb250cmFzdD1mdW5jdGlvbihiKXtyZXR1cm4gbnVsbD09YiYmKGI9MSksYS5mb3JtYXQoJzxmZUNvbXBvbmVudFRyYW5zZmVyPjxmZUZ1bmNSIHR5cGU9ImxpbmVhciIgc2xvcGU9InthbW91bnR9IiBpbnRlcmNlcHQ9InthbW91bnQyfSIvPjxmZUZ1bmNHIHR5cGU9ImxpbmVhciIgc2xvcGU9InthbW91bnR9IiBpbnRlcmNlcHQ9InthbW91bnQyfSIvPjxmZUZ1bmNCIHR5cGU9ImxpbmVhciIgc2xvcGU9InthbW91bnR9IiBpbnRlcmNlcHQ9InthbW91bnQyfSIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj4nLHthbW91bnQ6YixhbW91bnQyOi41LWIvMn0pfSxhLmZpbHRlci5jb250cmFzdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzKCl9fSksZC5wbHVnaW4oZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLl8uYm94LGc9YS5pcyxoPS9eW15hLXpdKihbdGJtbHJjXSkvaSxpPWZ1bmN0aW9uKCl7cmV0dXJuIlQiK3RoaXMuZHgrIiwiK3RoaXMuZHl9O2IucHJvdG90eXBlLmdldEFsaWduPWZ1bmN0aW9uKGEsYil7bnVsbD09YiYmZyhhLCJzdHJpbmciKSYmKGI9YSxhPW51bGwpLGE9YXx8dGhpcy5wYXBlcjt2YXIgYz1hLmdldEJCb3g/YS5nZXRCQm94KCk6ZihhKSxkPXRoaXMuZ2V0QkJveCgpLGU9e307c3dpdGNoKGI9YiYmYi5tYXRjaChoKSxiPWI/YlsxXS50b0xvd2VyQ2FzZSgpOiJjIil7Y2FzZSJ0IjplLmR4PTAsZS5keT1jLnktZC55O2JyZWFrO2Nhc2UiYiI6ZS5keD0wLGUuZHk9Yy55Mi1kLnkyO2JyZWFrO2Nhc2UibSI6ZS5keD0wLGUuZHk9Yy5jeS1kLmN5O2JyZWFrO2Nhc2UibCI6ZS5keD1jLngtZC54LGUuZHk9MDticmVhaztjYXNlInIiOmUuZHg9Yy54Mi1kLngyLGUuZHk9MDticmVhaztkZWZhdWx0OmUuZHg9Yy5jeC1kLmN4LGUuZHk9MH1yZXR1cm4gZS50b1N0cmluZz1pLGV9LGIucHJvdG90eXBlLmFsaWduPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudHJhbnNmb3JtKCIuLi4iK3RoaXMuZ2V0QWxpZ24oYSxiKSl9fSksZC5wbHVnaW4oZnVuY3Rpb24oYixjLGQsZSl7ZnVuY3Rpb24gZihhKXthPWEuc3BsaXQoLyg/PSMpLyk7dmFyIGI9bmV3IFN0cmluZyhhWzVdKTtyZXR1cm4gYls1MF09YVswXSxiWzEwMF09YVsxXSxiWzIwMF09YVsyXSxiWzMwMF09YVszXSxiWzQwMF09YVs0XSxiWzUwMF09YVs1XSxiWzYwMF09YVs2XSxiWzcwMF09YVs3XSxiWzgwMF09YVs4XSxiWzkwMF09YVs5XSxhWzEwXSYmKGIuQTEwMD1hWzEwXSxiLkEyMDA9YVsxMV0sYi5BNDAwPWFbMTJdLGIuQTcwMD1hWzEzXSksYn12YXIgZz0iI2ZmZWJlZSNmZmNkZDIjZWY5YTlhI2U1NzM3MyNlZjUzNTAjZjQ0MzM2I2U1MzkzNSNkMzJmMmYjYzYyODI4I2I3MWMxYyNmZjhhODAjZmY1MjUyI2ZmMTc0NCNkNTAwMDAiLGg9IiNGQ0U0RUMjRjhCQkQwI0Y0OEZCMSNGMDYyOTIjRUM0MDdBI0U5MUU2MyNEODFCNjAjQzIxODVCI0FEMTQ1NyM4ODBFNEYjRkY4MEFCI0ZGNDA4MSNGNTAwNTcjQzUxMTYyIixpPSIjRjNFNUY1I0UxQkVFNyNDRTkzRDgjQkE2OEM4I0FCNDdCQyM5QzI3QjAjOEUyNEFBIzdCMUZBMiM2QTFCOUEjNEExNDhDI0VBODBGQyNFMDQwRkIjRDUwMEY5I0FBMDBGRiIsaj0iI0VERTdGNiNEMUM0RTkjQjM5RERCIzk1NzVDRCM3RTU3QzIjNjczQUI3IzVFMzVCMSM1MTJEQTgjNDUyN0EwIzMxMUI5MiNCMzg4RkYjN0M0REZGIzY1MUZGRiM2MjAwRUEiLGs9IiNFOEVBRjYjQzVDQUU5IzlGQThEQSM3OTg2Q0IjNUM2QkMwIzNGNTFCNSMzOTQ5QUIjMzAzRjlGIzI4MzU5MyMxQTIzN0UjOEM5RUZGIzUzNkRGRSMzRDVBRkUjMzA0RkZFIixsPSIjRTNGMkZEI0JCREVGQiM5MENBRjkjNjRCNUY2IzY0QjVGNiMyMTk2RjMjMUU4OEU1IzE5NzZEMiMxNTY1QzAjMEQ0N0ExIzgyQjFGRiM0NDhBRkYjMjk3OUZGIzI5NjJGRiIsbT0iI0UxRjVGRSNCM0U1RkMjODFENEZBIzRGQzNGNyMyOUI2RjYjMDNBOUY0IzAzOUJFNSMwMjg4RDEjMDI3N0JEIzAxNTc5QiM4MEQ4RkYjNDBDNEZGIzAwQjBGRiMwMDkxRUEiLG49IiNFMEY3RkEjQjJFQkYyIzgwREVFQSM0REQwRTEjMjZDNkRBIzAwQkNENCMwMEFDQzEjMDA5N0E3IzAwODM4RiMwMDYwNjQjODRGRkZGIzE4RkZGRiMwMEU1RkYjMDBCOEQ0IixvPSIjRTBGMkYxI0IyREZEQiM4MENCQzQjNERCNkFDIzI2QTY5QSMwMDk2ODgjMDA4OTdCIzAwNzk2QiMwMDY5NUMjMDA0RDQwI0E3RkZFQiM2NEZGREEjMURFOUI2IzAwQkZBNSIscD0iI0U4RjVFOSNDOEU2QzkjQTVENkE3IzgxQzc4NCM2NkJCNkEjNENBRjUwIzQzQTA0NyMzODhFM0MjMkU3RDMyIzFCNUUyMCNCOUY2Q0EjNjlGMEFFIzAwRTY3NiMwMEM4NTMiLHE9IiNGMUY4RTkjRENFREM4I0M1RTFBNSNBRUQ1ODEjOUNDQzY1IzhCQzM0QSM3Q0IzNDIjNjg5RjM4IzU1OEIyRiMzMzY5MUUjQ0NGRjkwI0IyRkY1OSM3NkZGMDMjNjRERDE3IixyPSIjRjlGQkU3I0YwRjRDMyNFNkVFOUMjRENFNzc1I0Q0RTE1NyNDRERDMzkjQzBDQTMzI0FGQjQyQiM5RTlEMjQjODI3NzE3I0Y0RkY4MSNFRUZGNDEjQzZGRjAwI0FFRUEwMCIscz0iI0ZGRkRFNyNGRkY5QzQjRkZGNTlEI0ZGRjE3NiNGRkVFNTgjRkZFQjNCI0ZERDgzNSNGQkMwMkQjRjlBODI1I0Y1N0YxNyNGRkZGOEQjRkZGRjAwI0ZGRUEwMCNGRkQ2MDAiLHQ9IiNGRkY4RTEjRkZFQ0IzI0ZGRTA4MiNGRkQ1NEYjRkZDQTI4I0ZGQzEwNyNGRkIzMDAjRkZBMDAwI0ZGOEYwMCNGRjZGMDAjRkZFNTdGI0ZGRDc0MCNGRkM0MDAjRkZBQjAwIix1PSIjRkZGM0UwI0ZGRTBCMiNGRkNDODAjRkZCNzREI0ZGQTcyNiNGRjk4MDAjRkI4QzAwI0Y1N0MwMCNFRjZDMDAjRTY1MTAwI0ZGRDE4MCNGRkFCNDAjRkY5MTAwI0ZGNkQwMCIsdj0iI0ZCRTlFNyNGRkNDQkMjRkZBQjkxI0ZGOEE2NSNGRjcwNDMjRkY1NzIyI0Y0NTExRSNFNjRBMTkjRDg0MzE1I0JGMzYwQyNGRjlFODAjRkY2RTQwI0ZGM0QwMCNERDJDMDAiLHc9IiNFRkVCRTkjRDdDQ0M4I0JDQUFBNCNBMTg4N0YjOEQ2RTYzIzc5NTU0OCM2RDRDNDEjNUQ0MDM3IzRFMzQyRSMzRTI3MjMiLHg9IiNGQUZBRkEjRjVGNUY1I0VFRUVFRSNFMEUwRTAjQkRCREJEIzlFOUU5RSM3NTc1NzUjNjE2MTYxIzQyNDI0MiMyMTIxMjEiLHk9IiNFQ0VGRjEjQ0ZEOERDI0IwQkVDNSM5MEE0QUUjNzg5MDlDIzYwN0Q4QiM1NDZFN0EjNDU1QTY0IzM3NDc0RiMyNjMyMzgiO2IubXVpPXt9LGIuZmxhdD17fSxiLm11aS5yZWQ9ZihnKSxiLm11aS5waW5rPWYoaCksYi5tdWkucHVycGxlPWYoaSksYi5tdWkuZGVlcHB1cnBsZT1mKGopLGIubXVpLmluZGlnbz1mKGspLGIubXVpLmJsdWU9ZihsKSxiLm11aS5saWdodGJsdWU9ZihtKSxiLm11aS5jeWFuPWYobiksYi5tdWkudGVhbD1mKG8pLGIubXVpLmdyZWVuPWYocCksYi5tdWkubGlnaHRncmVlbj1mKHEpLGIubXVpLmxpbWU9ZihyKSxiLm11aS55ZWxsb3c9ZihzKSxiLm11aS5hbWJlcj1mKHQpLGIubXVpLm9yYW5nZT1mKHUpLGIubXVpLmRlZXBvcmFuZ2U9Zih2KSxiLm11aS5icm93bj1mKHcpLGIubXVpLmdyZXk9Zih4KSxiLm11aS5ibHVlZ3JleT1mKHkpLGIuZmxhdC50dXJxdW9pc2U9IiMxYWJjOWMiLGIuZmxhdC5ncmVlbnNlYT0iIzE2YTA4NSIsYi5mbGF0LnN1bmZsb3dlcj0iI2YxYzQwZiIsYi5mbGF0Lm9yYW5nZT0iI2YzOWMxMiIsYi5mbGF0LmVtZXJsYW5kPSIjMmVjYzcxIixiLmZsYXQubmVwaHJpdGlzPSIjMjdhZTYwIixiLmZsYXQuY2Fycm90PSIjZTY3ZTIyIixiLmZsYXQucHVtcGtpbj0iI2QzNTQwMCIsYi5mbGF0LnBldGVycml2ZXI9IiMzNDk4ZGIiLGIuZmxhdC5iZWxpemVob2xlPSIjMjk4MGI5IixiLmZsYXQuYWxpemFyaW49IiNlNzRjM2MiLGIuZmxhdC5wb21lZ3JhbmF0ZT0iI2MwMzkyYiIsYi5mbGF0LmFtZXRoeXN0PSIjOWI1OWI2IixiLmZsYXQud2lzdGVyaWE9IiM4ZTQ0YWQiLGIuZmxhdC5jbG91ZHM9IiNlY2YwZjEiLGIuZmxhdC5zaWx2ZXI9IiNiZGMzYzciLGIuZmxhdC53ZXRhc3BoYWx0PSIjMzQ0OTVlIixiLmZsYXQubWlkbmlnaHRibHVlPSIjMmMzZTUwIixiLmZsYXQuY29uY3JldGU9IiM5NWE1YTYiLGIuZmxhdC5hc2Jlc3Rvcz0iIzdmOGM4ZCIsYi5pbXBvcnRNVUlDb2xvcnM9ZnVuY3Rpb24oKXtmb3IodmFyIGMgaW4gYi5tdWkpYi5tdWkuaGFzT3duUHJvcGVydHkoYykmJihhW2NdPWIubXVpW2NdKX19KSxkfSk7"},{"meta":{"name":"echarts.min.js","url":"https://cdn.staticfile.org/echarts/4.1.0/echarts.min.js","ts":1584071792211,"mimetype":"text/javascript"},"source":"Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KCiFmdW5jdGlvbih0LGUpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/ZShleHBvcnRzKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImV4cG9ydHMiXSxlKTplKHQuZWNoYXJ0cz17fSl9KHRoaXMsZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUodCxlKXsiY3JlYXRlQ2FudmFzIj09PXQmJihtXz1udWxsKSxwX1t0XT1lfWZ1bmN0aW9uIGkodCl7aWYobnVsbD09dHx8Im9iamVjdCIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBlPXQsbj1zXy5jYWxsKHQpO2lmKCJbb2JqZWN0IEFycmF5XSI9PT1uKXtpZighTyh0KSl7ZT1bXTtmb3IodmFyIG89MCxhPXQubGVuZ3RoO288YTtvKyspZVtvXT1pKHRbb10pfX1lbHNlIGlmKHJfW25dKXtpZighTyh0KSl7dmFyIHI9dC5jb25zdHJ1Y3RvcjtpZih0LmNvbnN0cnVjdG9yLmZyb20pZT1yLmZyb20odCk7ZWxzZXtlPW5ldyByKHQubGVuZ3RoKTtmb3IodmFyIG89MCxhPXQubGVuZ3RoO288YTtvKyspZVtvXT1pKHRbb10pfX19ZWxzZSBpZighYV9bbl0mJiFPKHQpJiYhTSh0KSl7ZT17fTtmb3IodmFyIHMgaW4gdCl0Lmhhc093blByb3BlcnR5KHMpJiYoZVtzXT1pKHRbc10pKX1yZXR1cm4gZX1mdW5jdGlvbiBuKHQsZSxvKXtpZighdyhlKXx8IXcodCkpcmV0dXJuIG8/aShlKTp0O2Zvcih2YXIgYSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoYSkpe3ZhciByPXRbYV0scz1lW2FdOyF3KHMpfHwhdyhyKXx8eShzKXx8eShyKXx8TShzKXx8TShyKXx8YihzKXx8YihyKXx8TyhzKXx8TyhyKT8hbyYmYSBpbiB0fHwodFthXT1pKGVbYV0sITApKTpuKHIscyxvKX1yZXR1cm4gdH1mdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBpPXRbMF0sbz0xLGE9dC5sZW5ndGg7bzxhO28rKylpPW4oaSx0W29dLGUpO3JldHVybiBpfWZ1bmN0aW9uIGEodCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdH1mdW5jdGlvbiByKHQsZSxpKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYoaT9udWxsIT1lW25dOm51bGw9PXRbbl0pJiYodFtuXT1lW25dKTtyZXR1cm4gdH1mdW5jdGlvbiBzKCl7cmV0dXJuIG1ffHwobV89Z18oKS5nZXRDb250ZXh0KCIyZCIpKSxtX31mdW5jdGlvbiBsKHQsZSl7aWYodCl7aWYodC5pbmRleE9mKXJldHVybiB0LmluZGV4T2YoZSk7Zm9yKHZhciBpPTAsbj10Lmxlbmd0aDtpPG47aSsrKWlmKHRbaV09PT1lKXJldHVybiBpfXJldHVybi0xfWZ1bmN0aW9uIHUodCxlKXtmdW5jdGlvbiBpKCl7fXZhciBuPXQucHJvdG90eXBlO2kucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBpO2Zvcih2YXIgbyBpbiBuKXQucHJvdG90eXBlW29dPW5bb107dC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0LnN1cGVyQ2xhc3M9ZX1mdW5jdGlvbiBoKHQsZSxpKXtyKHQ9InByb3RvdHlwZSJpbiB0P3QucHJvdG90eXBlOnQsZT0icHJvdG90eXBlImluIGU/ZS5wcm90b3R5cGU6ZSxpKX1mdW5jdGlvbiBjKHQpe2lmKHQpcmV0dXJuInN0cmluZyIhPXR5cGVvZiB0JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RofWZ1bmN0aW9uIGQodCxlLGkpe2lmKHQmJmUpaWYodC5mb3JFYWNoJiZ0LmZvckVhY2g9PT11Xyl0LmZvckVhY2goZSxpKTtlbHNlIGlmKHQubGVuZ3RoPT09K3QubGVuZ3RoKWZvcih2YXIgbj0wLG89dC5sZW5ndGg7bjxvO24rKyllLmNhbGwoaSx0W25dLG4sdCk7ZWxzZSBmb3IodmFyIGEgaW4gdCl0Lmhhc093blByb3BlcnR5KGEpJiZlLmNhbGwoaSx0W2FdLGEsdCl9ZnVuY3Rpb24gZih0LGUsaSl7aWYodCYmZSl7aWYodC5tYXAmJnQubWFwPT09ZF8pcmV0dXJuIHQubWFwKGUsaSk7Zm9yKHZhciBuPVtdLG89MCxhPXQubGVuZ3RoO288YTtvKyspbi5wdXNoKGUuY2FsbChpLHRbb10sbyx0KSk7cmV0dXJuIG59fWZ1bmN0aW9uIHAodCxlLGksbil7aWYodCYmZSl7aWYodC5yZWR1Y2UmJnQucmVkdWNlPT09Zl8pcmV0dXJuIHQucmVkdWNlKGUsaSxuKTtmb3IodmFyIG89MCxhPXQubGVuZ3RoO288YTtvKyspaT1lLmNhbGwobixpLHRbb10sbyx0KTtyZXR1cm4gaX19ZnVuY3Rpb24gZyh0LGUsaSl7aWYodCYmZSl7aWYodC5maWx0ZXImJnQuZmlsdGVyPT09aF8pcmV0dXJuIHQuZmlsdGVyKGUsaSk7Zm9yKHZhciBuPVtdLG89MCxhPXQubGVuZ3RoO288YTtvKyspZS5jYWxsKGksdFtvXSxvLHQpJiZuLnB1c2godFtvXSk7cmV0dXJuIG59fWZ1bmN0aW9uIG0odCxlKXt2YXIgaT1jXy5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGkuY29uY2F0KGNfLmNhbGwoYXJndW1lbnRzKSkpfX1mdW5jdGlvbiB2KHQpe3ZhciBlPWNfLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsZS5jb25jYXQoY18uY2FsbChhcmd1bWVudHMpKSl9fWZ1bmN0aW9uIHkodCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PXNfLmNhbGwodCl9ZnVuY3Rpb24geCh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH1mdW5jdGlvbiBfKHQpe3JldHVybiJbb2JqZWN0IFN0cmluZ10iPT09c18uY2FsbCh0KX1mdW5jdGlvbiB3KHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiJmdW5jdGlvbiI9PT1lfHwhIXQmJiJvYmplY3QiPT1lfWZ1bmN0aW9uIGIodCl7cmV0dXJuISFhX1tzXy5jYWxsKHQpXX1mdW5jdGlvbiBTKHQpe3JldHVybiEhcl9bc18uY2FsbCh0KV19ZnVuY3Rpb24gTSh0KXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHQmJiJudW1iZXIiPT10eXBlb2YgdC5ub2RlVHlwZSYmIm9iamVjdCI9PXR5cGVvZiB0Lm93bmVyRG9jdW1lbnR9ZnVuY3Rpb24gSSh0KXtyZXR1cm4gdCE9PXR9ZnVuY3Rpb24gVCh0KXtmb3IodmFyIGU9MCxpPWFyZ3VtZW50cy5sZW5ndGg7ZTxpO2UrKylpZihudWxsIT1hcmd1bWVudHNbZV0pcmV0dXJuIGFyZ3VtZW50c1tlXX1mdW5jdGlvbiBEKHQsZSl7cmV0dXJuIG51bGwhPXQ/dDplfWZ1bmN0aW9uIEEodCxlLGkpe3JldHVybiBudWxsIT10P3Q6bnVsbCE9ZT9lOml9ZnVuY3Rpb24gQygpe3JldHVybiBGdW5jdGlvbi5jYWxsLmFwcGx5KGNfLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTCh0KXtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuW3QsdCx0LHRdO3ZhciBlPXQubGVuZ3RoO3JldHVybiAyPT09ZT9bdFswXSx0WzFdLHRbMF0sdFsxXV06Mz09PWU/W3RbMF0sdFsxXSx0WzJdLHRbMV1dOnR9ZnVuY3Rpb24gayh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlKX1mdW5jdGlvbiBQKHQpe3JldHVybiBudWxsPT10P251bGw6ImZ1bmN0aW9uIj09dHlwZW9mIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX1mdW5jdGlvbiBOKHQpe3Rbdl9dPSEwfWZ1bmN0aW9uIE8odCl7cmV0dXJuIHRbdl9dfWZ1bmN0aW9uIEUodCl7ZnVuY3Rpb24gZSh0LGUpe2k/bi5zZXQodCxlKTpuLnNldChlLHQpfXZhciBpPXkodCksbj10aGlzO3QgaW5zdGFuY2VvZiBFP3QuZWFjaChlKTp0JiZkKHQsZSl9ZnVuY3Rpb24gUih0KXtyZXR1cm4gbmV3IEUodCl9ZnVuY3Rpb24geih0LGUpe2Zvcih2YXIgaT1uZXcgdC5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCtlLmxlbmd0aCksbj0wO248dC5sZW5ndGg7bisrKWlbbl09dFtuXTt2YXIgbz10Lmxlbmd0aDtmb3Iobj0wO248ZS5sZW5ndGg7bisrKWlbbitvXT1lW25dO3JldHVybiBpfWZ1bmN0aW9uIEIoKXt9ZnVuY3Rpb24gVih0LGUpe3ZhciBpPW5ldyB4XygyKTtyZXR1cm4gbnVsbD09dCYmKHQ9MCksbnVsbD09ZSYmKGU9MCksaVswXT10LGlbMV09ZSxpfWZ1bmN0aW9uIEcodCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0fWZ1bmN0aW9uIFcodCl7dmFyIGU9bmV3IHhfKDIpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGV9ZnVuY3Rpb24gRih0LGUsaSl7cmV0dXJuIHRbMF09ZSx0WzFdPWksdH1mdW5jdGlvbiBIKHQsZSxpKXtyZXR1cm4gdFswXT1lWzBdK2lbMF0sdFsxXT1lWzFdK2lbMV0sdH1mdW5jdGlvbiBaKHQsZSxpLG4pe3JldHVybiB0WzBdPWVbMF0raVswXSpuLHRbMV09ZVsxXStpWzFdKm4sdH1mdW5jdGlvbiBVKHQsZSxpKXtyZXR1cm4gdFswXT1lWzBdLWlbMF0sdFsxXT1lWzFdLWlbMV0sdH1mdW5jdGlvbiBYKHQpe3JldHVybiBNYXRoLnNxcnQoaih0KSl9ZnVuY3Rpb24gaih0KXtyZXR1cm4gdFswXSp0WzBdK3RbMV0qdFsxXX1mdW5jdGlvbiBZKHQsZSxpKXtyZXR1cm4gdFswXT1lWzBdKmksdFsxXT1lWzFdKmksdH1mdW5jdGlvbiBxKHQsZSl7dmFyIGk9WChlKTtyZXR1cm4gMD09PWk/KHRbMF09MCx0WzFdPTApOih0WzBdPWVbMF0vaSx0WzFdPWVbMV0vaSksdH1mdW5jdGlvbiBLKHQsZSl7cmV0dXJuIE1hdGguc3FydCgodFswXS1lWzBdKSoodFswXS1lWzBdKSsodFsxXS1lWzFdKSoodFsxXS1lWzFdKSl9ZnVuY3Rpb24gJCh0LGUpe3JldHVybih0WzBdLWVbMF0pKih0WzBdLWVbMF0pKyh0WzFdLWVbMV0pKih0WzFdLWVbMV0pfWZ1bmN0aW9uIEoodCxlLGksbil7cmV0dXJuIHRbMF09ZVswXStuKihpWzBdLWVbMF0pLHRbMV09ZVsxXStuKihpWzFdLWVbMV0pLHR9ZnVuY3Rpb24gUSh0LGUsaSl7dmFyIG49ZVswXSxvPWVbMV07cmV0dXJuIHRbMF09aVswXSpuK2lbMl0qbytpWzRdLHRbMV09aVsxXSpuK2lbM10qbytpWzVdLHR9ZnVuY3Rpb24gdHQodCxlLGkpe3JldHVybiB0WzBdPU1hdGgubWluKGVbMF0saVswXSksdFsxXT1NYXRoLm1pbihlWzFdLGlbMV0pLHR9ZnVuY3Rpb24gZXQodCxlLGkpe3JldHVybiB0WzBdPU1hdGgubWF4KGVbMF0saVswXSksdFsxXT1NYXRoLm1heChlWzFdLGlbMV0pLHR9ZnVuY3Rpb24gaXQoKXt0aGlzLm9uKCJtb3VzZWRvd24iLHRoaXMuX2RyYWdTdGFydCx0aGlzKSx0aGlzLm9uKCJtb3VzZW1vdmUiLHRoaXMuX2RyYWcsdGhpcyksdGhpcy5vbigibW91c2V1cCIsdGhpcy5fZHJhZ0VuZCx0aGlzKSx0aGlzLm9uKCJnbG9iYWxvdXQiLHRoaXMuX2RyYWdFbmQsdGhpcyl9ZnVuY3Rpb24gbnQodCxlKXtyZXR1cm57dGFyZ2V0OnQsdG9wVGFyZ2V0OmUmJmUudG9wVGFyZ2V0fX1mdW5jdGlvbiBvdCh0LGUsaSl7cmV0dXJue3R5cGU6dCxldmVudDppLHRhcmdldDplLnRhcmdldCx0b3BUYXJnZXQ6ZS50b3BUYXJnZXQsY2FuY2VsQnViYmxlOiExLG9mZnNldFg6aS56clgsb2Zmc2V0WTppLnpyWSxnZXN0dXJlRXZlbnQ6aS5nZXN0dXJlRXZlbnQscGluY2hYOmkucGluY2hYLHBpbmNoWTppLnBpbmNoWSxwaW5jaFNjYWxlOmkucGluY2hTY2FsZSx3aGVlbERlbHRhOmkuenJEZWx0YSx6ckJ5VG91Y2g6aS56ckJ5VG91Y2gsd2hpY2g6aS53aGljaH19ZnVuY3Rpb24gYXQoKXt9ZnVuY3Rpb24gcnQodCxlLGkpe2lmKHRbdC5yZWN0SG92ZXI/InJlY3RDb250YWluIjoiY29udGFpbiJdKGUsaSkpe2Zvcih2YXIgbixvPXQ7bzspe2lmKG8uY2xpcFBhdGgmJiFvLmNsaXBQYXRoLmNvbnRhaW4oZSxpKSlyZXR1cm4hMTtvLnNpbGVudCYmKG49ITApLG89by5wYXJlbnR9cmV0dXJuIW58fERffXJldHVybiExfWZ1bmN0aW9uIHN0KCl7dmFyIHQ9bmV3IExfKDYpO3JldHVybiBsdCh0KSx0fWZ1bmN0aW9uIGx0KHQpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTEsdFs0XT0wLHRbNV09MCx0fWZ1bmN0aW9uIHV0KHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0sdFs1XT1lWzVdLHR9ZnVuY3Rpb24gaHQodCxlLGkpe3ZhciBuPWVbMF0qaVswXStlWzJdKmlbMV0sbz1lWzFdKmlbMF0rZVszXSppWzFdLGE9ZVswXSppWzJdK2VbMl0qaVszXSxyPWVbMV0qaVsyXStlWzNdKmlbM10scz1lWzBdKmlbNF0rZVsyXSppWzVdK2VbNF0sbD1lWzFdKmlbNF0rZVszXSppWzVdK2VbNV07cmV0dXJuIHRbMF09bix0WzFdPW8sdFsyXT1hLHRbM109cix0WzRdPXMsdFs1XT1sLHR9ZnVuY3Rpb24gY3QodCxlLGkpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdK2lbMF0sdFs1XT1lWzVdK2lbMV0sdH1mdW5jdGlvbiBkdCh0LGUsaSl7dmFyIG49ZVswXSxvPWVbMl0sYT1lWzRdLHI9ZVsxXSxzPWVbM10sbD1lWzVdLHU9TWF0aC5zaW4oaSksaD1NYXRoLmNvcyhpKTtyZXR1cm4gdFswXT1uKmgrcip1LHRbMV09LW4qdStyKmgsdFsyXT1vKmgrcyp1LHRbM109LW8qdStoKnMsdFs0XT1oKmErdSpsLHRbNV09aCpsLXUqYSx0fWZ1bmN0aW9uIGZ0KHQsZSxpKXt2YXIgbj1pWzBdLG89aVsxXTtyZXR1cm4gdFswXT1lWzBdKm4sdFsxXT1lWzFdKm8sdFsyXT1lWzJdKm4sdFszXT1lWzNdKm8sdFs0XT1lWzRdKm4sdFs1XT1lWzVdKm8sdH1mdW5jdGlvbiBwdCh0LGUpe3ZhciBpPWVbMF0sbj1lWzJdLG89ZVs0XSxhPWVbMV0scj1lWzNdLHM9ZVs1XSxsPWkqci1hKm47cmV0dXJuIGw/KGw9MS9sLHRbMF09cipsLHRbMV09LWEqbCx0WzJdPS1uKmwsdFszXT1pKmwsdFs0XT0obipzLXIqbykqbCx0WzVdPShhKm8taSpzKSpsLHQpOm51bGx9ZnVuY3Rpb24gZ3QodCl7dmFyIGU9c3QoKTtyZXR1cm4gdXQoZSx0KSxlfWZ1bmN0aW9uIG10KHQpe3JldHVybiB0Pk5ffHx0PC1OX31mdW5jdGlvbiB2dCh0KXt0aGlzLl90YXJnZXQ9dC50YXJnZXQsdGhpcy5fbGlmZT10LmxpZmV8fDFlMyx0aGlzLl9kZWxheT10LmRlbGF5fHwwLHRoaXMuX2luaXRpYWxpemVkPSExLHRoaXMubG9vcD1udWxsIT10Lmxvb3AmJnQubG9vcCx0aGlzLmdhcD10LmdhcHx8MCx0aGlzLmVhc2luZz10LmVhc2luZ3x8IkxpbmVhciIsdGhpcy5vbmZyYW1lPXQub25mcmFtZSx0aGlzLm9uZGVzdHJveT10Lm9uZGVzdHJveSx0aGlzLm9ucmVzdGFydD10Lm9ucmVzdGFydCx0aGlzLl9wYXVzZWRUaW1lPTAsdGhpcy5fcGF1c2VkPSExfWZ1bmN0aW9uIHl0KHQpe3JldHVybih0PU1hdGgucm91bmQodCkpPDA/MDp0PjI1NT8yNTU6dH1mdW5jdGlvbiB4dCh0KXtyZXR1cm4odD1NYXRoLnJvdW5kKHQpKTwwPzA6dD4zNjA/MzYwOnR9ZnVuY3Rpb24gX3QodCl7cmV0dXJuIHQ8MD8wOnQ+MT8xOnR9ZnVuY3Rpb24gd3QodCl7cmV0dXJuIHl0KHQubGVuZ3RoJiYiJSI9PT10LmNoYXJBdCh0Lmxlbmd0aC0xKT9wYXJzZUZsb2F0KHQpLzEwMCoyNTU6cGFyc2VJbnQodCwxMCkpfWZ1bmN0aW9uIGJ0KHQpe3JldHVybiBfdCh0Lmxlbmd0aCYmIiUiPT09dC5jaGFyQXQodC5sZW5ndGgtMSk/cGFyc2VGbG9hdCh0KS8xMDA6cGFyc2VGbG9hdCh0KSl9ZnVuY3Rpb24gU3QodCxlLGkpe3JldHVybiBpPDA/aSs9MTppPjEmJihpLT0xKSw2Kmk8MT90KyhlLXQpKmkqNjoyKmk8MT9lOjMqaTwyP3QrKGUtdCkqKDIvMy1pKSo2OnR9ZnVuY3Rpb24gTXQodCxlLGkpe3JldHVybiB0KyhlLXQpKml9ZnVuY3Rpb24gSXQodCxlLGksbixvKXtyZXR1cm4gdFswXT1lLHRbMV09aSx0WzJdPW4sdFszXT1vLHR9ZnVuY3Rpb24gVHQodCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHR9ZnVuY3Rpb24gRHQodCxlKXtVXyYmVHQoVV8sZSksVV89Wl8ucHV0KHQsVV98fGUuc2xpY2UoKSl9ZnVuY3Rpb24gQXQodCxlKXtpZih0KXtlPWV8fFtdO3ZhciBpPVpfLmdldCh0KTtpZihpKXJldHVybiBUdChlLGkpO3ZhciBuPSh0Kz0iIikucmVwbGFjZSgvIC9nLCIiKS50b0xvd2VyQ2FzZSgpO2lmKG4gaW4gSF8pcmV0dXJuIFR0KGUsSF9bbl0pLER0KHQsZSksZTtpZigiIyIhPT1uLmNoYXJBdCgwKSl7dmFyIG89bi5pbmRleE9mKCIoIiksYT1uLmluZGV4T2YoIikiKTtpZigtMSE9PW8mJmErMT09PW4ubGVuZ3RoKXt2YXIgcj1uLnN1YnN0cigwLG8pLHM9bi5zdWJzdHIobysxLGEtKG8rMSkpLnNwbGl0KCIsIiksbD0xO3N3aXRjaChyKXtjYXNlInJnYmEiOmlmKDQhPT1zLmxlbmd0aClyZXR1cm4gdm9pZCBJdChlLDAsMCwwLDEpO2w9YnQocy5wb3AoKSk7Y2FzZSJyZ2IiOnJldHVybiAzIT09cy5sZW5ndGg/dm9pZCBJdChlLDAsMCwwLDEpOihJdChlLHd0KHNbMF0pLHd0KHNbMV0pLHd0KHNbMl0pLGwpLER0KHQsZSksZSk7Y2FzZSJoc2xhIjpyZXR1cm4gNCE9PXMubGVuZ3RoP3ZvaWQgSXQoZSwwLDAsMCwxKTooc1szXT1idChzWzNdKSxDdChzLGUpLER0KHQsZSksZSk7Y2FzZSJoc2wiOnJldHVybiAzIT09cy5sZW5ndGg/dm9pZCBJdChlLDAsMCwwLDEpOihDdChzLGUpLER0KHQsZSksZSk7ZGVmYXVsdDpyZXR1cm59fUl0KGUsMCwwLDAsMSl9ZWxzZXtpZig0PT09bi5sZW5ndGgpcmV0dXJuKHU9cGFyc2VJbnQobi5zdWJzdHIoMSksMTYpKT49MCYmdTw9NDA5NT8oSXQoZSwoMzg0MCZ1KT4+NHwoMzg0MCZ1KT4+OCwyNDAmdXwoMjQwJnUpPj40LDE1JnV8KDE1JnUpPDw0LDEpLER0KHQsZSksZSk6dm9pZCBJdChlLDAsMCwwLDEpO2lmKDc9PT1uLmxlbmd0aCl7dmFyIHU9cGFyc2VJbnQobi5zdWJzdHIoMSksMTYpO3JldHVybiB1Pj0wJiZ1PD0xNjc3NzIxNT8oSXQoZSwoMTY3MTE2ODAmdSk+PjE2LCg2NTI4MCZ1KT4+OCwyNTUmdSwxKSxEdCh0LGUpLGUpOnZvaWQgSXQoZSwwLDAsMCwxKX19fX1mdW5jdGlvbiBDdCh0LGUpe3ZhciBpPShwYXJzZUZsb2F0KHRbMF0pJTM2MCszNjApJTM2MC8zNjAsbj1idCh0WzFdKSxvPWJ0KHRbMl0pLGE9bzw9LjU/byoobisxKTpvK24tbypuLHI9MipvLWE7cmV0dXJuIGU9ZXx8W10sSXQoZSx5dCgyNTUqU3QocixhLGkrMS8zKSkseXQoMjU1KlN0KHIsYSxpKSkseXQoMjU1KlN0KHIsYSxpLTEvMykpLDEpLDQ9PT10Lmxlbmd0aCYmKGVbM109dFszXSksZX1mdW5jdGlvbiBMdCh0KXtpZih0KXt2YXIgZSxpLG49dFswXS8yNTUsbz10WzFdLzI1NSxhPXRbMl0vMjU1LHI9TWF0aC5taW4obixvLGEpLHM9TWF0aC5tYXgobixvLGEpLGw9cy1yLHU9KHMrcikvMjtpZigwPT09bCllPTAsaT0wO2Vsc2V7aT11PC41P2wvKHMrcik6bC8oMi1zLXIpO3ZhciBoPSgocy1uKS82K2wvMikvbCxjPSgocy1vKS82K2wvMikvbCxkPSgocy1hKS82K2wvMikvbDtuPT09cz9lPWQtYzpvPT09cz9lPTEvMytoLWQ6YT09PXMmJihlPTIvMytjLWgpLGU8MCYmKGUrPTEpLGU+MSYmKGUtPTEpfXZhciBmPVszNjAqZSxpLHVdO3JldHVybiBudWxsIT10WzNdJiZmLnB1c2godFszXSksZn19ZnVuY3Rpb24ga3QodCxlKXt2YXIgaT1BdCh0KTtpZihpKXtmb3IodmFyIG49MDtuPDM7bisrKWlbbl09ZTwwP2lbbl0qKDEtZSl8MDooMjU1LWlbbl0pKmUraVtuXXwwLGlbbl0+MjU1P2lbbl09MjU1OnRbbl08MCYmKGlbbl09MCk7cmV0dXJuIHp0KGksND09PWkubGVuZ3RoPyJyZ2JhIjoicmdiIil9fWZ1bmN0aW9uIFB0KHQpe3ZhciBlPUF0KHQpO2lmKGUpcmV0dXJuKCgxPDwyNCkrKGVbMF08PDE2KSsoZVsxXTw8OCkrICtlWzJdKS50b1N0cmluZygxNikuc2xpY2UoMSl9ZnVuY3Rpb24gTnQodCxlLGkpe2lmKGUmJmUubGVuZ3RoJiZ0Pj0wJiZ0PD0xKXtpPWl8fFtdO3ZhciBuPXQqKGUubGVuZ3RoLTEpLG89TWF0aC5mbG9vcihuKSxhPU1hdGguY2VpbChuKSxyPWVbb10scz1lW2FdLGw9bi1vO3JldHVybiBpWzBdPXl0KE10KHJbMF0sc1swXSxsKSksaVsxXT15dChNdChyWzFdLHNbMV0sbCkpLGlbMl09eXQoTXQoclsyXSxzWzJdLGwpKSxpWzNdPV90KE10KHJbM10sc1szXSxsKSksaX19ZnVuY3Rpb24gT3QodCxlLGkpe2lmKGUmJmUubGVuZ3RoJiZ0Pj0wJiZ0PD0xKXt2YXIgbj10KihlLmxlbmd0aC0xKSxvPU1hdGguZmxvb3IobiksYT1NYXRoLmNlaWwobikscj1BdChlW29dKSxzPUF0KGVbYV0pLGw9bi1vLHU9enQoW3l0KE10KHJbMF0sc1swXSxsKSkseXQoTXQoclsxXSxzWzFdLGwpKSx5dChNdChyWzJdLHNbMl0sbCkpLF90KE10KHJbM10sc1szXSxsKSldLCJyZ2JhIik7cmV0dXJuIGk/e2NvbG9yOnUsbGVmdEluZGV4Om8scmlnaHRJbmRleDphLHZhbHVlOm59OnV9fWZ1bmN0aW9uIEV0KHQsZSxpLG4pe2lmKHQ9QXQodCkpcmV0dXJuIHQ9THQodCksbnVsbCE9ZSYmKHRbMF09eHQoZSkpLG51bGwhPWkmJih0WzFdPWJ0KGkpKSxudWxsIT1uJiYodFsyXT1idChuKSksenQoQ3QodCksInJnYmEiKX1mdW5jdGlvbiBSdCh0LGUpe2lmKCh0PUF0KHQpKSYmbnVsbCE9ZSlyZXR1cm4gdFszXT1fdChlKSx6dCh0LCJyZ2JhIil9ZnVuY3Rpb24genQodCxlKXtpZih0JiZ0Lmxlbmd0aCl7dmFyIGk9dFswXSsiLCIrdFsxXSsiLCIrdFsyXTtyZXR1cm4icmdiYSIhPT1lJiYiaHN2YSIhPT1lJiYiaHNsYSIhPT1lfHwoaSs9IiwiK3RbM10pLGUrIigiK2krIikifX1mdW5jdGlvbiBCdCh0LGUpe3JldHVybiB0W2VdfWZ1bmN0aW9uIFZ0KHQsZSxpKXt0W2VdPWl9ZnVuY3Rpb24gR3QodCxlLGkpe3JldHVybihlLXQpKmkrdH1mdW5jdGlvbiBXdCh0LGUsaSl7cmV0dXJuIGk+LjU/ZTp0fWZ1bmN0aW9uIEZ0KHQsZSxpLG4sbyl7dmFyIGE9dC5sZW5ndGg7aWYoMT09bylmb3Iocz0wO3M8YTtzKyspbltzXT1HdCh0W3NdLGVbc10saSk7ZWxzZSBmb3IodmFyIHI9YSYmdFswXS5sZW5ndGgscz0wO3M8YTtzKyspZm9yKHZhciBsPTA7bDxyO2wrKyluW3NdW2xdPUd0KHRbc11bbF0sZVtzXVtsXSxpKX1mdW5jdGlvbiBIdCh0LGUsaSl7dmFyIG49dC5sZW5ndGgsbz1lLmxlbmd0aDtpZihuIT09bylpZihuPm8pdC5sZW5ndGg9bztlbHNlIGZvcihyPW47cjxvO3IrKyl0LnB1c2goMT09PWk/ZVtyXTpxXy5jYWxsKGVbcl0pKTtmb3IodmFyIGE9dFswXSYmdFswXS5sZW5ndGgscj0wO3I8dC5sZW5ndGg7cisrKWlmKDE9PT1pKWlzTmFOKHRbcl0pJiYodFtyXT1lW3JdKTtlbHNlIGZvcih2YXIgcz0wO3M8YTtzKyspaXNOYU4odFtyXVtzXSkmJih0W3JdW3NdPWVbcl1bc10pfWZ1bmN0aW9uIFp0KHQsZSxpKXtpZih0PT09ZSlyZXR1cm4hMDt2YXIgbj10Lmxlbmd0aDtpZihuIT09ZS5sZW5ndGgpcmV0dXJuITE7aWYoMT09PWkpe2ZvcihhPTA7YTxuO2ErKylpZih0W2FdIT09ZVthXSlyZXR1cm4hMX1lbHNlIGZvcih2YXIgbz10WzBdLmxlbmd0aCxhPTA7YTxuO2ErKylmb3IodmFyIHI9MDtyPG87cisrKWlmKHRbYV1bcl0hPT1lW2FdW3JdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFV0KHQsZSxpLG4sbyxhLHIscyxsKXt2YXIgdT10Lmxlbmd0aDtpZigxPT1sKWZvcihjPTA7Yzx1O2MrKylzW2NdPVh0KHRbY10sZVtjXSxpW2NdLG5bY10sbyxhLHIpO2Vsc2UgZm9yKHZhciBoPXRbMF0ubGVuZ3RoLGM9MDtjPHU7YysrKWZvcih2YXIgZD0wO2Q8aDtkKyspc1tjXVtkXT1YdCh0W2NdW2RdLGVbY11bZF0saVtjXVtkXSxuW2NdW2RdLG8sYSxyKX1mdW5jdGlvbiBYdCh0LGUsaSxuLG8sYSxyKXt2YXIgcz0uNSooaS10KSxsPS41KihuLWUpO3JldHVybigyKihlLWkpK3MrbCkqcisoLTMqKGUtaSktMipzLWwpKmErcypvK2V9ZnVuY3Rpb24ganQodCl7aWYoYyh0KSl7dmFyIGU9dC5sZW5ndGg7aWYoYyh0WzBdKSl7Zm9yKHZhciBpPVtdLG49MDtuPGU7bisrKWkucHVzaChxXy5jYWxsKHRbbl0pKTtyZXR1cm4gaX1yZXR1cm4gcV8uY2FsbCh0KX1yZXR1cm4gdH1mdW5jdGlvbiBZdCh0KXtyZXR1cm4gdFswXT1NYXRoLmZsb29yKHRbMF0pLHRbMV09TWF0aC5mbG9vcih0WzFdKSx0WzJdPU1hdGguZmxvb3IodFsyXSksInJnYmEoIit0LmpvaW4oIiwiKSsiKSJ9ZnVuY3Rpb24gcXQodCl7dmFyIGU9dFt0Lmxlbmd0aC0xXS52YWx1ZTtyZXR1cm4gYyhlJiZlWzBdKT8yOjF9ZnVuY3Rpb24gS3QodCxlLGksbixvLGEpe3ZhciByPXQuX2dldHRlcixzPXQuX3NldHRlcixsPSJzcGxpbmUiPT09ZSx1PW4ubGVuZ3RoO2lmKHUpe3ZhciBoLGQ9YyhuWzBdLnZhbHVlKSxmPSExLHA9ITEsZz1kP3F0KG4pOjA7bi5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudGltZS1lLnRpbWV9KSxoPW5bdS0xXS50aW1lO2Zvcih2YXIgbT1bXSx2PVtdLHk9blswXS52YWx1ZSx4PSEwLF89MDtfPHU7XysrKXttLnB1c2gobltfXS50aW1lL2gpO3ZhciB3PW5bX10udmFsdWU7aWYoZCYmWnQodyx5LGcpfHwhZCYmdz09PXl8fCh4PSExKSx5PXcsInN0cmluZyI9PXR5cGVvZiB3KXt2YXIgYj1BdCh3KTtiPyh3PWIsZj0hMCk6cD0hMH12LnB1c2godyl9aWYoYXx8IXgpe2Zvcih2YXIgUz12W3UtMV0sXz0wO188dS0xO18rKylkP0h0KHZbX10sUyxnKTohaXNOYU4odltfXSl8fGlzTmFOKFMpfHxwfHxmfHwodltfXT1TKTtkJiZIdChyKHQuX3RhcmdldCxvKSxTLGcpO3ZhciBNLEksVCxELEEsQyxMPTAsaz0wO2lmKGYpdmFyIFA9WzAsMCwwLDBdO3ZhciBOPW5ldyB2dCh7dGFyZ2V0OnQuX3RhcmdldCxsaWZlOmgsbG9vcDp0Ll9sb29wLGRlbGF5OnQuX2RlbGF5LG9uZnJhbWU6ZnVuY3Rpb24odCxlKXt2YXIgaTtpZihlPDApaT0wO2Vsc2UgaWYoZTxrKXtmb3IoaT1NPU1hdGgubWluKEwrMSx1LTEpO2k+PTAmJiEobVtpXTw9ZSk7aS0tKTtpPU1hdGgubWluKGksdS0yKX1lbHNle2ZvcihpPUw7aTx1JiYhKG1baV0+ZSk7aSsrKTtpPU1hdGgubWluKGktMSx1LTIpfUw9aSxrPWU7dmFyIG49bVtpKzFdLW1baV07aWYoMCE9PW4paWYoST0oZS1tW2ldKS9uLGwpaWYoRD12W2ldLFQ9dlswPT09aT9pOmktMV0sQT12W2k+dS0yP3UtMTppKzFdLEM9dltpPnUtMz91LTE6aSsyXSxkKVV0KFQsRCxBLEMsSSxJKkksSSpJKkkscih0LG8pLGcpO2Vsc2V7aWYoZilhPVV0KFQsRCxBLEMsSSxJKkksSSpJKkksUCwxKSxhPVl0KFApO2Vsc2V7aWYocClyZXR1cm4gV3QoRCxBLEkpO2E9WHQoVCxELEEsQyxJLEkqSSxJKkkqSSl9cyh0LG8sYSl9ZWxzZSBpZihkKUZ0KHZbaV0sdltpKzFdLEkscih0LG8pLGcpO2Vsc2V7dmFyIGE7aWYoZilGdCh2W2ldLHZbaSsxXSxJLFAsMSksYT1ZdChQKTtlbHNle2lmKHApcmV0dXJuIFd0KHZbaV0sdltpKzFdLEkpO2E9R3QodltpXSx2W2krMV0sSSl9cyh0LG8sYSl9fSxvbmRlc3Ryb3k6aX0pO3JldHVybiBlJiYic3BsaW5lIiE9PWUmJihOLmVhc2luZz1lKSxOfX19ZnVuY3Rpb24gJHQodCxlLGksbil7aTwwJiYodCs9aSxpPS1pKSxuPDAmJihlKz1uLG49LW4pLHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9aSx0aGlzLmhlaWdodD1ufWZ1bmN0aW9uIEp0KHQpe2Zvcih2YXIgZT0wO3Q+PXN3OyllfD0xJnQsdD4+PTE7cmV0dXJuIHQrZX1mdW5jdGlvbiBRdCh0LGUsaSxuKXt2YXIgbz1lKzE7aWYobz09PWkpcmV0dXJuIDE7aWYobih0W28rK10sdFtlXSk8MCl7Zm9yKDtvPGkmJm4odFtvXSx0W28tMV0pPDA7KW8rKzt0ZSh0LGUsbyl9ZWxzZSBmb3IoO288aSYmbih0W29dLHRbby0xXSk+PTA7KW8rKztyZXR1cm4gby1lfWZ1bmN0aW9uIHRlKHQsZSxpKXtmb3IoaS0tO2U8aTspe3ZhciBuPXRbZV07dFtlKytdPXRbaV0sdFtpLS1dPW59fWZ1bmN0aW9uIGVlKHQsZSxpLG4sbyl7Zm9yKG49PT1lJiZuKys7bjxpO24rKyl7Zm9yKHZhciBhLHI9dFtuXSxzPWUsbD1uO3M8bDspbyhyLHRbYT1zK2w+Pj4xXSk8MD9sPWE6cz1hKzE7dmFyIHU9bi1zO3N3aXRjaCh1KXtjYXNlIDM6dFtzKzNdPXRbcysyXTtjYXNlIDI6dFtzKzJdPXRbcysxXTtjYXNlIDE6dFtzKzFdPXRbc107YnJlYWs7ZGVmYXVsdDpmb3IoO3U+MDspdFtzK3VdPXRbcyt1LTFdLHUtLX10W3NdPXJ9fWZ1bmN0aW9uIGllKHQsZSxpLG4sbyxhKXt2YXIgcj0wLHM9MCxsPTE7aWYoYSh0LGVbaStvXSk+MCl7Zm9yKHM9bi1vO2w8cyYmYSh0LGVbaStvK2xdKT4wOylyPWwsKGw9MSsobDw8MSkpPD0wJiYobD1zKTtsPnMmJihsPXMpLHIrPW8sbCs9b31lbHNle2ZvcihzPW8rMTtsPHMmJmEodCxlW2krby1sXSk8PTA7KXI9bCwobD0xKyhsPDwxKSk8PTAmJihsPXMpO2w+cyYmKGw9cyk7dmFyIHU9cjtyPW8tbCxsPW8tdX1mb3IocisrO3I8bDspe3ZhciBoPXIrKGwtcj4+PjEpO2EodCxlW2kraF0pPjA/cj1oKzE6bD1ofXJldHVybiBsfWZ1bmN0aW9uIG5lKHQsZSxpLG4sbyxhKXt2YXIgcj0wLHM9MCxsPTE7aWYoYSh0LGVbaStvXSk8MCl7Zm9yKHM9bysxO2w8cyYmYSh0LGVbaStvLWxdKTwwOylyPWwsKGw9MSsobDw8MSkpPD0wJiYobD1zKTtsPnMmJihsPXMpO3ZhciB1PXI7cj1vLWwsbD1vLXV9ZWxzZXtmb3Iocz1uLW87bDxzJiZhKHQsZVtpK28rbF0pPj0wOylyPWwsKGw9MSsobDw8MSkpPD0wJiYobD1zKTtsPnMmJihsPXMpLHIrPW8sbCs9b31mb3IocisrO3I8bDspe3ZhciBoPXIrKGwtcj4+PjEpO2EodCxlW2kraF0pPDA/bD1oOnI9aCsxfXJldHVybiBsfWZ1bmN0aW9uIG9lKHQsZSl7ZnVuY3Rpb24gaShpKXt2YXIgcz1hW2ldLHU9cltpXSxoPWFbaSsxXSxjPXJbaSsxXTtyW2ldPXUrYyxpPT09bC0zJiYoYVtpKzFdPWFbaSsyXSxyW2krMV09cltpKzJdKSxsLS07dmFyIGQ9bmUodFtoXSx0LHMsdSwwLGUpO3MrPWQsMCE9PSh1LT1kKSYmMCE9PShjPWllKHRbcyt1LTFdLHQsaCxjLGMtMSxlKSkmJih1PD1jP24ocyx1LGgsYyk6byhzLHUsaCxjKSl9ZnVuY3Rpb24gbihpLG4sbyxhKXt2YXIgcj0wO2ZvcihyPTA7cjxuO3IrKyl1W3JdPXRbaStyXTt2YXIgbD0wLGg9byxjPWk7aWYodFtjKytdPXRbaCsrXSwwIT0tLWEpaWYoMSE9PW4pe2Zvcih2YXIgZCxmLHAsZz1zOzspe2Q9MCxmPTAscD0hMTtkb3tpZihlKHRbaF0sdVtsXSk8MCl7aWYodFtjKytdPXRbaCsrXSxmKyssZD0wLDA9PS0tYSl7cD0hMDticmVha319ZWxzZSBpZih0W2MrK109dVtsKytdLGQrKyxmPTAsMT09LS1uKXtwPSEwO2JyZWFrfX13aGlsZSgoZHxmKTxnKTtpZihwKWJyZWFrO2Rve2lmKDAhPT0oZD1uZSh0W2hdLHUsbCxuLDAsZSkpKXtmb3Iocj0wO3I8ZDtyKyspdFtjK3JdPXVbbCtyXTtpZihjKz1kLGwrPWQsKG4tPWQpPD0xKXtwPSEwO2JyZWFrfX1pZih0W2MrK109dFtoKytdLDA9PS0tYSl7cD0hMDticmVha31pZigwIT09KGY9aWUodVtsXSx0LGgsYSwwLGUpKSl7Zm9yKHI9MDtyPGY7cisrKXRbYytyXT10W2grcl07aWYoYys9ZixoKz1mLDA9PT0oYS09Zikpe3A9ITA7YnJlYWt9fWlmKHRbYysrXT11W2wrK10sMT09LS1uKXtwPSEwO2JyZWFrfWctLX13aGlsZShkPj1sd3x8Zj49bHcpO2lmKHApYnJlYWs7ZzwwJiYoZz0wKSxnKz0yfWlmKChzPWcpPDEmJihzPTEpLDE9PT1uKXtmb3Iocj0wO3I8YTtyKyspdFtjK3JdPXRbaCtyXTt0W2MrYV09dVtsXX1lbHNle2lmKDA9PT1uKXRocm93IG5ldyBFcnJvcjtmb3Iocj0wO3I8bjtyKyspdFtjK3JdPXVbbCtyXX19ZWxzZXtmb3Iocj0wO3I8YTtyKyspdFtjK3JdPXRbaCtyXTt0W2MrYV09dVtsXX1lbHNlIGZvcihyPTA7cjxuO3IrKyl0W2Mrcl09dVtsK3JdfWZ1bmN0aW9uIG8oaSxuLG8sYSl7dmFyIHI9MDtmb3Iocj0wO3I8YTtyKyspdVtyXT10W28rcl07dmFyIGw9aStuLTEsaD1hLTEsYz1vK2EtMSxkPTAsZj0wO2lmKHRbYy0tXT10W2wtLV0sMCE9LS1uKWlmKDEhPT1hKXtmb3IodmFyIHA9czs7KXt2YXIgZz0wLG09MCx2PSExO2Rve2lmKGUodVtoXSx0W2xdKTwwKXtpZih0W2MtLV09dFtsLS1dLGcrKyxtPTAsMD09LS1uKXt2PSEwO2JyZWFrfX1lbHNlIGlmKHRbYy0tXT11W2gtLV0sbSsrLGc9MCwxPT0tLWEpe3Y9ITA7YnJlYWt9fXdoaWxlKChnfG0pPHApO2lmKHYpYnJlYWs7ZG97aWYoMCE9KGc9bi1uZSh1W2hdLHQsaSxuLG4tMSxlKSkpe2ZvcihuLT1nLGY9KGMtPWcpKzEsZD0obC09ZykrMSxyPWctMTtyPj0wO3ItLSl0W2Yrcl09dFtkK3JdO2lmKDA9PT1uKXt2PSEwO2JyZWFrfX1pZih0W2MtLV09dVtoLS1dLDE9PS0tYSl7dj0hMDticmVha31pZigwIT0obT1hLWllKHRbbF0sdSwwLGEsYS0xLGUpKSl7Zm9yKGEtPW0sZj0oYy09bSkrMSxkPShoLT1tKSsxLHI9MDtyPG07cisrKXRbZityXT11W2Qrcl07aWYoYTw9MSl7dj0hMDticmVha319aWYodFtjLS1dPXRbbC0tXSwwPT0tLW4pe3Y9ITA7YnJlYWt9cC0tfXdoaWxlKGc+PWx3fHxtPj1sdyk7aWYodilicmVhaztwPDAmJihwPTApLHArPTJ9aWYoKHM9cCk8MSYmKHM9MSksMT09PWEpe2ZvcihmPShjLT1uKSsxLGQ9KGwtPW4pKzEscj1uLTE7cj49MDtyLS0pdFtmK3JdPXRbZCtyXTt0W2NdPXVbaF19ZWxzZXtpZigwPT09YSl0aHJvdyBuZXcgRXJyb3I7Zm9yKGQ9Yy0oYS0xKSxyPTA7cjxhO3IrKyl0W2Qrcl09dVtyXX19ZWxzZXtmb3IoZj0oYy09bikrMSxkPShsLT1uKSsxLHI9bi0xO3I+PTA7ci0tKXRbZityXT10W2Qrcl07dFtjXT11W2hdfWVsc2UgZm9yKGQ9Yy0oYS0xKSxyPTA7cjxhO3IrKyl0W2Qrcl09dVtyXX12YXIgYSxyLHM9bHcsbD0wLHU9W107YT1bXSxyPVtdLHRoaXMubWVyZ2VSdW5zPWZ1bmN0aW9uKCl7Zm9yKDtsPjE7KXt2YXIgdD1sLTI7aWYodD49MSYmclt0LTFdPD1yW3RdK3JbdCsxXXx8dD49MiYmclt0LTJdPD1yW3RdK3JbdC0xXSlyW3QtMV08clt0KzFdJiZ0LS07ZWxzZSBpZihyW3RdPnJbdCsxXSlicmVhaztpKHQpfX0sdGhpcy5mb3JjZU1lcmdlUnVucz1mdW5jdGlvbigpe2Zvcig7bD4xOyl7dmFyIHQ9bC0yO3Q+MCYmclt0LTFdPHJbdCsxXSYmdC0tLGkodCl9fSx0aGlzLnB1c2hSdW49ZnVuY3Rpb24odCxlKXthW2xdPXQscltsXT1lLGwrPTF9fWZ1bmN0aW9uIGFlKHQsZSxpLG4pe2l8fChpPTApLG58fChuPXQubGVuZ3RoKTt2YXIgbz1uLWk7aWYoIShvPDIpKXt2YXIgYT0wO2lmKG88c3cpcmV0dXJuIGE9UXQodCxpLG4sZSksdm9pZCBlZSh0LGksbixpK2EsZSk7dmFyIHI9bmV3IG9lKHQsZSkscz1KdChvKTtkb3tpZigoYT1RdCh0LGksbixlKSk8cyl7dmFyIGw9bztsPnMmJihsPXMpLGVlKHQsaSxpK2wsaSthLGUpLGE9bH1yLnB1c2hSdW4oaSxhKSxyLm1lcmdlUnVucygpLG8tPWEsaSs9YX13aGlsZSgwIT09byk7ci5mb3JjZU1lcmdlUnVucygpfX1mdW5jdGlvbiByZSh0LGUpe3JldHVybiB0LnpsZXZlbD09PWUuemxldmVsP3Quej09PWUuej90LnoyLWUuejI6dC56LWUuejp0LnpsZXZlbC1lLnpsZXZlbH1mdW5jdGlvbiBzZSh0LGUsaSl7dmFyIG49bnVsbD09ZS54PzA6ZS54LG89bnVsbD09ZS54Mj8xOmUueDIsYT1udWxsPT1lLnk/MDplLnkscj1udWxsPT1lLnkyPzA6ZS55MjtyZXR1cm4gZS5nbG9iYWx8fChuPW4qaS53aWR0aCtpLngsbz1vKmkud2lkdGgraS54LGE9YSppLmhlaWdodCtpLnkscj1yKmkuaGVpZ2h0K2kueSksbj1pc05hTihuKT8wOm4sbz1pc05hTihvKT8xOm8sYT1pc05hTihhKT8wOmEscj1pc05hTihyKT8wOnIsdC5jcmVhdGVMaW5lYXJHcmFkaWVudChuLGEsbyxyKX1mdW5jdGlvbiBsZSh0LGUsaSl7dmFyIG49aS53aWR0aCxvPWkuaGVpZ2h0LGE9TWF0aC5taW4obixvKSxyPW51bGw9PWUueD8uNTplLngscz1udWxsPT1lLnk/LjU6ZS55LGw9bnVsbD09ZS5yPy41OmUucjtyZXR1cm4gZS5nbG9iYWx8fChyPXIqbitpLngscz1zKm8raS55LGwqPWEpLHQuY3JlYXRlUmFkaWFsR3JhZGllbnQocixzLDAscixzLGwpfWZ1bmN0aW9uIHVlKCl7cmV0dXJuITF9ZnVuY3Rpb24gaGUodCxlLGkpe3ZhciBuPWdfKCksbz1lLmdldFdpZHRoKCksYT1lLmdldEhlaWdodCgpLHI9bi5zdHlsZTtyZXR1cm4gciYmKHIucG9zaXRpb249ImFic29sdXRlIixyLmxlZnQ9MCxyLnRvcD0wLHIud2lkdGg9bysicHgiLHIuaGVpZ2h0PWErInB4IixuLnNldEF0dHJpYnV0ZSgiZGF0YS16ci1kb20taWQiLHQpKSxuLndpZHRoPW8qaSxuLmhlaWdodD1hKmksbn1mdW5jdGlvbiBjZSh0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBlPV93LmdldCh0KTtyZXR1cm4gZSYmZS5pbWFnZX1yZXR1cm4gdH1mdW5jdGlvbiBkZSh0LGUsaSxuLG8pe2lmKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYoZSYmZS5fX3pySW1hZ2VTcmM9PT10fHwhaSlyZXR1cm4gZTt2YXIgYT1fdy5nZXQodCkscj17aG9zdEVsOmksY2I6bixjYlBheWxvYWQ6b307cmV0dXJuIGE/IXBlKGU9YS5pbWFnZSkmJmEucGVuZGluZy5wdXNoKHIpOighZSYmKGU9bmV3IEltYWdlKSxlLm9ubG9hZD1mZSxfdy5wdXQodCxlLl9fY2FjaGVkSW1nT2JqPXtpbWFnZTplLHBlbmRpbmc6W3JdfSksZS5zcmM9ZS5fX3pySW1hZ2VTcmM9dCksZX1yZXR1cm4gdH1yZXR1cm4gZX1mdW5jdGlvbiBmZSgpe3ZhciB0PXRoaXMuX19jYWNoZWRJbWdPYmo7dGhpcy5vbmxvYWQ9dGhpcy5fX2NhY2hlZEltZ09iaj1udWxsO2Zvcih2YXIgZT0wO2U8dC5wZW5kaW5nLmxlbmd0aDtlKyspe3ZhciBpPXQucGVuZGluZ1tlXSxuPWkuY2I7biYmbih0aGlzLGkuY2JQYXlsb2FkKSxpLmhvc3RFbC5kaXJ0eSgpfXQucGVuZGluZy5sZW5ndGg9MH1mdW5jdGlvbiBwZSh0KXtyZXR1cm4gdCYmdC53aWR0aCYmdC5oZWlnaHR9ZnVuY3Rpb24gZ2UodCxlKXt2YXIgaT10KyI6IisoZT1lfHxJdyk7aWYod3dbaV0pcmV0dXJuIHd3W2ldO2Zvcih2YXIgbj0odCsiIikuc3BsaXQoIlxuIiksbz0wLGE9MCxyPW4ubGVuZ3RoO2E8cjthKyspbz1NYXRoLm1heChEZShuW2FdLGUpLndpZHRoLG8pO3JldHVybiBidz5TdyYmKGJ3PTAsd3c9e30pLGJ3Kyssd3dbaV09byxvfWZ1bmN0aW9uIG1lKHQsZSxpLG4sbyxhLHIpe3JldHVybiBhP3llKHQsZSxpLG4sbyxhLHIpOnZlKHQsZSxpLG4sbyxyKX1mdW5jdGlvbiB2ZSh0LGUsaSxuLG8sYSl7dmFyIHI9QWUodCxlLG8sYSkscz1nZSh0LGUpO28mJihzKz1vWzFdK29bM10pO3ZhciBsPXIub3V0ZXJIZWlnaHQsdT1uZXcgJHQoeGUoMCxzLGkpLF9lKDAsbCxuKSxzLGwpO3JldHVybiB1LmxpbmVIZWlnaHQ9ci5saW5lSGVpZ2h0LHV9ZnVuY3Rpb24geWUodCxlLGksbixvLGEscil7dmFyIHM9Q2UodCx7cmljaDphLHRydW5jYXRlOnIsZm9udDplLHRleHRBbGlnbjppLHRleHRQYWRkaW5nOm99KSxsPXMub3V0ZXJXaWR0aCx1PXMub3V0ZXJIZWlnaHQ7cmV0dXJuIG5ldyAkdCh4ZSgwLGwsaSksX2UoMCx1LG4pLGwsdSl9ZnVuY3Rpb24geGUodCxlLGkpe3JldHVybiJyaWdodCI9PT1pP3QtPWU6ImNlbnRlciI9PT1pJiYodC09ZS8yKSx0fWZ1bmN0aW9uIF9lKHQsZSxpKXtyZXR1cm4ibWlkZGxlIj09PWk/dC09ZS8yOiJib3R0b20iPT09aSYmKHQtPWUpLHR9ZnVuY3Rpb24gd2UodCxlLGkpe3ZhciBuPWUueCxvPWUueSxhPWUuaGVpZ2h0LHI9ZS53aWR0aCxzPWEvMixsPSJsZWZ0Iix1PSJ0b3AiO3N3aXRjaCh0KXtjYXNlImxlZnQiOm4tPWksbys9cyxsPSJyaWdodCIsdT0ibWlkZGxlIjticmVhaztjYXNlInJpZ2h0IjpuKz1pK3Isbys9cyx1PSJtaWRkbGUiO2JyZWFrO2Nhc2UidG9wIjpuKz1yLzIsby09aSxsPSJjZW50ZXIiLHU9ImJvdHRvbSI7YnJlYWs7Y2FzZSJib3R0b20iOm4rPXIvMixvKz1hK2ksbD0iY2VudGVyIjticmVhaztjYXNlImluc2lkZSI6bis9ci8yLG8rPXMsbD0iY2VudGVyIix1PSJtaWRkbGUiO2JyZWFrO2Nhc2UiaW5zaWRlTGVmdCI6bis9aSxvKz1zLHU9Im1pZGRsZSI7YnJlYWs7Y2FzZSJpbnNpZGVSaWdodCI6bis9ci1pLG8rPXMsbD0icmlnaHQiLHU9Im1pZGRsZSI7YnJlYWs7Y2FzZSJpbnNpZGVUb3AiOm4rPXIvMixvKz1pLGw9ImNlbnRlciI7YnJlYWs7Y2FzZSJpbnNpZGVCb3R0b20iOm4rPXIvMixvKz1hLWksbD0iY2VudGVyIix1PSJib3R0b20iO2JyZWFrO2Nhc2UiaW5zaWRlVG9wTGVmdCI6bis9aSxvKz1pO2JyZWFrO2Nhc2UiaW5zaWRlVG9wUmlnaHQiOm4rPXItaSxvKz1pLGw9InJpZ2h0IjticmVhaztjYXNlImluc2lkZUJvdHRvbUxlZnQiOm4rPWksbys9YS1pLHU9ImJvdHRvbSI7YnJlYWs7Y2FzZSJpbnNpZGVCb3R0b21SaWdodCI6bis9ci1pLG8rPWEtaSxsPSJyaWdodCIsdT0iYm90dG9tIn1yZXR1cm57eDpuLHk6byx0ZXh0QWxpZ246bCx0ZXh0VmVydGljYWxBbGlnbjp1fX1mdW5jdGlvbiBiZSh0LGUsaSxuLG8pe2lmKCFlKXJldHVybiIiO3ZhciBhPSh0KyIiKS5zcGxpdCgiXG4iKTtvPVNlKGUsaSxuLG8pO2Zvcih2YXIgcj0wLHM9YS5sZW5ndGg7cjxzO3IrKylhW3JdPU1lKGFbcl0sbyk7cmV0dXJuIGEuam9pbigiXG4iKX1mdW5jdGlvbiBTZSh0LGUsaSxuKXsobj1hKHt9LG4pKS5mb250PWU7dmFyIGk9RChpLCIuLi4iKTtuLm1heEl0ZXJhdGlvbnM9RChuLm1heEl0ZXJhdGlvbnMsMik7dmFyIG89bi5taW5DaGFyPUQobi5taW5DaGFyLDApO24uY25DaGFyV2lkdGg9Z2UoIuWbvSIsZSk7dmFyIHI9bi5hc2NDaGFyV2lkdGg9Z2UoImEiLGUpO24ucGxhY2Vob2xkZXI9RChuLnBsYWNlaG9sZGVyLCIiKTtmb3IodmFyIHM9dD1NYXRoLm1heCgwLHQtMSksbD0wO2w8byYmcz49cjtsKyspcy09cjt2YXIgdT1nZShpKTtyZXR1cm4gdT5zJiYoaT0iIix1PTApLHM9dC11LG4uZWxsaXBzaXM9aSxuLmVsbGlwc2lzV2lkdGg9dSxuLmNvbnRlbnRXaWR0aD1zLG4uY29udGFpbmVyV2lkdGg9dCxufWZ1bmN0aW9uIE1lKHQsZSl7dmFyIGk9ZS5jb250YWluZXJXaWR0aCxuPWUuZm9udCxvPWUuY29udGVudFdpZHRoO2lmKCFpKXJldHVybiIiO3ZhciBhPWdlKHQsbik7aWYoYTw9aSlyZXR1cm4gdDtmb3IodmFyIHI9MDs7cisrKXtpZihhPD1vfHxyPj1lLm1heEl0ZXJhdGlvbnMpe3QrPWUuZWxsaXBzaXM7YnJlYWt9dmFyIHM9MD09PXI/SWUodCxvLGUuYXNjQ2hhcldpZHRoLGUuY25DaGFyV2lkdGgpOmE+MD9NYXRoLmZsb29yKHQubGVuZ3RoKm8vYSk6MDthPWdlKHQ9dC5zdWJzdHIoMCxzKSxuKX1yZXR1cm4iIj09PXQmJih0PWUucGxhY2Vob2xkZXIpLHR9ZnVuY3Rpb24gSWUodCxlLGksbil7Zm9yKHZhciBvPTAsYT0wLHI9dC5sZW5ndGg7YTxyJiZvPGU7YSsrKXt2YXIgcz10LmNoYXJDb2RlQXQoYSk7bys9MDw9cyYmczw9MTI3P2k6bn1yZXR1cm4gYX1mdW5jdGlvbiBUZSh0KXtyZXR1cm4gZ2UoIuWbvSIsdCl9ZnVuY3Rpb24gRGUodCxlKXtyZXR1cm4gVHcubWVhc3VyZVRleHQodCxlKX1mdW5jdGlvbiBBZSh0LGUsaSxuKXtudWxsIT10JiYodCs9IiIpO3ZhciBvPVRlKGUpLGE9dD90LnNwbGl0KCJcbiIpOltdLHI9YS5sZW5ndGgqbyxzPXI7aWYoaSYmKHMrPWlbMF0raVsyXSksdCYmbil7dmFyIGw9bi5vdXRlckhlaWdodCx1PW4ub3V0ZXJXaWR0aDtpZihudWxsIT1sJiZzPmwpdD0iIixhPVtdO2Vsc2UgaWYobnVsbCE9dSlmb3IodmFyIGg9U2UodS0oaT9pWzFdK2lbM106MCksZSxuLmVsbGlwc2lzLHttaW5DaGFyOm4ubWluQ2hhcixwbGFjZWhvbGRlcjpuLnBsYWNlaG9sZGVyfSksYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylhW2NdPU1lKGFbY10saCl9cmV0dXJue2xpbmVzOmEsaGVpZ2h0OnIsb3V0ZXJIZWlnaHQ6cyxsaW5lSGVpZ2h0Om99fWZ1bmN0aW9uIENlKHQsZSl7dmFyIGk9e2xpbmVzOltdLHdpZHRoOjAsaGVpZ2h0OjB9O2lmKG51bGwhPXQmJih0Kz0iIiksIXQpcmV0dXJuIGk7Zm9yKHZhciBuLG89TXcubGFzdEluZGV4PTA7bnVsbCE9KG49TXcuZXhlYyh0KSk7KXt2YXIgYT1uLmluZGV4O2E+byYmTGUoaSx0LnN1YnN0cmluZyhvLGEpKSxMZShpLG5bMl0sblsxXSksbz1Ndy5sYXN0SW5kZXh9bzx0Lmxlbmd0aCYmTGUoaSx0LnN1YnN0cmluZyhvLHQubGVuZ3RoKSk7dmFyIHI9aS5saW5lcyxzPTAsbD0wLHU9W10saD1lLnRleHRQYWRkaW5nLGM9ZS50cnVuY2F0ZSxkPWMmJmMub3V0ZXJXaWR0aCxmPWMmJmMub3V0ZXJIZWlnaHQ7aCYmKG51bGwhPWQmJihkLT1oWzFdK2hbM10pLG51bGwhPWYmJihmLT1oWzBdK2hbMl0pKTtmb3IoTD0wO0w8ci5sZW5ndGg7TCsrKXtmb3IodmFyIHA9cltMXSxnPTAsbT0wLHY9MDt2PHAudG9rZW5zLmxlbmd0aDt2Kyspe3ZhciB5PShrPXAudG9rZW5zW3ZdKS5zdHlsZU5hbWUmJmUucmljaFtrLnN0eWxlTmFtZV18fHt9LHg9ay50ZXh0UGFkZGluZz15LnRleHRQYWRkaW5nLF89ay5mb250PXkuZm9udHx8ZS5mb250LHc9ay50ZXh0SGVpZ2h0PUQoeS50ZXh0SGVpZ2h0LFRlKF8pKTtpZih4JiYodys9eFswXSt4WzJdKSxrLmhlaWdodD13LGsubGluZUhlaWdodD1BKHkudGV4dExpbmVIZWlnaHQsZS50ZXh0TGluZUhlaWdodCx3KSxrLnRleHRBbGlnbj15JiZ5LnRleHRBbGlnbnx8ZS50ZXh0QWxpZ24say50ZXh0VmVydGljYWxBbGlnbj15JiZ5LnRleHRWZXJ0aWNhbEFsaWdufHwibWlkZGxlIixudWxsIT1mJiZzK2subGluZUhlaWdodD5mKXJldHVybntsaW5lczpbXSx3aWR0aDowLGhlaWdodDowfTtrLnRleHRXaWR0aD1nZShrLnRleHQsXyk7dmFyIGI9eS50ZXh0V2lkdGgsUz1udWxsPT1ifHwiYXV0byI9PT1iO2lmKCJzdHJpbmciPT10eXBlb2YgYiYmIiUiPT09Yi5jaGFyQXQoYi5sZW5ndGgtMSkpay5wZXJjZW50V2lkdGg9Yix1LnB1c2goayksYj0wO2Vsc2V7aWYoUyl7Yj1rLnRleHRXaWR0aDt2YXIgTT15LnRleHRCYWNrZ3JvdW5kQ29sb3IsST1NJiZNLmltYWdlO0kmJnBlKEk9Y2UoSSkpJiYoYj1NYXRoLm1heChiLEkud2lkdGgqdy9JLmhlaWdodCkpfXZhciBUPXg/eFsxXSt4WzNdOjA7Yis9VDt2YXIgQz1udWxsIT1kP2QtbTpudWxsO251bGwhPUMmJkM8YiYmKCFTfHxDPFQ/KGsudGV4dD0iIixrLnRleHRXaWR0aD1iPTApOihrLnRleHQ9YmUoay50ZXh0LEMtVCxfLGMuZWxsaXBzaXMse21pbkNoYXI6Yy5taW5DaGFyfSksay50ZXh0V2lkdGg9Z2Uoay50ZXh0LF8pLGI9ay50ZXh0V2lkdGgrVCkpfW0rPWsud2lkdGg9Yix5JiYoZz1NYXRoLm1heChnLGsubGluZUhlaWdodCkpfXAud2lkdGg9bSxwLmxpbmVIZWlnaHQ9ZyxzKz1nLGw9TWF0aC5tYXgobCxtKX1pLm91dGVyV2lkdGg9aS53aWR0aD1EKGUudGV4dFdpZHRoLGwpLGkub3V0ZXJIZWlnaHQ9aS5oZWlnaHQ9RChlLnRleHRIZWlnaHQscyksaCYmKGkub3V0ZXJXaWR0aCs9aFsxXStoWzNdLGkub3V0ZXJIZWlnaHQrPWhbMF0raFsyXSk7Zm9yKHZhciBMPTA7TDx1Lmxlbmd0aDtMKyspe3ZhciBrPXVbTF0sUD1rLnBlcmNlbnRXaWR0aDtrLndpZHRoPXBhcnNlSW50KFAsMTApLzEwMCpsfXJldHVybiBpfWZ1bmN0aW9uIExlKHQsZSxpKXtmb3IodmFyIG49IiI9PT1lLG89ZS5zcGxpdCgiXG4iKSxhPXQubGluZXMscj0wO3I8by5sZW5ndGg7cisrKXt2YXIgcz1vW3JdLGw9e3N0eWxlTmFtZTppLHRleHQ6cyxpc0xpbmVIb2xkZXI6IXMmJiFufTtpZihyKWEucHVzaCh7dG9rZW5zOltsXX0pO2Vsc2V7dmFyIHU9KGFbYS5sZW5ndGgtMV18fChhWzBdPXt0b2tlbnM6W119KSkudG9rZW5zLGg9dS5sZW5ndGg7MT09PWgmJnVbMF0uaXNMaW5lSG9sZGVyP3VbMF09bDooc3x8IWh8fG4pJiZ1LnB1c2gobCl9fX1mdW5jdGlvbiBrZSh0KXt2YXIgZT0odC5mb250U2l6ZXx8dC5mb250RmFtaWx5KSYmW3QuZm9udFN0eWxlLHQuZm9udFdlaWdodCwodC5mb250U2l6ZXx8MTIpKyJweCIsdC5mb250RmFtaWx5fHwic2Fucy1zZXJpZiJdLmpvaW4oIiAiKTtyZXR1cm4gZSYmUChlKXx8dC50ZXh0Rm9udHx8dC5mb250fWZ1bmN0aW9uIFBlKHQsZSl7dmFyIGksbixvLGEscj1lLngscz1lLnksbD1lLndpZHRoLHU9ZS5oZWlnaHQsaD1lLnI7bDwwJiYocis9bCxsPS1sKSx1PDAmJihzKz11LHU9LXUpLCJudW1iZXIiPT10eXBlb2YgaD9pPW49bz1hPWg6aCBpbnN0YW5jZW9mIEFycmF5PzE9PT1oLmxlbmd0aD9pPW49bz1hPWhbMF06Mj09PWgubGVuZ3RoPyhpPW89aFswXSxuPWE9aFsxXSk6Mz09PWgubGVuZ3RoPyhpPWhbMF0sbj1hPWhbMV0sbz1oWzJdKTooaT1oWzBdLG49aFsxXSxvPWhbMl0sYT1oWzNdKTppPW49bz1hPTA7dmFyIGM7aStuPmwmJihpKj1sLyhjPWkrbiksbio9bC9jKSxvK2E+bCYmKG8qPWwvKGM9bythKSxhKj1sL2MpLG4rbz51JiYobio9dS8oYz1uK28pLG8qPXUvYyksaSthPnUmJihpKj11LyhjPWkrYSksYSo9dS9jKSx0Lm1vdmVUbyhyK2kscyksdC5saW5lVG8ocitsLW4scyksMCE9PW4mJnQuYXJjKHIrbC1uLHMrbixuLC1NYXRoLlBJLzIsMCksdC5saW5lVG8ocitsLHMrdS1vKSwwIT09byYmdC5hcmMocitsLW8scyt1LW8sbywwLE1hdGguUEkvMiksdC5saW5lVG8ocithLHMrdSksMCE9PWEmJnQuYXJjKHIrYSxzK3UtYSxhLE1hdGguUEkvMixNYXRoLlBJKSx0LmxpbmVUbyhyLHMraSksMCE9PWkmJnQuYXJjKHIraSxzK2ksaSxNYXRoLlBJLDEuNSpNYXRoLlBJKX1mdW5jdGlvbiBOZSh0KXtyZXR1cm4gT2UodCksZCh0LnJpY2gsT2UpLHR9ZnVuY3Rpb24gT2UodCl7aWYodCl7dC5mb250PWtlKHQpO3ZhciBlPXQudGV4dEFsaWduOyJtaWRkbGUiPT09ZSYmKGU9ImNlbnRlciIpLHQudGV4dEFsaWduPW51bGw9PWV8fER3W2VdP2U6ImxlZnQiO3ZhciBpPXQudGV4dFZlcnRpY2FsQWxpZ258fHQudGV4dEJhc2VsaW5lOyJjZW50ZXIiPT09aSYmKGk9Im1pZGRsZSIpLHQudGV4dFZlcnRpY2FsQWxpZ249bnVsbD09aXx8QXdbaV0/aToidG9wIix0LnRleHRQYWRkaW5nJiYodC50ZXh0UGFkZGluZz1MKHQudGV4dFBhZGRpbmcpKX19ZnVuY3Rpb24gRWUodCxlLGksbixvKXtuLnJpY2g/emUodCxlLGksbixvKTpSZSh0LGUsaSxuLG8pfWZ1bmN0aW9uIFJlKHQsZSxpLG4sbyl7dmFyIGE9VWUoZSwiZm9udCIsbi5mb250fHxJdykscj1uLnRleHRQYWRkaW5nLHM9dC5fX3RleHRDb3RlbnRCbG9jaztzJiYhdC5fX2RpcnR5fHwocz10Ll9fdGV4dENvdGVudEJsb2NrPUFlKGksYSxyLG4udHJ1bmNhdGUpKTt2YXIgbD1zLm91dGVySGVpZ2h0LHU9cy5saW5lcyxoPXMubGluZUhlaWdodCxjPVplKGwsbixvKSxkPWMuYmFzZVgsZj1jLmJhc2VZLHA9Yy50ZXh0QWxpZ24sZz1jLnRleHRWZXJ0aWNhbEFsaWduO1ZlKGUsbixvLGQsZik7dmFyIG09X2UoZixsLGcpLHY9ZCx5PW0seD1XZShuKTtpZih4fHxyKXt2YXIgXz1nZShpLGEpO3ImJihfKz1yWzFdK3JbM10pO3ZhciB3PXhlKGQsXyxwKTt4JiZGZSh0LGUsbix3LG0sXyxsKSxyJiYodj1xZShkLHAscikseSs9clswXSl9VWUoZSwidGV4dEFsaWduIixwfHwibGVmdCIpLFVlKGUsInRleHRCYXNlbGluZSIsIm1pZGRsZSIpLFVlKGUsInNoYWRvd0JsdXIiLG4udGV4dFNoYWRvd0JsdXJ8fDApLFVlKGUsInNoYWRvd0NvbG9yIixuLnRleHRTaGFkb3dDb2xvcnx8InRyYW5zcGFyZW50IiksVWUoZSwic2hhZG93T2Zmc2V0WCIsbi50ZXh0U2hhZG93T2Zmc2V0WHx8MCksVWUoZSwic2hhZG93T2Zmc2V0WSIsbi50ZXh0U2hhZG93T2Zmc2V0WXx8MCkseSs9aC8yO3ZhciBiPW4udGV4dFN0cm9rZVdpZHRoLFM9WGUobi50ZXh0U3Ryb2tlLGIpLE09amUobi50ZXh0RmlsbCk7UyYmKFVlKGUsImxpbmVXaWR0aCIsYiksVWUoZSwic3Ryb2tlU3R5bGUiLFMpKSxNJiZVZShlLCJmaWxsU3R5bGUiLE0pO2Zvcih2YXIgST0wO0k8dS5sZW5ndGg7SSsrKVMmJmUuc3Ryb2tlVGV4dCh1W0ldLHYseSksTSYmZS5maWxsVGV4dCh1W0ldLHYseSkseSs9aH1mdW5jdGlvbiB6ZSh0LGUsaSxuLG8pe3ZhciBhPXQuX190ZXh0Q290ZW50QmxvY2s7YSYmIXQuX19kaXJ0eXx8KGE9dC5fX3RleHRDb3RlbnRCbG9jaz1DZShpLG4pKSxCZSh0LGUsYSxuLG8pfWZ1bmN0aW9uIEJlKHQsZSxpLG4sbyl7dmFyIGE9aS53aWR0aCxyPWkub3V0ZXJXaWR0aCxzPWkub3V0ZXJIZWlnaHQsbD1uLnRleHRQYWRkaW5nLHU9WmUocyxuLG8pLGg9dS5iYXNlWCxjPXUuYmFzZVksZD11LnRleHRBbGlnbixmPXUudGV4dFZlcnRpY2FsQWxpZ247VmUoZSxuLG8saCxjKTt2YXIgcD14ZShoLHIsZCksZz1fZShjLHMsZiksbT1wLHY9ZztsJiYobSs9bFszXSx2Kz1sWzBdKTt2YXIgeT1tK2E7V2UobikmJkZlKHQsZSxuLHAsZyxyLHMpO2Zvcih2YXIgeD0wO3g8aS5saW5lcy5sZW5ndGg7eCsrKXtmb3IodmFyIF8sdz1pLmxpbmVzW3hdLGI9dy50b2tlbnMsUz1iLmxlbmd0aCxNPXcubGluZUhlaWdodCxJPXcud2lkdGgsVD0wLEQ9bSxBPXksQz1TLTE7VDxTJiYoIShfPWJbVF0pLnRleHRBbGlnbnx8ImxlZnQiPT09Xy50ZXh0QWxpZ24pOylHZSh0LGUsXyxuLE0sdixELCJsZWZ0IiksSS09Xy53aWR0aCxEKz1fLndpZHRoLFQrKztmb3IoO0M+PTAmJiJyaWdodCI9PT0oXz1iW0NdKS50ZXh0QWxpZ247KUdlKHQsZSxfLG4sTSx2LEEsInJpZ2h0IiksSS09Xy53aWR0aCxBLT1fLndpZHRoLEMtLTtmb3IoRCs9KGEtKEQtbSktKHktQSktSSkvMjtUPD1DOylHZSh0LGUsXz1iW1RdLG4sTSx2LEQrXy53aWR0aC8yLCJjZW50ZXIiKSxEKz1fLndpZHRoLFQrKzt2Kz1NfX1mdW5jdGlvbiBWZSh0LGUsaSxuLG8pe2lmKGkmJmUudGV4dFJvdGF0aW9uKXt2YXIgYT1lLnRleHRPcmlnaW47ImNlbnRlciI9PT1hPyhuPWkud2lkdGgvMitpLngsbz1pLmhlaWdodC8yK2kueSk6YSYmKG49YVswXStpLngsbz1hWzFdK2kueSksdC50cmFuc2xhdGUobixvKSx0LnJvdGF0ZSgtZS50ZXh0Um90YXRpb24pLHQudHJhbnNsYXRlKC1uLC1vKX19ZnVuY3Rpb24gR2UodCxlLGksbixvLGEscixzKXt2YXIgbD1uLnJpY2hbaS5zdHlsZU5hbWVdfHx7fSx1PWkudGV4dFZlcnRpY2FsQWxpZ24saD1hK28vMjsidG9wIj09PXU/aD1hK2kuaGVpZ2h0LzI6ImJvdHRvbSI9PT11JiYoaD1hK28taS5oZWlnaHQvMiksIWkuaXNMaW5lSG9sZGVyJiZXZShsKSYmRmUodCxlLGwsInJpZ2h0Ij09PXM/ci1pLndpZHRoOiJjZW50ZXIiPT09cz9yLWkud2lkdGgvMjpyLGgtaS5oZWlnaHQvMixpLndpZHRoLGkuaGVpZ2h0KTt2YXIgYz1pLnRleHRQYWRkaW5nO2MmJihyPXFlKHIscyxjKSxoLT1pLmhlaWdodC8yLWNbMl0taS50ZXh0SGVpZ2h0LzIpLFVlKGUsInNoYWRvd0JsdXIiLEEobC50ZXh0U2hhZG93Qmx1cixuLnRleHRTaGFkb3dCbHVyLDApKSxVZShlLCJzaGFkb3dDb2xvciIsbC50ZXh0U2hhZG93Q29sb3J8fG4udGV4dFNoYWRvd0NvbG9yfHwidHJhbnNwYXJlbnQiKSxVZShlLCJzaGFkb3dPZmZzZXRYIixBKGwudGV4dFNoYWRvd09mZnNldFgsbi50ZXh0U2hhZG93T2Zmc2V0WCwwKSksVWUoZSwic2hhZG93T2Zmc2V0WSIsQShsLnRleHRTaGFkb3dPZmZzZXRZLG4udGV4dFNoYWRvd09mZnNldFksMCkpLFVlKGUsInRleHRBbGlnbiIscyksVWUoZSwidGV4dEJhc2VsaW5lIiwibWlkZGxlIiksVWUoZSwiZm9udCIsaS5mb250fHxJdyk7dmFyIGQ9WGUobC50ZXh0U3Ryb2tlfHxuLnRleHRTdHJva2UscCksZj1qZShsLnRleHRGaWxsfHxuLnRleHRGaWxsKSxwPUQobC50ZXh0U3Ryb2tlV2lkdGgsbi50ZXh0U3Ryb2tlV2lkdGgpO2QmJihVZShlLCJsaW5lV2lkdGgiLHApLFVlKGUsInN0cm9rZVN0eWxlIixkKSxlLnN0cm9rZVRleHQoaS50ZXh0LHIsaCkpLGYmJihVZShlLCJmaWxsU3R5bGUiLGYpLGUuZmlsbFRleHQoaS50ZXh0LHIsaCkpfWZ1bmN0aW9uIFdlKHQpe3JldHVybiB0LnRleHRCYWNrZ3JvdW5kQ29sb3J8fHQudGV4dEJvcmRlcldpZHRoJiZ0LnRleHRCb3JkZXJDb2xvcn1mdW5jdGlvbiBGZSh0LGUsaSxuLG8sYSxyKXt2YXIgcz1pLnRleHRCYWNrZ3JvdW5kQ29sb3IsbD1pLnRleHRCb3JkZXJXaWR0aCx1PWkudGV4dEJvcmRlckNvbG9yLGg9XyhzKTtpZihVZShlLCJzaGFkb3dCbHVyIixpLnRleHRCb3hTaGFkb3dCbHVyfHwwKSxVZShlLCJzaGFkb3dDb2xvciIsaS50ZXh0Qm94U2hhZG93Q29sb3J8fCJ0cmFuc3BhcmVudCIpLFVlKGUsInNoYWRvd09mZnNldFgiLGkudGV4dEJveFNoYWRvd09mZnNldFh8fDApLFVlKGUsInNoYWRvd09mZnNldFkiLGkudGV4dEJveFNoYWRvd09mZnNldFl8fDApLGh8fGwmJnUpe2UuYmVnaW5QYXRoKCk7dmFyIGM9aS50ZXh0Qm9yZGVyUmFkaXVzO2M/UGUoZSx7eDpuLHk6byx3aWR0aDphLGhlaWdodDpyLHI6Y30pOmUucmVjdChuLG8sYSxyKSxlLmNsb3NlUGF0aCgpfWlmKGgpVWUoZSwiZmlsbFN0eWxlIixzKSxlLmZpbGwoKTtlbHNlIGlmKHcocykpe3ZhciBkPXMuaW1hZ2U7KGQ9ZGUoZCxudWxsLHQsSGUscykpJiZwZShkKSYmZS5kcmF3SW1hZ2UoZCxuLG8sYSxyKX1sJiZ1JiYoVWUoZSwibGluZVdpZHRoIixsKSxVZShlLCJzdHJva2VTdHlsZSIsdSksZS5zdHJva2UoKSl9ZnVuY3Rpb24gSGUodCxlKXtlLmltYWdlPXR9ZnVuY3Rpb24gWmUodCxlLGkpe3ZhciBuPWUueHx8MCxvPWUueXx8MCxhPWUudGV4dEFsaWduLHI9ZS50ZXh0VmVydGljYWxBbGlnbjtpZihpKXt2YXIgcz1lLnRleHRQb3NpdGlvbjtpZihzIGluc3RhbmNlb2YgQXJyYXkpbj1pLngrWWUoc1swXSxpLndpZHRoKSxvPWkueStZZShzWzFdLGkuaGVpZ2h0KTtlbHNle3ZhciBsPXdlKHMsaSxlLnRleHREaXN0YW5jZSk7bj1sLngsbz1sLnksYT1hfHxsLnRleHRBbGlnbixyPXJ8fGwudGV4dFZlcnRpY2FsQWxpZ259dmFyIHU9ZS50ZXh0T2Zmc2V0O3UmJihuKz11WzBdLG8rPXVbMV0pfXJldHVybntiYXNlWDpuLGJhc2VZOm8sdGV4dEFsaWduOmEsdGV4dFZlcnRpY2FsQWxpZ246cn19ZnVuY3Rpb24gVWUodCxlLGkpe3JldHVybiB0W2VdPWN3KHQsZSxpKSx0W2VdfWZ1bmN0aW9uIFhlKHQsZSl7cmV0dXJuIG51bGw9PXR8fGU8PTB8fCJ0cmFuc3BhcmVudCI9PT10fHwibm9uZSI9PT10P251bGw6dC5pbWFnZXx8dC5jb2xvclN0b3BzPyIjMDAwIjp0fWZ1bmN0aW9uIGplKHQpe3JldHVybiBudWxsPT10fHwibm9uZSI9PT10P251bGw6dC5pbWFnZXx8dC5jb2xvclN0b3BzPyIjMDAwIjp0fWZ1bmN0aW9uIFllKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3QubGFzdEluZGV4T2YoIiUiKT49MD9wYXJzZUZsb2F0KHQpLzEwMCplOnBhcnNlRmxvYXQodCk6dH1mdW5jdGlvbiBxZSh0LGUsaSl7cmV0dXJuInJpZ2h0Ij09PWU/dC1pWzFdOiJjZW50ZXIiPT09ZT90K2lbM10vMi1pWzFdLzI6dCtpWzNdfWZ1bmN0aW9uIEtlKHQsZSl7cmV0dXJuIG51bGwhPXQmJih0fHxlLnRleHRCYWNrZ3JvdW5kQ29sb3J8fGUudGV4dEJvcmRlcldpZHRoJiZlLnRleHRCb3JkZXJDb2xvcnx8ZS50ZXh0UGFkZGluZyl9ZnVuY3Rpb24gJGUodCl7dD10fHx7fSxpdy5jYWxsKHRoaXMsdCk7Zm9yKHZhciBlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmInN0eWxlIiE9PWUmJih0aGlzW2VdPXRbZV0pO3RoaXMuc3R5bGU9bmV3IGZ3KHQuc3R5bGUsdGhpcyksdGhpcy5fcmVjdD1udWxsLHRoaXMuX19jbGlwUGF0aHM9W119ZnVuY3Rpb24gSmUodCl7JGUuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIFFlKHQpe3JldHVybiBwYXJzZUludCh0LDEwKX1mdW5jdGlvbiB0aSh0KXtyZXR1cm4hIXQmJighIXQuX19idWlsdGluX198fCJmdW5jdGlvbiI9PXR5cGVvZiB0LnJlc2l6ZSYmImZ1bmN0aW9uIj09dHlwZW9mIHQucmVmcmVzaCl9ZnVuY3Rpb24gZWkodCxlLGkpe3JldHVybiBrdy5jb3B5KHQuZ2V0Qm91bmRpbmdSZWN0KCkpLHQudHJhbnNmb3JtJiZrdy5hcHBseVRyYW5zZm9ybSh0LnRyYW5zZm9ybSksUHcud2lkdGg9ZSxQdy5oZWlnaHQ9aSwha3cuaW50ZXJzZWN0KFB3KX1mdW5jdGlvbiBpaSh0LGUpe2lmKHQ9PWUpcmV0dXJuITE7aWYoIXR8fCFlfHx0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiEwO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0hPT1lW2ldKXJldHVybiEwfWZ1bmN0aW9uIG5pKHQsZSl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5zZXRUcmFuc2Zvcm0oZSksZS5iZWdpblBhdGgoKSxuLmJ1aWxkUGF0aChlLG4uc2hhcGUpLGUuY2xpcCgpLG4ucmVzdG9yZVRyYW5zZm9ybShlKX19ZnVuY3Rpb24gb2kodCxlKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gaS5zdHlsZS5jc3NUZXh0PVsicG9zaXRpb246cmVsYXRpdmUiLCJvdmVyZmxvdzpoaWRkZW4iLCJ3aWR0aDoiK3QrInB4IiwiaGVpZ2h0OiIrZSsicHgiLCJwYWRkaW5nOjAiLCJtYXJnaW46MCIsImJvcmRlci13aWR0aDowIl0uam9pbigiOyIpKyI7IixpfWZ1bmN0aW9uIGFpKHQpe3JldHVybiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdD90LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOntsZWZ0OjAsdG9wOjB9fWZ1bmN0aW9uIHJpKHQsZSxpLG4pe3JldHVybiBpPWl8fHt9LG58fCFvXy5jYW52YXNTdXBwb3J0ZWQ/c2kodCxlLGkpOm9fLmJyb3dzZXIuZmlyZWZveCYmbnVsbCE9ZS5sYXllclgmJmUubGF5ZXJYIT09ZS5vZmZzZXRYPyhpLnpyWD1lLmxheWVyWCxpLnpyWT1lLmxheWVyWSk6bnVsbCE9ZS5vZmZzZXRYPyhpLnpyWD1lLm9mZnNldFgsaS56clk9ZS5vZmZzZXRZKTpzaSh0LGUsaSksaX1mdW5jdGlvbiBzaSh0LGUsaSl7dmFyIG49YWkodCk7aS56clg9ZS5jbGllbnRYLW4ubGVmdCxpLnpyWT1lLmNsaWVudFktbi50b3B9ZnVuY3Rpb24gbGkodCxlLGkpe2lmKG51bGwhPShlPWV8fHdpbmRvdy5ldmVudCkuenJYKXJldHVybiBlO3ZhciBuPWUudHlwZTtpZihuJiZuLmluZGV4T2YoInRvdWNoIik+PTApe3ZhciBvPSJ0b3VjaGVuZCIhPW4/ZS50YXJnZXRUb3VjaGVzWzBdOmUuY2hhbmdlZFRvdWNoZXNbMF07byYmcmkodCxvLGUsaSl9ZWxzZSByaSh0LGUsZSxpKSxlLnpyRGVsdGE9ZS53aGVlbERlbHRhP2Uud2hlZWxEZWx0YS8xMjA6LShlLmRldGFpbHx8MCkvMzt2YXIgYT1lLmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS53aGljaCYmdm9pZCAwIT09YSYmRXcudGVzdChlLnR5cGUpJiYoZS53aGljaD0xJmE/MToyJmE/Mzo0JmE/MjowKSxlfWZ1bmN0aW9uIHVpKHQsZSxpKXtPdz90LmFkZEV2ZW50TGlzdGVuZXIoZSxpKTp0LmF0dGFjaEV2ZW50KCJvbiIrZSxpKX1mdW5jdGlvbiBoaSh0LGUsaSl7T3c/dC5yZW1vdmVFdmVudExpc3RlbmVyKGUsaSk6dC5kZXRhY2hFdmVudCgib24iK2UsaSl9ZnVuY3Rpb24gY2kodCl7cmV0dXJuIHQud2hpY2g+MX1mdW5jdGlvbiBkaSh0KXt2YXIgZT10WzFdWzBdLXRbMF1bMF0saT10WzFdWzFdLXRbMF1bMV07cmV0dXJuIE1hdGguc3FydChlKmUraSppKX1mdW5jdGlvbiBmaSh0KXtyZXR1cm5bKHRbMF1bMF0rdFsxXVswXSkvMiwodFswXVsxXSt0WzFdWzFdKS8yXX1mdW5jdGlvbiBwaSh0KXtyZXR1cm4ibW91c2V3aGVlbCI9PT10JiZvXy5icm93c2VyLmZpcmVmb3g/IkRPTU1vdXNlU2Nyb2xsIjp0fWZ1bmN0aW9uIGdpKHQsZSxpKXt2YXIgbj10Ll9nZXN0dXJlTWdyOyJzdGFydCI9PT1pJiZuLmNsZWFyKCk7dmFyIG89bi5yZWNvZ25pemUoZSx0LmhhbmRsZXIuZmluZEhvdmVyKGUuenJYLGUuenJZLG51bGwpLnRhcmdldCx0LmRvbSk7aWYoImVuZCI9PT1pJiZuLmNsZWFyKCksbyl7dmFyIGE9by50eXBlO2UuZ2VzdHVyZUV2ZW50PWEsdC5oYW5kbGVyLmRpc3BhdGNoVG9FbGVtZW50KHt0YXJnZXQ6by50YXJnZXR9LGEsby5ldmVudCl9fWZ1bmN0aW9uIG1pKHQpe3QuX3RvdWNoaW5nPSEwLGNsZWFyVGltZW91dCh0Ll90b3VjaFRpbWVyKSx0Ll90b3VjaFRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll90b3VjaGluZz0hMX0sNzAwKX1mdW5jdGlvbiB2aSh0KXt2YXIgZT10LnBvaW50ZXJUeXBlO3JldHVybiJwZW4iPT09ZXx8InRvdWNoIj09PWV9ZnVuY3Rpb24geWkodCl7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiBmdW5jdGlvbigpe2lmKCFlLl90b3VjaGluZylyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fWQoV3csZnVuY3Rpb24oZSl7dC5faGFuZGxlcnNbZV09bShad1tlXSx0KX0pLGQoSHcsZnVuY3Rpb24oZSl7dC5faGFuZGxlcnNbZV09bShad1tlXSx0KX0pLGQoR3csZnVuY3Rpb24oaSl7dC5faGFuZGxlcnNbaV09ZShad1tpXSx0KX0pfWZ1bmN0aW9uIHhpKHQpe2Z1bmN0aW9uIGUoZSxpKXtkKGUsZnVuY3Rpb24oZSl7dWkodCxwaShlKSxpLl9oYW5kbGVyc1tlXSl9LGkpfVRfLmNhbGwodGhpcyksdGhpcy5kb209dCx0aGlzLl90b3VjaGluZz0hMSx0aGlzLl90b3VjaFRpbWVyLHRoaXMuX2dlc3R1cmVNZ3I9bmV3IEJ3LHRoaXMuX2hhbmRsZXJzPXt9LHlpKHRoaXMpLG9fLnBvaW50ZXJFdmVudHNTdXBwb3J0ZWQ/ZShIdyx0aGlzKToob18udG91Y2hFdmVudHNTdXBwb3J0ZWQmJmUoV3csdGhpcyksZShHdyx0aGlzKSl9ZnVuY3Rpb24gX2kodCxlKXt2YXIgaT1uZXcgcXcoaV8oKSx0LGUpO3JldHVybiBZd1tpLmlkXT1pLGl9ZnVuY3Rpb24gd2kodCxlKXtqd1t0XT1lfWZ1bmN0aW9uIGJpKHQpe2RlbGV0ZSBZd1t0XX1mdW5jdGlvbiBTaSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5P3Q6bnVsbD09dD9bXTpbdF19ZnVuY3Rpb24gTWkodCxlLGkpe2lmKHQpe3RbZV09dFtlXXx8e30sdC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzW2VdPXQuZW1waGFzaXNbZV18fHt9O2Zvcih2YXIgbj0wLG89aS5sZW5ndGg7bjxvO24rKyl7dmFyIGE9aVtuXTshdC5lbXBoYXNpc1tlXS5oYXNPd25Qcm9wZXJ0eShhKSYmdFtlXS5oYXNPd25Qcm9wZXJ0eShhKSYmKHQuZW1waGFzaXNbZV1bYV09dFtlXVthXSl9fX1mdW5jdGlvbiBJaSh0KXtyZXR1cm4hSncodCl8fFF3KHQpfHx0IGluc3RhbmNlb2YgRGF0ZT90OnQudmFsdWV9ZnVuY3Rpb24gVGkodCl7cmV0dXJuIEp3KHQpJiYhKHQgaW5zdGFuY2VvZiBBcnJheSl9ZnVuY3Rpb24gRGkodCxlKXtlPShlfHxbXSkuc2xpY2UoKTt2YXIgaT1mKHR8fFtdLGZ1bmN0aW9uKHQsZSl7cmV0dXJue2V4aXN0OnR9fSk7cmV0dXJuICR3KGUsZnVuY3Rpb24odCxuKXtpZihKdyh0KSl7Zm9yKG89MDtvPGkubGVuZ3RoO28rKylpZighaVtvXS5vcHRpb24mJm51bGwhPXQuaWQmJmlbb10uZXhpc3QuaWQ9PT10LmlkKyIiKXJldHVybiBpW29dLm9wdGlvbj10LHZvaWQoZVtuXT1udWxsKTtmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIGE9aVtvXS5leGlzdDtpZighKGlbb10ub3B0aW9ufHxudWxsIT1hLmlkJiZudWxsIT10LmlkfHxudWxsPT10Lm5hbWV8fExpKHQpfHxMaShhKXx8YS5uYW1lIT09dC5uYW1lKyIiKSlyZXR1cm4gaVtvXS5vcHRpb249dCx2b2lkKGVbbl09bnVsbCl9fX0pLCR3KGUsZnVuY3Rpb24odCxlKXtpZihKdyh0KSl7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBvPWlbbl0uZXhpc3Q7aWYoIWlbbl0ub3B0aW9uJiYhTGkobykmJm51bGw9PXQuaWQpe2lbbl0ub3B0aW9uPXQ7YnJlYWt9fW4+PWkubGVuZ3RoJiZpLnB1c2goe29wdGlvbjp0fSl9fSksaX1mdW5jdGlvbiBBaSh0KXt2YXIgZT1SKCk7JHcodCxmdW5jdGlvbih0LGkpe3ZhciBuPXQuZXhpc3Q7biYmZS5zZXQobi5pZCx0KX0pLCR3KHQsZnVuY3Rpb24odCxpKXt2YXIgbj10Lm9wdGlvbjtrKCFufHxudWxsPT1uLmlkfHwhZS5nZXQobi5pZCl8fGUuZ2V0KG4uaWQpPT09dCwiaWQgZHVwbGljYXRlczogIisobiYmbi5pZCkpLG4mJm51bGwhPW4uaWQmJmUuc2V0KG4uaWQsdCksIXQua2V5SW5mbyYmKHQua2V5SW5mbz17fSl9KSwkdyh0LGZ1bmN0aW9uKHQsaSl7dmFyIG49dC5leGlzdCxvPXQub3B0aW9uLGE9dC5rZXlJbmZvO2lmKEp3KG8pKXtpZihhLm5hbWU9bnVsbCE9by5uYW1lP28ubmFtZSsiIjpuP24ubmFtZTp0YitpLG4pYS5pZD1uLmlkO2Vsc2UgaWYobnVsbCE9by5pZClhLmlkPW8uaWQrIiI7ZWxzZXt2YXIgcj0wO2Rve2EuaWQ9IlwwIithLm5hbWUrIlwwIityKyt9d2hpbGUoZS5nZXQoYS5pZCkpfWUuc2V0KGEuaWQsdCl9fSl9ZnVuY3Rpb24gQ2kodCl7dmFyIGU9dC5uYW1lO3JldHVybiEoIWV8fCFlLmluZGV4T2YodGIpKX1mdW5jdGlvbiBMaSh0KXtyZXR1cm4gSncodCkmJnQuaWQmJjA9PT0odC5pZCsiIikuaW5kZXhPZigiXDBfZWNfXDAiKX1mdW5jdGlvbiBraSh0LGUpe2Z1bmN0aW9uIGkodCxlLGkpe2Zvcih2YXIgbj0wLG89dC5sZW5ndGg7bjxvO24rKylmb3IodmFyIGE9dFtuXS5zZXJpZXNJZCxyPVNpKHRbbl0uZGF0YUluZGV4KSxzPWkmJmlbYV0sbD0wLHU9ci5sZW5ndGg7bDx1O2wrKyl7dmFyIGg9cltsXTtzJiZzW2hdP3NbaF09bnVsbDooZVthXXx8KGVbYV09e30pKVtoXT0xfX1mdW5jdGlvbiBuKHQsZSl7dmFyIGk9W107Zm9yKHZhciBvIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShvKSYmbnVsbCE9dFtvXSlpZihlKWkucHVzaCgrbyk7ZWxzZXt2YXIgYT1uKHRbb10sITApO2EubGVuZ3RoJiZpLnB1c2goe3Nlcmllc0lkOm8sZGF0YUluZGV4OmF9KX1yZXR1cm4gaX12YXIgbz17fSxhPXt9O3JldHVybiBpKHR8fFtdLG8pLGkoZXx8W10sYSxvKSxbbihvKSxuKGEpXX1mdW5jdGlvbiBQaSh0LGUpe3JldHVybiBudWxsIT1lLmRhdGFJbmRleEluc2lkZT9lLmRhdGFJbmRleEluc2lkZTpudWxsIT1lLmRhdGFJbmRleD95KGUuZGF0YUluZGV4KT9mKGUuZGF0YUluZGV4LGZ1bmN0aW9uKGUpe3JldHVybiB0LmluZGV4T2ZSYXdJbmRleChlKX0pOnQuaW5kZXhPZlJhd0luZGV4KGUuZGF0YUluZGV4KTpudWxsIT1lLm5hbWU/eShlLm5hbWUpP2YoZS5uYW1lLGZ1bmN0aW9uKGUpe3JldHVybiB0LmluZGV4T2ZOYW1lKGUpfSk6dC5pbmRleE9mTmFtZShlLm5hbWUpOnZvaWQgMH1mdW5jdGlvbiBOaSgpe3ZhciB0PSJfX1wwZWNfaW5uZXJfIitpYisrKyJfIitNYXRoLnJhbmRvbSgpLnRvRml4ZWQoNSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlW3RdfHwoZVt0XT17fSl9fWZ1bmN0aW9uIE9pKHQsZSxpKXtpZihfKGUpKXt2YXIgbj17fTtuW2UrIkluZGV4Il09MCxlPW59dmFyIG89aSYmaS5kZWZhdWx0TWFpblR5cGU7IW98fEVpKGUsbysiSW5kZXgiKXx8RWkoZSxvKyJJZCIpfHxFaShlLG8rIk5hbWUiKXx8KGVbbysiSW5kZXgiXT0wKTt2YXIgYT17fTtyZXR1cm4gJHcoZSxmdW5jdGlvbihuLG8pe3ZhciBuPWVbb107aWYoImRhdGFJbmRleCIhPT1vJiYiZGF0YUluZGV4SW5zaWRlIiE9PW8pe3ZhciByPW8ubWF0Y2goL14oXHcrKShJbmRleHxJZHxOYW1lKSQvKXx8W10scz1yWzFdLHU9KHJbMl18fCIiKS50b0xvd2VyQ2FzZSgpO2lmKCEoIXN8fCF1fHxudWxsPT1ufHwiaW5kZXgiPT09dSYmIm5vbmUiPT09bnx8aSYmaS5pbmNsdWRlTWFpblR5cGVzJiZsKGkuaW5jbHVkZU1haW5UeXBlcyxzKTwwKSl7dmFyIGg9e21haW5UeXBlOnN9OyJpbmRleCI9PT11JiYiYWxsIj09PW58fChoW3VdPW4pO3ZhciBjPXQucXVlcnlDb21wb25lbnRzKGgpO2FbcysiTW9kZWxzIl09YyxhW3MrIk1vZGVsIl09Y1swXX19ZWxzZSBhW29dPW59KSxhfWZ1bmN0aW9uIEVpKHQsZSl7cmV0dXJuIHQmJnQuaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gUmkodCxlLGkpe3Quc2V0QXR0cmlidXRlP3Quc2V0QXR0cmlidXRlKGUsaSk6dFtlXT1pfWZ1bmN0aW9uIHppKHQsZSl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlP3QuZ2V0QXR0cmlidXRlKGUpOnRbZV19ZnVuY3Rpb24gQmkodCl7dmFyIGU9e21haW46IiIsc3ViOiIifTtyZXR1cm4gdCYmKHQ9dC5zcGxpdChuYiksZS5tYWluPXRbMF18fCIiLGUuc3ViPXRbMV18fCIiKSxlfWZ1bmN0aW9uIFZpKHQpe2soL15bYS16QS1aMC05X10rKFsuXVthLXpBLVowLTlfXSspPyQvLnRlc3QodCksJ2NvbXBvbmVudFR5cGUgIicrdCsnIiBpbGxlZ2FsJyl9ZnVuY3Rpb24gR2kodCxlKXt0LiRjb25zdHJ1Y3Rvcj10LHQuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1mdW5jdGlvbigpe3QuJGNvbnN0cnVjdG9yP3QuJGNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIGEoaS5wcm90b3R5cGUsdCksaS5leHRlbmQ9dGhpcy5leHRlbmQsaS5zdXBlckNhbGw9RmksaS5zdXBlckFwcGx5PUhpLHUoaSx0aGlzKSxpLnN1cGVyQ2xhc3M9ZSxpfX1mdW5jdGlvbiBXaSh0KXt2YXIgZT1bIl9fXDBpc19jbHoiLGFiKyssTWF0aC5yYW5kb20oKS50b0ZpeGVkKDMpXS5qb2luKCJfIik7dC5wcm90b3R5cGVbZV09ITAsdC5pc0luc3RhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0W2VdKX19ZnVuY3Rpb24gRmkodCxlKXt2YXIgaT1DKGFyZ3VtZW50cywyKTtyZXR1cm4gdGhpcy5zdXBlckNsYXNzLnByb3RvdHlwZVtlXS5hcHBseSh0LGkpfWZ1bmN0aW9uIEhpKHQsZSxpKXtyZXR1cm4gdGhpcy5zdXBlckNsYXNzLnByb3RvdHlwZVtlXS5hcHBseSh0LGkpfWZ1bmN0aW9uIFppKHQsZSl7ZnVuY3Rpb24gaSh0KXt2YXIgZT1uW3QubWFpbl07cmV0dXJuIGUmJmVbb2JdfHwoKGU9blt0Lm1haW5dPXt9KVtvYl09ITApLGV9ZT1lfHx7fTt2YXIgbj17fTtpZih0LnJlZ2lzdGVyQ2xhc3M9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSYmKFZpKGUpLChlPUJpKGUpKS5zdWI/ZS5zdWIhPT1vYiYmKGkoZSlbZS5zdWJdPXQpOm5bZS5tYWluXT10KSx0fSx0LmdldENsYXNzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1uW3RdO2lmKG8mJm9bb2JdJiYobz1lP29bZV06bnVsbCksaSYmIW8pdGhyb3cgbmV3IEVycm9yKGU/IkNvbXBvbmVudCAiK3QrIi4iKyhlfHwiIikrIiBub3QgZXhpc3RzLiBMb2FkIGl0IGZpcnN0LiI6dCsiLnR5cGUgc2hvdWxkIGJlIHNwZWNpZmllZC4iKTtyZXR1cm4gb30sdC5nZXRDbGFzc2VzQnlNYWluVHlwZT1mdW5jdGlvbih0KXt0PUJpKHQpO3ZhciBlPVtdLGk9blt0Lm1haW5dO3JldHVybiBpJiZpW29iXT9kKGksZnVuY3Rpb24odCxpKXtpIT09b2ImJmUucHVzaCh0KX0pOmUucHVzaChpKSxlfSx0Lmhhc0NsYXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0PUJpKHQpLCEhblt0Lm1haW5dfSx0LmdldEFsbENsYXNzTWFpblR5cGVzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGQobixmdW5jdGlvbihlLGkpe3QucHVzaChpKX0pLHR9LHQuaGFzU3ViVHlwZXM9ZnVuY3Rpb24odCl7dD1CaSh0KTt2YXIgZT1uW3QubWFpbl07cmV0dXJuIGUmJmVbb2JdfSx0LnBhcnNlQ2xhc3NUeXBlPUJpLGUucmVnaXN0ZXJXaGVuRXh0ZW5kKXt2YXIgbz10LmV4dGVuZDtvJiYodC5leHRlbmQ9ZnVuY3Rpb24oZSl7dmFyIGk9by5jYWxsKHRoaXMsZSk7cmV0dXJuIHQucmVnaXN0ZXJDbGFzcyhpLGUudHlwZSl9KX1yZXR1cm4gdH1mdW5jdGlvbiBVaSh0KXtyZXR1cm4gdD4tZmImJnQ8ZmJ9ZnVuY3Rpb24gWGkodCl7cmV0dXJuIHQ+ZmJ8fHQ8LWZifWZ1bmN0aW9uIGppKHQsZSxpLG4sbyl7dmFyIGE9MS1vO3JldHVybiBhKmEqKGEqdCszKm8qZSkrbypvKihvKm4rMyphKmkpfWZ1bmN0aW9uIFlpKHQsZSxpLG4sbyl7dmFyIGE9MS1vO3JldHVybiAzKigoKGUtdCkqYSsyKihpLWUpKm8pKmErKG4taSkqbypvKX1mdW5jdGlvbiBxaSh0LGUsaSxuLG8sYSl7dmFyIHI9biszKihlLWkpLXQscz0zKihpLTIqZSt0KSxsPTMqKGUtdCksdT10LW8saD1zKnMtMypyKmwsYz1zKmwtOSpyKnUsZD1sKmwtMypzKnUsZj0wO2lmKFVpKGgpJiZVaShjKSlVaShzKT9hWzBdPTA6KE09LWwvcyk+PTAmJk08PTEmJihhW2YrK109TSk7ZWxzZXt2YXIgcD1jKmMtNCpoKmQ7aWYoVWkocCkpe3ZhciBnPWMvaCxtPS1nLzI7KE09LXMvcitnKT49MCYmTTw9MSYmKGFbZisrXT1NKSxtPj0wJiZtPD0xJiYoYVtmKytdPW0pfWVsc2UgaWYocD4wKXt2YXIgdj1kYihwKSx5PWgqcysxLjUqciooLWMrdikseD1oKnMrMS41KnIqKC1jLXYpOyhNPSgtcy0oKHk9eTwwPy1jYigteSxtYik6Y2IoeSxtYikpKyh4PXg8MD8tY2IoLXgsbWIpOmNiKHgsbWIpKSkpLygzKnIpKT49MCYmTTw9MSYmKGFbZisrXT1NKX1lbHNle3ZhciBfPSgyKmgqcy0zKnIqYykvKDIqZGIoaCpoKmgpKSx3PU1hdGguYWNvcyhfKS8zLGI9ZGIoaCksUz1NYXRoLmNvcyh3KSxNPSgtcy0yKmIqUykvKDMqciksbT0oLXMrYiooUytnYipNYXRoLnNpbih3KSkpLygzKnIpLEk9KC1zK2IqKFMtZ2IqTWF0aC5zaW4odykpKS8oMypyKTtNPj0wJiZNPD0xJiYoYVtmKytdPU0pLG0+PTAmJm08PTEmJihhW2YrK109bSksST49MCYmSTw9MSYmKGFbZisrXT1JKX19cmV0dXJuIGZ9ZnVuY3Rpb24gS2kodCxlLGksbixvKXt2YXIgYT02KmktMTIqZSs2KnQscj05KmUrMypuLTMqdC05Kmkscz0zKmUtMyp0LGw9MDtpZihVaShyKSlYaShhKSYmKGM9LXMvYSk+PTAmJmM8PTEmJihvW2wrK109Yyk7ZWxzZXt2YXIgdT1hKmEtNCpyKnM7aWYoVWkodSkpb1swXT0tYS8oMipyKTtlbHNlIGlmKHU+MCl7dmFyIGg9ZGIodSksYz0oLWEraCkvKDIqciksZD0oLWEtaCkvKDIqcik7Yz49MCYmYzw9MSYmKG9bbCsrXT1jKSxkPj0wJiZkPD0xJiYob1tsKytdPWQpfX1yZXR1cm4gbH1mdW5jdGlvbiAkaSh0LGUsaSxuLG8sYSl7dmFyIHI9KGUtdCkqbyt0LHM9KGktZSkqbytlLGw9KG4taSkqbytpLHU9KHMtcikqbytyLGg9KGwtcykqbytzLGM9KGgtdSkqbyt1O2FbMF09dCxhWzFdPXIsYVsyXT11LGFbM109YyxhWzRdPWMsYVs1XT1oLGFbNl09bCxhWzddPW59ZnVuY3Rpb24gSmkodCxlLGksbixvLGEscixzLGwsdSxoKXt2YXIgYyxkLGYscCxnLG09LjAwNSx2PTEvMDt2YlswXT1sLHZiWzFdPXU7Zm9yKHZhciB5PTA7eTwxO3krPS4wNSl5YlswXT1qaSh0LGksbyxyLHkpLHliWzFdPWppKGUsbixhLHMseSksKHA9U18odmIseWIpKTx2JiYoYz15LHY9cCk7dj0xLzA7Zm9yKHZhciB4PTA7eDwzMiYmIShtPHBiKTt4KyspZD1jLW0sZj1jK20seWJbMF09amkodCxpLG8scixkKSx5YlsxXT1qaShlLG4sYSxzLGQpLHA9U18oeWIsdmIpLGQ+PTAmJnA8dj8oYz1kLHY9cCk6KHhiWzBdPWppKHQsaSxvLHIsZikseGJbMV09amkoZSxuLGEscyxmKSxnPVNfKHhiLHZiKSxmPD0xJiZnPHY/KGM9Zix2PWcpOm0qPS41KTtyZXR1cm4gaCYmKGhbMF09amkodCxpLG8scixjKSxoWzFdPWppKGUsbixhLHMsYykpLGRiKHYpfWZ1bmN0aW9uIFFpKHQsZSxpLG4pe3ZhciBvPTEtbjtyZXR1cm4gbyoobyp0KzIqbiplKStuKm4qaX1mdW5jdGlvbiB0bih0LGUsaSxuKXtyZXR1cm4gMiooKDEtbikqKGUtdCkrbiooaS1lKSl9ZnVuY3Rpb24gZW4odCxlLGksbixvKXt2YXIgYT10LTIqZStpLHI9MiooZS10KSxzPXQtbixsPTA7aWYoVWkoYSkpWGkocikmJihjPS1zL3IpPj0wJiZjPD0xJiYob1tsKytdPWMpO2Vsc2V7dmFyIHU9cipyLTQqYSpzO2lmKFVpKHUpKShjPS1yLygyKmEpKT49MCYmYzw9MSYmKG9bbCsrXT1jKTtlbHNlIGlmKHU+MCl7dmFyIGg9ZGIodSksYz0oLXIraCkvKDIqYSksZD0oLXItaCkvKDIqYSk7Yz49MCYmYzw9MSYmKG9bbCsrXT1jKSxkPj0wJiZkPD0xJiYob1tsKytdPWQpfX1yZXR1cm4gbH1mdW5jdGlvbiBubih0LGUsaSl7dmFyIG49dCtpLTIqZTtyZXR1cm4gMD09PW4/LjU6KHQtZSkvbn1mdW5jdGlvbiBvbih0LGUsaSxuLG8pe3ZhciBhPShlLXQpKm4rdCxyPShpLWUpKm4rZSxzPShyLWEpKm4rYTtvWzBdPXQsb1sxXT1hLG9bMl09cyxvWzNdPXMsb1s0XT1yLG9bNV09aX1mdW5jdGlvbiBhbih0LGUsaSxuLG8sYSxyLHMsbCl7dmFyIHUsaD0uMDA1LGM9MS8wO3ZiWzBdPXIsdmJbMV09cztmb3IodmFyIGQ9MDtkPDE7ZCs9LjA1KXliWzBdPVFpKHQsaSxvLGQpLHliWzFdPVFpKGUsbixhLGQpLChtPVNfKHZiLHliKSk8YyYmKHU9ZCxjPW0pO2M9MS8wO2Zvcih2YXIgZj0wO2Y8MzImJiEoaDxwYik7ZisrKXt2YXIgcD11LWgsZz11K2g7eWJbMF09UWkodCxpLG8scCkseWJbMV09UWkoZSxuLGEscCk7dmFyIG09U18oeWIsdmIpO2lmKHA+PTAmJm08Yyl1PXAsYz1tO2Vsc2V7eGJbMF09UWkodCxpLG8sZykseGJbMV09UWkoZSxuLGEsZyk7dmFyIHY9U18oeGIsdmIpO2c8PTEmJnY8Yz8odT1nLGM9dik6aCo9LjV9fXJldHVybiBsJiYobFswXT1RaSh0LGksbyx1KSxsWzFdPVFpKGUsbixhLHUpKSxkYihjKX1mdW5jdGlvbiBybih0LGUsaSl7aWYoMCE9PXQubGVuZ3RoKXt2YXIgbixvPXRbMF0sYT1vWzBdLHI9b1swXSxzPW9bMV0sbD1vWzFdO2ZvcihuPTE7bjx0Lmxlbmd0aDtuKyspbz10W25dLGE9X2IoYSxvWzBdKSxyPXdiKHIsb1swXSkscz1fYihzLG9bMV0pLGw9d2IobCxvWzFdKTtlWzBdPWEsZVsxXT1zLGlbMF09cixpWzFdPWx9fWZ1bmN0aW9uIHNuKHQsZSxpLG4sbyxhKXtvWzBdPV9iKHQsaSksb1sxXT1fYihlLG4pLGFbMF09d2IodCxpKSxhWzFdPXdiKGUsbil9ZnVuY3Rpb24gbG4odCxlLGksbixvLGEscixzLGwsdSl7dmFyIGgsYz1LaSxkPWppLGY9Yyh0LGksbyxyLEFiKTtmb3IobFswXT0xLzAsbFsxXT0xLzAsdVswXT0tMS8wLHVbMV09LTEvMCxoPTA7aDxmO2grKyl7dmFyIHA9ZCh0LGksbyxyLEFiW2hdKTtsWzBdPV9iKHAsbFswXSksdVswXT13YihwLHVbMF0pfWZvcihmPWMoZSxuLGEscyxDYiksaD0wO2g8ZjtoKyspe3ZhciBnPWQoZSxuLGEscyxDYltoXSk7bFsxXT1fYihnLGxbMV0pLHVbMV09d2IoZyx1WzFdKX1sWzBdPV9iKHQsbFswXSksdVswXT13Yih0LHVbMF0pLGxbMF09X2IocixsWzBdKSx1WzBdPXdiKHIsdVswXSksbFsxXT1fYihlLGxbMV0pLHVbMV09d2IoZSx1WzFdKSxsWzFdPV9iKHMsbFsxXSksdVsxXT13YihzLHVbMV0pfWZ1bmN0aW9uIHVuKHQsZSxpLG4sbyxhLHIscyl7dmFyIGw9bm4sdT1RaSxoPXdiKF9iKGwodCxpLG8pLDEpLDApLGM9d2IoX2IobChlLG4sYSksMSksMCksZD11KHQsaSxvLGgpLGY9dShlLG4sYSxjKTtyWzBdPV9iKHQsbyxkKSxyWzFdPV9iKGUsYSxmKSxzWzBdPXdiKHQsbyxkKSxzWzFdPXdiKGUsYSxmKX1mdW5jdGlvbiBobih0LGUsaSxuLG8sYSxyLHMsbCl7dmFyIHU9dHQsaD1ldCxjPU1hdGguYWJzKG8tYSk7aWYoYyVNYjwxZS00JiZjPjFlLTQpcmV0dXJuIHNbMF09dC1pLHNbMV09ZS1uLGxbMF09dCtpLHZvaWQobFsxXT1lK24pO2lmKEliWzBdPVNiKG8pKmkrdCxJYlsxXT1iYihvKSpuK2UsVGJbMF09U2IoYSkqaSt0LFRiWzFdPWJiKGEpKm4rZSx1KHMsSWIsVGIpLGgobCxJYixUYiksKG8lPU1iKTwwJiYobys9TWIpLChhJT1NYik8MCYmKGErPU1iKSxvPmEmJiFyP2ErPU1iOm88YSYmciYmKG8rPU1iKSxyKXt2YXIgZD1hO2E9byxvPWR9Zm9yKHZhciBmPTA7ZjxhO2YrPU1hdGguUEkvMilmPm8mJihEYlswXT1TYihmKSppK3QsRGJbMV09YmIoZikqbitlLHUocyxEYixzKSxoKGwsRGIsbCkpfWZ1bmN0aW9uIGNuKHQsZSxpLG4sbyxhLHIpe2lmKDA9PT1vKXJldHVybiExO3ZhciBzPW8sbD0wLHU9dDtpZihyPmUrcyYmcj5uK3N8fHI8ZS1zJiZyPG4tc3x8YT50K3MmJmE+aStzfHxhPHQtcyYmYTxpLXMpcmV0dXJuITE7aWYodD09PWkpcmV0dXJuIE1hdGguYWJzKGEtdCk8PXMvMjt2YXIgaD0obD0oZS1uKS8odC1pKSkqYS1yKyh1PSh0Km4taSplKS8odC1pKSk7cmV0dXJuIGgqaC8obCpsKzEpPD1zLzIqcy8yfWZ1bmN0aW9uIGRuKHQsZSxpLG4sbyxhLHIscyxsLHUsaCl7aWYoMD09PWwpcmV0dXJuITE7dmFyIGM9bDtyZXR1cm4hKGg+ZStjJiZoPm4rYyYmaD5hK2MmJmg+cytjfHxoPGUtYyYmaDxuLWMmJmg8YS1jJiZoPHMtY3x8dT50K2MmJnU+aStjJiZ1Pm8rYyYmdT5yK2N8fHU8dC1jJiZ1PGktYyYmdTxvLWMmJnU8ci1jKSYmSmkodCxlLGksbixvLGEscixzLHUsaCxudWxsKTw9Yy8yfWZ1bmN0aW9uIGZuKHQsZSxpLG4sbyxhLHIscyxsKXtpZigwPT09cilyZXR1cm4hMTt2YXIgdT1yO3JldHVybiEobD5lK3UmJmw+bit1JiZsPmErdXx8bDxlLXUmJmw8bi11JiZsPGEtdXx8cz50K3UmJnM+aSt1JiZzPm8rdXx8czx0LXUmJnM8aS11JiZzPG8tdSkmJmFuKHQsZSxpLG4sbyxhLHMsbCxudWxsKTw9dS8yfWZ1bmN0aW9uIHBuKHQpe3JldHVybih0JT1IYik8MCYmKHQrPUhiKSx0fWZ1bmN0aW9uIGduKHQsZSxpLG4sbyxhLHIscyxsKXtpZigwPT09cilyZXR1cm4hMTt2YXIgdT1yO3MtPXQsbC09ZTt2YXIgaD1NYXRoLnNxcnQocypzK2wqbCk7aWYoaC11Pml8fGgrdTxpKXJldHVybiExO2lmKE1hdGguYWJzKG4tbyklWmI8MWUtNClyZXR1cm4hMDtpZihhKXt2YXIgYz1uO249cG4obyksbz1wbihjKX1lbHNlIG49cG4obiksbz1wbihvKTtuPm8mJihvKz1aYik7dmFyIGQ9TWF0aC5hdGFuMihsLHMpO3JldHVybiBkPDAmJihkKz1aYiksZD49biYmZDw9b3x8ZCtaYj49biYmZCtaYjw9b31mdW5jdGlvbiBtbih0LGUsaSxuLG8sYSl7aWYoYT5lJiZhPm58fGE8ZSYmYTxuKXJldHVybiAwO2lmKG49PT1lKXJldHVybiAwO3ZhciByPW48ZT8xOi0xLHM9KGEtZSkvKG4tZSk7MSE9PXMmJjAhPT1zfHwocj1uPGU/LjU6LS41KTt2YXIgbD1zKihpLXQpK3Q7cmV0dXJuIGw9PT1vPzEvMDpsPm8/cjowfWZ1bmN0aW9uIHZuKHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8amJ9ZnVuY3Rpb24geW4oKXt2YXIgdD1xYlswXTtxYlswXT1xYlsxXSxxYlsxXT10fWZ1bmN0aW9uIHhuKHQsZSxpLG4sbyxhLHIscyxsLHUpe2lmKHU+ZSYmdT5uJiZ1PmEmJnU+c3x8dTxlJiZ1PG4mJnU8YSYmdTxzKXJldHVybiAwO3ZhciBoPXFpKGUsbixhLHMsdSxZYik7aWYoMD09PWgpcmV0dXJuIDA7Zm9yKHZhciBjLGQsZj0wLHA9LTEsZz0wO2c8aDtnKyspe3ZhciBtPVliW2ddLHY9MD09PW18fDE9PT1tPy41OjE7amkodCxpLG8scixtKTxsfHwocDwwJiYocD1LaShlLG4sYSxzLHFiKSxxYlsxXTxxYlswXSYmcD4xJiZ5bigpLGM9amkoZSxuLGEscyxxYlswXSkscD4xJiYoZD1qaShlLG4sYSxzLHFiWzFdKSkpLDI9PXA/bTxxYlswXT9mKz1jPGU/djotdjptPHFiWzFdP2YrPWQ8Yz92Oi12OmYrPXM8ZD92Oi12Om08cWJbMF0/Zis9YzxlP3Y6LXY6Zis9czxjP3Y6LXYpfXJldHVybiBmfWZ1bmN0aW9uIF9uKHQsZSxpLG4sbyxhLHIscyl7aWYocz5lJiZzPm4mJnM+YXx8czxlJiZzPG4mJnM8YSlyZXR1cm4gMDt2YXIgbD1lbihlLG4sYSxzLFliKTtpZigwPT09bClyZXR1cm4gMDt2YXIgdT1ubihlLG4sYSk7aWYodT49MCYmdTw9MSl7Zm9yKHZhciBoPTAsYz1RaShlLG4sYSx1KSxkPTA7ZDxsO2QrKyl7Zj0wPT09WWJbZF18fDE9PT1ZYltkXT8uNToxOyhwPVFpKHQsaSxvLFliW2RdKSk8cnx8KFliW2RdPHU/aCs9YzxlP2Y6LWY6aCs9YTxjP2Y6LWYpfXJldHVybiBofXZhciBmPTA9PT1ZYlswXXx8MT09PVliWzBdPy41OjEscD1RaSh0LGksbyxZYlswXSk7cmV0dXJuIHA8cj8wOmE8ZT9mOi1mfWZ1bmN0aW9uIHduKHQsZSxpLG4sbyxhLHIscyl7aWYoKHMtPWUpPml8fHM8LWkpcmV0dXJuIDA7dT1NYXRoLnNxcnQoaSppLXMqcyk7WWJbMF09LXUsWWJbMV09dTt2YXIgbD1NYXRoLmFicyhuLW8pO2lmKGw8MWUtNClyZXR1cm4gMDtpZihsJVhiPDFlLTQpe249MCxvPVhiO3A9YT8xOi0xO3JldHVybiByPj1ZYlswXSt0JiZyPD1ZYlsxXSt0P3A6MH1pZihhKXt2YXIgdT1uO249cG4obyksbz1wbih1KX1lbHNlIG49cG4obiksbz1wbihvKTtuPm8mJihvKz1YYik7Zm9yKHZhciBoPTAsYz0wO2M8MjtjKyspe3ZhciBkPVliW2NdO2lmKGQrdD5yKXt2YXIgZj1NYXRoLmF0YW4yKHMsZCkscD1hPzE6LTE7ZjwwJiYoZj1YYitmKSwoZj49biYmZjw9b3x8ZitYYj49biYmZitYYjw9bykmJihmPk1hdGguUEkvMiYmZjwxLjUqTWF0aC5QSSYmKHA9LXApLGgrPXApfX1yZXR1cm4gaH1mdW5jdGlvbiBibih0LGUsaSxuLG8pe2Zvcih2YXIgYT0wLHI9MCxzPTAsbD0wLHU9MCxoPTA7aDx0Lmxlbmd0aDspe3ZhciBjPXRbaCsrXTtzd2l0Y2goYz09PVViLk0mJmg+MSYmKGl8fChhKz1tbihyLHMsbCx1LG4sbykpKSwxPT1oJiYobD1yPXRbaF0sdT1zPXRbaCsxXSksYyl7Y2FzZSBVYi5NOnI9bD10W2grK10scz11PXRbaCsrXTticmVhaztjYXNlIFViLkw6aWYoaSl7aWYoY24ocixzLHRbaF0sdFtoKzFdLGUsbixvKSlyZXR1cm4hMH1lbHNlIGErPW1uKHIscyx0W2hdLHRbaCsxXSxuLG8pfHwwO3I9dFtoKytdLHM9dFtoKytdO2JyZWFrO2Nhc2UgVWIuQzppZihpKXtpZihkbihyLHMsdFtoKytdLHRbaCsrXSx0W2grK10sdFtoKytdLHRbaF0sdFtoKzFdLGUsbixvKSlyZXR1cm4hMH1lbHNlIGErPXhuKHIscyx0W2grK10sdFtoKytdLHRbaCsrXSx0W2grK10sdFtoXSx0W2grMV0sbixvKXx8MDtyPXRbaCsrXSxzPXRbaCsrXTticmVhaztjYXNlIFViLlE6aWYoaSl7aWYoZm4ocixzLHRbaCsrXSx0W2grK10sdFtoXSx0W2grMV0sZSxuLG8pKXJldHVybiEwfWVsc2UgYSs9X24ocixzLHRbaCsrXSx0W2grK10sdFtoXSx0W2grMV0sbixvKXx8MDtyPXRbaCsrXSxzPXRbaCsrXTticmVhaztjYXNlIFViLkE6dmFyIGQ9dFtoKytdLGY9dFtoKytdLHA9dFtoKytdLGc9dFtoKytdLG09dFtoKytdLHY9dFtoKytdLHk9KHRbaCsrXSwxLXRbaCsrXSkseD1NYXRoLmNvcyhtKSpwK2QsXz1NYXRoLnNpbihtKSpnK2Y7aD4xP2ErPW1uKHIscyx4LF8sbixvKToobD14LHU9Xyk7dmFyIHc9KG4tZCkqZy9wK2Q7aWYoaSl7aWYoZ24oZCxmLGcsbSxtK3YseSxlLHcsbykpcmV0dXJuITB9ZWxzZSBhKz13bihkLGYsZyxtLG0rdix5LHcsbyk7cj1NYXRoLmNvcyhtK3YpKnArZCxzPU1hdGguc2luKG0rdikqZytmO2JyZWFrO2Nhc2UgVWIuUjpsPXI9dFtoKytdLHU9cz10W2grK107dmFyIHg9bCt0W2grK10sXz11K3RbaCsrXTtpZihpKXtpZihjbihsLHUseCx1LGUsbixvKXx8Y24oeCx1LHgsXyxlLG4sbyl8fGNuKHgsXyxsLF8sZSxuLG8pfHxjbihsLF8sbCx1LGUsbixvKSlyZXR1cm4hMH1lbHNlIGErPW1uKHgsdSx4LF8sbixvKSxhKz1tbihsLF8sbCx1LG4sbyk7YnJlYWs7Y2FzZSBVYi5aOmlmKGkpe2lmKGNuKHIscyxsLHUsZSxuLG8pKXJldHVybiEwfWVsc2UgYSs9bW4ocixzLGwsdSxuLG8pO3I9bCxzPXV9fXJldHVybiBpfHx2bihzLHUpfHwoYSs9bW4ocixzLGwsdSxuLG8pfHwwKSwwIT09YX1mdW5jdGlvbiBTbih0LGUsaSl7cmV0dXJuIGJuKHQsMCwhMSxlLGkpfWZ1bmN0aW9uIE1uKHQsZSxpLG4pe3JldHVybiBibih0LGUsITAsaSxuKX1mdW5jdGlvbiBJbih0KXskZS5jYWxsKHRoaXMsdCksdGhpcy5wYXRoPW51bGx9ZnVuY3Rpb24gVG4odCxlLGksbixvLGEscixzLGwsdSxoKXt2YXIgYz1sKihsUy8xODApLGQ9c1MoYykqKHQtaSkvMityUyhjKSooZS1uKS8yLGY9LTEqclMoYykqKHQtaSkvMitzUyhjKSooZS1uKS8yLHA9ZCpkLyhyKnIpK2YqZi8ocypzKTtwPjEmJihyKj1hUyhwKSxzKj1hUyhwKSk7dmFyIGc9KG89PT1hPy0xOjEpKmFTKChyKnIqKHMqcyktcipyKihmKmYpLXMqcyooZCpkKSkvKHIqciooZipmKStzKnMqKGQqZCkpKXx8MCxtPWcqcipmL3Msdj1nKi1zKmQvcix5PSh0K2kpLzIrc1MoYykqbS1yUyhjKSp2LHg9KGUrbikvMityUyhjKSptK3NTKGMpKnYsXz1jUyhbMSwwXSxbKGQtbSkvciwoZi12KS9zXSksdz1bKGQtbSkvciwoZi12KS9zXSxiPVsoLTEqZC1tKS9yLCgtMSpmLXYpL3NdLFM9Y1ModyxiKTtoUyh3LGIpPD0tMSYmKFM9bFMpLGhTKHcsYik+PTEmJihTPTApLDA9PT1hJiZTPjAmJihTLT0yKmxTKSwxPT09YSYmUzwwJiYoUys9MipsUyksaC5hZGREYXRhKHUseSx4LHIscyxfLFMsYyxhKX1mdW5jdGlvbiBEbih0KXtpZighdClyZXR1cm5bXTt2YXIgZSxpPXQucmVwbGFjZSgvLS9nLCIgLSIpLnJlcGxhY2UoLyAgL2csIiAiKS5yZXBsYWNlKC8gL2csIiwiKS5yZXBsYWNlKC8sLC9nLCIsIik7Zm9yKGU9MDtlPG9TLmxlbmd0aDtlKyspaT1pLnJlcGxhY2UobmV3IFJlZ0V4cChvU1tlXSwiZyIpLCJ8IitvU1tlXSk7dmFyIG4sbz1pLnNwbGl0KCJ8IiksYT0wLHI9MCxzPW5ldyBGYixsPUZiLkNNRDtmb3IoZT0xO2U8by5sZW5ndGg7ZSsrKXt2YXIgdSxoPW9bZV0sYz1oLmNoYXJBdCgwKSxkPTAsZj1oLnNsaWNlKDEpLnJlcGxhY2UoL2UsLS9nLCJlLSIpLnNwbGl0KCIsIik7Zi5sZW5ndGg+MCYmIiI9PT1mWzBdJiZmLnNoaWZ0KCk7Zm9yKHZhciBwPTA7cDxmLmxlbmd0aDtwKyspZltwXT1wYXJzZUZsb2F0KGZbcF0pO2Zvcig7ZDxmLmxlbmd0aCYmIWlzTmFOKGZbZF0pJiYhaXNOYU4oZlswXSk7KXt2YXIgZyxtLHYseSx4LF8sdyxiPWEsUz1yO3N3aXRjaChjKXtjYXNlImwiOmErPWZbZCsrXSxyKz1mW2QrK10sdT1sLkwscy5hZGREYXRhKHUsYSxyKTticmVhaztjYXNlIkwiOmE9ZltkKytdLHI9ZltkKytdLHU9bC5MLHMuYWRkRGF0YSh1LGEscik7YnJlYWs7Y2FzZSJtIjphKz1mW2QrK10scis9ZltkKytdLHU9bC5NLHMuYWRkRGF0YSh1LGEsciksYz0ibCI7YnJlYWs7Y2FzZSJNIjphPWZbZCsrXSxyPWZbZCsrXSx1PWwuTSxzLmFkZERhdGEodSxhLHIpLGM9IkwiO2JyZWFrO2Nhc2UiaCI6YSs9ZltkKytdLHU9bC5MLHMuYWRkRGF0YSh1LGEscik7YnJlYWs7Y2FzZSJIIjphPWZbZCsrXSx1PWwuTCxzLmFkZERhdGEodSxhLHIpO2JyZWFrO2Nhc2UidiI6cis9ZltkKytdLHU9bC5MLHMuYWRkRGF0YSh1LGEscik7YnJlYWs7Y2FzZSJWIjpyPWZbZCsrXSx1PWwuTCxzLmFkZERhdGEodSxhLHIpO2JyZWFrO2Nhc2UiQyI6dT1sLkMscy5hZGREYXRhKHUsZltkKytdLGZbZCsrXSxmW2QrK10sZltkKytdLGZbZCsrXSxmW2QrK10pLGE9ZltkLTJdLHI9ZltkLTFdO2JyZWFrO2Nhc2UiYyI6dT1sLkMscy5hZGREYXRhKHUsZltkKytdK2EsZltkKytdK3IsZltkKytdK2EsZltkKytdK3IsZltkKytdK2EsZltkKytdK3IpLGErPWZbZC0yXSxyKz1mW2QtMV07YnJlYWs7Y2FzZSJTIjpnPWEsbT1yO3ZhciBNPXMubGVuKCksST1zLmRhdGE7bj09PWwuQyYmKGcrPWEtSVtNLTRdLG0rPXItSVtNLTNdKSx1PWwuQyxiPWZbZCsrXSxTPWZbZCsrXSxhPWZbZCsrXSxyPWZbZCsrXSxzLmFkZERhdGEodSxnLG0sYixTLGEscik7YnJlYWs7Y2FzZSJzIjpnPWEsbT1yO3ZhciBNPXMubGVuKCksST1zLmRhdGE7bj09PWwuQyYmKGcrPWEtSVtNLTRdLG0rPXItSVtNLTNdKSx1PWwuQyxiPWErZltkKytdLFM9citmW2QrK10sYSs9ZltkKytdLHIrPWZbZCsrXSxzLmFkZERhdGEodSxnLG0sYixTLGEscik7YnJlYWs7Y2FzZSJRIjpiPWZbZCsrXSxTPWZbZCsrXSxhPWZbZCsrXSxyPWZbZCsrXSx1PWwuUSxzLmFkZERhdGEodSxiLFMsYSxyKTticmVhaztjYXNlInEiOmI9ZltkKytdK2EsUz1mW2QrK10rcixhKz1mW2QrK10scis9ZltkKytdLHU9bC5RLHMuYWRkRGF0YSh1LGIsUyxhLHIpO2JyZWFrO2Nhc2UiVCI6Zz1hLG09cjt2YXIgTT1zLmxlbigpLEk9cy5kYXRhO249PT1sLlEmJihnKz1hLUlbTS00XSxtKz1yLUlbTS0zXSksYT1mW2QrK10scj1mW2QrK10sdT1sLlEscy5hZGREYXRhKHUsZyxtLGEscik7YnJlYWs7Y2FzZSJ0IjpnPWEsbT1yO3ZhciBNPXMubGVuKCksST1zLmRhdGE7bj09PWwuUSYmKGcrPWEtSVtNLTRdLG0rPXItSVtNLTNdKSxhKz1mW2QrK10scis9ZltkKytdLHU9bC5RLHMuYWRkRGF0YSh1LGcsbSxhLHIpO2JyZWFrO2Nhc2UiQSI6dj1mW2QrK10seT1mW2QrK10seD1mW2QrK10sXz1mW2QrK10sdz1mW2QrK10sVG4oYj1hLFM9cixhPWZbZCsrXSxyPWZbZCsrXSxfLHcsdix5LHgsdT1sLkEscyk7YnJlYWs7Y2FzZSJhIjp2PWZbZCsrXSx5PWZbZCsrXSx4PWZbZCsrXSxfPWZbZCsrXSx3PWZbZCsrXSxUbihiPWEsUz1yLGErPWZbZCsrXSxyKz1mW2QrK10sXyx3LHYseSx4LHU9bC5BLHMpfX0ieiIhPT1jJiYiWiIhPT1jfHwodT1sLloscy5hZGREYXRhKHUpKSxuPXV9cmV0dXJuIHMudG9TdGF0aWMoKSxzfWZ1bmN0aW9uIEFuKHQsZSl7dmFyIGk9RG4odCk7cmV0dXJuIGU9ZXx8e30sZS5idWlsZFBhdGg9ZnVuY3Rpb24odCl7aWYodC5zZXREYXRhKXQuc2V0RGF0YShpLmRhdGEpLChlPXQuZ2V0Q29udGV4dCgpKSYmdC5yZWJ1aWxkUGF0aChlKTtlbHNle3ZhciBlPXQ7aS5yZWJ1aWxkUGF0aChlKX19LGUuYXBwbHlUcmFuc2Zvcm09ZnVuY3Rpb24odCl7blMoaSx0KSx0aGlzLmRpcnR5KCEwKX0sZX1mdW5jdGlvbiBDbih0LGUpe3JldHVybiBuZXcgSW4oQW4odCxlKSl9ZnVuY3Rpb24gTG4odCxlKXtyZXR1cm4gSW4uZXh0ZW5kKEFuKHQsZSkpfWZ1bmN0aW9uIGtuKHQsZSxpLG4sbyxhLHIpe3ZhciBzPS41KihpLXQpLGw9LjUqKG4tZSk7cmV0dXJuKDIqKGUtaSkrcytsKSpyKygtMyooZS1pKS0yKnMtbCkqYStzKm8rZX1mdW5jdGlvbiBQbih0LGUsaSl7dmFyIG49ZS5wb2ludHMsbz1lLnNtb290aDtpZihuJiZuLmxlbmd0aD49Mil7aWYobyYmInNwbGluZSIhPT1vKXt2YXIgYT14UyhuLG8saSxlLnNtb290aENvbnN0cmFpbnQpO3QubW92ZVRvKG5bMF1bMF0sblswXVsxXSk7Zm9yKHZhciByPW4ubGVuZ3RoLHM9MDtzPChpP3I6ci0xKTtzKyspe3ZhciBsPWFbMipzXSx1PWFbMipzKzFdLGg9blsocysxKSVyXTt0LmJlemllckN1cnZlVG8obFswXSxsWzFdLHVbMF0sdVsxXSxoWzBdLGhbMV0pfX1lbHNleyJzcGxpbmUiPT09byYmKG49eVMobixpKSksdC5tb3ZlVG8oblswXVswXSxuWzBdWzFdKTtmb3IodmFyIHM9MSxjPW4ubGVuZ3RoO3M8YztzKyspdC5saW5lVG8obltzXVswXSxuW3NdWzFdKX1pJiZ0LmNsb3NlUGF0aCgpfX1mdW5jdGlvbiBObih0LGUsaSl7dmFyIG49dC5jcHgyLG89dC5jcHkyO3JldHVybiBudWxsPT09bnx8bnVsbD09PW8/WyhpP1lpOmppKSh0LngxLHQuY3B4MSx0LmNweDIsdC54MixlKSwoaT9ZaTpqaSkodC55MSx0LmNweTEsdC5jcHkyLHQueTIsZSldOlsoaT90bjpRaSkodC54MSx0LmNweDEsdC54MixlKSwoaT90bjpRaSkodC55MSx0LmNweTEsdC55MixlKV19ZnVuY3Rpb24gT24odCl7JGUuY2FsbCh0aGlzLHQpLHRoaXMuX2Rpc3BsYXlhYmxlcz1bXSx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXM9W10sdGhpcy5fY3Vyc29yPTAsdGhpcy5ub3RDbGVhcj0hMH1mdW5jdGlvbiBFbih0KXtyZXR1cm4gSW4uZXh0ZW5kKHQpfWZ1bmN0aW9uIFJuKHQsZSxpLG4pe3ZhciBvPUNuKHQsZSksYT1vLmdldEJvdW5kaW5nUmVjdCgpO3JldHVybiBpJiYoImNlbnRlciI9PT1uJiYoaT1CbihpLGEpKSxWbihvLGkpKSxvfWZ1bmN0aW9uIHpuKHQsZSxpKXt2YXIgbj1uZXcgSmUoe3N0eWxlOntpbWFnZTp0LHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxvbmxvYWQ6ZnVuY3Rpb24odCl7aWYoImNlbnRlciI9PT1pKXt2YXIgbz17d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9O24uc2V0U3R5bGUoQm4oZSxvKSl9fX0pO3JldHVybiBufWZ1bmN0aW9uIEJuKHQsZSl7dmFyIGksbj1lLndpZHRoL2UuaGVpZ2h0LG89dC5oZWlnaHQqbjtyZXR1cm4gaT1vPD10LndpZHRoP3QuaGVpZ2h0OihvPXQud2lkdGgpL24se3g6dC54K3Qud2lkdGgvMi1vLzIseTp0LnkrdC5oZWlnaHQvMi1pLzIsd2lkdGg6byxoZWlnaHQ6aX19ZnVuY3Rpb24gVm4odCxlKXtpZih0LmFwcGx5VHJhbnNmb3JtKXt2YXIgaT10LmdldEJvdW5kaW5nUmVjdCgpLmNhbGN1bGF0ZVRyYW5zZm9ybShlKTt0LmFwcGx5VHJhbnNmb3JtKGkpfX1mdW5jdGlvbiBHbih0KXt2YXIgZT10LnNoYXBlLGk9dC5zdHlsZS5saW5lV2lkdGg7cmV0dXJuIFBTKDIqZS54MSk9PT1QUygyKmUueDIpJiYoZS54MT1lLngyPUZuKGUueDEsaSwhMCkpLFBTKDIqZS55MSk9PT1QUygyKmUueTIpJiYoZS55MT1lLnkyPUZuKGUueTEsaSwhMCkpLHR9ZnVuY3Rpb24gV24odCl7dmFyIGU9dC5zaGFwZSxpPXQuc3R5bGUubGluZVdpZHRoLG49ZS54LG89ZS55LGE9ZS53aWR0aCxyPWUuaGVpZ2h0O3JldHVybiBlLng9Rm4oZS54LGksITApLGUueT1GbihlLnksaSwhMCksZS53aWR0aD1NYXRoLm1heChGbihuK2EsaSwhMSktZS54LDA9PT1hPzA6MSksZS5oZWlnaHQ9TWF0aC5tYXgoRm4obytyLGksITEpLWUueSwwPT09cj8wOjEpLHR9ZnVuY3Rpb24gRm4odCxlLGkpe3ZhciBuPVBTKDIqdCk7cmV0dXJuKG4rUFMoZSkpJTI9PTA/bi8yOihuKyhpPzE6LTEpKS8yfWZ1bmN0aW9uIEhuKHQpe3JldHVybiBudWxsIT10JiYibm9uZSIhPXR9ZnVuY3Rpb24gWm4odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P2t0KHQsLS4xKTp0fWZ1bmN0aW9uIFVuKHQpe2lmKHQuX19ob3ZlclN0bERpcnR5KXt2YXIgZT10LnN0eWxlLnN0cm9rZSxpPXQuc3R5bGUuZmlsbCxuPXQuX19ob3ZlclN0bDtuLmZpbGw9bi5maWxsfHwoSG4oaSk/Wm4oaSk6bnVsbCksbi5zdHJva2U9bi5zdHJva2V8fChIbihlKT9abihlKTpudWxsKTt2YXIgbz17fTtmb3IodmFyIGEgaW4gbiludWxsIT1uW2FdJiYob1thXT10LnN0eWxlW2FdKTt0Ll9fbm9ybWFsU3RsPW8sdC5fX2hvdmVyU3RsRGlydHk9ITF9fWZ1bmN0aW9uIFhuKHQpe2lmKCF0Ll9faXNIb3Zlcil7aWYoVW4odCksdC51c2VIb3ZlckxheWVyKXQuX196ciYmdC5fX3pyLmFkZEhvdmVyKHQsdC5fX2hvdmVyU3RsKTtlbHNle3ZhciBlPXQuc3R5bGUsaT1lLmluc2lkZVJvbGxiYWNrT3B0O2kmJnVvKGUpLGUuZXh0ZW5kRnJvbSh0Ll9faG92ZXJTdGwpLGkmJihsbyhlLGUuaW5zaWRlT3JpZ2luYWxUZXh0UG9zaXRpb24saSksbnVsbD09ZS50ZXh0RmlsbCYmKGUudGV4dEZpbGw9aS5hdXRvQ29sb3IpKSx0LmRpcnR5KCExKSx0LnoyKz0xfXQuX19pc0hvdmVyPSEwfX1mdW5jdGlvbiBqbih0KXtpZih0Ll9faXNIb3Zlcil7dmFyIGU9dC5fX25vcm1hbFN0bDt0LnVzZUhvdmVyTGF5ZXI/dC5fX3pyJiZ0Ll9fenIucmVtb3ZlSG92ZXIodCk6KGUmJnQuc2V0U3R5bGUoZSksdC56Mi09MSksdC5fX2lzSG92ZXI9ITF9fWZ1bmN0aW9uIFluKHQpeyJncm91cCI9PT10LnR5cGU/dC50cmF2ZXJzZShmdW5jdGlvbih0KXsiZ3JvdXAiIT09dC50eXBlJiZYbih0KX0pOlhuKHQpfWZ1bmN0aW9uIHFuKHQpeyJncm91cCI9PT10LnR5cGU/dC50cmF2ZXJzZShmdW5jdGlvbih0KXsiZ3JvdXAiIT09dC50eXBlJiZqbih0KX0pOmpuKHQpfWZ1bmN0aW9uIEtuKHQsZSl7dC5fX2hvdmVyU3RsPXQuaG92ZXJTdHlsZXx8ZXx8e30sdC5fX2hvdmVyU3RsRGlydHk9ITAsdC5fX2lzSG92ZXImJlVuKHQpfWZ1bmN0aW9uICRuKHQpe3RoaXMuX19ob3ZlclNpbGVudE9uVG91Y2gmJnQuenJCeVRvdWNofHwhdGhpcy5fX2lzRW1waGFzaXMmJlluKHRoaXMpfWZ1bmN0aW9uIEpuKHQpe3RoaXMuX19ob3ZlclNpbGVudE9uVG91Y2gmJnQuenJCeVRvdWNofHwhdGhpcy5fX2lzRW1waGFzaXMmJnFuKHRoaXMpfWZ1bmN0aW9uIFFuKCl7dGhpcy5fX2lzRW1waGFzaXM9ITAsWW4odGhpcyl9ZnVuY3Rpb24gdG8oKXt0aGlzLl9faXNFbXBoYXNpcz0hMSxxbih0aGlzKX1mdW5jdGlvbiBlbyh0LGUsaSl7dC5fX2hvdmVyU2lsZW50T25Ub3VjaD1pJiZpLmhvdmVyU2lsZW50T25Ub3VjaCwiZ3JvdXAiPT09dC50eXBlP3QudHJhdmVyc2UoZnVuY3Rpb24odCl7Imdyb3VwIiE9PXQudHlwZSYmS24odCxlKX0pOktuKHQsZSksdC5vbigibW91c2VvdmVyIiwkbikub24oIm1vdXNlb3V0IixKbiksdC5vbigiZW1waGFzaXMiLFFuKS5vbigibm9ybWFsIix0byl9ZnVuY3Rpb24gaW8odCxlLGksbixvLGEscil7dmFyIHMsbD0obz1vfHxFUykubGFiZWxGZXRjaGVyLHU9by5sYWJlbERhdGFJbmRleCxoPW8ubGFiZWxEaW1JbmRleCxjPWkuZ2V0U2hhbGxvdygic2hvdyIpLGQ9bi5nZXRTaGFsbG93KCJzaG93Iik7KGN8fGQpJiYobCYmKHM9bC5nZXRGb3JtYXR0ZWRMYWJlbCh1LCJub3JtYWwiLG51bGwsaCkpLG51bGw9PXMmJihzPXgoby5kZWZhdWx0VGV4dCk/by5kZWZhdWx0VGV4dCh1LG8pOm8uZGVmYXVsdFRleHQpKTt2YXIgZj1jP3M6bnVsbCxwPWQ/RChsP2wuZ2V0Rm9ybWF0dGVkTGFiZWwodSwiZW1waGFzaXMiLG51bGwsaCk6bnVsbCxzKTpudWxsO251bGw9PWYmJm51bGw9PXB8fChubyh0LGksYSxvKSxubyhlLG4scixvLCEwKSksdC50ZXh0PWYsZS50ZXh0PXB9ZnVuY3Rpb24gbm8odCxlLGksbixvKXtyZXR1cm4gb28odCxlLG4sbyksaSYmYSh0LGkpLHQuaG9zdCYmdC5ob3N0LmRpcnR5JiZ0Lmhvc3QuZGlydHkoITEpLHR9ZnVuY3Rpb24gb28odCxlLGksbil7aWYoKGk9aXx8RVMpLmlzUmVjdFRleHQpe3ZhciBvPWUuZ2V0U2hhbGxvdygicG9zaXRpb24iKXx8KG4/bnVsbDoiaW5zaWRlIik7Im91dHNpZGUiPT09byYmKG89InRvcCIpLHQudGV4dFBvc2l0aW9uPW8sdC50ZXh0T2Zmc2V0PWUuZ2V0U2hhbGxvdygib2Zmc2V0Iik7dmFyIGE9ZS5nZXRTaGFsbG93KCJyb3RhdGUiKTtudWxsIT1hJiYoYSo9TWF0aC5QSS8xODApLHQudGV4dFJvdGF0aW9uPWEsdC50ZXh0RGlzdGFuY2U9RChlLmdldFNoYWxsb3coImRpc3RhbmNlIiksbj9udWxsOjUpfXZhciByLHM9ZS5lY01vZGVsLGw9cyYmcy5vcHRpb24udGV4dFN0eWxlLHU9YW8oZSk7aWYodSl7cj17fTtmb3IodmFyIGggaW4gdSlpZih1Lmhhc093blByb3BlcnR5KGgpKXt2YXIgYz1lLmdldE1vZGVsKFsicmljaCIsaF0pO3JvKHJbaF09e30sYyxsLGksbil9fXJldHVybiB0LnJpY2g9cixybyh0LGUsbCxpLG4sITApLGkuZm9yY2VSaWNoJiYhaS50ZXh0U3R5bGUmJihpLnRleHRTdHlsZT17fSksdH1mdW5jdGlvbiBhbyh0KXtmb3IodmFyIGU7dCYmdCE9PXQuZWNNb2RlbDspe3ZhciBpPSh0Lm9wdGlvbnx8RVMpLnJpY2g7aWYoaSl7ZT1lfHx7fTtmb3IodmFyIG4gaW4gaSlpLmhhc093blByb3BlcnR5KG4pJiYoZVtuXT0xKX10PXQucGFyZW50TW9kZWx9cmV0dXJuIGV9ZnVuY3Rpb24gcm8odCxlLGksbixvLGEpe2lmKGk9IW8mJml8fEVTLHQudGV4dEZpbGw9c28oZS5nZXRTaGFsbG93KCJjb2xvciIpLG4pfHxpLmNvbG9yLHQudGV4dFN0cm9rZT1zbyhlLmdldFNoYWxsb3coInRleHRCb3JkZXJDb2xvciIpLG4pfHxpLnRleHRCb3JkZXJDb2xvcix0LnRleHRTdHJva2VXaWR0aD1EKGUuZ2V0U2hhbGxvdygidGV4dEJvcmRlcldpZHRoIiksaS50ZXh0Qm9yZGVyV2lkdGgpLCFvKXtpZihhKXt2YXIgcj10LnRleHRQb3NpdGlvbjt0Lmluc2lkZVJvbGxiYWNrPWxvKHQscixuKSx0Lmluc2lkZU9yaWdpbmFsVGV4dFBvc2l0aW9uPXIsdC5pbnNpZGVSb2xsYmFja09wdD1ufW51bGw9PXQudGV4dEZpbGwmJih0LnRleHRGaWxsPW4uYXV0b0NvbG9yKX10LmZvbnRTdHlsZT1lLmdldFNoYWxsb3coImZvbnRTdHlsZSIpfHxpLmZvbnRTdHlsZSx0LmZvbnRXZWlnaHQ9ZS5nZXRTaGFsbG93KCJmb250V2VpZ2h0Iil8fGkuZm9udFdlaWdodCx0LmZvbnRTaXplPWUuZ2V0U2hhbGxvdygiZm9udFNpemUiKXx8aS5mb250U2l6ZSx0LmZvbnRGYW1pbHk9ZS5nZXRTaGFsbG93KCJmb250RmFtaWx5Iil8fGkuZm9udEZhbWlseSx0LnRleHRBbGlnbj1lLmdldFNoYWxsb3coImFsaWduIiksdC50ZXh0VmVydGljYWxBbGlnbj1lLmdldFNoYWxsb3coInZlcnRpY2FsQWxpZ24iKXx8ZS5nZXRTaGFsbG93KCJiYXNlbGluZSIpLHQudGV4dExpbmVIZWlnaHQ9ZS5nZXRTaGFsbG93KCJsaW5lSGVpZ2h0IiksdC50ZXh0V2lkdGg9ZS5nZXRTaGFsbG93KCJ3aWR0aCIpLHQudGV4dEhlaWdodD1lLmdldFNoYWxsb3coImhlaWdodCIpLHQudGV4dFRhZz1lLmdldFNoYWxsb3coInRhZyIpLGEmJm4uZGlzYWJsZUJveHx8KHQudGV4dEJhY2tncm91bmRDb2xvcj1zbyhlLmdldFNoYWxsb3coImJhY2tncm91bmRDb2xvciIpLG4pLHQudGV4dFBhZGRpbmc9ZS5nZXRTaGFsbG93KCJwYWRkaW5nIiksdC50ZXh0Qm9yZGVyQ29sb3I9c28oZS5nZXRTaGFsbG93KCJib3JkZXJDb2xvciIpLG4pLHQudGV4dEJvcmRlcldpZHRoPWUuZ2V0U2hhbGxvdygiYm9yZGVyV2lkdGgiKSx0LnRleHRCb3JkZXJSYWRpdXM9ZS5nZXRTaGFsbG93KCJib3JkZXJSYWRpdXMiKSx0LnRleHRCb3hTaGFkb3dDb2xvcj1lLmdldFNoYWxsb3coInNoYWRvd0NvbG9yIiksdC50ZXh0Qm94U2hhZG93Qmx1cj1lLmdldFNoYWxsb3coInNoYWRvd0JsdXIiKSx0LnRleHRCb3hTaGFkb3dPZmZzZXRYPWUuZ2V0U2hhbGxvdygic2hhZG93T2Zmc2V0WCIpLHQudGV4dEJveFNoYWRvd09mZnNldFk9ZS5nZXRTaGFsbG93KCJzaGFkb3dPZmZzZXRZIikpLHQudGV4dFNoYWRvd0NvbG9yPWUuZ2V0U2hhbGxvdygidGV4dFNoYWRvd0NvbG9yIil8fGkudGV4dFNoYWRvd0NvbG9yLHQudGV4dFNoYWRvd0JsdXI9ZS5nZXRTaGFsbG93KCJ0ZXh0U2hhZG93Qmx1ciIpfHxpLnRleHRTaGFkb3dCbHVyLHQudGV4dFNoYWRvd09mZnNldFg9ZS5nZXRTaGFsbG93KCJ0ZXh0U2hhZG93T2Zmc2V0WCIpfHxpLnRleHRTaGFkb3dPZmZzZXRYLHQudGV4dFNoYWRvd09mZnNldFk9ZS5nZXRTaGFsbG93KCJ0ZXh0U2hhZG93T2Zmc2V0WSIpfHxpLnRleHRTaGFkb3dPZmZzZXRZfWZ1bmN0aW9uIHNvKHQsZSl7cmV0dXJuImF1dG8iIT09dD90OmUmJmUuYXV0b0NvbG9yP2UuYXV0b0NvbG9yOm51bGx9ZnVuY3Rpb24gbG8odCxlLGkpe3ZhciBuLG89aS51c2VJbnNpZGVTdHlsZTtyZXR1cm4gbnVsbD09dC50ZXh0RmlsbCYmITEhPT1vJiYoITA9PT1vfHxpLmlzUmVjdFRleHQmJmUmJiJzdHJpbmciPT10eXBlb2YgZSYmZS5pbmRleE9mKCJpbnNpZGUiKT49MCkmJihuPXt0ZXh0RmlsbDpudWxsLHRleHRTdHJva2U6dC50ZXh0U3Ryb2tlLHRleHRTdHJva2VXaWR0aDp0LnRleHRTdHJva2VXaWR0aH0sdC50ZXh0RmlsbD0iI2ZmZiIsbnVsbD09dC50ZXh0U3Ryb2tlJiYodC50ZXh0U3Ryb2tlPWkuYXV0b0NvbG9yLG51bGw9PXQudGV4dFN0cm9rZVdpZHRoJiYodC50ZXh0U3Ryb2tlV2lkdGg9MikpKSxufWZ1bmN0aW9uIHVvKHQpe3ZhciBlPXQuaW5zaWRlUm9sbGJhY2s7ZSYmKHQudGV4dEZpbGw9ZS50ZXh0RmlsbCx0LnRleHRTdHJva2U9ZS50ZXh0U3Ryb2tlLHQudGV4dFN0cm9rZVdpZHRoPWUudGV4dFN0cm9rZVdpZHRoKX1mdW5jdGlvbiBobyh0LGUpe3ZhciBpPWV8fGUuZ2V0TW9kZWwoInRleHRTdHlsZSIpO3JldHVybiBQKFt0LmZvbnRTdHlsZXx8aSYmaS5nZXRTaGFsbG93KCJmb250U3R5bGUiKXx8IiIsdC5mb250V2VpZ2h0fHxpJiZpLmdldFNoYWxsb3coImZvbnRXZWlnaHQiKXx8IiIsKHQuZm9udFNpemV8fGkmJmkuZ2V0U2hhbGxvdygiZm9udFNpemUiKXx8MTIpKyJweCIsdC5mb250RmFtaWx5fHxpJiZpLmdldFNoYWxsb3coImZvbnRGYW1pbHkiKXx8InNhbnMtc2VyaWYiXS5qb2luKCIgIikpfWZ1bmN0aW9uIGNvKHQsZSxpLG4sbyxhKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbyYmKGE9byxvPW51bGwpLG4mJm4uaXNBbmltYXRpb25FbmFibGVkKCkpe3ZhciByPXQ/IlVwZGF0ZSI6IiIscz1uLmdldFNoYWxsb3coImFuaW1hdGlvbkR1cmF0aW9uIityKSxsPW4uZ2V0U2hhbGxvdygiYW5pbWF0aW9uRWFzaW5nIityKSx1PW4uZ2V0U2hhbGxvdygiYW5pbWF0aW9uRGVsYXkiK3IpOyJmdW5jdGlvbiI9PXR5cGVvZiB1JiYodT11KG8sbi5nZXRBbmltYXRpb25EZWxheVBhcmFtcz9uLmdldEFuaW1hdGlvbkRlbGF5UGFyYW1zKGUsbyk6bnVsbCkpLCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYocz1zKG8pKSxzPjA/ZS5hbmltYXRlVG8oaSxzLHV8fDAsbCxhLCEhYSk6KGUuc3RvcEFuaW1hdGlvbigpLGUuYXR0cihpKSxhJiZhKCkpfWVsc2UgZS5zdG9wQW5pbWF0aW9uKCksZS5hdHRyKGkpLGEmJmEoKX1mdW5jdGlvbiBmbyh0LGUsaSxuLG8pe2NvKCEwLHQsZSxpLG4sbyl9ZnVuY3Rpb24gcG8odCxlLGksbixvKXtjbyghMSx0LGUsaSxuLG8pfWZ1bmN0aW9uIGdvKHQsZSl7Zm9yKHZhciBpPWx0KFtdKTt0JiZ0IT09ZTspaHQoaSx0LmdldExvY2FsVHJhbnNmb3JtKCksaSksdD10LnBhcmVudDtyZXR1cm4gaX1mdW5jdGlvbiBtbyh0LGUsaSl7cmV0dXJuIGUmJiFjKGUpJiYoZT1PXy5nZXRMb2NhbFRyYW5zZm9ybShlKSksaSYmKGU9cHQoW10sZSkpLFEoW10sdCxlKX1mdW5jdGlvbiB2byh0LGUsaSl7dmFyIG49MD09PWVbNF18fDA9PT1lWzVdfHwwPT09ZVswXT8xOk1hdGguYWJzKDIqZVs0XS9lWzBdKSxvPTA9PT1lWzRdfHwwPT09ZVs1XXx8MD09PWVbMl0/MTpNYXRoLmFicygyKmVbNF0vZVsyXSksYT1bImxlZnQiPT09dD8tbjoicmlnaHQiPT09dD9uOjAsInRvcCI9PT10Py1vOiJib3R0b20iPT09dD9vOjBdO3JldHVybiBhPW1vKGEsZSxpKSxNYXRoLmFicyhhWzBdKT5NYXRoLmFicyhhWzFdKT9hWzBdPjA/InJpZ2h0IjoibGVmdCI6YVsxXT4wPyJib3R0b20iOiJ0b3AifWZ1bmN0aW9uIHlvKHQsZSxpLG4pe2Z1bmN0aW9uIG8odCl7dmFyIGU9e3Bvc2l0aW9uOlcodC5wb3NpdGlvbikscm90YXRpb246dC5yb3RhdGlvbn07cmV0dXJuIHQuc2hhcGUmJihlLnNoYXBlPWEoe30sdC5zaGFwZSkpLGV9aWYodCYmZSl7dmFyIHI9ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIHQudHJhdmVyc2UoZnVuY3Rpb24odCl7IXQuaXNHcm91cCYmdC5hbmlkJiYoZVt0LmFuaWRdPXQpfSksZX0odCk7ZS50cmF2ZXJzZShmdW5jdGlvbih0KXtpZighdC5pc0dyb3VwJiZ0LmFuaWQpe3ZhciBlPXJbdC5hbmlkXTtpZihlKXt2YXIgbj1vKHQpO3QuYXR0cihvKGUpKSxmbyh0LG4saSx0LmRhdGFJbmRleCl9fX0pfX1mdW5jdGlvbiB4byh0LGUpe3JldHVybiBmKHQsZnVuY3Rpb24odCl7dmFyIGk9dFswXTtpPU5TKGksZS54KSxpPU9TKGksZS54K2Uud2lkdGgpO3ZhciBuPXRbMV07cmV0dXJuIG49TlMobixlLnkpLG49T1MobixlLnkrZS5oZWlnaHQpLFtpLG5dfSl9ZnVuY3Rpb24gX28odCxlLGkpe3ZhciBuPShlPWEoe3JlY3RIb3ZlcjohMH0sZSkpLnN0eWxlPXtzdHJva2VOb1NjYWxlOiEwfTtpZihpPWl8fHt4Oi0xLHk6LTEsd2lkdGg6MixoZWlnaHQ6Mn0sdClyZXR1cm4gMD09PXQuaW5kZXhPZigiaW1hZ2U6Ly8iKT8obi5pbWFnZT10LnNsaWNlKDgpLHIobixpKSxuZXcgSmUoZSkpOlJuKHQucmVwbGFjZSgicGF0aDovLyIsIiIpLGUsaSwiY2VudGVyIil9ZnVuY3Rpb24gd28odCxlLGkpe3RoaXMucGFyZW50TW9kZWw9ZSx0aGlzLmVjTW9kZWw9aSx0aGlzLm9wdGlvbj10fWZ1bmN0aW9uIGJvKHQsZSxpKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoJiYoIWVbbl18fG51bGwhPSh0PXQmJiJvYmplY3QiPT10eXBlb2YgdD90W2Vbbl1dOm51bGwpKTtuKyspO3JldHVybiBudWxsPT10JiZpJiYodD1pLmdldChlKSksdH1mdW5jdGlvbiBTbyh0LGUpe3ZhciBpPUhTKHQpLmdldFBhcmVudDtyZXR1cm4gaT9pLmNhbGwodCxlKTp0LnBhcmVudE1vZGVsfWZ1bmN0aW9uIE1vKHQpe3JldHVyblt0fHwiIixaUysrLE1hdGgucmFuZG9tKCkudG9GaXhlZCg1KV0uam9pbigiXyIpfWZ1bmN0aW9uIElvKHQpe3JldHVybiB0LnJlcGxhY2UoL15ccysvLCIiKS5yZXBsYWNlKC9ccyskLywiIil9ZnVuY3Rpb24gVG8odCxlLGksbil7dmFyIG89ZVsxXS1lWzBdLGE9aVsxXS1pWzBdO2lmKDA9PT1vKXJldHVybiAwPT09YT9pWzBdOihpWzBdK2lbMV0pLzI7aWYobilpZihvPjApe2lmKHQ8PWVbMF0pcmV0dXJuIGlbMF07aWYodD49ZVsxXSlyZXR1cm4gaVsxXX1lbHNle2lmKHQ+PWVbMF0pcmV0dXJuIGlbMF07aWYodDw9ZVsxXSlyZXR1cm4gaVsxXX1lbHNle2lmKHQ9PT1lWzBdKXJldHVybiBpWzBdO2lmKHQ9PT1lWzFdKXJldHVybiBpWzFdfXJldHVybih0LWVbMF0pL28qYStpWzBdfWZ1bmN0aW9uIERvKHQsZSl7c3dpdGNoKHQpe2Nhc2UiY2VudGVyIjpjYXNlIm1pZGRsZSI6dD0iNTAlIjticmVhaztjYXNlImxlZnQiOmNhc2UidG9wIjp0PSIwJSI7YnJlYWs7Y2FzZSJyaWdodCI6Y2FzZSJib3R0b20iOnQ9IjEwMCUifXJldHVybiJzdHJpbmciPT10eXBlb2YgdD9Jbyh0KS5tYXRjaCgvJSQvKT9wYXJzZUZsb2F0KHQpLzEwMCplOnBhcnNlRmxvYXQodCk6bnVsbD09dD9OYU46K3R9ZnVuY3Rpb24gQW8odCxlLGkpe3JldHVybiBudWxsPT1lJiYoZT0xMCksZT1NYXRoLm1pbihNYXRoLm1heCgwLGUpLDIwKSx0PSgrdCkudG9GaXhlZChlKSxpP3Q6K3R9ZnVuY3Rpb24gQ28odCl7cmV0dXJuIHQuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSx0fWZ1bmN0aW9uIExvKHQpe2lmKHQ9K3QsaXNOYU4odCkpcmV0dXJuIDA7Zm9yKHZhciBlPTEsaT0wO01hdGgucm91bmQodCplKS9lIT09dDspZSo9MTAsaSsrO3JldHVybiBpfWZ1bmN0aW9uIGtvKHQpe3ZhciBlPXQudG9TdHJpbmcoKSxpPWUuaW5kZXhPZigiZSIpO2lmKGk+MCl7dmFyIG49K2Uuc2xpY2UoaSsxKTtyZXR1cm4gbjwwPy1uOjB9dmFyIG89ZS5pbmRleE9mKCIuIik7cmV0dXJuIG88MD8wOmUubGVuZ3RoLTEtb31mdW5jdGlvbiBQbyh0LGUpe3ZhciBpPU1hdGgubG9nLG49TWF0aC5MTjEwLG89TWF0aC5mbG9vcihpKHRbMV0tdFswXSkvbiksYT1NYXRoLnJvdW5kKGkoTWF0aC5hYnMoZVsxXS1lWzBdKSkvbikscj1NYXRoLm1pbihNYXRoLm1heCgtbythLDApLDIwKTtyZXR1cm4gaXNGaW5pdGUocik/cjoyMH1mdW5jdGlvbiBObyh0LGUsaSl7aWYoIXRbZV0pcmV0dXJuIDA7dmFyIG49cCh0LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrKGlzTmFOKGUpPzA6ZSl9LDApO2lmKDA9PT1uKXJldHVybiAwO2Zvcih2YXIgbz1NYXRoLnBvdygxMCxpKSxhPWYodCxmdW5jdGlvbih0KXtyZXR1cm4oaXNOYU4odCk/MDp0KS9uKm8qMTAwfSkscj0xMDAqbyxzPWYoYSxmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0KX0pLGw9cChzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0sMCksdT1mKGEsZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1zW2VdfSk7bDxyOyl7Zm9yKHZhciBoPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxjPW51bGwsZD0wLGc9dS5sZW5ndGg7ZDxnOysrZCl1W2RdPmgmJihoPXVbZF0sYz1kKTsrK3NbY10sdVtjXT0wLCsrbH1yZXR1cm4gc1tlXS9vfWZ1bmN0aW9uIE9vKHQpe3ZhciBlPTIqTWF0aC5QSTtyZXR1cm4odCVlK2UpJWV9ZnVuY3Rpb24gRW8odCl7cmV0dXJuIHQ+LVVTJiZ0PFVTfWZ1bmN0aW9uIFJvKHQpe2lmKHQgaW5zdGFuY2VvZiBEYXRlKXJldHVybiB0O2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGU9alMuZXhlYyh0KTtpZighZSlyZXR1cm4gbmV3IERhdGUoTmFOKTtpZihlWzhdKXt2YXIgaT0rZVs0XXx8MDtyZXR1cm4iWiIhPT1lWzhdLnRvVXBwZXJDYXNlKCkmJihpLT1lWzhdLnNsaWNlKDAsMykpLG5ldyBEYXRlKERhdGUuVVRDKCtlWzFdLCsoZVsyXXx8MSktMSwrZVszXXx8MSxpLCsoZVs1XXx8MCksK2VbNl18fDAsK2VbN118fDApKX1yZXR1cm4gbmV3IERhdGUoK2VbMV0sKyhlWzJdfHwxKS0xLCtlWzNdfHwxLCtlWzRdfHwwLCsoZVs1XXx8MCksK2VbNl18fDAsK2VbN118fDApfXJldHVybiBudWxsPT10P25ldyBEYXRlKE5hTik6bmV3IERhdGUoTWF0aC5yb3VuZCh0KSl9ZnVuY3Rpb24gem8odCl7cmV0dXJuIE1hdGgucG93KDEwLEJvKHQpKX1mdW5jdGlvbiBCbyh0KXtyZXR1cm4gTWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMTApfWZ1bmN0aW9uIFZvKHQsZSl7dmFyIGksbj1Cbyh0KSxvPU1hdGgucG93KDEwLG4pLGE9dC9vO3JldHVybiBpPWU/YTwxLjU/MTphPDIuNT8yOmE8ND8zOmE8Nz81OjEwOmE8MT8xOmE8Mj8yOmE8Mz8zOmE8NT81OjEwLHQ9aSpvLG4+PS0yMD8rdC50b0ZpeGVkKG48MD8tbjowKTp0fWZ1bmN0aW9uIEdvKHQpe2Z1bmN0aW9uIGUodCxpLG4pe3JldHVybiB0LmludGVydmFsW25dPGkuaW50ZXJ2YWxbbl18fHQuaW50ZXJ2YWxbbl09PT1pLmludGVydmFsW25dJiYodC5jbG9zZVtuXS1pLmNsb3NlW25dPT0obj8tMToxKXx8IW4mJmUodCxpLDEpKX10LnNvcnQoZnVuY3Rpb24odCxpKXtyZXR1cm4gZSh0LGksMCk/LTE6MX0pO2Zvcih2YXIgaT0tMS8wLG49MSxvPTA7bzx0Lmxlbmd0aDspe2Zvcih2YXIgYT10W29dLmludGVydmFsLHI9dFtvXS5jbG9zZSxzPTA7czwyO3MrKylhW3NdPD1pJiYoYVtzXT1pLHJbc109cz8xOjEtbiksaT1hW3NdLG49cltzXTthWzBdPT09YVsxXSYmclswXSpyWzFdIT0xP3Quc3BsaWNlKG8sMSk6bysrfXJldHVybiB0fWZ1bmN0aW9uIFdvKHQpe3JldHVybiB0LXBhcnNlRmxvYXQodCk+PTB9ZnVuY3Rpb24gRm8odCl7cmV0dXJuIGlzTmFOKHQpPyItIjoodD0odCsiIikuc3BsaXQoIi4iKSlbMF0ucmVwbGFjZSgvKFxkezEsM30pKD89KD86XGR7M30pKyg/IVxkKSkvZywiJDEsIikrKHQubGVuZ3RoPjE/Ii4iK3RbMV06IiIpfWZ1bmN0aW9uIEhvKHQsZSl7cmV0dXJuIHQ9KHR8fCIiKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0oLikvZyxmdW5jdGlvbih0LGUpe3JldHVybiBlLnRvVXBwZXJDYXNlKCl9KSxlJiZ0JiYodD10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkpLHR9ZnVuY3Rpb24gWm8odCl7cmV0dXJuIG51bGw9PXQ/IiI6KHQrIiIpLnJlcGxhY2UoS1MsZnVuY3Rpb24odCxlKXtyZXR1cm4gJFNbZV19KX1mdW5jdGlvbiBVbyh0LGUsaSl7eShlKXx8KGU9W2VdKTt2YXIgbj1lLmxlbmd0aDtpZighbilyZXR1cm4iIjtmb3IodmFyIG89ZVswXS4kdmFyc3x8W10sYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgcj1KU1thXTt0PXQucmVwbGFjZShRUyhyKSxRUyhyLDApKX1mb3IodmFyIHM9MDtzPG47cysrKWZvcih2YXIgbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1lW3NdW29bbF1dO3Q9dC5yZXBsYWNlKFFTKEpTW2xdLHMpLGk/Wm8odSk6dSl9cmV0dXJuIHR9ZnVuY3Rpb24gWG8odCxlLGkpe3JldHVybiBkKGUsZnVuY3Rpb24oZSxuKXt0PXQucmVwbGFjZSgieyIrbisifSIsaT9abyhlKTplKX0pLHR9ZnVuY3Rpb24gam8odCxlKXt2YXIgaT0odD1fKHQpP3tjb2xvcjp0LGV4dHJhQ3NzVGV4dDplfTp0fHx7fSkuY29sb3Isbj10LnR5cGUsZT10LmV4dHJhQ3NzVGV4dDtyZXR1cm4gaT8ic3ViSXRlbSI9PT1uPyc8c3BhbiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1yaWdodDo4cHg7bWFyZ2luLWxlZnQ6M3B4O2JvcmRlci1yYWRpdXM6NHB4O3dpZHRoOjRweDtoZWlnaHQ6NHB4O2JhY2tncm91bmQtY29sb3I6JytabyhpKSsiOyIrKGV8fCIiKSsnIj48L3NwYW4+JzonPHNwYW4gc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1yaWdodDo1cHg7Ym9yZGVyLXJhZGl1czoxMHB4O3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7YmFja2dyb3VuZC1jb2xvcjonK1pvKGkpKyI7IisoZXx8IiIpKyciPjwvc3Bhbj4nOiIifWZ1bmN0aW9uIFlvKHQsZSl7cmV0dXJuIHQrPSIiLCIwMDAwIi5zdWJzdHIoMCxlLXQubGVuZ3RoKSt0fWZ1bmN0aW9uIHFvKHQsZSxpKXsid2VlayIhPT10JiYibW9udGgiIT09dCYmInF1YXJ0ZXIiIT09dCYmImhhbGYteWVhciIhPT10JiYieWVhciIhPT10fHwodD0iTU0tZGRcbnl5eXkiKTt2YXIgbj1SbyhlKSxvPWk/IlVUQyI6IiIsYT1uWyJnZXQiK28rIkZ1bGxZZWFyIl0oKSxyPW5bImdldCIrbysiTW9udGgiXSgpKzEscz1uWyJnZXQiK28rIkRhdGUiXSgpLGw9blsiZ2V0IitvKyJIb3VycyJdKCksdT1uWyJnZXQiK28rIk1pbnV0ZXMiXSgpLGg9blsiZ2V0IitvKyJTZWNvbmRzIl0oKSxjPW5bImdldCIrbysiTWlsbGlzZWNvbmRzIl0oKTtyZXR1cm4gdD10LnJlcGxhY2UoIk1NIixZbyhyLDIpKS5yZXBsYWNlKCJNIixyKS5yZXBsYWNlKCJ5eXl5IixhKS5yZXBsYWNlKCJ5eSIsYSUxMDApLnJlcGxhY2UoImRkIixZbyhzLDIpKS5yZXBsYWNlKCJkIixzKS5yZXBsYWNlKCJoaCIsWW8obCwyKSkucmVwbGFjZSgiaCIsbCkucmVwbGFjZSgibW0iLFlvKHUsMikpLnJlcGxhY2UoIm0iLHUpLnJlcGxhY2UoInNzIixZbyhoLDIpKS5yZXBsYWNlKCJzIixoKS5yZXBsYWNlKCJTU1MiLFlvKGMsMykpfWZ1bmN0aW9uIEtvKHQpe3JldHVybiB0P3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHIoMSk6dH1mdW5jdGlvbiAkbyh0LGUsaSxuLG8pe3ZhciBhPTAscj0wO251bGw9PW4mJihuPTEvMCksbnVsbD09byYmKG89MS8wKTt2YXIgcz0wO2UuZWFjaENoaWxkKGZ1bmN0aW9uKGwsdSl7dmFyIGgsYyxkPWwucG9zaXRpb24sZj1sLmdldEJvdW5kaW5nUmVjdCgpLHA9ZS5jaGlsZEF0KHUrMSksZz1wJiZwLmdldEJvdW5kaW5nUmVjdCgpO2lmKCJob3Jpem9udGFsIj09PXQpe3ZhciBtPWYud2lkdGgrKGc/LWcueCtmLng6MCk7KGg9YSttKT5ufHxsLm5ld2xpbmU/KGE9MCxoPW0scis9cytpLHM9Zi5oZWlnaHQpOnM9TWF0aC5tYXgocyxmLmhlaWdodCl9ZWxzZXt2YXIgdj1mLmhlaWdodCsoZz8tZy55K2YueTowKTsoYz1yK3YpPm98fGwubmV3bGluZT8oYSs9cytpLHI9MCxjPXYscz1mLndpZHRoKTpzPU1hdGgubWF4KHMsZi53aWR0aCl9bC5uZXdsaW5lfHwoZFswXT1hLGRbMV09ciwiaG9yaXpvbnRhbCI9PT10P2E9aCtpOnI9YytpKX0pfWZ1bmN0aW9uIEpvKHQsZSxpKXt2YXIgbj1lLndpZHRoLG89ZS5oZWlnaHQsYT1Ebyh0Lngsbikscj1Ebyh0Lnksbykscz1Ebyh0LngyLG4pLGw9RG8odC55MixvKTtyZXR1cm4oaXNOYU4oYSl8fGlzTmFOKHBhcnNlRmxvYXQodC54KSkpJiYoYT0wKSwoaXNOYU4ocyl8fGlzTmFOKHBhcnNlRmxvYXQodC54MikpKSYmKHM9biksKGlzTmFOKHIpfHxpc05hTihwYXJzZUZsb2F0KHQueSkpKSYmKHI9MCksKGlzTmFOKGwpfHxpc05hTihwYXJzZUZsb2F0KHQueTIpKSkmJihsPW8pLGk9cVMoaXx8MCkse3dpZHRoOk1hdGgubWF4KHMtYS1pWzFdLWlbM10sMCksaGVpZ2h0Ok1hdGgubWF4KGwtci1pWzBdLWlbMl0sMCl9fWZ1bmN0aW9uIFFvKHQsZSxpKXtpPXFTKGl8fDApO3ZhciBuPWUud2lkdGgsbz1lLmhlaWdodCxhPURvKHQubGVmdCxuKSxyPURvKHQudG9wLG8pLHM9RG8odC5yaWdodCxuKSxsPURvKHQuYm90dG9tLG8pLHU9RG8odC53aWR0aCxuKSxoPURvKHQuaGVpZ2h0LG8pLGM9aVsyXStpWzBdLGQ9aVsxXStpWzNdLGY9dC5hc3BlY3Q7c3dpdGNoKGlzTmFOKHUpJiYodT1uLXMtZC1hKSxpc05hTihoKSYmKGg9by1sLWMtciksbnVsbCE9ZiYmKGlzTmFOKHUpJiZpc05hTihoKSYmKGY+bi9vP3U9LjgqbjpoPS44Km8pLGlzTmFOKHUpJiYodT1mKmgpLGlzTmFOKGgpJiYoaD11L2YpKSxpc05hTihhKSYmKGE9bi1zLXUtZCksaXNOYU4ocikmJihyPW8tbC1oLWMpLHQubGVmdHx8dC5yaWdodCl7Y2FzZSJjZW50ZXIiOmE9bi8yLXUvMi1pWzNdO2JyZWFrO2Nhc2UicmlnaHQiOmE9bi11LWR9c3dpdGNoKHQudG9wfHx0LmJvdHRvbSl7Y2FzZSJtaWRkbGUiOmNhc2UiY2VudGVyIjpyPW8vMi1oLzItaVswXTticmVhaztjYXNlImJvdHRvbSI6cj1vLWgtY31hPWF8fDAscj1yfHwwLGlzTmFOKHUpJiYodT1uLWQtYS0oc3x8MCkpLGlzTmFOKGgpJiYoaD1vLWMtci0obHx8MCkpO3ZhciBwPW5ldyAkdChhK2lbM10scitpWzBdLHUsaCk7cmV0dXJuIHAubWFyZ2luPWkscH1mdW5jdGlvbiB0YSh0LGUsaSxuLG8pe3ZhciBhPSFvfHwhby5odnx8by5odlswXSxzPSFvfHwhby5odnx8by5odlsxXSxsPW8mJm8uYm91bmRpbmdNb2RlfHwiYWxsIjtpZihhfHxzKXt2YXIgdTtpZigicmF3Ij09PWwpdT0iZ3JvdXAiPT09dC50eXBlP25ldyAkdCgwLDAsK2Uud2lkdGh8fDAsK2UuaGVpZ2h0fHwwKTp0LmdldEJvdW5kaW5nUmVjdCgpO2Vsc2UgaWYodT10LmdldEJvdW5kaW5nUmVjdCgpLHQubmVlZExvY2FsVHJhbnNmb3JtKCkpe3ZhciBoPXQuZ2V0TG9jYWxUcmFuc2Zvcm0oKTsodT11LmNsb25lKCkpLmFwcGx5VHJhbnNmb3JtKGgpfWU9UW8ocih7d2lkdGg6dS53aWR0aCxoZWlnaHQ6dS5oZWlnaHR9LGUpLGksbik7dmFyIGM9dC5wb3NpdGlvbixkPWE/ZS54LXUueDowLGY9cz9lLnktdS55OjA7dC5hdHRyKCJwb3NpdGlvbiIsInJhdyI9PT1sP1tkLGZdOltjWzBdK2QsY1sxXStmXSl9fWZ1bmN0aW9uIGVhKHQsZSl7cmV0dXJuIG51bGwhPXRbYU1bZV1bMF1dfHxudWxsIT10W2FNW2VdWzFdXSYmbnVsbCE9dFthTVtlXVsyXV19ZnVuY3Rpb24gaWEodCxlLGkpe2Z1bmN0aW9uIG4oaSxuKXt2YXIgcj17fSxsPTAsdT17fSxoPTA7aWYobk0oaSxmdW5jdGlvbihlKXt1W2VdPXRbZV19KSxuTShpLGZ1bmN0aW9uKHQpe28oZSx0KSYmKHJbdF09dVt0XT1lW3RdKSxhKHIsdCkmJmwrKyxhKHUsdCkmJmgrK30pLHNbbl0pcmV0dXJuIGEoZSxpWzFdKT91W2lbMl1dPW51bGw6YShlLGlbMl0pJiYodVtpWzFdXT1udWxsKSx1O2lmKDIhPT1oJiZsKXtpZihsPj0yKXJldHVybiByO2Zvcih2YXIgYz0wO2M8aS5sZW5ndGg7YysrKXt2YXIgZD1pW2NdO2lmKCFvKHIsZCkmJm8odCxkKSl7cltkXT10W2RdO2JyZWFrfX1yZXR1cm4gcn1yZXR1cm4gdX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gYSh0LGUpe3JldHVybiBudWxsIT10W2VdJiYiYXV0byIhPT10W2VdfWZ1bmN0aW9uIHIodCxlLGkpe25NKHQsZnVuY3Rpb24odCl7ZVt0XT1pW3RdfSl9IXcoaSkmJihpPXt9KTt2YXIgcz1pLmlnbm9yZVNpemU7IXkocykmJihzPVtzLHNdKTt2YXIgbD1uKGFNWzBdLDApLHU9bihhTVsxXSwxKTtyKGFNWzBdLHQsbCkscihhTVsxXSx0LHUpfWZ1bmN0aW9uIG5hKHQpe3JldHVybiBvYSh7fSx0KX1mdW5jdGlvbiBvYSh0LGUpe3JldHVybiBlJiZ0JiZuTShvTSxmdW5jdGlvbihpKXtlLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pLHR9ZnVuY3Rpb24gYWEodCxlKXtmb3IodmFyIGk9dC5sZW5ndGgsbj0wO248aTtuKyspaWYodFtuXS5sZW5ndGg+ZSlyZXR1cm4gdFtuXTtyZXR1cm4gdFtpLTFdfWZ1bmN0aW9uIHJhKHQpe3ZhciBlPXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIiksaT17Y29vcmRTeXNOYW1lOmUsY29vcmRTeXNEaW1zOltdLGF4aXNNYXA6UigpLGNhdGVnb3J5QXhpc01hcDpSKCl9LG49cE1bZV07aWYobilyZXR1cm4gbih0LGksaS5heGlzTWFwLGkuY2F0ZWdvcnlBeGlzTWFwKSxpfWZ1bmN0aW9uIHNhKHQpe3JldHVybiJjYXRlZ29yeSI9PT10LmdldCgidHlwZSIpfWZ1bmN0aW9uIGxhKHQpe3RoaXMuZnJvbURhdGFzZXQ9dC5mcm9tRGF0YXNldCx0aGlzLmRhdGE9dC5kYXRhfHwodC5zb3VyY2VGb3JtYXQ9PT15TT97fTpbXSksdGhpcy5zb3VyY2VGb3JtYXQ9dC5zb3VyY2VGb3JtYXR8fHhNLHRoaXMuc2VyaWVzTGF5b3V0Qnk9dC5zZXJpZXNMYXlvdXRCeXx8d00sdGhpcy5kaW1lbnNpb25zRGVmaW5lPXQuZGltZW5zaW9uc0RlZmluZSx0aGlzLmVuY29kZURlZmluZT10LmVuY29kZURlZmluZSYmUih0LmVuY29kZURlZmluZSksdGhpcy5zdGFydEluZGV4PXQuc3RhcnRJbmRleHx8MCx0aGlzLmRpbWVuc2lvbnNEZXRlY3RDb3VudD10LmRpbWVuc2lvbnNEZXRlY3RDb3VudH1mdW5jdGlvbiB1YSh0KXt2YXIgZT10Lm9wdGlvbi5zb3VyY2UsaT14TTtpZihTKGUpKWk9X007ZWxzZSBpZih5KGUpKWZvcih2YXIgbj0wLG89ZS5sZW5ndGg7bjxvO24rKyl7dmFyIGE9ZVtuXTtpZihudWxsIT1hKXtpZih5KGEpKXtpPW1NO2JyZWFrfWlmKHcoYSkpe2k9dk07YnJlYWt9fX1lbHNlIGlmKHcoZSkpe2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikmJmMoZVtyXSkpe2k9eU07YnJlYWt9fWVsc2UgaWYobnVsbCE9ZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSIpO1NNKHQpLnNvdXJjZUZvcm1hdD1pfWZ1bmN0aW9uIGhhKHQpe3JldHVybiBTTSh0KS5zb3VyY2V9ZnVuY3Rpb24gY2EodCl7U00odCkuZGF0YXNldE1hcD1SKCl9ZnVuY3Rpb24gZGEodCl7dmFyIGU9dC5vcHRpb24saT1lLmRhdGEsbj1TKGkpP19NOmdNLG89ITEsYT1lLnNlcmllc0xheW91dEJ5LHI9ZS5zb3VyY2VIZWFkZXIscz1lLmRpbWVuc2lvbnMsbD15YSh0KTtpZihsKXt2YXIgdT1sLm9wdGlvbjtpPXUuc291cmNlLG49U00obCkuc291cmNlRm9ybWF0LG89ITAsYT1hfHx1LnNlcmllc0xheW91dEJ5LG51bGw9PXImJihyPXUuc291cmNlSGVhZGVyKSxzPXN8fHUuZGltZW5zaW9uc312YXIgaD1mYShpLG4sYSxyLHMpLGM9ZS5lbmNvZGU7IWMmJmwmJihjPXZhKHQsbCxpLG4sYSxoKSksU00odCkuc291cmNlPW5ldyBsYSh7ZGF0YTppLGZyb21EYXRhc2V0Om8sc2VyaWVzTGF5b3V0Qnk6YSxzb3VyY2VGb3JtYXQ6bixkaW1lbnNpb25zRGVmaW5lOmguZGltZW5zaW9uc0RlZmluZSxzdGFydEluZGV4Omguc3RhcnRJbmRleCxkaW1lbnNpb25zRGV0ZWN0Q291bnQ6aC5kaW1lbnNpb25zRGV0ZWN0Q291bnQsZW5jb2RlRGVmaW5lOmN9KX1mdW5jdGlvbiBmYSh0LGUsaSxuLG8pe2lmKCF0KXJldHVybntkaW1lbnNpb25zRGVmaW5lOnBhKG8pfTt2YXIgYSxyLHM7aWYoZT09PW1NKSJhdXRvIj09PW58fG51bGw9PW4/Z2EoZnVuY3Rpb24odCl7bnVsbCE9dCYmIi0iIT09dCYmKF8odCk/bnVsbD09ciYmKHI9MSk6cj0wKX0saSx0LDEwKTpyPW4/MTowLG98fDEhPT1yfHwobz1bXSxnYShmdW5jdGlvbih0LGUpe29bZV09bnVsbCE9dD90OiIifSxpLHQpKSxhPW8/by5sZW5ndGg6aT09PWJNP3QubGVuZ3RoOnRbMF0/dFswXS5sZW5ndGg6bnVsbDtlbHNlIGlmKGU9PT12TSlvfHwobz1tYSh0KSxzPSEwKTtlbHNlIGlmKGU9PT15TSlvfHwobz1bXSxzPSEwLGQodCxmdW5jdGlvbih0LGUpe28ucHVzaChlKX0pKTtlbHNlIGlmKGU9PT1nTSl7dmFyIGw9SWkodFswXSk7YT15KGwpJiZsLmxlbmd0aHx8MX12YXIgdTtyZXR1cm4gcyYmZChvLGZ1bmN0aW9uKHQsZSl7Im5hbWUiPT09KHcodCk/dC5uYW1lOnQpJiYodT1lKX0pLHtzdGFydEluZGV4OnIsZGltZW5zaW9uc0RlZmluZTpwYShvKSxkaW1lbnNpb25zRGV0ZWN0Q291bnQ6YSxwb3RlbnRpYWxOYW1lRGltSW5kZXg6dX19ZnVuY3Rpb24gcGEodCl7aWYodCl7dmFyIGU9UigpO3JldHVybiBmKHQsZnVuY3Rpb24odCxpKXtpZihudWxsPT0odD1hKHt9LHcodCk/dDp7bmFtZTp0fSkpLm5hbWUpcmV0dXJuIHQ7dC5uYW1lKz0iIixudWxsPT10LmRpc3BsYXlOYW1lJiYodC5kaXNwbGF5TmFtZT10Lm5hbWUpO3ZhciBuPWUuZ2V0KHQubmFtZSk7cmV0dXJuIG4/dC5uYW1lKz0iLSIrbi5jb3VudCsrOmUuc2V0KHQubmFtZSx7Y291bnQ6MX0pLHR9KX19ZnVuY3Rpb24gZ2EodCxlLGksbil7aWYobnVsbD09biYmKG49MS8wKSxlPT09Yk0pZm9yKGE9MDthPGkubGVuZ3RoJiZhPG47YSsrKXQoaVthXT9pW2FdWzBdOm51bGwsYSk7ZWxzZSBmb3IodmFyIG89aVswXXx8W10sYT0wO2E8by5sZW5ndGgmJmE8bjthKyspdChvW2FdLGEpfWZ1bmN0aW9uIG1hKHQpe2Zvcih2YXIgZSxpPTA7aTx0Lmxlbmd0aCYmIShlPXRbaSsrXSk7KTtpZihlKXt2YXIgbj1bXTtyZXR1cm4gZChlLGZ1bmN0aW9uKHQsZSl7bi5wdXNoKGUpfSksbn19ZnVuY3Rpb24gdmEodCxlLGksbixvLGEpe3ZhciByPXJhKHQpLHM9e30sbD1bXSx1PVtdLGg9dC5zdWJUeXBlLGM9UihbInBpZSIsIm1hcCIsImZ1bm5lbCJdKSxmPVIoWyJsaW5lIiwiYmFyIiwicGljdG9yaWFsQmFyIiwic2NhdHRlciIsImVmZmVjdFNjYXR0ZXIiLCJjYW5kbGVzdGljayIsImJveHBsb3QiXSk7aWYociYmbnVsbCE9Zi5nZXQoaCkpe3ZhciBwPXQuZWNNb2RlbCxnPVNNKHApLmRhdGFzZXRNYXAsbT1lLnVpZCsiXyIrbyx2PWcuZ2V0KG0pfHxnLnNldChtLHtjYXRlZ29yeVdheURpbToxLHZhbHVlV2F5RGltOjB9KTtkKHIuY29vcmRTeXNEaW1zLGZ1bmN0aW9uKHQpe2lmKG51bGw9PXIuZmlyc3RDYXRlZ29yeURpbUluZGV4KXtlPXYudmFsdWVXYXlEaW0rKztzW3RdPWUsdS5wdXNoKGUpfWVsc2UgaWYoci5jYXRlZ29yeUF4aXNNYXAuZ2V0KHQpKXNbdF09MCxsLnB1c2goMCk7ZWxzZXt2YXIgZT12LmNhdGVnb3J5V2F5RGltKys7c1t0XT1lLHUucHVzaChlKX19KX1lbHNlIGlmKG51bGwhPWMuZ2V0KGgpKXtmb3IodmFyIHkseD0wO3g8NSYmbnVsbD09eTt4KyspX2EoaSxuLG8sYS5kaW1lbnNpb25zRGVmaW5lLGEuc3RhcnRJbmRleCx4KXx8KHk9eCk7aWYobnVsbCE9eSl7cy52YWx1ZT15O3ZhciBfPWEucG90ZW50aWFsTmFtZURpbUluZGV4fHxNYXRoLm1heCh5LTEsMCk7dS5wdXNoKF8pLGwucHVzaChfKX19cmV0dXJuIGwubGVuZ3RoJiYocy5pdGVtTmFtZT1sKSx1Lmxlbmd0aCYmKHMuc2VyaWVzTmFtZT11KSxzfWZ1bmN0aW9uIHlhKHQpe3ZhciBlPXQub3B0aW9uO2lmKCFlLmRhdGEpcmV0dXJuIHQuZWNNb2RlbC5nZXRDb21wb25lbnQoImRhdGFzZXQiLGUuZGF0YXNldEluZGV4fHwwKX1mdW5jdGlvbiB4YSh0LGUpe3JldHVybiBfYSh0LmRhdGEsdC5zb3VyY2VGb3JtYXQsdC5zZXJpZXNMYXlvdXRCeSx0LmRpbWVuc2lvbnNEZWZpbmUsdC5zdGFydEluZGV4LGUpfWZ1bmN0aW9uIF9hKHQsZSxpLG4sbyxhKXtmdW5jdGlvbiByKHQpe3JldHVybihudWxsPT10fHwhaXNGaW5pdGUodCl8fCIiPT09dCkmJighKCFfKHQpfHwiLSI9PT10KXx8dm9pZCAwKX12YXIgcztpZihTKHQpKXJldHVybiExO3ZhciBsO2lmKG4mJihsPXcobD1uW2FdKT9sLm5hbWU6bCksZT09PW1NKWlmKGk9PT1iTSl7Zm9yKHZhciB1PXRbYV0saD0wO2g8KHV8fFtdKS5sZW5ndGgmJmg8NTtoKyspaWYobnVsbCE9KHM9cih1W28raF0pKSlyZXR1cm4gc31lbHNlIGZvcihoPTA7aDx0Lmxlbmd0aCYmaDw1O2grKyl7dmFyIGM9dFtvK2hdO2lmKGMmJm51bGwhPShzPXIoY1thXSkpKXJldHVybiBzfWVsc2UgaWYoZT09PXZNKXtpZighbClyZXR1cm47Zm9yKGg9MDtoPHQubGVuZ3RoJiZoPDU7aCsrKWlmKChkPXRbaF0pJiZudWxsIT0ocz1yKGRbbF0pKSlyZXR1cm4gc31lbHNlIGlmKGU9PT15TSl7aWYoIWwpcmV0dXJuO2lmKCEodT10W2xdKXx8Uyh1KSlyZXR1cm4hMTtmb3IoaD0wO2g8dS5sZW5ndGgmJmg8NTtoKyspaWYobnVsbCE9KHM9cih1W2hdKSkpcmV0dXJuIHN9ZWxzZSBpZihlPT09Z00pZm9yKGg9MDtoPHQubGVuZ3RoJiZoPDU7aCsrKXt2YXIgZD10W2hdLGY9SWkoZCk7aWYoIXkoZikpcmV0dXJuITE7aWYobnVsbCE9KHM9cihmW2FdKSkpcmV0dXJuIHN9cmV0dXJuITF9ZnVuY3Rpb24gd2EodCxlKXtpZihlKXt2YXIgaT1lLnNlaXJlc0luZGV4LG49ZS5zZXJpZXNJZCxvPWUuc2VyaWVzTmFtZTtyZXR1cm4gbnVsbCE9aSYmdC5jb21wb25lbnRJbmRleCE9PWl8fG51bGwhPW4mJnQuaWQhPT1ufHxudWxsIT1vJiZ0Lm5hbWUhPT1vfX1mdW5jdGlvbiBiYSh0LGUpe3ZhciBvPXQuY29sb3ImJiF0LmNvbG9yTGF5ZXI7ZChlLGZ1bmN0aW9uKGUsYSl7ImNvbG9yTGF5ZXIiPT09YSYmb3x8dU0uaGFzQ2xhc3MoYSl8fCgib2JqZWN0Ij09dHlwZW9mIGU/dFthXT10W2FdP24odFthXSxlLCExKTppKGUpOm51bGw9PXRbYV0mJih0W2FdPWUpKX0pfWZ1bmN0aW9uIFNhKHQpe3Q9dCx0aGlzLm9wdGlvbj17fSx0aGlzLm9wdGlvbltNTV09MSx0aGlzLl9jb21wb25lbnRzTWFwPVIoe3NlcmllczpbXX0pLHRoaXMuX3Nlcmllc0luZGljZXMsdGhpcy5fc2VyaWVzSW5kaWNlc01hcCxiYSh0LHRoaXMuX3RoZW1lLm9wdGlvbiksbih0LGNNLCExKSx0aGlzLm1lcmdlT3B0aW9uKHQpfWZ1bmN0aW9uIE1hKHQsZSl7eShlKXx8KGU9ZT9bZV06W10pO3ZhciBpPXt9O3JldHVybiBkKGUsZnVuY3Rpb24oZSl7aVtlXT0odC5nZXQoZSl8fFtdKS5zbGljZSgpfSksaX1mdW5jdGlvbiBJYSh0LGUsaSl7cmV0dXJuIGUudHlwZT9lLnR5cGU6aT9pLnN1YlR5cGU6dU0uZGV0ZXJtaW5lU3ViVHlwZSh0LGUpfWZ1bmN0aW9uIFRhKHQsZSl7dC5fc2VyaWVzSW5kaWNlc01hcD1SKHQuX3Nlcmllc0luZGljZXM9ZihlLGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbXBvbmVudEluZGV4fSl8fFtdKX1mdW5jdGlvbiBEYSh0LGUpe3JldHVybiBlLmhhc093blByb3BlcnR5KCJzdWJUeXBlIik/Zyh0LGZ1bmN0aW9uKHQpe3JldHVybiB0LnN1YlR5cGU9PT1lLnN1YlR5cGV9KTp0fWZ1bmN0aW9uIEFhKHQpe2QoVE0sZnVuY3Rpb24oZSl7dGhpc1tlXT1tKHRbZV0sdCl9LHRoaXMpfWZ1bmN0aW9uIENhKCl7dGhpcy5fY29vcmRpbmF0ZVN5c3RlbXM9W119ZnVuY3Rpb24gTGEodCl7dGhpcy5fYXBpPXQsdGhpcy5fdGltZWxpbmVPcHRpb25zPVtdLHRoaXMuX21lZGlhTGlzdD1bXSx0aGlzLl9tZWRpYURlZmF1bHQsdGhpcy5fY3VycmVudE1lZGlhSW5kaWNlcz1bXSx0aGlzLl9vcHRpb25CYWNrdXAsdGhpcy5fbmV3QmFzZU9wdGlvbn1mdW5jdGlvbiBrYSh0LGUsaSl7dmFyIG4sbyxhPVtdLHI9W10scz10LnRpbWVsaW5lO2lmKHQuYmFzZU9wdGlvbiYmKG89dC5iYXNlT3B0aW9uKSwoc3x8dC5vcHRpb25zKSYmKG89b3x8e30sYT0odC5vcHRpb25zfHxbXSkuc2xpY2UoKSksdC5tZWRpYSl7bz1vfHx7fTt2YXIgbD10Lm1lZGlhO0FNKGwsZnVuY3Rpb24odCl7dCYmdC5vcHRpb24mJih0LnF1ZXJ5P3IucHVzaCh0KTpufHwobj10KSl9KX1yZXR1cm4gb3x8KG89dCksby50aW1lbGluZXx8KG8udGltZWxpbmU9cyksQU0oW29dLmNvbmNhdChhKS5jb25jYXQoZihyLGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9wdGlvbn0pKSxmdW5jdGlvbih0KXtBTShlLGZ1bmN0aW9uKGUpe2UodCxpKX0pfSkse2Jhc2VPcHRpb246byx0aW1lbGluZU9wdGlvbnM6YSxtZWRpYURlZmF1bHQ6bixtZWRpYUxpc3Q6cn19ZnVuY3Rpb24gUGEodCxlLGkpe3ZhciBuPXt3aWR0aDplLGhlaWdodDppLGFzcGVjdHJhdGlvOmUvaX0sbz0hMDtyZXR1cm4gZCh0LGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5tYXRjaChQTSk7aWYoaSYmaVsxXSYmaVsyXSl7dmFyIGE9aVsxXSxyPWlbMl0udG9Mb3dlckNhc2UoKTtOYShuW3JdLHQsYSl8fChvPSExKX19KSxvfWZ1bmN0aW9uIE5hKHQsZSxpKXtyZXR1cm4ibWluIj09PWk/dD49ZToibWF4Ij09PWk/dDw9ZTp0PT09ZX1mdW5jdGlvbiBPYSh0LGUpe3JldHVybiB0LmpvaW4oIiwiKT09PWUuam9pbigiLCIpfWZ1bmN0aW9uIEVhKHQsZSl7QU0oZT1lfHx7fSxmdW5jdGlvbihlLGkpe2lmKG51bGwhPWUpe3ZhciBuPXRbaV07aWYodU0uaGFzQ2xhc3MoaSkpe2U9U2koZSk7dmFyIG89RGkobj1TaShuKSxlKTt0W2ldPUxNKG8sZnVuY3Rpb24odCl7cmV0dXJuIHQub3B0aW9uJiZ0LmV4aXN0P2tNKHQuZXhpc3QsdC5vcHRpb24sITApOnQuZXhpc3R8fHQub3B0aW9ufSl9ZWxzZSB0W2ldPWtNKG4sZSwhMCl9fSl9ZnVuY3Rpb24gUmEodCl7dmFyIGU9dCYmdC5pdGVtU3R5bGU7aWYoZSlmb3IodmFyIGk9MCxvPUVNLmxlbmd0aDtpPG87aSsrKXt2YXIgYT1FTVtpXSxyPWUubm9ybWFsLHM9ZS5lbXBoYXNpcztyJiZyW2FdJiYodFthXT10W2FdfHx7fSx0W2FdLm5vcm1hbD9uKHRbYV0ubm9ybWFsLHJbYV0pOnRbYV0ubm9ybWFsPXJbYV0sclthXT1udWxsKSxzJiZzW2FdJiYodFthXT10W2FdfHx7fSx0W2FdLmVtcGhhc2lzP24odFthXS5lbXBoYXNpcyxzW2FdKTp0W2FdLmVtcGhhc2lzPXNbYV0sc1thXT1udWxsKX19ZnVuY3Rpb24gemEodCxlLGkpe2lmKHQmJnRbZV0mJih0W2VdLm5vcm1hbHx8dFtlXS5lbXBoYXNpcykpe3ZhciBuPXRbZV0ubm9ybWFsLG89dFtlXS5lbXBoYXNpcztuJiYoaT8odFtlXS5ub3JtYWw9dFtlXS5lbXBoYXNpcz1udWxsLHIodFtlXSxuKSk6dFtlXT1uKSxvJiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzW2VdPW8pfX1mdW5jdGlvbiBCYSh0KXt6YSh0LCJpdGVtU3R5bGUiKSx6YSh0LCJsaW5lU3R5bGUiKSx6YSh0LCJhcmVhU3R5bGUiKSx6YSh0LCJsYWJlbCIpLHphKHQsImxhYmVsTGluZSIpLHphKHQsInVwcGVyTGFiZWwiKSx6YSh0LCJlZGdlTGFiZWwiKX1mdW5jdGlvbiBWYSh0LGUpe3ZhciBpPU9NKHQpJiZ0W2VdLG49T00oaSkmJmkudGV4dFN0eWxlO2lmKG4pZm9yKHZhciBvPTAsYT1lYi5sZW5ndGg7bzxhO28rKyl7dmFyIGU9ZWJbb107bi5oYXNPd25Qcm9wZXJ0eShlKSYmKGlbZV09bltlXSl9fWZ1bmN0aW9uIEdhKHQpe3QmJihCYSh0KSxWYSh0LCJsYWJlbCIpLHQuZW1waGFzaXMmJlZhKHQuZW1waGFzaXMsImxhYmVsIikpfWZ1bmN0aW9uIFdhKHQpe2lmKE9NKHQpKXtSYSh0KSxCYSh0KSxWYSh0LCJsYWJlbCIpLFZhKHQsInVwcGVyTGFiZWwiKSxWYSh0LCJlZGdlTGFiZWwiKSx0LmVtcGhhc2lzJiYoVmEodC5lbXBoYXNpcywibGFiZWwiKSxWYSh0LmVtcGhhc2lzLCJ1cHBlckxhYmVsIiksVmEodC5lbXBoYXNpcywiZWRnZUxhYmVsIikpO3ZhciBlPXQubWFya1BvaW50O2UmJihSYShlKSxHYShlKSk7dmFyIGk9dC5tYXJrTGluZTtpJiYoUmEoaSksR2EoaSkpO3ZhciBuPXQubWFya0FyZWE7biYmR2Eobik7dmFyIG89dC5kYXRhO2lmKCJncmFwaCI9PT10LnR5cGUpe289b3x8dC5ub2Rlczt2YXIgYT10LmxpbmtzfHx0LmVkZ2VzO2lmKGEmJiFTKGEpKWZvcihzPTA7czxhLmxlbmd0aDtzKyspR2EoYVtzXSk7ZCh0LmNhdGVnb3JpZXMsZnVuY3Rpb24odCl7QmEodCl9KX1pZihvJiYhUyhvKSlmb3Iocz0wO3M8by5sZW5ndGg7cysrKUdhKG9bc10pO2lmKChlPXQubWFya1BvaW50KSYmZS5kYXRhKWZvcih2YXIgcj1lLmRhdGEscz0wO3M8ci5sZW5ndGg7cysrKUdhKHJbc10pO2lmKChpPXQubWFya0xpbmUpJiZpLmRhdGEpZm9yKHZhciBsPWkuZGF0YSxzPTA7czxsLmxlbmd0aDtzKyspeShsW3NdKT8oR2EobFtzXVswXSksR2EobFtzXVsxXSkpOkdhKGxbc10pOyJnYXVnZSI9PT10LnR5cGU/KFZhKHQsImF4aXNMYWJlbCIpLFZhKHQsInRpdGxlIiksVmEodCwiZGV0YWlsIikpOiJ0cmVlbWFwIj09PXQudHlwZT8oemEodC5icmVhZGNydW1iLCJpdGVtU3R5bGUiKSxkKHQubGV2ZWxzLGZ1bmN0aW9uKHQpe0JhKHQpfSkpOiJ0cmVlIj09PXQudHlwZSYmQmEodC5sZWF2ZXMpfX1mdW5jdGlvbiBGYSh0KXtyZXR1cm4geSh0KT90OnQ/W3RdOltdfWZ1bmN0aW9uIEhhKHQpe3JldHVybih5KHQpP3RbMF06dCl8fHt9fWZ1bmN0aW9uIFphKHQsZSl7ZT1lLnNwbGl0KCIsIik7Zm9yKHZhciBpPXQsbj0wO248ZS5sZW5ndGgmJm51bGwhPShpPWkmJmlbZVtuXV0pO24rKyk7cmV0dXJuIGl9ZnVuY3Rpb24gVWEodCxlLGksbil7ZT1lLnNwbGl0KCIsIik7Zm9yKHZhciBvLGE9dCxyPTA7cjxlLmxlbmd0aC0xO3IrKyludWxsPT1hW289ZVtyXV0mJihhW29dPXt9KSxhPWFbb107KG58fG51bGw9PWFbZVtyXV0pJiYoYVtlW3JdXT1pKX1mdW5jdGlvbiBYYSh0KXtkKHpNLGZ1bmN0aW9uKGUpe2VbMF1pbiB0JiYhKGVbMV1pbiB0KSYmKHRbZVsxXV09dFtlWzBdXSl9KX1mdW5jdGlvbiBqYSh0KXtkKHQsZnVuY3Rpb24oZSxpKXt2YXIgbj1bXSxvPVtOYU4sTmFOXSxhPVtlLnN0YWNrUmVzdWx0RGltZW5zaW9uLGUuc3RhY2tlZE92ZXJEaW1lbnNpb25dLHI9ZS5kYXRhLHM9ZS5pc1N0YWNrZWRCeUluZGV4LGw9ci5tYXAoYSxmdW5jdGlvbihhLGwsdSl7dmFyIGg9ci5nZXQoZS5zdGFja2VkRGltZW5zaW9uLHUpO2lmKGlzTmFOKGgpKXJldHVybiBvO3ZhciBjLGQ7cz9kPXIuZ2V0UmF3SW5kZXgodSk6Yz1yLmdldChlLnN0YWNrZWRCeURpbWVuc2lvbix1KTtmb3IodmFyIGY9TmFOLHA9aS0xO3A+PTA7cC0tKXt2YXIgZz10W3BdO2lmKHN8fChkPWcuZGF0YS5yYXdJbmRleE9mKGcuc3RhY2tlZEJ5RGltZW5zaW9uLGMpKSxkPj0wKXt2YXIgbT1nLmRhdGEuZ2V0QnlSYXdJbmRleChnLnN0YWNrUmVzdWx0RGltZW5zaW9uLGQpO2lmKGg+PTAmJm0+MHx8aDw9MCYmbTwwKXtoKz1tLGY9bTticmVha319fXJldHVybiBuWzBdPWgsblsxXT1mLG59KTtyLmhvc3RNb2RlbC5zZXREYXRhKGwpLGUuZGF0YT1sfSl9ZnVuY3Rpb24gWWEodCxlKXtsYS5pc0luc3RhbmNlKHQpfHwodD1sYS5zZXJpZXNEYXRhVG9Tb3VyY2UodCkpLHRoaXMuX3NvdXJjZT10O3ZhciBpPXRoaXMuX2RhdGE9dC5kYXRhLG49dC5zb3VyY2VGb3JtYXQ7bj09PV9NJiYodGhpcy5fb2Zmc2V0PTAsdGhpcy5fZGltU2l6ZT1lLHRoaXMuX2RhdGE9aSksYSh0aGlzLFdNW249PT1tTT9uKyJfIit0LnNlcmllc0xheW91dEJ5Om5dKX1mdW5jdGlvbiBxYSgpe3JldHVybiB0aGlzLl9kYXRhLmxlbmd0aH1mdW5jdGlvbiBLYSh0KXtyZXR1cm4gdGhpcy5fZGF0YVt0XX1mdW5jdGlvbiAkYSh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLl9kYXRhLnB1c2godFtlXSl9ZnVuY3Rpb24gSmEodCxlLGksbil7cmV0dXJuIG51bGwhPWk/dFtpXTp0fWZ1bmN0aW9uIFFhKHQsZSxpLG4pe3JldHVybiB0cih0W25dLHRoaXMuX2RpbWVuc2lvbkluZm9zW2VdKX1mdW5jdGlvbiB0cih0LGUpe3ZhciBpPWUmJmUudHlwZTtpZigib3JkaW5hbCI9PT1pKXt2YXIgbj1lJiZlLm9yZGluYWxNZXRhO3JldHVybiBuP24ucGFyc2VBbmRDb2xsZWN0KHQpOnR9cmV0dXJuInRpbWUiPT09aSYmIm51bWJlciIhPXR5cGVvZiB0JiZudWxsIT10JiYiLSIhPT10JiYodD0rUm8odCkpLG51bGw9PXR8fCIiPT09dD9OYU46K3R9ZnVuY3Rpb24gZXIodCxlLGkpe2lmKHQpe3ZhciBuPXQuZ2V0UmF3RGF0YUl0ZW0oZSk7aWYobnVsbCE9bil7dmFyIG8sYSxyPXQuZ2V0UHJvdmlkZXIoKS5nZXRTb3VyY2UoKS5zb3VyY2VGb3JtYXQscz10LmdldERpbWVuc2lvbkluZm8oaSk7cmV0dXJuIHMmJihvPXMubmFtZSxhPXMuaW5kZXgpLEZNW3JdKG4sZSxhLG8pfX19ZnVuY3Rpb24gaXIodCxlLGkpe2lmKHQpe3ZhciBuPXQuZ2V0UHJvdmlkZXIoKS5nZXRTb3VyY2UoKS5zb3VyY2VGb3JtYXQ7aWYobj09PWdNfHxuPT09dk0pe3ZhciBvPXQuZ2V0UmF3RGF0YUl0ZW0oZSk7cmV0dXJuIG4hPT1nTXx8dyhvKXx8KG89bnVsbCksbz9vW2ldOnZvaWQgMH19fWZ1bmN0aW9uIG5yKHQpe3JldHVybiBuZXcgb3IodCl9ZnVuY3Rpb24gb3IodCl7dD10fHx7fSx0aGlzLl9yZXNldD10LnJlc2V0LHRoaXMuX3BsYW49dC5wbGFuLHRoaXMuX2NvdW50PXQuY291bnQsdGhpcy5fb25EaXJ0eT10Lm9uRGlydHksdGhpcy5fZGlydHk9ITAsdGhpcy5jb250ZXh0fWZ1bmN0aW9uIGFyKHQsZSxpLG4sbyxhKXtqTS5yZXNldChpLG4sbyxhKSx0Ll9jYWxsaW5nUHJvZ3Jlc3M9ZSx0Ll9jYWxsaW5nUHJvZ3Jlc3Moe3N0YXJ0OmksZW5kOm4sY291bnQ6bi1pLG5leHQ6ak0ubmV4dH0sdC5jb250ZXh0KX1mdW5jdGlvbiBycih0LGUpe3QuX2R1ZUluZGV4PXQuX291dHB1dER1ZUVuZD10Ll9kdWVFbmQ9MCx0Ll9zZXR0ZWRPdXRwdXRFbmQ9bnVsbDt2YXIgaSxuOyFlJiZ0Ll9yZXNldCYmKChpPXQuX3Jlc2V0KHQuY29udGV4dCkpJiZpLnByb2dyZXNzJiYobj1pLmZvcmNlRmlyc3RQcm9ncmVzcyxpPWkucHJvZ3Jlc3MpLHkoaSkmJiFpLmxlbmd0aCYmKGk9bnVsbCkpLHQuX3Byb2dyZXNzPWksdC5fbW9kQnk9dC5fbW9kRGF0YUNvdW50PW51bGw7dmFyIG89dC5fZG93bnN0cmVhbTtyZXR1cm4gbyYmby5kaXJ0eSgpLG59ZnVuY3Rpb24gc3IodCl7dmFyIGU9dC5uYW1lO0NpKHQpfHwodC5uYW1lPWxyKHQpfHxlKX1mdW5jdGlvbiBscih0KXt2YXIgZT10LmdldFJhd0RhdGEoKSxpPVtdO3JldHVybiBkKGUubWFwRGltZW5zaW9uKCJzZXJpZXNOYW1lIiwhMCksZnVuY3Rpb24odCl7dmFyIG49ZS5nZXREaW1lbnNpb25JbmZvKHQpO24uZGlzcGxheU5hbWUmJmkucHVzaChuLmRpc3BsYXlOYW1lKX0pLGkuam9pbigiICIpfWZ1bmN0aW9uIHVyKHQpe3JldHVybiB0Lm1vZGVsLmdldFJhd0RhdGEoKS5jb3VudCgpfWZ1bmN0aW9uIGhyKHQpe3ZhciBlPXQubW9kZWw7cmV0dXJuIGUuc2V0RGF0YShlLmdldFJhd0RhdGEoKS5jbG9uZVNoYWxsb3coKSksY3J9ZnVuY3Rpb24gY3IodCxlKXt0LmVuZD5lLm91dHB1dERhdGEuY291bnQoKSYmZS5tb2RlbC5nZXRSYXdEYXRhKCkuY2xvbmVTaGFsbG93KGUub3V0cHV0RGF0YSl9ZnVuY3Rpb24gZHIodCxlKXtkKHQuQ0hBTkdBQkxFX01FVEhPRFMsZnVuY3Rpb24oaSl7dC53cmFwTWV0aG9kKGksdihmcixlKSl9KX1mdW5jdGlvbiBmcih0KXt2YXIgZT1wcih0KTtlJiZlLnNldE91dHB1dEVuZCh0aGlzLmNvdW50KCkpfWZ1bmN0aW9uIHByKHQpe3ZhciBlPSh0LmVjTW9kZWx8fHt9KS5zY2hlZHVsZXIsaT1lJiZlLmdldFBpcGVsaW5lKHQudWlkKTtpZihpKXt2YXIgbj1pLmN1cnJlbnRUYXNrO2lmKG4pe3ZhciBvPW4uYWdlbnRTdHViTWFwO28mJihuPW8uZ2V0KHQudWlkKSl9cmV0dXJuIG59fWZ1bmN0aW9uIGdyKCl7dGhpcy5ncm91cD1uZXcgcncsdGhpcy51aWQ9TW8oInZpZXdDaGFydCIpLHRoaXMucmVuZGVyVGFzaz1ucih7cGxhbjp5cixyZXNldDp4cn0pLHRoaXMucmVuZGVyVGFzay5jb250ZXh0PXt2aWV3OnRoaXN9fWZ1bmN0aW9uIG1yKHQsZSl7aWYodCYmKHQudHJpZ2dlcihlKSwiZ3JvdXAiPT09dC50eXBlKSlmb3IodmFyIGk9MDtpPHQuY2hpbGRDb3VudCgpO2krKyltcih0LmNoaWxkQXQoaSksZSl9ZnVuY3Rpb24gdnIodCxlLGkpe3ZhciBuPVBpKHQsZSk7bnVsbCE9bj9kKFNpKG4pLGZ1bmN0aW9uKGUpe21yKHQuZ2V0SXRlbUdyYXBoaWNFbChlKSxpKX0pOnQuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCl7bXIodCxpKX0pfWZ1bmN0aW9uIHlyKHQpe3JldHVybiB0SSh0Lm1vZGVsKX1mdW5jdGlvbiB4cih0KXt2YXIgZT10Lm1vZGVsLGk9dC5lY01vZGVsLG49dC5hcGksbz10LnBheWxvYWQsYT1lLnBpcGVsaW5lQ29udGV4dC5wcm9ncmVzc2l2ZVJlbmRlcixyPXQudmlldyxzPW8mJlFNKG8pLnVwZGF0ZU1ldGhvZCxsPWE/ImluY3JlbWVudGFsUHJlcGFyZVJlbmRlciI6cyYmcltzXT9zOiJyZW5kZXIiO3JldHVybiJyZW5kZXIiIT09bCYmcltsXShlLGksbixvKSxpSVtsXX1mdW5jdGlvbiBfcih0LGUsaSl7ZnVuY3Rpb24gbigpe2g9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1udWxsLHQuYXBwbHkocixzfHxbXSl9dmFyIG8sYSxyLHMsbCx1PTAsaD0wLGM9bnVsbDtlPWV8fDA7dmFyIGQ9ZnVuY3Rpb24oKXtvPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHI9dGhpcyxzPWFyZ3VtZW50czt2YXIgdD1sfHxlLGQ9bHx8aTtsPW51bGwsYT1vLShkP3U6aCktdCxjbGVhclRpbWVvdXQoYyksZD9jPXNldFRpbWVvdXQobix0KTphPj0wP24oKTpjPXNldFRpbWVvdXQobiwtYSksdT1vfTtyZXR1cm4gZC5jbGVhcj1mdW5jdGlvbigpe2MmJihjbGVhclRpbWVvdXQoYyksYz1udWxsKX0sZC5kZWJvdW5jZU5leHRDYWxsPWZ1bmN0aW9uKHQpe2w9dH0sZH1mdW5jdGlvbiB3cih0LGUsaSxuKXt2YXIgbz10W2VdO2lmKG8pe3ZhciBhPW9bbkldfHxvLHI9b1thSV07aWYob1tvSV0hPT1pfHxyIT09bil7aWYobnVsbD09aXx8IW4pcmV0dXJuIHRbZV09YTsobz10W2VdPV9yKGEsaSwiZGVib3VuY2UiPT09bikpW25JXT1hLG9bYUldPW4sb1tvSV09aX1yZXR1cm4gb319ZnVuY3Rpb24gYnIodCxlKXt2YXIgaT10W2VdO2kmJmlbbkldJiYodFtlXT1pW25JXSl9ZnVuY3Rpb24gU3IodCxlLGksbil7dGhpcy5lY0luc3RhbmNlPXQsdGhpcy5hcGk9ZSx0aGlzLnVuZmluaXNoZWQ7dmFyIGk9dGhpcy5fZGF0YVByb2Nlc3NvckhhbmRsZXJzPWkuc2xpY2UoKSxuPXRoaXMuX3Zpc3VhbEhhbmRsZXJzPW4uc2xpY2UoKTt0aGlzLl9hbGxIYW5kbGVycz1pLmNvbmNhdChuKSx0aGlzLl9zdGFnZVRhc2tNYXA9UigpfWZ1bmN0aW9uIE1yKHQsZSxpLG4sbyl7ZnVuY3Rpb24gYSh0LGUpe3JldHVybiB0LnNldERpcnR5JiYoIXQuZGlydHlNYXB8fHQuZGlydHlNYXAuZ2V0KGUuX19waXBlbGluZS5pZCkpfW89b3x8e307dmFyIHI7ZChlLGZ1bmN0aW9uKGUscyl7aWYoIW8udmlzdWFsVHlwZXx8by52aXN1YWxUeXBlPT09ZS52aXN1YWxUeXBlKXt2YXIgbD10Ll9zdGFnZVRhc2tNYXAuZ2V0KGUudWlkKSx1PWwuc2VyaWVzVGFza01hcCxoPWwub3ZlcmFsbFRhc2s7aWYoaCl7dmFyIGMsZD1oLmFnZW50U3R1Yk1hcDtkLmVhY2goZnVuY3Rpb24odCl7YShvLHQpJiYodC5kaXJ0eSgpLGM9ITApfSksYyYmaC5kaXJ0eSgpLGNJKGgsbik7dmFyIGY9dC5nZXRQZXJmb3JtQXJncyhoLG8uYmxvY2spO2QuZWFjaChmdW5jdGlvbih0KXt0LnBlcmZvcm0oZil9KSxyfD1oLnBlcmZvcm0oZil9ZWxzZSB1JiZ1LmVhY2goZnVuY3Rpb24ocyxsKXthKG8scykmJnMuZGlydHkoKTt2YXIgdT10LmdldFBlcmZvcm1BcmdzKHMsby5ibG9jayk7dS5za2lwPSFlLnBlcmZvcm1SYXdTZXJpZXMmJmkuaXNTZXJpZXNGaWx0ZXJlZChzLmNvbnRleHQubW9kZWwpLGNJKHMsbikscnw9cy5wZXJmb3JtKHUpfSl9fSksdC51bmZpbmlzaGVkfD1yfWZ1bmN0aW9uIElyKHQsZSxpLG4sbyl7ZnVuY3Rpb24gYShpKXt2YXIgYT1pLnVpZCxzPXIuZ2V0KGEpfHxyLnNldChhLG5yKHtwbGFuOmtyLHJlc2V0OlByLGNvdW50Ok9yfSkpO3MuY29udGV4dD17bW9kZWw6aSxlY01vZGVsOm4sYXBpOm8sdXNlQ2xlYXJWaXN1YWw6ZS5pc1Zpc3VhbCYmIWUuaXNMYXlvdXQscGxhbjplLnBsYW4scmVzZXQ6ZS5yZXNldCxzY2hlZHVsZXI6dH0sRXIodCxpLHMpfXZhciByPWkuc2VyaWVzVGFza01hcHx8KGkuc2VyaWVzVGFza01hcD1SKCkpLHM9ZS5zZXJpZXNUeXBlLGw9ZS5nZXRUYXJnZXRTZXJpZXM7ZS5jcmVhdGVPbkFsbFNlcmllcz9uLmVhY2hSYXdTZXJpZXMoYSk6cz9uLmVhY2hSYXdTZXJpZXNCeVR5cGUocyxhKTpsJiZsKG4sbykuZWFjaChhKTt2YXIgdT10Ll9waXBlbGluZU1hcDtyLmVhY2goZnVuY3Rpb24odCxlKXt1LmdldChlKXx8KHQuZGlzcG9zZSgpLHIucmVtb3ZlS2V5KGUpKX0pfWZ1bmN0aW9uIFRyKHQsZSxpLG4sbyl7ZnVuY3Rpb24gYShlKXt2YXIgaT1lLnVpZCxuPXMuZ2V0KGkpO258fChuPXMuc2V0KGksbnIoe3Jlc2V0OkFyLG9uRGlydHk6THJ9KSksci5kaXJ0eSgpKSxuLmNvbnRleHQ9e21vZGVsOmUsb3ZlcmFsbFByb2dyZXNzOmgsbW9kaWZ5T3V0cHV0RW5kOmN9LG4uYWdlbnQ9cixuLl9fYmxvY2s9aCxFcih0LGUsbil9dmFyIHI9aS5vdmVyYWxsVGFzaz1pLm92ZXJhbGxUYXNrfHxucih7cmVzZXQ6RHJ9KTtyLmNvbnRleHQ9e2VjTW9kZWw6bixhcGk6byxvdmVyYWxsUmVzZXQ6ZS5vdmVyYWxsUmVzZXQsc2NoZWR1bGVyOnR9O3ZhciBzPXIuYWdlbnRTdHViTWFwPXIuYWdlbnRTdHViTWFwfHxSKCksbD1lLnNlcmllc1R5cGUsdT1lLmdldFRhcmdldFNlcmllcyxoPSEwLGM9ZS5tb2RpZnlPdXRwdXRFbmQ7bD9uLmVhY2hSYXdTZXJpZXNCeVR5cGUobCxhKTp1P3UobixvKS5lYWNoKGEpOihoPSExLGQobi5nZXRTZXJpZXMoKSxhKSk7dmFyIGY9dC5fcGlwZWxpbmVNYXA7cy5lYWNoKGZ1bmN0aW9uKHQsZSl7Zi5nZXQoZSl8fCh0LmRpc3Bvc2UoKSxyLmRpcnR5KCkscy5yZW1vdmVLZXkoZSkpfSl9ZnVuY3Rpb24gRHIodCl7dC5vdmVyYWxsUmVzZXQodC5lY01vZGVsLHQuYXBpLHQucGF5bG9hZCl9ZnVuY3Rpb24gQXIodCxlKXtyZXR1cm4gdC5vdmVyYWxsUHJvZ3Jlc3MmJkNyfWZ1bmN0aW9uIENyKCl7dGhpcy5hZ2VudC5kaXJ0eSgpLHRoaXMuZ2V0RG93bnN0cmVhbSgpLmRpcnR5KCl9ZnVuY3Rpb24gTHIoKXt0aGlzLmFnZW50JiZ0aGlzLmFnZW50LmRpcnR5KCl9ZnVuY3Rpb24ga3IodCl7cmV0dXJuIHQucGxhbiYmdC5wbGFuKHQubW9kZWwsdC5lY01vZGVsLHQuYXBpLHQucGF5bG9hZCl9ZnVuY3Rpb24gUHIodCl7dC51c2VDbGVhclZpc3VhbCYmdC5kYXRhLmNsZWFyQWxsVmlzdWFsKCk7dmFyIGU9dC5yZXNldERlZmluZXM9U2kodC5yZXNldCh0Lm1vZGVsLHQuZWNNb2RlbCx0LmFwaSx0LnBheWxvYWQpKTtyZXR1cm4gZS5sZW5ndGg+MT9mKGUsZnVuY3Rpb24odCxlKXtyZXR1cm4gTnIoZSl9KTpkSX1mdW5jdGlvbiBOcih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpKXt2YXIgbj1pLmRhdGEsbz1pLnJlc2V0RGVmaW5lc1t0XTtpZihvJiZvLmRhdGFFYWNoKWZvcih2YXIgYT1lLnN0YXJ0O2E8ZS5lbmQ7YSsrKW8uZGF0YUVhY2gobixhKTtlbHNlIG8mJm8ucHJvZ3Jlc3MmJm8ucHJvZ3Jlc3MoZSxuKX19ZnVuY3Rpb24gT3IodCl7cmV0dXJuIHQuZGF0YS5jb3VudCgpfWZ1bmN0aW9uIEVyKHQsZSxpKXt2YXIgbj1lLnVpZCxvPXQuX3BpcGVsaW5lTWFwLmdldChuKTshby5oZWFkJiYoby5oZWFkPWkpLG8udGFpbCYmby50YWlsLnBpcGUoaSksby50YWlsPWksaS5fX2lkeEluUGlwZWxpbmU9by5jb3VudCsrLGkuX19waXBlbGluZT1vfWZ1bmN0aW9uIFJyKHQpe2ZJPW51bGw7dHJ5e3QocEksZ0kpfWNhdGNoKHQpe31yZXR1cm4gZkl9ZnVuY3Rpb24genIodCxlKXtmb3IodmFyIGkgaW4gZS5wcm90b3R5cGUpdFtpXT1CfWZ1bmN0aW9uIEJyKHQpe3JldHVybiBmdW5jdGlvbihlLGksbil7ZT1lJiZlLnRvTG93ZXJDYXNlKCksVF8ucHJvdG90eXBlW3RdLmNhbGwodGhpcyxlLGksbil9fWZ1bmN0aW9uIFZyKCl7VF8uY2FsbCh0aGlzKX1mdW5jdGlvbiBHcih0LGUsbil7ZnVuY3Rpb24gbyh0LGUpe3JldHVybiB0Ll9fcHJpby1lLl9fcHJpb31uPW58fHt9LCJzdHJpbmciPT10eXBlb2YgZSYmKGU9RklbZV0pLHRoaXMuaWQsdGhpcy5ncm91cCx0aGlzLl9kb209dDt2YXIgYT10aGlzLl96cj1faSh0LHtyZW5kZXJlcjpuLnJlbmRlcmVyfHwiY2FudmFzIixkZXZpY2VQaXhlbFJhdGlvOm4uZGV2aWNlUGl4ZWxSYXRpbyx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodH0pO3RoaXMuX3Rocm90dGxlZFpyRmx1c2g9X3IobShhLmZsdXNoLGEpLDE3KSwoZT1pKGUpKSYmVk0oZSwhMCksdGhpcy5fdGhlbWU9ZSx0aGlzLl9jaGFydHNWaWV3cz1bXSx0aGlzLl9jaGFydHNNYXA9e30sdGhpcy5fY29tcG9uZW50c1ZpZXdzPVtdLHRoaXMuX2NvbXBvbmVudHNNYXA9e30sdGhpcy5fY29vcmRTeXNNZ3I9bmV3IENhO3ZhciByPXRoaXMuX2FwaT1vcyh0aGlzKTthZShXSSxvKSxhZShCSSxvKSx0aGlzLl9zY2hlZHVsZXI9bmV3IFNyKHRoaXMscixCSSxXSSksVF8uY2FsbCh0aGlzKSx0aGlzLl9tZXNzYWdlQ2VudGVyPW5ldyBWcix0aGlzLl9pbml0RXZlbnRzKCksdGhpcy5yZXNpemU9bSh0aGlzLnJlc2l6ZSx0aGlzKSx0aGlzLl9wZW5kaW5nQWN0aW9ucz1bXSxhLmFuaW1hdGlvbi5vbigiZnJhbWUiLHRoaXMuX29uZnJhbWUsdGhpcyksWXIoYSx0aGlzKSxOKHRoaXMpfWZ1bmN0aW9uIFdyKHQsZSxpKXt2YXIgbixvPXRoaXMuX21vZGVsLGE9dGhpcy5fY29vcmRTeXNNZ3IuZ2V0Q29vcmRpbmF0ZVN5c3RlbXMoKTtlPU9pKG8sZSk7Zm9yKHZhciByPTA7cjxhLmxlbmd0aDtyKyspe3ZhciBzPWFbcl07aWYoc1t0XSYmbnVsbCE9KG49c1t0XShvLGUsaSkpKXJldHVybiBufX1mdW5jdGlvbiBGcih0KXt2YXIgZT10Ll9tb2RlbCxpPXQuX3NjaGVkdWxlcjtpLnJlc3RvcmVQaXBlbGluZXMoZSksaS5wcmVwYXJlU3RhZ2VUYXNrcygpLHFyKHQsImNvbXBvbmVudCIsZSxpKSxxcih0LCJjaGFydCIsZSxpKSxpLnBsYW4oKX1mdW5jdGlvbiBIcih0LGUsaSxuLG8pe2Z1bmN0aW9uIGEobil7biYmbi5fX2FsaXZlJiZuW2VdJiZuW2VdKG4uX19tb2RlbCxyLHQuX2FwaSxpKX12YXIgcj10Ll9tb2RlbDtpZihuKXt2YXIgcz17fTtzW24rIklkIl09aVtuKyJJZCJdLHNbbisiSW5kZXgiXT1pW24rIkluZGV4Il0sc1tuKyJOYW1lIl09aVtuKyJOYW1lIl07dmFyIGw9e21haW5UeXBlOm4scXVlcnk6c307byYmKGwuc3ViVHlwZT1vKTt2YXIgdT1pLmV4Y2x1ZGVTZXJpZXNJZDtudWxsIT11JiYodT1SKFNpKHUpKSksciYmci5lYWNoQ29tcG9uZW50KGwsZnVuY3Rpb24oZSl7dSYmbnVsbCE9dS5nZXQoZS5pZCl8fGEodFsic2VyaWVzIj09PW4/Il9jaGFydHNNYXAiOiJfY29tcG9uZW50c01hcCJdW2UuX192aWV3SWRdKX0sdCl9ZWxzZSB3SSh0Ll9jb21wb25lbnRzVmlld3MuY29uY2F0KHQuX2NoYXJ0c1ZpZXdzKSxhKX1mdW5jdGlvbiBacih0LGUpe3ZhciBpPXQuX2NoYXJ0c01hcCxuPXQuX3NjaGVkdWxlcjtlLmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7bi51cGRhdGVTdHJlYW1Nb2Rlcyh0LGlbdC5fX3ZpZXdJZF0pfSl9ZnVuY3Rpb24gVXIodCxlKXt2YXIgaT10LnR5cGUsbj10LmVzY2FwZUNvbm5lY3Qsbz1SSVtpXSxzPW8uYWN0aW9uSW5mbyxsPShzLnVwZGF0ZXx8InVwZGF0ZSIpLnNwbGl0KCI6IiksdT1sLnBvcCgpO2w9bnVsbCE9bFswXSYmTUkobFswXSksdGhpc1tMSV09ITA7dmFyIGg9W3RdLGM9ITE7dC5iYXRjaCYmKGM9ITAsaD1mKHQuYmF0Y2gsZnVuY3Rpb24oZSl7cmV0dXJuIGU9cihhKHt9LGUpLHQpLGUuYmF0Y2g9bnVsbCxlfSkpO3ZhciBkLHA9W10sZz0iaGlnaGxpZ2h0Ij09PWl8fCJkb3ducGxheSI9PT1pO3dJKGgsZnVuY3Rpb24odCl7ZD1vLmFjdGlvbih0LHRoaXMuX21vZGVsLHRoaXMuX2FwaSksKGQ9ZHx8YSh7fSx0KSkudHlwZT1zLmV2ZW50fHxkLnR5cGUscC5wdXNoKGQpLGc/SHIodGhpcyx1LHQsInNlcmllcyIpOmwmJkhyKHRoaXMsdSx0LGwubWFpbixsLnN1Yil9LHRoaXMpLCJub25lIj09PXV8fGd8fGx8fCh0aGlzW2tJXT8oRnIodGhpcyksT0kudXBkYXRlLmNhbGwodGhpcyx0KSx0aGlzW2tJXT0hMSk6T0lbdV0uY2FsbCh0aGlzLHQpKSxkPWM/e3R5cGU6cy5ldmVudHx8aSxlc2NhcGVDb25uZWN0Om4sYmF0Y2g6cH06cFswXSx0aGlzW0xJXT0hMSwhZSYmdGhpcy5fbWVzc2FnZUNlbnRlci50cmlnZ2VyKGQudHlwZSxkKX1mdW5jdGlvbiBYcih0KXtmb3IodmFyIGU9dGhpcy5fcGVuZGluZ0FjdGlvbnM7ZS5sZW5ndGg7KXt2YXIgaT1lLnNoaWZ0KCk7VXIuY2FsbCh0aGlzLGksdCl9fWZ1bmN0aW9uIGpyKHQpeyF0JiZ0aGlzLnRyaWdnZXIoInVwZGF0ZWQiKX1mdW5jdGlvbiBZcih0LGUpe3Qub24oInJlbmRlcmVkIixmdW5jdGlvbigpe2UudHJpZ2dlcigicmVuZGVyZWQiKSwhdC5hbmltYXRpb24uaXNGaW5pc2hlZCgpfHxlW2tJXXx8ZS5fc2NoZWR1bGVyLnVuZmluaXNoZWR8fGUuX3BlbmRpbmdBY3Rpb25zLmxlbmd0aHx8ZS50cmlnZ2VyKCJmaW5pc2hlZCIpfSl9ZnVuY3Rpb24gcXIodCxlLGksbil7ZnVuY3Rpb24gbyh0KXt2YXIgZT0iX2VjXyIrdC5pZCsiXyIrdC50eXBlLG89c1tlXTtpZighbyl7dmFyIGg9TUkodC50eXBlKTsobz1uZXcoYT9LTS5nZXRDbGFzcyhoLm1haW4saC5zdWIpOmdyLmdldENsYXNzKGguc3ViKSkpLmluaXQoaSx1KSxzW2VdPW8sci5wdXNoKG8pLGwuYWRkKG8uZ3JvdXApfXQuX192aWV3SWQ9by5fX2lkPWUsby5fX2FsaXZlPSEwLG8uX19tb2RlbD10LG8uZ3JvdXAuX19lY0NvbXBvbmVudEluZm89e21haW5UeXBlOnQubWFpblR5cGUsaW5kZXg6dC5jb21wb25lbnRJbmRleH0sIWEmJm4ucHJlcGFyZVZpZXcobyx0LGksdSl9Zm9yKHZhciBhPSJjb21wb25lbnQiPT09ZSxyPWE/dC5fY29tcG9uZW50c1ZpZXdzOnQuX2NoYXJ0c1ZpZXdzLHM9YT90Ll9jb21wb25lbnRzTWFwOnQuX2NoYXJ0c01hcCxsPXQuX3pyLHU9dC5fYXBpLGg9MDtoPHIubGVuZ3RoO2grKylyW2hdLl9fYWxpdmU9ITE7YT9pLmVhY2hDb21wb25lbnQoZnVuY3Rpb24odCxlKXsic2VyaWVzIiE9PXQmJm8oZSl9KTppLmVhY2hTZXJpZXMobyk7Zm9yKGg9MDtoPHIubGVuZ3RoOyl7dmFyIGM9cltoXTtjLl9fYWxpdmU/aCsrOighYSYmYy5yZW5kZXJUYXNrLmRpc3Bvc2UoKSxsLnJlbW92ZShjLmdyb3VwKSxjLmRpc3Bvc2UoaSx1KSxyLnNwbGljZShoLDEpLGRlbGV0ZSBzW2MuX19pZF0sYy5fX2lkPWMuZ3JvdXAuX19lY0NvbXBvbmVudEluZm89bnVsbCl9fWZ1bmN0aW9uIEtyKHQpe3QuY2xlYXJDb2xvclBhbGV0dGUoKSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7dC5jbGVhckNvbG9yUGFsZXR0ZSgpfSl9ZnVuY3Rpb24gJHIodCxlLGksbil7SnIodCxlLGksbiksd0kodC5fY2hhcnRzVmlld3MsZnVuY3Rpb24odCl7dC5fX2FsaXZlPSExfSksUXIodCxlLGksbiksd0kodC5fY2hhcnRzVmlld3MsZnVuY3Rpb24odCl7dC5fX2FsaXZlfHx0LnJlbW92ZShlLGkpfSl9ZnVuY3Rpb24gSnIodCxlLGksbixvKXt3SShvfHx0Ll9jb21wb25lbnRzVmlld3MsZnVuY3Rpb24odCl7dmFyIG89dC5fX21vZGVsO3QucmVuZGVyKG8sZSxpLG4pLG5zKG8sdCl9KX1mdW5jdGlvbiBRcih0LGUsaSxuLG8pe3ZhciBhLHI9dC5fc2NoZWR1bGVyO2UuZWFjaFNlcmllcyhmdW5jdGlvbihlKXt2YXIgaT10Ll9jaGFydHNNYXBbZS5fX3ZpZXdJZF07aS5fX2FsaXZlPSEwO3ZhciBzPWkucmVuZGVyVGFzaztyLnVwZGF0ZVBheWxvYWQocyxuKSxvJiZvLmdldChlLnVpZCkmJnMuZGlydHkoKSxhfD1zLnBlcmZvcm0oci5nZXRQZXJmb3JtQXJncyhzKSksaS5ncm91cC5zaWxlbnQ9ISFlLmdldCgic2lsZW50IiksbnMoZSxpKSxpcyhlLGkpfSksci51bmZpbmlzaGVkfD1hLGVzKHQuX3pyLGUpLGxJKHQuX3pyLmRvbSxlKX1mdW5jdGlvbiB0cyh0LGUpe3dJKEdJLGZ1bmN0aW9uKGkpe2kodCxlKX0pfWZ1bmN0aW9uIGVzKHQsZSl7dmFyIGk9dC5zdG9yYWdlLG49MDtpLnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3QuaXNHcm91cHx8bisrfSksbj5lLmdldCgiaG92ZXJMYXllclRocmVzaG9sZCIpJiYhb18ubm9kZSYmaS50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmlzR3JvdXB8fCh0LnVzZUhvdmVyTGF5ZXI9ITApfSl9ZnVuY3Rpb24gaXModCxlKXt2YXIgaT10LmdldCgiYmxlbmRNb2RlIil8fG51bGw7ZS5ncm91cC50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmlzR3JvdXB8fHQuc3R5bGUuYmxlbmQhPT1pJiZ0LnNldFN0eWxlKCJibGVuZCIsaSksdC5lYWNoUGVuZGluZ0Rpc3BsYXlhYmxlJiZ0LmVhY2hQZW5kaW5nRGlzcGxheWFibGUoZnVuY3Rpb24odCl7dC5zZXRTdHlsZSgiYmxlbmQiLGkpfSl9KX1mdW5jdGlvbiBucyh0LGUpe3ZhciBpPXQuZ2V0KCJ6Iiksbj10LmdldCgiemxldmVsIik7ZS5ncm91cC50cmF2ZXJzZShmdW5jdGlvbih0KXsiZ3JvdXAiIT09dC50eXBlJiYobnVsbCE9aSYmKHQuej1pKSxudWxsIT1uJiYodC56bGV2ZWw9bikpfSl9ZnVuY3Rpb24gb3ModCl7dmFyIGU9dC5fY29vcmRTeXNNZ3I7cmV0dXJuIGEobmV3IEFhKHQpLHtnZXRDb29yZGluYXRlU3lzdGVtczptKGUuZ2V0Q29vcmRpbmF0ZVN5c3RlbXMsZSksZ2V0Q29tcG9uZW50QnlFbGVtZW50OmZ1bmN0aW9uKGUpe2Zvcig7ZTspe3ZhciBpPWUuX19lY0NvbXBvbmVudEluZm87aWYobnVsbCE9aSlyZXR1cm4gdC5fbW9kZWwuZ2V0Q29tcG9uZW50KGkubWFpblR5cGUsaS5pbmRleCk7ZT1lLnBhcmVudH19fSl9ZnVuY3Rpb24gYXModCl7ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRbbl1baV09ZX12YXIgaT0iX19jb25uZWN0VXBkYXRlU3RhdHVzIjt3SSh6SSxmdW5jdGlvbihuLG8pe3QuX21lc3NhZ2VDZW50ZXIub24obyxmdW5jdGlvbihuKXtpZihVSVt0Lmdyb3VwXSYmMCE9PXRbaV0pe2lmKG4mJm4uZXNjYXBlQ29ubmVjdClyZXR1cm47dmFyIG89dC5tYWtlQWN0aW9uRnJvbUV2ZW50KG4pLGE9W107d0koWkksZnVuY3Rpb24oZSl7ZSE9PXQmJmUuZ3JvdXA9PT10Lmdyb3VwJiZhLnB1c2goZSl9KSxlKGEsMCksd0koYSxmdW5jdGlvbih0KXsxIT09dFtpXSYmdC5kaXNwYXRjaEFjdGlvbihvKX0pLGUoYSwyKX19KX0pfWZ1bmN0aW9uIHJzKHQpe1VJW3RdPSExfWZ1bmN0aW9uIHNzKHQpe3JldHVybiBaSVt6aSh0LFlJKV19ZnVuY3Rpb24gbHModCxlKXtGSVt0XT1lfWZ1bmN0aW9uIHVzKHQpe1ZJLnB1c2godCl9ZnVuY3Rpb24gaHModCxlKXtncyhCSSx0LGUsVEkpfWZ1bmN0aW9uIGNzKHQsZSxpKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGk9ZSxlPSIiKTt2YXIgbj1TSSh0KT90LnR5cGU6W3QsdD17ZXZlbnQ6ZX1dWzBdO3QuZXZlbnQ9KHQuZXZlbnR8fG4pLnRvTG93ZXJDYXNlKCksZT10LmV2ZW50LF9JKFBJLnRlc3QobikmJlBJLnRlc3QoZSkpLFJJW25dfHwoUklbbl09e2FjdGlvbjppLGFjdGlvbkluZm86dH0pLHpJW2VdPW59ZnVuY3Rpb24gZHModCxlKXtDYS5yZWdpc3Rlcih0LGUpfWZ1bmN0aW9uIGZzKHQsZSl7Z3MoV0ksdCxlLERJLCJsYXlvdXQiKX1mdW5jdGlvbiBwcyh0LGUpe2dzKFdJLHQsZSxBSSwidmlzdWFsIil9ZnVuY3Rpb24gZ3ModCxlLGksbixvKXsoYkkoZSl8fFNJKGUpKSYmKGk9ZSxlPW4pO3ZhciBhPVNyLndyYXBTdGFnZUhhbmRsZXIoaSxvKTtyZXR1cm4gYS5fX3ByaW89ZSxhLl9fcmF3PWksdC5wdXNoKGEpLGF9ZnVuY3Rpb24gbXModCxlKXtISVt0XT1lfWZ1bmN0aW9uIHZzKHQpe3JldHVybiB1TS5leHRlbmQodCl9ZnVuY3Rpb24geXModCl7cmV0dXJuIEtNLmV4dGVuZCh0KX1mdW5jdGlvbiB4cyh0KXtyZXR1cm4gcU0uZXh0ZW5kKHQpfWZ1bmN0aW9uIF9zKHQpe3JldHVybiBnci5leHRlbmQodCl9ZnVuY3Rpb24gd3ModCl7cmV0dXJuIHFJW3RdfWZ1bmN0aW9uIGJzKHQpe3JldHVybiB0fWZ1bmN0aW9uIFNzKHQsZSxpLG4sbyl7dGhpcy5fb2xkPXQsdGhpcy5fbmV3PWUsdGhpcy5fb2xkS2V5R2V0dGVyPWl8fGJzLHRoaXMuX25ld0tleUdldHRlcj1ufHxicyx0aGlzLmNvbnRleHQ9b31mdW5jdGlvbiBNcyh0LGUsaSxuLG8pe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcj0iX2VjXyIrb1tuXSh0W2FdLGEpLHM9ZVtyXTtudWxsPT1zPyhpLnB1c2gociksZVtyXT1hKToocy5sZW5ndGh8fChlW3JdPXM9W3NdKSxzLnB1c2goYSkpfX1mdW5jdGlvbiBJcyh0KXt2YXIgZT17fSxpPWUuZW5jb2RlPXt9LG49UigpLG89W10sYT1bXTtkKHQuZGltZW5zaW9ucyxmdW5jdGlvbihlKXt2YXIgcj10LmdldERpbWVuc2lvbkluZm8oZSkscz1yLmNvb3JkRGltO2lmKHMpe3ZhciBsPWlbc107aS5oYXNPd25Qcm9wZXJ0eShzKXx8KGw9aVtzXT1bXSksbFtyLmNvb3JkRGltSW5kZXhdPWUsci5pc0V4dHJhQ29vcmR8fChuLnNldChzLDEpLERzKHIudHlwZSkmJihvWzBdPWUpKSxyLmRlZmF1bHRUb29sdGlwJiZhLnB1c2goZSl9SkkuZWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPWlbZV07aS5oYXNPd25Qcm9wZXJ0eShlKXx8KG49aVtlXT1bXSk7dmFyIG89ci5vdGhlckRpbXNbZV07bnVsbCE9byYmITEhPT1vJiYobltvXT1yLm5hbWUpfSl9KTt2YXIgcj1bXSxzPXt9O24uZWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPWlbZV07c1tlXT1uWzBdLHI9ci5jb25jYXQobil9KSxlLmRhdGFEaW1zT25Db29yZD1yLGUuZW5jb2RlRmlyc3REaW1Ob3RFeHRyYT1zO3ZhciBsPWkubGFiZWw7bCYmbC5sZW5ndGgmJihvPWwuc2xpY2UoKSk7dmFyIHU9aS50b29sdGlwO3JldHVybiB1JiZ1Lmxlbmd0aD9hPXUuc2xpY2UoKTphLmxlbmd0aHx8KGE9by5zbGljZSgpKSxpLmRlZmF1bHRlZExhYmVsPW8saS5kZWZhdWx0ZWRUb29sdGlwPWEsZX1mdW5jdGlvbiBUcyh0KXtyZXR1cm4iY2F0ZWdvcnkiPT09dD8ib3JkaW5hbCI6InRpbWUiPT09dD8idGltZSI6ImZsb2F0In1mdW5jdGlvbiBEcyh0KXtyZXR1cm4hKCJvcmRpbmFsIj09PXR8fCJ0aW1lIj09PXQpfWZ1bmN0aW9uIEFzKHQpe3JldHVybiB0Ll9yYXdDb3VudD42NTUzNT9pVDpuVH1mdW5jdGlvbiBDcyh0KXt2YXIgZT10LmNvbnN0cnVjdG9yO3JldHVybiBlPT09QXJyYXk/dC5zbGljZSgpOm5ldyBlKHQpfWZ1bmN0aW9uIExzKHQsZSl7ZChvVC5jb25jYXQoZS5fX3dyYXBwZWRNZXRob2RzfHxbXSksZnVuY3Rpb24oaSl7ZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KSx0Ll9fd3JhcHBlZE1ldGhvZHM9ZS5fX3dyYXBwZWRNZXRob2RzLGQoYVQsZnVuY3Rpb24obil7dFtuXT1pKGVbbl0pfSksdC5fY2FsY3VsYXRpb25JbmZvPWEoZS5fY2FsY3VsYXRpb25JbmZvKX1mdW5jdGlvbiBrcyh0KXt2YXIgZT10Ll9pbnZlcnRlZEluZGljZXNNYXA7ZChlLGZ1bmN0aW9uKGksbil7dmFyIG89dC5fZGltZW5zaW9uSW5mb3Nbbl0ub3JkaW5hbE1ldGE7aWYobyl7aT1lW25dPW5ldyBpVChvLmNhdGVnb3JpZXMubGVuZ3RoKTtmb3IoYT0wO2E8aS5sZW5ndGg7YSsrKWlbYV09TmFOO2Zvcih2YXIgYT0wO2E8dC5fY291bnQ7YSsrKWlbdC5nZXQobixhKV09YX19KX1mdW5jdGlvbiBQcyh0LGUsaSl7dmFyIG47aWYobnVsbCE9ZSl7dmFyIG89dC5fY2h1bmtTaXplLGE9TWF0aC5mbG9vcihpL28pLHI9aSVvLHM9dC5kaW1lbnNpb25zW2VdLGw9dC5fc3RvcmFnZVtzXVthXTtpZihsKXtuPWxbcl07dmFyIHU9dC5fZGltZW5zaW9uSW5mb3Nbc10ub3JkaW5hbE1ldGE7dSYmdS5jYXRlZ29yaWVzLmxlbmd0aCYmKG49dS5jYXRlZ29yaWVzW25dKX19cmV0dXJuIG59ZnVuY3Rpb24gTnModCl7cmV0dXJuIHR9ZnVuY3Rpb24gT3ModCl7cmV0dXJuIHQ8dGhpcy5fY291bnQmJnQ+PTA/dGhpcy5faW5kaWNlc1t0XTotMX1mdW5jdGlvbiBFcyh0LGUpe3ZhciBpPXQuX2lkTGlzdFtlXTtyZXR1cm4gbnVsbD09aSYmKGk9UHModCx0Ll9pZERpbUlkeCxlKSksbnVsbD09aSYmKGk9dFQrZSksaX1mdW5jdGlvbiBScyh0KXtyZXR1cm4geSh0KXx8KHQ9W3RdKSx0fWZ1bmN0aW9uIHpzKHQsZSl7dmFyIGk9dC5kaW1lbnNpb25zLG49bmV3IHJUKGYoaSx0LmdldERpbWVuc2lvbkluZm8sdCksdC5ob3N0TW9kZWwpO0xzKG4sdCk7Zm9yKHZhciBvPW4uX3N0b3JhZ2U9e30sYT10Ll9zdG9yYWdlLHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIHM9aVtyXTthW3NdJiYobChlLHMpPj0wPyhvW3NdPUJzKGFbc10pLG4uX3Jhd0V4dGVudFtzXT1WcygpLG4uX2V4dGVudFtzXT1udWxsKTpvW3NdPWFbc10pfXJldHVybiBufWZ1bmN0aW9uIEJzKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodC5sZW5ndGgpLGk9MDtpPHQubGVuZ3RoO2krKyllW2ldPUNzKHRbaV0pO3JldHVybiBlfWZ1bmN0aW9uIFZzKCl7cmV0dXJuWzEvMCwtMS8wXX1mdW5jdGlvbiBHcyh0LGUsbil7ZnVuY3Rpb24gbyh0LGUsaSl7bnVsbCE9SkkuZ2V0KGUpP3Qub3RoZXJEaW1zW2VdPWk6KHQuY29vcmREaW09ZSx0LmNvb3JkRGltSW5kZXg9aSxoLnNldChlLCEwKSl9bGEuaXNJbnN0YW5jZShlKXx8KGU9bGEuc2VyaWVzRGF0YVRvU291cmNlKGUpKSxuPW58fHt9LHQ9KHR8fFtdKS5zbGljZSgpO2Zvcih2YXIgcz0obi5kaW1zRGVmfHxbXSkuc2xpY2UoKSxsPVIobi5lbmNvZGVEZWYpLHU9UigpLGg9UigpLGM9W10sZj1XcyhlLHQscyxuLmRpbUNvdW50KSxwPTA7cDxmO3ArKyl7dmFyIGc9c1twXT1hKHt9LHcoc1twXSk/c1twXTp7bmFtZTpzW3BdfSksbT1nLm5hbWUsdj1jW3BdPXtvdGhlckRpbXM6e319O251bGwhPW0mJm51bGw9PXUuZ2V0KG0pJiYodi5uYW1lPXYuZGlzcGxheU5hbWU9bSx1LnNldChtLHApKSxudWxsIT1nLnR5cGUmJih2LnR5cGU9Zy50eXBlKSxudWxsIT1nLmRpc3BsYXlOYW1lJiYodi5kaXNwbGF5TmFtZT1nLmRpc3BsYXlOYW1lKX1sLmVhY2goZnVuY3Rpb24odCxlKXt0PVNpKHQpLnNsaWNlKCk7dmFyIGk9bC5zZXQoZSxbXSk7ZCh0LGZ1bmN0aW9uKHQsbil7Xyh0KSYmKHQ9dS5nZXQodCkpLG51bGwhPXQmJnQ8ZiYmKGlbbl09dCxvKGNbdF0sZSxuKSl9KX0pO3ZhciB5PTA7ZCh0LGZ1bmN0aW9uKHQsZSl7dmFyIG4sdCxhLHM7aWYoXyh0KSluPXQsdD17fTtlbHNle249dC5uYW1lO3ZhciB1PXQub3JkaW5hbE1ldGE7dC5vcmRpbmFsTWV0YT1udWxsLCh0PWkodCkpLm9yZGluYWxNZXRhPXUsYT10LmRpbXNEZWYscz10Lm90aGVyRGltcyx0Lm5hbWU9dC5jb29yZERpbT10LmNvb3JkRGltSW5kZXg9dC5kaW1zRGVmPXQub3RoZXJEaW1zPW51bGx9dmFyIGg9U2kobC5nZXQobikpO2lmKCFoLmxlbmd0aClmb3IodmFyIGY9MDtmPChhJiZhLmxlbmd0aHx8MSk7ZisrKXtmb3IoO3k8Yy5sZW5ndGgmJm51bGwhPWNbeV0uY29vcmREaW07KXkrKzt5PGMubGVuZ3RoJiZoLnB1c2goeSsrKX1kKGgsZnVuY3Rpb24oZSxpKXt2YXIgbD1jW2VdO2lmKG8ocihsLHQpLG4saSksbnVsbD09bC5uYW1lJiZhKXt2YXIgdT1hW2ldOyF3KHUpJiYodT17bmFtZTp1fSksbC5uYW1lPWwuZGlzcGxheU5hbWU9dS5uYW1lLGwuZGVmYXVsdFRvb2x0aXA9dS5kZWZhdWx0VG9vbHRpcH1zJiZyKGwub3RoZXJEaW1zLHMpfSl9KTt2YXIgeD1uLmdlbmVyYXRlQ29vcmQsYj1uLmdlbmVyYXRlQ29vcmRDb3VudCxTPW51bGwhPWI7Yj14P2J8fDE6MDtmb3IodmFyIE09eHx8InZhbHVlIixJPTA7STxmO0krKyludWxsPT0odj1jW0ldPWNbSV18fHt9KS5jb29yZERpbSYmKHYuY29vcmREaW09RnMoTSxoLFMpLHYuY29vcmREaW1JbmRleD0wLCgheHx8Yjw9MCkmJih2LmlzRXh0cmFDb29yZD0hMCksYi0tKSxudWxsPT12Lm5hbWUmJih2Lm5hbWU9RnModi5jb29yZERpbSx1KSksbnVsbD09di50eXBlJiZ4YShlLEksdi5uYW1lKSYmKHYudHlwZT0ib3JkaW5hbCIpO3JldHVybiBjfWZ1bmN0aW9uIFdzKHQsZSxpLG4pe3ZhciBvPU1hdGgubWF4KHQuZGltZW5zaW9uc0RldGVjdENvdW50fHwxLGUubGVuZ3RoLGkubGVuZ3RoLG58fDApO3JldHVybiBkKGUsZnVuY3Rpb24odCl7dmFyIGU9dC5kaW1zRGVmO2UmJihvPU1hdGgubWF4KG8sZS5sZW5ndGgpKX0pLG99ZnVuY3Rpb24gRnModCxlLGkpe2lmKGl8fG51bGwhPWUuZ2V0KHQpKXtmb3IodmFyIG49MDtudWxsIT1lLmdldCh0K24pOyluKys7dCs9bn1yZXR1cm4gZS5zZXQodCwhMCksdH1mdW5jdGlvbiBIcyh0LGUsaSl7dmFyIG4sbyxhLHIscz0oaT1pfHx7fSkuYnlJbmRleCxsPWkuc3RhY2tlZENvb3JkRGltZW5zaW9uLHU9ISghdHx8IXQuZ2V0KCJzdGFjayIpKTtpZihkKGUsZnVuY3Rpb24odCxpKXtfKHQpJiYoZVtpXT10PXtuYW1lOnR9KSx1JiYhdC5pc0V4dHJhQ29vcmQmJihzfHxufHwhdC5vcmRpbmFsTWV0YXx8KG49dCksb3x8Im9yZGluYWwiPT09dC50eXBlfHwidGltZSI9PT10LnR5cGV8fGwmJmwhPT10LmNvb3JkRGltfHwobz10KSl9KSxvJiYoc3x8bikpe2E9Il9fXDBlY3N0YWNrcmVzdWx0IixyPSJfX1wwZWNzdGFja2Vkb3ZlciIsbiYmKG4uY3JlYXRlSW52ZXJ0ZWRJbmRpY2VzPSEwKTt2YXIgaD1vLmNvb3JkRGltLGM9by50eXBlLGY9MDtkKGUsZnVuY3Rpb24odCl7dC5jb29yZERpbT09PWgmJmYrK30pLGUucHVzaCh7bmFtZTphLGNvb3JkRGltOmgsY29vcmREaW1JbmRleDpmLHR5cGU6Yyxpc0V4dHJhQ29vcmQ6ITAsaXNDYWxjdWxhdGlvbkNvb3JkOiEwfSksZisrLGUucHVzaCh7bmFtZTpyLGNvb3JkRGltOnIsY29vcmREaW1JbmRleDpmLHR5cGU6Yyxpc0V4dHJhQ29vcmQ6ITAsaXNDYWxjdWxhdGlvbkNvb3JkOiEwfSl9cmV0dXJue3N0YWNrZWREaW1lbnNpb246byYmby5uYW1lLHN0YWNrZWRCeURpbWVuc2lvbjpuJiZuLm5hbWUsaXNTdGFja2VkQnlJbmRleDpzLHN0YWNrZWRPdmVyRGltZW5zaW9uOnIsc3RhY2tSZXN1bHREaW1lbnNpb246YX19ZnVuY3Rpb24gWnModCxlLGkpe3JldHVybiBlJiZlPT09dC5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWREaW1lbnNpb24iKSYmKG51bGwhPWk/aT09PXQuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkQnlEaW1lbnNpb24iKTp0LmdldENhbGN1bGF0aW9uSW5mbygiaXNTdGFja2VkQnlJbmRleCIpKX1mdW5jdGlvbiBVcyh0LGUsaSl7aT1pfHx7fSxsYS5pc0luc3RhbmNlKHQpfHwodD1sYS5zZXJpZXNEYXRhVG9Tb3VyY2UodCkpO3ZhciBuLG89ZS5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSxhPUNhLmdldChvKSxyPXJhKGUpO3ImJihuPWYoci5jb29yZFN5c0RpbXMsZnVuY3Rpb24odCl7dmFyIGU9e25hbWU6dH0saT1yLmF4aXNNYXAuZ2V0KHQpO2lmKGkpe3ZhciBuPWkuZ2V0KCJ0eXBlIik7ZS50eXBlPVRzKG4pfXJldHVybiBlfSkpLG58fChuPWEmJihhLmdldERpbWVuc2lvbnNJbmZvP2EuZ2V0RGltZW5zaW9uc0luZm8oKTphLmRpbWVuc2lvbnMuc2xpY2UoKSl8fFsieCIsInkiXSk7dmFyIHMsbCx1PXVUKHQse2Nvb3JkRGltZW5zaW9uczpuLGdlbmVyYXRlQ29vcmQ6aS5nZW5lcmF0ZUNvb3JkfSk7ciYmZCh1LGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jb29yZERpbSxuPXIuY2F0ZWdvcnlBeGlzTWFwLmdldChpKTtuJiYobnVsbD09cyYmKHM9ZSksdC5vcmRpbmFsTWV0YT1uLmdldE9yZGluYWxNZXRhKCkpLG51bGwhPXQub3RoZXJEaW1zLml0ZW1OYW1lJiYobD0hMCl9KSxsfHxudWxsPT1zfHwodVtzXS5vdGhlckRpbXMuaXRlbU5hbWU9MCk7dmFyIGg9SHMoZSx1KSxjPW5ldyByVCh1LGUpO2Muc2V0Q2FsY3VsYXRpb25JbmZvKGgpO3ZhciBwPW51bGwhPXMmJlhzKHQpP2Z1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBuPT09cz9pOnRoaXMuZGVmYXVsdERpbVZhbHVlR2V0dGVyKHQsZSxpLG4pfTpudWxsO3JldHVybiBjLmhhc0l0ZW1PcHRpb249ITEsYy5pbml0RGF0YSh0LG51bGwscCksY31mdW5jdGlvbiBYcyh0KXtpZih0LnNvdXJjZUZvcm1hdD09PWdNKXt2YXIgZT1qcyh0LmRhdGF8fFtdKTtyZXR1cm4gbnVsbCE9ZSYmIXkoSWkoZSkpfX1mdW5jdGlvbiBqcyh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoJiZudWxsPT10W2VdOyllKys7cmV0dXJuIHRbZV19ZnVuY3Rpb24gWXModCl7dGhpcy5fc2V0dGluZz10fHx7fSx0aGlzLl9leHRlbnQ9WzEvMCwtMS8wXSx0aGlzLl9pbnRlcnZhbD0wLHRoaXMuaW5pdCYmdGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBxcyh0KXt0aGlzLmNhdGVnb3JpZXM9dC5jYXRlZ29yaWVzfHxbXSx0aGlzLl9uZWVkQ29sbGVjdD10Lm5lZWRDb2xsZWN0LHRoaXMuX2RlZHVwbGljYXRpb249dC5kZWR1cGxpY2F0aW9uLHRoaXMuX21hcH1mdW5jdGlvbiBLcyh0KXtyZXR1cm4gdC5fbWFwfHwodC5fbWFwPVIodC5jYXRlZ29yaWVzKSl9ZnVuY3Rpb24gJHModCl7cmV0dXJuIHcodCkmJm51bGwhPXQudmFsdWU/dC52YWx1ZTp0KyIifWZ1bmN0aW9uIEpzKHQsZSxpLG4pe3ZhciBvPXt9LGE9dFsxXS10WzBdLHI9by5pbnRlcnZhbD1WbyhhL2UsITApO251bGwhPWkmJnI8aSYmKHI9by5pbnRlcnZhbD1pKSxudWxsIT1uJiZyPm4mJihyPW8uaW50ZXJ2YWw9bik7dmFyIHM9by5pbnRlcnZhbFByZWNpc2lvbj1RcyhyKTtyZXR1cm4gZWwoby5uaWNlVGlja0V4dGVudD1bZlQoTWF0aC5jZWlsKHRbMF0vcikqcixzKSxmVChNYXRoLmZsb29yKHRbMV0vcikqcixzKV0sdCksb31mdW5jdGlvbiBRcyh0KXtyZXR1cm4ga28odCkrMn1mdW5jdGlvbiB0bCh0LGUsaSl7dFtlXT1NYXRoLm1heChNYXRoLm1pbih0W2VdLGlbMV0pLGlbMF0pfWZ1bmN0aW9uIGVsKHQsZSl7IWlzRmluaXRlKHRbMF0pJiYodFswXT1lWzBdKSwhaXNGaW5pdGUodFsxXSkmJih0WzFdPWVbMV0pLHRsKHQsMCxlKSx0bCh0LDEsZSksdFswXT50WzFdJiYodFswXT10WzFdKX1mdW5jdGlvbiBpbCh0LGUsaSxuKXt2YXIgbz1bXTtpZighdClyZXR1cm4gbztlWzBdPGlbMF0mJm8ucHVzaChlWzBdKTtmb3IodmFyIGE9aVswXTthPD1pWzFdJiYoby5wdXNoKGEpLChhPWZUKGErdCxuKSkhPT1vW28ubGVuZ3RoLTFdKTspaWYoby5sZW5ndGg+MWU0KXJldHVybltdO3JldHVybiBlWzFdPihvLmxlbmd0aD9vW28ubGVuZ3RoLTFdOmlbMV0pJiZvLnB1c2goZVsxXSksb31mdW5jdGlvbiBubCh0KXtyZXR1cm4gdC5nZXQoInN0YWNrIil8fG1UK3Quc2VyaWVzSW5kZXh9ZnVuY3Rpb24gb2wodCl7cmV0dXJuIHQuZGltK3QuaW5kZXh9ZnVuY3Rpb24gYWwodCl7dmFyIGU9W10saT10LmF4aXM7aWYoImNhdGVnb3J5Ij09PWkudHlwZSl7Zm9yKHZhciBuPWkuZ2V0QmFuZFdpZHRoKCksbz0wO288dC5jb3VudDtvKyspZS5wdXNoKHIoe2JhbmRXaWR0aDpuLGF4aXNLZXk6ImF4aXMwIixzdGFja0lkOm1UK299LHQpKTtmb3IodmFyIGE9bGwoZSkscz1bXSxvPTA7bzx0LmNvdW50O28rKyl7dmFyIGw9YS5heGlzMFttVCtvXTtsLm9mZnNldENlbnRlcj1sLm9mZnNldCtsLndpZHRoLzIscy5wdXNoKGwpfXJldHVybiBzfX1mdW5jdGlvbiBybCh0LGUpe3ZhciBpPVtdO3JldHVybiBlLmVhY2hTZXJpZXNCeVR5cGUodCxmdW5jdGlvbih0KXtjbCh0KSYmIWRsKHQpJiZpLnB1c2godCl9KSxpfWZ1bmN0aW9uIHNsKHQpe3ZhciBlPVtdO3JldHVybiBkKHQsZnVuY3Rpb24odCl7dmFyIGk9dC5nZXREYXRhKCksbj10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0QmFzZUF4aXMoKSxvPW4uZ2V0RXh0ZW50KCksYT0iY2F0ZWdvcnkiPT09bi50eXBlP24uZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMob1sxXS1vWzBdKS9pLmNvdW50KCkscj1Ebyh0LmdldCgiYmFyV2lkdGgiKSxhKSxzPURvKHQuZ2V0KCJiYXJNYXhXaWR0aCIpLGEpLGw9dC5nZXQoImJhckdhcCIpLHU9dC5nZXQoImJhckNhdGVnb3J5R2FwIik7ZS5wdXNoKHtiYW5kV2lkdGg6YSxiYXJXaWR0aDpyLGJhck1heFdpZHRoOnMsYmFyR2FwOmwsYmFyQ2F0ZWdvcnlHYXA6dSxheGlzS2V5Om9sKG4pLHN0YWNrSWQ6bmwodCl9KX0pLGxsKGUpfWZ1bmN0aW9uIGxsKHQpe3ZhciBlPXt9O2QodCxmdW5jdGlvbih0LGkpe3ZhciBuPXQuYXhpc0tleSxvPXQuYmFuZFdpZHRoLGE9ZVtuXXx8e2JhbmRXaWR0aDpvLHJlbWFpbmVkV2lkdGg6byxhdXRvV2lkdGhDb3VudDowLGNhdGVnb3J5R2FwOiIyMCUiLGdhcDoiMzAlIixzdGFja3M6e319LHI9YS5zdGFja3M7ZVtuXT1hO3ZhciBzPXQuc3RhY2tJZDtyW3NdfHxhLmF1dG9XaWR0aENvdW50KysscltzXT1yW3NdfHx7d2lkdGg6MCxtYXhXaWR0aDowfTt2YXIgbD10LmJhcldpZHRoO2wmJiFyW3NdLndpZHRoJiYocltzXS53aWR0aD1sLGw9TWF0aC5taW4oYS5yZW1haW5lZFdpZHRoLGwpLGEucmVtYWluZWRXaWR0aC09bCk7dmFyIHU9dC5iYXJNYXhXaWR0aDt1JiYocltzXS5tYXhXaWR0aD11KTt2YXIgaD10LmJhckdhcDtudWxsIT1oJiYoYS5nYXA9aCk7dmFyIGM9dC5iYXJDYXRlZ29yeUdhcDtudWxsIT1jJiYoYS5jYXRlZ29yeUdhcD1jKX0pO3ZhciBpPXt9O3JldHVybiBkKGUsZnVuY3Rpb24odCxlKXtpW2VdPXt9O3ZhciBuPXQuc3RhY2tzLG89dC5iYW5kV2lkdGgsYT1Ebyh0LmNhdGVnb3J5R2FwLG8pLHI9RG8odC5nYXAsMSkscz10LnJlbWFpbmVkV2lkdGgsbD10LmF1dG9XaWR0aENvdW50LHU9KHMtYSkvKGwrKGwtMSkqcik7dT1NYXRoLm1heCh1LDApLGQobixmdW5jdGlvbih0LGUpe3ZhciBpPXQubWF4V2lkdGg7aSYmaTx1JiYoaT1NYXRoLm1pbihpLHMpLHQud2lkdGgmJihpPU1hdGgubWluKGksdC53aWR0aCkpLHMtPWksdC53aWR0aD1pLGwtLSl9KSx1PShzLWEpLyhsKyhsLTEpKnIpLHU9TWF0aC5tYXgodSwwKTt2YXIgaCxjPTA7ZChuLGZ1bmN0aW9uKHQsZSl7dC53aWR0aHx8KHQud2lkdGg9dSksaD10LGMrPXQud2lkdGgqKDErcil9KSxoJiYoYy09aC53aWR0aCpyKTt2YXIgZj0tYy8yO2QobixmdW5jdGlvbih0LG4pe2lbZV1bbl09aVtlXVtuXXx8e29mZnNldDpmLHdpZHRoOnQud2lkdGh9LGYrPXQud2lkdGgqKDErcil9KX0pLGl9ZnVuY3Rpb24gdWwodCxlLGkpe2lmKHQmJmUpe3ZhciBuPXRbb2woZSldO3JldHVybiBudWxsIT1uJiZudWxsIT1pJiYobj1uW25sKGkpXSksbn19ZnVuY3Rpb24gaGwodCxlKXt2YXIgaT1ybCh0LGUpLG49c2woaSksbz17fTtkKGksZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT10LmNvb3JkaW5hdGVTeXN0ZW0sYT1pLmdldEJhc2VBeGlzKCkscj1ubCh0KSxzPW5bb2woYSldW3JdLGw9cy5vZmZzZXQsdT1zLndpZHRoLGg9aS5nZXRPdGhlckF4aXMoYSksYz10LmdldCgiYmFyTWluSGVpZ2h0Iil8fDA7b1tyXT1vW3JdfHxbXSxlLnNldExheW91dCh7b2Zmc2V0Omwsc2l6ZTp1fSk7Zm9yKHZhciBkPWUubWFwRGltZW5zaW9uKGguZGltKSxmPWUubWFwRGltZW5zaW9uKGEuZGltKSxwPVpzKGUsZCxmKSxnPWguaXNIb3Jpem9udGFsKCksbT1mbChhLGgscCksdj0wLHk9ZS5jb3VudCgpO3Y8eTt2Kyspe3ZhciB4PWUuZ2V0KGQsdiksXz1lLmdldChmLHYpO2lmKCFpc05hTih4KSl7dmFyIHc9eD49MD8icCI6Im4iLGI9bTtwJiYob1tyXVtfXXx8KG9bcl1bX109e3A6bSxuOm19KSxiPW9bcl1bX11bd10pO3ZhciBTLE0sSSxUO2lmKGcpUz1iLE09KEQ9aS5kYXRhVG9Qb2ludChbeCxfXSkpWzFdK2wsST1EWzBdLW0sVD11LE1hdGguYWJzKEkpPGMmJihJPShJPDA/LTE6MSkqYykscCYmKG9bcl1bX11bd10rPUkpO2Vsc2V7dmFyIEQ9aS5kYXRhVG9Qb2ludChbXyx4XSk7Uz1EWzBdK2wsTT1iLEk9dSxUPURbMV0tbSxNYXRoLmFicyhUKTxjJiYoVD0oVDw9MD8tMToxKSpjKSxwJiYob1tyXVtfXVt3XSs9VCl9ZS5zZXRJdGVtTGF5b3V0KHYse3g6Uyx5Ok0sd2lkdGg6SSxoZWlnaHQ6VH0pfX19LHRoaXMpfWZ1bmN0aW9uIGNsKHQpe3JldHVybiB0LmNvb3JkaW5hdGVTeXN0ZW0mJiJjYXJ0ZXNpYW4yZCI9PT10LmNvb3JkaW5hdGVTeXN0ZW0udHlwZX1mdW5jdGlvbiBkbCh0KXtyZXR1cm4gdC5waXBlbGluZUNvbnRleHQmJnQucGlwZWxpbmVDb250ZXh0LmxhcmdlfWZ1bmN0aW9uIGZsKHQsZSxpKXtyZXR1cm4gbCh0LmdldEF4ZXNPblplcm9PZigpLGUpPj0wfHxpP2UudG9HbG9iYWxDb29yZChlLmRhdGFUb0Nvb3JkKDApKTplLmdldEdsb2JhbEV4dGVudCgpWzBdfWZ1bmN0aW9uIHBsKHQsZSl7cmV0dXJuIEFUKHQsRFQoZSkpfWZ1bmN0aW9uIGdsKHQsZSl7dmFyIGksbixvLGE9dC50eXBlLHI9ZS5nZXRNaW4oKSxzPWUuZ2V0TWF4KCksbD1udWxsIT1yLHU9bnVsbCE9cyxoPXQuZ2V0RXh0ZW50KCk7Im9yZGluYWwiPT09YT9pPWUuZ2V0Q2F0ZWdvcmllcygpLmxlbmd0aDooeShuPWUuZ2V0KCJib3VuZGFyeUdhcCIpKXx8KG49W258fDAsbnx8MF0pLCJib29sZWFuIj09dHlwZW9mIG5bMF0mJihuPVswLDBdKSxuWzBdPURvKG5bMF0sMSksblsxXT1EbyhuWzFdLDEpLG89aFsxXS1oWzBdfHxNYXRoLmFicyhoWzBdKSksbnVsbD09ciYmKHI9Im9yZGluYWwiPT09YT9pPzA6TmFOOmhbMF0tblswXSpvKSxudWxsPT1zJiYocz0ib3JkaW5hbCI9PT1hP2k/aS0xOk5hTjpoWzFdK25bMV0qbyksImRhdGFNaW4iPT09cj9yPWhbMF06ImZ1bmN0aW9uIj09dHlwZW9mIHImJihyPXIoe21pbjpoWzBdLG1heDpoWzFdfSkpLCJkYXRhTWF4Ij09PXM/cz1oWzFdOiJmdW5jdGlvbiI9PXR5cGVvZiBzJiYocz1zKHttaW46aFswXSxtYXg6aFsxXX0pKSwobnVsbD09cnx8IWlzRmluaXRlKHIpKSYmKHI9TmFOKSwobnVsbD09c3x8IWlzRmluaXRlKHMpKSYmKHM9TmFOKSx0LnNldEJsYW5rKEkocil8fEkocyl8fCJvcmRpbmFsIj09PWEmJiF0LmdldE9yZGluYWxNZXRhKCkuY2F0ZWdvcmllcy5sZW5ndGgpLGUuZ2V0TmVlZENyb3NzWmVybygpJiYocj4wJiZzPjAmJiFsJiYocj0wKSxyPDAmJnM8MCYmIXUmJihzPTApKTt2YXIgYz1lLmVjTW9kZWw7aWYoYyYmInRpbWUiPT09YSl7dmFyIGYscD1ybCgiYmFyIixjKTtpZihkKHAsZnVuY3Rpb24odCl7Znw9dC5nZXRCYXNlQXhpcygpPT09ZS5heGlzfSksZil7dmFyIGc9c2wocCksbT1tbChyLHMsZSxnKTtyPW0ubWluLHM9bS5tYXh9fXJldHVybltyLHNdfWZ1bmN0aW9uIG1sKHQsZSxpLG4pe3ZhciBvPWkuYXhpcy5nZXRFeHRlbnQoKSxhPW9bMV0tb1swXSxyPXVsKG4saS5heGlzKTtpZih2b2lkIDA9PT1yKXJldHVybnttaW46dCxtYXg6ZX07dmFyIHM9MS8wO2QocixmdW5jdGlvbih0KXtzPU1hdGgubWluKHQub2Zmc2V0LHMpfSk7dmFyIGw9LTEvMDtkKHIsZnVuY3Rpb24odCl7bD1NYXRoLm1heCh0Lm9mZnNldCt0LndpZHRoLGwpfSkscz1NYXRoLmFicyhzKSxsPU1hdGguYWJzKGwpO3ZhciB1PXMrbCxoPWUtdCxjPWgvKDEtKHMrbCkvYSktaDtyZXR1cm4gZSs9YyoobC91KSx0LT1jKihzL3UpLHttaW46dCxtYXg6ZX19ZnVuY3Rpb24gdmwodCxlKXt2YXIgaT1nbCh0LGUpLG49bnVsbCE9ZS5nZXRNaW4oKSxvPW51bGwhPWUuZ2V0TWF4KCksYT1lLmdldCgic3BsaXROdW1iZXIiKTsibG9nIj09PXQudHlwZSYmKHQuYmFzZT1lLmdldCgibG9nQmFzZSIpKTt2YXIgcj10LnR5cGU7dC5zZXRFeHRlbnQoaVswXSxpWzFdKSx0Lm5pY2VFeHRlbnQoe3NwbGl0TnVtYmVyOmEsZml4TWluOm4sZml4TWF4Om8sbWluSW50ZXJ2YWw6ImludGVydmFsIj09PXJ8fCJ0aW1lIj09PXI/ZS5nZXQoIm1pbkludGVydmFsIik6bnVsbCxtYXhJbnRlcnZhbDoiaW50ZXJ2YWwiPT09cnx8InRpbWUiPT09cj9lLmdldCgibWF4SW50ZXJ2YWwiKTpudWxsfSk7dmFyIHM9ZS5nZXQoImludGVydmFsIik7bnVsbCE9cyYmdC5zZXRJbnRlcnZhbCYmdC5zZXRJbnRlcnZhbChzKX1mdW5jdGlvbiB5bCh0LGUpe2lmKGU9ZXx8dC5nZXQoInR5cGUiKSlzd2l0Y2goZSl7Y2FzZSJjYXRlZ29yeSI6cmV0dXJuIG5ldyBkVCh0LmdldE9yZGluYWxNZXRhP3QuZ2V0T3JkaW5hbE1ldGEoKTp0LmdldENhdGVnb3JpZXMoKSxbMS8wLC0xLzBdKTtjYXNlInZhbHVlIjpyZXR1cm4gbmV3IGdUO2RlZmF1bHQ6cmV0dXJuKFlzLmdldENsYXNzKGUpfHxnVCkuY3JlYXRlKHQpfX1mdW5jdGlvbiB4bCh0KXt2YXIgZT10LnNjYWxlLmdldEV4dGVudCgpLGk9ZVswXSxuPWVbMV07cmV0dXJuIShpPjAmJm4+MHx8aTwwJiZuPDApfWZ1bmN0aW9uIF9sKHQpe3ZhciBlPXQuZ2V0TGFiZWxNb2RlbCgpLmdldCgiZm9ybWF0dGVyIiksaT0iY2F0ZWdvcnkiPT09dC50eXBlP3Quc2NhbGUuZ2V0RXh0ZW50KClbMF06bnVsbDtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/ZT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQucmVwbGFjZSgie3ZhbHVlfSIsbnVsbCE9ZT9lOiIiKX19KGUpOiJmdW5jdGlvbiI9PXR5cGVvZiBlP2Z1bmN0aW9uKG4sbyl7cmV0dXJuIG51bGwhPWkmJihvPW4taSksZSh3bCh0LG4pLG8pfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5zY2FsZS5nZXRMYWJlbChlKX19ZnVuY3Rpb24gd2wodCxlKXtyZXR1cm4iY2F0ZWdvcnkiPT09dC50eXBlP3Quc2NhbGUuZ2V0TGFiZWwoZSk6ZX1mdW5jdGlvbiBibCh0KXt2YXIgZT10Lm1vZGVsLGk9dC5zY2FsZTtpZihlLmdldCgiYXhpc0xhYmVsLnNob3ciKSYmIWkuaXNCbGFuaygpKXt2YXIgbixvLGE9ImNhdGVnb3J5Ij09PXQudHlwZSxyPWkuZ2V0RXh0ZW50KCk7bz1hP2kuY291bnQoKToobj1pLmdldFRpY2tzKCkpLmxlbmd0aDt2YXIgcyxsPXQuZ2V0TGFiZWxNb2RlbCgpLHU9X2wodCksaD0xO28+NDAmJihoPU1hdGguY2VpbChvLzQwKSk7Zm9yKHZhciBjPTA7YzxvO2MrPWgpe3ZhciBkPXUobj9uW2NdOnJbMF0rYyksZj1TbChsLmdldFRleHRSZWN0KGQpLGwuZ2V0KCJyb3RhdGUiKXx8MCk7cz9zLnVuaW9uKGYpOnM9Zn1yZXR1cm4gc319ZnVuY3Rpb24gU2wodCxlKXt2YXIgaT1lKk1hdGguUEkvMTgwLG49dC5wbGFpbigpLG89bi53aWR0aCxhPW4uaGVpZ2h0LHI9bypNYXRoLmNvcyhpKSthKk1hdGguc2luKGkpLHM9bypNYXRoLnNpbihpKSthKk1hdGguY29zKGkpO3JldHVybiBuZXcgJHQobi54LG4ueSxyLHMpfWZ1bmN0aW9uIE1sKHQsZSl7aWYoImltYWdlIiE9PXRoaXMudHlwZSl7dmFyIGk9dGhpcy5zdHlsZSxuPXRoaXMuc2hhcGU7biYmImxpbmUiPT09bi5zeW1ib2xUeXBlP2kuc3Ryb2tlPXQ6dGhpcy5fX2lzRW1wdHlCcnVzaD8oaS5zdHJva2U9dCxpLmZpbGw9ZXx8IiNmZmYiKTooaS5maWxsJiYoaS5maWxsPXQpLGkuc3Ryb2tlJiYoaS5zdHJva2U9dCkpLHRoaXMuZGlydHkoITEpfX1mdW5jdGlvbiBJbCh0LGUsaSxuLG8sYSxyKXt2YXIgcz0wPT09dC5pbmRleE9mKCJlbXB0eSIpO3MmJih0PXQuc3Vic3RyKDUsMSkudG9Mb3dlckNhc2UoKSt0LnN1YnN0cig2KSk7dmFyIGw7cmV0dXJuIGw9MD09PXQuaW5kZXhPZigiaW1hZ2U6Ly8iKT96bih0LnNsaWNlKDgpLG5ldyAkdChlLGksbixvKSxyPyJjZW50ZXIiOiJjb3ZlciIpOjA9PT10LmluZGV4T2YoInBhdGg6Ly8iKT9Sbih0LnNsaWNlKDcpLHt9LG5ldyAkdChlLGksbixvKSxyPyJjZW50ZXIiOiJjb3ZlciIpOm5ldyBXVCh7c2hhcGU6e3N5bWJvbFR5cGU6dCx4OmUseTppLHdpZHRoOm4saGVpZ2h0Om99fSksbC5fX2lzRW1wdHlCcnVzaD1zLGwuc2V0Q29sb3I9TWwsbC5zZXRDb2xvcihhKSxsfWZ1bmN0aW9uIFRsKHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8WlR9ZnVuY3Rpb24gRGwodCxlLGkpe3ZhciBuPTAsbz10WzBdO2lmKCFvKXJldHVybiExO2Zvcih2YXIgYT0xO2E8dC5sZW5ndGg7YSsrKXt2YXIgcj10W2FdO24rPW1uKG9bMF0sb1sxXSxyWzBdLHJbMV0sZSxpKSxvPXJ9dmFyIHM9dFswXTtyZXR1cm4gVGwob1swXSxzWzBdKSYmVGwob1sxXSxzWzFdKXx8KG4rPW1uKG9bMF0sb1sxXSxzWzBdLHNbMV0sZSxpKSksMCE9PW59ZnVuY3Rpb24gQWwodCxlLGkpe2lmKHRoaXMubmFtZT10LHRoaXMuZ2VvbWV0cmllcz1lLGkpaT1baVswXSxpWzFdXTtlbHNle3ZhciBuPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7aT1bbi54K24ud2lkdGgvMixuLnkrbi5oZWlnaHQvMl19dGhpcy5jZW50ZXI9aX1mdW5jdGlvbiBDbCh0KXtpZighdC5VVEY4RW5jb2RpbmcpcmV0dXJuIHQ7dmFyIGU9dC5VVEY4U2NhbGU7bnVsbD09ZSYmKGU9MTAyNCk7Zm9yKHZhciBpPXQuZmVhdHVyZXMsbj0wO248aS5sZW5ndGg7bisrKWZvcih2YXIgbz1pW25dLmdlb21ldHJ5LGE9by5jb29yZGluYXRlcyxyPW8uZW5jb2RlT2Zmc2V0cyxzPTA7czxhLmxlbmd0aDtzKyspe3ZhciBsPWFbc107aWYoIlBvbHlnb24iPT09by50eXBlKWFbc109TGwobCxyW3NdLGUpO2Vsc2UgaWYoIk11bHRpUG9seWdvbiI9PT1vLnR5cGUpZm9yKHZhciB1PTA7dTxsLmxlbmd0aDt1Kyspe3ZhciBoPWxbdV07bFt1XT1MbChoLHJbc11bdV0sZSl9fXJldHVybiB0LlVURjhFbmNvZGluZz0hMSx0fWZ1bmN0aW9uIExsKHQsZSxpKXtmb3IodmFyIG49W10sbz1lWzBdLGE9ZVsxXSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXt2YXIgcz10LmNoYXJDb2RlQXQociktNjQsbD10LmNoYXJDb2RlQXQocisxKS02NDtzPXM+PjFeLSgxJnMpLGw9bD4+MV4tKDEmbCksbz1zKz1vLGE9bCs9YSxuLnB1c2goW3MvaSxsL2ldKX1yZXR1cm4gbn1mdW5jdGlvbiBrbCh0KXtyZXR1cm4iY2F0ZWdvcnkiPT09dC50eXBlP05sKHQpOkVsKHQpfWZ1bmN0aW9uIFBsKHQsZSl7cmV0dXJuImNhdGVnb3J5Ij09PXQudHlwZT9PbCh0LGUpOnt0aWNrczp0LnNjYWxlLmdldFRpY2tzKCl9fWZ1bmN0aW9uIE5sKHQpe3ZhciBlPXQuZ2V0TGFiZWxNb2RlbCgpLGk9UmwodCwibGFiZWxzIiksbj1abChlKSxvPXpsKGksbik7aWYobylyZXR1cm4gbzt2YXIgYSxyO3JldHVybiBhPSFlLmdldCgic2hvdyIpfHx0LnNjYWxlLmlzQmxhbmsoKT9bXTp4KG4pP0hsKHQsbik6RmwodCxyPSJhdXRvIj09PW4/VmwodCk6biksQmwoaSxuLHtsYWJlbHM6YSxsYWJlbENhdGVnb3J5SW50ZXJ2YWw6cn0pfWZ1bmN0aW9uIE9sKHQsZSl7dmFyIGk9UmwodCwidGlja3MiKSxuPVpsKGUpLG89emwoaSxuKTtpZihvKXJldHVybiBvO3ZhciBhLHI9bjtpZihlLmdldCgic2hvdyIpJiYhdC5zY2FsZS5pc0JsYW5rKCl8fChhPVtdKSx4KHIpKWE9SGwodCxyLCEwKTtlbHNle2lmKCJhdXRvIj09PXIpe3ZhciBzPU5sKHQpO251bGwhPShyPXMubGFiZWxDYXRlZ29yeUludGVydmFsKT9hPWYocy5sYWJlbHMsZnVuY3Rpb24odCl7cmV0dXJuIHQudGlja1ZhbHVlfSk6cj1WbCh0LCEwKX1udWxsPT1hJiYoYT1GbCh0LHIsITApKX1yZXR1cm4gQmwoaSxuLHt0aWNrczphLHRpY2tDYXRlZ29yeUludGVydmFsOnJ9KX1mdW5jdGlvbiBFbCh0KXt2YXIgZT10LnNjYWxlLmdldFRpY2tzKCksaT1fbCh0KTtyZXR1cm57bGFiZWxzOmYoZSxmdW5jdGlvbihlLG4pe3JldHVybntmb3JtYXR0ZWRMYWJlbDppKGUsbikscmF3TGFiZWw6dC5zY2FsZS5nZXRMYWJlbChlKSx0aWNrVmFsdWU6ZX19KX19ZnVuY3Rpb24gUmwodCxlKXtyZXR1cm4gWFQodClbZV18fChYVCh0KVtlXT1bXSl9ZnVuY3Rpb24gemwodCxlKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldLmtleT09PWUpcmV0dXJuIHRbaV0udmFsdWV9ZnVuY3Rpb24gQmwodCxlLGkpe3JldHVybiB0LnB1c2goe2tleTplLHZhbHVlOml9KSxpfWZ1bmN0aW9uIFZsKHQsZSl7dmFyIGk9ZT8idGlja0F1dG9JbnRlcnZhbCI6ImF1dG9JbnRlcnZhbCIsbj1YVCh0KVtpXTtyZXR1cm4gbnVsbCE9bj9uOlhUKHQpW2ldPXQuY2FsY3VsYXRlQ2F0ZWdvcnlJbnRlcnZhbChlKX1mdW5jdGlvbiBHbCh0LGUpe3ZhciBpPVdsKHQpLG49X2wodCksbz0oaS5heGlzUm90YXRlLWkubGFiZWxSb3RhdGUpLzE4MCpNYXRoLlBJLGE9dC5zY2FsZSxyPWEuZ2V0RXh0ZW50KCkscz1hLmNvdW50KCk7aWYoclsxXS1yWzBdPDEpcmV0dXJuIDA7dmFyIGw9MTtzPjQwJiYobD1NYXRoLm1heCgxLE1hdGguZmxvb3Iocy80MCkpKTtmb3IodmFyIHU9clswXSxoPXQuZGF0YVRvQ29vcmQodSsxKS10LmRhdGFUb0Nvb3JkKHUpLGM9TWF0aC5hYnMoaCpNYXRoLmNvcyhvKSksZD1NYXRoLmFicyhoKk1hdGguc2luKG8pKSxmPTAscD0wO3U8PXJbMV07dSs9bCl7dmFyIGc9MCxtPTA7aWYoIWUpe3ZhciB2PW1lKG4odSksaS5mb250LCJjZW50ZXIiLCJ0b3AiKTtnPTEuMyp2LndpZHRoLG09MS4zKnYuaGVpZ2h0fWY9TWF0aC5tYXgoZixnLDcpLHA9TWF0aC5tYXgocCxtLDcpfXZhciB5PWYvYyx4PXAvZDtpc05hTih5KSYmKHk9MS8wKSxpc05hTih4KSYmKHg9MS8wKTt2YXIgXz1NYXRoLm1heCgwLE1hdGguZmxvb3IoTWF0aC5taW4oeSx4KSkpLHc9WFQodC5tb2RlbCksYj13Lmxhc3RBdXRvSW50ZXJ2YWwsUz13Lmxhc3RUaWNrQ291bnQ7cmV0dXJuIG51bGwhPWImJm51bGwhPVMmJk1hdGguYWJzKGItXyk8PTEmJk1hdGguYWJzKFMtcyk8PTEmJmI+Xz9fPWI6KHcubGFzdFRpY2tDb3VudD1zLHcubGFzdEF1dG9JbnRlcnZhbD1fKSxffWZ1bmN0aW9uIFdsKHQpe3ZhciBlPXQuZ2V0TGFiZWxNb2RlbCgpO3JldHVybntheGlzUm90YXRlOnQuZ2V0Um90YXRlP3QuZ2V0Um90YXRlKCk6dC5pc0hvcml6b250YWwmJiF0LmlzSG9yaXpvbnRhbCgpPzkwOjAsbGFiZWxSb3RhdGU6ZS5nZXQoInJvdGF0ZSIpfHwwLGZvbnQ6ZS5nZXRGb250KCl9fWZ1bmN0aW9uIEZsKHQsZSxpKXtmdW5jdGlvbiBuKHQpe2wucHVzaChpP3Q6e2Zvcm1hdHRlZExhYmVsOm8odCkscmF3TGFiZWw6YS5nZXRMYWJlbCh0KSx0aWNrVmFsdWU6dH0pfXZhciBvPV9sKHQpLGE9dC5zY2FsZSxyPWEuZ2V0RXh0ZW50KCkscz10LmdldExhYmVsTW9kZWwoKSxsPVtdLHU9TWF0aC5tYXgoKGV8fDApKzEsMSksaD1yWzBdLGM9YS5jb3VudCgpOzAhPT1oJiZ1PjEmJmMvdT4yJiYoaD1NYXRoLnJvdW5kKE1hdGguY2VpbChoL3UpKnUpKTt2YXIgZD17bWluOnMuZ2V0KCJzaG93TWluTGFiZWwiKSxtYXg6cy5nZXQoInNob3dNYXhMYWJlbCIpfTtkLm1pbiYmaCE9PXJbMF0mJm4oclswXSk7Zm9yKHZhciBmPWg7Zjw9clsxXTtmKz11KW4oZik7cmV0dXJuIGQubWF4JiZmIT09clsxXSYmbihyWzFdKSxsfWZ1bmN0aW9uIEhsKHQsZSxpKXt2YXIgbj10LnNjYWxlLG89X2wodCksYT1bXTtyZXR1cm4gZChuLmdldFRpY2tzKCksZnVuY3Rpb24odCl7dmFyIHI9bi5nZXRMYWJlbCh0KTtlKHQscikmJmEucHVzaChpP3Q6e2Zvcm1hdHRlZExhYmVsOm8odCkscmF3TGFiZWw6cix0aWNrVmFsdWU6dH0pfSksYX1mdW5jdGlvbiBabCh0KXt2YXIgZT10LmdldCgiaW50ZXJ2YWwiKTtyZXR1cm4gbnVsbD09ZT8iYXV0byI6ZX1mdW5jdGlvbiBVbCh0LGUpe3ZhciBpPSh0WzFdLXRbMF0pL2UvMjt0WzBdKz1pLHRbMV0tPWl9ZnVuY3Rpb24gWGwodCxlLGksbixvKXtmdW5jdGlvbiBhKHQsZSl7cmV0dXJuIGg/dD5lOnQ8ZX12YXIgcj1lLmxlbmd0aDtpZih0Lm9uQmFuZCYmIW4mJnIpe3ZhciBzLGw9dC5nZXRFeHRlbnQoKTtpZigxPT09cillWzBdLmNvb3JkPWxbMF0scz1lWzFdPXtjb29yZDpsWzBdfTtlbHNle3ZhciB1PWVbMV0uY29vcmQtZVswXS5jb29yZDtkKGUsZnVuY3Rpb24odCl7dC5jb29yZC09dS8yO3ZhciBlPWV8fDA7ZSUyPjAmJih0LmNvb3JkLT11LygyKihlKzEpKSl9KSxzPXtjb29yZDplW3ItMV0uY29vcmQrdX0sZS5wdXNoKHMpfXZhciBoPWxbMF0+bFsxXTthKGVbMF0uY29vcmQsbFswXSkmJihvP2VbMF0uY29vcmQ9bFswXTplLnNoaWZ0KCkpLG8mJmEobFswXSxlWzBdLmNvb3JkKSYmZS51bnNoaWZ0KHtjb29yZDpsWzBdfSksYShsWzFdLHMuY29vcmQpJiYobz9zLmNvb3JkPWxbMV06ZS5wb3AoKSksbyYmYShzLmNvb3JkLGxbMV0pJiZlLnB1c2goe2Nvb3JkOmxbMV19KX19ZnVuY3Rpb24gamwodCxlKXt2YXIgaT10Lm1hcERpbWVuc2lvbigiZGVmYXVsdGVkTGFiZWwiLCEwKSxuPWkubGVuZ3RoO2lmKDE9PT1uKXJldHVybiBlcih0LGUsaVswXSk7aWYobil7Zm9yKHZhciBvPVtdLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHI9ZXIodCxlLGlbYV0pO28ucHVzaChyKX1yZXR1cm4gby5qb2luKCIgIil9fWZ1bmN0aW9uIFlsKHQsZSxpKXtydy5jYWxsKHRoaXMpLHRoaXMudXBkYXRlRGF0YSh0LGUsaSl9ZnVuY3Rpb24gcWwodCl7cmV0dXJuW3RbMF0vMix0WzFdLzJdfWZ1bmN0aW9uIEtsKHQsZSl7dGhpcy5wYXJlbnQuZHJpZnQodCxlKX1mdW5jdGlvbiAkbCh0KXt0aGlzLmdyb3VwPW5ldyBydyx0aGlzLl9zeW1ib2xDdG9yPXR8fFlsfWZ1bmN0aW9uIEpsKHQsZSxpLG4pe3JldHVybiBlJiYhaXNOYU4oZVswXSkmJiFpc05hTihlWzFdKSYmIShuLmlzSWdub3JlJiZuLmlzSWdub3JlKGkpKSYmIShuLmNsaXBTaGFwZSYmIW4uY2xpcFNoYXBlLmNvbnRhaW4oZVswXSxlWzFdKSkmJiJub25lIiE9PXQuZ2V0SXRlbVZpc3VhbChpLCJzeW1ib2wiKX1mdW5jdGlvbiBRbCh0KXtyZXR1cm4gbnVsbD09dHx8dyh0KXx8KHQ9e2lzSWdub3JlOnR9KSx0fHx7fX1mdW5jdGlvbiB0dSh0KXt2YXIgZT10Lmhvc3RNb2RlbDtyZXR1cm57aXRlbVN0eWxlOmUuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZShbImNvbG9yIl0pLGhvdmVySXRlbVN0eWxlOmUuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHN5bWJvbFJvdGF0ZTplLmdldCgic3ltYm9sUm90YXRlIiksc3ltYm9sT2Zmc2V0OmUuZ2V0KCJzeW1ib2xPZmZzZXQiKSxob3ZlckFuaW1hdGlvbjplLmdldCgiaG92ZXJBbmltYXRpb24iKSxsYWJlbE1vZGVsOmUuZ2V0TW9kZWwoImxhYmVsIiksaG92ZXJMYWJlbE1vZGVsOmUuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIiksY3Vyc29yU3R5bGU6ZS5nZXQoImN1cnNvciIpfX1mdW5jdGlvbiBldSh0LGUsaSl7dmFyIG4sbz10LmdldEJhc2VBeGlzKCksYT10LmdldE90aGVyQXhpcyhvKSxyPWl1KGEsaSkscz1vLmRpbSxsPWEuZGltLHU9ZS5tYXBEaW1lbnNpb24obCksaD1lLm1hcERpbWVuc2lvbihzKSxjPSJ4Ij09PWx8fCJyYWRpdXMiPT09bD8xOjAsZD1mKHQuZGltZW5zaW9ucyxmdW5jdGlvbih0KXtyZXR1cm4gZS5tYXBEaW1lbnNpb24odCl9KSxwPWUuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpO3JldHVybihufD1acyhlLGRbMF0sZFsxXSkpJiYoZFswXT1wKSwobnw9WnMoZSxkWzFdLGRbMF0pKSYmKGRbMV09cCkse2RhdGFEaW1zRm9yUG9pbnQ6ZCx2YWx1ZVN0YXJ0OnIsdmFsdWVBeGlzRGltOmwsYmFzZUF4aXNEaW06cyxzdGFja2VkOiEhbix2YWx1ZURpbTp1LGJhc2VEaW06aCxiYXNlRGF0YU9mZnNldDpjLHN0YWNrZWRPdmVyRGltZW5zaW9uOmUuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpfX1mdW5jdGlvbiBpdSh0LGUpe3ZhciBpPTAsbj10LnNjYWxlLmdldEV4dGVudCgpO3JldHVybiJzdGFydCI9PT1lP2k9blswXToiZW5kIj09PWU/aT1uWzFdOm5bMF0+MD9pPW5bMF06blsxXTwwJiYoaT1uWzFdKSxpfWZ1bmN0aW9uIG51KHQsZSxpLG4pe3ZhciBvPU5hTjt0LnN0YWNrZWQmJihvPWkuZ2V0KGkuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpLG4pKSxpc05hTihvKSYmKG89dC52YWx1ZVN0YXJ0KTt2YXIgYT10LmJhc2VEYXRhT2Zmc2V0LHI9W107cmV0dXJuIHJbYV09aS5nZXQodC5iYXNlRGltLG4pLHJbMS1hXT1vLGUuZGF0YVRvUG9pbnQocil9ZnVuY3Rpb24gb3UodCxlKXt2YXIgaT1bXTtyZXR1cm4gZS5kaWZmKHQpLmFkZChmdW5jdGlvbih0KXtpLnB1c2goe2NtZDoiKyIsaWR4OnR9KX0pLnVwZGF0ZShmdW5jdGlvbih0LGUpe2kucHVzaCh7Y21kOiI9IixpZHg6ZSxpZHgxOnR9KX0pLnJlbW92ZShmdW5jdGlvbih0KXtpLnB1c2goe2NtZDoiLSIsaWR4OnR9KX0pLmV4ZWN1dGUoKSxpfWZ1bmN0aW9uIGF1KHQpe3JldHVybiBpc05hTih0WzBdKXx8aXNOYU4odFsxXSl9ZnVuY3Rpb24gcnUodCxlLGksbixvLGEscixzLGwsdSxoKXtyZXR1cm4gbnVsbD09dT9zdShlLCJ4Iik/bHUodCxlLGksbixvLGEscixzLGwsIngiLGgpOnN1KGUsInkiKT9sdSh0LGUsaSxuLG8sYSxyLHMsbCwieSIsaCk6dXUuYXBwbHkodGhpcyxhcmd1bWVudHMpOiJub25lIiE9PXUmJnN1KGUsdSk/bHUuYXBwbHkodGhpcyxhcmd1bWVudHMpOnV1LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBzdSh0LGUpe2lmKHQubGVuZ3RoPD0xKXJldHVybiEwO2Zvcih2YXIgaT0ieCI9PT1lPzA6MSxuPXRbMF1baV0sbz0wLGE9MTthPHQubGVuZ3RoOysrYSl7dmFyIHI9dFthXVtpXS1uO2lmKCFpc05hTihyKSYmIWlzTmFOKG8pJiYwIT09ciYmMCE9PW8mJnI+PTAhPW8+PTApcmV0dXJuITE7aXNOYU4ocil8fDA9PT1yfHwobz1yLG49dFthXVtpXSl9cmV0dXJuITB9ZnVuY3Rpb24gbHUodCxlLGksbixvLGEscixzLGwsdSxoKXtmb3IodmFyIGM9MCxkPWksZj0wO2Y8bjtmKyspe3ZhciBwPWVbZF07aWYoZD49b3x8ZDwwKWJyZWFrO2lmKGF1KHApKXtpZihoKXtkKz1hO2NvbnRpbnVlfWJyZWFrfWlmKGQ9PT1pKXRbYT4wPyJtb3ZlVG8iOiJsaW5lVG8iXShwWzBdLHBbMV0pO2Vsc2UgaWYobD4wKXt2YXIgZz1lW2NdLG09InkiPT09dT8xOjAsdj0ocFttXS1nW21dKSpsO2xEKGhELGcpLGhEW21dPWdbbV0rdixsRChjRCxwKSxjRFttXT1wW21dLXYsdC5iZXppZXJDdXJ2ZVRvKGhEWzBdLGhEWzFdLGNEWzBdLGNEWzFdLHBbMF0scFsxXSl9ZWxzZSB0LmxpbmVUbyhwWzBdLHBbMV0pO2M9ZCxkKz1hfXJldHVybiBmfWZ1bmN0aW9uIHV1KHQsZSxpLG4sbyxhLHIscyxsLHUsaCl7Zm9yKHZhciBjPTAsZD1pLGY9MDtmPG47ZisrKXt2YXIgcD1lW2RdO2lmKGQ+PW98fGQ8MClicmVhaztpZihhdShwKSl7aWYoaCl7ZCs9YTtjb250aW51ZX1icmVha31pZihkPT09aSl0W2E+MD8ibW92ZVRvIjoibGluZVRvIl0ocFswXSxwWzFdKSxsRChoRCxwKTtlbHNlIGlmKGw+MCl7dmFyIGc9ZCthLG09ZVtnXTtpZihoKWZvcig7bSYmYXUoZVtnXSk7KW09ZVtnKz1hXTt2YXIgdj0uNSx5PWVbY107aWYoIShtPWVbZ10pfHxhdShtKSlsRChjRCxwKTtlbHNle2F1KG0pJiYhaCYmKG09cCksVSh1RCxtLHkpO3ZhciB4LF87aWYoIngiPT09dXx8InkiPT09dSl7dmFyIHc9IngiPT09dT8wOjE7eD1NYXRoLmFicyhwW3ddLXlbd10pLF89TWF0aC5hYnMocFt3XS1tW3ddKX1lbHNlIHg9Yl8ocCx5KSxfPWJfKHAsbSk7c0QoY0QscCx1RCwtbCooMS0odj1fLyhfK3gpKSkpfWFEKGhELGhELHMpLHJEKGhELGhELHIpLGFEKGNELGNELHMpLHJEKGNELGNELHIpLHQuYmV6aWVyQ3VydmVUbyhoRFswXSxoRFsxXSxjRFswXSxjRFsxXSxwWzBdLHBbMV0pLHNEKGhELHAsdUQsbCp2KX1lbHNlIHQubGluZVRvKHBbMF0scFsxXSk7Yz1kLGQrPWF9cmV0dXJuIGZ9ZnVuY3Rpb24gaHUodCxlKXt2YXIgaT1bMS8wLDEvMF0sbj1bLTEvMCwtMS8wXTtpZihlKWZvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXt2YXIgYT10W29dO2FbMF08aVswXSYmKGlbMF09YVswXSksYVsxXTxpWzFdJiYoaVsxXT1hWzFdKSxhWzBdPm5bMF0mJihuWzBdPWFbMF0pLGFbMV0+blsxXSYmKG5bMV09YVsxXSl9cmV0dXJue21pbjplP2k6bixtYXg6ZT9uOml9fWZ1bmN0aW9uIGN1KHQsZSl7aWYodC5sZW5ndGg9PT1lLmxlbmd0aCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV0sbz1lW2ldO2lmKG5bMF0hPT1vWzBdfHxuWzFdIT09b1sxXSlyZXR1cm59cmV0dXJuITB9fWZ1bmN0aW9uIGR1KHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdD90OnQ/LjU6MH1mdW5jdGlvbiBmdSh0KXt2YXIgZT10LmdldEdsb2JhbEV4dGVudCgpO2lmKHQub25CYW5kKXt2YXIgaT10LmdldEJhbmRXaWR0aCgpLzItMSxuPWVbMV0+ZVswXT8xOi0xO2VbMF0rPW4qaSxlWzFdLT1uKml9cmV0dXJuIGV9ZnVuY3Rpb24gcHUodCxlLGkpe2lmKCFpLnZhbHVlRGltKXJldHVybltdO2Zvcih2YXIgbj1bXSxvPTAsYT1lLmNvdW50KCk7bzxhO28rKyluLnB1c2gobnUoaSx0LGUsbykpO3JldHVybiBufWZ1bmN0aW9uIGd1KHQsZSxpLG4pe3ZhciBvPWZ1KHQuZ2V0QXhpcygieCIpKSxhPWZ1KHQuZ2V0QXhpcygieSIpKSxyPXQuZ2V0QmFzZUF4aXMoKS5pc0hvcml6b250YWwoKSxzPU1hdGgubWluKG9bMF0sb1sxXSksbD1NYXRoLm1pbihhWzBdLGFbMV0pLHU9TWF0aC5tYXgob1swXSxvWzFdKS1zLGg9TWF0aC5tYXgoYVswXSxhWzFdKS1sO2lmKGkpcy09LjUsdSs9LjUsbC09LjUsaCs9LjU7ZWxzZXt2YXIgYz1uLmdldCgibGluZVN0eWxlLndpZHRoIil8fDIsZD1uLmdldCgiY2xpcE92ZXJmbG93Iik/Yy8yOk1hdGgubWF4KHUsaCk7cj8obC09ZCxoKz0yKmQpOihzLT1kLHUrPTIqZCl9dmFyIGY9bmV3IGJTKHtzaGFwZTp7eDpzLHk6bCx3aWR0aDp1LGhlaWdodDpofX0pO3JldHVybiBlJiYoZi5zaGFwZVtyPyJ3aWR0aCI6ImhlaWdodCJdPTAscG8oZix7c2hhcGU6e3dpZHRoOnUsaGVpZ2h0Omh9fSxuKSksZn1mdW5jdGlvbiBtdSh0LGUsaSxuKXt2YXIgbz10LmdldEFuZ2xlQXhpcygpLGE9dC5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCkuc2xpY2UoKTthWzBdPmFbMV0mJmEucmV2ZXJzZSgpO3ZhciByPW8uZ2V0RXh0ZW50KCkscz1NYXRoLlBJLzE4MDtpJiYoYVswXS09LjUsYVsxXSs9LjUpO3ZhciBsPW5ldyBtUyh7c2hhcGU6e2N4OkFvKHQuY3gsMSksY3k6QW8odC5jeSwxKSxyMDpBbyhhWzBdLDEpLHI6QW8oYVsxXSwxKSxzdGFydEFuZ2xlOi1yWzBdKnMsZW5kQW5nbGU6LXJbMV0qcyxjbG9ja3dpc2U6by5pbnZlcnNlfX0pO3JldHVybiBlJiYobC5zaGFwZS5lbmRBbmdsZT0tclswXSpzLHBvKGwse3NoYXBlOntlbmRBbmdsZTotclsxXSpzfX0sbikpLGx9ZnVuY3Rpb24gdnUodCxlLGksbil7cmV0dXJuInBvbGFyIj09PXQudHlwZT9tdSh0LGUsaSxuKTpndSh0LGUsaSxuKX1mdW5jdGlvbiB5dSh0LGUsaSl7Zm9yKHZhciBuPWUuZ2V0QmFzZUF4aXMoKSxvPSJ4Ij09PW4uZGltfHwicmFkaXVzIj09PW4uZGltPzA6MSxhPVtdLHI9MDtyPHQubGVuZ3RoLTE7cisrKXt2YXIgcz10W3IrMV0sbD10W3JdO2EucHVzaChsKTt2YXIgdT1bXTtzd2l0Y2goaSl7Y2FzZSJlbmQiOnVbb109c1tvXSx1WzEtb109bFsxLW9dLGEucHVzaCh1KTticmVhaztjYXNlIm1pZGRsZSI6dmFyIGg9KGxbb10rc1tvXSkvMixjPVtdO3Vbb109Y1tvXT1oLHVbMS1vXT1sWzEtb10sY1sxLW9dPXNbMS1vXSxhLnB1c2godSksYS5wdXNoKGMpO2JyZWFrO2RlZmF1bHQ6dVtvXT1sW29dLHVbMS1vXT1zWzEtb10sYS5wdXNoKHUpfX1yZXR1cm4gdFtyXSYmYS5wdXNoKHRbcl0pLGF9ZnVuY3Rpb24geHUodCxlKXt2YXIgaT10LmdldFZpc3VhbCgidmlzdWFsTWV0YSIpO2lmKGkmJmkubGVuZ3RoJiZ0LmNvdW50KCkmJiJjYXJ0ZXNpYW4yZCI9PT1lLnR5cGUpe2Zvcih2YXIgbixvLGE9aS5sZW5ndGgtMTthPj0wO2EtLSl7dmFyIHI9aVthXS5kaW1lbnNpb24scz10LmRpbWVuc2lvbnNbcl0sbD10LmdldERpbWVuc2lvbkluZm8ocyk7aWYoIngiPT09KG49bCYmbC5jb29yZERpbSl8fCJ5Ij09PW4pe289aVthXTticmVha319aWYobyl7dmFyIHU9ZS5nZXRBeGlzKG4pLGg9ZihvLnN0b3BzLGZ1bmN0aW9uKHQpe3JldHVybntjb29yZDp1LnRvR2xvYmFsQ29vcmQodS5kYXRhVG9Db29yZCh0LnZhbHVlKSksY29sb3I6dC5jb2xvcn19KSxjPWgubGVuZ3RoLHA9by5vdXRlckNvbG9ycy5zbGljZSgpO2MmJmhbMF0uY29vcmQ+aFtjLTFdLmNvb3JkJiYoaC5yZXZlcnNlKCkscC5yZXZlcnNlKCkpO3ZhciBnPWhbMF0uY29vcmQtMTAsbT1oW2MtMV0uY29vcmQrMTAsdj1tLWc7aWYodjwuMDAxKXJldHVybiJ0cmFuc3BhcmVudCI7ZChoLGZ1bmN0aW9uKHQpe3Qub2Zmc2V0PSh0LmNvb3JkLWcpL3Z9KSxoLnB1c2goe29mZnNldDpjP2hbYy0xXS5vZmZzZXQ6LjUsY29sb3I6cFsxXXx8InRyYW5zcGFyZW50In0pLGgudW5zaGlmdCh7b2Zmc2V0OmM/aFswXS5vZmZzZXQ6LjUsY29sb3I6cFswXXx8InRyYW5zcGFyZW50In0pO3ZhciB5PW5ldyBDUygwLDAsMCwwLGgsITApO3JldHVybiB5W25dPWcseVtuKyIyIl09bSx5fX19ZnVuY3Rpb24gX3UodCxlLGkpe3ZhciBuPXQuZ2V0KCJzaG93QWxsU3ltYm9sIiksbz0iYXV0byI9PT1uO2lmKCFufHxvKXt2YXIgYT1pLmdldEF4ZXNCeVNjYWxlKCJvcmRpbmFsIilbMF07aWYoYSYmKCFvfHwhd3UoYSxlKSkpe3ZhciByPWUubWFwRGltZW5zaW9uKGEuZGltKSxzPXt9O3JldHVybiBkKGEuZ2V0Vmlld0xhYmVscygpLGZ1bmN0aW9uKHQpe3NbdC50aWNrVmFsdWVdPTF9KSxmdW5jdGlvbih0KXtyZXR1cm4hcy5oYXNPd25Qcm9wZXJ0eShlLmdldChyLHQpKX19fX1mdW5jdGlvbiB3dSh0LGUpe3ZhciBpPXQuZ2V0RXh0ZW50KCksbj1NYXRoLmFicyhpWzFdLWlbMF0pL3Quc2NhbGUuY291bnQoKTtpc05hTihuKSYmKG49MCk7Zm9yKHZhciBvPWUuY291bnQoKSxhPU1hdGgubWF4KDEsTWF0aC5yb3VuZChvLzUpKSxyPTA7cjxvO3IrPWEpaWYoMS41KllsLmdldFN5bWJvbFNpemUoZSxyKVt0LmlzSG9yaXpvbnRhbCgpPzE6MF0+bilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBidSh0KXtyZXR1cm4gdGhpcy5fYXhlc1t0XX1mdW5jdGlvbiBTdSh0KXt5RC5jYWxsKHRoaXMsdCl9ZnVuY3Rpb24gTXUodCxlKXtyZXR1cm4gZS50eXBlfHwoZS5kYXRhPyJjYXRlZ29yeSI6InZhbHVlIil9ZnVuY3Rpb24gSXUodCxlLGkpe3JldHVybiB0LmdldENvb3JkU3lzTW9kZWwoKT09PWV9ZnVuY3Rpb24gVHUodCxlLGkpe3RoaXMuX2Nvb3Jkc01hcD17fSx0aGlzLl9jb29yZHNMaXN0PVtdLHRoaXMuX2F4ZXNNYXA9e30sdGhpcy5fYXhlc0xpc3Q9W10sdGhpcy5faW5pdENhcnRlc2lhbih0LGUsaSksdGhpcy5tb2RlbD10fWZ1bmN0aW9uIER1KHQsZSxpKXtpLmdldEF4ZXNPblplcm9PZj1mdW5jdGlvbigpe3JldHVybiBuP1tuXTpbXX07dmFyIG4sbz10W2VdLGE9aS5tb2RlbCxyPWEuZ2V0KCJheGlzTGluZS5vblplcm8iKSxzPWEuZ2V0KCJheGlzTGluZS5vblplcm9BeGlzSW5kZXgiKTtpZihyKWlmKG51bGw9PXMpe2Zvcih2YXIgbCBpbiBvKWlmKG8uaGFzT3duUHJvcGVydHkobCkmJkF1KG9bbF0pKXtuPW9bbF07YnJlYWt9fWVsc2UgQXUob1tzXSkmJihuPW9bc10pfWZ1bmN0aW9uIEF1KHQpe3JldHVybiB0JiYiY2F0ZWdvcnkiIT09dC50eXBlJiYidGltZSIhPT10LnR5cGUmJnhsKHQpfWZ1bmN0aW9uIEN1KHQsZSl7dmFyIGk9dC5nZXRFeHRlbnQoKSxuPWlbMF0raVsxXTt0LnRvR2xvYmFsQ29vcmQ9IngiPT09dC5kaW0/ZnVuY3Rpb24odCl7cmV0dXJuIHQrZX06ZnVuY3Rpb24odCl7cmV0dXJuIG4tdCtlfSx0LnRvTG9jYWxDb29yZD0ieCI9PT10LmRpbT9mdW5jdGlvbih0KXtyZXR1cm4gdC1lfTpmdW5jdGlvbih0KXtyZXR1cm4gbi10K2V9fWZ1bmN0aW9uIEx1KHQsZSl7cmV0dXJuIGYoREQsZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cyhlKVswXX0pfWZ1bmN0aW9uIGt1KHQpe3JldHVybiJjYXJ0ZXNpYW4yZCI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpfWZ1bmN0aW9uIFB1KHQpe3ZhciBlPXtjb21wb25lbnRUeXBlOnQubWFpblR5cGV9O3JldHVybiBlW3QubWFpblR5cGUrIkluZGV4Il09dC5jb21wb25lbnRJbmRleCxlfWZ1bmN0aW9uIE51KHQsZSxpLG4pe3ZhciBvLGEscj1PbyhpLXQucm90YXRpb24pLHM9blswXT5uWzFdLGw9InN0YXJ0Ij09PWUmJiFzfHwic3RhcnQiIT09ZSYmcztyZXR1cm4gRW8oci1BRC8yKT8oYT1sPyJib3R0b20iOiJ0b3AiLG89ImNlbnRlciIpOkVvKHItMS41KkFEKT8oYT1sPyJ0b3AiOiJib3R0b20iLG89ImNlbnRlciIpOihhPSJtaWRkbGUiLG89cjwxLjUqQUQmJnI+QUQvMj9sPyJsZWZ0IjoicmlnaHQiOmw/InJpZ2h0IjoibGVmdCIpLHtyb3RhdGlvbjpyLHRleHRBbGlnbjpvLHRleHRWZXJ0aWNhbEFsaWduOmF9fWZ1bmN0aW9uIE91KHQpe3ZhciBlPXQuZ2V0KCJ0b29sdGlwIik7cmV0dXJuIHQuZ2V0KCJzaWxlbnQiKXx8ISh0LmdldCgidHJpZ2dlckV2ZW50Iil8fGUmJmUuc2hvdyl9ZnVuY3Rpb24gRXUodCxlLGkpe3ZhciBuPXQuZ2V0KCJheGlzTGFiZWwuc2hvd01pbkxhYmVsIiksbz10LmdldCgiYXhpc0xhYmVsLnNob3dNYXhMYWJlbCIpO2U9ZXx8W10saT1pfHxbXTt2YXIgYT1lWzBdLHI9ZVsxXSxzPWVbZS5sZW5ndGgtMV0sbD1lW2UubGVuZ3RoLTJdLHU9aVswXSxoPWlbMV0sYz1pW2kubGVuZ3RoLTFdLGQ9aVtpLmxlbmd0aC0yXTshMT09PW4/KFJ1KGEpLFJ1KHUpKTp6dShhLHIpJiYobj8oUnUociksUnUoaCkpOihSdShhKSxSdSh1KSkpLCExPT09bz8oUnUocyksUnUoYykpOnp1KGwscykmJihvPyhSdShsKSxSdShkKSk6KFJ1KHMpLFJ1KGMpKSl9ZnVuY3Rpb24gUnUodCl7dCYmKHQuaWdub3JlPSEwKX1mdW5jdGlvbiB6dSh0LGUsaSl7dmFyIG49dCYmdC5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpLG89ZSYmZS5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO2lmKG4mJm8pe3ZhciBhPWx0KFtdKTtyZXR1cm4gZHQoYSxhLC10LnJvdGF0aW9uKSxuLmFwcGx5VHJhbnNmb3JtKGh0KFtdLGEsdC5nZXRMb2NhbFRyYW5zZm9ybSgpKSksby5hcHBseVRyYW5zZm9ybShodChbXSxhLGUuZ2V0TG9jYWxUcmFuc2Zvcm0oKSkpLG4uaW50ZXJzZWN0KG8pfX1mdW5jdGlvbiBCdSh0KXtyZXR1cm4ibWlkZGxlIj09PXR8fCJjZW50ZXIiPT09dH1mdW5jdGlvbiBWdSh0LGUsaSl7dmFyIG49ZS5heGlzO2lmKGUuZ2V0KCJheGlzVGljay5zaG93IikmJiFuLnNjYWxlLmlzQmxhbmsoKSl7Zm9yKHZhciBvPWUuZ2V0TW9kZWwoImF4aXNUaWNrIiksYT1vLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPW8uZ2V0KCJsZW5ndGgiKSxsPW4uZ2V0VGlja3NDb29yZHMoKSx1PVtdLGg9W10sYz10Ll90cmFuc2Zvcm0sZD1bXSxmPTA7ZjxsLmxlbmd0aDtmKyspe3ZhciBwPWxbZl0uY29vcmQ7dVswXT1wLHVbMV09MCxoWzBdPXAsaFsxXT1pLnRpY2tEaXJlY3Rpb24qcyxjJiYoUSh1LHUsYyksUShoLGgsYykpO3ZhciBnPW5ldyBTUyhHbih7YW5pZDoidGlja18iK2xbZl0udGlja1ZhbHVlLHNoYXBlOnt4MTp1WzBdLHkxOnVbMV0seDI6aFswXSx5MjpoWzFdfSxzdHlsZTpyKGEuZ2V0TGluZVN0eWxlKCkse3N0cm9rZTplLmdldCgiYXhpc0xpbmUubGluZVN0eWxlLmNvbG9yIil9KSx6MjoyLHNpbGVudDohMH0pKTt0Lmdyb3VwLmFkZChnKSxkLnB1c2goZyl9cmV0dXJuIGR9fWZ1bmN0aW9uIEd1KHQsZSxpKXt2YXIgbj1lLmF4aXM7aWYoVChpLmF4aXNMYWJlbFNob3csZS5nZXQoImF4aXNMYWJlbC5zaG93IikpJiYhbi5zY2FsZS5pc0JsYW5rKCkpe3ZhciBvPWUuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLGE9by5nZXQoIm1hcmdpbiIpLHI9bi5nZXRWaWV3TGFiZWxzKCkscz0oVChpLmxhYmVsUm90YXRlLG8uZ2V0KCJyb3RhdGUiKSl8fDApKkFELzE4MCxsPWtEKGkucm90YXRpb24scyxpLmxhYmVsRGlyZWN0aW9uKSx1PWUuZ2V0Q2F0ZWdvcmllcyghMCksaD1bXSxjPU91KGUpLGY9ZS5nZXQoInRyaWdnZXJFdmVudCIpO3JldHVybiBkKHIsZnVuY3Rpb24ocixzKXt2YXIgZD1yLnRpY2tWYWx1ZSxwPXIuZm9ybWF0dGVkTGFiZWwsZz1yLnJhd0xhYmVsLG09bzt1JiZ1W2RdJiZ1W2RdLnRleHRTdHlsZSYmKG09bmV3IHdvKHVbZF0udGV4dFN0eWxlLG8sZS5lY01vZGVsKSk7dmFyIHY9bS5nZXRUZXh0Q29sb3IoKXx8ZS5nZXQoImF4aXNMaW5lLmxpbmVTdHlsZS5jb2xvciIpLHk9W24uZGF0YVRvQ29vcmQoZCksaS5sYWJlbE9mZnNldCtpLmxhYmVsRGlyZWN0aW9uKmFdLHg9bmV3IGRTKHthbmlkOiJsYWJlbF8iK2QscG9zaXRpb246eSxyb3RhdGlvbjpsLnJvdGF0aW9uLHNpbGVudDpjLHoyOjEwfSk7bm8oeC5zdHlsZSxtLHt0ZXh0OnAsdGV4dEFsaWduOm0uZ2V0U2hhbGxvdygiYWxpZ24iLCEwKXx8bC50ZXh0QWxpZ24sdGV4dFZlcnRpY2FsQWxpZ246bS5nZXRTaGFsbG93KCJ2ZXJ0aWNhbEFsaWduIiwhMCl8fG0uZ2V0U2hhbGxvdygiYmFzZWxpbmUiLCEwKXx8bC50ZXh0VmVydGljYWxBbGlnbix0ZXh0RmlsbDoiZnVuY3Rpb24iPT10eXBlb2Ygdj92KCJjYXRlZ29yeSI9PT1uLnR5cGU/ZzoidmFsdWUiPT09bi50eXBlP2QrIiI6ZCxzKTp2fSksZiYmKHguZXZlbnREYXRhPVB1KGUpLHguZXZlbnREYXRhLnRhcmdldFR5cGU9ImF4aXNMYWJlbCIseC5ldmVudERhdGEudmFsdWU9ZyksdC5fZHVtYkdyb3VwLmFkZCh4KSx4LnVwZGF0ZVRyYW5zZm9ybSgpLGgucHVzaCh4KSx0Lmdyb3VwLmFkZCh4KSx4LmRlY29tcG9zZVRyYW5zZm9ybSgpfSksaH19ZnVuY3Rpb24gV3UodCxlKXt2YXIgaT17YXhlc0luZm86e30sc2VyaWVzSW52b2x2ZWQ6ITEsY29vcmRTeXNBeGVzSW5mbzp7fSxjb29yZFN5c01hcDp7fX07cmV0dXJuIEZ1KGksdCxlKSxpLnNlcmllc0ludm9sdmVkJiZadShpLHQpLGl9ZnVuY3Rpb24gRnUodCxlLGkpe3ZhciBuPWUuZ2V0Q29tcG9uZW50KCJ0b29sdGlwIiksbz1lLmdldENvbXBvbmVudCgiYXhpc1BvaW50ZXIiKSxhPW8uZ2V0KCJsaW5rIiwhMCl8fFtdLHI9W107UEQoaS5nZXRDb29yZGluYXRlU3lzdGVtcygpLGZ1bmN0aW9uKGkpe2Z1bmN0aW9uIHMobixzLGwpe3ZhciBjPWwubW9kZWwuZ2V0TW9kZWwoImF4aXNQb2ludGVyIixvKSxkPWMuZ2V0KCJzaG93Iik7aWYoZCYmKCJhdXRvIiE9PWR8fG58fEt1KGMpKSl7bnVsbD09cyYmKHM9Yy5nZXQoInRyaWdnZXJUb29sdGlwIikpO3ZhciBmPShjPW4/SHUobCxoLG8sZSxuLHMpOmMpLmdldCgic25hcCIpLHA9JHUobC5tb2RlbCksZz1zfHxmfHwiY2F0ZWdvcnkiPT09bC50eXBlLG09dC5heGVzSW5mb1twXT17a2V5OnAsYXhpczpsLGNvb3JkU3lzOmksYXhpc1BvaW50ZXJNb2RlbDpjLHRyaWdnZXJUb29sdGlwOnMsaW52b2x2ZVNlcmllczpnLHNuYXA6Zix1c2VIYW5kbGU6S3UoYyksc2VyaWVzTW9kZWxzOltdfTt1W3BdPW0sdC5zZXJpZXNJbnZvbHZlZHw9Zzt2YXIgdj1VdShhLGwpO2lmKG51bGwhPXYpe3ZhciB5PXJbdl18fChyW3ZdPXtheGVzSW5mbzp7fX0pO3kuYXhlc0luZm9bcF09bSx5Lm1hcHBlcj1hW3ZdLm1hcHBlcixtLmxpbmtHcm91cD15fX19aWYoaS5heGlzUG9pbnRlckVuYWJsZWQpe3ZhciBsPSR1KGkubW9kZWwpLHU9dC5jb29yZFN5c0F4ZXNJbmZvW2xdPXt9O3QuY29vcmRTeXNNYXBbbF09aTt2YXIgaD1pLm1vZGVsLmdldE1vZGVsKCJ0b29sdGlwIixuKTtpZihQRChpLmdldEF4ZXMoKSxORChzLCExLG51bGwpKSxpLmdldFRvb2x0aXBBeGVzJiZuJiZoLmdldCgic2hvdyIpKXt2YXIgYz0iYXhpcyI9PT1oLmdldCgidHJpZ2dlciIpLGQ9ImNyb3NzIj09PWguZ2V0KCJheGlzUG9pbnRlci50eXBlIiksZj1pLmdldFRvb2x0aXBBeGVzKGguZ2V0KCJheGlzUG9pbnRlci5heGlzIikpOyhjfHxkKSYmUEQoZi5iYXNlQXhlcyxORChzLCFkfHwiY3Jvc3MiLGMpKSxkJiZQRChmLm90aGVyQXhlcyxORChzLCJjcm9zcyIsITEpKX19fSl9ZnVuY3Rpb24gSHUodCxlLG4sbyxhLHMpe3ZhciBsPWUuZ2V0TW9kZWwoImF4aXNQb2ludGVyIiksdT17fTtQRChbInR5cGUiLCJzbmFwIiwibGluZVN0eWxlIiwic2hhZG93U3R5bGUiLCJsYWJlbCIsImFuaW1hdGlvbiIsImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlIiwiYW5pbWF0aW9uRWFzaW5nVXBkYXRlIiwieiJdLGZ1bmN0aW9uKHQpe3VbdF09aShsLmdldCh0KSl9KSx1LnNuYXA9ImNhdGVnb3J5IiE9PXQudHlwZSYmISFzLCJjcm9zcyI9PT1sLmdldCgidHlwZSIpJiYodS50eXBlPSJsaW5lIik7dmFyIGg9dS5sYWJlbHx8KHUubGFiZWw9e30pO2lmKG51bGw9PWguc2hvdyYmKGguc2hvdz0hMSksImNyb3NzIj09PWEpe3ZhciBjPWwuZ2V0KCJsYWJlbC5zaG93Iik7aWYoaC5zaG93PW51bGw9PWN8fGMsIXMpe3ZhciBkPXUubGluZVN0eWxlPWwuZ2V0KCJjcm9zc1N0eWxlIik7ZCYmcihoLGQudGV4dFN0eWxlKX19cmV0dXJuIHQubW9kZWwuZ2V0TW9kZWwoImF4aXNQb2ludGVyIixuZXcgd28odSxuLG8pKX1mdW5jdGlvbiBadSh0LGUpe2UuZWFjaFNlcmllcyhmdW5jdGlvbihlKXt2YXIgaT1lLmNvb3JkaW5hdGVTeXN0ZW0sbj1lLmdldCgidG9vbHRpcC50cmlnZ2VyIiwhMCksbz1lLmdldCgidG9vbHRpcC5zaG93IiwhMCk7aSYmIm5vbmUiIT09biYmITEhPT1uJiYiaXRlbSIhPT1uJiYhMSE9PW8mJiExIT09ZS5nZXQoImF4aXNQb2ludGVyLnNob3ciLCEwKSYmUEQodC5jb29yZFN5c0F4ZXNJbmZvWyR1KGkubW9kZWwpXSxmdW5jdGlvbih0KXt2YXIgbj10LmF4aXM7aS5nZXRBeGlzKG4uZGltKT09PW4mJih0LnNlcmllc01vZGVscy5wdXNoKGUpLG51bGw9PXQuc2VyaWVzRGF0YUNvdW50JiYodC5zZXJpZXNEYXRhQ291bnQ9MCksdC5zZXJpZXNEYXRhQ291bnQrPWUuZ2V0RGF0YSgpLmNvdW50KCkpfSl9LHRoaXMpfWZ1bmN0aW9uIFV1KHQsZSl7Zm9yKHZhciBpPWUubW9kZWwsbj1lLmRpbSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBhPXRbb118fHt9O2lmKFh1KGFbbisiQXhpc0lkIl0saS5pZCl8fFh1KGFbbisiQXhpc0luZGV4Il0saS5jb21wb25lbnRJbmRleCl8fFh1KGFbbisiQXhpc05hbWUiXSxpLm5hbWUpKXJldHVybiBvfX1mdW5jdGlvbiBYdSh0LGUpe3JldHVybiJhbGwiPT09dHx8eSh0KSYmbCh0LGUpPj0wfHx0PT09ZX1mdW5jdGlvbiBqdSh0KXt2YXIgZT1ZdSh0KTtpZihlKXt2YXIgaT1lLmF4aXNQb2ludGVyTW9kZWwsbj1lLmF4aXMuc2NhbGUsbz1pLm9wdGlvbixhPWkuZ2V0KCJzdGF0dXMiKSxyPWkuZ2V0KCJ2YWx1ZSIpO251bGwhPXImJihyPW4ucGFyc2UocikpO3ZhciBzPUt1KGkpO251bGw9PWEmJihvLnN0YXR1cz1zPyJzaG93IjoiaGlkZSIpO3ZhciBsPW4uZ2V0RXh0ZW50KCkuc2xpY2UoKTtsWzBdPmxbMV0mJmwucmV2ZXJzZSgpLChudWxsPT1yfHxyPmxbMV0pJiYocj1sWzFdKSxyPGxbMF0mJihyPWxbMF0pLG8udmFsdWU9cixzJiYoby5zdGF0dXM9ZS5heGlzLnNjYWxlLmlzQmxhbmsoKT8iaGlkZSI6InNob3ciKX19ZnVuY3Rpb24gWXUodCl7dmFyIGU9KHQuZWNNb2RlbC5nZXRDb21wb25lbnQoImF4aXNQb2ludGVyIil8fHt9KS5jb29yZFN5c0F4ZXNJbmZvO3JldHVybiBlJiZlLmF4ZXNJbmZvWyR1KHQpXX1mdW5jdGlvbiBxdSh0KXt2YXIgZT1ZdSh0KTtyZXR1cm4gZSYmZS5heGlzUG9pbnRlck1vZGVsfWZ1bmN0aW9uIEt1KHQpe3JldHVybiEhdC5nZXQoImhhbmRsZS5zaG93Iil9ZnVuY3Rpb24gJHUodCl7cmV0dXJuIHQudHlwZSsifHwiK3QuaWR9ZnVuY3Rpb24gSnUodCxlLGksbixvLGEpe3ZhciByPU9ELmdldEF4aXNQb2ludGVyQ2xhc3ModC5heGlzUG9pbnRlckNsYXNzKTtpZihyKXt2YXIgcz1xdShlKTtzPyh0Ll9heGlzUG9pbnRlcnx8KHQuX2F4aXNQb2ludGVyPW5ldyByKSkucmVuZGVyKGUscyxuLGEpOlF1KHQsbil9fWZ1bmN0aW9uIFF1KHQsZSxpKXt2YXIgbj10Ll9heGlzUG9pbnRlcjtuJiZuLmRpc3Bvc2UoZSxpKSx0Ll9heGlzUG9pbnRlcj1udWxsfWZ1bmN0aW9uIHRoKHQsZSxpKXtpPWl8fHt9O3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbSxvPWUuYXhpcyxhPXt9LHI9by5nZXRBeGVzT25aZXJvT2YoKVswXSxzPW8ucG9zaXRpb24sbD1yPyJvblplcm8iOnMsdT1vLmRpbSxoPW4uZ2V0UmVjdCgpLGM9W2gueCxoLngraC53aWR0aCxoLnksaC55K2guaGVpZ2h0XSxkPXtsZWZ0OjAscmlnaHQ6MSx0b3A6MCxib3R0b206MSxvblplcm86Mn0sZj1lLmdldCgib2Zmc2V0Iil8fDAscD0ieCI9PT11P1tjWzJdLWYsY1szXStmXTpbY1swXS1mLGNbMV0rZl07aWYocil7dmFyIGc9ci50b0dsb2JhbENvb3JkKHIuZGF0YVRvQ29vcmQoMCkpO3BbZC5vblplcm9dPU1hdGgubWF4KE1hdGgubWluKGcscFsxXSkscFswXSl9YS5wb3NpdGlvbj1bInkiPT09dT9wW2RbbF1dOmNbMF0sIngiPT09dT9wW2RbbF1dOmNbM11dLGEucm90YXRpb249TWF0aC5QSS8yKigieCI9PT11PzA6MSk7dmFyIG09e3RvcDotMSxib3R0b206MSxsZWZ0Oi0xLHJpZ2h0OjF9O2EubGFiZWxEaXJlY3Rpb249YS50aWNrRGlyZWN0aW9uPWEubmFtZURpcmVjdGlvbj1tW3NdLGEubGFiZWxPZmZzZXQ9cj9wW2Rbc11dLXBbZC5vblplcm9dOjAsZS5nZXQoImF4aXNUaWNrLmluc2lkZSIpJiYoYS50aWNrRGlyZWN0aW9uPS1hLnRpY2tEaXJlY3Rpb24pLFQoaS5sYWJlbEluc2lkZSxlLmdldCgiYXhpc0xhYmVsLmluc2lkZSIpKSYmKGEubGFiZWxEaXJlY3Rpb249LWEubGFiZWxEaXJlY3Rpb24pO3ZhciB2PWUuZ2V0KCJheGlzTGFiZWwucm90YXRlIik7cmV0dXJuIGEubGFiZWxSb3RhdGU9InRvcCI9PT1sPy12OnYsYS56Mj0xLGF9ZnVuY3Rpb24gZWgodCxlLGksbixvLGEscil7aW8odCxlLGkuZ2V0TW9kZWwoImxhYmVsIiksaS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSx7bGFiZWxGZXRjaGVyOm8sbGFiZWxEYXRhSW5kZXg6YSxkZWZhdWx0VGV4dDpqbChvLmdldERhdGEoKSxhKSxpc1JlY3RUZXh0OiEwLGF1dG9Db2xvcjpufSksaWgodCksaWgoZSl9ZnVuY3Rpb24gaWgodCxlKXsib3V0c2lkZSI9PT10LnRleHRQb3NpdGlvbiYmKHQudGV4dFBvc2l0aW9uPWUpfWZ1bmN0aW9uIG5oKHQsZSxpKXtpLnN0eWxlLnRleHQ9bnVsbCxmbyhpLHtzaGFwZTp7d2lkdGg6MH19LGUsdCxmdW5jdGlvbigpe2kucGFyZW50JiZpLnBhcmVudC5yZW1vdmUoaSl9KX1mdW5jdGlvbiBvaCh0LGUsaSl7aS5zdHlsZS50ZXh0PW51bGwsZm8oaSx7c2hhcGU6e3I6aS5zaGFwZS5yMH19LGUsdCxmdW5jdGlvbigpe2kucGFyZW50JiZpLnBhcmVudC5yZW1vdmUoaSl9KX1mdW5jdGlvbiBhaCh0LGUsaSxuLG8sYSxzLGwpe3ZhciB1PWUuZ2V0SXRlbVZpc3VhbChpLCJjb2xvciIpLGg9ZS5nZXRJdGVtVmlzdWFsKGksIm9wYWNpdHkiKSxjPW4uZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLGQ9bi5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIikuZ2V0QmFySXRlbVN0eWxlKCk7bHx8dC5zZXRTaGFwZSgiciIsYy5nZXQoImJhckJvcmRlclJhZGl1cyIpfHwwKSx0LnVzZVN0eWxlKHIoe2ZpbGw6dSxvcGFjaXR5Omh9LGMuZ2V0QmFySXRlbVN0eWxlKCkpKTt2YXIgZj1uLmdldFNoYWxsb3coImN1cnNvciIpO2YmJnQuYXR0cigiY3Vyc29yIixmKTt2YXIgcD1zP28uaGVpZ2h0PjA/ImJvdHRvbSI6InRvcCI6by53aWR0aD4wPyJsZWZ0IjoicmlnaHQiO2x8fGVoKHQuc3R5bGUsZCxuLHUsYSxpLHApLGVvKHQsZCl9ZnVuY3Rpb24gcmgodCxlKXt2YXIgaT10LmdldChGRCl8fDA7cmV0dXJuIE1hdGgubWluKGksTWF0aC5hYnMoZS53aWR0aCksTWF0aC5hYnMoZS5oZWlnaHQpKX1mdW5jdGlvbiBzaCh0LGUsaSl7dmFyIG49dC5nZXREYXRhKCksbz1bXSxhPW4uZ2V0TGF5b3V0KCJ2YWx1ZUF4aXNIb3Jpem9udGFsIik/MTowO29bMS1hXT1uLmdldExheW91dCgidmFsdWVBeGlzU3RhcnQiKTt2YXIgcj1uZXcgVUQoe3NoYXBlOntwb2ludHM6bi5nZXRMYXlvdXQoImxhcmdlUG9pbnRzIil9LGluY3JlbWVudGFsOiEhaSxfX3N0YXJ0UG9pbnQ6byxfX3ZhbHVlSWR4OmF9KTtlLmFkZChyKSxsaChyLHQsbil9ZnVuY3Rpb24gbGgodCxlLGkpe3ZhciBuPWkuZ2V0VmlzdWFsKCJib3JkZXJDb2xvciIpfHxpLmdldFZpc3VhbCgiY29sb3IiKSxvPWUuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZShbImNvbG9yIiwiYm9yZGVyQ29sb3IiXSk7dC51c2VTdHlsZShvKSx0LnN0eWxlLmZpbGw9bnVsbCx0LnN0eWxlLnN0cm9rZT1uLHQuc3R5bGUubGluZVdpZHRoPWkuZ2V0TGF5b3V0KCJiYXJXaWR0aCIpfWZ1bmN0aW9uIHVoKHQsZSxpLG4pe3ZhciBvPWUuZ2V0RGF0YSgpLGE9dGhpcy5kYXRhSW5kZXgscj1vLmdldE5hbWUoYSkscz1lLmdldCgic2VsZWN0ZWRPZmZzZXQiKTtuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJwaWVUb2dnbGVTZWxlY3QiLGZyb206dCxuYW1lOnIsc2VyaWVzSWQ6ZS5pZH0pLG8uZWFjaChmdW5jdGlvbih0KXtoaChvLmdldEl0ZW1HcmFwaGljRWwodCksby5nZXRJdGVtTGF5b3V0KHQpLGUuaXNTZWxlY3RlZChvLmdldE5hbWUodCkpLHMsaSl9KX1mdW5jdGlvbiBoaCh0LGUsaSxuLG8pe3ZhciBhPShlLnN0YXJ0QW5nbGUrZS5lbmRBbmdsZSkvMixyPU1hdGguY29zKGEpLHM9TWF0aC5zaW4oYSksbD1pP246MCx1PVtyKmwscypsXTtvP3QuYW5pbWF0ZSgpLndoZW4oMjAwLHtwb3NpdGlvbjp1fSkuc3RhcnQoImJvdW5jZU91dCIpOnQuYXR0cigicG9zaXRpb24iLHUpfWZ1bmN0aW9uIGNoKHQsZSl7ZnVuY3Rpb24gaSgpe2EuaWdub3JlPWEuaG92ZXJJZ25vcmUsci5pZ25vcmU9ci5ob3Zlcklnbm9yZX1mdW5jdGlvbiBuKCl7YS5pZ25vcmU9YS5ub3JtYWxJZ25vcmUsci5pZ25vcmU9ci5ub3JtYWxJZ25vcmV9cncuY2FsbCh0aGlzKTt2YXIgbz1uZXcgbVMoe3oyOjJ9KSxhPW5ldyB3UyxyPW5ldyBkUzt0aGlzLmFkZChvKSx0aGlzLmFkZChhKSx0aGlzLmFkZChyKSx0aGlzLnVwZGF0ZURhdGEodCxlLCEwKSx0aGlzLm9uKCJlbXBoYXNpcyIsaSkub24oIm5vcm1hbCIsbikub24oIm1vdXNlb3ZlciIsaSkub24oIm1vdXNlb3V0IixuKX1mdW5jdGlvbiBkaCh0LGUsaSxuLG8sYSxyKXtmdW5jdGlvbiBzKGUsaSl7Zm9yKHZhciBuPWU7bj49MCYmKHRbbl0ueS09aSwhKG4+MCYmdFtuXS55PnRbbi0xXS55K3Rbbi0xXS5oZWlnaHQpKTtuLS0pO31mdW5jdGlvbiBsKHQsZSxpLG4sbyxhKXtmb3IodmFyIHI9ZT9OdW1iZXIuTUFYX1ZBTFVFOjAscz0wLGw9dC5sZW5ndGg7czxsO3MrKylpZigiY2VudGVyIiE9PXRbc10ucG9zaXRpb24pe3ZhciB1PU1hdGguYWJzKHRbc10ueS1uKSxoPXRbc10ubGVuLGM9dFtzXS5sZW4yLGQ9dTxvK2g/TWF0aC5zcXJ0KChvK2grYykqKG8raCtjKS11KnUpOk1hdGguYWJzKHRbc10ueC1pKTtlJiZkPj1yJiYoZD1yLTEwKSwhZSYmZDw9ciYmKGQ9cisxMCksdFtzXS54PWkrZCphLHI9ZH19dC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueS1lLnl9KTtmb3IodmFyIHUsaD0wLGM9dC5sZW5ndGgsZD1bXSxmPVtdLHA9MDtwPGM7cCsrKSh1PXRbcF0ueS1oKTwwJiZmdW5jdGlvbihlLGksbixvKXtmb3IodmFyIGE9ZTthPGk7YSsrKWlmKHRbYV0ueSs9bixhPmUmJmErMTxpJiZ0W2ErMV0ueT50W2FdLnkrdFthXS5oZWlnaHQpcmV0dXJuIHZvaWQgcyhhLG4vMik7cyhpLTEsbi8yKX0ocCxjLC11KSxoPXRbcF0ueSt0W3BdLmhlaWdodDtyLWg8MCYmcyhjLTEsaC1yKTtmb3IocD0wO3A8YztwKyspdFtwXS55Pj1pP2YucHVzaCh0W3BdKTpkLnB1c2godFtwXSk7bChkLCExLGUsaSxuLG8pLGwoZiwhMCxlLGksbixvKX1mdW5jdGlvbiBmaCh0LGUsaSxuLG8sYSl7Zm9yKHZhciByPVtdLHM9W10sbD0wO2w8dC5sZW5ndGg7bCsrKXRbbF0ueDxlP3IucHVzaCh0W2xdKTpzLnB1c2godFtsXSk7ZGgocyxlLGksbiwxLG8sYSksZGgocixlLGksbiwtMSxvLGEpO2ZvcihsPTA7bDx0Lmxlbmd0aDtsKyspe3ZhciB1PXRbbF0ubGluZVBvaW50cztpZih1KXt2YXIgaD11WzFdWzBdLXVbMl1bMF07dFtsXS54PGU/dVsyXVswXT10W2xdLngrMzp1WzJdWzBdPXRbbF0ueC0zLHVbMV1bMV09dVsyXVsxXT10W2xdLnksdVsxXVswXT11WzJdWzBdK2h9fX1mdW5jdGlvbiBwaCgpe3RoaXMuZ3JvdXA9bmV3IHJ3fWZ1bmN0aW9uIGdoKHQsZSxpKXtZVC5jYWxsKHRoaXMsdCxlLGkpLHRoaXMudHlwZT0idmFsdWUiLHRoaXMuYW5nbGU9MCx0aGlzLm5hbWU9IiIsdGhpcy5tb2RlbH1mdW5jdGlvbiBtaCh0LGUsaSl7dGhpcy5fbW9kZWw9dCx0aGlzLmRpbWVuc2lvbnM9W10sdGhpcy5faW5kaWNhdG9yQXhlcz1mKHQuZ2V0SW5kaWNhdG9yTW9kZWxzKCksZnVuY3Rpb24odCxlKXt2YXIgaT0iaW5kaWNhdG9yXyIrZSxuPW5ldyBnaChpLG5ldyBnVCk7cmV0dXJuIG4ubmFtZT10LmdldCgibmFtZSIpLG4ubW9kZWw9dCx0LmF4aXM9bix0aGlzLmRpbWVuc2lvbnMucHVzaChpKSxufSx0aGlzKSx0aGlzLnJlc2l6ZSh0LGkpLHRoaXMuY3gsdGhpcy5jeSx0aGlzLnIsdGhpcy5zdGFydEFuZ2xlfWZ1bmN0aW9uIHZoKHQsZSl7cmV0dXJuIHIoe3Nob3c6ZX0sdCl9ZnVuY3Rpb24geWgodCl7cmV0dXJuIHkodCl8fCh0PVsrdCwrdF0pLHR9ZnVuY3Rpb24geGgoKXtPXy5jYWxsKHRoaXMpfWZ1bmN0aW9uIF9oKHQpe3RoaXMubmFtZT10LHRoaXMuem9vbUxpbWl0LE9fLmNhbGwodGhpcyksdGhpcy5fcm9hbVRyYW5zZm9ybWFibGU9bmV3IHhoLHRoaXMuX3Jhd1RyYW5zZm9ybWFibGU9bmV3IHhoLHRoaXMuX2NlbnRlcix0aGlzLl96b29tfWZ1bmN0aW9uIHdoKHQsZSxpLG4pe3ZhciBvPWkuc2VyaWVzTW9kZWwsYT1vP28uY29vcmRpbmF0ZVN5c3RlbTpudWxsO3JldHVybiBhPT09dGhpcz9hW3RdKG4pOm51bGx9ZnVuY3Rpb24gYmgodCxlLGksbixvKXtfaC5jYWxsKHRoaXMsdCksdGhpcy5tYXA9ZSx0aGlzLl9uYW1lQ29vcmRNYXA9UigpLHRoaXMubG9hZEdlb0pzb24oaSxuLG8pfWZ1bmN0aW9uIFNoKHQsZSxpLG4pe3ZhciBvPWkuZ2VvTW9kZWwsYT1pLnNlcmllc01vZGVsLHI9bz9vLmNvb3JkaW5hdGVTeXN0ZW06YT9hLmNvb3JkaW5hdGVTeXN0ZW18fChhLmdldFJlZmVycmluZ0NvbXBvbmVudHMoImdlbyIpWzBdfHx7fSkuY29vcmRpbmF0ZVN5c3RlbTpudWxsO3JldHVybiByPT09dGhpcz9yW3RdKG4pOm51bGx9ZnVuY3Rpb24gTWgodCxlKXt2YXIgaT10LmdldCgiYm91bmRpbmdDb29yZHMiKTtpZihudWxsIT1pKXt2YXIgbj1pWzBdLG89aVsxXTtpc05hTihuWzBdKXx8aXNOYU4oblsxXSl8fGlzTmFOKG9bMF0pfHxpc05hTihvWzFdKXx8dGhpcy5zZXRCb3VuZGluZ1JlY3QoblswXSxuWzFdLG9bMF0tblswXSxvWzFdLW5bMV0pfXZhciBhLHI9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxzPXQuZ2V0KCJsYXlvdXRDZW50ZXIiKSxsPXQuZ2V0KCJsYXlvdXRTaXplIiksdT1lLmdldFdpZHRoKCksaD1lLmdldEhlaWdodCgpLGM9dC5nZXQoImFzcGVjdFNjYWxlIil8fC43NSxkPXIud2lkdGgvci5oZWlnaHQqYyxmPSExO3MmJmwmJihzPVtEbyhzWzBdLHUpLERvKHNbMV0saCldLGw9RG8obCxNYXRoLm1pbih1LGgpKSxpc05hTihzWzBdKXx8aXNOYU4oc1sxXSl8fGlzTmFOKGwpfHwoZj0hMCkpO2lmKGYpe3ZhciBwPXt9O2Q+MT8ocC53aWR0aD1sLHAuaGVpZ2h0PWwvZCk6KHAuaGVpZ2h0PWwscC53aWR0aD1sKmQpLHAueT1zWzFdLXAuaGVpZ2h0LzIscC54PXNbMF0tcC53aWR0aC8yfWVsc2UoYT10LmdldEJveExheW91dFBhcmFtcygpKS5hc3BlY3Q9ZCxwPVFvKGEse3dpZHRoOnUsaGVpZ2h0Omh9KTt0aGlzLnNldFZpZXdSZWN0KHAueCxwLnkscC53aWR0aCxwLmhlaWdodCksdGhpcy5zZXRDZW50ZXIodC5nZXQoImNlbnRlciIpKSx0aGlzLnNldFpvb20odC5nZXQoInpvb20iKSl9ZnVuY3Rpb24gSWgodCxlKXtkKGUuZ2V0KCJnZW9Db29yZCIpLGZ1bmN0aW9uKGUsaSl7dC5hZGRHZW9Db29yZChpLGUpfSl9ZnVuY3Rpb24gVGgodCxlLGkpe0NoKHQpW2VdPWl9ZnVuY3Rpb24gRGgodCxlLGkpe3ZhciBuPUNoKHQpO25bZV09PT1pJiYobltlXT1udWxsKX1mdW5jdGlvbiBBaCh0LGUpe3JldHVybiEhQ2godClbZV19ZnVuY3Rpb24gQ2godCl7cmV0dXJuIHRbeUFdfHwodFt5QV09e30pfWZ1bmN0aW9uIExoKHQpe3RoaXMucG9pbnRlckNoZWNrZXIsdGhpcy5fenI9dCx0aGlzLl9vcHQ9e307dmFyIGU9bSxuPWUoa2gsdGhpcyksbz1lKFBoLHRoaXMpLGE9ZShOaCx0aGlzKSxzPWUoT2gsdGhpcyksbD1lKEVoLHRoaXMpO1RfLmNhbGwodGhpcyksdGhpcy5zZXRQb2ludGVyQ2hlY2tlcj1mdW5jdGlvbih0KXt0aGlzLnBvaW50ZXJDaGVja2VyPXR9LHRoaXMuZW5hYmxlPWZ1bmN0aW9uKGUsdSl7dGhpcy5kaXNhYmxlKCksdGhpcy5fb3B0PXIoaSh1KXx8e30se3pvb21Pbk1vdXNlV2hlZWw6ITAsbW92ZU9uTW91c2VNb3ZlOiEwLHByZXZlbnREZWZhdWx0TW91c2VNb3ZlOiEwfSksbnVsbD09ZSYmKGU9ITApLCEwIT09ZSYmIm1vdmUiIT09ZSYmInBhbiIhPT1lfHwodC5vbigibW91c2Vkb3duIixuKSx0Lm9uKCJtb3VzZW1vdmUiLG8pLHQub24oIm1vdXNldXAiLGEpKSwhMCE9PWUmJiJzY2FsZSIhPT1lJiYiem9vbSIhPT1lfHwodC5vbigibW91c2V3aGVlbCIscyksdC5vbigicGluY2giLGwpKX0sdGhpcy5kaXNhYmxlPWZ1bmN0aW9uKCl7dC5vZmYoIm1vdXNlZG93biIsbiksdC5vZmYoIm1vdXNlbW92ZSIsbyksdC5vZmYoIm1vdXNldXAiLGEpLHQub2ZmKCJtb3VzZXdoZWVsIixzKSx0Lm9mZigicGluY2giLGwpfSx0aGlzLmRpc3Bvc2U9dGhpcy5kaXNhYmxlLHRoaXMuaXNEcmFnZ2luZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2luZ30sdGhpcy5pc1BpbmNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpbmNoaW5nfX1mdW5jdGlvbiBraCh0KXtpZighKGNpKHQpfHx0LnRhcmdldCYmdC50YXJnZXQuZHJhZ2dhYmxlKSl7dmFyIGU9dC5vZmZzZXRYLGk9dC5vZmZzZXRZO3RoaXMucG9pbnRlckNoZWNrZXImJnRoaXMucG9pbnRlckNoZWNrZXIodCxlLGkpJiYodGhpcy5feD1lLHRoaXMuX3k9aSx0aGlzLl9kcmFnZ2luZz0hMCl9fWZ1bmN0aW9uIFBoKHQpe2lmKCFjaSh0KSYmemgodGhpcywibW92ZU9uTW91c2VNb3ZlIix0KSYmdGhpcy5fZHJhZ2dpbmcmJiJwaW5jaCIhPT10Lmdlc3R1cmVFdmVudCYmIUFoKHRoaXMuX3pyLCJnbG9iYWxQYW4iKSl7dmFyIGU9dC5vZmZzZXRYLGk9dC5vZmZzZXRZLG49dGhpcy5feCxvPXRoaXMuX3ksYT1lLW4scj1pLW87dGhpcy5feD1lLHRoaXMuX3k9aSx0aGlzLl9vcHQucHJldmVudERlZmF1bHRNb3VzZU1vdmUmJlJ3KHQuZXZlbnQpLHRoaXMudHJpZ2dlcigicGFuIixhLHIsbixvLGUsaSl9fWZ1bmN0aW9uIE5oKHQpe2NpKHQpfHwodGhpcy5fZHJhZ2dpbmc9ITEpfWZ1bmN0aW9uIE9oKHQpe2lmKHpoKHRoaXMsInpvb21Pbk1vdXNlV2hlZWwiLHQpJiYwIT09dC53aGVlbERlbHRhKXt2YXIgZT10LndoZWVsRGVsdGE+MD8xLjE6MS8xLjE7UmguY2FsbCh0aGlzLHQsZSx0Lm9mZnNldFgsdC5vZmZzZXRZKX19ZnVuY3Rpb24gRWgodCl7aWYoIUFoKHRoaXMuX3pyLCJnbG9iYWxQYW4iKSl7dmFyIGU9dC5waW5jaFNjYWxlPjE/MS4xOjEvMS4xO1JoLmNhbGwodGhpcyx0LGUsdC5waW5jaFgsdC5waW5jaFkpfX1mdW5jdGlvbiBSaCh0LGUsaSxuKXt0aGlzLnBvaW50ZXJDaGVja2VyJiZ0aGlzLnBvaW50ZXJDaGVja2VyKHQsaSxuKSYmKFJ3KHQuZXZlbnQpLHRoaXMudHJpZ2dlcigiem9vbSIsZSxpLG4pKX1mdW5jdGlvbiB6aCh0LGUsaSl7dmFyIG49dC5fb3B0W2VdO3JldHVybiBuJiYoIV8obil8fGkuZXZlbnRbbisiS2V5Il0pfWZ1bmN0aW9uIEJoKHQsZSxpKXt2YXIgbj10LnRhcmdldCxvPW4ucG9zaXRpb247b1swXSs9ZSxvWzFdKz1pLG4uZGlydHkoKX1mdW5jdGlvbiBWaCh0LGUsaSxuKXt2YXIgbz10LnRhcmdldCxhPXQuem9vbUxpbWl0LHI9by5wb3NpdGlvbixzPW8uc2NhbGUsbD10Lnpvb209dC56b29tfHwxO2lmKGwqPWUsYSl7dmFyIHU9YS5taW58fDAsaD1hLm1heHx8MS8wO2w9TWF0aC5tYXgoTWF0aC5taW4oaCxsKSx1KX12YXIgYz1sL3Quem9vbTt0Lnpvb209bCxyWzBdLT0oaS1yWzBdKSooYy0xKSxyWzFdLT0obi1yWzFdKSooYy0xKSxzWzBdKj1jLHNbMV0qPWMsby5kaXJ0eSgpfWZ1bmN0aW9uIEdoKHQsZSxpKXt2YXIgbj1lLmdldENvbXBvbmVudEJ5RWxlbWVudCh0LnRvcFRhcmdldCksbz1uJiZuLmNvb3JkaW5hdGVTeXN0ZW07cmV0dXJuIG4mJm4hPT1pJiYheEFbbi5tYWluVHlwZV0mJm8mJm8ubW9kZWwhPT1pfWZ1bmN0aW9uIFdoKHQsZSl7dmFyIGk9dC5nZXRJdGVtU3R5bGUoKSxuPXQuZ2V0KCJhcmVhQ29sb3IiKTtyZXR1cm4gbnVsbCE9biYmKGkuZmlsbD1uKSxpfWZ1bmN0aW9uIEZoKHQsZSxpLG4sbyl7aS5vZmYoImNsaWNrIiksaS5vZmYoIm1vdXNlZG93biIpLGUuZ2V0KCJzZWxlY3RlZE1vZGUiKSYmKGkub24oIm1vdXNlZG93biIsZnVuY3Rpb24oKXt0Ll9tb3VzZURvd25GbGFnPSEwfSksaS5vbigiY2xpY2siLGZ1bmN0aW9uKGEpe2lmKHQuX21vdXNlRG93bkZsYWcpe3QuX21vdXNlRG93bkZsYWc9ITE7Zm9yKHZhciByPWEudGFyZ2V0OyFyLl9fcmVnaW9uczspcj1yLnBhcmVudDtpZihyKXt2YXIgcz17dHlwZTooImdlbyI9PT1lLm1haW5UeXBlPyJnZW8iOiJtYXAiKSsiVG9nZ2xlU2VsZWN0IixiYXRjaDpmKHIuX19yZWdpb25zLGZ1bmN0aW9uKHQpe3JldHVybntuYW1lOnQubmFtZSxmcm9tOm8udWlkfX0pfTtzW2UubWFpblR5cGUrIklkIl09ZS5pZCxuLmRpc3BhdGNoQWN0aW9uKHMpLEhoKGUsaSl9fX0pKX1mdW5jdGlvbiBIaCh0LGUpe2UuZWFjaENoaWxkKGZ1bmN0aW9uKGUpe2QoZS5fX3JlZ2lvbnMsZnVuY3Rpb24oaSl7ZS50cmlnZ2VyKHQuaXNTZWxlY3RlZChpLm5hbWUpPyJlbXBoYXNpcyI6Im5vcm1hbCIpfSl9KX1mdW5jdGlvbiBaaCh0LGUpe3ZhciBpPW5ldyBydzt0aGlzLl9jb250cm9sbGVyPW5ldyBMaCh0LmdldFpyKCkpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PXt0YXJnZXQ6ZT9pOm51bGx9LHRoaXMuZ3JvdXA9aSx0aGlzLl91cGRhdGVHcm91cD1lLHRoaXMuX21vdXNlRG93bkZsYWd9ZnVuY3Rpb24gVWgodCxlLGkpe3ZhciBuPXQuZ2V0Wm9vbSgpLG89dC5nZXRDZW50ZXIoKSxhPWUuem9vbSxyPXQuZGF0YVRvUG9pbnQobyk7aWYobnVsbCE9ZS5keCYmbnVsbCE9ZS5keSl7clswXS09ZS5keCxyWzFdLT1lLmR5O289dC5wb2ludFRvRGF0YShyKTt0LnNldENlbnRlcihvKX1pZihudWxsIT1hKXtpZihpKXt2YXIgcz1pLm1pbnx8MCxsPWkubWF4fHwxLzA7YT1NYXRoLm1heChNYXRoLm1pbihuKmEsbCkscykvbn10LnNjYWxlWzBdKj1hLHQuc2NhbGVbMV0qPWE7dmFyIHU9dC5wb3NpdGlvbixoPShlLm9yaWdpblgtdVswXSkqKGEtMSksYz0oZS5vcmlnaW5ZLXVbMV0pKihhLTEpO3VbMF0tPWgsdVsxXS09Yyx0LnVwZGF0ZVRyYW5zZm9ybSgpO289dC5wb2ludFRvRGF0YShyKTt0LnNldENlbnRlcihvKSx0LnNldFpvb20oYSpuKX1yZXR1cm57Y2VudGVyOnQuZ2V0Q2VudGVyKCksem9vbTp0LmdldFpvb20oKX19ZnVuY3Rpb24gWGgodCxlKXt2YXIgaT17fTtyZXR1cm4gZCh0LGZ1bmN0aW9uKHQpe3QuZWFjaCh0Lm1hcERpbWVuc2lvbigidmFsdWUiKSxmdW5jdGlvbihlLG4pe3ZhciBvPSJlYy0iK3QuZ2V0TmFtZShuKTtpW29dPWlbb118fFtdLGlzTmFOKGUpfHxpW29dLnB1c2goZSl9KX0pLHRbMF0ubWFwKHRbMF0ubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLGZ1bmN0aW9uKG4sbyl7Zm9yKHZhciBhPSJlYy0iK3RbMF0uZ2V0TmFtZShvKSxyPTAscz0xLzAsbD0tMS8wLHU9aVthXS5sZW5ndGgsaD0wO2g8dTtoKyspcz1NYXRoLm1pbihzLGlbYV1baF0pLGw9TWF0aC5tYXgobCxpW2FdW2hdKSxyKz1pW2FdW2hdO3ZhciBjO3JldHVybiBjPSJtaW4iPT09ZT9zOiJtYXgiPT09ZT9sOiJhdmVyYWdlIj09PWU/ci91OnIsMD09PXU/TmFOOmN9KX1mdW5jdGlvbiBqaCh0KXt2YXIgZT10Lm1haW5EYXRhLGk9dC5kYXRhcztpfHwoaT17bWFpbjplfSx0LmRhdGFzQXR0cj17bWFpbjoiZGF0YSJ9KSx0LmRhdGFzPXQubWFpbkRhdGE9bnVsbCxRaChlLGksdCksX0EoaSxmdW5jdGlvbihpKXtfQShlLlRSQU5TRkVSQUJMRV9NRVRIT0RTLGZ1bmN0aW9uKGUpe2kud3JhcE1ldGhvZChlLHYoWWgsdCkpfSl9KSxlLndyYXBNZXRob2QoImNsb25lU2hhbGxvdyIsdihLaCx0KSksX0EoZS5DSEFOR0FCTEVfTUVUSE9EUyxmdW5jdGlvbihpKXtlLndyYXBNZXRob2QoaSx2KHFoLHQpKX0pLGsoaVtlLmRhdGFUeXBlXT09PWUpfWZ1bmN0aW9uIFloKHQsZSl7aWYoSmgodGhpcykpe3ZhciBpPWEoe30sdGhpc1t3QV0pO2lbdGhpcy5kYXRhVHlwZV09ZSxRaChlLGksdCl9ZWxzZSB0YyhlLHRoaXMuZGF0YVR5cGUsdGhpc1tiQV0sdCk7cmV0dXJuIGV9ZnVuY3Rpb24gcWgodCxlKXtyZXR1cm4gdC5zdHJ1Y3QmJnQuc3RydWN0LnVwZGF0ZSh0aGlzKSxlfWZ1bmN0aW9uIEtoKHQsZSl7cmV0dXJuIF9BKGVbd0FdLGZ1bmN0aW9uKGksbil7aSE9PWUmJnRjKGkuY2xvbmVTaGFsbG93KCksbixlLHQpfSksZX1mdW5jdGlvbiAkaCh0KXt2YXIgZT10aGlzW2JBXTtyZXR1cm4gbnVsbD09dHx8bnVsbD09ZT9lOmVbd0FdW3RdfWZ1bmN0aW9uIEpoKHQpe3JldHVybiB0W2JBXT09PXR9ZnVuY3Rpb24gUWgodCxlLGkpe3Rbd0FdPXt9LF9BKGUsZnVuY3Rpb24oZSxuKXt0YyhlLG4sdCxpKX0pfWZ1bmN0aW9uIHRjKHQsZSxpLG4pe2lbd0FdW2VdPXQsdFtiQV09aSx0LmRhdGFUeXBlPWUsbi5zdHJ1Y3QmJih0W24uc3RydWN0QXR0cl09bi5zdHJ1Y3Qsbi5zdHJ1Y3Rbbi5kYXRhc0F0dHJbZV1dPXQpLHQuZ2V0TGlua2VkRGF0YT0kaH1mdW5jdGlvbiBlYyh0LGUsaSl7dGhpcy5yb290LHRoaXMuZGF0YSx0aGlzLl9ub2Rlcz1bXSx0aGlzLmhvc3RNb2RlbD10LHRoaXMubGV2ZWxNb2RlbHM9ZihlfHxbXSxmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHdvKGUsdCx0LmVjTW9kZWwpfSksdGhpcy5sZWF2ZXNNb2RlbD1uZXcgd28oaXx8e30sdCx0LmVjTW9kZWwpfWZ1bmN0aW9uIGljKHQsZSl7dmFyIGk9ZS5jaGlsZHJlbjt0LnBhcmVudE5vZGUhPT1lJiYoaS5wdXNoKHQpLHQucGFyZW50Tm9kZT1lKX1mdW5jdGlvbiBuYyh0KXt0LmhpZXJOb2RlPXtkZWZhdWx0QW5jZXN0b3I6bnVsbCxhbmNlc3Rvcjp0LHByZWxpbTowLG1vZGlmaWVyOjAsY2hhbmdlOjAsc2hpZnQ6MCxpOjAsdGhyZWFkOm51bGx9O2Zvcih2YXIgZSxpLG49W3RdO2U9bi5wb3AoKTspaWYoaT1lLmNoaWxkcmVuLGUuaXNFeHBhbmQmJmkubGVuZ3RoKWZvcih2YXIgbz1pLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgYT1pW29dO2EuaGllck5vZGU9e2RlZmF1bHRBbmNlc3RvcjpudWxsLGFuY2VzdG9yOmEscHJlbGltOjAsbW9kaWZpZXI6MCxjaGFuZ2U6MCxzaGlmdDowLGk6byx0aHJlYWQ6bnVsbH0sbi5wdXNoKGEpfX1mdW5jdGlvbiBvYyh0LGUpe3ZhciBpPXQuaXNFeHBhbmQ/dC5jaGlsZHJlbjpbXSxuPXQucGFyZW50Tm9kZS5jaGlsZHJlbixvPXQuaGllck5vZGUuaT9uW3QuaGllck5vZGUuaS0xXTpudWxsO2lmKGkubGVuZ3RoKXt1Yyh0KTt2YXIgYT0oaVswXS5oaWVyTm9kZS5wcmVsaW0raVtpLmxlbmd0aC0xXS5oaWVyTm9kZS5wcmVsaW0pLzI7bz8odC5oaWVyTm9kZS5wcmVsaW09by5oaWVyTm9kZS5wcmVsaW0rZSh0LG8pLHQuaGllck5vZGUubW9kaWZpZXI9dC5oaWVyTm9kZS5wcmVsaW0tYSk6dC5oaWVyTm9kZS5wcmVsaW09YX1lbHNlIG8mJih0LmhpZXJOb2RlLnByZWxpbT1vLmhpZXJOb2RlLnByZWxpbStlKHQsbykpO3QucGFyZW50Tm9kZS5oaWVyTm9kZS5kZWZhdWx0QW5jZXN0b3I9aGModCxvLHQucGFyZW50Tm9kZS5oaWVyTm9kZS5kZWZhdWx0QW5jZXN0b3J8fG5bMF0sZSl9ZnVuY3Rpb24gYWModCl7dmFyIGU9dC5oaWVyTm9kZS5wcmVsaW0rdC5wYXJlbnROb2RlLmhpZXJOb2RlLm1vZGlmaWVyO3Quc2V0TGF5b3V0KHt4OmV9LCEwKSx0LmhpZXJOb2RlLm1vZGlmaWVyKz10LnBhcmVudE5vZGUuaGllck5vZGUubW9kaWZpZXJ9ZnVuY3Rpb24gcmModCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dDpnY31mdW5jdGlvbiBzYyh0LGUpe3ZhciBpPXt9O3JldHVybiB0LT1NYXRoLlBJLzIsaS54PWUqTWF0aC5jb3ModCksaS55PWUqTWF0aC5zaW4odCksaX1mdW5jdGlvbiBsYyh0LGUpe3JldHVybiBRbyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX1mdW5jdGlvbiB1Yyh0KXtmb3IodmFyIGU9dC5jaGlsZHJlbixpPWUubGVuZ3RoLG49MCxvPTA7LS1pPj0wOyl7dmFyIGE9ZVtpXTthLmhpZXJOb2RlLnByZWxpbSs9bixhLmhpZXJOb2RlLm1vZGlmaWVyKz1uLG8rPWEuaGllck5vZGUuY2hhbmdlLG4rPWEuaGllck5vZGUuc2hpZnQrb319ZnVuY3Rpb24gaGModCxlLGksbil7aWYoZSl7Zm9yKHZhciBvPXQsYT10LHI9YS5wYXJlbnROb2RlLmNoaWxkcmVuWzBdLHM9ZSxsPW8uaGllck5vZGUubW9kaWZpZXIsdT1hLmhpZXJOb2RlLm1vZGlmaWVyLGg9ci5oaWVyTm9kZS5tb2RpZmllcixjPXMuaGllck5vZGUubW9kaWZpZXI7cz1jYyhzKSxhPWRjKGEpLHMmJmE7KXtvPWNjKG8pLHI9ZGMociksby5oaWVyTm9kZS5hbmNlc3Rvcj10O3ZhciBkPXMuaGllck5vZGUucHJlbGltK2MtYS5oaWVyTm9kZS5wcmVsaW0tdStuKHMsYSk7ZD4wJiYocGMoZmMocyx0LGkpLHQsZCksdSs9ZCxsKz1kKSxjKz1zLmhpZXJOb2RlLm1vZGlmaWVyLHUrPWEuaGllck5vZGUubW9kaWZpZXIsbCs9by5oaWVyTm9kZS5tb2RpZmllcixoKz1yLmhpZXJOb2RlLm1vZGlmaWVyfXMmJiFjYyhvKSYmKG8uaGllck5vZGUudGhyZWFkPXMsby5oaWVyTm9kZS5tb2RpZmllcis9Yy1sKSxhJiYhZGMocikmJihyLmhpZXJOb2RlLnRocmVhZD1hLHIuaGllck5vZGUubW9kaWZpZXIrPXUtaCxpPXQpfXJldHVybiBpfWZ1bmN0aW9uIGNjKHQpe3ZhciBlPXQuY2hpbGRyZW47cmV0dXJuIGUubGVuZ3RoJiZ0LmlzRXhwYW5kP2VbZS5sZW5ndGgtMV06dC5oaWVyTm9kZS50aHJlYWR9ZnVuY3Rpb24gZGModCl7dmFyIGU9dC5jaGlsZHJlbjtyZXR1cm4gZS5sZW5ndGgmJnQuaXNFeHBhbmQ/ZVswXTp0LmhpZXJOb2RlLnRocmVhZH1mdW5jdGlvbiBmYyh0LGUsaSl7cmV0dXJuIHQuaGllck5vZGUuYW5jZXN0b3IucGFyZW50Tm9kZT09PWUucGFyZW50Tm9kZT90LmhpZXJOb2RlLmFuY2VzdG9yOml9ZnVuY3Rpb24gcGModCxlLGkpe3ZhciBuPWkvKGUuaGllck5vZGUuaS10LmhpZXJOb2RlLmkpO2UuaGllck5vZGUuY2hhbmdlLT1uLGUuaGllck5vZGUuc2hpZnQrPWksZS5oaWVyTm9kZS5tb2RpZmllcis9aSxlLmhpZXJOb2RlLnByZWxpbSs9aSx0LmhpZXJOb2RlLmNoYW5nZSs9bn1mdW5jdGlvbiBnYyh0LGUpe3JldHVybiB0LnBhcmVudE5vZGU9PT1lLnBhcmVudE5vZGU/MToyfWZ1bmN0aW9uIG1jKHQsZSl7dmFyIGk9dC5nZXRJdGVtTGF5b3V0KGUpO3JldHVybiBpJiYhaXNOYU4oaS54KSYmIWlzTmFOKGkueSkmJiJub25lIiE9PXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2wiKX1mdW5jdGlvbiB2Yyh0LGUsaSl7cmV0dXJuIGkuaXRlbU1vZGVsPWUsaS5pdGVtU3R5bGU9ZS5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksaS5ob3Zlckl0ZW1TdHlsZT1lLmdldE1vZGVsKCJlbXBoYXNpcy5pdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxpLmxpbmVTdHlsZT1lLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxpLmxhYmVsTW9kZWw9ZS5nZXRNb2RlbCgibGFiZWwiKSxpLmhvdmVyTGFiZWxNb2RlbD1lLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpLCExPT09dC5pc0V4cGFuZCYmMCE9PXQuY2hpbGRyZW4ubGVuZ3RoP2kuc3ltYm9sSW5uZXJDb2xvcj1pLml0ZW1TdHlsZS5maWxsOmkuc3ltYm9sSW5uZXJDb2xvcj0iI2ZmZiIsaX1mdW5jdGlvbiB5Yyh0LGUsaSxuLG8sYSl7dmFyIHM9IWksbD10LnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpLGE9dmMobCxsLmdldE1vZGVsKCksYSksdT10LnRyZWUucm9vdCxoPWwucGFyZW50Tm9kZT09PXU/bDpsLnBhcmVudE5vZGV8fGwsYz10LmdldEl0ZW1HcmFwaGljRWwoaC5kYXRhSW5kZXgpLGQ9aC5nZXRMYXlvdXQoKSxmPWM/e3g6Yy5wb3NpdGlvblswXSx5OmMucG9zaXRpb25bMV0scmF3WDpjLl9fcmFkaWFsT2xkUmF3WCxyYXdZOmMuX19yYWRpYWxPbGRSYXdZfTpkLHA9bC5nZXRMYXlvdXQoKTtzPyhpPW5ldyBZbCh0LGUsYSkpLmF0dHIoInBvc2l0aW9uIixbZi54LGYueV0pOmkudXBkYXRlRGF0YSh0LGUsYSksaS5fX3JhZGlhbE9sZFJhd1g9aS5fX3JhZGlhbFJhd1gsaS5fX3JhZGlhbE9sZFJhd1k9aS5fX3JhZGlhbFJhd1ksaS5fX3JhZGlhbFJhd1g9cC5yYXdYLGkuX19yYWRpYWxSYXdZPXAucmF3WSxuLmFkZChpKSx0LnNldEl0ZW1HcmFwaGljRWwoZSxpKSxmbyhpLHtwb3NpdGlvbjpbcC54LHAueV19LG8pO3ZhciBnPWkuZ2V0U3ltYm9sUGF0aCgpO2lmKCJyYWRpYWwiPT09YS5sYXlvdXQpe3ZhciBtLHYseT11LmNoaWxkcmVuWzBdLHg9eS5nZXRMYXlvdXQoKSxfPXkuY2hpbGRyZW4ubGVuZ3RoO2lmKHAueD09PXgueCYmITA9PT1sLmlzRXhwYW5kKXt2YXIgdz17fTt3Lng9KHkuY2hpbGRyZW5bMF0uZ2V0TGF5b3V0KCkueCt5LmNoaWxkcmVuW18tMV0uZ2V0TGF5b3V0KCkueCkvMix3Lnk9KHkuY2hpbGRyZW5bMF0uZ2V0TGF5b3V0KCkueSt5LmNoaWxkcmVuW18tMV0uZ2V0TGF5b3V0KCkueSkvMiwobT1NYXRoLmF0YW4yKHcueS14Lnksdy54LXgueCkpPDAmJihtPTIqTWF0aC5QSSttKSwodj13Lng8eC54KSYmKG0tPU1hdGguUEkpfWVsc2UobT1NYXRoLmF0YW4yKHAueS14LnkscC54LXgueCkpPDAmJihtPTIqTWF0aC5QSSttKSwwPT09bC5jaGlsZHJlbi5sZW5ndGh8fDAhPT1sLmNoaWxkcmVuLmxlbmd0aCYmITE9PT1sLmlzRXhwYW5kPyh2PXAueDx4LngpJiYobS09TWF0aC5QSSk6KHY9cC54PngueCl8fChtLT1NYXRoLlBJKTt2YXIgYj12PyJsZWZ0IjoicmlnaHQiO2cuc2V0U3R5bGUoe3RleHRQb3NpdGlvbjpiLHRleHRSb3RhdGlvbjotbSx0ZXh0T3JpZ2luOiJjZW50ZXIiLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9KX1pZihsLnBhcmVudE5vZGUmJmwucGFyZW50Tm9kZSE9PXUpe3ZhciBTPWkuX19lZGdlO1N8fChTPWkuX19lZGdlPW5ldyBJUyh7c2hhcGU6X2MoYSxmLGYpLHN0eWxlOnIoe29wYWNpdHk6MH0sYS5saW5lU3R5bGUpfSkpLGZvKFMse3NoYXBlOl9jKGEsZCxwKSxzdHlsZTp7b3BhY2l0eToxfX0sbyksbi5hZGQoUyl9fWZ1bmN0aW9uIHhjKHQsZSxpLG4sbyxhKXtmb3IodmFyIHIscz10LnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpLGw9dC50cmVlLnJvb3QsYT12YyhzLHMuZ2V0TW9kZWwoKSxhKSx1PXMucGFyZW50Tm9kZT09PWw/czpzLnBhcmVudE5vZGV8fHM7bnVsbD09KHI9dS5nZXRMYXlvdXQoKSk7KXU9dS5wYXJlbnROb2RlPT09bD91OnUucGFyZW50Tm9kZXx8dTtmbyhpLHtwb3NpdGlvbjpbci54KzEsci55KzFdfSxvLGZ1bmN0aW9uKCl7bi5yZW1vdmUoaSksdC5zZXRJdGVtR3JhcGhpY0VsKGUsbnVsbCl9KSxpLmZhZGVPdXQobnVsbCx7a2VlcExhYmVsOiEwfSk7dmFyIGg9aS5fX2VkZ2U7aCYmZm8oaCx7c2hhcGU6X2MoYSxyLHIpLHN0eWxlOntvcGFjaXR5OjB9fSxvLGZ1bmN0aW9uKCl7bi5yZW1vdmUoaCl9KX1mdW5jdGlvbiBfYyh0LGUsaSl7dmFyIG4sbyxhLHIscz10Lm9yaWVudDtpZigicmFkaWFsIj09PXQubGF5b3V0KXt2YXIgbD1lLnJhd1gsdT1lLnJhd1ksaD1pLnJhd1gsYz1pLnJhd1ksZD1zYyhsLHUpLGY9c2MobCx1KyhjLXUpKnQuY3VydmF0dXJlKSxwPXNjKGgsYysodS1jKSp0LmN1cnZhdHVyZSksZz1zYyhoLGMpO3JldHVybnt4MTpkLngseTE6ZC55LHgyOmcueCx5MjpnLnksY3B4MTpmLngsY3B5MTpmLnksY3B4MjpwLngsY3B5MjpwLnl9fXZhciBsPWUueCx1PWUueSxoPWkueCxjPWkueTtyZXR1cm4iTFIiIT09cyYmIlJMIiE9PXN8fChuPWwrKGgtbCkqdC5jdXJ2YXR1cmUsbz11LGE9aCsobC1oKSp0LmN1cnZhdHVyZSxyPWMpLCJUQiIhPT1zJiYiQlQiIT09c3x8KG49bCxvPXUrKGMtdSkqdC5jdXJ2YXR1cmUsYT1oLHI9YysodS1jKSp0LmN1cnZhdHVyZSkse3gxOmwseTE6dSx4MjpoLHkyOmMsY3B4MTpuLGNweTE6byxjcHgyOmEsY3B5MjpyfX1mdW5jdGlvbiB3Yyh0LGUsaSl7Zm9yKHZhciBuLG89W3RdLGE9W107bj1vLnBvcCgpOylpZihhLnB1c2gobiksbi5pc0V4cGFuZCl7dmFyIHI9bi5jaGlsZHJlbjtpZihyLmxlbmd0aClmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKylvLnB1c2gocltzXSl9Zm9yKDtuPWEucG9wKCk7KWUobixpKX1mdW5jdGlvbiBiYyh0LGUpe2Zvcih2YXIgaSxuPVt0XTtpPW4ucG9wKCk7KWlmKGUoaSksaS5pc0V4cGFuZCl7dmFyIG89aS5jaGlsZHJlbjtpZihvLmxlbmd0aClmb3IodmFyIGE9by5sZW5ndGgtMTthPj0wO2EtLSluLnB1c2gob1thXSl9fWZ1bmN0aW9uIFNjKHQsZSl7dmFyIGk9bGModCxlKTt0LmxheW91dEluZm89aTt2YXIgbj10LmdldCgibGF5b3V0Iiksbz0wLGE9MCxyPW51bGw7InJhZGlhbCI9PT1uPyhvPTIqTWF0aC5QSSxhPU1hdGgubWluKGkuaGVpZ2h0LGkud2lkdGgpLzIscj1yYyhmdW5jdGlvbih0LGUpe3JldHVybih0LnBhcmVudE5vZGU9PT1lLnBhcmVudE5vZGU/MToyKS90LmRlcHRofSkpOihvPWkud2lkdGgsYT1pLmhlaWdodCxyPXJjKCkpO3ZhciBzPXQuZ2V0RGF0YSgpLnRyZWUucm9vdCxsPXMuY2hpbGRyZW5bMF07aWYobCl7bmMocyksd2MobCxvYyxyKSxzLmhpZXJOb2RlLm1vZGlmaWVyPS1sLmhpZXJOb2RlLnByZWxpbSxiYyhsLGFjKTt2YXIgdT1sLGg9bCxjPWw7YmMobCxmdW5jdGlvbih0KXt2YXIgZT10LmdldExheW91dCgpLng7ZTx1LmdldExheW91dCgpLngmJih1PXQpLGU+aC5nZXRMYXlvdXQoKS54JiYoaD10KSx0LmRlcHRoPmMuZGVwdGgmJihjPXQpfSk7dmFyIGQ9dT09PWg/MTpyKHUsaCkvMixmPWQtdS5nZXRMYXlvdXQoKS54LHA9MCxnPTAsbT0wLHY9MDtpZigicmFkaWFsIj09PW4pcD1vLyhoLmdldExheW91dCgpLngrZCtmKSxnPWEvKGMuZGVwdGgtMXx8MSksYmMobCxmdW5jdGlvbih0KXttPSh0LmdldExheW91dCgpLngrZikqcCx2PSh0LmRlcHRoLTEpKmc7dmFyIGU9c2MobSx2KTt0LnNldExheW91dCh7eDplLngseTplLnkscmF3WDptLHJhd1k6dn0sITApfSk7ZWxzZXt2YXIgeT10LmdldE9yaWVudCgpOyJSTCI9PT15fHwiTFIiPT09eT8oZz1hLyhoLmdldExheW91dCgpLngrZCtmKSxwPW8vKGMuZGVwdGgtMXx8MSksYmMobCxmdW5jdGlvbih0KXt2PSh0LmdldExheW91dCgpLngrZikqZyxtPSJMUiI9PT15Pyh0LmRlcHRoLTEpKnA6by0odC5kZXB0aC0xKSpwLHQuc2V0TGF5b3V0KHt4Om0seTp2fSwhMCl9KSk6IlRCIiE9PXkmJiJCVCIhPT15fHwocD1vLyhoLmdldExheW91dCgpLngrZCtmKSxnPWEvKGMuZGVwdGgtMXx8MSksYmMobCxmdW5jdGlvbih0KXttPSh0LmdldExheW91dCgpLngrZikqcCx2PSJUQiI9PT15Pyh0LmRlcHRoLTEpKmc6YS0odC5kZXB0aC0xKSpnLHQuc2V0TGF5b3V0KHt4Om0seTp2fSwhMCl9KSl9fX1mdW5jdGlvbiBNYyh0LGUsaSl7aWYodCYmbChlLHQudHlwZSk+PTApe3ZhciBuPWkuZ2V0RGF0YSgpLnRyZWUucm9vdCxvPXQudGFyZ2V0Tm9kZTtpZihvJiZuLmNvbnRhaW5zKG8pKXJldHVybntub2RlOm99O3ZhciBhPXQudGFyZ2V0Tm9kZUlkO2lmKG51bGwhPWEmJihvPW4uZ2V0Tm9kZUJ5SWQoYSkpKXJldHVybntub2RlOm99fX1mdW5jdGlvbiBJYyh0KXtmb3IodmFyIGU9W107dDspKHQ9dC5wYXJlbnROb2RlKSYmZS5wdXNoKHQpO3JldHVybiBlLnJldmVyc2UoKX1mdW5jdGlvbiBUYyh0LGUpe3JldHVybiBsKEljKHQpLGUpPj0wfWZ1bmN0aW9uIERjKHQsZSl7Zm9yKHZhciBpPVtdO3Q7KXt2YXIgbj10LmRhdGFJbmRleDtpLnB1c2goe25hbWU6dC5uYW1lLGRhdGFJbmRleDpuLHZhbHVlOmUuZ2V0UmF3VmFsdWUobil9KSx0PXQucGFyZW50Tm9kZX1yZXR1cm4gaS5yZXZlcnNlKCksaX1mdW5jdGlvbiBBYyh0KXt2YXIgZT0wO2QodC5jaGlsZHJlbixmdW5jdGlvbih0KXtBYyh0KTt2YXIgaT10LnZhbHVlO3koaSkmJihpPWlbMF0pLGUrPWl9KTt2YXIgaT10LnZhbHVlO3koaSkmJihpPWlbMF0pLChudWxsPT1pfHxpc05hTihpKSkmJihpPWUpLGk8MCYmKGk9MCkseSh0LnZhbHVlKT90LnZhbHVlWzBdPWk6dC52YWx1ZT1pfWZ1bmN0aW9uIENjKHQsZSl7dmFyIGk9ZS5nZXQoImNvbG9yIik7aWYoaSl7dmFyIG47cmV0dXJuIGQodD10fHxbXSxmdW5jdGlvbih0KXt2YXIgZT1uZXcgd28odCksaT1lLmdldCgiY29sb3IiKTsoZS5nZXQoIml0ZW1TdHlsZS5jb2xvciIpfHxpJiYibm9uZSIhPT1pKSYmKG49ITApfSksbnx8KCh0WzBdfHwodFswXT17fSkpLmNvbG9yPWkuc2xpY2UoKSksdH19ZnVuY3Rpb24gTGModCl7dGhpcy5ncm91cD1uZXcgcncsdC5hZGQodGhpcy5ncm91cCl9ZnVuY3Rpb24ga2ModCxlLGksbixvLGEpe3ZhciByPVtbbz90OnQtTUEsZV0sW3QraSxlXSxbdCtpLGUrbl0sW28/dDp0LU1BLGUrbl1dO3JldHVybiFhJiZyLnNwbGljZSgyLDAsW3QraStNQSxlK24vMl0pLCFvJiZyLnB1c2goW3QsZStuLzJdKSxyfWZ1bmN0aW9uIFBjKHQsZSxpKXt0LmV2ZW50RGF0YT17Y29tcG9uZW50VHlwZToic2VyaWVzIixjb21wb25lbnRTdWJUeXBlOiJ0cmVlbWFwIixzZXJpZXNJbmRleDplLmNvbXBvbmVudEluZGV4LHNlcmllc05hbWU6ZS5uYW1lLHNlcmllc1R5cGU6InRyZWVtYXAiLHNlbGZUeXBlOiJicmVhZGNydW1iIixub2RlRGF0YTp7ZGF0YUluZGV4OmkmJmkuZGF0YUluZGV4LG5hbWU6aSYmaS5uYW1lfSx0cmVlUGF0aEluZm86aSYmRGMoaSxlKX19ZnVuY3Rpb24gTmMoKXt2YXIgdCxlPVtdLGk9e307cmV0dXJue2FkZDpmdW5jdGlvbih0LG4sbyxhLHIpe3JldHVybiBfKGEpJiYocj1hLGE9MCksIWlbdC5pZF0mJihpW3QuaWRdPTEsZS5wdXNoKHtlbDp0LHRhcmdldDpuLHRpbWU6byxkZWxheTphLGVhc2luZzpyfSksITApfSxkb25lOmZ1bmN0aW9uKGUpe3JldHVybiB0PWUsdGhpc30sc3RhcnQ6ZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5sZW5ndGgsbz0wLGE9ZS5sZW5ndGg7bzxhO28rKyl7dmFyIHI9ZVtvXTtyLmVsLmFuaW1hdGVUbyhyLnRhcmdldCxyLnRpbWUsci5kZWxheSxyLmVhc2luZyxmdW5jdGlvbigpey0tbnx8KGUubGVuZ3RoPTAsaT17fSx0JiZ0KCkpfSl9cmV0dXJuIHRoaXN9fX1mdW5jdGlvbiBPYyh0LGUsbixvLHIscyxsLHUsaCxjKXtmdW5jdGlvbiBkKHQsZSl7dz8hdC5pbnZpc2libGUmJnMucHVzaCh0KTooZSgpLHQuX190bVdpbGxWaXNpYmxlfHwodC5pbnZpc2libGU9ITEpKX1mdW5jdGlvbiBmKGUsbixvLGEscixzKXt2YXIgdT1sLmdldE1vZGVsKCksaD1UKHQuZ2V0Rm9ybWF0dGVkTGFiZWwobC5kYXRhSW5kZXgsIm5vcm1hbCIsbnVsbCxudWxsLHM/InVwcGVyTGFiZWwiOiJsYWJlbCIpLHUuZ2V0KCJuYW1lIikpO2lmKCFzJiZ2LmlzTGVhZlJvb3Qpe3ZhciBjPXQuZ2V0KCJkcmlsbERvd25JY29uIiwhMCk7aD1jP2MrIiAiK2g6aH12YXIgZD11LmdldE1vZGVsKHM/a0E6Q0EpLGY9dS5nZXRNb2RlbChzP1BBOkxBKSxwPWQuZ2V0U2hhbGxvdygic2hvdyIpO2lvKGUsbixkLGYse2RlZmF1bHRUZXh0OnA/aDpudWxsLGF1dG9Db2xvcjpvLGlzUmVjdFRleHQ6ITB9KSxzJiYoZS50ZXh0UmVjdD1pKHMpKSxlLnRydW5jYXRlPXAmJmQuZ2V0KCJlbGxpcHNpcyIpP3tvdXRlcldpZHRoOmEsb3V0ZXJIZWlnaHQ6cixtaW5DaGFyOjJ9Om51bGx9ZnVuY3Rpb24gcCh0LGksbyxhKXt2YXIgcz1udWxsIT1TJiZuW3RdW1NdLGw9clt0XTtyZXR1cm4gcz8oblt0XVtTXT1udWxsLGcobCxzLHQpKTp3fHwoKHM9bmV3IGkoe3o6RWMobyxhKX0pKS5fX3RtRGVwdGg9byxzLl9fdG1TdG9yYWdlTmFtZT10LG0obCxzLHQpKSxlW3RdW2JdPXN9ZnVuY3Rpb24gZyh0LGUsaSl7KHRbYl09e30pLm9sZD0ibm9kZUdyb3VwIj09PWk/ZS5wb3NpdGlvbi5zbGljZSgpOmEoe30sZS5zaGFwZSl9ZnVuY3Rpb24gbSh0LGUsaSl7dmFyIG49dFtiXT17fSxhPWwucGFyZW50Tm9kZTtpZihhJiYoIW98fCJkcmlsbERvd24iPT09by5kaXJlY3Rpb24pKXt2YXIgcz0wLHU9MCxoPXIuYmFja2dyb3VuZFthLmdldFJhd0luZGV4KCldOyFvJiZoJiZoLm9sZCYmKHM9aC5vbGQud2lkdGgsdT1oLm9sZC5oZWlnaHQpLG4ub2xkPSJub2RlR3JvdXAiPT09aT9bMCx1XTp7eDpzLHk6dSx3aWR0aDowLGhlaWdodDowfX1uLmZhZGVpbj0ibm9kZUdyb3VwIiE9PWl9aWYobCl7dmFyIHY9bC5nZXRMYXlvdXQoKTtpZih2JiZ2LmlzSW5WaWV3KXt2YXIgeT12LndpZHRoLHg9di5oZWlnaHQsXz12LmJvcmRlcldpZHRoLHc9di5pbnZpc2libGUsYj1sLmdldFJhd0luZGV4KCksUz11JiZ1LmdldFJhd0luZGV4KCksTT1sLnZpZXdDaGlsZHJlbixJPXYudXBwZXJIZWlnaHQsRD1NJiZNLmxlbmd0aCxBPWwuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLEM9bC5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIiksTD1wKCJub2RlR3JvdXAiLFRBKTtpZihMKXtpZihoLmFkZChMKSxMLmF0dHIoInBvc2l0aW9uIixbdi54fHwwLHYueXx8MF0pLEwuX190bU5vZGVXaWR0aD15LEwuX190bU5vZGVIZWlnaHQ9eCx2LmlzQWJvdmVWaWV3Um9vdClyZXR1cm4gTDt2YXIgaz1wKCJiYWNrZ3JvdW5kIixEQSxjLE9BKTtpZihrJiZmdW5jdGlvbihlLGksbil7aS5kYXRhSW5kZXg9bC5kYXRhSW5kZXgsaS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LGkuc2V0U2hhcGUoe3g6MCx5OjAsd2lkdGg6eSxoZWlnaHQ6eH0pO3ZhciBvPWwuZ2V0VmlzdWFsKCJib3JkZXJDb2xvciIsITApLGE9Qy5nZXQoImJvcmRlckNvbG9yIik7ZChpLGZ1bmN0aW9uKCl7dmFyIHQ9ekEoQSk7dC5maWxsPW87dmFyIGU9UkEoQyk7aWYoZS5maWxsPWEsbil7dmFyIHI9eS0yKl87Zih0LGUsbyxyLEkse3g6Xyx5OjAsd2lkdGg6cixoZWlnaHQ6SX0pfWVsc2UgdC50ZXh0PWUudGV4dD1udWxsO2kuc2V0U3R5bGUodCksZW8oaSxlKX0pLGUuYWRkKGkpfShMLGssRCYmdi51cHBlckhlaWdodCksIUQpe3ZhciBQPXAoImNvbnRlbnQiLERBLGMsRUEpO1AmJmZ1bmN0aW9uKGUsaSl7aS5kYXRhSW5kZXg9bC5kYXRhSW5kZXgsaS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4O3ZhciBuPU1hdGgubWF4KHktMipfLDApLG89TWF0aC5tYXgoeC0yKl8sMCk7aS5jdWxsaW5nPSEwLGkuc2V0U2hhcGUoe3g6Xyx5Ol8sd2lkdGg6bixoZWlnaHQ6b30pO3ZhciBhPWwuZ2V0VmlzdWFsKCJjb2xvciIsITApO2QoaSxmdW5jdGlvbigpe3ZhciB0PXpBKEEpO3QuZmlsbD1hO3ZhciBlPVJBKEMpO2YodCxlLGEsbixvKSxpLnNldFN0eWxlKHQpLGVvKGksZSl9KSxlLmFkZChpKX0oTCxQKX1yZXR1cm4gTH19fX1mdW5jdGlvbiBFYyh0LGUpe3ZhciBpPXQqTkErZTtyZXR1cm4oaS0xKS9pfWZ1bmN0aW9uIFJjKHQpe3ZhciBlPXQucGllY2VMaXN0O3QuaGFzU3BlY2lhbFZpc3VhbD0hMSxkKGUsZnVuY3Rpb24oZSxpKXtlLm9yaWdpbkluZGV4PWksbnVsbCE9ZS52aXN1YWwmJih0Lmhhc1NwZWNpYWxWaXN1YWw9ITApfSl9ZnVuY3Rpb24gemModCl7dmFyIGU9dC5jYXRlZ29yaWVzLGk9dC52aXN1YWwsbj10LmNhdGVnb3J5TWFwPXt9O2lmKEdBKGUsZnVuY3Rpb24odCxlKXtuW3RdPWV9KSwheShpKSl7dmFyIG89W107dyhpKT9HQShpLGZ1bmN0aW9uKHQsZSl7dmFyIGk9bltlXTtvW251bGwhPWk/aTpGQV09dH0pOm9bRkFdPWksaT1YYyh0LG8pfWZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKW51bGw9PWlbYV0mJihkZWxldGUgbltlW2FdXSxlLnBvcCgpKX1mdW5jdGlvbiBCYyh0LGUpe3ZhciBpPXQudmlzdWFsLG49W107dyhpKT9HQShpLGZ1bmN0aW9uKHQpe24ucHVzaCh0KX0pOm51bGwhPWkmJm4ucHVzaChpKTt2YXIgbz17Y29sb3I6MSxzeW1ib2w6MX07ZXx8MSE9PW4ubGVuZ3RofHxvLmhhc093blByb3BlcnR5KHQudHlwZSl8fChuWzFdPW5bMF0pLFhjKHQsbil9ZnVuY3Rpb24gVmModCl7cmV0dXJue2FwcGx5VmlzdWFsOmZ1bmN0aW9uKGUsaSxuKXtlPXRoaXMubWFwVmFsdWVUb1Zpc3VhbChlKSxuKCJjb2xvciIsdChpKCJjb2xvciIpLGUpKX0sX2RvTWFwOlpjKFswLDFdKX19ZnVuY3Rpb24gR2ModCl7dmFyIGU9dGhpcy5vcHRpb24udmlzdWFsO3JldHVybiBlW01hdGgucm91bmQoVG8odCxbMCwxXSxbMCxlLmxlbmd0aC0xXSwhMCkpXXx8e319ZnVuY3Rpb24gV2ModCl7cmV0dXJuIGZ1bmN0aW9uKGUsaSxuKXtuKHQsdGhpcy5tYXBWYWx1ZVRvVmlzdWFsKGUpKX19ZnVuY3Rpb24gRmModCl7dmFyIGU9dGhpcy5vcHRpb24udmlzdWFsO3JldHVybiBlW3RoaXMub3B0aW9uLmxvb3AmJnQhPT1GQT90JWUubGVuZ3RoOnRdfWZ1bmN0aW9uIEhjKCl7cmV0dXJuIHRoaXMub3B0aW9uLnZpc3VhbFswXX1mdW5jdGlvbiBaYyh0KXtyZXR1cm57bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBUbyhlLHQsdGhpcy5vcHRpb24udmlzdWFsLCEwKX0sY2F0ZWdvcnk6RmMscGllY2V3aXNlOmZ1bmN0aW9uKGUsaSl7dmFyIG49VWMuY2FsbCh0aGlzLGkpO3JldHVybiBudWxsPT1uJiYobj1UbyhlLHQsdGhpcy5vcHRpb24udmlzdWFsLCEwKSksbn0sZml4ZWQ6SGN9fWZ1bmN0aW9uIFVjKHQpe3ZhciBlPXRoaXMub3B0aW9uLGk9ZS5waWVjZUxpc3Q7aWYoZS5oYXNTcGVjaWFsVmlzdWFsKXt2YXIgbj1pW0hBLmZpbmRQaWVjZUluZGV4KHQsaSldO2lmKG4mJm4udmlzdWFsKXJldHVybiBuLnZpc3VhbFt0aGlzLnR5cGVdfX1mdW5jdGlvbiBYYyh0LGUpe3JldHVybiB0LnZpc3VhbD1lLCJjb2xvciI9PT10LnR5cGUmJih0LnBhcnNlZFZpc3VhbD1mKGUsZnVuY3Rpb24odCl7cmV0dXJuIEF0KHQpfSkpLGV9ZnVuY3Rpb24gamModCxlLGkpe3JldHVybiB0P2U8PWk6ZTxpfWZ1bmN0aW9uIFljKHQsZSxpLG4sbyxhKXt2YXIgcj10LmdldE1vZGVsKCkscz10LmdldExheW91dCgpO2lmKHMmJiFzLmludmlzaWJsZSYmcy5pc0luVmlldyl7dmFyIGwsdT10LmdldE1vZGVsKGpBKSxoPXFjKHUsZSxpW3QuZGVwdGhdLG4pLGM9dS5nZXQoImJvcmRlckNvbG9yIiksZj11LmdldCgiYm9yZGVyQ29sb3JTYXR1cmF0aW9uIik7bnVsbCE9ZiYmKGM9JGMoZixsPUtjKGgpKSksdC5zZXRWaXN1YWwoImJvcmRlckNvbG9yIixjKTt2YXIgcD10LnZpZXdDaGlsZHJlbjtpZihwJiZwLmxlbmd0aCl7dmFyIGc9UWModCxyLHMsdSxoLHApO2QocCxmdW5jdGlvbih0LGUpeyh0LmRlcHRoPj1vLmxlbmd0aHx8dD09PW9bdC5kZXB0aF0pJiZZYyh0LGVkKHIsaCx0LGUsZyxhKSxpLG4sbyxhKX0pfWVsc2UgbD1LYyhoKSx0LnNldFZpc3VhbCgiY29sb3IiLGwpfX1mdW5jdGlvbiBxYyh0LGUsaSxuKXt2YXIgbz1hKHt9LGUpO3JldHVybiBkKFsiY29sb3IiLCJjb2xvckFscGhhIiwiY29sb3JTYXR1cmF0aW9uIl0sZnVuY3Rpb24oYSl7dmFyIHI9dC5nZXQoYSwhMCk7bnVsbD09ciYmaSYmKHI9aVthXSksbnVsbD09ciYmKHI9ZVthXSksbnVsbD09ciYmKHI9bi5nZXQoYSkpLG51bGwhPXImJihvW2FdPXIpfSksb31mdW5jdGlvbiBLYyh0KXt2YXIgZT1KYyh0LCJjb2xvciIpO2lmKGUpe3ZhciBpPUpjKHQsImNvbG9yQWxwaGEiKSxuPUpjKHQsImNvbG9yU2F0dXJhdGlvbiIpO3JldHVybiBuJiYoZT1FdChlLG51bGwsbnVsbCxuKSksaSYmKGU9UnQoZSxpKSksZX19ZnVuY3Rpb24gJGModCxlKXtyZXR1cm4gbnVsbCE9ZT9FdChlLG51bGwsbnVsbCx0KTpudWxsfWZ1bmN0aW9uIEpjKHQsZSl7dmFyIGk9dFtlXTtpZihudWxsIT1pJiYibm9uZSIhPT1pKXJldHVybiBpfWZ1bmN0aW9uIFFjKHQsZSxpLG4sbyxhKXtpZihhJiZhLmxlbmd0aCl7dmFyIHI9dGQoZSwiY29sb3IiKXx8bnVsbCE9by5jb2xvciYmIm5vbmUiIT09by5jb2xvciYmKHRkKGUsImNvbG9yQWxwaGEiKXx8dGQoZSwiY29sb3JTYXR1cmF0aW9uIikpO2lmKHIpe3ZhciBzPWUuZ2V0KCJ2aXN1YWxNaW4iKSxsPWUuZ2V0KCJ2aXN1YWxNYXgiKSx1PWkuZGF0YUV4dGVudC5zbGljZSgpO251bGwhPXMmJnM8dVswXSYmKHVbMF09cyksbnVsbCE9bCYmbD51WzFdJiYodVsxXT1sKTt2YXIgaD1lLmdldCgiY29sb3JNYXBwaW5nQnkiKSxjPXt0eXBlOnIubmFtZSxkYXRhRXh0ZW50OnUsdmlzdWFsOnIucmFuZ2V9OyJjb2xvciIhPT1jLnR5cGV8fCJpbmRleCIhPT1oJiYiaWQiIT09aD9jLm1hcHBpbmdNZXRob2Q9ImxpbmVhciI6KGMubWFwcGluZ01ldGhvZD0iY2F0ZWdvcnkiLGMubG9vcD0hMCk7dmFyIGQ9bmV3IEhBKGMpO3JldHVybiBkLl9fZHJDb2xvck1hcHBpbmdCeT1oLGR9fX1mdW5jdGlvbiB0ZCh0LGUpe3ZhciBpPXQuZ2V0KGUpO3JldHVybiBYQShpKSYmaS5sZW5ndGg/e25hbWU6ZSxyYW5nZTppfTpudWxsfWZ1bmN0aW9uIGVkKHQsZSxpLG4sbyxyKXt2YXIgcz1hKHt9LGUpO2lmKG8pe3ZhciBsPW8udHlwZSx1PSJjb2xvciI9PT1sJiZvLl9fZHJDb2xvck1hcHBpbmdCeSxoPSJpbmRleCI9PT11P246ImlkIj09PXU/ci5tYXBJZFRvSW5kZXgoaS5nZXRJZCgpKTppLmdldFZhbHVlKHQuZ2V0KCJ2aXN1YWxEaW1lbnNpb24iKSk7c1tsXT1vLm1hcFZhbHVlVG9WaXN1YWwoaCl9cmV0dXJuIHN9ZnVuY3Rpb24gaWQodCxlLGksbil7dmFyIG8sYTtpZighdC5pc1JlbW92ZWQoKSl7dmFyIHI9dC5nZXRMYXlvdXQoKTtvPXIud2lkdGgsYT1yLmhlaWdodDt2YXIgcz0oZj10LmdldE1vZGVsKCkpLmdldChRQSksbD1mLmdldCh0QykvMix1PWRkKGYpLGg9TWF0aC5tYXgocyx1KSxjPXMtbCxkPWgtbCxmPXQuZ2V0TW9kZWwoKTt0LnNldExheW91dCh7Ym9yZGVyV2lkdGg6cyx1cHBlckhlaWdodDpoLHVwcGVyTGFiZWxIZWlnaHQ6dX0sITApO3ZhciBwPShvPXFBKG8tMipjLDApKSooYT1xQShhLWMtZCwwKSksZz1uZCh0LGYscCxlLGksbik7aWYoZy5sZW5ndGgpe3ZhciBtPXt4OmMseTpkLHdpZHRoOm8saGVpZ2h0OmF9LHY9S0EobyxhKSx5PTEvMCx4PVtdO3guYXJlYT0wO2Zvcih2YXIgXz0wLHc9Zy5sZW5ndGg7Xzx3Oyl7dmFyIGI9Z1tfXTt4LnB1c2goYikseC5hcmVhKz1iLmdldExheW91dCgpLmFyZWE7dmFyIFM9c2QoeCx2LGUuc3F1YXJlUmF0aW8pO1M8PXk/KF8rKyx5PVMpOih4LmFyZWEtPXgucG9wKCkuZ2V0TGF5b3V0KCkuYXJlYSxsZCh4LHYsbSxsLCExKSx2PUtBKG0ud2lkdGgsbS5oZWlnaHQpLHgubGVuZ3RoPXguYXJlYT0wLHk9MS8wKX1pZih4Lmxlbmd0aCYmbGQoeCx2LG0sbCwhMCksIWkpe3ZhciBNPWYuZ2V0KCJjaGlsZHJlblZpc2libGVNaW4iKTtudWxsIT1NJiZwPE0mJihpPSEwKX1mb3IodmFyIF89MCx3PWcubGVuZ3RoO188dztfKyspaWQoZ1tfXSxlLGksbisxKX19fWZ1bmN0aW9uIG5kKHQsZSxpLG4sbyxhKXt2YXIgcj10LmNoaWxkcmVufHxbXSxzPW4uc29ydDsiYXNjIiE9PXMmJiJkZXNjIiE9PXMmJihzPW51bGwpO3ZhciBsPW51bGwhPW4ubGVhZkRlcHRoJiZuLmxlYWZEZXB0aDw9YTtpZihvJiYhbClyZXR1cm4gdC52aWV3Q2hpbGRyZW49W107YWQocj1nKHIsZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNSZW1vdmVkKCl9KSxzKTt2YXIgdT1yZChlLHIscyk7aWYoMD09PXUuc3VtKXJldHVybiB0LnZpZXdDaGlsZHJlbj1bXTtpZih1LnN1bT1vZChlLGksdS5zdW0scyxyKSwwPT09dS5zdW0pcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdO2Zvcih2YXIgaD0wLGM9ci5sZW5ndGg7aDxjO2grKyl7dmFyIGQ9cltoXS5nZXRWYWx1ZSgpL3Uuc3VtKmk7cltoXS5zZXRMYXlvdXQoe2FyZWE6ZH0pfXJldHVybiBsJiYoci5sZW5ndGgmJnQuc2V0TGF5b3V0KHtpc0xlYWZSb290OiEwfSwhMCksci5sZW5ndGg9MCksdC52aWV3Q2hpbGRyZW49cix0LnNldExheW91dCh7ZGF0YUV4dGVudDp1LmRhdGFFeHRlbnR9LCEwKSxyfWZ1bmN0aW9uIG9kKHQsZSxpLG4sbyl7aWYoIW4pcmV0dXJuIGk7Zm9yKHZhciBhPXQuZ2V0KCJ2aXNpYmxlTWluIikscj1vLmxlbmd0aCxzPXIsbD1yLTE7bD49MDtsLS0pe3ZhciB1PW9bImFzYyI9PT1uP3ItbC0xOmxdLmdldFZhbHVlKCk7dS9pKmU8YSYmKHM9bCxpLT11KX1yZXR1cm4iYXNjIj09PW4/by5zcGxpY2UoMCxyLXMpOm8uc3BsaWNlKHMsci1zKSxpfWZ1bmN0aW9uIGFkKHQsZSl7cmV0dXJuIGUmJnQuc29ydChmdW5jdGlvbih0LGkpe3ZhciBuPSJhc2MiPT09ZT90LmdldFZhbHVlKCktaS5nZXRWYWx1ZSgpOmkuZ2V0VmFsdWUoKS10LmdldFZhbHVlKCk7cmV0dXJuIDA9PT1uPyJhc2MiPT09ZT90LmRhdGFJbmRleC1pLmRhdGFJbmRleDppLmRhdGFJbmRleC10LmRhdGFJbmRleDpufSksdH1mdW5jdGlvbiByZCh0LGUsaSl7Zm9yKHZhciBuPTAsbz0wLGE9ZS5sZW5ndGg7bzxhO28rKyluKz1lW29dLmdldFZhbHVlKCk7dmFyIHI9dC5nZXQoInZpc3VhbERpbWVuc2lvbiIpO2lmKGUmJmUubGVuZ3RoKWlmKCJ2YWx1ZSI9PT1yJiZpKXM9W2VbZS5sZW5ndGgtMV0uZ2V0VmFsdWUoKSxlWzBdLmdldFZhbHVlKCldLCJhc2MiPT09aSYmcy5yZXZlcnNlKCk7ZWxzZXt2YXIgcz1bMS8wLC0xLzBdO0pBKGUsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRWYWx1ZShyKTtlPHNbMF0mJihzWzBdPWUpLGU+c1sxXSYmKHNbMV09ZSl9KX1lbHNlIHM9W05hTixOYU5dO3JldHVybntzdW06bixkYXRhRXh0ZW50OnN9fWZ1bmN0aW9uIHNkKHQsZSxpKXtmb3IodmFyIG4sbz0wLGE9MS8wLHI9MCxzPXQubGVuZ3RoO3I8cztyKyspKG49dFtyXS5nZXRMYXlvdXQoKS5hcmVhKSYmKG48YSYmKGE9biksbj5vJiYobz1uKSk7dmFyIGw9dC5hcmVhKnQuYXJlYSx1PWUqZSppO3JldHVybiBsP3FBKHUqby9sLGwvKHUqYSkpOjEvMH1mdW5jdGlvbiBsZCh0LGUsaSxuLG8pe3ZhciBhPWU9PT1pLndpZHRoPzA6MSxyPTEtYSxzPVsieCIsInkiXSxsPVsid2lkdGgiLCJoZWlnaHQiXSx1PWlbc1thXV0saD1lP3QuYXJlYS9lOjA7KG98fGg+aVtsW3JdXSkmJihoPWlbbFtyXV0pO2Zvcih2YXIgYz0wLGQ9dC5sZW5ndGg7YzxkO2MrKyl7dmFyIGY9dFtjXSxwPXt9LGc9aD9mLmdldExheW91dCgpLmFyZWEvaDowLG09cFtsW3JdXT1xQShoLTIqbiwwKSx2PWlbc1thXV0raVtsW2FdXS11LHk9Yz09PWQtMXx8djxnP3Y6Zyx4PXBbbFthXV09cUEoeS0yKm4sMCk7cFtzW3JdXT1pW3Nbcl1dK0tBKG4sbS8yKSxwW3NbYV1dPXUrS0Eobix4LzIpLHUrPXksZi5zZXRMYXlvdXQocCwhMCl9aVtzW3JdXSs9aCxpW2xbcl1dLT1ofWZ1bmN0aW9uIHVkKHQsZSxpLG4sbyl7dmFyIGE9KGV8fHt9KS5ub2RlLHI9W24sb107aWYoIWF8fGE9PT1pKXJldHVybiByO2Zvcih2YXIgcyxsPW4qbyx1PWwqdC5vcHRpb24uem9vbVRvTm9kZVJhdGlvO3M9YS5wYXJlbnROb2RlOyl7Zm9yKHZhciBoPTAsYz1zLmNoaWxkcmVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspaCs9Y1tkXS5nZXRWYWx1ZSgpO3ZhciBwPWEuZ2V0VmFsdWUoKTtpZigwPT09cClyZXR1cm4gcjt1Kj1oL3A7dmFyIGc9cy5nZXRNb2RlbCgpLG09Zy5nZXQoUUEpOyh1Kz00Km0qbSsoMyptK01hdGgubWF4KG0sZGQoZykpKSpNYXRoLnBvdyh1LC41KSk+WFMmJih1PVhTKSxhPXN9dTxsJiYodT1sKTt2YXIgdj1NYXRoLnBvdyh1L2wsLjUpO3JldHVybltuKnYsbyp2XX1mdW5jdGlvbiBoZCh0LGUsaSl7aWYoZSlyZXR1cm57eDplLngseTplLnl9O3ZhciBuPXt4OjAseTowfTtpZighaSlyZXR1cm4gbjt2YXIgbz1pLm5vZGUsYT1vLmdldExheW91dCgpO2lmKCFhKXJldHVybiBuO2Zvcih2YXIgcj1bYS53aWR0aC8yLGEuaGVpZ2h0LzJdLHM9bztzOyl7dmFyIGw9cy5nZXRMYXlvdXQoKTtyWzBdKz1sLngsclsxXSs9bC55LHM9cy5wYXJlbnROb2RlfXJldHVybnt4OnQud2lkdGgvMi1yWzBdLHk6dC5oZWlnaHQvMi1yWzFdfX1mdW5jdGlvbiBjZCh0LGUsaSxuLG8pe3ZhciBhPXQuZ2V0TGF5b3V0KCkscj1pW29dLHM9ciYmcj09PXQ7aWYoIShyJiYhc3x8bz09PWkubGVuZ3RoJiZ0IT09bikpe3Quc2V0TGF5b3V0KHtpc0luVmlldzohMCxpbnZpc2libGU6IXMmJiFlLmludGVyc2VjdChhKSxpc0Fib3ZlVmlld1Jvb3Q6c30sITApO3ZhciBsPW5ldyAkdChlLngtYS54LGUueS1hLnksZS53aWR0aCxlLmhlaWdodCk7SkEodC52aWV3Q2hpbGRyZW58fFtdLGZ1bmN0aW9uKHQpe2NkKHQsbCxpLG4sbysxKX0pfX1mdW5jdGlvbiBkZCh0KXtyZXR1cm4gdC5nZXQoZUMpP3QuZ2V0KGlDKTowfWZ1bmN0aW9uIGZkKHQpe3JldHVybiJfRUNfIit0fWZ1bmN0aW9uIHBkKHQsZSl7dGhpcy5pZD1udWxsPT10PyIiOnQsdGhpcy5pbkVkZ2VzPVtdLHRoaXMub3V0RWRnZXM9W10sdGhpcy5lZGdlcz1bXSx0aGlzLmhvc3RHcmFwaCx0aGlzLmRhdGFJbmRleD1udWxsPT1lPy0xOmV9ZnVuY3Rpb24gZ2QodCxlLGkpe3RoaXMubm9kZTE9dCx0aGlzLm5vZGUyPWUsdGhpcy5kYXRhSW5kZXg9bnVsbD09aT8tMTppfWZ1bmN0aW9uIG1kKHQpe3JldHVybiBpc05hTigrdC5jcHgxKXx8aXNOYU4oK3QuY3B5MSl9ZnVuY3Rpb24gdmQodCl7cmV0dXJuIl8iK3QrIlR5cGUifWZ1bmN0aW9uIHlkKHQsZSxpKXt2YXIgbj1lLmdldEl0ZW1WaXN1YWwoaSwiY29sb3IiKSxvPWUuZ2V0SXRlbVZpc3VhbChpLHQpLGE9ZS5nZXRJdGVtVmlzdWFsKGksdCsiU2l6ZSIpO2lmKG8mJiJub25lIiE9PW8pe3koYSl8fChhPVthLGFdKTt2YXIgcj1JbChvLC1hWzBdLzIsLWFbMV0vMixhWzBdLGFbMV0sbik7cmV0dXJuIHIubmFtZT10LHJ9fWZ1bmN0aW9uIHhkKHQpe3ZhciBlPW5ldyBjQyh7bmFtZToibGluZSJ9KTtyZXR1cm4gX2QoZS5zaGFwZSx0KSxlfWZ1bmN0aW9uIF9kKHQsZSl7dmFyIGk9ZVswXSxuPWVbMV0sbz1lWzJdO3QueDE9aVswXSx0LnkxPWlbMV0sdC54Mj1uWzBdLHQueTI9blsxXSx0LnBlcmNlbnQ9MSxvPyh0LmNweDE9b1swXSx0LmNweTE9b1sxXSk6KHQuY3B4MT1OYU4sdC5jcHkxPU5hTil9ZnVuY3Rpb24gd2QodCxlLGkpe3J3LmNhbGwodGhpcyksdGhpcy5fY3JlYXRlTGluZSh0LGUsaSl9ZnVuY3Rpb24gYmQodCl7dGhpcy5fY3Rvcj10fHx3ZCx0aGlzLmdyb3VwPW5ldyByd31mdW5jdGlvbiBTZCh0LGUsaSxuKXtpZihEZChlLmdldEl0ZW1MYXlvdXQoaSkpKXt2YXIgbz1uZXcgdC5fY3RvcihlLGksbik7ZS5zZXRJdGVtR3JhcGhpY0VsKGksbyksdC5ncm91cC5hZGQobyl9fWZ1bmN0aW9uIE1kKHQsZSxpLG4sbyxhKXt2YXIgcj1lLmdldEl0ZW1HcmFwaGljRWwobik7RGQoaS5nZXRJdGVtTGF5b3V0KG8pKT8ocj9yLnVwZGF0ZURhdGEoaSxvLGEpOnI9bmV3IHQuX2N0b3IoaSxvLGEpLGkuc2V0SXRlbUdyYXBoaWNFbChvLHIpLHQuZ3JvdXAuYWRkKHIpKTp0Lmdyb3VwLnJlbW92ZShyKX1mdW5jdGlvbiBJZCh0KXt2YXIgZT10Lmhvc3RNb2RlbDtyZXR1cm57bGluZVN0eWxlOmUuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGhvdmVyTGluZVN0eWxlOmUuZ2V0TW9kZWwoImVtcGhhc2lzLmxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGxhYmVsTW9kZWw6ZS5nZXRNb2RlbCgibGFiZWwiKSxob3ZlckxhYmVsTW9kZWw6ZS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKX19ZnVuY3Rpb24gVGQodCl7cmV0dXJuIGlzTmFOKHRbMF0pfHxpc05hTih0WzFdKX1mdW5jdGlvbiBEZCh0KXtyZXR1cm4hVGQodFswXSkmJiFUZCh0WzFdKX1mdW5jdGlvbiBBZCh0LGUsaSl7Zm9yKHZhciBuLG89dFswXSxhPXRbMV0scj10WzJdLHM9MS8wLGw9aSppLHU9LjEsaD0uMTtoPD0uOTtoKz0uMSlnQ1swXT15QyhvWzBdLGFbMF0sclswXSxoKSxnQ1sxXT15QyhvWzFdLGFbMV0sclsxXSxoKSwoZj1fQyh4QyhnQyxlKS1sKSk8cyYmKHM9ZixuPWgpO2Zvcih2YXIgYz0wO2M8MzI7YysrKXt2YXIgZD1uK3U7bUNbMF09eUMob1swXSxhWzBdLHJbMF0sbiksbUNbMV09eUMob1sxXSxhWzFdLHJbMV0sbiksdkNbMF09eUMob1swXSxhWzBdLHJbMF0sZCksdkNbMV09eUMob1sxXSxhWzFdLHJbMV0sZCk7dmFyIGY9eEMobUMsZSktbDtpZihfQyhmKTwuMDEpYnJlYWs7dmFyIHA9eEModkMsZSktbDt1Lz0yLGY8MD9wPj0wP24rPXU6bi09dTpwPj0wP24tPXU6bis9dX1yZXR1cm4gbn1mdW5jdGlvbiBDZCh0LGUpe3JldHVybiB0LmdldFZpc3VhbCgib3BhY2l0eSIpfHx0LmdldE1vZGVsKCkuZ2V0KGUpfWZ1bmN0aW9uIExkKHQsZSxpKXt2YXIgbj10LmdldEdyYXBoaWNFbCgpLG89Q2QodCxlKTtudWxsIT1pJiYobnVsbD09byYmKG89MSksbyo9aSksbi5kb3ducGxheSYmbi5kb3ducGxheSgpLG4udHJhdmVyc2UoZnVuY3Rpb24odCl7Imdyb3VwIiE9PXQudHlwZSYmdC5zZXRTdHlsZSgib3BhY2l0eSIsbyl9KX1mdW5jdGlvbiBrZCh0LGUpe3ZhciBpPUNkKHQsZSksbj10LmdldEdyYXBoaWNFbCgpO24uaGlnaGxpZ2h0JiZuLmhpZ2hsaWdodCgpLG4udHJhdmVyc2UoZnVuY3Rpb24odCl7Imdyb3VwIiE9PXQudHlwZSYmdC5zZXRTdHlsZSgib3BhY2l0eSIsaSl9KX1mdW5jdGlvbiBQZCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdCx0XSksdH1mdW5jdGlvbiBOZCh0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoIWV8fCJ2aWV3Ij09PWUudHlwZSl7dmFyIGk9dC5nZXRHcmFwaCgpO2kuZWFjaE5vZGUoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRNb2RlbCgpO3Quc2V0TGF5b3V0KFsrZS5nZXQoIngiKSwrZS5nZXQoInkiKV0pfSksT2QoaSl9fWZ1bmN0aW9uIE9kKHQpe3QuZWFjaEVkZ2UoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRNb2RlbCgpLmdldCgibGluZVN0eWxlLmN1cnZlbmVzcyIpfHwwLGk9Vyh0Lm5vZGUxLmdldExheW91dCgpKSxuPVcodC5ub2RlMi5nZXRMYXlvdXQoKSksbz1baSxuXTsrZSYmby5wdXNoKFsoaVswXStuWzBdKS8yLShpWzFdLW5bMV0pKmUsKGlbMV0rblsxXSkvMi0oblswXS1pWzBdKSplXSksdC5zZXRMYXlvdXQobyl9KX1mdW5jdGlvbiBFZCh0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoIWV8fCJ2aWV3Ij09PWUudHlwZSl7dmFyIGk9ZS5nZXRCb3VuZGluZ1JlY3QoKSxuPXQuZ2V0RGF0YSgpLG89bi5ncmFwaCxhPTAscj1uLmdldFN1bSgidmFsdWUiKSxzPTIqTWF0aC5QSS8ocnx8bi5jb3VudCgpKSxsPWkud2lkdGgvMitpLngsdT1pLmhlaWdodC8yK2kueSxoPU1hdGgubWluKGkud2lkdGgsaS5oZWlnaHQpLzI7by5lYWNoTm9kZShmdW5jdGlvbih0KXt2YXIgZT10LmdldFZhbHVlKCJ2YWx1ZSIpO2ErPXMqKHI/ZToxKS8yLHQuc2V0TGF5b3V0KFtoKk1hdGguY29zKGEpK2wsaCpNYXRoLnNpbihhKSt1XSksYSs9cyoocj9lOjEpLzJ9KSxuLnNldExheW91dCh7Y3g6bCxjeTp1fSksby5lYWNoRWRnZShmdW5jdGlvbih0KXt2YXIgZSxpPXQuZ2V0TW9kZWwoKS5nZXQoImxpbmVTdHlsZS5jdXJ2ZW5lc3MiKXx8MCxuPVcodC5ub2RlMS5nZXRMYXlvdXQoKSksbz1XKHQubm9kZTIuZ2V0TGF5b3V0KCkpLGE9KG5bMF0rb1swXSkvMixyPShuWzFdK29bMV0pLzI7K2kmJihlPVtsKihpKj0zKSthKigxLWkpLHUqaStyKigxLWkpXSksdC5zZXRMYXlvdXQoW24sbyxlXSl9KX19ZnVuY3Rpb24gUmQodCxlLGkpe2Zvcih2YXIgbj1pLnJlY3Qsbz1uLndpZHRoLGE9bi5oZWlnaHQscj1bbi54K28vMixuLnkrYS8yXSxzPW51bGw9PWkuZ3Jhdml0eT8uMTppLmdyYXZpdHksbD0wO2w8dC5sZW5ndGg7bCsrKXt2YXIgdT10W2xdO3UucHx8KHUucD1WKG8qKE1hdGgucmFuZG9tKCktLjUpK3JbMF0sYSooTWF0aC5yYW5kb20oKS0uNSkrclsxXSkpLHUucHA9Vyh1LnApLHUuZWRnZXM9bnVsbH12YXIgaD0uNjtyZXR1cm57d2FybVVwOmZ1bmN0aW9uKCl7aD0uNX0sc2V0Rml4ZWQ6ZnVuY3Rpb24oZSl7dFtlXS5maXhlZD0hMH0sc2V0VW5maXhlZDpmdW5jdGlvbihlKXt0W2VdLmZpeGVkPSExfSxzdGVwOmZ1bmN0aW9uKGkpe2Zvcih2YXIgbj1bXSxvPXQubGVuZ3RoLGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIGw9ZVthXSx1PWwubjE7VShuLChwPWwubjIpLnAsdS5wKTt2YXIgYz1YKG4pLWwuZCxkPXAudy8odS53K3Audyk7aXNOYU4oZCkmJihkPTApLHEobixuKSwhdS5maXhlZCYmTUModS5wLHUucCxuLGQqYypoKSwhcC5maXhlZCYmTUMocC5wLHAucCxuLC0oMS1kKSpjKmgpfWZvcihhPTA7YTxvO2ErKykodj10W2FdKS5maXhlZHx8KFUobixyLHYucCksTUModi5wLHYucCxuLHMqaCkpO2ZvcihhPTA7YTxvO2ErKylmb3IodmFyIHU9dFthXSxmPWErMTtmPG87ZisrKXt2YXIgcD10W2ZdO1UobixwLnAsdS5wKSwwPT09KGM9WChuKSkmJihGKG4sTWF0aC5yYW5kb20oKS0uNSxNYXRoLnJhbmRvbSgpLS41KSxjPTEpO3ZhciBnPSh1LnJlcCtwLnJlcCkvYy9jOyF1LmZpeGVkJiZNQyh1LnBwLHUucHAsbixnKSwhcC5maXhlZCYmTUMocC5wcCxwLnBwLG4sLWcpfWZvcih2YXIgbT1bXSxhPTA7YTxvO2ErKyl7dmFyIHY9dFthXTt2LmZpeGVkfHwoVShtLHYucCx2LnBwKSxNQyh2LnAsdi5wLG0saCksRyh2LnBwLHYucCkpfWgqPS45OTIsaSYmaSh0LGUsaDwuMDEpfX19ZnVuY3Rpb24gemQodCxlLGkpe3ZhciBuPXQuZ2V0Qm94TGF5b3V0UGFyYW1zKCk7cmV0dXJuIG4uYXNwZWN0PWksUW8obix7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9ZnVuY3Rpb24gQmQodCxlKXt2YXIgaT10LmdldCgiY2VudGVyIiksbj1lLmdldFdpZHRoKCksbz1lLmdldEhlaWdodCgpLGE9TWF0aC5taW4obixvKTtyZXR1cm57Y3g6RG8oaVswXSxlLmdldFdpZHRoKCkpLGN5OkRvKGlbMV0sZS5nZXRIZWlnaHQoKSkscjpEbyh0LmdldCgicmFkaXVzIiksYS8yKX19ZnVuY3Rpb24gVmQodCxlKXtyZXR1cm4gZSYmKCJzdHJpbmciPT10eXBlb2YgZT90PWUucmVwbGFjZSgie3ZhbHVlfSIsbnVsbCE9dD90OiIiKToiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSh0KSkpLHR9ZnVuY3Rpb24gR2QodCxlKXtmdW5jdGlvbiBpKCl7YS5pZ25vcmU9YS5ob3Zlcklnbm9yZSxyLmlnbm9yZT1yLmhvdmVySWdub3JlfWZ1bmN0aW9uIG4oKXthLmlnbm9yZT1hLm5vcm1hbElnbm9yZSxyLmlnbm9yZT1yLm5vcm1hbElnbm9yZX1ydy5jYWxsKHRoaXMpO3ZhciBvPW5ldyBfUyxhPW5ldyB3UyxyPW5ldyBkUzt0aGlzLmFkZChvKSx0aGlzLmFkZChhKSx0aGlzLmFkZChyKSx0aGlzLnVwZGF0ZURhdGEodCxlLCEwKSx0aGlzLm9uKCJlbXBoYXNpcyIsaSkub24oIm5vcm1hbCIsbikub24oIm1vdXNlb3ZlciIsaSkub24oIm1vdXNlb3V0IixuKX1mdW5jdGlvbiBXZCh0LGUpe3JldHVybiBRbyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX1mdW5jdGlvbiBGZCh0LGUpe2Zvcih2YXIgaT10Lm1hcERpbWVuc2lvbigidmFsdWUiKSxuPXQubWFwQXJyYXkoaSxmdW5jdGlvbih0KXtyZXR1cm4gdH0pLG89W10sYT0iYXNjZW5kaW5nIj09PWUscj0wLHM9dC5jb3VudCgpO3I8cztyKyspb1tyXT1yO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP28uc29ydChlKToibm9uZSIhPT1lJiZvLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gYT9uW3RdLW5bZV06bltlXS1uW3RdfSksb31mdW5jdGlvbiBIZCh0KXt0LmVhY2goZnVuY3Rpb24oZSl7dmFyIGksbixvLGEscj10LmdldEl0ZW1Nb2RlbChlKSxzPXIuZ2V0TW9kZWwoImxhYmVsIikuZ2V0KCJwb3NpdGlvbiIpLGw9ci5nZXRNb2RlbCgibGFiZWxMaW5lIiksdT10LmdldEl0ZW1MYXlvdXQoZSksaD11LnBvaW50cyxjPSJpbm5lciI9PT1zfHwiaW5zaWRlIj09PXN8fCJjZW50ZXIiPT09cztpZihjKWk9ImNlbnRlciIsYT1bW249KGhbMF1bMF0raFsxXVswXStoWzJdWzBdK2hbM11bMF0pLzQsbz0oaFswXVsxXStoWzFdWzFdK2hbMl1bMV0raFszXVsxXSkvNF0sW24sb11dO2Vsc2V7dmFyIGQsZixwLGc9bC5nZXQoImxlbmd0aCIpOyJsZWZ0Ij09PXM/KGQ9KGhbM11bMF0raFswXVswXSkvMixmPShoWzNdWzFdK2hbMF1bMV0pLzIsbj0ocD1kLWcpLTUsaT0icmlnaHQiKTooZD0oaFsxXVswXStoWzJdWzBdKS8yLGY9KGhbMV1bMV0raFsyXVsxXSkvMixuPShwPWQrZykrNSxpPSJsZWZ0Iik7dmFyIG09ZjthPVtbZCxmXSxbcCxtXV0sbz1tfXUubGFiZWw9e2xpbmVQb2ludHM6YSx4Om4seTpvLHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOmksaW5zaWRlOmN9fSl9ZnVuY3Rpb24gWmQodCl7aWYoIXQucGFyYWxsZWwpe3ZhciBlPSExO2QodC5zZXJpZXMsZnVuY3Rpb24odCl7dCYmInBhcmFsbGVsIj09PXQudHlwZSYmKGU9ITApfSksZSYmKHQucGFyYWxsZWw9W3t9XSl9fWZ1bmN0aW9uIFVkKHQpe2QoU2kodC5wYXJhbGxlbEF4aXMpLGZ1bmN0aW9uKGUpe2lmKHcoZSkpe3ZhciBpPWUucGFyYWxsZWxJbmRleHx8MCxvPVNpKHQucGFyYWxsZWwpW2ldO28mJm8ucGFyYWxsZWxBeGlzRGVmYXVsdCYmbihlLG8ucGFyYWxsZWxBeGlzRGVmYXVsdCwhMSl9fSl9ZnVuY3Rpb24gWGQodCxlKXt2YXIgaT10W2VdLXRbMS1lXTtyZXR1cm57c3BhbjpNYXRoLmFicyhpKSxzaWduOmk+MD8tMTppPDA/MTplPy0xOjF9fWZ1bmN0aW9uIGpkKHQsZSl7cmV0dXJuIE1hdGgubWluKGVbMV0sTWF0aC5tYXgoZVswXSx0KSl9ZnVuY3Rpb24gWWQodCxlLGkpe3RoaXMuX2F4ZXNNYXA9UigpLHRoaXMuX2F4ZXNMYXlvdXQ9e30sdGhpcy5kaW1lbnNpb25zPXQuZGltZW5zaW9ucyx0aGlzLl9yZWN0LHRoaXMuX21vZGVsPXQsdGhpcy5faW5pdCh0LGUsaSl9ZnVuY3Rpb24gcWQodCxlKXtyZXR1cm4gTkMoT0ModCxlWzBdKSxlWzFdKX1mdW5jdGlvbiBLZCh0LGUpe3ZhciBpPWUubGF5b3V0TGVuZ3RoLyhlLmF4aXNDb3VudC0xKTtyZXR1cm57cG9zaXRpb246aSp0LGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6aSxheGlzTGFiZWxTaG93OiEwfX1mdW5jdGlvbiAkZCh0LGUpe3ZhciBpLG4sbz1lLmxheW91dExlbmd0aCxhPWUuYXhpc0V4cGFuZFdpZHRoLHI9ZS5heGlzQ291bnQscz1lLmF4aXNDb2xsYXBzZVdpZHRoLGw9ZS53aW5Jbm5lckluZGljZXMsdT1zLGg9ITE7cmV0dXJuIHQ8bFswXT8oaT10KnMsbj1zKTp0PD1sWzFdPyhpPWUuYXhpc0V4cGFuZFdpbmRvdzBQb3MrdCphLWUuYXhpc0V4cGFuZFdpbmRvd1swXSx1PWEsaD0hMCk6KGk9by0oci0xLXQpKnMsbj1zKSx7cG9zaXRpb246aSxheGlzTmFtZUF2YWlsYWJsZVdpZHRoOnUsYXhpc0xhYmVsU2hvdzpoLG5hbWVUcnVuY2F0ZU1heFdpZHRoOm59fWZ1bmN0aW9uIEpkKHQpe1RfLmNhbGwodGhpcyksdGhpcy5fenI9dCx0aGlzLmdyb3VwPW5ldyBydyx0aGlzLl9icnVzaFR5cGUsdGhpcy5fYnJ1c2hPcHRpb24sdGhpcy5fcGFuZWxzLHRoaXMuX3RyYWNrPVtdLHRoaXMuX2RyYWdnaW5nLHRoaXMuX2NvdmVycz1bXSx0aGlzLl9jcmVhdGluZ0NvdmVyLHRoaXMuX2NyZWF0aW5nUGFuZWwsdGhpcy5fZW5hYmxlR2xvYmFsUGFuLHRoaXMuX3VpZD0iYnJ1c2hDb250cm9sbGVyXyIrdEwrKyx0aGlzLl9oYW5kbGVycz17fSxGQyhlTCxmdW5jdGlvbih0LGUpe3RoaXMuX2hhbmRsZXJzW2VdPW0odCx0aGlzKX0sdGhpcyl9ZnVuY3Rpb24gUWQodCxlKXt2YXIgbz10Ll96cjt0Ll9lbmFibGVHbG9iYWxQYW58fFRoKG8sS0MsdC5fdWlkKSxGQyh0Ll9oYW5kbGVycyxmdW5jdGlvbih0LGUpe28ub24oZSx0KX0pLHQuX2JydXNoVHlwZT1lLmJydXNoVHlwZSx0Ll9icnVzaE9wdGlvbj1uKGkoUUMpLGUsITApfWZ1bmN0aW9uIHRmKHQpe3ZhciBlPXQuX3pyO0RoKGUsS0MsdC5fdWlkKSxGQyh0Ll9oYW5kbGVycyxmdW5jdGlvbih0LGkpe2Uub2ZmKGksdCl9KSx0Ll9icnVzaFR5cGU9dC5fYnJ1c2hPcHRpb249bnVsbH1mdW5jdGlvbiBlZih0LGUpe3ZhciBpPWlMW2UuYnJ1c2hUeXBlXS5jcmVhdGVDb3Zlcih0LGUpO3JldHVybiBpLl9fYnJ1c2hPcHRpb249ZSxhZihpLGUpLHQuZ3JvdXAuYWRkKGkpLGl9ZnVuY3Rpb24gbmYodCxlKXt2YXIgaT1zZihlKTtyZXR1cm4gaS5lbmRDcmVhdGluZyYmKGkuZW5kQ3JlYXRpbmcodCxlKSxhZihlLGUuX19icnVzaE9wdGlvbikpLGV9ZnVuY3Rpb24gb2YodCxlKXt2YXIgaT1lLl9fYnJ1c2hPcHRpb247c2YoZSkudXBkYXRlQ292ZXJTaGFwZSh0LGUsaS5yYW5nZSxpKX1mdW5jdGlvbiBhZih0LGUpe3ZhciBpPWUuejtudWxsPT1pJiYoaT1qQyksdC50cmF2ZXJzZShmdW5jdGlvbih0KXt0Lno9aSx0LnoyPWl9KX1mdW5jdGlvbiByZih0LGUpe3NmKGUpLnVwZGF0ZUNvbW1vbih0LGUpLG9mKHQsZSl9ZnVuY3Rpb24gc2YodCl7cmV0dXJuIGlMW3QuX19icnVzaE9wdGlvbi5icnVzaFR5cGVdfWZ1bmN0aW9uIGxmKHQsZSxpKXt2YXIgbj10Ll9wYW5lbHM7aWYoIW4pcmV0dXJuITA7dmFyIG8sYT10Ll90cmFuc2Zvcm07cmV0dXJuIEZDKG4sZnVuY3Rpb24odCl7dC5pc1RhcmdldEJ5Q3Vyc29yKGUsaSxhKSYmKG89dCl9KSxvfWZ1bmN0aW9uIHVmKHQsZSl7dmFyIGk9dC5fcGFuZWxzO2lmKCFpKXJldHVybiEwO3ZhciBuPWUuX19icnVzaE9wdGlvbi5wYW5lbElkO3JldHVybiBudWxsPT1ufHxpW25dfWZ1bmN0aW9uIGhmKHQpe3ZhciBlPXQuX2NvdmVycyxpPWUubGVuZ3RoO3JldHVybiBGQyhlLGZ1bmN0aW9uKGUpe3QuZ3JvdXAucmVtb3ZlKGUpfSx0KSxlLmxlbmd0aD0wLCEhaX1mdW5jdGlvbiBjZih0LGUpe3ZhciBuPUhDKHQuX2NvdmVycyxmdW5jdGlvbih0KXt2YXIgZT10Ll9fYnJ1c2hPcHRpb24sbj1pKGUucmFuZ2UpO3JldHVybnticnVzaFR5cGU6ZS5icnVzaFR5cGUscGFuZWxJZDplLnBhbmVsSWQscmFuZ2U6bn19KTt0LnRyaWdnZXIoImJydXNoIixuLHtpc0VuZDohIWUuaXNFbmQscmVtb3ZlT25DbGljazohIWUucmVtb3ZlT25DbGlja30pfWZ1bmN0aW9uIGRmKHQpe3ZhciBlPXQuX3RyYWNrO2lmKCFlLmxlbmd0aClyZXR1cm4hMTt2YXIgaT1lW2UubGVuZ3RoLTFdLG49ZVswXSxvPWlbMF0tblswXSxhPWlbMV0tblsxXTtyZXR1cm4gWEMobypvK2EqYSwuNSk+WUN9ZnVuY3Rpb24gZmYodCl7dmFyIGU9dC5sZW5ndGgtMTtyZXR1cm4gZTwwJiYoZT0wKSxbdFswXSx0W2VdXX1mdW5jdGlvbiBwZih0LGUsaSxuKXt2YXIgbz1uZXcgcnc7cmV0dXJuIG8uYWRkKG5ldyBiUyh7bmFtZToibWFpbiIsc3R5bGU6eWYoaSksc2lsZW50OiEwLGRyYWdnYWJsZTohMCxjdXJzb3I6Im1vdmUiLGRyaWZ0OldDKHQsZSxvLCJuc3dlIiksb25kcmFnZW5kOldDKGNmLGUse2lzRW5kOiEwfSl9KSksRkMobixmdW5jdGlvbihpKXtvLmFkZChuZXcgYlMoe25hbWU6aSxzdHlsZTp7b3BhY2l0eTowfSxkcmFnZ2FibGU6ITAsc2lsZW50OiEwLGludmlzaWJsZTohMCxkcmlmdDpXQyh0LGUsbyxpKSxvbmRyYWdlbmQ6V0MoY2YsZSx7aXNFbmQ6ITB9KX0pKX0pLG99ZnVuY3Rpb24gZ2YodCxlLGksbil7dmFyIG89bi5icnVzaFN0eWxlLmxpbmVXaWR0aHx8MCxhPVVDKG8scUMpLHI9aVswXVswXSxzPWlbMV1bMF0sbD1yLW8vMix1PXMtby8yLGg9aVswXVsxXSxjPWlbMV1bMV0sZD1oLWErby8yLGY9Yy1hK28vMixwPWgtcixnPWMtcyxtPXArbyx2PWcrbzt2Zih0LGUsIm1haW4iLHIscyxwLGcpLG4udHJhbnNmb3JtYWJsZSYmKHZmKHQsZSwidyIsbCx1LGEsdiksdmYodCxlLCJlIixkLHUsYSx2KSx2Zih0LGUsIm4iLGwsdSxtLGEpLHZmKHQsZSwicyIsbCxmLG0sYSksdmYodCxlLCJudyIsbCx1LGEsYSksdmYodCxlLCJuZSIsZCx1LGEsYSksdmYodCxlLCJzdyIsbCxmLGEsYSksdmYodCxlLCJzZSIsZCxmLGEsYSkpfWZ1bmN0aW9uIG1mKHQsZSl7dmFyIGk9ZS5fX2JydXNoT3B0aW9uLG49aS50cmFuc2Zvcm1hYmxlLG89ZS5jaGlsZEF0KDApO28udXNlU3R5bGUoeWYoaSkpLG8uYXR0cih7c2lsZW50OiFuLGN1cnNvcjpuPyJtb3ZlIjoiZGVmYXVsdCJ9KSxGQyhbInciLCJlIiwibiIsInMiLCJzZSIsInN3IiwibmUiLCJudyJdLGZ1bmN0aW9uKGkpe3ZhciBvPWUuY2hpbGRPZk5hbWUoaSksYT13Zih0LGkpO28mJm8uYXR0cih7c2lsZW50OiFuLGludmlzaWJsZTohbixjdXJzb3I6bj9KQ1thXSsiLXJlc2l6ZSI6bnVsbH0pfSl9ZnVuY3Rpb24gdmYodCxlLGksbixvLGEscil7dmFyIHM9ZS5jaGlsZE9mTmFtZShpKTtzJiZzLnNldFNoYXBlKFRmKElmKHQsZSxbW24sb10sW24rYSxvK3JdXSkpKX1mdW5jdGlvbiB5Zih0KXtyZXR1cm4gcih7c3Ryb2tlTm9TY2FsZTohMH0sdC5icnVzaFN0eWxlKX1mdW5jdGlvbiB4Zih0LGUsaSxuKXt2YXIgbz1bWkModCxpKSxaQyhlLG4pXSxhPVtVQyh0LGkpLFVDKGUsbildO3JldHVybltbb1swXSxhWzBdXSxbb1sxXSxhWzFdXV19ZnVuY3Rpb24gX2YodCl7cmV0dXJuIGdvKHQuZ3JvdXApfWZ1bmN0aW9uIHdmKHQsZSl7aWYoZS5sZW5ndGg+MSlyZXR1cm4oImUiPT09KG49W3dmKHQsKGU9ZS5zcGxpdCgiIikpWzBdKSx3Zih0LGVbMV0pXSlbMF18fCJ3Ij09PW5bMF0pJiZuLnJldmVyc2UoKSxuLmpvaW4oIiIpO3ZhciBpPXtsZWZ0OiJ3IixyaWdodDoiZSIsdG9wOiJuIixib3R0b206InMifSxuPXZvKHt3OiJsZWZ0IixlOiJyaWdodCIsbjoidG9wIixzOiJib3R0b20ifVtlXSxfZih0KSk7cmV0dXJuIGlbbl19ZnVuY3Rpb24gYmYodCxlLGksbixvLGEscixzKXt2YXIgbD1uLl9fYnJ1c2hPcHRpb24sdT10KGwucmFuZ2UpLGg9TWYoaSxhLHIpO0ZDKG8uc3BsaXQoIiIpLGZ1bmN0aW9uKHQpe3ZhciBlPSRDW3RdO3VbZVswXV1bZVsxXV0rPWhbZVswXV19KSxsLnJhbmdlPWUoeGYodVswXVswXSx1WzFdWzBdLHVbMF1bMV0sdVsxXVsxXSkpLHJmKGksbiksY2YoaSx7aXNFbmQ6ITF9KX1mdW5jdGlvbiBTZih0LGUsaSxuLG8pe3ZhciBhPWUuX19icnVzaE9wdGlvbi5yYW5nZSxyPU1mKHQsaSxuKTtGQyhhLGZ1bmN0aW9uKHQpe3RbMF0rPXJbMF0sdFsxXSs9clsxXX0pLHJmKHQsZSksY2YodCx7aXNFbmQ6ITF9KX1mdW5jdGlvbiBNZih0LGUsaSl7dmFyIG49dC5ncm91cCxvPW4udHJhbnNmb3JtQ29vcmRUb0xvY2FsKGUsaSksYT1uLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCgwLDApO3JldHVybltvWzBdLWFbMF0sb1sxXS1hWzFdXX1mdW5jdGlvbiBJZih0LGUsbil7dmFyIG89dWYodCxlKTtyZXR1cm4gbyYmITAhPT1vP28uY2xpcFBhdGgobix0Ll90cmFuc2Zvcm0pOmkobil9ZnVuY3Rpb24gVGYodCl7dmFyIGU9WkModFswXVswXSx0WzFdWzBdKSxpPVpDKHRbMF1bMV0sdFsxXVsxXSk7cmV0dXJue3g6ZSx5Omksd2lkdGg6VUModFswXVswXSx0WzFdWzBdKS1lLGhlaWdodDpVQyh0WzBdWzFdLHRbMV1bMV0pLWl9fWZ1bmN0aW9uIERmKHQsZSxpKXtpZih0Ll9icnVzaFR5cGUpe3ZhciBuPXQuX3pyLG89dC5fY292ZXJzLGE9bGYodCxlLGkpO2lmKCF0Ll9kcmFnZ2luZylmb3IodmFyIHI9MDtyPG8ubGVuZ3RoO3IrKyl7dmFyIHM9b1tyXS5fX2JydXNoT3B0aW9uO2lmKGEmJighMD09PWF8fHMucGFuZWxJZD09PWEucGFuZWxJZCkmJmlMW3MuYnJ1c2hUeXBlXS5jb250YWluKG9bcl0saVswXSxpWzFdKSlyZXR1cm59YSYmbi5zZXRDdXJzb3JTdHlsZSgiY3Jvc3NoYWlyIil9fWZ1bmN0aW9uIEFmKHQpe3ZhciBlPXQuZXZlbnQ7ZS5wcmV2ZW50RGVmYXVsdCYmZS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIENmKHQsZSxpKXtyZXR1cm4gdC5jaGlsZE9mTmFtZSgibWFpbiIpLmNvbnRhaW4oZSxpKX1mdW5jdGlvbiBMZih0LGUsbixvKXt2YXIgYSxyPXQuX2NyZWF0aW5nQ292ZXIscz10Ll9jcmVhdGluZ1BhbmVsLGw9dC5fYnJ1c2hPcHRpb247aWYodC5fdHJhY2sucHVzaChuLnNsaWNlKCkpLGRmKHQpfHxyKXtpZihzJiYhcil7InNpbmdsZSI9PT1sLmJydXNoTW9kZSYmaGYodCk7dmFyIHU9aShsKTt1LmJydXNoVHlwZT1rZih1LmJydXNoVHlwZSxzKSx1LnBhbmVsSWQ9ITA9PT1zP251bGw6cy5wYW5lbElkLHI9dC5fY3JlYXRpbmdDb3Zlcj1lZih0LHUpLHQuX2NvdmVycy5wdXNoKHIpfWlmKHIpe3ZhciBoPWlMW2tmKHQuX2JydXNoVHlwZSxzKV07ci5fX2JydXNoT3B0aW9uLnJhbmdlPWguZ2V0Q3JlYXRpbmdSYW5nZShJZih0LHIsdC5fdHJhY2spKSxvJiYobmYodCxyKSxoLnVwZGF0ZUNvbW1vbih0LHIpKSxvZih0LHIpLGE9e2lzRW5kOm99fX1lbHNlIG8mJiJzaW5nbGUiPT09bC5icnVzaE1vZGUmJmwucmVtb3ZlT25DbGljayYmbGYodCxlLG4pJiZoZih0KSYmKGE9e2lzRW5kOm8scmVtb3ZlT25DbGljazohMH0pO3JldHVybiBhfWZ1bmN0aW9uIGtmKHQsZSl7cmV0dXJuImF1dG8iPT09dD9lLmRlZmF1bHRCcnVzaFR5cGU6dH1mdW5jdGlvbiBQZih0KXtpZih0aGlzLl9kcmFnZ2luZyl7QWYodCk7dmFyIGU9TGYodGhpcyx0LHRoaXMuZ3JvdXAudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQub2Zmc2V0WCx0Lm9mZnNldFkpLCEwKTt0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLl90cmFjaz1bXSx0aGlzLl9jcmVhdGluZ0NvdmVyPW51bGwsZSYmY2YodGhpcyxlKX19ZnVuY3Rpb24gTmYodCl7cmV0dXJue2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHBmKFdDKGJmLGZ1bmN0aW9uKGUpe3ZhciBpPVtlLFswLDEwMF1dO3JldHVybiB0JiZpLnJldmVyc2UoKSxpfSxmdW5jdGlvbihlKXtyZXR1cm4gZVt0XX0pLGUsaSxbWyJ3IiwiZSJdLFsibiIsInMiXV1bdF0pfSxnZXRDcmVhdGluZ1JhbmdlOmZ1bmN0aW9uKGUpe3ZhciBpPWZmKGUpO3JldHVybltaQyhpWzBdW3RdLGlbMV1bdF0pLFVDKGlbMF1bdF0saVsxXVt0XSldfSx1cGRhdGVDb3ZlclNoYXBlOmZ1bmN0aW9uKGUsaSxuLG8pe3ZhciBhLHI9dWYoZSxpKTtpZighMCE9PXImJnIuZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudClhPXIuZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudCh0LGUuX3RyYW5zZm9ybSk7ZWxzZXt2YXIgcz1lLl96cjthPVswLFtzLmdldFdpZHRoKCkscy5nZXRIZWlnaHQoKV1bMS10XV19dmFyIGw9W24sYV07dCYmbC5yZXZlcnNlKCksZ2YoZSxpLGwsbyl9LHVwZGF0ZUNvbW1vbjptZixjb250YWluOkNmfX1mdW5jdGlvbiBPZih0KXtyZXR1cm4gdD16Zih0KSxmdW5jdGlvbihlLGkpe3JldHVybiB4byhlLHQpfX1mdW5jdGlvbiBFZih0LGUpe3JldHVybiB0PXpmKHQpLGZ1bmN0aW9uKGkpe3ZhciBuPW51bGwhPWU/ZTppLG89bj90LndpZHRoOnQuaGVpZ2h0LGE9bj90Lng6dC55O3JldHVyblthLGErKG98fDApXX19ZnVuY3Rpb24gUmYodCxlLGkpe3JldHVybiB0PXpmKHQpLGZ1bmN0aW9uKG4sbyxhKXtyZXR1cm4gdC5jb250YWluKG9bMF0sb1sxXSkmJiFHaChuLGUsaSl9fWZ1bmN0aW9uIHpmKHQpe3JldHVybiAkdC5jcmVhdGUodCl9ZnVuY3Rpb24gQmYodCxlLGkpe3JldHVybiBpJiYiYXhpc0FyZWFTZWxlY3QiPT09aS50eXBlJiZlLmZpbmRDb21wb25lbnRzKHttYWluVHlwZToicGFyYWxsZWxBeGlzIixxdWVyeTppfSlbMF09PT10fWZ1bmN0aW9uIFZmKHQpe3ZhciBlPXQuYXhpcztyZXR1cm4gZih0LmFjdGl2ZUludGVydmFscyxmdW5jdGlvbih0KXtyZXR1cm57YnJ1c2hUeXBlOiJsaW5lWCIscGFuZWxJZDoicGwiLHJhbmdlOltlLmRhdGFUb0Nvb3JkKHRbMF0sITApLGUuZGF0YVRvQ29vcmQodFsxXSwhMCldfX0pfWZ1bmN0aW9uIEdmKHQsZSl7cmV0dXJuIGUuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsdC5nZXQoInBhcmFsbGVsSW5kZXgiKSl9ZnVuY3Rpb24gV2YodCxlKXt2YXIgaT10Ll9tb2RlbDtyZXR1cm4gaS5nZXQoImF4aXNFeHBhbmRhYmxlIikmJmkuZ2V0KCJheGlzRXhwYW5kVHJpZ2dlck9uIik9PT1lfWZ1bmN0aW9uIEZmKHQsZSl7aWYoIXQuZW5jb2RlRGVmaW5lKXt2YXIgaT1lLmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsZS5nZXQoInBhcmFsbGVsSW5kZXgiKSk7aWYoaSl7dmFyIG49dC5lbmNvZGVEZWZpbmU9UigpO2QoaS5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3ZhciBlPUhmKHQpO24uc2V0KHQsZSl9KX19fWZ1bmN0aW9uIEhmKHQpe3JldHVybit0LnJlcGxhY2UoImRpbSIsIiIpfWZ1bmN0aW9uIFpmKHQsZSxpKXt2YXIgbj10Lm1vZGVsLG89dC5nZXRSZWN0KCksYT1uZXcgYlMoe3NoYXBlOnt4Om8ueCx5Om8ueSx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodH19KSxyPSJob3Jpem9udGFsIj09PW4uZ2V0KCJsYXlvdXQiKT8id2lkdGgiOiJoZWlnaHQiO3JldHVybiBhLnNldFNoYXBlKHIsMCkscG8oYSx7c2hhcGU6e3dpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0fX0sZSxpKSxhfWZ1bmN0aW9uIFVmKHQsZSxpLG4pe2Zvcih2YXIgbz1bXSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciByPWlbYV0scz10LmdldCh0Lm1hcERpbWVuc2lvbihyKSxlKTtxZihzLG4uZ2V0QXhpcyhyKS50eXBlKXx8by5wdXNoKG4uZGF0YVRvUG9pbnQocyxyKSl9cmV0dXJuIG99ZnVuY3Rpb24gWGYodCxlLGksbixvKXt2YXIgYT1VZih0LGksbixvKSxyPW5ldyB3Uyh7c2hhcGU6e3BvaW50czphfSxzaWxlbnQ6ITAsejI6MTB9KTtyZXR1cm4gZS5hZGQociksdC5zZXRJdGVtR3JhcGhpY0VsKGkscikscn1mdW5jdGlvbiBqZih0KXt2YXIgZT10LmdldCgic21vb3RoIiwhMCk7cmV0dXJuITA9PT1lJiYoZT1yTCkse2xpbmVTdHlsZTp0LmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxzbW9vdGg6bnVsbCE9ZT9lOnJMfX1mdW5jdGlvbiBZZih0LGUsaSxuKXt2YXIgbz1uLmxpbmVTdHlsZTtlLmhhc0l0ZW1PcHRpb24mJihvPWUuZ2V0SXRlbU1vZGVsKGkpLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSksdC51c2VTdHlsZShvKTt2YXIgYT10LnN0eWxlO2EuZmlsbD1udWxsLGEuc3Ryb2tlPWUuZ2V0SXRlbVZpc3VhbChpLCJjb2xvciIpLGEub3BhY2l0eT1lLmdldEl0ZW1WaXN1YWwoaSwib3BhY2l0eSIpLG4uc21vb3RoJiYodC5zaGFwZS5zbW9vdGg9bi5zbW9vdGgpfWZ1bmN0aW9uIHFmKHQsZSl7cmV0dXJuImNhdGVnb3J5Ij09PWU/bnVsbD09dDpudWxsPT10fHxpc05hTih0KX1mdW5jdGlvbiBLZih0LGUsaSl7dmFyIG49bmV3IGJTKHtzaGFwZTp7eDp0LngtMTAseTp0LnktMTAsd2lkdGg6MCxoZWlnaHQ6dC5oZWlnaHQrMjB9fSk7cmV0dXJuIHBvKG4se3NoYXBlOnt3aWR0aDp0LndpZHRoKzIwLGhlaWdodDp0LmhlaWdodCsyMH19LGUsaSksbn1mdW5jdGlvbiAkZigpe2Z1bmN0aW9uIHQoZSxuKXtpZihuPj1pLmxlbmd0aClyZXR1cm4gZTtmb3IodmFyIG89LTEsYT1lLmxlbmd0aCxyPWlbbisrXSxzPXt9LGw9e307KytvPGE7KXt2YXIgdT1yKGVbb10pLGg9bFt1XTtoP2gucHVzaChlW29dKTpsW3VdPVtlW29dXX1yZXR1cm4gZChsLGZ1bmN0aW9uKGUsaSl7c1tpXT10KGUsbil9KSxzfWZ1bmN0aW9uIGUodCxvKXtpZihvPj1pLmxlbmd0aClyZXR1cm4gdDt2YXIgYT1bXSxyPW5bbysrXTtyZXR1cm4gZCh0LGZ1bmN0aW9uKHQsaSl7YS5wdXNoKHtrZXk6aSx2YWx1ZXM6ZSh0LG8pfSl9KSxyP2Euc29ydChmdW5jdGlvbih0LGUpe3JldHVybiByKHQua2V5LGUua2V5KX0pOmF9dmFyIGk9W10sbj1bXTtyZXR1cm57a2V5OmZ1bmN0aW9uKHQpe3JldHVybiBpLnB1c2godCksdGhpc30sc29ydEtleXM6ZnVuY3Rpb24odCl7cmV0dXJuIG5baS5sZW5ndGgtMV09dCx0aGlzfSxlbnRyaWVzOmZ1bmN0aW9uKGkpe3JldHVybiBlKHQoaSwwKSwwKX19fWZ1bmN0aW9uIEpmKHQsZSl7cmV0dXJuIFFvKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pfWZ1bmN0aW9uIFFmKHQsZSxpLG4sbyxhLHIpe2VwKHQsZSxpLG8pLG9wKHQsZSxhLG4sciksY3AodCl9ZnVuY3Rpb24gdHAodCl7ZCh0LGZ1bmN0aW9uKHQpe3ZhciBlPXBwKHQub3V0RWRnZXMseXApLGk9cHAodC5pbkVkZ2VzLHlwKSxuPU1hdGgubWF4KGUsaSk7dC5zZXRMYXlvdXQoe3ZhbHVlOm59LCEwKX0pfWZ1bmN0aW9uIGVwKHQsZSxpLG4pe2Zvcih2YXIgbz1bXSxhPVtdLHI9W10scz1bXSxsPTAsdT0wO3U8ZS5sZW5ndGg7dSsrKW9bdV09MTtmb3IodT0wO3U8dC5sZW5ndGg7dSsrKWFbdV09dFt1XS5pbkVkZ2VzLmxlbmd0aCwwPT09YVt1XSYmci5wdXNoKHRbdV0pO2Zvcig7ci5sZW5ndGg7KWQocixmdW5jdGlvbihuKXtuLnNldExheW91dCh7eDpsfSwhMCksbi5zZXRMYXlvdXQoe2R4Oml9LCEwKSxkKG4ub3V0RWRnZXMsZnVuY3Rpb24oaSl7dmFyIG49ZS5pbmRleE9mKGkpO29bbl09MDt2YXIgcj1pLm5vZGUyLGw9dC5pbmRleE9mKHIpOzA9PS0tYVtsXSYmcy5wdXNoKHIpfSl9KSwrK2wscj1zLHM9W107Zm9yKHU9MDt1PG8ubGVuZ3RoO3UrKyk7aXAodCxsKSxucCh0LChuLWkpLyhsLTEpKX1mdW5jdGlvbiBpcCh0LGUpe2QodCxmdW5jdGlvbih0KXt0Lm91dEVkZ2VzLmxlbmd0aHx8dC5zZXRMYXlvdXQoe3g6ZS0xfSwhMCl9KX1mdW5jdGlvbiBucCh0LGUpe2QodCxmdW5jdGlvbih0KXt2YXIgaT10LmdldExheW91dCgpLngqZTt0LnNldExheW91dCh7eDppfSwhMCl9KX1mdW5jdGlvbiBvcCh0LGUsaSxuLG8pe3ZhciBhPSRmKCkua2V5KGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldExheW91dCgpLnh9KS5zb3J0S2V5cyh2cCkuZW50cmllcyh0KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWVzfSk7YXAodCxhLGUsaSxuKSxycChhLG4saSk7Zm9yKHZhciByPTE7bz4wO28tLSlzcChhLHIqPS45OSkscnAoYSxuLGkpLHVwKGEscikscnAoYSxuLGkpfWZ1bmN0aW9uIGFwKHQsZSxpLG4sbyl7dmFyIGE9W107ZChlLGZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLGk9MDtkKHQsZnVuY3Rpb24odCl7aSs9dC5nZXRMYXlvdXQoKS52YWx1ZX0pO3ZhciByPShuLShlLTEpKm8pL2k7YS5wdXNoKHIpfSksYS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pO3ZhciByPWFbMF07ZChlLGZ1bmN0aW9uKHQpe2QodCxmdW5jdGlvbih0LGUpe3Quc2V0TGF5b3V0KHt5OmV9LCEwKTt2YXIgaT10LmdldExheW91dCgpLnZhbHVlKnI7dC5zZXRMYXlvdXQoe2R5Oml9LCEwKX0pfSksZChpLGZ1bmN0aW9uKHQpe3ZhciBlPSt0LmdldFZhbHVlKCkqcjt0LnNldExheW91dCh7ZHk6ZX0sITApfSl9ZnVuY3Rpb24gcnAodCxlLGkpe2QodCxmdW5jdGlvbih0KXt2YXIgbixvLGEscj0wLHM9dC5sZW5ndGg7Zm9yKHQuc29ydChtcCksYT0wO2E8czthKyspe2lmKG49dFthXSwobz1yLW4uZ2V0TGF5b3V0KCkueSk+MCl7bD1uLmdldExheW91dCgpLnkrbztuLnNldExheW91dCh7eTpsfSwhMCl9cj1uLmdldExheW91dCgpLnkrbi5nZXRMYXlvdXQoKS5keStlfWlmKChvPXItZS1pKT4wKXt2YXIgbD1uLmdldExheW91dCgpLnktbztmb3Iobi5zZXRMYXlvdXQoe3k6bH0sITApLHI9bi5nZXRMYXlvdXQoKS55LGE9cy0yO2E+PTA7LS1hKShvPShuPXRbYV0pLmdldExheW91dCgpLnkrbi5nZXRMYXlvdXQoKS5keStlLXIpPjAmJihsPW4uZ2V0TGF5b3V0KCkueS1vLG4uc2V0TGF5b3V0KHt5Omx9LCEwKSkscj1uLmdldExheW91dCgpLnl9fSl9ZnVuY3Rpb24gc3AodCxlKXtkKHQuc2xpY2UoKS5yZXZlcnNlKCksZnVuY3Rpb24odCl7ZCh0LGZ1bmN0aW9uKHQpe2lmKHQub3V0RWRnZXMubGVuZ3RoKXt2YXIgaT1wcCh0Lm91dEVkZ2VzLGxwKS9wcCh0Lm91dEVkZ2VzLHlwKSxuPXQuZ2V0TGF5b3V0KCkueSsoaS1ncCh0KSkqZTt0LnNldExheW91dCh7eTpufSwhMCl9fSl9KX1mdW5jdGlvbiBscCh0KXtyZXR1cm4gZ3AodC5ub2RlMikqdC5nZXRWYWx1ZSgpfWZ1bmN0aW9uIHVwKHQsZSl7ZCh0LGZ1bmN0aW9uKHQpe2QodCxmdW5jdGlvbih0KXtpZih0LmluRWRnZXMubGVuZ3RoKXt2YXIgaT1wcCh0LmluRWRnZXMsaHApL3BwKHQuaW5FZGdlcyx5cCksbj10LmdldExheW91dCgpLnkrKGktZ3AodCkpKmU7dC5zZXRMYXlvdXQoe3k6bn0sITApfX0pfSl9ZnVuY3Rpb24gaHAodCl7cmV0dXJuIGdwKHQubm9kZTEpKnQuZ2V0VmFsdWUoKX1mdW5jdGlvbiBjcCh0KXtkKHQsZnVuY3Rpb24odCl7dC5vdXRFZGdlcy5zb3J0KGRwKSx0LmluRWRnZXMuc29ydChmcCl9KSxkKHQsZnVuY3Rpb24odCl7dmFyIGU9MCxpPTA7ZCh0Lm91dEVkZ2VzLGZ1bmN0aW9uKHQpe3Quc2V0TGF5b3V0KHtzeTplfSwhMCksZSs9dC5nZXRMYXlvdXQoKS5keX0pLGQodC5pbkVkZ2VzLGZ1bmN0aW9uKHQpe3Quc2V0TGF5b3V0KHt0eTppfSwhMCksaSs9dC5nZXRMYXlvdXQoKS5keX0pfSl9ZnVuY3Rpb24gZHAodCxlKXtyZXR1cm4gdC5ub2RlMi5nZXRMYXlvdXQoKS55LWUubm9kZTIuZ2V0TGF5b3V0KCkueX1mdW5jdGlvbiBmcCh0LGUpe3JldHVybiB0Lm5vZGUxLmdldExheW91dCgpLnktZS5ub2RlMS5nZXRMYXlvdXQoKS55fWZ1bmN0aW9uIHBwKHQsZSl7Zm9yKHZhciBpPTAsbj10Lmxlbmd0aCxvPS0xOysrbzxuOyl7dmFyIGE9K2UuY2FsbCh0LHRbb10sbyk7aXNOYU4oYSl8fChpKz1hKX1yZXR1cm4gaX1mdW5jdGlvbiBncCh0KXtyZXR1cm4gdC5nZXRMYXlvdXQoKS55K3QuZ2V0TGF5b3V0KCkuZHkvMn1mdW5jdGlvbiBtcCh0LGUpe3JldHVybiB0LmdldExheW91dCgpLnktZS5nZXRMYXlvdXQoKS55fWZ1bmN0aW9uIHZwKHQsZSl7cmV0dXJuIHQtZX1mdW5jdGlvbiB5cCh0KXtyZXR1cm4gdC5nZXRWYWx1ZSgpfWZ1bmN0aW9uIHhwKHQsZSxpLG4sbyl7dmFyIGE9dC5lbmRzLHI9bmV3IGZMKHtzaGFwZTp7cG9pbnRzOm8/d3AoYSxuLHQpOmF9fSk7cmV0dXJuIF9wKHQscixlLGksbykscn1mdW5jdGlvbiBfcCh0LGUsaSxuLG8pe3ZhciBhPWkuaG9zdE1vZGVsOygwLHpTW28/ImluaXRQcm9wcyI6InVwZGF0ZVByb3BzIl0pKGUse3NoYXBlOntwb2ludHM6dC5lbmRzfX0sYSxuKTt2YXIgcj1pLmdldEl0ZW1Nb2RlbChuKSxzPXIuZ2V0TW9kZWwoY0wpLGw9aS5nZXRJdGVtVmlzdWFsKG4sImNvbG9yIiksdT1zLmdldEl0ZW1TdHlsZShbImJvcmRlckNvbG9yIl0pO3Uuc3Ryb2tlPWwsdS5zdHJva2VOb1NjYWxlPSEwLGUudXNlU3R5bGUodSksZS56Mj0xMDAsZW8oZSxyLmdldE1vZGVsKGRMKS5nZXRJdGVtU3R5bGUoKSl9ZnVuY3Rpb24gd3AodCxlLGkpe3JldHVybiBmKHQsZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5zbGljZSgpLHRbZV09aS5pbml0QmFzZWxpbmUsdH0pfWZ1bmN0aW9uIGJwKHQpe3ZhciBlPVtdLGk9W107cmV0dXJuIHQuZWFjaFNlcmllc0J5VHlwZSgiYm94cGxvdCIsZnVuY3Rpb24odCl7dmFyIG49dC5nZXRCYXNlQXhpcygpLG89bChpLG4pO288MCYmKG89aS5sZW5ndGgsaVtvXT1uLGVbb109e2F4aXM6bixzZXJpZXNNb2RlbHM6W119KSxlW29dLnNlcmllc01vZGVscy5wdXNoKHQpfSksZX1mdW5jdGlvbiBTcCh0KXt2YXIgZSxpLG49dC5heGlzLG89dC5zZXJpZXNNb2RlbHMsYT1vLmxlbmd0aCxyPXQuYm94V2lkdGhMaXN0PVtdLHM9dC5ib3hPZmZzZXRMaXN0PVtdLGw9W107aWYoImNhdGVnb3J5Ij09PW4udHlwZSlpPW4uZ2V0QmFuZFdpZHRoKCk7ZWxzZXt2YXIgdT0wO2dMKG8sZnVuY3Rpb24odCl7dT1NYXRoLm1heCh1LHQuZ2V0RGF0YSgpLmNvdW50KCkpfSksZT1uLmdldEV4dGVudCgpLE1hdGguYWJzKGVbMV0tZVswXSl9Z0wobyxmdW5jdGlvbih0KXt2YXIgZT10LmdldCgiYm94V2lkdGgiKTt5KGUpfHwoZT1bZSxlXSksbC5wdXNoKFtEbyhlWzBdLGkpfHwwLERvKGVbMV0saSl8fDBdKX0pO3ZhciBoPS44KmktMixjPWgvYSouMyxkPShoLWMqKGEtMSkpL2EsZj1kLzItaC8yO2dMKG8sZnVuY3Rpb24odCxlKXtzLnB1c2goZiksZis9YytkLHIucHVzaChNYXRoLm1pbihNYXRoLm1heChkLGxbZV1bMF0pLGxbZV1bMV0pKX0pfWZ1bmN0aW9uIE1wKHQsZSxpKXtmdW5jdGlvbiBuKHQsaSxuKXt2YXIgbz1zLmdldChpLG4pLGE9W107YVt1XT10LGFbaF09bzt2YXIgbDtyZXR1cm4gaXNOYU4odCl8fGlzTmFOKG8pP2w9W05hTixOYU5dOihsPXIuZGF0YVRvUG9pbnQoYSkpW3VdKz1lLGx9ZnVuY3Rpb24gbyh0LGUsaSl7dmFyIG49ZS5zbGljZSgpLG89ZS5zbGljZSgpO25bdV0rPWwsb1t1XS09bCxpP3QucHVzaChuLG8pOnQucHVzaChvLG4pfWZ1bmN0aW9uIGEodCxlKXt2YXIgaT1lLnNsaWNlKCksbj1lLnNsaWNlKCk7aVt1XS09bCxuW3VdKz1sLHQucHVzaChpLG4pfXZhciByPXQuY29vcmRpbmF0ZVN5c3RlbSxzPXQuZ2V0RGF0YSgpLGw9aS8yLHU9Imhvcml6b250YWwiPT09dC5nZXQoImxheW91dCIpPzA6MSxoPTEtdSxjPVsieCIsInkiXSxkPXMubWFwRGltZW5zaW9uKGNbdV0pLGY9cy5tYXBEaW1lbnNpb24oY1toXSwhMCk7aWYoIShudWxsPT1kfHxmLmxlbmd0aDw1KSlmb3IodmFyIHA9MDtwPHMuY291bnQoKTtwKyspe3ZhciBnPXMuZ2V0KGQscCksbT1uKGcsZlsyXSxwKSx2PW4oZyxmWzBdLHApLHk9bihnLGZbMV0scCkseD1uKGcsZlszXSxwKSxfPW4oZyxmWzRdLHApLHc9W107byh3LHksMCksbyh3LHgsMSksdy5wdXNoKHYseSxfLHgpLGEodyx2KSxhKHcsXyksYSh3LG0pLHMuc2V0SXRlbUxheW91dChwLHtpbml0QmFzZWxpbmU6bVtoXSxlbmRzOnd9KX19ZnVuY3Rpb24gSXAodCxlLGkpe3ZhciBuPXQuZW5kcztyZXR1cm4gbmV3IHhMKHtzaGFwZTp7cG9pbnRzOmk/RHAobix0KTpufSx6MjoxMDB9KX1mdW5jdGlvbiBUcCh0LGUsaSxuKXt2YXIgbz1lLmdldEl0ZW1Nb2RlbChpKSxhPW8uZ2V0TW9kZWwobUwpLHI9ZS5nZXRJdGVtVmlzdWFsKGksImNvbG9yIikscz1lLmdldEl0ZW1WaXN1YWwoaSwiYm9yZGVyQ29sb3IiKXx8cixsPWEuZ2V0SXRlbVN0eWxlKHlMKTt0LnVzZVN0eWxlKGwpLHQuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCx0LnN0eWxlLmZpbGw9cix0LnN0eWxlLnN0cm9rZT1zLHQuX19zaW1wbGVCb3g9bixlbyh0LG8uZ2V0TW9kZWwodkwpLmdldEl0ZW1TdHlsZSgpKX1mdW5jdGlvbiBEcCh0LGUpe3JldHVybiBmKHQsZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5zbGljZSgpLHRbMV09ZS5pbml0QmFzZWxpbmUsdH0pfWZ1bmN0aW9uIEFwKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKSxvPW4uZ2V0TGF5b3V0KCJsYXJnZVBvaW50cyIpLGE9bmV3IF9MKHtzaGFwZTp7cG9pbnRzOm99LF9fc2lnbjoxfSk7ZS5hZGQoYSk7dmFyIHI9bmV3IF9MKHtzaGFwZTp7cG9pbnRzOm99LF9fc2lnbjotMX0pO2UuYWRkKHIpLENwKDEsYSx0LG4pLENwKC0xLHIsdCxuKSxpJiYoYS5pbmNyZW1lbnRhbD0hMCxyLmluY3JlbWVudGFsPSEwKX1mdW5jdGlvbiBDcCh0LGUsaSxuKXt2YXIgbz10PjA/IlAiOiJOIixhPW4uZ2V0VmlzdWFsKCJib3JkZXJDb2xvciIrbyl8fG4uZ2V0VmlzdWFsKCJjb2xvciIrbykscj1pLmdldE1vZGVsKG1MKS5nZXRJdGVtU3R5bGUoeUwpO2UudXNlU3R5bGUociksZS5zdHlsZS5maWxsPW51bGwsZS5zdHlsZS5zdHJva2U9YX1mdW5jdGlvbiBMcCh0LGUsaSxuLG8pe3JldHVybiBpPm4/LTE6aTxuPzE6ZT4wP3QuZ2V0KG8sZS0xKTw9bj8xOi0xOjF9ZnVuY3Rpb24ga3AodCxlKXt2YXIgaSxuPXQuZ2V0QmFzZUF4aXMoKSxvPSJjYXRlZ29yeSI9PT1uLnR5cGU/bi5nZXRCYW5kV2lkdGgoKTooaT1uLmdldEV4dGVudCgpLE1hdGguYWJzKGlbMV0taVswXSkvZS5jb3VudCgpKSxhPURvKEQodC5nZXQoImJhck1heFdpZHRoIiksbyksbykscj1EbyhEKHQuZ2V0KCJiYXJNaW5XaWR0aCIpLDEpLG8pLHM9dC5nZXQoImJhcldpZHRoIik7cmV0dXJuIG51bGwhPXM/RG8ocyxvKTpNYXRoLm1heChNYXRoLm1pbihvLzIsYSkscil9ZnVuY3Rpb24gUHAodCl7cmV0dXJuIHkodCl8fCh0PVsrdCwrdF0pLHR9ZnVuY3Rpb24gTnAodCxlKXt0LmVhY2hDaGlsZChmdW5jdGlvbih0KXt0LmF0dHIoe3o6ZS56LHpsZXZlbDplLnpsZXZlbCxzdHlsZTp7c3Ryb2tlOiJzdHJva2UiPT09ZS5icnVzaFR5cGU/ZS5jb2xvcjpudWxsLGZpbGw6ImZpbGwiPT09ZS5icnVzaFR5cGU/ZS5jb2xvcjpudWxsfX0pfSl9ZnVuY3Rpb24gT3AodCxlKXtydy5jYWxsKHRoaXMpO3ZhciBpPW5ldyBZbCh0LGUpLG49bmV3IHJ3O3RoaXMuYWRkKGkpLHRoaXMuYWRkKG4pLG4uYmVmb3JlVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5hdHRyKGkuZ2V0U2NhbGUoKSl9LHRoaXMudXBkYXRlRGF0YSh0LGUpfWZ1bmN0aW9uIEVwKHQpe3ZhciBlPXQuZGF0YTtlJiZlWzBdJiZlWzBdWzBdJiZlWzBdWzBdLmNvb3JkJiYodC5kYXRhPWYoZSxmdW5jdGlvbih0KXt2YXIgZT17Y29vcmRzOlt0WzBdLmNvb3JkLHRbMV0uY29vcmRdfTtyZXR1cm4gdFswXS5uYW1lJiYoZS5mcm9tTmFtZT10WzBdLm5hbWUpLHRbMV0ubmFtZSYmKGUudG9OYW1lPXRbMV0ubmFtZSksbyhbZSx0WzBdLHRbMV1dKX0pKX1mdW5jdGlvbiBScCh0LGUsaSl7cncuY2FsbCh0aGlzKSx0aGlzLmFkZCh0aGlzLmNyZWF0ZUxpbmUodCxlLGkpKSx0aGlzLl91cGRhdGVFZmZlY3RTeW1ib2wodCxlKX1mdW5jdGlvbiB6cCh0LGUsaSl7cncuY2FsbCh0aGlzKSx0aGlzLl9jcmVhdGVQb2x5bGluZSh0LGUsaSl9ZnVuY3Rpb24gQnAodCxlLGkpe1JwLmNhbGwodGhpcyx0LGUsaSksdGhpcy5fbGFzdEZyYW1lPTAsdGhpcy5fbGFzdEZyYW1lUGVyY2VudD0wfWZ1bmN0aW9uIFZwKCl7dGhpcy5ncm91cD1uZXcgcnd9ZnVuY3Rpb24gR3AodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3QsdF0pLHR9ZnVuY3Rpb24gV3AoKXt2YXIgdD1nXygpO3RoaXMuY2FudmFzPXQsdGhpcy5ibHVyU2l6ZT0zMCx0aGlzLnBvaW50U2l6ZT0yMCx0aGlzLm1heE9wYWNpdHk9MSx0aGlzLm1pbk9wYWNpdHk9MCx0aGlzLl9ncmFkaWVudFBpeGVscz17fX1mdW5jdGlvbiBGcCh0LGUsaSl7dmFyIG49dFsxXS10WzBdLG89KGU9ZihlLGZ1bmN0aW9uKGUpe3JldHVybntpbnRlcnZhbDpbKGUuaW50ZXJ2YWxbMF0tdFswXSkvbiwoZS5pbnRlcnZhbFsxXS10WzBdKS9uXX19KSkubGVuZ3RoLGE9MDtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKG49YTtuPG87bisrKWlmKChyPWVbbl0uaW50ZXJ2YWwpWzBdPD10JiZ0PD1yWzFdKXthPW47YnJlYWt9aWYobj09PW8pZm9yKHZhciBuPWEtMTtuPj0wO24tLSl7dmFyIHI9ZVtuXS5pbnRlcnZhbDtpZihyWzBdPD10JiZ0PD1yWzFdKXthPW47YnJlYWt9fXJldHVybiBuPj0wJiZuPG8mJmlbbl19fWZ1bmN0aW9uIEhwKHQsZSl7dmFyIGk9dFsxXS10WzBdO3JldHVybiBlPVsoZVswXS10WzBdKS9pLChlWzFdLXRbMF0pL2ldLGZ1bmN0aW9uKHQpe3JldHVybiB0Pj1lWzBdJiZ0PD1lWzFdfX1mdW5jdGlvbiBacCh0KXt2YXIgZT10LmRpbWVuc2lvbnM7cmV0dXJuImxuZyI9PT1lWzBdJiYibGF0Ij09PWVbMV19ZnVuY3Rpb24gVXAodCxlLGksbil7dmFyIG89dC5nZXRJdGVtTGF5b3V0KGUpLGE9aS5nZXQoInN5bWJvbFJlcGVhdCIpLHI9aS5nZXQoInN5bWJvbENsaXAiKSxzPWkuZ2V0KCJzeW1ib2xQb3NpdGlvbiIpfHwic3RhcnQiLGw9KGkuZ2V0KCJzeW1ib2xSb3RhdGUiKXx8MCkqTWF0aC5QSS8xODB8fDAsdT1pLmdldCgic3ltYm9sUGF0dGVyblNpemUiKXx8MixoPWkuaXNBbmltYXRpb25FbmFibGVkKCksYz17ZGF0YUluZGV4OmUsbGF5b3V0Om8saXRlbU1vZGVsOmksc3ltYm9sVHlwZTp0LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sIil8fCJjaXJjbGUiLGNvbG9yOnQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpLHN5bWJvbENsaXA6cixzeW1ib2xSZXBlYXQ6YSxzeW1ib2xSZXBlYXREaXJlY3Rpb246aS5nZXQoInN5bWJvbFJlcGVhdERpcmVjdGlvbiIpLHN5bWJvbFBhdHRlcm5TaXplOnUscm90YXRpb246bCxhbmltYXRpb25Nb2RlbDpoP2k6bnVsbCxob3ZlckFuaW1hdGlvbjpoJiZpLmdldCgiaG92ZXJBbmltYXRpb24iKSx6MjppLmdldFNoYWxsb3coInoiLCEwKXx8MH07WHAoaSxhLG8sbixjKSxZcCh0LGUsbyxhLHIsYy5ib3VuZGluZ0xlbmd0aCxjLnB4U2lnbix1LG4sYykscXAoaSxjLnN5bWJvbFNjYWxlLGwsbixjKTt2YXIgZD1jLnN5bWJvbFNpemUsZj1pLmdldCgic3ltYm9sT2Zmc2V0Iik7cmV0dXJuIHkoZikmJihmPVtEbyhmWzBdLGRbMF0pLERvKGZbMV0sZFsxXSldKSxLcChpLGQsbyxhLHIsZixzLGMudmFsdWVMaW5lV2lkdGgsYy5ib3VuZGluZ0xlbmd0aCxjLnJlcGVhdEN1dExlbmd0aCxuLGMpLGN9ZnVuY3Rpb24gWHAodCxlLGksbixvKXt2YXIgYSxyPW4udmFsdWVEaW0scz10LmdldCgic3ltYm9sQm91bmRpbmdEYXRhIiksbD1uLmNvb3JkU3lzLmdldE90aGVyQXhpcyhuLmNvb3JkU3lzLmdldEJhc2VBeGlzKCkpLHU9bC50b0dsb2JhbENvb3JkKGwuZGF0YVRvQ29vcmQoMCkpLGg9MS0rKGlbci53aF08PTApO2lmKHkocykpe3ZhciBjPVtqcChsLHNbMF0pLXUsanAobCxzWzFdKS11XTtjWzFdPGNbMF0mJmMucmV2ZXJzZSgpLGE9Y1toXX1lbHNlIGE9bnVsbCE9cz9qcChsLHMpLXU6ZT9uLmNvb3JkU3lzRXh0ZW50W3IuaW5kZXhdW2hdLXU6aVtyLndoXTtvLmJvdW5kaW5nTGVuZ3RoPWEsZSYmKG8ucmVwZWF0Q3V0TGVuZ3RoPWlbci53aF0pLG8ucHhTaWduPWE+MD8xOmE8MD8tMTowfWZ1bmN0aW9uIGpwKHQsZSl7cmV0dXJuIHQudG9HbG9iYWxDb29yZCh0LmRhdGFUb0Nvb3JkKHQuc2NhbGUucGFyc2UoZSkpKX1mdW5jdGlvbiBZcCh0LGUsaSxuLG8sYSxyLHMsbCx1KXt2YXIgaD1sLnZhbHVlRGltLGM9bC5jYXRlZ29yeURpbSxkPU1hdGguYWJzKGlbYy53aF0pLGY9dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiKTt5KGYpP2Y9Zi5zbGljZSgpOihudWxsPT1mJiYoZj0iMTAwJSIpLGY9W2YsZl0pLGZbYy5pbmRleF09RG8oZltjLmluZGV4XSxkKSxmW2guaW5kZXhdPURvKGZbaC5pbmRleF0sbj9kOk1hdGguYWJzKGEpKSx1LnN5bWJvbFNpemU9ZiwodS5zeW1ib2xTY2FsZT1bZlswXS9zLGZbMV0vc10pW2guaW5kZXhdKj0obC5pc0hvcml6b250YWw/LTE6MSkqcn1mdW5jdGlvbiBxcCh0LGUsaSxuLG8pe3ZhciBhPXQuZ2V0KFdMKXx8MDthJiYoSEwuYXR0cih7c2NhbGU6ZS5zbGljZSgpLHJvdGF0aW9uOml9KSxITC51cGRhdGVUcmFuc2Zvcm0oKSxhLz1ITC5nZXRMaW5lU2NhbGUoKSxhKj1lW24udmFsdWVEaW0uaW5kZXhdKSxvLnZhbHVlTGluZVdpZHRoPWF9ZnVuY3Rpb24gS3AodCxlLGksbixvLHIscyxsLHUsaCxjLGQpe3ZhciBmPWMuY2F0ZWdvcnlEaW0scD1jLnZhbHVlRGltLGc9ZC5weFNpZ24sbT1NYXRoLm1heChlW3AuaW5kZXhdK2wsMCksdj1tO2lmKG4pe3ZhciB5PU1hdGguYWJzKHUpLHg9VCh0LmdldCgic3ltYm9sTWFyZ2luIiksIjE1JSIpKyIiLF89ITE7eC5sYXN0SW5kZXhPZigiISIpPT09eC5sZW5ndGgtMSYmKF89ITAseD14LnNsaWNlKDAseC5sZW5ndGgtMSkpLHg9RG8oeCxlW3AuaW5kZXhdKTt2YXIgdz1NYXRoLm1heChtKzIqeCwwKSxiPV8/MDoyKngsUz1XbyhuKSxNPVM/bjpmZygoeStiKS93KTt3PW0rMiooeD0oeS1NKm0pLzIvKF8/TTpNLTEpKSxiPV8/MDoyKngsU3x8ImZpeGVkIj09PW58fChNPWg/ZmcoKE1hdGguYWJzKGgpK2IpL3cpOjApLHY9TSp3LWIsZC5yZXBlYXRUaW1lcz1NLGQuc3ltYm9sTWFyZ2luPXh9dmFyIEk9Zyoodi8yKSxEPWQucGF0aFBvc2l0aW9uPVtdO0RbZi5pbmRleF09aVtmLndoXS8yLERbcC5pbmRleF09InN0YXJ0Ij09PXM/SToiZW5kIj09PXM/dS1JOnUvMixyJiYoRFswXSs9clswXSxEWzFdKz1yWzFdKTt2YXIgQT1kLmJ1bmRsZVBvc2l0aW9uPVtdO0FbZi5pbmRleF09aVtmLnh5XSxBW3AuaW5kZXhdPWlbcC54eV07dmFyIEM9ZC5iYXJSZWN0U2hhcGU9YSh7fSxpKTtDW3Aud2hdPWcqTWF0aC5tYXgoTWF0aC5hYnMoaVtwLndoXSksTWF0aC5hYnMoRFtwLmluZGV4XStJKSksQ1tmLndoXT1pW2Yud2hdO3ZhciBMPWQuY2xpcFNoYXBlPXt9O0xbZi54eV09LWlbZi54eV0sTFtmLndoXT1jLmVjU2l6ZVtmLndoXSxMW3AueHldPTAsTFtwLndoXT1pW3Aud2hdfWZ1bmN0aW9uICRwKHQpe3ZhciBlPXQuc3ltYm9sUGF0dGVyblNpemUsaT1JbCh0LnN5bWJvbFR5cGUsLWUvMiwtZS8yLGUsZSx0LmNvbG9yKTtyZXR1cm4gaS5hdHRyKHtjdWxsaW5nOiEwfSksImltYWdlIiE9PWkudHlwZSYmaS5zZXRTdHlsZSh7c3Ryb2tlTm9TY2FsZTohMH0pLGl9ZnVuY3Rpb24gSnAodCxlLGksbil7ZnVuY3Rpb24gbyh0KXt2YXIgZT1sLnNsaWNlKCksbj1pLnB4U2lnbixvPXQ7cmV0dXJuKCJzdGFydCI9PT1pLnN5bWJvbFJlcGVhdERpcmVjdGlvbj9uPjA6bjwwKSYmKG89aC0xLXQpLGVbdS5pbmRleF09ZCooby1oLzIrLjUpK2xbdS5pbmRleF0se3Bvc2l0aW9uOmUsc2NhbGU6aS5zeW1ib2xTY2FsZS5zbGljZSgpLHJvdGF0aW9uOmkucm90YXRpb259fXZhciBhPXQuX19waWN0b3JpYWxCdW5kbGUscj1pLnN5bWJvbFNpemUscz1pLnZhbHVlTGluZVdpZHRoLGw9aS5wYXRoUG9zaXRpb24sdT1lLnZhbHVlRGltLGg9aS5yZXBlYXRUaW1lc3x8MCxjPTAsZD1yW2UudmFsdWVEaW0uaW5kZXhdK3MrMippLnN5bWJvbE1hcmdpbjtmb3IoaGcodCxmdW5jdGlvbih0KXt0Ll9fcGljdG9yaWFsQW5pbWF0aW9uSW5kZXg9Yyx0Ll9fcGljdG9yaWFsUmVwZWF0VGltZXM9aCxjPGg/Y2codCxudWxsLG8oYyksaSxuKTpjZyh0LG51bGwse3NjYWxlOlswLDBdfSxpLG4sZnVuY3Rpb24oKXthLnJlbW92ZSh0KX0pLGFnKHQsaSksYysrfSk7YzxoO2MrKyl7dmFyIGY9JHAoaSk7Zi5fX3BpY3RvcmlhbEFuaW1hdGlvbkluZGV4PWMsZi5fX3BpY3RvcmlhbFJlcGVhdFRpbWVzPWgsYS5hZGQoZik7dmFyIHA9byhjKTtjZyhmLHtwb3NpdGlvbjpwLnBvc2l0aW9uLHNjYWxlOlswLDBdfSx7c2NhbGU6cC5zY2FsZSxyb3RhdGlvbjpwLnJvdGF0aW9ufSxpLG4pLGYub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtoZyh0LGZ1bmN0aW9uKHQpe3QudHJpZ2dlcigiZW1waGFzaXMiKX0pfSkub24oIm1vdXNlb3V0IixmdW5jdGlvbigpe2hnKHQsZnVuY3Rpb24odCl7dC50cmlnZ2VyKCJub3JtYWwiKX0pfSksYWcoZixpKX19ZnVuY3Rpb24gUXAodCxlLGksbil7dmFyIG89dC5fX3BpY3RvcmlhbEJ1bmRsZSxhPXQuX19waWN0b3JpYWxNYWluUGF0aDthP2NnKGEsbnVsbCx7cG9zaXRpb246aS5wYXRoUG9zaXRpb24uc2xpY2UoKSxzY2FsZTppLnN5bWJvbFNjYWxlLnNsaWNlKCkscm90YXRpb246aS5yb3RhdGlvbn0saSxuKTooYT10Ll9fcGljdG9yaWFsTWFpblBhdGg9JHAoaSksby5hZGQoYSksY2coYSx7cG9zaXRpb246aS5wYXRoUG9zaXRpb24uc2xpY2UoKSxzY2FsZTpbMCwwXSxyb3RhdGlvbjppLnJvdGF0aW9ufSx7c2NhbGU6aS5zeW1ib2xTY2FsZS5zbGljZSgpfSxpLG4pLGEub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoImVtcGhhc2lzIil9KS5vbigibW91c2VvdXQiLGZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJub3JtYWwiKX0pKSxhZyhhLGkpfWZ1bmN0aW9uIHRnKHQsZSxpKXt2YXIgbj1hKHt9LGUuYmFyUmVjdFNoYXBlKSxvPXQuX19waWN0b3JpYWxCYXJSZWN0O28/Y2cobyxudWxsLHtzaGFwZTpufSxlLGkpOihvPXQuX19waWN0b3JpYWxCYXJSZWN0PW5ldyBiUyh7ejI6MixzaGFwZTpuLHNpbGVudDohMCxzdHlsZTp7c3Ryb2tlOiJ0cmFuc3BhcmVudCIsZmlsbDoidHJhbnNwYXJlbnQiLGxpbmVXaWR0aDowfX0pLHQuYWRkKG8pKX1mdW5jdGlvbiBlZyh0LGUsaSxuKXtpZihpLnN5bWJvbENsaXApe3ZhciBvPXQuX19waWN0b3JpYWxDbGlwUGF0aCxyPWEoe30saS5jbGlwU2hhcGUpLHM9ZS52YWx1ZURpbSxsPWkuYW5pbWF0aW9uTW9kZWwsdT1pLmRhdGFJbmRleDtpZihvKWZvKG8se3NoYXBlOnJ9LGwsdSk7ZWxzZXtyW3Mud2hdPTAsbz1uZXcgYlMoe3NoYXBlOnJ9KSx0Ll9fcGljdG9yaWFsQnVuZGxlLnNldENsaXBQYXRoKG8pLHQuX19waWN0b3JpYWxDbGlwUGF0aD1vO3ZhciBoPXt9O2hbcy53aF09aS5jbGlwU2hhcGVbcy53aF0selNbbj8idXBkYXRlUHJvcHMiOiJpbml0UHJvcHMiXShvLHtzaGFwZTpofSxsLHUpfX19ZnVuY3Rpb24gaWcodCxlKXt2YXIgaT10LmdldEl0ZW1Nb2RlbChlKTtyZXR1cm4gaS5nZXRBbmltYXRpb25EZWxheVBhcmFtcz1uZyxpLmlzQW5pbWF0aW9uRW5hYmxlZD1vZyxpfWZ1bmN0aW9uIG5nKHQpe3JldHVybntpbmRleDp0Ll9fcGljdG9yaWFsQW5pbWF0aW9uSW5kZXgsY291bnQ6dC5fX3BpY3RvcmlhbFJlcGVhdFRpbWVzfX1mdW5jdGlvbiBvZygpe3JldHVybiB0aGlzLnBhcmVudE1vZGVsLmlzQW5pbWF0aW9uRW5hYmxlZCgpJiYhIXRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uIil9ZnVuY3Rpb24gYWcodCxlKXt0Lm9mZigiZW1waGFzaXMiKS5vZmYoIm5vcm1hbCIpO3ZhciBpPWUuc3ltYm9sU2NhbGUuc2xpY2UoKTtlLmhvdmVyQW5pbWF0aW9uJiZ0Lm9uKCJlbXBoYXNpcyIsZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGVUbyh7c2NhbGU6WzEuMSppWzBdLDEuMSppWzFdXX0sNDAwLCJlbGFzdGljT3V0Iil9KS5vbigibm9ybWFsIixmdW5jdGlvbigpe3RoaXMuYW5pbWF0ZVRvKHtzY2FsZTppLnNsaWNlKCl9LDQwMCwiZWxhc3RpY091dCIpfSl9ZnVuY3Rpb24gcmcodCxlLGksbil7dmFyIG89bmV3IHJ3LGE9bmV3IHJ3O3JldHVybiBvLmFkZChhKSxvLl9fcGljdG9yaWFsQnVuZGxlPWEsYS5hdHRyKCJwb3NpdGlvbiIsaS5idW5kbGVQb3NpdGlvbi5zbGljZSgpKSxpLnN5bWJvbFJlcGVhdD9KcChvLGUsaSk6UXAobyxlLGkpLHRnKG8saSxuKSxlZyhvLGUsaSxuKSxvLl9fcGljdG9yaWFsU2hhcGVTdHI9dWcodCxpKSxvLl9fcGljdG9yaWFsU3ltYm9sTWV0YT1pLG99ZnVuY3Rpb24gc2codCxlLGkpe3ZhciBuPWkuYW5pbWF0aW9uTW9kZWwsbz1pLmRhdGFJbmRleDtmbyh0Ll9fcGljdG9yaWFsQnVuZGxlLHtwb3NpdGlvbjppLmJ1bmRsZVBvc2l0aW9uLnNsaWNlKCl9LG4sbyksaS5zeW1ib2xSZXBlYXQ/SnAodCxlLGksITApOlFwKHQsZSxpLCEwKSx0Zyh0LGksITApLGVnKHQsZSxpLCEwKX1mdW5jdGlvbiBsZyh0LGUsaSxuKXt2YXIgbz1uLl9fcGljdG9yaWFsQmFyUmVjdDtvJiYoby5zdHlsZS50ZXh0PW51bGwpO3ZhciBhPVtdO2hnKG4sZnVuY3Rpb24odCl7YS5wdXNoKHQpfSksbi5fX3BpY3RvcmlhbE1haW5QYXRoJiZhLnB1c2gobi5fX3BpY3RvcmlhbE1haW5QYXRoKSxuLl9fcGljdG9yaWFsQ2xpcFBhdGgmJihpPW51bGwpLGQoYSxmdW5jdGlvbih0KXtmbyh0LHtzY2FsZTpbMCwwXX0saSxlLGZ1bmN0aW9uKCl7bi5wYXJlbnQmJm4ucGFyZW50LnJlbW92ZShuKX0pfSksdC5zZXRJdGVtR3JhcGhpY0VsKGUsbnVsbCl9ZnVuY3Rpb24gdWcodCxlKXtyZXR1cm5bdC5nZXRJdGVtVmlzdWFsKGUuZGF0YUluZGV4LCJzeW1ib2wiKXx8Im5vbmUiLCEhZS5zeW1ib2xSZXBlYXQsISFlLnN5bWJvbENsaXBdLmpvaW4oIjoiKX1mdW5jdGlvbiBoZyh0LGUsaSl7ZCh0Ll9fcGljdG9yaWFsQnVuZGxlLmNoaWxkcmVuKCksZnVuY3Rpb24obil7biE9PXQuX19waWN0b3JpYWxCYXJSZWN0JiZlLmNhbGwoaSxuKX0pfWZ1bmN0aW9uIGNnKHQsZSxpLG4sbyxhKXtlJiZ0LmF0dHIoZSksbi5zeW1ib2xDbGlwJiYhbz9pJiZ0LmF0dHIoaSk6aSYmelNbbz8idXBkYXRlUHJvcHMiOiJpbml0UHJvcHMiXSh0LGksbi5hbmltYXRpb25Nb2RlbCxuLmRhdGFJbmRleCxhKX1mdW5jdGlvbiBkZyh0LGUsaSl7dmFyIG49aS5jb2xvcixvPWkuZGF0YUluZGV4LGE9aS5pdGVtTW9kZWwscz1hLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSxsPWEuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHU9YS5nZXRTaGFsbG93KCJjdXJzb3IiKTtoZyh0LGZ1bmN0aW9uKHQpe3Quc2V0Q29sb3IobiksdC5zZXRTdHlsZShyKHtmaWxsOm4sb3BhY2l0eTppLm9wYWNpdHl9LHMpKSxlbyh0LGwpLHUmJih0LmN1cnNvcj11KSx0LnoyPWkuejJ9KTt2YXIgaD17fSxjPWUudmFsdWVEaW0ucG9zRGVzY1srKGkuYm91bmRpbmdMZW5ndGg+MCldLGQ9dC5fX3BpY3RvcmlhbEJhclJlY3Q7ZWgoZC5zdHlsZSxoLGEsbixlLnNlcmllc01vZGVsLG8sYyksZW8oZCxoKX1mdW5jdGlvbiBmZyh0KXt2YXIgZT1NYXRoLnJvdW5kKHQpO3JldHVybiBNYXRoLmFicyh0LWUpPDFlLTQ/ZTpNYXRoLmNlaWwodCl9ZnVuY3Rpb24gcGcodCxlLGkpe3RoaXMuZGltZW5zaW9uPSJzaW5nbGUiLHRoaXMuZGltZW5zaW9ucz1bInNpbmdsZSJdLHRoaXMuX2F4aXM9bnVsbCx0aGlzLl9yZWN0LHRoaXMuX2luaXQodCxlLGkpLHRoaXMubW9kZWw9dH1mdW5jdGlvbiBnZyh0LGUpe2U9ZXx8e307dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLG49dC5heGlzLG89e30sYT1uLnBvc2l0aW9uLHI9bi5vcmllbnQscz1pLmdldFJlY3QoKSxsPVtzLngscy54K3Mud2lkdGgscy55LHMueStzLmhlaWdodF0sdT17aG9yaXpvbnRhbDp7dG9wOmxbMl0sYm90dG9tOmxbM119LHZlcnRpY2FsOntsZWZ0OmxbMF0scmlnaHQ6bFsxXX19O28ucG9zaXRpb249WyJ2ZXJ0aWNhbCI9PT1yP3UudmVydGljYWxbYV06bFswXSwiaG9yaXpvbnRhbCI9PT1yP3UuaG9yaXpvbnRhbFthXTpsWzNdXTt2YXIgaD17aG9yaXpvbnRhbDowLHZlcnRpY2FsOjF9O28ucm90YXRpb249TWF0aC5QSS8yKmhbcl07dmFyIGM9e3RvcDotMSxib3R0b206MSxyaWdodDoxLGxlZnQ6LTF9O28ubGFiZWxEaXJlY3Rpb249by50aWNrRGlyZWN0aW9uPW8ubmFtZURpcmVjdGlvbj1jW2FdLHQuZ2V0KCJheGlzVGljay5pbnNpZGUiKSYmKG8udGlja0RpcmVjdGlvbj0tby50aWNrRGlyZWN0aW9uKSxUKGUubGFiZWxJbnNpZGUsdC5nZXQoImF4aXNMYWJlbC5pbnNpZGUiKSkmJihvLmxhYmVsRGlyZWN0aW9uPS1vLmxhYmVsRGlyZWN0aW9uKTt2YXIgZD1lLnJvdGF0ZTtyZXR1cm4gbnVsbD09ZCYmKGQ9dC5nZXQoImF4aXNMYWJlbC5yb3RhdGUiKSksby5sYWJlbFJvdGF0aW9uPSJ0b3AiPT09YT8tZDpkLG8uejI9MSxvfWZ1bmN0aW9uIG1nKHQsZSxpLG4sbyl7dmFyIHI9dC5heGlzO2lmKCFyLnNjYWxlLmlzQmxhbmsoKSYmci5jb250YWluRGF0YShlKSlpZih0Lmludm9sdmVTZXJpZXMpe3ZhciBzPXZnKGUsdCksbD1zLnBheWxvYWRCYXRjaCx1PXMuc25hcFRvVmFsdWU7bFswXSYmbnVsbD09by5zZXJpZXNJbmRleCYmYShvLGxbMF0pLCFuJiZ0LnNuYXAmJnIuY29udGFpbkRhdGEodSkmJm51bGwhPXUmJihlPXUpLGkuc2hvd1BvaW50ZXIodCxlLGwsbyksaS5zaG93VG9vbHRpcCh0LHMsdSl9ZWxzZSBpLnNob3dQb2ludGVyKHQsZSl9ZnVuY3Rpb24gdmcodCxlKXt2YXIgaT1lLmF4aXMsbj1pLmRpbSxvPXQsYT1bXSxyPU51bWJlci5NQVhfVkFMVUUscz0tMTtyZXR1cm4gS0woZS5zZXJpZXNNb2RlbHMsZnVuY3Rpb24oZSxsKXt2YXIgdSxoLGM9ZS5nZXREYXRhKCkubWFwRGltZW5zaW9uKG4sITApO2lmKGUuZ2V0QXhpc1Rvb2x0aXBEYXRhKXt2YXIgZD1lLmdldEF4aXNUb29sdGlwRGF0YShjLHQsaSk7aD1kLmRhdGFJbmRpY2VzLHU9ZC5uZXN0ZXN0VmFsdWV9ZWxzZXtpZighKGg9ZS5nZXREYXRhKCkuaW5kaWNlc09mTmVhcmVzdChjWzBdLHQsImNhdGVnb3J5Ij09PWkudHlwZT8uNTpudWxsKSkubGVuZ3RoKXJldHVybjt1PWUuZ2V0RGF0YSgpLmdldChjWzBdLGhbMF0pfWlmKG51bGwhPXUmJmlzRmluaXRlKHUpKXt2YXIgZj10LXUscD1NYXRoLmFicyhmKTtwPD1yJiYoKHA8cnx8Zj49MCYmczwwKSYmKHI9cCxzPWYsbz11LGEubGVuZ3RoPTApLEtMKGgsZnVuY3Rpb24odCl7YS5wdXNoKHtzZXJpZXNJbmRleDplLnNlcmllc0luZGV4LGRhdGFJbmRleEluc2lkZTp0LGRhdGFJbmRleDplLmdldERhdGEoKS5nZXRSYXdJbmRleCh0KX0pfSkpfX0pLHtwYXlsb2FkQmF0Y2g6YSxzbmFwVG9WYWx1ZTpvfX1mdW5jdGlvbiB5Zyh0LGUsaSxuKXt0W2Uua2V5XT17dmFsdWU6aSxwYXlsb2FkQmF0Y2g6bn19ZnVuY3Rpb24geGcodCxlLGksbil7dmFyIG89aS5wYXlsb2FkQmF0Y2gsYT1lLmF4aXMscj1hLm1vZGVsLHM9ZS5heGlzUG9pbnRlck1vZGVsO2lmKGUudHJpZ2dlclRvb2x0aXAmJm8ubGVuZ3RoKXt2YXIgbD1lLmNvb3JkU3lzLm1vZGVsLHU9JHUobCksaD10Lm1hcFt1XTtofHwoaD10Lm1hcFt1XT17Y29vcmRTeXNJZDpsLmlkLGNvb3JkU3lzSW5kZXg6bC5jb21wb25lbnRJbmRleCxjb29yZFN5c1R5cGU6bC50eXBlLGNvb3JkU3lzTWFpblR5cGU6bC5tYWluVHlwZSxkYXRhQnlBeGlzOltdfSx0Lmxpc3QucHVzaChoKSksaC5kYXRhQnlBeGlzLnB1c2goe2F4aXNEaW06YS5kaW0sYXhpc0luZGV4OnIuY29tcG9uZW50SW5kZXgsYXhpc1R5cGU6ci50eXBlLGF4aXNJZDpyLmlkLHZhbHVlOm4sdmFsdWVMYWJlbE9wdDp7cHJlY2lzaW9uOnMuZ2V0KCJsYWJlbC5wcmVjaXNpb24iKSxmb3JtYXR0ZXI6cy5nZXQoImxhYmVsLmZvcm1hdHRlciIpfSxzZXJpZXNEYXRhSW5kaWNlczpvLnNsaWNlKCl9KX19ZnVuY3Rpb24gX2codCxlLGkpe3ZhciBuPWkuYXhlc0luZm89W107S0woZSxmdW5jdGlvbihlLGkpe3ZhciBvPWUuYXhpc1BvaW50ZXJNb2RlbC5vcHRpb24sYT10W2ldO2E/KCFlLnVzZUhhbmRsZSYmKG8uc3RhdHVzPSJzaG93Iiksby52YWx1ZT1hLnZhbHVlLG8uc2VyaWVzRGF0YUluZGljZXM9KGEucGF5bG9hZEJhdGNofHxbXSkuc2xpY2UoKSk6IWUudXNlSGFuZGxlJiYoby5zdGF0dXM9ImhpZGUiKSwic2hvdyI9PT1vLnN0YXR1cyYmbi5wdXNoKHtheGlzRGltOmUuYXhpcy5kaW0sYXhpc0luZGV4OmUuYXhpcy5tb2RlbC5jb21wb25lbnRJbmRleCx2YWx1ZTpvLnZhbHVlfSl9KX1mdW5jdGlvbiB3Zyh0LGUsaSxuKXtpZighSWcoZSkmJnQubGlzdC5sZW5ndGgpe3ZhciBvPSgodC5saXN0WzBdLmRhdGFCeUF4aXNbMF18fHt9KS5zZXJpZXNEYXRhSW5kaWNlc3x8W10pWzBdfHx7fTtuKHt0eXBlOiJzaG93VGlwIixlc2NhcGVDb25uZWN0OiEwLHg6ZVswXSx5OmVbMV0sdG9vbHRpcE9wdGlvbjppLnRvb2x0aXBPcHRpb24scG9zaXRpb246aS5wb3NpdGlvbixkYXRhSW5kZXhJbnNpZGU6by5kYXRhSW5kZXhJbnNpZGUsZGF0YUluZGV4Om8uZGF0YUluZGV4LHNlcmllc0luZGV4Om8uc2VyaWVzSW5kZXgsZGF0YUJ5Q29vcmRTeXM6dC5saXN0fSl9ZWxzZSBuKHt0eXBlOiJoaWRlVGlwIn0pfWZ1bmN0aW9uIGJnKHQsZSxpKXt2YXIgbj1pLmdldFpyKCksbz1KTChuKS5heGlzUG9pbnRlckxhc3RIaWdobGlnaHRzfHx7fSxhPUpMKG4pLmF4aXNQb2ludGVyTGFzdEhpZ2hsaWdodHM9e307S0wodCxmdW5jdGlvbih0LGUpe3ZhciBpPXQuYXhpc1BvaW50ZXJNb2RlbC5vcHRpb247InNob3ciPT09aS5zdGF0dXMmJktMKGkuc2VyaWVzRGF0YUluZGljZXMsZnVuY3Rpb24odCl7dmFyIGU9dC5zZXJpZXNJbmRleCsiIHwgIit0LmRhdGFJbmRleDthW2VdPXR9KX0pO3ZhciByPVtdLHM9W107ZChvLGZ1bmN0aW9uKHQsZSl7IWFbZV0mJnMucHVzaCh0KX0pLGQoYSxmdW5jdGlvbih0LGUpeyFvW2VdJiZyLnB1c2godCl9KSxzLmxlbmd0aCYmaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZG93bnBsYXkiLGVzY2FwZUNvbm5lY3Q6ITAsYmF0Y2g6c30pLHIubGVuZ3RoJiZpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJoaWdobGlnaHQiLGVzY2FwZUNvbm5lY3Q6ITAsYmF0Y2g6cn0pfWZ1bmN0aW9uIFNnKHQsZSl7Zm9yKHZhciBpPTA7aTwodHx8W10pLmxlbmd0aDtpKyspe3ZhciBuPXRbaV07aWYoZS5heGlzLmRpbT09PW4uYXhpc0RpbSYmZS5heGlzLm1vZGVsLmNvbXBvbmVudEluZGV4PT09bi5heGlzSW5kZXgpcmV0dXJuIG59fWZ1bmN0aW9uIE1nKHQpe3ZhciBlPXQuYXhpcy5tb2RlbCxpPXt9LG49aS5heGlzRGltPXQuYXhpcy5kaW07cmV0dXJuIGkuYXhpc0luZGV4PWlbbisiQXhpc0luZGV4Il09ZS5jb21wb25lbnRJbmRleCxpLmF4aXNOYW1lPWlbbisiQXhpc05hbWUiXT1lLm5hbWUsaS5heGlzSWQ9aVtuKyJBeGlzSWQiXT1lLmlkLGl9ZnVuY3Rpb24gSWcodCl7cmV0dXJuIXR8fG51bGw9PXRbMF18fGlzTmFOKHRbMF0pfHxudWxsPT10WzFdfHxpc05hTih0WzFdKX1mdW5jdGlvbiBUZyh0LGUsaSl7aWYoIW9fLm5vZGUpe3ZhciBuPWUuZ2V0WnIoKTtRTChuKS5yZWNvcmRzfHwoUUwobikucmVjb3Jkcz17fSksRGcobixlKSwoUUwobikucmVjb3Jkc1t0XXx8KFFMKG4pLnJlY29yZHNbdF09e30pKS5oYW5kbGVyPWl9fWZ1bmN0aW9uIERnKHQsZSl7ZnVuY3Rpb24gaShpLG4pe3Qub24oaSxmdW5jdGlvbihpKXt2YXIgbz1rZyhlKTt0ayhRTCh0KS5yZWNvcmRzLGZ1bmN0aW9uKHQpe3QmJm4odCxpLG8uZGlzcGF0Y2hBY3Rpb24pfSksQWcoby5wZW5kaW5ncyxlKX0pfVFMKHQpLmluaXRpYWxpemVkfHwoUUwodCkuaW5pdGlhbGl6ZWQ9ITAsaSgiY2xpY2siLHYoTGcsImNsaWNrIikpLGkoIm1vdXNlbW92ZSIsdihMZywibW91c2Vtb3ZlIikpLGkoImdsb2JhbG91dCIsQ2cpKX1mdW5jdGlvbiBBZyh0LGUpe3ZhciBpLG49dC5zaG93VGlwLmxlbmd0aCxvPXQuaGlkZVRpcC5sZW5ndGg7bj9pPXQuc2hvd1RpcFtuLTFdOm8mJihpPXQuaGlkZVRpcFtvLTFdKSxpJiYoaS5kaXNwYXRjaEFjdGlvbj1udWxsLGUuZGlzcGF0Y2hBY3Rpb24oaSkpfWZ1bmN0aW9uIENnKHQsZSxpKXt0LmhhbmRsZXIoImxlYXZlIixudWxsLGkpfWZ1bmN0aW9uIExnKHQsZSxpLG4pe2UuaGFuZGxlcih0LGksbil9ZnVuY3Rpb24ga2codCl7dmFyIGU9e3Nob3dUaXA6W10saGlkZVRpcDpbXX0saT1mdW5jdGlvbihuKXt2YXIgbz1lW24udHlwZV07bz9vLnB1c2gobik6KG4uZGlzcGF0Y2hBY3Rpb249aSx0LmRpc3BhdGNoQWN0aW9uKG4pKX07cmV0dXJue2Rpc3BhdGNoQWN0aW9uOmkscGVuZGluZ3M6ZX19ZnVuY3Rpb24gUGcodCxlKXtpZighb18ubm9kZSl7dmFyIGk9ZS5nZXRacigpOyhRTChpKS5yZWNvcmRzfHx7fSlbdF0mJihRTChpKS5yZWNvcmRzW3RdPW51bGwpfX1mdW5jdGlvbiBOZygpe31mdW5jdGlvbiBPZyh0LGUsaSxuKXtFZyhpayhpKS5sYXN0UHJvcCxuKXx8KGlrKGkpLmxhc3RQcm9wPW4sZT9mbyhpLG4sdCk6KGkuc3RvcEFuaW1hdGlvbigpLGkuYXR0cihuKSkpfWZ1bmN0aW9uIEVnKHQsZSl7aWYodyh0KSYmdyhlKSl7dmFyIGk9ITA7cmV0dXJuIGQoZSxmdW5jdGlvbihlLG4pe2k9aSYmRWcodFtuXSxlKX0pLCEhaX1yZXR1cm4gdD09PWV9ZnVuY3Rpb24gUmcodCxlKXt0W2UuZ2V0KCJsYWJlbC5zaG93Iik/InNob3ciOiJoaWRlIl0oKX1mdW5jdGlvbiB6Zyh0KXtyZXR1cm57cG9zaXRpb246dC5wb3NpdGlvbi5zbGljZSgpLHJvdGF0aW9uOnQucm90YXRpb258fDB9fWZ1bmN0aW9uIEJnKHQsZSxpKXt2YXIgbj1lLmdldCgieiIpLG89ZS5nZXQoInpsZXZlbCIpO3QmJnQudHJhdmVyc2UoZnVuY3Rpb24odCl7Imdyb3VwIiE9PXQudHlwZSYmKG51bGwhPW4mJih0Lno9biksbnVsbCE9byYmKHQuemxldmVsPW8pLHQuc2lsZW50PWkpfSl9ZnVuY3Rpb24gVmcodCl7dmFyIGUsaT10LmdldCgidHlwZSIpLG49dC5nZXRNb2RlbChpKyJTdHlsZSIpO3JldHVybiJsaW5lIj09PWk/KGU9bi5nZXRMaW5lU3R5bGUoKSkuZmlsbD1udWxsOiJzaGFkb3ciPT09aSYmKChlPW4uZ2V0QXJlYVN0eWxlKCkpLnN0cm9rZT1udWxsKSxlfWZ1bmN0aW9uIEdnKHQsZSxpLG4sbyl7dmFyIGE9RmcoaS5nZXQoInZhbHVlIiksZS5heGlzLGUuZWNNb2RlbCxpLmdldCgic2VyaWVzRGF0YUluZGljZXMiKSx7cHJlY2lzaW9uOmkuZ2V0KCJsYWJlbC5wcmVjaXNpb24iKSxmb3JtYXR0ZXI6aS5nZXQoImxhYmVsLmZvcm1hdHRlciIpfSkscj1pLmdldE1vZGVsKCJsYWJlbCIpLHM9cVMoci5nZXQoInBhZGRpbmciKXx8MCksbD1yLmdldEZvbnQoKSx1PW1lKGEsbCksaD1vLnBvc2l0aW9uLGM9dS53aWR0aCtzWzFdK3NbM10sZD11LmhlaWdodCtzWzBdK3NbMl0sZj1vLmFsaWduOyJyaWdodCI9PT1mJiYoaFswXS09YyksImNlbnRlciI9PT1mJiYoaFswXS09Yy8yKTt2YXIgcD1vLnZlcnRpY2FsQWxpZ247ImJvdHRvbSI9PT1wJiYoaFsxXS09ZCksIm1pZGRsZSI9PT1wJiYoaFsxXS09ZC8yKSxXZyhoLGMsZCxuKTt2YXIgZz1yLmdldCgiYmFja2dyb3VuZENvbG9yIik7ZyYmImF1dG8iIT09Z3x8KGc9ZS5nZXQoImF4aXNMaW5lLmxpbmVTdHlsZS5jb2xvciIpKSx0LmxhYmVsPXtzaGFwZTp7eDowLHk6MCx3aWR0aDpjLGhlaWdodDpkLHI6ci5nZXQoImJvcmRlclJhZGl1cyIpfSxwb3NpdGlvbjpoLnNsaWNlKCksc3R5bGU6e3RleHQ6YSx0ZXh0Rm9udDpsLHRleHRGaWxsOnIuZ2V0VGV4dENvbG9yKCksdGV4dFBvc2l0aW9uOiJpbnNpZGUiLGZpbGw6ZyxzdHJva2U6ci5nZXQoImJvcmRlckNvbG9yIil8fCJ0cmFuc3BhcmVudCIsbGluZVdpZHRoOnIuZ2V0KCJib3JkZXJXaWR0aCIpfHwwLHNoYWRvd0JsdXI6ci5nZXQoInNoYWRvd0JsdXIiKSxzaGFkb3dDb2xvcjpyLmdldCgic2hhZG93Q29sb3IiKSxzaGFkb3dPZmZzZXRYOnIuZ2V0KCJzaGFkb3dPZmZzZXRYIiksc2hhZG93T2Zmc2V0WTpyLmdldCgic2hhZG93T2Zmc2V0WSIpfSx6MjoxMH19ZnVuY3Rpb24gV2codCxlLGksbil7dmFyIG89bi5nZXRXaWR0aCgpLGE9bi5nZXRIZWlnaHQoKTt0WzBdPU1hdGgubWluKHRbMF0rZSxvKS1lLHRbMV09TWF0aC5taW4odFsxXStpLGEpLWksdFswXT1NYXRoLm1heCh0WzBdLDApLHRbMV09TWF0aC5tYXgodFsxXSwwKX1mdW5jdGlvbiBGZyh0LGUsaSxuLG8pe3Q9ZS5zY2FsZS5wYXJzZSh0KTt2YXIgYT1lLnNjYWxlLmdldExhYmVsKHQse3ByZWNpc2lvbjpvLnByZWNpc2lvbn0pLHI9by5mb3JtYXR0ZXI7aWYocil7dmFyIHM9e3ZhbHVlOndsKGUsdCksc2VyaWVzRGF0YTpbXX07ZChuLGZ1bmN0aW9uKHQpe3ZhciBlPWkuZ2V0U2VyaWVzQnlJbmRleCh0LnNlcmllc0luZGV4KSxuPXQuZGF0YUluZGV4SW5zaWRlLG89ZSYmZS5nZXREYXRhUGFyYW1zKG4pO28mJnMuc2VyaWVzRGF0YS5wdXNoKG8pfSksXyhyKT9hPXIucmVwbGFjZSgie3ZhbHVlfSIsYSk6eChyKSYmKGE9cihzKSl9cmV0dXJuIGF9ZnVuY3Rpb24gSGcodCxlLGkpe3ZhciBuPXN0KCk7cmV0dXJuIGR0KG4sbixpLnJvdGF0aW9uKSxjdChuLG4saS5wb3NpdGlvbiksbW8oW3QuZGF0YVRvQ29vcmQoZSksKGkubGFiZWxPZmZzZXR8fDApKyhpLmxhYmVsRGlyZWN0aW9ufHwxKSooaS5sYWJlbE1hcmdpbnx8MCldLG4pfWZ1bmN0aW9uIFpnKHQsZSxpLG4sbyxhKXt2YXIgcj1DRC5pbm5lclRleHRMYXlvdXQoaS5yb3RhdGlvbiwwLGkubGFiZWxEaXJlY3Rpb24pO2kubGFiZWxNYXJnaW49by5nZXQoImxhYmVsLm1hcmdpbiIpLEdnKGUsbixvLGEse3Bvc2l0aW9uOkhnKG4uYXhpcyx0LGkpLGFsaWduOnIudGV4dEFsaWduLHZlcnRpY2FsQWxpZ246ci50ZXh0VmVydGljYWxBbGlnbn0pfWZ1bmN0aW9uIFVnKHQsZSxpKXtyZXR1cm4gaT1pfHwwLHt4MTp0W2ldLHkxOnRbMS1pXSx4MjplW2ldLHkyOmVbMS1pXX19ZnVuY3Rpb24gWGcodCxlLGkpe3JldHVybiBpPWl8fDAse3g6dFtpXSx5OnRbMS1pXSx3aWR0aDplW2ldLGhlaWdodDplWzEtaV19fWZ1bmN0aW9uIGpnKHQsZSxpLG4sbyxhKXtyZXR1cm57Y3g6dCxjeTplLHIwOmkscjpuLHN0YXJ0QW5nbGU6byxlbmRBbmdsZTphLGNsb2Nrd2lzZTohMH19ZnVuY3Rpb24gWWcodCxlKXt2YXIgaT17fTtyZXR1cm4gaVtlLmRpbSsiQXhpc0luZGV4Il09ZS5pbmRleCx0LmdldENhcnRlc2lhbihpKX1mdW5jdGlvbiBxZyh0KXtyZXR1cm4ieCI9PT10LmRpbT8wOjF9ZnVuY3Rpb24gS2codCl7cmV0dXJuIHQuaXNIb3Jpem9udGFsKCk/MDoxfWZ1bmN0aW9uICRnKHQsZSl7dmFyIGk9dC5nZXRSZWN0KCk7cmV0dXJuW2lbc2tbZV1dLGlbc2tbZV1dK2lbbGtbZV1dXX1mdW5jdGlvbiBKZyh0LGUsaSl7dmFyIG49bmV3IGJTKHtzaGFwZTp7eDp0LngtMTAseTp0LnktMTAsd2lkdGg6MCxoZWlnaHQ6dC5oZWlnaHQrMjB9fSk7cmV0dXJuIHBvKG4se3NoYXBlOnt3aWR0aDp0LndpZHRoKzIwLGhlaWdodDp0LmhlaWdodCsyMH19LGUsaSksbn1mdW5jdGlvbiBRZyh0LGUsaSl7aWYodC5jb3VudCgpKWZvcih2YXIgbixvPWUuY29vcmRpbmF0ZVN5c3RlbSxhPWUuZ2V0TGF5ZXJTZXJpZXMoKSxyPXQubWFwRGltZW5zaW9uKCJzaW5nbGUiKSxzPXQubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLGw9ZihhLGZ1bmN0aW9uKGUpe3JldHVybiBmKGUuaW5kaWNlcyxmdW5jdGlvbihlKXt2YXIgaT1vLmRhdGFUb1BvaW50KHQuZ2V0KHIsZSkpO3JldHVybiBpWzFdPXQuZ2V0KHMsZSksaX0pfSksdT10bShsKSxoPXUueTAsYz1pL3UubWF4LGQ9YS5sZW5ndGgscD1hWzBdLmluZGljZXMubGVuZ3RoLGc9MDtnPHA7KytnKXtuPWhbZ10qYyx0LnNldEl0ZW1MYXlvdXQoYVswXS5pbmRpY2VzW2ddLHtsYXllckluZGV4OjAseDpsWzBdW2ddWzBdLHkwOm4seTpsWzBdW2ddWzFdKmN9KTtmb3IodmFyIG09MTttPGQ7KyttKW4rPWxbbS0xXVtnXVsxXSpjLHQuc2V0SXRlbUxheW91dChhW21dLmluZGljZXNbZ10se2xheWVySW5kZXg6bSx4OmxbbV1bZ11bMF0seTA6bix5OmxbbV1bZ11bMV0qY30pfX1mdW5jdGlvbiB0bSh0KXtmb3IodmFyIGU9dC5sZW5ndGgsaT10WzBdLmxlbmd0aCxuPVtdLG89W10sYT0wLHI9e30scz0wO3M8aTsrK3Mpe2Zvcih2YXIgbD0wLHU9MDtsPGU7KytsKXUrPXRbbF1bc11bMV07dT5hJiYoYT11KSxuLnB1c2godSl9Zm9yKHZhciBoPTA7aDxpOysraClvW2hdPShhLW5baF0pLzI7YT0wO2Zvcih2YXIgYz0wO2M8aTsrK2Mpe3ZhciBkPW5bY10rb1tjXTtkPmEmJihhPWQpfXJldHVybiByLnkwPW8sci5tYXg9YSxyfWZ1bmN0aW9uIGVtKHQpe3ZhciBlPTA7ZCh0LmNoaWxkcmVuLGZ1bmN0aW9uKHQpe2VtKHQpO3ZhciBpPXQudmFsdWU7eShpKSYmKGk9aVswXSksZSs9aX0pO3ZhciBpPXQudmFsdWU7eShpKSYmKGk9aVswXSksKG51bGw9PWl8fGlzTmFOKGkpKSYmKGk9ZSksaTwwJiYoaT0wKSx5KHQudmFsdWUpP3QudmFsdWVbMF09aTp0LnZhbHVlPWl9ZnVuY3Rpb24gaW0odCxlLGkpe2Z1bmN0aW9uIG4oKXtyLmlnbm9yZT1yLmhvdmVySWdub3JlfWZ1bmN0aW9uIG8oKXtyLmlnbm9yZT1yLm5vcm1hbElnbm9yZX1ydy5jYWxsKHRoaXMpO3ZhciBhPW5ldyBtUyh7ejI6Zmt9KTthLnNlcmllc0luZGV4PWUuc2VyaWVzSW5kZXg7dmFyIHI9bmV3IGRTKHt6MjpwayxzaWxlbnQ6dC5nZXRNb2RlbCgibGFiZWwiKS5nZXQoInNpbGVudCIpfSk7dGhpcy5hZGQoYSksdGhpcy5hZGQociksdGhpcy51cGRhdGVEYXRhKCEwLHQsIm5vcm1hbCIsZSxpKSx0aGlzLm9uKCJlbXBoYXNpcyIsbikub24oIm5vcm1hbCIsbykub24oIm1vdXNlb3ZlciIsbikub24oIm1vdXNlb3V0IixvKX1mdW5jdGlvbiBubSh0LGUsaSl7dmFyIG49dC5nZXRWaXN1YWwoImNvbG9yIiksbz10LmdldFZpc3VhbCgidmlzdWFsTWV0YSIpO28mJjAhPT1vLmxlbmd0aHx8KG49bnVsbCk7dmFyIGE9dC5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0KCJjb2xvciIpO2lmKGEpcmV0dXJuIGE7aWYobilyZXR1cm4gbjtpZigwPT09dC5kZXB0aClyZXR1cm4gaS5vcHRpb24uY29sb3JbMF07dmFyIHI9aS5vcHRpb24uY29sb3IubGVuZ3RoO3JldHVybiBhPWkub3B0aW9uLmNvbG9yW29tKHQpJXJdfWZ1bmN0aW9uIG9tKHQpe2Zvcih2YXIgZT10O2UuZGVwdGg+MTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGwodC5nZXRBbmNlc3RvcnMoKVswXS5jaGlsZHJlbixlKX1mdW5jdGlvbiBhbSh0LGUsaSl7cmV0dXJuIGkhPT1kay5OT05FJiYoaT09PWRrLlNFTEY/dD09PWU6aT09PWRrLkFOQ0VTVE9SP3Q9PT1lfHx0LmlzQW5jZXN0b3JPZihlKTp0PT09ZXx8dC5pc0Rlc2NlbmRhbnRPZihlKSl9ZnVuY3Rpb24gcm0odCxlKXt2YXIgaT10LmNoaWxkcmVufHxbXTt0LmNoaWxkcmVuPXNtKGksZSksaS5sZW5ndGgmJmQodC5jaGlsZHJlbixmdW5jdGlvbih0KXtybSh0LGUpfSl9ZnVuY3Rpb24gc20odCxlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSlyZXR1cm4gdC5zb3J0KGUpO3ZhciBpPSJhc2MiPT09ZTtyZXR1cm4gdC5zb3J0KGZ1bmN0aW9uKHQsZSl7dmFyIG49KHQuZ2V0VmFsdWUoKS1lLmdldFZhbHVlKCkpKihpPzE6LTEpO3JldHVybiAwPT09bj8odC5kYXRhSW5kZXgtZS5kYXRhSW5kZXgpKihpPy0xOjEpOm59KX1mdW5jdGlvbiBsbSh0LGUpe3JldHVybiBlPWV8fFswLDBdLGYoWyJ4IiwieSJdLGZ1bmN0aW9uKGksbil7dmFyIG89dGhpcy5nZXRBeGlzKGkpLGE9ZVtuXSxyPXRbbl0vMjtyZXR1cm4iY2F0ZWdvcnkiPT09by50eXBlP28uZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMoby5kYXRhVG9Db29yZChhLXIpLW8uZGF0YVRvQ29vcmQoYStyKSl9LHRoaXMpfWZ1bmN0aW9uIHVtKHQsZSl7cmV0dXJuIGU9ZXx8WzAsMF0sZihbMCwxXSxmdW5jdGlvbihpKXt2YXIgbj1lW2ldLG89dFtpXS8yLGE9W10scj1bXTtyZXR1cm4gYVtpXT1uLW8scltpXT1uK28sYVsxLWldPXJbMS1pXT1lWzEtaV0sTWF0aC5hYnModGhpcy5kYXRhVG9Qb2ludChhKVtpXS10aGlzLmRhdGFUb1BvaW50KHIpW2ldKX0sdGhpcyl9ZnVuY3Rpb24gaG0odCxlKXt2YXIgaT10aGlzLmdldEF4aXMoKSxuPWUgaW5zdGFuY2VvZiBBcnJheT9lWzBdOmUsbz0odCBpbnN0YW5jZW9mIEFycmF5P3RbMF06dCkvMjtyZXR1cm4iY2F0ZWdvcnkiPT09aS50eXBlP2kuZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMoaS5kYXRhVG9Db29yZChuLW8pLWkuZGF0YVRvQ29vcmQobitvKSl9ZnVuY3Rpb24gY20odCxlKXtyZXR1cm4gZihbIlJhZGl1cyIsIkFuZ2xlIl0sZnVuY3Rpb24oaSxuKXt2YXIgbz10aGlzWyJnZXQiK2krIkF4aXMiXSgpLGE9ZVtuXSxyPXRbbl0vMixzPSJkYXRhVG8iK2ksbD0iY2F0ZWdvcnkiPT09by50eXBlP28uZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMob1tzXShhLXIpLW9bc10oYStyKSk7cmV0dXJuIkFuZ2xlIj09PWkmJihsPWwqTWF0aC5QSS8xODApLGx9LHRoaXMpfWZ1bmN0aW9uIGRtKHQpe3ZhciBlLGk9dC50eXBlO2lmKCJwYXRoIj09PWkpe3ZhciBuPXQuc2hhcGU7KGU9Um4obi5wYXRoRGF0YSxudWxsLHt4Om4ueHx8MCx5Om4ueXx8MCx3aWR0aDpuLndpZHRofHwwLGhlaWdodDpuLmhlaWdodHx8MH0sImNlbnRlciIpKS5fX2N1c3RvbVBhdGhEYXRhPXQucGF0aERhdGF9ZWxzZSJpbWFnZSI9PT1pPyhlPW5ldyBKZSh7fSkpLl9fY3VzdG9tSW1hZ2VQYXRoPXQuc3R5bGUuaW1hZ2U6InRleHQiPT09aT8oZT1uZXcgZFMoe30pKS5fX2N1c3RvbVRleHQ9dC5zdHlsZS50ZXh0OmU9bmV3KDAselNbaS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStpLnNsaWNlKDEpXSk7cmV0dXJuIGUuX19jdXN0b21HcmFwaGljVHlwZT1pLGUubmFtZT10Lm5hbWUsZX1mdW5jdGlvbiBmbSh0LGUsbixvLGEscil7dmFyIHM9e30sbD1uLnN0eWxlfHx7fTtpZihuLnNoYXBlJiYocy5zaGFwZT1pKG4uc2hhcGUpKSxuLnBvc2l0aW9uJiYocy5wb3NpdGlvbj1uLnBvc2l0aW9uLnNsaWNlKCkpLG4uc2NhbGUmJihzLnNjYWxlPW4uc2NhbGUuc2xpY2UoKSksbi5vcmlnaW4mJihzLm9yaWdpbj1uLm9yaWdpbi5zbGljZSgpKSxuLnJvdGF0aW9uJiYocy5yb3RhdGlvbj1uLnJvdGF0aW9uKSwiaW1hZ2UiPT09dC50eXBlJiZuLnN0eWxlKXt1PXMuc3R5bGU9e307ZChbIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihlKXtwbShlLHUsbCx0LnN0eWxlLHIpfSl9aWYoInRleHQiPT09dC50eXBlJiZuLnN0eWxlKXt2YXIgdT1zLnN0eWxlPXt9O2QoWyJ4IiwieSJdLGZ1bmN0aW9uKGUpe3BtKGUsdSxsLHQuc3R5bGUscil9KSwhbC5oYXNPd25Qcm9wZXJ0eSgidGV4dEZpbGwiKSYmbC5maWxsJiYobC50ZXh0RmlsbD1sLmZpbGwpLCFsLmhhc093blByb3BlcnR5KCJ0ZXh0U3Ryb2tlIikmJmwuc3Ryb2tlJiYobC50ZXh0U3Ryb2tlPWwuc3Ryb2tlKX1pZigiZ3JvdXAiIT09dC50eXBlJiYodC51c2VTdHlsZShsKSxyKSl7dC5zdHlsZS5vcGFjaXR5PTA7dmFyIGg9bC5vcGFjaXR5O251bGw9PWgmJihoPTEpLHBvKHQse3N0eWxlOntvcGFjaXR5Omh9fSxvLGUpfXI/dC5hdHRyKHMpOmZvKHQscyxvLGUpLHQuYXR0cih7ejI6bi56Mnx8MCxzaWxlbnQ6bi5zaWxlbnR9KSwhMSE9PW4uc3R5bGVFbXBoYXNpcyYmZW8odCxuLnN0eWxlRW1waGFzaXMpfWZ1bmN0aW9uIHBtKHQsZSxpLG4sbyl7bnVsbD09aVt0XXx8b3x8KGVbdF09aVt0XSxpW3RdPW5bdF0pfWZ1bmN0aW9uIGdtKHQsZSxpLG4pe2Z1bmN0aW9uIG8odCl7bnVsbD09dCYmKHQ9aCksdiYmKGM9ZS5nZXRJdGVtTW9kZWwodCksZD1jLmdldE1vZGVsKHdrKSxmPWMuZ2V0TW9kZWwoYmspLHA9ZS5nZXRJdGVtVmlzdWFsKHQsImNvbG9yIiksdj0hMSl9dmFyIHM9dC5nZXQoInJlbmRlckl0ZW0iKSxsPXQuY29vcmRpbmF0ZVN5c3RlbSx1PXt9O2wmJih1PWwucHJlcGFyZUN1c3RvbXM/bC5wcmVwYXJlQ3VzdG9tcygpOk1rW2wudHlwZV0obCkpO3ZhciBoLGMsZCxmLHAsZz1yKHtnZXRXaWR0aDpuLmdldFdpZHRoLGdldEhlaWdodDpuLmdldEhlaWdodCxnZXRacjpuLmdldFpyLGdldERldmljZVBpeGVsUmF0aW86bi5nZXREZXZpY2VQaXhlbFJhdGlvLHZhbHVlOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG51bGw9PWkmJihpPWgpLGUuZ2V0KGUuZ2V0RGltZW5zaW9uKHR8fDApLGkpfSxzdHlsZTpmdW5jdGlvbihpLG4pe251bGw9PW4mJihuPWgpLG8obik7dmFyIHI9Yy5nZXRNb2RlbCh4aykuZ2V0SXRlbVN0eWxlKCk7bnVsbCE9cCYmKHIuZmlsbD1wKTt2YXIgcz1lLmdldEl0ZW1WaXN1YWwobiwib3BhY2l0eSIpO3JldHVybiBudWxsIT1zJiYoci5vcGFjaXR5PXMpLG5vKHIsZCxudWxsLHthdXRvQ29sb3I6cCxpc1JlY3RUZXh0OiEwfSksci50ZXh0PWQuZ2V0U2hhbGxvdygic2hvdyIpP0QodC5nZXRGb3JtYXR0ZWRMYWJlbChuLCJub3JtYWwiKSxqbChlLG4pKTpudWxsLGkmJmEocixpKSxyfSxzdHlsZUVtcGhhc2lzOmZ1bmN0aW9uKGksbil7bnVsbD09biYmKG49aCksbyhuKTt2YXIgcj1jLmdldE1vZGVsKF9rKS5nZXRJdGVtU3R5bGUoKTtyZXR1cm4gbm8ocixmLG51bGwse2lzUmVjdFRleHQ6ITB9LCEwKSxyLnRleHQ9Zi5nZXRTaGFsbG93KCJzaG93Iik/QSh0LmdldEZvcm1hdHRlZExhYmVsKG4sImVtcGhhc2lzIiksdC5nZXRGb3JtYXR0ZWRMYWJlbChuLCJub3JtYWwiKSxqbChlLG4pKTpudWxsLGkmJmEocixpKSxyfSx2aXN1YWw6ZnVuY3Rpb24odCxpKXtyZXR1cm4gbnVsbD09aSYmKGk9aCksZS5nZXRJdGVtVmlzdWFsKGksdCl9LGJhckxheW91dDpmdW5jdGlvbih0KXtpZihsLmdldEJhc2VBeGlzKXJldHVybiBhbChyKHtheGlzOmwuZ2V0QmFzZUF4aXMoKX0sdCksbil9LGN1cnJlbnRTZXJpZXNJbmRpY2VzOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZ2V0Q3VycmVudFNlcmllc0luZGljZXMoKX0sZm9udDpmdW5jdGlvbih0KXtyZXR1cm4gaG8odCxpKX19LHUuYXBpfHx7fSksbT17Y29udGV4dDp7fSxzZXJpZXNJZDp0LmlkLHNlcmllc05hbWU6dC5uYW1lLHNlcmllc0luZGV4OnQuc2VyaWVzSW5kZXgsY29vcmRTeXM6dS5jb29yZFN5cyxkYXRhSW5zaWRlTGVuZ3RoOmUuY291bnQoKSxlbmNvZGU6bW0odC5nZXREYXRhKCkpfSx2PSEwO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gaD10LHY9ITAscyYmcyhyKHtkYXRhSW5kZXhJbnNpZGU6dCxkYXRhSW5kZXg6ZS5nZXRSYXdJbmRleCh0KX0sbSksZyl8fHt9fX1mdW5jdGlvbiBtbSh0KXt2YXIgZT17fTtyZXR1cm4gZCh0LmRpbWVuc2lvbnMsZnVuY3Rpb24oaSxuKXt2YXIgbz10LmdldERpbWVuc2lvbkluZm8oaSk7aWYoIW8uaXNFeHRyYUNvb3JkKXt2YXIgYT1vLmNvb3JkRGltOyhlW2FdPWVbYV18fFtdKVtvLmNvb3JkRGltSW5kZXhdPW59fSksZX1mdW5jdGlvbiB2bSh0LGUsaSxuLG8sYSl7cmV0dXJuKHQ9eW0odCxlLGksbixvLGEpKSYmYS5zZXRJdGVtR3JhcGhpY0VsKGUsdCksdH1mdW5jdGlvbiB5bSh0LGUsaSxuLG8sYSl7dmFyIHI9aS50eXBlO2lmKCF0fHxyPT09dC5fX2N1c3RvbUdyYXBoaWNUeXBlfHwicGF0aCI9PT1yJiZpLnBhdGhEYXRhPT09dC5fX2N1c3RvbVBhdGhEYXRhfHwiaW1hZ2UiPT09ciYmaS5zdHlsZS5pbWFnZT09PXQuX19jdXN0b21JbWFnZVBhdGh8fCJ0ZXh0Ij09PXImJmkuc3R5bGUudGV4dD09PXQuX19jdXN0b21UZXh0fHwoby5yZW1vdmUodCksdD1udWxsKSxudWxsIT1yKXt2YXIgcz0hdDtpZighdCYmKHQ9ZG0oaSkpLGZtKHQsZSxpLG4sYSxzKSwiZ3JvdXAiPT09cil7dmFyIGw9dC5jaGlsZHJlbigpfHxbXSx1PWkuY2hpbGRyZW58fFtdO2lmKGkuZGlmZkNoaWxkcmVuQnlOYW1lKXhtKHtvbGRDaGlsZHJlbjpsLG5ld0NoaWxkcmVuOnUsZGF0YUluZGV4OmUsYW5pbWF0YWJsZU1vZGVsOm4sZ3JvdXA6dCxkYXRhOmF9KTtlbHNle2Zvcih2YXIgaD0wO2g8dS5sZW5ndGg7aCsrKXltKHQuY2hpbGRBdChoKSxlLHVbaF0sbix0LGEpO2Zvcig7aDxsLmxlbmd0aDtoKyspbFtoXSYmdC5yZW1vdmUobFtoXSl9fXJldHVybiBvLmFkZCh0KSx0fX1mdW5jdGlvbiB4bSh0KXtuZXcgU3ModC5vbGRDaGlsZHJlbix0Lm5ld0NoaWxkcmVuLF9tLF9tLHQpLmFkZCh3bSkudXBkYXRlKHdtKS5yZW1vdmUoYm0pLmV4ZWN1dGUoKX1mdW5jdGlvbiBfbSh0LGUpe3ZhciBpPXQmJnQubmFtZTtyZXR1cm4gbnVsbCE9aT9pOlNrK2V9ZnVuY3Rpb24gd20odCxlKXt2YXIgaT10aGlzLmNvbnRleHQsbj1udWxsIT10P2kubmV3Q2hpbGRyZW5bdF06bnVsbDt5bShudWxsIT1lP2kub2xkQ2hpbGRyZW5bZV06bnVsbCxpLmRhdGFJbmRleCxuLGkuYW5pbWF0YWJsZU1vZGVsLGkuZ3JvdXAsaS5kYXRhKX1mdW5jdGlvbiBibSh0KXt2YXIgZT10aGlzLmNvbnRleHQsaT1lLm9sZENoaWxkcmVuW3RdO2kmJmUuZ3JvdXAucmVtb3ZlKGkpfWZ1bmN0aW9uIFNtKHQsZSxpLG4pe3ZhciBvPWkudHlwZSxhPW5ldygwLHpTW28uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrby5zbGljZSgxKV0pKGkpO2UuYWRkKGEpLG4uc2V0KHQsYSksYS5fX2VjR3JhcGhpY0lkPXR9ZnVuY3Rpb24gTW0odCxlKXt2YXIgaT10JiZ0LnBhcmVudDtpJiYoImdyb3VwIj09PXQudHlwZSYmdC50cmF2ZXJzZShmdW5jdGlvbih0KXtNbSh0LGUpfSksZS5yZW1vdmVLZXkodC5fX2VjR3JhcGhpY0lkKSxpLnJlbW92ZSh0KSl9ZnVuY3Rpb24gSW0odCl7cmV0dXJuIHQ9YSh7fSx0KSxkKFsiaWQiLCJwYXJlbnRJZCIsIiRhY3Rpb24iLCJodiIsImJvdW5kaW5nIl0uY29uY2F0KG9NKSxmdW5jdGlvbihlKXtkZWxldGUgdFtlXX0pLHR9ZnVuY3Rpb24gVG0odCxlKXt2YXIgaTtyZXR1cm4gZChlLGZ1bmN0aW9uKGUpe251bGwhPXRbZV0mJiJhdXRvIiE9PXRbZV0mJihpPSEwKX0pLGl9ZnVuY3Rpb24gRG0odCxlKXt2YXIgaT10LmV4aXN0O2lmKGUuaWQ9dC5rZXlJbmZvLmlkLCFlLnR5cGUmJmkmJihlLnR5cGU9aS50eXBlKSxudWxsPT1lLnBhcmVudElkKXt2YXIgbj1lLnBhcmVudE9wdGlvbjtuP2UucGFyZW50SWQ9bi5pZDppJiYoZS5wYXJlbnRJZD1pLnBhcmVudElkKX1lLnBhcmVudE9wdGlvbj1udWxsfWZ1bmN0aW9uIEFtKHQsZSxpKXt2YXIgbz1hKHt9LGkpLHI9dFtlXSxzPWkuJGFjdGlvbnx8Im1lcmdlIjsibWVyZ2UiPT09cz9yPyhuKHIsbywhMCksaWEocixvLHtpZ25vcmVTaXplOiEwfSksb2EoaSxyKSk6dFtlXT1vOiJyZXBsYWNlIj09PXM/dFtlXT1vOiJyZW1vdmUiPT09cyYmciYmKHRbZV09bnVsbCl9ZnVuY3Rpb24gQ20odCxlKXt0JiYodC5odj1lLmh2PVtUbShlLFsibGVmdCIsInJpZ2h0Il0pLFRtKGUsWyJ0b3AiLCJib3R0b20iXSldLCJncm91cCI9PT10LnR5cGUmJihudWxsPT10LndpZHRoJiYodC53aWR0aD1lLndpZHRoPTApLG51bGw9PXQuaGVpZ2h0JiYodC5oZWlnaHQ9ZS5oZWlnaHQ9MCkpKX1mdW5jdGlvbiBMbSh0LGUsaSl7dmFyIG4sbz17fSxhPSJ0b2dnbGVTZWxlY3RlZCI9PT10O3JldHVybiBpLmVhY2hDb21wb25lbnQoImxlZ2VuZCIsZnVuY3Rpb24oaSl7YSYmbnVsbCE9bj9pW24/InNlbGVjdCI6InVuU2VsZWN0Il0oZS5uYW1lKTooaVt0XShlLm5hbWUpLG49aS5pc1NlbGVjdGVkKGUubmFtZSkpLGQoaS5nZXREYXRhKCksZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoIm5hbWUiKTtpZigiXG4iIT09ZSYmIiIhPT1lKXt2YXIgbj1pLmlzU2VsZWN0ZWQoZSk7by5oYXNPd25Qcm9wZXJ0eShlKT9vW2VdPW9bZV0mJm46b1tlXT1ufX0pfSkse25hbWU6ZS5uYW1lLHNlbGVjdGVkOm99fWZ1bmN0aW9uIGttKHQsZSxpKXt2YXIgbj1lLmdldEJveExheW91dFBhcmFtcygpLG89ZS5nZXQoInBhZGRpbmciKSxhPXt3aWR0aDppLmdldFdpZHRoKCksaGVpZ2h0OmkuZ2V0SGVpZ2h0KCl9LHI9UW8obixhLG8pO3JNKGUuZ2V0KCJvcmllbnQiKSx0LGUuZ2V0KCJpdGVtR2FwIiksci53aWR0aCxyLmhlaWdodCksdGEodCxuLGEsbyl9ZnVuY3Rpb24gUG0odCxlKXt2YXIgaT1xUyhlLmdldCgicGFkZGluZyIpKSxuPWUuZ2V0SXRlbVN0eWxlKFsiY29sb3IiLCJvcGFjaXR5Il0pO3JldHVybiBuLmZpbGw9ZS5nZXQoImJhY2tncm91bmRDb2xvciIpLHQ9bmV3IGJTKHtzaGFwZTp7eDp0LngtaVszXSx5OnQueS1pWzBdLHdpZHRoOnQud2lkdGgraVsxXStpWzNdLGhlaWdodDp0LmhlaWdodCtpWzBdK2lbMl0scjplLmdldCgiYm9yZGVyUmFkaXVzIil9LHN0eWxlOm4sc2lsZW50OiEwLHoyOi0xfSl9ZnVuY3Rpb24gTm0odCxlKXtlLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJsZWdlbmRUb2dnbGVTZWxlY3QiLG5hbWU6dH0pfWZ1bmN0aW9uIE9tKHQsZSxpLG4pe3ZhciBvPWkuZ2V0WnIoKS5zdG9yYWdlLmdldERpc3BsYXlMaXN0KClbMF07byYmby51c2VIb3ZlckxheWVyfHxpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJoaWdobGlnaHQiLHNlcmllc05hbWU6dC5uYW1lLG5hbWU6ZSxleGNsdWRlU2VyaWVzSWQ6bn0pfWZ1bmN0aW9uIEVtKHQsZSxpLG4pe3ZhciBvPWkuZ2V0WnIoKS5zdG9yYWdlLmdldERpc3BsYXlMaXN0KClbMF07byYmby51c2VIb3ZlckxheWVyfHxpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJkb3ducGxheSIsc2VyaWVzTmFtZTp0Lm5hbWUsbmFtZTplLGV4Y2x1ZGVTZXJpZXNJZDpufSl9ZnVuY3Rpb24gUm0odCxlLGkpe3ZhciBuPVsxLDFdO25bdC5nZXRPcmllbnQoKS5pbmRleF09MCxpYShlLGkse3R5cGU6ImJveCIsaWdub3JlU2l6ZTpufSl9ZnVuY3Rpb24gem0odCl7dmFyIGU9ImxlZnQgIit0KyJzIGN1YmljLWJlemllcigwLjIzLCAxLCAwLjMyLCAxKSx0b3AgIit0KyJzIGN1YmljLWJlemllcigwLjIzLCAxLCAwLjMyLCAxKSI7cmV0dXJuIGYoQmssZnVuY3Rpb24odCl7cmV0dXJuIHQrInRyYW5zaXRpb246IitlfSkuam9pbigiOyIpfWZ1bmN0aW9uIEJtKHQpe3ZhciBlPVtdLGk9dC5nZXQoImZvbnRTaXplIiksbj10LmdldFRleHRDb2xvcigpO3JldHVybiBuJiZlLnB1c2goImNvbG9yOiIrbiksZS5wdXNoKCJmb250OiIrdC5nZXRGb250KCkpLGkmJmUucHVzaCgibGluZS1oZWlnaHQ6IitNYXRoLnJvdW5kKDMqaS8yKSsicHgiKSxSayhbImRlY29yYXRpb24iLCJhbGlnbiJdLGZ1bmN0aW9uKGkpe3ZhciBuPXQuZ2V0KGkpO24mJmUucHVzaCgidGV4dC0iK2krIjoiK24pfSksZS5qb2luKCI7Iil9ZnVuY3Rpb24gVm0odCl7dmFyIGU9W10saT10LmdldCgidHJhbnNpdGlvbkR1cmF0aW9uIiksbj10LmdldCgiYmFja2dyb3VuZENvbG9yIiksbz10LmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSxhPXQuZ2V0KCJwYWRkaW5nIik7cmV0dXJuIGkmJmUucHVzaCh6bShpKSksbiYmKG9fLmNhbnZhc1N1cHBvcnRlZD9lLnB1c2goImJhY2tncm91bmQtQ29sb3I6IituKTooZS5wdXNoKCJiYWNrZ3JvdW5kLUNvbG9yOiMiK1B0KG4pKSxlLnB1c2goImZpbHRlcjphbHBoYShvcGFjaXR5PTcwKSIpKSksUmsoWyJ3aWR0aCIsImNvbG9yIiwicmFkaXVzIl0sZnVuY3Rpb24oaSl7dmFyIG49ImJvcmRlci0iK2ksbz16ayhuKSxhPXQuZ2V0KG8pO251bGwhPWEmJmUucHVzaChuKyI6IithKygiY29sb3IiPT09aT8iIjoicHgiKSl9KSxlLnB1c2goQm0obykpLG51bGwhPWEmJmUucHVzaCgicGFkZGluZzoiK3FTKGEpLmpvaW4oInB4ICIpKyJweCIpLGUuam9pbigiOyIpKyI7In1mdW5jdGlvbiBHbSh0LGUpe2lmKG9fLnd4YSlyZXR1cm4gbnVsbDt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxuPXRoaXMuX3pyPWUuZ2V0WnIoKTt0aGlzLmVsPWksdGhpcy5feD1lLmdldFdpZHRoKCkvMix0aGlzLl95PWUuZ2V0SGVpZ2h0KCkvMix0LmFwcGVuZENoaWxkKGkpLHRoaXMuX2NvbnRhaW5lcj10LHRoaXMuX3Nob3c9ITEsdGhpcy5faGlkZVRpbWVvdXQ7dmFyIG89dGhpcztpLm9ubW91c2VlbnRlcj1mdW5jdGlvbigpe28uX2VudGVyYWJsZSYmKGNsZWFyVGltZW91dChvLl9oaWRlVGltZW91dCksby5fc2hvdz0hMCksby5faW5Db250ZW50PSEwfSxpLm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKGUpe2lmKGU9ZXx8d2luZG93LmV2ZW50LCFvLl9lbnRlcmFibGUpe3ZhciBpPW4uaGFuZGxlcjtsaSh0LGUsITApLGkuZGlzcGF0Y2goIm1vdXNlbW92ZSIsZSl9fSxpLm9ubW91c2VsZWF2ZT1mdW5jdGlvbigpe28uX2VudGVyYWJsZSYmby5fc2hvdyYmby5oaWRlTGF0ZXIoby5faGlkZURlbGF5KSxvLl9pbkNvbnRlbnQ9ITF9fWZ1bmN0aW9uIFdtKHQpe2Zvcih2YXIgZT10LnBvcCgpO3QubGVuZ3RoOyl7dmFyIGk9dC5wb3AoKTtpJiYod28uaXNJbnN0YW5jZShpKSYmKGk9aS5nZXQoInRvb2x0aXAiLCEwKSksInN0cmluZyI9PXR5cGVvZiBpJiYoaT17Zm9ybWF0dGVyOml9KSxlPW5ldyB3byhpLGUsZS5lY01vZGVsKSl9cmV0dXJuIGV9ZnVuY3Rpb24gRm0odCxlKXtyZXR1cm4gdC5kaXNwYXRjaEFjdGlvbnx8bShlLmRpc3BhdGNoQWN0aW9uLGUpfWZ1bmN0aW9uIEhtKHQsZSxpLG4sbyxhLHIpe3ZhciBzPVVtKGkpLGw9cy53aWR0aCx1PXMuaGVpZ2h0O3JldHVybiBudWxsIT1hJiYodCtsK2E+bj90LT1sK2E6dCs9YSksbnVsbCE9ciYmKGUrdStyPm8/ZS09dStyOmUrPXIpLFt0LGVdfWZ1bmN0aW9uIFptKHQsZSxpLG4sbyl7dmFyIGE9VW0oaSkscj1hLndpZHRoLHM9YS5oZWlnaHQ7cmV0dXJuIHQ9TWF0aC5taW4odCtyLG4pLXIsZT1NYXRoLm1pbihlK3Msbyktcyx0PU1hdGgubWF4KHQsMCksZT1NYXRoLm1heChlLDApLFt0LGVdfWZ1bmN0aW9uIFVtKHQpe3ZhciBlPXQuY2xpZW50V2lkdGgsaT10LmNsaWVudEhlaWdodDtpZihkb2N1bWVudC5kZWZhdWx0VmlldyYmZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSl7dmFyIG49ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0KTtuJiYoZSs9cGFyc2VJbnQobi5wYWRkaW5nTGVmdCwxMCkrcGFyc2VJbnQobi5wYWRkaW5nUmlnaHQsMTApK3BhcnNlSW50KG4uYm9yZGVyTGVmdFdpZHRoLDEwKStwYXJzZUludChuLmJvcmRlclJpZ2h0V2lkdGgsMTApLGkrPXBhcnNlSW50KG4ucGFkZGluZ1RvcCwxMCkrcGFyc2VJbnQobi5wYWRkaW5nQm90dG9tLDEwKStwYXJzZUludChuLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChuLmJvcmRlckJvdHRvbVdpZHRoLDEwKSl9cmV0dXJue3dpZHRoOmUsaGVpZ2h0Oml9fWZ1bmN0aW9uIFhtKHQsZSxpKXt2YXIgbj1pWzBdLG89aVsxXSxhPTAscj0wLHM9ZS53aWR0aCxsPWUuaGVpZ2h0O3N3aXRjaCh0KXtjYXNlImluc2lkZSI6YT1lLngrcy8yLW4vMixyPWUueStsLzItby8yO2JyZWFrO2Nhc2UidG9wIjphPWUueCtzLzItbi8yLHI9ZS55LW8tNTticmVhaztjYXNlImJvdHRvbSI6YT1lLngrcy8yLW4vMixyPWUueStsKzU7YnJlYWs7Y2FzZSJsZWZ0IjphPWUueC1uLTUscj1lLnkrbC8yLW8vMjticmVhaztjYXNlInJpZ2h0IjphPWUueCtzKzUscj1lLnkrbC8yLW8vMn1yZXR1cm5bYSxyXX1mdW5jdGlvbiBqbSh0KXtyZXR1cm4iY2VudGVyIj09PXR8fCJtaWRkbGUiPT09dH1mdW5jdGlvbiBZbSh0KXtyZXR1cm4gdC5nZXQoInN0YWNrIil8fCJfX2VjX3N0YWNrXyIrdC5zZXJpZXNJbmRleH1mdW5jdGlvbiBxbSh0KXtyZXR1cm4gdC5kaW19ZnVuY3Rpb24gS20odCxlKXt2YXIgaT17fTtkKHQsZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldERhdGEoKSxvPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRCYXNlQXhpcygpLGE9by5nZXRFeHRlbnQoKSxyPSJjYXRlZ29yeSI9PT1vLnR5cGU/by5nZXRCYW5kV2lkdGgoKTpNYXRoLmFicyhhWzFdLWFbMF0pL24uY291bnQoKSxzPWlbcW0obyldfHx7YmFuZFdpZHRoOnIscmVtYWluZWRXaWR0aDpyLGF1dG9XaWR0aENvdW50OjAsY2F0ZWdvcnlHYXA6IjIwJSIsZ2FwOiIzMCUiLHN0YWNrczp7fX0sbD1zLnN0YWNrcztpW3FtKG8pXT1zO3ZhciB1PVltKHQpO2xbdV18fHMuYXV0b1dpZHRoQ291bnQrKyxsW3VdPWxbdV18fHt3aWR0aDowLG1heFdpZHRoOjB9O3ZhciBoPURvKHQuZ2V0KCJiYXJXaWR0aCIpLHIpLGM9RG8odC5nZXQoImJhck1heFdpZHRoIiksciksZD10LmdldCgiYmFyR2FwIiksZj10LmdldCgiYmFyQ2F0ZWdvcnlHYXAiKTtoJiYhbFt1XS53aWR0aCYmKGg9TWF0aC5taW4ocy5yZW1haW5lZFdpZHRoLGgpLGxbdV0ud2lkdGg9aCxzLnJlbWFpbmVkV2lkdGgtPWgpLGMmJihsW3VdLm1heFdpZHRoPWMpLG51bGwhPWQmJihzLmdhcD1kKSxudWxsIT1mJiYocy5jYXRlZ29yeUdhcD1mKX0pO3ZhciBuPXt9O3JldHVybiBkKGksZnVuY3Rpb24odCxlKXtuW2VdPXt9O3ZhciBpPXQuc3RhY2tzLG89dC5iYW5kV2lkdGgsYT1Ebyh0LmNhdGVnb3J5R2FwLG8pLHI9RG8odC5nYXAsMSkscz10LnJlbWFpbmVkV2lkdGgsbD10LmF1dG9XaWR0aENvdW50LHU9KHMtYSkvKGwrKGwtMSkqcik7dT1NYXRoLm1heCh1LDApLGQoaSxmdW5jdGlvbih0LGUpe3ZhciBpPXQubWF4V2lkdGg7aSYmaTx1JiYoaT1NYXRoLm1pbihpLHMpLHQud2lkdGgmJihpPU1hdGgubWluKGksdC53aWR0aCkpLHMtPWksdC53aWR0aD1pLGwtLSl9KSx1PShzLWEpLyhsKyhsLTEpKnIpLHU9TWF0aC5tYXgodSwwKTt2YXIgaCxjPTA7ZChpLGZ1bmN0aW9uKHQsZSl7dC53aWR0aHx8KHQud2lkdGg9dSksaD10LGMrPXQud2lkdGgqKDErcil9KSxoJiYoYy09aC53aWR0aCpyKTt2YXIgZj0tYy8yO2QoaSxmdW5jdGlvbih0LGkpe25bZV1baV09bltlXVtpXXx8e29mZnNldDpmLHdpZHRoOnQud2lkdGh9LGYrPXQud2lkdGgqKDErcil9KX0pLG59ZnVuY3Rpb24gJG0odCxlKXtZVC5jYWxsKHRoaXMsInJhZGl1cyIsdCxlKSx0aGlzLnR5cGU9ImNhdGVnb3J5In1mdW5jdGlvbiBKbSh0LGUpe2U9ZXx8WzAsMzYwXSxZVC5jYWxsKHRoaXMsImFuZ2xlIix0LGUpLHRoaXMudHlwZT0iY2F0ZWdvcnkifWZ1bmN0aW9uIFFtKHQsZSl7cmV0dXJuIGUudHlwZXx8KGUuZGF0YT8iY2F0ZWdvcnkiOiJ2YWx1ZSIpfWZ1bmN0aW9uIHR2KHQsZSxpKXt2YXIgbj1lLmdldCgiY2VudGVyIiksbz1pLmdldFdpZHRoKCksYT1pLmdldEhlaWdodCgpO3QuY3g9RG8oblswXSxvKSx0LmN5PURvKG5bMV0sYSk7dmFyIHI9dC5nZXRSYWRpdXNBeGlzKCkscz1NYXRoLm1pbihvLGEpLzIsbD1EbyhlLmdldCgicmFkaXVzIikscyk7ci5pbnZlcnNlP3Iuc2V0RXh0ZW50KGwsMCk6ci5zZXRFeHRlbnQoMCxsKX1mdW5jdGlvbiBldih0LGUpe3ZhciBpPXRoaXMsbj1pLmdldEFuZ2xlQXhpcygpLG89aS5nZXRSYWRpdXNBeGlzKCk7aWYobi5zY2FsZS5zZXRFeHRlbnQoMS8wLC0xLzApLG8uc2NhbGUuc2V0RXh0ZW50KDEvMCwtMS8wKSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7aWYodC5jb29yZGluYXRlU3lzdGVtPT09aSl7dmFyIGU9dC5nZXREYXRhKCk7ZChlLm1hcERpbWVuc2lvbigicmFkaXVzIiwhMCksZnVuY3Rpb24odCl7by5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKGUsdCl9KSxkKGUubWFwRGltZW5zaW9uKCJhbmdsZSIsITApLGZ1bmN0aW9uKHQpe24uc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShlLHQpfSl9fSksdmwobi5zY2FsZSxuLm1vZGVsKSx2bChvLnNjYWxlLG8ubW9kZWwpLCJjYXRlZ29yeSI9PT1uLnR5cGUmJiFuLm9uQmFuZCl7dmFyIGE9bi5nZXRFeHRlbnQoKSxyPTM2MC9uLnNjYWxlLmNvdW50KCk7bi5pbnZlcnNlP2FbMV0rPXI6YVsxXS09cixuLnNldEV4dGVudChhWzBdLGFbMV0pfX1mdW5jdGlvbiBpdih0LGUpe2lmKHQudHlwZT1lLmdldCgidHlwZSIpLHQuc2NhbGU9eWwoZSksdC5vbkJhbmQ9ZS5nZXQoImJvdW5kYXJ5R2FwIikmJiJjYXRlZ29yeSI9PT10LnR5cGUsdC5pbnZlcnNlPWUuZ2V0KCJpbnZlcnNlIiksImFuZ2xlQXhpcyI9PT1lLm1haW5UeXBlKXt0LmludmVyc2VePWUuZ2V0KCJjbG9ja3dpc2UiKTt2YXIgaT1lLmdldCgic3RhcnRBbmdsZSIpO3Quc2V0RXh0ZW50KGksaSsodC5pbnZlcnNlPy0zNjA6MzYwKSl9ZS5heGlzPXQsdC5tb2RlbD1lfWZ1bmN0aW9uIG52KHQsZSxpKXtlWzFdPmVbMF0mJihlPWUuc2xpY2UoKS5yZXZlcnNlKCkpO3ZhciBuPXQuY29vcmRUb1BvaW50KFtlWzBdLGldKSxvPXQuY29vcmRUb1BvaW50KFtlWzFdLGldKTtyZXR1cm57eDE6blswXSx5MTpuWzFdLHgyOm9bMF0seTI6b1sxXX19ZnVuY3Rpb24gb3YodCl7cmV0dXJuIHQuZ2V0UmFkaXVzQXhpcygpLmludmVyc2U/MDoxfWZ1bmN0aW9uIGF2KHQpe3ZhciBlPXRbMF0saT10W3QubGVuZ3RoLTFdO2UmJmkmJk1hdGguYWJzKE1hdGguYWJzKGUuY29vcmQtaS5jb29yZCktMzYwKTwxZS00JiZ0LnBvcCgpfWZ1bmN0aW9uIHJ2KHQsZSxpKXtyZXR1cm57cG9zaXRpb246W3QuY3gsdC5jeV0scm90YXRpb246aS8xODAqTWF0aC5QSSxsYWJlbERpcmVjdGlvbjotMSx0aWNrRGlyZWN0aW9uOi0xLG5hbWVEaXJlY3Rpb246MSxsYWJlbFJvdGF0ZTplLmdldE1vZGVsKCJheGlzTGFiZWwiKS5nZXQoInJvdGF0ZSIpLHoyOjF9fWZ1bmN0aW9uIHN2KHQsZSxpLG4sbyl7dmFyIGE9ZS5heGlzLHI9YS5kYXRhVG9Db29yZCh0KSxzPW4uZ2V0QW5nbGVBeGlzKCkuZ2V0RXh0ZW50KClbMF07cz1zLzE4MCpNYXRoLlBJO3ZhciBsLHUsaCxjPW4uZ2V0UmFkaXVzQXhpcygpLmdldEV4dGVudCgpO2lmKCJyYWRpdXMiPT09YS5kaW0pe3ZhciBkPXN0KCk7ZHQoZCxkLHMpLGN0KGQsZCxbbi5jeCxuLmN5XSksbD1tbyhbciwtb10sZCk7dmFyIGY9ZS5nZXRNb2RlbCgiYXhpc0xhYmVsIikuZ2V0KCJyb3RhdGUiKXx8MCxwPUNELmlubmVyVGV4dExheW91dChzLGYqTWF0aC5QSS8xODAsLTEpO3U9cC50ZXh0QWxpZ24saD1wLnRleHRWZXJ0aWNhbEFsaWdufWVsc2V7dmFyIGc9Y1sxXTtsPW4uY29vcmRUb1BvaW50KFtnK28scl0pO3ZhciBtPW4uY3gsdj1uLmN5O3U9TWF0aC5hYnMobFswXS1tKS9nPC4zPyJjZW50ZXIiOmxbMF0+bT8ibGVmdCI6InJpZ2h0IixoPU1hdGguYWJzKGxbMV0tdikvZzwuMz8ibWlkZGxlIjpsWzFdPnY/InRvcCI6ImJvdHRvbSJ9cmV0dXJue3Bvc2l0aW9uOmwsYWxpZ246dSx2ZXJ0aWNhbEFsaWduOmh9fWZ1bmN0aW9uIGx2KHQsZSl7ZS51cGRhdGU9InVwZGF0ZVZpZXciLGNzKGUsZnVuY3Rpb24oZSxpKXt2YXIgbj17fTtyZXR1cm4gaS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiZ2VvIixxdWVyeTplfSxmdW5jdGlvbihpKXtpW3RdKGUubmFtZSksZChpLmNvb3JkaW5hdGVTeXN0ZW0ucmVnaW9ucyxmdW5jdGlvbih0KXtuW3QubmFtZV09aS5pc1NlbGVjdGVkKHQubmFtZSl8fCExfSl9KSx7c2VsZWN0ZWQ6bixuYW1lOmUubmFtZX19KX1mdW5jdGlvbiB1dih0KXt2YXIgZT17fTtkKHQsZnVuY3Rpb24odCl7ZVt0XT0xfSksdC5sZW5ndGg9MCxkKGUsZnVuY3Rpb24oZSxpKXt0LnB1c2goaSl9KX1mdW5jdGlvbiBodih0KXtpZih0KWZvcih2YXIgZSBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuITB9ZnVuY3Rpb24gY3YodCxlLG4pe2Z1bmN0aW9uIG8oKXt2YXIgdD1mdW5jdGlvbigpe307cmV0dXJuIHQucHJvdG90eXBlLl9faGlkZGVuPXQucHJvdG90eXBlLG5ldyB0fXZhciBhPXt9O3JldHVybiBRayhlLGZ1bmN0aW9uKGUpe3ZhciByPWFbZV09bygpO1FrKHRbZV0sZnVuY3Rpb24odCxvKXtpZihIQS5pc1ZhbGlkVHlwZShvKSl7dmFyIGE9e3R5cGU6byx2aXN1YWw6dH07biYmbihhLGUpLHJbb109bmV3IEhBKGEpLCJvcGFjaXR5Ij09PW8mJigoYT1pKGEpKS50eXBlPSJjb2xvckFscGhhIixyLl9faGlkZGVuLl9fYWxwaGFGb3JPcGFjaXR5PW5ldyBIQShhKSl9fSl9KSxhfWZ1bmN0aW9uIGR2KHQsZSxuKXt2YXIgbztkKG4sZnVuY3Rpb24odCl7ZS5oYXNPd25Qcm9wZXJ0eSh0KSYmaHYoZVt0XSkmJihvPSEwKX0pLG8mJmQobixmdW5jdGlvbihuKXtlLmhhc093blByb3BlcnR5KG4pJiZodihlW25dKT90W25dPWkoZVtuXSk6ZGVsZXRlIHRbbl19KX1mdW5jdGlvbiBmdih0LGUsaSxuLG8sYSl7ZnVuY3Rpb24gcih0KXtyZXR1cm4gaS5nZXRJdGVtVmlzdWFsKGgsdCl9ZnVuY3Rpb24gcyh0LGUpe2kuc2V0SXRlbVZpc3VhbChoLHQsZSl9ZnVuY3Rpb24gbCh0LGwpe2g9bnVsbD09YT90Omw7dmFyIGM9aS5nZXRSYXdEYXRhSXRlbShoKTtpZighY3x8ITEhPT1jLnZpc3VhbE1hcClmb3IodmFyIGQ9bi5jYWxsKG8sdCksZj1lW2RdLHA9dVtkXSxnPTAsbT1wLmxlbmd0aDtnPG07ZysrKXt2YXIgdj1wW2ddO2Zbdl0mJmZbdl0uYXBwbHlWaXN1YWwodCxyLHMpfX12YXIgdT17fTtkKHQsZnVuY3Rpb24odCl7dmFyIGk9SEEucHJlcGFyZVZpc3VhbFR5cGVzKGVbdF0pO3VbdF09aX0pO3ZhciBoO251bGw9PWE/aS5lYWNoKGwpOmkuZWFjaChbYV0sbCl9ZnVuY3Rpb24gcHYodCxlLGksbil7dmFyIG89e307cmV0dXJuIGQodCxmdW5jdGlvbih0KXt2YXIgaT1IQS5wcmVwYXJlVmlzdWFsVHlwZXMoZVt0XSk7b1t0XT1pfSkse3Byb2dyZXNzOmZ1bmN0aW9uKHQsYSl7bnVsbCE9biYmKG49YS5nZXREaW1lbnNpb24obikpO2Zvcih2YXIgcjtudWxsIT0ocj10Lm5leHQoKSk7KXt2YXIgcz1hLmdldFJhd0RhdGFJdGVtKHIpO2lmKHMmJiExPT09cy52aXN1YWxNYXApcmV0dXJuO2Zvcih2YXIgbD1udWxsIT1uP2EuZ2V0KG4sciwhMCk6cix1PWkobCksaD1lW3VdLGM9b1t1XSxkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKXt2YXIgcD1jW2RdO2hbcF0mJmhbcF0uYXBwbHlWaXN1YWwobCxmdW5jdGlvbih0KXtyZXR1cm4gYS5nZXRJdGVtVmlzdWFsKHIsdCl9LGZ1bmN0aW9uKHQsZSl7YS5zZXRJdGVtVmlzdWFsKHIsdCxlKX0pfX19fX1mdW5jdGlvbiBndih0KXt2YXIgZT1bIngiLCJ5Il0saT1bIndpZHRoIiwiaGVpZ2h0Il07cmV0dXJue3BvaW50OmZ1bmN0aW9uKGUsaSxuKXtpZihlKXt2YXIgbz1uLnJhbmdlO3JldHVybiBtdihlW3RdLG8pfX0scmVjdDpmdW5jdGlvbihuLG8sYSl7aWYobil7dmFyIHI9YS5yYW5nZSxzPVtuW2VbdF1dLG5bZVt0XV0rbltpW3RdXV07cmV0dXJuIHNbMV08c1swXSYmcy5yZXZlcnNlKCksbXYoc1swXSxyKXx8bXYoc1sxXSxyKXx8bXYoclswXSxzKXx8bXYoclsxXSxzKX19fX1mdW5jdGlvbiBtdih0LGUpe3JldHVybiBlWzBdPD10JiZ0PD1lWzFdfWZ1bmN0aW9uIHZ2KHQsZSxpLG4sbyl7Zm9yKHZhciBhPTAscj1vW28ubGVuZ3RoLTFdO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1vW2FdO2lmKHl2KHQsZSxpLG4sc1swXSxzWzFdLHJbMF0sclsxXSkpcmV0dXJuITA7cj1zfX1mdW5jdGlvbiB5dih0LGUsaSxuLG8sYSxyLHMpe3ZhciBsPV92KGktdCxvLXIsbi1lLGEtcyk7aWYoeHYobCkpcmV0dXJuITE7dmFyIHU9X3Yoby10LG8tcixhLWUsYS1zKS9sO2lmKHU8MHx8dT4xKXJldHVybiExO3ZhciBoPV92KGktdCxvLXQsbi1lLGEtZSkvbDtyZXR1cm4hKGg8MHx8aD4xKX1mdW5jdGlvbiB4dih0KXtyZXR1cm4gdDw9MWUtNiYmdD49LTFlLTZ9ZnVuY3Rpb24gX3YodCxlLGksbil7cmV0dXJuIHQqbi1lKml9ZnVuY3Rpb24gd3YodCxlLGkpe3ZhciBuPXRoaXMuX3RhcmdldEluZm9MaXN0PVtdLG89e30sYT1TdihlLHQpO2VQKHNQLGZ1bmN0aW9uKHQsZSl7KCFpfHwhaS5pbmNsdWRlfHxpUChpLmluY2x1ZGUsZSk+PTApJiZ0KGEsbixvKX0pfWZ1bmN0aW9uIGJ2KHQpe3JldHVybiB0WzBdPnRbMV0mJnQucmV2ZXJzZSgpLHR9ZnVuY3Rpb24gU3YodCxlKXtyZXR1cm4gT2kodCxlLHtpbmNsdWRlTWFpblR5cGVzOmFQfSl9ZnVuY3Rpb24gTXYodCxlLGksbil7dmFyIG89aS5nZXRBeGlzKFsieCIsInkiXVt0XSksYT1idihmKFswLDFdLGZ1bmN0aW9uKHQpe3JldHVybiBlP28uY29vcmRUb0RhdGEoby50b0xvY2FsQ29vcmQoblt0XSkpOm8udG9HbG9iYWxDb29yZChvLmRhdGFUb0Nvb3JkKG5bdF0pKX0pKSxyPVtdO3JldHVybiByW3RdPWEsclsxLXRdPVtOYU4sTmFOXSx7dmFsdWVzOmEseHlNaW5NYXg6cn19ZnVuY3Rpb24gSXYodCxlLGksbil7cmV0dXJuW2VbMF0tblt0XSppWzBdLGVbMV0tblt0XSppWzFdXX1mdW5jdGlvbiBUdih0LGUpe3ZhciBpPUR2KHQpLG49RHYoZSksbz1baVswXS9uWzBdLGlbMV0vblsxXV07cmV0dXJuIGlzTmFOKG9bMF0pJiYob1swXT0xKSxpc05hTihvWzFdKSYmKG9bMV09MSksb31mdW5jdGlvbiBEdih0KXtyZXR1cm4gdD9bdFswXVsxXS10WzBdWzBdLHRbMV1bMV0tdFsxXVswXV06W05hTixOYU5dfWZ1bmN0aW9uIEF2KHQsZSxpLG4sbyl7aWYobyl7dmFyIGE9dC5nZXRacigpO2FbcFBdfHwoYVtmUF18fChhW2ZQXT1Ddiksd3IoYSxmUCxpLGUpKHQsbikpfX1mdW5jdGlvbiBDdih0LGUpe2lmKCF0LmlzRGlzcG9zZWQoKSl7dmFyIGk9dC5nZXRacigpO2lbcFBdPSEwLHQuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImJydXNoU2VsZWN0IixiYXRjaDplfSksaVtwUF09ITF9fWZ1bmN0aW9uIEx2KHQsZSxpLG4pe2Zvcih2YXIgbz0wLGE9ZS5sZW5ndGg7bzxhO28rKyl7dmFyIHI9ZVtvXTtpZih0W3IuYnJ1c2hUeXBlXShuLGksci5zZWxlY3RvcnMscikpcmV0dXJuITB9fWZ1bmN0aW9uIGt2KHQpe3ZhciBlPXQuYnJ1c2hTZWxlY3RvcjtpZihfKGUpKXt2YXIgaT1bXTtyZXR1cm4gZCh0UCxmdW5jdGlvbih0LG4pe2lbbl09ZnVuY3Rpb24oaSxuLG8sYSl7dmFyIHI9bi5nZXRJdGVtTGF5b3V0KGkpO3JldHVybiB0W2VdKHIsbyxhKX19KSxpfWlmKHgoZSkpe3ZhciBuPXt9O3JldHVybiBkKHRQLGZ1bmN0aW9uKHQsaSl7bltpXT1lfSksbn1yZXR1cm4gZX1mdW5jdGlvbiBQdih0LGUpe3ZhciBpPXQub3B0aW9uLnNlcmllc0luZGV4O3JldHVybiBudWxsIT1pJiYiYWxsIiE9PWkmJih5KGkpP2woaSxlKTwwOmUhPT1pKX1mdW5jdGlvbiBOdih0KXt2YXIgZT10LnNlbGVjdG9ycz17fTtyZXR1cm4gZCh0UFt0LmJydXNoVHlwZV0sZnVuY3Rpb24oaSxuKXtlW25dPWZ1bmN0aW9uKG4pe3JldHVybiBpKG4sZSx0KX19KSx0fWZ1bmN0aW9uIE92KHQpe3JldHVybiBuZXcgJHQodFswXVswXSx0WzFdWzBdLHRbMF1bMV0tdFswXVswXSx0WzFdWzFdLXRbMV1bMF0pfWZ1bmN0aW9uIEV2KHQsZSl7cmV0dXJuIG4oe2JydXNoVHlwZTp0LmJydXNoVHlwZSxicnVzaE1vZGU6dC5icnVzaE1vZGUsdHJhbnNmb3JtYWJsZTp0LnRyYW5zZm9ybWFibGUsYnJ1c2hTdHlsZTpuZXcgd28odC5icnVzaFN0eWxlKS5nZXRJdGVtU3R5bGUoKSxyZW1vdmVPbkNsaWNrOnQucmVtb3ZlT25DbGljayx6OnQuen0sZSwhMCl9ZnVuY3Rpb24gUnYodCxlLGksbil7KCFufHxuLiRmcm9tIT09dC5pZCkmJnRoaXMuX2JydXNoQ29udHJvbGxlci5zZXRQYW5lbHModC5icnVzaFRhcmdldE1hbmFnZXIubWFrZVBhbmVsT3B0cyhpKSkuZW5hYmxlQnJ1c2godC5icnVzaE9wdGlvbikudXBkYXRlQ292ZXJzKHQuYXJlYXMuc2xpY2UoKSl9ZnVuY3Rpb24genYodCxlKXt5UFt0XT1lfWZ1bmN0aW9uIEJ2KHQpe3JldHVybiB5UFt0XX1mdW5jdGlvbiBWdih0LGUsaSl7dGhpcy5tb2RlbD10LHRoaXMuZWNNb2RlbD1lLHRoaXMuYXBpPWksdGhpcy5fYnJ1c2hUeXBlLHRoaXMuX2JydXNoTW9kZX1mdW5jdGlvbiBHdih0LGUsaSl7dGhpcy5fbW9kZWw9dH1mdW5jdGlvbiBXdih0LGUsaSxuKXt2YXIgbz1pLmNhbGVuZGFyTW9kZWwsYT1pLnNlcmllc01vZGVsLHI9bz9vLmNvb3JkaW5hdGVTeXN0ZW06YT9hLmNvb3JkaW5hdGVTeXN0ZW06bnVsbDtyZXR1cm4gcj09PXRoaXM/clt0XShuKTpudWxsfWZ1bmN0aW9uIEZ2KHQsZSl7dmFyIGk9dC5jZWxsU2l6ZTt5KGkpPzE9PT1pLmxlbmd0aCYmKGlbMV09aVswXSk6aT10LmNlbGxTaXplPVtpLGldO3ZhciBuPWYoWzAsMV0sZnVuY3Rpb24odCl7cmV0dXJuIGVhKGUsdCkmJihpW3RdPSJhdXRvIiksbnVsbCE9aVt0XSYmImF1dG8iIT09aVt0XX0pO2lhKHQsZSx7dHlwZToiYm94IixpZ25vcmVTaXplOm59KX1mdW5jdGlvbiBIdih0KXtyZXR1cm4gbChNUCx0KT49MH1mdW5jdGlvbiBadih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBsKGUubm9kZXMsdCk+PTB9ZnVuY3Rpb24gbyh0LG4pe3ZhciBvPSExO3JldHVybiBlKGZ1bmN0aW9uKGUpe2QoaSh0LGUpfHxbXSxmdW5jdGlvbih0KXtuLnJlY29yZHNbZS5uYW1lXVt0XSYmKG89ITApfSl9KSxvfWZ1bmN0aW9uIGEodCxuKXtuLm5vZGVzLnB1c2godCksZShmdW5jdGlvbihlKXtkKGkodCxlKXx8W10sZnVuY3Rpb24odCl7bi5yZWNvcmRzW2UubmFtZV1bdF09ITB9KX0pfXJldHVybiBmdW5jdGlvbihpKXt2YXIgcj17bm9kZXM6W10scmVjb3Jkczp7fX07aWYoZShmdW5jdGlvbih0KXtyLnJlY29yZHNbdC5uYW1lXT17fX0pLCFpKXJldHVybiByO2EoaSxyKTt2YXIgcztkb3tzPSExLHQoZnVuY3Rpb24odCl7IW4odCxyKSYmbyh0LHIpJiYoYSh0LHIpLHM9ITApfSl9d2hpbGUocyk7cmV0dXJuIHJ9fWZ1bmN0aW9uIFV2KHQsZSxpKXt2YXIgbj1bMS8wLC0xLzBdO3JldHVybiBUUChpLGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0RGF0YSgpO2kmJlRQKGkubWFwRGltZW5zaW9uKGUsITApLGZ1bmN0aW9uKHQpe3ZhciBlPWkuZ2V0QXBwcm94aW1hdGVFeHRlbnQodCk7ZVswXTxuWzBdJiYoblswXT1lWzBdKSxlWzFdPm5bMV0mJihuWzFdPWVbMV0pfSl9KSxuWzFdPG5bMF0mJihuPVtOYU4sTmFOXSksWHYodCxuKSxufWZ1bmN0aW9uIFh2KHQsZSl7dmFyIGk9dC5nZXRBeGlzTW9kZWwoKSxuPWkuZ2V0TWluKCEwKSxvPSJjYXRlZ29yeSI9PT1pLmdldCgidHlwZSIpLGE9byYmaS5nZXRDYXRlZ29yaWVzKCkubGVuZ3RoO251bGwhPW4mJiJkYXRhTWluIiE9PW4mJiJmdW5jdGlvbiIhPXR5cGVvZiBuP2VbMF09bjpvJiYoZVswXT1hPjA/MDpOYU4pO3ZhciByPWkuZ2V0TWF4KCEwKTtyZXR1cm4gbnVsbCE9ciYmImRhdGFNYXgiIT09ciYmImZ1bmN0aW9uIiE9dHlwZW9mIHI/ZVsxXT1yOm8mJihlWzFdPWE+MD9hLTE6TmFOKSxpLmdldCgic2NhbGUiLCEwKXx8KGVbMF0+MCYmKGVbMF09MCksZVsxXTwwJiYoZVsxXT0wKSksZX1mdW5jdGlvbiBqdih0LGUpe3ZhciBpPXQuZ2V0QXhpc01vZGVsKCksbj10Ll9wZXJjZW50V2luZG93LG89dC5fdmFsdWVXaW5kb3c7aWYobil7dmFyIGE9UG8obyxbMCw1MDBdKTthPU1hdGgubWluKGEsMjApO3ZhciByPWV8fDA9PT1uWzBdJiYxMDA9PT1uWzFdO2kuc2V0UmFuZ2Uocj9udWxsOitvWzBdLnRvRml4ZWQoYSkscj9udWxsOitvWzFdLnRvRml4ZWQoYSkpfX1mdW5jdGlvbiBZdih0KXt2YXIgZT10Ll9taW5NYXhTcGFuPXt9LGk9dC5fZGF0YVpvb21Nb2RlbDtUUChbIm1pbiIsIm1heCJdLGZ1bmN0aW9uKG4pe2VbbisiU3BhbiJdPWkuZ2V0KG4rIlNwYW4iKTt2YXIgbz1pLmdldChuKyJWYWx1ZVNwYW4iKTtpZihudWxsIT1vJiYoZVtuKyJWYWx1ZVNwYW4iXT1vLG51bGwhPShvPXQuZ2V0QXhpc01vZGVsKCkuYXhpcy5zY2FsZS5wYXJzZShvKSkpKXt2YXIgYT10Ll9kYXRhRXh0ZW50O2VbbisiU3BhbiJdPVRvKGFbMF0rbyxhLFswLDEwMF0sITApfX0pfWZ1bmN0aW9uIHF2KHQpe3ZhciBlPXt9O3JldHVybiBDUChbInN0YXJ0IiwiZW5kIiwic3RhcnRWYWx1ZSIsImVuZFZhbHVlIiwidGhyb3R0bGUiXSxmdW5jdGlvbihpKXt0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKX0pLGV9ZnVuY3Rpb24gS3YodCxlKXt2YXIgaT10Ll9yYW5nZVByb3BNb2RlLG49dC5nZXQoInJhbmdlTW9kZSIpO0NQKFtbInN0YXJ0Iiwic3RhcnRWYWx1ZSJdLFsiZW5kIiwiZW5kVmFsdWUiXV0sZnVuY3Rpb24odCxvKXt2YXIgYT1udWxsIT1lW3RbMF1dLHI9bnVsbCE9ZVt0WzFdXTthJiYhcj9pW29dPSJwZXJjZW50IjohYSYmcj9pW29dPSJ2YWx1ZSI6bj9pW29dPW5bb106YSYmKGlbb109InBlcmNlbnQiKX0pfWZ1bmN0aW9uICR2KHQpe3JldHVybnt4OiJ5Iix5OiJ4IixyYWRpdXM6ImFuZ2xlIixhbmdsZToicmFkaXVzIn1bdF19ZnVuY3Rpb24gSnYodCl7cmV0dXJuInZlcnRpY2FsIj09PXQ/Im5zLXJlc2l6ZSI6ImV3LXJlc2l6ZSJ9ZnVuY3Rpb24gUXYodCxlKXt2YXIgaT1peSh0KSxuPWUuZGF0YVpvb21JZCxvPWUuY29vcmRJZDtkKGksZnVuY3Rpb24odCxpKXt2YXIgYT10LmRhdGFab29tSW5mb3M7YVtuXSYmbChlLmFsbENvb3JkSWRzLG8pPDAmJihkZWxldGUgYVtuXSx0LmNvdW50LS0pfSksb3koaSk7dmFyIGE9aVtvXTthfHwoKGE9aVtvXT17Y29vcmRJZDpvLGRhdGFab29tSW5mb3M6e30sY291bnQ6MH0pLmNvbnRyb2xsZXI9bnkodCxhKSxhLmRpc3BhdGNoQWN0aW9uPXYobHksdCkpLCFhLmRhdGFab29tSW5mb3Nbbl0mJmEuY291bnQrKyxhLmRhdGFab29tSW5mb3Nbbl09ZTt2YXIgcj11eShhLmRhdGFab29tSW5mb3MpO2EuY29udHJvbGxlci5lbmFibGUoci5jb250cm9sVHlwZSxyLm9wdCksYS5jb250cm9sbGVyLnNldFBvaW50ZXJDaGVja2VyKGUuY29udGFpbnNQb2ludCksd3IoYSwiZGlzcGF0Y2hBY3Rpb24iLGUudGhyb3R0bGVSYXRlLCJmaXhSYXRlIil9ZnVuY3Rpb24gdHkodCxlKXt2YXIgaT1peSh0KTtkKGksZnVuY3Rpb24odCl7dC5jb250cm9sbGVyLmRpc3Bvc2UoKTt2YXIgaT10LmRhdGFab29tSW5mb3M7aVtlXSYmKGRlbGV0ZSBpW2VdLHQuY291bnQtLSl9KSxveShpKX1mdW5jdGlvbiBleSh0KXtyZXR1cm4gdC50eXBlKyJcMF8iK3QuaWR9ZnVuY3Rpb24gaXkodCl7dmFyIGU9dC5nZXRacigpO3JldHVybiBlW0hQXXx8KGVbSFBdPXt9KX1mdW5jdGlvbiBueSh0LGUpe3ZhciBpPW5ldyBMaCh0LmdldFpyKCkpO3JldHVybiBpLm9uKCJwYW4iLEZQKGF5LGUpKSxpLm9uKCJ6b29tIixGUChyeSxlKSksaX1mdW5jdGlvbiBveSh0KXtkKHQsZnVuY3Rpb24oZSxpKXtlLmNvdW50fHwoZS5jb250cm9sbGVyLmRpc3Bvc2UoKSxkZWxldGUgdFtpXSl9KX1mdW5jdGlvbiBheSh0LGUsaSxuLG8sYSxyKXtzeSh0LGZ1bmN0aW9uKHMpe3JldHVybiBzLnBhbkdldFJhbmdlKHQuY29udHJvbGxlcixlLGksbixvLGEscil9KX1mdW5jdGlvbiByeSh0LGUsaSxuKXtzeSh0LGZ1bmN0aW9uKG8pe3JldHVybiBvLnpvb21HZXRSYW5nZSh0LmNvbnRyb2xsZXIsZSxpLG4pfSl9ZnVuY3Rpb24gc3kodCxlKXt2YXIgaT1bXTtkKHQuZGF0YVpvb21JbmZvcyxmdW5jdGlvbih0KXt2YXIgbj1lKHQpOyF0LmRpc2FibGVkJiZuJiZpLnB1c2goe2RhdGFab29tSWQ6dC5kYXRhWm9vbUlkLHN0YXJ0Om5bMF0sZW5kOm5bMV19KX0pLGkubGVuZ3RoJiZ0LmRpc3BhdGNoQWN0aW9uKGkpfWZ1bmN0aW9uIGx5KHQsZSl7dC5kaXNwYXRjaEFjdGlvbih7dHlwZToiZGF0YVpvb20iLGJhdGNoOmV9KX1mdW5jdGlvbiB1eSh0KXt2YXIgZSxpPXt9LG49e3R5cGVfdHJ1ZToyLHR5cGVfbW92ZToxLHR5cGVfZmFsc2U6MCx0eXBlX3VuZGVmaW5lZDotMX07cmV0dXJuIGQodCxmdW5jdGlvbih0KXt2YXIgbz0hdC5kaXNhYmxlZCYmKCF0Lnpvb21Mb2NrfHwibW92ZSIpO25bInR5cGVfIitvXT5uWyJ0eXBlXyIrZV0mJihlPW8pLGEoaSx0LnJvYW1Db250cm9sbGVyT3B0KX0pLHtjb250cm9sVHlwZTplLG9wdDppfX1mdW5jdGlvbiBoeSh0LGUpe3JldHVybiB0JiZ0Lmhhc093blByb3BlcnR5JiZ0Lmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIGN5KHQsZSxpLG4pe2Zvcih2YXIgbz1lLnRhcmdldFZpc3VhbHNbbl0sYT1IQS5wcmVwYXJlVmlzdWFsVHlwZXMobykscj17Y29sb3I6dC5nZXREYXRhKCkuZ2V0VmlzdWFsKCJjb2xvciIpfSxzPTAsbD1hLmxlbmd0aDtzPGw7cysrKXt2YXIgdT1hW3NdLGg9b1sib3BhY2l0eSI9PT11PyJfX2FscGhhRm9yT3BhY2l0eSI6dV07aCYmaC5hcHBseVZpc3VhbChpLGZ1bmN0aW9uKHQpe3JldHVybiByW3RdfSxmdW5jdGlvbih0LGUpe3JbdF09ZX0pfXJldHVybiByLmNvbG9yfWZ1bmN0aW9uIGR5KHQsZSxpKXtpZihpWzBdPT09aVsxXSlyZXR1cm4gaS5zbGljZSgpO2Zvcih2YXIgbj0oaVsxXS1pWzBdKS8yMDAsbz1pWzBdLGE9W10scj0wO3I8PTIwMCYmbzxpWzFdO3IrKylhLnB1c2gobyksbys9bjtyZXR1cm4gYS5wdXNoKGlbMV0pLGF9ZnVuY3Rpb24gZnkodCxlLGkpe3ZhciBuPXQub3B0aW9uLG89bi5hbGlnbjtpZihudWxsIT1vJiYiYXV0byIhPT1vKXJldHVybiBvO2Zvcih2YXIgYT17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxyPSJob3Jpem9udGFsIj09PW4ub3JpZW50PzE6MCxzPVtbImxlZnQiLCJyaWdodCIsIndpZHRoIl0sWyJ0b3AiLCJib3R0b20iLCJoZWlnaHQiXV0sbD1zW3JdLHU9WzAsbnVsbCwxMF0saD17fSxjPTA7YzwzO2MrKyloW3NbMS1yXVtjXV09dVtjXSxoW2xbY11dPTI9PT1jP2lbMF06bltsW2NdXTt2YXIgZD1bWyJ4Iiwid2lkdGgiLDNdLFsieSIsImhlaWdodCIsMF1dW3JdLGY9UW8oaCxhLG4ucGFkZGluZyk7cmV0dXJuIGxbKGYubWFyZ2luW2RbMl1dfHwwKStmW2RbMF1dKy41KmZbZFsxXV08LjUqYVtkWzFdXT8wOjFdfWZ1bmN0aW9uIHB5KHQpe3JldHVybiBkKHR8fFtdLGZ1bmN0aW9uKGUpe251bGwhPXQuZGF0YUluZGV4JiYodC5kYXRhSW5kZXhJbnNpZGU9dC5kYXRhSW5kZXgsdC5kYXRhSW5kZXg9bnVsbCl9KSx0fWZ1bmN0aW9uIGd5KHQsZSxpLG4pe3JldHVybiBuZXcgX1Moe3NoYXBlOntwb2ludHM6dH0sZHJhZ2dhYmxlOiEhaSxjdXJzb3I6ZSxkcmlmdDppLG9ubW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe1J3KHQuZXZlbnQpfSxvbmRyYWdlbmQ6bn0pfWZ1bmN0aW9uIG15KHQsZSl7cmV0dXJuIDA9PT10P1tbMCwwXSxbZSwwXSxbZSwtZV1dOltbMCwwXSxbZSwwXSxbZSxlXV19ZnVuY3Rpb24gdnkodCxlLGksbil7cmV0dXJuIHQ/W1swLC1jTihlLGROKGksMCkpXSxbcE4sMF0sWzAsY04oZSxkTihuLWksMCkpXV06W1swLDBdLFs1LC01XSxbNSw1XV19ZnVuY3Rpb24geXkodCxlLGkpe3ZhciBuPWZOLzIsbz10LmdldCgiaG92ZXJMaW5rRGF0YVNpemUiKTtyZXR1cm4gbyYmKG49dU4obyxlLGksITApLzIpLG59ZnVuY3Rpb24geHkodCl7dmFyIGU9dC5nZXQoImhvdmVyTGlua09uSGFuZGxlIik7cmV0dXJuISEobnVsbD09ZT90LmdldCgicmVhbHRpbWUiKTplKX1mdW5jdGlvbiBfeSh0KXtyZXR1cm4idmVydGljYWwiPT09dD8ibnMtcmVzaXplIjoiZXctcmVzaXplIn1mdW5jdGlvbiB3eSh0LGUpe3ZhciBpPXQuaW52ZXJzZTsoInZlcnRpY2FsIj09PXQub3JpZW50PyFpOmkpJiZlLnJldmVyc2UoKX1mdW5jdGlvbiBieSh0KXtNaSh0LCJsYWJlbCIsWyJzaG93Il0pfWZ1bmN0aW9uIFN5KHQpe3JldHVybiEoaXNOYU4ocGFyc2VGbG9hdCh0LngpKSYmaXNOYU4ocGFyc2VGbG9hdCh0LnkpKSl9ZnVuY3Rpb24gTXkodCl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQodC54KSkmJiFpc05hTihwYXJzZUZsb2F0KHQueSkpfWZ1bmN0aW9uIEl5KHQsZSxpLG4sbyxhKXt2YXIgcj1bXSxzPVpzKGUsbixpKT9lLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tSZXN1bHREaW1lbnNpb24iKTpuLGw9a3koZSxzLHQpLHU9ZS5pbmRpY2VzT2ZOZWFyZXN0KHMsbClbMF07cltvXT1lLmdldChpLHUpLHJbYV09ZS5nZXQobix1KTt2YXIgaD1MbyhlLmdldChuLHUpKTtyZXR1cm4oaD1NYXRoLm1pbihoLDIwKSk+PTAmJihyW2FdPStyW2FdLnRvRml4ZWQoaCkpLHJ9ZnVuY3Rpb24gVHkodCxlKXt2YXIgbj10LmdldERhdGEoKSxvPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihlJiYhTXkoZSkmJiF5KGUuY29vcmQpJiZvKXt2YXIgYT1vLmRpbWVuc2lvbnMscj1EeShlLG4sbyx0KTtpZigoZT1pKGUpKS50eXBlJiZTTltlLnR5cGVdJiZyLmJhc2VBeGlzJiZyLnZhbHVlQXhpcyl7dmFyIHM9d04oYSxyLmJhc2VBeGlzLmRpbSksbD13TihhLHIudmFsdWVBeGlzLmRpbSk7ZS5jb29yZD1TTltlLnR5cGVdKG4sci5iYXNlRGF0YURpbSxyLnZhbHVlRGF0YURpbSxzLGwpLGUudmFsdWU9ZS5jb29yZFtsXX1lbHNle2Zvcih2YXIgdT1bbnVsbCE9ZS54QXhpcz9lLnhBeGlzOmUucmFkaXVzQXhpcyxudWxsIT1lLnlBeGlzP2UueUF4aXM6ZS5hbmdsZUF4aXNdLGg9MDtoPDI7aCsrKVNOW3VbaF1dJiYodVtoXT1reShuLG4ubWFwRGltZW5zaW9uKGFbaF0pLHVbaF0pKTtlLmNvb3JkPXV9fXJldHVybiBlfWZ1bmN0aW9uIER5KHQsZSxpLG4pe3ZhciBvPXt9O3JldHVybiBudWxsIT10LnZhbHVlSW5kZXh8fG51bGwhPXQudmFsdWVEaW0/KG8udmFsdWVEYXRhRGltPW51bGwhPXQudmFsdWVJbmRleD9lLmdldERpbWVuc2lvbih0LnZhbHVlSW5kZXgpOnQudmFsdWVEaW0sby52YWx1ZUF4aXM9aS5nZXRBeGlzKEF5KG4sby52YWx1ZURhdGFEaW0pKSxvLmJhc2VBeGlzPWkuZ2V0T3RoZXJBeGlzKG8udmFsdWVBeGlzKSxvLmJhc2VEYXRhRGltPWUubWFwRGltZW5zaW9uKG8uYmFzZUF4aXMuZGltKSk6KG8uYmFzZUF4aXM9bi5nZXRCYXNlQXhpcygpLG8udmFsdWVBeGlzPWkuZ2V0T3RoZXJBeGlzKG8uYmFzZUF4aXMpLG8uYmFzZURhdGFEaW09ZS5tYXBEaW1lbnNpb24oby5iYXNlQXhpcy5kaW0pLG8udmFsdWVEYXRhRGltPWUubWFwRGltZW5zaW9uKG8udmFsdWVBeGlzLmRpbSkpLG99ZnVuY3Rpb24gQXkodCxlKXt2YXIgaT10LmdldERhdGEoKSxuPWkuZGltZW5zaW9ucztlPWkuZ2V0RGltZW5zaW9uKGUpO2Zvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT1pLmdldERpbWVuc2lvbkluZm8obltvXSk7aWYoYS5uYW1lPT09ZSlyZXR1cm4gYS5jb29yZERpbX19ZnVuY3Rpb24gQ3kodCxlKXtyZXR1cm4hKHQmJnQuY29udGFpbkRhdGEmJmUuY29vcmQmJiFTeShlKSl8fHQuY29udGFpbkRhdGEoZS5jb29yZCl9ZnVuY3Rpb24gTHkodCxlLGksbil7cmV0dXJuIG48Mj90LmNvb3JkJiZ0LmNvb3JkW25dOnQudmFsdWV9ZnVuY3Rpb24ga3kodCxlLGkpe2lmKCJhdmVyYWdlIj09PWkpe3ZhciBuPTAsbz0wO3JldHVybiB0LmVhY2goZSxmdW5jdGlvbih0LGUpe2lzTmFOKHQpfHwobis9dCxvKyspfSksbi9vfXJldHVybiJtZWRpYW4iPT09aT90LmdldE1lZGlhbihlKTp0LmdldERhdGFFeHRlbnQoZSwhMClbIm1heCI9PT1pPzE6MF19ZnVuY3Rpb24gUHkodCxlLGkpe3ZhciBuPWUuY29vcmRpbmF0ZVN5c3RlbTt0LmVhY2goZnVuY3Rpb24obyl7dmFyIGEscj10LmdldEl0ZW1Nb2RlbChvKSxzPURvKHIuZ2V0KCJ4IiksaS5nZXRXaWR0aCgpKSxsPURvKHIuZ2V0KCJ5IiksaS5nZXRIZWlnaHQoKSk7aWYoaXNOYU4ocyl8fGlzTmFOKGwpKXtpZihlLmdldE1hcmtlclBvc2l0aW9uKWE9ZS5nZXRNYXJrZXJQb3NpdGlvbih0LmdldFZhbHVlcyh0LmRpbWVuc2lvbnMsbykpO2Vsc2UgaWYobil7dmFyIHU9dC5nZXQobi5kaW1lbnNpb25zWzBdLG8pLGg9dC5nZXQobi5kaW1lbnNpb25zWzFdLG8pO2E9bi5kYXRhVG9Qb2ludChbdSxoXSl9fWVsc2UgYT1bcyxsXTtpc05hTihzKXx8KGFbMF09cyksaXNOYU4obCl8fChhWzFdPWwpLHQuc2V0SXRlbUxheW91dChvLGEpfSl9ZnVuY3Rpb24gTnkodCxlLGkpe3ZhciBuO249dD9mKHQmJnQuZGltZW5zaW9ucyxmdW5jdGlvbih0KXtyZXR1cm4gcih7bmFtZTp0fSxlLmdldERhdGEoKS5nZXREaW1lbnNpb25JbmZvKGUuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbih0KSl8fHt9KX0pOlt7bmFtZToidmFsdWUiLHR5cGU6ImZsb2F0In1dO3ZhciBvPW5ldyByVChuLGkpLGE9ZihpLmdldCgiZGF0YSIpLHYoVHksZSkpO3JldHVybiB0JiYoYT1nKGEsdihDeSx0KSkpLG8uaW5pdERhdGEoYSxudWxsLHQ/THk6ZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9KSxvfWZ1bmN0aW9uIE95KHQpe3JldHVybiFpc05hTih0KSYmIWlzRmluaXRlKHQpfWZ1bmN0aW9uIEV5KHQsZSxpLG4pe3ZhciBvPTEtdCxhPW4uZGltZW5zaW9uc1t0XTtyZXR1cm4gT3koZVtvXSkmJk95KGlbb10pJiZlW3RdPT09aVt0XSYmbi5nZXRBeGlzKGEpLmNvbnRhaW5EYXRhKGVbdF0pfWZ1bmN0aW9uIFJ5KHQsZSl7aWYoImNhcnRlc2lhbjJkIj09PXQudHlwZSl7dmFyIGk9ZVswXS5jb29yZCxuPWVbMV0uY29vcmQ7aWYoaSYmbiYmKEV5KDEsaSxuLHQpfHxFeSgwLGksbix0KSkpcmV0dXJuITB9cmV0dXJuIEN5KHQsZVswXSkmJkN5KHQsZVsxXSl9ZnVuY3Rpb24genkodCxlLGksbixvKXt2YXIgYSxyPW4uY29vcmRpbmF0ZVN5c3RlbSxzPXQuZ2V0SXRlbU1vZGVsKGUpLGw9RG8ocy5nZXQoIngiKSxvLmdldFdpZHRoKCkpLHU9RG8ocy5nZXQoInkiKSxvLmdldEhlaWdodCgpKTtpZihpc05hTihsKXx8aXNOYU4odSkpe2lmKG4uZ2V0TWFya2VyUG9zaXRpb24pYT1uLmdldE1hcmtlclBvc2l0aW9uKHQuZ2V0VmFsdWVzKHQuZGltZW5zaW9ucyxlKSk7ZWxzZXt2YXIgaD1yLmRpbWVuc2lvbnMsYz10LmdldChoWzBdLGUpLGQ9dC5nZXQoaFsxXSxlKTthPXIuZGF0YVRvUG9pbnQoW2MsZF0pfWlmKCJjYXJ0ZXNpYW4yZCI9PT1yLnR5cGUpe3ZhciBmPXIuZ2V0QXhpcygieCIpLHA9ci5nZXRBeGlzKCJ5IiksaD1yLmRpbWVuc2lvbnM7T3kodC5nZXQoaFswXSxlKSk/YVswXT1mLnRvR2xvYmFsQ29vcmQoZi5nZXRFeHRlbnQoKVtpPzA6MV0pOk95KHQuZ2V0KGhbMV0sZSkpJiYoYVsxXT1wLnRvR2xvYmFsQ29vcmQocC5nZXRFeHRlbnQoKVtpPzA6MV0pKX1pc05hTihsKXx8KGFbMF09bCksaXNOYU4odSl8fChhWzFdPXUpfWVsc2UgYT1bbCx1XTt0LnNldEl0ZW1MYXlvdXQoZSxhKX1mdW5jdGlvbiBCeSh0LGUsaSl7dmFyIG47bj10P2YodCYmdC5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3JldHVybiByKHtuYW1lOnR9LGUuZ2V0RGF0YSgpLmdldERpbWVuc2lvbkluZm8oZS5nZXREYXRhKCkubWFwRGltZW5zaW9uKHQpKXx8e30pfSk6W3tuYW1lOiJ2YWx1ZSIsdHlwZToiZmxvYXQifV07dmFyIG89bmV3IHJUKG4saSksYT1uZXcgclQobixpKSxzPW5ldyByVChbXSxpKSxsPWYoaS5nZXQoImRhdGEiKSx2KElOLGUsdCxpKSk7dCYmKGw9ZyhsLHYoUnksdCkpKTt2YXIgdT10P0x5OmZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfTtyZXR1cm4gby5pbml0RGF0YShmKGwsZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSxudWxsLHUpLGEuaW5pdERhdGEoZihsLGZ1bmN0aW9uKHQpe3JldHVybiB0WzFdfSksbnVsbCx1KSxzLmluaXREYXRhKGYobCxmdW5jdGlvbih0KXtyZXR1cm4gdFsyXX0pKSxzLmhhc0l0ZW1PcHRpb249ITAse2Zyb206byx0bzphLGxpbmU6c319ZnVuY3Rpb24gVnkodCl7cmV0dXJuIWlzTmFOKHQpJiYhaXNGaW5pdGUodCl9ZnVuY3Rpb24gR3kodCxlLGksbil7dmFyIG89MS10O3JldHVybiBWeShlW29dKSYmVnkoaVtvXSl9ZnVuY3Rpb24gV3kodCxlKXt2YXIgaT1lLmNvb3JkWzBdLG49ZS5jb29yZFsxXTtyZXR1cm4hKCJjYXJ0ZXNpYW4yZCIhPT10LnR5cGV8fCFpfHwhbnx8IUd5KDEsaSxuLHQpJiYhR3koMCxpLG4sdCkpfHwoQ3kodCx7Y29vcmQ6aSx4OmUueDAseTplLnkwfSl8fEN5KHQse2Nvb3JkOm4seDplLngxLHk6ZS55MX0pKX1mdW5jdGlvbiBGeSh0LGUsaSxuLG8pe3ZhciBhLHI9bi5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRJdGVtTW9kZWwoZSksbD1EbyhzLmdldChpWzBdKSxvLmdldFdpZHRoKCkpLHU9RG8ocy5nZXQoaVsxXSksby5nZXRIZWlnaHQoKSk7aWYoaXNOYU4obCl8fGlzTmFOKHUpKXtpZihuLmdldE1hcmtlclBvc2l0aW9uKWE9bi5nZXRNYXJrZXJQb3NpdGlvbih0LmdldFZhbHVlcyhpLGUpKTtlbHNle3ZhciBoPVtmPXQuZ2V0KGlbMF0sZSkscD10LmdldChpWzFdLGUpXTtyLmNsYW1wRGF0YSYmci5jbGFtcERhdGEoaCxoKSxhPXIuZGF0YVRvUG9pbnQoaCwhMCl9aWYoImNhcnRlc2lhbjJkIj09PXIudHlwZSl7dmFyIGM9ci5nZXRBeGlzKCJ4IiksZD1yLmdldEF4aXMoInkiKSxmPXQuZ2V0KGlbMF0sZSkscD10LmdldChpWzFdLGUpO1Z5KGYpP2FbMF09Yy50b0dsb2JhbENvb3JkKGMuZ2V0RXh0ZW50KClbIngwIj09PWlbMF0/MDoxXSk6VnkocCkmJihhWzFdPWQudG9HbG9iYWxDb29yZChkLmdldEV4dGVudCgpWyJ5MCI9PT1pWzFdPzA6MV0pKX1pc05hTihsKXx8KGFbMF09bCksaXNOYU4odSl8fChhWzFdPXUpfWVsc2UgYT1bbCx1XTtyZXR1cm4gYX1mdW5jdGlvbiBIeSh0LGUsaSl7dmFyIG4sbyxhPVsieDAiLCJ5MCIsIngxIiwieTEiXTt0PyhuPWYodCYmdC5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3ZhciBpPWUuZ2V0RGF0YSgpO3JldHVybiByKHtuYW1lOnR9LGkuZ2V0RGltZW5zaW9uSW5mbyhpLm1hcERpbWVuc2lvbih0KSl8fHt9KX0pLG89bmV3IHJUKGYoYSxmdW5jdGlvbih0LGUpe3JldHVybntuYW1lOnQsdHlwZTpuW2UlMl0udHlwZX19KSxpKSk6bz1uZXcgclQobj1be25hbWU6InZhbHVlIix0eXBlOiJmbG9hdCJ9XSxpKTt2YXIgcz1mKGkuZ2V0KCJkYXRhIiksdihUTixlLHQsaSkpO3QmJihzPWcocyx2KFd5LHQpKSk7dmFyIGw9dD9mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdC5jb29yZFtNYXRoLmZsb29yKG4vMildW24lMl19OmZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfTtyZXR1cm4gby5pbml0RGF0YShzLG51bGwsbCksby5oYXNJdGVtT3B0aW9uPSEwLG99ZnVuY3Rpb24gWnkodCl7dmFyIGU9dC50eXBlLGk9e251bWJlcjoidmFsdWUiLHRpbWU6InRpbWUifTtpZihpW2VdJiYodC5heGlzVHlwZT1pW2VdLGRlbGV0ZSB0LnR5cGUpLFV5KHQpLFh5KHQsImNvbnRyb2xQb3NpdGlvbiIpKXt2YXIgbj10LmNvbnRyb2xTdHlsZXx8KHQuY29udHJvbFN0eWxlPXt9KTtYeShuLCJwb3NpdGlvbiIpfHwobi5wb3NpdGlvbj10LmNvbnRyb2xQb3NpdGlvbiksIm5vbmUiIT09bi5wb3NpdGlvbnx8WHkobiwic2hvdyIpfHwobi5zaG93PSExLGRlbGV0ZSBuLnBvc2l0aW9uKSxkZWxldGUgdC5jb250cm9sUG9zaXRpb259ZCh0LmRhdGF8fFtdLGZ1bmN0aW9uKHQpe3codCkmJiF5KHQpJiYoIVh5KHQsInZhbHVlIikmJlh5KHQsIm5hbWUiKSYmKHQudmFsdWU9dC5uYW1lKSxVeSh0KSl9KX1mdW5jdGlvbiBVeSh0KXt2YXIgZT10Lml0ZW1TdHlsZXx8KHQuaXRlbVN0eWxlPXt9KSxpPWUuZW1waGFzaXN8fChlLmVtcGhhc2lzPXt9KSxuPXQubGFiZWx8fHQubGFiZWx8fHt9LG89bi5ub3JtYWx8fChuLm5vcm1hbD17fSksYT17bm9ybWFsOjEsZW1waGFzaXM6MX07ZChuLGZ1bmN0aW9uKHQsZSl7YVtlXXx8WHkobyxlKXx8KG9bZV09dCl9KSxpLmxhYmVsJiYhWHkobiwiZW1waGFzaXMiKSYmKG4uZW1waGFzaXM9aS5sYWJlbCxkZWxldGUgaS5sYWJlbCl9ZnVuY3Rpb24gWHkodCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShlKX1mdW5jdGlvbiBqeSh0LGUpe3JldHVybiBRbyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9LHQuZ2V0KCJwYWRkaW5nIikpfWZ1bmN0aW9uIFl5KHQsZSxuLG8pe3JldHVybiBSbih0LmdldChlKS5yZXBsYWNlKC9ecGF0aDpcL1wvLywiIiksaShvfHx7fSksbmV3ICR0KG5bMF0sblsxXSxuWzJdLG5bM10pLCJjZW50ZXIiKX1mdW5jdGlvbiBxeSh0LGUsaSxvLGEscil7dmFyIHM9ZS5nZXQoImNvbG9yIik7YT8oYS5zZXRDb2xvcihzKSxpLmFkZChhKSxyJiZyLm9uVXBkYXRlKGEpKTooKGE9SWwodC5nZXQoInN5bWJvbCIpLC0xLC0xLDIsMixzKSkuc2V0U3R5bGUoInN0cm9rZU5vU2NhbGUiLCEwKSxpLmFkZChhKSxyJiZyLm9uQ3JlYXRlKGEpKTt2YXIgbD1lLmdldEl0ZW1TdHlsZShbImNvbG9yIiwic3ltYm9sIiwic3ltYm9sU2l6ZSJdKTthLnNldFN0eWxlKGwpLG89bih7cmVjdEhvdmVyOiEwLHoyOjEwMH0sbywhMCk7dmFyIHU9dC5nZXQoInN5bWJvbFNpemUiKTsodT11IGluc3RhbmNlb2YgQXJyYXk/dS5zbGljZSgpOlsrdSwrdV0pWzBdLz0yLHVbMV0vPTIsby5zY2FsZT11O3ZhciBoPXQuZ2V0KCJzeW1ib2xPZmZzZXQiKTtpZihoKXt2YXIgYz1vLnBvc2l0aW9uPW8ucG9zaXRpb258fFswLDBdO2NbMF0rPURvKGhbMF0sdVswXSksY1sxXSs9RG8oaFsxXSx1WzFdKX12YXIgZD10LmdldCgic3ltYm9sUm90YXRlIik7cmV0dXJuIG8ucm90YXRpb249KGR8fDApKk1hdGguUEkvMTgwfHwwLGEuYXR0cihvKSxhLnVwZGF0ZVRyYW5zZm9ybSgpLGF9ZnVuY3Rpb24gS3kodCxlLGksbixvKXtpZighdC5kcmFnZ2luZyl7dmFyIGE9bi5nZXRNb2RlbCgiY2hlY2twb2ludFN0eWxlIikscj1pLmRhdGFUb0Nvb3JkKG4uZ2V0RGF0YSgpLmdldChbInZhbHVlIl0sZSkpO298fCFhLmdldCgiYW5pbWF0aW9uIiwhMCk/dC5hdHRyKHtwb3NpdGlvbjpbciwwXX0pOih0LnN0b3BBbmltYXRpb24oITApLHQuYW5pbWF0ZVRvKHtwb3NpdGlvbjpbciwwXX0sYS5nZXQoImFuaW1hdGlvbkR1cmF0aW9uIiwhMCksYS5nZXQoImFuaW1hdGlvbkVhc2luZyIsITApKSl9fWZ1bmN0aW9uICR5KHQpe3JldHVybiAwPT09dC5pbmRleE9mKCJteSIpfWZ1bmN0aW9uIEp5KHQpe3RoaXMubW9kZWw9dH1mdW5jdGlvbiBReSh0KXt0aGlzLm1vZGVsPXR9ZnVuY3Rpb24gdHgodCl7dmFyIGU9e30saT1bXSxuPVtdO3JldHVybiB0LmVhY2hSYXdTZXJpZXMoZnVuY3Rpb24odCl7dmFyIG89dC5jb29yZGluYXRlU3lzdGVtO2lmKCFvfHwiY2FydGVzaWFuMmQiIT09by50eXBlJiYicG9sYXIiIT09by50eXBlKWkucHVzaCh0KTtlbHNle3ZhciBhPW8uZ2V0QmFzZUF4aXMoKTtpZigiY2F0ZWdvcnkiPT09YS50eXBlKXt2YXIgcj1hLmRpbSsiXyIrYS5pbmRleDtlW3JdfHwoZVtyXT17Y2F0ZWdvcnlBeGlzOmEsdmFsdWVBeGlzOm8uZ2V0T3RoZXJBeGlzKGEpLHNlcmllczpbXX0sbi5wdXNoKHtheGlzRGltOmEuZGltLGF4aXNJbmRleDphLmluZGV4fSkpLGVbcl0uc2VyaWVzLnB1c2godCl9ZWxzZSBpLnB1c2godCl9fSkse3Nlcmllc0dyb3VwQnlDYXRlZ29yeUF4aXM6ZSxvdGhlcjppLG1ldGE6bn19ZnVuY3Rpb24gZXgodCl7dmFyIGU9W107cmV0dXJuIGQodCxmdW5jdGlvbih0LGkpe3ZhciBuPXQuY2F0ZWdvcnlBeGlzLG89dC52YWx1ZUF4aXMuZGltLGE9WyIgIl0uY29uY2F0KGYodC5zZXJpZXMsZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKSxyPVtuLm1vZGVsLmdldENhdGVnb3JpZXMoKV07ZCh0LnNlcmllcyxmdW5jdGlvbih0KXtyLnB1c2godC5nZXRSYXdEYXRhKCkubWFwQXJyYXkobyxmdW5jdGlvbih0KXtyZXR1cm4gdH0pKX0pO2Zvcih2YXIgcz1bYS5qb2luKEZOKV0sbD0wO2w8clswXS5sZW5ndGg7bCsrKXtmb3IodmFyIHU9W10saD0wO2g8ci5sZW5ndGg7aCsrKXUucHVzaChyW2hdW2xdKTtzLnB1c2godS5qb2luKEZOKSl9ZS5wdXNoKHMuam9pbigiXG4iKSl9KSxlLmpvaW4oIlxuXG4iK1dOKyJcblxuIil9ZnVuY3Rpb24gaXgodCl7cmV0dXJuIGYodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldFJhd0RhdGEoKSxpPVt0Lm5hbWVdLG49W107cmV0dXJuIGUuZWFjaChlLmRpbWVuc2lvbnMsZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxvPWFyZ3VtZW50c1t0LTFdLGE9ZS5nZXROYW1lKG8pLHI9MDtyPHQtMTtyKyspbltyXT1hcmd1bWVudHNbcl07aS5wdXNoKChhP2ErRk46IiIpK24uam9pbihGTikpfSksaS5qb2luKCJcbiIpfSkuam9pbigiXG5cbiIrV04rIlxuXG4iKX1mdW5jdGlvbiBueCh0KXt2YXIgZT10eCh0KTtyZXR1cm57dmFsdWU6ZyhbZXgoZS5zZXJpZXNHcm91cEJ5Q2F0ZWdvcnlBeGlzKSxpeChlLm90aGVyKV0sZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvW1xuXHRcc10vZywiIil9KS5qb2luKCJcblxuIitXTisiXG5cbiIpLG1ldGE6ZS5tZXRhfX1mdW5jdGlvbiBveCh0KXtyZXR1cm4gdC5yZXBsYWNlKC9eXHNccyovLCIiKS5yZXBsYWNlKC9cc1xzKiQvLCIiKX1mdW5jdGlvbiBheCh0KXtpZih0LnNsaWNlKDAsdC5pbmRleE9mKCJcbiIpKS5pbmRleE9mKEZOKT49MClyZXR1cm4hMH1mdW5jdGlvbiByeCh0KXtmb3IodmFyIGU9dC5zcGxpdCgvXG4rL2cpLGk9W10sbj1mKG94KGUuc2hpZnQoKSkuc3BsaXQoSE4pLGZ1bmN0aW9uKHQpe3JldHVybntuYW1lOnQsZGF0YTpbXX19KSxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBhPW94KGVbb10pLnNwbGl0KEhOKTtpLnB1c2goYS5zaGlmdCgpKTtmb3IodmFyIHI9MDtyPGEubGVuZ3RoO3IrKyluW3JdJiYobltyXS5kYXRhW29dPWFbcl0pfXJldHVybntzZXJpZXM6bixjYXRlZ29yaWVzOml9fWZ1bmN0aW9uIHN4KHQpe2Zvcih2YXIgZT10LnNwbGl0KC9cbisvZyksaT1veChlLnNoaWZ0KCkpLG49W10sbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgYSxyPW94KGVbb10pLnNwbGl0KEhOKSxzPSIiLGw9ITE7aXNOYU4oclswXSk/KGw9ITAscz1yWzBdLHI9ci5zbGljZSgxKSxuW29dPXtuYW1lOnMsdmFsdWU6W119LGE9bltvXS52YWx1ZSk6YT1uW29dPVtdO2Zvcih2YXIgdT0wO3U8ci5sZW5ndGg7dSsrKWEucHVzaCgrclt1XSk7MT09PWEubGVuZ3RoJiYobD9uW29dLnZhbHVlPWFbMF06bltvXT1hWzBdKX1yZXR1cm57bmFtZTppLGRhdGE6bn19ZnVuY3Rpb24gbHgodCxlKXt2YXIgaT17c2VyaWVzOltdfTtyZXR1cm4gZCh0LnNwbGl0KG5ldyBSZWdFeHAoIlxuKiIrV04rIlxuKiIsImciKSksZnVuY3Rpb24odCxuKXtpZihheCh0KSl7dmFyIG89cngodCksYT1lW25dLHI9YS5heGlzRGltKyJBeGlzIjthJiYoaVtyXT1pW3JdfHxbXSxpW3JdW2EuYXhpc0luZGV4XT17ZGF0YTpvLmNhdGVnb3JpZXN9LGkuc2VyaWVzPWkuc2VyaWVzLmNvbmNhdChvLnNlcmllcykpfWVsc2V7bz1zeCh0KTtpLnNlcmllcy5wdXNoKG8pfX0pLGl9ZnVuY3Rpb24gdXgodCl7dGhpcy5fZG9tPW51bGwsdGhpcy5tb2RlbD10fWZ1bmN0aW9uIGh4KHQsZSl7cmV0dXJuIGYodCxmdW5jdGlvbih0LGkpe3ZhciBuPWUmJmVbaV07cmV0dXJuIHcobikmJiF5KG4pPyh3KHQpJiYheSh0KSYmKHQ9dC52YWx1ZSkscih7dmFsdWU6dH0sbikpOnR9KX1mdW5jdGlvbiBjeCh0LGUpe3ZhciBpPWd4KHQpO1pOKGUsZnVuY3Rpb24oZSxuKXtmb3IodmFyIG89aS5sZW5ndGgtMTtvPj0wJiYhaVtvXVtuXTtvLS0pO2lmKG88MCl7dmFyIGE9dC5xdWVyeUNvbXBvbmVudHMoe21haW5UeXBlOiJkYXRhWm9vbSIsc3ViVHlwZToic2VsZWN0IixpZDpufSlbMF07aWYoYSl7dmFyIHI9YS5nZXRQZXJjZW50UmFuZ2UoKTtpWzBdW25dPXtkYXRhWm9vbUlkOm4sc3RhcnQ6clswXSxlbmQ6clsxXX19fX0pLGkucHVzaChlKX1mdW5jdGlvbiBkeCh0KXt2YXIgZT1neCh0KSxpPWVbZS5sZW5ndGgtMV07ZS5sZW5ndGg+MSYmZS5wb3AoKTt2YXIgbj17fTtyZXR1cm4gWk4oaSxmdW5jdGlvbih0LGkpe2Zvcih2YXIgbz1lLmxlbmd0aC0xO28+PTA7by0tKWlmKHQ9ZVtvXVtpXSl7bltpXT10O2JyZWFrfX0pLG59ZnVuY3Rpb24gZngodCl7dFtVTl09bnVsbH1mdW5jdGlvbiBweCh0KXtyZXR1cm4gZ3godCkubGVuZ3RofWZ1bmN0aW9uIGd4KHQpe3ZhciBlPXRbVU5dO3JldHVybiBlfHwoZT10W1VOXT1be31dKSxlfWZ1bmN0aW9uIG14KHQsZSxpKXsodGhpcy5fYnJ1c2hDb250cm9sbGVyPW5ldyBKZChpLmdldFpyKCkpKS5vbigiYnJ1c2giLG0odGhpcy5fb25CcnVzaCx0aGlzKSkubW91bnQoKSx0aGlzLl9pc1pvb21BY3RpdmV9ZnVuY3Rpb24gdngodCl7dmFyIGU9e307cmV0dXJuIGQoWyJ4QXhpc0luZGV4IiwieUF4aXNJbmRleCJdLGZ1bmN0aW9uKGkpe2VbaV09dFtpXSxudWxsPT1lW2ldJiYoZVtpXT0iYWxsIiksKCExPT09ZVtpXXx8Im5vbmUiPT09ZVtpXSkmJihlW2ldPVtdKX0pLGV9ZnVuY3Rpb24geXgodCxlKXt0LnNldEljb25TdGF0dXMoImJhY2siLHB4KGUpPjE/ImVtcGhhc2lzIjoibm9ybWFsIil9ZnVuY3Rpb24geHgodCxlLGksbixvKXt2YXIgYT1pLl9pc1pvb21BY3RpdmU7biYmInRha2VHbG9iYWxDdXJzb3IiPT09bi50eXBlJiYoYT0iZGF0YVpvb21TZWxlY3QiPT09bi5rZXkmJm4uZGF0YVpvb21TZWxlY3RBY3RpdmUpLGkuX2lzWm9vbUFjdGl2ZT1hLHQuc2V0SWNvblN0YXR1cygiem9vbSIsYT8iZW1waGFzaXMiOiJub3JtYWwiKTt2YXIgcj1uZXcgd3YodngodC5vcHRpb24pLGUse2luY2x1ZGU6WyJncmlkIl19KTtpLl9icnVzaENvbnRyb2xsZXIuc2V0UGFuZWxzKHIubWFrZVBhbmVsT3B0cyhvLGZ1bmN0aW9uKHQpe3JldHVybiB0LnhBeGlzRGVjbGFyZWQmJiF0LnlBeGlzRGVjbGFyZWQ/ImxpbmVYIjohdC54QXhpc0RlY2xhcmVkJiZ0LnlBeGlzRGVjbGFyZWQ/ImxpbmVZIjoicmVjdCJ9KSkuZW5hYmxlQnJ1c2goISFhJiZ7YnJ1c2hUeXBlOiJhdXRvIixicnVzaFN0eWxlOntsaW5lV2lkdGg6MCxmaWxsOiJyZ2JhKDAsMCwwLDAuMikifX0pfWZ1bmN0aW9uIF94KHQpe3RoaXMubW9kZWw9dH1mdW5jdGlvbiBieCh0KXtyZXR1cm4gSk4odCl9ZnVuY3Rpb24gU3goKXtpZighZU8mJmlPKXtlTz0hMDt2YXIgdD1pTy5zdHlsZVNoZWV0czt0Lmxlbmd0aDwzMT9pTy5jcmVhdGVTdHlsZVNoZWV0KCkuYWRkUnVsZSgiLnpydm1sIiwiYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCkiKTp0WzBdLmFkZFJ1bGUoIi56cnZtbCIsImJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpIil9fWZ1bmN0aW9uIE14KHQpe3JldHVybiBwYXJzZUludCh0LDEwKX1mdW5jdGlvbiBJeCh0LGUpe1N4KCksdGhpcy5yb290PXQsdGhpcy5zdG9yYWdlPWU7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpLnN0eWxlLmNzc1RleHQ9ImRpc3BsYXk6aW5saW5lLWJsb2NrO292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDozMDBweDtoZWlnaHQ6MTUwcHg7IixuLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDsiLHQuYXBwZW5kQ2hpbGQoaSksdGhpcy5fdm1sUm9vdD1uLHRoaXMuX3ZtbFZpZXdwb3J0PWksdGhpcy5yZXNpemUoKTt2YXIgbz1lLmRlbEZyb21TdG9yYWdlLGE9ZS5hZGRUb1N0b3JhZ2U7ZS5kZWxGcm9tU3RvcmFnZT1mdW5jdGlvbih0KXtvLmNhbGwoZSx0KSx0JiZ0Lm9uUmVtb3ZlJiZ0Lm9uUmVtb3ZlKG4pfSxlLmFkZFRvU3RvcmFnZT1mdW5jdGlvbih0KXt0Lm9uQWRkJiZ0Lm9uQWRkKG4pLGEuY2FsbChlLHQpfSx0aGlzLl9maXJzdFBhaW50PSEwfWZ1bmN0aW9uIFR4KHQpe3JldHVybiBmdW5jdGlvbigpe3R3KCdJbiBJRTguMCBWTUwgbW9kZSBwYWludGVyIG5vdCBzdXBwb3J0IG1ldGhvZCAiJyt0KyciJyl9fWZ1bmN0aW9uIER4KHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoUk8sdCl9ZnVuY3Rpb24gQXgodCl7cmV0dXJuIEdPKDFlNCp0KS8xZTR9ZnVuY3Rpb24gQ3godCl7cmV0dXJuIHQ8WE8mJnQ+LVhPfWZ1bmN0aW9uIEx4KHQsZSl7dmFyIGk9ZT90LnRleHRGaWxsOnQuZmlsbDtyZXR1cm4gbnVsbCE9aSYmaSE9PVZPfWZ1bmN0aW9uIGt4KHQsZSl7dmFyIGk9ZT90LnRleHRTdHJva2U6dC5zdHJva2U7cmV0dXJuIG51bGwhPWkmJmkhPT1WT31mdW5jdGlvbiBQeCh0LGUpe2UmJk54KHQsInRyYW5zZm9ybSIsIm1hdHJpeCgiK0JPLmNhbGwoZSwiLCIpKyIpIil9ZnVuY3Rpb24gTngodCxlLGkpeyghaXx8ImxpbmVhciIhPT1pLnR5cGUmJiJyYWRpYWwiIT09aS50eXBlKSYmKCJzdHJpbmciPT10eXBlb2YgaSYmaS5pbmRleE9mKCJOYU4iKT4tMSYmY29uc29sZS5sb2coaSksdC5zZXRBdHRyaWJ1dGUoZSxpKSl9ZnVuY3Rpb24gT3godCxlLGkpe3Quc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLGUsaSl9ZnVuY3Rpb24gRXgodCxlLGkpe2lmKEx4KGUsaSkpe3ZhciBuPWk/ZS50ZXh0RmlsbDplLmZpbGw7bj0idHJhbnNwYXJlbnQiPT09bj9WTzpuLCJub25lIiE9PXQuZ2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiKSYmbj09PVZPJiYobj0icmdiYSgwLCAwLCAwLCAwLjAwMikiKSxOeCh0LCJmaWxsIixuKSxOeCh0LCJmaWxsLW9wYWNpdHkiLGUub3BhY2l0eSl9ZWxzZSBOeCh0LCJmaWxsIixWTyk7aWYoa3goZSxpKSl7dmFyIG89aT9lLnRleHRTdHJva2U6ZS5zdHJva2U7TngodCwic3Ryb2tlIixvPSJ0cmFuc3BhcmVudCI9PT1vP1ZPOm8pLE54KHQsInN0cm9rZS13aWR0aCIsKGk/ZS50ZXh0U3Ryb2tlV2lkdGg6ZS5saW5lV2lkdGgpLyghaSYmZS5zdHJva2VOb1NjYWxlP2UuaG9zdC5nZXRMaW5lU2NhbGUoKToxKSksTngodCwicGFpbnQtb3JkZXIiLGk/InN0cm9rZSI6ImZpbGwiKSxOeCh0LCJzdHJva2Utb3BhY2l0eSIsZS5vcGFjaXR5KSxlLmxpbmVEYXNoPyhOeCh0LCJzdHJva2UtZGFzaGFycmF5IixlLmxpbmVEYXNoLmpvaW4oIiwiKSksTngodCwic3Ryb2tlLWRhc2hvZmZzZXQiLEdPKGUubGluZURhc2hPZmZzZXR8fDApKSk6TngodCwic3Ryb2tlLWRhc2hhcnJheSIsIiIpLGUubGluZUNhcCYmTngodCwic3Ryb2tlLWxpbmVjYXAiLGUubGluZUNhcCksZS5saW5lSm9pbiYmTngodCwic3Ryb2tlLWxpbmVqb2luIixlLmxpbmVKb2luKSxlLm1pdGVyTGltaXQmJk54KHQsInN0cm9rZS1taXRlcmxpbWl0IixlLm1pdGVyTGltaXQpfWVsc2UgTngodCwic3Ryb2tlIixWTyl9ZnVuY3Rpb24gUngodCl7Zm9yKHZhciBlPVtdLGk9dC5kYXRhLG49dC5sZW4oKSxvPTA7bzxuOyl7dmFyIGE9IiIscj0wO3N3aXRjaChpW28rK10pe2Nhc2Ugek8uTTphPSJNIixyPTI7YnJlYWs7Y2FzZSB6Ty5MOmE9IkwiLHI9MjticmVhaztjYXNlIHpPLlE6YT0iUSIscj00O2JyZWFrO2Nhc2Ugek8uQzphPSJDIixyPTY7YnJlYWs7Y2FzZSB6Ty5BOnZhciBzPWlbbysrXSxsPWlbbysrXSx1PWlbbysrXSxoPWlbbysrXSxjPWlbbysrXSxkPWlbbysrXSxmPWlbbysrXSxwPWlbbysrXSxnPU1hdGguYWJzKGQpLG09Q3goZy1aTykmJiFDeChnKSx2PSExO3Y9Zz49Wk98fCFDeChnKSYmKGQ+LUhPJiZkPDB8fGQ+SE8pPT0hIXA7dmFyIHk9QXgocyt1KkZPKGMpKSx4PUF4KGwraCpXTyhjKSk7bSYmKGQ9cD9aTy0xZS00OjFlLTQtWk8sdj0hMCw5PT09byYmZS5wdXNoKCJNIix5LHgpKTt2YXIgXz1BeChzK3UqRk8oYytkKSksdz1BeChsK2gqV08oYytkKSk7ZS5wdXNoKCJBIixBeCh1KSxBeChoKSxHTyhmKlVPKSwrdiwrcCxfLHcpO2JyZWFrO2Nhc2Ugek8uWjphPSJaIjticmVhaztjYXNlIHpPLlI6dmFyIF89QXgoaVtvKytdKSx3PUF4KGlbbysrXSksYj1BeChpW28rK10pLFM9QXgoaVtvKytdKTtlLnB1c2goIk0iLF8sdywiTCIsXytiLHcsIkwiLF8rYix3K1MsIkwiLF8sdytTLCJMIixfLHcpfWEmJmUucHVzaChhKTtmb3IodmFyIE09MDtNPHI7TSsrKWUucHVzaChBeChpW28rK10pKX1yZXR1cm4gZS5qb2luKCIgIil9ZnVuY3Rpb24gengodCl7cmV0dXJuIm1pZGRsZSI9PT10PyJtaWRkbGUiOiJib3R0b20iPT09dD8iYmFzZWxpbmUiOiJoYW5naW5nIn1mdW5jdGlvbiBCeCgpe31mdW5jdGlvbiBWeCh0LGUsaSxuKXtmb3IodmFyIG89MCxhPWUubGVuZ3RoLHI9MCxzPTA7bzxhO28rKyl7dmFyIGw9ZVtvXTtpZihsLnJlbW92ZWQpe2Zvcih2YXIgdT1bXSxoPXM7aDxzK2wuY291bnQ7aCsrKXUucHVzaChoKTtsLmluZGljZXM9dSxzKz1sLmNvdW50fWVsc2V7Zm9yKHZhciB1PVtdLGg9cjtoPHIrbC5jb3VudDtoKyspdS5wdXNoKGgpO2wuaW5kaWNlcz11LHIrPWwuY291bnQsbC5hZGRlZHx8KHMrPWwuY291bnQpfX1yZXR1cm4gZX1mdW5jdGlvbiBHeCh0KXtyZXR1cm57bmV3UG9zOnQubmV3UG9zLGNvbXBvbmVudHM6dC5jb21wb25lbnRzLnNsaWNlKDApfX1mdW5jdGlvbiBXeCh0LGUsaSxuLG8pe3RoaXMuX3pySWQ9dCx0aGlzLl9zdmdSb290PWUsdGhpcy5fdGFnTmFtZXM9InN0cmluZyI9PXR5cGVvZiBpP1tpXTppLHRoaXMuX21hcmtMYWJlbD1uLHRoaXMuX2RvbU5hbWU9b3x8Il9kb20iLHRoaXMubmV4dElkPTB9ZnVuY3Rpb24gRngodCxlKXtXeC5jYWxsKHRoaXMsdCxlLFsibGluZWFyR3JhZGllbnQiLCJyYWRpYWxHcmFkaWVudCJdLCJfX2dyYWRpZW50X2luX3VzZV9fIil9ZnVuY3Rpb24gSHgodCxlKXtXeC5jYWxsKHRoaXMsdCxlLCJjbGlwUGF0aCIsIl9fY2xpcHBhdGhfaW5fdXNlX18iKX1mdW5jdGlvbiBaeCh0LGUpe1d4LmNhbGwodGhpcyx0LGUsWyJmaWx0ZXIiXSwiX19maWx0ZXJfaW5fdXNlX18iLCJfc2hhZG93RG9tIil9ZnVuY3Rpb24gVXgodCl7cmV0dXJuIHQmJih0LnNoYWRvd0JsdXJ8fHQuc2hhZG93T2Zmc2V0WHx8dC5zaGFkb3dPZmZzZXRZfHx0LnRleHRTaGFkb3dCbHVyfHx0LnRleHRTaGFkb3dPZmZzZXRYfHx0LnRleHRTaGFkb3dPZmZzZXRZKX1mdW5jdGlvbiBYeCh0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9ZnVuY3Rpb24gangodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBJbj9qTzp0IGluc3RhbmNlb2YgSmU/WU86dCBpbnN0YW5jZW9mIGRTP3FPOmpPfWZ1bmN0aW9uIFl4KHQsZSl7cmV0dXJuIGUmJnQmJmUucGFyZW50Tm9kZSE9PXR9ZnVuY3Rpb24gcXgodCxlLGkpe2lmKFl4KHQsZSkmJmkpe3ZhciBuPWkubmV4dFNpYmxpbmc7bj90Lmluc2VydEJlZm9yZShlLG4pOnQuYXBwZW5kQ2hpbGQoZSl9fWZ1bmN0aW9uIEt4KHQsZSl7aWYoWXgodCxlKSl7dmFyIGk9dC5maXJzdENoaWxkO2k/dC5pbnNlcnRCZWZvcmUoZSxpKTp0LmFwcGVuZENoaWxkKGUpfX1mdW5jdGlvbiAkeCh0LGUpe2UmJnQmJmUucGFyZW50Tm9kZT09PXQmJnQucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gSngodCl7cmV0dXJuIHQuX190ZXh0U3ZnRWx9ZnVuY3Rpb24gUXgodCl7cmV0dXJuIHQuX19zdmdFbH1mdW5jdGlvbiB0Xyh0KXtyZXR1cm4gZnVuY3Rpb24oKXt0dygnSW4gU1ZHIG1vZGUgcGFpbnRlciBub3Qgc3VwcG9ydCBtZXRob2QgIicrdCsnIicpfX12YXIgZV89MjMxMSxpXz1mdW5jdGlvbigpe3JldHVybiBlXysrfSxuXz17fSxvXz1uXz0ib2JqZWN0Ij09dHlwZW9mIHd4JiYiZnVuY3Rpb24iPT10eXBlb2Ygd3guZ2V0U3lzdGVtSW5mb1N5bmM/e2Jyb3dzZXI6e30sb3M6e30sbm9kZTohMSx3eGE6ITAsY2FudmFzU3VwcG9ydGVkOiEwLHN2Z1N1cHBvcnRlZDohMSx0b3VjaEV2ZW50c1N1cHBvcnRlZDohMH06InVuZGVmaW5lZCI9PXR5cGVvZiBkb2N1bWVudCYmInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3ticm93c2VyOnt9LG9zOnt9LG5vZGU6ITEsd29ya2VyOiEwLGNhbnZhc1N1cHBvcnRlZDohMH06InVuZGVmaW5lZCI9PXR5cGVvZiBuYXZpZ2F0b3I/e2Jyb3dzZXI6e30sb3M6e30sbm9kZTohMCx3b3JrZXI6ITEsY2FudmFzU3VwcG9ydGVkOiEwLHN2Z1N1cHBvcnRlZDohMH06ZnVuY3Rpb24odCl7dmFyIGU9e30saT17fSxuPXQubWF0Y2goL0ZpcmVmb3hcLyhbXGQuXSspLyksbz10Lm1hdGNoKC9NU0lFXHMoW1xkLl0rKS8pfHx0Lm1hdGNoKC9UcmlkZW50XC8uKz9ydjooKFtcZC5dKykpLyksYT10Lm1hdGNoKC9FZGdlXC8oW1xkLl0rKS8pLHI9L21pY3JvbWVzc2VuZ2VyL2kudGVzdCh0KTtyZXR1cm4gbiYmKGkuZmlyZWZveD0hMCxpLnZlcnNpb249blsxXSksbyYmKGkuaWU9ITAsaS52ZXJzaW9uPW9bMV0pLGEmJihpLmVkZ2U9ITAsaS52ZXJzaW9uPWFbMV0pLHImJihpLndlQ2hhdD0hMCkse2Jyb3dzZXI6aSxvczplLG5vZGU6ITEsY2FudmFzU3VwcG9ydGVkOiEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCxzdmdTdXBwb3J0ZWQ6InVuZGVmaW5lZCIhPXR5cGVvZiBTVkdSZWN0LHRvdWNoRXZlbnRzU3VwcG9ydGVkOiJvbnRvdWNoc3RhcnQiaW4gd2luZG93JiYhaS5pZSYmIWkuZWRnZSxwb2ludGVyRXZlbnRzU3VwcG9ydGVkOiJvbnBvaW50ZXJkb3duImluIHdpbmRvdyYmKGkuZWRnZXx8aS5pZSYmaS52ZXJzaW9uPj0xMSl9fShuYXZpZ2F0b3IudXNlckFnZW50KSxhXz17IltvYmplY3QgRnVuY3Rpb25dIjoxLCJbb2JqZWN0IFJlZ0V4cF0iOjEsIltvYmplY3QgRGF0ZV0iOjEsIltvYmplY3QgRXJyb3JdIjoxLCJbb2JqZWN0IENhbnZhc0dyYWRpZW50XSI6MSwiW29iamVjdCBDYW52YXNQYXR0ZXJuXSI6MSwiW29iamVjdCBJbWFnZV0iOjEsIltvYmplY3QgQ2FudmFzXSI6MX0scl89eyJbb2JqZWN0IEludDhBcnJheV0iOjEsIltvYmplY3QgVWludDhBcnJheV0iOjEsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIjoxLCJbb2JqZWN0IEludDE2QXJyYXldIjoxLCJbb2JqZWN0IFVpbnQxNkFycmF5XSI6MSwiW29iamVjdCBJbnQzMkFycmF5XSI6MSwiW29iamVjdCBVaW50MzJBcnJheV0iOjEsIltvYmplY3QgRmxvYXQzMkFycmF5XSI6MSwiW29iamVjdCBGbG9hdDY0QXJyYXldIjoxfSxzXz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGxfPUFycmF5LnByb3RvdHlwZSx1Xz1sXy5mb3JFYWNoLGhfPWxfLmZpbHRlcixjXz1sXy5zbGljZSxkXz1sXy5tYXAsZl89bF8ucmVkdWNlLHBfPXt9LGdfPWZ1bmN0aW9uKCl7cmV0dXJuIHBfLmNyZWF0ZUNhbnZhcygpfTtwXy5jcmVhdGVDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIil9O3ZhciBtXyx2Xz0iX19lY19wcmltaXRpdmVfXyI7RS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkUsZ2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KHQpP3RoaXNbdF06bnVsbH0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXNbdF09ZX0sZWFjaDpmdW5jdGlvbih0LGUpe3ZvaWQgMCE9PWUmJih0PW0odCxlKSk7Zm9yKHZhciBpIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eShpKSYmdCh0aGlzW2ldLGkpfSxyZW1vdmVLZXk6ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXNbdF19fTt2YXIgeV89KE9iamVjdC5mcmVlemV8fE9iamVjdCkoeyRvdmVycmlkZTplLGNsb25lOmksbWVyZ2U6bixtZXJnZUFsbDpvLGV4dGVuZDphLGRlZmF1bHRzOnIsY3JlYXRlQ2FudmFzOmdfLGdldENvbnRleHQ6cyxpbmRleE9mOmwsaW5oZXJpdHM6dSxtaXhpbjpoLGlzQXJyYXlMaWtlOmMsZWFjaDpkLG1hcDpmLHJlZHVjZTpwLGZpbHRlcjpnLGZpbmQ6ZnVuY3Rpb24odCxlLGkpe2lmKHQmJmUpZm9yKHZhciBuPTAsbz10Lmxlbmd0aDtuPG87bisrKWlmKGUuY2FsbChpLHRbbl0sbix0KSlyZXR1cm4gdFtuXX0sYmluZDptLGN1cnJ5OnYsaXNBcnJheTp5LGlzRnVuY3Rpb246eCxpc1N0cmluZzpfLGlzT2JqZWN0OncsaXNCdWlsdEluT2JqZWN0OmIsaXNUeXBlZEFycmF5OlMsaXNEb206TSxlcU5hTjpJLHJldHJpZXZlOlQscmV0cmlldmUyOkQscmV0cmlldmUzOkEsc2xpY2U6Qyxub3JtYWxpemVDc3NBcnJheTpMLGFzc2VydDprLHRyaW06UCxzZXRBc1ByaW1pdGl2ZTpOLGlzUHJpbWl0aXZlOk8sY3JlYXRlSGFzaE1hcDpSLGNvbmNhdEFycmF5Onosbm9vcDpCfSkseF89InVuZGVmaW5lZCI9PXR5cGVvZiBGbG9hdDMyQXJyYXk/QXJyYXk6RmxvYXQzMkFycmF5LF9fPVgsd189aixiXz1LLFNfPSQsTV89KE9iamVjdC5mcmVlemV8fE9iamVjdCkoe2NyZWF0ZTpWLGNvcHk6RyxjbG9uZTpXLHNldDpGLGFkZDpILHNjYWxlQW5kQWRkOlosc3ViOlUsbGVuOlgsbGVuZ3RoOl9fLGxlblNxdWFyZTpqLGxlbmd0aFNxdWFyZTp3XyxtdWw6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0WzBdPWVbMF0qaVswXSx0WzFdPWVbMV0qaVsxXSx0fSxkaXY6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0WzBdPWVbMF0vaVswXSx0WzFdPWVbMV0vaVsxXSx0fSxkb3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXX0sc2NhbGU6WSxub3JtYWxpemU6cSxkaXN0YW5jZTpLLGRpc3Q6Yl8sZGlzdGFuY2VTcXVhcmU6JCxkaXN0U3F1YXJlOlNfLG5lZ2F0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPS1lWzBdLHRbMV09LWVbMV0sdH0sbGVycDpKLGFwcGx5VHJhbnNmb3JtOlEsbWluOnR0LG1heDpldH0pO2l0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6aXQsX2RyYWdTdGFydDpmdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldDtlJiZlLmRyYWdnYWJsZSYmKHRoaXMuX2RyYWdnaW5nVGFyZ2V0PWUsZS5kcmFnZ2luZz0hMCx0aGlzLl94PXQub2Zmc2V0WCx0aGlzLl95PXQub2Zmc2V0WSx0aGlzLmRpc3BhdGNoVG9FbGVtZW50KG50KGUsdCksImRyYWdzdGFydCIsdC5ldmVudCkpfSxfZHJhZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kcmFnZ2luZ1RhcmdldDtpZihlKXt2YXIgaT10Lm9mZnNldFgsbj10Lm9mZnNldFksbz1pLXRoaXMuX3gsYT1uLXRoaXMuX3k7dGhpcy5feD1pLHRoaXMuX3k9bixlLmRyaWZ0KG8sYSx0KSx0aGlzLmRpc3BhdGNoVG9FbGVtZW50KG50KGUsdCksImRyYWciLHQuZXZlbnQpO3ZhciByPXRoaXMuZmluZEhvdmVyKGksbixlKS50YXJnZXQscz10aGlzLl9kcm9wVGFyZ2V0O3RoaXMuX2Ryb3BUYXJnZXQ9cixlIT09ciYmKHMmJnIhPT1zJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KG50KHMsdCksImRyYWdsZWF2ZSIsdC5ldmVudCksciYmciE9PXMmJnRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQobnQocix0KSwiZHJhZ2VudGVyIix0LmV2ZW50KSl9fSxfZHJhZ0VuZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kcmFnZ2luZ1RhcmdldDtlJiYoZS5kcmFnZ2luZz0hMSksdGhpcy5kaXNwYXRjaFRvRWxlbWVudChudChlLHQpLCJkcmFnZW5kIix0LmV2ZW50KSx0aGlzLl9kcm9wVGFyZ2V0JiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KG50KHRoaXMuX2Ryb3BUYXJnZXQsdCksImRyb3AiLHQuZXZlbnQpLHRoaXMuX2RyYWdnaW5nVGFyZ2V0PW51bGwsdGhpcy5fZHJvcFRhcmdldD1udWxsfX07dmFyIElfPUFycmF5LnByb3RvdHlwZS5zbGljZSxUXz1mdW5jdGlvbigpe3RoaXMuXyRoYW5kbGVycz17fX07VF8ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUXyxvbmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuXyRoYW5kbGVycztpZighZXx8IXQpcmV0dXJuIHRoaXM7blt0XXx8KG5bdF09W10pO2Zvcih2YXIgbz0wO288blt0XS5sZW5ndGg7bysrKWlmKG5bdF1bb10uaD09PWUpcmV0dXJuIHRoaXM7cmV0dXJuIG5bdF0ucHVzaCh7aDplLG9uZTohMCxjdHg6aXx8dGhpc30pLHRoaXN9LG9uOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl8kaGFuZGxlcnM7aWYoIWV8fCF0KXJldHVybiB0aGlzO25bdF18fChuW3RdPVtdKTtmb3IodmFyIG89MDtvPG5bdF0ubGVuZ3RoO28rKylpZihuW3RdW29dLmg9PT1lKXJldHVybiB0aGlzO3JldHVybiBuW3RdLnB1c2goe2g6ZSxvbmU6ITEsY3R4Oml8fHRoaXN9KSx0aGlzfSxpc1NpbGVudDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl8kaGFuZGxlcnM7cmV0dXJuIGVbdF0mJmVbdF0ubGVuZ3RofSxvZmY6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl8kaGFuZGxlcnM7aWYoIXQpcmV0dXJuIHRoaXMuXyRoYW5kbGVycz17fSx0aGlzO2lmKGUpe2lmKGlbdF0pe2Zvcih2YXIgbj1bXSxvPTAsYT1pW3RdLmxlbmd0aDtvPGE7bysrKWlbdF1bb10uaCE9ZSYmbi5wdXNoKGlbdF1bb10pO2lbdF09bn1pW3RdJiYwPT09aVt0XS5sZW5ndGgmJmRlbGV0ZSBpW3RdfWVsc2UgZGVsZXRlIGlbdF07cmV0dXJuIHRoaXN9LHRyaWdnZXI6ZnVuY3Rpb24odCl7aWYodGhpcy5fJGhhbmRsZXJzW3RdKXt2YXIgZT1hcmd1bWVudHMsaT1lLmxlbmd0aDtpPjMmJihlPUlfLmNhbGwoZSwxKSk7Zm9yKHZhciBuPXRoaXMuXyRoYW5kbGVyc1t0XSxvPW4ubGVuZ3RoLGE9MDthPG87KXtzd2l0Y2goaSl7Y2FzZSAxOm5bYV0uaC5jYWxsKG5bYV0uY3R4KTticmVhaztjYXNlIDI6blthXS5oLmNhbGwoblthXS5jdHgsZVsxXSk7YnJlYWs7Y2FzZSAzOm5bYV0uaC5jYWxsKG5bYV0uY3R4LGVbMV0sZVsyXSk7YnJlYWs7ZGVmYXVsdDpuW2FdLmguYXBwbHkoblthXS5jdHgsZSl9blthXS5vbmU/KG4uc3BsaWNlKGEsMSksby0tKTphKyt9fXJldHVybiB0aGlzfSx0cmlnZ2VyV2l0aENvbnRleHQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fJGhhbmRsZXJzW3RdKXt2YXIgZT1hcmd1bWVudHMsaT1lLmxlbmd0aDtpPjQmJihlPUlfLmNhbGwoZSwxLGUubGVuZ3RoLTEpKTtmb3IodmFyIG49ZVtlLmxlbmd0aC0xXSxvPXRoaXMuXyRoYW5kbGVyc1t0XSxhPW8ubGVuZ3RoLHI9MDtyPGE7KXtzd2l0Y2goaSl7Y2FzZSAxOm9bcl0uaC5jYWxsKG4pO2JyZWFrO2Nhc2UgMjpvW3JdLmguY2FsbChuLGVbMV0pO2JyZWFrO2Nhc2UgMzpvW3JdLmguY2FsbChuLGVbMV0sZVsyXSk7YnJlYWs7ZGVmYXVsdDpvW3JdLmguYXBwbHkobixlKX1vW3JdLm9uZT8oby5zcGxpY2UociwxKSxhLS0pOnIrK319cmV0dXJuIHRoaXN9fTt2YXIgRF89InNpbGVudCI7YXQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9O3ZhciBBXz1bImNsaWNrIiwiZGJsY2xpY2siLCJtb3VzZXdoZWVsIiwibW91c2VvdXQiLCJtb3VzZXVwIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwiY29udGV4dG1lbnUiXSxDXz1mdW5jdGlvbih0LGUsaSxuKXtUXy5jYWxsKHRoaXMpLHRoaXMuc3RvcmFnZT10LHRoaXMucGFpbnRlcj1lLHRoaXMucGFpbnRlclJvb3Q9bixpPWl8fG5ldyBhdCx0aGlzLnByb3h5PW51bGwsdGhpcy5faG92ZXJlZD17fSx0aGlzLl9sYXN0VG91Y2hNb21lbnQsdGhpcy5fbGFzdFgsdGhpcy5fbGFzdFksaXQuY2FsbCh0aGlzKSx0aGlzLnNldEhhbmRsZXJQcm94eShpKX07Q18ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpDXyxzZXRIYW5kbGVyUHJveHk6ZnVuY3Rpb24odCl7dGhpcy5wcm94eSYmdGhpcy5wcm94eS5kaXNwb3NlKCksdCYmKGQoQV8sZnVuY3Rpb24oZSl7dC5vbiYmdC5vbihlLHRoaXNbZV0sdGhpcyl9LHRoaXMpLHQuaGFuZGxlcj10aGlzKSx0aGlzLnByb3h5PXR9LG1vdXNlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10LnpyWCxpPXQuenJZLG49dGhpcy5faG92ZXJlZCxvPW4udGFyZ2V0O28mJiFvLl9fenImJihvPShuPXRoaXMuZmluZEhvdmVyKG4ueCxuLnkpKS50YXJnZXQpO3ZhciBhPXRoaXMuX2hvdmVyZWQ9dGhpcy5maW5kSG92ZXIoZSxpKSxyPWEudGFyZ2V0LHM9dGhpcy5wcm94eTtzLnNldEN1cnNvciYmcy5zZXRDdXJzb3Iocj9yLmN1cnNvcjoiZGVmYXVsdCIpLG8mJnIhPT1vJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KG4sIm1vdXNlb3V0Iix0KSx0aGlzLmRpc3BhdGNoVG9FbGVtZW50KGEsIm1vdXNlbW92ZSIsdCksciYmciE9PW8mJnRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQoYSwibW91c2VvdmVyIix0KX0sbW91c2VvdXQ6ZnVuY3Rpb24odCl7dGhpcy5kaXNwYXRjaFRvRWxlbWVudCh0aGlzLl9ob3ZlcmVkLCJtb3VzZW91dCIsdCk7dmFyIGUsaT10LnRvRWxlbWVudHx8dC5yZWxhdGVkVGFyZ2V0O2Rve2k9aSYmaS5wYXJlbnROb2RlfXdoaWxlKGkmJjkhPWkubm9kZVR5cGUmJiEoZT1pPT09dGhpcy5wYWludGVyUm9vdCkpOyFlJiZ0aGlzLnRyaWdnZXIoImdsb2JhbG91dCIse2V2ZW50OnR9KX0scmVzaXplOmZ1bmN0aW9uKHQpe3RoaXMuX2hvdmVyZWQ9e319LGRpc3BhdGNoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpc1t0XTtpJiZpLmNhbGwodGhpcyxlKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMucHJveHkuZGlzcG9zZSgpLHRoaXMuc3RvcmFnZT10aGlzLnByb3h5PXRoaXMucGFpbnRlcj1udWxsfSxzZXRDdXJzb3JTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb3h5O2Uuc2V0Q3Vyc29yJiZlLnNldEN1cnNvcih0KX0sZGlzcGF0Y2hUb0VsZW1lbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPSh0PXR8fHt9KS50YXJnZXQ7aWYoIW58fCFuLnNpbGVudCl7Zm9yKHZhciBvPSJvbiIrZSxhPW90KGUsdCxpKTtuJiYobltvXSYmKGEuY2FuY2VsQnViYmxlPW5bb10uY2FsbChuLGEpKSxuLnRyaWdnZXIoZSxhKSxuPW4ucGFyZW50LCFhLmNhbmNlbEJ1YmJsZSk7KTthLmNhbmNlbEJ1YmJsZXx8KHRoaXMudHJpZ2dlcihlLGEpLHRoaXMucGFpbnRlciYmdGhpcy5wYWludGVyLmVhY2hPdGhlckxheWVyKGZ1bmN0aW9uKHQpeyJmdW5jdGlvbiI9PXR5cGVvZiB0W29dJiZ0W29dLmNhbGwodCxhKSx0LnRyaWdnZXImJnQudHJpZ2dlcihlLGEpfSkpfX0sZmluZEhvdmVyOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCksbz17eDp0LHk6ZX0sYT1uLmxlbmd0aC0xO2E+PTA7YS0tKXt2YXIgcjtpZihuW2FdIT09aSYmIW5bYV0uaWdub3JlJiYocj1ydChuW2FdLHQsZSkpJiYoIW8udG9wVGFyZ2V0JiYoby50b3BUYXJnZXQ9blthXSksciE9PURfKSl7by50YXJnZXQ9blthXTticmVha319cmV0dXJuIG99fSxkKFsiY2xpY2siLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwibW91c2V3aGVlbCIsImRibGNsaWNrIiwiY29udGV4dG1lbnUiXSxmdW5jdGlvbih0KXtDXy5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5maW5kSG92ZXIoZS56clgsZS56clkpLG49aS50YXJnZXQ7aWYoIm1vdXNlZG93biI9PT10KXRoaXMuX2Rvd25FbD1uLHRoaXMuX2Rvd25Qb2ludD1bZS56clgsZS56clldLHRoaXMuX3VwRWw9bjtlbHNlIGlmKCJtb3VzZXVwIj09PXQpdGhpcy5fdXBFbD1uO2Vsc2UgaWYoImNsaWNrIj09PXQpe2lmKHRoaXMuX2Rvd25FbCE9PXRoaXMuX3VwRWx8fCF0aGlzLl9kb3duUG9pbnR8fGJfKHRoaXMuX2Rvd25Qb2ludCxbZS56clgsZS56clldKT40KXJldHVybjt0aGlzLl9kb3duUG9pbnQ9bnVsbH10aGlzLmRpc3BhdGNoVG9FbGVtZW50KGksdCxlKX19KSxoKENfLFRfKSxoKENfLGl0KTt2YXIgTF89InVuZGVmaW5lZCI9PXR5cGVvZiBGbG9hdDMyQXJyYXk/QXJyYXk6RmxvYXQzMkFycmF5LGtfPShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtjcmVhdGU6c3QsaWRlbnRpdHk6bHQsY29weTp1dCxtdWw6aHQsdHJhbnNsYXRlOmN0LHJvdGF0ZTpkdCxzY2FsZTpmdCxpbnZlcnQ6cHQsY2xvbmU6Z3R9KSxQXz1sdCxOXz01ZS01LE9fPWZ1bmN0aW9uKHQpeyh0PXR8fHt9KS5wb3NpdGlvbnx8KHRoaXMucG9zaXRpb249WzAsMF0pLG51bGw9PXQucm90YXRpb24mJih0aGlzLnJvdGF0aW9uPTApLHQuc2NhbGV8fCh0aGlzLnNjYWxlPVsxLDFdKSx0aGlzLm9yaWdpbj10aGlzLm9yaWdpbnx8bnVsbH0sRV89T18ucHJvdG90eXBlO0VfLnRyYW5zZm9ybT1udWxsLEVfLm5lZWRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiBtdCh0aGlzLnJvdGF0aW9uKXx8bXQodGhpcy5wb3NpdGlvblswXSl8fG10KHRoaXMucG9zaXRpb25bMV0pfHxtdCh0aGlzLnNjYWxlWzBdLTEpfHxtdCh0aGlzLnNjYWxlWzFdLTEpfSxFXy51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXQmJnQudHJhbnNmb3JtLGk9dGhpcy5uZWVkTG9jYWxUcmFuc2Zvcm0oKSxuPXRoaXMudHJhbnNmb3JtO2l8fGU/KG49bnx8c3QoKSxpP3RoaXMuZ2V0TG9jYWxUcmFuc2Zvcm0obik6UF8obiksZSYmKGk/aHQobix0LnRyYW5zZm9ybSxuKTp1dChuLHQudHJhbnNmb3JtKSksdGhpcy50cmFuc2Zvcm09bix0aGlzLmludlRyYW5zZm9ybT10aGlzLmludlRyYW5zZm9ybXx8c3QoKSxwdCh0aGlzLmludlRyYW5zZm9ybSxuKSk6biYmUF8obil9LEVfLmdldExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3JldHVybiBPXy5nZXRMb2NhbFRyYW5zZm9ybSh0aGlzLHQpfSxFXy5zZXRUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50cmFuc2Zvcm0saT10LmRwcnx8MTtlP3Quc2V0VHJhbnNmb3JtKGkqZVswXSxpKmVbMV0saSplWzJdLGkqZVszXSxpKmVbNF0saSplWzVdKTp0LnNldFRyYW5zZm9ybShpLDAsMCxpLDAsMCl9LEVfLnJlc3RvcmVUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dC5kcHJ8fDE7dC5zZXRUcmFuc2Zvcm0oZSwwLDAsZSwwLDApfTt2YXIgUl89W107RV8uZGVjb21wb3NlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7aWYodGhpcy50cmFuc2Zvcm0pe3ZhciB0PXRoaXMucGFyZW50LGU9dGhpcy50cmFuc2Zvcm07dCYmdC50cmFuc2Zvcm0mJihodChSXyx0LmludlRyYW5zZm9ybSxlKSxlPVJfKTt2YXIgaT1lWzBdKmVbMF0rZVsxXSplWzFdLG49ZVsyXSplWzJdK2VbM10qZVszXSxvPXRoaXMucG9zaXRpb24sYT10aGlzLnNjYWxlO210KGktMSkmJihpPU1hdGguc3FydChpKSksbXQobi0xKSYmKG49TWF0aC5zcXJ0KG4pKSxlWzBdPDAmJihpPS1pKSxlWzNdPDAmJihuPS1uKSxvWzBdPWVbNF0sb1sxXT1lWzVdLGFbMF09aSxhWzFdPW4sdGhpcy5yb3RhdGlvbj1NYXRoLmF0YW4yKC1lWzFdL24sZVswXS9pKX19LEVfLmdldEdsb2JhbFNjYWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50cmFuc2Zvcm07aWYoIXQpcmV0dXJuWzEsMV07dmFyIGU9TWF0aC5zcXJ0KHRbMF0qdFswXSt0WzFdKnRbMV0pLGk9TWF0aC5zcXJ0KHRbMl0qdFsyXSt0WzNdKnRbM10pO3JldHVybiB0WzBdPDAmJihlPS1lKSx0WzNdPDAmJihpPS1pKSxbZSxpXX0sRV8udHJhbnNmb3JtQ29vcmRUb0xvY2FsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W3QsZV0sbj10aGlzLmludlRyYW5zZm9ybTtyZXR1cm4gbiYmUShpLGksbiksaX0sRV8udHJhbnNmb3JtQ29vcmRUb0dsb2JhbD1mdW5jdGlvbih0LGUpe3ZhciBpPVt0LGVdLG49dGhpcy50cmFuc2Zvcm07cmV0dXJuIG4mJlEoaSxpLG4pLGl9LE9fLmdldExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7UF8oZT1lfHxbXSk7dmFyIGk9dC5vcmlnaW4sbj10LnNjYWxlfHxbMSwxXSxvPXQucm90YXRpb258fDAsYT10LnBvc2l0aW9ufHxbMCwwXTtyZXR1cm4gaSYmKGVbNF0tPWlbMF0sZVs1XS09aVsxXSksZnQoZSxlLG4pLG8mJmR0KGUsZSxvKSxpJiYoZVs0XSs9aVswXSxlWzVdKz1pWzFdKSxlWzRdKz1hWzBdLGVbNV0rPWFbMV0sZX07dmFyIHpfPXtsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHF1YWRyYXRpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnR9LHF1YWRyYXRpY091dDpmdW5jdGlvbih0KXtyZXR1cm4gdCooMi10KX0scXVhZHJhdGljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0Oi0uNSooLS10Kih0LTIpLTEpfSxjdWJpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdH0sY3ViaWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCsxfSxjdWJpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdCp0Oi41KigodC09MikqdCp0KzIpfSxxdWFydGljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnR9LHF1YXJ0aWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEtIC0tdCp0KnQqdH0scXVhcnRpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdCp0KnQ6LS41KigodC09MikqdCp0KnQtMil9LHF1aW50aWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnQqdCp0fSxxdWludGljT3V0OmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KnQqdCp0KzF9LHF1aW50aWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdCp0KnQ6LjUqKCh0LT0yKSp0KnQqdCp0KzIpfSxzaW51c29pZGFsSW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5jb3ModCpNYXRoLlBJLzIpfSxzaW51c29pZGFsT3V0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNpbih0Kk1hdGguUEkvMil9LHNpbnVzb2lkYWxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4uNSooMS1NYXRoLmNvcyhNYXRoLlBJKnQpKX0sZXhwb25lbnRpYWxJbjpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDpNYXRoLnBvdygxMDI0LHQtMSl9LGV4cG9uZW50aWFsT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dD8xOjEtTWF0aC5wb3coMiwtMTAqdCl9LGV4cG9uZW50aWFsSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6MT09PXQ/MToodCo9Mik8MT8uNSpNYXRoLnBvdygxMDI0LHQtMSk6LjUqKDItTWF0aC5wb3coMiwtMTAqKHQtMSkpKX0sY2lyY3VsYXJJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLnNxcnQoMS10KnQpfSxjaXJjdWxhck91dDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KDEtIC0tdCp0KX0sY2lyY3VsYXJJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKX0sZWxhc3RpY0luOmZ1bmN0aW9uKHQpe3ZhciBlLGk9LjE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooIWl8fGk8MT8oaT0xLGU9LjEpOmU9LjQqTWF0aC5hc2luKDEvaSkvKDIqTWF0aC5QSSksLWkqTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpLy40KSl9LGVsYXN0aWNPdXQ6ZnVuY3Rpb24odCl7dmFyIGUsaT0uMTtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOighaXx8aTwxPyhpPTEsZT0uMSk6ZT0uNCpNYXRoLmFzaW4oMS9pKS8oMipNYXRoLlBJKSxpKk1hdGgucG93KDIsLTEwKnQpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpLy40KSsxKX0sZWxhc3RpY0luT3V0OmZ1bmN0aW9uKHQpe3ZhciBlLGk9LjE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooIWl8fGk8MT8oaT0xLGU9LjEpOmU9LjQqTWF0aC5hc2luKDEvaSkvKDIqTWF0aC5QSSksKHQqPTIpPDE/aSpNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKi0uNTppKk1hdGgucG93KDIsLTEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKi41KzEpfSxiYWNrSW46ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4gdCp0KigoZSsxKSp0LWUpfSxiYWNrT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuLS10KnQqKChlKzEpKnQrZSkrMX0sYmFja0luT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTIuNTk0OTA5NTtyZXR1cm4odCo9Mik8MT90KnQqKChlKzEpKnQtZSkqLjU6LjUqKCh0LT0yKSp0KigoZSsxKSp0K2UpKzIpfSxib3VuY2VJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS16Xy5ib3VuY2VPdXQoMS10KX0sYm91bmNlT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PDEvMi43NT83LjU2MjUqdCp0OnQ8Mi8yLjc1PzcuNTYyNSoodC09MS41LzIuNzUpKnQrLjc1OnQ8Mi41LzIuNzU/Ny41NjI1Kih0LT0yLjI1LzIuNzUpKnQrLjkzNzU6Ny41NjI1Kih0LT0yLjYyNS8yLjc1KSp0Ky45ODQzNzV9LGJvdW5jZUluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PC41Py41KnpfLmJvdW5jZUluKDIqdCk6LjUqel8uYm91bmNlT3V0KDIqdC0xKSsuNX19O3Z0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dnQsc3RlcDpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2luaXRpYWxpemVkfHwodGhpcy5fc3RhcnRUaW1lPXQrdGhpcy5fZGVsYXksdGhpcy5faW5pdGlhbGl6ZWQ9ITApLHRoaXMuX3BhdXNlZCl0aGlzLl9wYXVzZWRUaW1lKz1lO2Vsc2V7dmFyIGk9KHQtdGhpcy5fc3RhcnRUaW1lLXRoaXMuX3BhdXNlZFRpbWUpL3RoaXMuX2xpZmU7aWYoIShpPDApKXtpPU1hdGgubWluKGksMSk7dmFyIG49dGhpcy5lYXNpbmcsbz0ic3RyaW5nIj09dHlwZW9mIG4/el9bbl06bixhPSJmdW5jdGlvbiI9PXR5cGVvZiBvP28oaSk6aTtyZXR1cm4gdGhpcy5maXJlKCJmcmFtZSIsYSksMT09aT90aGlzLmxvb3A/KHRoaXMucmVzdGFydCh0KSwicmVzdGFydCIpOih0aGlzLl9uZWVkc1JlbW92ZT0hMCwiZGVzdHJveSIpOm51bGx9fX0scmVzdGFydDpmdW5jdGlvbih0KXt2YXIgZT0odC10aGlzLl9zdGFydFRpbWUtdGhpcy5fcGF1c2VkVGltZSkldGhpcy5fbGlmZTt0aGlzLl9zdGFydFRpbWU9dC1lK3RoaXMuZ2FwLHRoaXMuX3BhdXNlZFRpbWU9MCx0aGlzLl9uZWVkc1JlbW92ZT0hMX0sZmlyZTpmdW5jdGlvbih0LGUpe3RoaXNbdD0ib24iK3RdJiZ0aGlzW3RdKHRoaXMuX3RhcmdldCxlKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQ9ITB9LHJlc3VtZTpmdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMX19O3ZhciBCXz1mdW5jdGlvbigpe3RoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsLHRoaXMuX2xlbj0wfSxWXz1CXy5wcm90b3R5cGU7Vl8uaW5zZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBHXyh0KTtyZXR1cm4gdGhpcy5pbnNlcnRFbnRyeShlKSxlfSxWXy5pbnNlcnRFbnRyeT1mdW5jdGlvbih0KXt0aGlzLmhlYWQ/KHRoaXMudGFpbC5uZXh0PXQsdC5wcmV2PXRoaXMudGFpbCx0Lm5leHQ9bnVsbCx0aGlzLnRhaWw9dCk6dGhpcy5oZWFkPXRoaXMudGFpbD10LHRoaXMuX2xlbisrfSxWXy5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5wcmV2LGk9dC5uZXh0O2U/ZS5uZXh0PWk6dGhpcy5oZWFkPWksaT9pLnByZXY9ZTp0aGlzLnRhaWw9ZSx0Lm5leHQ9dC5wcmV2PW51bGwsdGhpcy5fbGVuLS19LFZfLmxlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW59LFZfLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsLHRoaXMuX2xlbj0wfTt2YXIgR189ZnVuY3Rpb24odCl7dGhpcy52YWx1ZT10LHRoaXMubmV4dCx0aGlzLnByZXZ9LFdfPWZ1bmN0aW9uKHQpe3RoaXMuX2xpc3Q9bmV3IEJfLHRoaXMuX21hcD17fSx0aGlzLl9tYXhTaXplPXR8fDEwLHRoaXMuX2xhc3RSZW1vdmVkRW50cnk9bnVsbH0sRl89V18ucHJvdG90eXBlO0ZfLnB1dD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2xpc3Qsbj10aGlzLl9tYXAsbz1udWxsO2lmKG51bGw9PW5bdF0pe3ZhciBhPWkubGVuKCkscj10aGlzLl9sYXN0UmVtb3ZlZEVudHJ5O2lmKGE+PXRoaXMuX21heFNpemUmJmE+MCl7dmFyIHM9aS5oZWFkO2kucmVtb3ZlKHMpLGRlbGV0ZSBuW3Mua2V5XSxvPXMudmFsdWUsdGhpcy5fbGFzdFJlbW92ZWRFbnRyeT1zfXI/ci52YWx1ZT1lOnI9bmV3IEdfKGUpLHIua2V5PXQsaS5pbnNlcnRFbnRyeShyKSxuW3RdPXJ9cmV0dXJuIG99LEZfLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXBbdF0saT10aGlzLl9saXN0O2lmKG51bGwhPWUpcmV0dXJuIGUhPT1pLnRhaWwmJihpLnJlbW92ZShlKSxpLmluc2VydEVudHJ5KGUpKSxlLnZhbHVlfSxGXy5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2xpc3QuY2xlYXIoKSx0aGlzLl9tYXA9e319O3ZhciBIXz17dHJhbnNwYXJlbnQ6WzAsMCwwLDBdLGFsaWNlYmx1ZTpbMjQwLDI0OCwyNTUsMV0sYW50aXF1ZXdoaXRlOlsyNTAsMjM1LDIxNSwxXSxhcXVhOlswLDI1NSwyNTUsMV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTIsMV0sYXp1cmU6WzI0MCwyNTUsMjU1LDFdLGJlaWdlOlsyNDUsMjQ1LDIyMCwxXSxiaXNxdWU6WzI1NSwyMjgsMTk2LDFdLGJsYWNrOlswLDAsMCwxXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDUsMV0sYmx1ZTpbMCwwLDI1NSwxXSxibHVldmlvbGV0OlsxMzgsNDMsMjI2LDFdLGJyb3duOlsxNjUsNDIsNDIsMV0sYnVybHl3b29kOlsyMjIsMTg0LDEzNSwxXSxjYWRldGJsdWU6Wzk1LDE1OCwxNjAsMV0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwLDFdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMCwxXSxjb3JhbDpbMjU1LDEyNyw4MCwxXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzcsMV0sY29ybnNpbGs6WzI1NSwyNDgsMjIwLDFdLGNyaW1zb246WzIyMCwyMCw2MCwxXSxjeWFuOlswLDI1NSwyNTUsMV0sZGFya2JsdWU6WzAsMCwxMzksMV0sZGFya2N5YW46WzAsMTM5LDEzOSwxXSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExLDFdLGRhcmtncmF5OlsxNjksMTY5LDE2OSwxXSxkYXJrZ3JlZW46WzAsMTAwLDAsMV0sZGFya2dyZXk6WzE2OSwxNjksMTY5LDFdLGRhcmtraGFraTpbMTg5LDE4MywxMDcsMV0sZGFya21hZ2VudGE6WzEzOSwwLDEzOSwxXSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3LDFdLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMCwxXSxkYXJrb3JjaGlkOlsxNTMsNTAsMjA0LDFdLGRhcmtyZWQ6WzEzOSwwLDAsMV0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjIsMV0sZGFya3NlYWdyZWVuOlsxNDMsMTg4LDE0MywxXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzksMV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzksMV0sZGFya3NsYXRlZ3JleTpbNDcsNzksNzksMV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5LDFdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMSwxXSxkZWVwcGluazpbMjU1LDIwLDE0NywxXSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1LDFdLGRpbWdyYXk6WzEwNSwxMDUsMTA1LDFdLGRpbWdyZXk6WzEwNSwxMDUsMTA1LDFdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTUsMV0sZmlyZWJyaWNrOlsxNzgsMzQsMzQsMV0sZmxvcmFsd2hpdGU6WzI1NSwyNTAsMjQwLDFdLGZvcmVzdGdyZWVuOlszNCwxMzksMzQsMV0sZnVjaHNpYTpbMjU1LDAsMjU1LDFdLGdhaW5zYm9ybzpbMjIwLDIyMCwyMjAsMV0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTUsMV0sZ29sZDpbMjU1LDIxNSwwLDFdLGdvbGRlbnJvZDpbMjE4LDE2NSwzMiwxXSxncmF5OlsxMjgsMTI4LDEyOCwxXSxncmVlbjpbMCwxMjgsMCwxXSxncmVlbnllbGxvdzpbMTczLDI1NSw0NywxXSxncmV5OlsxMjgsMTI4LDEyOCwxXSxob25leWRldzpbMjQwLDI1NSwyNDAsMV0saG90cGluazpbMjU1LDEwNSwxODAsMV0saW5kaWFucmVkOlsyMDUsOTIsOTIsMV0saW5kaWdvOls3NSwwLDEzMCwxXSxpdm9yeTpbMjU1LDI1NSwyNDAsMV0sa2hha2k6WzI0MCwyMzAsMTQwLDFdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MCwxXSxsYXZlbmRlcmJsdXNoOlsyNTUsMjQwLDI0NSwxXSxsYXduZ3JlZW46WzEyNCwyNTIsMCwxXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1LDFdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzAsMV0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjgsMV0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NSwxXSxsaWdodGdvbGRlbnJvZHllbGxvdzpbMjUwLDI1MCwyMTAsMV0sbGlnaHRncmF5OlsyMTEsMjExLDIxMSwxXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NCwxXSxsaWdodGdyZXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTMsMV0sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyLDFdLGxpZ2h0c2VhZ3JlZW46WzMyLDE3OCwxNzAsMV0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MCwxXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzbGF0ZWdyZXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMiwxXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjQsMV0sbGltZTpbMCwyNTUsMCwxXSxsaW1lZ3JlZW46WzUwLDIwNSw1MCwxXSxsaW5lbjpbMjUwLDI0MCwyMzAsMV0sbWFnZW50YTpbMjU1LDAsMjU1LDFdLG1hcm9vbjpbMTI4LDAsMCwxXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MCwxXSxtZWRpdW1ibHVlOlswLDAsMjA1LDFdLG1lZGl1bW9yY2hpZDpbMTg2LDg1LDIxMSwxXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5LDFdLG1lZGl1bXNlYWdyZWVuOls2MCwxNzksMTEzLDFdLG1lZGl1bXNsYXRlYmx1ZTpbMTIzLDEwNCwyMzgsMV0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NCwxXSxtZWRpdW10dXJxdW9pc2U6WzcyLDIwOSwyMDQsMV0sbWVkaXVtdmlvbGV0cmVkOlsxOTksMjEsMTMzLDFdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyLDFdLG1pbnRjcmVhbTpbMjQ1LDI1NSwyNTAsMV0sbWlzdHlyb3NlOlsyNTUsMjI4LDIyNSwxXSxtb2NjYXNpbjpbMjU1LDIyOCwxODEsMV0sbmF2YWpvd2hpdGU6WzI1NSwyMjIsMTczLDFdLG5hdnk6WzAsMCwxMjgsMV0sb2xkbGFjZTpbMjUzLDI0NSwyMzAsMV0sb2xpdmU6WzEyOCwxMjgsMCwxXSxvbGl2ZWRyYWI6WzEwNywxNDIsMzUsMV0sb3JhbmdlOlsyNTUsMTY1LDAsMV0sb3JhbmdlcmVkOlsyNTUsNjksMCwxXSxvcmNoaWQ6WzIxOCwxMTIsMjE0LDFdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwLDFdLHBhbGVncmVlbjpbMTUyLDI1MSwxNTIsMV0scGFsZXR1cnF1b2lzZTpbMTc1LDIzOCwyMzgsMV0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDcsMV0scGFwYXlhd2hpcDpbMjU1LDIzOSwyMTMsMV0scGVhY2hwdWZmOlsyNTUsMjE4LDE4NSwxXSxwZXJ1OlsyMDUsMTMzLDYzLDFdLHBpbms6WzI1NSwxOTIsMjAzLDFdLHBsdW06WzIyMSwxNjAsMjIxLDFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwLDFdLHB1cnBsZTpbMTI4LDAsMTI4LDFdLHJlZDpbMjU1LDAsMCwxXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzLDFdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNSwxXSxzYWRkbGVicm93bjpbMTM5LDY5LDE5LDFdLHNhbG1vbjpbMjUwLDEyOCwxMTQsMV0sc2FuZHlicm93bjpbMjQ0LDE2NCw5NiwxXSxzZWFncmVlbjpbNDYsMTM5LDg3LDFdLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOCwxXSxzaWVubmE6WzE2MCw4Miw0NSwxXSxzaWx2ZXI6WzE5MiwxOTIsMTkyLDFdLHNreWJsdWU6WzEzNSwyMDYsMjM1LDFdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNSwxXSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0LDFdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDQsMV0sc25vdzpbMjU1LDI1MCwyNTAsMV0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyNywxXSxzdGVlbGJsdWU6WzcwLDEzMCwxODAsMV0sdGFuOlsyMTAsMTgwLDE0MCwxXSx0ZWFsOlswLDEyOCwxMjgsMV0sdGhpc3RsZTpbMjE2LDE5MSwyMTYsMV0sdG9tYXRvOlsyNTUsOTksNzEsMV0sdHVycXVvaXNlOls2NCwyMjQsMjA4LDFdLHZpb2xldDpbMjM4LDEzMCwyMzgsMV0sd2hlYXQ6WzI0NSwyMjIsMTc5LDFdLHdoaXRlOlsyNTUsMjU1LDI1NSwxXSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NSwxXSx5ZWxsb3c6WzI1NSwyNTUsMCwxXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MCwxXX0sWl89bmV3IFdfKDIwKSxVXz1udWxsLFhfPU50LGpfPU90LFlfPShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtwYXJzZTpBdCxsaWZ0Omt0LHRvSGV4OlB0LGZhc3RMZXJwOk50LGZhc3RNYXBUb0NvbG9yOlhfLGxlcnA6T3QsbWFwVG9Db2xvcjpqXyxtb2RpZnlIU0w6RXQsbW9kaWZ5QWxwaGE6UnQsc3RyaW5naWZ5Onp0fSkscV89QXJyYXkucHJvdG90eXBlLnNsaWNlLEtfPWZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuX3RyYWNrcz17fSx0aGlzLl90YXJnZXQ9dCx0aGlzLl9sb29wPWV8fCExLHRoaXMuX2dldHRlcj1pfHxCdCx0aGlzLl9zZXR0ZXI9bnx8VnQsdGhpcy5fY2xpcENvdW50PTAsdGhpcy5fZGVsYXk9MCx0aGlzLl9kb25lTGlzdD1bXSx0aGlzLl9vbmZyYW1lTGlzdD1bXSx0aGlzLl9jbGlwTGlzdD1bXX07S18ucHJvdG90eXBlPXt3aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fdHJhY2tzO2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikpe2lmKCFpW25dKXtpW25dPVtdO3ZhciBvPXRoaXMuX2dldHRlcih0aGlzLl90YXJnZXQsbik7aWYobnVsbD09byljb250aW51ZTswIT09dCYmaVtuXS5wdXNoKHt0aW1lOjAsdmFsdWU6anQobyl9KX1pW25dLnB1c2goe3RpbWU6dCx2YWx1ZTplW25dfSl9cmV0dXJuIHRoaXN9LGR1cmluZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb25mcmFtZUxpc3QucHVzaCh0KSx0aGlzfSxwYXVzZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fY2xpcExpc3QubGVuZ3RoO3QrKyl0aGlzLl9jbGlwTGlzdFt0XS5wYXVzZSgpO3RoaXMuX3BhdXNlZD0hMH0scmVzdW1lOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9jbGlwTGlzdC5sZW5ndGg7dCsrKXRoaXMuX2NsaXBMaXN0W3RdLnJlc3VtZSgpO3RoaXMuX3BhdXNlZD0hMX0saXNQYXVzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3BhdXNlZH0sX2RvbmVDYWxsYmFjazpmdW5jdGlvbigpe3RoaXMuX3RyYWNrcz17fSx0aGlzLl9jbGlwTGlzdC5sZW5ndGg9MDtmb3IodmFyIHQ9dGhpcy5fZG9uZUxpc3QsZT10Lmxlbmd0aCxpPTA7aTxlO2krKyl0W2ldLmNhbGwodGhpcyl9LHN0YXJ0OmZ1bmN0aW9uKHQsZSl7dmFyIGksbj10aGlzLG89MDtmb3IodmFyIGEgaW4gdGhpcy5fdHJhY2tzKWlmKHRoaXMuX3RyYWNrcy5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIHI9S3QodGhpcyx0LGZ1bmN0aW9uKCl7LS1vfHxuLl9kb25lQ2FsbGJhY2soKX0sdGhpcy5fdHJhY2tzW2FdLGEsZSk7ciYmKHRoaXMuX2NsaXBMaXN0LnB1c2gociksbysrLHRoaXMuYW5pbWF0aW9uJiZ0aGlzLmFuaW1hdGlvbi5hZGRDbGlwKHIpLGk9cil9aWYoaSl7dmFyIHM9aS5vbmZyYW1lO2kub25mcmFtZT1mdW5jdGlvbih0LGUpe3ModCxlKTtmb3IodmFyIGk9MDtpPG4uX29uZnJhbWVMaXN0Lmxlbmd0aDtpKyspbi5fb25mcmFtZUxpc3RbaV0odCxlKX19cmV0dXJuIG98fHRoaXMuX2RvbmVDYWxsYmFjaygpLHRoaXN9LHN0b3A6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NsaXBMaXN0LGk9dGhpcy5hbmltYXRpb24sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO3QmJm8ub25mcmFtZSh0aGlzLl90YXJnZXQsMSksaSYmaS5yZW1vdmVDbGlwKG8pfWUubGVuZ3RoPTB9LGRlbGF5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWxheT10LHRoaXN9LGRvbmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2RvbmVMaXN0LnB1c2godCksdGhpc30sZ2V0Q2xpcHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xpcExpc3R9fTt2YXIgJF89MTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKCRfPU1hdGgubWF4KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLDEpKTt2YXIgSl89JF8sUV89ZnVuY3Rpb24oKXt9LHR3PVFfLGV3PWZ1bmN0aW9uKCl7dGhpcy5hbmltYXRvcnM9W119O2V3LnByb3RvdHlwZT17Y29uc3RydWN0b3I6ZXcsYW5pbWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBpLG49ITEsbz10aGlzLGE9dGhpcy5fX3pyO2lmKHQpe3ZhciByPXQuc3BsaXQoIi4iKSxzPW87bj0ic2hhcGUiPT09clswXTtmb3IodmFyIHU9MCxoPXIubGVuZ3RoO3U8aDt1KyspcyYmKHM9c1tyW3VdXSk7cyYmKGk9cyl9ZWxzZSBpPW87aWYoaSl7dmFyIGM9by5hbmltYXRvcnMsZD1uZXcgS18oaSxlKTtyZXR1cm4gZC5kdXJpbmcoZnVuY3Rpb24odCl7by5kaXJ0eShuKX0pLmRvbmUoZnVuY3Rpb24oKXtjLnNwbGljZShsKGMsZCksMSl9KSxjLnB1c2goZCksYSYmYS5hbmltYXRpb24uYWRkQW5pbWF0b3IoZCksZH10dygnUHJvcGVydHkgIicrdCsnIiBpcyBub3QgZXhpc3RlZCBpbiBlbGVtZW50ICcrby5pZCl9LHN0b3BBbmltYXRpb246ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYW5pbWF0b3JzLGk9ZS5sZW5ndGgsbj0wO248aTtuKyspZVtuXS5zdG9wKHQpO3JldHVybiBlLmxlbmd0aD0wLHRoaXN9LGFuaW1hdGVUbzpmdW5jdGlvbih0LGUsaSxuLG8sYSl7XyhpKT8obz1uLG49aSxpPTApOngobik/KG89bixuPSJsaW5lYXIiLGk9MCk6eChpKT8obz1pLGk9MCk6eChlKT8obz1lLGU9NTAwKTplfHwoZT01MDApLHRoaXMuc3RvcEFuaW1hdGlvbigpLHRoaXMuX2FuaW1hdGVUb1NoYWxsb3coIiIsdGhpcyx0LGUsaSk7dmFyIHI9dGhpcy5hbmltYXRvcnMuc2xpY2UoKSxzPXIubGVuZ3RoO3N8fG8mJm8oKTtmb3IodmFyIGw9MDtsPHIubGVuZ3RoO2wrKylyW2xdLmRvbmUoZnVuY3Rpb24oKXstLXN8fG8mJm8oKX0pLnN0YXJ0KG4sYSl9LF9hbmltYXRlVG9TaGFsbG93OmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9e30scj0wO2Zvcih2YXIgcyBpbiBpKWlmKGkuaGFzT3duUHJvcGVydHkocykpaWYobnVsbCE9ZVtzXSl3KGlbc10pJiYhYyhpW3NdKT90aGlzLl9hbmltYXRlVG9TaGFsbG93KHQ/dCsiLiIrczpzLGVbc10saVtzXSxuLG8pOihhW3NdPWlbc10scisrKTtlbHNlIGlmKG51bGwhPWlbc10paWYodCl7dmFyIGw9e307bFt0XT17fSxsW3RdW3NdPWlbc10sdGhpcy5hdHRyKGwpfWVsc2UgdGhpcy5hdHRyKHMsaVtzXSk7cmV0dXJuIHI+MCYmdGhpcy5hbmltYXRlKHQsITEpLndoZW4obnVsbD09bj81MDA6bixhKS5kZWxheShvfHwwKSx0aGlzfX07dmFyIGl3PWZ1bmN0aW9uKHQpe09fLmNhbGwodGhpcyx0KSxUXy5jYWxsKHRoaXMsdCksZXcuY2FsbCh0aGlzLHQpLHRoaXMuaWQ9dC5pZHx8aV8oKX07aXcucHJvdG90eXBlPXt0eXBlOiJlbGVtZW50IixuYW1lOiIiLF9fenI6bnVsbCxpZ25vcmU6ITEsY2xpcFBhdGg6bnVsbCxpc0dyb3VwOiExLGRyaWZ0OmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHRoaXMuZHJhZ2dhYmxlKXtjYXNlImhvcml6b250YWwiOmU9MDticmVhaztjYXNlInZlcnRpY2FsIjp0PTB9dmFyIGk9dGhpcy50cmFuc2Zvcm07aXx8KGk9dGhpcy50cmFuc2Zvcm09WzEsMCwwLDEsMCwwXSksaVs0XSs9dCxpWzVdKz1lLHRoaXMuZGVjb21wb3NlVHJhbnNmb3JtKCksdGhpcy5kaXJ0eSghMSl9LGJlZm9yZVVwZGF0ZTpmdW5jdGlvbigpe30sYWZ0ZXJVcGRhdGU6ZnVuY3Rpb24oKXt9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlVHJhbnNmb3JtKCl9LHRyYXZlcnNlOmZ1bmN0aW9uKHQsZSl7fSxhdHRyS1Y6ZnVuY3Rpb24odCxlKXtpZigicG9zaXRpb24iPT09dHx8InNjYWxlIj09PXR8fCJvcmlnaW4iPT09dCl7aWYoZSl7dmFyIGk9dGhpc1t0XTtpfHwoaT10aGlzW3RdPVtdKSxpWzBdPWVbMF0saVsxXT1lWzFdfX1lbHNlIHRoaXNbdF09ZX0saGlkZTpmdW5jdGlvbigpe3RoaXMuaWdub3JlPSEwLHRoaXMuX196ciYmdGhpcy5fX3pyLnJlZnJlc2goKX0sc2hvdzpmdW5jdGlvbigpe3RoaXMuaWdub3JlPSExLHRoaXMuX196ciYmdGhpcy5fX3pyLnJlZnJlc2goKX0sYXR0cjpmdW5jdGlvbih0LGUpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl0aGlzLmF0dHJLVih0LGUpO2Vsc2UgaWYodyh0KSlmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZ0aGlzLmF0dHJLVihpLHRbaV0pO3JldHVybiB0aGlzLmRpcnR5KCExKSx0aGlzfSxzZXRDbGlwUGF0aDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fenI7ZSYmdC5hZGRTZWxmVG9acihlKSx0aGlzLmNsaXBQYXRoJiZ0aGlzLmNsaXBQYXRoIT09dCYmdGhpcy5yZW1vdmVDbGlwUGF0aCgpLHRoaXMuY2xpcFBhdGg9dCx0Ll9fenI9ZSx0Ll9fY2xpcFRhcmdldD10aGlzLHRoaXMuZGlydHkoITEpfSxyZW1vdmVDbGlwUGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY2xpcFBhdGg7dCYmKHQuX196ciYmdC5yZW1vdmVTZWxmRnJvbVpyKHQuX196ciksdC5fX3pyPW51bGwsdC5fX2NsaXBUYXJnZXQ9bnVsbCx0aGlzLmNsaXBQYXRoPW51bGwsdGhpcy5kaXJ0eSghMSkpfSxhZGRTZWxmVG9acjpmdW5jdGlvbih0KXt0aGlzLl9fenI9dDt2YXIgZT10aGlzLmFuaW1hdG9ycztpZihlKWZvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQuYW5pbWF0aW9uLmFkZEFuaW1hdG9yKGVbaV0pO3RoaXMuY2xpcFBhdGgmJnRoaXMuY2xpcFBhdGguYWRkU2VsZlRvWnIodCl9LHJlbW92ZVNlbGZGcm9tWnI6ZnVuY3Rpb24odCl7dGhpcy5fX3pyPW51bGw7dmFyIGU9dGhpcy5hbmltYXRvcnM7aWYoZSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LmFuaW1hdGlvbi5yZW1vdmVBbmltYXRvcihlW2ldKTt0aGlzLmNsaXBQYXRoJiZ0aGlzLmNsaXBQYXRoLnJlbW92ZVNlbGZGcm9tWnIodCl9fSxoKGl3LGV3KSxoKGl3LE9fKSxoKGl3LFRfKTt2YXIgbnc9USxvdz1NYXRoLm1pbixhdz1NYXRoLm1heDskdC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOiR0LHVuaW9uOmZ1bmN0aW9uKHQpe3ZhciBlPW93KHQueCx0aGlzLngpLGk9b3codC55LHRoaXMueSk7dGhpcy53aWR0aD1hdyh0LngrdC53aWR0aCx0aGlzLngrdGhpcy53aWR0aCktZSx0aGlzLmhlaWdodD1hdyh0LnkrdC5oZWlnaHQsdGhpcy55K3RoaXMuaGVpZ2h0KS1pLHRoaXMueD1lLHRoaXMueT1pfSxhcHBseVRyYW5zZm9ybTpmdW5jdGlvbigpe3ZhciB0PVtdLGU9W10saT1bXSxuPVtdO3JldHVybiBmdW5jdGlvbihvKXtpZihvKXt0WzBdPWlbMF09dGhpcy54LHRbMV09blsxXT10aGlzLnksZVswXT1uWzBdPXRoaXMueCt0aGlzLndpZHRoLGVbMV09aVsxXT10aGlzLnkrdGhpcy5oZWlnaHQsbncodCx0LG8pLG53KGUsZSxvKSxudyhpLGksbyksbncobixuLG8pLHRoaXMueD1vdyh0WzBdLGVbMF0saVswXSxuWzBdKSx0aGlzLnk9b3codFsxXSxlWzFdLGlbMV0sblsxXSk7dmFyIGE9YXcodFswXSxlWzBdLGlbMF0sblswXSkscj1hdyh0WzFdLGVbMV0saVsxXSxuWzFdKTt0aGlzLndpZHRoPWEtdGhpcy54LHRoaXMuaGVpZ2h0PXItdGhpcy55fX19KCksY2FsY3VsYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT10LndpZHRoL2Uud2lkdGgsbj10LmhlaWdodC9lLmhlaWdodCxvPXN0KCk7cmV0dXJuIGN0KG8sbyxbLWUueCwtZS55XSksZnQobyxvLFtpLG5dKSxjdChvLG8sW3QueCx0LnldKSxvfSxpbnRlcnNlY3Q6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7dCBpbnN0YW5jZW9mICR0fHwodD0kdC5jcmVhdGUodCkpO3ZhciBlPXRoaXMsaT1lLngsbj1lLngrZS53aWR0aCxvPWUueSxhPWUueStlLmhlaWdodCxyPXQueCxzPXQueCt0LndpZHRoLGw9dC55LHU9dC55K3QuaGVpZ2h0O3JldHVybiEobjxyfHxzPGl8fGE8bHx8dTxvKX0sY29udGFpbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7cmV0dXJuIHQ+PWkueCYmdDw9aS54K2kud2lkdGgmJmU+PWkueSYmZTw9aS55K2kuaGVpZ2h0fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgJHQodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sY29weTpmdW5jdGlvbih0KXt0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy53aWR0aD10LndpZHRoLHRoaXMuaGVpZ2h0PXQuaGVpZ2h0fSxwbGFpbjpmdW5jdGlvbigpe3JldHVybnt4OnRoaXMueCx5OnRoaXMueSx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH19fSwkdC5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyAkdCh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpfTt2YXIgcnc9ZnVuY3Rpb24odCl7dD10fHx7fSxpdy5jYWxsKHRoaXMsdCk7Zm9yKHZhciBlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXNbZV09dFtlXSk7dGhpcy5fY2hpbGRyZW49W10sdGhpcy5fX3N0b3JhZ2U9bnVsbCx0aGlzLl9fZGlydHk9ITB9O3J3LnByb3RvdHlwZT17Y29uc3RydWN0b3I6cncsaXNHcm91cDohMCx0eXBlOiJncm91cCIsc2lsZW50OiExLGNoaWxkcmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLnNsaWNlKCl9LGNoaWxkQXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW3RdfSxjaGlsZE9mTmFtZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY2hpbGRyZW4saT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0ubmFtZT09PXQpcmV0dXJuIGVbaV19LGNoaWxkQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RofSxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQhPT10aGlzJiZ0LnBhcmVudCE9PXRoaXMmJih0aGlzLl9jaGlsZHJlbi5wdXNoKHQpLHRoaXMuX2RvQWRkKHQpKSx0aGlzfSxhZGRCZWZvcmU6ZnVuY3Rpb24odCxlKXtpZih0JiZ0IT09dGhpcyYmdC5wYXJlbnQhPT10aGlzJiZlJiZlLnBhcmVudD09PXRoaXMpe3ZhciBpPXRoaXMuX2NoaWxkcmVuLG49aS5pbmRleE9mKGUpO24+PTAmJihpLnNwbGljZShuLDAsdCksdGhpcy5fZG9BZGQodCkpfXJldHVybiB0aGlzfSxfZG9BZGQ6ZnVuY3Rpb24odCl7dC5wYXJlbnQmJnQucGFyZW50LnJlbW92ZSh0KSx0LnBhcmVudD10aGlzO3ZhciBlPXRoaXMuX19zdG9yYWdlLGk9dGhpcy5fX3pyO2UmJmUhPT10Ll9fc3RvcmFnZSYmKGUuYWRkVG9TdG9yYWdlKHQpLHQgaW5zdGFuY2VvZiBydyYmdC5hZGRDaGlsZHJlblRvU3RvcmFnZShlKSksaSYmaS5yZWZyZXNoKCl9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fenIsaT10aGlzLl9fc3RvcmFnZSxuPXRoaXMuX2NoaWxkcmVuLG89bChuLHQpO3JldHVybiBvPDA/dGhpczoobi5zcGxpY2UobywxKSx0LnBhcmVudD1udWxsLGkmJihpLmRlbEZyb21TdG9yYWdlKHQpLHQgaW5zdGFuY2VvZiBydyYmdC5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKGkpKSxlJiZlLnJlZnJlc2goKSx0aGlzKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMuX2NoaWxkcmVuLG49dGhpcy5fX3N0b3JhZ2U7Zm9yKGU9MDtlPGkubGVuZ3RoO2UrKyl0PWlbZV0sbiYmKG4uZGVsRnJvbVN0b3JhZ2UodCksdCBpbnN0YW5jZW9mIHJ3JiZ0LmRlbENoaWxkcmVuRnJvbVN0b3JhZ2UobikpLHQucGFyZW50PW51bGw7cmV0dXJuIGkubGVuZ3RoPTAsdGhpc30sZWFjaENoaWxkOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX2NoaWxkcmVuLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXTt0LmNhbGwoZSxvLG4pfXJldHVybiB0aGlzfSx0cmF2ZXJzZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wO2k8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2krKyl7dmFyIG49dGhpcy5fY2hpbGRyZW5baV07dC5jYWxsKGUsbiksImdyb3VwIj09PW4udHlwZSYmbi50cmF2ZXJzZSh0LGUpfXJldHVybiB0aGlzfSxhZGRDaGlsZHJlblRvU3RvcmFnZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMuX2NoaWxkcmVuW2VdO3QuYWRkVG9TdG9yYWdlKGkpLGkgaW5zdGFuY2VvZiBydyYmaS5hZGRDaGlsZHJlblRvU3RvcmFnZSh0KX19LGRlbENoaWxkcmVuRnJvbVN0b3JhZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLl9jaGlsZHJlbltlXTt0LmRlbEZyb21TdG9yYWdlKGkpLGkgaW5zdGFuY2VvZiBydyYmaS5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKHQpfX0sZGlydHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2RpcnR5PSEwLHRoaXMuX196ciYmdGhpcy5fX3pyLnJlZnJlc2goKSx0aGlzfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwsaT1uZXcgJHQoMCwwLDAsMCksbj10fHx0aGlzLl9jaGlsZHJlbixvPVtdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHI9blthXTtpZighci5pZ25vcmUmJiFyLmludmlzaWJsZSl7dmFyIHM9ci5nZXRCb3VuZGluZ1JlY3QoKSxsPXIuZ2V0TG9jYWxUcmFuc2Zvcm0obyk7bD8oaS5jb3B5KHMpLGkuYXBwbHlUcmFuc2Zvcm0obCksKGU9ZXx8aS5jbG9uZSgpKS51bmlvbihpKSk6KGU9ZXx8cy5jbG9uZSgpKS51bmlvbihzKX19cmV0dXJuIGV8fGl9fSx1KHJ3LGl3KTt2YXIgc3c9MzIsbHc9Nyx1dz1mdW5jdGlvbigpe3RoaXMuX3Jvb3RzPVtdLHRoaXMuX2Rpc3BsYXlMaXN0PVtdLHRoaXMuX2Rpc3BsYXlMaXN0TGVuPTB9O3V3LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dXcsdHJhdmVyc2U6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHRoaXMuX3Jvb3RzLmxlbmd0aDtpKyspdGhpcy5fcm9vdHNbaV0udHJhdmVyc2UodCxlKX0sZ2V0RGlzcGxheUxpc3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwhMSx0JiZ0aGlzLnVwZGF0ZURpc3BsYXlMaXN0KGUpLHRoaXMuX2Rpc3BsYXlMaXN0fSx1cGRhdGVEaXNwbGF5TGlzdDpmdW5jdGlvbih0KXt0aGlzLl9kaXNwbGF5TGlzdExlbj0wO2Zvcih2YXIgZT10aGlzLl9yb290cyxpPXRoaXMuX2Rpc3BsYXlMaXN0LG49MCxvPWUubGVuZ3RoO248bztuKyspdGhpcy5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGUoZVtuXSxudWxsLHQpO2kubGVuZ3RoPXRoaXMuX2Rpc3BsYXlMaXN0TGVuLG9fLmNhbnZhc1N1cHBvcnRlZCYmYWUoaSxyZSl9LF91cGRhdGVBbmRBZGREaXNwbGF5YWJsZTpmdW5jdGlvbih0LGUsaSl7aWYoIXQuaWdub3JlfHxpKXt0LmJlZm9yZVVwZGF0ZSgpLHQuX19kaXJ0eSYmdC51cGRhdGUoKSx0LmFmdGVyVXBkYXRlKCk7dmFyIG49dC5jbGlwUGF0aDtpZihuKXtlPWU/ZS5zbGljZSgpOltdO2Zvcih2YXIgbz1uLGE9dDtvOylvLnBhcmVudD1hLG8udXBkYXRlVHJhbnNmb3JtKCksZS5wdXNoKG8pLGE9byxvPW8uY2xpcFBhdGh9aWYodC5pc0dyb3VwKXtmb3IodmFyIHI9dC5fY2hpbGRyZW4scz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbD1yW3NdO3QuX19kaXJ0eSYmKGwuX19kaXJ0eT0hMCksdGhpcy5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGUobCxlLGkpfXQuX19kaXJ0eT0hMX1lbHNlIHQuX19jbGlwUGF0aHM9ZSx0aGlzLl9kaXNwbGF5TGlzdFt0aGlzLl9kaXNwbGF5TGlzdExlbisrXT10fX0sYWRkUm9vdDpmdW5jdGlvbih0KXt0Ll9fc3RvcmFnZSE9PXRoaXMmJih0IGluc3RhbmNlb2YgcncmJnQuYWRkQ2hpbGRyZW5Ub1N0b3JhZ2UodGhpcyksdGhpcy5hZGRUb1N0b3JhZ2UodCksdGhpcy5fcm9vdHMucHVzaCh0KSl9LGRlbFJvb3Q6ZnVuY3Rpb24odCl7aWYobnVsbD09dCl7Zm9yKGk9MDtpPHRoaXMuX3Jvb3RzLmxlbmd0aDtpKyspe3ZhciBlPXRoaXMuX3Jvb3RzW2ldO2UgaW5zdGFuY2VvZiBydyYmZS5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKHRoaXMpfXJldHVybiB0aGlzLl9yb290cz1bXSx0aGlzLl9kaXNwbGF5TGlzdD1bXSx2b2lkKHRoaXMuX2Rpc3BsYXlMaXN0TGVuPTApfWlmKHQgaW5zdGFuY2VvZiBBcnJheSlmb3IodmFyIGk9MCxuPXQubGVuZ3RoO2k8bjtpKyspdGhpcy5kZWxSb290KHRbaV0pO2Vsc2V7dmFyIG89bCh0aGlzLl9yb290cyx0KTtvPj0wJiYodGhpcy5kZWxGcm9tU3RvcmFnZSh0KSx0aGlzLl9yb290cy5zcGxpY2UobywxKSx0IGluc3RhbmNlb2YgcncmJnQuZGVsQ2hpbGRyZW5Gcm9tU3RvcmFnZSh0aGlzKSl9fSxhZGRUb1N0b3JhZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0Ll9fc3RvcmFnZT10aGlzLHQuZGlydHkoITEpKSx0aGlzfSxkZWxGcm9tU3RvcmFnZTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmKHQuX19zdG9yYWdlPW51bGwpLHRoaXN9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJMaXN0PXRoaXMuX3Jvb3RzPW51bGx9LGRpc3BsYXlhYmxlU29ydEZ1bmM6cmV9O3ZhciBodz17c2hhZG93Qmx1cjoxLHNoYWRvd09mZnNldFg6MSxzaGFkb3dPZmZzZXRZOjEsdGV4dFNoYWRvd0JsdXI6MSx0ZXh0U2hhZG93T2Zmc2V0WDoxLHRleHRTaGFkb3dPZmZzZXRZOjEsdGV4dEJveFNoYWRvd0JsdXI6MSx0ZXh0Qm94U2hhZG93T2Zmc2V0WDoxLHRleHRCb3hTaGFkb3dPZmZzZXRZOjF9LGN3PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaHcuaGFzT3duUHJvcGVydHkoZSk/aSo9dC5kcHI6aX0sZHc9W1sic2hhZG93Qmx1ciIsMF0sWyJzaGFkb3dPZmZzZXRYIiwwXSxbInNoYWRvd09mZnNldFkiLDBdLFsic2hhZG93Q29sb3IiLCIjMDAwIl0sWyJsaW5lQ2FwIiwiYnV0dCJdLFsibGluZUpvaW4iLCJtaXRlciJdLFsibWl0ZXJMaW1pdCIsMTBdXSxmdz1mdW5jdGlvbih0LGUpe3RoaXMuZXh0ZW5kRnJvbSh0LCExKSx0aGlzLmhvc3Q9ZX07ZncucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjpmdyxob3N0Om51bGwsZmlsbDoiIzAwMCIsc3Ryb2tlOm51bGwsb3BhY2l0eToxLGxpbmVEYXNoOm51bGwsbGluZURhc2hPZmZzZXQ6MCxzaGFkb3dCbHVyOjAsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6MCxsaW5lV2lkdGg6MSxzdHJva2VOb1NjYWxlOiExLHRleHQ6bnVsbCxmb250Om51bGwsdGV4dEZvbnQ6bnVsbCxmb250U3R5bGU6bnVsbCxmb250V2VpZ2h0Om51bGwsZm9udFNpemU6bnVsbCxmb250RmFtaWx5Om51bGwsdGV4dFRhZzpudWxsLHRleHRGaWxsOiIjMDAwIix0ZXh0U3Ryb2tlOm51bGwsdGV4dFdpZHRoOm51bGwsdGV4dEhlaWdodDpudWxsLHRleHRTdHJva2VXaWR0aDowLHRleHRMaW5lSGVpZ2h0Om51bGwsdGV4dFBvc2l0aW9uOiJpbnNpZGUiLHRleHRSZWN0Om51bGwsdGV4dE9mZnNldDpudWxsLHRleHRBbGlnbjpudWxsLHRleHRWZXJ0aWNhbEFsaWduOm51bGwsdGV4dERpc3RhbmNlOjUsdGV4dFNoYWRvd0NvbG9yOiJ0cmFuc3BhcmVudCIsdGV4dFNoYWRvd0JsdXI6MCx0ZXh0U2hhZG93T2Zmc2V0WDowLHRleHRTaGFkb3dPZmZzZXRZOjAsdGV4dEJveFNoYWRvd0NvbG9yOiJ0cmFuc3BhcmVudCIsdGV4dEJveFNoYWRvd0JsdXI6MCx0ZXh0Qm94U2hhZG93T2Zmc2V0WDowLHRleHRCb3hTaGFkb3dPZmZzZXRZOjAsdHJhbnNmb3JtVGV4dDohMSx0ZXh0Um90YXRpb246MCx0ZXh0T3JpZ2luOm51bGwsdGV4dEJhY2tncm91bmRDb2xvcjpudWxsLHRleHRCb3JkZXJDb2xvcjpudWxsLHRleHRCb3JkZXJXaWR0aDowLHRleHRCb3JkZXJSYWRpdXM6MCx0ZXh0UGFkZGluZzpudWxsLHJpY2g6bnVsbCx0cnVuY2F0ZTpudWxsLGJsZW5kOm51bGwsYmluZDpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPXRoaXMsbz1pJiZpLnN0eWxlLGE9IW8scj0wO3I8ZHcubGVuZ3RoO3IrKyl7dmFyIHM9ZHdbcl0sbD1zWzBdOyhhfHxuW2xdIT09b1tsXSkmJih0W2xdPWN3KHQsbCxuW2xdfHxzWzFdKSl9aWYoKGF8fG4uZmlsbCE9PW8uZmlsbCkmJih0LmZpbGxTdHlsZT1uLmZpbGwpLChhfHxuLnN0cm9rZSE9PW8uc3Ryb2tlKSYmKHQuc3Ryb2tlU3R5bGU9bi5zdHJva2UpLChhfHxuLm9wYWNpdHkhPT1vLm9wYWNpdHkpJiYodC5nbG9iYWxBbHBoYT1udWxsPT1uLm9wYWNpdHk/MTpuLm9wYWNpdHkpLChhfHxuLmJsZW5kIT09by5ibGVuZCkmJih0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1uLmJsZW5kfHwic291cmNlLW92ZXIiKSx0aGlzLmhhc1N0cm9rZSgpKXt2YXIgdT1uLmxpbmVXaWR0aDt0LmxpbmVXaWR0aD11Lyh0aGlzLnN0cm9rZU5vU2NhbGUmJmUmJmUuZ2V0TGluZVNjYWxlP2UuZ2V0TGluZVNjYWxlKCk6MSl9fSxoYXNGaWxsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5maWxsO3JldHVybiBudWxsIT10JiYibm9uZSIhPT10fSxoYXNTdHJva2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0cm9rZTtyZXR1cm4gbnVsbCE9dCYmIm5vbmUiIT09dCYmdGhpcy5saW5lV2lkdGg+MH0sZXh0ZW5kRnJvbTpmdW5jdGlvbih0LGUpe2lmKHQpZm9yKHZhciBpIGluIHQpIXQuaGFzT3duUHJvcGVydHkoaSl8fCEwIT09ZSYmKCExPT09ZT90aGlzLmhhc093blByb3BlcnR5KGkpOm51bGw9PXRbaV0pfHwodGhpc1tpXT10W2ldKX0sc2V0OmZ1bmN0aW9uKHQsZSl7InN0cmluZyI9PXR5cGVvZiB0P3RoaXNbdF09ZTp0aGlzLmV4dGVuZEZyb20odCwhMCl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHQuZXh0ZW5kRnJvbSh0aGlzLCEwKSx0fSxnZXRHcmFkaWVudDpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPSgicmFkaWFsIj09PWUudHlwZT9sZTpzZSkodCxlLGkpLG89ZS5jb2xvclN0b3BzLGE9MDthPG8ubGVuZ3RoO2ErKyluLmFkZENvbG9yU3RvcChvW2FdLm9mZnNldCxvW2FdLmNvbG9yKTtyZXR1cm4gbn19O2Zvcih2YXIgcHc9ZncucHJvdG90eXBlLGd3PTA7Z3c8ZHcubGVuZ3RoO2d3Kyspe3ZhciBtdz1kd1tnd107bXdbMF1pbiBwd3x8KHB3W213WzBdXT1td1sxXSl9ZncuZ2V0R3JhZGllbnQ9cHcuZ2V0R3JhZGllbnQ7dmFyIHZ3PWZ1bmN0aW9uKHQsZSl7dGhpcy5pbWFnZT10LHRoaXMucmVwZWF0PWUsdGhpcy50eXBlPSJwYXR0ZXJuIn07dncucHJvdG90eXBlLmdldENhbnZhc1BhdHRlcm49ZnVuY3Rpb24odCl7cmV0dXJuIHQuY3JlYXRlUGF0dGVybih0aGlzLmltYWdlLHRoaXMucmVwZWF0fHwicmVwZWF0Iil9O3ZhciB5dz1mdW5jdGlvbih0LGUsaSl7dmFyIG47aT1pfHxKXywic3RyaW5nIj09dHlwZW9mIHQ/bj1oZSh0LGUsaSk6dyh0KSYmKHQ9KG49dCkuaWQpLHRoaXMuaWQ9dCx0aGlzLmRvbT1uO3ZhciBvPW4uc3R5bGU7byYmKG4ub25zZWxlY3RzdGFydD11ZSxvWyItd2Via2l0LXVzZXItc2VsZWN0Il09Im5vbmUiLG9bInVzZXItc2VsZWN0Il09Im5vbmUiLG9bIi13ZWJraXQtdG91Y2gtY2FsbG91dCJdPSJub25lIixvWyItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3IiXT0icmdiYSgwLDAsMCwwKSIsby5wYWRkaW5nPTAsby5tYXJnaW49MCxvWyJib3JkZXItd2lkdGgiXT0wKSx0aGlzLmRvbUJhY2s9bnVsbCx0aGlzLmN0eEJhY2s9bnVsbCx0aGlzLnBhaW50ZXI9ZSx0aGlzLmNvbmZpZz1udWxsLHRoaXMuY2xlYXJDb2xvcj0wLHRoaXMubW90aW9uQmx1cj0hMSx0aGlzLmxhc3RGcmFtZUFscGhhPS43LHRoaXMuZHByPWl9O3l3LnByb3RvdHlwZT17Y29uc3RydWN0b3I6eXcsX19kaXJ0eTohMCxfX3VzZWQ6ITEsX19kcmF3SW5kZXg6MCxfX3N0YXJ0SW5kZXg6MCxfX2VuZEluZGV4OjAsaW5jcmVtZW50YWw6ITEsZ2V0RWxlbWVudENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19lbmRJbmRleC10aGlzLl9fc3RhcnRJbmRleH0saW5pdENvbnRleHQ6ZnVuY3Rpb24oKXt0aGlzLmN0eD10aGlzLmRvbS5nZXRDb250ZXh0KCIyZCIpLHRoaXMuY3R4LmRwcj10aGlzLmRwcn0sY3JlYXRlQmFja0J1ZmZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZHByO3RoaXMuZG9tQmFjaz1oZSgiYmFjay0iK3RoaXMuaWQsdGhpcy5wYWludGVyLHQpLHRoaXMuY3R4QmFjaz10aGlzLmRvbUJhY2suZ2V0Q29udGV4dCgiMmQiKSwxIT10JiZ0aGlzLmN0eEJhY2suc2NhbGUodCx0KX0scmVzaXplOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5kcHIsbj10aGlzLmRvbSxvPW4uc3R5bGUsYT10aGlzLmRvbUJhY2s7byYmKG8ud2lkdGg9dCsicHgiLG8uaGVpZ2h0PWUrInB4Iiksbi53aWR0aD10Kmksbi5oZWlnaHQ9ZSppLGEmJihhLndpZHRoPXQqaSxhLmhlaWdodD1lKmksMSE9aSYmdGhpcy5jdHhCYWNrLnNjYWxlKGksaSkpfSxjbGVhcjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZG9tLG49dGhpcy5jdHgsbz1pLndpZHRoLGE9aS5oZWlnaHQsZT1lfHx0aGlzLmNsZWFyQ29sb3Iscj10aGlzLm1vdGlvbkJsdXImJiF0LHM9dGhpcy5sYXN0RnJhbWVBbHBoYSxsPXRoaXMuZHByO2lmKHImJih0aGlzLmRvbUJhY2t8fHRoaXMuY3JlYXRlQmFja0J1ZmZlcigpLHRoaXMuY3R4QmFjay5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ImNvcHkiLHRoaXMuY3R4QmFjay5kcmF3SW1hZ2UoaSwwLDAsby9sLGEvbCkpLG4uY2xlYXJSZWN0KDAsMCxvLGEpLGUmJiJ0cmFuc3BhcmVudCIhPT1lKXt2YXIgdTtlLmNvbG9yU3RvcHM/KHU9ZS5fX2NhbnZhc0dyYWRpZW50fHxmdy5nZXRHcmFkaWVudChuLGUse3g6MCx5OjAsd2lkdGg6byxoZWlnaHQ6YX0pLGUuX19jYW52YXNHcmFkaWVudD11KTplLmltYWdlJiYodT12dy5wcm90b3R5cGUuZ2V0Q2FudmFzUGF0dGVybi5jYWxsKGUsbikpLG4uc2F2ZSgpLG4uZmlsbFN0eWxlPXV8fGUsbi5maWxsUmVjdCgwLDAsbyxhKSxuLnJlc3RvcmUoKX1pZihyKXt2YXIgaD10aGlzLmRvbUJhY2s7bi5zYXZlKCksbi5nbG9iYWxBbHBoYT1zLG4uZHJhd0ltYWdlKGgsMCwwLG8sYSksbi5yZXN0b3JlKCl9fX07dmFyIHh3PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSYmd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyl8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSYmd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSl8fGZ1bmN0aW9uKHQpe3NldFRpbWVvdXQodCwxNil9LF93PW5ldyBXXyg1MCksd3c9e30sYnc9MCxTdz01ZTMsTXc9L1x7KFthLXpBLVowLTlfXSspXHwoW159XSopXH0vZyxJdz0iMTJweCBzYW5zLXNlcmlmIixUdz17fTtUdy5tZWFzdXJlVGV4dD1mdW5jdGlvbih0LGUpe3ZhciBpPXMoKTtyZXR1cm4gaS5mb250PWV8fEl3LGkubWVhc3VyZVRleHQodCl9O3ZhciBEdz17bGVmdDoxLHJpZ2h0OjEsY2VudGVyOjF9LEF3PXt0b3A6MSxib3R0b206MSxtaWRkbGU6MX0sQ3c9bmV3ICR0LEx3PWZ1bmN0aW9uKCl7fTtMdy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkx3LGRyYXdSZWN0VGV4dDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuc3R5bGU7ZT1pLnRleHRSZWN0fHxlLHRoaXMuX19kaXJ0eSYmTmUoaSk7dmFyIG49aS50ZXh0O2lmKG51bGwhPW4mJihuKz0iIiksS2UobixpKSl7dC5zYXZlKCk7dmFyIG89dGhpcy50cmFuc2Zvcm07aS50cmFuc2Zvcm1UZXh0P3RoaXMuc2V0VHJhbnNmb3JtKHQpOm8mJihDdy5jb3B5KGUpLEN3LmFwcGx5VHJhbnNmb3JtKG8pLGU9Q3cpLEVlKHRoaXMsdCxuLGksZSksdC5yZXN0b3JlKCl9fX0sJGUucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjokZSx0eXBlOiJkaXNwbGF5YWJsZSIsX19kaXJ0eTohMCxpbnZpc2libGU6ITEsejowLHoyOjAsemxldmVsOjAsZHJhZ2dhYmxlOiExLGRyYWdnaW5nOiExLHNpbGVudDohMSxjdWxsaW5nOiExLGN1cnNvcjoicG9pbnRlciIscmVjdEhvdmVyOiExLHByb2dyZXNzaXZlOiExLGluY3JlbWVudGFsOiExLGlucGxhY2U6ITEsYmVmb3JlQnJ1c2g6ZnVuY3Rpb24odCl7fSxhZnRlckJydXNoOmZ1bmN0aW9uKHQpe30sYnJ1c2g6ZnVuY3Rpb24odCxlKXt9LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe30sY29udGFpbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlY3RDb250YWluKHQsZSl9LHRyYXZlcnNlOmZ1bmN0aW9uKHQsZSl7dC5jYWxsKGUsdGhpcyl9LHJlY3RDb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKTtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jb250YWluKGlbMF0saVsxXSl9LGRpcnR5OmZ1bmN0aW9uKCl7dGhpcy5fX2RpcnR5PSEwLHRoaXMuX3JlY3Q9bnVsbCx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCl9LGFuaW1hdGVTdHlsZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hbmltYXRlKCJzdHlsZSIsdCl9LGF0dHJLVjpmdW5jdGlvbih0LGUpeyJzdHlsZSIhPT10P2l3LnByb3RvdHlwZS5hdHRyS1YuY2FsbCh0aGlzLHQsZSk6dGhpcy5zdHlsZS5zZXQoZSl9LHNldFN0eWxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0KHQsZSksdGhpcy5kaXJ0eSghMSksdGhpc30sdXNlU3R5bGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGU9bmV3IGZ3KHQsdGhpcyksdGhpcy5kaXJ0eSghMSksdGhpc319LHUoJGUsaXcpLGgoJGUsTHcpLEplLnByb3RvdHlwZT17Y29uc3RydWN0b3I6SmUsdHlwZToiaW1hZ2UiLGJydXNoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zdHlsZSxuPWkuaW1hZ2U7aS5iaW5kKHQsdGhpcyxlKTt2YXIgbz10aGlzLl9pbWFnZT1kZShuLHRoaXMuX2ltYWdlLHRoaXMsdGhpcy5vbmxvYWQpO2lmKG8mJnBlKG8pKXt2YXIgYT1pLnh8fDAscj1pLnl8fDAscz1pLndpZHRoLGw9aS5oZWlnaHQsdT1vLndpZHRoL28uaGVpZ2h0O2lmKG51bGw9PXMmJm51bGwhPWw/cz1sKnU6bnVsbD09bCYmbnVsbCE9cz9sPXMvdTpudWxsPT1zJiZudWxsPT1sJiYocz1vLndpZHRoLGw9by5oZWlnaHQpLHRoaXMuc2V0VHJhbnNmb3JtKHQpLGkuc1dpZHRoJiZpLnNIZWlnaHQpe3ZhciBoPWkuc3h8fDAsYz1pLnN5fHwwO3QuZHJhd0ltYWdlKG8saCxjLGkuc1dpZHRoLGkuc0hlaWdodCxhLHIscyxsKX1lbHNlIGlmKGkuc3gmJmkuc3kpe3ZhciBkPXMtKGg9aS5zeCksZj1sLShjPWkuc3kpO3QuZHJhd0ltYWdlKG8saCxjLGQsZixhLHIscyxsKX1lbHNlIHQuZHJhd0ltYWdlKG8sYSxyLHMsbCk7bnVsbCE9aS50ZXh0JiYodGhpcy5yZXN0b3JlVHJhbnNmb3JtKHQpLHRoaXMuZHJhd1JlY3RUZXh0KHQsdGhpcy5nZXRCb3VuZGluZ1JlY3QoKSkpfX0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZTtyZXR1cm4gdGhpcy5fcmVjdHx8KHRoaXMuX3JlY3Q9bmV3ICR0KHQueHx8MCx0Lnl8fDAsdC53aWR0aHx8MCx0LmhlaWdodHx8MCkpLHRoaXMuX3JlY3R9fSx1KEplLCRlKTt2YXIga3c9bmV3ICR0KDAsMCwwLDApLFB3PW5ldyAkdCgwLDAsMCwwKSxOdz1mdW5jdGlvbih0LGUsaSl7dGhpcy50eXBlPSJjYW52YXMiO3ZhciBuPSF0Lm5vZGVOYW1lfHwiQ0FOVkFTIj09PXQubm9kZU5hbWUudG9VcHBlckNhc2UoKTt0aGlzLl9vcHRzPWk9YSh7fSxpfHx7fSksdGhpcy5kcHI9aS5kZXZpY2VQaXhlbFJhdGlvfHxKXyx0aGlzLl9zaW5nbGVDYW52YXM9bix0aGlzLnJvb3Q9dDt2YXIgbz10LnN0eWxlO28mJihvWyItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3IiXT0idHJhbnNwYXJlbnQiLG9bIi13ZWJraXQtdXNlci1zZWxlY3QiXT1vWyJ1c2VyLXNlbGVjdCJdPW9bIi13ZWJraXQtdG91Y2gtY2FsbG91dCJdPSJub25lIix0LmlubmVySFRNTD0iIiksdGhpcy5zdG9yYWdlPWU7dmFyIHI9dGhpcy5femxldmVsTGlzdD1bXSxzPXRoaXMuX2xheWVycz17fTtpZih0aGlzLl9sYXllckNvbmZpZz17fSx0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmc9ITEsbil7dmFyIGw9dC53aWR0aCx1PXQuaGVpZ2h0O251bGwhPWkud2lkdGgmJihsPWkud2lkdGgpLG51bGwhPWkuaGVpZ2h0JiYodT1pLmhlaWdodCksdGhpcy5kcHI9aS5kZXZpY2VQaXhlbFJhdGlvfHwxLHQud2lkdGg9bCp0aGlzLmRwcix0LmhlaWdodD11KnRoaXMuZHByLHRoaXMuX3dpZHRoPWwsdGhpcy5faGVpZ2h0PXU7dmFyIGg9bmV3IHl3KHQsdGhpcyx0aGlzLmRwcik7aC5fX2J1aWx0aW5fXz0hMCxoLmluaXRDb250ZXh0KCksc1szMTQxNTldPWgsaC56bGV2ZWw9MzE0MTU5LHIucHVzaCgzMTQxNTkpLHRoaXMuX2RvbVJvb3Q9dH1lbHNle3RoaXMuX3dpZHRoPXRoaXMuX2dldFNpemUoMCksdGhpcy5faGVpZ2h0PXRoaXMuX2dldFNpemUoMSk7dmFyIGM9dGhpcy5fZG9tUm9vdD1vaSh0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpO3QuYXBwZW5kQ2hpbGQoYyl9dGhpcy5faG92ZXJsYXllcj1udWxsLHRoaXMuX2hvdmVyRWxlbWVudHM9W119O053LnByb3RvdHlwZT17Y29uc3RydWN0b3I6TncsZ2V0VHlwZTpmdW5jdGlvbigpe3JldHVybiJjYW52YXMifSxpc1NpbmdsZUNhbnZhczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW5nbGVDYW52YXN9LGdldFZpZXdwb3J0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb21Sb290fSxnZXRWaWV3cG9ydFJvb3RPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdwb3J0Um9vdCgpO2lmKHQpcmV0dXJue29mZnNldExlZnQ6dC5vZmZzZXRMZWZ0fHwwLG9mZnNldFRvcDp0Lm9mZnNldFRvcHx8MH19LHJlZnJlc2g6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxpPXRoaXMuX3psZXZlbExpc3Q7dGhpcy5fcmVkcmF3SWQ9TWF0aC5yYW5kb20oKSx0aGlzLl9wYWludExpc3QoZSx0LHRoaXMuX3JlZHJhd0lkKTtmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXSxhPXRoaXMuX2xheWVyc1tvXTtpZighYS5fX2J1aWx0aW5fXyYmYS5yZWZyZXNoKXt2YXIgcj0wPT09bj90aGlzLl9iYWNrZ3JvdW5kQ29sb3I6bnVsbDthLnJlZnJlc2gocil9fXJldHVybiB0aGlzLnJlZnJlc2hIb3ZlcigpLHRoaXN9LGFkZEhvdmVyOmZ1bmN0aW9uKHQsZSl7aWYoIXQuX19ob3Zlck1pcil7dmFyIGk9bmV3IHQuY29uc3RydWN0b3Ioe3N0eWxlOnQuc3R5bGUsc2hhcGU6dC5zaGFwZX0pO2kuX19mcm9tPXQsdC5fX2hvdmVyTWlyPWksaS5zZXRTdHlsZShlKSx0aGlzLl9ob3ZlckVsZW1lbnRzLnB1c2goaSl9fSxyZW1vdmVIb3ZlcjpmdW5jdGlvbih0KXt2YXIgZT10Ll9faG92ZXJNaXIsaT10aGlzLl9ob3ZlckVsZW1lbnRzLG49bChpLGUpO24+PTAmJmkuc3BsaWNlKG4sMSksdC5fX2hvdmVyTWlyPW51bGx9LGNsZWFySG92ZXI6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2hvdmVyRWxlbWVudHMsaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbj1lW2ldLl9fZnJvbTtuJiYobi5fX2hvdmVyTWlyPW51bGwpfWUubGVuZ3RoPTB9LHJlZnJlc2hIb3ZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2hvdmVyRWxlbWVudHMsZT10Lmxlbmd0aCxpPXRoaXMuX2hvdmVybGF5ZXI7aWYoaSYmaS5jbGVhcigpLGUpe2FlKHQsdGhpcy5zdG9yYWdlLmRpc3BsYXlhYmxlU29ydEZ1bmMpLGl8fChpPXRoaXMuX2hvdmVybGF5ZXI9dGhpcy5nZXRMYXllcigxZTUpKTt2YXIgbj17fTtpLmN0eC5zYXZlKCk7Zm9yKHZhciBvPTA7bzxlOyl7dmFyIGE9dFtvXSxyPWEuX19mcm9tO3ImJnIuX196cj8obysrLHIuaW52aXNpYmxlfHwoYS50cmFuc2Zvcm09ci50cmFuc2Zvcm0sYS5pbnZUcmFuc2Zvcm09ci5pbnZUcmFuc2Zvcm0sYS5fX2NsaXBQYXRocz1yLl9fY2xpcFBhdGhzLHRoaXMuX2RvUGFpbnRFbChhLGksITAsbikpKToodC5zcGxpY2UobywxKSxyLl9faG92ZXJNaXI9bnVsbCxlLS0pfWkuY3R4LnJlc3RvcmUoKX19LGdldEhvdmVyTGF5ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYXllcigxZTUpfSxfcGFpbnRMaXN0OmZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLl9yZWRyYXdJZD09PWkpe2U9ZXx8ITEsdGhpcy5fdXBkYXRlTGF5ZXJTdGF0dXModCk7dmFyIG49dGhpcy5fZG9QYWludExpc3QodCxlKTtpZih0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmcmJnRoaXMuX2NvbXBvc2l0ZU1hbnVhbGx5KCksIW4pe3ZhciBvPXRoaXM7eHcoZnVuY3Rpb24oKXtvLl9wYWludExpc3QodCxlLGkpfSl9fX0sX2NvbXBvc2l0ZU1hbnVhbGx5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRMYXllcigzMTQxNTkpLmN0eCxlPXRoaXMuX2RvbVJvb3Qud2lkdGgsaT10aGlzLl9kb21Sb290LmhlaWdodDt0LmNsZWFyUmVjdCgwLDAsZSxpKSx0aGlzLmVhY2hCdWlsdGluTGF5ZXIoZnVuY3Rpb24obil7bi52aXJ0dWFsJiZ0LmRyYXdJbWFnZShuLmRvbSwwLDAsZSxpKX0pfSxfZG9QYWludExpc3Q6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9W10sbj0wO248dGhpcy5femxldmVsTGlzdC5sZW5ndGg7bisrKXt2YXIgbz10aGlzLl96bGV2ZWxMaXN0W25dOyhzPXRoaXMuX2xheWVyc1tvXSkuX19idWlsdGluX18mJnMhPT10aGlzLl9ob3ZlcmxheWVyJiYocy5fX2RpcnR5fHxlKSYmaS5wdXNoKHMpfWZvcih2YXIgYT0hMCxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBzPWlbcl0sbD1zLmN0eCx1PXt9O2wuc2F2ZSgpO3ZhciBoPWU/cy5fX3N0YXJ0SW5kZXg6cy5fX2RyYXdJbmRleCxjPSFlJiZzLmluY3JlbWVudGFsJiZEYXRlLm5vdyxmPWMmJkRhdGUubm93KCkscD1zLnpsZXZlbD09PXRoaXMuX3psZXZlbExpc3RbMF0/dGhpcy5fYmFja2dyb3VuZENvbG9yOm51bGw7aWYocy5fX3N0YXJ0SW5kZXg9PT1zLl9fZW5kSW5kZXgpcy5jbGVhcighMSxwKTtlbHNlIGlmKGg9PT1zLl9fc3RhcnRJbmRleCl7dmFyIGc9dFtoXTtnLmluY3JlbWVudGFsJiZnLm5vdENsZWFyJiYhZXx8cy5jbGVhcighMSxwKX0tMT09PWgmJihjb25zb2xlLmVycm9yKCJGb3Igc29tZSB1bmtub3duIHJlYXNvbi4gZHJhd0luZGV4IGlzIC0xIiksaD1zLl9fc3RhcnRJbmRleCk7Zm9yKHZhciBtPWg7bTxzLl9fZW5kSW5kZXg7bSsrKXt2YXIgdj10W21dO2lmKHRoaXMuX2RvUGFpbnRFbCh2LHMsZSx1KSx2Ll9fZGlydHk9ITEsYyYmRGF0ZS5ub3coKS1mPjE1KWJyZWFrfXMuX19kcmF3SW5kZXg9bSxzLl9fZHJhd0luZGV4PHMuX19lbmRJbmRleCYmKGE9ITEpLHUucHJldkVsQ2xpcFBhdGhzJiZsLnJlc3RvcmUoKSxsLnJlc3RvcmUoKX1yZXR1cm4gb18ud3hhJiZkKHRoaXMuX2xheWVycyxmdW5jdGlvbih0KXt0JiZ0LmN0eCYmdC5jdHguZHJhdyYmdC5jdHguZHJhdygpfSksYX0sX2RvUGFpbnRFbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1lLmN0eCxhPXQudHJhbnNmb3JtO2lmKChlLl9fZGlydHl8fGkpJiYhdC5pbnZpc2libGUmJjAhPT10LnN0eWxlLm9wYWNpdHkmJighYXx8YVswXXx8YVszXSkmJighdC5jdWxsaW5nfHwhZWkodCx0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpKSl7dmFyIHI9dC5fX2NsaXBQYXRocztuLnByZXZFbENsaXBQYXRocyYmIWlpKHIsbi5wcmV2RWxDbGlwUGF0aHMpfHwobi5wcmV2RWxDbGlwUGF0aHMmJihlLmN0eC5yZXN0b3JlKCksbi5wcmV2RWxDbGlwUGF0aHM9bnVsbCxuLnByZXZFbD1udWxsKSxyJiYoby5zYXZlKCksbmkocixvKSxuLnByZXZFbENsaXBQYXRocz1yKSksdC5iZWZvcmVCcnVzaCYmdC5iZWZvcmVCcnVzaChvKSx0LmJydXNoKG8sbi5wcmV2RWx8fG51bGwpLG4ucHJldkVsPXQsdC5hZnRlckJydXNoJiZ0LmFmdGVyQnJ1c2gobyl9fSxnZXRMYXllcjpmdW5jdGlvbih0LGUpe3RoaXMuX3NpbmdsZUNhbnZhcyYmIXRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZyYmKHQ9MzE0MTU5KTt2YXIgaT10aGlzLl9sYXllcnNbdF07cmV0dXJuIGl8fCgoaT1uZXcgeXcoInpyXyIrdCx0aGlzLHRoaXMuZHByKSkuemxldmVsPXQsaS5fX2J1aWx0aW5fXz0hMCx0aGlzLl9sYXllckNvbmZpZ1t0XSYmbihpLHRoaXMuX2xheWVyQ29uZmlnW3RdLCEwKSxlJiYoaS52aXJ0dWFsPWUpLHRoaXMuaW5zZXJ0TGF5ZXIodCxpKSxpLmluaXRDb250ZXh0KCkpLGl9LGluc2VydExheWVyOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fbGF5ZXJzLG49dGhpcy5femxldmVsTGlzdCxvPW4ubGVuZ3RoLGE9bnVsbCxyPS0xLHM9dGhpcy5fZG9tUm9vdDtpZihpW3RdKXR3KCJaTGV2ZWwgIit0KyIgaGFzIGJlZW4gdXNlZCBhbHJlYWR5Iik7ZWxzZSBpZih0aShlKSl7aWYobz4wJiZ0Pm5bMF0pe2ZvcihyPTA7cjxvLTEmJiEobltyXTx0JiZuW3IrMV0+dCk7cisrKTthPWlbbltyXV19aWYobi5zcGxpY2UocisxLDAsdCksaVt0XT1lLCFlLnZpcnR1YWwpaWYoYSl7dmFyIGw9YS5kb207bC5uZXh0U2libGluZz9zLmluc2VydEJlZm9yZShlLmRvbSxsLm5leHRTaWJsaW5nKTpzLmFwcGVuZENoaWxkKGUuZG9tKX1lbHNlIHMuZmlyc3RDaGlsZD9zLmluc2VydEJlZm9yZShlLmRvbSxzLmZpcnN0Q2hpbGQpOnMuYXBwZW5kQ2hpbGQoZS5kb20pfWVsc2UgdHcoIkxheWVyIG9mIHpsZXZlbCAiK3QrIiBpcyBub3QgdmFsaWQiKX0sZWFjaExheWVyOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvPXRoaXMuX3psZXZlbExpc3Q7Zm9yKG49MDtuPG8ubGVuZ3RoO24rKylpPW9bbl0sdC5jYWxsKGUsdGhpcy5fbGF5ZXJzW2ldLGkpfSxlYWNoQnVpbHRpbkxheWVyOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvLGE9dGhpcy5femxldmVsTGlzdDtmb3Iobz0wO288YS5sZW5ndGg7bysrKW49YVtvXSwoaT10aGlzLl9sYXllcnNbbl0pLl9fYnVpbHRpbl9fJiZ0LmNhbGwoZSxpLG4pfSxlYWNoT3RoZXJMYXllcjpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxhPXRoaXMuX3psZXZlbExpc3Q7Zm9yKG89MDtvPGEubGVuZ3RoO28rKyluPWFbb10sKGk9dGhpcy5fbGF5ZXJzW25dKS5fX2J1aWx0aW5fX3x8dC5jYWxsKGUsaSxuKX0sZ2V0TGF5ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xheWVyc30sX3VwZGF0ZUxheWVyU3RhdHVzOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7aSYmKGkuX19lbmRJbmRleCE9PXQmJihpLl9fZGlydHk9ITApLGkuX19lbmRJbmRleD10KX1pZih0aGlzLmVhY2hCdWlsdGluTGF5ZXIoZnVuY3Rpb24odCxlKXt0Ll9fZGlydHk9dC5fX3VzZWQ9ITF9KSx0aGlzLl9zaW5nbGVDYW52YXMpZm9yKG89MTtvPHQubGVuZ3RoO28rKylpZigocj10W29dKS56bGV2ZWwhPT10W28tMV0uemxldmVsfHxyLmluY3JlbWVudGFsKXt0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmc9ITA7YnJlYWt9Zm9yKHZhciBpPW51bGwsbj0wLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGEscj10W29dLHM9ci56bGV2ZWw7ci5pbmNyZW1lbnRhbD8oKGE9dGhpcy5nZXRMYXllcihzKy4wMDEsdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nKSkuaW5jcmVtZW50YWw9ITAsbj0xKTphPXRoaXMuZ2V0TGF5ZXIocysobj4wPy4wMTowKSx0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmcpLGEuX19idWlsdGluX198fHR3KCJaTGV2ZWwgIitzKyIgaGFzIGJlZW4gdXNlZCBieSB1bmtvd24gbGF5ZXIgIithLmlkKSxhIT09aSYmKGEuX191c2VkPSEwLGEuX19zdGFydEluZGV4IT09byYmKGEuX19kaXJ0eT0hMCksYS5fX3N0YXJ0SW5kZXg9byxhLmluY3JlbWVudGFsP2EuX19kcmF3SW5kZXg9LTE6YS5fX2RyYXdJbmRleD1vLGUobyksaT1hKSxyLl9fZGlydHkmJihhLl9fZGlydHk9ITAsYS5pbmNyZW1lbnRhbCYmYS5fX2RyYXdJbmRleDwwJiYoYS5fX2RyYXdJbmRleD1vKSl9ZShvKSx0aGlzLmVhY2hCdWlsdGluTGF5ZXIoZnVuY3Rpb24odCxlKXshdC5fX3VzZWQmJnQuZ2V0RWxlbWVudENvdW50KCk+MCYmKHQuX19kaXJ0eT0hMCx0Ll9fc3RhcnRJbmRleD10Ll9fZW5kSW5kZXg9dC5fX2RyYXdJbmRleD0wKSx0Ll9fZGlydHkmJnQuX19kcmF3SW5kZXg8MCYmKHQuX19kcmF3SW5kZXg9dC5fX3N0YXJ0SW5kZXgpfSl9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaEJ1aWx0aW5MYXllcih0aGlzLl9jbGVhckxheWVyKSx0aGlzfSxfY2xlYXJMYXllcjpmdW5jdGlvbih0KXt0LmNsZWFyKCl9LHNldEJhY2tncm91bmRDb2xvcjpmdW5jdGlvbih0KXt0aGlzLl9iYWNrZ3JvdW5kQ29sb3I9dH0sY29uZmlnTGF5ZXI6ZnVuY3Rpb24odCxlKXtpZihlKXt2YXIgaT10aGlzLl9sYXllckNvbmZpZztpW3RdP24oaVt0XSxlLCEwKTppW3RdPWU7Zm9yKHZhciBvPTA7bzx0aGlzLl96bGV2ZWxMaXN0Lmxlbmd0aDtvKyspe3ZhciBhPXRoaXMuX3psZXZlbExpc3Rbb107YSE9PXQmJmEhPT10Ky4wMXx8bih0aGlzLl9sYXllcnNbYV0saVt0XSwhMCl9fX0sZGVsTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGF5ZXJzLGk9dGhpcy5femxldmVsTGlzdCxuPWVbdF07biYmKG4uZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobi5kb20pLGRlbGV0ZSBlW3RdLGkuc3BsaWNlKGwoaSx0KSwxKSl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2RvbVJvb3Quc3R5bGUpe3ZhciBpPXRoaXMuX2RvbVJvb3Q7aS5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgbj10aGlzLl9vcHRzO2lmKG51bGwhPXQmJihuLndpZHRoPXQpLG51bGwhPWUmJihuLmhlaWdodD1lKSx0PXRoaXMuX2dldFNpemUoMCksZT10aGlzLl9nZXRTaXplKDEpLGkuc3R5bGUuZGlzcGxheT0iIix0aGlzLl93aWR0aCE9dHx8ZSE9dGhpcy5faGVpZ2h0KXtpLnN0eWxlLndpZHRoPXQrInB4IixpLnN0eWxlLmhlaWdodD1lKyJweCI7Zm9yKHZhciBvIGluIHRoaXMuX2xheWVycyl0aGlzLl9sYXllcnMuaGFzT3duUHJvcGVydHkobykmJnRoaXMuX2xheWVyc1tvXS5yZXNpemUodCxlKTtkKHRoaXMuX3Byb2dyZXNzaXZlTGF5ZXJzLGZ1bmN0aW9uKGkpe2kucmVzaXplKHQsZSl9KSx0aGlzLnJlZnJlc2goITApfXRoaXMuX3dpZHRoPXQsdGhpcy5faGVpZ2h0PWV9ZWxzZXtpZihudWxsPT10fHxudWxsPT1lKXJldHVybjt0aGlzLl93aWR0aD10LHRoaXMuX2hlaWdodD1lLHRoaXMuZ2V0TGF5ZXIoMzE0MTU5KS5yZXNpemUodCxlKX1yZXR1cm4gdGhpc30sY2xlYXJMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnNbdF07ZSYmZS5jbGVhcigpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5yb290LmlubmVySFRNTD0iIix0aGlzLnJvb3Q9dGhpcy5zdG9yYWdlPXRoaXMuX2RvbVJvb3Q9dGhpcy5fbGF5ZXJzPW51bGx9LGdldFJlbmRlcmVkQ2FudmFzOmZ1bmN0aW9uKHQpe2lmKHQ9dHx8e30sdGhpcy5fc2luZ2xlQ2FudmFzJiYhdGhpcy5fY29tcG9zaXRlTWFudWFsbHkpcmV0dXJuIHRoaXMuX2xheWVyc1szMTQxNTldLmRvbTt2YXIgZT1uZXcgeXcoImltYWdlIix0aGlzLHQucGl4ZWxSYXRpb3x8dGhpcy5kcHIpO2lmKGUuaW5pdENvbnRleHQoKSxlLmNsZWFyKCExLHQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9iYWNrZ3JvdW5kQ29sb3IpLHQucGl4ZWxSYXRpbzw9dGhpcy5kcHIpe3RoaXMucmVmcmVzaCgpO3ZhciBpPWUuZG9tLndpZHRoLG49ZS5kb20uaGVpZ2h0LG89ZS5jdHg7dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24odCl7dC5fX2J1aWx0aW5fXz9vLmRyYXdJbWFnZSh0LmRvbSwwLDAsaSxuKTp0LnJlbmRlclRvQ2FudmFzJiYoZS5jdHguc2F2ZSgpLHQucmVuZGVyVG9DYW52YXMoZS5jdHgpLGUuY3R4LnJlc3RvcmUoKSl9KX1lbHNlIGZvcih2YXIgYT17fSxyPXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMCkscz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbD1yW3NdO3RoaXMuX2RvUGFpbnRFbChsLGUsITAsYSl9cmV0dXJuIGUuZG9tfSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH0sX2dldFNpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3B0cyxpPVsid2lkdGgiLCJoZWlnaHQiXVt0XSxuPVsiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiXVt0XSxvPVsicGFkZGluZ0xlZnQiLCJwYWRkaW5nVG9wIl1bdF0sYT1bInBhZGRpbmdSaWdodCIsInBhZGRpbmdCb3R0b20iXVt0XTtpZihudWxsIT1lW2ldJiYiYXV0byIhPT1lW2ldKXJldHVybiBwYXJzZUZsb2F0KGVbaV0pO3ZhciByPXRoaXMucm9vdCxzPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUocik7cmV0dXJuKHJbbl18fFFlKHNbaV0pfHxRZShyLnN0eWxlW2ldKSktKFFlKHNbb10pfHwwKS0oUWUoc1thXSl8fDApfDB9LHBhdGhUb0ltYWdlOmZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLmRwcjt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxuPWkuZ2V0Q29udGV4dCgiMmQiKSxvPXQuZ2V0Qm91bmRpbmdSZWN0KCksYT10LnN0eWxlLHI9YS5zaGFkb3dCbHVyKmUscz1hLnNoYWRvd09mZnNldFgqZSxsPWEuc2hhZG93T2Zmc2V0WSplLHU9YS5oYXNTdHJva2UoKT9hLmxpbmVXaWR0aDowLGg9TWF0aC5tYXgodS8yLC1zK3IpLGM9TWF0aC5tYXgodS8yLHMrciksZD1NYXRoLm1heCh1LzIsLWwrciksZj1NYXRoLm1heCh1LzIsbCtyKSxwPW8ud2lkdGgraCtjLGc9by5oZWlnaHQrZCtmO2kud2lkdGg9cCplLGkuaGVpZ2h0PWcqZSxuLnNjYWxlKGUsZSksbi5jbGVhclJlY3QoMCwwLHAsZyksbi5kcHI9ZTt2YXIgbT17cG9zaXRpb246dC5wb3NpdGlvbixyb3RhdGlvbjp0LnJvdGF0aW9uLHNjYWxlOnQuc2NhbGV9O3QucG9zaXRpb249W2gtby54LGQtby55XSx0LnJvdGF0aW9uPTAsdC5zY2FsZT1bMSwxXSx0LnVwZGF0ZVRyYW5zZm9ybSgpLHQmJnQuYnJ1c2gobik7dmFyIHY9bmV3IEplKHtzdHlsZTp7eDowLHk6MCxpbWFnZTppfX0pO3JldHVybiBudWxsIT1tLnBvc2l0aW9uJiYodi5wb3NpdGlvbj10LnBvc2l0aW9uPW0ucG9zaXRpb24pLG51bGwhPW0ucm90YXRpb24mJih2LnJvdGF0aW9uPXQucm90YXRpb249bS5yb3RhdGlvbiksbnVsbCE9bS5zY2FsZSYmKHYuc2NhbGU9dC5zY2FsZT1tLnNjYWxlKSx2fX07dmFyIE93PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYhIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyLEV3PS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxSdz1Pdz9mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0LmNhbmNlbEJ1YmJsZT0hMH06ZnVuY3Rpb24odCl7dC5yZXR1cm5WYWx1ZT0hMSx0LmNhbmNlbEJ1YmJsZT0hMH0senc9ZnVuY3Rpb24odCl7dD10fHx7fSx0aGlzLnN0YWdlPXQuc3RhZ2V8fHt9LHRoaXMub25mcmFtZT10Lm9uZnJhbWV8fGZ1bmN0aW9uKCl7fSx0aGlzLl9jbGlwcz1bXSx0aGlzLl9ydW5uaW5nPSExLHRoaXMuX3RpbWUsdGhpcy5fcGF1c2VkVGltZSx0aGlzLl9wYXVzZVN0YXJ0LHRoaXMuX3BhdXNlZD0hMSxUXy5jYWxsKHRoaXMpfTt6dy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnp3LGFkZENsaXA6ZnVuY3Rpb24odCl7dGhpcy5fY2xpcHMucHVzaCh0KX0sYWRkQW5pbWF0b3I6ZnVuY3Rpb24odCl7dC5hbmltYXRpb249dGhpcztmb3IodmFyIGU9dC5nZXRDbGlwcygpLGk9MDtpPGUubGVuZ3RoO2krKyl0aGlzLmFkZENsaXAoZVtpXSl9LHJlbW92ZUNsaXA6ZnVuY3Rpb24odCl7dmFyIGU9bCh0aGlzLl9jbGlwcyx0KTtlPj0wJiZ0aGlzLl9jbGlwcy5zcGxpY2UoZSwxKX0scmVtb3ZlQW5pbWF0b3I6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuZ2V0Q2xpcHMoKSxpPTA7aTxlLmxlbmd0aDtpKyspdGhpcy5yZW1vdmVDbGlwKGVbaV0pO3QuYW5pbWF0aW9uPW51bGx9LF91cGRhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5fcGF1c2VkVGltZSxlPXQtdGhpcy5fdGltZSxpPXRoaXMuX2NsaXBzLG49aS5sZW5ndGgsbz1bXSxhPVtdLHI9MDtyPG47cisrKXt2YXIgcz1pW3JdLGw9cy5zdGVwKHQsZSk7bCYmKG8ucHVzaChsKSxhLnB1c2gocykpfWZvcihyPTA7cjxuOylpW3JdLl9uZWVkc1JlbW92ZT8oaVtyXT1pW24tMV0saS5wb3AoKSxuLS0pOnIrKztuPW8ubGVuZ3RoO2ZvcihyPTA7cjxuO3IrKylhW3JdLmZpcmUob1tyXSk7dGhpcy5fdGltZT10LHRoaXMub25mcmFtZShlKSx0aGlzLnRyaWdnZXIoImZyYW1lIixlKSx0aGlzLnN0YWdlLnVwZGF0ZSYmdGhpcy5zdGFnZS51cGRhdGUoKX0sX3N0YXJ0TG9vcDpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtlLl9ydW5uaW5nJiYoeHcodCksIWUuX3BhdXNlZCYmZS5fdXBkYXRlKCkpfXZhciBlPXRoaXM7dGhpcy5fcnVubmluZz0hMCx4dyh0KX0sc3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl90aW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuX3BhdXNlZFRpbWU9MCx0aGlzLl9zdGFydExvb3AoKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuX3J1bm5pbmc9ITF9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkfHwodGhpcy5fcGF1c2VTdGFydD0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9wYXVzZWQ9ITApfSxyZXN1bWU6ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQmJih0aGlzLl9wYXVzZWRUaW1lKz0obmV3IERhdGUpLmdldFRpbWUoKS10aGlzLl9wYXVzZVN0YXJ0LHRoaXMuX3BhdXNlZD0hMSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fY2xpcHM9W119LGlzRmluaXNoZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fY2xpcHMubGVuZ3RofSxhbmltYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IEtfKHQsKGU9ZXx8e30pLmxvb3AsZS5nZXR0ZXIsZS5zZXR0ZXIpO3JldHVybiB0aGlzLmFkZEFuaW1hdG9yKGkpLGl9fSxoKHp3LFRfKTt2YXIgQnc9ZnVuY3Rpb24oKXt0aGlzLl90cmFjaz1bXX07QncucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpCdyxyZWNvZ25pemU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9kb1RyYWNrKHQsZSxpKSx0aGlzLl9yZWNvZ25pemUodCl9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrLmxlbmd0aD0wLHRoaXN9LF9kb1RyYWNrOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LnRvdWNoZXM7aWYobil7Zm9yKHZhciBvPXtwb2ludHM6W10sdG91Y2hlczpbXSx0YXJnZXQ6ZSxldmVudDp0fSxhPTAscj1uLmxlbmd0aDthPHI7YSsrKXt2YXIgcz1uW2FdLGw9cmkoaSxzLHt9KTtvLnBvaW50cy5wdXNoKFtsLnpyWCxsLnpyWV0pLG8udG91Y2hlcy5wdXNoKHMpfXRoaXMuX3RyYWNrLnB1c2gobyl9fSxfcmVjb2duaXplOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiBWdylpZihWdy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGk9VndbZV0odGhpcy5fdHJhY2ssdCk7aWYoaSlyZXR1cm4gaX19fTt2YXIgVnc9e3BpbmNoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5sZW5ndGg7aWYoaSl7dmFyIG49KHRbaS0xXXx8e30pLnBvaW50cyxvPSh0W2ktMl18fHt9KS5wb2ludHN8fG47aWYobyYmby5sZW5ndGg+MSYmbiYmbi5sZW5ndGg+MSl7dmFyIGE9ZGkobikvZGkobyk7IWlzRmluaXRlKGEpJiYoYT0xKSxlLnBpbmNoU2NhbGU9YTt2YXIgcj1maShuKTtyZXR1cm4gZS5waW5jaFg9clswXSxlLnBpbmNoWT1yWzFdLHt0eXBlOiJwaW5jaCIsdGFyZ2V0OnRbMF0udGFyZ2V0LGV2ZW50OmV9fX19fSxHdz1bImNsaWNrIiwiZGJsY2xpY2siLCJtb3VzZXdoZWVsIiwibW91c2VvdXQiLCJtb3VzZXVwIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwiY29udGV4dG1lbnUiXSxXdz1bInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsInRvdWNobW92ZSJdLEZ3PXtwb2ludGVyZG93bjoxLHBvaW50ZXJ1cDoxLHBvaW50ZXJtb3ZlOjEscG9pbnRlcm91dDoxfSxIdz1mKEd3LGZ1bmN0aW9uKHQpe3ZhciBlPXQucmVwbGFjZSgibW91c2UiLCJwb2ludGVyIik7cmV0dXJuIEZ3W2VdP2U6dH0pLFp3PXttb3VzZW1vdmU6ZnVuY3Rpb24odCl7dD1saSh0aGlzLmRvbSx0KSx0aGlzLnRyaWdnZXIoIm1vdXNlbW92ZSIsdCl9LG1vdXNlb3V0OmZ1bmN0aW9uKHQpe3ZhciBlPSh0PWxpKHRoaXMuZG9tLHQpKS50b0VsZW1lbnR8fHQucmVsYXRlZFRhcmdldDtpZihlIT10aGlzLmRvbSlmb3IoO2UmJjkhPWUubm9kZVR5cGU7KXtpZihlPT09dGhpcy5kb20pcmV0dXJuO2U9ZS5wYXJlbnROb2RlfXRoaXMudHJpZ2dlcigibW91c2VvdXQiLHQpfSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKHQpeyh0PWxpKHRoaXMuZG9tLHQpKS56ckJ5VG91Y2g9ITAsdGhpcy5fbGFzdFRvdWNoTW9tZW50PW5ldyBEYXRlLGdpKHRoaXMsdCwic3RhcnQiKSxady5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpLFp3Lm1vdXNlZG93bi5jYWxsKHRoaXMsdCksbWkodGhpcyl9LHRvdWNobW92ZTpmdW5jdGlvbih0KXsodD1saSh0aGlzLmRvbSx0KSkuenJCeVRvdWNoPSEwLGdpKHRoaXMsdCwiY2hhbmdlIiksWncubW91c2Vtb3ZlLmNhbGwodGhpcyx0KSxtaSh0aGlzKX0sdG91Y2hlbmQ6ZnVuY3Rpb24odCl7KHQ9bGkodGhpcy5kb20sdCkpLnpyQnlUb3VjaD0hMCxnaSh0aGlzLHQsImVuZCIpLFp3Lm1vdXNldXAuY2FsbCh0aGlzLHQpLCtuZXcgRGF0ZS10aGlzLl9sYXN0VG91Y2hNb21lbnQ8MzAwJiZady5jbGljay5jYWxsKHRoaXMsdCksbWkodGhpcyl9LHBvaW50ZXJkb3duOmZ1bmN0aW9uKHQpe1p3Lm1vdXNlZG93bi5jYWxsKHRoaXMsdCl9LHBvaW50ZXJtb3ZlOmZ1bmN0aW9uKHQpe3ZpKHQpfHxady5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpfSxwb2ludGVydXA6ZnVuY3Rpb24odCl7WncubW91c2V1cC5jYWxsKHRoaXMsdCl9LHBvaW50ZXJvdXQ6ZnVuY3Rpb24odCl7dmkodCl8fFp3Lm1vdXNlb3V0LmNhbGwodGhpcyx0KX19O2QoWyJjbGljayIsIm1vdXNlZG93biIsIm1vdXNldXAiLCJtb3VzZXdoZWVsIiwiZGJsY2xpY2siLCJjb250ZXh0bWVudSJdLGZ1bmN0aW9uKHQpe1p3W3RdPWZ1bmN0aW9uKGUpe2U9bGkodGhpcy5kb20sZSksdGhpcy50cmlnZ2VyKHQsZSl9fSk7dmFyIFV3PXhpLnByb3RvdHlwZTtVdy5kaXNwb3NlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PUd3LmNvbmNhdChXdyksZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgaT10W2VdO2hpKHRoaXMuZG9tLHBpKGkpLHRoaXMuX2hhbmRsZXJzW2ldKX19LFV3LnNldEN1cnNvcj1mdW5jdGlvbih0KXt0aGlzLmRvbS5zdHlsZSYmKHRoaXMuZG9tLnN0eWxlLmN1cnNvcj10fHwiZGVmYXVsdCIpfSxoKHhpLFRfKTt2YXIgWHc9IW9fLmNhbnZhc1N1cHBvcnRlZCxqdz17Y2FudmFzOk53fSxZdz17fSxxdz1mdW5jdGlvbih0LGUsaSl7aT1pfHx7fSx0aGlzLmRvbT1lLHRoaXMuaWQ9dDt2YXIgbj10aGlzLG89bmV3IHV3LGE9aS5yZW5kZXJlcjtpZihYdyl7aWYoIWp3LnZtbCl0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRvIHJlcXVpcmUgJ3pyZW5kZXIvdm1sL3ZtbCcgdG8gc3VwcG9ydCBJRTgiKTthPSJ2bWwifWVsc2UgYSYmandbYV18fChhPSJjYW52YXMiKTt2YXIgcj1uZXcgandbYV0oZSxvLGksdCk7dGhpcy5zdG9yYWdlPW8sdGhpcy5wYWludGVyPXI7dmFyIHM9b18ubm9kZXx8b18ud29ya2VyP251bGw6bmV3IHhpKHIuZ2V0Vmlld3BvcnRSb290KCkpO3RoaXMuaGFuZGxlcj1uZXcgQ18obyxyLHMsci5yb290KSx0aGlzLmFuaW1hdGlvbj1uZXcgencoe3N0YWdlOnt1cGRhdGU6bSh0aGlzLmZsdXNoLHRoaXMpfX0pLHRoaXMuYW5pbWF0aW9uLnN0YXJ0KCksdGhpcy5fbmVlZHNSZWZyZXNoO3ZhciBsPW8uZGVsRnJvbVN0b3JhZ2UsdT1vLmFkZFRvU3RvcmFnZTtvLmRlbEZyb21TdG9yYWdlPWZ1bmN0aW9uKHQpe2wuY2FsbChvLHQpLHQmJnQucmVtb3ZlU2VsZkZyb21acihuKX0sby5hZGRUb1N0b3JhZ2U9ZnVuY3Rpb24odCl7dS5jYWxsKG8sdCksdC5hZGRTZWxmVG9acihuKX19O3F3LnByb3RvdHlwZT17Y29uc3RydWN0b3I6cXcsZ2V0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZH0sYWRkOmZ1bmN0aW9uKHQpe3RoaXMuc3RvcmFnZS5hZGRSb290KHQpLHRoaXMuX25lZWRzUmVmcmVzaD0hMH0scmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuc3RvcmFnZS5kZWxSb290KHQpLHRoaXMuX25lZWRzUmVmcmVzaD0hMH0sY29uZmlnTGF5ZXI6ZnVuY3Rpb24odCxlKXt0aGlzLnBhaW50ZXIuY29uZmlnTGF5ZXImJnRoaXMucGFpbnRlci5jb25maWdMYXllcih0LGUpLHRoaXMuX25lZWRzUmVmcmVzaD0hMH0sc2V0QmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uKHQpe3RoaXMucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3ImJnRoaXMucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3IodCksdGhpcy5fbmVlZHNSZWZyZXNoPSEwfSxyZWZyZXNoSW1tZWRpYXRlbHk6ZnVuY3Rpb24oKXt0aGlzLl9uZWVkc1JlZnJlc2g9ITEsdGhpcy5wYWludGVyLnJlZnJlc2goKSx0aGlzLl9uZWVkc1JlZnJlc2g9ITF9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9uZWVkc1JlZnJlc2g9ITB9LGZsdXNoOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5fbmVlZHNSZWZyZXNoJiYodD0hMCx0aGlzLnJlZnJlc2hJbW1lZGlhdGVseSgpKSx0aGlzLl9uZWVkc1JlZnJlc2hIb3ZlciYmKHQ9ITAsdGhpcy5yZWZyZXNoSG92ZXJJbW1lZGlhdGVseSgpKSx0JiZ0aGlzLnRyaWdnZXIoInJlbmRlcmVkIil9LGFkZEhvdmVyOmZ1bmN0aW9uKHQsZSl7dGhpcy5wYWludGVyLmFkZEhvdmVyJiYodGhpcy5wYWludGVyLmFkZEhvdmVyKHQsZSksdGhpcy5yZWZyZXNoSG92ZXIoKSl9LHJlbW92ZUhvdmVyOmZ1bmN0aW9uKHQpe3RoaXMucGFpbnRlci5yZW1vdmVIb3ZlciYmKHRoaXMucGFpbnRlci5yZW1vdmVIb3Zlcih0KSx0aGlzLnJlZnJlc2hIb3ZlcigpKX0sY2xlYXJIb3ZlcjpmdW5jdGlvbigpe3RoaXMucGFpbnRlci5jbGVhckhvdmVyJiYodGhpcy5wYWludGVyLmNsZWFySG92ZXIoKSx0aGlzLnJlZnJlc2hIb3ZlcigpKX0scmVmcmVzaEhvdmVyOmZ1bmN0aW9uKCl7dGhpcy5fbmVlZHNSZWZyZXNoSG92ZXI9ITB9LHJlZnJlc2hIb3ZlckltbWVkaWF0ZWx5OmZ1bmN0aW9uKCl7dGhpcy5fbmVlZHNSZWZyZXNoSG92ZXI9ITEsdGhpcy5wYWludGVyLnJlZnJlc2hIb3ZlciYmdGhpcy5wYWludGVyLnJlZnJlc2hIb3ZlcigpfSxyZXNpemU6ZnVuY3Rpb24odCl7dD10fHx7fSx0aGlzLnBhaW50ZXIucmVzaXplKHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuaGFuZGxlci5yZXNpemUoKX0sY2xlYXJBbmltYXRpb246ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbi5jbGVhcigpfSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhaW50ZXIuZ2V0V2lkdGgoKX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFpbnRlci5nZXRIZWlnaHQoKX0scGF0aFRvSW1hZ2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wYWludGVyLnBhdGhUb0ltYWdlKHQsZSl9LHNldEN1cnNvclN0eWxlOmZ1bmN0aW9uKHQpe3RoaXMuaGFuZGxlci5zZXRDdXJzb3JTdHlsZSh0KX0sZmluZEhvdmVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaGFuZGxlci5maW5kSG92ZXIodCxlKX0sb246ZnVuY3Rpb24odCxlLGkpe3RoaXMuaGFuZGxlci5vbih0LGUsaSl9LG9mZjpmdW5jdGlvbih0LGUpe3RoaXMuaGFuZGxlci5vZmYodCxlKX0sdHJpZ2dlcjpmdW5jdGlvbih0LGUpe3RoaXMuaGFuZGxlci50cmlnZ2VyKHQsZSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5zdG9yYWdlLmRlbFJvb3QoKSx0aGlzLnBhaW50ZXIuY2xlYXIoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uLnN0b3AoKSx0aGlzLmNsZWFyKCksdGhpcy5zdG9yYWdlLmRpc3Bvc2UoKSx0aGlzLnBhaW50ZXIuZGlzcG9zZSgpLHRoaXMuaGFuZGxlci5kaXNwb3NlKCksdGhpcy5hbmltYXRpb249dGhpcy5zdG9yYWdlPXRoaXMucGFpbnRlcj10aGlzLmhhbmRsZXI9bnVsbCxiaSh0aGlzLmlkKX19O3ZhciBLdz0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7dmVyc2lvbjoiNC4wLjQiLGluaXQ6X2ksZGlzcG9zZTpmdW5jdGlvbih0KXtpZih0KXQuZGlzcG9zZSgpO2Vsc2V7Zm9yKHZhciBlIGluIFl3KVl3Lmhhc093blByb3BlcnR5KGUpJiZZd1tlXS5kaXNwb3NlKCk7WXc9e319cmV0dXJuIHRoaXN9LGdldEluc3RhbmNlOmZ1bmN0aW9uKHQpe3JldHVybiBZd1t0XX0scmVnaXN0ZXJQYWludGVyOndpfSksJHc9ZCxKdz13LFF3PXksdGI9InNlcmllc1wwIixlYj1bImZvbnRTdHlsZSIsImZvbnRXZWlnaHQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJyaWNoIiwidGFnIiwiY29sb3IiLCJ0ZXh0Qm9yZGVyQ29sb3IiLCJ0ZXh0Qm9yZGVyV2lkdGgiLCJ3aWR0aCIsImhlaWdodCIsImxpbmVIZWlnaHQiLCJhbGlnbiIsInZlcnRpY2FsQWxpZ24iLCJiYXNlbGluZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwidGV4dFNoYWRvd0NvbG9yIiwidGV4dFNoYWRvd0JsdXIiLCJ0ZXh0U2hhZG93T2Zmc2V0WCIsInRleHRTaGFkb3dPZmZzZXRZIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImJvcmRlclJhZGl1cyIsInBhZGRpbmciXSxpYj0wLG5iPSIuIixvYj0iX19fRUNfX0NPTVBPTkVOVF9fQ09OVEFJTkVSX19fIixhYj0wLHJiPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV1bMV18fCh0W2VdWzFdPXRbZV1bMF0pO3JldHVybiBmdW5jdGlvbihlLGksbil7Zm9yKHZhciBvPXt9LGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHI9dFthXVsxXTtpZighKGkmJmwoaSxyKT49MHx8biYmbChuLHIpPDApKXt2YXIgcz1lLmdldFNoYWxsb3cocik7bnVsbCE9cyYmKG9bdFthXVswXV09cyl9fXJldHVybiBvfX0sc2I9cmIoW1sibGluZVdpZHRoIiwid2lkdGgiXSxbInN0cm9rZSIsImNvbG9yIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdXSksbGI9e2dldExpbmVTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT1zYih0aGlzLHQpLGk9dGhpcy5nZXRMaW5lRGFzaChlLmxpbmVXaWR0aCk7cmV0dXJuIGkmJihlLmxpbmVEYXNoPWkpLGV9LGdldExpbmVEYXNoOmZ1bmN0aW9uKHQpe251bGw9PXQmJih0PTEpO3ZhciBlPXRoaXMuZ2V0KCJ0eXBlIiksaT1NYXRoLm1heCh0LDIpLG49NCp0O3JldHVybiJzb2xpZCI9PT1lfHxudWxsPT1lP251bGw6ImRhc2hlZCI9PT1lP1tuLG5dOltpLGldfX0sdWI9cmIoW1siZmlsbCIsImNvbG9yIl0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dDb2xvciJdXSksaGI9e2dldEFyZWFTdHlsZTpmdW5jdGlvbih0LGUpe3JldHVybiB1Yih0aGlzLHQsZSl9fSxjYj1NYXRoLnBvdyxkYj1NYXRoLnNxcnQsZmI9MWUtOCxwYj0xZS00LGdiPWRiKDMpLG1iPTEvMyx2Yj1WKCkseWI9VigpLHhiPVYoKSxfYj1NYXRoLm1pbix3Yj1NYXRoLm1heCxiYj1NYXRoLnNpbixTYj1NYXRoLmNvcyxNYj0yKk1hdGguUEksSWI9VigpLFRiPVYoKSxEYj1WKCksQWI9W10sQ2I9W10sTGI9e006MSxMOjIsQzozLFE6NCxBOjUsWjo2LFI6N30sa2I9W10sUGI9W10sTmI9W10sT2I9W10sRWI9TWF0aC5taW4sUmI9TWF0aC5tYXgsemI9TWF0aC5jb3MsQmI9TWF0aC5zaW4sVmI9TWF0aC5zcXJ0LEdiPU1hdGguYWJzLFdiPSJ1bmRlZmluZWQiIT10eXBlb2YgRmxvYXQzMkFycmF5LEZiPWZ1bmN0aW9uKHQpe3RoaXMuX3NhdmVEYXRhPSF0LHRoaXMuX3NhdmVEYXRhJiYodGhpcy5kYXRhPVtdKSx0aGlzLl9jdHg9bnVsbH07RmIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpGYixfeGk6MCxfeWk6MCxfeDA6MCxfeTA6MCxfdXg6MCxfdXk6MCxfbGVuOjAsX2xpbmVEYXNoOm51bGwsX2Rhc2hPZmZzZXQ6MCxfZGFzaElkeDowLF9kYXNoU3VtOjAsc2V0U2NhbGU6ZnVuY3Rpb24odCxlKXt0aGlzLl91eD1HYigxL0pfL3QpfHwwLHRoaXMuX3V5PUdiKDEvSl8vZSl8fDB9LGdldENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4fSxiZWdpblBhdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2N0eD10LHQmJnQuYmVnaW5QYXRoKCksdCYmKHRoaXMuZHByPXQuZHByKSx0aGlzLl9zYXZlRGF0YSYmKHRoaXMuX2xlbj0wKSx0aGlzLl9saW5lRGFzaCYmKHRoaXMuX2xpbmVEYXNoPW51bGwsdGhpcy5fZGFzaE9mZnNldD0wKSx0aGlzfSxtb3ZlVG86ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hZGREYXRhKExiLk0sdCxlKSx0aGlzLl9jdHgmJnRoaXMuX2N0eC5tb3ZlVG8odCxlKSx0aGlzLl94MD10LHRoaXMuX3kwPWUsdGhpcy5feGk9dCx0aGlzLl95aT1lLHRoaXN9LGxpbmVUbzpmdW5jdGlvbih0LGUpe3ZhciBpPUdiKHQtdGhpcy5feGkpPnRoaXMuX3V4fHxHYihlLXRoaXMuX3lpKT50aGlzLl91eXx8dGhpcy5fbGVuPDU7cmV0dXJuIHRoaXMuYWRkRGF0YShMYi5MLHQsZSksdGhpcy5fY3R4JiZpJiYodGhpcy5fbmVlZHNEYXNoKCk/dGhpcy5fZGFzaGVkTGluZVRvKHQsZSk6dGhpcy5fY3R4LmxpbmVUbyh0LGUpKSxpJiYodGhpcy5feGk9dCx0aGlzLl95aT1lKSx0aGlzfSxiZXppZXJDdXJ2ZVRvOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXtyZXR1cm4gdGhpcy5hZGREYXRhKExiLkMsdCxlLGksbixvLGEpLHRoaXMuX2N0eCYmKHRoaXMuX25lZWRzRGFzaCgpP3RoaXMuX2Rhc2hlZEJlemllclRvKHQsZSxpLG4sbyxhKTp0aGlzLl9jdHguYmV6aWVyQ3VydmVUbyh0LGUsaSxuLG8sYSkpLHRoaXMuX3hpPW8sdGhpcy5feWk9YSx0aGlzfSxxdWFkcmF0aWNDdXJ2ZVRvOmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB0aGlzLmFkZERhdGEoTGIuUSx0LGUsaSxuKSx0aGlzLl9jdHgmJih0aGlzLl9uZWVkc0Rhc2goKT90aGlzLl9kYXNoZWRRdWFkcmF0aWNUbyh0LGUsaSxuKTp0aGlzLl9jdHgucXVhZHJhdGljQ3VydmVUbyh0LGUsaSxuKSksdGhpcy5feGk9aSx0aGlzLl95aT1uLHRoaXN9LGFyYzpmdW5jdGlvbih0LGUsaSxuLG8sYSl7cmV0dXJuIHRoaXMuYWRkRGF0YShMYi5BLHQsZSxpLGksbixvLW4sMCxhPzA6MSksdGhpcy5fY3R4JiZ0aGlzLl9jdHguYXJjKHQsZSxpLG4sbyxhKSx0aGlzLl94aT16YihvKSppK3QsdGhpcy5feWk9QmIobykqaSt0LHRoaXN9LGFyY1RvOmZ1bmN0aW9uKHQsZSxpLG4sbyl7cmV0dXJuIHRoaXMuX2N0eCYmdGhpcy5fY3R4LmFyY1RvKHQsZSxpLG4sbyksdGhpc30scmVjdDpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdGhpcy5fY3R4JiZ0aGlzLl9jdHgucmVjdCh0LGUsaSxuKSx0aGlzLmFkZERhdGEoTGIuUix0LGUsaSxuKSx0aGlzfSxjbG9zZVBhdGg6ZnVuY3Rpb24oKXt0aGlzLmFkZERhdGEoTGIuWik7dmFyIHQ9dGhpcy5fY3R4LGU9dGhpcy5feDAsaT10aGlzLl95MDtyZXR1cm4gdCYmKHRoaXMuX25lZWRzRGFzaCgpJiZ0aGlzLl9kYXNoZWRMaW5lVG8oZSxpKSx0LmNsb3NlUGF0aCgpKSx0aGlzLl94aT1lLHRoaXMuX3lpPWksdGhpc30sZmlsbDpmdW5jdGlvbih0KXt0JiZ0LmZpbGwoKSx0aGlzLnRvU3RhdGljKCl9LHN0cm9rZTpmdW5jdGlvbih0KXt0JiZ0LnN0cm9rZSgpLHRoaXMudG9TdGF0aWMoKX0sc2V0TGluZURhc2g6ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KXt0aGlzLl9saW5lRGFzaD10LHRoaXMuX2Rhc2hJZHg9MDtmb3IodmFyIGU9MCxpPTA7aTx0Lmxlbmd0aDtpKyspZSs9dFtpXTt0aGlzLl9kYXNoU3VtPWV9cmV0dXJuIHRoaXN9LHNldExpbmVEYXNoT2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXNoT2Zmc2V0PXQsdGhpc30sbGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbn0sc2V0RGF0YTpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDt0aGlzLmRhdGEmJnRoaXMuZGF0YS5sZW5ndGg9PWV8fCFXYnx8KHRoaXMuZGF0YT1uZXcgRmxvYXQzMkFycmF5KGUpKTtmb3IodmFyIGk9MDtpPGU7aSsrKXRoaXMuZGF0YVtpXT10W2ldO3RoaXMuX2xlbj1lfSxhcHBlbmRQYXRoOmZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3RdKTtmb3IodmFyIGU9dC5sZW5ndGgsaT0wLG49dGhpcy5fbGVuLG89MDtvPGU7bysrKWkrPXRbb10ubGVuKCk7V2ImJnRoaXMuZGF0YSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSYmKHRoaXMuZGF0YT1uZXcgRmxvYXQzMkFycmF5KG4raSkpO2ZvcihvPTA7bzxlO28rKylmb3IodmFyIGE9dFtvXS5kYXRhLHI9MDtyPGEubGVuZ3RoO3IrKyl0aGlzLmRhdGFbbisrXT1hW3JdO3RoaXMuX2xlbj1ufSxhZGREYXRhOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX3NhdmVEYXRhKXt2YXIgZT10aGlzLmRhdGE7dGhpcy5fbGVuK2FyZ3VtZW50cy5sZW5ndGg+ZS5sZW5ndGgmJih0aGlzLl9leHBhbmREYXRhKCksZT10aGlzLmRhdGEpO2Zvcih2YXIgaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspZVt0aGlzLl9sZW4rK109YXJndW1lbnRzW2ldO3RoaXMuX3ByZXZDbWQ9dH19LF9leHBhbmREYXRhOmZ1bmN0aW9uKCl7aWYoISh0aGlzLmRhdGEgaW5zdGFuY2VvZiBBcnJheSkpe2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLl9sZW47ZSsrKXRbZV09dGhpcy5kYXRhW2VdO3RoaXMuZGF0YT10fX0sX25lZWRzRGFzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lRGFzaH0sX2Rhc2hlZExpbmVUbzpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbz10aGlzLl9kYXNoU3VtLGE9dGhpcy5fZGFzaE9mZnNldCxyPXRoaXMuX2xpbmVEYXNoLHM9dGhpcy5fY3R4LGw9dGhpcy5feGksdT10aGlzLl95aSxoPXQtbCxjPWUtdSxkPVZiKGgqaCtjKmMpLGY9bCxwPXUsZz1yLmxlbmd0aDtmb3IoaC89ZCxjLz1kLGE8MCYmKGE9bythKSxmLT0oYSU9bykqaCxwLT1hKmM7aD4wJiZmPD10fHxoPDAmJmY+PXR8fDA9PWgmJihjPjAmJnA8PWV8fGM8MCYmcD49ZSk7KWYrPWgqKGk9cltuPXRoaXMuX2Rhc2hJZHhdKSxwKz1jKmksdGhpcy5fZGFzaElkeD0obisxKSVnLGg+MCYmZjxsfHxoPDAmJmY+bHx8Yz4wJiZwPHV8fGM8MCYmcD51fHxzW24lMj8ibW92ZVRvIjoibGluZVRvIl0oaD49MD9FYihmLHQpOlJiKGYsdCksYz49MD9FYihwLGUpOlJiKHAsZSkpO2g9Zi10LGM9cC1lLHRoaXMuX2Rhc2hPZmZzZXQ9LVZiKGgqaCtjKmMpfSxfZGFzaGVkQmV6aWVyVG86ZnVuY3Rpb24odCxlLGksbixvLGEpe3ZhciByLHMsbCx1LGgsYz10aGlzLl9kYXNoU3VtLGQ9dGhpcy5fZGFzaE9mZnNldCxmPXRoaXMuX2xpbmVEYXNoLHA9dGhpcy5fY3R4LGc9dGhpcy5feGksbT10aGlzLl95aSx2PWppLHk9MCx4PXRoaXMuX2Rhc2hJZHgsXz1mLmxlbmd0aCx3PTA7Zm9yKGQ8MCYmKGQ9YytkKSxkJT1jLHI9MDtyPDE7cis9LjEpcz12KGcsdCxpLG8scisuMSktdihnLHQsaSxvLHIpLGw9dihtLGUsbixhLHIrLjEpLXYobSxlLG4sYSxyKSx5Kz1WYihzKnMrbCpsKTtmb3IoO3g8XyYmISgodys9Zlt4XSk+ZCk7eCsrKTtmb3Iocj0ody1kKS95O3I8PTE7KXU9dihnLHQsaSxvLHIpLGg9dihtLGUsbixhLHIpLHglMj9wLm1vdmVUbyh1LGgpOnAubGluZVRvKHUsaCkscis9Zlt4XS95LHg9KHgrMSklXzt4JTIhPTAmJnAubGluZVRvKG8sYSkscz1vLXUsbD1hLWgsdGhpcy5fZGFzaE9mZnNldD0tVmIocypzK2wqbCl9LF9kYXNoZWRRdWFkcmF0aWNUbzpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1pLGE9bjtpPShpKzIqdCkvMyxuPShuKzIqZSkvMyx0PSh0aGlzLl94aSsyKnQpLzMsZT0odGhpcy5feWkrMiplKS8zLHRoaXMuX2Rhc2hlZEJlemllclRvKHQsZSxpLG4sbyxhKX0sdG9TdGF0aWM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGE7dCBpbnN0YW5jZW9mIEFycmF5JiYodC5sZW5ndGg9dGhpcy5fbGVuLFdiJiYodGhpcy5kYXRhPW5ldyBGbG9hdDMyQXJyYXkodCkpKX0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7a2JbMF09a2JbMV09TmJbMF09TmJbMV09TnVtYmVyLk1BWF9WQUxVRSxQYlswXT1QYlsxXT1PYlswXT1PYlsxXT0tTnVtYmVyLk1BWF9WQUxVRTtmb3IodmFyIHQ9dGhpcy5kYXRhLGU9MCxpPTAsbj0wLG89MCxhPTA7YTx0Lmxlbmd0aDspe3ZhciByPXRbYSsrXTtzd2l0Y2goMT09YSYmKG49ZT10W2FdLG89aT10W2ErMV0pLHIpe2Nhc2UgTGIuTTplPW49dFthKytdLGk9bz10W2ErK10sTmJbMF09bixOYlsxXT1vLE9iWzBdPW4sT2JbMV09bzticmVhaztjYXNlIExiLkw6c24oZSxpLHRbYV0sdFthKzFdLE5iLE9iKSxlPXRbYSsrXSxpPXRbYSsrXTticmVhaztjYXNlIExiLkM6bG4oZSxpLHRbYSsrXSx0W2ErK10sdFthKytdLHRbYSsrXSx0W2FdLHRbYSsxXSxOYixPYiksZT10W2ErK10saT10W2ErK107YnJlYWs7Y2FzZSBMYi5ROnVuKGUsaSx0W2ErK10sdFthKytdLHRbYV0sdFthKzFdLE5iLE9iKSxlPXRbYSsrXSxpPXRbYSsrXTticmVhaztjYXNlIExiLkE6dmFyIHM9dFthKytdLGw9dFthKytdLHU9dFthKytdLGg9dFthKytdLGM9dFthKytdLGQ9dFthKytdK2MsZj0odFthKytdLDEtdFthKytdKTsxPT1hJiYobj16YihjKSp1K3Msbz1CYihjKSpoK2wpLGhuKHMsbCx1LGgsYyxkLGYsTmIsT2IpLGU9emIoZCkqdStzLGk9QmIoZCkqaCtsO2JyZWFrO2Nhc2UgTGIuUjpzbihuPWU9dFthKytdLG89aT10W2ErK10sbit0W2ErK10sbyt0W2ErK10sTmIsT2IpO2JyZWFrO2Nhc2UgTGIuWjplPW4saT1vfXR0KGtiLGtiLE5iKSxldChQYixQYixPYil9cmV0dXJuIDA9PT1hJiYoa2JbMF09a2JbMV09UGJbMF09UGJbMV09MCksbmV3ICR0KGtiWzBdLGtiWzFdLFBiWzBdLWtiWzBdLFBiWzFdLWtiWzFdKX0scmVidWlsZFBhdGg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbixvLGEscixzPXRoaXMuZGF0YSxsPXRoaXMuX3V4LHU9dGhpcy5fdXksaD10aGlzLl9sZW4sYz0wO2M8aDspe3ZhciBkPXNbYysrXTtzd2l0Y2goMT09YyYmKGU9bj1zW2NdLGk9bz1zW2MrMV0pLGQpe2Nhc2UgTGIuTTplPW49c1tjKytdLGk9bz1zW2MrK10sdC5tb3ZlVG8obixvKTticmVhaztjYXNlIExiLkw6YT1zW2MrK10scj1zW2MrK10sKEdiKGEtbik+bHx8R2Ioci1vKT51fHxjPT09aC0xKSYmKHQubGluZVRvKGEsciksbj1hLG89cik7YnJlYWs7Y2FzZSBMYi5DOnQuYmV6aWVyQ3VydmVUbyhzW2MrK10sc1tjKytdLHNbYysrXSxzW2MrK10sc1tjKytdLHNbYysrXSksbj1zW2MtMl0sbz1zW2MtMV07YnJlYWs7Y2FzZSBMYi5ROnQucXVhZHJhdGljQ3VydmVUbyhzW2MrK10sc1tjKytdLHNbYysrXSxzW2MrK10pLG49c1tjLTJdLG89c1tjLTFdO2JyZWFrO2Nhc2UgTGIuQTp2YXIgZj1zW2MrK10scD1zW2MrK10sZz1zW2MrK10sbT1zW2MrK10sdj1zW2MrK10seT1zW2MrK10seD1zW2MrK10sXz1zW2MrK10sdz1nPm0/ZzptLGI9Zz5tPzE6Zy9tLFM9Zz5tP20vZzoxLE09dit5O01hdGguYWJzKGctbSk+LjAwMT8odC50cmFuc2xhdGUoZixwKSx0LnJvdGF0ZSh4KSx0LnNjYWxlKGIsUyksdC5hcmMoMCwwLHcsdixNLDEtXyksdC5zY2FsZSgxL2IsMS9TKSx0LnJvdGF0ZSgteCksdC50cmFuc2xhdGUoLWYsLXApKTp0LmFyYyhmLHAsdyx2LE0sMS1fKSwxPT1jJiYoZT16Yih2KSpnK2YsaT1CYih2KSptK3ApLG49emIoTSkqZytmLG89QmIoTSkqbStwO2JyZWFrO2Nhc2UgTGIuUjplPW49c1tjXSxpPW89c1tjKzFdLHQucmVjdChzW2MrK10sc1tjKytdLHNbYysrXSxzW2MrK10pO2JyZWFrO2Nhc2UgTGIuWjp0LmNsb3NlUGF0aCgpLG49ZSxvPWl9fX19LEZiLkNNRD1MYjt2YXIgSGI9MipNYXRoLlBJLFpiPTIqTWF0aC5QSSxVYj1GYi5DTUQsWGI9MipNYXRoLlBJLGpiPTFlLTQsWWI9Wy0xLC0xLC0xXSxxYj1bLTEsLTFdLEtiPXZ3LnByb3RvdHlwZS5nZXRDYW52YXNQYXR0ZXJuLCRiPU1hdGguYWJzLEpiPW5ldyBGYighMCk7SW4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpJbix0eXBlOiJwYXRoIixfX2RpcnR5UGF0aDohMCxzdHJva2VDb250YWluVGhyZXNob2xkOjUsYnJ1c2g6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnN0eWxlLG49dGhpcy5wYXRofHxKYixvPWkuaGFzU3Ryb2tlKCksYT1pLmhhc0ZpbGwoKSxyPWkuZmlsbCxzPWkuc3Ryb2tlLGw9YSYmISFyLmNvbG9yU3RvcHMsdT1vJiYhIXMuY29sb3JTdG9wcyxoPWEmJiEhci5pbWFnZSxjPW8mJiEhcy5pbWFnZTtpZihpLmJpbmQodCx0aGlzLGUpLHRoaXMuc2V0VHJhbnNmb3JtKHQpLHRoaXMuX19kaXJ0eSl7dmFyIGQ7bCYmKGQ9ZHx8dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSx0aGlzLl9maWxsR3JhZGllbnQ9aS5nZXRHcmFkaWVudCh0LHIsZCkpLHUmJihkPWR8fHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksdGhpcy5fc3Ryb2tlR3JhZGllbnQ9aS5nZXRHcmFkaWVudCh0LHMsZCkpfWw/dC5maWxsU3R5bGU9dGhpcy5fZmlsbEdyYWRpZW50OmgmJih0LmZpbGxTdHlsZT1LYi5jYWxsKHIsdCkpLHU/dC5zdHJva2VTdHlsZT10aGlzLl9zdHJva2VHcmFkaWVudDpjJiYodC5zdHJva2VTdHlsZT1LYi5jYWxsKHMsdCkpO3ZhciBmPWkubGluZURhc2gscD1pLmxpbmVEYXNoT2Zmc2V0LGc9ISF0LnNldExpbmVEYXNoLG09dGhpcy5nZXRHbG9iYWxTY2FsZSgpO24uc2V0U2NhbGUobVswXSxtWzFdKSx0aGlzLl9fZGlydHlQYXRofHxmJiYhZyYmbz8obi5iZWdpblBhdGgodCksZiYmIWcmJihuLnNldExpbmVEYXNoKGYpLG4uc2V0TGluZURhc2hPZmZzZXQocCkpLHRoaXMuYnVpbGRQYXRoKG4sdGhpcy5zaGFwZSwhMSksdGhpcy5wYXRoJiYodGhpcy5fX2RpcnR5UGF0aD0hMSkpOih0LmJlZ2luUGF0aCgpLHRoaXMucGF0aC5yZWJ1aWxkUGF0aCh0KSksYSYmbi5maWxsKHQpLGYmJmcmJih0LnNldExpbmVEYXNoKGYpLHQubGluZURhc2hPZmZzZXQ9cCksbyYmbi5zdHJva2UodCksZiYmZyYmdC5zZXRMaW5lRGFzaChbXSksbnVsbCE9aS50ZXh0JiYodGhpcy5yZXN0b3JlVHJhbnNmb3JtKHQpLHRoaXMuZHJhd1JlY3RUZXh0KHQsdGhpcy5nZXRCb3VuZGluZ1JlY3QoKSkpfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlLGkpe30sY3JlYXRlUGF0aFByb3h5OmZ1bmN0aW9uKCl7dGhpcy5wYXRoPW5ldyBGYn0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmVjdCxlPXRoaXMuc3R5bGUsaT0hdDtpZihpKXt2YXIgbj10aGlzLnBhdGg7bnx8KG49dGhpcy5wYXRoPW5ldyBGYiksdGhpcy5fX2RpcnR5UGF0aCYmKG4uYmVnaW5QYXRoKCksdGhpcy5idWlsZFBhdGgobix0aGlzLnNoYXBlLCExKSksdD1uLmdldEJvdW5kaW5nUmVjdCgpfWlmKHRoaXMuX3JlY3Q9dCxlLmhhc1N0cm9rZSgpKXt2YXIgbz10aGlzLl9yZWN0V2l0aFN0cm9rZXx8KHRoaXMuX3JlY3RXaXRoU3Ryb2tlPXQuY2xvbmUoKSk7aWYodGhpcy5fX2RpcnR5fHxpKXtvLmNvcHkodCk7dmFyIGE9ZS5saW5lV2lkdGgscj1lLnN0cm9rZU5vU2NhbGU/dGhpcy5nZXRMaW5lU2NhbGUoKToxO2UuaGFzRmlsbCgpfHwoYT1NYXRoLm1heChhLHRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZHx8NCkpLHI+MWUtMTAmJihvLndpZHRoKz1hL3Isby5oZWlnaHQrPWEvcixvLngtPWEvci8yLG8ueS09YS9yLzIpfXJldHVybiBvfXJldHVybiB0fSxjb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxuPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksbz10aGlzLnN0eWxlO2lmKHQ9aVswXSxlPWlbMV0sbi5jb250YWluKHQsZSkpe3ZhciBhPXRoaXMucGF0aC5kYXRhO2lmKG8uaGFzU3Ryb2tlKCkpe3ZhciByPW8ubGluZVdpZHRoLHM9by5zdHJva2VOb1NjYWxlP3RoaXMuZ2V0TGluZVNjYWxlKCk6MTtpZihzPjFlLTEwJiYoby5oYXNGaWxsKCl8fChyPU1hdGgubWF4KHIsdGhpcy5zdHJva2VDb250YWluVGhyZXNob2xkKSksTW4oYSxyL3MsdCxlKSkpcmV0dXJuITB9aWYoby5oYXNGaWxsKCkpcmV0dXJuIFNuKGEsdCxlKX1yZXR1cm4hMX0sZGlydHk6ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9ITApLHQmJih0aGlzLl9fZGlydHlQYXRoPXQsdGhpcy5fcmVjdD1udWxsKSx0aGlzLl9fZGlydHk9ITAsdGhpcy5fX3pyJiZ0aGlzLl9fenIucmVmcmVzaCgpLHRoaXMuX19jbGlwVGFyZ2V0JiZ0aGlzLl9fY2xpcFRhcmdldC5kaXJ0eSgpfSxhbmltYXRlU2hhcGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5pbWF0ZSgic2hhcGUiLHQpfSxhdHRyS1Y6ZnVuY3Rpb24odCxlKXsic2hhcGUiPT09dD8odGhpcy5zZXRTaGFwZShlKSx0aGlzLl9fZGlydHlQYXRoPSEwLHRoaXMuX3JlY3Q9bnVsbCk6JGUucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMsdCxlKX0sc2V0U2hhcGU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnNoYXBlO2lmKGkpe2lmKHcodCkpZm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGlbbl09dFtuXSk7ZWxzZSBpW3RdPWU7dGhpcy5kaXJ0eSghMCl9cmV0dXJuIHRoaXN9LGdldExpbmVTY2FsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudHJhbnNmb3JtO3JldHVybiB0JiYkYih0WzBdLTEpPjFlLTEwJiYkYih0WzNdLTEpPjFlLTEwP01hdGguc3FydCgkYih0WzBdKnRbM10tdFsyXSp0WzFdKSk6MX19LEluLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlKXtJbi5jYWxsKHRoaXMsZSksdC5zdHlsZSYmdGhpcy5zdHlsZS5leHRlbmRGcm9tKHQuc3R5bGUsITEpO3ZhciBpPXQuc2hhcGU7aWYoaSl7dGhpcy5zaGFwZT10aGlzLnNoYXBlfHx7fTt2YXIgbj10aGlzLnNoYXBlO2Zvcih2YXIgbyBpbiBpKSFuLmhhc093blByb3BlcnR5KG8pJiZpLmhhc093blByb3BlcnR5KG8pJiYobltvXT1pW29dKX10LmluaXQmJnQuaW5pdC5jYWxsKHRoaXMsZSl9O3UoZSxJbik7Zm9yKHZhciBpIGluIHQpInN0eWxlIiE9PWkmJiJzaGFwZSIhPT1pJiYoZS5wcm90b3R5cGVbaV09dFtpXSk7cmV0dXJuIGV9LHUoSW4sJGUpO3ZhciBRYj1GYi5DTUQsdFM9W1tdLFtdLFtdXSxlUz1NYXRoLnNxcnQsaVM9TWF0aC5hdGFuMixuUz1mdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxhLHIscyxsPXQuZGF0YSx1PVFiLk0saD1RYi5DLGM9UWIuTCxkPVFiLlIsZj1RYi5BLHA9UWIuUTtmb3Iobz0wLGE9MDtvPGwubGVuZ3RoOyl7c3dpdGNoKGk9bFtvKytdLGE9byxuPTAsaSl7Y2FzZSB1OmNhc2UgYzpuPTE7YnJlYWs7Y2FzZSBoOm49MzticmVhaztjYXNlIHA6bj0yO2JyZWFrO2Nhc2UgZjp2YXIgZz1lWzRdLG09ZVs1XSx2PWVTKGVbMF0qZVswXStlWzFdKmVbMV0pLHk9ZVMoZVsyXSplWzJdK2VbM10qZVszXSkseD1pUygtZVsxXS95LGVbMF0vdik7bFtvXSo9dixsW28rK10rPWcsbFtvXSo9eSxsW28rK10rPW0sbFtvKytdKj12LGxbbysrXSo9eSxsW28rK10rPXgsbFtvKytdKz14LGE9bys9MjticmVhaztjYXNlIGQ6c1swXT1sW28rK10sc1sxXT1sW28rK10sUShzLHMsZSksbFthKytdPXNbMF0sbFthKytdPXNbMV0sc1swXSs9bFtvKytdLHNbMV0rPWxbbysrXSxRKHMscyxlKSxsW2ErK109c1swXSxsW2ErK109c1sxXX1mb3Iocj0wO3I8bjtyKyspKHM9dFNbcl0pWzBdPWxbbysrXSxzWzFdPWxbbysrXSxRKHMscyxlKSxsW2ErK109c1swXSxsW2ErK109c1sxXX19LG9TPVsibSIsIk0iLCJsIiwiTCIsInYiLCJWIiwiaCIsIkgiLCJ6IiwiWiIsImMiLCJDIiwicSIsIlEiLCJ0IiwiVCIsInMiLCJTIiwiYSIsIkEiXSxhUz1NYXRoLnNxcnQsclM9TWF0aC5zaW4sc1M9TWF0aC5jb3MsbFM9TWF0aC5QSSx1Uz1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRbMF0qdFswXSt0WzFdKnRbMV0pfSxoUz1mdW5jdGlvbih0LGUpe3JldHVybih0WzBdKmVbMF0rdFsxXSplWzFdKS8odVModCkqdVMoZSkpfSxjUz1mdW5jdGlvbih0LGUpe3JldHVybih0WzBdKmVbMV08dFsxXSplWzBdPy0xOjEpKk1hdGguYWNvcyhoUyh0LGUpKX0sZFM9ZnVuY3Rpb24odCl7JGUuY2FsbCh0aGlzLHQpfTtkUy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmRTLHR5cGU6InRleHQiLGJydXNoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zdHlsZTt0aGlzLl9fZGlydHkmJk5lKGkpLGkuZmlsbD1pLnN0cm9rZT1pLnNoYWRvd0JsdXI9aS5zaGFkb3dDb2xvcj1pLnNoYWRvd09mZnNldFg9aS5zaGFkb3dPZmZzZXRZPW51bGw7dmFyIG49aS50ZXh0O251bGwhPW4mJihuKz0iIiksaS5iaW5kKHQsdGhpcyxlKSxLZShuLGkpJiYodGhpcy5zZXRUcmFuc2Zvcm0odCksRWUodGhpcyx0LG4saSksdGhpcy5yZXN0b3JlVHJhbnNmb3JtKHQpKX0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZTtpZih0aGlzLl9fZGlydHkmJk5lKHQpLCF0aGlzLl9yZWN0KXt2YXIgZT10LnRleHQ7bnVsbCE9ZT9lKz0iIjplPSIiO3ZhciBpPW1lKHQudGV4dCsiIix0LmZvbnQsdC50ZXh0QWxpZ24sdC50ZXh0VmVydGljYWxBbGlnbix0LnRleHRQYWRkaW5nLHQucmljaCk7aWYoaS54Kz10Lnh8fDAsaS55Kz10Lnl8fDAsWGUodC50ZXh0U3Ryb2tlLHQudGV4dFN0cm9rZVdpZHRoKSl7dmFyIG49dC50ZXh0U3Ryb2tlV2lkdGg7aS54LT1uLzIsaS55LT1uLzIsaS53aWR0aCs9bixpLmhlaWdodCs9bn10aGlzLl9yZWN0PWl9cmV0dXJuIHRoaXMuX3JlY3R9fSx1KGRTLCRlKTt2YXIgZlM9SW4uZXh0ZW5kKHt0eXBlOiJjaXJjbGUiLHNoYXBlOntjeDowLGN5OjAscjowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlLGkpe2kmJnQubW92ZVRvKGUuY3grZS5yLGUuY3kpLHQuYXJjKGUuY3gsZS5jeSxlLnIsMCwyKk1hdGguUEksITApfX0pLHBTPVtbInNoYWRvd0JsdXIiLDBdLFsic2hhZG93Q29sb3IiLCIjMDAwIl0sWyJzaGFkb3dPZmZzZXRYIiwwXSxbInNoYWRvd09mZnNldFkiLDBdXSxnUz1mdW5jdGlvbih0KXtyZXR1cm4gb18uYnJvd3Nlci5pZSYmb18uYnJvd3Nlci52ZXJzaW9uPj0xMT9mdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5fX2NsaXBQYXRocyxuPXRoaXMuc3R5bGU7aWYoaSlmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIGE9aVtvXSxyPWEmJmEuc2hhcGUscz1hJiZhLnR5cGU7aWYociYmKCJzZWN0b3IiPT09cyYmci5zdGFydEFuZ2xlPT09ci5lbmRBbmdsZXx8InJlY3QiPT09cyYmKCFyLndpZHRofHwhci5oZWlnaHQpKSl7Zm9yKGw9MDtsPHBTLmxlbmd0aDtsKyspcFNbbF1bMl09bltwU1tsXVswXV0sbltwU1tsXVswXV09cFNbbF1bMV07ZT0hMDticmVha319aWYodC5hcHBseSh0aGlzLGFyZ3VtZW50cyksZSlmb3IodmFyIGw9MDtsPHBTLmxlbmd0aDtsKyspbltwU1tsXVswXV09cFNbbF1bMl19OnR9LG1TPUluLmV4dGVuZCh7dHlwZToic2VjdG9yIixzaGFwZTp7Y3g6MCxjeTowLHIwOjAscjowLHN0YXJ0QW5nbGU6MCxlbmRBbmdsZToyKk1hdGguUEksY2xvY2t3aXNlOiEwfSxicnVzaDpnUyhJbi5wcm90b3R5cGUuYnJ1c2gpLGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gsbj1lLmN5LG89TWF0aC5tYXgoZS5yMHx8MCwwKSxhPU1hdGgubWF4KGUuciwwKSxyPWUuc3RhcnRBbmdsZSxzPWUuZW5kQW5nbGUsbD1lLmNsb2Nrd2lzZSx1PU1hdGguY29zKHIpLGg9TWF0aC5zaW4ocik7dC5tb3ZlVG8odSpvK2ksaCpvK24pLHQubGluZVRvKHUqYStpLGgqYStuKSx0LmFyYyhpLG4sYSxyLHMsIWwpLHQubGluZVRvKE1hdGguY29zKHMpKm8raSxNYXRoLnNpbihzKSpvK24pLDAhPT1vJiZ0LmFyYyhpLG4sbyxzLHIsbCksdC5jbG9zZVBhdGgoKX19KSx2Uz1Jbi5leHRlbmQoe3R5cGU6InJpbmciLHNoYXBlOntjeDowLGN5OjAscjowLHIwOjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gsbj1lLmN5LG89MipNYXRoLlBJO3QubW92ZVRvKGkrZS5yLG4pLHQuYXJjKGksbixlLnIsMCxvLCExKSx0Lm1vdmVUbyhpK2UucjAsbiksdC5hcmMoaSxuLGUucjAsMCxvLCEwKX19KSx5Uz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10Lmxlbmd0aCxuPVtdLG89MCxhPTE7YTxpO2ErKylvKz1LKHRbYS0xXSx0W2FdKTt2YXIgcj1vLzI7cj1yPGk/aTpyO2ZvcihhPTA7YTxyO2ErKyl7dmFyIHMsbCx1LGg9YS8oci0xKSooZT9pOmktMSksYz1NYXRoLmZsb29yKGgpLGQ9aC1jLGY9dFtjJWldO2U/KHM9dFsoYy0xK2kpJWldLGw9dFsoYysxKSVpXSx1PXRbKGMrMiklaV0pOihzPXRbMD09PWM/YzpjLTFdLGw9dFtjPmktMj9pLTE6YysxXSx1PXRbYz5pLTM/aS0xOmMrMl0pO3ZhciBwPWQqZCxnPWQqcDtuLnB1c2goW2tuKHNbMF0sZlswXSxsWzBdLHVbMF0sZCxwLGcpLGtuKHNbMV0sZlsxXSxsWzFdLHVbMV0sZCxwLGcpXSl9cmV0dXJuIG59LHhTPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLGEscixzLGw9W10sdT1bXSxoPVtdLGM9W107aWYobil7cj1bMS8wLDEvMF0scz1bLTEvMCwtMS8wXTtmb3IodmFyIGQ9MCxmPXQubGVuZ3RoO2Q8ZjtkKyspdHQocixyLHRbZF0pLGV0KHMscyx0W2RdKTt0dChyLHIsblswXSksZXQocyxzLG5bMV0pfWZvcih2YXIgZD0wLGY9dC5sZW5ndGg7ZDxmO2QrKyl7dmFyIHA9dFtkXTtpZihpKW89dFtkP2QtMTpmLTFdLGE9dFsoZCsxKSVmXTtlbHNle2lmKDA9PT1kfHxkPT09Zi0xKXtsLnB1c2goVyh0W2RdKSk7Y29udGludWV9bz10W2QtMV0sYT10W2QrMV19VSh1LGEsbyksWSh1LHUsZSk7dmFyIGc9SyhwLG8pLG09SyhwLGEpLHY9ZyttOzAhPT12JiYoZy89dixtLz12KSxZKGgsdSwtZyksWShjLHUsbSk7dmFyIHk9SChbXSxwLGgpLHg9SChbXSxwLGMpO24mJihldCh5LHksciksdHQoeSx5LHMpLGV0KHgseCxyKSx0dCh4LHgscykpLGwucHVzaCh5KSxsLnB1c2goeCl9cmV0dXJuIGkmJmwucHVzaChsLnNoaWZ0KCkpLGx9LF9TPUluLmV4dGVuZCh7dHlwZToicG9seWdvbiIsc2hhcGU6e3BvaW50czpudWxsLHNtb290aDohMSxzbW9vdGhDb25zdHJhaW50Om51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe1BuKHQsZSwhMCl9fSksd1M9SW4uZXh0ZW5kKHt0eXBlOiJwb2x5bGluZSIsc2hhcGU6e3BvaW50czpudWxsLHNtb290aDohMSxzbW9vdGhDb25zdHJhaW50Om51bGx9LHN0eWxlOntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7UG4odCxlLCExKX19KSxiUz1Jbi5leHRlbmQoe3R5cGU6InJlY3QiLHNoYXBlOntyOjAseDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLngsbj1lLnksbz1lLndpZHRoLGE9ZS5oZWlnaHQ7ZS5yP1BlKHQsZSk6dC5yZWN0KGksbixvLGEpLHQuY2xvc2VQYXRoKCl9fSksU1M9SW4uZXh0ZW5kKHt0eXBlOiJsaW5lIixzaGFwZTp7eDE6MCx5MTowLHgyOjAseTI6MCxwZXJjZW50OjF9LHN0eWxlOntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS54MSxuPWUueTEsbz1lLngyLGE9ZS55MixyPWUucGVyY2VudDswIT09ciYmKHQubW92ZVRvKGksbikscjwxJiYobz1pKigxLXIpK28qcixhPW4qKDEtcikrYSpyKSx0LmxpbmVUbyhvLGEpKX0scG9pbnRBdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlO3JldHVybltlLngxKigxLXQpK2UueDIqdCxlLnkxKigxLXQpK2UueTIqdF19fSksTVM9W10sSVM9SW4uZXh0ZW5kKHt0eXBlOiJiZXppZXItY3VydmUiLHNoYXBlOnt4MTowLHkxOjAseDI6MCx5MjowLGNweDE6MCxjcHkxOjAscGVyY2VudDoxfSxzdHlsZTp7c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUueDEsbj1lLnkxLG89ZS54MixhPWUueTIscj1lLmNweDEscz1lLmNweTEsbD1lLmNweDIsdT1lLmNweTIsaD1lLnBlcmNlbnQ7MCE9PWgmJih0Lm1vdmVUbyhpLG4pLG51bGw9PWx8fG51bGw9PXU/KGg8MSYmKG9uKGkscixvLGgsTVMpLHI9TVNbMV0sbz1NU1syXSxvbihuLHMsYSxoLE1TKSxzPU1TWzFdLGE9TVNbMl0pLHQucXVhZHJhdGljQ3VydmVUbyhyLHMsbyxhKSk6KGg8MSYmKCRpKGkscixsLG8saCxNUykscj1NU1sxXSxsPU1TWzJdLG89TVNbM10sJGkobixzLHUsYSxoLE1TKSxzPU1TWzFdLHU9TVNbMl0sYT1NU1szXSksdC5iZXppZXJDdXJ2ZVRvKHIscyxsLHUsbyxhKSkpfSxwb2ludEF0OmZ1bmN0aW9uKHQpe3JldHVybiBObih0aGlzLnNoYXBlLHQsITEpfSx0YW5nZW50QXQ6ZnVuY3Rpb24odCl7dmFyIGU9Tm4odGhpcy5zaGFwZSx0LCEwKTtyZXR1cm4gcShlLGUpfX0pLFRTPUluLmV4dGVuZCh7dHlwZToiYXJjIixzaGFwZTp7Y3g6MCxjeTowLHI6MCxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MipNYXRoLlBJLGNsb2Nrd2lzZTohMH0sc3R5bGU6e3N0cm9rZToiIzAwMCIsZmlsbDpudWxsfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmN4LG49ZS5jeSxvPU1hdGgubWF4KGUuciwwKSxhPWUuc3RhcnRBbmdsZSxyPWUuZW5kQW5nbGUscz1lLmNsb2Nrd2lzZSxsPU1hdGguY29zKGEpLHU9TWF0aC5zaW4oYSk7dC5tb3ZlVG8obCpvK2ksdSpvK24pLHQuYXJjKGksbixvLGEsciwhcyl9fSksRFM9SW4uZXh0ZW5kKHt0eXBlOiJjb21wb3VuZCIsc2hhcGU6e3BhdGhzOm51bGx9LF91cGRhdGVQYXRoRGlydHk6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fX2RpcnR5UGF0aCxlPXRoaXMuc2hhcGUucGF0aHMsaT0wO2k8ZS5sZW5ndGg7aSsrKXQ9dHx8ZVtpXS5fX2RpcnR5UGF0aDt0aGlzLl9fZGlydHlQYXRoPXQsdGhpcy5fX2RpcnR5PXRoaXMuX19kaXJ0eXx8dH0sYmVmb3JlQnJ1c2g6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVQYXRoRGlydHkoKTtmb3IodmFyIHQ9dGhpcy5zaGFwZS5wYXRoc3x8W10sZT10aGlzLmdldEdsb2JhbFNjYWxlKCksaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV0ucGF0aHx8dFtpXS5jcmVhdGVQYXRoUHJveHkoKSx0W2ldLnBhdGguc2V0U2NhbGUoZVswXSxlWzFdKX0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPWUucGF0aHN8fFtdLG49MDtuPGkubGVuZ3RoO24rKylpW25dLmJ1aWxkUGF0aCh0LGlbbl0uc2hhcGUsITApfSxhZnRlckJydXNoOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuc2hhcGUucGF0aHN8fFtdLGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLl9fZGlydHlQYXRoPSExfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRlUGF0aERpcnR5KCksSW4ucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdC5jYWxsKHRoaXMpfX0pLEFTPWZ1bmN0aW9uKHQpe3RoaXMuY29sb3JTdG9wcz10fHxbXX07QVMucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpBUyxhZGRDb2xvclN0b3A6ZnVuY3Rpb24odCxlKXt0aGlzLmNvbG9yU3RvcHMucHVzaCh7b2Zmc2V0OnQsY29sb3I6ZX0pfX07dmFyIENTPWZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt0aGlzLng9bnVsbD09dD8wOnQsdGhpcy55PW51bGw9PWU/MDplLHRoaXMueDI9bnVsbD09aT8xOmksdGhpcy55Mj1udWxsPT1uPzA6bix0aGlzLnR5cGU9ImxpbmVhciIsdGhpcy5nbG9iYWw9YXx8ITEsQVMuY2FsbCh0aGlzLG8pfTtDUy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkNTfSx1KENTLEFTKTt2YXIgTFM9ZnVuY3Rpb24odCxlLGksbixvKXt0aGlzLng9bnVsbD09dD8uNTp0LHRoaXMueT1udWxsPT1lPy41OmUsdGhpcy5yPW51bGw9PWk/LjU6aSx0aGlzLnR5cGU9InJhZGlhbCIsdGhpcy5nbG9iYWw9b3x8ITEsQVMuY2FsbCh0aGlzLG4pfTtMUy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkxTfSx1KExTLEFTKSxPbi5wcm90b3R5cGUuaW5jcmVtZW50YWw9ITAsT24ucHJvdG90eXBlLmNsZWFyRGlzcGxheWJsZXM9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwbGF5YWJsZXM9W10sdGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzPVtdLHRoaXMuX2N1cnNvcj0wLHRoaXMuZGlydHkoKSx0aGlzLm5vdENsZWFyPSExfSxPbi5wcm90b3R5cGUuYWRkRGlzcGxheWFibGU9ZnVuY3Rpb24odCxlKXtlP3RoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcy5wdXNoKHQpOnRoaXMuX2Rpc3BsYXlhYmxlcy5wdXNoKHQpLHRoaXMuZGlydHkoKX0sT24ucHJvdG90eXBlLmFkZERpc3BsYXlhYmxlcz1mdW5jdGlvbih0LGUpe2U9ZXx8ITE7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdGhpcy5hZGREaXNwbGF5YWJsZSh0W2ldLGUpfSxPbi5wcm90b3R5cGUuZWFjaFBlbmRpbmdEaXNwbGF5YWJsZT1mdW5jdGlvbih0KXtmb3IoZT10aGlzLl9jdXJzb3I7ZTx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl0JiZ0KHRoaXMuX2Rpc3BsYXlhYmxlc1tlXSk7Zm9yKHZhciBlPTA7ZTx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl0JiZ0KHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1tlXSl9LE9uLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO2Zvcih0PXRoaXMuX2N1cnNvcjt0PHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7dCsrKShlPXRoaXMuX2Rpc3BsYXlhYmxlc1t0XSkucGFyZW50PXRoaXMsZS51cGRhdGUoKSxlLnBhcmVudD1udWxsO2Zvcih2YXIgdD0wO3Q8dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1t0XTtlLnBhcmVudD10aGlzLGUudXBkYXRlKCksZS5wYXJlbnQ9bnVsbH19LE9uLnByb3RvdHlwZS5icnVzaD1mdW5jdGlvbih0LGUpe2ZvcihpPXRoaXMuX2N1cnNvcjtpPHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7aSsrKShuPXRoaXMuX2Rpc3BsYXlhYmxlc1tpXSkuYmVmb3JlQnJ1c2gmJm4uYmVmb3JlQnJ1c2godCksbi5icnVzaCh0LGk9PT10aGlzLl9jdXJzb3I/bnVsbDp0aGlzLl9kaXNwbGF5YWJsZXNbaS0xXSksbi5hZnRlckJydXNoJiZuLmFmdGVyQnJ1c2godCk7dGhpcy5fY3Vyc29yPWk7Zm9yKHZhciBpPTA7aTx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMubGVuZ3RoO2krKyl7dmFyIG49dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzW2ldO24uYmVmb3JlQnJ1c2gmJm4uYmVmb3JlQnJ1c2godCksbi5icnVzaCh0LDA9PT1pP251bGw6dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzW2ktMV0pLG4uYWZ0ZXJCcnVzaCYmbi5hZnRlckJydXNoKHQpfXRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcz1bXSx0aGlzLm5vdENsZWFyPSEwfTt2YXIga1M9W107T24ucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe2lmKCF0aGlzLl9yZWN0KXtmb3IodmFyIHQ9bmV3ICR0KDEvMCwxLzAsLTEvMCwtMS8wKSxlPTA7ZTx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5fZGlzcGxheWFibGVzW2VdLG49aS5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO2kubmVlZExvY2FsVHJhbnNmb3JtKCkmJm4uYXBwbHlUcmFuc2Zvcm0oaS5nZXRMb2NhbFRyYW5zZm9ybShrUykpLHQudW5pb24obil9dGhpcy5fcmVjdD10fXJldHVybiB0aGlzLl9yZWN0fSxPbi5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSk7aWYodGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jb250YWluKGlbMF0saVsxXSkpZm9yKHZhciBuPTA7bjx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO24rKylpZih0aGlzLl9kaXNwbGF5YWJsZXNbbl0uY29udGFpbih0LGUpKXJldHVybiEwO3JldHVybiExfSx1KE9uLCRlKTt2YXIgUFM9TWF0aC5yb3VuZCxOUz1NYXRoLm1heCxPUz1NYXRoLm1pbixFUz17fSxSUz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1bXSxuPXQubGVuZ3RoLG89MDtvPG47bysrKXt2YXIgYT10W29dO2EucGF0aHx8YS5jcmVhdGVQYXRoUHJveHkoKSxhLl9fZGlydHlQYXRoJiZhLmJ1aWxkUGF0aChhLnBhdGgsYS5zaGFwZSwhMCksaS5wdXNoKGEucGF0aCl9dmFyIHI9bmV3IEluKGUpO3JldHVybiByLmNyZWF0ZVBhdGhQcm94eSgpLHIuYnVpbGRQYXRoPWZ1bmN0aW9uKHQpe3QuYXBwZW5kUGF0aChpKTt2YXIgZT10LmdldENvbnRleHQoKTtlJiZ0LnJlYnVpbGRQYXRoKGUpfSxyfSx6Uz0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7ZXh0ZW5kU2hhcGU6RW4sZXh0ZW5kUGF0aDpmdW5jdGlvbih0LGUpe3JldHVybiBMbih0LGUpfSxtYWtlUGF0aDpSbixtYWtlSW1hZ2U6em4sbWVyZ2VQYXRoOlJTLHJlc2l6ZVBhdGg6Vm4sc3ViUGl4ZWxPcHRpbWl6ZUxpbmU6R24sc3ViUGl4ZWxPcHRpbWl6ZVJlY3Q6V24sc3ViUGl4ZWxPcHRpbWl6ZTpGbixzZXRIb3ZlclN0eWxlOmVvLHNldExhYmVsU3R5bGU6aW8sc2V0VGV4dFN0eWxlOm5vLHNldFRleHQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG89e2lzUmVjdFRleHQ6ITB9OyExPT09aT9uPSEwOm8uYXV0b0NvbG9yPWksb28odCxlLG8sbiksdC5ob3N0JiZ0Lmhvc3QuZGlydHkmJnQuaG9zdC5kaXJ0eSghMSl9LGdldEZvbnQ6aG8sdXBkYXRlUHJvcHM6Zm8saW5pdFByb3BzOnBvLGdldFRyYW5zZm9ybTpnbyxhcHBseVRyYW5zZm9ybTptbyx0cmFuc2Zvcm1EaXJlY3Rpb246dm8sZ3JvdXBUcmFuc2l0aW9uOnlvLGNsaXBQb2ludHNCeVJlY3Q6eG8sY2xpcFJlY3RCeVJlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1OUyh0LngsZS54KSxuPU9TKHQueCt0LndpZHRoLGUueCtlLndpZHRoKSxvPU5TKHQueSxlLnkpLGE9T1ModC55K3QuaGVpZ2h0LGUueStlLmhlaWdodCk7aWYobj49aSYmYT49bylyZXR1cm57eDppLHk6byx3aWR0aDpuLWksaGVpZ2h0OmEtb319LGNyZWF0ZUljb246X28sR3JvdXA6cncsSW1hZ2U6SmUsVGV4dDpkUyxDaXJjbGU6ZlMsU2VjdG9yOm1TLFJpbmc6dlMsUG9seWdvbjpfUyxQb2x5bGluZTp3UyxSZWN0OmJTLExpbmU6U1MsQmV6aWVyQ3VydmU6SVMsQXJjOlRTLEluY3JlbWVudGFsRGlzcGxheWFibGU6T24sQ29tcG91bmRQYXRoOkRTLExpbmVhckdyYWRpZW50OkNTLFJhZGlhbEdyYWRpZW50OkxTLEJvdW5kaW5nUmVjdDokdH0pLEJTPVsidGV4dFN0eWxlIiwiY29sb3IiXSxWUz17Z2V0VGV4dENvbG9yOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWNNb2RlbDtyZXR1cm4gdGhpcy5nZXRTaGFsbG93KCJjb2xvciIpfHwoIXQmJmU/ZS5nZXQoQlMpOm51bGwpfSxnZXRGb250OmZ1bmN0aW9uKCl7cmV0dXJuIGhvKHtmb250U3R5bGU6dGhpcy5nZXRTaGFsbG93KCJmb250U3R5bGUiKSxmb250V2VpZ2h0OnRoaXMuZ2V0U2hhbGxvdygiZm9udFdlaWdodCIpLGZvbnRTaXplOnRoaXMuZ2V0U2hhbGxvdygiZm9udFNpemUiKSxmb250RmFtaWx5OnRoaXMuZ2V0U2hhbGxvdygiZm9udEZhbWlseSIpfSx0aGlzLmVjTW9kZWwpfSxnZXRUZXh0UmVjdDpmdW5jdGlvbih0KXtyZXR1cm4gbWUodCx0aGlzLmdldEZvbnQoKSx0aGlzLmdldFNoYWxsb3coImFsaWduIiksdGhpcy5nZXRTaGFsbG93KCJ2ZXJ0aWNhbEFsaWduIil8fHRoaXMuZ2V0U2hhbGxvdygiYmFzZWxpbmUiKSx0aGlzLmdldFNoYWxsb3coInBhZGRpbmciKSx0aGlzLmdldFNoYWxsb3coInJpY2giKSx0aGlzLmdldFNoYWxsb3coInRydW5jYXRlVGV4dCIpKX19LEdTPXJiKFtbImZpbGwiLCJjb2xvciJdLFsic3Ryb2tlIiwiYm9yZGVyQ29sb3IiXSxbImxpbmVXaWR0aCIsImJvcmRlcldpZHRoIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdLFsidGV4dFBvc2l0aW9uIl0sWyJ0ZXh0QWxpZ24iXV0pLFdTPXtnZXRJdGVtU3R5bGU6ZnVuY3Rpb24odCxlKXt2YXIgaT1HUyh0aGlzLHQsZSksbj10aGlzLmdldEJvcmRlckxpbmVEYXNoKCk7cmV0dXJuIG4mJihpLmxpbmVEYXNoPW4pLGl9LGdldEJvcmRlckxpbmVEYXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoImJvcmRlclR5cGUiKTtyZXR1cm4ic29saWQiPT09dHx8bnVsbD09dD9udWxsOiJkYXNoZWQiPT09dD9bNSw1XTpbMSwxXX19LEZTPWgsSFM9TmkoKTt3by5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOndvLGluaXQ6bnVsbCxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXtuKHRoaXMub3B0aW9uLHQsITApfSxnZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbjpibyh0aGlzLm9wdGlvbix0aGlzLnBhcnNlUGF0aCh0KSwhZSYmU28odGhpcyx0KSl9LGdldFNoYWxsb3c6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm9wdGlvbixuPW51bGw9PWk/aTppW3RdLG89IWUmJlNvKHRoaXMsdCk7cmV0dXJuIG51bGw9PW4mJm8mJihuPW8uZ2V0U2hhbGxvdyh0KSksbn0sZ2V0TW9kZWw6ZnVuY3Rpb24odCxlKXt2YXIgaSxuPW51bGw9PXQ/dGhpcy5vcHRpb246Ym8odGhpcy5vcHRpb24sdD10aGlzLnBhcnNlUGF0aCh0KSk7cmV0dXJuIGU9ZXx8KGk9U28odGhpcyx0KSkmJmkuZ2V0TW9kZWwodCksbmV3IHdvKG4sZSx0aGlzLmVjTW9kZWwpfSxpc0VtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMub3B0aW9ufSxyZXN0b3JlRGF0YTpmdW5jdGlvbigpe30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3KDAsdGhpcy5jb25zdHJ1Y3RvcikoaSh0aGlzLm9wdGlvbikpfSxzZXRSZWFkT25seTpmdW5jdGlvbih0KXt9LHBhcnNlUGF0aDpmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PXQuc3BsaXQoIi4iKSksdH0sY3VzdG9taXplR2V0UGFyZW50OmZ1bmN0aW9uKHQpe0hTKHRoaXMpLmdldFBhcmVudD10fSxpc0FuaW1hdGlvbkVuYWJsZWQ6ZnVuY3Rpb24oKXtpZighb18ubm9kZSl7aWYobnVsbCE9dGhpcy5vcHRpb24uYW5pbWF0aW9uKXJldHVybiEhdGhpcy5vcHRpb24uYW5pbWF0aW9uO2lmKHRoaXMucGFyZW50TW9kZWwpcmV0dXJuIHRoaXMucGFyZW50TW9kZWwuaXNBbmltYXRpb25FbmFibGVkKCl9fX0sR2kod28pLFdpKHdvKSxGUyh3byxsYiksRlMod28saGIpLEZTKHdvLFZTKSxGUyh3byxXUyk7dmFyIFpTPTAsVVM9MWUtNCxYUz05MDA3MTk5MjU0NzQwOTkxLGpTPS9eKD86KFxkezR9KSg/OlstXC9dKFxkezEsMn0pKD86Wy1cL10oXGR7MSwyfSkoPzpbVCBdKFxkezEsMn0pKD86OihcZFxkKSg/OjooXGRcZCkoPzpbLixdKFxkKykpPyk/KT8oWnxbXCtcLV1cZFxkOj9cZFxkKT8pPyk/KT8pPyQvLFlTPShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtsaW5lYXJNYXA6VG8scGFyc2VQZXJjZW50OkRvLHJvdW5kOkFvLGFzYzpDbyxnZXRQcmVjaXNpb246TG8sZ2V0UHJlY2lzaW9uU2FmZTprbyxnZXRQaXhlbFByZWNpc2lvbjpQbyxnZXRQZXJjZW50V2l0aFByZWNpc2lvbjpObyxNQVhfU0FGRV9JTlRFR0VSOlhTLHJlbVJhZGlhbjpPbyxpc1JhZGlhbkFyb3VuZFplcm86RW8scGFyc2VEYXRlOlJvLHF1YW50aXR5OnpvLG5pY2U6Vm8scmVmb3JtSW50ZXJ2YWxzOkdvLGlzTnVtZXJpYzpXb30pLHFTPUwsS1M9LyhbJjw+IiddKS9nLCRTPXsiJiI6IiZhbXA7IiwiPCI6IiZsdDsiLCI+IjoiJmd0OyIsJyInOiImcXVvdDsiLCInIjoiJiMzOTsifSxKUz1bImEiLCJiIiwiYyIsImQiLCJlIiwiZiIsImciXSxRUz1mdW5jdGlvbih0LGUpe3JldHVybiJ7Iit0KyhudWxsPT1lPyIiOmUpKyJ9In0sdE09YmUsZU09bWUsaU09KE9iamVjdC5mcmVlemV8fE9iamVjdCkoe2FkZENvbW1hczpGbyx0b0NhbWVsQ2FzZTpIbyxub3JtYWxpemVDc3NBcnJheTpxUyxlbmNvZGVIVE1MOlpvLGZvcm1hdFRwbDpVbyxmb3JtYXRUcGxTaW1wbGU6WG8sZ2V0VG9vbHRpcE1hcmtlcjpqbyxmb3JtYXRUaW1lOnFvLGNhcGl0YWxGaXJzdDpLbyx0cnVuY2F0ZVRleHQ6dE0sZ2V0VGV4dFJlY3Q6ZU19KSxuTT1kLG9NPVsibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwid2lkdGgiLCJoZWlnaHQiXSxhTT1bWyJ3aWR0aCIsImxlZnQiLCJyaWdodCJdLFsiaGVpZ2h0IiwidG9wIiwiYm90dG9tIl1dLHJNPSRvLHNNPSh2KCRvLCJ2ZXJ0aWNhbCIpLHYoJG8sImhvcml6b250YWwiKSx7Z2V0Qm94TGF5b3V0UGFyYW1zOmZ1bmN0aW9uKCl7cmV0dXJue2xlZnQ6dGhpcy5nZXQoImxlZnQiKSx0b3A6dGhpcy5nZXQoInRvcCIpLHJpZ2h0OnRoaXMuZ2V0KCJyaWdodCIpLGJvdHRvbTp0aGlzLmdldCgiYm90dG9tIiksd2lkdGg6dGhpcy5nZXQoIndpZHRoIiksaGVpZ2h0OnRoaXMuZ2V0KCJoZWlnaHQiKX19fSksbE09TmkoKSx1TT13by5leHRlbmQoe3R5cGU6ImNvbXBvbmVudCIsaWQ6IiIsbmFtZToiIixtYWluVHlwZToiIixzdWJUeXBlOiIiLGNvbXBvbmVudEluZGV4OjAsZGVmYXVsdE9wdGlvbjpudWxsLGVjTW9kZWw6bnVsbCxkZXBlbmRlbnRNb2RlbHM6W10sdWlkOm51bGwsbGF5b3V0TW9kZTpudWxsLCRjb25zdHJ1Y3RvcjpmdW5jdGlvbih0LGUsaSxuKXt3by5jYWxsKHRoaXMsdCxlLGksbiksdGhpcy51aWQ9TW8oImVjX2NwdF9tb2RlbCIpfSxpbml0OmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxpKX0sbWVyZ2VEZWZhdWx0QW5kVGhlbWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmxheW91dE1vZGUsbz1pP25hKHQpOnt9O24odCxlLmdldFRoZW1lKCkuZ2V0KHRoaXMubWFpblR5cGUpKSxuKHQsdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpLGkmJmlhKHQsbyxpKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCxlKXtuKHRoaXMub3B0aW9uLHQsITApO3ZhciBpPXRoaXMubGF5b3V0TW9kZTtpJiZpYSh0aGlzLm9wdGlvbix0LGkpfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKHQsZSl7fSxnZXREZWZhdWx0T3B0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9bE0odGhpcyk7aWYoIXQuZGVmYXVsdE9wdGlvbil7Zm9yKHZhciBlPVtdLGk9dGhpcy5jb25zdHJ1Y3RvcjtpOyl7dmFyIG89aS5wcm90b3R5cGUuZGVmYXVsdE9wdGlvbjtvJiZlLnB1c2gobyksaT1pLnN1cGVyQ2xhc3N9Zm9yKHZhciBhPXt9LHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSlhPW4oYSxlW3JdLCEwKTt0LmRlZmF1bHRPcHRpb249YX1yZXR1cm4gdC5kZWZhdWx0T3B0aW9ufSxnZXRSZWZlcnJpbmdDb21wb25lbnRzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVjTW9kZWwucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTp0LGluZGV4OnRoaXMuZ2V0KHQrIkluZGV4IiwhMCksaWQ6dGhpcy5nZXQodCsiSWQiLCEwKX0pfX0pO1ppKHVNLHtyZWdpc3RlcldoZW5FeHRlbmQ6ITB9KSxmdW5jdGlvbih0KXt2YXIgZT17fTt0LnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcj1mdW5jdGlvbih0LGkpe3Q9QmkodCksZVt0Lm1haW5dPWl9LHQuZGV0ZXJtaW5lU3ViVHlwZT1mdW5jdGlvbihpLG4pe3ZhciBvPW4udHlwZTtpZighbyl7dmFyIGE9QmkoaSkubWFpbjt0Lmhhc1N1YlR5cGVzKGkpJiZlW2FdJiYobz1lW2FdKG4pKX1yZXR1cm4gb319KHVNKSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCl7dmFyIGk9e30sYT1bXTtyZXR1cm4gZCh0LGZ1bmN0aW9uKHIpe3ZhciBzPW4oaSxyKSx1PW8ocy5vcmlnaW5hbERlcHM9ZShyKSx0KTtzLmVudHJ5Q291bnQ9dS5sZW5ndGgsMD09PXMuZW50cnlDb3VudCYmYS5wdXNoKHIpLGQodSxmdW5jdGlvbih0KXtsKHMucHJlZGVjZXNzb3IsdCk8MCYmcy5wcmVkZWNlc3Nvci5wdXNoKHQpO3ZhciBlPW4oaSx0KTtsKGUuc3VjY2Vzc29yLHQpPDAmJmUuc3VjY2Vzc29yLnB1c2gocil9KX0pLHtncmFwaDppLG5vRW50cnlMaXN0OmF9fWZ1bmN0aW9uIG4odCxlKXtyZXR1cm4gdFtlXXx8KHRbZV09e3ByZWRlY2Vzc29yOltdLHN1Y2Nlc3NvcjpbXX0pLHRbZV19ZnVuY3Rpb24gbyh0LGUpe3ZhciBpPVtdO3JldHVybiBkKHQsZnVuY3Rpb24odCl7bChlLHQpPj0wJiZpLnB1c2godCl9KSxpfXQudG9wb2xvZ2ljYWxUcmF2ZWw9ZnVuY3Rpb24odCxlLG4sbyl7ZnVuY3Rpb24gYSh0KXtzW3RdLmVudHJ5Q291bnQtLSwwPT09c1t0XS5lbnRyeUNvdW50JiZsLnB1c2godCl9aWYodC5sZW5ndGgpe3ZhciByPWkoZSkscz1yLmdyYXBoLGw9ci5ub0VudHJ5TGlzdCx1PXt9O2ZvcihkKHQsZnVuY3Rpb24odCl7dVt0XT0hMH0pO2wubGVuZ3RoOyl7dmFyIGg9bC5wb3AoKSxjPXNbaF0sZj0hIXVbaF07ZiYmKG4uY2FsbChvLGgsYy5vcmlnaW5hbERlcHMuc2xpY2UoKSksZGVsZXRlIHVbaF0pLGQoYy5zdWNjZXNzb3IsZj9mdW5jdGlvbih0KXt1W3RdPSEwLGEodCl9OmEpfWQodSxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiQ2lyY2xlIGRlcGVuZGVuY3kgbWF5IGV4aXN0cyIpfSl9fX0odU0sZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIGQodU0uZ2V0Q2xhc3Nlc0J5TWFpblR5cGUodCksZnVuY3Rpb24odCl7ZT1lLmNvbmNhdCh0LnByb3RvdHlwZS5kZXBlbmRlbmNpZXN8fFtdKX0pLGU9ZihlLGZ1bmN0aW9uKHQpe3JldHVybiBCaSh0KS5tYWlufSksImRhdGFzZXQiIT09dCYmbChlLCJkYXRhc2V0Iik8PTAmJmUudW5zaGlmdCgiZGF0YXNldCIpLGV9KSxoKHVNLHNNKTt2YXIgaE09IiI7InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJihoTT1uYXZpZ2F0b3IucGxhdGZvcm18fCIiKTt2YXIgY009e2NvbG9yOlsiI2MyMzUzMSIsIiMyZjQ1NTQiLCIjNjFhMGE4IiwiI2Q0ODI2NSIsIiM5MWM3YWUiLCIjNzQ5ZjgzIiwiI2NhODYyMiIsIiNiZGEyOWEiLCIjNmU3MDc0IiwiIzU0NjU3MCIsIiNjNGNjZDMiXSxncmFkaWVudENvbG9yOlsiI2Y2ZWZhNiIsIiNkODgyNzMiLCIjYmY0NDRjIl0sdGV4dFN0eWxlOntmb250RmFtaWx5OmhNLm1hdGNoKC9eV2luLyk/Ik1pY3Jvc29mdCBZYUhlaSI6InNhbnMtc2VyaWYiLGZvbnRTaXplOjEyLGZvbnRTdHlsZToibm9ybWFsIixmb250V2VpZ2h0OiJub3JtYWwifSxibGVuZE1vZGU6bnVsbCxhbmltYXRpb246ImF1dG8iLGFuaW1hdGlvbkR1cmF0aW9uOjFlMyxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTozMDAsYW5pbWF0aW9uRWFzaW5nOiJleHBvbmVudGlhbE91dCIsYW5pbWF0aW9uRWFzaW5nVXBkYXRlOiJjdWJpY091dCIsYW5pbWF0aW9uVGhyZXNob2xkOjJlMyxwcm9ncmVzc2l2ZVRocmVzaG9sZDozZTMscHJvZ3Jlc3NpdmU6NDAwLGhvdmVyTGF5ZXJUaHJlc2hvbGQ6M2UzLHVzZVVUQzohMX0sZE09TmkoKSxmTT17Y2xlYXJDb2xvclBhbGV0dGU6ZnVuY3Rpb24oKXtkTSh0aGlzKS5jb2xvcklkeD0wLGRNKHRoaXMpLmNvbG9yTmFtZU1hcD17fX0sZ2V0Q29sb3JGcm9tUGFsZXR0ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG49ZE0oZT1lfHx0aGlzKSxvPW4uY29sb3JJZHh8fDAsYT1uLmNvbG9yTmFtZU1hcD1uLmNvbG9yTmFtZU1hcHx8e307aWYoYS5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4gYVt0XTt2YXIgcj1TaSh0aGlzLmdldCgiY29sb3IiLCEwKSkscz10aGlzLmdldCgiY29sb3JMYXllciIsITApLGw9bnVsbCE9aSYmcz9hYShzLGkpOnI7aWYoKGw9bHx8cikmJmwubGVuZ3RoKXt2YXIgdT1sW29dO3JldHVybiB0JiYoYVt0XT11KSxuLmNvbG9ySWR4PShvKzEpJWwubGVuZ3RoLHV9fX0scE09e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieEF4aXMiKVswXSxhPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieUF4aXMiKVswXTtlLmNvb3JkU3lzRGltcz1bIngiLCJ5Il0saS5zZXQoIngiLG8pLGkuc2V0KCJ5IixhKSxzYShvKSYmKG4uc2V0KCJ4IixvKSxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0wKSxzYShhKSYmKG4uc2V0KCJ5IixhKSxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0xKX0sc2luZ2xlQXhpczpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInNpbmdsZUF4aXMiKVswXTtlLmNvb3JkU3lzRGltcz1bInNpbmdsZSJdLGkuc2V0KCJzaW5nbGUiLG8pLHNhKG8pJiYobi5zZXQoInNpbmdsZSIsbyksZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MCl9LHBvbGFyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygicG9sYXIiKVswXSxhPW8uZmluZEF4aXNNb2RlbCgicmFkaXVzQXhpcyIpLHI9by5maW5kQXhpc01vZGVsKCJhbmdsZUF4aXMiKTtlLmNvb3JkU3lzRGltcz1bInJhZGl1cyIsImFuZ2xlIl0saS5zZXQoInJhZGl1cyIsYSksaS5zZXQoImFuZ2xlIixyKSxzYShhKSYmKG4uc2V0KCJyYWRpdXMiLGEpLGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTApLHNhKHIpJiYobi5zZXQoImFuZ2xlIixyKSxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0xKX0sZ2VvOmZ1bmN0aW9uKHQsZSxpLG4pe2UuY29vcmRTeXNEaW1zPVsibG5nIiwibGF0Il19LHBhcmFsbGVsOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZWNNb2RlbCxhPW8uZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsdC5nZXQoInBhcmFsbGVsSW5kZXgiKSkscj1lLmNvb3JkU3lzRGltcz1hLmRpbWVuc2lvbnMuc2xpY2UoKTtkKGEucGFyYWxsZWxBeGlzSW5kZXgsZnVuY3Rpb24odCxhKXt2YXIgcz1vLmdldENvbXBvbmVudCgicGFyYWxsZWxBeGlzIix0KSxsPXJbYV07aS5zZXQobCxzKSxzYShzKSYmbnVsbD09ZS5maXJzdENhdGVnb3J5RGltSW5kZXgmJihuLnNldChsLHMpLGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PWEpfSl9fSxnTT0ib3JpZ2luYWwiLG1NPSJhcnJheVJvd3MiLHZNPSJvYmplY3RSb3dzIix5TT0ia2V5ZWRDb2x1bW5zIix4TT0idW5rbm93biIsX009InR5cGVkQXJyYXkiLHdNPSJjb2x1bW4iLGJNPSJyb3ciO2xhLnNlcmllc0RhdGFUb1NvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGxhKHtkYXRhOnQsc291cmNlRm9ybWF0OlModCk/X006Z00sZnJvbURhdGFzZXQ6ITF9KX0sV2kobGEpO3ZhciBTTT1OaSgpLE1NPSJcMF9lY19pbm5lciIsSU09d28uZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsZSxpLG4pe2k9aXx8e30sdGhpcy5vcHRpb249bnVsbCx0aGlzLl90aGVtZT1uZXcgd28oaSksdGhpcy5fb3B0aW9uTWFuYWdlcj1ufSxzZXRPcHRpb246ZnVuY3Rpb24odCxlKXtrKCEoTU0gaW4gdCksInBsZWFzZSB1c2UgY2hhcnQuZ2V0T3B0aW9uKCkiKSx0aGlzLl9vcHRpb25NYW5hZ2VyLnNldE9wdGlvbih0LGUpLHRoaXMucmVzZXRPcHRpb24obnVsbCl9LHJlc2V0T3B0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPSExLGk9dGhpcy5fb3B0aW9uTWFuYWdlcjtpZighdHx8InJlY3JlYXRlIj09PXQpe3ZhciBuPWkubW91bnRPcHRpb24oInJlY3JlYXRlIj09PXQpO3RoaXMub3B0aW9uJiYicmVjcmVhdGUiIT09dD8odGhpcy5yZXN0b3JlRGF0YSgpLHRoaXMubWVyZ2VPcHRpb24obikpOlNhLmNhbGwodGhpcyxuKSxlPSEwfWlmKCJ0aW1lbGluZSIhPT10JiYibWVkaWEiIT09dHx8dGhpcy5yZXN0b3JlRGF0YSgpLCF0fHwicmVjcmVhdGUiPT09dHx8InRpbWVsaW5lIj09PXQpe3ZhciBvPWkuZ2V0VGltZWxpbmVPcHRpb24odGhpcyk7byYmKHRoaXMubWVyZ2VPcHRpb24obyksZT0hMCl9aWYoIXR8fCJyZWNyZWF0ZSI9PT10fHwibWVkaWEiPT09dCl7dmFyIGE9aS5nZXRNZWRpYU9wdGlvbih0aGlzLHRoaXMuX2FwaSk7YS5sZW5ndGgmJmQoYSxmdW5jdGlvbih0KXt0aGlzLm1lcmdlT3B0aW9uKHQsZT0hMCl9LHRoaXMpfXJldHVybiBlfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbixvPXRoaXMuX2NvbXBvbmVudHNNYXAscj1bXTtjYSh0aGlzKSxkKHQsZnVuY3Rpb24odCxvKXtudWxsIT10JiYodU0uaGFzQ2xhc3Mobyk/byYmci5wdXNoKG8pOmVbb109bnVsbD09ZVtvXT9pKHQpOm4oZVtvXSx0LCEwKSl9KSx1TS50b3BvbG9naWNhbFRyYXZlbChyLHVNLmdldEFsbENsYXNzTWFpblR5cGVzKCksZnVuY3Rpb24oaSxuKXt2YXIgcj1TaSh0W2ldKSxzPURpKG8uZ2V0KGkpLHIpO0FpKHMpLGQocyxmdW5jdGlvbih0LGUpe3ZhciBuPXQub3B0aW9uO3cobikmJih0LmtleUluZm8ubWFpblR5cGU9aSx0LmtleUluZm8uc3ViVHlwZT1JYShpLG4sdC5leGlzdCkpfSk7dmFyIGw9TWEobyxuKTtlW2ldPVtdLG8uc2V0KGksW10pLGQocyxmdW5jdGlvbih0LG4pe3ZhciByPXQuZXhpc3Qscz10Lm9wdGlvbjtpZihrKHcocyl8fHIsIkVtcHR5IGNvbXBvbmVudCBkZWZpbml0aW9uIikscyl7dmFyIHU9dU0uZ2V0Q2xhc3MoaSx0LmtleUluZm8uc3ViVHlwZSwhMCk7aWYociYmciBpbnN0YW5jZW9mIHUpci5uYW1lPXQua2V5SW5mby5uYW1lLHIubWVyZ2VPcHRpb24ocyx0aGlzKSxyLm9wdGlvblVwZGF0ZWQocywhMSk7ZWxzZXt2YXIgaD1hKHtkZXBlbmRlbnRNb2RlbHM6bCxjb21wb25lbnRJbmRleDpufSx0LmtleUluZm8pO2Eocj1uZXcgdShzLHRoaXMsdGhpcyxoKSxoKSxyLmluaXQocyx0aGlzLHRoaXMsaCksci5vcHRpb25VcGRhdGVkKG51bGwsITApfX1lbHNlIHIubWVyZ2VPcHRpb24oe30sdGhpcyksci5vcHRpb25VcGRhdGVkKHt9LCExKTtvLmdldChpKVtuXT1yLGVbaV1bbl09ci5vcHRpb259LHRoaXMpLCJzZXJpZXMiPT09aSYmVGEodGhpcyxvLmdldCgic2VyaWVzIikpfSx0aGlzKSx0aGlzLl9zZXJpZXNJbmRpY2VzTWFwPVIodGhpcy5fc2VyaWVzSW5kaWNlcz10aGlzLl9zZXJpZXNJbmRpY2VzfHxbXSl9LGdldE9wdGlvbjpmdW5jdGlvbigpe3ZhciB0PWkodGhpcy5vcHRpb24pO3JldHVybiBkKHQsZnVuY3Rpb24oZSxpKXtpZih1TS5oYXNDbGFzcyhpKSl7Zm9yKHZhciBuPShlPVNpKGUpKS5sZW5ndGgtMTtuPj0wO24tLSlMaShlW25dKSYmZS5zcGxpY2UobiwxKTt0W2ldPWV9fSksZGVsZXRlIHRbTU1dLHR9LGdldFRoZW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RoZW1lfSxnZXRDb21wb25lbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9jb21wb25lbnRzTWFwLmdldCh0KTtpZihpKXJldHVybiBpW2V8fDBdfSxxdWVyeUNvbXBvbmVudHM6ZnVuY3Rpb24odCl7dmFyIGU9dC5tYWluVHlwZTtpZighZSlyZXR1cm5bXTt2YXIgaT10LmluZGV4LG49dC5pZCxvPXQubmFtZSxhPXRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KGUpO2lmKCFhfHwhYS5sZW5ndGgpcmV0dXJuW107dmFyIHI7aWYobnVsbCE9aSl5KGkpfHwoaT1baV0pLHI9ZyhmKGksZnVuY3Rpb24odCl7cmV0dXJuIGFbdF19KSxmdW5jdGlvbih0KXtyZXR1cm4hIXR9KTtlbHNlIGlmKG51bGwhPW4pe3ZhciBzPXkobik7cj1nKGEsZnVuY3Rpb24odCl7cmV0dXJuIHMmJmwobix0LmlkKT49MHx8IXMmJnQuaWQ9PT1ufSl9ZWxzZSBpZihudWxsIT1vKXt2YXIgdT15KG8pO3I9ZyhhLGZ1bmN0aW9uKHQpe3JldHVybiB1JiZsKG8sdC5uYW1lKT49MHx8IXUmJnQubmFtZT09PW99KX1lbHNlIHI9YS5zbGljZSgpO3JldHVybiBEYShyLHQpfSxmaW5kQ29tcG9uZW50czpmdW5jdGlvbih0KXt2YXIgZT10LnF1ZXJ5LGk9dC5tYWluVHlwZSxuPWZ1bmN0aW9uKHQpe3ZhciBlPWkrIkluZGV4IixuPWkrIklkIixvPWkrIk5hbWUiO3JldHVybiF0fHxudWxsPT10W2VdJiZudWxsPT10W25dJiZudWxsPT10W29dP251bGw6e21haW5UeXBlOmksaW5kZXg6dFtlXSxpZDp0W25dLG5hbWU6dFtvXX19KGUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdC5maWx0ZXI/ZyhlLHQuZmlsdGVyKTplfShEYShuP3RoaXMucXVlcnlDb21wb25lbnRzKG4pOnRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KGkpLHQpKX0sZWFjaENvbXBvbmVudDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fY29tcG9uZW50c01hcDsiZnVuY3Rpb24iPT10eXBlb2YgdD8oaT1lLGU9dCxuLmVhY2goZnVuY3Rpb24odCxuKXtkKHQsZnVuY3Rpb24odCxvKXtlLmNhbGwoaSxuLHQsbyl9KX0pKTpfKHQpP2Qobi5nZXQodCksZSxpKTp3KHQpJiZkKHRoaXMuZmluZENvbXBvbmVudHModCksZSxpKX0sZ2V0U2VyaWVzQnlOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBnKHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lPT09dH0pfSxnZXRTZXJpZXNCeUluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIilbdF19LGdldFNlcmllc0J5VHlwZTpmdW5jdGlvbih0KXtyZXR1cm4gZyh0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIiksZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3ViVHlwZT09PXR9KX0sZ2V0U2VyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKS5zbGljZSgpfSxnZXRTZXJpZXNDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIikubGVuZ3RofSxlYWNoU2VyaWVzOmZ1bmN0aW9uKHQsZSl7ZCh0aGlzLl9zZXJpZXNJbmRpY2VzLGZ1bmN0aW9uKGkpe3ZhciBuPXRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKVtpXTt0LmNhbGwoZSxuLGkpfSx0aGlzKX0sZWFjaFJhd1NlcmllczpmdW5jdGlvbih0LGUpe2QodGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLHQsZSl9LGVhY2hTZXJpZXNCeVR5cGU6ZnVuY3Rpb24odCxlLGkpe2QodGhpcy5fc2VyaWVzSW5kaWNlcyxmdW5jdGlvbihuKXt2YXIgbz10aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIilbbl07by5zdWJUeXBlPT09dCYmZS5jYWxsKGksbyxuKX0sdGhpcyl9LGVhY2hSYXdTZXJpZXNCeVR5cGU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBkKHRoaXMuZ2V0U2VyaWVzQnlUeXBlKHQpLGUsaSl9LGlzU2VyaWVzRmlsdGVyZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXRoaXMuX3Nlcmllc0luZGljZXNNYXAuZ2V0KHQuY29tcG9uZW50SW5kZXgpfSxnZXRDdXJyZW50U2VyaWVzSW5kaWNlczpmdW5jdGlvbigpe3JldHVybih0aGlzLl9zZXJpZXNJbmRpY2VzfHxbXSkuc2xpY2UoKX0sZmlsdGVyU2VyaWVzOmZ1bmN0aW9uKHQsZSl7VGEodGhpcyxnKHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKSx0LGUpKX0scmVzdG9yZURhdGE6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29tcG9uZW50c01hcDtUYSh0aGlzLGUuZ2V0KCJzZXJpZXMiKSk7dmFyIGk9W107ZS5lYWNoKGZ1bmN0aW9uKHQsZSl7aS5wdXNoKGUpfSksdU0udG9wb2xvZ2ljYWxUcmF2ZWwoaSx1TS5nZXRBbGxDbGFzc01haW5UeXBlcygpLGZ1bmN0aW9uKGksbil7ZChlLmdldChpKSxmdW5jdGlvbihlKXsoInNlcmllcyIhPT1pfHwhd2EoZSx0KSkmJmUucmVzdG9yZURhdGEoKX0pfSl9fSk7aChJTSxmTSk7dmFyIFRNPVsiZ2V0RG9tIiwiZ2V0WnIiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsImdldERldmljZVBpeGVsUmF0aW8iLCJkaXNwYXRjaEFjdGlvbiIsImlzRGlzcG9zZWQiLCJvbiIsIm9mZiIsImdldERhdGFVUkwiLCJnZXRDb25uZWN0ZWREYXRhVVJMIiwiZ2V0TW9kZWwiLCJnZXRPcHRpb24iLCJnZXRWaWV3T2ZDb21wb25lbnRNb2RlbCIsImdldFZpZXdPZlNlcmllc01vZGVsIl0sRE09e307Q2EucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpDYSxjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtkKERNLGZ1bmN0aW9uKG4sbyl7dmFyIGE9bi5jcmVhdGUodCxlKTtpPWkuY29uY2F0KGF8fFtdKX0pLHRoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zPWl9LHVwZGF0ZTpmdW5jdGlvbih0LGUpe2QodGhpcy5fY29vcmRpbmF0ZVN5c3RlbXMsZnVuY3Rpb24oaSl7aS51cGRhdGUmJmkudXBkYXRlKHQsZSl9KX0sZ2V0Q29vcmRpbmF0ZVN5c3RlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZVN5c3RlbXMuc2xpY2UoKX19LENhLnJlZ2lzdGVyPWZ1bmN0aW9uKHQsZSl7RE1bdF09ZX0sQ2EuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBETVt0XX07dmFyIEFNPWQsQ009aSxMTT1mLGtNPW4sUE09L14obWlufG1heCk/KC4rKSQvO0xhLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TGEsc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7dCYmZChTaSh0LnNlcmllcyksZnVuY3Rpb24odCl7dCYmdC5kYXRhJiZTKHQuZGF0YSkmJk4odC5kYXRhKX0pLHQ9Q00odCwhMCk7dmFyIGk9dGhpcy5fb3B0aW9uQmFja3VwLG49a2EuY2FsbCh0aGlzLHQsZSwhaSk7dGhpcy5fbmV3QmFzZU9wdGlvbj1uLmJhc2VPcHRpb24saT8oRWEoaS5iYXNlT3B0aW9uLG4uYmFzZU9wdGlvbiksbi50aW1lbGluZU9wdGlvbnMubGVuZ3RoJiYoaS50aW1lbGluZU9wdGlvbnM9bi50aW1lbGluZU9wdGlvbnMpLG4ubWVkaWFMaXN0Lmxlbmd0aCYmKGkubWVkaWFMaXN0PW4ubWVkaWFMaXN0KSxuLm1lZGlhRGVmYXVsdCYmKGkubWVkaWFEZWZhdWx0PW4ubWVkaWFEZWZhdWx0KSk6dGhpcy5fb3B0aW9uQmFja3VwPW59LG1vdW50T3B0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29wdGlvbkJhY2t1cDtyZXR1cm4gdGhpcy5fdGltZWxpbmVPcHRpb25zPUxNKGUudGltZWxpbmVPcHRpb25zLENNKSx0aGlzLl9tZWRpYUxpc3Q9TE0oZS5tZWRpYUxpc3QsQ00pLHRoaXMuX21lZGlhRGVmYXVsdD1DTShlLm1lZGlhRGVmYXVsdCksdGhpcy5fY3VycmVudE1lZGlhSW5kaWNlcz1bXSxDTSh0P2UuYmFzZU9wdGlvbjp0aGlzLl9uZXdCYXNlT3B0aW9uKX0sZ2V0VGltZWxpbmVPcHRpb246ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLl90aW1lbGluZU9wdGlvbnM7aWYoaS5sZW5ndGgpe3ZhciBuPXQuZ2V0Q29tcG9uZW50KCJ0aW1lbGluZSIpO24mJihlPUNNKGlbbi5nZXRDdXJyZW50SW5kZXgoKV0sITApKX1yZXR1cm4gZX0sZ2V0TWVkaWFPcHRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYXBpLmdldFdpZHRoKCksaT10aGlzLl9hcGkuZ2V0SGVpZ2h0KCksbj10aGlzLl9tZWRpYUxpc3Qsbz10aGlzLl9tZWRpYURlZmF1bHQsYT1bXSxyPVtdO2lmKCFuLmxlbmd0aCYmIW8pcmV0dXJuIHI7Zm9yKHZhciBzPTAsbD1uLmxlbmd0aDtzPGw7cysrKVBhKG5bc10ucXVlcnksZSxpKSYmYS5wdXNoKHMpO3JldHVybiFhLmxlbmd0aCYmbyYmKGE9Wy0xXSksYS5sZW5ndGgmJiFPYShhLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXMpJiYocj1MTShhLGZ1bmN0aW9uKHQpe3JldHVybiBDTSgtMT09PXQ/by5vcHRpb246blt0XS5vcHRpb24pfSkpLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9YSxyfX07dmFyIE5NPWQsT009dyxFTT1bImFyZWFTdHlsZSIsImxpbmVTdHlsZSIsIm5vZGVTdHlsZSIsImxpbmtTdHlsZSIsImNob3JkU3R5bGUiLCJsYWJlbCIsImxhYmVsTGluZSJdLFJNPWZ1bmN0aW9uKHQsZSl7Tk0oRmEodC5zZXJpZXMpLGZ1bmN0aW9uKHQpe09NKHQpJiZXYSh0KX0pO3ZhciBpPVsieEF4aXMiLCJ5QXhpcyIsInJhZGl1c0F4aXMiLCJhbmdsZUF4aXMiLCJzaW5nbGVBeGlzIiwicGFyYWxsZWxBeGlzIiwicmFkYXIiXTtlJiZpLnB1c2goInZhbHVlQXhpcyIsImNhdGVnb3J5QXhpcyIsImxvZ0F4aXMiLCJ0aW1lQXhpcyIpLE5NKGksZnVuY3Rpb24oZSl7Tk0oRmEodFtlXSksZnVuY3Rpb24odCl7dCYmKFZhKHQsImF4aXNMYWJlbCIpLFZhKHQuYXhpc1BvaW50ZXIsImxhYmVsIikpfSl9KSxOTShGYSh0LnBhcmFsbGVsKSxmdW5jdGlvbih0KXt2YXIgZT10JiZ0LnBhcmFsbGVsQXhpc0RlZmF1bHQ7VmEoZSwiYXhpc0xhYmVsIiksVmEoZSYmZS5heGlzUG9pbnRlciwibGFiZWwiKX0pLE5NKEZhKHQuY2FsZW5kYXIpLGZ1bmN0aW9uKHQpe3phKHQsIml0ZW1TdHlsZSIpLFZhKHQsImRheUxhYmVsIiksVmEodCwibW9udGhMYWJlbCIpLFZhKHQsInllYXJMYWJlbCIpfSksTk0oRmEodC5yYWRhciksZnVuY3Rpb24odCl7VmEodCwibmFtZSIpfSksTk0oRmEodC5nZW8pLGZ1bmN0aW9uKHQpe09NKHQpJiYoR2EodCksTk0oRmEodC5yZWdpb25zKSxmdW5jdGlvbih0KXtHYSh0KX0pKX0pLE5NKEZhKHQudGltZWxpbmUpLGZ1bmN0aW9uKHQpe0dhKHQpLHphKHQsImxhYmVsIiksemEodCwiaXRlbVN0eWxlIiksemEodCwiY29udHJvbFN0eWxlIiwhMCk7dmFyIGU9dC5kYXRhO3koZSkmJmQoZSxmdW5jdGlvbih0KXt3KHQpJiYoemEodCwibGFiZWwiKSx6YSh0LCJpdGVtU3R5bGUiKSl9KX0pLE5NKEZhKHQudG9vbGJveCksZnVuY3Rpb24odCl7emEodCwiaWNvblN0eWxlIiksTk0odC5mZWF0dXJlLGZ1bmN0aW9uKHQpe3phKHQsImljb25TdHlsZSIpfSl9KSxWYShIYSh0LmF4aXNQb2ludGVyKSwibGFiZWwiKSxWYShIYSh0LnRvb2x0aXApLmF4aXNQb2ludGVyLCJsYWJlbCIpfSx6TT1bWyJ4IiwibGVmdCJdLFsieSIsInRvcCJdLFsieDIiLCJyaWdodCJdLFsieTIiLCJib3R0b20iXV0sQk09WyJncmlkIiwiZ2VvIiwicGFyYWxsZWwiLCJsZWdlbmQiLCJ0b29sYm94IiwidGl0bGUiLCJ2aXN1YWxNYXAiLCJkYXRhWm9vbSIsInRpbWVsaW5lIl0sVk09ZnVuY3Rpb24odCxlKXtSTSh0LGUpLHQuc2VyaWVzPVNpKHQuc2VyaWVzKSxkKHQuc2VyaWVzLGZ1bmN0aW9uKHQpe2lmKHcodCkpe3ZhciBlPXQudHlwZTtpZigicGllIiE9PWUmJiJnYXVnZSIhPT1lfHxudWxsIT10LmNsb2NrV2lzZSYmKHQuY2xvY2t3aXNlPXQuY2xvY2tXaXNlKSwiZ2F1Z2UiPT09ZSl7dmFyIGk9WmEodCwicG9pbnRlci5jb2xvciIpO251bGwhPWkmJlVhKHQsIml0ZW1TdHlsZS5ub3JtYWwuY29sb3IiLGkpfVhhKHQpfX0pLHQuZGF0YVJhbmdlJiYodC52aXN1YWxNYXA9dC5kYXRhUmFuZ2UpLGQoQk0sZnVuY3Rpb24oZSl7dmFyIGk9dFtlXTtpJiYoeShpKXx8KGk9W2ldKSxkKGksZnVuY3Rpb24odCl7WGEodCl9KSl9KX0sR009WWEucHJvdG90eXBlO0dNLnB1cmU9ITEsR00ucGVyc2lzdGVudD0hMCxHTS5nZXRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfTt2YXIgV009e2FycmF5Um93c19jb2x1bW46e3B1cmU6ITAsY291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoMCx0aGlzLl9kYXRhLmxlbmd0aC10aGlzLl9zb3VyY2Uuc3RhcnRJbmRleCl9LGdldEl0ZW06ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RhdGFbdCt0aGlzLl9zb3VyY2Uuc3RhcnRJbmRleF19LGFwcGVuZERhdGE6JGF9LGFycmF5Um93c19yb3c6e3B1cmU6ITAsY291bnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhWzBdO3JldHVybiB0P01hdGgubWF4KDAsdC5sZW5ndGgtdGhpcy5fc291cmNlLnN0YXJ0SW5kZXgpOjB9LGdldEl0ZW06ZnVuY3Rpb24odCl7dCs9dGhpcy5fc291cmNlLnN0YXJ0SW5kZXg7Zm9yKHZhciBlPVtdLGk9dGhpcy5fZGF0YSxuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBvPWlbbl07ZS5wdXNoKG8/b1t0XTpudWxsKX1yZXR1cm4gZX0sYXBwZW5kRGF0YTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignRG8gbm90IHN1cHBvcnQgYXBwZW5kRGF0YSB3aGVuIHNldCBzZXJpZXNMYXlvdXRCeTogInJvdyIuJyl9fSxvYmplY3RSb3dzOntwdXJlOiEwLGNvdW50OnFhLGdldEl0ZW06S2EsYXBwZW5kRGF0YTokYX0sa2V5ZWRDb2x1bW5zOntwdXJlOiEwLGNvdW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc291cmNlLmRpbWVuc2lvbnNEZWZpbmVbMF0ubmFtZSxlPXRoaXMuX2RhdGFbdF07cmV0dXJuIGU/ZS5sZW5ndGg6MH0sZ2V0SXRlbTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT10aGlzLl9zb3VyY2UuZGltZW5zaW9uc0RlZmluZSxuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBvPXRoaXMuX2RhdGFbaVtuXS5uYW1lXTtlLnB1c2gobz9vW3RdOm51bGwpfXJldHVybiBlfSxhcHBlbmREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2RhdGE7ZCh0LGZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBuPWVbaV18fChlW2ldPVtdKSxvPTA7bzwodHx8W10pLmxlbmd0aDtvKyspbi5wdXNoKHRbb10pfSl9fSxvcmlnaW5hbDp7Y291bnQ6cWEsZ2V0SXRlbTpLYSxhcHBlbmREYXRhOiRhfSx0eXBlZEFycmF5OntwZXJzaXN0ZW50OiExLHB1cmU6ITAsY291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YT90aGlzLl9kYXRhLmxlbmd0aC90aGlzLl9kaW1TaXplOjB9LGdldEl0ZW06ZnVuY3Rpb24odCxlKXt0LT10aGlzLl9vZmZzZXQsZT1lfHxbXTtmb3IodmFyIGk9dGhpcy5fZGltU2l6ZSp0LG49MDtuPHRoaXMuX2RpbVNpemU7bisrKWVbbl09dGhpcy5fZGF0YVtpK25dO3JldHVybiBlfSxhcHBlbmREYXRhOmZ1bmN0aW9uKHQpe3RoaXMuX2RhdGE9dH0sY2xlYW46ZnVuY3Rpb24oKXt0aGlzLl9vZmZzZXQrPXRoaXMuY291bnQoKSx0aGlzLl9kYXRhPW51bGx9fX0sRk09e2FycmF5Um93czpKYSxvYmplY3RSb3dzOmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBudWxsIT1pP3Rbbl06dH0sa2V5ZWRDb2x1bW5zOkphLG9yaWdpbmFsOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPUlpKHQpO3JldHVybiBudWxsIT1pJiZvIGluc3RhbmNlb2YgQXJyYXk/b1tpXTpvfSx0eXBlZEFycmF5OkphfSxITT17YXJyYXlSb3dzOlFhLG9iamVjdFJvd3M6ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHRyKHRbZV0sdGhpcy5fZGltZW5zaW9uSW5mb3NbZV0pfSxrZXllZENvbHVtbnM6UWEsb3JpZ2luYWw6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dCYmKG51bGw9PXQudmFsdWU/dDp0LnZhbHVlKTtyZXR1cm4hdGhpcy5fcmF3RGF0YS5wdXJlJiZUaSh0KSYmKHRoaXMuaGFzSXRlbU9wdGlvbj0hMCksdHIobyBpbnN0YW5jZW9mIEFycmF5P29bbl06byx0aGlzLl9kaW1lbnNpb25JbmZvc1tlXSl9LHR5cGVkQXJyYXk6ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHRbbl19fSxaTT0vXHtAKC4rPylcfS9nLFVNPXtnZXREYXRhUGFyYW1zOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXREYXRhKGUpLG49dGhpcy5nZXRSYXdWYWx1ZSh0LGUpLG89aS5nZXRSYXdJbmRleCh0KSxhPWkuZ2V0TmFtZSh0KSxyPWkuZ2V0UmF3RGF0YUl0ZW0odCkscz1pLmdldEl0ZW1WaXN1YWwodCwiY29sb3IiKTtyZXR1cm57Y29tcG9uZW50VHlwZTp0aGlzLm1haW5UeXBlLGNvbXBvbmVudFN1YlR5cGU6dGhpcy5zdWJUeXBlLHNlcmllc1R5cGU6InNlcmllcyI9PT10aGlzLm1haW5UeXBlP3RoaXMuc3ViVHlwZTpudWxsLHNlcmllc0luZGV4OnRoaXMuc2VyaWVzSW5kZXgsc2VyaWVzSWQ6dGhpcy5pZCxzZXJpZXNOYW1lOnRoaXMubmFtZSxuYW1lOmEsZGF0YUluZGV4Om8sZGF0YTpyLGRhdGFUeXBlOmUsdmFsdWU6bixjb2xvcjpzLG1hcmtlcjpqbyhzKSwkdmFyczpbInNlcmllc05hbWUiLCJuYW1lIiwidmFsdWUiXX19LGdldEZvcm1hdHRlZExhYmVsOmZ1bmN0aW9uKHQsZSxpLG4sbyl7ZT1lfHwibm9ybWFsIjt2YXIgYT10aGlzLmdldERhdGEoaSkscj1hLmdldEl0ZW1Nb2RlbCh0KSxzPXRoaXMuZ2V0RGF0YVBhcmFtcyh0LGkpO251bGwhPW4mJnMudmFsdWUgaW5zdGFuY2VvZiBBcnJheSYmKHMudmFsdWU9cy52YWx1ZVtuXSk7dmFyIGw9ci5nZXQoIm5vcm1hbCI9PT1lP1tvfHwibGFiZWwiLCJmb3JtYXR0ZXIiXTpbZSxvfHwibGFiZWwiLCJmb3JtYXR0ZXIiXSk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGw/KHMuc3RhdHVzPWUsbChzKSk6InN0cmluZyI9PXR5cGVvZiBsP1VvKGwscykucmVwbGFjZShaTSxmdW5jdGlvbihlLGkpe3ZhciBuPWkubGVuZ3RoO3JldHVybiJbIj09PWkuY2hhckF0KDApJiYiXSI9PT1pLmNoYXJBdChuLTEpJiYoaT0raS5zbGljZSgxLG4tMSkpLGVyKGEsdCxpKX0pOnZvaWQgMH0sZ2V0UmF3VmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXIodGhpcy5nZXREYXRhKGUpLHQpfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKCl7fX0sWE09b3IucHJvdG90eXBlO1hNLnBlcmZvcm09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4hKHQ+PTEpJiYodD0xKSx0fXZhciBpPXRoaXMuX3Vwc3RyZWFtLG49dCYmdC5za2lwO2lmKHRoaXMuX2RpcnR5JiZpKXt2YXIgbz10aGlzLmNvbnRleHQ7by5kYXRhPW8ub3V0cHV0RGF0YT1pLmNvbnRleHQub3V0cHV0RGF0YX10aGlzLl9fcGlwZWxpbmUmJih0aGlzLl9fcGlwZWxpbmUuY3VycmVudFRhc2s9dGhpcyk7dmFyIGE7dGhpcy5fcGxhbiYmIW4mJihhPXRoaXMuX3BsYW4odGhpcy5jb250ZXh0KSk7dmFyIHI9ZSh0aGlzLl9tb2RCeSkscz10aGlzLl9tb2REYXRhQ291bnR8fDAsbD1lKHQmJnQubW9kQnkpLHU9dCYmdC5tb2REYXRhQ291bnR8fDA7cj09PWwmJnM9PT11fHwoYT0icmVzZXQiKTt2YXIgaDsodGhpcy5fZGlydHl8fCJyZXNldCI9PT1hKSYmKHRoaXMuX2RpcnR5PSExLGg9cnIodGhpcyxuKSksdGhpcy5fbW9kQnk9bCx0aGlzLl9tb2REYXRhQ291bnQ9dTt2YXIgYz10JiZ0LnN0ZXA7aWYodGhpcy5fZHVlRW5kPWk/aS5fb3V0cHV0RHVlRW5kOnRoaXMuX2NvdW50P3RoaXMuX2NvdW50KHRoaXMuY29udGV4dCk6MS8wLHRoaXMuX3Byb2dyZXNzKXt2YXIgZD10aGlzLl9kdWVJbmRleCxmPU1hdGgubWluKG51bGwhPWM/dGhpcy5fZHVlSW5kZXgrYzoxLzAsdGhpcy5fZHVlRW5kKTtpZighbiYmKGh8fGQ8Zikpe3ZhciBwPXRoaXMuX3Byb2dyZXNzO2lmKHkocCkpZm9yKHZhciBnPTA7ZzxwLmxlbmd0aDtnKyspYXIodGhpcyxwW2ddLGQsZixsLHUpO2Vsc2UgYXIodGhpcyxwLGQsZixsLHUpfXRoaXMuX2R1ZUluZGV4PWY7dmFyIG09bnVsbCE9dGhpcy5fc2V0dGVkT3V0cHV0RW5kP3RoaXMuX3NldHRlZE91dHB1dEVuZDpmO3RoaXMuX291dHB1dER1ZUVuZD1tfWVsc2UgdGhpcy5fZHVlSW5kZXg9dGhpcy5fb3V0cHV0RHVlRW5kPW51bGwhPXRoaXMuX3NldHRlZE91dHB1dEVuZD90aGlzLl9zZXR0ZWRPdXRwdXRFbmQ6dGhpcy5fZHVlRW5kO3JldHVybiB0aGlzLnVuZmluaXNoZWQoKX07dmFyIGpNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3JldHVybiBuPGk/bisrOm51bGx9ZnVuY3Rpb24gZSgpe3ZhciB0PW4lcipvK01hdGguY2VpbChuL3IpLGU9bj49aT9udWxsOnQ8YT90Om47cmV0dXJuIG4rKyxlfXZhciBpLG4sbyxhLHIscz17cmVzZXQ6ZnVuY3Rpb24obCx1LGgsYyl7bj1sLGk9dSxvPWgsYT1jLHI9TWF0aC5jZWlsKGEvbykscy5uZXh0PW8+MSYmYT4wP2U6dH19O3JldHVybiBzfSgpO1hNLmRpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fZGlydHk9ITAsdGhpcy5fb25EaXJ0eSYmdGhpcy5fb25EaXJ0eSh0aGlzLmNvbnRleHQpfSxYTS51bmZpbmlzaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2dyZXNzJiZ0aGlzLl9kdWVJbmRleDx0aGlzLl9kdWVFbmR9LFhNLnBpcGU9ZnVuY3Rpb24odCl7KHRoaXMuX2Rvd25zdHJlYW0hPT10fHx0aGlzLl9kaXJ0eSkmJih0aGlzLl9kb3duc3RyZWFtPXQsdC5fdXBzdHJlYW09dGhpcyx0LmRpcnR5KCkpfSxYTS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZWR8fCh0aGlzLl91cHN0cmVhbSYmKHRoaXMuX3Vwc3RyZWFtLl9kb3duc3RyZWFtPW51bGwpLHRoaXMuX2Rvd25zdHJlYW0mJih0aGlzLl9kb3duc3RyZWFtLl91cHN0cmVhbT1udWxsKSx0aGlzLl9kaXJ0eT0hMSx0aGlzLl9kaXNwb3NlZD0hMCl9LFhNLmdldFVwc3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Vwc3RyZWFtfSxYTS5nZXREb3duc3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rvd25zdHJlYW19LFhNLnNldE91dHB1dEVuZD1mdW5jdGlvbih0KXt0aGlzLl9vdXRwdXREdWVFbmQ9dGhpcy5fc2V0dGVkT3V0cHV0RW5kPXR9O3ZhciBZTT1OaSgpLHFNPXVNLmV4dGVuZCh7dHlwZToic2VyaWVzLl9fYmFzZV9fIixzZXJpZXNJbmRleDowLGNvb3JkaW5hdGVTeXN0ZW06bnVsbCxkZWZhdWx0T3B0aW9uOm51bGwsbGVnZW5kRGF0YVByb3ZpZGVyOm51bGwsdmlzdWFsQ29sb3JBY2Nlc3NQYXRoOiJpdGVtU3R5bGUuY29sb3IiLGxheW91dE1vZGU6bnVsbCxpbml0OmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuc2VyaWVzSW5kZXg9dGhpcy5jb21wb25lbnRJbmRleCx0aGlzLmRhdGFUYXNrPW5yKHtjb3VudDp1cixyZXNldDpocn0pLHRoaXMuZGF0YVRhc2suY29udGV4dD17bW9kZWw6dGhpc30sdGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpLGRhKHRoaXMpO3ZhciBvPXRoaXMuZ2V0SW5pdGlhbERhdGEodCxpKTtkcihvLHRoaXMpLHRoaXMuZGF0YVRhc2suY29udGV4dC5kYXRhPW8sWU0odGhpcykuZGF0YUJlZm9yZVByb2Nlc3NlZD1vLHNyKHRoaXMpfSxtZXJnZURlZmF1bHRBbmRUaGVtZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMubGF5b3V0TW9kZSxvPWk/bmEodCk6e30sYT10aGlzLnN1YlR5cGU7dU0uaGFzQ2xhc3MoYSkmJihhKz0iU2VyaWVzIiksbih0LGUuZ2V0VGhlbWUoKS5nZXQodGhpcy5zdWJUeXBlKSksbih0LHRoaXMuZ2V0RGVmYXVsdE9wdGlvbigpKSxNaSh0LCJsYWJlbCIsWyJzaG93Il0pLHRoaXMuZmlsbERhdGFUZXh0U3R5bGUodC5kYXRhKSxpJiZpYSh0LG8saSl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQsZSl7dD1uKHRoaXMub3B0aW9uLHQsITApLHRoaXMuZmlsbERhdGFUZXh0U3R5bGUodC5kYXRhKTt2YXIgaT10aGlzLmxheW91dE1vZGU7aSYmaWEodGhpcy5vcHRpb24sdCxpKSxkYSh0aGlzKTt2YXIgbz10aGlzLmdldEluaXRpYWxEYXRhKHQsZSk7ZHIobyx0aGlzKSx0aGlzLmRhdGFUYXNrLmRpcnR5KCksdGhpcy5kYXRhVGFzay5jb250ZXh0LmRhdGE9byxZTSh0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkPW8sc3IodGhpcyl9LGZpbGxEYXRhVGV4dFN0eWxlOmZ1bmN0aW9uKHQpe2lmKHQmJiFTKHQpKWZvcih2YXIgZT1bInNob3ciXSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXSYmdFtpXS5sYWJlbCYmTWkodFtpXSwibGFiZWwiLGUpfSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbigpe30sYXBwZW5kRGF0YTpmdW5jdGlvbih0KXt0aGlzLmdldFJhd0RhdGEoKS5hcHBlbmREYXRhKHQuZGF0YSl9LGdldERhdGE6ZnVuY3Rpb24odCl7dmFyIGU9cHIodGhpcyk7aWYoZSl7dmFyIGk9ZS5jb250ZXh0LmRhdGE7cmV0dXJuIG51bGw9PXQ/aTppLmdldExpbmtlZERhdGEodCl9cmV0dXJuIFlNKHRoaXMpLmRhdGF9LHNldERhdGE6ZnVuY3Rpb24odCl7dmFyIGU9cHIodGhpcyk7aWYoZSl7dmFyIGk9ZS5jb250ZXh0O2kuZGF0YSE9PXQmJmUubW9kaWZ5T3V0cHV0RW5kJiZlLnNldE91dHB1dEVuZCh0LmNvdW50KCkpLGkub3V0cHV0RGF0YT10LGUhPT10aGlzLmRhdGFUYXNrJiYoaS5kYXRhPXQpfVlNKHRoaXMpLmRhdGE9dH0sZ2V0U291cmNlOmZ1bmN0aW9uKCl7cmV0dXJuIGhhKHRoaXMpfSxnZXRSYXdEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIFlNKHRoaXMpLmRhdGFCZWZvcmVQcm9jZXNzZWR9LGdldEJhc2VBeGlzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb29yZGluYXRlU3lzdGVtO3JldHVybiB0JiZ0LmdldEJhc2VBeGlzJiZ0LmdldEJhc2VBeGlzKCl9LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIFpvKEZvKHQpKX12YXIgbz10aGlzLmdldERhdGEoKSxhPW8ubWFwRGltZW5zaW9uKCJkZWZhdWx0ZWRUb29sdGlwIiwhMCkscj1hLmxlbmd0aCxzPXRoaXMuZ2V0UmF3VmFsdWUodCksbD15KHMpLHU9by5nZXRJdGVtVmlzdWFsKHQsImNvbG9yIik7dyh1KSYmdS5jb2xvclN0b3BzJiYodT0odS5jb2xvclN0b3BzWzBdfHx7fSkuY29sb3IpLHU9dXx8InRyYW5zcGFyZW50Ijt2YXIgaD1yPjF8fGwmJiFyP2Z1bmN0aW9uKGkpe2Z1bmN0aW9uIG4odCxpKXt2YXIgbj1vLmdldERpbWVuc2lvbkluZm8oaSk7aWYobiYmITEhPT1uLm90aGVyRGltcy50b29sdGlwKXt2YXIgYT1uLnR5cGUsbD1qbyh7Y29sb3I6dSx0eXBlOiJzdWJJdGVtIn0pLGg9KHI/bCtabyhuLmRpc3BsYXlOYW1lfHwiLSIpKyI6ICI6IiIpK1pvKCJvcmRpbmFsIj09PWE/dCsiIjoidGltZSI9PT1hP2U/IiI6cW8oInl5eXkvTU0vZGQgaGg6bW06c3MiLHQpOkZvKHQpKTtoJiZzLnB1c2goaCl9fXZhciByPXAoaSxmdW5jdGlvbih0LGUsaSl7dmFyIG49by5nZXREaW1lbnNpb25JbmZvKGkpO3JldHVybiB0fD1uJiYhMSE9PW4udG9vbHRpcCYmbnVsbCE9bi5kaXNwbGF5TmFtZX0sMCkscz1bXTtyZXR1cm4gYS5sZW5ndGg/ZChhLGZ1bmN0aW9uKGUpe24oZXIobyx0LGUpLGUpfSk6ZChpLG4pLChyPyI8YnIvPiI6IiIpK3Muam9pbihyPyI8YnIvPiI6IiwgIil9KHMpOm4ocj9lcihvLHQsYVswXSk6bD9zWzBdOnMpLGM9am8odSksZj1vLmdldE5hbWUodCksZz10aGlzLm5hbWU7cmV0dXJuIENpKHRoaXMpfHwoZz0iIiksZz1nP1pvKGcpKyhlPyI6ICI6Ijxici8+Iik6IiIsZT9jK2craDpnK2MrKGY/Wm8oZikrIjogIitoOmgpfSxpc0FuaW1hdGlvbkVuYWJsZWQ6ZnVuY3Rpb24oKXtpZihvXy5ub2RlKXJldHVybiExO3ZhciB0PXRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uIik7cmV0dXJuIHQmJnRoaXMuZ2V0RGF0YSgpLmNvdW50KCk+dGhpcy5nZXRTaGFsbG93KCJhbmltYXRpb25UaHJlc2hvbGQiKSYmKHQ9ITEpLHR9LHJlc3RvcmVEYXRhOmZ1bmN0aW9uKCl7dGhpcy5kYXRhVGFzay5kaXJ0eSgpfSxnZXRDb2xvckZyb21QYWxldHRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmVjTW9kZWwsbz1mTS5nZXRDb2xvckZyb21QYWxldHRlLmNhbGwodGhpcyx0LGUsaSk7cmV0dXJuIG98fChvPW4uZ2V0Q29sb3JGcm9tUGFsZXR0ZSh0LGUsaSkpLG99LGNvb3JkRGltVG9EYXRhRGltOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFJhd0RhdGEoKS5tYXBEaW1lbnNpb24odCwhMCl9LGdldFByb2dyZXNzaXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJwcm9ncmVzc2l2ZSIpfSxnZXRQcm9ncmVzc2l2ZVRocmVzaG9sZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgicHJvZ3Jlc3NpdmVUaHJlc2hvbGQiKX0sZ2V0QXhpc1Rvb2x0aXBEYXRhOm51bGwsZ2V0VG9vbHRpcFBvc2l0aW9uOm51bGwscGlwZVRhc2s6bnVsbCxwcmV2ZW50SW5jcmVtZW50YWw6bnVsbCxwaXBlbGluZUNvbnRleHQ6bnVsbH0pO2gocU0sVU0pLGgocU0sZk0pO3ZhciBLTT1mdW5jdGlvbigpe3RoaXMuZ3JvdXA9bmV3IHJ3LHRoaXMudWlkPU1vKCJ2aWV3Q29tcG9uZW50Iil9O0tNLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S00saW5pdDpmdW5jdGlvbih0LGUpe30scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe30sZGlzcG9zZTpmdW5jdGlvbigpe319O3ZhciAkTT1LTS5wcm90b3R5cGU7JE0udXBkYXRlVmlldz0kTS51cGRhdGVMYXlvdXQ9JE0udXBkYXRlVmlzdWFsPWZ1bmN0aW9uKHQsZSxpLG4pe30sR2koS00pLFppKEtNLHtyZWdpc3RlcldoZW5FeHRlbmQ6ITB9KTt2YXIgSk09ZnVuY3Rpb24oKXt2YXIgdD1OaSgpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgaT10KGUpLG49ZS5waXBlbGluZUNvbnRleHQsbz1pLmxhcmdlLGE9aS5wcm9ncmVzc2l2ZVJlbmRlcixyPWkubGFyZ2U9bi5sYXJnZSxzPWkucHJvZ3Jlc3NpdmVSZW5kZXI9bi5wcm9ncmVzc2l2ZVJlbmRlcjtyZXR1cm4hIShvXnJ8fGFecykmJiJyZXNldCJ9fSxRTT1OaSgpLHRJPUpNKCk7Z3IucHJvdG90eXBlPXt0eXBlOiJjaGFydCIsaW5pdDpmdW5jdGlvbih0LGUpe30scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe30saGlnaGxpZ2h0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZyKHQuZ2V0RGF0YSgpLG4sImVtcGhhc2lzIil9LGRvd25wbGF5OmZ1bmN0aW9uKHQsZSxpLG4pe3ZyKHQuZ2V0RGF0YSgpLG4sIm5vcm1hbCIpfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fSxpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6bnVsbCxpbmNyZW1lbnRhbFJlbmRlcjpudWxsLHVwZGF0ZVRyYW5zZm9ybTpudWxsfTt2YXIgZUk9Z3IucHJvdG90eXBlO2VJLnVwZGF0ZVZpZXc9ZUkudXBkYXRlTGF5b3V0PWVJLnVwZGF0ZVZpc3VhbD1mdW5jdGlvbih0LGUsaSxuKXt0aGlzLnJlbmRlcih0LGUsaSxuKX0sR2koZ3IpLFppKGdyLHtyZWdpc3RlcldoZW5FeHRlbmQ6ITB9KSxnci5tYXJrVXBkYXRlTWV0aG9kPWZ1bmN0aW9uKHQsZSl7UU0odCkudXBkYXRlTWV0aG9kPWV9O3ZhciBpST17aW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyOntwcm9ncmVzczpmdW5jdGlvbih0LGUpe2Uudmlldy5pbmNyZW1lbnRhbFJlbmRlcih0LGUubW9kZWwsZS5lY01vZGVsLGUuYXBpLGUucGF5bG9hZCl9fSxyZW5kZXI6e2ZvcmNlRmlyc3RQcm9ncmVzczohMCxwcm9ncmVzczpmdW5jdGlvbih0LGUpe2Uudmlldy5yZW5kZXIoZS5tb2RlbCxlLmVjTW9kZWwsZS5hcGksZS5wYXlsb2FkKX19fSxuST0iXDBfX3Rocm90dGxlT3JpZ2luTWV0aG9kIixvST0iXDBfX3Rocm90dGxlUmF0ZSIsYUk9IlwwX190aHJvdHRsZVR5cGUiLHJJPXtjcmVhdGVPbkFsbFNlcmllczohMCxwZXJmb3JtUmF3U2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXREYXRhKCksbj0odC52aXN1YWxDb2xvckFjY2Vzc1BhdGh8fCJpdGVtU3R5bGUuY29sb3IiKS5zcGxpdCgiLiIpLG89dC5nZXQobil8fHQuZ2V0Q29sb3JGcm9tUGFsZXR0ZSh0Lm5hbWUsbnVsbCxlLmdldFNlcmllc0NvdW50KCkpO2lmKGkuc2V0VmlzdWFsKCJjb2xvciIsbyksIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSl7ImZ1bmN0aW9uIiE9dHlwZW9mIG98fG8gaW5zdGFuY2VvZiBBU3x8aS5lYWNoKGZ1bmN0aW9uKGUpe2kuc2V0SXRlbVZpc3VhbChlLCJjb2xvciIsbyh0LmdldERhdGFQYXJhbXMoZSkpKX0pO3JldHVybntkYXRhRWFjaDppLmhhc0l0ZW1PcHRpb24/ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldEl0ZW1Nb2RlbChlKS5nZXQobiwhMCk7bnVsbCE9aSYmdC5zZXRJdGVtVmlzdWFsKGUsImNvbG9yIixpKX06bnVsbH19fX0sc0k9e3Rvb2xib3g6e2JydXNoOnt0aXRsZTp7cmVjdDoi55+p5b2i6YCJ5oupIixwb2x5Z29uOiLlnIjpgIkiLGxpbmVYOiLmqKrlkJHpgInmi6kiLGxpbmVZOiLnurXlkJHpgInmi6kiLGtlZXA6IuS/neaMgemAieaLqSIsY2xlYXI6Iua4hemZpOmAieaLqSJ9fSxkYXRhVmlldzp7dGl0bGU6IuaVsOaNruinhuWbviIsbGFuZzpbIuaVsOaNruinhuWbviIsIuWFs+mXrSIsIuWIt+aWsCJdfSxkYXRhWm9vbTp7dGl0bGU6e3pvb206IuWMuuWfn+e8qeaUviIsYmFjazoi5Yy65Z+f57yp5pS+6L+Y5Y6fIn19LG1hZ2ljVHlwZTp7dGl0bGU6e2xpbmU6IuWIh+aNouS4uuaKmOe6v+WbviIsYmFyOiLliIfmjaLkuLrmn7Hnirblm74iLHN0YWNrOiLliIfmjaLkuLrloIblj6AiLHRpbGVkOiLliIfmjaLkuLrlubPpk7oifX0scmVzdG9yZTp7dGl0bGU6Iui/mOWOnyJ9LHNhdmVBc0ltYWdlOnt0aXRsZToi5L+d5a2Y5Li65Zu+54mHIixsYW5nOlsi5Y+z6ZSu5Y+m5a2Y5Li65Zu+54mHIl19fSxzZXJpZXM6e3R5cGVOYW1lczp7cGllOiLppbzlm74iLGJhcjoi5p+x54q25Zu+IixsaW5lOiLmipjnur/lm74iLHNjYXR0ZXI6IuaVo+eCueWbviIsZWZmZWN0U2NhdHRlcjoi5raf5ryq5pWj54K55Zu+IixyYWRhcjoi6Zu36L6+5Zu+Iix0cmVlOiLmoJHlm74iLHRyZWVtYXA6IuefqeW9ouagkeWbviIsYm94cGxvdDoi566x5Z6L5Zu+IixjYW5kbGVzdGljazoiS+e6v+WbviIsazoiS+e6v+WbviIsaGVhdG1hcDoi54Ot5Yqb5Zu+IixtYXA6IuWcsOWbviIscGFyYWxsZWw6IuW5s+ihjOWdkOagh+WbviIsbGluZXM6Iue6v+WbviIsZ3JhcGg6IuWFs+ezu+WbviIsc2Fua2V5OiLmoZHln7rlm74iLGZ1bm5lbDoi5ryP5paX5Zu+IixnYXVnZToi5Luq6KGo55uY5Zu+IixwaWN0b3JpYWxCYXI6IuixoeW9ouafseWbviIsdGhlbWVSaXZlcjoi5Li76aKY5rKz5rWB5Zu+IixzdW5idXJzdDoi5pet5pel5Zu+In19LGFyaWE6e2dlbmVyYWw6e3dpdGhUaXRsZToi6L+Z5piv5LiA5Liq5YWz5LqO4oCce3RpdGxlfeKAneeahOWbvuihqOOAgiIsd2l0aG91dFRpdGxlOiLov5nmmK/kuIDkuKrlm77ooajvvIwifSxzZXJpZXM6e3NpbmdsZTp7cHJlZml4OiIiLHdpdGhOYW1lOiLlm77ooajnsbvlnovmmK97c2VyaWVzVHlwZX3vvIzooajnpLp7c2VyaWVzTmFtZX3jgIIiLHdpdGhvdXROYW1lOiLlm77ooajnsbvlnovmmK97c2VyaWVzVHlwZX3jgIIifSxtdWx0aXBsZTp7cHJlZml4OiLlroPnlLF7c2VyaWVzQ291bnR95Liq5Zu+6KGo57O75YiX57uE5oiQ44CCIix3aXRoTmFtZToi56yse3Nlcmllc0lkfeS4quezu+WIl+aYr+S4gOS4quihqOekuntzZXJpZXNOYW1lfeeahHtzZXJpZXNUeXBlfe+8jCIsd2l0aG91dE5hbWU6IuesrHtzZXJpZXNJZH3kuKrns7vliJfmmK/kuIDkuKp7c2VyaWVzVHlwZX3vvIwiLHNlcGFyYXRvcjp7bWlkZGxlOiLvvJsiLGVuZDoi44CCIn19fSxkYXRhOnthbGxEYXRhOiLlhbbmlbDmja7mmK/igJTigJQiLHBhcnRpYWxEYXRhOiLlhbbkuK3vvIzliY17ZGlzcGxheUNudH3pobnmmK/igJTigJQiLHdpdGhOYW1lOiJ7bmFtZX3nmoTmlbDmja7mmK97dmFsdWV9Iix3aXRob3V0TmFtZToie3ZhbHVlfSIsc2VwYXJhdG9yOnttaWRkbGU6Iu+8jCIsZW5kOiIifX19fSxsST1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlKXtpZigic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIGk9dDtyZXR1cm4gZChlLGZ1bmN0aW9uKHQsZSl7aT1pLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFx7XFxzKiIrZSsiXFxzKlxcfSIsImciKSx0KX0pLGl9ZnVuY3Rpb24gbih0KXt2YXIgZT1hLmdldCh0KTtpZihudWxsPT1lKXtmb3IodmFyIGk9dC5zcGxpdCgiLiIpLG49c0kuYXJpYSxvPTA7bzxpLmxlbmd0aDsrK28pbj1uW2lbb11dO3JldHVybiBufXJldHVybiBlfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHNJLnNlcmllcy50eXBlTmFtZXNbdF18fCLoh6rlrprkuYnlm74ifXZhciBhPWUuZ2V0TW9kZWwoImFyaWEiKTtpZihhLmdldCgic2hvdyIpKWlmKGEuZ2V0KCJkZXNjcmlwdGlvbiIpKXQuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIixhLmdldCgiZGVzY3JpcHRpb24iKSk7ZWxzZXt2YXIgcj0wO2UuZWFjaFNlcmllcyhmdW5jdGlvbih0LGUpeysrcn0sdGhpcyk7dmFyIHMsbD1hLmdldCgiZGF0YS5tYXhDb3VudCIpfHwxMCx1PWEuZ2V0KCJzZXJpZXMubWF4Q291bnQiKXx8MTAsaD1NYXRoLm1pbihyLHUpO2lmKCEocjwxKSl7dmFyIGM9ZnVuY3Rpb24oKXt2YXIgdD1lLmdldE1vZGVsKCJ0aXRsZSIpLm9wdGlvbjtyZXR1cm4gdCYmdC5sZW5ndGgmJih0PXRbMF0pLHQmJnQudGV4dH0oKTtzPWM/aShuKCJnZW5lcmFsLndpdGhUaXRsZSIpLHt0aXRsZTpjfSk6bigiZ2VuZXJhbC53aXRob3V0VGl0bGUiKTt2YXIgZj1bXTtzKz1pKG4ocj4xPyJzZXJpZXMubXVsdGlwbGUucHJlZml4Ijoic2VyaWVzLnNpbmdsZS5wcmVmaXgiKSx7c2VyaWVzQ291bnQ6cn0pLGUuZWFjaFNlcmllcyhmdW5jdGlvbih0LGUpe2lmKGU8aCl7dmFyIGEscz10LmdldCgibmFtZSIpLHU9InNlcmllcy4iKyhyPjE/Im11bHRpcGxlIjoic2luZ2xlIikrIi4iO2E9aShhPW4ocz91KyJ3aXRoTmFtZSI6dSsid2l0aG91dE5hbWUiKSx7c2VyaWVzSWQ6dC5zZXJpZXNJbmRleCxzZXJpZXNOYW1lOnQuZ2V0KCJuYW1lIiksc2VyaWVzVHlwZTpvKHQuc3ViVHlwZSl9KTt2YXIgYz10LmdldERhdGEoKTt3aW5kb3cuZGF0YT1jLGMuY291bnQoKT5sP2ErPWkobigiZGF0YS5wYXJ0aWFsRGF0YSIpLHtkaXNwbGF5Q250Omx9KTphKz1uKCJkYXRhLmFsbERhdGEiKTtmb3IodmFyIGQ9W10scD0wO3A8Yy5jb3VudCgpO3ArKylpZihwPGwpe3ZhciBnPWMuZ2V0TmFtZShwKSxtPWVyKGMscCk7ZC5wdXNoKGkobihnPyJkYXRhLndpdGhOYW1lIjoiZGF0YS53aXRob3V0TmFtZSIpLHtuYW1lOmcsdmFsdWU6bX0pKX1hKz1kLmpvaW4obigiZGF0YS5zZXBhcmF0b3IubWlkZGxlIikpK24oImRhdGEuc2VwYXJhdG9yLmVuZCIpLGYucHVzaChhKX19KSxzKz1mLmpvaW4obigic2VyaWVzLm11bHRpcGxlLnNlcGFyYXRvci5taWRkbGUiKSkrbigic2VyaWVzLm11bHRpcGxlLnNlcGFyYXRvci5lbmQiKSx0LnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIscyl9fX0sdUk9TWF0aC5QSSxoST1Tci5wcm90b3R5cGU7aEkucmVzdG9yZURhdGE9ZnVuY3Rpb24odCxlKXt0LnJlc3RvcmVEYXRhKGUpLHRoaXMuX3N0YWdlVGFza01hcC5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQub3ZlcmFsbFRhc2s7ZSYmZS5kaXJ0eSgpfSl9LGhJLmdldFBlcmZvcm1BcmdzPWZ1bmN0aW9uKHQsZSl7aWYodC5fX3BpcGVsaW5lKXt2YXIgaT10aGlzLl9waXBlbGluZU1hcC5nZXQodC5fX3BpcGVsaW5lLmlkKSxuPWkuY29udGV4dCxvPSFlJiZpLnByb2dyZXNzaXZlRW5hYmxlZCYmKCFufHxuLnByb2dyZXNzaXZlUmVuZGVyKSYmdC5fX2lkeEluUGlwZWxpbmU+aS5ibG9ja0luZGV4P2kuc3RlcDpudWxsLGE9biYmbi5tb2REYXRhQ291bnQ7cmV0dXJue3N0ZXA6byxtb2RCeTpudWxsIT1hP01hdGguY2VpbChhL28pOm51bGwsbW9kRGF0YUNvdW50OmF9fX0saEkuZ2V0UGlwZWxpbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lTWFwLmdldCh0KX0saEkudXBkYXRlU3RyZWFtTW9kZXM9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9waXBlbGluZU1hcC5nZXQodC51aWQpLG49dC5nZXREYXRhKCkuY291bnQoKSxvPWkucHJvZ3Jlc3NpdmVFbmFibGVkJiZlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlciYmbj49aS50aHJlc2hvbGQsYT10LmdldCgibGFyZ2UiKSYmbj49dC5nZXQoImxhcmdlVGhyZXNob2xkIikscj0ibW9kIj09PXQuZ2V0KCJwcm9ncmVzc2l2ZUNodW5rTW9kZSIpP246bnVsbDt0LnBpcGVsaW5lQ29udGV4dD1pLmNvbnRleHQ9e3Byb2dyZXNzaXZlUmVuZGVyOm8sbW9kRGF0YUNvdW50OnIsbGFyZ2U6YX19LGhJLnJlc3RvcmVQaXBlbGluZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPWUuX3BpcGVsaW5lTWFwPVIoKTt0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7dmFyIG49dC5nZXRQcm9ncmVzc2l2ZSgpLG89dC51aWQ7aS5zZXQobyx7aWQ6byxoZWFkOm51bGwsdGFpbDpudWxsLHRocmVzaG9sZDp0LmdldFByb2dyZXNzaXZlVGhyZXNob2xkKCkscHJvZ3Jlc3NpdmVFbmFibGVkOm4mJiEodC5wcmV2ZW50SW5jcmVtZW50YWwmJnQucHJldmVudEluY3JlbWVudGFsKCkpLGJsb2NrSW5kZXg6LTEsc3RlcDpNYXRoLnJvdW5kKG58fDcwMCksY291bnQ6MH0pLEVyKGUsdCx0LmRhdGFUYXNrKX0pfSxoSS5wcmVwYXJlU3RhZ2VUYXNrcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0YWdlVGFza01hcCxlPXRoaXMuZWNJbnN0YW5jZS5nZXRNb2RlbCgpLGk9dGhpcy5hcGk7ZCh0aGlzLl9hbGxIYW5kbGVycyxmdW5jdGlvbihuKXt2YXIgbz10LmdldChuLnVpZCl8fHQuc2V0KG4udWlkLFtdKTtuLnJlc2V0JiZJcih0aGlzLG4sbyxlLGkpLG4ub3ZlcmFsbFJlc2V0JiZUcih0aGlzLG4sbyxlLGkpfSx0aGlzKX0saEkucHJlcGFyZVZpZXc9ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5yZW5kZXJUYXNrLGE9by5jb250ZXh0O2EubW9kZWw9ZSxhLmVjTW9kZWw9aSxhLmFwaT1uLG8uX19ibG9jaz0hdC5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXIsRXIodGhpcyxlLG8pfSxoSS5wZXJmb3JtRGF0YVByb2Nlc3NvclRhc2tzPWZ1bmN0aW9uKHQsZSl7TXIodGhpcyx0aGlzLl9kYXRhUHJvY2Vzc29ySGFuZGxlcnMsdCxlLHtibG9jazohMH0pfSxoSS5wZXJmb3JtVmlzdWFsVGFza3M9ZnVuY3Rpb24odCxlLGkpe01yKHRoaXMsdGhpcy5fdmlzdWFsSGFuZGxlcnMsdCxlLGkpfSxoSS5wZXJmb3JtU2VyaWVzVGFza3M9ZnVuY3Rpb24odCl7dmFyIGU7dC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe2V8PXQuZGF0YVRhc2sucGVyZm9ybSgpfSksdGhpcy51bmZpbmlzaGVkfD1lfSxoSS5wbGFuPWZ1bmN0aW9uKCl7dGhpcy5fcGlwZWxpbmVNYXAuZWFjaChmdW5jdGlvbih0KXt2YXIgZT10LnRhaWw7ZG97aWYoZS5fX2Jsb2NrKXt0LmJsb2NrSW5kZXg9ZS5fX2lkeEluUGlwZWxpbmU7YnJlYWt9ZT1lLmdldFVwc3RyZWFtKCl9d2hpbGUoZSl9KX07dmFyIGNJPWhJLnVwZGF0ZVBheWxvYWQ9ZnVuY3Rpb24odCxlKXsicmVtYWluIiE9PWUmJih0LmNvbnRleHQucGF5bG9hZD1lKX0sZEk9TnIoMCk7U3Iud3JhcFN0YWdlSGFuZGxlcj1mdW5jdGlvbih0LGUpe3JldHVybiB4KHQpJiYodD17b3ZlcmFsbFJlc2V0OnQsc2VyaWVzVHlwZTpScih0KX0pLHQudWlkPU1vKCJzdGFnZUhhbmRsZXIiKSxlJiYodC52aXN1YWxUeXBlPWUpLHR9O3ZhciBmSSxwST17fSxnST17fTt6cihwSSxJTSksenIoZ0ksQWEpLHBJLmVhY2hTZXJpZXNCeVR5cGU9cEkuZWFjaFJhd1Nlcmllc0J5VHlwZT1mdW5jdGlvbih0KXtmST10fSxwSS5lYWNoQ29tcG9uZW50PWZ1bmN0aW9uKHQpeyJzZXJpZXMiPT09dC5tYWluVHlwZSYmdC5zdWJUeXBlJiYoZkk9dC5zdWJUeXBlKX07dmFyIG1JPVsiIzM3QTJEQSIsIiMzMkM1RTkiLCIjNjdFMEUzIiwiIzlGRTZCOCIsIiNGRkRCNUMiLCIjZmY5ZjdmIiwiI2ZiNzI5MyIsIiNFMDYyQUUiLCIjRTY5MEQxIiwiI2U3YmNmMyIsIiM5ZDk2ZjUiLCIjODM3OEVBIiwiIzk2QkZGRiJdLHZJPXtjb2xvcjptSSxjb2xvckxheWVyOltbIiMzN0EyREEiLCIjZmZkODVjIiwiI2ZkN2I1ZiJdLFsiIzM3QTJEQSIsIiM2N0UwRTMiLCIjRkZEQjVDIiwiI2ZmOWY3ZiIsIiNFMDYyQUUiLCIjOWQ5NmY1Il0sWyIjMzdBMkRBIiwiIzMyQzVFOSIsIiM5RkU2QjgiLCIjRkZEQjVDIiwiI2ZmOWY3ZiIsIiNmYjcyOTMiLCIjZTdiY2YzIiwiIzgzNzhFQSIsIiM5NkJGRkYiXSxtSV19LHlJPVsiI2RkNmI2NiIsIiM3NTlhYTAiLCIjZTY5ZDg3IiwiIzhkYzFhOSIsIiNlYTdlNTMiLCIjZWVkZDc4IiwiIzczYTM3MyIsIiM3M2I5YmMiLCIjNzI4OWFiIiwiIzkxY2E4YyIsIiNmNDlmNDIiXSx4ST17Y29sb3I6eUksYmFja2dyb3VuZENvbG9yOiIjMzMzIix0b29sdGlwOntheGlzUG9pbnRlcjp7bGluZVN0eWxlOntjb2xvcjoiI2VlZSJ9LGNyb3NzU3R5bGU6e2NvbG9yOiIjZWVlIn19fSxsZWdlbmQ6e3RleHRTdHlsZTp7Y29sb3I6IiNlZWUifX0sdGV4dFN0eWxlOntjb2xvcjoiI2VlZSJ9LHRpdGxlOnt0ZXh0U3R5bGU6e2NvbG9yOiIjZWVlIn19LHRvb2xib3g6e2ljb25TdHlsZTp7bm9ybWFsOntib3JkZXJDb2xvcjoiI2VlZSJ9fX0sZGF0YVpvb206e3RleHRTdHlsZTp7Y29sb3I6IiNlZWUifX0sdmlzdWFsTWFwOnt0ZXh0U3R5bGU6e2NvbG9yOiIjZWVlIn19LHRpbWVsaW5lOntsaW5lU3R5bGU6e2NvbG9yOiIjZWVlIn0saXRlbVN0eWxlOntub3JtYWw6e2NvbG9yOnlJWzFdfX0sbGFiZWw6e25vcm1hbDp7dGV4dFN0eWxlOntjb2xvcjoiI2VlZSJ9fX0sY29udHJvbFN0eWxlOntub3JtYWw6e2NvbG9yOiIjZWVlIixib3JkZXJDb2xvcjoiI2VlZSJ9fX0sdGltZUF4aXM6e2F4aXNMaW5lOntsaW5lU3R5bGU6e2NvbG9yOiIjZWVlIn19LGF4aXNUaWNrOntsaW5lU3R5bGU6e2NvbG9yOiIjZWVlIn19LGF4aXNMYWJlbDp7dGV4dFN0eWxlOntjb2xvcjoiI2VlZSJ9fSxzcGxpdExpbmU6e2xpbmVTdHlsZTp7dHlwZToiZGFzaGVkIixjb2xvcjoiI2FhYSJ9fSxzcGxpdEFyZWE6e2FyZWFTdHlsZTp7Y29sb3I6IiNlZWUifX19LGxvZ0F4aXM6e2F4aXNMaW5lOntsaW5lU3R5bGU6e2NvbG9yOiIjZWVlIn19LGF4aXNUaWNrOntsaW5lU3R5bGU6e2NvbG9yOiIjZWVlIn19LGF4aXNMYWJlbDp7dGV4dFN0eWxlOntjb2xvcjoiI2VlZSJ9fSxzcGxpdExpbmU6e2xpbmVTdHlsZTp7dHlwZToiZGFzaGVkIixjb2xvcjoiI2FhYSJ9fSxzcGxpdEFyZWE6e2FyZWFTdHlsZTp7Y29sb3I6IiNlZWUifX19LHZhbHVlQXhpczp7YXhpc0xpbmU6e2xpbmVTdHlsZTp7Y29sb3I6IiNlZWUifX0sYXhpc1RpY2s6e2xpbmVTdHlsZTp7Y29sb3I6IiNlZWUifX0sYXhpc0xhYmVsOnt0ZXh0U3R5bGU6e2NvbG9yOiIjZWVlIn19LHNwbGl0TGluZTp7bGluZVN0eWxlOnt0eXBlOiJkYXNoZWQiLGNvbG9yOiIjYWFhIn19LHNwbGl0QXJlYTp7YXJlYVN0eWxlOntjb2xvcjoiI2VlZSJ9fX0sY2F0ZWdvcnlBeGlzOntheGlzTGluZTp7bGluZVN0eWxlOntjb2xvcjoiI2VlZSJ9fSxheGlzVGljazp7bGluZVN0eWxlOntjb2xvcjoiI2VlZSJ9fSxheGlzTGFiZWw6e3RleHRTdHlsZTp7Y29sb3I6IiNlZWUifX0sc3BsaXRMaW5lOntsaW5lU3R5bGU6e3R5cGU6ImRhc2hlZCIsY29sb3I6IiNhYWEifX0sc3BsaXRBcmVhOnthcmVhU3R5bGU6e2NvbG9yOiIjZWVlIn19fSxsaW5lOntzeW1ib2w6ImNpcmNsZSJ9LGdyYXBoOntjb2xvcjp5SX0sZ2F1Z2U6e3RpdGxlOnt0ZXh0U3R5bGU6e2NvbG9yOiIjZWVlIn19fSxjYW5kbGVzdGljazp7aXRlbVN0eWxlOntub3JtYWw6e2NvbG9yOiIjRkQxMDUwIixjb2xvcjA6IiMwQ0Y0OUIiLGJvcmRlckNvbG9yOiIjRkQxMDUwIixib3JkZXJDb2xvcjA6IiMwQ0Y0OUIifX19fTt4SS5jYXRlZ29yeUF4aXMuc3BsaXRMaW5lLnNob3c9ITEsdU0uZXh0ZW5kKHt0eXBlOiJkYXRhc2V0IixkZWZhdWx0T3B0aW9uOntzZXJpZXNMYXlvdXRCeTp3TSxzb3VyY2VIZWFkZXI6bnVsbCxkaW1lbnNpb25zOm51bGwsc291cmNlOm51bGx9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXt1YSh0aGlzKX19KSxLTS5leHRlbmQoe3R5cGU6ImRhdGFzZXQifSk7dmFyIF9JPWssd0k9ZCxiST14LFNJPXcsTUk9dU0ucGFyc2VDbGFzc1R5cGUsSUk9e3pyZW5kZXI6IjQuMC40In0sVEk9MWUzLERJPTFlMyxBST0zZTMsQ0k9e1BST0NFU1NPUjp7RklMVEVSOlRJLFNUQVRJU1RJQzo1ZTN9LFZJU1VBTDp7TEFZT1VUOkRJLEdMT0JBTDoyZTMsQ0hBUlQ6QUksQ09NUE9ORU5UOjRlMyxCUlVTSDo1ZTN9fSxMST0iX19mbGFnSW5NYWluUHJvY2VzcyIsa0k9Il9fb3B0aW9uVXBkYXRlZCIsUEk9L15bYS16QS1aMC05X10rJC87VnIucHJvdG90eXBlLm9uPUJyKCJvbiIpLFZyLnByb3RvdHlwZS5vZmY9QnIoIm9mZiIpLFZyLnByb3RvdHlwZS5vbmU9QnIoIm9uZSIpLGgoVnIsVF8pO3ZhciBOST1Hci5wcm90b3R5cGU7TkkuX29uZnJhbWU9ZnVuY3Rpb24oKXtpZighdGhpcy5fZGlzcG9zZWQpe3ZhciB0PXRoaXMuX3NjaGVkdWxlcjtpZih0aGlzW2tJXSl7dmFyIGU9dGhpc1trSV0uc2lsZW50O3RoaXNbTEldPSEwLEZyKHRoaXMpLE9JLnVwZGF0ZS5jYWxsKHRoaXMpLHRoaXNbTEldPSExLHRoaXNba0ldPSExLFhyLmNhbGwodGhpcyxlKSxqci5jYWxsKHRoaXMsZSl9ZWxzZSBpZih0LnVuZmluaXNoZWQpe3ZhciBpPTEsbj10aGlzLl9tb2RlbDt0aGlzLl9hcGk7dC51bmZpbmlzaGVkPSExO2Rve3ZhciBvPStuZXcgRGF0ZTt0LnBlcmZvcm1TZXJpZXNUYXNrcyhuKSx0LnBlcmZvcm1EYXRhUHJvY2Vzc29yVGFza3MobiksWnIodGhpcyxuKSx0LnBlcmZvcm1WaXN1YWxUYXNrcyhuKSxRcih0aGlzLHRoaXMuX21vZGVsLDAsInJlbWFpbiIpLGktPStuZXcgRGF0ZS1vfXdoaWxlKGk+MCYmdC51bmZpbmlzaGVkKTt0LnVuZmluaXNoZWR8fHRoaXMuX3pyLmZsdXNoKCl9fX0sTkkuZ2V0RG9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvbX0sTkkuZ2V0WnI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenJ9LE5JLnNldE9wdGlvbj1mdW5jdGlvbih0LGUsaSl7dmFyIG47aWYoU0koZSkmJihpPWUubGF6eVVwZGF0ZSxuPWUuc2lsZW50LGU9ZS5ub3RNZXJnZSksdGhpc1tMSV09ITAsIXRoaXMuX21vZGVsfHxlKXt2YXIgbz1uZXcgTGEodGhpcy5fYXBpKSxhPXRoaXMuX3RoZW1lLHI9dGhpcy5fbW9kZWw9bmV3IElNKG51bGwsbnVsbCxhLG8pO3Iuc2NoZWR1bGVyPXRoaXMuX3NjaGVkdWxlcixyLmluaXQobnVsbCxudWxsLGEsbyl9dGhpcy5fbW9kZWwuc2V0T3B0aW9uKHQsVkkpLGk/KHRoaXNba0ldPXtzaWxlbnQ6bn0sdGhpc1tMSV09ITEpOihGcih0aGlzKSxPSS51cGRhdGUuY2FsbCh0aGlzKSx0aGlzLl96ci5mbHVzaCgpLHRoaXNba0ldPSExLHRoaXNbTEldPSExLFhyLmNhbGwodGhpcyxuKSxqci5jYWxsKHRoaXMsbikpfSxOSS5zZXRUaGVtZT1mdW5jdGlvbigpe2NvbnNvbGUubG9nKCJFQ2hhcnRzI3NldFRoZW1lKCkgaXMgREVQUkVDQVRFRCBpbiBFQ2hhcnRzIDMuMCIpfSxOSS5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbH0sTkkuZ2V0T3B0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsJiZ0aGlzLl9tb2RlbC5nZXRPcHRpb24oKX0sTkkuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenIuZ2V0V2lkdGgoKX0sTkkuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyLmdldEhlaWdodCgpfSxOSS5nZXREZXZpY2VQaXhlbFJhdGlvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyLnBhaW50ZXIuZHByfHx3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MX0sTkkuZ2V0UmVuZGVyZWRDYW52YXM9ZnVuY3Rpb24odCl7aWYob18uY2FudmFzU3VwcG9ydGVkKXJldHVybih0PXR8fHt9KS5waXhlbFJhdGlvPXQucGl4ZWxSYXRpb3x8MSx0LmJhY2tncm91bmRDb2xvcj10LmJhY2tncm91bmRDb2xvcnx8dGhpcy5fbW9kZWwuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKSx0aGlzLl96ci5wYWludGVyLmdldFJlbmRlcmVkQ2FudmFzKHQpfSxOSS5nZXRTdmdEYXRhVXJsPWZ1bmN0aW9uKCl7aWYob18uc3ZnU3VwcG9ydGVkKXt2YXIgdD10aGlzLl96cjtyZXR1cm4gZCh0LnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoKSxmdW5jdGlvbih0KXt0LnN0b3BBbmltYXRpb24oITApfSksdC5wYWludGVyLnBhdGhUb0RhdGFVcmwoKX19LE5JLmdldERhdGFVUkw9ZnVuY3Rpb24odCl7dmFyIGU9KHQ9dHx8e30pLmV4Y2x1ZGVDb21wb25lbnRzLGk9dGhpcy5fbW9kZWwsbj1bXSxvPXRoaXM7d0koZSxmdW5jdGlvbih0KXtpLmVhY2hDb21wb25lbnQoe21haW5UeXBlOnR9LGZ1bmN0aW9uKHQpe3ZhciBlPW8uX2NvbXBvbmVudHNNYXBbdC5fX3ZpZXdJZF07ZS5ncm91cC5pZ25vcmV8fChuLnB1c2goZSksZS5ncm91cC5pZ25vcmU9ITApfSl9KTt2YXIgYT0ic3ZnIj09PXRoaXMuX3pyLnBhaW50ZXIuZ2V0VHlwZSgpP3RoaXMuZ2V0U3ZnRGF0YVVybCgpOnRoaXMuZ2V0UmVuZGVyZWRDYW52YXModCkudG9EYXRhVVJMKCJpbWFnZS8iKyh0JiZ0LnR5cGV8fCJwbmciKSk7cmV0dXJuIHdJKG4sZnVuY3Rpb24odCl7dC5ncm91cC5pZ25vcmU9ITF9KSxhfSxOSS5nZXRDb25uZWN0ZWREYXRhVVJMPWZ1bmN0aW9uKHQpe2lmKG9fLmNhbnZhc1N1cHBvcnRlZCl7dmFyIGU9dGhpcy5ncm91cCxuPU1hdGgubWluLG89TWF0aC5tYXg7aWYoVUlbZV0pe3ZhciBhPTEvMCxyPTEvMCxzPS0xLzAsbD0tMS8wLHU9W10saD10JiZ0LnBpeGVsUmF0aW98fDE7ZChaSSxmdW5jdGlvbihoLGMpe2lmKGguZ3JvdXA9PT1lKXt2YXIgZD1oLmdldFJlbmRlcmVkQ2FudmFzKGkodCkpLGY9aC5nZXREb20oKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthPW4oZi5sZWZ0LGEpLHI9bihmLnRvcCxyKSxzPW8oZi5yaWdodCxzKSxsPW8oZi5ib3R0b20sbCksdS5wdXNoKHtkb206ZCxsZWZ0OmYubGVmdCx0b3A6Zi50b3B9KX19KTt2YXIgYz0ocyo9aCktKGEqPWgpLGY9KGwqPWgpLShyKj1oKSxwPWdfKCk7cC53aWR0aD1jLHAuaGVpZ2h0PWY7dmFyIGc9X2kocCk7cmV0dXJuIHdJKHUsZnVuY3Rpb24odCl7dmFyIGU9bmV3IEplKHtzdHlsZTp7eDp0LmxlZnQqaC1hLHk6dC50b3AqaC1yLGltYWdlOnQuZG9tfX0pO2cuYWRkKGUpfSksZy5yZWZyZXNoSW1tZWRpYXRlbHkoKSxwLnRvRGF0YVVSTCgiaW1hZ2UvIisodCYmdC50eXBlfHwicG5nIikpfXJldHVybiB0aGlzLmdldERhdGFVUkwodCl9fSxOSS5jb252ZXJ0VG9QaXhlbD12KFdyLCJjb252ZXJ0VG9QaXhlbCIpLE5JLmNvbnZlcnRGcm9tUGl4ZWw9dihXciwiY29udmVydEZyb21QaXhlbCIpLE5JLmNvbnRhaW5QaXhlbD1mdW5jdGlvbih0LGUpe3ZhciBpO3JldHVybiB0PU9pKHRoaXMuX21vZGVsLHQpLGQodCxmdW5jdGlvbih0LG4pe24uaW5kZXhPZigiTW9kZWxzIik+PTAmJmQodCxmdW5jdGlvbih0KXt2YXIgbz10LmNvb3JkaW5hdGVTeXN0ZW07aWYobyYmby5jb250YWluUG9pbnQpaXw9ISFvLmNvbnRhaW5Qb2ludChlKTtlbHNlIGlmKCJzZXJpZXNNb2RlbHMiPT09bil7dmFyIGE9dGhpcy5fY2hhcnRzTWFwW3QuX192aWV3SWRdO2EmJmEuY29udGFpblBvaW50JiYoaXw9YS5jb250YWluUG9pbnQoZSx0KSl9fSx0aGlzKX0sdGhpcyksISFpfSxOSS5nZXRWaXN1YWw9ZnVuY3Rpb24odCxlKXt2YXIgaT0odD1PaSh0aGlzLl9tb2RlbCx0LHtkZWZhdWx0TWFpblR5cGU6InNlcmllcyJ9KSkuc2VyaWVzTW9kZWwuZ2V0RGF0YSgpLG49dC5oYXNPd25Qcm9wZXJ0eSgiZGF0YUluZGV4SW5zaWRlIik/dC5kYXRhSW5kZXhJbnNpZGU6dC5oYXNPd25Qcm9wZXJ0eSgiZGF0YUluZGV4Iik/aS5pbmRleE9mUmF3SW5kZXgodC5kYXRhSW5kZXgpOm51bGw7cmV0dXJuIG51bGwhPW4/aS5nZXRJdGVtVmlzdWFsKG4sZSk6aS5nZXRWaXN1YWwoZSl9LE5JLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb21wb25lbnRzTWFwW3QuX192aWV3SWRdfSxOSS5nZXRWaWV3T2ZTZXJpZXNNb2RlbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2hhcnRzTWFwW3QuX192aWV3SWRdfTt2YXIgT0k9e3ByZXBhcmVBbmRVcGRhdGU6ZnVuY3Rpb24odCl7RnIodGhpcyksT0kudXBkYXRlLmNhbGwodGhpcyx0KX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21vZGVsLGk9dGhpcy5fYXBpLG49dGhpcy5fenIsbz10aGlzLl9jb29yZFN5c01ncixhPXRoaXMuX3NjaGVkdWxlcjtpZihlKXthLnJlc3RvcmVEYXRhKGUsdCksYS5wZXJmb3JtU2VyaWVzVGFza3MoZSksby5jcmVhdGUoZSxpKSxhLnBlcmZvcm1EYXRhUHJvY2Vzc29yVGFza3MoZSx0KSxacih0aGlzLGUpLG8udXBkYXRlKGUsaSksS3IoZSksYS5wZXJmb3JtVmlzdWFsVGFza3MoZSx0KSwkcih0aGlzLGUsaSx0KTt2YXIgcj1lLmdldCgiYmFja2dyb3VuZENvbG9yIil8fCJ0cmFuc3BhcmVudCI7aWYob18uY2FudmFzU3VwcG9ydGVkKW4uc2V0QmFja2dyb3VuZENvbG9yKHIpO2Vsc2V7dmFyIHM9QXQocik7cj16dChzLCJyZ2IiKSwwPT09c1szXSYmKHI9InRyYW5zcGFyZW50Iil9dHMoZSxpKX19LHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tb2RlbCxpPXRoaXMsbj10aGlzLl9hcGk7aWYoZSl7dmFyIG89W107ZS5lYWNoQ29tcG9uZW50KGZ1bmN0aW9uKGEscil7dmFyIHM9aS5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChyKTtpZihzJiZzLl9fYWxpdmUpaWYocy51cGRhdGVUcmFuc2Zvcm0pe3ZhciBsPXMudXBkYXRlVHJhbnNmb3JtKHIsZSxuLHQpO2wmJmwudXBkYXRlJiZvLnB1c2gocyl9ZWxzZSBvLnB1c2gocyl9KTt2YXIgYT1SKCk7ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKG8pe3ZhciByPWkuX2NoYXJ0c01hcFtvLl9fdmlld0lkXTtpZihyLnVwZGF0ZVRyYW5zZm9ybSl7dmFyIHM9ci51cGRhdGVUcmFuc2Zvcm0obyxlLG4sdCk7cyYmcy51cGRhdGUmJmEuc2V0KG8udWlkLDEpfWVsc2UgYS5zZXQoby51aWQsMSl9KSxLcihlKSx0aGlzLl9zY2hlZHVsZXIucGVyZm9ybVZpc3VhbFRhc2tzKGUsdCx7c2V0RGlydHk6ITAsZGlydHlNYXA6YX0pLFFyKGksZSwwLHQsYSksdHMoZSx0aGlzLl9hcGkpfX0sdXBkYXRlVmlldzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tb2RlbDtlJiYoZ3IubWFya1VwZGF0ZU1ldGhvZCh0LCJ1cGRhdGVWaWV3IiksS3IoZSksdGhpcy5fc2NoZWR1bGVyLnBlcmZvcm1WaXN1YWxUYXNrcyhlLHQse3NldERpcnR5OiEwfSksJHIodGhpcyx0aGlzLl9tb2RlbCx0aGlzLl9hcGksdCksdHMoZSx0aGlzLl9hcGkpKX0sdXBkYXRlVmlzdWFsOmZ1bmN0aW9uKHQpe09JLnVwZGF0ZS5jYWxsKHRoaXMsdCl9LHVwZGF0ZUxheW91dDpmdW5jdGlvbih0KXtPSS51cGRhdGUuY2FsbCh0aGlzLHQpfX07TkkucmVzaXplPWZ1bmN0aW9uKHQpe3RoaXMuX3pyLnJlc2l6ZSh0KTt2YXIgZT10aGlzLl9tb2RlbDtpZih0aGlzLl9sb2FkaW5nRlgmJnRoaXMuX2xvYWRpbmdGWC5yZXNpemUoKSxlKXt2YXIgaT1lLnJlc2V0T3B0aW9uKCJtZWRpYSIpLG49dCYmdC5zaWxlbnQ7dGhpc1tMSV09ITAsaSYmRnIodGhpcyksT0kudXBkYXRlLmNhbGwodGhpcyksdGhpc1tMSV09ITEsWHIuY2FsbCh0aGlzLG4pLGpyLmNhbGwodGhpcyxuKX19LE5JLnNob3dMb2FkaW5nPWZ1bmN0aW9uKHQsZSl7aWYoU0kodCkmJihlPXQsdD0iIiksdD10fHwiZGVmYXVsdCIsdGhpcy5oaWRlTG9hZGluZygpLEhJW3RdKXt2YXIgaT1ISVt0XSh0aGlzLl9hcGksZSksbj10aGlzLl96cjt0aGlzLl9sb2FkaW5nRlg9aSxuLmFkZChpKX19LE5JLmhpZGVMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5fbG9hZGluZ0ZYJiZ0aGlzLl96ci5yZW1vdmUodGhpcy5fbG9hZGluZ0ZYKSx0aGlzLl9sb2FkaW5nRlg9bnVsbH0sTkkubWFrZUFjdGlvbkZyb21FdmVudD1mdW5jdGlvbih0KXt2YXIgZT1hKHt9LHQpO3JldHVybiBlLnR5cGU9eklbdC50eXBlXSxlfSxOSS5kaXNwYXRjaEFjdGlvbj1mdW5jdGlvbih0LGUpe1NJKGUpfHwoZT17c2lsZW50OiEhZX0pLFJJW3QudHlwZV0mJnRoaXMuX21vZGVsJiYodGhpc1tMSV0/dGhpcy5fcGVuZGluZ0FjdGlvbnMucHVzaCh0KTooVXIuY2FsbCh0aGlzLHQsZS5zaWxlbnQpLGUuZmx1c2g/dGhpcy5fenIuZmx1c2goITApOiExIT09ZS5mbHVzaCYmb18uYnJvd3Nlci53ZUNoYXQmJnRoaXMuX3Rocm90dGxlZFpyRmx1c2goKSxYci5jYWxsKHRoaXMsZS5zaWxlbnQpLGpyLmNhbGwodGhpcyxlLnNpbGVudCkpKX0sTkkuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10LnNlcmllc0luZGV4O3RoaXMuZ2V0TW9kZWwoKS5nZXRTZXJpZXNCeUluZGV4KGUpLmFwcGVuZERhdGEodCksdGhpcy5fc2NoZWR1bGVyLnVuZmluaXNoZWQ9ITB9LE5JLm9uPUJyKCJvbiIpLE5JLm9mZj1Ccigib2ZmIiksTkkub25lPUJyKCJvbmUiKTt2YXIgRUk9WyJjbGljayIsImRibGNsaWNrIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJtb3VzZW1vdmUiLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwiZ2xvYmFsb3V0IiwiY29udGV4dG1lbnUiXTtOSS5faW5pdEV2ZW50cz1mdW5jdGlvbigpe3dJKEVJLGZ1bmN0aW9uKHQpe3RoaXMuX3pyLm9uKHQsZnVuY3Rpb24oZSl7dmFyIGksbj10aGlzLmdldE1vZGVsKCksbz1lLnRhcmdldDtpZigiZ2xvYmFsb3V0Ij09PXQpaT17fTtlbHNlIGlmKG8mJm51bGwhPW8uZGF0YUluZGV4KXt2YXIgcj1vLmRhdGFNb2RlbHx8bi5nZXRTZXJpZXNCeUluZGV4KG8uc2VyaWVzSW5kZXgpO2k9ciYmci5nZXREYXRhUGFyYW1zKG8uZGF0YUluZGV4LG8uZGF0YVR5cGUpfHx7fX1lbHNlIG8mJm8uZXZlbnREYXRhJiYoaT1hKHt9LG8uZXZlbnREYXRhKSk7aSYmKGkuZXZlbnQ9ZSxpLnR5cGU9dCx0aGlzLnRyaWdnZXIodCxpKSl9LHRoaXMpfSx0aGlzKSx3SSh6SSxmdW5jdGlvbih0LGUpe3RoaXMuX21lc3NhZ2VDZW50ZXIub24oZSxmdW5jdGlvbih0KXt0aGlzLnRyaWdnZXIoZSx0KX0sdGhpcyl9LHRoaXMpfSxOSS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3Bvc2VkfSxOSS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0T3B0aW9uKHtzZXJpZXM6W119LCEwKX0sTkkuZGlzcG9zZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9kaXNwb3NlZCl7dGhpcy5fZGlzcG9zZWQ9ITAsUmkodGhpcy5nZXREb20oKSxZSSwiIik7dmFyIHQ9dGhpcy5fYXBpLGU9dGhpcy5fbW9kZWw7d0kodGhpcy5fY29tcG9uZW50c1ZpZXdzLGZ1bmN0aW9uKGkpe2kuZGlzcG9zZShlLHQpfSksd0kodGhpcy5fY2hhcnRzVmlld3MsZnVuY3Rpb24oaSl7aS5kaXNwb3NlKGUsdCl9KSx0aGlzLl96ci5kaXNwb3NlKCksZGVsZXRlIFpJW3RoaXMuaWRdfX0saChHcixUXyk7dmFyIFJJPXt9LHpJPXt9LEJJPVtdLFZJPVtdLEdJPVtdLFdJPVtdLEZJPXt9LEhJPXt9LFpJPXt9LFVJPXt9LFhJPW5ldyBEYXRlLTAsakk9bmV3IERhdGUtMCxZST0iX2VjaGFydHNfaW5zdGFuY2VfIixxST17fSxLST1ycztwcygyZTMsckkpLHVzKFZNKSxocyg1ZTMsZnVuY3Rpb24odCl7dmFyIGU9UigpO3QuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt2YXIgaT10LmdldCgic3RhY2siKTtpZihpKXt2YXIgbj1lLmdldChpKXx8ZS5zZXQoaSxbXSksbz10LmdldERhdGEoKSxhPXtzdGFja1Jlc3VsdERpbWVuc2lvbjpvLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tSZXN1bHREaW1lbnNpb24iKSxzdGFja2VkT3ZlckRpbWVuc2lvbjpvLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZE92ZXJEaW1lbnNpb24iKSxzdGFja2VkRGltZW5zaW9uOm8uZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkRGltZW5zaW9uIiksc3RhY2tlZEJ5RGltZW5zaW9uOm8uZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkQnlEaW1lbnNpb24iKSxpc1N0YWNrZWRCeUluZGV4Om8uZ2V0Q2FsY3VsYXRpb25JbmZvKCJpc1N0YWNrZWRCeUluZGV4IiksZGF0YTpvLHNlcmllc01vZGVsOnR9O2lmKCFhLnN0YWNrZWREaW1lbnNpb258fCFhLmlzU3RhY2tlZEJ5SW5kZXgmJiFhLnN0YWNrZWRCeURpbWVuc2lvbilyZXR1cm47bi5sZW5ndGgmJm8uc2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT25TZXJpZXMiLG5bbi5sZW5ndGgtMV0uc2VyaWVzTW9kZWwpLG4ucHVzaChhKX19KSxlLmVhY2goamEpfSksbXMoImRlZmF1bHQiLGZ1bmN0aW9uKHQsZSl7cihlPWV8fHt9LHt0ZXh0OiJsb2FkaW5nIixjb2xvcjoiI2MyMzUzMSIsdGV4dENvbG9yOiIjMDAwIixtYXNrQ29sb3I6InJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KSIsemxldmVsOjB9KTt2YXIgaT1uZXcgYlMoe3N0eWxlOntmaWxsOmUubWFza0NvbG9yfSx6bGV2ZWw6ZS56bGV2ZWwsejoxZTR9KSxuPW5ldyBUUyh7c2hhcGU6e3N0YXJ0QW5nbGU6LXVJLzIsZW5kQW5nbGU6LXVJLzIrLjEscjoxMH0sc3R5bGU6e3N0cm9rZTplLmNvbG9yLGxpbmVDYXA6InJvdW5kIixsaW5lV2lkdGg6NX0semxldmVsOmUuemxldmVsLHo6MTAwMDF9KSxvPW5ldyBiUyh7c3R5bGU6e2ZpbGw6Im5vbmUiLHRleHQ6ZS50ZXh0LHRleHRQb3NpdGlvbjoicmlnaHQiLHRleHREaXN0YW5jZToxMCx0ZXh0RmlsbDplLnRleHRDb2xvcn0semxldmVsOmUuemxldmVsLHo6MTAwMDF9KTtuLmFuaW1hdGVTaGFwZSghMCkud2hlbigxZTMse2VuZEFuZ2xlOjMqdUkvMn0pLnN0YXJ0KCJjaXJjdWxhckluT3V0Iiksbi5hbmltYXRlU2hhcGUoITApLndoZW4oMWUzLHtzdGFydEFuZ2xlOjMqdUkvMn0pLmRlbGF5KDMwMCkuc3RhcnQoImNpcmN1bGFySW5PdXQiKTt2YXIgYT1uZXcgcnc7cmV0dXJuIGEuYWRkKG4pLGEuYWRkKG8pLGEuYWRkKGkpLGEucmVzaXplPWZ1bmN0aW9uKCl7dmFyIGU9dC5nZXRXaWR0aCgpLzIsYT10LmdldEhlaWdodCgpLzI7bi5zZXRTaGFwZSh7Y3g6ZSxjeTphfSk7dmFyIHI9bi5zaGFwZS5yO28uc2V0U2hhcGUoe3g6ZS1yLHk6YS1yLHdpZHRoOjIqcixoZWlnaHQ6MipyfSksaS5zZXRTaGFwZSh7eDowLHk6MCx3aWR0aDp0LmdldFdpZHRoKCksaGVpZ2h0OnQuZ2V0SGVpZ2h0KCl9KX0sYS5yZXNpemUoKSxhfSksY3Moe3R5cGU6ImhpZ2hsaWdodCIsZXZlbnQ6ImhpZ2hsaWdodCIsdXBkYXRlOiJoaWdobGlnaHQifSxCKSxjcyh7dHlwZToiZG93bnBsYXkiLGV2ZW50OiJkb3ducGxheSIsdXBkYXRlOiJkb3ducGxheSJ9LEIpLGxzKCJsaWdodCIsdkkpLGxzKCJkYXJrIix4SSk7dmFyICRJPXt9O1NzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6U3MsYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGQ9dCx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZT10LHRoaXN9LHJlbW92ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVtb3ZlPXQsdGhpc30sZXhlY3V0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX29sZCxlPXRoaXMuX25ldyxpPXt9LG49W10sbz1bXTtmb3IoTXModCx7fSxuLCJfb2xkS2V5R2V0dGVyIix0aGlzKSxNcyhlLGksbywiX25ld0tleUdldHRlciIsdGhpcyksYT0wO2E8dC5sZW5ndGg7YSsrKW51bGwhPShzPWlbcj1uW2FdXSk/KCh1PXMubGVuZ3RoKT8oMT09PXUmJihpW3JdPW51bGwpLHM9cy51bnNoaWZ0KCkpOmlbcl09bnVsbCx0aGlzLl91cGRhdGUmJnRoaXMuX3VwZGF0ZShzLGEpKTp0aGlzLl9yZW1vdmUmJnRoaXMuX3JlbW92ZShhKTtmb3IodmFyIGE9MDthPG8ubGVuZ3RoO2ErKyl7dmFyIHI9b1thXTtpZihpLmhhc093blByb3BlcnR5KHIpKXt2YXIgcz1pW3JdO2lmKG51bGw9PXMpY29udGludWU7aWYocy5sZW5ndGgpZm9yKHZhciBsPTAsdT1zLmxlbmd0aDtsPHU7bCsrKXRoaXMuX2FkZCYmdGhpcy5fYWRkKHNbbF0pO2Vsc2UgdGhpcy5fYWRkJiZ0aGlzLl9hZGQocyl9fX19O3ZhciBKST1SKFsidG9vbHRpcCIsImxhYmVsIiwiaXRlbU5hbWUiLCJpdGVtSWQiLCJzZXJpZXNOYW1lIl0pLFFJPXcsdFQ9ImVcMFwwIixlVD17ZmxvYXQ6InVuZGVmaW5lZCI9PXR5cGVvZiBGbG9hdDY0QXJyYXk/QXJyYXk6RmxvYXQ2NEFycmF5LGludDoidW5kZWZpbmVkIj09dHlwZW9mIEludDMyQXJyYXk/QXJyYXk6SW50MzJBcnJheSxvcmRpbmFsOkFycmF5LG51bWJlcjpBcnJheSx0aW1lOkFycmF5fSxpVD0idW5kZWZpbmVkIj09dHlwZW9mIFVpbnQzMkFycmF5P0FycmF5OlVpbnQzMkFycmF5LG5UPSJ1bmRlZmluZWQiPT10eXBlb2YgVWludDE2QXJyYXk/QXJyYXk6VWludDE2QXJyYXksb1Q9WyJoYXNJdGVtT3B0aW9uIiwiX25hbWVMaXN0IiwiX2lkTGlzdCIsIl9pbnZlcnRlZEluZGljZXNNYXAiLCJfcmF3RGF0YSIsIl9jaHVua1NpemUiLCJfY2h1bmtDb3VudCIsIl9kaW1WYWx1ZUdldHRlciIsIl9jb3VudCIsIl9yYXdDb3VudCIsIl9uYW1lRGltSWR4IiwiX2lkRGltSWR4Il0sYVQ9WyJfZXh0ZW50IiwiX2FwcHJveGltYXRlRXh0ZW50IiwiX3Jhd0V4dGVudCJdLHJUPWZ1bmN0aW9uKHQsZSl7dD10fHxbIngiLCJ5Il07Zm9yKHZhciBpPXt9LG49W10sbz17fSxhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciByPXRbYV07XyhyKSYmKHI9e25hbWU6cn0pO3ZhciBzPXIubmFtZTtyLnR5cGU9ci50eXBlfHwiZmxvYXQiLHIuY29vcmREaW18fChyLmNvb3JkRGltPXMsci5jb29yZERpbUluZGV4PTApLHIub3RoZXJEaW1zPXIub3RoZXJEaW1zfHx7fSxuLnB1c2gocyksaVtzXT1yLHIuaW5kZXg9YSxyLmNyZWF0ZUludmVydGVkSW5kaWNlcyYmKG9bc109W10pfXRoaXMuZGltZW5zaW9ucz1uLHRoaXMuX2RpbWVuc2lvbkluZm9zPWksdGhpcy5ob3N0TW9kZWw9ZSx0aGlzLmRhdGFUeXBlLHRoaXMuX2luZGljZXM9bnVsbCx0aGlzLl9jb3VudD0wLHRoaXMuX3Jhd0NvdW50PTAsdGhpcy5fc3RvcmFnZT17fSx0aGlzLl9uYW1lTGlzdD1bXSx0aGlzLl9pZExpc3Q9W10sdGhpcy5fb3B0aW9uTW9kZWxzPVtdLHRoaXMuX3Zpc3VhbD17fSx0aGlzLl9sYXlvdXQ9e30sdGhpcy5faXRlbVZpc3VhbHM9W10sdGhpcy5oYXNJdGVtVmlzdWFsPXt9LHRoaXMuX2l0ZW1MYXlvdXRzPVtdLHRoaXMuX2dyYXBoaWNFbHM9W10sdGhpcy5fY2h1bmtTaXplPTFlNSx0aGlzLl9jaHVua0NvdW50PTAsdGhpcy5fcmF3RGF0YSx0aGlzLl9yYXdFeHRlbnQ9e30sdGhpcy5fZXh0ZW50PXt9LHRoaXMuX2FwcHJveGltYXRlRXh0ZW50PXt9LHRoaXMuX2RpbWVuc2lvbnNTdW1tYXJ5PUlzKHRoaXMpLHRoaXMuX2ludmVydGVkSW5kaWNlc01hcD1vLHRoaXMuX2NhbGN1bGF0aW9uSW5mbz17fX0sc1Q9clQucHJvdG90eXBlO3NULnR5cGU9Imxpc3QiLHNULmhhc0l0ZW1PcHRpb249ITAsc1QuZ2V0RGltZW5zaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0KXx8KHQ9dGhpcy5kaW1lbnNpb25zW3RdfHx0KSx0fSxzVC5nZXREaW1lbnNpb25JbmZvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kaW1lbnNpb25JbmZvc1t0aGlzLmdldERpbWVuc2lvbih0KV19LHNULmdldERpbWVuc2lvbnNPbkNvb3JkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpbWVuc2lvbnNTdW1tYXJ5LmRhdGFEaW1zT25Db29yZC5zbGljZSgpfSxzVC5tYXBEaW1lbnNpb249ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9kaW1lbnNpb25zU3VtbWFyeTtpZihudWxsPT1lKXJldHVybiBpLmVuY29kZUZpcnN0RGltTm90RXh0cmFbdF07dmFyIG49aS5lbmNvZGVbdF07cmV0dXJuITA9PT1lPyhufHxbXSkuc2xpY2UoKTpuJiZuW2VdfSxzVC5pbml0RGF0YT1mdW5jdGlvbih0LGUsaSl7KGxhLmlzSW5zdGFuY2UodCl8fGModCkpJiYodD1uZXcgWWEodCx0aGlzLmRpbWVuc2lvbnMubGVuZ3RoKSksdGhpcy5fcmF3RGF0YT10LHRoaXMuX3N0b3JhZ2U9e30sdGhpcy5faW5kaWNlcz1udWxsLHRoaXMuX25hbWVMaXN0PWV8fFtdLHRoaXMuX2lkTGlzdD1bXSx0aGlzLl9uYW1lUmVwZWF0Q291bnQ9e30saXx8KHRoaXMuaGFzSXRlbU9wdGlvbj0hMSksdGhpcy5kZWZhdWx0RGltVmFsdWVHZXR0ZXI9SE1bdGhpcy5fcmF3RGF0YS5nZXRTb3VyY2UoKS5zb3VyY2VGb3JtYXRdLHRoaXMuX2RpbVZhbHVlR2V0dGVyPWk9aXx8dGhpcy5kZWZhdWx0RGltVmFsdWVHZXR0ZXIsdGhpcy5fcmF3RXh0ZW50PXt9LHRoaXMuX2luaXREYXRhRnJvbVByb3ZpZGVyKDAsdC5jb3VudCgpKSx0LnB1cmUmJih0aGlzLmhhc0l0ZW1PcHRpb249ITEpfSxzVC5nZXRQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYXdEYXRhfSxzVC5hcHBlbmREYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Jhd0RhdGEsaT10aGlzLmNvdW50KCk7ZS5hcHBlbmREYXRhKHQpO3ZhciBuPWUuY291bnQoKTtlLnBlcnNpc3RlbnR8fChuKz1pKSx0aGlzLl9pbml0RGF0YUZyb21Qcm92aWRlcihpLG4pfSxzVC5faW5pdERhdGFGcm9tUHJvdmlkZXI9ZnVuY3Rpb24odCxlKXtpZighKHQ+PWUpKXtmb3IodmFyIGksbj10aGlzLl9jaHVua1NpemUsbz10aGlzLl9yYXdEYXRhLGE9dGhpcy5fc3RvcmFnZSxyPXRoaXMuZGltZW5zaW9ucyxzPXIubGVuZ3RoLGw9dGhpcy5fZGltZW5zaW9uSW5mb3MsdT10aGlzLl9uYW1lTGlzdCxoPXRoaXMuX2lkTGlzdCxjPXRoaXMuX3Jhd0V4dGVudCxkPXRoaXMuX25hbWVSZXBlYXRDb3VudD17fSxmPXRoaXMuX2NodW5rQ291bnQscD1mLTEsZz0wO2c8cztnKyspe2NbVD1yW2ddXXx8KGNbVF09WzEvMCwtMS8wXSk7dmFyIG09bFtUXTswPT09bS5vdGhlckRpbXMuaXRlbU5hbWUmJihpPXRoaXMuX25hbWVEaW1JZHg9ZyksMD09PW0ub3RoZXJEaW1zLml0ZW1JZCYmKHRoaXMuX2lkRGltSWR4PWcpO3ZhciB2PWVUW20udHlwZV07YVtUXXx8KGFbVF09W10pO3ZhciB5PWFbVF1bcF07aWYoeSYmeS5sZW5ndGg8bil7Zm9yKHZhciB4PW5ldyB2KE1hdGgubWluKGUtcCpuLG4pKSxfPTA7Xzx5Lmxlbmd0aDtfKyspeFtfXT15W19dO2FbVF1bcF09eH1mb3IoST1mKm47STxlO0krPW4pYVtUXS5wdXNoKG5ldyB2KE1hdGgubWluKGUtSSxuKSkpO3RoaXMuX2NodW5rQ291bnQ9YVtUXS5sZW5ndGh9Zm9yKHZhciB3PW5ldyBBcnJheShzKSxiPXQ7YjxlO2IrKyl7dz1vLmdldEl0ZW0oYix3KTtmb3IodmFyIFM9TWF0aC5mbG9vcihiL24pLE09YiVuLEk9MDtJPHM7SSsrKXt2YXIgVD1yW0ldLEQ9YVtUXVtTXSxBPXRoaXMuX2RpbVZhbHVlR2V0dGVyKHcsVCxiLEkpO0RbTV09QTt2YXIgQz1jW1RdO0E8Q1swXSYmKENbMF09QSksQT5DWzFdJiYoQ1sxXT1BKX1pZighby5wdXJlKXt2YXIgTD11W2JdO2lmKHcmJm51bGw9PUwpaWYobnVsbCE9dy5uYW1lKXVbYl09TD13Lm5hbWU7ZWxzZSBpZihudWxsIT1pKXt2YXIgaz1yW2ldLFA9YVtrXVtTXTtpZihQKXtMPVBbTV07dmFyIE49bFtrXS5vcmRpbmFsTWV0YTtOJiZOLmNhdGVnb3JpZXMubGVuZ3RoJiYoTD1OLmNhdGVnb3JpZXNbTF0pfX12YXIgTz1udWxsPT13P251bGw6dy5pZDtudWxsPT1PJiZudWxsIT1MJiYoZFtMXT1kW0xdfHwwLE89TCxkW0xdPjAmJihPKz0iX19lY19fIitkW0xdKSxkW0xdKyspLG51bGwhPU8mJihoW2JdPU8pfX0hby5wZXJzaXN0ZW50JiZvLmNsZWFuJiZvLmNsZWFuKCksdGhpcy5fcmF3Q291bnQ9dGhpcy5fY291bnQ9ZSx0aGlzLl9leHRlbnQ9e30sa3ModGhpcyl9fSxzVC5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3VudH0sc1QuZ2V0SW5kaWNlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2luZGljZXM7aWYodCl7dmFyIGU9dC5jb25zdHJ1Y3RvcixpPXRoaXMuX2NvdW50O2lmKGU9PT1BcnJheSl7bj1uZXcgZShpKTtmb3Iobz0wO288aTtvKyspbltvXT10W29dfWVsc2Ugbj1uZXcgZSh0LmJ1ZmZlciwwLGkpfWVsc2UgZm9yKHZhciBuPW5ldyhlPUFzKHRoaXMpKSh0aGlzLmNvdW50KCkpLG89MDtvPG4ubGVuZ3RoO28rKyluW29dPW87cmV0dXJuIG59LHNULmdldD1mdW5jdGlvbih0LGUpe2lmKCEoZT49MCYmZTx0aGlzLl9jb3VudCkpcmV0dXJuIE5hTjt2YXIgaT10aGlzLl9zdG9yYWdlO2lmKCFpW3RdKXJldHVybiBOYU47ZT10aGlzLmdldFJhd0luZGV4KGUpO3ZhciBuPU1hdGguZmxvb3IoZS90aGlzLl9jaHVua1NpemUpLG89ZSV0aGlzLl9jaHVua1NpemU7cmV0dXJuIGlbdF1bbl1bb119LHNULmdldEJ5UmF3SW5kZXg9ZnVuY3Rpb24odCxlKXtpZighKGU+PTAmJmU8dGhpcy5fcmF3Q291bnQpKXJldHVybiBOYU47dmFyIGk9dGhpcy5fc3RvcmFnZVt0XTtpZighaSlyZXR1cm4gTmFOO3ZhciBuPU1hdGguZmxvb3IoZS90aGlzLl9jaHVua1NpemUpLG89ZSV0aGlzLl9jaHVua1NpemU7cmV0dXJuIGlbbl1bb119LHNULl9nZXRGYXN0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9TWF0aC5mbG9vcihlL3RoaXMuX2NodW5rU2l6ZSksbj1lJXRoaXMuX2NodW5rU2l6ZTtyZXR1cm4gdGhpcy5fc3RvcmFnZVt0XVtpXVtuXX0sc1QuZ2V0VmFsdWVzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W107eSh0KXx8KGU9dCx0PXRoaXMuZGltZW5zaW9ucyk7Zm9yKHZhciBuPTAsbz10Lmxlbmd0aDtuPG87bisrKWkucHVzaCh0aGlzLmdldCh0W25dLGUpKTtyZXR1cm4gaX0sc1QuaGFzVmFsdWU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2RpbWVuc2lvbnNTdW1tYXJ5LmRhdGFEaW1zT25Db29yZCxpPXRoaXMuX2RpbWVuc2lvbkluZm9zLG49MCxvPWUubGVuZ3RoO248bztuKyspaWYoIm9yZGluYWwiIT09aVtlW25dXS50eXBlJiZpc05hTih0aGlzLmdldChlW25dLHQpKSlyZXR1cm4hMTtyZXR1cm4hMH0sc1QuZ2V0RGF0YUV4dGVudD1mdW5jdGlvbih0KXt0PXRoaXMuZ2V0RGltZW5zaW9uKHQpO3ZhciBlPVsxLzAsLTEvMF07aWYoIXRoaXMuX3N0b3JhZ2VbdF0pcmV0dXJuIGU7dmFyIGksbj10aGlzLmNvdW50KCk7aWYoIXRoaXMuX2luZGljZXMpcmV0dXJuIHRoaXMuX3Jhd0V4dGVudFt0XS5zbGljZSgpO2lmKGk9dGhpcy5fZXh0ZW50W3RdKXJldHVybiBpLnNsaWNlKCk7Zm9yKHZhciBvPShpPWUpWzBdLGE9aVsxXSxyPTA7cjxuO3IrKyl7dmFyIHM9dGhpcy5fZ2V0RmFzdCh0LHRoaXMuZ2V0UmF3SW5kZXgocikpO3M8byYmKG89cykscz5hJiYoYT1zKX1yZXR1cm4gaT1bbyxhXSx0aGlzLl9leHRlbnRbdF09aSxpfSxzVC5nZXRBcHByb3hpbWF0ZUV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLmdldERpbWVuc2lvbih0KSx0aGlzLl9hcHByb3hpbWF0ZUV4dGVudFt0XXx8dGhpcy5nZXREYXRhRXh0ZW50KHQpfSxzVC5zZXRBcHByb3hpbWF0ZUV4dGVudD1mdW5jdGlvbih0LGUpe2U9dGhpcy5nZXREaW1lbnNpb24oZSksdGhpcy5fYXBwcm94aW1hdGVFeHRlbnRbZV09dC5zbGljZSgpfSxzVC5nZXRDYWxjdWxhdGlvbkluZm89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0aW9uSW5mb1t0XX0sc1Quc2V0Q2FsY3VsYXRpb25JbmZvPWZ1bmN0aW9uKHQsZSl7UUkodCk/YSh0aGlzLl9jYWxjdWxhdGlvbkluZm8sdCk6dGhpcy5fY2FsY3VsYXRpb25JbmZvW3RdPWV9LHNULmdldFN1bT1mdW5jdGlvbih0KXt2YXIgZT0wO2lmKHRoaXMuX3N0b3JhZ2VbdF0pZm9yKHZhciBpPTAsbj10aGlzLmNvdW50KCk7aTxuO2krKyl7dmFyIG89dGhpcy5nZXQodCxpKTtpc05hTihvKXx8KGUrPW8pfXJldHVybiBlfSxzVC5nZXRNZWRpYW49ZnVuY3Rpb24odCl7dmFyIGU9W107dGhpcy5lYWNoKHQsZnVuY3Rpb24odCxpKXtpc05hTih0KXx8ZS5wdXNoKHQpfSk7dmFyIGk9W10uY29uY2F0KGUpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSksbj10aGlzLmNvdW50KCk7cmV0dXJuIDA9PT1uPzA6biUyPT0xP2lbKG4tMSkvMl06KGlbbi8yXStpW24vMi0xXSkvMn0sc1QucmF3SW5kZXhPZj1mdW5jdGlvbih0LGUpe3ZhciBpPSh0JiZ0aGlzLl9pbnZlcnRlZEluZGljZXNNYXBbdF0pW2VdO3JldHVybiBudWxsPT1pfHxpc05hTihpKT8tMTppfSxzVC5pbmRleE9mTmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXRoaXMuY291bnQoKTtlPGk7ZSsrKWlmKHRoaXMuZ2V0TmFtZShlKT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9LHNULmluZGV4T2ZSYXdJbmRleD1mdW5jdGlvbih0KXtpZighdGhpcy5faW5kaWNlcylyZXR1cm4gdDtpZih0Pj10aGlzLl9yYXdDb3VudHx8dDwwKXJldHVybi0xO3ZhciBlPXRoaXMuX2luZGljZXMsaT1lW3RdO2lmKG51bGwhPWkmJmk8dGhpcy5fY291bnQmJmk9PT10KXJldHVybiB0O2Zvcih2YXIgbj0wLG89dGhpcy5fY291bnQtMTtuPD1vOyl7dmFyIGE9KG4rbykvMnwwO2lmKGVbYV08dCluPWErMTtlbHNle2lmKCEoZVthXT50KSlyZXR1cm4gYTtvPWEtMX19cmV0dXJuLTF9LHNULmluZGljZXNPZk5lYXJlc3Q9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVtdO2lmKCF0aGlzLl9zdG9yYWdlW3RdKXJldHVybiBuO251bGw9PWkmJihpPTEvMCk7Zm9yKHZhciBvPU51bWJlci5NQVhfVkFMVUUsYT0tMSxyPTAscz10aGlzLmNvdW50KCk7cjxzO3IrKyl7dmFyIGw9ZS10aGlzLmdldCh0LHIpLHU9TWF0aC5hYnMobCk7bDw9aSYmdTw9byYmKCh1PG98fGw+PTAmJmE8MCkmJihvPXUsYT1sLG4ubGVuZ3RoPTApLG4ucHVzaChyKSl9cmV0dXJuIG59LHNULmdldFJhd0luZGV4PU5zLHNULmdldFJhd0RhdGFJdGVtPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3Jhd0RhdGEucGVyc2lzdGVudClyZXR1cm4gdGhpcy5fcmF3RGF0YS5nZXRJdGVtKHRoaXMuZ2V0UmF3SW5kZXgodCkpO2Zvcih2YXIgZT1bXSxpPTA7aTx0aGlzLmRpbWVuc2lvbnMubGVuZ3RoO2krKyl7dmFyIG49dGhpcy5kaW1lbnNpb25zW2ldO2UucHVzaCh0aGlzLmdldChuLHQpKX1yZXR1cm4gZX0sc1QuZ2V0TmFtZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFJhd0luZGV4KHQpO3JldHVybiB0aGlzLl9uYW1lTGlzdFtlXXx8UHModGhpcyx0aGlzLl9uYW1lRGltSWR4LGUpfHwiIn0sc1QuZ2V0SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIEVzKHRoaXMsdGhpcy5nZXRSYXdJbmRleCh0KSl9LHNULmVhY2g9ZnVuY3Rpb24odCxlLGksbil7aWYodGhpcy5fY291bnQpeyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj1pLGk9ZSxlPXQsdD1bXSksaT1pfHxufHx0aGlzO2Zvcih2YXIgbz0odD1mKFJzKHQpLHRoaXMuZ2V0RGltZW5zaW9uLHRoaXMpKS5sZW5ndGgsYT0wO2E8dGhpcy5jb3VudCgpO2ErKylzd2l0Y2gobyl7Y2FzZSAwOmUuY2FsbChpLGEpO2JyZWFrO2Nhc2UgMTplLmNhbGwoaSx0aGlzLmdldCh0WzBdLGEpLGEpO2JyZWFrO2Nhc2UgMjplLmNhbGwoaSx0aGlzLmdldCh0WzBdLGEpLHRoaXMuZ2V0KHRbMV0sYSksYSk7YnJlYWs7ZGVmYXVsdDpmb3IodmFyIHI9MCxzPVtdO3I8bztyKyspc1tyXT10aGlzLmdldCh0W3JdLGEpO3Nbcl09YSxlLmFwcGx5KGkscyl9fX0sc1QuZmlsdGVyU2VsZj1mdW5jdGlvbih0LGUsaSxuKXtpZih0aGlzLl9jb3VudCl7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPWksaT1lLGU9dCx0PVtdKSxpPWl8fG58fHRoaXMsdD1mKFJzKHQpLHRoaXMuZ2V0RGltZW5zaW9uLHRoaXMpO2Zvcih2YXIgbz10aGlzLmNvdW50KCksYT1uZXcoQXModGhpcykpKG8pLHI9W10scz10Lmxlbmd0aCxsPTAsdT10WzBdLGg9MDtoPG87aCsrKXt2YXIgYyxkPXRoaXMuZ2V0UmF3SW5kZXgoaCk7aWYoMD09PXMpYz1lLmNhbGwoaSxoKTtlbHNlIGlmKDE9PT1zKXt2YXIgcD10aGlzLl9nZXRGYXN0KHUsZCk7Yz1lLmNhbGwoaSxwLGgpfWVsc2V7Zm9yKHZhciBnPTA7ZzxzO2crKylyW2ddPXRoaXMuX2dldEZhc3QodSxkKTtyW2ddPWgsYz1lLmFwcGx5KGkscil9YyYmKGFbbCsrXT1kKX1yZXR1cm4gbDxvJiYodGhpcy5faW5kaWNlcz1hKSx0aGlzLl9jb3VudD1sLHRoaXMuX2V4dGVudD17fSx0aGlzLmdldFJhd0luZGV4PXRoaXMuX2luZGljZXM/T3M6TnMsdGhpc319LHNULnNlbGVjdFJhbmdlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2NvdW50KXt2YXIgZT1bXTtmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZlLnB1c2goaSk7dmFyIG49ZS5sZW5ndGg7aWYobil7dmFyIG89dGhpcy5jb3VudCgpLGE9bmV3KEFzKHRoaXMpKShvKSxyPTAscz1lWzBdLGw9dFtzXVswXSx1PXRbc11bMV0saD0hMTtpZighdGhpcy5faW5kaWNlcyl7dmFyIGM9MDtpZigxPT09bil7Zm9yKHZhciBkPXRoaXMuX3N0b3JhZ2VbZVswXV0sZj0wO2Y8dGhpcy5fY2h1bmtDb3VudDtmKyspZm9yKHZhciBwPWRbZl0sZz1NYXRoLm1pbih0aGlzLl9jb3VudC1mKnRoaXMuX2NodW5rU2l6ZSx0aGlzLl9jaHVua1NpemUpLG09MDttPGc7bSsrKSgodz1wW21dKT49bCYmdzw9dXx8aXNOYU4odykpJiYoYVtyKytdPWMpLGMrKztoPSEwfWVsc2UgaWYoMj09PW4pe2Zvcih2YXIgZD10aGlzLl9zdG9yYWdlW3NdLHY9dGhpcy5fc3RvcmFnZVtlWzFdXSx5PXRbZVsxXV1bMF0seD10W2VbMV1dWzFdLGY9MDtmPHRoaXMuX2NodW5rQ291bnQ7ZisrKWZvcih2YXIgcD1kW2ZdLF89dltmXSxnPU1hdGgubWluKHRoaXMuX2NvdW50LWYqdGhpcy5fY2h1bmtTaXplLHRoaXMuX2NodW5rU2l6ZSksbT0wO208ZzttKyspe3ZhciB3PXBbbV0sYj1fW21dOyh3Pj1sJiZ3PD11fHxpc05hTih3KSkmJihiPj15JiZiPD14fHxpc05hTihiKSkmJihhW3IrK109YyksYysrfWg9ITB9fWlmKCFoKWlmKDE9PT1uKWZvcihtPTA7bTxvO20rKyl7TT10aGlzLmdldFJhd0luZGV4KG0pOygodz10aGlzLl9nZXRGYXN0KHMsTSkpPj1sJiZ3PD11fHxpc05hTih3KSkmJihhW3IrK109TSl9ZWxzZSBmb3IobT0wO208bzttKyspe2Zvcih2YXIgUz0hMCxNPXRoaXMuZ2V0UmF3SW5kZXgobSksZj0wO2Y8bjtmKyspe3ZhciBJPWVbZl07KCh3PXRoaXMuX2dldEZhc3QoaSxNKSk8dFtJXVswXXx8dz50W0ldWzFdKSYmKFM9ITEpfVMmJihhW3IrK109dGhpcy5nZXRSYXdJbmRleChtKSl9cmV0dXJuIHI8byYmKHRoaXMuX2luZGljZXM9YSksdGhpcy5fY291bnQ9cix0aGlzLl9leHRlbnQ9e30sdGhpcy5nZXRSYXdJbmRleD10aGlzLl9pbmRpY2VzP09zOk5zLHRoaXN9fX0sc1QubWFwQXJyYXk9ZnVuY3Rpb24odCxlLGksbil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPWksaT1lLGU9dCx0PVtdKSxpPWl8fG58fHRoaXM7dmFyIG89W107cmV0dXJuIHRoaXMuZWFjaCh0LGZ1bmN0aW9uKCl7by5wdXNoKGUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0saSksb30sc1QubWFwPWZ1bmN0aW9uKHQsZSxpLG4pe2k9aXx8bnx8dGhpczt2YXIgbz16cyh0aGlzLHQ9ZihScyh0KSx0aGlzLmdldERpbWVuc2lvbix0aGlzKSk7by5faW5kaWNlcz10aGlzLl9pbmRpY2VzLG8uZ2V0UmF3SW5kZXg9by5faW5kaWNlcz9PczpOcztmb3IodmFyIGE9by5fc3RvcmFnZSxyPVtdLHM9dGhpcy5fY2h1bmtTaXplLGw9dC5sZW5ndGgsdT10aGlzLmNvdW50KCksaD1bXSxjPW8uX3Jhd0V4dGVudCxkPTA7ZDx1O2QrKyl7Zm9yKHZhciBwPTA7cDxsO3ArKyloW3BdPXRoaXMuZ2V0KHRbcF0sZCk7aFtsXT1kO3ZhciBnPWUmJmUuYXBwbHkoaSxoKTtpZihudWxsIT1nKXsib2JqZWN0IiE9dHlwZW9mIGcmJihyWzBdPWcsZz1yKTtmb3IodmFyIG09dGhpcy5nZXRSYXdJbmRleChkKSx2PU1hdGguZmxvb3IobS9zKSx5PW0lcyx4PTA7eDxnLmxlbmd0aDt4Kyspe3ZhciBfPXRbeF0sdz1nW3hdLGI9Y1tfXSxTPWFbX107UyYmKFNbdl1beV09dyksdzxiWzBdJiYoYlswXT13KSx3PmJbMV0mJihiWzFdPXcpfX19cmV0dXJuIG99LHNULmRvd25TYW1wbGU9ZnVuY3Rpb24odCxlLGksbil7Zm9yKHZhciBvPXpzKHRoaXMsW3RdKSxhPW8uX3N0b3JhZ2Uscj1bXSxzPU1hdGguZmxvb3IoMS9lKSxsPWFbdF0sdT10aGlzLmNvdW50KCksaD10aGlzLl9jaHVua1NpemUsYz1vLl9yYXdFeHRlbnRbdF0sZD1uZXcoQXModGhpcykpKHUpLGY9MCxwPTA7cDx1O3ArPXMpe3M+dS1wJiYocz11LXAsci5sZW5ndGg9cyk7Zm9yKHZhciBnPTA7ZzxzO2crKyl7dmFyIG09dGhpcy5nZXRSYXdJbmRleChwK2cpLHY9TWF0aC5mbG9vcihtL2gpLHk9bSVoO3JbZ109bFt2XVt5XX12YXIgeD1pKHIpLF89dGhpcy5nZXRSYXdJbmRleChNYXRoLm1pbihwK24ocix4KXx8MCx1LTEpKSx3PV8laDtsW01hdGguZmxvb3IoXy9oKV1bd109eCx4PGNbMF0mJihjWzBdPXgpLHg+Y1sxXSYmKGNbMV09eCksZFtmKytdPV99cmV0dXJuIG8uX2NvdW50PWYsby5faW5kaWNlcz1kLG8uZ2V0UmF3SW5kZXg9T3Msb30sc1QuZ2V0SXRlbU1vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaG9zdE1vZGVsO3JldHVybiBuZXcgd28odGhpcy5nZXRSYXdEYXRhSXRlbSh0KSxlLGUmJmUuZWNNb2RlbCl9LHNULmRpZmY9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFNzKHQ/dC5nZXRJbmRpY2VzKCk6W10sdGhpcy5nZXRJbmRpY2VzKCksZnVuY3Rpb24oZSl7cmV0dXJuIEVzKHQsZSl9LGZ1bmN0aW9uKHQpe3JldHVybiBFcyhlLHQpfSl9LHNULmdldFZpc3VhbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aXN1YWw7cmV0dXJuIGUmJmVbdF19LHNULnNldFZpc3VhbD1mdW5jdGlvbih0LGUpe2lmKFFJKHQpKWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJnRoaXMuc2V0VmlzdWFsKGksdFtpXSk7ZWxzZSB0aGlzLl92aXN1YWw9dGhpcy5fdmlzdWFsfHx7fSx0aGlzLl92aXN1YWxbdF09ZX0sc1Quc2V0TGF5b3V0PWZ1bmN0aW9uKHQsZSl7aWYoUUkodCkpZm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5zZXRMYXlvdXQoaSx0W2ldKTtlbHNlIHRoaXMuX2xheW91dFt0XT1lfSxzVC5nZXRMYXlvdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xheW91dFt0XX0sc1QuZ2V0SXRlbUxheW91dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXRlbUxheW91dHNbdF19LHNULnNldEl0ZW1MYXlvdXQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2l0ZW1MYXlvdXRzW3RdPWk/YSh0aGlzLl9pdGVtTGF5b3V0c1t0XXx8e30sZSk6ZX0sc1QuY2xlYXJJdGVtTGF5b3V0cz1mdW5jdGlvbigpe3RoaXMuX2l0ZW1MYXlvdXRzLmxlbmd0aD0wfSxzVC5nZXRJdGVtVmlzdWFsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9pdGVtVmlzdWFsc1t0XSxvPW4mJm5bZV07cmV0dXJuIG51bGwhPW98fGk/bzp0aGlzLmdldFZpc3VhbChlKX0sc1Quc2V0SXRlbVZpc3VhbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5faXRlbVZpc3VhbHNbdF18fHt9LG89dGhpcy5oYXNJdGVtVmlzdWFsO2lmKHRoaXMuX2l0ZW1WaXN1YWxzW3RdPW4sUUkoZSkpZm9yKHZhciBhIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShhKSYmKG5bYV09ZVthXSxvW2FdPSEwKTtlbHNlIG5bZV09aSxvW2VdPSEwfSxzVC5jbGVhckFsbFZpc3VhbD1mdW5jdGlvbigpe3RoaXMuX3Zpc3VhbD17fSx0aGlzLl9pdGVtVmlzdWFscz1bXSx0aGlzLmhhc0l0ZW1WaXN1YWw9e319O3ZhciBsVD1mdW5jdGlvbih0KXt0LnNlcmllc0luZGV4PXRoaXMuc2VyaWVzSW5kZXgsdC5kYXRhSW5kZXg9dGhpcy5kYXRhSW5kZXgsdC5kYXRhVHlwZT10aGlzLmRhdGFUeXBlfTtzVC5zZXRJdGVtR3JhcGhpY0VsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5ob3N0TW9kZWw7ZSYmKGUuZGF0YUluZGV4PXQsZS5kYXRhVHlwZT10aGlzLmRhdGFUeXBlLGUuc2VyaWVzSW5kZXg9aSYmaS5zZXJpZXNJbmRleCwiZ3JvdXAiPT09ZS50eXBlJiZlLnRyYXZlcnNlKGxULGUpKSx0aGlzLl9ncmFwaGljRWxzW3RdPWV9LHNULmdldEl0ZW1HcmFwaGljRWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dyYXBoaWNFbHNbdF19LHNULmVhY2hJdGVtR3JhcGhpY0VsPWZ1bmN0aW9uKHQsZSl7ZCh0aGlzLl9ncmFwaGljRWxzLGZ1bmN0aW9uKGksbil7aSYmdCYmdC5jYWxsKGUsaSxuKX0pfSxzVC5jbG9uZVNoYWxsb3c9ZnVuY3Rpb24odCl7aWYoIXQpe3ZhciBlPWYodGhpcy5kaW1lbnNpb25zLHRoaXMuZ2V0RGltZW5zaW9uSW5mbyx0aGlzKTt0PW5ldyByVChlLHRoaXMuaG9zdE1vZGVsKX1pZih0Ll9zdG9yYWdlPXRoaXMuX3N0b3JhZ2UsTHModCx0aGlzKSx0aGlzLl9pbmRpY2VzKXt2YXIgaT10aGlzLl9pbmRpY2VzLmNvbnN0cnVjdG9yO3QuX2luZGljZXM9bmV3IGkodGhpcy5faW5kaWNlcyl9ZWxzZSB0Ll9pbmRpY2VzPW51bGw7cmV0dXJuIHQuZ2V0UmF3SW5kZXg9dC5faW5kaWNlcz9PczpOcyx0fSxzVC53cmFwTWV0aG9kPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpc1t0XTsiZnVuY3Rpb24iPT10eXBlb2YgaSYmKHRoaXMuX193cmFwcGVkTWV0aG9kcz10aGlzLl9fd3JhcHBlZE1ldGhvZHN8fFtdLHRoaXMuX193cmFwcGVkTWV0aG9kcy5wdXNoKHQpLHRoaXNbdF09ZnVuY3Rpb24oKXt2YXIgdD1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZS5hcHBseSh0aGlzLFt0XS5jb25jYXQoQyhhcmd1bWVudHMpKSl9KX0sc1QuVFJBTlNGRVJBQkxFX01FVEhPRFM9WyJjbG9uZVNoYWxsb3ciLCJkb3duU2FtcGxlIiwibWFwIl0sc1QuQ0hBTkdBQkxFX01FVEhPRFM9WyJmaWx0ZXJTZWxmIiwic2VsZWN0UmFuZ2UiXTt2YXIgdVQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHx7fSxHcyhlLmNvb3JkRGltZW5zaW9uc3x8W10sdCx7ZGltc0RlZjplLmRpbWVuc2lvbnNEZWZpbmV8fHQuZGltZW5zaW9uc0RlZmluZSxlbmNvZGVEZWY6ZS5lbmNvZGVEZWZpbmV8fHQuZW5jb2RlRGVmaW5lLGRpbUNvdW50OmUuZGltZW5zaW9uc0NvdW50LGdlbmVyYXRlQ29vcmQ6ZS5nZW5lcmF0ZUNvb3JkLGdlbmVyYXRlQ29vcmRDb3VudDplLmdlbmVyYXRlQ29vcmRDb3VudH0pfTtZcy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LFlzLnByb3RvdHlwZS5nZXRTZXR0aW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zZXR0aW5nW3RdfSxZcy5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7cmV0dXJuIHQ+PWVbMF0mJnQ8PWVbMV19LFlzLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O3JldHVybiBlWzFdPT09ZVswXT8uNToodC1lWzBdKS8oZVsxXS1lWzBdKX0sWXMucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDtyZXR1cm4gdCooZVsxXS1lWzBdKStlWzBdfSxZcy5wcm90b3R5cGUudW5pb25FeHRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O3RbMF08ZVswXSYmKGVbMF09dFswXSksdFsxXT5lWzFdJiYoZVsxXT10WzFdKX0sWXMucHJvdG90eXBlLnVuaW9uRXh0ZW50RnJvbURhdGE9ZnVuY3Rpb24odCxlKXt0aGlzLnVuaW9uRXh0ZW50KHQuZ2V0QXBwcm94aW1hdGVFeHRlbnQoZSkpfSxZcy5wcm90b3R5cGUuZ2V0RXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dGVudC5zbGljZSgpfSxZcy5wcm90b3R5cGUuc2V0RXh0ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZXh0ZW50O2lzTmFOKHQpfHwoaVswXT10KSxpc05hTihlKXx8KGlbMV09ZSl9LFlzLnByb3RvdHlwZS5pc0JsYW5rPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQmxhbmt9LFlzLnByb3RvdHlwZS5zZXRCbGFuaz1mdW5jdGlvbih0KXt0aGlzLl9pc0JsYW5rPXR9LFlzLnByb3RvdHlwZS5nZXRMYWJlbD1udWxsLEdpKFlzKSxaaShZcyx7cmVnaXN0ZXJXaGVuRXh0ZW5kOiEwfSkscXMuY3JlYXRlQnlBeGlzTW9kZWw9ZnVuY3Rpb24odCl7dmFyIGU9dC5vcHRpb24saT1lLmRhdGEsbj1pJiZmKGksJHMpO3JldHVybiBuZXcgcXMoe2NhdGVnb3JpZXM6bixuZWVkQ29sbGVjdDohbixkZWR1cGxpY2F0aW9uOiExIT09ZS5kZWRwbGljYXRpb259KX07dmFyIGhUPXFzLnByb3RvdHlwZTtoVC5nZXRPcmRpbmFsPWZ1bmN0aW9uKHQpe3JldHVybiBLcyh0aGlzKS5nZXQodCl9LGhULnBhcnNlQW5kQ29sbGVjdD1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuX25lZWRDb2xsZWN0O2lmKCJzdHJpbmciIT10eXBlb2YgdCYmIWkpcmV0dXJuIHQ7aWYoaSYmIXRoaXMuX2RlZHVwbGljYXRpb24pcmV0dXJuIGU9dGhpcy5jYXRlZ29yaWVzLmxlbmd0aCx0aGlzLmNhdGVnb3JpZXNbZV09dCxlO3ZhciBuPUtzKHRoaXMpO3JldHVybiBudWxsPT0oZT1uLmdldCh0KSkmJihpPyhlPXRoaXMuY2F0ZWdvcmllcy5sZW5ndGgsdGhpcy5jYXRlZ29yaWVzW2VdPXQsbi5zZXQodCxlKSk6ZT1OYU4pLGV9O3ZhciBjVD1Zcy5wcm90b3R5cGUsZFQ9WXMuZXh0ZW5kKHt0eXBlOiJvcmRpbmFsIixpbml0OmZ1bmN0aW9uKHQsZSl7dCYmIXkodCl8fCh0PW5ldyBxcyh7Y2F0ZWdvcmllczp0fSkpLHRoaXMuX29yZGluYWxNZXRhPXQsdGhpcy5fZXh0ZW50PWV8fFswLHQuY2F0ZWdvcmllcy5sZW5ndGgtMV19LHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90aGlzLl9vcmRpbmFsTWV0YS5nZXRPcmRpbmFsKHQpOk1hdGgucm91bmQodCl9LGNvbnRhaW46ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5wYXJzZSh0KSxjVC5jb250YWluLmNhbGwodGhpcyx0KSYmbnVsbCE9dGhpcy5fb3JkaW5hbE1ldGEuY2F0ZWdvcmllc1t0XX0sbm9ybWFsaXplOmZ1bmN0aW9uKHQpe3JldHVybiBjVC5ub3JtYWxpemUuY2FsbCh0aGlzLHRoaXMucGFyc2UodCkpfSxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZChjVC5zY2FsZS5jYWxsKHRoaXMsdCkpfSxnZXRUaWNrczpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMuX2V4dGVudCxpPWVbMF07aTw9ZVsxXTspdC5wdXNoKGkpLGkrKztyZXR1cm4gdH0sZ2V0TGFiZWw6ZnVuY3Rpb24odCl7aWYoIXRoaXMuaXNCbGFuaygpKXJldHVybiB0aGlzLl9vcmRpbmFsTWV0YS5jYXRlZ29yaWVzW3RdfSxjb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHRlbnRbMV0tdGhpcy5fZXh0ZW50WzBdKzF9LHVuaW9uRXh0ZW50RnJvbURhdGE6ZnVuY3Rpb24odCxlKXt0aGlzLnVuaW9uRXh0ZW50KHQuZ2V0QXBwcm94aW1hdGVFeHRlbnQoZSkpfSxnZXRPcmRpbmFsTWV0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmRpbmFsTWV0YX0sbmljZVRpY2tzOkIsbmljZUV4dGVudDpCfSk7ZFQuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBkVH07dmFyIGZUPUFvLHBUPUFvLGdUPVlzLmV4dGVuZCh7dHlwZToiaW50ZXJ2YWwiLF9pbnRlcnZhbDowLF9pbnRlcnZhbFByZWNpc2lvbjoyLHNldEV4dGVudDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudDtpc05hTih0KXx8KGlbMF09cGFyc2VGbG9hdCh0KSksaXNOYU4oZSl8fChpWzFdPXBhcnNlRmxvYXQoZSkpfSx1bmlvbkV4dGVudDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7dFswXTxlWzBdJiYoZVswXT10WzBdKSx0WzFdPmVbMV0mJihlWzFdPXRbMV0pLGdULnByb3RvdHlwZS5zZXRFeHRlbnQuY2FsbCh0aGlzLGVbMF0sZVsxXSl9LGdldEludGVydmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVydmFsfSxzZXRJbnRlcnZhbDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcnZhbD10LHRoaXMuX25pY2VFeHRlbnQ9dGhpcy5fZXh0ZW50LnNsaWNlKCksdGhpcy5faW50ZXJ2YWxQcmVjaXNpb249UXModCl9LGdldFRpY2tzOmZ1bmN0aW9uKCl7cmV0dXJuIGlsKHRoaXMuX2ludGVydmFsLHRoaXMuX2V4dGVudCx0aGlzLl9uaWNlRXh0ZW50LHRoaXMuX2ludGVydmFsUHJlY2lzaW9uKX0sZ2V0TGFiZWw6ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVybiIiO3ZhciBpPWUmJmUucHJlY2lzaW9uO3JldHVybiBudWxsPT1pP2k9a28odCl8fDA6ImF1dG8iPT09aSYmKGk9dGhpcy5faW50ZXJ2YWxQcmVjaXNpb24pLHQ9cFQodCxpLCEwKSxGbyh0KX0sbmljZVRpY2tzOmZ1bmN0aW9uKHQsZSxpKXt0PXR8fDU7dmFyIG49dGhpcy5fZXh0ZW50LG89blsxXS1uWzBdO2lmKGlzRmluaXRlKG8pKXtvPDAmJihvPS1vLG4ucmV2ZXJzZSgpKTt2YXIgYT1KcyhuLHQsZSxpKTt0aGlzLl9pbnRlcnZhbFByZWNpc2lvbj1hLmludGVydmFsUHJlY2lzaW9uLHRoaXMuX2ludGVydmFsPWEuaW50ZXJ2YWwsdGhpcy5fbmljZUV4dGVudD1hLm5pY2VUaWNrRXh0ZW50fX0sbmljZUV4dGVudDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7aWYoZVswXT09PWVbMV0paWYoMCE9PWVbMF0pe3ZhciBpPWVbMF07dC5maXhNYXg/ZVswXS09aS8yOihlWzFdKz1pLzIsZVswXS09aS8yKX1lbHNlIGVbMV09MTt2YXIgbj1lWzFdLWVbMF07aXNGaW5pdGUobil8fChlWzBdPTAsZVsxXT0xKSx0aGlzLm5pY2VUaWNrcyh0LnNwbGl0TnVtYmVyLHQubWluSW50ZXJ2YWwsdC5tYXhJbnRlcnZhbCk7dmFyIG89dGhpcy5faW50ZXJ2YWw7dC5maXhNaW58fChlWzBdPXBUKE1hdGguZmxvb3IoZVswXS9vKSpvKSksdC5maXhNYXh8fChlWzFdPXBUKE1hdGguY2VpbChlWzFdL28pKm8pKX19KTtnVC5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGdUfTt2YXIgbVQ9Il9fZWNfc3RhY2tfIix2VD0idW5kZWZpbmVkIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9GbG9hdDMyQXJyYXk6QXJyYXkseVQ9e3Nlcmllc1R5cGU6ImJhciIscGxhbjpKTSgpLHJlc2V0OmZ1bmN0aW9uKHQpe2lmKGNsKHQpJiZkbCh0KSl7dmFyIGU9dC5nZXREYXRhKCksaT10LmNvb3JkaW5hdGVTeXN0ZW0sbj1pLmdldEJhc2VBeGlzKCksbz1pLmdldE90aGVyQXhpcyhuKSxhPWUubWFwRGltZW5zaW9uKG8uZGltKSxyPWUubWFwRGltZW5zaW9uKG4uZGltKSxzPW8uaXNIb3Jpem9udGFsKCksbD1zPzA6MSx1PXVsKHNsKFt0XSksbix0KS53aWR0aDtyZXR1cm4gdT4uNXx8KHU9LjUpLHtwcm9ncmVzczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaCxjPW5ldyB2VCgyKnQuY291bnQpLGQ9W10sZj1bXSxwPTA7bnVsbCE9KGg9dC5uZXh0KCkpOylmW2xdPWUuZ2V0KGEsaCksZlsxLWxdPWUuZ2V0KHIsaCksZD1pLmRhdGFUb1BvaW50KGYsbnVsbCxkKSxjW3ArK109ZFswXSxjW3ArK109ZFsxXTtlLnNldExheW91dCh7bGFyZ2VQb2ludHM6YyxiYXJXaWR0aDp1LHZhbHVlQXhpc1N0YXJ0OmZsKG4sbywhMSksdmFsdWVBeGlzSG9yaXpvbnRhbDpzfSl9fX19fSx4VD1nVC5wcm90b3R5cGUsX1Q9TWF0aC5jZWlsLHdUPU1hdGguZmxvb3IsYlQ9ZnVuY3Rpb24odCxlLGksbil7Zm9yKDtpPG47KXt2YXIgbz1pK24+Pj4xO3Rbb11bMV08ZT9pPW8rMTpuPW99cmV0dXJuIGl9LFNUPWdULmV4dGVuZCh7dHlwZToidGltZSIsZ2V0TGFiZWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RlcEx2bCxpPW5ldyBEYXRlKHQpO3JldHVybiBxbyhlWzBdLGksdGhpcy5nZXRTZXR0aW5nKCJ1c2VVVEMiKSl9LG5pY2VFeHRlbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O2lmKGVbMF09PT1lWzFdJiYoZVswXS09ODY0ZTUsZVsxXSs9ODY0ZTUpLGVbMV09PT0tMS8wJiZlWzBdPT09MS8wKXt2YXIgaT1uZXcgRGF0ZTtlWzFdPStuZXcgRGF0ZShpLmdldEZ1bGxZZWFyKCksaS5nZXRNb250aCgpLGkuZ2V0RGF0ZSgpKSxlWzBdPWVbMV0tODY0ZTV9dGhpcy5uaWNlVGlja3ModC5zcGxpdE51bWJlcix0Lm1pbkludGVydmFsLHQubWF4SW50ZXJ2YWwpO3ZhciBuPXRoaXMuX2ludGVydmFsO3QuZml4TWlufHwoZVswXT1Bbyh3VChlWzBdL24pKm4pKSx0LmZpeE1heHx8KGVbMV09QW8oX1QoZVsxXS9uKSpuKSl9LG5pY2VUaWNrczpmdW5jdGlvbih0LGUsaSl7dD10fHwxMDt2YXIgbj10aGlzLl9leHRlbnQsbz1uWzFdLW5bMF0sYT1vL3Q7bnVsbCE9ZSYmYTxlJiYoYT1lKSxudWxsIT1pJiZhPmkmJihhPWkpO3ZhciByPU1ULmxlbmd0aCxzPWJUKE1ULGEsMCxyKSxsPU1UW01hdGgubWluKHMsci0xKV0sdT1sWzFdOyJ5ZWFyIj09PWxbMF0mJih1Kj1WbyhvL3UvdCwhMCkpO3ZhciBoPXRoaXMuZ2V0U2V0dGluZygidXNlVVRDIik/MDo2MCpuZXcgRGF0ZSgrblswXXx8K25bMV0pLmdldFRpbWV6b25lT2Zmc2V0KCkqMWUzLGM9W01hdGgucm91bmQoX1QoKG5bMF0taCkvdSkqdStoKSxNYXRoLnJvdW5kKHdUKChuWzFdLWgpL3UpKnUraCldO2VsKGMsbiksdGhpcy5fc3RlcEx2bD1sLHRoaXMuX2ludGVydmFsPXUsdGhpcy5fbmljZUV4dGVudD1jfSxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm4rUm8odCl9fSk7ZChbImNvbnRhaW4iLCJub3JtYWxpemUiXSxmdW5jdGlvbih0KXtTVC5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHhUW3RdLmNhbGwodGhpcyx0aGlzLnBhcnNlKGUpKX19KTt2YXIgTVQ9W1siaGg6bW06c3MiLDFlM10sWyJoaDptbTpzcyIsNWUzXSxbImhoOm1tOnNzIiwxZTRdLFsiaGg6bW06c3MiLDE1ZTNdLFsiaGg6bW06c3MiLDNlNF0sWyJoaDptbVxuTU0tZGQiLDZlNF0sWyJoaDptbVxuTU0tZGQiLDNlNV0sWyJoaDptbVxuTU0tZGQiLDZlNV0sWyJoaDptbVxuTU0tZGQiLDllNV0sWyJoaDptbVxuTU0tZGQiLDE4ZTVdLFsiaGg6bW1cbk1NLWRkIiwzNmU1XSxbImhoOm1tXG5NTS1kZCIsNzJlNV0sWyJoaDptbVxuTU0tZGQiLDIxNmU1XSxbImhoOm1tXG5NTS1kZCIsNDMyZTVdLFsiTU0tZGRcbnl5eXkiLDg2NGU1XSxbIk1NLWRkXG55eXl5IiwxNzI4ZTVdLFsiTU0tZGRcbnl5eXkiLDI1OTJlNV0sWyJNTS1kZFxueXl5eSIsMzQ1NmU1XSxbIk1NLWRkXG55eXl5Iiw0MzJlNl0sWyJNTS1kZFxueXl5eSIsNTE4NGU1XSxbIndlZWsiLDYwNDhlNV0sWyJNTS1kZFxueXl5eSIsODY0ZTZdLFsid2VlayIsMTIwOTZlNV0sWyJ3ZWVrIiwxODE0NGU1XSxbIm1vbnRoIiwyNjc4NGU1XSxbIndlZWsiLDM2Mjg4ZTVdLFsibW9udGgiLDUzNTY4ZTVdLFsid2VlayIsMzYyODhlNV0sWyJxdWFydGVyIiw4MjA4ZTZdLFsibW9udGgiLDEwNzEzNmU1XSxbIm1vbnRoIiwxMzM5MmU2XSxbImhhbGYteWVhciIsMTY0MTZlNl0sWyJtb250aCIsMjE0MjcyZTVdLFsibW9udGgiLDI2Nzg0ZTZdLFsieWVhciIsMzI4MzJlNl1dO1NULmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFNUKHt1c2VVVEM6dC5lY01vZGVsLmdldCgidXNlVVRDIil9KX07dmFyIElUPVlzLnByb3RvdHlwZSxUVD1nVC5wcm90b3R5cGUsRFQ9a28sQVQ9QW8sQ1Q9TWF0aC5mbG9vcixMVD1NYXRoLmNlaWwsa1Q9TWF0aC5wb3csUFQ9TWF0aC5sb2csTlQ9WXMuZXh0ZW5kKHt0eXBlOiJsb2ciLGJhc2U6MTAsJGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7WXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX29yaWdpbmFsU2NhbGU9bmV3IGdUfSxnZXRUaWNrczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX29yaWdpbmFsU2NhbGUsZT10aGlzLl9leHRlbnQsaT10LmdldEV4dGVudCgpO3JldHVybiBmKFRULmdldFRpY2tzLmNhbGwodGhpcyksZnVuY3Rpb24obil7dmFyIG89QW8oa1QodGhpcy5iYXNlLG4pKTtyZXR1cm4gbz1uPT09ZVswXSYmdC5fX2ZpeE1pbj9wbChvLGlbMF0pOm8sbz1uPT09ZVsxXSYmdC5fX2ZpeE1heD9wbChvLGlbMV0pOm99LHRoaXMpfSxnZXRMYWJlbDpUVC5nZXRMYWJlbCxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gdD1JVC5zY2FsZS5jYWxsKHRoaXMsdCksa1QodGhpcy5iYXNlLHQpfSxzZXRFeHRlbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmJhc2U7dD1QVCh0KS9QVChpKSxlPVBUKGUpL1BUKGkpLFRULnNldEV4dGVudC5jYWxsKHRoaXMsdCxlKX0sZ2V0RXh0ZW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iYXNlLGU9SVQuZ2V0RXh0ZW50LmNhbGwodGhpcyk7ZVswXT1rVCh0LGVbMF0pLGVbMV09a1QodCxlWzFdKTt2YXIgaT10aGlzLl9vcmlnaW5hbFNjYWxlLG49aS5nZXRFeHRlbnQoKTtyZXR1cm4gaS5fX2ZpeE1pbiYmKGVbMF09cGwoZVswXSxuWzBdKSksaS5fX2ZpeE1heCYmKGVbMV09cGwoZVsxXSxuWzFdKSksZX0sdW5pb25FeHRlbnQ6ZnVuY3Rpb24odCl7dGhpcy5fb3JpZ2luYWxTY2FsZS51bmlvbkV4dGVudCh0KTt2YXIgZT10aGlzLmJhc2U7dFswXT1QVCh0WzBdKS9QVChlKSx0WzFdPVBUKHRbMV0pL1BUKGUpLElULnVuaW9uRXh0ZW50LmNhbGwodGhpcyx0KX0sdW5pb25FeHRlbnRGcm9tRGF0YTpmdW5jdGlvbih0LGUpe3RoaXMudW5pb25FeHRlbnQodC5nZXRBcHByb3hpbWF0ZUV4dGVudChlKSl9LG5pY2VUaWNrczpmdW5jdGlvbih0KXt0PXR8fDEwO3ZhciBlPXRoaXMuX2V4dGVudCxpPWVbMV0tZVswXTtpZighKGk9PT0xLzB8fGk8PTApKXt2YXIgbj16byhpKTtmb3IodC9pKm48PS41JiYobio9MTApOyFpc05hTihuKSYmTWF0aC5hYnMobik8MSYmTWF0aC5hYnMobik+MDspbio9MTA7dmFyIG89W0FvKExUKGVbMF0vbikqbiksQW8oQ1QoZVsxXS9uKSpuKV07dGhpcy5faW50ZXJ2YWw9bix0aGlzLl9uaWNlRXh0ZW50PW99fSxuaWNlRXh0ZW50OmZ1bmN0aW9uKHQpe1RULm5pY2VFeHRlbnQuY2FsbCh0aGlzLHQpO3ZhciBlPXRoaXMuX29yaWdpbmFsU2NhbGU7ZS5fX2ZpeE1pbj10LmZpeE1pbixlLl9fZml4TWF4PXQuZml4TWF4fX0pO2QoWyJjb250YWluIiwibm9ybWFsaXplIl0sZnVuY3Rpb24odCl7TlQucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUpe3JldHVybiBlPVBUKGUpL1BUKHRoaXMuYmFzZSksSVRbdF0uY2FsbCh0aGlzLGUpfX0pLE5ULmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTlR9O3ZhciBPVD17Z2V0TWluOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLGk9dHx8bnVsbD09ZS5yYW5nZVN0YXJ0P2UubWluOmUucmFuZ2VTdGFydDtyZXR1cm4gdGhpcy5heGlzJiZudWxsIT1pJiYiZGF0YU1pbiIhPT1pJiYiZnVuY3Rpb24iIT10eXBlb2YgaSYmIUkoaSkmJihpPXRoaXMuYXhpcy5zY2FsZS5wYXJzZShpKSksaX0sZ2V0TWF4OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLGk9dHx8bnVsbD09ZS5yYW5nZUVuZD9lLm1heDplLnJhbmdlRW5kO3JldHVybiB0aGlzLmF4aXMmJm51bGwhPWkmJiJkYXRhTWF4IiE9PWkmJiJmdW5jdGlvbiIhPXR5cGVvZiBpJiYhSShpKSYmKGk9dGhpcy5heGlzLnNjYWxlLnBhcnNlKGkpKSxpfSxnZXROZWVkQ3Jvc3NaZXJvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb247cmV0dXJuIG51bGw9PXQucmFuZ2VTdGFydCYmbnVsbD09dC5yYW5nZUVuZCYmIXQuc2NhbGV9LGdldENvb3JkU3lzTW9kZWw6QixzZXRSYW5nZTpmdW5jdGlvbih0LGUpe3RoaXMub3B0aW9uLnJhbmdlU3RhcnQ9dCx0aGlzLm9wdGlvbi5yYW5nZUVuZD1lfSxyZXNldFJhbmdlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb24ucmFuZ2VTdGFydD10aGlzLm9wdGlvbi5yYW5nZUVuZD1udWxsfX0sRVQ9RW4oe3R5cGU6InRyaWFuZ2xlIixzaGFwZTp7Y3g6MCxjeTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gsbj1lLmN5LG89ZS53aWR0aC8yLGE9ZS5oZWlnaHQvMjt0Lm1vdmVUbyhpLG4tYSksdC5saW5lVG8oaStvLG4rYSksdC5saW5lVG8oaS1vLG4rYSksdC5jbG9zZVBhdGgoKX19KSxSVD1Fbih7dHlwZToiZGlhbW9uZCIsc2hhcGU6e2N4OjAsY3k6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmN4LG49ZS5jeSxvPWUud2lkdGgvMixhPWUuaGVpZ2h0LzI7dC5tb3ZlVG8oaSxuLWEpLHQubGluZVRvKGkrbyxuKSx0LmxpbmVUbyhpLG4rYSksdC5saW5lVG8oaS1vLG4pLHQuY2xvc2VQYXRoKCl9fSkselQ9RW4oe3R5cGU6InBpbiIsc2hhcGU6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS54LG49ZS55LG89ZS53aWR0aC81KjMsYT1NYXRoLm1heChvLGUuaGVpZ2h0KSxyPW8vMixzPXIqci8oYS1yKSxsPW4tYStyK3MsdT1NYXRoLmFzaW4ocy9yKSxoPU1hdGguY29zKHUpKnIsYz1NYXRoLnNpbih1KSxkPU1hdGguY29zKHUpLGY9LjYqcixwPS43KnI7dC5tb3ZlVG8oaS1oLGwrcyksdC5hcmMoaSxsLHIsTWF0aC5QSS11LDIqTWF0aC5QSSt1KSx0LmJlemllckN1cnZlVG8oaStoLWMqZixsK3MrZCpmLGksbi1wLGksbiksdC5iZXppZXJDdXJ2ZVRvKGksbi1wLGktaCtjKmYsbCtzK2QqZixpLWgsbCtzKSx0LmNsb3NlUGF0aCgpfX0pLEJUPUVuKHt0eXBlOiJhcnJvdyIsc2hhcGU6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5oZWlnaHQsbj1lLndpZHRoLG89ZS54LGE9ZS55LHI9bi8zKjI7dC5tb3ZlVG8obyxhKSx0LmxpbmVUbyhvK3IsYStpKSx0LmxpbmVUbyhvLGEraS80KjMpLHQubGluZVRvKG8tcixhK2kpLHQubGluZVRvKG8sYSksdC5jbG9zZVBhdGgoKX19KSxWVD17bGluZTpmdW5jdGlvbih0LGUsaSxuLG8pe28ueDE9dCxvLnkxPWUrbi8yLG8ueDI9dCtpLG8ueTI9ZStuLzJ9LHJlY3Q6ZnVuY3Rpb24odCxlLGksbixvKXtvLng9dCxvLnk9ZSxvLndpZHRoPWksby5oZWlnaHQ9bn0scm91bmRSZWN0OmZ1bmN0aW9uKHQsZSxpLG4sbyl7by54PXQsby55PWUsby53aWR0aD1pLG8uaGVpZ2h0PW4sby5yPU1hdGgubWluKGksbikvNH0sc3F1YXJlOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9TWF0aC5taW4oaSxuKTtvLng9dCxvLnk9ZSxvLndpZHRoPWEsby5oZWlnaHQ9YX0sY2lyY2xlOmZ1bmN0aW9uKHQsZSxpLG4sbyl7by5jeD10K2kvMixvLmN5PWUrbi8yLG8ucj1NYXRoLm1pbihpLG4pLzJ9LGRpYW1vbmQ6ZnVuY3Rpb24odCxlLGksbixvKXtvLmN4PXQraS8yLG8uY3k9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59LHBpbjpmdW5jdGlvbih0LGUsaSxuLG8pe28ueD10K2kvMixvLnk9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59LGFycm93OmZ1bmN0aW9uKHQsZSxpLG4sbyl7by54PXQraS8yLG8ueT1lK24vMixvLndpZHRoPWksby5oZWlnaHQ9bn0sdHJpYW5nbGU6ZnVuY3Rpb24odCxlLGksbixvKXtvLmN4PXQraS8yLG8uY3k9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59fSxHVD17fTtkKHtsaW5lOlNTLHJlY3Q6YlMscm91bmRSZWN0OmJTLHNxdWFyZTpiUyxjaXJjbGU6ZlMsZGlhbW9uZDpSVCxwaW46elQsYXJyb3c6QlQsdHJpYW5nbGU6RVR9LGZ1bmN0aW9uKHQsZSl7R1RbZV09bmV3IHR9KTt2YXIgV1Q9RW4oe3R5cGU6InN5bWJvbCIsc2hhcGU6e3N5bWJvbFR5cGU6IiIseDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxiZWZvcmVCcnVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGU7InBpbiI9PT10aGlzLnNoYXBlLnN5bWJvbFR5cGUmJiJpbnNpZGUiPT09dC50ZXh0UG9zaXRpb24mJih0LnRleHRQb3NpdGlvbj1bIjUwJSIsIjQwJSJdLHQudGV4dEFsaWduPSJjZW50ZXIiLHQudGV4dFZlcnRpY2FsQWxpZ249Im1pZGRsZSIpfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUuc3ltYm9sVHlwZSxvPUdUW25dOyJub25lIiE9PWUuc3ltYm9sVHlwZSYmKG98fChvPUdUW249InJlY3QiXSksVlRbbl0oZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LG8uc2hhcGUpLG8uYnVpbGRQYXRoKHQsby5zaGFwZSxpKSl9fSksRlQ9e2lzRGltZW5zaW9uU3RhY2tlZDpacyxlbmFibGVEYXRhU3RhY2s6SHN9LEhUPShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtjcmVhdGVMaXN0OmZ1bmN0aW9uKHQpe3JldHVybiBVcyh0LmdldFNvdXJjZSgpLHQpfSxnZXRMYXlvdXRSZWN0OlFvLGRhdGFTdGFjazpGVCxjcmVhdGVTY2FsZTpmdW5jdGlvbih0LGUpe3ZhciBpPWU7d28uaXNJbnN0YW5jZShlKXx8aChpPW5ldyB3byhlKSxPVCk7dmFyIG49eWwoaSk7cmV0dXJuIG4uc2V0RXh0ZW50KHRbMF0sdFsxXSksdmwobixpKSxufSxtaXhpbkF4aXNNb2RlbENvbW1vbk1ldGhvZHM6ZnVuY3Rpb24odCl7aCh0LE9UKX0sY29tcGxldGVEaW1lbnNpb25zOkdzLGNyZWF0ZURpbWVuc2lvbnM6dVQsY3JlYXRlU3ltYm9sOklsfSksWlQ9MWUtODtBbC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkFsLHByb3BlcnRpZXM6bnVsbCxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0O2lmKHQpcmV0dXJuIHQ7Zm9yKHZhciBlPU51bWJlci5NQVhfVkFMVUUsaT1bZSxlXSxuPVstZSwtZV0sbz1bXSxhPVtdLHI9dGhpcy5nZW9tZXRyaWVzLHM9MDtzPHIubGVuZ3RoO3MrKykicG9seWdvbiI9PT1yW3NdLnR5cGUmJihybihyW3NdLmV4dGVyaW9yLG8sYSksdHQoaSxpLG8pLGV0KG4sbixhKSk7cmV0dXJuIDA9PT1zJiYoaVswXT1pWzFdPW5bMF09blsxXT0wKSx0aGlzLl9yZWN0PW5ldyAkdChpWzBdLGlbMV0sblswXS1pWzBdLG5bMV0taVsxXSl9LGNvbnRhaW46ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxpPXRoaXMuZ2VvbWV0cmllcztpZighZS5jb250YWluKHRbMF0sdFsxXSkpcmV0dXJuITE7dDpmb3IodmFyIG49MCxvPWkubGVuZ3RoO248bztuKyspaWYoInBvbHlnb24iPT09aVtuXS50eXBlKXt2YXIgYT1pW25dLmV4dGVyaW9yLHI9aVtuXS5pbnRlcmlvcnM7aWYoRGwoYSx0WzBdLHRbMV0pKXtmb3IodmFyIHM9MDtzPChyP3IubGVuZ3RoOjApO3MrKylpZihEbChyW3NdKSljb250aW51ZSB0O3JldHVybiEwfX1yZXR1cm4hMX0sdHJhbnNmb3JtVG86ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxhPW8ud2lkdGgvby5oZWlnaHQ7aT9ufHwobj1pL2EpOmk9YSpuO2Zvcih2YXIgcj1uZXcgJHQodCxlLGksbikscz1vLmNhbGN1bGF0ZVRyYW5zZm9ybShyKSxsPXRoaXMuZ2VvbWV0cmllcyx1PTA7dTxsLmxlbmd0aDt1KyspaWYoInBvbHlnb24iPT09bFt1XS50eXBlKXtmb3IodmFyIGg9bFt1XS5leHRlcmlvcixjPWxbdV0uaW50ZXJpb3JzLGQ9MDtkPGgubGVuZ3RoO2QrKylRKGhbZF0saFtkXSxzKTtmb3IodmFyIGY9MDtmPChjP2MubGVuZ3RoOjApO2YrKylmb3IoZD0wO2Q8Y1tmXS5sZW5ndGg7ZCsrKVEoY1tmXVtkXSxjW2ZdW2RdLHMpfShvPXRoaXMuX3JlY3QpLmNvcHkociksdGhpcy5jZW50ZXI9W28ueCtvLndpZHRoLzIsby55K28uaGVpZ2h0LzJdfX07dmFyIFVUPWZ1bmN0aW9uKHQpe3JldHVybiBDbCh0KSxmKGcodC5mZWF0dXJlcyxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZW9tZXRyeSYmdC5wcm9wZXJ0aWVzJiZ0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aD4wfSksZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wZXJ0aWVzLGk9dC5nZW9tZXRyeSxuPWkuY29vcmRpbmF0ZXMsbz1bXTsiUG9seWdvbiI9PT1pLnR5cGUmJm8ucHVzaCh7dHlwZToicG9seWdvbiIsZXh0ZXJpb3I6blswXSxpbnRlcmlvcnM6bi5zbGljZSgxKX0pLCJNdWx0aVBvbHlnb24iPT09aS50eXBlJiZkKG4sZnVuY3Rpb24odCl7dFswXSYmby5wdXNoKHt0eXBlOiJwb2x5Z29uIixleHRlcmlvcjp0WzBdLGludGVyaW9yczp0LnNsaWNlKDEpfSl9KTt2YXIgYT1uZXcgQWwoZS5uYW1lLG8sZS5jcCk7cmV0dXJuIGEucHJvcGVydGllcz1lLGF9KX0sWFQ9TmkoKSxqVD1bMCwxXSxZVD1mdW5jdGlvbih0LGUsaSl7dGhpcy5kaW09dCx0aGlzLnNjYWxlPWUsdGhpcy5fZXh0ZW50PWl8fFswLDBdLHRoaXMuaW52ZXJzZT0hMSx0aGlzLm9uQmFuZD0hMX07WVQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpZVCxjb250YWluOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudCxpPU1hdGgubWluKGVbMF0sZVsxXSksbj1NYXRoLm1heChlWzBdLGVbMV0pO3JldHVybiB0Pj1pJiZ0PD1ufSxjb250YWluRGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250YWluKHRoaXMuZGF0YVRvQ29vcmQodCkpfSxnZXRFeHRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0ZW50LnNsaWNlKCl9LGdldFBpeGVsUHJlY2lzaW9uOmZ1bmN0aW9uKHQpe3JldHVybiBQbyh0fHx0aGlzLnNjYWxlLmdldEV4dGVudCgpLHRoaXMuX2V4dGVudCl9LHNldEV4dGVudDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudDtpWzBdPXQsaVsxXT1lfSxkYXRhVG9Db29yZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudCxuPXRoaXMuc2NhbGU7cmV0dXJuIHQ9bi5ub3JtYWxpemUodCksdGhpcy5vbkJhbmQmJiJvcmRpbmFsIj09PW4udHlwZSYmVWwoaT1pLnNsaWNlKCksbi5jb3VudCgpKSxUbyh0LGpULGksZSl9LGNvb3JkVG9EYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZXh0ZW50LG49dGhpcy5zY2FsZTt0aGlzLm9uQmFuZCYmIm9yZGluYWwiPT09bi50eXBlJiZVbChpPWkuc2xpY2UoKSxuLmNvdW50KCkpO3ZhciBvPVRvKHQsaSxqVCxlKTtyZXR1cm4gdGhpcy5zY2FsZS5zY2FsZShvKX0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCxlKXt9LGdldFRpY2tzQ29vcmRzOmZ1bmN0aW9uKHQpe3ZhciBlPSh0PXR8fHt9KS50aWNrTW9kZWx8fHRoaXMuZ2V0VGlja01vZGVsKCksaT1QbCh0aGlzLGUpLG49ZihpLnRpY2tzLGZ1bmN0aW9uKHQpe3JldHVybntjb29yZDp0aGlzLmRhdGFUb0Nvb3JkKHQpLHRpY2tWYWx1ZTp0fX0sdGhpcyksbz1lLmdldCgiYWxpZ25XaXRoTGFiZWwiKTtyZXR1cm4gWGwodGhpcyxuLGkudGlja0NhdGVnb3J5SW50ZXJ2YWwsbyx0LmNsYW1wKSxufSxnZXRWaWV3TGFiZWxzOmZ1bmN0aW9uKCl7cmV0dXJuIGtsKHRoaXMpLmxhYmVsc30sZ2V0TGFiZWxNb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsLmdldE1vZGVsKCJheGlzTGFiZWwiKX0sZ2V0VGlja01vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwuZ2V0TW9kZWwoImF4aXNUaWNrIil9LGdldEJhbmRXaWR0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2V4dGVudCxlPXRoaXMuc2NhbGUuZ2V0RXh0ZW50KCksaT1lWzFdLWVbMF0rKHRoaXMub25CYW5kPzE6MCk7MD09PWkmJihpPTEpO3ZhciBuPU1hdGguYWJzKHRbMV0tdFswXSk7cmV0dXJuIE1hdGguYWJzKG4pL2l9LGlzSG9yaXpvbnRhbDpudWxsLGdldFJvdGF0ZTpudWxsLGNhbGN1bGF0ZUNhdGVnb3J5SW50ZXJ2YWw6ZnVuY3Rpb24odCl7cmV0dXJuIEdsKHRoaXMsdCl9fTt2YXIgcVQ9VVQsS1Q9e307ZChbIm1hcCIsImVhY2giLCJmaWx0ZXIiLCJpbmRleE9mIiwiaW5oZXJpdHMiLCJyZWR1Y2UiLCJmaWx0ZXIiLCJiaW5kIiwiY3VycnkiLCJpc0FycmF5IiwiaXNTdHJpbmciLCJpc09iamVjdCIsImlzRnVuY3Rpb24iLCJleHRlbmQiLCJkZWZhdWx0cyIsImNsb25lIiwibWVyZ2UiXSxmdW5jdGlvbih0KXtLVFt0XT15X1t0XX0pLHFNLmV4dGVuZCh7dHlwZToic2VyaWVzLmxpbmUiLGRlcGVuZGVuY2llczpbImdyaWQiLCJwb2xhciJdLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFVzKHRoaXMuZ2V0U291cmNlKCksdGhpcyl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLGNsaXBPdmVyZmxvdzohMCxsYWJlbDp7cG9zaXRpb246InRvcCJ9LGxpbmVTdHlsZTp7d2lkdGg6Mix0eXBlOiJzb2xpZCJ9LHN0ZXA6ITEsc21vb3RoOiExLHNtb290aE1vbm90b25lOm51bGwsc3ltYm9sOiJlbXB0eUNpcmNsZSIsc3ltYm9sU2l6ZTo0LHN5bWJvbFJvdGF0ZTpudWxsLHNob3dTeW1ib2w6ITAsc2hvd0FsbFN5bWJvbDoiYXV0byIsY29ubmVjdE51bGxzOiExLHNhbXBsaW5nOiJub25lIixhbmltYXRpb25FYXNpbmc6ImxpbmVhciIscHJvZ3Jlc3NpdmU6MCxob3ZlckxheWVyVGhyZXNob2xkOjEvMH19KTt2YXIgJFQ9WWwucHJvdG90eXBlLEpUPVlsLmdldFN5bWJvbFNpemU9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sU2l6ZSIpO3JldHVybiBpIGluc3RhbmNlb2YgQXJyYXk/aS5zbGljZSgpOlsraSwraV19OyRULl9jcmVhdGVTeW1ib2w9ZnVuY3Rpb24odCxlLGksbixvKXt0aGlzLnJlbW92ZUFsbCgpO3ZhciBhPUlsKHQsLTEsLTEsMiwyLGUuZ2V0SXRlbVZpc3VhbChpLCJjb2xvciIpLG8pO2EuYXR0cih7ejI6MTAwLGN1bGxpbmc6ITAsc2NhbGU6cWwobil9KSxhLmRyaWZ0PUtsLHRoaXMuX3N5bWJvbFR5cGU9dCx0aGlzLmFkZChhKX0sJFQuc3RvcFN5bWJvbEFuaW1hdGlvbj1mdW5jdGlvbih0KXt0aGlzLmNoaWxkQXQoMCkuc3RvcEFuaW1hdGlvbih0KX0sJFQuZ2V0U3ltYm9sUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkQXQoMCl9LCRULmdldFNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRBdCgwKS5zY2FsZX0sJFQuaGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dGhpcy5jaGlsZEF0KDApLnRyaWdnZXIoImVtcGhhc2lzIil9LCRULmRvd25wbGF5PWZ1bmN0aW9uKCl7dGhpcy5jaGlsZEF0KDApLnRyaWdnZXIoIm5vcm1hbCIpfSwkVC5zZXRaPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jaGlsZEF0KDApO2kuemxldmVsPXQsaS56PWV9LCRULnNldERyYWdnYWJsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoaWxkQXQoMCk7ZS5kcmFnZ2FibGU9dCxlLmN1cnNvcj10PyJtb3ZlIjoicG9pbnRlciJ9LCRULnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLGkpe3RoaXMuc2lsZW50PSExO3ZhciBuPXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2wiKXx8ImNpcmNsZSIsbz10Lmhvc3RNb2RlbCxhPUpUKHQsZSkscj1uIT09dGhpcy5fc3ltYm9sVHlwZTtpZihyKXt2YXIgcz10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sS2VlcEFzcGVjdCIpO3RoaXMuX2NyZWF0ZVN5bWJvbChuLHQsZSxhLHMpfWVsc2UobD10aGlzLmNoaWxkQXQoMCkpLnNpbGVudD0hMSxmbyhsLHtzY2FsZTpxbChhKX0sbyxlKTtpZih0aGlzLl91cGRhdGVDb21tb24odCxlLGEsaSkscil7dmFyIGw9dGhpcy5jaGlsZEF0KDApLHU9aSYmaS5mYWRlSW4saD17c2NhbGU6bC5zY2FsZS5zbGljZSgpfTt1JiYoaC5zdHlsZT17b3BhY2l0eTpsLnN0eWxlLm9wYWNpdHl9KSxsLnNjYWxlPVswLDBdLHUmJihsLnN0eWxlLm9wYWNpdHk9MCkscG8obCxoLG8sZSl9dGhpcy5fc2VyaWVzTW9kZWw9b307dmFyIFFUPVsiaXRlbVN0eWxlIl0sdEQ9WyJlbXBoYXNpcyIsIml0ZW1TdHlsZSJdLGVEPVsibGFiZWwiXSxpRD1bImVtcGhhc2lzIiwibGFiZWwiXTskVC5fdXBkYXRlQ29tbW9uPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuY2hpbGRBdCgwKSxyPXQuaG9zdE1vZGVsLHM9dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIik7ImltYWdlIiE9PW8udHlwZSYmby51c2VTdHlsZSh7c3Ryb2tlTm9TY2FsZTohMH0pO3ZhciBsPW4mJm4uaXRlbVN0eWxlLHU9biYmbi5ob3Zlckl0ZW1TdHlsZSxoPW4mJm4uc3ltYm9sUm90YXRlLGM9biYmbi5zeW1ib2xPZmZzZXQsZD1uJiZuLmxhYmVsTW9kZWwsZj1uJiZuLmhvdmVyTGFiZWxNb2RlbCxwPW4mJm4uaG92ZXJBbmltYXRpb24sZz1uJiZuLmN1cnNvclN0eWxlO2lmKCFufHx0Lmhhc0l0ZW1PcHRpb24pe3ZhciBtPW4mJm4uaXRlbU1vZGVsP24uaXRlbU1vZGVsOnQuZ2V0SXRlbU1vZGVsKGUpO2w9bS5nZXRNb2RlbChRVCkuZ2V0SXRlbVN0eWxlKFsiY29sb3IiXSksdT1tLmdldE1vZGVsKHREKS5nZXRJdGVtU3R5bGUoKSxoPW0uZ2V0U2hhbGxvdygic3ltYm9sUm90YXRlIiksYz1tLmdldFNoYWxsb3coInN5bWJvbE9mZnNldCIpLGQ9bS5nZXRNb2RlbChlRCksZj1tLmdldE1vZGVsKGlEKSxwPW0uZ2V0U2hhbGxvdygiaG92ZXJBbmltYXRpb24iKSxnPW0uZ2V0U2hhbGxvdygiY3Vyc29yIil9ZWxzZSB1PWEoe30sdSk7dmFyIHY9by5zdHlsZTtvLmF0dHIoInJvdGF0aW9uIiwoaHx8MCkqTWF0aC5QSS8xODB8fDApLGMmJm8uYXR0cigicG9zaXRpb24iLFtEbyhjWzBdLGlbMF0pLERvKGNbMV0saVsxXSldKSxnJiZvLmF0dHIoImN1cnNvciIsZyksby5zZXRDb2xvcihzLG4mJm4uc3ltYm9sSW5uZXJDb2xvciksby5zZXRTdHlsZShsKTt2YXIgeT10LmdldEl0ZW1WaXN1YWwoZSwib3BhY2l0eSIpO251bGwhPXkmJih2Lm9wYWNpdHk9eSk7dmFyIHg9dC5nZXRJdGVtVmlzdWFsKGUsImxpZnRaIiksXz1vLl9fejJPcmlnaW47bnVsbCE9eD9udWxsPT1fJiYoby5fX3oyT3JpZ2luPW8uejIsby56Mis9eCk6bnVsbCE9XyYmKG8uejI9XyxvLl9fejJPcmlnaW49bnVsbCk7dmFyIHc9biYmbi51c2VOYW1lTGFiZWw7aW8odix1LGQsZix7bGFiZWxGZXRjaGVyOnIsbGFiZWxEYXRhSW5kZXg6ZSxkZWZhdWx0VGV4dDpmdW5jdGlvbihlLGkpe3JldHVybiB3P3QuZ2V0TmFtZShlKTpqbCh0LGUpfSxpc1JlY3RUZXh0OiEwLGF1dG9Db2xvcjpzfSksby5vZmYoIm1vdXNlb3ZlciIpLm9mZigibW91c2VvdXQiKS5vZmYoImVtcGhhc2lzIikub2ZmKCJub3JtYWwiKSxvLmhvdmVyU3R5bGU9dSxlbyhvKTt2YXIgYj1xbChpKTtpZihwJiZyLmlzQW5pbWF0aW9uRW5hYmxlZCgpKXt2YXIgUz1mdW5jdGlvbigpe2lmKCF0aGlzLmluY3JlbWVudGFsKXt2YXIgdD1iWzFdL2JbMF07dGhpcy5hbmltYXRlVG8oe3NjYWxlOltNYXRoLm1heCgxLjEqYlswXSxiWzBdKzMpLE1hdGgubWF4KDEuMSpiWzFdLGJbMV0rMyp0KV19LDQwMCwiZWxhc3RpY091dCIpfX0sTT1mdW5jdGlvbigpe3RoaXMuaW5jcmVtZW50YWx8fHRoaXMuYW5pbWF0ZVRvKHtzY2FsZTpifSw0MDAsImVsYXN0aWNPdXQiKX07by5vbigibW91c2VvdmVyIixTKS5vbigibW91c2VvdXQiLE0pLm9uKCJlbXBoYXNpcyIsUykub24oIm5vcm1hbCIsTSl9fSwkVC5mYWRlT3V0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jaGlsZEF0KDApO3RoaXMuc2lsZW50PWkuc2lsZW50PSEwLCEoZSYmZS5rZWVwTGFiZWwpJiYoaS5zdHlsZS50ZXh0PW51bGwpLGZvKGkse3N0eWxlOntvcGFjaXR5OjB9LHNjYWxlOlswLDBdfSx0aGlzLl9zZXJpZXNNb2RlbCx0aGlzLmRhdGFJbmRleCx0KX0sdShZbCxydyk7dmFyIG5EPSRsLnByb3RvdHlwZTtuRC51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSl7ZT1RbChlKTt2YXIgaT10aGlzLmdyb3VwLG49dC5ob3N0TW9kZWwsbz10aGlzLl9kYXRhLGE9dGhpcy5fc3ltYm9sQ3RvcixyPXR1KHQpO298fGkucmVtb3ZlQWxsKCksdC5kaWZmKG8pLmFkZChmdW5jdGlvbihuKXt2YXIgbz10LmdldEl0ZW1MYXlvdXQobik7aWYoSmwodCxvLG4sZSkpe3ZhciBzPW5ldyBhKHQsbixyKTtzLmF0dHIoInBvc2l0aW9uIixvKSx0LnNldEl0ZW1HcmFwaGljRWwobixzKSxpLmFkZChzKX19KS51cGRhdGUoZnVuY3Rpb24ocyxsKXt2YXIgdT1vLmdldEl0ZW1HcmFwaGljRWwobCksaD10LmdldEl0ZW1MYXlvdXQocyk7SmwodCxoLHMsZSk/KHU/KHUudXBkYXRlRGF0YSh0LHMsciksZm8odSx7cG9zaXRpb246aH0sbikpOih1PW5ldyBhKHQscykpLmF0dHIoInBvc2l0aW9uIixoKSxpLmFkZCh1KSx0LnNldEl0ZW1HcmFwaGljRWwocyx1KSk6aS5yZW1vdmUodSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9by5nZXRJdGVtR3JhcGhpY0VsKHQpO2UmJmUuZmFkZU91dChmdW5jdGlvbigpe2kucmVtb3ZlKGUpfSl9KS5leGVjdXRlKCksdGhpcy5fZGF0YT10fSxuRC5pc1BlcnNpc3RlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbkQudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YTt0JiZ0LmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKGUsaSl7dmFyIG49dC5nZXRJdGVtTGF5b3V0KGkpO2UuYXR0cigicG9zaXRpb24iLG4pfSl9LG5ELmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zZXJpZXNTY29wZT10dSh0KSx0aGlzLl9kYXRhPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sbkQuaW5jcmVtZW50YWxVcGRhdGU9ZnVuY3Rpb24odCxlLGkpe2k9UWwoaSk7Zm9yKHZhciBuPXQuc3RhcnQ7bjx0LmVuZDtuKyspe3ZhciBvPWUuZ2V0SXRlbUxheW91dChuKTtpZihKbChlLG8sbixpKSl7dmFyIGE9bmV3IHRoaXMuX3N5bWJvbEN0b3IoZSxuLHRoaXMuX3Nlcmllc1Njb3BlKTthLnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3QuaXNHcm91cHx8KHQuaW5jcmVtZW50YWw9dC51c2VIb3ZlckxheWVyPSEwKX0pLGEuYXR0cigicG9zaXRpb24iLG8pLHRoaXMuZ3JvdXAuYWRkKGEpLGUuc2V0SXRlbUdyYXBoaWNFbChuLGEpfX19LG5ELnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdyb3VwLGk9dGhpcy5fZGF0YTtpJiZ0P2kuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCl7dC5mYWRlT3V0KGZ1bmN0aW9uKCl7ZS5yZW1vdmUodCl9KX0pOmUucmVtb3ZlQWxsKCl9O3ZhciBvRD1mdW5jdGlvbih0LGUsaSxuLG8sYSxyLHMpe2Zvcih2YXIgbD1vdSh0LGUpLHU9W10saD1bXSxjPVtdLGQ9W10sZj1bXSxwPVtdLGc9W10sbT1ldShvLGUsciksdj1ldShhLHQscykseT0wO3k8bC5sZW5ndGg7eSsrKXt2YXIgeD1sW3ldLF89ITA7c3dpdGNoKHguY21kKXtjYXNlIj0iOnZhciB3PXQuZ2V0SXRlbUxheW91dCh4LmlkeCksYj1lLmdldEl0ZW1MYXlvdXQoeC5pZHgxKTsoaXNOYU4od1swXSl8fGlzTmFOKHdbMV0pKSYmKHc9Yi5zbGljZSgpKSx1LnB1c2godyksaC5wdXNoKGIpLGMucHVzaChpW3guaWR4XSksZC5wdXNoKG5beC5pZHgxXSksZy5wdXNoKGUuZ2V0UmF3SW5kZXgoeC5pZHgxKSk7YnJlYWs7Y2FzZSIrIjpTPXguaWR4O3UucHVzaChvLmRhdGFUb1BvaW50KFtlLmdldChtLmRhdGFEaW1zRm9yUG9pbnRbMF0sUyksZS5nZXQobS5kYXRhRGltc0ZvclBvaW50WzFdLFMpXSkpLGgucHVzaChlLmdldEl0ZW1MYXlvdXQoUykuc2xpY2UoKSksYy5wdXNoKG51KG0sbyxlLFMpKSxkLnB1c2gobltTXSksZy5wdXNoKGUuZ2V0UmF3SW5kZXgoUykpO2JyZWFrO2Nhc2UiLSI6dmFyIFM9eC5pZHgsTT10LmdldFJhd0luZGV4KFMpO00hPT1TPyh1LnB1c2godC5nZXRJdGVtTGF5b3V0KFMpKSxoLnB1c2goYS5kYXRhVG9Qb2ludChbdC5nZXQodi5kYXRhRGltc0ZvclBvaW50WzBdLFMpLHQuZ2V0KHYuZGF0YURpbXNGb3JQb2ludFsxXSxTKV0pKSxjLnB1c2goaVtTXSksZC5wdXNoKG51KHYsYSx0LFMpKSxnLnB1c2goTSkpOl89ITF9XyYmKGYucHVzaCh4KSxwLnB1c2gocC5sZW5ndGgpKX1wLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gZ1t0XS1nW2VdfSk7Zm9yKHZhciBJPVtdLFQ9W10sRD1bXSxBPVtdLEM9W10seT0wO3k8cC5sZW5ndGg7eSsrKXtTPXBbeV07SVt5XT11W1NdLFRbeV09aFtTXSxEW3ldPWNbU10sQVt5XT1kW1NdLENbeV09ZltTXX1yZXR1cm57Y3VycmVudDpJLG5leHQ6VCxzdGFja2VkT25DdXJyZW50OkQsc3RhY2tlZE9uTmV4dDpBLHN0YXR1czpDfX0sYUQ9dHQsckQ9ZXQsc0Q9WixsRD1HLHVEPVtdLGhEPVtdLGNEPVtdLGREPUluLmV4dGVuZCh7dHlwZToiZWMtcG9seWxpbmUiLHNoYXBlOntwb2ludHM6W10sc21vb3RoOjAsc21vb3RoQ29uc3RyYWludDohMCxzbW9vdGhNb25vdG9uZTpudWxsLGNvbm5lY3ROdWxsczohMX0sc3R5bGU6e2ZpbGw6bnVsbCxzdHJva2U6IiMwMDAifSxicnVzaDpnUyhJbi5wcm90b3R5cGUuYnJ1c2gpLGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUucG9pbnRzLG49MCxvPWkubGVuZ3RoLGE9aHUoaSxlLnNtb290aENvbnN0cmFpbnQpO2lmKGUuY29ubmVjdE51bGxzKXtmb3IoO28+MCYmYXUoaVtvLTFdKTtvLS0pO2Zvcig7bjxvJiZhdShpW25dKTtuKyspO31mb3IoO248bzspbis9cnUodCxpLG4sbyxvLDEsYS5taW4sYS5tYXgsZS5zbW9vdGgsZS5zbW9vdGhNb25vdG9uZSxlLmNvbm5lY3ROdWxscykrMX19KSxmRD1Jbi5leHRlbmQoe3R5cGU6ImVjLXBvbHlnb24iLHNoYXBlOntwb2ludHM6W10sc3RhY2tlZE9uUG9pbnRzOltdLHNtb290aDowLHN0YWNrZWRPblNtb290aDowLHNtb290aENvbnN0cmFpbnQ6ITAsc21vb3RoTW9ub3RvbmU6bnVsbCxjb25uZWN0TnVsbHM6ITF9LGJydXNoOmdTKEluLnByb3RvdHlwZS5icnVzaCksYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5wb2ludHMsbj1lLnN0YWNrZWRPblBvaW50cyxvPTAsYT1pLmxlbmd0aCxyPWUuc21vb3RoTW9ub3RvbmUscz1odShpLGUuc21vb3RoQ29uc3RyYWludCksbD1odShuLGUuc21vb3RoQ29uc3RyYWludCk7aWYoZS5jb25uZWN0TnVsbHMpe2Zvcig7YT4wJiZhdShpW2EtMV0pO2EtLSk7Zm9yKDtvPGEmJmF1KGlbb10pO28rKyk7fWZvcig7bzxhOyl7dmFyIHU9cnUodCxpLG8sYSxhLDEscy5taW4scy5tYXgsZS5zbW9vdGgscixlLmNvbm5lY3ROdWxscyk7cnUodCxuLG8rdS0xLHUsYSwtMSxsLm1pbixsLm1heCxlLnN0YWNrZWRPblNtb290aCxyLGUuY29ubmVjdE51bGxzKSxvKz11KzEsdC5jbG9zZVBhdGgoKX19fSk7Z3IuZXh0ZW5kKHt0eXBlOiJsaW5lIixpbml0OmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHJ3LGU9bmV3ICRsO3RoaXMuZ3JvdXAuYWRkKGUuZ3JvdXApLHRoaXMuX3N5bWJvbERyYXc9ZSx0aGlzLl9saW5lR3JvdXA9dH0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0sbz10aGlzLmdyb3VwLGE9dC5nZXREYXRhKCkscz10LmdldE1vZGVsKCJsaW5lU3R5bGUiKSxsPXQuZ2V0TW9kZWwoImFyZWFTdHlsZSIpLHU9YS5tYXBBcnJheShhLmdldEl0ZW1MYXlvdXQpLGg9InBvbGFyIj09PW4udHlwZSxjPXRoaXMuX2Nvb3JkU3lzLGQ9dGhpcy5fc3ltYm9sRHJhdyxmPXRoaXMuX3BvbHlsaW5lLHA9dGhpcy5fcG9seWdvbixnPXRoaXMuX2xpbmVHcm91cCxtPXQuZ2V0KCJhbmltYXRpb24iKSx2PSFsLmlzRW1wdHkoKSx5PWwuZ2V0KCJvcmlnaW4iKSx4PXB1KG4sYSxldShuLGEseSkpLF89dC5nZXQoInNob3dTeW1ib2wiKSx3PV8mJiFoJiZfdSh0LGEsbiksYj10aGlzLl9kYXRhO2ImJmIuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCxlKXt0Ll9fdGVtcCYmKG8ucmVtb3ZlKHQpLGIuc2V0SXRlbUdyYXBoaWNFbChlLG51bGwpKX0pLF98fGQucmVtb3ZlKCksby5hZGQoZyk7dmFyIFM9IWgmJnQuZ2V0KCJzdGVwIik7ZiYmYy50eXBlPT09bi50eXBlJiZTPT09dGhpcy5fc3RlcD8odiYmIXA/cD10aGlzLl9uZXdQb2x5Z29uKHUseCxuLG0pOnAmJiF2JiYoZy5yZW1vdmUocCkscD10aGlzLl9wb2x5Z29uPW51bGwpLGcuc2V0Q2xpcFBhdGgodnUobiwhMSwhMSx0KSksXyYmZC51cGRhdGVEYXRhKGEse2lzSWdub3JlOncsY2xpcFNoYXBlOnZ1KG4sITEsITAsdCl9KSxhLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQpe3Quc3RvcEFuaW1hdGlvbighMCl9KSxjdSh0aGlzLl9zdGFja2VkT25Qb2ludHMseCkmJmN1KHRoaXMuX3BvaW50cyx1KXx8KG0/dGhpcy5fdXBkYXRlQW5pbWF0aW9uKGEseCxuLGksUyx5KTooUyYmKHU9eXUodSxuLFMpLHg9eXUoeCxuLFMpKSxmLnNldFNoYXBlKHtwb2ludHM6dX0pLHAmJnAuc2V0U2hhcGUoe3BvaW50czp1LHN0YWNrZWRPblBvaW50czp4fSkpKSk6KF8mJmQudXBkYXRlRGF0YShhLHtpc0lnbm9yZTp3LGNsaXBTaGFwZTp2dShuLCExLCEwLHQpfSksUyYmKHU9eXUodSxuLFMpLHg9eXUoeCxuLFMpKSxmPXRoaXMuX25ld1BvbHlsaW5lKHUsbixtKSx2JiYocD10aGlzLl9uZXdQb2x5Z29uKHUseCxuLG0pKSxnLnNldENsaXBQYXRoKHZ1KG4sITAsITEsdCkpKTt2YXIgTT14dShhLG4pfHxhLmdldFZpc3VhbCgiY29sb3IiKTtmLnVzZVN0eWxlKHIocy5nZXRMaW5lU3R5bGUoKSx7ZmlsbDoibm9uZSIsc3Ryb2tlOk0sbGluZUpvaW46ImJldmVsIn0pKTt2YXIgST10LmdldCgic21vb3RoIik7aWYoST1kdSh0LmdldCgic21vb3RoIikpLGYuc2V0U2hhcGUoe3Ntb290aDpJLHNtb290aE1vbm90b25lOnQuZ2V0KCJzbW9vdGhNb25vdG9uZSIpLGNvbm5lY3ROdWxsczp0LmdldCgiY29ubmVjdE51bGxzIil9KSxwKXt2YXIgVD1hLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZE9uU2VyaWVzIiksRD0wO3AudXNlU3R5bGUocihsLmdldEFyZWFTdHlsZSgpLHtmaWxsOk0sb3BhY2l0eTouNyxsaW5lSm9pbjoiYmV2ZWwifSkpLFQmJihEPWR1KFQuZ2V0KCJzbW9vdGgiKSkpLHAuc2V0U2hhcGUoe3Ntb290aDpJLHN0YWNrZWRPblNtb290aDpELHNtb290aE1vbm90b25lOnQuZ2V0KCJzbW9vdGhNb25vdG9uZSIpLGNvbm5lY3ROdWxsczp0LmdldCgiY29ubmVjdE51bGxzIil9KX10aGlzLl9kYXRhPWEsdGhpcy5fY29vcmRTeXM9bix0aGlzLl9zdGFja2VkT25Qb2ludHM9eCx0aGlzLl9wb2ludHM9dSx0aGlzLl9zdGVwPVMsdGhpcy5fdmFsdWVPcmlnaW49eX0sZGlzcG9zZTpmdW5jdGlvbigpe30saGlnaGxpZ2h0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0RGF0YSgpLGE9UGkobyxuKTtpZighKGEgaW5zdGFuY2VvZiBBcnJheSkmJm51bGwhPWEmJmE+PTApe3ZhciByPW8uZ2V0SXRlbUdyYXBoaWNFbChhKTtpZighcil7dmFyIHM9by5nZXRJdGVtTGF5b3V0KGEpO2lmKCFzKXJldHVybjsocj1uZXcgWWwobyxhKSkucG9zaXRpb249cyxyLnNldFoodC5nZXQoInpsZXZlbCIpLHQuZ2V0KCJ6IikpLHIuaWdub3JlPWlzTmFOKHNbMF0pfHxpc05hTihzWzFdKSxyLl9fdGVtcD0hMCxvLnNldEl0ZW1HcmFwaGljRWwoYSxyKSxyLnN0b3BTeW1ib2xBbmltYXRpb24oITApLHRoaXMuZ3JvdXAuYWRkKHIpfXIuaGlnaGxpZ2h0KCl9ZWxzZSBnci5wcm90b3R5cGUuaGlnaGxpZ2h0LmNhbGwodGhpcyx0LGUsaSxuKX0sZG93bnBsYXk6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXREYXRhKCksYT1QaShvLG4pO2lmKG51bGwhPWEmJmE+PTApe3ZhciByPW8uZ2V0SXRlbUdyYXBoaWNFbChhKTtyJiYoci5fX3RlbXA/KG8uc2V0SXRlbUdyYXBoaWNFbChhLG51bGwpLHRoaXMuZ3JvdXAucmVtb3ZlKHIpKTpyLmRvd25wbGF5KCkpfWVsc2UgZ3IucHJvdG90eXBlLmRvd25wbGF5LmNhbGwodGhpcyx0LGUsaSxuKX0sX25ld1BvbHlsaW5lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BvbHlsaW5lO3JldHVybiBlJiZ0aGlzLl9saW5lR3JvdXAucmVtb3ZlKGUpLGU9bmV3IGREKHtzaGFwZTp7cG9pbnRzOnR9LHNpbGVudDohMCx6MjoxMH0pLHRoaXMuX2xpbmVHcm91cC5hZGQoZSksdGhpcy5fcG9seWxpbmU9ZSxlfSxfbmV3UG9seWdvbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3BvbHlnb247cmV0dXJuIGkmJnRoaXMuX2xpbmVHcm91cC5yZW1vdmUoaSksaT1uZXcgZkQoe3NoYXBlOntwb2ludHM6dCxzdGFja2VkT25Qb2ludHM6ZX0sc2lsZW50OiEwfSksdGhpcy5fbGluZUdyb3VwLmFkZChpKSx0aGlzLl9wb2x5Z29uPWksaX0sX3VwZGF0ZUFuaW1hdGlvbjpmdW5jdGlvbih0LGUsaSxuLG8sYSl7dmFyIHI9dGhpcy5fcG9seWxpbmUscz10aGlzLl9wb2x5Z29uLGw9dC5ob3N0TW9kZWwsdT1vRCh0aGlzLl9kYXRhLHQsdGhpcy5fc3RhY2tlZE9uUG9pbnRzLGUsdGhpcy5fY29vcmRTeXMsaSx0aGlzLl92YWx1ZU9yaWdpbixhKSxoPXUuY3VycmVudCxjPXUuc3RhY2tlZE9uQ3VycmVudCxkPXUubmV4dCxmPXUuc3RhY2tlZE9uTmV4dDtvJiYoaD15dSh1LmN1cnJlbnQsaSxvKSxjPXl1KHUuc3RhY2tlZE9uQ3VycmVudCxpLG8pLGQ9eXUodS5uZXh0LGksbyksZj15dSh1LnN0YWNrZWRPbk5leHQsaSxvKSksci5zaGFwZS5fX3BvaW50cz11LmN1cnJlbnQsci5zaGFwZS5wb2ludHM9aCxmbyhyLHtzaGFwZTp7cG9pbnRzOmR9fSxsKSxzJiYocy5zZXRTaGFwZSh7cG9pbnRzOmgsc3RhY2tlZE9uUG9pbnRzOmN9KSxmbyhzLHtzaGFwZTp7cG9pbnRzOmQsc3RhY2tlZE9uUG9pbnRzOmZ9fSxsKSk7Zm9yKHZhciBwPVtdLGc9dS5zdGF0dXMsbT0wO208Zy5sZW5ndGg7bSsrKWlmKCI9Ij09PWdbbV0uY21kKXt2YXIgdj10LmdldEl0ZW1HcmFwaGljRWwoZ1ttXS5pZHgxKTt2JiZwLnB1c2goe2VsOnYscHRJZHg6bX0pfXIuYW5pbWF0b3JzJiZyLmFuaW1hdG9ycy5sZW5ndGgmJnIuYW5pbWF0b3JzWzBdLmR1cmluZyhmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8cC5sZW5ndGg7dCsrKXBbdF0uZWwuYXR0cigicG9zaXRpb24iLHIuc2hhcGUuX19wb2ludHNbcFt0XS5wdElkeF0pfSl9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdyb3VwLGk9dGhpcy5fZGF0YTt0aGlzLl9saW5lR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoITApLGkmJmkuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCxuKXt0Ll9fdGVtcCYmKGUucmVtb3ZlKHQpLGkuc2V0SXRlbUdyYXBoaWNFbChuLG51bGwpKX0pLHRoaXMuX3BvbHlsaW5lPXRoaXMuX3BvbHlnb249dGhpcy5fY29vcmRTeXM9dGhpcy5fcG9pbnRzPXRoaXMuX3N0YWNrZWRPblBvaW50cz10aGlzLl9kYXRhPW51bGx9fSk7dmFyIHBEPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm57c2VyaWVzVHlwZTp0LHBlcmZvcm1SYXdTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24odCxuLG8pe3ZhciBhPXQuZ2V0RGF0YSgpLHI9dC5nZXQoInN5bWJvbCIpfHxlLHM9dC5nZXQoInN5bWJvbFNpemUiKSxsPXQuZ2V0KCJzeW1ib2xLZWVwQXNwZWN0Iik7aWYoYS5zZXRWaXN1YWwoe2xlZ2VuZFN5bWJvbDppfHxyLHN5bWJvbDpyLHN5bWJvbFNpemU6cyxzeW1ib2xLZWVwQXNwZWN0Omx9KSwhbi5pc1Nlcmllc0ZpbHRlcmVkKHQpKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcztyZXR1cm57ZGF0YUVhY2g6YS5oYXNJdGVtT3B0aW9ufHx1P2Z1bmN0aW9uKGUsaSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHMpe3ZhciBuPXQuZ2V0UmF3VmFsdWUoaSksbz10LmdldERhdGFQYXJhbXMoaSk7ZS5zZXRJdGVtVmlzdWFsKGksInN5bWJvbFNpemUiLHMobixvKSl9aWYoZS5oYXNJdGVtT3B0aW9uKXt2YXIgYT1lLmdldEl0ZW1Nb2RlbChpKSxyPWEuZ2V0U2hhbGxvdygic3ltYm9sIiwhMCksbD1hLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKSx1PWEuZ2V0U2hhbGxvdygic3ltYm9sS2VlcEFzcGVjdCIsITApO251bGwhPXImJmUuc2V0SXRlbVZpc3VhbChpLCJzeW1ib2wiLHIpLG51bGwhPWwmJmUuc2V0SXRlbVZpc3VhbChpLCJzeW1ib2xTaXplIixsKSxudWxsIT11JiZlLnNldEl0ZW1WaXN1YWwoaSwic3ltYm9sS2VlcEFzcGVjdCIsdSl9fTpudWxsfX19fX0sZ0Q9ZnVuY3Rpb24odCl7cmV0dXJue3Nlcmllc1R5cGU6dCxwbGFuOkpNKCkscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT10LmNvb3JkaW5hdGVTeXN0ZW0sbj10LnBpcGVsaW5lQ29udGV4dC5sYXJnZTtpZihpKXt2YXIgbz1mKGkuZGltZW5zaW9ucyxmdW5jdGlvbih0KXtyZXR1cm4gZS5tYXBEaW1lbnNpb24odCl9KS5zbGljZSgwLDIpLGE9by5sZW5ndGgscj1lLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tSZXN1bHREaW1lbnNpb24iKTtyZXR1cm4gWnMoZSxvWzBdLG9bMV0pJiYob1swXT1yKSxacyhlLG9bMV0sb1swXSkmJihvWzFdPXIpLGEmJntwcm9ncmVzczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10LmVuZC10LnN0YXJ0LHM9biYmbmV3IEZsb2F0MzJBcnJheShyKmEpLGw9dC5zdGFydCx1PTAsaD1bXSxjPVtdO2w8dC5lbmQ7bCsrKXt2YXIgZDtpZigxPT09YSlmPWUuZ2V0KG9bMF0sbCksZD0haXNOYU4oZikmJmkuZGF0YVRvUG9pbnQoZixudWxsLGMpO2Vsc2V7dmFyIGY9aFswXT1lLmdldChvWzBdLGwpLHA9aFsxXT1lLmdldChvWzFdLGwpO2Q9IWlzTmFOKGYpJiYhaXNOYU4ocCkmJmkuZGF0YVRvUG9pbnQoaCxudWxsLGMpfW4/KHNbdSsrXT1kP2RbMF06TmFOLHNbdSsrXT1kP2RbMV06TmFOKTplLnNldEl0ZW1MYXlvdXQobCxkJiZkLnNsaWNlKCl8fFtOYU4sTmFOXSl9biYmZS5zZXRMYXlvdXQoInN5bWJvbFBvaW50cyIscyl9fX19fX0sbUQ9e2F2ZXJhZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT0wLG49MDtuPHQubGVuZ3RoO24rKylpc05hTih0W25dKXx8KGUrPXRbbl0saSsrKTtyZXR1cm4gMD09PWk/TmFOOmUvaX0sc3VtOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9MDtpPHQubGVuZ3RoO2krKyllKz10W2ldfHwwO3JldHVybiBlfSxtYXg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPS0xLzAsaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV0+ZSYmKGU9dFtpXSk7cmV0dXJuIGlzRmluaXRlKGUpP2U6TmFOfSxtaW46ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTEvMCxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXTxlJiYoZT10W2ldKTtyZXR1cm4gaXNGaW5pdGUoZSk/ZTpOYU59LG5lYXJlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19fSx2RD1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnJvdW5kKHQubGVuZ3RoLzIpfSx5RD1mdW5jdGlvbih0KXt0aGlzLl9heGVzPXt9LHRoaXMuX2RpbUxpc3Q9W10sdGhpcy5uYW1lPXR8fCIifTt5RC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnlELHR5cGU6ImNhcnRlc2lhbiIsZ2V0QXhpczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXhlc1t0XX0sZ2V0QXhlczpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuX2RpbUxpc3QsYnUsdGhpcyl9LGdldEF4ZXNCeVNjYWxlOmZ1bmN0aW9uKHQpe3JldHVybiB0PXQudG9Mb3dlckNhc2UoKSxnKHRoaXMuZ2V0QXhlcygpLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNjYWxlLnR5cGU9PT10fSl9LGFkZEF4aXM6ZnVuY3Rpb24odCl7dmFyIGU9dC5kaW07dGhpcy5fYXhlc1tlXT10LHRoaXMuX2RpbUxpc3QucHVzaChlKX0sZGF0YVRvQ29vcmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RhdGFDb29yZENvbnZlcnQodCwiZGF0YVRvQ29vcmQiKX0sY29vcmRUb0RhdGE6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RhdGFDb29yZENvbnZlcnQodCwiY29vcmRUb0RhdGEiKX0sX2RhdGFDb29yZENvbnZlcnQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5fZGltTGlzdCxuPXQgaW5zdGFuY2VvZiBBcnJheT9bXTp7fSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBhPWlbb10scj10aGlzLl9heGVzW2FdO25bYV09cltlXSh0W2FdKX1yZXR1cm4gbn19LFN1LnByb3RvdHlwZT17Y29uc3RydWN0b3I6U3UsdHlwZToiY2FydGVzaWFuMmQiLGRpbWVuc2lvbnM6WyJ4IiwieSJdLGdldEJhc2VBeGlzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QXhlc0J5U2NhbGUoIm9yZGluYWwiKVswXXx8dGhpcy5nZXRBeGVzQnlTY2FsZSgidGltZSIpWzBdfHx0aGlzLmdldEF4aXMoIngiKX0sY29udGFpblBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXhpcygieCIpLGk9dGhpcy5nZXRBeGlzKCJ5Iik7cmV0dXJuIGUuY29udGFpbihlLnRvTG9jYWxDb29yZCh0WzBdKSkmJmkuY29udGFpbihpLnRvTG9jYWxDb29yZCh0WzFdKSl9LGNvbnRhaW5EYXRhOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEF4aXMoIngiKS5jb250YWluRGF0YSh0WzBdKSYmdGhpcy5nZXRBeGlzKCJ5IikuY29udGFpbkRhdGEodFsxXSl9LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmdldEF4aXMoIngiKSxvPXRoaXMuZ2V0QXhpcygieSIpO3JldHVybiBpPWl8fFtdLGlbMF09bi50b0dsb2JhbENvb3JkKG4uZGF0YVRvQ29vcmQodFswXSkpLGlbMV09by50b0dsb2JhbENvb3JkKG8uZGF0YVRvQ29vcmQodFsxXSkpLGl9LGNsYW1wRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0QXhpcygieCIpLnNjYWxlLG49dGhpcy5nZXRBeGlzKCJ5Iikuc2NhbGUsbz1pLmdldEV4dGVudCgpLGE9bi5nZXRFeHRlbnQoKSxyPWkucGFyc2UodFswXSkscz1uLnBhcnNlKHRbMV0pO3JldHVybiBlPWV8fFtdLGVbMF09TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5taW4ob1swXSxvWzFdKSxyKSxNYXRoLm1heChvWzBdLG9bMV0pKSxlWzFdPU1hdGgubWluKE1hdGgubWF4KE1hdGgubWluKGFbMF0sYVsxXSkscyksTWF0aC5tYXgoYVswXSxhWzFdKSksZX0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEF4aXMoIngiKSxuPXRoaXMuZ2V0QXhpcygieSIpO3JldHVybiBlPWV8fFtdLGVbMF09aS5jb29yZFRvRGF0YShpLnRvTG9jYWxDb29yZCh0WzBdKSksZVsxXT1uLmNvb3JkVG9EYXRhKG4udG9Mb2NhbENvb3JkKHRbMV0pKSxlfSxnZXRPdGhlckF4aXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0QXhpcygieCI9PT10LmRpbT8ieSI6IngiKX19LHUoU3UseUQpO3ZhciB4RD1mdW5jdGlvbih0LGUsaSxuLG8pe1lULmNhbGwodGhpcyx0LGUsaSksdGhpcy50eXBlPW58fCJ2YWx1ZSIsdGhpcy5wb3NpdGlvbj1vfHwiYm90dG9tIn07eEQucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp4RCxpbmRleDowLGdldEF4ZXNPblplcm9PZjpudWxsLG1vZGVsOm51bGwsaXNIb3Jpem9udGFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb3NpdGlvbjtyZXR1cm4idG9wIj09PXR8fCJib3R0b20iPT09dH0sZ2V0R2xvYmFsRXh0ZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RXh0ZW50KCk7cmV0dXJuIGVbMF09dGhpcy50b0dsb2JhbENvb3JkKGVbMF0pLGVbMV09dGhpcy50b0dsb2JhbENvb3JkKGVbMV0pLHQmJmVbMF0+ZVsxXSYmZS5yZXZlcnNlKCksZX0sZ2V0T3RoZXJBeGlzOmZ1bmN0aW9uKCl7dGhpcy5ncmlkLmdldE90aGVyQXhpcygpfSxwb2ludFRvRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvb3JkVG9EYXRhKHRoaXMudG9Mb2NhbENvb3JkKHRbIngiPT09dGhpcy5kaW0/MDoxXSksZSl9LHRvTG9jYWxDb29yZDpudWxsLHRvR2xvYmFsQ29vcmQ6bnVsbH0sdSh4RCxZVCk7dmFyIF9EPXtzaG93OiEwLHpsZXZlbDowLHo6MCxpbnZlcnNlOiExLG5hbWU6IiIsbmFtZUxvY2F0aW9uOiJlbmQiLG5hbWVSb3RhdGU6bnVsbCxuYW1lVHJ1bmNhdGU6e21heFdpZHRoOm51bGwsZWxsaXBzaXM6Ii4uLiIscGxhY2Vob2xkZXI6Ii4ifSxuYW1lVGV4dFN0eWxlOnt9LG5hbWVHYXA6MTUsc2lsZW50OiExLHRyaWdnZXJFdmVudDohMSx0b29sdGlwOntzaG93OiExfSxheGlzUG9pbnRlcjp7fSxheGlzTGluZTp7c2hvdzohMCxvblplcm86ITAsb25aZXJvQXhpc0luZGV4Om51bGwsbGluZVN0eWxlOntjb2xvcjoiIzMzMyIsd2lkdGg6MSx0eXBlOiJzb2xpZCJ9LHN5bWJvbDpbIm5vbmUiLCJub25lIl0sc3ltYm9sU2l6ZTpbMTAsMTVdfSxheGlzVGljazp7c2hvdzohMCxpbnNpZGU6ITEsbGVuZ3RoOjUsbGluZVN0eWxlOnt3aWR0aDoxfX0sYXhpc0xhYmVsOntzaG93OiEwLGluc2lkZTohMSxyb3RhdGU6MCxzaG93TWluTGFiZWw6bnVsbCxzaG93TWF4TGFiZWw6bnVsbCxtYXJnaW46OCxmb250U2l6ZToxMn0sc3BsaXRMaW5lOntzaG93OiEwLGxpbmVTdHlsZTp7Y29sb3I6WyIjY2NjIl0sd2lkdGg6MSx0eXBlOiJzb2xpZCJ9fSxzcGxpdEFyZWE6e3Nob3c6ITEsYXJlYVN0eWxlOntjb2xvcjpbInJnYmEoMjUwLDI1MCwyNTAsMC4zKSIsInJnYmEoMjAwLDIwMCwyMDAsMC4zKSJdfX19LHdEPXt9O3dELmNhdGVnb3J5QXhpcz1uKHtib3VuZGFyeUdhcDohMCxkZWR1cGxpY2F0aW9uOm51bGwsc3BsaXRMaW5lOntzaG93OiExfSxheGlzVGljazp7YWxpZ25XaXRoTGFiZWw6ITEsaW50ZXJ2YWw6ImF1dG8ifSxheGlzTGFiZWw6e2ludGVydmFsOiJhdXRvIn19LF9EKSx3RC52YWx1ZUF4aXM9bih7Ym91bmRhcnlHYXA6WzAsMF0sc3BsaXROdW1iZXI6NX0sX0QpLHdELnRpbWVBeGlzPXIoe3NjYWxlOiEwLG1pbjoiZGF0YU1pbiIsbWF4OiJkYXRhTWF4In0sd0QudmFsdWVBeGlzKSx3RC5sb2dBeGlzPXIoe3NjYWxlOiEwLGxvZ0Jhc2U6MTB9LHdELnZhbHVlQXhpcyk7dmFyIGJEPVsidmFsdWUiLCJjYXRlZ29yeSIsInRpbWUiLCJsb2ciXSxTRD1mdW5jdGlvbih0LGUsaSxhKXtkKGJELGZ1bmN0aW9uKHIpe2UuZXh0ZW5kKHt0eXBlOnQrIkF4aXMuIityLG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKGUsbyl7dmFyIGE9dGhpcy5sYXlvdXRNb2RlLHM9YT9uYShlKTp7fTtuKGUsby5nZXRUaGVtZSgpLmdldChyKyJBeGlzIikpLG4oZSx0aGlzLmdldERlZmF1bHRPcHRpb24oKSksZS50eXBlPWkodCxlKSxhJiZpYShlLHMsYSl9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXsiY2F0ZWdvcnkiPT09dGhpcy5vcHRpb24udHlwZSYmKHRoaXMuX19vcmRpbmFsTWV0YT1xcy5jcmVhdGVCeUF4aXNNb2RlbCh0aGlzKSl9LGdldENhdGVnb3JpZXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247aWYoImNhdGVnb3J5Ij09PWUudHlwZSlyZXR1cm4gdD9lLmRhdGE6dGhpcy5fX29yZGluYWxNZXRhLmNhdGVnb3JpZXN9LGdldE9yZGluYWxNZXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19vcmRpbmFsTWV0YX0sZGVmYXVsdE9wdGlvbjpvKFt7fSx3RFtyKyJBeGlzIl0sYV0sITApfSl9KSx1TS5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIodCsiQXhpcyIsdihpLHQpKX0sTUQ9dU0uZXh0ZW5kKHt0eXBlOiJjYXJ0ZXNpYW4yZEF4aXMiLGF4aXM6bnVsbCxpbml0OmZ1bmN0aW9uKCl7TUQuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMucmVzZXRSYW5nZSgpfSxtZXJnZU9wdGlvbjpmdW5jdGlvbigpe01ELnN1cGVyQXBwbHkodGhpcywibWVyZ2VPcHRpb24iLGFyZ3VtZW50cyksdGhpcy5yZXNldFJhbmdlKCl9LHJlc3RvcmVEYXRhOmZ1bmN0aW9uKCl7TUQuc3VwZXJBcHBseSh0aGlzLCJyZXN0b3JlRGF0YSIsYXJndW1lbnRzKSx0aGlzLnJlc2V0UmFuZ2UoKX0sZ2V0Q29vcmRTeXNNb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVjTW9kZWwucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToiZ3JpZCIsaW5kZXg6dGhpcy5vcHRpb24uZ3JpZEluZGV4LGlkOnRoaXMub3B0aW9uLmdyaWRJZH0pWzBdfX0pO24oTUQucHJvdG90eXBlLE9UKTt2YXIgSUQ9e29mZnNldDowfTtTRCgieCIsTUQsTXUsSUQpLFNEKCJ5IixNRCxNdSxJRCksdU0uZXh0ZW5kKHt0eXBlOiJncmlkIixkZXBlbmRlbmNpZXM6WyJ4QXhpcyIsInlBeGlzIl0sbGF5b3V0TW9kZToiYm94Iixjb29yZGluYXRlU3lzdGVtOm51bGwsZGVmYXVsdE9wdGlvbjp7c2hvdzohMSx6bGV2ZWw6MCx6OjAsbGVmdDoiMTAlIix0b3A6NjAscmlnaHQ6IjEwJSIsYm90dG9tOjYwLGNvbnRhaW5MYWJlbDohMSxiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6IiNjY2MifX0pO3ZhciBURD1UdS5wcm90b3R5cGU7VEQudHlwZT0iZ3JpZCIsVEQuYXhpc1BvaW50ZXJFbmFibGVkPSEwLFRELmdldFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sVEQudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fYXhlc01hcDt0aGlzLl91cGRhdGVTY2FsZSh0LHRoaXMubW9kZWwpLGQoaS54LGZ1bmN0aW9uKHQpe3ZsKHQuc2NhbGUsdC5tb2RlbCl9KSxkKGkueSxmdW5jdGlvbih0KXt2bCh0LnNjYWxlLHQubW9kZWwpfSksZChpLngsZnVuY3Rpb24odCl7RHUoaSwieSIsdCl9KSxkKGkueSxmdW5jdGlvbih0KXtEdShpLCJ4Iix0KX0pLHRoaXMucmVzaXplKHRoaXMubW9kZWwsZSl9LFRELnJlc2l6ZT1mdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbigpe2QoYSxmdW5jdGlvbih0KXt2YXIgZT10LmlzSG9yaXpvbnRhbCgpLGk9ZT9bMCxvLndpZHRoXTpbMCxvLmhlaWdodF0sbj10LmludmVyc2U/MTowO3Quc2V0RXh0ZW50KGlbbl0saVsxLW5dKSxDdSh0LGU/by54Om8ueSl9KX12YXIgbz1Rbyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KTt0aGlzLl9yZWN0PW87dmFyIGE9dGhpcy5fYXhlc0xpc3Q7bigpLCFpJiZ0LmdldCgiY29udGFpbkxhYmVsIikmJihkKGEsZnVuY3Rpb24odCl7aWYoIXQubW9kZWwuZ2V0KCJheGlzTGFiZWwuaW5zaWRlIikpe3ZhciBlPWJsKHQpO2lmKGUpe3ZhciBpPXQuaXNIb3Jpem9udGFsKCk/ImhlaWdodCI6IndpZHRoIixuPXQubW9kZWwuZ2V0KCJheGlzTGFiZWwubWFyZ2luIik7b1tpXS09ZVtpXStuLCJ0b3AiPT09dC5wb3NpdGlvbj9vLnkrPWUuaGVpZ2h0K246ImxlZnQiPT09dC5wb3NpdGlvbiYmKG8ueCs9ZS53aWR0aCtuKX19fSksbigpKX0sVEQuZ2V0QXhpcz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2F4ZXNNYXBbdF07aWYobnVsbCE9aSl7aWYobnVsbD09ZSlmb3IodmFyIG4gaW4gaSlpZihpLmhhc093blByb3BlcnR5KG4pKXJldHVybiBpW25dO3JldHVybiBpW2VdfX0sVEQuZ2V0QXhlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9heGVzTGlzdC5zbGljZSgpfSxURC5nZXRDYXJ0ZXNpYW49ZnVuY3Rpb24odCxlKXtpZihudWxsIT10JiZudWxsIT1lKXt2YXIgaT0ieCIrdCsieSIrZTtyZXR1cm4gdGhpcy5fY29vcmRzTWFwW2ldfXcodCkmJihlPXQueUF4aXNJbmRleCx0PXQueEF4aXNJbmRleCk7Zm9yKHZhciBuPTAsbz10aGlzLl9jb29yZHNMaXN0O248by5sZW5ndGg7bisrKWlmKG9bbl0uZ2V0QXhpcygieCIpLmluZGV4PT09dHx8b1tuXS5nZXRBeGlzKCJ5IikuaW5kZXg9PT1lKXJldHVybiBvW25dfSxURC5nZXRDYXJ0ZXNpYW5zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvb3Jkc0xpc3Quc2xpY2UoKX0sVEQuY29udmVydFRvUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2ZpbmRDb252ZXJ0VGFyZ2V0KHQsZSk7cmV0dXJuIG4uY2FydGVzaWFuP24uY2FydGVzaWFuLmRhdGFUb1BvaW50KGkpOm4uYXhpcz9uLmF4aXMudG9HbG9iYWxDb29yZChuLmF4aXMuZGF0YVRvQ29vcmQoaSkpOm51bGx9LFRELmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2ZpbmRDb252ZXJ0VGFyZ2V0KHQsZSk7cmV0dXJuIG4uY2FydGVzaWFuP24uY2FydGVzaWFuLnBvaW50VG9EYXRhKGkpOm4uYXhpcz9uLmF4aXMuY29vcmRUb0RhdGEobi5heGlzLnRvTG9jYWxDb29yZChpKSk6bnVsbH0sVEQuX2ZpbmRDb252ZXJ0VGFyZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIGksbixvPWUuc2VyaWVzTW9kZWwsYT1lLnhBeGlzTW9kZWx8fG8mJm8uZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieEF4aXMiKVswXSxyPWUueUF4aXNNb2RlbHx8byYmby5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJ5QXhpcyIpWzBdLHM9ZS5ncmlkTW9kZWwsdT10aGlzLl9jb29yZHNMaXN0O3JldHVybiBvP2wodSxpPW8uY29vcmRpbmF0ZVN5c3RlbSk8MCYmKGk9bnVsbCk6YSYmcj9pPXRoaXMuZ2V0Q2FydGVzaWFuKGEuY29tcG9uZW50SW5kZXgsci5jb21wb25lbnRJbmRleCk6YT9uPXRoaXMuZ2V0QXhpcygieCIsYS5jb21wb25lbnRJbmRleCk6cj9uPXRoaXMuZ2V0QXhpcygieSIsci5jb21wb25lbnRJbmRleCk6cyYmcy5jb29yZGluYXRlU3lzdGVtPT09dGhpcyYmKGk9dGhpcy5fY29vcmRzTGlzdFswXSkse2NhcnRlc2lhbjppLGF4aXM6bn19LFRELmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb29yZHNMaXN0WzBdO2lmKGUpcmV0dXJuIGUuY29udGFpblBvaW50KHQpfSxURC5faW5pdENhcnRlc2lhbj1mdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbihpKXtyZXR1cm4gZnVuY3Rpb24obixzKXtpZihJdShuLHQsZSkpe3ZhciBsPW4uZ2V0KCJwb3NpdGlvbiIpOyJ4Ij09PWk/InRvcCIhPT1sJiYiYm90dG9tIiE9PWwmJm9bbD0iYm90dG9tIl0mJihsPSJ0b3AiPT09bD8iYm90dG9tIjoidG9wIik6ImxlZnQiIT09bCYmInJpZ2h0IiE9PWwmJm9bbD0ibGVmdCJdJiYobD0ibGVmdCI9PT1sPyJyaWdodCI6ImxlZnQiKSxvW2xdPSEwO3ZhciB1PW5ldyB4RChpLHlsKG4pLFswLDBdLG4uZ2V0KCJ0eXBlIiksbCksaD0iY2F0ZWdvcnkiPT09dS50eXBlO3Uub25CYW5kPWgmJm4uZ2V0KCJib3VuZGFyeUdhcCIpLHUuaW52ZXJzZT1uLmdldCgiaW52ZXJzZSIpLG4uYXhpcz11LHUubW9kZWw9bix1LmdyaWQ9dGhpcyx1LmluZGV4PXMsdGhpcy5fYXhlc0xpc3QucHVzaCh1KSxhW2ldW3NdPXUscltpXSsrfX19dmFyIG89e2xlZnQ6ITEscmlnaHQ6ITEsdG9wOiExLGJvdHRvbTohMX0sYT17eDp7fSx5Ont9fSxyPXt4OjAseTowfTtpZihlLmVhY2hDb21wb25lbnQoInhBeGlzIixuKCJ4IiksdGhpcyksZS5lYWNoQ29tcG9uZW50KCJ5QXhpcyIsbigieSIpLHRoaXMpLCFyLnh8fCFyLnkpcmV0dXJuIHRoaXMuX2F4ZXNNYXA9e30sdm9pZCh0aGlzLl9heGVzTGlzdD1bXSk7dGhpcy5fYXhlc01hcD1hLGQoYS54LGZ1bmN0aW9uKGUsaSl7ZChhLnksZnVuY3Rpb24obixvKXt2YXIgYT0ieCIraSsieSIrbyxyPW5ldyBTdShhKTtyLmdyaWQ9dGhpcyxyLm1vZGVsPXQsdGhpcy5fY29vcmRzTWFwW2FdPXIsdGhpcy5fY29vcmRzTGlzdC5wdXNoKHIpLHIuYWRkQXhpcyhlKSxyLmFkZEF4aXMobil9LHRoaXMpfSx0aGlzKX0sVEQuX3VwZGF0ZVNjYWxlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSl7ZCh0Lm1hcERpbWVuc2lvbihlLmRpbSwhMCksZnVuY3Rpb24oaSl7ZS5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKHQsaSl9KX1kKHRoaXMuX2F4ZXNMaXN0LGZ1bmN0aW9uKHQpe3Quc2NhbGUuc2V0RXh0ZW50KDEvMCwtMS8wKX0pLHQuZWFjaFNlcmllcyhmdW5jdGlvbihuKXtpZihrdShuKSl7dmFyIG89THUobiksYT1vWzBdLHI9b1sxXTtpZighSXUoYSxlLHQpfHwhSXUocixlLHQpKXJldHVybjt2YXIgcz10aGlzLmdldENhcnRlc2lhbihhLmNvbXBvbmVudEluZGV4LHIuY29tcG9uZW50SW5kZXgpLGw9bi5nZXREYXRhKCksdT1zLmdldEF4aXMoIngiKSxoPXMuZ2V0QXhpcygieSIpOyJsaXN0Ij09PWwudHlwZSYmKGkobCx1KSxpKGwsaCkpfX0sdGhpcyl9LFRELmdldFRvb2x0aXBBeGVzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLGk9W107cmV0dXJuIGQodGhpcy5nZXRDYXJ0ZXNpYW5zKCksZnVuY3Rpb24obil7dmFyIG89bnVsbCE9dCYmImF1dG8iIT09dD9uLmdldEF4aXModCk6bi5nZXRCYXNlQXhpcygpLGE9bi5nZXRPdGhlckF4aXMobyk7bChlLG8pPDAmJmUucHVzaChvKSxsKGksYSk8MCYmaS5wdXNoKGEpfSkse2Jhc2VBeGVzOmUsb3RoZXJBeGVzOml9fTt2YXIgREQ9WyJ4QXhpcyIsInlBeGlzIl07VHUuY3JlYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W107cmV0dXJuIHQuZWFjaENvbXBvbmVudCgiZ3JpZCIsZnVuY3Rpb24obixvKXt2YXIgYT1uZXcgVHUobix0LGUpO2EubmFtZT0iZ3JpZF8iK28sYS5yZXNpemUobixlLCEwKSxuLmNvb3JkaW5hdGVTeXN0ZW09YSxpLnB1c2goYSl9KSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7aWYoa3UodCkpe3ZhciBlPUx1KHQpLGk9ZVswXSxuPWVbMV0sbz1pLmdldENvb3JkU3lzTW9kZWwoKS5jb29yZGluYXRlU3lzdGVtO3QuY29vcmRpbmF0ZVN5c3RlbT1vLmdldENhcnRlc2lhbihpLmNvbXBvbmVudEluZGV4LG4uY29tcG9uZW50SW5kZXgpfX0pLGl9LFR1LmRpbWVuc2lvbnM9VHUucHJvdG90eXBlLmRpbWVuc2lvbnM9U3UucHJvdG90eXBlLmRpbWVuc2lvbnMsQ2EucmVnaXN0ZXIoImNhcnRlc2lhbjJkIixUdSk7dmFyIEFEPU1hdGguUEksQ0Q9ZnVuY3Rpb24odCxlKXt0aGlzLm9wdD1lLHRoaXMuYXhpc01vZGVsPXQscihlLHtsYWJlbE9mZnNldDowLG5hbWVEaXJlY3Rpb246MSx0aWNrRGlyZWN0aW9uOjEsbGFiZWxEaXJlY3Rpb246MSxzaWxlbnQ6ITB9KSx0aGlzLmdyb3VwPW5ldyBydzt2YXIgaT1uZXcgcncoe3Bvc2l0aW9uOmUucG9zaXRpb24uc2xpY2UoKSxyb3RhdGlvbjplLnJvdGF0aW9ufSk7aS51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzLl90cmFuc2Zvcm09aS50cmFuc2Zvcm0sdGhpcy5fZHVtYkdyb3VwPWl9O0NELnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q0QsaGFzQnVpbGRlcjpmdW5jdGlvbih0KXtyZXR1cm4hIUxEW3RdfSxhZGQ6ZnVuY3Rpb24odCl7TERbdF0uY2FsbCh0aGlzKX0sZ2V0R3JvdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncm91cH19O3ZhciBMRD17YXhpc0xpbmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdCxlPXRoaXMuYXhpc01vZGVsO2lmKGUuZ2V0KCJheGlzTGluZS5zaG93Iikpe3ZhciBpPXRoaXMuYXhpc01vZGVsLmF4aXMuZ2V0RXh0ZW50KCksbj10aGlzLl90cmFuc2Zvcm0sbz1baVswXSwwXSxyPVtpWzFdLDBdO24mJihRKG8sbyxuKSxRKHIscixuKSk7dmFyIHM9YSh7bGluZUNhcDoicm91bmQifSxlLmdldE1vZGVsKCJheGlzTGluZS5saW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSk7dGhpcy5ncm91cC5hZGQobmV3IFNTKEduKHthbmlkOiJsaW5lIixzaGFwZTp7eDE6b1swXSx5MTpvWzFdLHgyOnJbMF0seTI6clsxXX0sc3R5bGU6cyxzdHJva2VDb250YWluVGhyZXNob2xkOnQuc3Ryb2tlQ29udGFpblRocmVzaG9sZHx8NSxzaWxlbnQ6ITAsejI6MX0pKSk7dmFyIGw9ZS5nZXQoImF4aXNMaW5lLnN5bWJvbCIpLHU9ZS5nZXQoImF4aXNMaW5lLnN5bWJvbFNpemUiKSxoPWUuZ2V0KCJheGlzTGluZS5zeW1ib2xPZmZzZXQiKXx8MDtpZigibnVtYmVyIj09dHlwZW9mIGgmJihoPVtoLGhdKSxudWxsIT1sKXsic3RyaW5nIj09dHlwZW9mIGwmJihsPVtsLGxdKSwic3RyaW5nIiE9dHlwZW9mIHUmJiJudW1iZXIiIT10eXBlb2YgdXx8KHU9W3UsdV0pO3ZhciBjPXVbMF0sZj11WzFdO2QoW3tyb3RhdGU6dC5yb3RhdGlvbitNYXRoLlBJLzIsb2Zmc2V0OmhbMF0scjowfSx7cm90YXRlOnQucm90YXRpb24tTWF0aC5QSS8yLG9mZnNldDpoWzFdLHI6TWF0aC5zcXJ0KChvWzBdLXJbMF0pKihvWzBdLXJbMF0pKyhvWzFdLXJbMV0pKihvWzFdLXJbMV0pKX1dLGZ1bmN0aW9uKGUsaSl7aWYoIm5vbmUiIT09bFtpXSYmbnVsbCE9bFtpXSl7dmFyIG49SWwobFtpXSwtYy8yLC1mLzIsYyxmLHMuc3Ryb2tlLCEwKSxhPWUucitlLm9mZnNldCxyPVtvWzBdK2EqTWF0aC5jb3ModC5yb3RhdGlvbiksb1sxXS1hKk1hdGguc2luKHQucm90YXRpb24pXTtuLmF0dHIoe3JvdGF0aW9uOmUucm90YXRlLHBvc2l0aW9uOnIsc2lsZW50OiEwfSksdGhpcy5ncm91cC5hZGQobil9fSx0aGlzKX19fSxheGlzVGlja0xhYmVsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5heGlzTW9kZWwsZT10aGlzLm9wdCxpPVZ1KHRoaXMsdCxlKTtFdSh0LEd1KHRoaXMsdCxlKSxpKX0sYXhpc05hbWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdCxlPXRoaXMuYXhpc01vZGVsLGk9VCh0LmF4aXNOYW1lLGUuZ2V0KCJuYW1lIikpO2lmKGkpe3ZhciBuLG89ZS5nZXQoIm5hbWVMb2NhdGlvbiIpLHI9dC5uYW1lRGlyZWN0aW9uLHM9ZS5nZXRNb2RlbCgibmFtZVRleHRTdHlsZSIpLGw9ZS5nZXQoIm5hbWVHYXAiKXx8MCx1PXRoaXMuYXhpc01vZGVsLmF4aXMuZ2V0RXh0ZW50KCksaD11WzBdPnVbMV0/LTE6MSxjPVsic3RhcnQiPT09bz91WzBdLWgqbDoiZW5kIj09PW8/dVsxXStoKmw6KHVbMF0rdVsxXSkvMixCdShvKT90LmxhYmVsT2Zmc2V0K3IqbDowXSxkPWUuZ2V0KCJuYW1lUm90YXRlIik7bnVsbCE9ZCYmKGQ9ZCpBRC8xODApO3ZhciBmO0J1KG8pP249a0QodC5yb3RhdGlvbixudWxsIT1kP2Q6dC5yb3RhdGlvbixyKToobj1OdSh0LG8sZHx8MCx1KSxudWxsIT0oZj10LmF4aXNOYW1lQXZhaWxhYmxlV2lkdGgpJiYoZj1NYXRoLmFicyhmL01hdGguc2luKG4ucm90YXRpb24pKSwhaXNGaW5pdGUoZikmJihmPW51bGwpKSk7dmFyIHA9cy5nZXRGb250KCksZz1lLmdldCgibmFtZVRydW5jYXRlIiwhMCl8fHt9LG09Zy5lbGxpcHNpcyx2PVQodC5uYW1lVHJ1bmNhdGVNYXhXaWR0aCxnLm1heFdpZHRoLGYpLHk9bnVsbCE9bSYmbnVsbCE9dj90TShpLHYscCxtLHttaW5DaGFyOjIscGxhY2Vob2xkZXI6Zy5wbGFjZWhvbGRlcn0pOmkseD1lLmdldCgidG9vbHRpcCIsITApLF89ZS5tYWluVHlwZSx3PXtjb21wb25lbnRUeXBlOl8sbmFtZTppLCR2YXJzOlsibmFtZSJdfTt3W18rIkluZGV4Il09ZS5jb21wb25lbnRJbmRleDt2YXIgYj1uZXcgZFMoe2FuaWQ6Im5hbWUiLF9fZnVsbFRleHQ6aSxfX3RydW5jYXRlZFRleHQ6eSxwb3NpdGlvbjpjLHJvdGF0aW9uOm4ucm90YXRpb24sc2lsZW50Ok91KGUpLHoyOjEsdG9vbHRpcDp4JiZ4LnNob3c/YSh7Y29udGVudDppLGZvcm1hdHRlcjpmdW5jdGlvbigpe3JldHVybiBpfSxmb3JtYXR0ZXJQYXJhbXM6d30seCk6bnVsbH0pO25vKGIuc3R5bGUscyx7dGV4dDp5LHRleHRGb250OnAsdGV4dEZpbGw6cy5nZXRUZXh0Q29sb3IoKXx8ZS5nZXQoImF4aXNMaW5lLmxpbmVTdHlsZS5jb2xvciIpLHRleHRBbGlnbjpuLnRleHRBbGlnbix0ZXh0VmVydGljYWxBbGlnbjpuLnRleHRWZXJ0aWNhbEFsaWdufSksZS5nZXQoInRyaWdnZXJFdmVudCIpJiYoYi5ldmVudERhdGE9UHUoZSksYi5ldmVudERhdGEudGFyZ2V0VHlwZT0iYXhpc05hbWUiLGIuZXZlbnREYXRhLm5hbWU9aSksdGhpcy5fZHVtYkdyb3VwLmFkZChiKSxiLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuZ3JvdXAuYWRkKGIpLGIuZGVjb21wb3NlVHJhbnNmb3JtKCl9fX0sa0Q9Q0QuaW5uZXJUZXh0TGF5b3V0PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvLGE9T28oZS10KTtyZXR1cm4gRW8oYSk/KG89aT4wPyJ0b3AiOiJib3R0b20iLG49ImNlbnRlciIpOkVvKGEtQUQpPyhvPWk+MD8iYm90dG9tIjoidG9wIixuPSJjZW50ZXIiKToobz0ibWlkZGxlIixuPWE+MCYmYTxBRD9pPjA/InJpZ2h0IjoibGVmdCI6aT4wPyJsZWZ0IjoicmlnaHQiKSx7cm90YXRpb246YSx0ZXh0QWxpZ246bix0ZXh0VmVydGljYWxBbGlnbjpvfX0sUEQ9ZCxORD12LE9EPXlzKHt0eXBlOiJheGlzIixfYXhpc1BvaW50ZXI6bnVsbCxheGlzUG9pbnRlckNsYXNzOm51bGwscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuYXhpc1BvaW50ZXJDbGFzcyYmanUodCksT0Quc3VwZXJBcHBseSh0aGlzLCJyZW5kZXIiLGFyZ3VtZW50cyksSnUodGhpcyx0LDAsaSwwLCEwKX0sdXBkYXRlQXhpc1BvaW50ZXI6ZnVuY3Rpb24odCxlLGksbixvKXtKdSh0aGlzLHQsMCxpLDAsITEpfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9heGlzUG9pbnRlcjtpJiZpLnJlbW92ZShlKSxPRC5zdXBlckFwcGx5KHRoaXMsInJlbW92ZSIsYXJndW1lbnRzKX0sZGlzcG9zZTpmdW5jdGlvbih0LGUpe1F1KHRoaXMsZSksT0Quc3VwZXJBcHBseSh0aGlzLCJkaXNwb3NlIixhcmd1bWVudHMpfX0pLEVEPVtdO09ELnJlZ2lzdGVyQXhpc1BvaW50ZXJDbGFzcz1mdW5jdGlvbih0LGUpe0VEW3RdPWV9LE9ELmdldEF4aXNQb2ludGVyQ2xhc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJkVEW3RdfTt2YXIgUkQ9WyJheGlzTGluZSIsImF4aXNUaWNrTGFiZWwiLCJheGlzTmFtZSJdLHpEPVsic3BsaXRBcmVhIiwic3BsaXRMaW5lIl0sQkQ9T0QuZXh0ZW5kKHt0eXBlOiJjYXJ0ZXNpYW5BeGlzIixheGlzUG9pbnRlckNsYXNzOiJDYXJ0ZXNpYW5BeGlzUG9pbnRlciIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIG89dGhpcy5fYXhpc0dyb3VwO2lmKHRoaXMuX2F4aXNHcm91cD1uZXcgcncsdGhpcy5ncm91cC5hZGQodGhpcy5fYXhpc0dyb3VwKSx0LmdldCgic2hvdyIpKXt2YXIgYT10LmdldENvb3JkU3lzTW9kZWwoKSxyPXRoKGEsdCkscz1uZXcgQ0QodCxyKTtkKFJELHMuYWRkLHMpLHRoaXMuX2F4aXNHcm91cC5hZGQocy5nZXRHcm91cCgpKSxkKHpELGZ1bmN0aW9uKGUpe3QuZ2V0KGUrIi5zaG93IikmJnRoaXNbIl8iK2VdKHQsYSl9LHRoaXMpLHlvKG8sdGhpcy5fYXhpc0dyb3VwLHQpLEJELnN1cGVyQ2FsbCh0aGlzLCJyZW5kZXIiLHQsZSxpLG4pfX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fc3BsaXRBcmVhQ29sb3JzPW51bGx9LF9zcGxpdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmF4aXM7aWYoIWkuc2NhbGUuaXNCbGFuaygpKXt2YXIgbj10LmdldE1vZGVsKCJzcGxpdExpbmUiKSxvPW4uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLGE9by5nZXQoImNvbG9yIik7YT15KGEpP2E6W2FdO2Zvcih2YXIgcz1lLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLGw9aS5pc0hvcml6b250YWwoKSx1PTAsaD1pLmdldFRpY2tzQ29vcmRzKHt0aWNrTW9kZWw6bn0pLGM9W10sZD1bXSxmPW8uZ2V0TGluZVN0eWxlKCkscD0wO3A8aC5sZW5ndGg7cCsrKXt2YXIgZz1pLnRvR2xvYmFsQ29vcmQoaFtwXS5jb29yZCk7bD8oY1swXT1nLGNbMV09cy55LGRbMF09ZyxkWzFdPXMueStzLmhlaWdodCk6KGNbMF09cy54LGNbMV09ZyxkWzBdPXMueCtzLndpZHRoLGRbMV09Zyk7dmFyIG09dSsrJWEubGVuZ3RoO3RoaXMuX2F4aXNHcm91cC5hZGQobmV3IFNTKEduKHthbmlkOiJsaW5lXyIraFtwXS50aWNrVmFsdWUsc2hhcGU6e3gxOmNbMF0seTE6Y1sxXSx4MjpkWzBdLHkyOmRbMV19LHN0eWxlOnIoe3N0cm9rZTphW21dfSxmKSxzaWxlbnQ6ITB9KSkpfX19LF9zcGxpdEFyZWE6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmF4aXM7aWYoIWkuc2NhbGUuaXNCbGFuaygpKXt2YXIgbj10LmdldE1vZGVsKCJzcGxpdEFyZWEiKSxvPW4uZ2V0TW9kZWwoImFyZWFTdHlsZSIpLGE9by5nZXQoImNvbG9yIikscz1lLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLGw9aS5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOm4sY2xhbXA6ITB9KTtpZihsLmxlbmd0aCl7dmFyIHU9YS5sZW5ndGgsaD10aGlzLl9zcGxpdEFyZWFDb2xvcnMsYz1SKCksZD0wO2lmKGgpZm9yKG09MDttPGwubGVuZ3RoO20rKyl7dmFyIGY9aC5nZXQobFttXS50aWNrVmFsdWUpO2lmKG51bGwhPWYpe2Q9KGYrKHUtMSkqbSkldTticmVha319dmFyIHA9aS50b0dsb2JhbENvb3JkKGxbMF0uY29vcmQpLGc9by5nZXRBcmVhU3R5bGUoKTthPXkoYSk/YTpbYV07Zm9yKHZhciBtPTE7bTxsLmxlbmd0aDttKyspe3ZhciB2LHgsXyx3LGI9aS50b0dsb2JhbENvb3JkKGxbbV0uY29vcmQpO2kuaXNIb3Jpem9udGFsKCk/KHY9cCx4PXMueSxfPWItdix3PXMuaGVpZ2h0LHA9ditfKToodj1zLngseD1wLF89cy53aWR0aCxwPXgrKHc9Yi14KSk7dmFyIFM9bFttLTFdLnRpY2tWYWx1ZTtudWxsIT1TJiZjLnNldChTLGQpLHRoaXMuX2F4aXNHcm91cC5hZGQobmV3IGJTKHthbmlkOiJhcmVhXyIrUyxzaGFwZTp7eDp2LHk6eCx3aWR0aDpfLGhlaWdodDp3fSxzdHlsZTpyKHtmaWxsOmFbZF19LGcpLHNpbGVudDohMH0pKSxkPShkKzEpJXV9dGhpcy5fc3BsaXRBcmVhQ29sb3JzPWN9fX19KTtCRC5leHRlbmQoe3R5cGU6InhBeGlzIn0pLEJELmV4dGVuZCh7dHlwZToieUF4aXMifSkseXMoe3R5cGU6ImdyaWQiLHJlbmRlcjpmdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSYmdGhpcy5ncm91cC5hZGQobmV3IGJTKHtzaGFwZTp0LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHN0eWxlOnIoe2ZpbGw6dC5nZXQoImJhY2tncm91bmRDb2xvciIpfSx0LmdldEl0ZW1TdHlsZSgpKSxzaWxlbnQ6ITAsejI6LTF9KSl9fSksdXMoZnVuY3Rpb24odCl7dC54QXhpcyYmdC55QXhpcyYmIXQuZ3JpZCYmKHQuZ3JpZD17fSl9KSxwcyhwRCgibGluZSIsImNpcmNsZSIsImxpbmUiKSksZnMoZ0QoImxpbmUiKSksaHMoQ0kuUFJPQ0VTU09SLlNUQVRJU1RJQyxmdW5jdGlvbih0KXtyZXR1cm57c2VyaWVzVHlwZTp0LG1vZGlmeU91dHB1dEVuZDohMCxyZXNldDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCksbz10LmdldCgic2FtcGxpbmciKSxhPXQuY29vcmRpbmF0ZVN5c3RlbTtpZigiY2FydGVzaWFuMmQiPT09YS50eXBlJiZvKXt2YXIgcj1hLmdldEJhc2VBeGlzKCkscz1hLmdldE90aGVyQXhpcyhyKSxsPXIuZ2V0RXh0ZW50KCksdT1sWzFdLWxbMF0saD1NYXRoLnJvdW5kKG4uY291bnQoKS91KTtpZihoPjEpe3ZhciBjOyJzdHJpbmciPT10eXBlb2Ygbz9jPW1EW29dOiJmdW5jdGlvbiI9PXR5cGVvZiBvJiYoYz1vKSxjJiZ0LnNldERhdGEobi5kb3duU2FtcGxlKG4ubWFwRGltZW5zaW9uKHMuZGltKSwxL2gsYyx2RCkpfX19fX0oImxpbmUiKSk7dmFyIFZEPXFNLmV4dGVuZCh7dHlwZToic2VyaWVzLl9fYmFzZV9iYXJfXyIsZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gVXModGhpcy5nZXRTb3VyY2UoKSx0aGlzKX0sZ2V0TWFya2VyUG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb29yZGluYXRlU3lzdGVtO2lmKGUpe3ZhciBpPWUuZGF0YVRvUG9pbnQoZS5jbGFtcERhdGEodCkpLG49dGhpcy5nZXREYXRhKCksbz1uLmdldExheW91dCgib2Zmc2V0IiksYT1uLmdldExheW91dCgic2l6ZSIpO3JldHVybiBpW2UuZ2V0QmFzZUF4aXMoKS5pc0hvcml6b250YWwoKT8wOjFdKz1vK2EvMixpfXJldHVybltOYU4sTmFOXX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIixsZWdlbmRIb3Zlckxpbms6ITAsYmFyTWluSGVpZ2h0OjAsYmFyTWluQW5nbGU6MCxsYXJnZTohMSxsYXJnZVRocmVzaG9sZDo0MDAscHJvZ3Jlc3NpdmU6NWUzLHByb2dyZXNzaXZlQ2h1bmtNb2RlOiJtb2QiLGl0ZW1TdHlsZTp7fSxlbXBoYXNpczp7fX19KTtWRC5leHRlbmQoe3R5cGU6InNlcmllcy5iYXIiLGRlcGVuZGVuY2llczpbImdyaWQiLCJwb2xhciJdLGJydXNoU2VsZWN0b3I6InJlY3QiLGdldFByb2dyZXNzaXZlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdldCgibGFyZ2UiKSYmdGhpcy5nZXQoInByb2dyZXNzaXZlIil9LGdldFByb2dyZXNzaXZlVGhyZXNob2xkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoInByb2dyZXNzaXZlVGhyZXNob2xkIiksZT10aGlzLmdldCgibGFyZ2VUaHJlc2hvbGQiKTtyZXR1cm4gZT50JiYodD1lKSx0fX0pO3ZhciBHRD1yYihbWyJmaWxsIiwiY29sb3IiXSxbInN0cm9rZSIsImJvcmRlckNvbG9yIl0sWyJsaW5lV2lkdGgiLCJib3JkZXJXaWR0aCJdLFsic3Ryb2tlIiwiYmFyQm9yZGVyQ29sb3IiXSxbImxpbmVXaWR0aCIsImJhckJvcmRlcldpZHRoIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdXSksV0Q9e2dldEJhckl0ZW1TdHlsZTpmdW5jdGlvbih0KXt2YXIgZT1HRCh0aGlzLHQpO2lmKHRoaXMuZ2V0Qm9yZGVyTGluZURhc2gpe3ZhciBpPXRoaXMuZ2V0Qm9yZGVyTGluZURhc2goKTtpJiYoZS5saW5lRGFzaD1pKX1yZXR1cm4gZX19LEZEPVsiaXRlbVN0eWxlIiwiYmFyQm9yZGVyV2lkdGgiXTthKHdvLnByb3RvdHlwZSxXRCksX3Moe3R5cGU6ImJhciIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl91cGRhdGVEcmF3TW9kZSh0KTt2YXIgbj10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpO3JldHVybiJjYXJ0ZXNpYW4yZCIhPT1uJiYicG9sYXIiIT09bnx8KHRoaXMuX2lzTGFyZ2VEcmF3P3RoaXMuX3JlbmRlckxhcmdlKHQsZSxpKTp0aGlzLl9yZW5kZXJOb3JtYWwodCxlLGkpKSx0aGlzLmdyb3VwfSxpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2NsZWFyKCksdGhpcy5fdXBkYXRlRHJhd01vZGUodCl9LGluY3JlbWVudGFsUmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuX2luY3JlbWVudGFsUmVuZGVyTGFyZ2UodCxlKX0sX3VwZGF0ZURyYXdNb2RlOmZ1bmN0aW9uKHQpe3ZhciBlPXQucGlwZWxpbmVDb250ZXh0LmxhcmdlOyhudWxsPT10aGlzLl9pc0xhcmdlRHJhd3x8ZV50aGlzLl9pc0xhcmdlRHJhdykmJih0aGlzLl9pc0xhcmdlRHJhdz1lLHRoaXMuX2NsZWFyKCkpfSxfcmVuZGVyTm9ybWFsOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvPXRoaXMuZ3JvdXAsYT10LmdldERhdGEoKSxyPXRoaXMuX2RhdGEscz10LmNvb3JkaW5hdGVTeXN0ZW0sbD1zLmdldEJhc2VBeGlzKCk7ImNhcnRlc2lhbjJkIj09PXMudHlwZT9uPWwuaXNIb3Jpem9udGFsKCk6InBvbGFyIj09PXMudHlwZSYmKG49ImFuZ2xlIj09PWwuZGltKTt2YXIgdT10LmlzQW5pbWF0aW9uRW5hYmxlZCgpP3Q6bnVsbDthLmRpZmYocikuYWRkKGZ1bmN0aW9uKGUpe2lmKGEuaGFzVmFsdWUoZSkpe3ZhciBpPWEuZ2V0SXRlbU1vZGVsKGUpLHI9WkRbcy50eXBlXShhLGUsaSksbD1IRFtzLnR5cGVdKGEsZSxpLHIsbix1KTthLnNldEl0ZW1HcmFwaGljRWwoZSxsKSxvLmFkZChsKSxhaChsLGEsZSxpLHIsdCxuLCJwb2xhciI9PT1zLnR5cGUpfX0pLnVwZGF0ZShmdW5jdGlvbihlLGkpe3ZhciBsPXIuZ2V0SXRlbUdyYXBoaWNFbChpKTtpZihhLmhhc1ZhbHVlKGUpKXt2YXIgaD1hLmdldEl0ZW1Nb2RlbChlKSxjPVpEW3MudHlwZV0oYSxlLGgpO2w/Zm8obCx7c2hhcGU6Y30sdSxlKTpsPUhEW3MudHlwZV0oYSxlLGgsYyxuLHUsITApLGEuc2V0SXRlbUdyYXBoaWNFbChlLGwpLG8uYWRkKGwpLGFoKGwsYSxlLGgsYyx0LG4sInBvbGFyIj09PXMudHlwZSl9ZWxzZSBvLnJlbW92ZShsKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT1yLmdldEl0ZW1HcmFwaGljRWwodCk7ImNhcnRlc2lhbjJkIj09PXMudHlwZT9lJiZuaCh0LHUsZSk6ZSYmb2godCx1LGUpfSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9YX0sX3JlbmRlckxhcmdlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9jbGVhcigpLHNoKHQsdGhpcy5ncm91cCl9LF9pbmNyZW1lbnRhbFJlbmRlckxhcmdlOmZ1bmN0aW9uKHQsZSl7c2goZSx0aGlzLmdyb3VwLCEwKX0sZGlzcG9zZTpCLHJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLl9jbGVhcih0KX0sX2NsZWFyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXAsaT10aGlzLl9kYXRhO3QmJnQuZ2V0KCJhbmltYXRpb24iKSYmaSYmIXRoaXMuX2lzTGFyZ2VEcmF3P2kuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24oZSl7InNlY3RvciI9PT1lLnR5cGU/b2goZS5kYXRhSW5kZXgsdCxlKTpuaChlLmRhdGFJbmRleCx0LGUpfSk6ZS5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9fSk7dmFyIEhEPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUsaSxuLG8scixzKXt2YXIgbD1uZXcgYlMoe3NoYXBlOmEoe30sbil9KTtpZihyKXt2YXIgdT1sLnNoYXBlLGg9bz8iaGVpZ2h0Ijoid2lkdGgiLGM9e307dVtoXT0wLGNbaF09bltoXSx6U1tzPyJ1cGRhdGVQcm9wcyI6ImluaXRQcm9wcyJdKGwse3NoYXBlOmN9LHIsZSl9cmV0dXJuIGx9LHBvbGFyOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHMpe3ZhciBsPW4uc3RhcnRBbmdsZTxuLmVuZEFuZ2xlLHU9bmV3IG1TKHtzaGFwZTpyKHtjbG9ja3dpc2U6bH0sbil9KTtpZihhKXt2YXIgaD11LnNoYXBlLGM9bz8iciI6ImVuZEFuZ2xlIixkPXt9O2hbY109bz8wOm4uc3RhcnRBbmdsZSxkW2NdPW5bY10selNbcz8idXBkYXRlUHJvcHMiOiJpbml0UHJvcHMiXSh1LHtzaGFwZTpkfSxhLGUpfXJldHVybiB1fX0sWkQ9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldEl0ZW1MYXlvdXQoZSksbz1yaChpLG4pLGE9bi53aWR0aD4wPzE6LTEscj1uLmhlaWdodD4wPzE6LTE7cmV0dXJue3g6bi54K2Eqby8yLHk6bi55K3Iqby8yLHdpZHRoOm4ud2lkdGgtYSpvLGhlaWdodDpuLmhlaWdodC1yKm99fSxwb2xhcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXRJdGVtTGF5b3V0KGUpO3JldHVybntjeDpuLmN4LGN5Om4uY3kscjA6bi5yMCxyOm4ucixzdGFydEFuZ2xlOm4uc3RhcnRBbmdsZSxlbmRBbmdsZTpuLmVuZEFuZ2xlfX19LFVEPUluLmV4dGVuZCh7dHlwZToibGFyZ2VCYXIiLHNoYXBlOntwb2ludHM6W119LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1lLnBvaW50cyxuPXRoaXMuX19zdGFydFBvaW50LG89dGhpcy5fX3ZhbHVlSWR4LGE9MDthPGkubGVuZ3RoO2ErPTIpblt0aGlzLl9fdmFsdWVJZHhdPWlbYStvXSx0Lm1vdmVUbyhuWzBdLG5bMV0pLHQubGluZVRvKGlbYV0saVthKzFdKX19KTtmcyh2KGhsLCJiYXIiKSksZnMoeVQpLHBzKHtzZXJpZXNUeXBlOiJiYXIiLHJlc2V0OmZ1bmN0aW9uKHQpe3QuZ2V0RGF0YSgpLnNldFZpc3VhbCgibGVnZW5kU3ltYm9sIiwicm91bmRSZWN0Iil9fSk7dmFyIFhEPWZ1bmN0aW9uKHQsZSxpKXtlPXkoZSkmJntjb29yZERpbWVuc2lvbnM6ZX18fGEoe30sZSk7dmFyIG49dC5nZXRTb3VyY2UoKSxvPXVUKG4sZSkscj1uZXcgclQobyx0KTtyZXR1cm4gci5pbml0RGF0YShuLGkpLHJ9LGpEPXt1cGRhdGVTZWxlY3RlZE1hcDpmdW5jdGlvbih0KXt0aGlzLl90YXJnZXRMaXN0PXkodCk/dC5zbGljZSgpOltdLHRoaXMuX3NlbGVjdFRhcmdldE1hcD1wKHR8fFtdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc2V0KGUubmFtZSxlKSx0fSxSKCkpfSxzZWxlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsIT1lP3RoaXMuX3RhcmdldExpc3RbZV06dGhpcy5fc2VsZWN0VGFyZ2V0TWFwLmdldCh0KTsic2luZ2xlIj09PXRoaXMuZ2V0KCJzZWxlY3RlZE1vZGUiKSYmdGhpcy5fc2VsZWN0VGFyZ2V0TWFwLmVhY2goZnVuY3Rpb24odCl7dC5zZWxlY3RlZD0hMX0pLGkmJihpLnNlbGVjdGVkPSEwKX0sdW5TZWxlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsIT1lP3RoaXMuX3RhcmdldExpc3RbZV06dGhpcy5fc2VsZWN0VGFyZ2V0TWFwLmdldCh0KTtpJiYoaS5zZWxlY3RlZD0hMSl9LHRvZ2dsZVNlbGVjdGVkOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bnVsbCE9ZT90aGlzLl90YXJnZXRMaXN0W2VdOnRoaXMuX3NlbGVjdFRhcmdldE1hcC5nZXQodCk7aWYobnVsbCE9aSlyZXR1cm4gdGhpc1tpLnNlbGVjdGVkPyJ1blNlbGVjdCI6InNlbGVjdCJdKHQsZSksaS5zZWxlY3RlZH0saXNTZWxlY3RlZDpmdW5jdGlvbih0LGUpe3ZhciBpPW51bGwhPWU/dGhpcy5fdGFyZ2V0TGlzdFtlXTp0aGlzLl9zZWxlY3RUYXJnZXRNYXAuZ2V0KHQpO3JldHVybiBpJiZpLnNlbGVjdGVkfX0sWUQ9eHMoe3R5cGU6InNlcmllcy5waWUiLGluaXQ6ZnVuY3Rpb24odCl7WUQuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMubGVnZW5kRGF0YVByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmF3RGF0YSgpfSx0aGlzLnVwZGF0ZVNlbGVjdGVkTWFwKHRoaXMuX2NyZWF0ZVNlbGVjdGFibGVMaXN0KCkpLHRoaXMuX2RlZmF1bHRMYWJlbExpbmUodCl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe1lELnN1cGVyQ2FsbCh0aGlzLCJtZXJnZU9wdGlvbiIsdCksdGhpcy51cGRhdGVTZWxlY3RlZE1hcCh0aGlzLl9jcmVhdGVTZWxlY3RhYmxlTGlzdCgpKX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gWEQodGhpcyxbInZhbHVlIl0pfSxfY3JlYXRlU2VsZWN0YWJsZUxpc3Q6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRSYXdEYXRhKCksZT10Lm1hcERpbWVuc2lvbigidmFsdWUiKSxpPVtdLG49MCxvPXQuY291bnQoKTtuPG87bisrKWkucHVzaCh7bmFtZTp0LmdldE5hbWUobiksdmFsdWU6dC5nZXQoZSxuKSxzZWxlY3RlZDppcih0LG4sInNlbGVjdGVkIil9KTtyZXR1cm4gaX0sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPVlELnN1cGVyQ2FsbCh0aGlzLCJnZXREYXRhUGFyYW1zIix0KSxuPVtdO3JldHVybiBlLmVhY2goZS5tYXBEaW1lbnNpb24oInZhbHVlIiksZnVuY3Rpb24odCl7bi5wdXNoKHQpfSksaS5wZXJjZW50PU5vKG4sdCxlLmhvc3RNb2RlbC5nZXQoInBlcmNlbnRQcmVjaXNpb24iKSksaS4kdmFycy5wdXNoKCJwZXJjZW50IiksaX0sX2RlZmF1bHRMYWJlbExpbmU6ZnVuY3Rpb24odCl7TWkodCwibGFiZWxMaW5lIixbInNob3ciXSk7dmFyIGU9dC5sYWJlbExpbmUsaT10LmVtcGhhc2lzLmxhYmVsTGluZTtlLnNob3c9ZS5zaG93JiZ0LmxhYmVsLnNob3csaS5zaG93PWkuc2hvdyYmdC5lbXBoYXNpcy5sYWJlbC5zaG93fSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLGNlbnRlcjpbIjUwJSIsIjUwJSJdLHJhZGl1czpbMCwiNzUlIl0sY2xvY2t3aXNlOiEwLHN0YXJ0QW5nbGU6OTAsbWluQW5nbGU6MCxzZWxlY3RlZE9mZnNldDoxMCxob3Zlck9mZnNldDoxMCxhdm9pZExhYmVsT3ZlcmxhcDohMCxwZXJjZW50UHJlY2lzaW9uOjIsc3RpbGxTaG93WmVyb1N1bTohMCxsYWJlbDp7cm90YXRlOiExLHNob3c6ITAscG9zaXRpb246Im91dGVyIn0sbGFiZWxMaW5lOntzaG93OiEwLGxlbmd0aDoxNSxsZW5ndGgyOjE1LHNtb290aDohMSxsaW5lU3R5bGU6e3dpZHRoOjEsdHlwZToic29saWQifX0saXRlbVN0eWxlOntib3JkZXJXaWR0aDoxfSxhbmltYXRpb25UeXBlOiJleHBhbnNpb24iLGFuaW1hdGlvbkVhc2luZzoiY3ViaWNPdXQifX0pO2goWUQsakQpO3ZhciBxRD1jaC5wcm90b3R5cGU7cUQudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbigpe3Muc3RvcEFuaW1hdGlvbighMCkscy5hbmltYXRlVG8oe3NoYXBlOntyOmgucitsLmdldCgiaG92ZXJPZmZzZXQiKX19LDMwMCwiZWxhc3RpY091dCIpfWZ1bmN0aW9uIG8oKXtzLnN0b3BBbmltYXRpb24oITApLHMuYW5pbWF0ZVRvKHtzaGFwZTp7cjpoLnJ9fSwzMDAsImVsYXN0aWNPdXQiKX12YXIgcz10aGlzLmNoaWxkQXQoMCksbD10Lmhvc3RNb2RlbCx1PXQuZ2V0SXRlbU1vZGVsKGUpLGg9dC5nZXRJdGVtTGF5b3V0KGUpLGM9YSh7fSxoKTtjLmxhYmVsPW51bGwsaT8ocy5zZXRTaGFwZShjKSwic2NhbGUiPT09bC5nZXRTaGFsbG93KCJhbmltYXRpb25UeXBlIik/KHMuc2hhcGUucj1oLnIwLHBvKHMse3NoYXBlOntyOmgucn19LGwsZSkpOihzLnNoYXBlLmVuZEFuZ2xlPWguc3RhcnRBbmdsZSxmbyhzLHtzaGFwZTp7ZW5kQW5nbGU6aC5lbmRBbmdsZX19LGwsZSkpKTpmbyhzLHtzaGFwZTpjfSxsLGUpO3ZhciBkPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO3MudXNlU3R5bGUocih7bGluZUpvaW46ImJldmVsIixmaWxsOmR9LHUuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpKSkscy5ob3ZlclN0eWxlPXUuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO3ZhciBmPXUuZ2V0U2hhbGxvdygiY3Vyc29yIik7ZiYmcy5hdHRyKCJjdXJzb3IiLGYpLGhoKHRoaXMsdC5nZXRJdGVtTGF5b3V0KGUpLGwuaXNTZWxlY3RlZChudWxsLGUpLGwuZ2V0KCJzZWxlY3RlZE9mZnNldCIpLGwuZ2V0KCJhbmltYXRpb24iKSkscy5vZmYoIm1vdXNlb3ZlciIpLm9mZigibW91c2VvdXQiKS5vZmYoImVtcGhhc2lzIikub2ZmKCJub3JtYWwiKSx1LmdldCgiaG92ZXJBbmltYXRpb24iKSYmbC5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmcy5vbigibW91c2VvdmVyIixuKS5vbigibW91c2VvdXQiLG8pLm9uKCJlbXBoYXNpcyIsbikub24oIm5vcm1hbCIsbyksdGhpcy5fdXBkYXRlTGFiZWwodCxlKSxlbyh0aGlzKX0scUQuX3VwZGF0ZUxhYmVsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jaGlsZEF0KDEpLG49dGhpcy5jaGlsZEF0KDIpLG89dC5ob3N0TW9kZWwsYT10LmdldEl0ZW1Nb2RlbChlKSxyPXQuZ2V0SXRlbUxheW91dChlKS5sYWJlbCxzPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO2ZvKGkse3NoYXBlOntwb2ludHM6ci5saW5lUG9pbnRzfHxbW3IueCxyLnldLFtyLngsci55XSxbci54LHIueV1dfX0sbyxlKSxmbyhuLHtzdHlsZTp7eDpyLngseTpyLnl9fSxvLGUpLG4uYXR0cih7cm90YXRpb246ci5yb3RhdGlvbixvcmlnaW46W3IueCxyLnldLHoyOjEwfSk7dmFyIGw9YS5nZXRNb2RlbCgibGFiZWwiKSx1PWEuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIiksaD1hLmdldE1vZGVsKCJsYWJlbExpbmUiKSxjPWEuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsTGluZSIpLHM9dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIik7aW8obi5zdHlsZSxuLmhvdmVyU3R5bGU9e30sbCx1LHtsYWJlbEZldGNoZXI6dC5ob3N0TW9kZWwsbGFiZWxEYXRhSW5kZXg6ZSxkZWZhdWx0VGV4dDp0LmdldE5hbWUoZSksYXV0b0NvbG9yOnMsdXNlSW5zaWRlU3R5bGU6ISFyLmluc2lkZX0se3RleHRBbGlnbjpyLnRleHRBbGlnbix0ZXh0VmVydGljYWxBbGlnbjpyLnZlcnRpY2FsQWxpZ24sb3BhY2l0eTp0LmdldEl0ZW1WaXN1YWwoZSwib3BhY2l0eSIpfSksbi5pZ25vcmU9bi5ub3JtYWxJZ25vcmU9IWwuZ2V0KCJzaG93Iiksbi5ob3Zlcklnbm9yZT0hdS5nZXQoInNob3ciKSxpLmlnbm9yZT1pLm5vcm1hbElnbm9yZT0haC5nZXQoInNob3ciKSxpLmhvdmVySWdub3JlPSFjLmdldCgic2hvdyIpLGkuc2V0U3R5bGUoe3N0cm9rZTpzLG9wYWNpdHk6dC5nZXRJdGVtVmlzdWFsKGUsIm9wYWNpdHkiKX0pLGkuc2V0U3R5bGUoaC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLGkuaG92ZXJTdHlsZT1jLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKTt2YXIgZD1oLmdldCgic21vb3RoIik7ZCYmITA9PT1kJiYoZD0uNCksaS5zZXRTaGFwZSh7c21vb3RoOmR9KX0sdShjaCxydyk7Z3IuZXh0ZW5kKHt0eXBlOiJwaWUiLGluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgcnc7dGhpcy5fc2VjdG9yR3JvdXA9dH0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKCFufHxuLmZyb20hPT10aGlzLnVpZCl7dmFyIG89dC5nZXREYXRhKCksYT10aGlzLl9kYXRhLHI9dGhpcy5ncm91cCxzPWUuZ2V0KCJhbmltYXRpb24iKSxsPSFhLHU9dC5nZXQoImFuaW1hdGlvblR5cGUiKSxoPXYodWgsdGhpcy51aWQsdCxzLGkpLGM9dC5nZXQoInNlbGVjdGVkTW9kZSIpO2lmKG8uZGlmZihhKS5hZGQoZnVuY3Rpb24odCl7dmFyIGU9bmV3IGNoKG8sdCk7bCYmInNjYWxlIiE9PXUmJmUuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe3Quc3RvcEFuaW1hdGlvbighMCl9KSxjJiZlLm9uKCJjbGljayIsaCksby5zZXRJdGVtR3JhcGhpY0VsKHQsZSksci5hZGQoZSl9KS51cGRhdGUoZnVuY3Rpb24odCxlKXt2YXIgaT1hLmdldEl0ZW1HcmFwaGljRWwoZSk7aS51cGRhdGVEYXRhKG8sdCksaS5vZmYoImNsaWNrIiksYyYmaS5vbigiY2xpY2siLGgpLHIuYWRkKGkpLG8uc2V0SXRlbUdyYXBoaWNFbCh0LGkpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPWEuZ2V0SXRlbUdyYXBoaWNFbCh0KTtyLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSxzJiZsJiZvLmNvdW50KCk+MCYmInNjYWxlIiE9PXUpe3ZhciBkPW8uZ2V0SXRlbUxheW91dCgwKSxmPU1hdGgubWF4KGkuZ2V0V2lkdGgoKSxpLmdldEhlaWdodCgpKS8yLHA9bShyLnJlbW92ZUNsaXBQYXRoLHIpO3Iuc2V0Q2xpcFBhdGgodGhpcy5fY3JlYXRlQ2xpcFBhdGgoZC5jeCxkLmN5LGYsZC5zdGFydEFuZ2xlLGQuY2xvY2t3aXNlLHAsdCkpfXRoaXMuX2RhdGE9b319LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9LF9jcmVhdGVDbGlwUGF0aDpmdW5jdGlvbih0LGUsaSxuLG8sYSxyKXt2YXIgcz1uZXcgbVMoe3NoYXBlOntjeDp0LGN5OmUscjA6MCxyOmksc3RhcnRBbmdsZTpuLGVuZEFuZ2xlOm4sY2xvY2t3aXNlOm99fSk7cmV0dXJuIHBvKHMse3NoYXBlOntlbmRBbmdsZTpuKyhvPzE6LTEpKk1hdGguUEkqMn19LHIsYSksc30sY29udGFpblBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXREYXRhKCkuZ2V0SXRlbUxheW91dCgwKTtpZihpKXt2YXIgbj10WzBdLWkuY3gsbz10WzFdLWkuY3ksYT1NYXRoLnNxcnQobipuK28qbyk7cmV0dXJuIGE8PWkuciYmYT49aS5yMH19fSk7dmFyIEtEPWZ1bmN0aW9uKHQsZSl7ZChlLGZ1bmN0aW9uKGUpe2UudXBkYXRlPSJ1cGRhdGVWaWV3IixjcyhlLGZ1bmN0aW9uKGksbil7dmFyIG89e307cmV0dXJuIG4uZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZTp0LHF1ZXJ5Oml9LGZ1bmN0aW9uKHQpe3RbZS5tZXRob2RdJiZ0W2UubWV0aG9kXShpLm5hbWUsaS5kYXRhSW5kZXgpO3ZhciBuPXQuZ2V0RGF0YSgpO24uZWFjaChmdW5jdGlvbihlKXt2YXIgaT1uLmdldE5hbWUoZSk7b1tpXT10LmlzU2VsZWN0ZWQoaSl8fCExfSl9KSx7bmFtZTppLm5hbWUsc2VsZWN0ZWQ6b319KX0pfSwkRD1mdW5jdGlvbih0KXtyZXR1cm57Z2V0VGFyZ2V0U2VyaWVzOmZ1bmN0aW9uKGUpe3ZhciBpPXt9LG49UigpO3JldHVybiBlLmVhY2hTZXJpZXNCeVR5cGUodCxmdW5jdGlvbih0KXt0Ll9fcGFsZXR0ZVNjb3BlPWksbi5zZXQodC51aWQsdCl9KSxufSxyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0UmF3RGF0YSgpLG49e30sbz10LmdldERhdGEoKTtvLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9by5nZXRSYXdJbmRleCh0KTtuW2VdPXR9KSxpLmVhY2goZnVuY3Rpb24oZSl7dmFyIGE9bltlXSxyPW51bGwhPWEmJm8uZ2V0SXRlbVZpc3VhbChhLCJjb2xvciIsITApO2lmKHIpaS5zZXRJdGVtVmlzdWFsKGUsImNvbG9yIixyKTtlbHNle3ZhciBzPWkuZ2V0SXRlbU1vZGVsKGUpLmdldCgiaXRlbVN0eWxlLmNvbG9yIil8fHQuZ2V0Q29sb3JGcm9tUGFsZXR0ZShpLmdldE5hbWUoZSl8fGUrIiIsdC5fX3BhbGV0dGVTY29wZSxpLmNvdW50KCkpO2kuc2V0SXRlbVZpc3VhbChlLCJjb2xvciIscyksbnVsbCE9YSYmby5zZXRJdGVtVmlzdWFsKGEsImNvbG9yIixzKX19KX19fSxKRD1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxhLHI9dC5nZXREYXRhKCkscz1bXSxsPSExO3IuZWFjaChmdW5jdGlvbihpKXt2YXIgbix1LGgsYyxkPXIuZ2V0SXRlbUxheW91dChpKSxmPXIuZ2V0SXRlbU1vZGVsKGkpLHA9Zi5nZXRNb2RlbCgibGFiZWwiKSxnPXAuZ2V0KCJwb3NpdGlvbiIpfHxmLmdldCgiZW1waGFzaXMubGFiZWwucG9zaXRpb24iKSxtPWYuZ2V0TW9kZWwoImxhYmVsTGluZSIpLHY9bS5nZXQoImxlbmd0aCIpLHk9bS5nZXQoImxlbmd0aDIiKSx4PShkLnN0YXJ0QW5nbGUrZC5lbmRBbmdsZSkvMixfPU1hdGguY29zKHgpLHc9TWF0aC5zaW4oeCk7bz1kLmN4LGE9ZC5jeTt2YXIgYj0iaW5zaWRlIj09PWd8fCJpbm5lciI9PT1nO2lmKCJjZW50ZXIiPT09ZyluPWQuY3gsdT1kLmN5LGM9ImNlbnRlciI7ZWxzZXt2YXIgUz0oYj8oZC5yK2QucjApLzIqXzpkLnIqXykrbyxNPShiPyhkLnIrZC5yMCkvMip3OmQucip3KSthO2lmKG49UyszKl8sdT1NKzMqdywhYil7dmFyIEk9UytfKih2K2UtZC5yKSxUPU0rdyooditlLWQuciksRD1JKyhfPDA/LTE6MSkqeSxBPVQ7bj1EKyhfPDA/LTU6NSksdT1BLGg9W1tTLE1dLFtJLFRdLFtELEFdXX1jPWI/ImNlbnRlciI6Xz4wPyJsZWZ0IjoicmlnaHQifXZhciBDPXAuZ2V0Rm9udCgpLEw9cC5nZXQoInJvdGF0ZSIpP188MD8teCtNYXRoLlBJOi14OjAsaz1tZSh0LmdldEZvcm1hdHRlZExhYmVsKGksIm5vcm1hbCIpfHxyLmdldE5hbWUoaSksQyxjLCJ0b3AiKTtsPSEhTCxkLmxhYmVsPXt4Om4seTp1LHBvc2l0aW9uOmcsaGVpZ2h0OmsuaGVpZ2h0LGxlbjp2LGxlbjI6eSxsaW5lUG9pbnRzOmgsdGV4dEFsaWduOmMsdmVydGljYWxBbGlnbjoibWlkZGxlIixyb3RhdGlvbjpMLGluc2lkZTpifSxifHxzLnB1c2goZC5sYWJlbCl9KSwhbCYmdC5nZXQoImF2b2lkTGFiZWxPdmVybGFwIikmJmZoKHMsbyxhLGUsaSxuKX0sUUQ9MipNYXRoLlBJLHRBPU1hdGguUEkvMTgwLGVBPWZ1bmN0aW9uKHQpe3JldHVybntzZXJpZXNUeXBlOnQscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2lmKGkmJmkubGVuZ3RoKXt2YXIgbj10LmdldERhdGEoKTtuLmZpbHRlclNlbGYoZnVuY3Rpb24odCl7Zm9yKHZhciBlPW4uZ2V0TmFtZSh0KSxvPTA7bzxpLmxlbmd0aDtvKyspaWYoIWlbb10uaXNTZWxlY3RlZChlKSlyZXR1cm4hMTtyZXR1cm4hMH0pfX19fTtLRCgicGllIixbe3R5cGU6InBpZVRvZ2dsZVNlbGVjdCIsZXZlbnQ6InBpZXNlbGVjdGNoYW5nZWQiLG1ldGhvZDoidG9nZ2xlU2VsZWN0ZWQifSx7dHlwZToicGllU2VsZWN0IixldmVudDoicGllc2VsZWN0ZWQiLG1ldGhvZDoic2VsZWN0In0se3R5cGU6InBpZVVuU2VsZWN0IixldmVudDoicGlldW5zZWxlY3RlZCIsbWV0aG9kOiJ1blNlbGVjdCJ9XSkscHMoJEQoInBpZSIpKSxmcyh2KGZ1bmN0aW9uKHQsZSxpLG4pe2UuZWFjaFNlcmllc0J5VHlwZSh0LGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG49ZS5tYXBEaW1lbnNpb24oInZhbHVlIiksbz10LmdldCgiY2VudGVyIiksYT10LmdldCgicmFkaXVzIik7eShhKXx8KGE9WzAsYV0pLHkobyl8fChvPVtvLG9dKTt2YXIgcj1pLmdldFdpZHRoKCkscz1pLmdldEhlaWdodCgpLGw9TWF0aC5taW4ocixzKSx1PURvKG9bMF0sciksaD1EbyhvWzFdLHMpLGM9RG8oYVswXSxsLzIpLGQ9RG8oYVsxXSxsLzIpLGY9LXQuZ2V0KCJzdGFydEFuZ2xlIikqdEEscD10LmdldCgibWluQW5nbGUiKSp0QSxnPTA7ZS5lYWNoKG4sZnVuY3Rpb24odCl7IWlzTmFOKHQpJiZnKyt9KTt2YXIgbT1lLmdldFN1bShuKSx2PU1hdGguUEkvKG18fGcpKjIseD10LmdldCgiY2xvY2t3aXNlIiksXz10LmdldCgicm9zZVR5cGUiKSx3PXQuZ2V0KCJzdGlsbFNob3daZXJvU3VtIiksYj1lLmdldERhdGFFeHRlbnQobik7YlswXT0wO3ZhciBTPVFELE09MCxJPWYsVD14PzE6LTE7aWYoZS5lYWNoKG4sZnVuY3Rpb24odCxpKXt2YXIgbjtpZihpc05hTih0KSllLnNldEl0ZW1MYXlvdXQoaSx7YW5nbGU6TmFOLHN0YXJ0QW5nbGU6TmFOLGVuZEFuZ2xlOk5hTixjbG9ja3dpc2U6eCxjeDp1LGN5OmgscjA6YyxyOl8/TmFOOmR9KTtlbHNleyhuPSJhcmVhIiE9PV8/MD09PW0mJnc/djp0KnY6UUQvZyk8cD8obj1wLFMtPXApOk0rPXQ7dmFyIG89SStUKm47ZS5zZXRJdGVtTGF5b3V0KGkse2FuZ2xlOm4sc3RhcnRBbmdsZTpJLGVuZEFuZ2xlOm8sY2xvY2t3aXNlOngsY3g6dSxjeTpoLHIwOmMscjpfP1RvKHQsYixbYyxkXSk6ZH0pLEk9b319KSxTPFFEJiZnKWlmKFM8PS4wMDEpe3ZhciBEPVFEL2c7ZS5lYWNoKG4sZnVuY3Rpb24odCxpKXtpZighaXNOYU4odCkpe3ZhciBuPWUuZ2V0SXRlbUxheW91dChpKTtuLmFuZ2xlPUQsbi5zdGFydEFuZ2xlPWYrVCppKkQsbi5lbmRBbmdsZT1mK1QqKGkrMSkqRH19KX1lbHNlIHY9Uy9NLEk9ZixlLmVhY2gobixmdW5jdGlvbih0LGkpe2lmKCFpc05hTih0KSl7dmFyIG49ZS5nZXRJdGVtTGF5b3V0KGkpLG89bi5hbmdsZT09PXA/cDp0KnY7bi5zdGFydEFuZ2xlPUksbi5lbmRBbmdsZT1JK1QqbyxJKz1UKm99fSk7SkQodCxkLHIscyl9KX0sInBpZSIpKSxocyhlQSgicGllIikpLHFNLmV4dGVuZCh7dHlwZToic2VyaWVzLnNjYXR0ZXIiLGRlcGVuZGVuY2llczpbImdyaWQiLCJwb2xhciIsImdlbyIsInNpbmdsZUF4aXMiLCJjYWxlbmRhciJdLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFVzKHRoaXMuZ2V0U291cmNlKCksdGhpcyl9LGJydXNoU2VsZWN0b3I6InBvaW50IixnZXRQcm9ncmVzc2l2ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzVlMzp0aGlzLmdldCgicHJvZ3Jlc3NpdmUiKTp0fSxnZXRQcm9ncmVzc2l2ZVRocmVzaG9sZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlVGhyZXNob2xkO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzFlNDp0aGlzLmdldCgicHJvZ3Jlc3NpdmVUaHJlc2hvbGQiKTp0fSxkZWZhdWx0T3B0aW9uOntjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsemxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxob3ZlckFuaW1hdGlvbjohMCxzeW1ib2xTaXplOjEwLGxhcmdlOiExLGxhcmdlVGhyZXNob2xkOjJlMyxpdGVtU3R5bGU6e29wYWNpdHk6Ljh9fX0pO3ZhciBpQT1Fbih7c2hhcGU6e3BvaW50czpudWxsfSxzeW1ib2xQcm94eTpudWxsLGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUucG9pbnRzLG49ZS5zaXplLG89dGhpcy5zeW1ib2xQcm94eSxhPW8uc2hhcGU7aWYoISgodC5nZXRDb250ZXh0P3QuZ2V0Q29udGV4dCgpOnQpJiZuWzBdPDQpKWZvcih2YXIgcj0wO3I8aS5sZW5ndGg7KXt2YXIgcz1pW3IrK10sbD1pW3IrK107aXNOYU4ocyl8fGlzTmFOKGwpfHwoYS54PXMtblswXS8yLGEueT1sLW5bMV0vMixhLndpZHRoPW5bMF0sYS5oZWlnaHQ9blsxXSxvLmJ1aWxkUGF0aCh0LGEsITApKX19LGFmdGVyQnJ1c2g6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zaGFwZSxpPWUucG9pbnRzLG49ZS5zaXplO2lmKG5bMF08NCl7dGhpcy5zZXRUcmFuc2Zvcm0odCk7Zm9yKHZhciBvPTA7bzxpLmxlbmd0aDspe3ZhciBhPWlbbysrXSxyPWlbbysrXTtpc05hTihhKXx8aXNOYU4ocil8fHQuZmlsbFJlY3QoYS1uWzBdLzIsci1uWzFdLzIsblswXSxuWzFdKX10aGlzLnJlc3RvcmVUcmFuc2Zvcm0odCl9fSxmaW5kRGF0YUluZGV4OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuc2hhcGUsbj1pLnBvaW50cyxvPWkuc2l6ZSxhPU1hdGgubWF4KG9bMF0sNCkscj1NYXRoLm1heChvWzFdLDQpLHM9bi5sZW5ndGgvMi0xO3M+PTA7cy0tKXt2YXIgbD0yKnMsdT1uW2xdLWEvMixoPW5bbCsxXS1yLzI7aWYodD49dSYmZT49aCYmdDw9dSthJiZlPD1oK3IpcmV0dXJuIHN9cmV0dXJuLTF9fSksbkE9cGgucHJvdG90eXBlO25BLmlzUGVyc2lzdGVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbmNyZW1lbnRhbH0sbkEudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBlPW5ldyBpQSh7cmVjdEhvdmVyOiEwLGN1cnNvcjoiZGVmYXVsdCJ9KTtlLnNldFNoYXBlKHtwb2ludHM6dC5nZXRMYXlvdXQoInN5bWJvbFBvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGUsdCksdGhpcy5ncm91cC5hZGQoZSksdGhpcy5faW5jcmVtZW50YWw9bnVsbH0sbkEudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9pbmNyZW1lbnRhbCl7dmFyIGU9dC5nZXRMYXlvdXQoInN5bWJvbFBvaW50cyIpO3RoaXMuZ3JvdXAuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe2lmKG51bGwhPXQuc3RhcnRJbmRleCl7dmFyIGk9MioodC5lbmRJbmRleC10LnN0YXJ0SW5kZXgpLG49NCp0LnN0YXJ0SW5kZXgqMjtlPW5ldyBGbG9hdDMyQXJyYXkoZS5idWZmZXIsbixpKX10LnNldFNoYXBlKCJwb2ludHMiLGUpfSl9fSxuQS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9jbGVhckluY3JlbWVudGFsKCksdC5jb3VudCgpPjJlNj8odGhpcy5faW5jcmVtZW50YWx8fCh0aGlzLl9pbmNyZW1lbnRhbD1uZXcgT24oe3NpbGVudDohMH0pKSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9pbmNyZW1lbnRhbCkpOnRoaXMuX2luY3JlbWVudGFsPW51bGx9LG5BLmluY3JlbWVudGFsVXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk7dGhpcy5faW5jcmVtZW50YWw/KGk9bmV3IGlBLHRoaXMuX2luY3JlbWVudGFsLmFkZERpc3BsYXlhYmxlKGksITApKTooKGk9bmV3IGlBKHtyZWN0SG92ZXI6ITAsY3Vyc29yOiJkZWZhdWx0IixzdGFydEluZGV4OnQuc3RhcnQsZW5kSW5kZXg6dC5lbmR9KSkuaW5jcmVtZW50YWw9ITAsdGhpcy5ncm91cC5hZGQoaSkpLGkuc2V0U2hhcGUoe3BvaW50czplLmdldExheW91dCgic3ltYm9sUG9pbnRzIil9KSx0aGlzLl9zZXRDb21tb24oaSxlLCEhdGhpcy5faW5jcmVtZW50YWwpfSxuQS5fc2V0Q29tbW9uPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lLmhvc3RNb2RlbCxvPWUuZ2V0VmlzdWFsKCJzeW1ib2xTaXplIik7dC5zZXRTaGFwZSgic2l6ZSIsbyBpbnN0YW5jZW9mIEFycmF5P286W28sb10pLHQuc3ltYm9sUHJveHk9SWwoZS5nZXRWaXN1YWwoInN5bWJvbCIpLDAsMCwwLDApLHQuc2V0Q29sb3I9dC5zeW1ib2xQcm94eS5zZXRDb2xvcjt2YXIgYT10LnNoYXBlLnNpemVbMF08NDt0LnVzZVN0eWxlKG4uZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZShhP1siY29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93Q29sb3IiXTpbImNvbG9yIl0pKTt2YXIgcj1lLmdldFZpc3VhbCgiY29sb3IiKTtyJiZ0LnNldENvbG9yKHIpLGl8fCh0LnNlcmllc0luZGV4PW4uc2VyaWVzSW5kZXgsdC5vbigibW91c2Vtb3ZlIixmdW5jdGlvbihlKXt0LmRhdGFJbmRleD1udWxsO3ZhciBpPXQuZmluZERhdGFJbmRleChlLm9mZnNldFgsZS5vZmZzZXRZKTtpPj0wJiYodC5kYXRhSW5kZXg9aSsodC5zdGFydEluZGV4fHwwKSl9KSl9LG5BLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFySW5jcmVtZW50YWwoKSx0aGlzLl9pbmNyZW1lbnRhbD1udWxsLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LG5BLl9jbGVhckluY3JlbWVudGFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW5jcmVtZW50YWw7dCYmdC5jbGVhckRpc3BsYXlibGVzKCl9LF9zKHt0eXBlOiJzY2F0dGVyIixyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0RGF0YSgpO3RoaXMuX3VwZGF0ZVN5bWJvbERyYXcobix0KS51cGRhdGVEYXRhKG4pLHRoaXMuX2ZpbmlzaGVkPSEwfSxpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0RGF0YSgpO3RoaXMuX3VwZGF0ZVN5bWJvbERyYXcobix0KS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGUobiksdGhpcy5fZmluaXNoZWQ9ITF9LGluY3JlbWVudGFsUmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9zeW1ib2xEcmF3LmluY3JlbWVudGFsVXBkYXRlKHQsZS5nZXREYXRhKCkpLHRoaXMuX2ZpbmlzaGVkPXQuZW5kPT09ZS5nZXREYXRhKCkuY291bnQoKX0sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKTtpZih0aGlzLmdyb3VwLmRpcnR5KCksIXRoaXMuX2ZpbmlzaGVkfHxuLmNvdW50KCk+MWU0fHwhdGhpcy5fc3ltYm9sRHJhdy5pc1BlcnNpc3RlbnQoKSlyZXR1cm57dXBkYXRlOiEwfTt2YXIgbz1nRCgpLnJlc2V0KHQpO28ucHJvZ3Jlc3MmJm8ucHJvZ3Jlc3Moe3N0YXJ0OjAsZW5kOm4uY291bnQoKX0sbiksdGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQobil9LF91cGRhdGVTeW1ib2xEcmF3OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fc3ltYm9sRHJhdyxuPWUucGlwZWxpbmVDb250ZXh0LmxhcmdlO3JldHVybiBpJiZuPT09dGhpcy5faXNMYXJnZURyYXd8fChpJiZpLnJlbW92ZSgpLGk9dGhpcy5fc3ltYm9sRHJhdz1uP25ldyBwaDpuZXcgJGwsdGhpcy5faXNMYXJnZURyYXc9bix0aGlzLmdyb3VwLnJlbW92ZUFsbCgpKSx0aGlzLmdyb3VwLmFkZChpLmdyb3VwKSxpfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt0aGlzLl9zeW1ib2xEcmF3JiZ0aGlzLl9zeW1ib2xEcmF3LnJlbW92ZSghMCksdGhpcy5fc3ltYm9sRHJhdz1udWxsfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX0pLHBzKHBEKCJzY2F0dGVyIiwiY2lyY2xlIikpLGZzKGdEKCJzY2F0dGVyIikpLHUoZ2gsWVQpLG1oLnByb3RvdHlwZS5nZXRJbmRpY2F0b3JBeGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luZGljYXRvckF4ZXN9LG1oLnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2luZGljYXRvckF4ZXNbZV07cmV0dXJuIHRoaXMuY29vcmRUb1BvaW50KGkuZGF0YVRvQ29vcmQodCksZSl9LG1oLnByb3RvdHlwZS5jb29yZFRvUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9pbmRpY2F0b3JBeGVzW2VdLmFuZ2xlO3JldHVyblt0aGlzLmN4K3QqTWF0aC5jb3MoaSksdGhpcy5jeS10Kk1hdGguc2luKGkpXX0sbWgucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0tdGhpcy5jeCxpPXRbMV0tdGhpcy5jeSxuPU1hdGguc3FydChlKmUraSppKTtlLz1uLGkvPW47Zm9yKHZhciBvLGE9TWF0aC5hdGFuMigtaSxlKSxyPTEvMCxzPS0xLGw9MDtsPHRoaXMuX2luZGljYXRvckF4ZXMubGVuZ3RoO2wrKyl7dmFyIHU9dGhpcy5faW5kaWNhdG9yQXhlc1tsXSxoPU1hdGguYWJzKGEtdS5hbmdsZSk7aDxyJiYobz11LHM9bCxyPWgpfXJldHVybltzLCsobyYmby5jb29kVG9EYXRhKG4pKV19LG1oLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldCgiY2VudGVyIiksbj1lLmdldFdpZHRoKCksbz1lLmdldEhlaWdodCgpLGE9TWF0aC5taW4obixvKS8yO3RoaXMuY3g9RG8oaVswXSxuKSx0aGlzLmN5PURvKGlbMV0sbyksdGhpcy5zdGFydEFuZ2xlPXQuZ2V0KCJzdGFydEFuZ2xlIikqTWF0aC5QSS8xODAsdGhpcy5yPURvKHQuZ2V0KCJyYWRpdXMiKSxhKSxkKHRoaXMuX2luZGljYXRvckF4ZXMsZnVuY3Rpb24odCxlKXt0LnNldEV4dGVudCgwLHRoaXMucik7dmFyIGk9dGhpcy5zdGFydEFuZ2xlK2UqTWF0aC5QSSoyL3RoaXMuX2luZGljYXRvckF4ZXMubGVuZ3RoO2k9TWF0aC5hdGFuMihNYXRoLnNpbihpKSxNYXRoLmNvcyhpKSksdC5hbmdsZT1pfSx0aGlzKX0sbWgucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCl7dmFyIGU9TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMTApKSxpPXQvZTtyZXR1cm4gMj09PWk/aT01OmkqPTIsaSplfXZhciBuPXRoaXMuX2luZGljYXRvckF4ZXMsbz10aGlzLl9tb2RlbDtkKG4sZnVuY3Rpb24odCl7dC5zY2FsZS5zZXRFeHRlbnQoMS8wLC0xLzApfSksdC5lYWNoU2VyaWVzQnlUeXBlKCJyYWRhciIsZnVuY3Rpb24oZSxpKXtpZigicmFkYXIiPT09ZS5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSYmdC5nZXRDb21wb25lbnQoInJhZGFyIixlLmdldCgicmFkYXJJbmRleCIpKT09PW8pe3ZhciBhPWUuZ2V0RGF0YSgpO2QobixmdW5jdGlvbih0KXt0LnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEoYSxhLm1hcERpbWVuc2lvbih0LmRpbSkpfSl9fSx0aGlzKTt2YXIgYT1vLmdldCgic3BsaXROdW1iZXIiKTtkKG4sZnVuY3Rpb24odCxlKXt2YXIgbj1nbCh0LnNjYWxlLHQubW9kZWwpO3ZsKHQuc2NhbGUsdC5tb2RlbCk7dmFyIG89dC5tb2RlbCxyPXQuc2NhbGUscz1vLmdldE1pbigpLGw9by5nZXRNYXgoKSx1PXIuZ2V0SW50ZXJ2YWwoKTtpZihudWxsIT1zJiZudWxsIT1sKXIuc2V0RXh0ZW50KCtzLCtsKSxyLnNldEludGVydmFsKChsLXMpL2EpO2Vsc2UgaWYobnVsbCE9cyl7dmFyIGg7ZG97aD1zK3UqYSxyLnNldEV4dGVudCgrcyxoKSxyLnNldEludGVydmFsKHUpLHU9aSh1KX13aGlsZShoPG5bMV0mJmlzRmluaXRlKGgpJiZpc0Zpbml0ZShuWzFdKSl9ZWxzZSBpZihudWxsIT1sKXt2YXIgYztkb3tjPWwtdSphLHIuc2V0RXh0ZW50KGMsK2wpLHIuc2V0SW50ZXJ2YWwodSksdT1pKHUpfXdoaWxlKGM+blswXSYmaXNGaW5pdGUoYykmJmlzRmluaXRlKG5bMF0pKX1lbHNle3IuZ2V0VGlja3MoKS5sZW5ndGgtMT5hJiYodT1pKHUpKTt2YXIgZD1NYXRoLnJvdW5kKChuWzBdK25bMV0pLzIvdSkqdSxmPU1hdGgucm91bmQoYS8yKTtyLnNldEV4dGVudChBbyhkLWYqdSksQW8oZCsoYS1mKSp1KSksci5zZXRJbnRlcnZhbCh1KX19KX0sbWguZGltZW5zaW9ucz1bXSxtaC5jcmVhdGU9ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJyYWRhciIsZnVuY3Rpb24obil7dmFyIG89bmV3IG1oKG4sdCxlKTtpLnB1c2gobyksbi5jb29yZGluYXRlU3lzdGVtPW99KSx0LmVhY2hTZXJpZXNCeVR5cGUoInJhZGFyIixmdW5jdGlvbih0KXsicmFkYXIiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSYmKHQuY29vcmRpbmF0ZVN5c3RlbT1pW3QuZ2V0KCJyYWRhckluZGV4Iil8fDBdKX0pLGl9LENhLnJlZ2lzdGVyKCJyYWRhciIsbWgpO3ZhciBvQT13RC52YWx1ZUF4aXMsYUE9KHZzKHt0eXBlOiJyYWRhciIsb3B0aW9uVXBkYXRlZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0KCJib3VuZGFyeUdhcCIpLGU9dGhpcy5nZXQoInNwbGl0TnVtYmVyIiksbz10aGlzLmdldCgic2NhbGUiKSxzPXRoaXMuZ2V0KCJheGlzTGluZSIpLGw9dGhpcy5nZXQoImF4aXNUaWNrIiksdT10aGlzLmdldCgiYXhpc0xhYmVsIiksaD10aGlzLmdldCgibmFtZSIpLGM9dGhpcy5nZXQoIm5hbWUuc2hvdyIpLGQ9dGhpcy5nZXQoIm5hbWUuZm9ybWF0dGVyIikscD10aGlzLmdldCgibmFtZUdhcCIpLGc9dGhpcy5nZXQoInRyaWdnZXJFdmVudCIpLG09Zih0aGlzLmdldCgiaW5kaWNhdG9yIil8fFtdLGZ1bmN0aW9uKGYpe251bGwhPWYubWF4JiZmLm1heD4wJiYhZi5taW4/Zi5taW49MDpudWxsIT1mLm1pbiYmZi5taW48MCYmIWYubWF4JiYoZi5tYXg9MCk7dmFyIG09aDtpZihudWxsIT1mLmNvbG9yJiYobT1yKHtjb2xvcjpmLmNvbG9yfSxoKSksZj1uKGkoZikse2JvdW5kYXJ5R2FwOnQsc3BsaXROdW1iZXI6ZSxzY2FsZTpvLGF4aXNMaW5lOnMsYXhpc1RpY2s6bCxheGlzTGFiZWw6dSxuYW1lOmYudGV4dCxuYW1lTG9jYXRpb246ImVuZCIsbmFtZUdhcDpwLG5hbWVUZXh0U3R5bGU6bSx0cmlnZ2VyRXZlbnQ6Z30sITEpLGN8fChmLm5hbWU9IiIpLCJzdHJpbmciPT10eXBlb2YgZCl7dmFyIHY9Zi5uYW1lO2YubmFtZT1kLnJlcGxhY2UoInt2YWx1ZX0iLG51bGwhPXY/djoiIil9ZWxzZSJmdW5jdGlvbiI9PXR5cGVvZiBkJiYoZi5uYW1lPWQoZi5uYW1lLGYpKTt2YXIgeT1hKG5ldyB3byhmLG51bGwsdGhpcy5lY01vZGVsKSxPVCk7cmV0dXJuIHkubWFpblR5cGU9InJhZGFyIix5LmNvbXBvbmVudEluZGV4PXRoaXMuY29tcG9uZW50SW5kZXgseX0sdGhpcyk7dGhpcy5nZXRJbmRpY2F0b3JNb2RlbHM9ZnVuY3Rpb24oKXtyZXR1cm4gbX19LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MCxjZW50ZXI6WyI1MCUiLCI1MCUiXSxyYWRpdXM6Ijc1JSIsc3RhcnRBbmdsZTo5MCxuYW1lOntzaG93OiEwfSxib3VuZGFyeUdhcDpbMCwwXSxzcGxpdE51bWJlcjo1LG5hbWVHYXA6MTUsc2NhbGU6ITEsc2hhcGU6InBvbHlnb24iLGF4aXNMaW5lOm4oe2xpbmVTdHlsZTp7Y29sb3I6IiNiYmIifX0sb0EuYXhpc0xpbmUpLGF4aXNMYWJlbDp2aChvQS5heGlzTGFiZWwsITEpLGF4aXNUaWNrOnZoKG9BLmF4aXNUaWNrLCExKSxzcGxpdExpbmU6dmgob0Euc3BsaXRMaW5lLCEwKSxzcGxpdEFyZWE6dmgob0Euc3BsaXRBcmVhLCEwKSxpbmRpY2F0b3I6W119fSksWyJheGlzTGluZSIsImF4aXNUaWNrTGFiZWwiLCJheGlzTmFtZSJdKTt5cyh7dHlwZToicmFkYXIiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9idWlsZEF4ZXModCksdGhpcy5fYnVpbGRTcGxpdExpbmVBbmRBcmVhKHQpfSxfYnVpbGRBeGVzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtkKGYoZS5nZXRJbmRpY2F0b3JBeGVzKCksZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDRCh0Lm1vZGVsLHtwb3NpdGlvbjpbZS5jeCxlLmN5XSxyb3RhdGlvbjp0LmFuZ2xlLGxhYmVsRGlyZWN0aW9uOi0xLHRpY2tEaXJlY3Rpb246LTEsbmFtZURpcmVjdGlvbjoxfSl9KSxmdW5jdGlvbih0KXtkKGFBLHQuYWRkLHQpLHRoaXMuZ3JvdXAuYWRkKHQuZ2V0R3JvdXAoKSl9LHRoaXMpfSxfYnVpbGRTcGxpdExpbmVBbmRBcmVhOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlLGkpe3ZhciBuPWklZS5sZW5ndGg7cmV0dXJuIHRbbl09dFtuXXx8W10sbn12YXIgaT10LmNvb3JkaW5hdGVTeXN0ZW0sbj1pLmdldEluZGljYXRvckF4ZXMoKTtpZihuLmxlbmd0aCl7dmFyIG89dC5nZXQoInNoYXBlIiksYT10LmdldE1vZGVsKCJzcGxpdExpbmUiKSxzPXQuZ2V0TW9kZWwoInNwbGl0QXJlYSIpLGw9YS5nZXRNb2RlbCgibGluZVN0eWxlIiksdT1zLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxoPWEuZ2V0KCJzaG93IiksYz1zLmdldCgic2hvdyIpLHA9bC5nZXQoImNvbG9yIiksZz11LmdldCgiY29sb3IiKTtwPXkocCk/cDpbcF0sZz15KGcpP2c6W2ddO3ZhciBtPVtdLHY9W107aWYoImNpcmNsZSI9PT1vKWZvcih2YXIgeD1uWzBdLmdldFRpY2tzQ29vcmRzKCksXz1pLmN4LHc9aS5jeSxiPTA7Yjx4Lmxlbmd0aDtiKyspaCYmbVtBPWUobSxwLGIpXS5wdXNoKG5ldyBmUyh7c2hhcGU6e2N4Ol8sY3k6dyxyOnhbYl0uY29vcmR9fSkpLGMmJmI8eC5sZW5ndGgtMSYmdltBPWUodixnLGIpXS5wdXNoKG5ldyB2Uyh7c2hhcGU6e2N4Ol8sY3k6dyxyMDp4W2JdLmNvb3JkLHI6eFtiKzFdLmNvb3JkfX0pKTtlbHNlIGZvcih2YXIgUyxNPWYobixmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0VGlja3NDb29yZHMoKTtyZXR1cm4gUz1udWxsPT1TP24ubGVuZ3RoLTE6TWF0aC5taW4obi5sZW5ndGgtMSxTKSxmKG4sZnVuY3Rpb24odCl7cmV0dXJuIGkuY29vcmRUb1BvaW50KHQuY29vcmQsZSl9KX0pLEk9W10sYj0wO2I8PVM7YisrKXtmb3IodmFyIFQ9W10sRD0wO0Q8bi5sZW5ndGg7RCsrKVQucHVzaChNW0RdW2JdKTtpZihUWzBdJiZULnB1c2goVFswXS5zbGljZSgpKSxoJiZtW0E9ZShtLHAsYildLnB1c2gobmV3IHdTKHtzaGFwZTp7cG9pbnRzOlR9fSkpLGMmJkkpe3ZhciBBPWUodixnLGItMSk7dltBXS5wdXNoKG5ldyBfUyh7c2hhcGU6e3BvaW50czpULmNvbmNhdChJKX19KSl9ST1ULnNsaWNlKCkucmV2ZXJzZSgpfXZhciBDPWwuZ2V0TGluZVN0eWxlKCksTD11LmdldEFyZWFTdHlsZSgpO2QodixmdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAuYWRkKFJTKHQse3N0eWxlOnIoe3N0cm9rZToibm9uZSIsZmlsbDpnW2UlZy5sZW5ndGhdfSxMKSxzaWxlbnQ6ITB9KSl9LHRoaXMpLGQobSxmdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAuYWRkKFJTKHQse3N0eWxlOnIoe2ZpbGw6Im5vbmUiLHN0cm9rZTpwW2UlcC5sZW5ndGhdfSxDKSxzaWxlbnQ6ITB9KSl9LHRoaXMpfX19KTt2YXIgckE9cU0uZXh0ZW5kKHt0eXBlOiJzZXJpZXMucmFkYXIiLGRlcGVuZGVuY2llczpbInJhZGFyIl0saW5pdDpmdW5jdGlvbih0KXtyQS5zdXBlckFwcGx5KHRoaXMsImluaXQiLGFyZ3VtZW50cyksdGhpcy5sZWdlbmREYXRhUHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSYXdEYXRhKCl9fSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiBYRCh0aGlzLHtnZW5lcmF0ZUNvb3JkOiJpbmRpY2F0b3JfIixnZW5lcmF0ZUNvb3JkQ291bnQ6MS8wfSl9LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREYXRhKCksaT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0SW5kaWNhdG9yQXhlcygpLG49dGhpcy5nZXREYXRhKCkuZ2V0TmFtZSh0KTtyZXR1cm4gWm8oIiI9PT1uP3RoaXMubmFtZTpuKSsiPGJyLz4iK2YoaSxmdW5jdGlvbihpLG4pe3ZhciBvPWUuZ2V0KGUubWFwRGltZW5zaW9uKGkuZGltKSx0KTtyZXR1cm4gWm8oaS5uYW1lKyIgOiAiK28pfSkuam9pbigiPGJyIC8+Iil9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJyYWRhciIsbGVnZW5kSG92ZXJMaW5rOiEwLHJhZGFySW5kZXg6MCxsaW5lU3R5bGU6e3dpZHRoOjIsdHlwZToic29saWQifSxsYWJlbDp7cG9zaXRpb246InRvcCJ9LHN5bWJvbDoiZW1wdHlDaXJjbGUiLHN5bWJvbFNpemU6NH19KTtfcyh7dHlwZToicmFkYXIiLHJlbmRlcjpmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbyh0LGUpe3ZhciBpPXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2wiKXx8ImNpcmNsZSIsbj10LmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKTtpZigibm9uZSIhPT1pKXt2YXIgbz15aCh0LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sU2l6ZSIpKSxhPUlsKGksLTEsLTEsMiwyLG4pO3JldHVybiBhLmF0dHIoe3N0eWxlOntzdHJva2VOb1NjYWxlOiEwfSx6MjoxMDAsc2NhbGU6W29bMF0vMixvWzFdLzJdfSksYX19ZnVuY3Rpb24gYShlLGksbixhLHIscyl7bi5yZW1vdmVBbGwoKTtmb3IodmFyIGw9MDtsPGkubGVuZ3RoLTE7bCsrKXt2YXIgdT1vKGEscik7dSYmKHUuX19kaW1JZHg9bCxlW2xdPyh1LmF0dHIoInBvc2l0aW9uIixlW2xdKSx6U1tzPyJpbml0UHJvcHMiOiJ1cGRhdGVQcm9wcyJdKHUse3Bvc2l0aW9uOmlbbF19LHQscikpOnUuYXR0cigicG9zaXRpb24iLGlbbF0pLG4uYWRkKHUpKX19ZnVuY3Rpb24gcyh0KXtyZXR1cm4gZih0LGZ1bmN0aW9uKHQpe3JldHVybltsLmN4LGwuY3ldfSl9dmFyIGw9dC5jb29yZGluYXRlU3lzdGVtLHU9dGhpcy5ncm91cCxoPXQuZ2V0RGF0YSgpLGM9dGhpcy5fZGF0YTtoLmRpZmYoYykuYWRkKGZ1bmN0aW9uKGUpe3ZhciBpPWguZ2V0SXRlbUxheW91dChlKTtpZihpKXt2YXIgbj1uZXcgX1Msbz1uZXcgd1Mscj17c2hhcGU6e3BvaW50czppfX07bi5zaGFwZS5wb2ludHM9cyhpKSxvLnNoYXBlLnBvaW50cz1zKGkpLHBvKG4scix0LGUpLHBvKG8scix0LGUpO3ZhciBsPW5ldyBydyx1PW5ldyBydztsLmFkZChvKSxsLmFkZChuKSxsLmFkZCh1KSxhKG8uc2hhcGUucG9pbnRzLGksdSxoLGUsITApLGguc2V0SXRlbUdyYXBoaWNFbChlLGwpfX0pLnVwZGF0ZShmdW5jdGlvbihlLGkpe3ZhciBuPWMuZ2V0SXRlbUdyYXBoaWNFbChpKSxvPW4uY2hpbGRBdCgwKSxyPW4uY2hpbGRBdCgxKSxzPW4uY2hpbGRBdCgyKSxsPXtzaGFwZTp7cG9pbnRzOmguZ2V0SXRlbUxheW91dChlKX19O2wuc2hhcGUucG9pbnRzJiYoYShvLnNoYXBlLnBvaW50cyxsLnNoYXBlLnBvaW50cyxzLGgsZSwhMSksZm8obyxsLHQpLGZvKHIsbCx0KSxoLnNldEl0ZW1HcmFwaGljRWwoZSxuKSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dS5yZW1vdmUoYy5nZXRJdGVtR3JhcGhpY0VsKHQpKX0pLmV4ZWN1dGUoKSxoLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe2wuYXR0cigiaWdub3JlIixtKX1mdW5jdGlvbiBvKCl7bC5hdHRyKCJpZ25vcmUiLGcpfXZhciBhPWguZ2V0SXRlbU1vZGVsKGUpLHM9dC5jaGlsZEF0KDApLGw9dC5jaGlsZEF0KDEpLGM9dC5jaGlsZEF0KDIpLGQ9aC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIik7dS5hZGQodCkscy51c2VTdHlsZShyKGEuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLHtmaWxsOiJub25lIixzdHJva2U6ZH0pKSxzLmhvdmVyU3R5bGU9YS5nZXRNb2RlbCgiZW1waGFzaXMubGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCk7dmFyIGY9YS5nZXRNb2RlbCgiYXJlYVN0eWxlIikscD1hLmdldE1vZGVsKCJlbXBoYXNpcy5hcmVhU3R5bGUiKSxnPWYuaXNFbXB0eSgpJiZmLnBhcmVudE1vZGVsLmlzRW1wdHkoKSxtPXAuaXNFbXB0eSgpJiZwLnBhcmVudE1vZGVsLmlzRW1wdHkoKTttPW0mJmcsbC5pZ25vcmU9ZyxsLnVzZVN0eWxlKHIoZi5nZXRBcmVhU3R5bGUoKSx7ZmlsbDpkLG9wYWNpdHk6Ljd9KSksbC5ob3ZlclN0eWxlPXAuZ2V0QXJlYVN0eWxlKCk7dmFyIHY9YS5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKFsiY29sb3IiXSkseT1hLmdldE1vZGVsKCJlbXBoYXNpcy5pdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSx4PWEuZ2V0TW9kZWwoImxhYmVsIiksXz1hLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpO2MuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe3Quc2V0U3R5bGUodiksdC5ob3ZlclN0eWxlPWkoeSksaW8odC5zdHlsZSx0LmhvdmVyU3R5bGUseCxfLHtsYWJlbEZldGNoZXI6aC5ob3N0TW9kZWwsbGFiZWxEYXRhSW5kZXg6ZSxsYWJlbERpbUluZGV4OnQuX19kaW1JZHgsZGVmYXVsdFRleHQ6aC5nZXQoaC5kaW1lbnNpb25zW3QuX19kaW1JZHhdLGUpLGF1dG9Db2xvcjpkLGlzUmVjdFRleHQ6ITB9KX0pLHQub2ZmKCJtb3VzZW92ZXIiKS5vZmYoIm1vdXNlb3V0Iikub2ZmKCJub3JtYWwiKS5vZmYoImVtcGhhc2lzIiksdC5vbigiZW1waGFzaXMiLG4pLm9uKCJtb3VzZW92ZXIiLG4pLm9uKCJub3JtYWwiLG8pLm9uKCJtb3VzZW91dCIsbyksZW8odCl9KSx0aGlzLl9kYXRhPWh9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX0pO3BzKCREKCJyYWRhciIpKSxwcyhwRCgicmFkYXIiLCJjaXJjbGUiKSksZnMoZnVuY3Rpb24odCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJyYWRhciIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT1bXSxuPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihuKXtmb3IodmFyIG89bi5nZXRJbmRpY2F0b3JBeGVzKCksYT0wO2E8by5sZW5ndGg7YSsrKWUuZWFjaChlLm1hcERpbWVuc2lvbihvW2FdLmRpbSksZnVuY3Rpb24odCxlKXtpW2VdPWlbZV18fFtdLGlbZV1bYV09bi5kYXRhVG9Qb2ludCh0LGEpfSk7ZS5lYWNoKGZ1bmN0aW9uKHQpe2lbdF1bMF0mJmlbdF0ucHVzaChpW3RdWzBdLnNsaWNlKCkpLGUuc2V0SXRlbUxheW91dCh0LGlbdF0pfSl9fSl9KSxocyhlQSgicmFkYXIiKSksdXMoZnVuY3Rpb24odCl7dmFyIGU9dC5wb2xhcjtpZihlKXt5KGUpfHwoZT1bZV0pO3ZhciBpPVtdO2QoZSxmdW5jdGlvbihlLG4pe2UuaW5kaWNhdG9yPyhlLnR5cGUmJiFlLnNoYXBlJiYoZS5zaGFwZT1lLnR5cGUpLHQucmFkYXI9dC5yYWRhcnx8W10seSh0LnJhZGFyKXx8KHQucmFkYXI9W3QucmFkYXJdKSx0LnJhZGFyLnB1c2goZSkpOmkucHVzaChlKX0pLHQucG9sYXI9aX1kKHQuc2VyaWVzLGZ1bmN0aW9uKHQpe3QmJiJyYWRhciI9PT10LnR5cGUmJnQucG9sYXJJbmRleCYmKHQucmFkYXJJbmRleD10LnBvbGFySW5kZXgpfSl9KTt2YXIgc0E9UTtoKHhoLE9fKSxfaC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOl9oLHR5cGU6InZpZXciLGRpbWVuc2lvbnM6WyJ4IiwieSJdLHNldEJvdW5kaW5nUmVjdDpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdGhpcy5fcmVjdD1uZXcgJHQodCxlLGksbiksdGhpcy5fcmVjdH0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LHNldFZpZXdSZWN0OmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMudHJhbnNmb3JtVG8odCxlLGksbiksdGhpcy5fdmlld1JlY3Q9bmV3ICR0KHQsZSxpLG4pfSx0cmFuc2Zvcm1UbzpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLmdldEJvdW5kaW5nUmVjdCgpLGE9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZTthLnRyYW5zZm9ybT1vLmNhbGN1bGF0ZVRyYW5zZm9ybShuZXcgJHQodCxlLGksbikpLGEuZGVjb21wb3NlVHJhbnNmb3JtKCksdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LHNldENlbnRlcjpmdW5jdGlvbih0KXt0JiYodGhpcy5fY2VudGVyPXQsdGhpcy5fdXBkYXRlQ2VudGVyQW5kWm9vbSgpKX0sc2V0Wm9vbTpmdW5jdGlvbih0KXt0PXR8fDE7dmFyIGU9dGhpcy56b29tTGltaXQ7ZSYmKG51bGwhPWUubWF4JiYodD1NYXRoLm1pbihlLm1heCx0KSksbnVsbCE9ZS5taW4mJih0PU1hdGgubWF4KGUubWluLHQpKSksdGhpcy5fem9vbT10LHRoaXMuX3VwZGF0ZUNlbnRlckFuZFpvb20oKX0sZ2V0RGVmYXVsdENlbnRlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuW3QueCt0LndpZHRoLzIsdC55K3QuaGVpZ2h0LzJdfSxnZXRDZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2VudGVyfHx0aGlzLmdldERlZmF1bHRDZW50ZXIoKX0sZ2V0Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tfHwxfSxnZXRSb2FtVHJhbnNmb3JtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvYW1UcmFuc2Zvcm1hYmxlLmdldExvY2FsVHJhbnNmb3JtKCl9LF91cGRhdGVDZW50ZXJBbmRab29tOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZS5nZXRMb2NhbFRyYW5zZm9ybSgpLGU9dGhpcy5fcm9hbVRyYW5zZm9ybWFibGUsaT10aGlzLmdldERlZmF1bHRDZW50ZXIoKSxuPXRoaXMuZ2V0Q2VudGVyKCksbz10aGlzLmdldFpvb20oKTtuPVEoW10sbix0KSxpPVEoW10saSx0KSxlLm9yaWdpbj1uLGUucG9zaXRpb249W2lbMF0tblswXSxpWzFdLW5bMV1dLGUuc2NhbGU9W28sb10sdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LF91cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yb2FtVHJhbnNmb3JtYWJsZSxlPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7ZS5wYXJlbnQ9dCx0LnVwZGF0ZVRyYW5zZm9ybSgpLGUudXBkYXRlVHJhbnNmb3JtKCksdXQodGhpcy50cmFuc2Zvcm18fCh0aGlzLnRyYW5zZm9ybT1bXSksZS50cmFuc2Zvcm18fHN0KCkpLHRoaXMuX3Jhd1RyYW5zZm9ybT1lLmdldExvY2FsVHJhbnNmb3JtKCksdGhpcy5pbnZUcmFuc2Zvcm09dGhpcy5pbnZUcmFuc2Zvcm18fFtdLHB0KHRoaXMuaW52VHJhbnNmb3JtLHRoaXMudHJhbnNmb3JtKSx0aGlzLmRlY29tcG9zZVRyYW5zZm9ybSgpfSxnZXRWaWV3UmVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3UmVjdH0sZ2V0Vmlld1JlY3RBZnRlclJvYW06ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7cmV0dXJuIHQuYXBwbHlUcmFuc2Zvcm0odGhpcy50cmFuc2Zvcm0pLHR9LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lP3RoaXMuX3Jhd1RyYW5zZm9ybTp0aGlzLnRyYW5zZm9ybTtyZXR1cm4gaT1pfHxbXSxuP3NBKGksdCxuKTpHKGksdCl9LHBvaW50VG9EYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW52VHJhbnNmb3JtO3JldHVybiBlP3NBKFtdLHQsZSk6W3RbMF0sdFsxXV19LGNvbnZlcnRUb1BpeGVsOnYod2gsImRhdGFUb1BvaW50IiksY29udmVydEZyb21QaXhlbDp2KHdoLCJwb2ludFRvRGF0YSIpLGNvbnRhaW5Qb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRWaWV3UmVjdEFmdGVyUm9hbSgpLmNvbnRhaW4odFswXSx0WzFdKX19LGgoX2gsT18pO2Zvcih2YXIgbEE9WzEyNiwyNV0sdUE9W1tbMCwzLjVdLFs3LDExLjJdLFsxNSwxMS45XSxbMzAsN10sWzQyLC43XSxbNTIsLjddLFs1Niw3LjddLFs1OSwuN10sWzY0LC43XSxbNjQsMF0sWzUsMF0sWzAsMy41XV0sW1sxMywxNi4xXSxbMTksMTQuN10sWzE2LDIxLjddLFsxMSwyMy4xXSxbMTMsMTYuMV1dLFtbMTIsMzIuMl0sWzE0LDM4LjVdLFsxNSwzOC41XSxbMTMsMzIuMl0sWzEyLDMyLjJdXSxbWzE2LDQ3LjZdLFsxMiw1My4yXSxbMTMsNTMuMl0sWzE4LDQ3LjZdLFsxNiw0Ny42XV0sW1s2LDY0LjRdLFs4LDcwXSxbOSw3MF0sWzgsNjQuNF0sWzYsNjQuNF1dLFtbMjMsODIuNl0sWzI5LDc5LjhdLFszMCw3OS44XSxbMjUsODIuNl0sWzIzLDgyLjZdXSxbWzM3LDcwLjddLFs0Myw2Mi4zXSxbNDQsNjIuM10sWzM5LDcwLjddLFszNyw3MC43XV0sW1s0OCw1MS4xXSxbNTEsNDUuNV0sWzUzLDQ1LjVdLFs1MCw1MS4xXSxbNDgsNTEuMV1dLFtbNTEsMzVdLFs1MSwyOC43XSxbNTMsMjguN10sWzUzLDM1XSxbNTEsMzVdXSxbWzUyLDIyLjRdLFs1NSwxNy41XSxbNTYsMTcuNV0sWzUzLDIyLjRdLFs1MiwyMi40XV0sW1s1OCwxMi42XSxbNjIsN10sWzYzLDddLFs2MCwxMi42XSxbNTgsMTIuNl1dLFtbMCwzLjVdLFswLDkzLjFdLFs2NCw5My4xXSxbNjQsMF0sWzYzLDBdLFs2Myw5Mi40XSxbMSw5Mi40XSxbMSwzLjVdLFswLDMuNV1dXSxoQT0wO2hBPHVBLmxlbmd0aDtoQSsrKWZvcih2YXIgY0E9MDtjQTx1QVtoQV0ubGVuZ3RoO2NBKyspdUFbaEFdW2NBXVswXS89MTAuNSx1QVtoQV1bY0FdWzFdLz0tMTQsdUFbaEFdW2NBXVswXSs9bEFbMF0sdUFbaEFdW2NBXVsxXSs9bEFbMV07dmFyIGRBPXsi5Y2X5rW36K+45bKbIjpbMzIsODBdLCLlub/kuJwiOlswLC0xMF0sIummmea4ryI6WzEwLDVdLCLmvrPpl6giOlstMTAsMTBdLCLlpKnmtKUiOls1LDVdfSxmQT17UnVzc2lhOlsxMDAsNjBdLCJVbml0ZWQgU3RhdGVzIjpbLTk5LDM4XSwiVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhIjpbLTk5LDM4XX0scEE9W1tbMTIzLjQ1MTY1MjUyNjg1NTQ3LDI1LjczNTI3MTY0NDAyMjYxXSxbMTIzLjQ5NzMxNDQ1MzEyNDk5LDI1LjczNTI3MTY0NDAyMjYxXSxbMTIzLjQ5NzMxNDQ1MzEyNDk5LDI1Ljc1MDczNDA2NDYwMDg4NF0sWzEyMy40NTE2NTI1MjY4NTU0NywyNS43NTA3MzQwNjQ2MDA4ODRdLFsxMjMuNDUxNjUyNTI2ODU1NDcsMjUuNzM1MjcxNjQ0MDIyNjFdXV0sZ0E9W2Z1bmN0aW9uKHQpeyJjaGluYSI9PT10Lm1hcCYmdC5yZWdpb25zLnB1c2gobmV3IEFsKCLljZfmtbfor7jlspsiLGYodUEsZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6InBvbHlnb24iLGV4dGVyaW9yOnR9fSksbEEpKX0sZnVuY3Rpb24odCl7ZCh0LnJlZ2lvbnMsZnVuY3Rpb24odCl7dmFyIGU9ZEFbdC5uYW1lXTtpZihlKXt2YXIgaT10LmNlbnRlcjtpWzBdKz1lWzBdLzEwLjUsaVsxXSs9LWVbMV0vMTR9fSl9LGZ1bmN0aW9uKHQpe2QodC5yZWdpb25zLGZ1bmN0aW9uKHQpe3ZhciBlPWZBW3QubmFtZV07aWYoZSl7dmFyIGk9dC5jZW50ZXI7aVswXT1lWzBdLGlbMV09ZVsxXX19KX0sZnVuY3Rpb24odCl7aWYoImNoaW5hIj09PXQubWFwKWZvcih2YXIgZT0wLGk9dC5yZWdpb25zLmxlbmd0aDtlPGk7KytlKSLlj7Dmub4iPT09dC5yZWdpb25zW2VdLm5hbWUmJnQucmVnaW9uc1tlXS5nZW9tZXRyaWVzLnB1c2goe3R5cGU6InBvbHlnb24iLGV4dGVyaW9yOnBBWzBdfSl9XTtiaC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmJoLHR5cGU6ImdlbyIsZGltZW5zaW9uczpbImxuZyIsImxhdCJdLGNvbnRhaW5Db29yZDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5yZWdpb25zLGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldLmNvbnRhaW4odCkpcmV0dXJuITA7cmV0dXJuITF9LGxvYWRHZW9Kc29uOmZ1bmN0aW9uKHQsZSxpKXt0cnl7dGhpcy5yZWdpb25zPXQ/VVQodCk6W119Y2F0Y2godCl7dGhyb3ciSW52YWxpZCBnZW9Kc29uIGZvcm1hdFxuIit0Lm1lc3NhZ2V9ZT1lfHx7fSxpPWl8fHt9O2Zvcih2YXIgbj10aGlzLnJlZ2lvbnMsbz1SKCksYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgcj1uW2FdLm5hbWU7cj1pLmhhc093blByb3BlcnR5KHIpP2lbcl06cixuW2FdLm5hbWU9cixvLnNldChyLG5bYV0pLHRoaXMuYWRkR2VvQ29vcmQocixuW2FdLmNlbnRlcik7dmFyIHM9ZVtyXTtzJiZuW2FdLnRyYW5zZm9ybVRvKHMubGVmdCxzLnRvcCxzLndpZHRoLHMuaGVpZ2h0KX10aGlzLl9yZWdpb25zTWFwPW8sdGhpcy5fcmVjdD1udWxsLGQoZ0EsZnVuY3Rpb24odCl7dCh0aGlzKX0sdGhpcyl9LHRyYW5zZm9ybVRvOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7KG89by5jbG9uZSgpKS55PS1vLnktby5oZWlnaHQ7dmFyIGE9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZTthLnRyYW5zZm9ybT1vLmNhbGN1bGF0ZVRyYW5zZm9ybShuZXcgJHQodCxlLGksbikpLGEuZGVjb21wb3NlVHJhbnNmb3JtKCk7dmFyIHI9YS5zY2FsZTtyWzFdPS1yWzFdLGEudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LGdldFJlZ2lvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVnaW9uc01hcC5nZXQodCl9LGdldFJlZ2lvbkJ5Q29vcmQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVnaW9ucyxpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5jb250YWluKHQpKXJldHVybiBlW2ldfSxhZGRHZW9Db29yZDpmdW5jdGlvbih0LGUpe3RoaXMuX25hbWVDb29yZE1hcC5zZXQodCxlKX0sZ2V0R2VvQ29vcmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25hbWVDb29yZE1hcC5nZXQodCl9LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe2lmKHRoaXMuX3JlY3QpcmV0dXJuIHRoaXMuX3JlY3Q7Zm9yKHZhciB0LGU9dGhpcy5yZWdpb25zLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49ZVtpXS5nZXRCb3VuZGluZ1JlY3QoKTsodD10fHxuLmNsb25lKCkpLnVuaW9uKG4pfXJldHVybiB0aGlzLl9yZWN0PXR8fG5ldyAkdCgwLDAsMCwwKX0sZGF0YVRvUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dGhpcy5nZXRHZW9Db29yZCh0KSksdClyZXR1cm4gX2gucHJvdG90eXBlLmRhdGFUb1BvaW50LmNhbGwodGhpcyx0LGUsaSl9LGNvbnZlcnRUb1BpeGVsOnYoU2gsImRhdGFUb1BvaW50IiksY29udmVydEZyb21QaXhlbDp2KFNoLCJwb2ludFRvRGF0YSIpfSxoKGJoLF9oKTt2YXIgbUE9e2RpbWVuc2lvbnM6YmgucHJvdG90eXBlLmRpbWVuc2lvbnMsY3JlYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107dC5lYWNoQ29tcG9uZW50KCJnZW8iLGZ1bmN0aW9uKHQsbil7dmFyIG89dC5nZXQoIm1hcCIpLGE9d3Mobykscj1uZXcgYmgobytuLG8sYSYmYS5nZW9Kc29uLGEmJmEuc3BlY2lhbEFyZWFzLHQuZ2V0KCJuYW1lTWFwIikpO3Iuem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0IiksaS5wdXNoKHIpLEloKHIsdCksdC5jb29yZGluYXRlU3lzdGVtPXIsci5tb2RlbD10LHIucmVzaXplPU1oLHIucmVzaXplKHQsZSl9KSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7aWYoImdlbyI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgZT10LmdldCgiZ2VvSW5kZXgiKXx8MDt0LmNvb3JkaW5hdGVTeXN0ZW09aVtlXX19KTt2YXIgbj17fTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLGZ1bmN0aW9uKHQpe2lmKCF0LmdldEhvc3RHZW9Nb2RlbCgpKXt2YXIgZT10LmdldE1hcFR5cGUoKTtuW2VdPW5bZV18fFtdLG5bZV0ucHVzaCh0KX19KSxkKG4sZnVuY3Rpb24odCxuKXt2YXIgYT13cyhuKSxyPWYodCxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoIm5hbWVNYXAiKX0pLHM9bmV3IGJoKG4sbixhJiZhLmdlb0pzb24sYSYmYS5zcGVjaWFsQXJlYXMsbyhyKSk7cy56b29tTGltaXQ9VC5hcHBseShudWxsLGYodCxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoInNjYWxlTGltaXQiKX0pKSxpLnB1c2gocykscy5yZXNpemU9TWgscy5yZXNpemUodFswXSxlKSxkKHQsZnVuY3Rpb24odCl7dC5jb29yZGluYXRlU3lzdGVtPXMsSWgocyx0KX0pfSksaX0sZ2V0RmlsbGVkUmVnaW9uczpmdW5jdGlvbih0LGUsaSl7dmFyIG49KHR8fFtdKS5zbGljZSgpO2k9aXx8e307dmFyIG89d3MoZSksYT1vJiZvLmdlb0pzb247aWYoIWEpcmV0dXJuIHQ7Zm9yKHZhciByPVIoKSxzPWEuZmVhdHVyZXMsbD0wO2w8bi5sZW5ndGg7bCsrKXIuc2V0KG5bbF0ubmFtZSxuW2xdKTtmb3IobD0wO2w8cy5sZW5ndGg7bCsrKXt2YXIgdT1zW2xdLnByb3BlcnRpZXMubmFtZTtyLmdldCh1KXx8KGkuaGFzT3duUHJvcGVydHkodSkmJih1PWlbdV0pLG4ucHVzaCh7bmFtZTp1fSkpfXJldHVybiBufX07ZHMoImdlbyIsbUEpO3ZhciB2QT1xTS5leHRlbmQoe3R5cGU6InNlcmllcy5tYXAiLGRlcGVuZGVuY2llczpbImdlbyJdLGxheW91dE1vZGU6ImJveCIsbmVlZHNEcmF3TWFwOiExLHNlcmllc0dyb3VwOltdLGluaXQ6ZnVuY3Rpb24odCl7dkEuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMudXBkYXRlU2VsZWN0ZWRNYXAodGhpcy5fY3JlYXRlU2VsZWN0YWJsZUxpc3QoKSl9LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQpe3JldHVybiBYRCh0aGlzLFsidmFsdWUiXSl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe3ZBLnN1cGVyQXBwbHkodGhpcywibWVyZ2VPcHRpb24iLGFyZ3VtZW50cyksdGhpcy51cGRhdGVTZWxlY3RlZE1hcCh0aGlzLl9jcmVhdGVTZWxlY3RhYmxlTGlzdCgpKX0sX2NyZWF0ZVNlbGVjdGFibGVMaXN0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0UmF3RGF0YSgpLGU9dC5tYXBEaW1lbnNpb24oInZhbHVlIiksaT1bXSxuPTAsbz10LmNvdW50KCk7bjxvO24rKylpLnB1c2goe25hbWU6dC5nZXROYW1lKG4pLHZhbHVlOnQuZ2V0KGUsbiksc2VsZWN0ZWQ6aXIodCxuLCJzZWxlY3RlZCIpfSk7cmV0dXJuIGk9bUEuZ2V0RmlsbGVkUmVnaW9ucyhpLHRoaXMuZ2V0TWFwVHlwZSgpLHRoaXMub3B0aW9uLm5hbWVNYXApfSxnZXRIb3N0R2VvTW9kZWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5nZW9JbmRleDtyZXR1cm4gbnVsbCE9dD90aGlzLmRlcGVuZGVudE1vZGVscy5nZW9bdF06bnVsbH0sZ2V0TWFwVHlwZTpmdW5jdGlvbigpe3JldHVybih0aGlzLmdldEhvc3RHZW9Nb2RlbCgpfHx0aGlzKS5vcHRpb24ubWFwfSxfZmlsbE9wdGlvbjpmdW5jdGlvbih0LGUpe30sZ2V0UmF3VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREYXRhKCk7cmV0dXJuIGUuZ2V0KGUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHQpfSxnZXRSZWdpb25Nb2RlbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKTtyZXR1cm4gZS5nZXRJdGVtTW9kZWwoZS5pbmRleE9mTmFtZSh0KSl9LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0RGF0YSgpLGk9Rm8odGhpcy5nZXRSYXdWYWx1ZSh0KSksbj1lLmdldE5hbWUodCksbz10aGlzLnNlcmllc0dyb3VwLGE9W10scj0wO3I8by5sZW5ndGg7cisrKXt2YXIgcz1vW3JdLm9yaWdpbmFsRGF0YS5pbmRleE9mTmFtZShuKSxsPWUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpO2lzTmFOKG9bcl0ub3JpZ2luYWxEYXRhLmdldChsLHMpKXx8YS5wdXNoKFpvKG9bcl0ubmFtZSkpfXJldHVybiBhLmpvaW4oIiwgIikrIjxiciAvPiIrWm8obisiIDogIitpKX0sZ2V0VG9vbHRpcFBvc2l0aW9uOmZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLmdldE5hbWUodCksaT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0sbj1pLmdldFJlZ2lvbihlKTtyZXR1cm4gbiYmaS5kYXRhVG9Qb2ludChuLmNlbnRlcil9fSxzZXRab29tOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sc2V0Q2VudGVyOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiZ2VvIixtYXA6IiIsbGVmdDoiY2VudGVyIix0b3A6ImNlbnRlciIsYXNwZWN0U2NhbGU6Ljc1LHNob3dMZWdlbmRTeW1ib2w6ITAsZGF0YVJhbmdlSG92ZXJMaW5rOiEwLGJvdW5kaW5nQ29vcmRzOm51bGwsY2VudGVyOm51bGwsem9vbToxLHNjYWxlTGltaXQ6bnVsbCxsYWJlbDp7c2hvdzohMSxjb2xvcjoiIzAwMCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6LjUsYm9yZGVyQ29sb3I6IiM0NDQiLGFyZWFDb2xvcjoiI2VlZSJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOnthcmVhQ29sb3I6InJnYmEoMjU1LDIxNSwwLDAuOCkifX19fSk7aCh2QSxqRCk7dmFyIHlBPSJcMF9lY19pbnRlcmFjdGlvbl9tdXRleCI7Y3Moe3R5cGU6InRha2VHbG9iYWxDdXJzb3IiLGV2ZW50OiJnbG9iYWxDdXJzb3JUYWtlbiIsdXBkYXRlOiJ1cGRhdGUifSxmdW5jdGlvbigpe30pLGgoTGgsVF8pO3ZhciB4QT17YXhpc1BvaW50ZXI6MSx0b29sdGlwOjEsYnJ1c2g6MX07WmgucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpaaCxkcmF3OmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9ImdlbyI9PT10Lm1haW5UeXBlLHI9dC5nZXREYXRhJiZ0LmdldERhdGEoKTthJiZlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6Im1hcCJ9LGZ1bmN0aW9uKGUpe3J8fGUuZ2V0SG9zdEdlb01vZGVsKCkhPT10fHwocj1lLmdldERhdGEoKSl9KTt2YXIgcz10LmNvb3JkaW5hdGVTeXN0ZW0sbD10aGlzLmdyb3VwLHU9cy5zY2FsZSxoPXtwb3NpdGlvbjpzLnBvc2l0aW9uLHNjYWxlOnV9OyFsLmNoaWxkQXQoMCl8fG8/bC5hdHRyKGgpOmZvKGwsaCx0KSxsLnJlbW92ZUFsbCgpO3ZhciBjPVsiaXRlbVN0eWxlIl0sZj1bImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0scD1bImxhYmVsIl0sZz1bImVtcGhhc2lzIiwibGFiZWwiXSxtPVIoKTtkKHMucmVnaW9ucyxmdW5jdGlvbihlKXt2YXIgaT1tLmdldChlLm5hbWUpfHxtLnNldChlLm5hbWUsbmV3IHJ3KSxuPW5ldyBEUyh7c2hhcGU6e3BhdGhzOltdfX0pO2kuYWRkKG4pO3ZhciBvLHM9KEM9dC5nZXRSZWdpb25Nb2RlbChlLm5hbWUpfHx0KS5nZXRNb2RlbChjKSxoPUMuZ2V0TW9kZWwoZiksdj1XaChzKSx5PVdoKGgpLHg9Qy5nZXRNb2RlbChwKSxfPUMuZ2V0TW9kZWwoZyk7aWYocil7bz1yLmluZGV4T2ZOYW1lKGUubmFtZSk7dmFyIHc9ci5nZXRJdGVtVmlzdWFsKG8sImNvbG9yIiwhMCk7dyYmKHYuZmlsbD13KX1kKGUuZ2VvbWV0cmllcyxmdW5jdGlvbih0KXtpZigicG9seWdvbiI9PT10LnR5cGUpe24uc2hhcGUucGF0aHMucHVzaChuZXcgX1Moe3NoYXBlOntwb2ludHM6dC5leHRlcmlvcn19KSk7Zm9yKHZhciBlPTA7ZTwodC5pbnRlcmlvcnM/dC5pbnRlcmlvcnMubGVuZ3RoOjApO2UrKyluLnNoYXBlLnBhdGhzLnB1c2gobmV3IF9TKHtzaGFwZTp7cG9pbnRzOnQuaW50ZXJpb3JzW2VdfX0pKX19KSxuLnNldFN0eWxlKHYpLG4uc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCxuLmN1bGxpbmc9ITA7dmFyIGI9eC5nZXQoInNob3ciKSxTPV8uZ2V0KCJzaG93IiksTT1yJiZpc05hTihyLmdldChyLm1hcERpbWVuc2lvbigidmFsdWUiKSxvKSksST1yJiZyLmdldEl0ZW1MYXlvdXQobyk7aWYoYXx8TSYmKGJ8fFMpfHxJJiZJLnNob3dMYWJlbCl7dmFyIFQsRD1hP2UubmFtZTpvOyghcnx8bz49MCkmJihUPXQpO3ZhciBBPW5ldyBkUyh7cG9zaXRpb246ZS5jZW50ZXIuc2xpY2UoKSxzY2FsZTpbMS91WzBdLDEvdVsxXV0sejI6MTAsc2lsZW50OiEwfSk7aW8oQS5zdHlsZSxBLmhvdmVyU3R5bGU9e30seCxfLHtsYWJlbEZldGNoZXI6VCxsYWJlbERhdGFJbmRleDpELGRlZmF1bHRUZXh0OmUubmFtZSx1c2VJbnNpZGVTdHlsZTohMX0se3RleHRBbGlnbjoiY2VudGVyIix0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIn0pLGkuYWRkKEEpfWlmKHIpci5zZXRJdGVtR3JhcGhpY0VsKG8saSk7ZWxzZXt2YXIgQz10LmdldFJlZ2lvbk1vZGVsKGUubmFtZSk7bi5ldmVudERhdGE9e2NvbXBvbmVudFR5cGU6ImdlbyIsZ2VvSW5kZXg6dC5jb21wb25lbnRJbmRleCxuYW1lOmUubmFtZSxyZWdpb246QyYmQy5vcHRpb258fHt9fX0oaS5fX3JlZ2lvbnN8fChpLl9fcmVnaW9ucz1bXSkpLnB1c2goZSksZW8oaSx5LHtob3ZlclNpbGVudE9uVG91Y2g6ISF0LmdldCgic2VsZWN0ZWRNb2RlIil9KSxsLmFkZChpKX0pLHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLGkpLEZoKHRoaXMsdCxsLGksbiksSGgodCxsKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9jb250cm9sbGVyLmRpc3Bvc2UoKSx0aGlzLl9jb250cm9sbGVySG9zdD17fX0sX3VwZGF0ZUNvbnRyb2xsZXI6ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4oKXt2YXIgZT17dHlwZToiZ2VvUm9hbSIsY29tcG9uZW50VHlwZTpsfTtyZXR1cm4gZVtsKyJJZCJdPXQuaWQsZX12YXIgbz10LmNvb3JkaW5hdGVTeXN0ZW0scj10aGlzLl9jb250cm9sbGVyLHM9dGhpcy5fY29udHJvbGxlckhvc3Q7cy56b29tTGltaXQ9dC5nZXQoInNjYWxlTGltaXQiKSxzLnpvb209by5nZXRab29tKCksci5lbmFibGUodC5nZXQoInJvYW0iKXx8ITEpO3ZhciBsPXQubWFpblR5cGU7ci5vZmYoInBhbiIpLm9uKCJwYW4iLGZ1bmN0aW9uKHQsZSl7dGhpcy5fbW91c2VEb3duRmxhZz0hMSxCaChzLHQsZSksaS5kaXNwYXRjaEFjdGlvbihhKG4oKSx7ZHg6dCxkeTplfSkpfSx0aGlzKSxyLm9mZigiem9vbSIpLm9uKCJ6b29tIixmdW5jdGlvbih0LGUsbyl7aWYodGhpcy5fbW91c2VEb3duRmxhZz0hMSxWaChzLHQsZSxvKSxpLmRpc3BhdGNoQWN0aW9uKGEobigpLHt6b29tOnQsb3JpZ2luWDplLG9yaWdpblk6b30pKSx0aGlzLl91cGRhdGVHcm91cCl7dmFyIHI9dGhpcy5ncm91cCxsPXIuc2NhbGU7ci50cmF2ZXJzZShmdW5jdGlvbih0KXsidGV4dCI9PT10LnR5cGUmJnQuYXR0cigic2NhbGUiLFsxL2xbMF0sMS9sWzFdXSl9KX19LHRoaXMpLHIuc2V0UG9pbnRlckNoZWNrZXIoZnVuY3Rpb24oZSxuLGEpe3JldHVybiBvLmdldFZpZXdSZWN0QWZ0ZXJSb2FtKCkuY29udGFpbihuLGEpJiYhR2goZSxpLHQpfSl9fSxfcyh7dHlwZToibWFwIixyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7aWYoIW58fCJtYXBUb2dnbGVTZWxlY3QiIT09bi50eXBlfHxuLmZyb20hPT10aGlzLnVpZCl7dmFyIG89dGhpcy5ncm91cDtpZihvLnJlbW92ZUFsbCgpLCF0LmdldEhvc3RHZW9Nb2RlbCgpKXtpZihuJiYiZ2VvUm9hbSI9PT1uLnR5cGUmJiJzZXJpZXMiPT09bi5jb21wb25lbnRUeXBlJiZuLnNlcmllc0lkPT09dC5pZCkoYT10aGlzLl9tYXBEcmF3KSYmby5hZGQoYS5ncm91cCk7ZWxzZSBpZih0Lm5lZWRzRHJhd01hcCl7dmFyIGE9dGhpcy5fbWFwRHJhd3x8bmV3IFpoKGksITApO28uYWRkKGEuZ3JvdXApLGEuZHJhdyh0LGUsaSx0aGlzLG4pLHRoaXMuX21hcERyYXc9YX1lbHNlIHRoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCksdGhpcy5fbWFwRHJhdz1udWxsO3QuZ2V0KCJzaG93TGVnZW5kU3ltYm9sIikmJmUuZ2V0Q29tcG9uZW50KCJsZWdlbmQiKSYmdGhpcy5fcmVuZGVyU3ltYm9scyh0LGUsaSl9fX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKSx0aGlzLl9tYXBEcmF3PW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCksdGhpcy5fbWFwRHJhdz1udWxsfSxfcmVuZGVyU3ltYm9sczpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5vcmlnaW5hbERhdGEsbz10aGlzLmdyb3VwO24uZWFjaChuLm1hcERpbWVuc2lvbigidmFsdWUiKSxmdW5jdGlvbihlLGkpe2lmKCFpc05hTihlKSl7dmFyIGE9bi5nZXRJdGVtTGF5b3V0KGkpO2lmKGEmJmEucG9pbnQpe3ZhciByPWEucG9pbnQscz1hLm9mZnNldCxsPW5ldyBmUyh7c3R5bGU6e2ZpbGw6dC5nZXREYXRhKCkuZ2V0VmlzdWFsKCJjb2xvciIpfSxzaGFwZTp7Y3g6clswXSs5KnMsY3k6clsxXSxyOjN9LHNpbGVudDohMCx6MjpzPzg6MTB9KTtpZighcyl7dmFyIHU9dC5tYWluU2VyaWVzLmdldERhdGEoKSxoPW4uZ2V0TmFtZShpKSxjPXUuaW5kZXhPZk5hbWUoaCksZD1uLmdldEl0ZW1Nb2RlbChpKSxmPWQuZ2V0TW9kZWwoImxhYmVsIikscD1kLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpLGc9dS5nZXRJdGVtR3JhcGhpY0VsKGMpLG09RCh0LmdldEZvcm1hdHRlZExhYmVsKGksIm5vcm1hbCIpLGgpLHY9RCh0LmdldEZvcm1hdHRlZExhYmVsKGksImVtcGhhc2lzIiksbSkseT1mdW5jdGlvbigpe3ZhciB0PW5vKHt9LHAse3RleHQ6cC5nZXQoInNob3ciKT92Om51bGx9LHtpc1JlY3RUZXh0OiEwLHVzZUluc2lkZVN0eWxlOiExfSwhMCk7bC5zdHlsZS5leHRlbmRGcm9tKHQpLGwuX19tYXBPcmlnaW5hbFoyPWwuejIsbC56Mis9MX0seD1mdW5jdGlvbigpe25vKGwuc3R5bGUsZix7dGV4dDpmLmdldCgic2hvdyIpP206bnVsbCx0ZXh0UG9zaXRpb246Zi5nZXRTaGFsbG93KCJwb3NpdGlvbiIpfHwiYm90dG9tIn0se2lzUmVjdFRleHQ6ITAsdXNlSW5zaWRlU3R5bGU6ITF9KSxudWxsIT1sLl9fbWFwT3JpZ2luYWxaMiYmKGwuejI9bC5fX21hcE9yaWdpbmFsWjIsbC5fX21hcE9yaWdpbmFsWjI9bnVsbCl9O2cub24oIm1vdXNlb3ZlciIseSkub24oIm1vdXNlb3V0Iix4KS5vbigiZW1waGFzaXMiLHkpLm9uKCJub3JtYWwiLHgpLHgoKX1vLmFkZChsKX19fSl9fSksY3Moe3R5cGU6Imdlb1JvYW0iLGV2ZW50OiJnZW9Sb2FtIix1cGRhdGU6InVwZGF0ZVRyYW5zZm9ybSJ9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jb21wb25lbnRUeXBlfHwic2VyaWVzIjtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOmkscXVlcnk6dH0sZnVuY3Rpb24oZSl7dmFyIG49ZS5jb29yZGluYXRlU3lzdGVtO2lmKCJnZW8iPT09bi50eXBlKXt2YXIgbz1VaChuLHQsZS5nZXQoInNjYWxlTGltaXQiKSk7ZS5zZXRDZW50ZXImJmUuc2V0Q2VudGVyKG8uY2VudGVyKSxlLnNldFpvb20mJmUuc2V0Wm9vbShvLnpvb20pLCJzZXJpZXMiPT09aSYmZChlLnNlcmllc0dyb3VwLGZ1bmN0aW9uKHQpe3Quc2V0Q2VudGVyKG8uY2VudGVyKSx0LnNldFpvb20oby56b29tKX0pfX0pfSk7ZnMoZnVuY3Rpb24odCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLGZ1bmN0aW9uKGkpe3ZhciBuPWkuZ2V0TWFwVHlwZSgpO2lmKCFpLmdldEhvc3RHZW9Nb2RlbCgpJiYhZVtuXSl7dmFyIG89e307ZChpLnNlcmllc0dyb3VwLGZ1bmN0aW9uKGUpe3ZhciBpPWUuY29vcmRpbmF0ZVN5c3RlbSxuPWUub3JpZ2luYWxEYXRhO2UuZ2V0KCJzaG93TGVnZW5kU3ltYm9sIikmJnQuZ2V0Q29tcG9uZW50KCJsZWdlbmQiKSYmbi5lYWNoKG4ubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLGZ1bmN0aW9uKHQsZSl7dmFyIGE9bi5nZXROYW1lKGUpLHI9aS5nZXRSZWdpb24oYSk7aWYociYmIWlzTmFOKHQpKXt2YXIgcz1vW2FdfHwwLGw9aS5kYXRhVG9Qb2ludChyLmNlbnRlcik7b1thXT1zKzEsbi5zZXRJdGVtTGF5b3V0KGUse3BvaW50Omwsb2Zmc2V0OnN9KX19KX0pO3ZhciBhPWkuZ2V0RGF0YSgpO2EuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1hLmdldE5hbWUodCksaT1hLmdldEl0ZW1MYXlvdXQodCl8fHt9O2kuc2hvd0xhYmVsPSFvW2VdLGEuc2V0SXRlbUxheW91dCh0LGkpfSksZVtuXT0hMH19KX0pLHBzKGZ1bmN0aW9uKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgibWFwIixmdW5jdGlvbih0KXt2YXIgZT10LmdldCgiY29sb3IiKSxpPXQuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLG49aS5nZXQoImFyZWFDb2xvciIpLG89aS5nZXQoImNvbG9yIil8fGVbdC5zZXJpZXNJbmRleCVlLmxlbmd0aF07dC5nZXREYXRhKCkuc2V0VmlzdWFsKHthcmVhQ29sb3I6bixjb2xvcjpvfSl9KX0pLGhzKENJLlBST0NFU1NPUi5TVEFUSVNUSUMsZnVuY3Rpb24odCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0SG9zdEdlb01vZGVsKCksbj1pPyJvIitpLmlkOiJpIit0LmdldE1hcFR5cGUoKTsoZVtuXT1lW25dfHxbXSkucHVzaCh0KX0pLGQoZSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1YaChmKHQsZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0RGF0YSgpfSksdFswXS5nZXQoIm1hcFZhbHVlQ2FsY3VsYXRpb24iKSksbj0wO248dC5sZW5ndGg7bisrKXRbbl0ub3JpZ2luYWxEYXRhPXRbbl0uZ2V0RGF0YSgpO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXS5zZXJpZXNHcm91cD10LHRbbl0ubmVlZHNEcmF3TWFwPTA9PT1uJiYhdFtuXS5nZXRIb3N0R2VvTW9kZWwoKSx0W25dLnNldERhdGEoaS5jbG9uZVNoYWxsb3coKSksdFtuXS5tYWluU2VyaWVzPXRbMF19KX0pLHVzKGZ1bmN0aW9uKHQpe3ZhciBlPVtdO2QodC5zZXJpZXMsZnVuY3Rpb24odCl7dCYmIm1hcCI9PT10LnR5cGUmJihlLnB1c2godCksdC5tYXA9dC5tYXB8fHQubWFwVHlwZSxyKHQsdC5tYXBMb2NhdGlvbikpfSl9KSxLRCgibWFwIixbe3R5cGU6Im1hcFRvZ2dsZVNlbGVjdCIsZXZlbnQ6Im1hcHNlbGVjdGNoYW5nZWQiLG1ldGhvZDoidG9nZ2xlU2VsZWN0ZWQifSx7dHlwZToibWFwU2VsZWN0IixldmVudDoibWFwc2VsZWN0ZWQiLG1ldGhvZDoic2VsZWN0In0se3R5cGU6Im1hcFVuU2VsZWN0IixldmVudDoibWFwdW5zZWxlY3RlZCIsbWV0aG9kOiJ1blNlbGVjdCJ9XSk7dmFyIF9BPWQsd0E9IlwwX19saW5rX2RhdGFzIixiQT0iXDBfX2xpbmtfbWFpbkRhdGEiLFNBPWZ1bmN0aW9uKHQsZSl7dGhpcy5uYW1lPXR8fCIiLHRoaXMuZGVwdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMucGFyZW50Tm9kZT1udWxsLHRoaXMuZGF0YUluZGV4PS0xLHRoaXMuY2hpbGRyZW49W10sdGhpcy52aWV3Q2hpbGRyZW49W10sdGhpcy5ob3N0VHJlZT1lfTtTQS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlNBLGlzUmVtb3ZlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFJbmRleDwwfSxlYWNoTm9kZTpmdW5jdGlvbih0LGUsaSl7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihpPWUsZT10LHQ9bnVsbCksXyh0PXR8fHt9KSYmKHQ9e29yZGVyOnR9KTt2YXIgbixvPXQub3JkZXJ8fCJwcmVvcmRlciIsYT10aGlzW3QuYXR0cnx8ImNoaWxkcmVuIl07InByZW9yZGVyIj09PW8mJihuPWUuY2FsbChpLHRoaXMpKTtmb3IodmFyIHI9MDshbiYmcjxhLmxlbmd0aDtyKyspYVtyXS5lYWNoTm9kZSh0LGUsaSk7InBvc3RvcmRlciI9PT1vJiZlLmNhbGwoaSx0aGlzKX0sdXBkYXRlRGVwdGhBbmRIZWlnaHQ6ZnVuY3Rpb24odCl7dmFyIGU9MDt0aGlzLmRlcHRoPXQ7Zm9yKHZhciBpPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuY2hpbGRyZW5baV07bi51cGRhdGVEZXB0aEFuZEhlaWdodCh0KzEpLG4uaGVpZ2h0PmUmJihlPW4uaGVpZ2h0KX10aGlzLmhlaWdodD1lKzF9LGdldE5vZGVCeUlkOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZ2V0SWQoKT09PXQpcmV0dXJuIHRoaXM7Zm9yKHZhciBlPTAsaT10aGlzLmNoaWxkcmVuLG49aS5sZW5ndGg7ZTxuO2UrKyl7dmFyIG89aVtlXS5nZXROb2RlQnlJZCh0KTtpZihvKXJldHVybiBvfX0sY29udGFpbnM6ZnVuY3Rpb24odCl7aWYodD09PXRoaXMpcmV0dXJuITA7Zm9yKHZhciBlPTAsaT10aGlzLmNoaWxkcmVuLG49aS5sZW5ndGg7ZTxuO2UrKyl7dmFyIG89aVtlXS5jb250YWlucyh0KTtpZihvKXJldHVybiBvfX0sZ2V0QW5jZXN0b3JzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPXQ/dGhpczp0aGlzLnBhcmVudE5vZGU7aTspZS5wdXNoKGkpLGk9aS5wYXJlbnROb2RlO3JldHVybiBlLnJldmVyc2UoKSxlfSxnZXRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmhvc3RUcmVlLmRhdGE7cmV0dXJuIGUuZ2V0KGUuZ2V0RGltZW5zaW9uKHR8fCJ2YWx1ZSIpLHRoaXMuZGF0YUluZGV4KX0sc2V0TGF5b3V0OmZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXMuaG9zdFRyZWUuZGF0YS5zZXRJdGVtTGF5b3V0KHRoaXMuZGF0YUluZGV4LHQsZSl9LGdldExheW91dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCl9LGdldE1vZGVsOmZ1bmN0aW9uKHQpe2lmKCEodGhpcy5kYXRhSW5kZXg8MCkpe3ZhciBlLGk9dGhpcy5ob3N0VHJlZSxuPWkuZGF0YS5nZXRJdGVtTW9kZWwodGhpcy5kYXRhSW5kZXgpLG89dGhpcy5nZXRMZXZlbE1vZGVsKCk7cmV0dXJuIG98fDAhPT10aGlzLmNoaWxkcmVuLmxlbmd0aCYmKDA9PT10aGlzLmNoaWxkcmVuLmxlbmd0aHx8ITEhPT10aGlzLmlzRXhwYW5kKXx8KGU9dGhpcy5nZXRMZWF2ZXNNb2RlbCgpKSxuLmdldE1vZGVsKHQsKG98fGV8fGkuaG9zdE1vZGVsKS5nZXRNb2RlbCh0KSl9fSxnZXRMZXZlbE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaG9zdFRyZWUubGV2ZWxNb2RlbHN8fFtdKVt0aGlzLmRlcHRoXX0sZ2V0TGVhdmVzTW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3N0VHJlZS5sZWF2ZXNNb2RlbH0sc2V0VmlzdWFsOmZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXMuaG9zdFRyZWUuZGF0YS5zZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LHQsZSl9LGdldFZpc3VhbDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCx0LGUpfSxnZXRSYXdJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0UmF3SW5kZXgodGhpcy5kYXRhSW5kZXgpfSxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SWQodGhpcy5kYXRhSW5kZXgpfSxpc0FuY2VzdG9yT2Y6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQucGFyZW50Tm9kZTtlOyl7aWYoZT09PXRoaXMpcmV0dXJuITA7ZT1lLnBhcmVudE5vZGV9cmV0dXJuITF9LGlzRGVzY2VuZGFudE9mOmZ1bmN0aW9uKHQpe3JldHVybiB0IT09dGhpcyYmdC5pc0FuY2VzdG9yT2YodGhpcyl9fSxlYy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmVjLHR5cGU6InRyZWUiLGVhY2hOb2RlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLnJvb3QuZWFjaE5vZGUodCxlLGkpfSxnZXROb2RlQnlEYXRhSW5kZXg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLmdldFJhd0luZGV4KHQpO3JldHVybiB0aGlzLl9ub2Rlc1tlXX0sZ2V0Tm9kZUJ5TmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb290LmdldE5vZGVCeU5hbWUodCl9LHVwZGF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRhdGEsZT10aGlzLl9ub2RlcyxpPTAsbj1lLmxlbmd0aDtpPG47aSsrKWVbaV0uZGF0YUluZGV4PS0xO2Zvcih2YXIgaT0wLG49dC5jb3VudCgpO2k8bjtpKyspZVt0LmdldFJhd0luZGV4KGkpXS5kYXRhSW5kZXg9aX0sY2xlYXJMYXlvdXRzOmZ1bmN0aW9uKCl7dGhpcy5kYXRhLmNsZWFySXRlbUxheW91dHMoKX19LGVjLmNyZWF0ZVRyZWU9ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXt2YXIgaT10LnZhbHVlO3I9TWF0aC5tYXgocix5KGkpP2kubGVuZ3RoOjEpLGEucHVzaCh0KTt2YXIgcz1uZXcgU0EodC5uYW1lLG8pO2U/aWMocyxlKTpvLnJvb3Q9cyxvLl9ub2Rlcy5wdXNoKHMpO3ZhciBsPXQuY2hpbGRyZW47aWYobClmb3IodmFyIHU9MDt1PGwubGVuZ3RoO3UrKyluKGxbdV0scyl9dmFyIG89bmV3IGVjKGUsaS5sZXZlbHMsaS5sZWF2ZXMpLGE9W10scj0xO24odCksby5yb290LnVwZGF0ZURlcHRoQW5kSGVpZ2h0KDApO3ZhciBzPXVUKGEse2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZGltZW5zaW9uc0NvdW50OnJ9KSxsPW5ldyByVChzLGUpO3JldHVybiBsLmluaXREYXRhKGEpLGpoKHttYWluRGF0YTpsLHN0cnVjdDpvLHN0cnVjdEF0dHI6InRyZWUifSksby51cGRhdGUoKSxvfSxxTS5leHRlbmQoe3R5cGU6InNlcmllcy50cmVlIixsYXlvdXRJbmZvOm51bGwsbGF5b3V0TW9kZToiYm94IixnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0KXt2YXIgZT17bmFtZTp0Lm5hbWUsY2hpbGRyZW46dC5kYXRhfSxpPXQubGVhdmVzfHx7fSxuPXt9O24ubGVhdmVzPWk7dmFyIG89ZWMuY3JlYXRlVHJlZShlLHRoaXMsbiksYT0wO28uZWFjaE5vZGUoInByZW9yZGVyIixmdW5jdGlvbih0KXt0LmRlcHRoPmEmJihhPXQuZGVwdGgpfSk7dmFyIHI9dC5leHBhbmRBbmRDb2xsYXBzZSYmdC5pbml0aWFsVHJlZURlcHRoPj0wP3QuaW5pdGlhbFRyZWVEZXB0aDphO3JldHVybiBvLnJvb3QuZWFjaE5vZGUoInByZW9yZGVyIixmdW5jdGlvbih0KXt2YXIgZT10Lmhvc3RUcmVlLmRhdGEuZ2V0UmF3RGF0YUl0ZW0odC5kYXRhSW5kZXgpO3QuaXNFeHBhbmQ9ZSYmbnVsbCE9ZS5jb2xsYXBzZWQ/IWUuY29sbGFwc2VkOnQuZGVwdGg8PXJ9KSxvLmRhdGF9LGdldE9yaWVudDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0KCJvcmllbnQiKTtyZXR1cm4iaG9yaXpvbnRhbCI9PT10P3Q9IkxSIjoidmVydGljYWwiPT09dCYmKHQ9IlRCIiksdH0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXREYXRhKCkudHJlZSxpPWUucm9vdC5jaGlsZHJlblswXSxuPWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KHQpLG89bi5nZXRWYWx1ZSgpLGE9bi5uYW1lO24mJm4hPT1pOylhPW4ucGFyZW50Tm9kZS5uYW1lKyIuIithLG49bi5wYXJlbnROb2RlO3JldHVybiBabyhhKyhpc05hTihvKXx8bnVsbD09bz8iIjoiIDogIitvKSl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MixsZWZ0OiIxMiUiLHRvcDoiMTIlIixyaWdodDoiMTIlIixib3R0b206IjEyJSIsbGF5b3V0OiJvcnRob2dvbmFsIixvcmllbnQ6IkxSIixzeW1ib2w6ImVtcHR5Q2lyY2xlIixzeW1ib2xTaXplOjcsZXhwYW5kQW5kQ29sbGFwc2U6ITAsaW5pdGlhbFRyZWVEZXB0aDoyLGxpbmVTdHlsZTp7Y29sb3I6IiNjY2MiLHdpZHRoOjEuNSxjdXJ2ZW5lc3M6LjV9LGl0ZW1TdHlsZTp7Y29sb3I6ImxpZ2h0c3RlZWxibHVlIixib3JkZXJDb2xvcjoiI2MyMzUzMSIsYm9yZGVyV2lkdGg6MS41fSxsYWJlbDp7c2hvdzohMCxjb2xvcjoiIzU1NSJ9LGxlYXZlczp7bGFiZWw6e3Nob3c6ITB9fSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciIsYW5pbWF0aW9uRHVyYXRpb246NzAwLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjFlM319KSxfcyh7dHlwZToidHJlZSIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuX29sZFRyZWUsdGhpcy5fbWFpbkdyb3VwPW5ldyBydyx0aGlzLmdyb3VwLmFkZCh0aGlzLl9tYWluR3JvdXApfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXREYXRhKCksYT10LmxheW91dEluZm8scj10aGlzLl9tYWluR3JvdXAscz10LmdldCgibGF5b3V0Iik7InJhZGlhbCI9PT1zP3IuYXR0cigicG9zaXRpb24iLFthLngrYS53aWR0aC8yLGEueSthLmhlaWdodC8yXSk6ci5hdHRyKCJwb3NpdGlvbiIsW2EueCxhLnldKTt2YXIgbD10aGlzLl9kYXRhLHU9e2V4cGFuZEFuZENvbGxhcHNlOnQuZ2V0KCJleHBhbmRBbmRDb2xsYXBzZSIpLGxheW91dDpzLG9yaWVudDp0LmdldE9yaWVudCgpLGN1cnZhdHVyZTp0LmdldCgibGluZVN0eWxlLmN1cnZlbmVzcyIpLHN5bWJvbFJvdGF0ZTp0LmdldCgic3ltYm9sUm90YXRlIiksc3ltYm9sT2Zmc2V0OnQuZ2V0KCJzeW1ib2xPZmZzZXQiKSxob3ZlckFuaW1hdGlvbjp0LmdldCgiaG92ZXJBbmltYXRpb24iKSx1c2VOYW1lTGFiZWw6ITAsZmFkZUluOiEwfTtvLmRpZmYobCkuYWRkKGZ1bmN0aW9uKGUpe21jKG8sZSkmJnljKG8sZSxudWxsLHIsdCx1KX0pLnVwZGF0ZShmdW5jdGlvbihlLGkpe3ZhciBuPWwuZ2V0SXRlbUdyYXBoaWNFbChpKTttYyhvLGUpP3ljKG8sZSxuLHIsdCx1KTpuJiZ4YyhsLGksbixyLHQsdSl9KS5yZW1vdmUoZnVuY3Rpb24oZSl7dmFyIGk9bC5nZXRJdGVtR3JhcGhpY0VsKGUpO2kmJnhjKGwsZSxpLHIsdCx1KX0pLmV4ZWN1dGUoKSwhMD09PXUuZXhwYW5kQW5kQ29sbGFwc2UmJm8uZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24oZSxuKXtlLm9mZigiY2xpY2siKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7aS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZUV4cGFuZEFuZENvbGxhcHNlIixzZXJpZXNJZDp0LmlkLGRhdGFJbmRleDpufSl9KX0pLHRoaXMuX2RhdGE9b30sZGlzcG9zZTpmdW5jdGlvbigpe30scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fbWFpbkdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH19KSxjcyh7dHlwZToidHJlZUV4cGFuZEFuZENvbGxhcHNlIixldmVudDoidHJlZUV4cGFuZEFuZENvbGxhcHNlIix1cGRhdGU6InVwZGF0ZSJ9LGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJ0cmVlIixxdWVyeTp0fSxmdW5jdGlvbihlKXt2YXIgaT10LmRhdGFJbmRleCxuPWUuZ2V0RGF0YSgpLnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGkpO24uaXNFeHBhbmQ9IW4uaXNFeHBhbmR9KX0pO3BzKHBEKCJ0cmVlIiwiY2lyY2xlIikpLGZzKGZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJ0cmVlIixmdW5jdGlvbih0KXtTYyh0LGUpfSl9KSxxTS5leHRlbmQoe3R5cGU6InNlcmllcy50cmVlbWFwIixsYXlvdXRNb2RlOiJib3giLGRlcGVuZGVuY2llczpbImdyaWQiLCJwb2xhciJdLF92aWV3Um9vdDpudWxsLGRlZmF1bHRPcHRpb246e3Byb2dyZXNzaXZlOjAsaG92ZXJMYXllclRocmVzaG9sZDoxLzAsbGVmdDoiY2VudGVyIix0b3A6Im1pZGRsZSIscmlnaHQ6bnVsbCxib3R0b206bnVsbCx3aWR0aDoiODAlIixoZWlnaHQ6IjgwJSIsc29ydDohMCxjbGlwV2luZG93OiJvcmlnaW4iLHNxdWFyZVJhdGlvOi41KigxK01hdGguc3FydCg1KSksbGVhZkRlcHRoOm51bGwsZHJpbGxEb3duSWNvbjoi4pa2Iix6b29tVG9Ob2RlUmF0aW86LjEwMjQscm9hbTohMCxub2RlQ2xpY2s6Inpvb21Ub05vZGUiLGFuaW1hdGlvbjohMCxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo5MDAsYW5pbWF0aW9uRWFzaW5nOiJxdWludGljSW5PdXQiLGJyZWFkY3J1bWI6e3Nob3c6ITAsaGVpZ2h0OjIyLGxlZnQ6ImNlbnRlciIsdG9wOiJib3R0b20iLGVtcHR5SXRlbVdpZHRoOjI1LGl0ZW1TdHlsZTp7Y29sb3I6InJnYmEoMCwwLDAsMC43KSIsYm9yZGVyQ29sb3I6InJnYmEoMjU1LDI1NSwyNTUsMC43KSIsYm9yZGVyV2lkdGg6MSxzaGFkb3dDb2xvcjoicmdiYSgxNTAsMTUwLDE1MCwxKSIsc2hhZG93Qmx1cjozLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsdGV4dFN0eWxlOntjb2xvcjoiI2ZmZiJ9fSxlbXBoYXNpczp7dGV4dFN0eWxlOnt9fX0sbGFiZWw6e3Nob3c6ITAsZGlzdGFuY2U6MCxwYWRkaW5nOjUscG9zaXRpb246Imluc2lkZSIsY29sb3I6IiNmZmYiLGVsbGlwc2lzOiEwfSx1cHBlckxhYmVsOntzaG93OiExLHBvc2l0aW9uOlswLCI1MCUiXSxoZWlnaHQ6MjAsY29sb3I6IiNmZmYiLGVsbGlwc2lzOiEwLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LGl0ZW1TdHlsZTp7Y29sb3I6bnVsbCxjb2xvckFscGhhOm51bGwsY29sb3JTYXR1cmF0aW9uOm51bGwsYm9yZGVyV2lkdGg6MCxnYXBXaWR0aDowLGJvcmRlckNvbG9yOiIjZmZmIixib3JkZXJDb2xvclNhdHVyYXRpb246bnVsbH0sZW1waGFzaXM6e3VwcGVyTGFiZWw6e3Nob3c6ITAscG9zaXRpb246WzAsIjUwJSJdLGNvbG9yOiIjZmZmIixlbGxpcHNpczohMCx2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifX0sdmlzdWFsRGltZW5zaW9uOjAsdmlzdWFsTWluOm51bGwsdmlzdWFsTWF4Om51bGwsY29sb3I6W10sY29sb3JBbHBoYTpudWxsLGNvbG9yU2F0dXJhdGlvbjpudWxsLGNvbG9yTWFwcGluZ0J5OiJpbmRleCIsdmlzaWJsZU1pbjoxMCxjaGlsZHJlblZpc2libGVNaW46bnVsbCxsZXZlbHM6W119LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9e25hbWU6dC5uYW1lLGNoaWxkcmVuOnQuZGF0YX07QWMoaSk7dmFyIG49dC5sZXZlbHN8fFtdO249dC5sZXZlbHM9Q2MobixlKTt2YXIgbz17fTtyZXR1cm4gby5sZXZlbHM9bixlYy5jcmVhdGVUcmVlKGksdGhpcyxvKS5kYXRhfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKCl7dGhpcy5yZXNldFZpZXdSb290KCl9LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREYXRhKCksaT10aGlzLmdldFJhd1ZhbHVlKHQpLG49Rm8oeShpKT9pWzBdOmkpO3JldHVybiBabyhlLmdldE5hbWUodCkrIjogIituKX0sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT1xTS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5hcHBseSh0aGlzLGFyZ3VtZW50cyksaT10aGlzLmdldERhdGEoKS50cmVlLmdldE5vZGVCeURhdGFJbmRleCh0KTtyZXR1cm4gZS50cmVlUGF0aEluZm89RGMoaSx0aGlzKSxlfSxzZXRMYXlvdXRJbmZvOmZ1bmN0aW9uKHQpe3RoaXMubGF5b3V0SW5mbz10aGlzLmxheW91dEluZm98fHt9LGEodGhpcy5sYXlvdXRJbmZvLHQpfSxtYXBJZFRvSW5kZXg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faWRJbmRleE1hcDtlfHwoZT10aGlzLl9pZEluZGV4TWFwPVIoKSx0aGlzLl9pZEluZGV4TWFwQ291bnQ9MCk7dmFyIGk9ZS5nZXQodCk7cmV0dXJuIG51bGw9PWkmJmUuc2V0KHQsaT10aGlzLl9pZEluZGV4TWFwQ291bnQrKyksaX0sZ2V0Vmlld1Jvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld1Jvb3R9LHJlc2V0Vmlld1Jvb3Q6ZnVuY3Rpb24odCl7dD90aGlzLl92aWV3Um9vdD10OnQ9dGhpcy5fdmlld1Jvb3Q7dmFyIGU9dGhpcy5nZXRSYXdEYXRhKCkudHJlZS5yb290O3QmJih0PT09ZXx8ZS5jb250YWlucyh0KSl8fCh0aGlzLl92aWV3Um9vdD1lKX19KTt2YXIgTUE9NTtMYy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkxjLHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldE1vZGVsKCJicmVhZGNydW1iIiksYT10aGlzLmdyb3VwO2lmKGEucmVtb3ZlQWxsKCksby5nZXQoInNob3ciKSYmaSl7dmFyIHI9by5nZXRNb2RlbCgiaXRlbVN0eWxlIikscz1yLmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSxsPXtwb3M6e2xlZnQ6by5nZXQoImxlZnQiKSxyaWdodDpvLmdldCgicmlnaHQiKSx0b3A6by5nZXQoInRvcCIpLGJvdHRvbTpvLmdldCgiYm90dG9tIil9LGJveDp7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxlbXB0eUl0ZW1XaWR0aDpvLmdldCgiZW1wdHlJdGVtV2lkdGgiKSx0b3RhbFdpZHRoOjAscmVuZGVyTGlzdDpbXX07dGhpcy5fcHJlcGFyZShpLGwscyksdGhpcy5fcmVuZGVyQ29udGVudCh0LGwscixzLG4pLHRhKGEsbC5wb3MsbC5ib3gpfX0sX3ByZXBhcmU6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10O247bj1uLnBhcmVudE5vZGUpe3ZhciBvPW4uZ2V0TW9kZWwoKS5nZXQoIm5hbWUiKSxhPWkuZ2V0VGV4dFJlY3Qobykscj1NYXRoLm1heChhLndpZHRoKzE2LGUuZW1wdHlJdGVtV2lkdGgpO2UudG90YWxXaWR0aCs9cis4LGUucmVuZGVyTGlzdC5wdXNoKHtub2RlOm4sdGV4dDpvLHdpZHRoOnJ9KX19LF9yZW5kZXJDb250ZW50OmZ1bmN0aW9uKHQsZSxpLG4sbyl7Zm9yKHZhciBhPTAscz1lLmVtcHR5SXRlbVdpZHRoLGw9dC5nZXQoImJyZWFkY3J1bWIuaGVpZ2h0IiksdT1KbyhlLnBvcyxlLmJveCksaD1lLnRvdGFsV2lkdGgsYz1lLnJlbmRlckxpc3QsZD1jLmxlbmd0aC0xO2Q+PTA7ZC0tKXt2YXIgZj1jW2RdLHA9Zi5ub2RlLGc9Zi53aWR0aCxtPWYudGV4dDtoPnUud2lkdGgmJihoLT1nLXMsZz1zLG09bnVsbCk7dmFyIHk9bmV3IF9TKHtzaGFwZTp7cG9pbnRzOmtjKGEsMCxnLGwsZD09PWMubGVuZ3RoLTEsMD09PWQpfSxzdHlsZTpyKGkuZ2V0SXRlbVN0eWxlKCkse2xpbmVKb2luOiJiZXZlbCIsdGV4dDptLHRleHRGaWxsOm4uZ2V0VGV4dENvbG9yKCksdGV4dEZvbnQ6bi5nZXRGb250KCl9KSx6OjEwLG9uY2xpY2s6dihvLHApfSk7dGhpcy5ncm91cC5hZGQoeSksUGMoeSx0LHApLGErPWcrOH19LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9fTt2YXIgSUE9bSxUQT1ydyxEQT1iUyxBQT1kLENBPVsibGFiZWwiXSxMQT1bImVtcGhhc2lzIiwibGFiZWwiXSxrQT1bInVwcGVyTGFiZWwiXSxQQT1bImVtcGhhc2lzIiwidXBwZXJMYWJlbCJdLE5BPTEwLE9BPTEsRUE9MixSQT1yYihbWyJmaWxsIiwiY29sb3IiXSxbInN0cm9rZSIsInN0cm9rZUNvbG9yIl0sWyJsaW5lV2lkdGgiLCJzdHJva2VXaWR0aCJdLFsic2hhZG93Qmx1ciJdLFsic2hhZG93T2Zmc2V0WCJdLFsic2hhZG93T2Zmc2V0WSJdLFsic2hhZG93Q29sb3IiXV0pLHpBPWZ1bmN0aW9uKHQpe3ZhciBlPVJBKHQpO3JldHVybiBlLnN0cm9rZT1lLmZpbGw9ZS5saW5lV2lkdGg9bnVsbCxlfTtfcyh7dHlwZToidHJlZW1hcCIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuX2NvbnRhaW5lckdyb3VwLHRoaXMuX3N0b3JhZ2U9e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LHRoaXMuX29sZFRyZWUsdGhpcy5fYnJlYWRjcnVtYix0aGlzLl9jb250cm9sbGVyLHRoaXMuX3N0YXRlPSJyZWFkeSJ9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtpZighKGwoZS5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToidHJlZW1hcCIscXVlcnk6bn0pLHQpPDApKXt0aGlzLnNlcmllc01vZGVsPXQsdGhpcy5hcGk9aSx0aGlzLmVjTW9kZWw9ZTt2YXIgbz1NYyhuLFsidHJlZW1hcFpvb21Ub05vZGUiLCJ0cmVlbWFwUm9vdFRvTm9kZSJdLHQpLGE9biYmbi50eXBlLHI9dC5sYXlvdXRJbmZvLHM9IXRoaXMuX29sZFRyZWUsdT10aGlzLl9zdG9yYWdlLGg9InRyZWVtYXBSb290VG9Ob2RlIj09PWEmJm8mJnU/e3Jvb3ROb2RlR3JvdXA6dS5ub2RlR3JvdXBbby5ub2RlLmdldFJhd0luZGV4KCldLGRpcmVjdGlvbjpuLmRpcmVjdGlvbn06bnVsbCxjPXRoaXMuX2dpdmVDb250YWluZXJHcm91cChyKSxkPXRoaXMuX2RvUmVuZGVyKGMsdCxoKTtzfHxhJiYidHJlZW1hcFpvb21Ub05vZGUiIT09YSYmInRyZWVtYXBSb290VG9Ob2RlIiE9PWE/ZC5yZW5kZXJGaW5hbGx5KCk6dGhpcy5fZG9BbmltYXRpb24oYyxkLHQsaCksdGhpcy5fcmVzZXRDb250cm9sbGVyKGkpLHRoaXMuX3JlbmRlckJyZWFkY3J1bWIodCxpLG8pfX0sX2dpdmVDb250YWluZXJHcm91cDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb250YWluZXJHcm91cDtyZXR1cm4gZXx8KGU9dGhpcy5fY29udGFpbmVyR3JvdXA9bmV3IFRBLHRoaXMuX2luaXRFdmVudHMoZSksdGhpcy5ncm91cC5hZGQoZSkpLGUuYXR0cigicG9zaXRpb24iLFt0LngsdC55XSksZX0sX2RvUmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpLG8sYSl7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdC5nZXRJZCgpfWZ1bmN0aW9uIHMocixzKXt2YXIgbD1udWxsIT1yP3Rbcl06bnVsbCx1PW51bGwhPXM/ZVtzXTpudWxsLGM9aChsLHUsaSxhKTtjJiZuKGwmJmwudmlld0NoaWxkcmVufHxbXSx1JiZ1LnZpZXdDaGlsZHJlbnx8W10sYyxvLGErMSl9bz8oZT10LEFBKHQsZnVuY3Rpb24odCxlKXshdC5pc1JlbW92ZWQoKSYmcyhlLGUpfSkpOm5ldyBTcyhlLHQscixyKS5hZGQocykudXBkYXRlKHMpLnJlbW92ZSh2KHMsbnVsbCkpLmV4ZWN1dGUoKX12YXIgbz1lLmdldERhdGEoKS50cmVlLGE9dGhpcy5fb2xkVHJlZSxyPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfSxzPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfSxsPXRoaXMuX3N0b3JhZ2UsdT1bXSxoPXYoT2MsZSxzLGwsaSxyLHUpO24oby5yb290P1tvLnJvb3RdOltdLGEmJmEucm9vdD9bYS5yb290XTpbXSx0LG89PT1hfHwhYSwwKTt2YXIgYz1mdW5jdGlvbih0KXt2YXIgZT17bm9kZUdyb3VwOltdLGJhY2tncm91bmQ6W10sY29udGVudDpbXX07cmV0dXJuIHQmJkFBKHQsZnVuY3Rpb24odCxpKXt2YXIgbj1lW2ldO0FBKHQsZnVuY3Rpb24odCl7dCYmKG4ucHVzaCh0KSx0Ll9fdG1XaWxsRGVsZXRlPTEpfSl9KSxlfShsKTtyZXR1cm4gdGhpcy5fb2xkVHJlZT1vLHRoaXMuX3N0b3JhZ2U9cyx7bGFzdHNGb3JBbmltYXRpb246cix3aWxsRGVsZXRlRWxzOmMscmVuZGVyRmluYWxseTpmdW5jdGlvbigpe0FBKGMsZnVuY3Rpb24odCl7QUEodCxmdW5jdGlvbih0KXt0LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlKHQpfSl9KSxBQSh1LGZ1bmN0aW9uKHQpe3QuaW52aXNpYmxlPSEwLHQuZGlydHkoKX0pfX19LF9kb0FuaW1hdGlvbjpmdW5jdGlvbih0LGUsaSxuKXtpZihpLmdldCgiYW5pbWF0aW9uIikpe3ZhciBvPWkuZ2V0KCJhbmltYXRpb25EdXJhdGlvblVwZGF0ZSIpLHI9aS5nZXQoImFuaW1hdGlvbkVhc2luZyIpLHM9TmMoKTtBQShlLndpbGxEZWxldGVFbHMsZnVuY3Rpb24odCxlKXtBQSh0LGZ1bmN0aW9uKHQsaSl7aWYoIXQuaW52aXNpYmxlKXt2YXIgYSxsPXQucGFyZW50O2lmKG4mJiJkcmlsbERvd24iPT09bi5kaXJlY3Rpb24pYT1sPT09bi5yb290Tm9kZUdyb3VwP3tzaGFwZTp7eDowLHk6MCx3aWR0aDpsLl9fdG1Ob2RlV2lkdGgsaGVpZ2h0OmwuX190bU5vZGVIZWlnaHR9LHN0eWxlOntvcGFjaXR5OjB9fTp7c3R5bGU6e29wYWNpdHk6MH19O2Vsc2V7dmFyIHU9MCxoPTA7bC5fX3RtV2lsbERlbGV0ZXx8KHU9bC5fX3RtTm9kZVdpZHRoLzIsaD1sLl9fdG1Ob2RlSGVpZ2h0LzIpLGE9Im5vZGVHcm91cCI9PT1lP3twb3NpdGlvbjpbdSxoXSxzdHlsZTp7b3BhY2l0eTowfX06e3NoYXBlOnt4OnUseTpoLHdpZHRoOjAsaGVpZ2h0OjB9LHN0eWxlOntvcGFjaXR5OjB9fX1hJiZzLmFkZCh0LGEsbyxyKX19KX0pLEFBKHRoaXMuX3N0b3JhZ2UsZnVuY3Rpb24odCxpKXtBQSh0LGZ1bmN0aW9uKHQsbil7dmFyIGw9ZS5sYXN0c0ZvckFuaW1hdGlvbltpXVtuXSx1PXt9O2wmJigibm9kZUdyb3VwIj09PWk/bC5vbGQmJih1LnBvc2l0aW9uPXQucG9zaXRpb24uc2xpY2UoKSx0LmF0dHIoInBvc2l0aW9uIixsLm9sZCkpOihsLm9sZCYmKHUuc2hhcGU9YSh7fSx0LnNoYXBlKSx0LnNldFNoYXBlKGwub2xkKSksbC5mYWRlaW4/KHQuc2V0U3R5bGUoIm9wYWNpdHkiLDApLHUuc3R5bGU9e29wYWNpdHk6MX0pOjEhPT10LnN0eWxlLm9wYWNpdHkmJih1LnN0eWxlPXtvcGFjaXR5OjF9KSkscy5hZGQodCx1LG8scikpfSl9LHRoaXMpLHRoaXMuX3N0YXRlPSJhbmltYXRpbmciLHMuZG9uZShJQShmdW5jdGlvbigpe3RoaXMuX3N0YXRlPSJyZWFkeSIsZS5yZW5kZXJGaW5hbGx5KCl9LHRoaXMpKS5zdGFydCgpfX0sX3Jlc2V0Q29udHJvbGxlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb250cm9sbGVyO2V8fCgoZT10aGlzLl9jb250cm9sbGVyPW5ldyBMaCh0LmdldFpyKCkpKS5lbmFibGUodGhpcy5zZXJpZXNNb2RlbC5nZXQoInJvYW0iKSksZS5vbigicGFuIixJQSh0aGlzLl9vblBhbix0aGlzKSksZS5vbigiem9vbSIsSUEodGhpcy5fb25ab29tLHRoaXMpKSk7dmFyIGk9bmV3ICR0KDAsMCx0LmdldFdpZHRoKCksdC5nZXRIZWlnaHQoKSk7ZS5zZXRQb2ludGVyQ2hlY2tlcihmdW5jdGlvbih0LGUsbil7cmV0dXJuIGkuY29udGFpbihlLG4pfSl9LF9jbGVhckNvbnRyb2xsZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250cm9sbGVyO3QmJih0LmRpc3Bvc2UoKSx0PW51bGwpfSxfb25QYW46ZnVuY3Rpb24odCxlKXtpZigiYW5pbWF0aW5nIiE9PXRoaXMuX3N0YXRlJiYoTWF0aC5hYnModCk+M3x8TWF0aC5hYnMoZSk+Mykpe3ZhciBpPXRoaXMuc2VyaWVzTW9kZWwuZ2V0RGF0YSgpLnRyZWUucm9vdDtpZighaSlyZXR1cm47dmFyIG49aS5nZXRMYXlvdXQoKTtpZighbilyZXR1cm47dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRyZWVtYXBNb3ZlIixmcm9tOnRoaXMudWlkLHNlcmllc0lkOnRoaXMuc2VyaWVzTW9kZWwuaWQscm9vdFJlY3Q6e3g6bi54K3QseTpuLnkrZSx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodH19KX19LF9vblpvb206ZnVuY3Rpb24odCxlLGkpe2lmKCJhbmltYXRpbmciIT09dGhpcy5fc3RhdGUpe3ZhciBuPXRoaXMuc2VyaWVzTW9kZWwuZ2V0RGF0YSgpLnRyZWUucm9vdDtpZighbilyZXR1cm47dmFyIG89bi5nZXRMYXlvdXQoKTtpZighbylyZXR1cm47dmFyIGE9bmV3ICR0KG8ueCxvLnksby53aWR0aCxvLmhlaWdodCkscj10aGlzLnNlcmllc01vZGVsLmxheW91dEluZm87ZS09ci54LGktPXIueTt2YXIgcz1zdCgpO2N0KHMscyxbLWUsLWldKSxmdChzLHMsW3QsdF0pLGN0KHMscyxbZSxpXSksYS5hcHBseVRyYW5zZm9ybShzKSx0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcFJlbmRlciIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHJvb3RSZWN0Ont4OmEueCx5OmEueSx3aWR0aDphLndpZHRoLGhlaWdodDphLmhlaWdodH19KX19LF9pbml0RXZlbnRzOmZ1bmN0aW9uKHQpe3Qub24oImNsaWNrIixmdW5jdGlvbih0KXtpZigicmVhZHkiPT09dGhpcy5fc3RhdGUpe3ZhciBlPXRoaXMuc2VyaWVzTW9kZWwuZ2V0KCJub2RlQ2xpY2siLCEwKTtpZihlKXt2YXIgaT10aGlzLmZpbmRUYXJnZXQodC5vZmZzZXRYLHQub2Zmc2V0WSk7aWYoaSl7dmFyIG49aS5ub2RlO2lmKG4uZ2V0TGF5b3V0KCkuaXNMZWFmUm9vdCl0aGlzLl9yb290VG9Ob2RlKGkpO2Vsc2UgaWYoInpvb21Ub05vZGUiPT09ZSl0aGlzLl96b29tVG9Ob2RlKGkpO2Vsc2UgaWYoImxpbmsiPT09ZSl7dmFyIG89bi5ob3N0VHJlZS5kYXRhLmdldEl0ZW1Nb2RlbChuLmRhdGFJbmRleCksYT1vLmdldCgibGluayIsITApLHI9by5nZXQoInRhcmdldCIsITApfHwiYmxhbmsiO2EmJndpbmRvdy5vcGVuKGEscil9fX19fSx0aGlzKX0sX3JlbmRlckJyZWFkY3J1bWI6ZnVuY3Rpb24odCxlLGkpe2l8fChpPW51bGwhPXQuZ2V0KCJsZWFmRGVwdGgiLCEwKT97bm9kZTp0LmdldFZpZXdSb290KCl9OnRoaXMuZmluZFRhcmdldChlLmdldFdpZHRoKCkvMixlLmdldEhlaWdodCgpLzIpKXx8KGk9e25vZGU6dC5nZXREYXRhKCkudHJlZS5yb290fSksKHRoaXMuX2JyZWFkY3J1bWJ8fCh0aGlzLl9icmVhZGNydW1iPW5ldyBMYyh0aGlzLmdyb3VwKSkpLnJlbmRlcih0LGUsaS5ub2RlLElBKGZ1bmN0aW9uKGUpeyJhbmltYXRpbmciIT09dGhpcy5fc3RhdGUmJihUYyh0LmdldFZpZXdSb290KCksZSk/dGhpcy5fcm9vdFRvTm9kZSh7bm9kZTplfSk6dGhpcy5fem9vbVRvTm9kZSh7bm9kZTplfSkpfSx0aGlzKSl9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFyQ29udHJvbGxlcigpLHRoaXMuX2NvbnRhaW5lckdyb3VwJiZ0aGlzLl9jb250YWluZXJHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9zdG9yYWdlPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfSx0aGlzLl9zdGF0ZT0icmVhZHkiLHRoaXMuX2JyZWFkY3J1bWImJnRoaXMuX2JyZWFkY3J1bWIucmVtb3ZlKCl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckNvbnRyb2xsZXIoKX0sX3pvb21Ub05vZGU6ZnVuY3Rpb24odCl7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRyZWVtYXBab29tVG9Ob2RlIixmcm9tOnRoaXMudWlkLHNlcmllc0lkOnRoaXMuc2VyaWVzTW9kZWwuaWQsdGFyZ2V0Tm9kZTp0Lm5vZGV9KX0sX3Jvb3RUb05vZGU6ZnVuY3Rpb24odCl7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRyZWVtYXBSb290VG9Ob2RlIixmcm9tOnRoaXMudWlkLHNlcmllc0lkOnRoaXMuc2VyaWVzTW9kZWwuaWQsdGFyZ2V0Tm9kZTp0Lm5vZGV9KX0sZmluZFRhcmdldDpmdW5jdGlvbih0LGUpe3ZhciBpO3JldHVybiB0aGlzLnNlcmllc01vZGVsLmdldFZpZXdSb290KCkuZWFjaE5vZGUoe2F0dHI6InZpZXdDaGlsZHJlbiIsb3JkZXI6InByZW9yZGVyIn0sZnVuY3Rpb24obil7dmFyIG89dGhpcy5fc3RvcmFnZS5iYWNrZ3JvdW5kW24uZ2V0UmF3SW5kZXgoKV07aWYobyl7dmFyIGE9by50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxyPW8uc2hhcGU7aWYoIShyLng8PWFbMF0mJmFbMF08PXIueCtyLndpZHRoJiZyLnk8PWFbMV0mJmFbMV08PXIueStyLmhlaWdodCkpcmV0dXJuITE7aT17bm9kZTpuLG9mZnNldFg6YVswXSxvZmZzZXRZOmFbMV19fX0sdGhpcyksaX19KTtmb3IodmFyIEJBPVsidHJlZW1hcFpvb21Ub05vZGUiLCJ0cmVlbWFwUmVuZGVyIiwidHJlZW1hcE1vdmUiXSxWQT0wO1ZBPEJBLmxlbmd0aDtWQSsrKWNzKHt0eXBlOkJBW1ZBXSx1cGRhdGU6InVwZGF0ZVZpZXcifSxmdW5jdGlvbigpe30pO2NzKHt0eXBlOiJ0cmVlbWFwUm9vdFRvTm9kZSIsdXBkYXRlOiJ1cGRhdGVWaWV3In0sZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InRyZWVtYXAiLHF1ZXJ5OnR9LGZ1bmN0aW9uKGUsaSl7dmFyIG49TWModCxbInRyZWVtYXBab29tVG9Ob2RlIiwidHJlZW1hcFJvb3RUb05vZGUiXSxlKTtpZihuKXt2YXIgbz1lLmdldFZpZXdSb290KCk7byYmKHQuZGlyZWN0aW9uPVRjKG8sbi5ub2RlKT8icm9sbFVwIjoiZHJpbGxEb3duIiksZS5yZXNldFZpZXdSb290KG4ubm9kZSl9fSl9KTt2YXIgR0E9ZCxXQT13LEZBPS0xLEhBPWZ1bmN0aW9uKHQpe3ZhciBlPXQubWFwcGluZ01ldGhvZCxuPXQudHlwZSxvPXRoaXMub3B0aW9uPWkodCk7dGhpcy50eXBlPW4sdGhpcy5tYXBwaW5nTWV0aG9kPWUsdGhpcy5fbm9ybWFsaXplRGF0YT1VQVtlXTt2YXIgYT1aQVtuXTt0aGlzLmFwcGx5VmlzdWFsPWEuYXBwbHlWaXN1YWwsdGhpcy5nZXRDb2xvck1hcHBlcj1hLmdldENvbG9yTWFwcGVyLHRoaXMuX2RvTWFwPWEuX2RvTWFwW2VdLCJwaWVjZXdpc2UiPT09ZT8oQmMobyksUmMobykpOiJjYXRlZ29yeSI9PT1lP28uY2F0ZWdvcmllcz96YyhvKTpCYyhvLCEwKTooaygibGluZWFyIiE9PWV8fG8uZGF0YUV4dGVudCksQmMobykpfTtIQS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkhBLG1hcFZhbHVlVG9WaXN1YWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbm9ybWFsaXplRGF0YSh0KTtyZXR1cm4gdGhpcy5fZG9NYXAoZSx0KX0sZ2V0Tm9ybWFsaXplcjpmdW5jdGlvbigpe3JldHVybiBtKHRoaXMuX25vcm1hbGl6ZURhdGEsdGhpcyl9fTt2YXIgWkE9SEEudmlzdWFsSGFuZGxlcnM9e2NvbG9yOnthcHBseVZpc3VhbDpXYygiY29sb3IiKSxnZXRDb2xvck1hcHBlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uO3JldHVybiBtKCJjYXRlZ29yeSI9PT10Lm1hcHBpbmdNZXRob2Q/ZnVuY3Rpb24odCxlKXtyZXR1cm4hZSYmKHQ9dGhpcy5fbm9ybWFsaXplRGF0YSh0KSksRmMuY2FsbCh0aGlzLHQpfTpmdW5jdGlvbihlLGksbil7dmFyIG89ISFuO3JldHVybiFpJiYoZT10aGlzLl9ub3JtYWxpemVEYXRhKGUpKSxuPU50KGUsdC5wYXJzZWRWaXN1YWwsbiksbz9uOnp0KG4sInJnYmEiKX0sdGhpcyl9LF9kb01hcDp7bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiB6dChOdCh0LHRoaXMub3B0aW9uLnBhcnNlZFZpc3VhbCksInJnYmEiKX0sY2F0ZWdvcnk6RmMscGllY2V3aXNlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9VWMuY2FsbCh0aGlzLGUpO3JldHVybiBudWxsPT1pJiYoaT16dChOdCh0LHRoaXMub3B0aW9uLnBhcnNlZFZpc3VhbCksInJnYmEiKSksaX0sZml4ZWQ6SGN9fSxjb2xvckh1ZTpWYyhmdW5jdGlvbih0LGUpe3JldHVybiBFdCh0LGUpfSksY29sb3JTYXR1cmF0aW9uOlZjKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEV0KHQsbnVsbCxlKX0pLGNvbG9yTGlnaHRuZXNzOlZjKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEV0KHQsbnVsbCxudWxsLGUpfSksY29sb3JBbHBoYTpWYyhmdW5jdGlvbih0LGUpe3JldHVybiBSdCh0LGUpfSksb3BhY2l0eTp7YXBwbHlWaXN1YWw6V2MoIm9wYWNpdHkiKSxfZG9NYXA6WmMoWzAsMV0pfSxsaWZ0Wjp7YXBwbHlWaXN1YWw6V2MoImxpZnRaIiksX2RvTWFwOntsaW5lYXI6SGMsY2F0ZWdvcnk6SGMscGllY2V3aXNlOkhjLGZpeGVkOkhjfX0sc3ltYm9sOnthcHBseVZpc3VhbDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5tYXBWYWx1ZVRvVmlzdWFsKHQpO2lmKF8obikpaSgic3ltYm9sIixuKTtlbHNlIGlmKFdBKG4pKWZvcih2YXIgbyBpbiBuKW4uaGFzT3duUHJvcGVydHkobykmJmkobyxuW29dKX0sX2RvTWFwOntsaW5lYXI6R2MsY2F0ZWdvcnk6RmMscGllY2V3aXNlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9VWMuY2FsbCh0aGlzLGUpO3JldHVybiBudWxsPT1pJiYoaT1HYy5jYWxsKHRoaXMsdCkpLGl9LGZpeGVkOkhjfX0sc3ltYm9sU2l6ZTp7YXBwbHlWaXN1YWw6V2MoInN5bWJvbFNpemUiKSxfZG9NYXA6WmMoWzAsMV0pfX0sVUE9e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gVG8odCx0aGlzLm9wdGlvbi5kYXRhRXh0ZW50LFswLDFdLCEwKX0scGllY2V3aXNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnBpZWNlTGlzdCxpPUhBLmZpbmRQaWVjZUluZGV4KHQsZSwhMCk7aWYobnVsbCE9aSlyZXR1cm4gVG8oaSxbMCxlLmxlbmd0aC0xXSxbMCwxXSwhMCl9LGNhdGVnb3J5OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmNhdGVnb3JpZXM/dGhpcy5vcHRpb24uY2F0ZWdvcnlNYXBbdF06dDtyZXR1cm4gbnVsbD09ZT9GQTplfSxmaXhlZDpCfTtIQS5saXN0VmlzdWFsVHlwZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gZChaQSxmdW5jdGlvbihlLGkpe3QucHVzaChpKX0pLHR9LEhBLmFkZFZpc3VhbEhhbmRsZXI9ZnVuY3Rpb24odCxlKXtaQVt0XT1lfSxIQS5pc1ZhbGlkVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4gWkEuaGFzT3duUHJvcGVydHkodCl9LEhBLmVhY2hWaXN1YWw9ZnVuY3Rpb24odCxlLGkpe3codCk/ZCh0LGUsaSk6ZS5jYWxsKGksdCl9LEhBLm1hcFZpc3VhbD1mdW5jdGlvbih0LGUsaSl7dmFyIG4sbz15KHQpP1tdOncodCk/e306KG49ITAsbnVsbCk7cmV0dXJuIEhBLmVhY2hWaXN1YWwodCxmdW5jdGlvbih0LGEpe3ZhciByPWUuY2FsbChpLHQsYSk7bj9vPXI6b1thXT1yfSksb30sSEEucmV0cmlldmVWaXN1YWxzPWZ1bmN0aW9uKHQpe3ZhciBlLGk9e307cmV0dXJuIHQmJkdBKFpBLGZ1bmN0aW9uKG4sbyl7dC5oYXNPd25Qcm9wZXJ0eShvKSYmKGlbb109dFtvXSxlPSEwKX0pLGU/aTpudWxsfSxIQS5wcmVwYXJlVmlzdWFsVHlwZXM9ZnVuY3Rpb24odCl7aWYoV0EodCkpe3ZhciBlPVtdO0dBKHQsZnVuY3Rpb24odCxpKXtlLnB1c2goaSl9KSx0PWV9ZWxzZXtpZigheSh0KSlyZXR1cm5bXTt0PXQuc2xpY2UoKX1yZXR1cm4gdC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuImNvbG9yIj09PWUmJiJjb2xvciIhPT10JiYwPT09dC5pbmRleE9mKCJjb2xvciIpPzE6LTF9KSx0fSxIQS5kZXBlbmRzT249ZnVuY3Rpb24odCxlKXtyZXR1cm4iY29sb3IiPT09ZT8hKCF0fHwwIT09dC5pbmRleE9mKGUpKTp0PT09ZX0sSEEuZmluZFBpZWNlSW5kZXg9ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4oZSxpKXt2YXIgbj1NYXRoLmFicyhlLXQpO248YSYmKGE9bixvPWkpfWZvcih2YXIgbyxhPTEvMCxyPTAscz1lLmxlbmd0aDtyPHM7cisrKXt2YXIgbD1lW3JdLnZhbHVlO2lmKG51bGwhPWwpe2lmKGw9PT10fHwic3RyaW5nIj09dHlwZW9mIGwmJmw9PT10KyIiKXJldHVybiByO2kmJm4obCxyKX19Zm9yKHZhciByPTAscz1lLmxlbmd0aDtyPHM7cisrKXt2YXIgdT1lW3JdLGg9dS5pbnRlcnZhbCxjPXUuY2xvc2U7aWYoaCl7aWYoaFswXT09PS0xLzApe2lmKGpjKGNbMV0sdCxoWzFdKSlyZXR1cm4gcn1lbHNlIGlmKGhbMV09PT0xLzApe2lmKGpjKGNbMF0saFswXSx0KSlyZXR1cm4gcn1lbHNlIGlmKGpjKGNbMF0saFswXSx0KSYmamMoY1sxXSx0LGhbMV0pKXJldHVybiByO2kmJm4oaFswXSxyKSxpJiZuKGhbMV0scil9fWlmKGkpcmV0dXJuIHQ9PT0xLzA/ZS5sZW5ndGgtMTp0PT09LTEvMD8wOm99O3ZhciBYQT15LGpBPSJpdGVtU3R5bGUiLFlBPXtzZXJpZXNUeXBlOiJ0cmVlbWFwIixyZXNldDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldERhdGEoKS50cmVlLGE9by5yb290LHI9dC5nZXRNb2RlbChqQSk7YS5pc1JlbW92ZWQoKXx8WWMoYSx7fSxmKG8ubGV2ZWxNb2RlbHMsZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC5nZXQoakEpOm51bGx9KSxyLHQuZ2V0Vmlld1Jvb3QoKS5nZXRBbmNlc3RvcnMoKSx0KX19LHFBPU1hdGgubWF4LEtBPU1hdGgubWluLCRBPVQsSkE9ZCxRQT1bIml0ZW1TdHlsZSIsImJvcmRlcldpZHRoIl0sdEM9WyJpdGVtU3R5bGUiLCJnYXBXaWR0aCJdLGVDPVsidXBwZXJMYWJlbCIsInNob3ciXSxpQz1bInVwcGVyTGFiZWwiLCJoZWlnaHQiXSxuQz17c2VyaWVzVHlwZToidHJlZW1hcCIscmVzZXQ6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89aS5nZXRXaWR0aCgpLHI9aS5nZXRIZWlnaHQoKSxzPXQub3B0aW9uLGw9UW8odC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6aS5nZXRXaWR0aCgpLGhlaWdodDppLmdldEhlaWdodCgpfSksdT1zLnNpemV8fFtdLGg9RG8oJEEobC53aWR0aCx1WzBdKSxvKSxjPURvKCRBKGwuaGVpZ2h0LHVbMV0pLHIpLGQ9biYmbi50eXBlLGY9TWMobixbInRyZWVtYXBab29tVG9Ob2RlIiwidHJlZW1hcFJvb3RUb05vZGUiXSx0KSxwPSJ0cmVlbWFwUmVuZGVyIj09PWR8fCJ0cmVlbWFwTW92ZSI9PT1kP24ucm9vdFJlY3Q6bnVsbCxnPXQuZ2V0Vmlld1Jvb3QoKSxtPUljKGcpO2lmKCJ0cmVlbWFwTW92ZSIhPT1kKXt2YXIgdj0idHJlZW1hcFpvb21Ub05vZGUiPT09ZD91ZCh0LGYsZyxoLGMpOnA/W3Aud2lkdGgscC5oZWlnaHRdOltoLGNdLHk9cy5zb3J0O3kmJiJhc2MiIT09eSYmImRlc2MiIT09eSYmKHk9ImRlc2MiKTt2YXIgeD17c3F1YXJlUmF0aW86cy5zcXVhcmVSYXRpbyxzb3J0OnksbGVhZkRlcHRoOnMubGVhZkRlcHRofTtnLmhvc3RUcmVlLmNsZWFyTGF5b3V0cygpO189e3g6MCx5OjAsd2lkdGg6dlswXSxoZWlnaHQ6dlsxXSxhcmVhOnZbMF0qdlsxXX07Zy5zZXRMYXlvdXQoXyksaWQoZyx4LCExLDApO3ZhciBfPWcuZ2V0TGF5b3V0KCk7SkEobSxmdW5jdGlvbih0LGUpe3ZhciBpPShtW2UrMV18fGcpLmdldFZhbHVlKCk7dC5zZXRMYXlvdXQoYSh7ZGF0YUV4dGVudDpbaSxpXSxib3JkZXJXaWR0aDowLHVwcGVySGVpZ2h0OjB9LF8pKX0pfXZhciB3PXQuZ2V0RGF0YSgpLnRyZWUucm9vdDt3LnNldExheW91dChoZChsLHAsZiksITApLHQuc2V0TGF5b3V0SW5mbyhsKSxjZCh3LG5ldyAkdCgtbC54LC1sLnksbyxyKSxtLGcsMCl9fTtwcyhZQSksZnMobkMpO3ZhciBvQz1mdW5jdGlvbih0KXt0aGlzLl9kaXJlY3RlZD10fHwhMSx0aGlzLm5vZGVzPVtdLHRoaXMuZWRnZXM9W10sdGhpcy5fbm9kZXNNYXA9e30sdGhpcy5fZWRnZXNNYXA9e30sdGhpcy5kYXRhLHRoaXMuZWRnZURhdGF9LGFDPW9DLnByb3RvdHlwZTthQy50eXBlPSJncmFwaCIsYUMuaXNEaXJlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXJlY3RlZH0sYUMuYWRkTm9kZT1mdW5jdGlvbih0LGUpe3Q9dHx8IiIrZTt2YXIgaT10aGlzLl9ub2Rlc01hcDtpZighaVtmZCh0KV0pe3ZhciBuPW5ldyBwZCh0LGUpO3JldHVybiBuLmhvc3RHcmFwaD10aGlzLHRoaXMubm9kZXMucHVzaChuKSxpW2ZkKHQpXT1uLG59fSxhQy5nZXROb2RlQnlJbmRleD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGEuZ2V0UmF3SW5kZXgodCk7cmV0dXJuIHRoaXMubm9kZXNbZV19LGFDLmdldE5vZGVCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ub2Rlc01hcFtmZCh0KV19LGFDLmFkZEVkZ2U9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX25vZGVzTWFwLG89dGhpcy5fZWRnZXNNYXA7aWYoIm51bWJlciI9PXR5cGVvZiB0JiYodD10aGlzLm5vZGVzW3RdKSwibnVtYmVyIj09dHlwZW9mIGUmJihlPXRoaXMubm9kZXNbZV0pLHBkLmlzSW5zdGFuY2UodCl8fCh0PW5bZmQodCldKSxwZC5pc0luc3RhbmNlKGUpfHwoZT1uW2ZkKGUpXSksdCYmZSl7dmFyIGE9dC5pZCsiLSIrZS5pZDtpZighb1thXSl7dmFyIHI9bmV3IGdkKHQsZSxpKTtyZXR1cm4gci5ob3N0R3JhcGg9dGhpcyx0aGlzLl9kaXJlY3RlZCYmKHQub3V0RWRnZXMucHVzaChyKSxlLmluRWRnZXMucHVzaChyKSksdC5lZGdlcy5wdXNoKHIpLHQhPT1lJiZlLmVkZ2VzLnB1c2gociksdGhpcy5lZGdlcy5wdXNoKHIpLG9bYV09cixyfX19LGFDLmdldEVkZ2VCeUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWRnZURhdGEuZ2V0UmF3SW5kZXgodCk7cmV0dXJuIHRoaXMuZWRnZXNbZV19LGFDLmdldEVkZ2U9ZnVuY3Rpb24odCxlKXtwZC5pc0luc3RhbmNlKHQpJiYodD10LmlkKSxwZC5pc0luc3RhbmNlKGUpJiYoZT1lLmlkKTt2YXIgaT10aGlzLl9lZGdlc01hcDtyZXR1cm4gdGhpcy5fZGlyZWN0ZWQ/aVt0KyItIitlXTppW3QrIi0iK2VdfHxpW2UrIi0iK3RdfSxhQy5lYWNoTm9kZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLm5vZGVzLG49aS5sZW5ndGgsbz0wO288bjtvKyspaVtvXS5kYXRhSW5kZXg+PTAmJnQuY2FsbChlLGlbb10sbyl9LGFDLmVhY2hFZGdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuZWRnZXMsbj1pLmxlbmd0aCxvPTA7bzxuO28rKylpW29dLmRhdGFJbmRleD49MCYmaVtvXS5ub2RlMS5kYXRhSW5kZXg+PTAmJmlbb10ubm9kZTIuZGF0YUluZGV4Pj0wJiZ0LmNhbGwoZSxpW29dLG8pfSxhQy5icmVhZHRoRmlyc3RUcmF2ZXJzZT1mdW5jdGlvbih0LGUsaSxuKXtpZihwZC5pc0luc3RhbmNlKGUpfHwoZT10aGlzLl9ub2Rlc01hcFtmZChlKV0pLGUpe2Zvcih2YXIgbz0ib3V0Ij09PWk/Im91dEVkZ2VzIjoiaW4iPT09aT8iaW5FZGdlcyI6ImVkZ2VzIixhPTA7YTx0aGlzLm5vZGVzLmxlbmd0aDthKyspdGhpcy5ub2Rlc1thXS5fX3Zpc2l0ZWQ9ITE7aWYoIXQuY2FsbChuLGUsbnVsbCkpZm9yKHZhciByPVtlXTtyLmxlbmd0aDspZm9yKHZhciBzPXIuc2hpZnQoKSxsPXNbb10sYT0wO2E8bC5sZW5ndGg7YSsrKXt2YXIgdT1sW2FdLGg9dS5ub2RlMT09PXM/dS5ub2RlMjp1Lm5vZGUxO2lmKCFoLl9fdmlzaXRlZCl7aWYodC5jYWxsKG4saCxzKSlyZXR1cm47ci5wdXNoKGgpLGguX192aXNpdGVkPSEwfX19fSxhQy51cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5kYXRhLGU9dGhpcy5lZGdlRGF0YSxpPXRoaXMubm9kZXMsbj10aGlzLmVkZ2VzLG89MCxhPWkubGVuZ3RoO288YTtvKyspaVtvXS5kYXRhSW5kZXg9LTE7Zm9yKHZhciBvPTAsYT10LmNvdW50KCk7bzxhO28rKylpW3QuZ2V0UmF3SW5kZXgobyldLmRhdGFJbmRleD1vO2UuZmlsdGVyU2VsZihmdW5jdGlvbih0KXt2YXIgaT1uW2UuZ2V0UmF3SW5kZXgodCldO3JldHVybiBpLm5vZGUxLmRhdGFJbmRleD49MCYmaS5ub2RlMi5kYXRhSW5kZXg+PTB9KTtmb3IodmFyIG89MCxhPW4ubGVuZ3RoO288YTtvKyspbltvXS5kYXRhSW5kZXg9LTE7Zm9yKHZhciBvPTAsYT1lLmNvdW50KCk7bzxhO28rKyluW2UuZ2V0UmF3SW5kZXgobyldLmRhdGFJbmRleD1vfSxhQy5jbG9uZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgb0ModGhpcy5fZGlyZWN0ZWQpLGU9dGhpcy5ub2RlcyxpPXRoaXMuZWRnZXMsbj0wO248ZS5sZW5ndGg7bisrKXQuYWRkTm9kZShlW25dLmlkLGVbbl0uZGF0YUluZGV4KTtmb3Iobj0wO248aS5sZW5ndGg7bisrKXt2YXIgbz1pW25dO3QuYWRkRWRnZShvLm5vZGUxLmlkLG8ubm9kZTIuaWQsby5kYXRhSW5kZXgpfXJldHVybiB0fSxwZC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnBkLGRlZ3JlZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkZ2VzLmxlbmd0aH0saW5EZWdyZWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbkVkZ2VzLmxlbmd0aH0sb3V0RGVncmVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0RWRnZXMubGVuZ3RofSxnZXRNb2RlbDpmdW5jdGlvbih0KXtpZighKHRoaXMuZGF0YUluZGV4PDApKXJldHVybiB0aGlzLmhvc3RHcmFwaC5kYXRhLmdldEl0ZW1Nb2RlbCh0aGlzLmRhdGFJbmRleCkuZ2V0TW9kZWwodCl9fSxnZC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRhdGFJbmRleDwwKSlyZXR1cm4gdGhpcy5ob3N0R3JhcGguZWRnZURhdGEuZ2V0SXRlbU1vZGVsKHRoaXMuZGF0YUluZGV4KS5nZXRNb2RlbCh0KX07dmFyIHJDPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2dldFZhbHVlOmZ1bmN0aW9uKGkpe3ZhciBuPXRoaXNbdF1bZV07cmV0dXJuIG4uZ2V0KG4uZ2V0RGltZW5zaW9uKGl8fCJ2YWx1ZSIpLHRoaXMuZGF0YUluZGV4KX0sc2V0VmlzdWFsOmZ1bmN0aW9uKGksbil7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXNbdF1bZV0uc2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCxpLG4pfSxnZXRWaXN1YWw6ZnVuY3Rpb24oaSxuKXtyZXR1cm4gdGhpc1t0XVtlXS5nZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LGksbil9LHNldExheW91dDpmdW5jdGlvbihpLG4pe3RoaXMuZGF0YUluZGV4Pj0wJiZ0aGlzW3RdW2VdLnNldEl0ZW1MYXlvdXQodGhpcy5kYXRhSW5kZXgsaSxuKX0sZ2V0TGF5b3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdF1bZV0uZ2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCl9LGdldEdyYXBoaWNFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3RdW2VdLmdldEl0ZW1HcmFwaGljRWwodGhpcy5kYXRhSW5kZXgpfSxnZXRSYXdJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3RdW2VdLmdldFJhd0luZGV4KHRoaXMuZGF0YUluZGV4KX19fTtoKHBkLHJDKCJob3N0R3JhcGgiLCJkYXRhIikpLGgoZ2QsckMoImhvc3RHcmFwaCIsImVkZ2VEYXRhIikpLG9DLk5vZGU9cGQsb0MuRWRnZT1nZCxXaShwZCksV2koZ2QpO3ZhciBzQz1mdW5jdGlvbih0LGUsaSxuLG8pe2Zvcih2YXIgYT1uZXcgb0Mobikscj0wO3I8dC5sZW5ndGg7cisrKWEuYWRkTm9kZShUKHRbcl0uaWQsdFtyXS5uYW1lLHIpLHIpO2Zvcih2YXIgcz1bXSx1PVtdLGg9MCxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBjPWVbcl0sZD1jLnNvdXJjZSxmPWMudGFyZ2V0O2EuYWRkRWRnZShkLGYsaCkmJih1LnB1c2goYykscy5wdXNoKFQoYy5pZCxkKyIgPiAiK2YpKSxoKyspfXZhciBwLGc9aS5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKTtpZigiY2FydGVzaWFuMmQiPT09Z3x8InBvbGFyIj09PWcpcD1Vcyh0LGkpO2Vsc2V7dmFyIG09Q2EuZ2V0KGcpLHY9bSYmInZpZXciIT09bS50eXBlP20uZGltZW5zaW9uc3x8W106W107bCh2LCJ2YWx1ZSIpPDAmJnYuY29uY2F0KFsidmFsdWUiXSk7dmFyIHk9dVQodCx7Y29vcmREaW1lbnNpb25zOnZ9KTsocD1uZXcgclQoeSxpKSkuaW5pdERhdGEodCl9dmFyIHg9bmV3IHJUKFsidmFsdWUiXSxpKTtyZXR1cm4geC5pbml0RGF0YSh1LHMpLG8mJm8ocCx4KSxqaCh7bWFpbkRhdGE6cCxzdHJ1Y3Q6YSxzdHJ1Y3RBdHRyOiJncmFwaCIsZGF0YXM6e25vZGU6cCxlZGdlOnh9LGRhdGFzQXR0cjp7bm9kZToiZGF0YSIsZWRnZToiZWRnZURhdGEifX0pLGEudXBkYXRlKCksYX0sbEM9eHMoe3R5cGU6InNlcmllcy5ncmFwaCIsaW5pdDpmdW5jdGlvbih0KXtsQy5zdXBlckFwcGx5KHRoaXMsImluaXQiLGFyZ3VtZW50cyksdGhpcy5sZWdlbmREYXRhUHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2F0ZWdvcmllc0RhdGF9LHRoaXMuZmlsbERhdGFUZXh0U3R5bGUodC5lZGdlc3x8dC5saW5rcyksdGhpcy5fdXBkYXRlQ2F0ZWdvcmllc0RhdGEoKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7bEMuc3VwZXJBcHBseSh0aGlzLCJtZXJnZU9wdGlvbiIsYXJndW1lbnRzKSx0aGlzLmZpbGxEYXRhVGV4dFN0eWxlKHQuZWRnZXN8fHQubGlua3MpLHRoaXMuX3VwZGF0ZUNhdGVnb3JpZXNEYXRhKCl9LG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKHQpe2xDLnN1cGVyQXBwbHkodGhpcywibWVyZ2VEZWZhdWx0QW5kVGhlbWUiLGFyZ3VtZW50cyksTWkodCxbImVkZ2VMYWJlbCJdLFsic2hvdyJdKX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmVkZ2VzfHx0LmxpbmtzfHxbXSxuPXQuZGF0YXx8dC5ub2Rlc3x8W10sbz10aGlzO2lmKG4mJmkpcmV0dXJuIHNDKG4saSx0aGlzLCEwLGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4odD10aGlzLnBhcnNlUGF0aCh0KSkmJiJsYWJlbCI9PT10WzBdP3I6dCYmImVtcGhhc2lzIj09PXRbMF0mJiJsYWJlbCI9PT10WzFdP2w6dGhpcy5wYXJlbnRNb2RlbH10LndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsZnVuY3Rpb24odCl7dmFyIGU9by5fY2F0ZWdvcmllc01vZGVsc1t0LmdldFNoYWxsb3coImNhdGVnb3J5IildO3JldHVybiBlJiYoZS5wYXJlbnRNb2RlbD10LnBhcmVudE1vZGVsLHQucGFyZW50TW9kZWw9ZSksdH0pO3ZhciBhPW8uZ2V0TW9kZWwoImVkZ2VMYWJlbCIpLHI9bmV3IHdvKHtsYWJlbDphLm9wdGlvbn0sYS5wYXJlbnRNb2RlbCxlKSxzPW8uZ2V0TW9kZWwoImVtcGhhc2lzLmVkZ2VMYWJlbCIpLGw9bmV3IHdvKHtlbXBoYXNpczp7bGFiZWw6cy5vcHRpb259fSxzLnBhcmVudE1vZGVsLGUpO2kud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIixmdW5jdGlvbih0KXtyZXR1cm4gdC5jdXN0b21pemVHZXRQYXJlbnQobiksdH0pfSkuZGF0YX0sZ2V0R3JhcGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREYXRhKCkuZ3JhcGh9LGdldEVkZ2VEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0R3JhcGgoKS5lZGdlRGF0YX0sZ2V0Q2F0ZWdvcmllc0RhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2F0ZWdvcmllc0RhdGF9LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24odCxlLGkpe2lmKCJlZGdlIj09PWkpe3ZhciBuPXRoaXMuZ2V0RGF0YSgpLG89dGhpcy5nZXREYXRhUGFyYW1zKHQsaSksYT1uLmdyYXBoLmdldEVkZ2VCeUluZGV4KHQpLHI9bi5nZXROYW1lKGEubm9kZTEuZGF0YUluZGV4KSxzPW4uZ2V0TmFtZShhLm5vZGUyLmRhdGFJbmRleCksbD1bXTtyZXR1cm4gbnVsbCE9ciYmbC5wdXNoKHIpLG51bGwhPXMmJmwucHVzaChzKSxsPVpvKGwuam9pbigiID4gIikpLG8udmFsdWUmJihsKz0iIDogIitabyhvLnZhbHVlKSksbH1yZXR1cm4gbEMuc3VwZXJBcHBseSh0aGlzLCJmb3JtYXRUb29sdGlwIixhcmd1bWVudHMpfSxfdXBkYXRlQ2F0ZWdvcmllc0RhdGE6ZnVuY3Rpb24oKXt2YXIgdD1mKHRoaXMub3B0aW9uLmNhdGVnb3JpZXN8fFtdLGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10LnZhbHVlP3Q6YSh7dmFsdWU6MH0sdCl9KSxlPW5ldyByVChbInZhbHVlIl0sdGhpcyk7ZS5pbml0RGF0YSh0KSx0aGlzLl9jYXRlZ29yaWVzRGF0YT1lLHRoaXMuX2NhdGVnb3JpZXNNb2RlbHM9ZS5tYXBBcnJheShmdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRJdGVtTW9kZWwodCwhMCl9KX0sc2V0Wm9vbTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbi56b29tPXR9LHNldENlbnRlcjpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5jZW50ZXI9dH0saXNBbmltYXRpb25FbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGxDLnN1cGVyQ2FsbCh0aGlzLCJpc0FuaW1hdGlvbkVuYWJsZWQiKSYmISgiZm9yY2UiPT09dGhpcy5nZXQoImxheW91dCIpJiZ0aGlzLmdldCgiZm9yY2UubGF5b3V0QW5pbWF0aW9uIikpfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToidmlldyIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLGxheW91dDpudWxsLGZvY3VzTm9kZUFkamFjZW5jeTohMSxjaXJjdWxhcjp7cm90YXRlTGFiZWw6ITF9LGZvcmNlOntpbml0TGF5b3V0Om51bGwscmVwdWxzaW9uOlswLDUwXSxncmF2aXR5Oi4xLGVkZ2VMZW5ndGg6MzAsbGF5b3V0QW5pbWF0aW9uOiEwfSxsZWZ0OiJjZW50ZXIiLHRvcDoiY2VudGVyIixzeW1ib2w6ImNpcmNsZSIsc3ltYm9sU2l6ZToxMCxlZGdlU3ltYm9sOlsibm9uZSIsIm5vbmUiXSxlZGdlU3ltYm9sU2l6ZToxMCxlZGdlTGFiZWw6e3Bvc2l0aW9uOiJtaWRkbGUifSxkcmFnZ2FibGU6ITEscm9hbTohMSxjZW50ZXI6bnVsbCx6b29tOjEsbm9kZVNjYWxlUmF0aW86LjYsbGFiZWw6e3Nob3c6ITEsZm9ybWF0dGVyOiJ7Yn0ifSxpdGVtU3R5bGU6e30sbGluZVN0eWxlOntjb2xvcjoiI2FhYSIsd2lkdGg6MSxjdXJ2ZW5lc3M6MCxvcGFjaXR5Oi41fSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITB9fX19KSx1Qz1TUy5wcm90b3R5cGUsaEM9SVMucHJvdG90eXBlLGNDPUVuKHt0eXBlOiJlYy1saW5lIixzdHlsZTp7c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9LHNoYXBlOnt4MTowLHkxOjAseDI6MCx5MjowLHBlcmNlbnQ6MSxjcHgxOm51bGwsY3B5MTpudWxsfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXsobWQoZSk/dUM6aEMpLmJ1aWxkUGF0aCh0LGUpfSxwb2ludEF0OmZ1bmN0aW9uKHQpe3JldHVybiBtZCh0aGlzLnNoYXBlKT91Qy5wb2ludEF0LmNhbGwodGhpcyx0KTpoQy5wb2ludEF0LmNhbGwodGhpcyx0KX0sdGFuZ2VudEF0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2hhcGUsaT1tZChlKT9bZS54Mi1lLngxLGUueTItZS55MV06aEMudGFuZ2VudEF0LmNhbGwodGhpcyx0KTtyZXR1cm4gcShpLGkpfX0pLGRDPVsiZnJvbVN5bWJvbCIsInRvU3ltYm9sIl0sZkM9d2QucHJvdG90eXBlO2ZDLmJlZm9yZVVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LmNoaWxkT2ZOYW1lKCJmcm9tU3ltYm9sIiksaT10LmNoaWxkT2ZOYW1lKCJ0b1N5bWJvbCIpLG49dC5jaGlsZE9mTmFtZSgibGFiZWwiKTtpZihlfHxpfHwhbi5pZ25vcmUpe2Zvcih2YXIgbz0xLGE9dGhpcy5wYXJlbnQ7YTspYS5zY2FsZSYmKG8vPWEuc2NhbGVbMF0pLGE9YS5wYXJlbnQ7dmFyIHI9dC5jaGlsZE9mTmFtZSgibGluZSIpO2lmKHRoaXMuX19kaXJ0eXx8ci5fX2RpcnR5KXt2YXIgcz1yLnNoYXBlLnBlcmNlbnQsbD1yLnBvaW50QXQoMCksdT1yLnBvaW50QXQocyksaD1VKFtdLHUsbCk7aWYocShoLGgpLGUmJihlLmF0dHIoInBvc2l0aW9uIixsKSxjPXIudGFuZ2VudEF0KDApLGUuYXR0cigicm90YXRpb24iLE1hdGguUEkvMi1NYXRoLmF0YW4yKGNbMV0sY1swXSkpLGUuYXR0cigic2NhbGUiLFtvKnMsbypzXSkpLGkpe2kuYXR0cigicG9zaXRpb24iLHUpO3ZhciBjPXIudGFuZ2VudEF0KDEpO2kuYXR0cigicm90YXRpb24iLC1NYXRoLlBJLzItTWF0aC5hdGFuMihjWzFdLGNbMF0pKSxpLmF0dHIoInNjYWxlIixbbypzLG8qc10pfWlmKCFuLmlnbm9yZSl7bi5hdHRyKCJwb3NpdGlvbiIsdSk7dmFyIGQsZixwLGc9NSpvO2lmKCJlbmQiPT09bi5fX3Bvc2l0aW9uKWQ9W2hbMF0qZyt1WzBdLGhbMV0qZyt1WzFdXSxmPWhbMF0+Ljg/ImxlZnQiOmhbMF08LS44PyJyaWdodCI6ImNlbnRlciIscD1oWzFdPi44PyJ0b3AiOmhbMV08LS44PyJib3R0b20iOiJtaWRkbGUiO2Vsc2UgaWYoIm1pZGRsZSI9PT1uLl9fcG9zaXRpb24pe3ZhciBtPXMvMix2PVsoYz1yLnRhbmdlbnRBdChtKSlbMV0sLWNbMF1dLHk9ci5wb2ludEF0KG0pO3ZbMV0+MCYmKHZbMF09LXZbMF0sdlsxXT0tdlsxXSksZD1beVswXSt2WzBdKmcseVsxXSt2WzFdKmddLGY9ImNlbnRlciIscD0iYm90dG9tIjt2YXIgeD0tTWF0aC5hdGFuMihjWzFdLGNbMF0pO3VbMF08bFswXSYmKHg9TWF0aC5QSSt4KSxuLmF0dHIoInJvdGF0aW9uIix4KX1lbHNlIGQ9Wy1oWzBdKmcrbFswXSwtaFsxXSpnK2xbMV1dLGY9aFswXT4uOD8icmlnaHQiOmhbMF08LS44PyJsZWZ0IjoiY2VudGVyIixwPWhbMV0+Ljg/ImJvdHRvbSI6aFsxXTwtLjg/InRvcCI6Im1pZGRsZSI7bi5hdHRyKHtzdHlsZTp7dGV4dFZlcnRpY2FsQWxpZ246bi5fX3ZlcnRpY2FsQWxpZ258fHAsdGV4dEFsaWduOm4uX190ZXh0QWxpZ258fGZ9LHBvc2l0aW9uOmQsc2NhbGU6W28sb119KX19fX0sZkMuX2NyZWF0ZUxpbmU9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuaG9zdE1vZGVsLG89eGQodC5nZXRJdGVtTGF5b3V0KGUpKTtvLnNoYXBlLnBlcmNlbnQ9MCxwbyhvLHtzaGFwZTp7cGVyY2VudDoxfX0sbixlKSx0aGlzLmFkZChvKTt2YXIgYT1uZXcgZFMoe25hbWU6ImxhYmVsIn0pO3RoaXMuYWRkKGEpLGQoZEMsZnVuY3Rpb24oaSl7dmFyIG49eWQoaSx0LGUpO3RoaXMuYWRkKG4pLHRoaXNbdmQoaSldPXQuZ2V0SXRlbVZpc3VhbChlLGkpfSx0aGlzKSx0aGlzLl91cGRhdGVDb21tb25TdGwodCxlLGkpfSxmQy51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10Lmhvc3RNb2RlbCxvPXRoaXMuY2hpbGRPZk5hbWUoImxpbmUiKSxhPXQuZ2V0SXRlbUxheW91dChlKSxyPXtzaGFwZTp7fX07X2Qoci5zaGFwZSxhKSxmbyhvLHIsbixlKSxkKGRDLGZ1bmN0aW9uKGkpe3ZhciBuPXQuZ2V0SXRlbVZpc3VhbChlLGkpLG89dmQoaSk7aWYodGhpc1tvXSE9PW4pe3RoaXMucmVtb3ZlKHRoaXMuY2hpbGRPZk5hbWUoaSkpO3ZhciBhPXlkKGksdCxlKTt0aGlzLmFkZChhKX10aGlzW29dPW59LHRoaXMpLHRoaXMuX3VwZGF0ZUNvbW1vblN0bCh0LGUsaSl9LGZDLl91cGRhdGVDb21tb25TdGw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuaG9zdE1vZGVsLG89dGhpcy5jaGlsZE9mTmFtZSgibGluZSIpLGE9aSYmaS5saW5lU3R5bGUscz1pJiZpLmhvdmVyTGluZVN0eWxlLGw9aSYmaS5sYWJlbE1vZGVsLHU9aSYmaS5ob3ZlckxhYmVsTW9kZWw7aWYoIWl8fHQuaGFzSXRlbU9wdGlvbil7dmFyIGg9dC5nZXRJdGVtTW9kZWwoZSk7YT1oLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxzPWguZ2V0TW9kZWwoImVtcGhhc2lzLmxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGw9aC5nZXRNb2RlbCgibGFiZWwiKSx1PWguZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIil9dmFyIGM9dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIiksZj1BKHQuZ2V0SXRlbVZpc3VhbChlLCJvcGFjaXR5IiksYS5vcGFjaXR5LDEpO28udXNlU3R5bGUocih7c3Ryb2tlTm9TY2FsZTohMCxmaWxsOiJub25lIixzdHJva2U6YyxvcGFjaXR5OmZ9LGEpKSxvLmhvdmVyU3R5bGU9cyxkKGRDLGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hpbGRPZk5hbWUodCk7ZSYmKGUuc2V0Q29sb3IoYyksZS5zZXRTdHlsZSh7b3BhY2l0eTpmfSkpfSx0aGlzKTt2YXIgcCxnLG09bC5nZXRTaGFsbG93KCJzaG93Iiksdj11LmdldFNoYWxsb3coInNob3ciKSx5PXRoaXMuY2hpbGRPZk5hbWUoImxhYmVsIik7aWYoKG18fHYpJiYocD1jfHwiIzAwMCIsbnVsbD09KGc9bi5nZXRGb3JtYXR0ZWRMYWJlbChlLCJub3JtYWwiLHQuZGF0YVR5cGUpKSkpe3ZhciB4PW4uZ2V0UmF3VmFsdWUoZSk7Zz1udWxsPT14P3QuZ2V0TmFtZShlKTppc0Zpbml0ZSh4KT9Bbyh4KTp4fXZhciBfPW0/ZzpudWxsLHc9dj9EKG4uZ2V0Rm9ybWF0dGVkTGFiZWwoZSwiZW1waGFzaXMiLHQuZGF0YVR5cGUpLGcpOm51bGwsYj15LnN0eWxlO251bGw9PV8mJm51bGw9PXd8fChubyh5LnN0eWxlLGwse3RleHQ6X30se2F1dG9Db2xvcjpwfSkseS5fX3RleHRBbGlnbj1iLnRleHRBbGlnbix5Ll9fdmVydGljYWxBbGlnbj1iLnRleHRWZXJ0aWNhbEFsaWduLHkuX19wb3NpdGlvbj1sLmdldCgicG9zaXRpb24iKXx8Im1pZGRsZSIpLHkuaG92ZXJTdHlsZT1udWxsIT13P3t0ZXh0OncsdGV4dEZpbGw6dS5nZXRUZXh0Q29sb3IoITApLGZvbnRTdHlsZTp1LmdldFNoYWxsb3coImZvbnRTdHlsZSIpLGZvbnRXZWlnaHQ6dS5nZXRTaGFsbG93KCJmb250V2VpZ2h0IiksZm9udFNpemU6dS5nZXRTaGFsbG93KCJmb250U2l6ZSIpLGZvbnRGYW1pbHk6dS5nZXRTaGFsbG93KCJmb250RmFtaWx5Iil9Ont0ZXh0Om51bGx9LHkuaWdub3JlPSFtJiYhdixlbyh0aGlzKX0sZkMuaGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJlbXBoYXNpcyIpfSxmQy5kb3ducGxheT1mdW5jdGlvbigpe3RoaXMudHJpZ2dlcigibm9ybWFsIil9LGZDLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUpe3RoaXMuc2V0TGluZVBvaW50cyh0LmdldEl0ZW1MYXlvdXQoZSkpfSxmQy5zZXRMaW5lUG9pbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hpbGRPZk5hbWUoImxpbmUiKTtfZChlLnNoYXBlLHQpLGUuZGlydHkoKX0sdSh3ZCxydyk7dmFyIHBDPWJkLnByb3RvdHlwZTtwQy5pc1BlcnNpc3RlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0scEMudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9ZS5ncm91cCxuPWUuX2xpbmVEYXRhO2UuX2xpbmVEYXRhPXQsbnx8aS5yZW1vdmVBbGwoKTt2YXIgbz1JZCh0KTt0LmRpZmYobikuYWRkKGZ1bmN0aW9uKGkpe1NkKGUsdCxpLG8pfSkudXBkYXRlKGZ1bmN0aW9uKGksYSl7TWQoZSxuLHQsYSxpLG8pfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe2kucmVtb3ZlKG4uZ2V0SXRlbUdyYXBoaWNFbCh0KSl9KS5leGVjdXRlKCl9LHBDLnVwZGF0ZUxheW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2xpbmVEYXRhO3QmJnQuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24oZSxpKXtlLnVwZGF0ZUxheW91dCh0LGkpfSx0aGlzKX0scEMuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3Nlcmllc1Njb3BlPUlkKHQpLHRoaXMuX2xpbmVEYXRhPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0scEMuaW5jcmVtZW50YWxVcGRhdGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dC5zdGFydDtpPHQuZW5kO2krKylpZihEZChlLmdldEl0ZW1MYXlvdXQoaSkpKXt2YXIgbj1uZXcgdGhpcy5fY3RvcihlLGksdGhpcy5fc2VyaWVzU2NvcGUpO24udHJhdmVyc2UoZnVuY3Rpb24odCl7dC5pc0dyb3VwfHwodC5pbmNyZW1lbnRhbD10LnVzZUhvdmVyTGF5ZXI9ITApfSksdGhpcy5ncm91cC5hZGQobiksZS5zZXRJdGVtR3JhcGhpY0VsKGksbil9fSxwQy5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckluY3JlbWVudGFsKCksdGhpcy5faW5jcmVtZW50YWw9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxwQy5fY2xlYXJJbmNyZW1lbnRhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2luY3JlbWVudGFsO3QmJnQuY2xlYXJEaXNwbGF5YmxlcygpfTt2YXIgZ0M9W10sbUM9W10sdkM9W10seUM9UWkseEM9U18sX0M9TWF0aC5hYnMsd0M9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3ZhciBlPXQuZ2V0VmlzdWFsKCJzeW1ib2xTaXplIik7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheSYmKGU9KGVbMF0rZVsxXSkvMiksZX12YXIgbj1bXSxvPW9uLGE9W1tdLFtdLFtdXSxyPVtbXSxbXV0scz1bXTtlLz0yLHQuZWFjaEVkZ2UoZnVuY3Rpb24odCxsKXt2YXIgdT10LmdldExheW91dCgpLGg9dC5nZXRWaXN1YWwoImZyb21TeW1ib2wiKSxjPXQuZ2V0VmlzdWFsKCJ0b1N5bWJvbCIpO3UuX19vcmlnaW5hbHx8KHUuX19vcmlnaW5hbD1bVyh1WzBdKSxXKHVbMV0pXSx1WzJdJiZ1Ll9fb3JpZ2luYWwucHVzaChXKHVbMl0pKSk7dmFyIGQ9dS5fX29yaWdpbmFsO2lmKG51bGwhPXVbMl0pe2lmKEcoYVswXSxkWzBdKSxHKGFbMV0sZFsyXSksRyhhWzJdLGRbMV0pLGgmJiJub25lIiE9aCl7dmFyIGY9aSh0Lm5vZGUxKSxwPUFkKGEsZFswXSxmKmUpO28oYVswXVswXSxhWzFdWzBdLGFbMl1bMF0scCxuKSxhWzBdWzBdPW5bM10sYVsxXVswXT1uWzRdLG8oYVswXVsxXSxhWzFdWzFdLGFbMl1bMV0scCxuKSxhWzBdWzFdPW5bM10sYVsxXVsxXT1uWzRdfWlmKGMmJiJub25lIiE9Yyl7dmFyIGY9aSh0Lm5vZGUyKSxwPUFkKGEsZFsxXSxmKmUpO28oYVswXVswXSxhWzFdWzBdLGFbMl1bMF0scCxuKSxhWzFdWzBdPW5bMV0sYVsyXVswXT1uWzJdLG8oYVswXVsxXSxhWzFdWzFdLGFbMl1bMV0scCxuKSxhWzFdWzFdPW5bMV0sYVsyXVsxXT1uWzJdfUcodVswXSxhWzBdKSxHKHVbMV0sYVsyXSksRyh1WzJdLGFbMV0pfWVsc2V7aWYoRyhyWzBdLGRbMF0pLEcoclsxXSxkWzFdKSxVKHMsclsxXSxyWzBdKSxxKHMscyksaCYmIm5vbmUiIT1oKXtmPWkodC5ub2RlMSk7WihyWzBdLHJbMF0scyxmKmUpfWlmKGMmJiJub25lIiE9Yyl7Zj1pKHQubm9kZTIpO1ooclsxXSxyWzFdLHMsLWYqZSl9Ryh1WzBdLHJbMF0pLEcodVsxXSxyWzFdKX19KX0sYkM9WyJpdGVtU3R5bGUiLCJvcGFjaXR5Il0sU0M9WyJsaW5lU3R5bGUiLCJvcGFjaXR5Il07X3Moe3R5cGU6ImdyYXBoIixpbml0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3ICRsLG49bmV3IGJkLG89dGhpcy5ncm91cDt0aGlzLl9jb250cm9sbGVyPW5ldyBMaChlLmdldFpyKCkpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PXt0YXJnZXQ6b30sby5hZGQoaS5ncm91cCksby5hZGQobi5ncm91cCksdGhpcy5fc3ltYm9sRHJhdz1pLHRoaXMuX2xpbmVEcmF3PW4sdGhpcy5fZmlyc3RSZW5kZXI9ITB9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtO3RoaXMuX21vZGVsPXQsdGhpcy5fbm9kZVNjYWxlUmF0aW89dC5nZXQoIm5vZGVTY2FsZVJhdGlvIik7dmFyIG89dGhpcy5fc3ltYm9sRHJhdyxhPXRoaXMuX2xpbmVEcmF3LHI9dGhpcy5ncm91cDtpZigidmlldyI9PT1uLnR5cGUpe3ZhciBzPXtwb3NpdGlvbjpuLnBvc2l0aW9uLHNjYWxlOm4uc2NhbGV9O3RoaXMuX2ZpcnN0UmVuZGVyP3IuYXR0cihzKTpmbyhyLHMsdCl9d0ModC5nZXRHcmFwaCgpLHRoaXMuX2dldE5vZGVHbG9iYWxTY2FsZSh0KSk7dmFyIGw9dC5nZXREYXRhKCk7by51cGRhdGVEYXRhKGwpO3ZhciB1PXQuZ2V0RWRnZURhdGEoKTthLnVwZGF0ZURhdGEodSksdGhpcy5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZSgpLHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLGkpLGNsZWFyVGltZW91dCh0aGlzLl9sYXlvdXRUaW1lb3V0KTt2YXIgaD10LmZvcmNlTGF5b3V0LGM9dC5nZXQoImZvcmNlLmxheW91dEFuaW1hdGlvbiIpO2gmJnRoaXMuX3N0YXJ0Rm9yY2VMYXlvdXRJdGVyYXRpb24oaCxjKSxsLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKGUsbil7dmFyIG89bC5nZXRJdGVtTW9kZWwobik7ZS5vZmYoImRyYWciKS5vZmYoImRyYWdlbmQiKTt2YXIgYT1sLmdldEl0ZW1Nb2RlbChuKS5nZXQoImRyYWdnYWJsZSIpO2EmJmUub24oImRyYWciLGZ1bmN0aW9uKCl7aCYmKGgud2FybVVwKCksIXRoaXMuX2xheW91dGluZyYmdGhpcy5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbihoLGMpLGguc2V0Rml4ZWQobiksbC5zZXRJdGVtTGF5b3V0KG4sZS5wb3NpdGlvbikpfSx0aGlzKS5vbigiZHJhZ2VuZCIsZnVuY3Rpb24oKXtoJiZoLnNldFVuZml4ZWQobil9LHRoaXMpLGUuc2V0RHJhZ2dhYmxlKGEmJmgpLGUub2ZmKCJtb3VzZW92ZXIiLGUuX19mb2N1c05vZGVBZGphY2VuY3kpLGUub2ZmKCJtb3VzZW91dCIsZS5fX3VuZm9jdXNOb2RlQWRqYWNlbmN5KSxvLmdldCgiZm9jdXNOb2RlQWRqYWNlbmN5IikmJihlLm9uKCJtb3VzZW92ZXIiLGUuX19mb2N1c05vZGVBZGphY2VuY3k9ZnVuY3Rpb24oKXtpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJmb2N1c05vZGVBZGphY2VuY3kiLHNlcmllc0lkOnQuaWQsZGF0YUluZGV4OmUuZGF0YUluZGV4fSl9KSxlLm9uKCJtb3VzZW91dCIsZS5fX3VuZm9jdXNOb2RlQWRqYWNlbmN5PWZ1bmN0aW9uKCl7aS5kaXNwYXRjaEFjdGlvbih7dHlwZToidW5mb2N1c05vZGVBZGphY2VuY3kiLHNlcmllc0lkOnQuaWR9KX0pKX0sdGhpcyksbC5ncmFwaC5lYWNoRWRnZShmdW5jdGlvbihlKXt2YXIgbj1lLmdldEdyYXBoaWNFbCgpO24ub2ZmKCJtb3VzZW92ZXIiLG4uX19mb2N1c05vZGVBZGphY2VuY3kpLG4ub2ZmKCJtb3VzZW91dCIsbi5fX3VuZm9jdXNOb2RlQWRqYWNlbmN5KSxlLmdldE1vZGVsKCkuZ2V0KCJmb2N1c05vZGVBZGphY2VuY3kiKSYmKG4ub24oIm1vdXNlb3ZlciIsbi5fX2ZvY3VzTm9kZUFkamFjZW5jeT1mdW5jdGlvbigpe2kuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImZvY3VzTm9kZUFkamFjZW5jeSIsc2VyaWVzSWQ6dC5pZCxlZGdlRGF0YUluZGV4OmUuZGF0YUluZGV4fSl9KSxuLm9uKCJtb3VzZW91dCIsbi5fX3VuZm9jdXNOb2RlQWRqYWNlbmN5PWZ1bmN0aW9uKCl7aS5kaXNwYXRjaEFjdGlvbih7dHlwZToidW5mb2N1c05vZGVBZGphY2VuY3kiLHNlcmllc0lkOnQuaWR9KX0pKX0pO3ZhciBkPSJjaXJjdWxhciI9PT10LmdldCgibGF5b3V0IikmJnQuZ2V0KCJjaXJjdWxhci5yb3RhdGVMYWJlbCIpLGY9bC5nZXRMYXlvdXQoImN4IikscD1sLmdldExheW91dCgiY3kiKTtsLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRTeW1ib2xQYXRoKCk7aWYoZCl7dmFyIG49bC5nZXRJdGVtTGF5b3V0KGUpLG89TWF0aC5hdGFuMihuWzFdLXAsblswXS1mKTtvPDAmJihvPTIqTWF0aC5QSStvKTt2YXIgYT1uWzBdPGY7YSYmKG8tPU1hdGguUEkpO3ZhciByPWE/ImxlZnQiOiJyaWdodCI7aS5zZXRTdHlsZSh7dGV4dFJvdGF0aW9uOi1vLHRleHRQb3NpdGlvbjpyLHRleHRPcmlnaW46ImNlbnRlciJ9KSxpLmhvdmVyU3R5bGUmJihpLmhvdmVyU3R5bGUudGV4dFBvc2l0aW9uPXIpfWVsc2UgaS5zZXRTdHlsZSh7dGV4dFJvdGF0aW9uOjB9KX0pLHRoaXMuX2ZpcnN0UmVuZGVyPSExfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5kaXNwb3NlKCksdGhpcy5fY29udHJvbGxlckhvc3Q9e319LGZvY3VzTm9kZUFkamFjZW5jeTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLl9tb2RlbC5nZXREYXRhKCkuZ3JhcGgsYT1uLmRhdGFJbmRleCxyPW4uZWRnZURhdGFJbmRleCxzPW8uZ2V0Tm9kZUJ5SW5kZXgoYSksbD1vLmdldEVkZ2VCeUluZGV4KHIpOyhzfHxsKSYmKG8uZWFjaE5vZGUoZnVuY3Rpb24odCl7TGQodCxiQywuMSl9KSxvLmVhY2hFZGdlKGZ1bmN0aW9uKHQpe0xkKHQsU0MsLjEpfSkscyYmKGtkKHMsYkMpLGQocy5lZGdlcyxmdW5jdGlvbih0KXt0LmRhdGFJbmRleDwwfHwoa2QodCxTQyksa2QodC5ub2RlMSxiQyksa2QodC5ub2RlMixiQykpfSkpLGwmJihrZChsLFNDKSxrZChsLm5vZGUxLGJDKSxrZChsLm5vZGUyLGJDKSkpfSx1bmZvY3VzTm9kZUFkamFjZW5jeTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLl9tb2RlbC5nZXREYXRhKCkuZ3JhcGg7by5lYWNoTm9kZShmdW5jdGlvbih0KXtMZCh0LGJDKX0pLG8uZWFjaEVkZ2UoZnVuY3Rpb24odCl7TGQodCxTQyl9KX0sX3N0YXJ0Rm9yY2VMYXlvdXRJdGVyYXRpb246ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzOyFmdW5jdGlvbiBuKCl7dC5zdGVwKGZ1bmN0aW9uKHQpe2kudXBkYXRlTGF5b3V0KGkuX21vZGVsKSwoaS5fbGF5b3V0aW5nPSF0KSYmKGU/aS5fbGF5b3V0VGltZW91dD1zZXRUaW1lb3V0KG4sMTYpOm4oKSl9KX0oKX0sX3VwZGF0ZUNvbnRyb2xsZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2NvbnRyb2xsZXIsbz10aGlzLl9jb250cm9sbGVySG9zdCxhPXRoaXMuZ3JvdXA7bi5zZXRQb2ludGVyQ2hlY2tlcihmdW5jdGlvbihlLG4sbyl7dmFyIHI9YS5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm4gci5hcHBseVRyYW5zZm9ybShhLnRyYW5zZm9ybSksci5jb250YWluKG4sbykmJiFHaChlLGksdCl9KSwidmlldyI9PT10LmNvb3JkaW5hdGVTeXN0ZW0udHlwZT8obi5lbmFibGUodC5nZXQoInJvYW0iKSksby56b29tTGltaXQ9dC5nZXQoInNjYWxlTGltaXQiKSxvLnpvb209dC5jb29yZGluYXRlU3lzdGVtLmdldFpvb20oKSxuLm9mZigicGFuIikub2ZmKCJ6b29tIikub24oInBhbiIsZnVuY3Rpb24oZSxuKXtCaChvLGUsbiksaS5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6dC5pZCx0eXBlOiJncmFwaFJvYW0iLGR4OmUsZHk6bn0pfSkub24oInpvb20iLGZ1bmN0aW9uKGUsbixhKXtWaChvLGUsbixhKSxpLmRpc3BhdGNoQWN0aW9uKHtzZXJpZXNJZDp0LmlkLHR5cGU6ImdyYXBoUm9hbSIsem9vbTplLG9yaWdpblg6bixvcmlnaW5ZOmF9KSx0aGlzLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKCksd0ModC5nZXRHcmFwaCgpLHRoaXMuX2dldE5vZGVHbG9iYWxTY2FsZSh0KSksdGhpcy5fbGluZURyYXcudXBkYXRlTGF5b3V0KCl9LHRoaXMpKTpuLmRpc2FibGUoKX0sX3VwZGF0ZU5vZGVBbmRMaW5rU2NhbGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tb2RlbCxlPXQuZ2V0RGF0YSgpLGk9dGhpcy5fZ2V0Tm9kZUdsb2JhbFNjYWxlKHQpLG49W2ksaV07ZS5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0LGUpe3QuYXR0cigic2NhbGUiLG4pfSl9LF9nZXROb2RlR2xvYmFsU2NhbGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCJ2aWV3IiE9PWUudHlwZSlyZXR1cm4gMTt2YXIgaT10aGlzLl9ub2RlU2NhbGVSYXRpbyxuPWUuc2NhbGUsbz1uJiZuWzBdfHwxO3JldHVybigoZS5nZXRab29tKCktMSkqaSsxKS9vfSx1cGRhdGVMYXlvdXQ6ZnVuY3Rpb24odCl7d0ModC5nZXRHcmFwaCgpLHRoaXMuX2dldE5vZGVHbG9iYWxTY2FsZSh0KSksdGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQoKSx0aGlzLl9saW5lRHJhdy51cGRhdGVMYXlvdXQoKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc3ltYm9sRHJhdyYmdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoKSx0aGlzLl9saW5lRHJhdyYmdGhpcy5fbGluZURyYXcucmVtb3ZlKCl9fSksY3Moe3R5cGU6ImdyYXBoUm9hbSIsZXZlbnQ6ImdyYXBoUm9hbSIsdXBkYXRlOiJub25lIn0sZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHF1ZXJ5OnR9LGZ1bmN0aW9uKGUpe3ZhciBpPVVoKGUuY29vcmRpbmF0ZVN5c3RlbSx0KTtlLnNldENlbnRlciYmZS5zZXRDZW50ZXIoaS5jZW50ZXIpLGUuc2V0Wm9vbSYmZS5zZXRab29tKGkuem9vbSl9KX0pLGNzKHt0eXBlOiJmb2N1c05vZGVBZGphY2VuY3kiLGV2ZW50OiJmb2N1c05vZGVBZGphY2VuY3kiLHVwZGF0ZToic2VyaWVzLmdyYXBoOmZvY3VzTm9kZUFkamFjZW5jeSJ9LGZ1bmN0aW9uKCl7fSksY3Moe3R5cGU6InVuZm9jdXNOb2RlQWRqYWNlbmN5IixldmVudDoidW5mb2N1c05vZGVBZGphY2VuY3kiLHVwZGF0ZToic2VyaWVzLmdyYXBoOnVuZm9jdXNOb2RlQWRqYWNlbmN5In0sZnVuY3Rpb24oKXt9KTt2YXIgTUM9WjtocyhmdW5jdGlvbih0KXt2YXIgZT10LmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2UmJmUubGVuZ3RoJiZ0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbih0KXt2YXIgaT10LmdldENhdGVnb3JpZXNEYXRhKCksbj10LmdldEdyYXBoKCkuZGF0YSxvPWkubWFwQXJyYXkoaS5nZXROYW1lKTtuLmZpbHRlclNlbGYoZnVuY3Rpb24odCl7dmFyIGk9bi5nZXRJdGVtTW9kZWwodCkuZ2V0U2hhbGxvdygiY2F0ZWdvcnkiKTtpZihudWxsIT1pKXsibnVtYmVyIj09dHlwZW9mIGkmJihpPW9baV0pO2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKWlmKCFlW2FdLmlzU2VsZWN0ZWQoaSkpcmV0dXJuITF9cmV0dXJuITB9KX0sdGhpcyl9KSxwcyhwRCgiZ3JhcGgiLCJjaXJjbGUiLG51bGwpKSxwcyhmdW5jdGlvbih0KXt2YXIgZT17fTt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbih0KXt2YXIgaT10LmdldENhdGVnb3JpZXNEYXRhKCksbj10LmdldERhdGEoKSxvPXt9O2kuZWFjaChmdW5jdGlvbihuKXt2YXIgYT1pLmdldE5hbWUobik7b1siZWMtIithXT1uO3ZhciByPWkuZ2V0SXRlbU1vZGVsKG4pLmdldCgiaXRlbVN0eWxlLmNvbG9yIil8fHQuZ2V0Q29sb3JGcm9tUGFsZXR0ZShhLGUpO2kuc2V0SXRlbVZpc3VhbChuLCJjb2xvciIscil9KSxpLmNvdW50KCkmJm4uZWFjaChmdW5jdGlvbih0KXt2YXIgZT1uLmdldEl0ZW1Nb2RlbCh0KS5nZXRTaGFsbG93KCJjYXRlZ29yeSIpO251bGwhPWUmJigic3RyaW5nIj09dHlwZW9mIGUmJihlPW9bImVjLSIrZV0pLG4uZ2V0SXRlbVZpc3VhbCh0LCJjb2xvciIsITApfHxuLnNldEl0ZW1WaXN1YWwodCwiY29sb3IiLGkuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpKSl9KX0pfSkscHMoZnVuY3Rpb24odCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRHcmFwaCgpLGk9dC5nZXRFZGdlRGF0YSgpLG49UGQodC5nZXQoImVkZ2VTeW1ib2wiKSksbz1QZCh0LmdldCgiZWRnZVN5bWJvbFNpemUiKSksYT0ibGluZVN0eWxlLmNvbG9yIi5zcGxpdCgiLiIpLHI9ImxpbmVTdHlsZS5vcGFjaXR5Ii5zcGxpdCgiLiIpO2kuc2V0VmlzdWFsKCJmcm9tU3ltYm9sIixuJiZuWzBdKSxpLnNldFZpc3VhbCgidG9TeW1ib2wiLG4mJm5bMV0pLGkuc2V0VmlzdWFsKCJmcm9tU3ltYm9sU2l6ZSIsbyYmb1swXSksaS5zZXRWaXN1YWwoInRvU3ltYm9sU2l6ZSIsbyYmb1sxXSksaS5zZXRWaXN1YWwoImNvbG9yIix0LmdldChhKSksaS5zZXRWaXN1YWwoIm9wYWNpdHkiLHQuZ2V0KHIpKSxpLmVhY2goZnVuY3Rpb24odCl7dmFyIG49aS5nZXRJdGVtTW9kZWwodCksbz1lLmdldEVkZ2VCeUluZGV4KHQpLHM9UGQobi5nZXRTaGFsbG93KCJzeW1ib2wiLCEwKSksbD1QZChuLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKSksdT1uLmdldChhKSxoPW4uZ2V0KHIpO3N3aXRjaCh1KXtjYXNlInNvdXJjZSI6dT1vLm5vZGUxLmdldFZpc3VhbCgiY29sb3IiKTticmVhaztjYXNlInRhcmdldCI6dT1vLm5vZGUyLmdldFZpc3VhbCgiY29sb3IiKX1zWzBdJiZvLnNldFZpc3VhbCgiZnJvbVN5bWJvbCIsc1swXSksc1sxXSYmby5zZXRWaXN1YWwoInRvU3ltYm9sIixzWzFdKSxsWzBdJiZvLnNldFZpc3VhbCgiZnJvbVN5bWJvbFNpemUiLGxbMF0pLGxbMV0mJm8uc2V0VmlzdWFsKCJ0b1N5bWJvbFNpemUiLGxbMV0pLG8uc2V0VmlzdWFsKCJjb2xvciIsdSksby5zZXRWaXN1YWwoIm9wYWNpdHkiLGgpfSl9KX0pLGZzKGZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoImxheW91dCIpLGk9dC5jb29yZGluYXRlU3lzdGVtO2lmKGkmJiJ2aWV3IiE9PWkudHlwZSl7dmFyIG49dC5nZXREYXRhKCksbz1bXTtkKGkuZGltZW5zaW9ucyxmdW5jdGlvbih0KXtvPW8uY29uY2F0KG4ubWFwRGltZW5zaW9uKHQsITApKX0pO2Zvcih2YXIgYT0wO2E8bi5jb3VudCgpO2ErKyl7Zm9yKHZhciByPVtdLHM9ITEsbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1uLmdldChvW2xdLGEpO2lzTmFOKHUpfHwocz0hMCksci5wdXNoKHUpfXM/bi5zZXRJdGVtTGF5b3V0KGEsaS5kYXRhVG9Qb2ludChyKSk6bi5zZXRJdGVtTGF5b3V0KGEsW05hTixOYU5dKX1PZChuLmdyYXBoKX1lbHNlIGUmJiJub25lIiE9PWV8fE5kKHQpfSl9KSxmcyhmdW5jdGlvbih0KXt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbih0KXsiY2lyY3VsYXIiPT09dC5nZXQoImxheW91dCIpJiZFZCh0KX0pfSksZnMoZnVuY3Rpb24odCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCFlfHwidmlldyI9PT1lLnR5cGUpaWYoImZvcmNlIj09PXQuZ2V0KCJsYXlvdXQiKSl7dmFyIGk9dC5wcmVzZXJ2ZWRQb2ludHN8fHt9LG49dC5nZXRHcmFwaCgpLG89bi5kYXRhLGE9bi5lZGdlRGF0YSxyPXQuZ2V0TW9kZWwoImZvcmNlIikscz1yLmdldCgiaW5pdExheW91dCIpO3QucHJlc2VydmVkUG9pbnRzP28uZWFjaChmdW5jdGlvbih0KXt2YXIgZT1vLmdldElkKHQpO28uc2V0SXRlbUxheW91dCh0LGlbZV18fFtOYU4sTmFOXSl9KTpzJiYibm9uZSIhPT1zPyJjaXJjdWxhciI9PT1zJiZFZCh0KTpOZCh0KTt2YXIgbD1vLmdldERhdGFFeHRlbnQoInZhbHVlIiksdT1hLmdldERhdGFFeHRlbnQoInZhbHVlIiksaD1yLmdldCgicmVwdWxzaW9uIiksYz1yLmdldCgiZWRnZUxlbmd0aCIpO3koaCl8fChoPVtoLGhdKSx5KGMpfHwoYz1bYyxjXSksYz1bY1sxXSxjWzBdXTt2YXIgZD1vLm1hcEFycmF5KCJ2YWx1ZSIsZnVuY3Rpb24odCxlKXt2YXIgaT1vLmdldEl0ZW1MYXlvdXQoZSksbj1Ubyh0LGwsaCk7cmV0dXJuIGlzTmFOKG4pJiYobj0oaFswXStoWzFdKS8yKSx7dzpuLHJlcDpuLGZpeGVkOm8uZ2V0SXRlbU1vZGVsKGUpLmdldCgiZml4ZWQiKSxwOiFpfHxpc05hTihpWzBdKXx8aXNOYU4oaVsxXSk/bnVsbDppfX0pLGY9YS5tYXBBcnJheSgidmFsdWUiLGZ1bmN0aW9uKHQsZSl7dmFyIGk9bi5nZXRFZGdlQnlJbmRleChlKSxvPVRvKHQsdSxjKTtyZXR1cm4gaXNOYU4obykmJihvPShjWzBdK2NbMV0pLzIpLHtuMTpkW2kubm9kZTEuZGF0YUluZGV4XSxuMjpkW2kubm9kZTIuZGF0YUluZGV4XSxkOm8sY3VydmVuZXNzOmkuZ2V0TW9kZWwoKS5nZXQoImxpbmVTdHlsZS5jdXJ2ZW5lc3MiKXx8MH19KSxwPShlPXQuY29vcmRpbmF0ZVN5c3RlbSkuZ2V0Qm91bmRpbmdSZWN0KCksZz1SZChkLGYse3JlY3Q6cCxncmF2aXR5OnIuZ2V0KCJncmF2aXR5Iil9KSxtPWcuc3RlcDtnLnN0ZXA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsYT1kLmxlbmd0aDtlPGE7ZSsrKWRbZV0uZml4ZWQmJkcoZFtlXS5wLG4uZ2V0Tm9kZUJ5SW5kZXgoZSkuZ2V0TGF5b3V0KCkpO20oZnVuY3Rpb24oZSxhLHIpe2Zvcih2YXIgcz0wLGw9ZS5sZW5ndGg7czxsO3MrKyllW3NdLmZpeGVkfHxuLmdldE5vZGVCeUluZGV4KHMpLnNldExheW91dChlW3NdLnApLGlbby5nZXRJZChzKV09ZVtzXS5wO2Zvcih2YXIgcz0wLGw9YS5sZW5ndGg7czxsO3MrKyl7dmFyIHU9YVtzXSxoPW4uZ2V0RWRnZUJ5SW5kZXgocyksYz11Lm4xLnAsZD11Lm4yLnAsZj1oLmdldExheW91dCgpOyhmPWY/Zi5zbGljZSgpOltdKVswXT1mWzBdfHxbXSxmWzFdPWZbMV18fFtdLEcoZlswXSxjKSxHKGZbMV0sZCksK3UuY3VydmVuZXNzJiYoZlsyXT1bKGNbMF0rZFswXSkvMi0oY1sxXS1kWzFdKSp1LmN1cnZlbmVzcywoY1sxXStkWzFdKS8yLShkWzBdLWNbMF0pKnUuY3VydmVuZXNzXSksaC5zZXRMYXlvdXQoZil9dCYmdChyKX0pfSx0LmZvcmNlTGF5b3V0PWcsdC5wcmVzZXJ2ZWRQb2ludHM9aSxnLnN0ZXAoKX1lbHNlIHQuZm9yY2VMYXlvdXQ9bnVsbH0pfSksZHMoImdyYXBoVmlldyIse2NyZWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiB0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbih0KXt2YXIgbj10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpO2lmKCFufHwidmlldyI9PT1uKXt2YXIgbz10LmdldERhdGEoKSxhPVtdLHI9W107cm4oby5tYXBBcnJheShmdW5jdGlvbih0KXt2YXIgZT1vLmdldEl0ZW1Nb2RlbCh0KTtyZXR1cm5bK2UuZ2V0KCJ4IiksK2UuZ2V0KCJ5IildfSksYSxyKSxyWzBdLWFbMF09PTAmJihyWzBdKz0xLGFbMF0tPTEpLHJbMV0tYVsxXT09MCYmKHJbMV0rPTEsYVsxXS09MSk7dmFyIHM9KHJbMF0tYVswXSkvKHJbMV0tYVsxXSksbD16ZCh0LGUscyk7aXNOYU4ocykmJihhPVtsLngsbC55XSxyPVtsLngrbC53aWR0aCxsLnkrbC5oZWlnaHRdKTt2YXIgdT1yWzBdLWFbMF0saD1yWzFdLWFbMV0sYz1sLndpZHRoLGQ9bC5oZWlnaHQsZj10LmNvb3JkaW5hdGVTeXN0ZW09bmV3IF9oO2Yuem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0IiksZi5zZXRCb3VuZGluZ1JlY3QoYVswXSxhWzFdLHUsaCksZi5zZXRWaWV3UmVjdChsLngsbC55LGMsZCksZi5zZXRDZW50ZXIodC5nZXQoImNlbnRlciIpKSxmLnNldFpvb20odC5nZXQoInpvb20iKSksaS5wdXNoKGYpfX0pLGl9fSk7cU0uZXh0ZW5kKHt0eXBlOiJzZXJpZXMuZ2F1Z2UiLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5kYXRhfHxbXTtyZXR1cm4geShpKXx8KGk9W2ldKSx0LmRhdGE9aSxYRCh0aGlzLFsidmFsdWUiXSl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MixjZW50ZXI6WyI1MCUiLCI1MCUiXSxsZWdlbmRIb3Zlckxpbms6ITAscmFkaXVzOiI3NSUiLHN0YXJ0QW5nbGU6MjI1LGVuZEFuZ2xlOi00NSxjbG9ja3dpc2U6ITAsbWluOjAsbWF4OjEwMCxzcGxpdE51bWJlcjoxMCxheGlzTGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e2NvbG9yOltbLjIsIiM5MWM3YWUiXSxbLjgsIiM2Mzg2OWUiXSxbMSwiI2MyMzUzMSJdXSx3aWR0aDozMH19LHNwbGl0TGluZTp7c2hvdzohMCxsZW5ndGg6MzAsbGluZVN0eWxlOntjb2xvcjoiI2VlZSIsd2lkdGg6Mix0eXBlOiJzb2xpZCJ9fSxheGlzVGljazp7c2hvdzohMCxzcGxpdE51bWJlcjo1LGxlbmd0aDo4LGxpbmVTdHlsZTp7Y29sb3I6IiNlZWUiLHdpZHRoOjEsdHlwZToic29saWQifX0sYXhpc0xhYmVsOntzaG93OiEwLGRpc3RhbmNlOjUsY29sb3I6ImF1dG8ifSxwb2ludGVyOntzaG93OiEwLGxlbmd0aDoiODAlIix3aWR0aDo4fSxpdGVtU3R5bGU6e2NvbG9yOiJhdXRvIn0sdGl0bGU6e3Nob3c6ITAsb2Zmc2V0Q2VudGVyOlswLCItNDAlIl0sY29sb3I6IiMzMzMiLGZvbnRTaXplOjE1fSxkZXRhaWw6e3Nob3c6ITAsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJXaWR0aDowLGJvcmRlckNvbG9yOiIjY2NjIix3aWR0aDoxMDAsaGVpZ2h0Om51bGwscGFkZGluZzpbNSwxMF0sb2Zmc2V0Q2VudGVyOlswLCI0MCUiXSxjb2xvcjoiYXV0byIsZm9udFNpemU6MzB9fX0pO3ZhciBJQz1Jbi5leHRlbmQoe3R5cGU6ImVjaGFydHNHYXVnZVBvaW50ZXIiLHNoYXBlOnthbmdsZTowLHdpZHRoOjEwLHI6MTAseDowLHk6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9TWF0aC5jb3Msbj1NYXRoLnNpbixvPWUucixhPWUud2lkdGgscj1lLmFuZ2xlLHM9ZS54LWkocikqYSooYT49by8zPzE6MiksbD1lLnktbihyKSphKihhPj1vLzM/MToyKTtyPWUuYW5nbGUtTWF0aC5QSS8yLHQubW92ZVRvKHMsbCksdC5saW5lVG8oZS54K2kocikqYSxlLnkrbihyKSphKSx0LmxpbmVUbyhlLngraShlLmFuZ2xlKSpvLGUueStuKGUuYW5nbGUpKm8pLHQubGluZVRvKGUueC1pKHIpKmEsZS55LW4ocikqYSksdC5saW5lVG8ocyxsKX19KSxUQz0yKk1hdGguUEksREM9KGdyLmV4dGVuZCh7dHlwZToiZ2F1Z2UiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKTt2YXIgbj10LmdldCgiYXhpc0xpbmUubGluZVN0eWxlLmNvbG9yIiksbz1CZCh0LGkpO3RoaXMuX3JlbmRlck1haW4odCxlLGksbixvKX0sZGlzcG9zZTpmdW5jdGlvbigpe30sX3JlbmRlck1haW46ZnVuY3Rpb24odCxlLGksbixvKXtmb3IodmFyIGE9dGhpcy5ncm91cCxyPXQuZ2V0TW9kZWwoImF4aXNMaW5lIikuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLHM9dC5nZXQoImNsb2Nrd2lzZSIpLGw9LXQuZ2V0KCJzdGFydEFuZ2xlIikvMTgwKk1hdGguUEksdT0tdC5nZXQoImVuZEFuZ2xlIikvMTgwKk1hdGguUEksaD0odS1sKSVUQyxjPWwsZD1yLmdldCgid2lkdGgiKSxmPTA7ZjxuLmxlbmd0aDtmKyspe3ZhciBwPU1hdGgubWluKE1hdGgubWF4KG5bZl1bMF0sMCksMSksZz1uZXcgbVMoe3NoYXBlOntzdGFydEFuZ2xlOmMsZW5kQW5nbGU6dT1sK2gqcCxjeDpvLmN4LGN5Om8uY3ksY2xvY2t3aXNlOnMscjA6by5yLWQscjpvLnJ9LHNpbGVudDohMH0pO2cuc2V0U3R5bGUoe2ZpbGw6bltmXVsxXX0pLGcuc2V0U3R5bGUoci5nZXRMaW5lU3R5bGUoWyJjb2xvciIsImJvcmRlcldpZHRoIiwiYm9yZGVyQ29sb3IiXSkpLGEuYWRkKGcpLGM9dX12YXIgbT1mdW5jdGlvbih0KXtpZih0PD0wKXJldHVybiBuWzBdWzFdO2Zvcih2YXIgZT0wO2U8bi5sZW5ndGg7ZSsrKWlmKG5bZV1bMF0+PXQmJigwPT09ZT8wOm5bZS0xXVswXSk8dClyZXR1cm4gbltlXVsxXTtyZXR1cm4gbltlLTFdWzFdfTtpZighcyl7dmFyIHY9bDtsPXUsdT12fXRoaXMuX3JlbmRlclRpY2tzKHQsZSxpLG0sbyxsLHUscyksdGhpcy5fcmVuZGVyUG9pbnRlcih0LGUsaSxtLG8sbCx1LHMpLHRoaXMuX3JlbmRlclRpdGxlKHQsZSxpLG0sbyksdGhpcy5fcmVuZGVyRGV0YWlsKHQsZSxpLG0sbyl9LF9yZW5kZXJUaWNrczpmdW5jdGlvbih0LGUsaSxuLG8sYSxyLHMpe2Zvcih2YXIgbD10aGlzLmdyb3VwLHU9by5jeCxoPW8uY3ksYz1vLnIsZD0rdC5nZXQoIm1pbiIpLGY9K3QuZ2V0KCJtYXgiKSxwPXQuZ2V0TW9kZWwoInNwbGl0TGluZSIpLGc9dC5nZXRNb2RlbCgiYXhpc1RpY2siKSxtPXQuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLHY9dC5nZXQoInNwbGl0TnVtYmVyIikseT1nLmdldCgic3BsaXROdW1iZXIiKSx4PURvKHAuZ2V0KCJsZW5ndGgiKSxjKSxfPURvKGcuZ2V0KCJsZW5ndGgiKSxjKSx3PWEsYj0oci1hKS92LFM9Yi95LE09cC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksST1nLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxUPTA7VDw9djtUKyspe3ZhciBEPU1hdGguY29zKHcpLEE9TWF0aC5zaW4odyk7aWYocC5nZXQoInNob3ciKSl7dmFyIEM9bmV3IFNTKHtzaGFwZTp7eDE6RCpjK3UseTE6QSpjK2gseDI6RCooYy14KSt1LHkyOkEqKGMteCkraH0sc3R5bGU6TSxzaWxlbnQ6ITB9KTsiYXV0byI9PT1NLnN0cm9rZSYmQy5zZXRTdHlsZSh7c3Ryb2tlOm4oVC92KX0pLGwuYWRkKEMpfWlmKG0uZ2V0KCJzaG93Iikpe3ZhciBMPVZkKEFvKFQvdiooZi1kKStkKSxtLmdldCgiZm9ybWF0dGVyIikpLGs9bS5nZXQoImRpc3RhbmNlIiksUD1uKFQvdik7bC5hZGQobmV3IGRTKHtzdHlsZTpubyh7fSxtLHt0ZXh0OkwseDpEKihjLXgtaykrdSx5OkEqKGMteC1rKStoLHRleHRWZXJ0aWNhbEFsaWduOkE8LS40PyJ0b3AiOkE+LjQ/ImJvdHRvbSI6Im1pZGRsZSIsdGV4dEFsaWduOkQ8LS40PyJsZWZ0IjpEPi40PyJyaWdodCI6ImNlbnRlciJ9LHthdXRvQ29sb3I6UH0pLHNpbGVudDohMH0pKX1pZihnLmdldCgic2hvdyIpJiZUIT09dil7Zm9yKHZhciBOPTA7Tjw9eTtOKyspe3ZhciBEPU1hdGguY29zKHcpLEE9TWF0aC5zaW4odyksTz1uZXcgU1Moe3NoYXBlOnt4MTpEKmMrdSx5MTpBKmMraCx4MjpEKihjLV8pK3UseTI6QSooYy1fKStofSxzaWxlbnQ6ITAsc3R5bGU6SX0pOyJhdXRvIj09PUkuc3Ryb2tlJiZPLnNldFN0eWxlKHtzdHJva2U6bigoVCtOL3kpL3YpfSksbC5hZGQoTyksdys9U313LT1TfWVsc2Ugdys9Yn19LF9yZW5kZXJQb2ludGVyOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyl7dmFyIGw9dGhpcy5ncm91cCx1PXRoaXMuX2RhdGE7aWYodC5nZXQoInBvaW50ZXIuc2hvdyIpKXt2YXIgaD1bK3QuZ2V0KCJtaW4iKSwrdC5nZXQoIm1heCIpXSxjPVthLHJdLGQ9dC5nZXREYXRhKCksZj1kLm1hcERpbWVuc2lvbigidmFsdWUiKTtkLmRpZmYodSkuYWRkKGZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBJQyh7c2hhcGU6e2FuZ2xlOmF9fSk7cG8oaSx7c2hhcGU6e2FuZ2xlOlRvKGQuZ2V0KGYsZSksaCxjLCEwKX19LHQpLGwuYWRkKGkpLGQuc2V0SXRlbUdyYXBoaWNFbChlLGkpfSkudXBkYXRlKGZ1bmN0aW9uKGUsaSl7dmFyIG49dS5nZXRJdGVtR3JhcGhpY0VsKGkpO2ZvKG4se3NoYXBlOnthbmdsZTpUbyhkLmdldChmLGUpLGgsYywhMCl9fSx0KSxsLmFkZChuKSxkLnNldEl0ZW1HcmFwaGljRWwoZSxuKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT11LmdldEl0ZW1HcmFwaGljRWwodCk7bC5yZW1vdmUoZSl9KS5leGVjdXRlKCksZC5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0LGUpe3ZhciBpPWQuZ2V0SXRlbU1vZGVsKGUpLGE9aS5nZXRNb2RlbCgicG9pbnRlciIpO3Quc2V0U2hhcGUoe3g6by5jeCx5Om8uY3ksd2lkdGg6RG8oYS5nZXQoIndpZHRoIiksby5yKSxyOkRvKGEuZ2V0KCJsZW5ndGgiKSxvLnIpfSksdC51c2VTdHlsZShpLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSksImF1dG8iPT09dC5zdHlsZS5maWxsJiZ0LnNldFN0eWxlKCJmaWxsIixuKFRvKGQuZ2V0KGYsZSksaCxbMCwxXSwhMCkpKSxlbyh0LGkuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpKX0pLHRoaXMuX2RhdGE9ZH1lbHNlIHUmJnUuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCl7bC5yZW1vdmUodCl9KX0sX3JlbmRlclRpdGxlOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9dC5nZXREYXRhKCkscj1hLm1hcERpbWVuc2lvbigidmFsdWUiKSxzPXQuZ2V0TW9kZWwoInRpdGxlIik7aWYocy5nZXQoInNob3ciKSl7dmFyIGw9cy5nZXQoIm9mZnNldENlbnRlciIpLHU9by5jeCtEbyhsWzBdLG8uciksaD1vLmN5K0RvKGxbMV0sby5yKSxjPSt0LmdldCgibWluIiksZD0rdC5nZXQoIm1heCIpLGY9bihUbyh0LmdldERhdGEoKS5nZXQociwwKSxbYyxkXSxbMCwxXSwhMCkpO3RoaXMuZ3JvdXAuYWRkKG5ldyBkUyh7c2lsZW50OiEwLHN0eWxlOm5vKHt9LHMse3g6dSx5OmgsdGV4dDphLmdldE5hbWUoMCksdGV4dEFsaWduOiJjZW50ZXIiLHRleHRWZXJ0aWNhbEFsaWduOiJtaWRkbGUifSx7YXV0b0NvbG9yOmYsZm9yY2VSaWNoOiEwfSl9KSl9fSxfcmVuZGVyRGV0YWlsOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9dC5nZXRNb2RlbCgiZGV0YWlsIikscj0rdC5nZXQoIm1pbiIpLHM9K3QuZ2V0KCJtYXgiKTtpZihhLmdldCgic2hvdyIpKXt2YXIgbD1hLmdldCgib2Zmc2V0Q2VudGVyIiksdT1vLmN4K0RvKGxbMF0sby5yKSxoPW8uY3krRG8obFsxXSxvLnIpLGM9RG8oYS5nZXQoIndpZHRoIiksby5yKSxkPURvKGEuZ2V0KCJoZWlnaHQiKSxvLnIpLGY9dC5nZXREYXRhKCkscD1mLmdldChmLm1hcERpbWVuc2lvbigidmFsdWUiKSwwKSxnPW4oVG8ocCxbcixzXSxbMCwxXSwhMCkpO3RoaXMuZ3JvdXAuYWRkKG5ldyBkUyh7c2lsZW50OiEwLHN0eWxlOm5vKHt9LGEse3g6dSx5OmgsdGV4dDpWZChwLGEuZ2V0KCJmb3JtYXR0ZXIiKSksdGV4dFdpZHRoOmlzTmFOKGMpP251bGw6Yyx0ZXh0SGVpZ2h0OmlzTmFOKGQpP251bGw6ZCx0ZXh0QWxpZ246ImNlbnRlciIsdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LHthdXRvQ29sb3I6Zyxmb3JjZVJpY2g6ITB9KX0pKX19fSkseHMoe3R5cGU6InNlcmllcy5mdW5uZWwiLGluaXQ6ZnVuY3Rpb24odCl7REMuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMubGVnZW5kRGF0YVByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmF3RGF0YSgpfSx0aGlzLl9kZWZhdWx0TGFiZWxMaW5lKHQpfSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiBYRCh0aGlzLFsidmFsdWUiXSl9LF9kZWZhdWx0TGFiZWxMaW5lOmZ1bmN0aW9uKHQpe01pKHQsImxhYmVsTGluZSIsWyJzaG93Il0pO3ZhciBlPXQubGFiZWxMaW5lLGk9dC5lbXBoYXNpcy5sYWJlbExpbmU7ZS5zaG93PWUuc2hvdyYmdC5sYWJlbC5zaG93LGkuc2hvdz1pLnNob3cmJnQuZW1waGFzaXMubGFiZWwuc2hvd30sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPURDLnN1cGVyQ2FsbCh0aGlzLCJnZXREYXRhUGFyYW1zIix0KSxuPWUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLG89ZS5nZXRTdW0obik7cmV0dXJuIGkucGVyY2VudD1vPysoZS5nZXQobix0KS9vKjEwMCkudG9GaXhlZCgyKTowLGkuJHZhcnMucHVzaCgicGVyY2VudCIpLGl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsbGVmdDo4MCx0b3A6NjAscmlnaHQ6ODAsYm90dG9tOjYwLG1pblNpemU6IjAlIixtYXhTaXplOiIxMDAlIixzb3J0OiJkZXNjZW5kaW5nIixnYXA6MCxmdW5uZWxBbGlnbjoiY2VudGVyIixsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoib3V0ZXIifSxsYWJlbExpbmU6e3Nob3c6ITAsbGVuZ3RoOjIwLGxpbmVTdHlsZTp7d2lkdGg6MSx0eXBlOiJzb2xpZCJ9fSxpdGVtU3R5bGU6e2JvcmRlckNvbG9yOiIjZmZmIixib3JkZXJXaWR0aDoxfSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITB9fX19KSksQUM9R2QucHJvdG90eXBlLENDPVsiaXRlbVN0eWxlIiwib3BhY2l0eSJdO0FDLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuY2hpbGRBdCgwKSxvPXQuaG9zdE1vZGVsLGE9dC5nZXRJdGVtTW9kZWwoZSkscz10LmdldEl0ZW1MYXlvdXQoZSksbD10LmdldEl0ZW1Nb2RlbChlKS5nZXQoQ0MpO2w9bnVsbD09bD8xOmwsbi51c2VTdHlsZSh7fSksaT8obi5zZXRTaGFwZSh7cG9pbnRzOnMucG9pbnRzfSksbi5zZXRTdHlsZSh7b3BhY2l0eTowfSkscG8obix7c3R5bGU6e29wYWNpdHk6bH19LG8sZSkpOmZvKG4se3N0eWxlOntvcGFjaXR5Omx9LHNoYXBlOntwb2ludHM6cy5wb2ludHN9fSxvLGUpO3ZhciB1PWEuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLGg9dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIik7bi5zZXRTdHlsZShyKHtsaW5lSm9pbjoicm91bmQiLGZpbGw6aH0sdS5nZXRJdGVtU3R5bGUoWyJvcGFjaXR5Il0pKSksbi5ob3ZlclN0eWxlPXUuZ2V0TW9kZWwoImVtcGhhc2lzIikuZ2V0SXRlbVN0eWxlKCksdGhpcy5fdXBkYXRlTGFiZWwodCxlKSxlbyh0aGlzKX0sQUMuX3VwZGF0ZUxhYmVsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jaGlsZEF0KDEpLG49dGhpcy5jaGlsZEF0KDIpLG89dC5ob3N0TW9kZWwsYT10LmdldEl0ZW1Nb2RlbChlKSxyPXQuZ2V0SXRlbUxheW91dChlKS5sYWJlbCxzPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO2ZvKGkse3NoYXBlOntwb2ludHM6ci5saW5lUG9pbnRzfHxyLmxpbmVQb2ludHN9fSxvLGUpLGZvKG4se3N0eWxlOnt4OnIueCx5OnIueX19LG8sZSksbi5hdHRyKHtyb3RhdGlvbjpyLnJvdGF0aW9uLG9yaWdpbjpbci54LHIueV0sejI6MTB9KTt2YXIgbD1hLmdldE1vZGVsKCJsYWJlbCIpLHU9YS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSxoPWEuZ2V0TW9kZWwoImxhYmVsTGluZSIpLGM9YS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWxMaW5lIikscz10LmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKTtpbyhuLnN0eWxlLG4uaG92ZXJTdHlsZT17fSxsLHUse2xhYmVsRmV0Y2hlcjp0Lmhvc3RNb2RlbCxsYWJlbERhdGFJbmRleDplLGRlZmF1bHRUZXh0OnQuZ2V0TmFtZShlKSxhdXRvQ29sb3I6cyx1c2VJbnNpZGVTdHlsZTohIXIuaW5zaWRlfSx7dGV4dEFsaWduOnIudGV4dEFsaWduLHRleHRWZXJ0aWNhbEFsaWduOnIudmVydGljYWxBbGlnbn0pLG4uaWdub3JlPW4ubm9ybWFsSWdub3JlPSFsLmdldCgic2hvdyIpLG4uaG92ZXJJZ25vcmU9IXUuZ2V0KCJzaG93IiksaS5pZ25vcmU9aS5ub3JtYWxJZ25vcmU9IWguZ2V0KCJzaG93IiksaS5ob3Zlcklnbm9yZT0hYy5nZXQoInNob3ciKSxpLnNldFN0eWxlKHtzdHJva2U6c30pLGkuc2V0U3R5bGUoaC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLGkuaG92ZXJTdHlsZT1jLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKX0sdShHZCxydyk7Z3IuZXh0ZW5kKHt0eXBlOiJmdW5uZWwiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCksbz10aGlzLl9kYXRhLGE9dGhpcy5ncm91cDtuLmRpZmYobykuYWRkKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBHZChuLHQpO24uc2V0SXRlbUdyYXBoaWNFbCh0LGUpLGEuYWRkKGUpfSkudXBkYXRlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9by5nZXRJdGVtR3JhcGhpY0VsKGUpO2kudXBkYXRlRGF0YShuLHQpLGEuYWRkKGkpLG4uc2V0SXRlbUdyYXBoaWNFbCh0LGkpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0SXRlbUdyYXBoaWNFbCh0KTthLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSx0aGlzLl9kYXRhPW59LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX0pO3BzKCREKCJmdW5uZWwiKSksZnMoZnVuY3Rpb24odCxlLGkpe3QuZWFjaFNlcmllc0J5VHlwZSgiZnVubmVsIixmdW5jdGlvbih0KXt2YXIgaT10LmdldERhdGEoKSxuPWkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLG89dC5nZXQoInNvcnQiKSxhPVdkKHQsZSkscj1GZChpLG8pLHM9W0RvKHQuZ2V0KCJtaW5TaXplIiksYS53aWR0aCksRG8odC5nZXQoIm1heFNpemUiKSxhLndpZHRoKV0sbD1pLmdldERhdGFFeHRlbnQobiksdT10LmdldCgibWluIiksaD10LmdldCgibWF4Iik7bnVsbD09dSYmKHU9TWF0aC5taW4obFswXSwwKSksbnVsbD09aCYmKGg9bFsxXSk7dmFyIGM9dC5nZXQoImZ1bm5lbEFsaWduIiksZD10LmdldCgiZ2FwIiksZj0oYS5oZWlnaHQtZCooaS5jb3VudCgpLTEpKS9pLmNvdW50KCkscD1hLnksZz1mdW5jdGlvbih0LGUpe3ZhciBvLHI9VG8oaS5nZXQobix0KXx8MCxbdSxoXSxzLCEwKTtzd2l0Y2goYyl7Y2FzZSJsZWZ0IjpvPWEueDticmVhaztjYXNlImNlbnRlciI6bz1hLngrKGEud2lkdGgtcikvMjticmVhaztjYXNlInJpZ2h0IjpvPWEueCthLndpZHRoLXJ9cmV0dXJuW1tvLGVdLFtvK3IsZV1dfTsiYXNjZW5kaW5nIj09PW8mJihmPS1mLGQ9LWQscCs9YS5oZWlnaHQscj1yLnJldmVyc2UoKSk7Zm9yKHZhciBtPTA7bTxyLmxlbmd0aDttKyspe3ZhciB2PXJbbV0seT1yW20rMV0seD1pLmdldEl0ZW1Nb2RlbCh2KS5nZXQoIml0ZW1TdHlsZS5oZWlnaHQiKTtudWxsPT14P3g9ZjooeD1Ebyh4LGEuaGVpZ2h0KSwiYXNjZW5kaW5nIj09PW8mJih4PS14KSk7dmFyIF89Zyh2LHApLHc9Zyh5LHAreCk7cCs9eCtkLGkuc2V0SXRlbUxheW91dCh2LHtwb2ludHM6Xy5jb25jYXQody5zbGljZSgpLnJldmVyc2UoKSl9KX1IZChpKX0pfSksaHMoZUEoImZ1bm5lbCIpKTt2YXIgTEM9ZnVuY3Rpb24odCxlLGksbixvKXtZVC5jYWxsKHRoaXMsdCxlLGkpLHRoaXMudHlwZT1ufHwidmFsdWUiLHRoaXMuYXhpc0luZGV4PW99O0xDLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TEMsbW9kZWw6bnVsbCxpc0hvcml6b250YWw6ZnVuY3Rpb24oKXtyZXR1cm4iaG9yaXpvbnRhbCIhPT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0TW9kZWwoKS5nZXQoImxheW91dCIpfX0sdShMQyxZVCk7dmFyIGtDPWZ1bmN0aW9uKHQsZSxpLG4sbyxhKXtlWzBdPWpkKGVbMF0saSksZVsxXT1qZChlWzFdLGkpLHQ9dHx8MDt2YXIgcj1pWzFdLWlbMF07bnVsbCE9byYmKG89amQobyxbMCxyXSkpLG51bGwhPWEmJihhPU1hdGgubWF4KGEsbnVsbCE9bz9vOjApKSwiYWxsIj09PW4mJihvPWE9TWF0aC5hYnMoZVsxXS1lWzBdKSxuPTApO3ZhciBzPVhkKGUsbik7ZVtuXSs9dDt2YXIgbD1vfHwwLHU9aS5zbGljZSgpO3Muc2lnbjwwP3VbMF0rPWw6dVsxXS09bCxlW25dPWpkKGVbbl0sdSk7aD1YZChlLG4pO251bGwhPW8mJihoLnNpZ24hPT1zLnNpZ258fGguc3BhbjxvKSYmKGVbMS1uXT1lW25dK3Muc2lnbipvKTt2YXIgaD1YZChlLG4pO3JldHVybiBudWxsIT1hJiZoLnNwYW4+YSYmKGVbMS1uXT1lW25dK2guc2lnbiphKSxlfSxQQz1kLE5DPU1hdGgubWluLE9DPU1hdGgubWF4LEVDPU1hdGguZmxvb3IsUkM9TWF0aC5jZWlsLHpDPUFvLEJDPU1hdGguUEk7WWQucHJvdG90eXBlPXt0eXBlOiJwYXJhbGxlbCIsY29uc3RydWN0b3I6WWQsX2luaXQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZGltZW5zaW9ucyxvPXQucGFyYWxsZWxBeGlzSW5kZXg7UEMobixmdW5jdGlvbih0LGkpe3ZhciBuPW9baV0sYT1lLmdldENvbXBvbmVudCgicGFyYWxsZWxBeGlzIixuKSxyPXRoaXMuX2F4ZXNNYXAuc2V0KHQsbmV3IExDKHQseWwoYSksWzAsMF0sYS5nZXQoInR5cGUiKSxuKSkscz0iY2F0ZWdvcnkiPT09ci50eXBlO3Iub25CYW5kPXMmJmEuZ2V0KCJib3VuZGFyeUdhcCIpLHIuaW52ZXJzZT1hLmdldCgiaW52ZXJzZSIpLGEuYXhpcz1yLHIubW9kZWw9YSxyLmNvb3JkaW5hdGVTeXN0ZW09YS5jb29yZGluYXRlU3lzdGVtPXRoaXN9LHRoaXMpfSx1cGRhdGU6ZnVuY3Rpb24odCxlKXt0aGlzLl91cGRhdGVBeGVzRnJvbVNlcmllcyh0aGlzLl9tb2RlbCx0KX0sY29udGFpblBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21ha2VMYXlvdXRJbmZvKCksaT1lLmF4aXNCYXNlLG49ZS5sYXlvdXRCYXNlLG89ZS5waXhlbERpbUluZGV4LGE9dFsxLW9dLHI9dFtvXTtyZXR1cm4gYT49aSYmYTw9aStlLmF4aXNMZW5ndGgmJnI+PW4mJnI8PW4rZS5sYXlvdXRMZW5ndGh9LGdldE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsfSxfdXBkYXRlQXhlc0Zyb21TZXJpZXM6ZnVuY3Rpb24odCxlKXtlLmVhY2hTZXJpZXMoZnVuY3Rpb24oaSl7aWYodC5jb250YWlucyhpLGUpKXt2YXIgbj1pLmdldERhdGEoKTtQQyh0aGlzLmRpbWVuc2lvbnMsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYXhlc01hcC5nZXQodCk7ZS5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKG4sbi5tYXBEaW1lbnNpb24odCkpLHZsKGUuc2NhbGUsZS5tb2RlbCl9LHRoaXMpfX0sdGhpcyl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3JlY3Q9UW8odC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSksdGhpcy5fbGF5b3V0QXhlcygpfSxnZXRSZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LF9tYWtlTGF5b3V0SW5mbzpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fbW9kZWwsaT10aGlzLl9yZWN0LG49WyJ4IiwieSJdLG89WyJ3aWR0aCIsImhlaWdodCJdLGE9ZS5nZXQoImxheW91dCIpLHI9Imhvcml6b250YWwiPT09YT8wOjEscz1pW29bcl1dLGw9WzAsc10sdT10aGlzLmRpbWVuc2lvbnMubGVuZ3RoLGg9cWQoZS5nZXQoImF4aXNFeHBhbmRXaWR0aCIpLGwpLGM9cWQoZS5nZXQoImF4aXNFeHBhbmRDb3VudCIpfHwwLFswLHVdKSxkPWUuZ2V0KCJheGlzRXhwYW5kYWJsZSIpJiZ1PjMmJnU+YyYmYz4xJiZoPjAmJnM+MCxmPWUuZ2V0KCJheGlzRXhwYW5kV2luZG93Iik7Zj8odD1xZChmWzFdLWZbMF0sbCksZlsxXT1mWzBdK3QpOih0PXFkKGgqKGMtMSksbCksKGY9W2gqKGUuZ2V0KCJheGlzRXhwYW5kQ2VudGVyIil8fEVDKHUvMikpLXQvMl0pWzFdPWZbMF0rdCk7dmFyIHA9KHMtdCkvKHUtYyk7cDwzJiYocD0wKTt2YXIgZz1bRUMoekMoZlswXS9oLDEpKSsxLFJDKHpDKGZbMV0vaCwxKSktMV0sbT1wL2gqZlswXTtyZXR1cm57bGF5b3V0OmEscGl4ZWxEaW1JbmRleDpyLGxheW91dEJhc2U6aVtuW3JdXSxsYXlvdXRMZW5ndGg6cyxheGlzQmFzZTppW25bMS1yXV0sYXhpc0xlbmd0aDppW29bMS1yXV0sYXhpc0V4cGFuZGFibGU6ZCxheGlzRXhwYW5kV2lkdGg6aCxheGlzQ29sbGFwc2VXaWR0aDpwLGF4aXNFeHBhbmRXaW5kb3c6ZixheGlzQ291bnQ6dSx3aW5Jbm5lckluZGljZXM6ZyxheGlzRXhwYW5kV2luZG93MFBvczptfX0sX2xheW91dEF4ZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0LGU9dGhpcy5fYXhlc01hcCxpPXRoaXMuZGltZW5zaW9ucyxuPXRoaXMuX21ha2VMYXlvdXRJbmZvKCksbz1uLmxheW91dDtlLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9WzAsbi5heGlzTGVuZ3RoXSxpPXQuaW52ZXJzZT8xOjA7dC5zZXRFeHRlbnQoZVtpXSxlWzEtaV0pfSksUEMoaSxmdW5jdGlvbihlLGkpe3ZhciBhPShuLmF4aXNFeHBhbmRhYmxlPyRkOktkKShpLG4pLHI9e2hvcml6b250YWw6e3g6YS5wb3NpdGlvbix5Om4uYXhpc0xlbmd0aH0sdmVydGljYWw6e3g6MCx5OmEucG9zaXRpb259fSxzPXtob3Jpem9udGFsOkJDLzIsdmVydGljYWw6MH0sbD1bcltvXS54K3QueCxyW29dLnkrdC55XSx1PXNbb10saD1zdCgpO2R0KGgsaCx1KSxjdChoLGgsbCksdGhpcy5fYXhlc0xheW91dFtlXT17cG9zaXRpb246bCxyb3RhdGlvbjp1LHRyYW5zZm9ybTpoLGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6YS5heGlzTmFtZUF2YWlsYWJsZVdpZHRoLGF4aXNMYWJlbFNob3c6YS5heGlzTGFiZWxTaG93LG5hbWVUcnVuY2F0ZU1heFdpZHRoOmEubmFtZVRydW5jYXRlTWF4V2lkdGgsdGlja0RpcmVjdGlvbjoxLGxhYmVsRGlyZWN0aW9uOjF9fSx0aGlzKX0sZ2V0QXhpczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXhlc01hcC5nZXQodCl9LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXhpc0Nvb3JkVG9Qb2ludCh0aGlzLl9heGVzTWFwLmdldChlKS5kYXRhVG9Db29yZCh0KSxlKX0sZWFjaEFjdGl2ZVN0YXRlOmZ1bmN0aW9uKHQsZSxpLG4pe251bGw9PWkmJihpPTApLG51bGw9PW4mJihuPXQuY291bnQoKSk7dmFyIG89dGhpcy5fYXhlc01hcCxhPXRoaXMuZGltZW5zaW9ucyxyPVtdLHM9W107ZChhLGZ1bmN0aW9uKGUpe3IucHVzaCh0Lm1hcERpbWVuc2lvbihlKSkscy5wdXNoKG8uZ2V0KGUpLm1vZGVsKX0pO2Zvcih2YXIgbD10aGlzLmhhc0F4aXNCcnVzaGVkKCksdT1pO3U8bjt1Kyspe3ZhciBoO2lmKGwpe2g9ImFjdGl2ZSI7Zm9yKHZhciBjPXQuZ2V0VmFsdWVzKHIsdSksZj0wLHA9YS5sZW5ndGg7ZjxwO2YrKylpZigiaW5hY3RpdmUiPT09c1tmXS5nZXRBY3RpdmVTdGF0ZShjW2ZdKSl7aD0iaW5hY3RpdmUiO2JyZWFrfX1lbHNlIGg9Im5vcm1hbCI7ZShoLHUpfX0saGFzQXhpc0JydXNoZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5kaW1lbnNpb25zLGU9dGhpcy5fYXhlc01hcCxpPSExLG49MCxvPXQubGVuZ3RoO248bztuKyspIm5vcm1hbCIhPT1lLmdldCh0W25dKS5tb2RlbC5nZXRBY3RpdmVTdGF0ZSgpJiYoaT0hMCk7cmV0dXJuIGl9LGF4aXNDb29yZFRvUG9pbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbW8oW3QsMF0sdGhpcy5fYXhlc0xheW91dFtlXS50cmFuc2Zvcm0pfSxnZXRBeGlzTGF5b3V0OmZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMuX2F4ZXNMYXlvdXRbdF0pfSxnZXRTbGlkZWRBeGlzRXhwYW5kV2luZG93OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21ha2VMYXlvdXRJbmZvKCksaT1lLnBpeGVsRGltSW5kZXgsbj1lLmF4aXNFeHBhbmRXaW5kb3cuc2xpY2UoKSxvPW5bMV0tblswXSxhPVswLGUuYXhpc0V4cGFuZFdpZHRoKihlLmF4aXNDb3VudC0xKV07aWYoIXRoaXMuY29udGFpblBvaW50KHQpKXJldHVybntiZWhhdmlvcjoibm9uZSIsYXhpc0V4cGFuZFdpbmRvdzpufTt2YXIgcixzPXRbaV0tZS5sYXlvdXRCYXNlLWUuYXhpc0V4cGFuZFdpbmRvdzBQb3MsbD0ic2xpZGUiLHU9ZS5heGlzQ29sbGFwc2VXaWR0aCxoPXRoaXMuX21vZGVsLmdldCgiYXhpc0V4cGFuZFNsaWRlVHJpZ2dlckFyZWEiKSxjPW51bGwhPWhbMF07aWYodSljJiZ1JiZzPG8qaFswXT8obD0ianVtcCIscj1zLW8qaFsyXSk6YyYmdSYmcz5vKigxLWhbMF0pPyhsPSJqdW1wIixyPXMtbyooMS1oWzJdKSk6KHI9cy1vKmhbMV0pPj0wJiYocj1zLW8qKDEtaFsxXSkpPD0wJiYocj0wKSwocio9ZS5heGlzRXhwYW5kV2lkdGgvdSk/a0MocixuLGEsImFsbCIpOmw9Im5vbmUiO2Vsc2V7bz1uWzFdLW5bMF07KG49W09DKDAsYVsxXSpzL28tby8yKV0pWzFdPU5DKGFbMV0sblswXStvKSxuWzBdPW5bMV0tb31yZXR1cm57YXhpc0V4cGFuZFdpbmRvdzpuLGJlaGF2aW9yOmx9fX0sQ2EucmVnaXN0ZXIoInBhcmFsbGVsIix7Y3JlYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107cmV0dXJuIHQuZWFjaENvbXBvbmVudCgicGFyYWxsZWwiLGZ1bmN0aW9uKG4sbyl7dmFyIGE9bmV3IFlkKG4sdCxlKTthLm5hbWU9InBhcmFsbGVsXyIrbyxhLnJlc2l6ZShuLGUpLG4uY29vcmRpbmF0ZVN5c3RlbT1hLGEubW9kZWw9bixpLnB1c2goYSl9KSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24oZSl7aWYoInBhcmFsbGVsIj09PWUuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikpe3ZhciBpPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToicGFyYWxsZWwiLGluZGV4OmUuZ2V0KCJwYXJhbGxlbEluZGV4IiksaWQ6ZS5nZXQoInBhcmFsbGVsSWQiKX0pWzBdO2UuY29vcmRpbmF0ZVN5c3RlbT1pLmNvb3JkaW5hdGVTeXN0ZW19fSksaX19KTt2YXIgVkM9dU0uZXh0ZW5kKHt0eXBlOiJiYXNlUGFyYWxsZWxBeGlzIixheGlzOm51bGwsYWN0aXZlSW50ZXJ2YWxzOltdLGdldEFyZWFTZWxlY3RTdHlsZTpmdW5jdGlvbigpe3JldHVybiByYihbWyJmaWxsIiwiY29sb3IiXSxbImxpbmVXaWR0aCIsImJvcmRlcldpZHRoIl0sWyJzdHJva2UiLCJib3JkZXJDb2xvciJdLFsid2lkdGgiLCJ3aWR0aCJdLFsib3BhY2l0eSIsIm9wYWNpdHkiXV0pKHRoaXMuZ2V0TW9kZWwoImFyZWFTZWxlY3RTdHlsZSIpKX0sc2V0QWN0aXZlSW50ZXJ2YWxzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aXZlSW50ZXJ2YWxzPWkodCk7aWYoZSlmb3IodmFyIG49ZS5sZW5ndGgtMTtuPj0wO24tLSlDbyhlW25dKX0sZ2V0QWN0aXZlU3RhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hY3RpdmVJbnRlcnZhbHM7aWYoIWUubGVuZ3RoKXJldHVybiJub3JtYWwiO2lmKG51bGw9PXR8fGlzTmFOKHQpKXJldHVybiJpbmFjdGl2ZSI7aWYoMT09PWUubGVuZ3RoKXt2YXIgaT1lWzBdO2lmKGlbMF08PXQmJnQ8PWlbMV0pcmV0dXJuImFjdGl2ZSJ9ZWxzZSBmb3IodmFyIG49MCxvPWUubGVuZ3RoO248bztuKyspaWYoZVtuXVswXTw9dCYmdDw9ZVtuXVsxXSlyZXR1cm4iYWN0aXZlIjtyZXR1cm4iaW5hY3RpdmUifX0pLEdDPXt0eXBlOiJ2YWx1ZSIsZGltOm51bGwsYXJlYVNlbGVjdFN0eWxlOnt3aWR0aDoyMCxib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiJyZ2JhKDE2MCwxOTcsMjMyKSIsY29sb3I6InJnYmEoMTYwLDE5NywyMzIpIixvcGFjaXR5Oi4zfSxyZWFsdGltZTohMCx6OjEwfTtuKFZDLnByb3RvdHlwZSxPVCksU0QoInBhcmFsbGVsIixWQyxmdW5jdGlvbih0LGUpe3JldHVybiBlLnR5cGV8fChlLmRhdGE/ImNhdGVnb3J5IjoidmFsdWUiKX0sR0MpLHVNLmV4dGVuZCh7dHlwZToicGFyYWxsZWwiLGRlcGVuZGVuY2llczpbInBhcmFsbGVsQXhpcyJdLGNvb3JkaW5hdGVTeXN0ZW06bnVsbCxkaW1lbnNpb25zOm51bGwscGFyYWxsZWxBeGlzSW5kZXg6bnVsbCxsYXlvdXRNb2RlOiJib3giLGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MCxsZWZ0OjgwLHRvcDo2MCxyaWdodDo4MCxib3R0b206NjAsbGF5b3V0OiJob3Jpem9udGFsIixheGlzRXhwYW5kYWJsZTohMSxheGlzRXhwYW5kQ2VudGVyOm51bGwsYXhpc0V4cGFuZENvdW50OjAsYXhpc0V4cGFuZFdpZHRoOjUwLGF4aXNFeHBhbmRSYXRlOjE3LGF4aXNFeHBhbmREZWJvdW5jZTo1MCxheGlzRXhwYW5kU2xpZGVUcmlnZ2VyQXJlYTpbLS4xNSwuMDUsLjRdLGF4aXNFeHBhbmRUcmlnZ2VyT246ImNsaWNrIixwYXJhbGxlbEF4aXNEZWZhdWx0Om51bGx9LGluaXQ6ZnVuY3Rpb24oKXt1TS5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5tZXJnZU9wdGlvbih7fSl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO3QmJm4oZSx0LCEwKSx0aGlzLl9pbml0RGltZW5zaW9ucygpfSxjb250YWluczpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0KCJwYXJhbGxlbEluZGV4Iik7cmV0dXJuIG51bGwhPWkmJmUuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsaSk9PT10aGlzfSxzZXRBeGlzRXhwYW5kOmZ1bmN0aW9uKHQpe2QoWyJheGlzRXhwYW5kYWJsZSIsImF4aXNFeHBhbmRDZW50ZXIiLCJheGlzRXhwYW5kQ291bnQiLCJheGlzRXhwYW5kV2lkdGgiLCJheGlzRXhwYW5kV2luZG93Il0sZnVuY3Rpb24oZSl7dC5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXMub3B0aW9uW2VdPXRbZV0pfSx0aGlzKX0sX2luaXREaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kaW1lbnNpb25zPVtdLGU9dGhpcy5wYXJhbGxlbEF4aXNJbmRleD1bXTtkKGcodGhpcy5kZXBlbmRlbnRNb2RlbHMucGFyYWxsZWxBeGlzLGZ1bmN0aW9uKHQpe3JldHVybih0LmdldCgicGFyYWxsZWxJbmRleCIpfHwwKT09PXRoaXMuY29tcG9uZW50SW5kZXh9LHRoaXMpLGZ1bmN0aW9uKGkpe3QucHVzaCgiZGltIitpLmdldCgiZGltIikpLGUucHVzaChpLmNvbXBvbmVudEluZGV4KX0pfX0pLGNzKHt0eXBlOiJheGlzQXJlYVNlbGVjdCIsZXZlbnQ6ImF4aXNBcmVhU2VsZWN0ZWQifSxmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InBhcmFsbGVsQXhpcyIscXVlcnk6dH0sZnVuY3Rpb24oZSl7ZS5heGlzLm1vZGVsLnNldEFjdGl2ZUludGVydmFscyh0LmludGVydmFscyl9KX0pLGNzKCJwYXJhbGxlbEF4aXNFeHBhbmQiLGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToicGFyYWxsZWwiLHF1ZXJ5OnR9LGZ1bmN0aW9uKGUpe2Uuc2V0QXhpc0V4cGFuZCh0KX0pfSk7dmFyIFdDPXYsRkM9ZCxIQz1mLFpDPU1hdGgubWluLFVDPU1hdGgubWF4LFhDPU1hdGgucG93LGpDPTFlNCxZQz02LHFDPTYsS0M9Imdsb2JhbFBhbiIsJEM9e3c6WzAsMF0sZTpbMCwxXSxuOlsxLDBdLHM6WzEsMV19LEpDPXt3OiJldyIsZToiZXciLG46Im5zIixzOiJucyIsbmU6Im5lc3ciLHN3OiJuZXN3IixudzoibndzZSIsc2U6Im53c2UifSxRQz17YnJ1c2hTdHlsZTp7bGluZVdpZHRoOjIsc3Ryb2tlOiJyZ2JhKDAsMCwwLDAuMykiLGZpbGw6InJnYmEoMCwwLDAsMC4xKSJ9LHRyYW5zZm9ybWFibGU6ITAsYnJ1c2hNb2RlOiJzaW5nbGUiLHJlbW92ZU9uQ2xpY2s6ITF9LHRMPTA7SmQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpKZCxlbmFibGVCcnVzaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYnJ1c2hUeXBlJiZ0Zih0aGlzKSx0LmJydXNoVHlwZSYmUWQodGhpcyx0KSx0aGlzfSxzZXRQYW5lbHM6ZnVuY3Rpb24odCl7aWYodCYmdC5sZW5ndGgpe3ZhciBlPXRoaXMuX3BhbmVscz17fTtkKHQsZnVuY3Rpb24odCl7ZVt0LnBhbmVsSWRdPWkodCl9KX1lbHNlIHRoaXMuX3BhbmVscz1udWxsO3JldHVybiB0aGlzfSxtb3VudDpmdW5jdGlvbih0KXt0PXR8fHt9LHRoaXMuX2VuYWJsZUdsb2JhbFBhbj10LmVuYWJsZUdsb2JhbFBhbjt2YXIgZT10aGlzLmdyb3VwO3JldHVybiB0aGlzLl96ci5hZGQoZSksZS5hdHRyKHtwb3NpdGlvbjp0LnBvc2l0aW9ufHxbMCwwXSxyb3RhdGlvbjp0LnJvdGF0aW9ufHwwLHNjYWxlOnQuc2NhbGV8fFsxLDFdfSksdGhpcy5fdHJhbnNmb3JtPWUuZ2V0TG9jYWxUcmFuc2Zvcm0oKSx0aGlzfSxlYWNoQ292ZXI6ZnVuY3Rpb24odCxlKXtGQyh0aGlzLl9jb3ZlcnMsdCxlKX0sdXBkYXRlQ292ZXJzOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4obnVsbCE9dC5pZD90LmlkOmErZSkrIi0iK3QuYnJ1c2hUeXBlfWZ1bmN0aW9uIG8oZSxpKXt2YXIgbj10W2VdO2lmKG51bGwhPWkmJnJbaV09PT11KXNbZV09cltpXTtlbHNle3ZhciBvPXNbZV09bnVsbCE9aT8ocltpXS5fX2JydXNoT3B0aW9uPW4scltpXSk6bmYobCxlZihsLG4pKTtyZihsLG8pfX10PWYodCxmdW5jdGlvbih0KXtyZXR1cm4gbihpKFFDKSx0LCEwKX0pO3ZhciBhPSJcMC1icnVzaC1pbmRleC0iLHI9dGhpcy5fY292ZXJzLHM9dGhpcy5fY292ZXJzPVtdLGw9dGhpcyx1PXRoaXMuX2NyZWF0aW5nQ292ZXI7cmV0dXJuIG5ldyBTcyhyLHQsZnVuY3Rpb24odCxpKXtyZXR1cm4gZSh0Ll9fYnJ1c2hPcHRpb24saSl9LGUpLmFkZChvKS51cGRhdGUobykucmVtb3ZlKGZ1bmN0aW9uKHQpe3JbdF0hPT11JiZsLmdyb3VwLnJlbW92ZShyW3RdKX0pLmV4ZWN1dGUoKSx0aGlzfSx1bm1vdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlQnJ1c2goITEpLGhmKHRoaXMpLHRoaXMuX3pyLnJlbW92ZSh0aGlzLmdyb3VwKSx0aGlzfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy51bm1vdW50KCksdGhpcy5vZmYoKX19LGgoSmQsVF8pO3ZhciBlTD17bW91c2Vkb3duOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2RyYWdnaW5nKVBmLmNhbGwodGhpcyx0KTtlbHNlIGlmKCF0LnRhcmdldHx8IXQudGFyZ2V0LmRyYWdnYWJsZSl7QWYodCk7dmFyIGU9dGhpcy5ncm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodC5vZmZzZXRYLHQub2Zmc2V0WSk7dGhpcy5fY3JlYXRpbmdDb3Zlcj1udWxsLCh0aGlzLl9jcmVhdGluZ1BhbmVsPWxmKHRoaXMsdCxlKSkmJih0aGlzLl9kcmFnZ2luZz0hMCx0aGlzLl90cmFjaz1bZS5zbGljZSgpXSl9fSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodC5vZmZzZXRYLHQub2Zmc2V0WSk7aWYoRGYodGhpcyx0LGUpLHRoaXMuX2RyYWdnaW5nKXtBZih0KTt2YXIgaT1MZih0aGlzLHQsZSwhMSk7aSYmY2YodGhpcyxpKX19LG1vdXNldXA6UGZ9LGlMPXtsaW5lWDpOZigwKSxsaW5lWTpOZigxKSxyZWN0OntjcmVhdGVDb3ZlcjpmdW5jdGlvbih0LGUpe3JldHVybiBwZihXQyhiZixmdW5jdGlvbih0KXtyZXR1cm4gdH0sZnVuY3Rpb24odCl7cmV0dXJuIHR9KSx0LGUsWyJ3IiwiZSIsIm4iLCJzIiwic2UiLCJzdyIsIm5lIiwibnciXSl9LGdldENyZWF0aW5nUmFuZ2U6ZnVuY3Rpb24odCl7dmFyIGU9ZmYodCk7cmV0dXJuIHhmKGVbMV1bMF0sZVsxXVsxXSxlWzBdWzBdLGVbMF1bMV0pfSx1cGRhdGVDb3ZlclNoYXBlOmZ1bmN0aW9uKHQsZSxpLG4pe2dmKHQsZSxpLG4pfSx1cGRhdGVDb21tb246bWYsY29udGFpbjpDZn0scG9seWdvbjp7Y3JlYXRlQ292ZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgcnc7cmV0dXJuIGkuYWRkKG5ldyB3Uyh7bmFtZToibWFpbiIsc3R5bGU6eWYoZSksc2lsZW50OiEwfSkpLGl9LGdldENyZWF0aW5nUmFuZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGVuZENyZWF0aW5nOmZ1bmN0aW9uKHQsZSl7ZS5yZW1vdmUoZS5jaGlsZEF0KDApKSxlLmFkZChuZXcgX1Moe25hbWU6Im1haW4iLGRyYWdnYWJsZTohMCxkcmlmdDpXQyhTZix0LGUpLG9uZHJhZ2VuZDpXQyhjZix0LHtpc0VuZDohMH0pfSkpfSx1cGRhdGVDb3ZlclNoYXBlOmZ1bmN0aW9uKHQsZSxpLG4pe2UuY2hpbGRBdCgwKS5zZXRTaGFwZSh7cG9pbnRzOklmKHQsZSxpKX0pfSx1cGRhdGVDb21tb246bWYsY29udGFpbjpDZn19LG5MPVsiYXhpc0xpbmUiLCJheGlzVGlja0xhYmVsIiwiYXhpc05hbWUiXSxvTD15cyh7dHlwZToicGFyYWxsZWxBeGlzIixpbml0OmZ1bmN0aW9uKHQsZSl7b0wuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLCh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IEpkKGUuZ2V0WnIoKSkpLm9uKCJicnVzaCIsbSh0aGlzLl9vbkJydXNoLHRoaXMpKX0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKCFCZih0LGUsbikpe3RoaXMuYXhpc01vZGVsPXQsdGhpcy5hcGk9aSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBvPXRoaXMuX2F4aXNHcm91cDtpZih0aGlzLl9heGlzR3JvdXA9bmV3IHJ3LHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2F4aXNHcm91cCksdC5nZXQoInNob3ciKSl7dmFyIHI9R2YodCxlKSxzPXIuY29vcmRpbmF0ZVN5c3RlbSxsPXQuZ2V0QXJlYVNlbGVjdFN0eWxlKCksdT1sLndpZHRoLGg9dC5heGlzLmRpbSxjPWEoe3N0cm9rZUNvbnRhaW5UaHJlc2hvbGQ6dX0scy5nZXRBeGlzTGF5b3V0KGgpKSxmPW5ldyBDRCh0LGMpO2QobkwsZi5hZGQsZiksdGhpcy5fYXhpc0dyb3VwLmFkZChmLmdldEdyb3VwKCkpLHRoaXMuX3JlZnJlc2hCcnVzaENvbnRyb2xsZXIoYyxsLHQscix1LGkpO3ZhciBwPW4mJiExPT09bi5hbmltYXRpb24/bnVsbDp0O3lvKG8sdGhpcy5fYXhpc0dyb3VwLHApfX19LF9yZWZyZXNoQnJ1c2hDb250cm9sbGVyOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt2YXIgcj1pLmF4aXMuZ2V0RXh0ZW50KCkscz1yWzFdLXJbMF0sbD1NYXRoLm1pbigzMCwuMSpNYXRoLmFicyhzKSksdT0kdC5jcmVhdGUoe3g6clswXSx5Oi1vLzIsd2lkdGg6cyxoZWlnaHQ6b30pO3UueC09bCx1LndpZHRoKz0yKmwsdGhpcy5fYnJ1c2hDb250cm9sbGVyLm1vdW50KHtlbmFibGVHbG9iYWxQYW46ITAscm90YXRpb246dC5yb3RhdGlvbixwb3NpdGlvbjp0LnBvc2l0aW9ufSkuc2V0UGFuZWxzKFt7cGFuZWxJZDoicGwiLGNsaXBQYXRoOk9mKHUpLGlzVGFyZ2V0QnlDdXJzb3I6UmYodSxhLG4pLGdldExpbmVhckJydXNoT3RoZXJFeHRlbnQ6RWYodSwwKX1dKS5lbmFibGVCcnVzaCh7YnJ1c2hUeXBlOiJsaW5lWCIsYnJ1c2hTdHlsZTplLHJlbW92ZU9uQ2xpY2s6ITB9KS51cGRhdGVDb3ZlcnMoVmYoaSkpfSxfb25CcnVzaDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuYXhpc01vZGVsLG49aS5heGlzLG89Zih0LGZ1bmN0aW9uKHQpe3JldHVybltuLmNvb3JkVG9EYXRhKHQucmFuZ2VbMF0sITApLG4uY29vcmRUb0RhdGEodC5yYW5nZVsxXSwhMCldfSk7KCFpLm9wdGlvbi5yZWFsdGltZT09PWUuaXNFbmR8fGUucmVtb3ZlT25DbGljaykmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJheGlzQXJlYVNlbGVjdCIscGFyYWxsZWxBeGlzSWQ6aS5pZCxpbnRlcnZhbHM6b30pfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fYnJ1c2hDb250cm9sbGVyLmRpc3Bvc2UoKX19KTt5cyh7dHlwZToicGFyYWxsZWwiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5fbW9kZWw9dCx0aGlzLl9hcGk9aSx0aGlzLl9oYW5kbGVyc3x8KHRoaXMuX2hhbmRsZXJzPXt9LGQoYUwsZnVuY3Rpb24odCxlKXtpLmdldFpyKCkub24oZSx0aGlzLl9oYW5kbGVyc1tlXT1tKHQsdGhpcykpfSx0aGlzKSksd3IodGhpcywiX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kIix0LmdldCgiYXhpc0V4cGFuZFJhdGUiKSwiZml4UmF0ZSIpfSxkaXNwb3NlOmZ1bmN0aW9uKHQsZSl7ZCh0aGlzLl9oYW5kbGVycyxmdW5jdGlvbih0LGkpe2UuZ2V0WnIoKS5vZmYoaSx0KX0pLHRoaXMuX2hhbmRsZXJzPW51bGx9LF90aHJvdHRsZWREaXNwYXRjaEV4cGFuZDpmdW5jdGlvbih0KXt0aGlzLl9kaXNwYXRjaEV4cGFuZCh0KX0sX2Rpc3BhdGNoRXhwYW5kOmZ1bmN0aW9uKHQpe3QmJnRoaXMuX2FwaS5kaXNwYXRjaEFjdGlvbihhKHt0eXBlOiJwYXJhbGxlbEF4aXNFeHBhbmQifSx0KSl9fSk7dmFyIGFMPXttb3VzZWRvd246ZnVuY3Rpb24odCl7V2YodGhpcywiY2xpY2siKSYmKHRoaXMuX21vdXNlRG93blBvaW50PVt0Lm9mZnNldFgsdC5vZmZzZXRZXSl9LG1vdXNldXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbW91c2VEb3duUG9pbnQ7aWYoV2YodGhpcywiY2xpY2siKSYmZSl7dmFyIGk9W3Qub2Zmc2V0WCx0Lm9mZnNldFldO2lmKE1hdGgucG93KGVbMF0taVswXSwyKStNYXRoLnBvdyhlWzFdLWlbMV0sMik+NSlyZXR1cm47dmFyIG49dGhpcy5fbW9kZWwuY29vcmRpbmF0ZVN5c3RlbS5nZXRTbGlkZWRBeGlzRXhwYW5kV2luZG93KFt0Lm9mZnNldFgsdC5vZmZzZXRZXSk7Im5vbmUiIT09bi5iZWhhdmlvciYmdGhpcy5fZGlzcGF0Y2hFeHBhbmQoe2F4aXNFeHBhbmRXaW5kb3c6bi5heGlzRXhwYW5kV2luZG93fSl9dGhpcy5fbW91c2VEb3duUG9pbnQ9bnVsbH0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9tb3VzZURvd25Qb2ludCYmV2YodGhpcywibW91c2Vtb3ZlIikpe3ZhciBlPXRoaXMuX21vZGVsLGk9ZS5jb29yZGluYXRlU3lzdGVtLmdldFNsaWRlZEF4aXNFeHBhbmRXaW5kb3coW3Qub2Zmc2V0WCx0Lm9mZnNldFldKSxuPWkuYmVoYXZpb3I7Imp1bXAiPT09biYmdGhpcy5fdGhyb3R0bGVkRGlzcGF0Y2hFeHBhbmQuZGVib3VuY2VOZXh0Q2FsbChlLmdldCgiYXhpc0V4cGFuZERlYm91bmNlIikpLHRoaXMuX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kKCJub25lIj09PW4/bnVsbDp7YXhpc0V4cGFuZFdpbmRvdzppLmF4aXNFeHBhbmRXaW5kb3csYW5pbWF0aW9uOiJqdW1wIj09PW4mJm51bGx9KX19fTt1cyhmdW5jdGlvbih0KXtaZCh0KSxVZCh0KX0pLHFNLmV4dGVuZCh7dHlwZToic2VyaWVzLnBhcmFsbGVsIixkZXBlbmRlbmNpZXM6WyJwYXJhbGxlbCJdLHZpc3VhbENvbG9yQWNjZXNzUGF0aDoibGluZVN0eWxlLmNvbG9yIixnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0U291cmNlKCk7cmV0dXJuIEZmKGksdGhpcyksVXMoaSx0aGlzKX0sZ2V0UmF3SW5kaWNlc0J5QWN0aXZlU3RhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb29yZGluYXRlU3lzdGVtLGk9dGhpcy5nZXREYXRhKCksbj1bXTtyZXR1cm4gZS5lYWNoQWN0aXZlU3RhdGUoaSxmdW5jdGlvbihlLG8pe3Q9PT1lJiZuLnB1c2goaS5nZXRSYXdJbmRleChvKSl9KSxufSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToicGFyYWxsZWwiLHBhcmFsbGVsSW5kZXg6MCxsYWJlbDp7c2hvdzohMX0saW5hY3RpdmVPcGFjaXR5Oi4wNSxhY3RpdmVPcGFjaXR5OjEsbGluZVN0eWxlOnt3aWR0aDoxLG9wYWNpdHk6LjQ1LHR5cGU6InNvbGlkIn0sZW1waGFzaXM6e2xhYmVsOntzaG93OiExfX0scHJvZ3Jlc3NpdmU6NTAwLHNtb290aDohMSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciJ9fSk7dmFyIHJMPS4zLHNMPShnci5leHRlbmQoe3R5cGU6InBhcmFsbGVsIixpbml0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YUdyb3VwPW5ldyBydyx0aGlzLmdyb3VwLmFkZCh0aGlzLl9kYXRhR3JvdXApLHRoaXMuX2RhdGEsdGhpcy5faW5pdGlhbGl6ZWR9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLl9kYXRhR3JvdXAsYT10LmdldERhdGEoKSxyPXRoaXMuX2RhdGEscz10LmNvb3JkaW5hdGVTeXN0ZW0sbD1zLmRpbWVuc2lvbnMsdT1qZih0KTtpZihhLmRpZmYocikuYWRkKGZ1bmN0aW9uKHQpe1lmKFhmKGEsbyx0LGwscyksYSx0LHUpfSkudXBkYXRlKGZ1bmN0aW9uKGUsaSl7dmFyIG89ci5nZXRJdGVtR3JhcGhpY0VsKGkpLGg9VWYoYSxlLGwscyk7YS5zZXRJdGVtR3JhcGhpY0VsKGUsbyksZm8obyx7c2hhcGU6e3BvaW50czpofX0sbiYmITE9PT1uLmFuaW1hdGlvbj9udWxsOnQsZSksWWYobyxhLGUsdSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRJdGVtR3JhcGhpY0VsKHQpO28ucmVtb3ZlKGUpfSkuZXhlY3V0ZSgpLCF0aGlzLl9pbml0aWFsaXplZCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITA7dmFyIGg9WmYocyx0LGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe28ucmVtb3ZlQ2xpcFBhdGgoKX0pfSk7by5zZXRDbGlwUGF0aChoKX10aGlzLl9kYXRhPWF9LGluY3JlbWVudGFsUHJlcGFyZVJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5faW5pdGlhbGl6ZWQ9ITAsdGhpcy5fZGF0YT1udWxsLHRoaXMuX2RhdGFHcm91cC5yZW1vdmVBbGwoKX0saW5jcmVtZW50YWxSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj1lLmdldERhdGEoKSxvPWUuY29vcmRpbmF0ZVN5c3RlbSxhPW8uZGltZW5zaW9ucyxyPWpmKGUpLHM9dC5zdGFydDtzPHQuZW5kO3MrKyl7dmFyIGw9WGYobix0aGlzLl9kYXRhR3JvdXAscyxhLG8pO2wuaW5jcmVtZW50YWw9ITAsWWYobCxuLHMscil9fSxkaXNwb3NlOmZ1bmN0aW9uKCl7fSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhR3JvdXAmJnRoaXMuX2RhdGFHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9fSksWyJsaW5lU3R5bGUiLCJub3JtYWwiLCJvcGFjaXR5Il0pO3BzKHtzZXJpZXNUeXBlOiJwYXJhbGxlbCIscmVzZXQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLG89dC5nZXRNb2RlbCgibGluZVN0eWxlIiksYT1lLmdldCgiY29sb3IiKSxyPW8uZ2V0KCJjb2xvciIpfHxuLmdldCgiY29sb3IiKXx8YVt0LnNlcmllc0luZGV4JWEubGVuZ3RoXSxzPXQuZ2V0KCJpbmFjdGl2ZU9wYWNpdHkiKSxsPXQuZ2V0KCJhY3RpdmVPcGFjaXR5IiksdT10LmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxoPXQuY29vcmRpbmF0ZVN5c3RlbSxjPXQuZ2V0RGF0YSgpLGQ9e25vcm1hbDp1Lm9wYWNpdHksYWN0aXZlOmwsaW5hY3RpdmU6c307cmV0dXJuIGMuc2V0VmlzdWFsKCJjb2xvciIscikse3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7aC5lYWNoQWN0aXZlU3RhdGUoZSxmdW5jdGlvbih0LGkpe3ZhciBuPWRbdF07aWYoIm5vcm1hbCI9PT10JiZlLmhhc0l0ZW1PcHRpb24pe3ZhciBvPWUuZ2V0SXRlbU1vZGVsKGkpLmdldChzTCwhMCk7bnVsbCE9byYmKG49byl9ZS5zZXRJdGVtVmlzdWFsKGksIm9wYWNpdHkiLG4pfSx0LnN0YXJ0LHQuZW5kKX19fX0pO3ZhciBsTD1xTS5leHRlbmQoe3R5cGU6InNlcmllcy5zYW5rZXkiLGxheW91dEluZm86bnVsbCxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0KXt2YXIgZT10LmVkZ2VzfHx0LmxpbmtzLGk9dC5kYXRhfHx0Lm5vZGVzO2lmKGkmJmUpcmV0dXJuIHNDKGksZSx0aGlzLCEwKS5kYXRhfSxzZXROb2RlUG9zaXRpb246ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm9wdGlvbi5kYXRhW3RdO2kubG9jYWxYPWVbMF0saS5sb2NhbFk9ZVsxXX0sZ2V0R3JhcGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREYXRhKCkuZ3JhcGh9LGdldEVkZ2VEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0R3JhcGgoKS5lZGdlRGF0YX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0LGUsaSl7aWYoImVkZ2UiPT09aSl7dmFyIG49dGhpcy5nZXREYXRhUGFyYW1zKHQsaSksbz1uLmRhdGEsYT1vLnNvdXJjZSsiIC0tICIrby50YXJnZXQ7cmV0dXJuIG4udmFsdWUmJihhKz0iIDogIituLnZhbHVlKSxabyhhKX1yZXR1cm4gbEwuc3VwZXJDYWxsKHRoaXMsImZvcm1hdFRvb2x0aXAiLHQsZSl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJ2aWV3IixsYXlvdXQ6bnVsbCxsZWZ0OiI1JSIsdG9wOiI1JSIscmlnaHQ6IjIwJSIsYm90dG9tOiI1JSIsbm9kZVdpZHRoOjIwLG5vZGVHYXA6OCxkcmFnZ2FibGU6ITAsbGF5b3V0SXRlcmF0aW9uczozMixsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoicmlnaHQiLGNvbG9yOiIjMDAwIixmb250U2l6ZToxMn0saXRlbVN0eWxlOntib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiIjMzMzIn0sbGluZVN0eWxlOntjb2xvcjoiIzMxNDY1NiIsb3BhY2l0eTouMixjdXJ2ZW5lc3M6LjV9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH0sbGluZVN0eWxlOntvcGFjaXR5Oi42fX0sYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLGFuaW1hdGlvbkR1cmF0aW9uOjFlM319KSx1TD1Fbih7c2hhcGU6e3gxOjAseTE6MCx4MjowLHkyOjAsY3B4MTowLGNweTE6MCxjcHgyOjAsY3B5MjowLGV4dGVudDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmV4dGVudC8yO3QubW92ZVRvKGUueDEsZS55MS1pKSx0LmJlemllckN1cnZlVG8oZS5jcHgxLGUuY3B5MS1pLGUuY3B4MixlLmNweTItaSxlLngyLGUueTItaSksdC5saW5lVG8oZS54MixlLnkyK2kpLHQuYmV6aWVyQ3VydmVUbyhlLmNweDIsZS5jcHkyK2ksZS5jcHgxLGUuY3B5MStpLGUueDEsZS55MStpKSx0LmNsb3NlUGF0aCgpfX0pO19zKHt0eXBlOiJzYW5rZXkiLF9tb2RlbDpudWxsLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXRHcmFwaCgpLG89dGhpcy5ncm91cCxhPXQubGF5b3V0SW5mbyxyPWEud2lkdGgscz1hLmhlaWdodCxsPXQuZ2V0RGF0YSgpLHU9dC5nZXREYXRhKCJlZGdlIik7dGhpcy5fbW9kZWw9dCxvLnJlbW92ZUFsbCgpLG8uYXR0cigicG9zaXRpb24iLFthLngsYS55XSksbi5lYWNoRWRnZShmdW5jdGlvbihlKXt2YXIgaT1uZXcgdUw7aS5kYXRhSW5kZXg9ZS5kYXRhSW5kZXgsaS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LGkuZGF0YVR5cGU9ImVkZ2UiO3ZhciBuPWUuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLGE9bi5nZXQoImN1cnZlbmVzcyIpLGw9ZS5ub2RlMS5nZXRMYXlvdXQoKSxoPWUubm9kZTEuZ2V0TW9kZWwoKSxjPWguZ2V0KCJsb2NhbFgiKSxkPWguZ2V0KCJsb2NhbFkiKSxmPWUubm9kZTIuZ2V0TGF5b3V0KCkscD1lLm5vZGUyLmdldE1vZGVsKCksZz1wLmdldCgibG9jYWxYIiksbT1wLmdldCgibG9jYWxZIiksdj1lLmdldExheW91dCgpO2kuc2hhcGUuZXh0ZW50PU1hdGgubWF4KDEsdi5keSk7dmFyIHk9KG51bGwhPWM/YypyOmwueCkrbC5keCx4PShudWxsIT1kP2QqczpsLnkpK3Yuc3krdi5keS8yLF89bnVsbCE9Zz9nKnI6Zi54LHc9KG51bGwhPW0/bSpzOmYueSkrdi50eSt2LmR5LzIsYj15KigxLWEpK18qYSxTPXgsTT15KmErXyooMS1hKSxJPXc7c3dpdGNoKGkuc2V0U2hhcGUoe3gxOnkseTE6eCx4MjpfLHkyOncsY3B4MTpiLGNweTE6UyxjcHgyOk0sY3B5MjpJfSksaS5zZXRTdHlsZShuLmdldEl0ZW1TdHlsZSgpKSxpLnN0eWxlLmZpbGwpe2Nhc2Uic291cmNlIjppLnN0eWxlLmZpbGw9ZS5ub2RlMS5nZXRWaXN1YWwoImNvbG9yIik7YnJlYWs7Y2FzZSJ0YXJnZXQiOmkuc3R5bGUuZmlsbD1lLm5vZGUyLmdldFZpc3VhbCgiY29sb3IiKX1lbyhpLGUuZ2V0TW9kZWwoImVtcGhhc2lzLmxpbmVTdHlsZSIpLmdldEl0ZW1TdHlsZSgpKSxvLmFkZChpKSx1LnNldEl0ZW1HcmFwaGljRWwoZS5kYXRhSW5kZXgsaSl9KSxuLmVhY2hOb2RlKGZ1bmN0aW9uKGUpe3ZhciBpPWUuZ2V0TGF5b3V0KCksbj1lLmdldE1vZGVsKCksYT1uLmdldCgibG9jYWxYIiksdT1uLmdldCgibG9jYWxZIiksaD1uLmdldE1vZGVsKCJsYWJlbCIpLGM9bi5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSxkPW5ldyBiUyh7c2hhcGU6e3g6bnVsbCE9YT9hKnI6aS54LHk6bnVsbCE9dT91KnM6aS55LHdpZHRoOmkuZHgsaGVpZ2h0OmkuZHl9LHN0eWxlOm4uZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpfSksZj1lLmdldE1vZGVsKCJlbXBoYXNpcy5pdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKTtpbyhkLnN0eWxlLGYsaCxjLHtsYWJlbEZldGNoZXI6dCxsYWJlbERhdGFJbmRleDplLmRhdGFJbmRleCxkZWZhdWx0VGV4dDplLmlkLGlzUmVjdFRleHQ6ITB9KSxkLnNldFN0eWxlKCJmaWxsIixlLmdldFZpc3VhbCgiY29sb3IiKSksZW8oZCxmKSxvLmFkZChkKSxsLnNldEl0ZW1HcmFwaGljRWwoZS5kYXRhSW5kZXgsZCksZC5kYXRhVHlwZT0ibm9kZSJ9KSx0LmdldCgiZHJhZ2dhYmxlIikmJmwuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24oZSxuKXtlLmRyaWZ0PWZ1bmN0aW9uKGUsbyl7dGhpcy5zaGFwZS54Kz1lLHRoaXMuc2hhcGUueSs9byx0aGlzLmRpcnR5KCksaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZHJhZ05vZGUiLHNlcmllc0lkOnQuaWQsZGF0YUluZGV4OmwuZ2V0UmF3SW5kZXgobiksbG9jYWxYOnRoaXMuc2hhcGUueC9yLGxvY2FsWTp0aGlzLnNoYXBlLnkvc30pfSxlLmRyYWdnYWJsZT0hMCxlLmN1cnNvcj0ibW92ZSJ9KSwhdGhpcy5fZGF0YSYmdC5nZXQoImFuaW1hdGlvbiIpJiZvLnNldENsaXBQYXRoKEtmKG8uZ2V0Qm91bmRpbmdSZWN0KCksdCxmdW5jdGlvbigpe28ucmVtb3ZlQ2xpcFBhdGgoKX0pKSx0aGlzLl9kYXRhPXQuZ2V0RGF0YSgpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX0pLGNzKHt0eXBlOiJkcmFnTm9kZSIsZXZlbnQ6ImRyYWdOb2RlIix1cGRhdGU6InVwZGF0ZSJ9LGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJzYW5rZXkiLHF1ZXJ5OnR9LGZ1bmN0aW9uKGUpe2Uuc2V0Tm9kZVBvc2l0aW9uKHQuZGF0YUluZGV4LFt0LmxvY2FsWCx0LmxvY2FsWV0pfSl9KTtmcyhmdW5jdGlvbih0LGUsaSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJzYW5rZXkiLGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0KCJub2RlV2lkdGgiKSxuPXQuZ2V0KCJub2RlR2FwIiksbz1KZih0LGUpO3QubGF5b3V0SW5mbz1vO3ZhciBhPW8ud2lkdGgscj1vLmhlaWdodCxzPXQuZ2V0R3JhcGgoKSxsPXMubm9kZXMsdT1zLmVkZ2VzO3RwKGwpLFFmKGwsdSxpLG4sYSxyLDAhPT1nKGwsZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10LmdldExheW91dCgpLnZhbHVlfSkubGVuZ3RoPzA6dC5nZXQoImxheW91dEl0ZXJhdGlvbnMiKSl9KX0pLHBzKGZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJzYW5rZXkiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0R3JhcGgoKS5ub2RlcztpZihlLmxlbmd0aCl7dmFyIGk9MS8wLG49LTEvMDtkKGUsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRMYXlvdXQoKS52YWx1ZTtlPGkmJihpPWUpLGU+biYmKG49ZSl9KSxkKGUsZnVuY3Rpb24oZSl7dmFyIG89bmV3IEhBKHt0eXBlOiJjb2xvciIsbWFwcGluZ01ldGhvZDoibGluZWFyIixkYXRhRXh0ZW50OltpLG5dLHZpc3VhbDp0LmdldCgiY29sb3IiKX0pLm1hcFZhbHVlVG9WaXN1YWwoZS5nZXRMYXlvdXQoKS52YWx1ZSk7ZS5zZXRWaXN1YWwoImNvbG9yIixvKTt2YXIgYT1lLmdldE1vZGVsKCkuZ2V0KCJpdGVtU3R5bGUuY29sb3IiKTtudWxsIT1hJiZlLnNldFZpc3VhbCgiY29sb3IiLGEpfSl9fSl9KTt2YXIgaEw9e19iYXNlQXhpc0RpbTpudWxsLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvPWUuZ2V0Q29tcG9uZW50KCJ4QXhpcyIsdGhpcy5nZXQoInhBeGlzSW5kZXgiKSksYT1lLmdldENvbXBvbmVudCgieUF4aXMiLHRoaXMuZ2V0KCJ5QXhpc0luZGV4IikpLHI9by5nZXQoInR5cGUiKSxzPWEuZ2V0KCJ0eXBlIik7ImNhdGVnb3J5Ij09PXI/KHQubGF5b3V0PSJob3Jpem9udGFsIixpPW8uZ2V0T3JkaW5hbE1ldGEoKSxuPSEwKToiY2F0ZWdvcnkiPT09cz8odC5sYXlvdXQ9InZlcnRpY2FsIixpPWEuZ2V0T3JkaW5hbE1ldGEoKSxuPSEwKTp0LmxheW91dD10LmxheW91dHx8Imhvcml6b250YWwiO3ZhciBsPVsieCIsInkiXSx1PSJob3Jpem9udGFsIj09PXQubGF5b3V0PzA6MSxoPXRoaXMuX2Jhc2VBeGlzRGltPWxbdV0sYz1sWzEtdV0sZj1bbyxhXSxwPWZbdV0uZ2V0KCJ0eXBlIiksZz1mWzEtdV0uZ2V0KCJ0eXBlIiksbT10LmRhdGE7aWYobSYmbil7dmFyIHY9W107ZChtLGZ1bmN0aW9uKHQsZSl7dmFyIGk7dC52YWx1ZSYmeSh0LnZhbHVlKT8oaT10LnZhbHVlLnNsaWNlKCksdC52YWx1ZS51bnNoaWZ0KGUpKTp5KHQpPyhpPXQuc2xpY2UoKSx0LnVuc2hpZnQoZSkpOmk9dCx2LnB1c2goaSl9KSx0LmRhdGE9dn12YXIgeD10aGlzLmRlZmF1bHRWYWx1ZURpbWVuc2lvbnM7cmV0dXJuIFhEKHRoaXMse2Nvb3JkRGltZW5zaW9uczpbe25hbWU6aCx0eXBlOlRzKHApLG9yZGluYWxNZXRhOmksb3RoZXJEaW1zOnt0b29sdGlwOiExLGl0ZW1OYW1lOjB9LGRpbXNEZWY6WyJiYXNlIl19LHtuYW1lOmMsdHlwZTpUcyhnKSxkaW1zRGVmOnguc2xpY2UoKX1dLGRpbWVuc2lvbnNDb3VudDp4Lmxlbmd0aCsxfSl9LGdldEJhc2VBeGlzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYmFzZUF4aXNEaW07cmV0dXJuIHRoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQodCsiQXhpcyIsdGhpcy5nZXQodCsiQXhpc0luZGV4IikpLmF4aXN9fTtoKHFNLmV4dGVuZCh7dHlwZToic2VyaWVzLmJveHBsb3QiLGRlcGVuZGVuY2llczpbInhBeGlzIiwieUF4aXMiLCJncmlkIl0sZGVmYXVsdFZhbHVlRGltZW5zaW9uczpbe25hbWU6Im1pbiIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJRMSIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJtZWRpYW4iLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToiUTMiLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToibWF4IixkZWZhdWx0VG9vbHRpcDohMH1dLGRpbWVuc2lvbnM6bnVsbCxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxob3ZlckFuaW1hdGlvbjohMCxsYXlvdXQ6bnVsbCxib3hXaWR0aDpbNyw1MF0saXRlbVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MX0sZW1waGFzaXM6e2l0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MixzaGFkb3dCbHVyOjUsc2hhZG93T2Zmc2V0WDoyLHNoYWRvd09mZnNldFk6MixzaGFkb3dDb2xvcjoicmdiYSgwLDAsMCwwLjQpIn19LGFuaW1hdGlvbkVhc2luZzoiZWxhc3RpY091dCIsYW5pbWF0aW9uRHVyYXRpb246ODAwfX0pLGhMLCEwKTt2YXIgY0w9WyJpdGVtU3R5bGUiXSxkTD1bImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0sZkw9KGdyLmV4dGVuZCh7dHlwZToiYm94cGxvdCIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKSxvPXRoaXMuZ3JvdXAsYT10aGlzLl9kYXRhO3RoaXMuX2RhdGF8fG8ucmVtb3ZlQWxsKCk7dmFyIHI9Imhvcml6b250YWwiPT09dC5nZXQoImxheW91dCIpPzE6MDtuLmRpZmYoYSkuYWRkKGZ1bmN0aW9uKHQpe2lmKG4uaGFzVmFsdWUodCkpe3ZhciBlPXhwKG4uZ2V0SXRlbUxheW91dCh0KSxuLHQsciwhMCk7bi5zZXRJdGVtR3JhcGhpY0VsKHQsZSksby5hZGQoZSl9fSkudXBkYXRlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9YS5nZXRJdGVtR3JhcGhpY0VsKGUpO2lmKG4uaGFzVmFsdWUodCkpe3ZhciBzPW4uZ2V0SXRlbUxheW91dCh0KTtpP19wKHMsaSxuLHQpOmk9eHAocyxuLHQsciksby5hZGQoaSksbi5zZXRJdGVtR3JhcGhpY0VsKHQsaSl9ZWxzZSBvLnJlbW92ZShpKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT1hLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmby5yZW1vdmUoZSl9KS5leGVjdXRlKCksdGhpcy5fZGF0YT1ufSxyZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxpPXRoaXMuX2RhdGE7dGhpcy5fZGF0YT1udWxsLGkmJmkuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCl7dCYmZS5yZW1vdmUodCl9KX0sZGlzcG9zZTpCfSksSW4uZXh0ZW5kKHt0eXBlOiJib3hwbG90Qm94UGF0aCIsc2hhcGU6e30sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5wb2ludHMsbj0wO2Zvcih0Lm1vdmVUbyhpW25dWzBdLGlbbl1bMV0pLG4rKztuPDQ7bisrKXQubGluZVRvKGlbbl1bMF0saVtuXVsxXSk7Zm9yKHQuY2xvc2VQYXRoKCk7bjxpLmxlbmd0aDtuKyspdC5tb3ZlVG8oaVtuXVswXSxpW25dWzFdKSxuKyssdC5saW5lVG8oaVtuXVswXSxpW25dWzFdKX19KSkscEw9WyJpdGVtU3R5bGUiLCJib3JkZXJDb2xvciJdLGdMPWQ7cHMoZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldCgiY29sb3IiKTt0LmVhY2hSYXdTZXJpZXNCeVR5cGUoImJveHBsb3QiLGZ1bmN0aW9uKGUpe3ZhciBuPWlbZS5zZXJpZXNJbmRleCVpLmxlbmd0aF0sbz1lLmdldERhdGEoKTtvLnNldFZpc3VhbCh7bGVnZW5kU3ltYm9sOiJyb3VuZFJlY3QiLGNvbG9yOmUuZ2V0KHBMKXx8bn0pLHQuaXNTZXJpZXNGaWx0ZXJlZChlKXx8by5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0SXRlbU1vZGVsKHQpO28uc2V0SXRlbVZpc3VhbCh0LHtjb2xvcjplLmdldChwTCwhMCl9KX0pfSl9KSxmcyhmdW5jdGlvbih0KXt2YXIgZT1icCh0KTtnTChlLGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VyaWVzTW9kZWxzO2UubGVuZ3RoJiYoU3AodCksZ0woZSxmdW5jdGlvbihlLGkpe01wKGUsdC5ib3hPZmZzZXRMaXN0W2ldLHQuYm94V2lkdGhMaXN0W2ldKX0pKX0pfSksaChxTS5leHRlbmQoe3R5cGU6InNlcmllcy5jYW5kbGVzdGljayIsZGVwZW5kZW5jaWVzOlsieEF4aXMiLCJ5QXhpcyIsImdyaWQiXSxkZWZhdWx0VmFsdWVEaW1lbnNpb25zOlt7bmFtZToib3BlbiIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJjbG9zZSIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJsb3dlc3QiLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToiaGlnaGVzdCIsZGVmYXVsdFRvb2x0aXA6ITB9XSxkaW1lbnNpb25zOm51bGwsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIixsZWdlbmRIb3Zlckxpbms6ITAsaG92ZXJBbmltYXRpb246ITAsbGF5b3V0Om51bGwsaXRlbVN0eWxlOntjb2xvcjoiI2MyMzUzMSIsY29sb3IwOiIjMzE0NjU2Iixib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiIjYzIzNTMxIixib3JkZXJDb2xvcjA6IiMzMTQ2NTYifSxlbXBoYXNpczp7aXRlbVN0eWxlOntib3JkZXJXaWR0aDoyfX0sYmFyTWF4V2lkdGg6bnVsbCxiYXJNaW5XaWR0aDpudWxsLGJhcldpZHRoOm51bGwsbGFyZ2U6ITAsbGFyZ2VUaHJlc2hvbGQ6NjAwLHByb2dyZXNzaXZlOjVlMyxwcm9ncmVzc2l2ZVRocmVzaG9sZDoxZTQscHJvZ3Jlc3NpdmVDaHVua01vZGU6Im1vZCIsYW5pbWF0aW9uVXBkYXRlOiExLGFuaW1hdGlvbkVhc2luZzoibGluZWFyIixhbmltYXRpb25EdXJhdGlvbjozMDB9LGdldFNoYWRvd0RpbTpmdW5jdGlvbigpe3JldHVybiJvcGVuIn0sYnJ1c2hTZWxlY3RvcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49ZS5nZXRJdGVtTGF5b3V0KHQpO3JldHVybiBuJiZpLnJlY3Qobi5icnVzaFJlY3QpfX0pLGhMLCEwKTt2YXIgbUw9WyJpdGVtU3R5bGUiXSx2TD1bImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0seUw9WyJjb2xvciIsImNvbG9yMCIsImJvcmRlckNvbG9yIiwiYm9yZGVyQ29sb3IwIl0seEw9KGdyLmV4dGVuZCh7dHlwZToiY2FuZGxlc3RpY2siLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5fdXBkYXRlRHJhd01vZGUodCksdGhpcy5faXNMYXJnZURyYXc/dGhpcy5fcmVuZGVyTGFyZ2UodCk6dGhpcy5fcmVuZGVyTm9ybWFsKHQpfSxpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2NsZWFyKCksdGhpcy5fdXBkYXRlRHJhd01vZGUodCl9LGluY3JlbWVudGFsUmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuX2lzTGFyZ2VEcmF3P3RoaXMuX2luY3JlbWVudGFsUmVuZGVyTGFyZ2UodCxlKTp0aGlzLl9pbmNyZW1lbnRhbFJlbmRlck5vcm1hbCh0LGUpfSxfdXBkYXRlRHJhd01vZGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5waXBlbGluZUNvbnRleHQubGFyZ2U7KG51bGw9PXRoaXMuX2lzTGFyZ2VEcmF3fHxlXnRoaXMuX2lzTGFyZ2VEcmF3KSYmKHRoaXMuX2lzTGFyZ2VEcmF3PWUsdGhpcy5fY2xlYXIoKSl9LF9yZW5kZXJOb3JtYWw6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT10aGlzLl9kYXRhLG49dGhpcy5ncm91cCxvPWUuZ2V0TGF5b3V0KCJpc1NpbXBsZUJveCIpO3RoaXMuX2RhdGF8fG4ucmVtb3ZlQWxsKCksZS5kaWZmKGkpLmFkZChmdW5jdGlvbihpKXtpZihlLmhhc1ZhbHVlKGkpKXt2YXIgYSxyPWUuZ2V0SXRlbUxheW91dChpKTtwbyhhPUlwKHIsMCwhMCkse3NoYXBlOntwb2ludHM6ci5lbmRzfX0sdCxpKSxUcChhLGUsaSxvKSxuLmFkZChhKSxlLnNldEl0ZW1HcmFwaGljRWwoaSxhKX19KS51cGRhdGUoZnVuY3Rpb24oYSxyKXt2YXIgcz1pLmdldEl0ZW1HcmFwaGljRWwocik7aWYoZS5oYXNWYWx1ZShhKSl7dmFyIGw9ZS5nZXRJdGVtTGF5b3V0KGEpO3M/Zm8ocyx7c2hhcGU6e3BvaW50czpsLmVuZHN9fSx0LGEpOnM9SXAobCksVHAocyxlLGEsbyksbi5hZGQocyksZS5zZXRJdGVtR3JhcGhpY0VsKGEscyl9ZWxzZSBuLnJlbW92ZShzKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT1pLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmbi5yZW1vdmUoZSl9KS5leGVjdXRlKCksdGhpcy5fZGF0YT1lfSxfcmVuZGVyTGFyZ2U6ZnVuY3Rpb24odCl7dGhpcy5fY2xlYXIoKSxBcCh0LHRoaXMuZ3JvdXApfSxfaW5jcmVtZW50YWxSZW5kZXJOb3JtYWw6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGksbj1lLmdldERhdGEoKSxvPW4uZ2V0TGF5b3V0KCJpc1NpbXBsZUJveCIpO251bGwhPShpPXQubmV4dCgpKTspe3ZhciBhO1RwKGE9SXAobi5nZXRJdGVtTGF5b3V0KGkpKSxuLGksbyksYS5pbmNyZW1lbnRhbD0hMCx0aGlzLmdyb3VwLmFkZChhKX19LF9pbmNyZW1lbnRhbFJlbmRlckxhcmdlOmZ1bmN0aW9uKHQsZSl7QXAoZSx0aGlzLmdyb3VwLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFyKCl9LF9jbGVhcjpmdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxkaXNwb3NlOkJ9KSxJbi5leHRlbmQoe3R5cGU6Im5vcm1hbENhbmRsZXN0aWNrQm94IixzaGFwZTp7fSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnBvaW50czt0aGlzLl9fc2ltcGxlQm94Pyh0Lm1vdmVUbyhpWzRdWzBdLGlbNF1bMV0pLHQubGluZVRvKGlbNl1bMF0saVs2XVsxXSkpOih0Lm1vdmVUbyhpWzBdWzBdLGlbMF1bMV0pLHQubGluZVRvKGlbMV1bMF0saVsxXVsxXSksdC5saW5lVG8oaVsyXVswXSxpWzJdWzFdKSx0LmxpbmVUbyhpWzNdWzBdLGlbM11bMV0pLHQuY2xvc2VQYXRoKCksdC5tb3ZlVG8oaVs0XVswXSxpWzRdWzFdKSx0LmxpbmVUbyhpWzVdWzBdLGlbNV1bMV0pLHQubW92ZVRvKGlbNl1bMF0saVs2XVsxXSksdC5saW5lVG8oaVs3XVswXSxpWzddWzFdKSl9fSkpLF9MPUluLmV4dGVuZCh7dHlwZToibGFyZ2VDYW5kbGVzdGlja0JveCIsc2hhcGU6e30sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPWUucG9pbnRzLG49MDtuPGkubGVuZ3RoOylpZih0aGlzLl9fc2lnbj09PWlbbisrXSl7dmFyIG89aVtuKytdO3QubW92ZVRvKG8saVtuKytdKSx0LmxpbmVUbyhvLGlbbisrXSl9ZWxzZSBuKz0zfX0pLHdMPVsiaXRlbVN0eWxlIiwiYm9yZGVyQ29sb3IiXSxiTD1bIml0ZW1TdHlsZSIsImJvcmRlckNvbG9yMCJdLFNMPVsiaXRlbVN0eWxlIiwiY29sb3IiXSxNTD1bIml0ZW1TdHlsZSIsImNvbG9yMCJdLElMPXtzZXJpZXNUeXBlOiJjYW5kbGVzdGljayIscGxhbjpKTSgpLHBlcmZvcm1SYXdTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7cmV0dXJuIGUuZ2V0KHQ+MD9TTDpNTCl9ZnVuY3Rpb24gbih0LGUpe3JldHVybiBlLmdldCh0PjA/d0w6YkwpfXZhciBvPXQuZ2V0RGF0YSgpLGE9dC5waXBlbGluZUNvbnRleHQubGFyZ2U7aWYoby5zZXRWaXN1YWwoe2xlZ2VuZFN5bWJvbDoicm91bmRSZWN0Iixjb2xvclA6aSgxLHQpLGNvbG9yTjppKC0xLHQpLGJvcmRlckNvbG9yUDpuKDEsdCksYm9yZGVyQ29sb3JOOm4oLTEsdCl9KSwhZS5pc1Nlcmllc0ZpbHRlcmVkKHQpKXJldHVybiFhJiZ7cHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG87bnVsbCE9KG89dC5uZXh0KCkpOyl7dmFyIGE9ZS5nZXRJdGVtTW9kZWwobykscj1lLmdldEl0ZW1MYXlvdXQobykuc2lnbjtlLnNldEl0ZW1WaXN1YWwobyx7Y29sb3I6aShyLGEpLGJvcmRlckNvbG9yOm4ocixhKX0pfX19fX0sVEw9InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5LERMPXtzZXJpZXNUeXBlOiJjYW5kbGVzdGljayIscGxhbjpKTSgpLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxpPXQuZ2V0RGF0YSgpLG49a3AodCxpKSxvPTAsYT0xLHI9WyJ4IiwieSJdLHM9aS5tYXBEaW1lbnNpb24ocltvXSksbD1pLm1hcERpbWVuc2lvbihyW2FdLCEwKSx1PWxbMF0saD1sWzFdLGM9bFsyXSxkPWxbM107aWYoaS5zZXRMYXlvdXQoe2NhbmRsZVdpZHRoOm4saXNTaW1wbGVCb3g6bjw9MS4zfSksIShudWxsPT1zfHxsLmxlbmd0aDw0KSlyZXR1cm57cHJvZ3Jlc3M6dC5waXBlbGluZUNvbnRleHQubGFyZ2U/ZnVuY3Rpb24odCxpKXtmb3IodmFyIG4scixsPW5ldyBUTCg1KnQuY291bnQpLGY9MCxwPVtdLGc9W107bnVsbCE9KHI9dC5uZXh0KCkpOyl7dmFyIG09aS5nZXQocyxyKSx2PWkuZ2V0KHUscikseT1pLmdldChoLHIpLHg9aS5nZXQoYyxyKSxfPWkuZ2V0KGQscik7aXNOYU4obSl8fGlzTmFOKHgpfHxpc05hTihfKT8obFtmKytdPU5hTixmKz00KToobFtmKytdPUxwKGkscix2LHksaCkscFtvXT1tLHBbYV09eCxuPWUuZGF0YVRvUG9pbnQocCxudWxsLGcpLGxbZisrXT1uP25bMF06TmFOLGxbZisrXT1uP25bMV06TmFOLHBbYV09XyxuPWUuZGF0YVRvUG9pbnQocCxudWxsLGcpLGxbZisrXT1uP25bMV06TmFOKX1pLnNldExheW91dCgibGFyZ2VQb2ludHMiLGwpfTpmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIHIodCxpKXt2YXIgbj1bXTtyZXR1cm4gbltvXT1pLG5bYV09dCxpc05hTihpKXx8aXNOYU4odCk/W05hTixOYU5dOmUuZGF0YVRvUG9pbnQobil9ZnVuY3Rpb24gbCh0LGUsaSl7dmFyIGE9ZS5zbGljZSgpLHI9ZS5zbGljZSgpO2Fbb109Rm4oYVtvXStuLzIsMSwhMSkscltvXT1GbihyW29dLW4vMiwxLCEwKSxpP3QucHVzaChhLHIpOnQucHVzaChyLGEpfWZ1bmN0aW9uIGYodCl7cmV0dXJuIHRbb109Rm4odFtvXSwxKSx0fWZvcih2YXIgcDtudWxsIT0ocD10Lm5leHQoKSk7KXt2YXIgZz1pLmdldChzLHApLG09aS5nZXQodSxwKSx2PWkuZ2V0KGgscCkseT1pLmdldChjLHApLHg9aS5nZXQoZCxwKSxfPU1hdGgubWluKG0sdiksdz1NYXRoLm1heChtLHYpLGI9cihfLGcpLFM9cih3LGcpLE09cih5LGcpLEk9cih4LGcpLFQ9W107bChULFMsMCksbChULGIsMSksVC5wdXNoKGYoSSksZihTKSxmKE0pLGYoYikpLGkuc2V0SXRlbUxheW91dChwLHtzaWduOkxwKGkscCxtLHYsaCksaW5pdEJhc2VsaW5lOm0+dj9TW2FdOmJbYV0sZW5kczpULGJydXNoUmVjdDpmdW5jdGlvbih0LGUsaSl7dmFyIHM9cih0LGkpLGw9cihlLGkpO3JldHVybiBzW29dLT1uLzIsbFtvXS09bi8yLHt4OnNbMF0seTpzWzFdLHdpZHRoOmE/bjpsWzBdLXNbMF0saGVpZ2h0OmE/bFsxXS1zWzFdOm59fSh5LHgsZyl9KX19fX19O3VzKGZ1bmN0aW9uKHQpe3QmJnkodC5zZXJpZXMpJiZkKHQuc2VyaWVzLGZ1bmN0aW9uKHQpe3codCkmJiJrIj09PXQudHlwZSYmKHQudHlwZT0iY2FuZGxlc3RpY2siKX0pfSkscHMoSUwpLGZzKERMKSxxTS5leHRlbmQoe3R5cGU6InNlcmllcy5lZmZlY3RTY2F0dGVyIixkZXBlbmRlbmNpZXM6WyJncmlkIiwicG9sYXIiXSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiBVcyh0aGlzLmdldFNvdXJjZSgpLHRoaXMpfSxicnVzaFNlbGVjdG9yOiJwb2ludCIsZGVmYXVsdE9wdGlvbjp7Y29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLHpsZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsZWZmZWN0VHlwZToicmlwcGxlIixwcm9ncmVzc2l2ZTowLHNob3dFZmZlY3RPbjoicmVuZGVyIixyaXBwbGVFZmZlY3Q6e3BlcmlvZDo0LHNjYWxlOjIuNSxicnVzaFR5cGU6ImZpbGwifSxzeW1ib2xTaXplOjEwfX0pO3ZhciBBTD1PcC5wcm90b3R5cGU7QUwuc3RvcEVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbigpe3RoaXMuY2hpbGRBdCgxKS5yZW1vdmVBbGwoKX0sQUwuc3RhcnRFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuc3ltYm9sVHlwZSxpPXQuY29sb3Isbj10aGlzLmNoaWxkQXQoMSksbz0wO288MztvKyspe3ZhciBhPUlsKGUsLTEsLTEsMiwyLGkpO2EuYXR0cih7c3R5bGU6e3N0cm9rZU5vU2NhbGU6ITB9LHoyOjk5LHNpbGVudDohMCxzY2FsZTpbLjUsLjVdfSk7dmFyIHI9LW8vMyp0LnBlcmlvZCt0LmVmZmVjdE9mZnNldDthLmFuaW1hdGUoIiIsITApLndoZW4odC5wZXJpb2Qse3NjYWxlOlt0LnJpcHBsZVNjYWxlLzIsdC5yaXBwbGVTY2FsZS8yXX0pLmRlbGF5KHIpLnN0YXJ0KCksYS5hbmltYXRlU3R5bGUoITApLndoZW4odC5wZXJpb2Qse29wYWNpdHk6MH0pLmRlbGF5KHIpLnN0YXJ0KCksbi5hZGQoYSl9TnAobix0KX0sQUwudXBkYXRlRWZmZWN0QW5pbWF0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9lZmZlY3RDZmcsaT10aGlzLmNoaWxkQXQoMSksbj1bInN5bWJvbFR5cGUiLCJwZXJpb2QiLCJyaXBwbGVTY2FsZSJdLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9bltvXTtpZihlW2FdIT09dFthXSlyZXR1cm4gdGhpcy5zdG9wRWZmZWN0QW5pbWF0aW9uKCksdm9pZCB0aGlzLnN0YXJ0RWZmZWN0QW5pbWF0aW9uKHQpfU5wKGksdCl9LEFMLmhpZ2hsaWdodD1mdW5jdGlvbigpe3RoaXMudHJpZ2dlcigiZW1waGFzaXMiKX0sQUwuZG93bnBsYXk9ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoIm5vcm1hbCIpfSxBTC51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5ob3N0TW9kZWw7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZURhdGEodCxlKTt2YXIgbj10aGlzLmNoaWxkQXQoMSksbz10LmdldEl0ZW1Nb2RlbChlKSxhPXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2wiKSxyPVBwKHQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xTaXplIikpLHM9dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIik7bi5hdHRyKCJzY2FsZSIsciksbi50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmF0dHIoe2ZpbGw6c30pfSk7dmFyIGw9by5nZXRTaGFsbG93KCJzeW1ib2xPZmZzZXQiKTtpZihsKXt2YXIgdT1uLnBvc2l0aW9uO3VbMF09RG8obFswXSxyWzBdKSx1WzFdPURvKGxbMV0sclsxXSl9bi5yb3RhdGlvbj0oby5nZXRTaGFsbG93KCJzeW1ib2xSb3RhdGUiKXx8MCkqTWF0aC5QSS8xODB8fDA7dmFyIGg9e307aWYoaC5zaG93RWZmZWN0T249aS5nZXQoInNob3dFZmZlY3RPbiIpLGgucmlwcGxlU2NhbGU9by5nZXQoInJpcHBsZUVmZmVjdC5zY2FsZSIpLGguYnJ1c2hUeXBlPW8uZ2V0KCJyaXBwbGVFZmZlY3QuYnJ1c2hUeXBlIiksaC5wZXJpb2Q9MWUzKm8uZ2V0KCJyaXBwbGVFZmZlY3QucGVyaW9kIiksaC5lZmZlY3RPZmZzZXQ9ZS90LmNvdW50KCksaC56PW8uZ2V0U2hhbGxvdygieiIpfHwwLGguemxldmVsPW8uZ2V0U2hhbGxvdygiemxldmVsIil8fDAsaC5zeW1ib2xUeXBlPWEsaC5jb2xvcj1zLHRoaXMub2ZmKCJtb3VzZW92ZXIiKS5vZmYoIm1vdXNlb3V0Iikub2ZmKCJlbXBoYXNpcyIpLm9mZigibm9ybWFsIiksInJlbmRlciI9PT1oLnNob3dFZmZlY3RPbil0aGlzLl9lZmZlY3RDZmc/dGhpcy51cGRhdGVFZmZlY3RBbmltYXRpb24oaCk6dGhpcy5zdGFydEVmZmVjdEFuaW1hdGlvbihoKSx0aGlzLl9lZmZlY3RDZmc9aDtlbHNle3RoaXMuX2VmZmVjdENmZz1udWxsLHRoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpO3ZhciBjPXRoaXMuY2hpbGRBdCgwKSxkPWZ1bmN0aW9uKCl7Yy5oaWdobGlnaHQoKSwicmVuZGVyIiE9PWguc2hvd0VmZmVjdE9uJiZ0aGlzLnN0YXJ0RWZmZWN0QW5pbWF0aW9uKGgpfSxmPWZ1bmN0aW9uKCl7Yy5kb3ducGxheSgpLCJyZW5kZXIiIT09aC5zaG93RWZmZWN0T24mJnRoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpfTt0aGlzLm9uKCJtb3VzZW92ZXIiLGQsdGhpcykub24oIm1vdXNlb3V0IixmLHRoaXMpLm9uKCJlbXBoYXNpcyIsZCx0aGlzKS5vbigibm9ybWFsIixmLHRoaXMpfXRoaXMuX2VmZmVjdENmZz1ofSxBTC5mYWRlT3V0PWZ1bmN0aW9uKHQpe3RoaXMub2ZmKCJtb3VzZW92ZXIiKS5vZmYoIm1vdXNlb3V0Iikub2ZmKCJlbXBoYXNpcyIpLm9mZigibm9ybWFsIiksdCYmdCgpfSx1KE9wLHJ3KSxfcyh7dHlwZToiZWZmZWN0U2NhdHRlciIsaW5pdDpmdW5jdGlvbigpe3RoaXMuX3N5bWJvbERyYXc9bmV3ICRsKE9wKX0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKSxvPXRoaXMuX3N5bWJvbERyYXc7by51cGRhdGVEYXRhKG4pLHRoaXMuZ3JvdXAuYWRkKG8uZ3JvdXApfSx1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0RGF0YSgpO3RoaXMuZ3JvdXAuZGlydHkoKTt2YXIgbz1nRCgpLnJlc2V0KHQpO28ucHJvZ3Jlc3MmJm8ucHJvZ3Jlc3Moe3N0YXJ0OjAsZW5kOm4uY291bnQoKX0sbiksdGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQobil9LF91cGRhdGVHcm91cFRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07ZSYmZS5nZXRSb2FtVHJhbnNmb3JtJiYodGhpcy5ncm91cC50cmFuc2Zvcm09Z3QoZS5nZXRSb2FtVHJhbnNmb3JtKCkpLHRoaXMuZ3JvdXAuZGVjb21wb3NlVHJhbnNmb3JtKCkpfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt0aGlzLl9zeW1ib2xEcmF3JiZ0aGlzLl9zeW1ib2xEcmF3LnJlbW92ZShlKX0sZGlzcG9zZTpmdW5jdGlvbigpe319KSxwcyhwRCgiZWZmZWN0U2NhdHRlciIsImNpcmNsZSIpKSxmcyhnRCgiZWZmZWN0U2NhdHRlciIpKTt2YXIgQ0w9InVuZGVmaW5lZCI9PXR5cGVvZiBVaW50MzJBcnJheT9BcnJheTpVaW50MzJBcnJheSxMTD0idW5kZWZpbmVkIj09dHlwZW9mIEZsb2F0NjRBcnJheT9BcnJheTpGbG9hdDY0QXJyYXksa0w9cU0uZXh0ZW5kKHt0eXBlOiJzZXJpZXMubGluZXMiLGRlcGVuZGVuY2llczpbImdyaWQiLCJwb2xhciJdLHZpc3VhbENvbG9yQWNjZXNzUGF0aDoibGluZVN0eWxlLmNvbG9yIixpbml0OmZ1bmN0aW9uKHQpe3QuZGF0YT10LmRhdGF8fFtdLEVwKHQpO3ZhciBlPXRoaXMuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXkodC5kYXRhKTt0aGlzLl9mbGF0Q29vcmRzPWUuZmxhdENvb3Jkcyx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PWUuZmxhdENvb3Jkc09mZnNldCxlLmZsYXRDb29yZHMmJih0LmRhdGE9bmV3IEZsb2F0MzJBcnJheShlLmNvdW50KSksa0wuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXtpZih0LmRhdGE9dC5kYXRhfHxbXSxFcCh0KSx0LmRhdGEpe3ZhciBlPXRoaXMuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXkodC5kYXRhKTt0aGlzLl9mbGF0Q29vcmRzPWUuZmxhdENvb3Jkcyx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PWUuZmxhdENvb3Jkc09mZnNldCxlLmZsYXRDb29yZHMmJih0LmRhdGE9bmV3IEZsb2F0MzJBcnJheShlLmNvdW50KSl9a0wuc3VwZXJBcHBseSh0aGlzLCJtZXJnZU9wdGlvbiIsYXJndW1lbnRzKX0sYXBwZW5kRGF0YTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wcm9jZXNzRmxhdENvb3Jkc0FycmF5KHQuZGF0YSk7ZS5mbGF0Q29vcmRzJiYodGhpcy5fZmxhdENvb3Jkcz8odGhpcy5fZmxhdENvb3Jkcz16KHRoaXMuX2ZsYXRDb29yZHMsZS5mbGF0Q29vcmRzKSx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PXoodGhpcy5fZmxhdENvb3Jkc09mZnNldCxlLmZsYXRDb29yZHNPZmZzZXQpKToodGhpcy5fZmxhdENvb3Jkcz1lLmZsYXRDb29yZHMsdGhpcy5fZmxhdENvb3Jkc09mZnNldD1lLmZsYXRDb29yZHNPZmZzZXQpLHQuZGF0YT1uZXcgRmxvYXQzMkFycmF5KGUuY291bnQpKSx0aGlzLmdldFJhd0RhdGEoKS5hcHBlbmREYXRhKHQuZGF0YSl9LF9nZXRDb29yZHNGcm9tSXRlbU1vZGVsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLmdldEl0ZW1Nb2RlbCh0KTtyZXR1cm4gZS5vcHRpb24gaW5zdGFuY2VvZiBBcnJheT9lLm9wdGlvbjplLmdldFNoYWxsb3coImNvb3JkcyIpfSxnZXRMaW5lQ29vcmRzQ291bnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ/dGhpcy5fZmxhdENvb3Jkc09mZnNldFsyKnQrMV06dGhpcy5fZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbCh0KS5sZW5ndGh9LGdldExpbmVDb29yZHM6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0KXtmb3IodmFyIGk9dGhpcy5fZmxhdENvb3Jkc09mZnNldFsyKnRdLG49dGhpcy5fZmxhdENvb3Jkc09mZnNldFsyKnQrMV0sbz0wO288bjtvKyspZVtvXT1lW29dfHxbXSxlW29dWzBdPXRoaXMuX2ZsYXRDb29yZHNbaSsyKm9dLGVbb11bMV09dGhpcy5fZmxhdENvb3Jkc1tpKzIqbysxXTtyZXR1cm4gbn1mb3IodmFyIGE9dGhpcy5fZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbCh0KSxvPTA7bzxhLmxlbmd0aDtvKyspZVtvXT1lW29dfHxbXSxlW29dWzBdPWFbb11bMF0sZVtvXVsxXT1hW29dWzFdO3JldHVybiBhLmxlbmd0aH0sX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXk6ZnVuY3Rpb24odCl7dmFyIGU9MDtpZih0aGlzLl9mbGF0Q29vcmRzJiYoZT10aGlzLl9mbGF0Q29vcmRzLmxlbmd0aCksIm51bWJlciI9PXR5cGVvZiB0WzBdKXtmb3IodmFyIGk9dC5sZW5ndGgsbj1uZXcgQ0woaSksbz1uZXcgTEwoaSksYT0wLHI9MCxzPTAsbD0wO2w8aTspe3MrKzt2YXIgdT10W2wrK107bltyKytdPWErZSxuW3IrK109dTtmb3IodmFyIGg9MDtoPHU7aCsrKXt2YXIgYz10W2wrK10sZD10W2wrK107b1thKytdPWMsb1thKytdPWR9fXJldHVybntmbGF0Q29vcmRzT2Zmc2V0Om5ldyBVaW50MzJBcnJheShuLmJ1ZmZlciwwLHIpLGZsYXRDb29yZHM6byxjb3VudDpzfX1yZXR1cm57ZmxhdENvb3Jkc09mZnNldDpudWxsLGZsYXRDb29yZHM6bnVsbCxjb3VudDp0Lmxlbmd0aH19LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IHJUKFsidmFsdWUiXSx0aGlzKTtyZXR1cm4gaS5oYXNJdGVtT3B0aW9uPSExLGkuaW5pdERhdGEodC5kYXRhLFtdLGZ1bmN0aW9uKHQsZSxuLG8pe2lmKHQgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gTmFOO2kuaGFzSXRlbU9wdGlvbj0hMDt2YXIgYT10LnZhbHVlO3JldHVybiBudWxsIT1hP2EgaW5zdGFuY2VvZiBBcnJheT9hW29dOmE6dm9pZCAwfSksaX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwodCksaT1lLmdldCgibmFtZSIpO2lmKGkpcmV0dXJuIGk7dmFyIG49ZS5nZXQoImZyb21OYW1lIiksbz1lLmdldCgidG9OYW1lIiksYT1bXTtyZXR1cm4gbnVsbCE9biYmYS5wdXNoKG4pLG51bGwhPW8mJmEucHVzaChvKSxabyhhLmpvaW4oIiA+ICIpKX0scHJldmVudEluY3JlbWVudGFsOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdldCgiZWZmZWN0LnNob3ciKX0sZ2V0UHJvZ3Jlc3NpdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZTtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8xZTQ6dGhpcy5nZXQoInByb2dyZXNzaXZlIik6dH0sZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZVRocmVzaG9sZDtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8yZTQ6dGhpcy5nZXQoInByb2dyZXNzaXZlVGhyZXNob2xkIik6dH0sZGVmYXVsdE9wdGlvbjp7Y29vcmRpbmF0ZVN5c3RlbToiZ2VvIix6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLHhBeGlzSW5kZXg6MCx5QXhpc0luZGV4OjAsc3ltYm9sOlsibm9uZSIsIm5vbmUiXSxzeW1ib2xTaXplOlsxMCwxMF0sZ2VvSW5kZXg6MCxlZmZlY3Q6e3Nob3c6ITEscGVyaW9kOjQsY29uc3RhbnRTcGVlZDowLHN5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOjMsbG9vcDohMCx0cmFpbExlbmd0aDouMn0sbGFyZ2U6ITEsbGFyZ2VUaHJlc2hvbGQ6MmUzLHBvbHlsaW5lOiExLGxhYmVsOntzaG93OiExLHBvc2l0aW9uOiJlbmQifSxsaW5lU3R5bGU6e29wYWNpdHk6LjV9fX0pLFBMPVJwLnByb3RvdHlwZTtQTC5jcmVhdGVMaW5lPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IHdkKHQsZSxpKX0sUEwuX3VwZGF0ZUVmZmVjdFN5bWJvbD1mdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0SXRlbU1vZGVsKGUpLmdldE1vZGVsKCJlZmZlY3QiKSxuPWkuZ2V0KCJzeW1ib2xTaXplIiksbz1pLmdldCgic3ltYm9sIik7eShuKXx8KG49W24sbl0pO3ZhciBhPWkuZ2V0KCJjb2xvciIpfHx0LmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKSxyPXRoaXMuY2hpbGRBdCgxKTt0aGlzLl9zeW1ib2xUeXBlIT09byYmKHRoaXMucmVtb3ZlKHIpLChyPUlsKG8sLS41LC0uNSwxLDEsYSkpLnoyPTEwMCxyLmN1bGxpbmc9ITAsdGhpcy5hZGQocikpLHImJihyLnNldFN0eWxlKCJzaGFkb3dDb2xvciIsYSksci5zZXRTdHlsZShpLmdldEl0ZW1TdHlsZShbImNvbG9yIl0pKSxyLmF0dHIoInNjYWxlIixuKSxyLnNldENvbG9yKGEpLHIuYXR0cigic2NhbGUiLG4pLHRoaXMuX3N5bWJvbFR5cGU9byx0aGlzLl91cGRhdGVFZmZlY3RBbmltYXRpb24odCxpLGUpKX0sUEwuX3VwZGF0ZUVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5jaGlsZEF0KDEpO2lmKG4pe3ZhciBvPXRoaXMsYT10LmdldEl0ZW1MYXlvdXQoaSkscj0xZTMqZS5nZXQoInBlcmlvZCIpLHM9ZS5nZXQoImxvb3AiKSxsPWUuZ2V0KCJjb25zdGFudFNwZWVkIiksdT1UKGUuZ2V0KCJkZWxheSIpLGZ1bmN0aW9uKGUpe3JldHVybiBlL3QuY291bnQoKSpyLzN9KSxoPSJmdW5jdGlvbiI9PXR5cGVvZiB1O2lmKG4uaWdub3JlPSEwLHRoaXMudXBkYXRlQW5pbWF0aW9uUG9pbnRzKG4sYSksbD4wJiYocj10aGlzLmdldExpbmVMZW5ndGgobikvbCoxZTMpLHIhPT10aGlzLl9wZXJpb2R8fHMhPT10aGlzLl9sb29wKXtuLnN0b3BBbmltYXRpb24oKTt2YXIgYz11O2gmJihjPXUoaSkpLG4uX190PjAmJihjPS1yKm4uX190KSxuLl9fdD0wO3ZhciBkPW4uYW5pbWF0ZSgiIixzKS53aGVuKHIse19fdDoxfSkuZGVsYXkoYykuZHVyaW5nKGZ1bmN0aW9uKCl7by51cGRhdGVTeW1ib2xQb3NpdGlvbihuKX0pO3N8fGQuZG9uZShmdW5jdGlvbigpe28ucmVtb3ZlKG4pfSksZC5zdGFydCgpfXRoaXMuX3BlcmlvZD1yLHRoaXMuX2xvb3A9c319LFBMLmdldExpbmVMZW5ndGg9ZnVuY3Rpb24odCl7cmV0dXJuIGJfKHQuX19wMSx0Ll9fY3AxKStiXyh0Ll9fY3AxLHQuX19wMil9LFBMLnVwZGF0ZUFuaW1hdGlvblBvaW50cz1mdW5jdGlvbih0LGUpe3QuX19wMT1lWzBdLHQuX19wMj1lWzFdLHQuX19jcDE9ZVsyXXx8WyhlWzBdWzBdK2VbMV1bMF0pLzIsKGVbMF1bMV0rZVsxXVsxXSkvMl19LFBMLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLGkpe3RoaXMuY2hpbGRBdCgwKS51cGRhdGVEYXRhKHQsZSxpKSx0aGlzLl91cGRhdGVFZmZlY3RTeW1ib2wodCxlKX0sUEwudXBkYXRlU3ltYm9sUG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dC5fX3AxLGk9dC5fX3AyLG49dC5fX2NwMSxvPXQuX190LGE9dC5wb3NpdGlvbixyPVFpLHM9dG47YVswXT1yKGVbMF0sblswXSxpWzBdLG8pLGFbMV09cihlWzFdLG5bMV0saVsxXSxvKTt2YXIgbD1zKGVbMF0sblswXSxpWzBdLG8pLHU9cyhlWzFdLG5bMV0saVsxXSxvKTt0LnJvdGF0aW9uPS1NYXRoLmF0YW4yKHUsbCktTWF0aC5QSS8yLHQuaWdub3JlPSExfSxQTC51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmNoaWxkQXQoMCkudXBkYXRlTGF5b3V0KHQsZSk7dmFyIGk9dC5nZXRJdGVtTW9kZWwoZSkuZ2V0TW9kZWwoImVmZmVjdCIpO3RoaXMuX3VwZGF0ZUVmZmVjdEFuaW1hdGlvbih0LGksZSl9LHUoUnAscncpO3ZhciBOTD16cC5wcm90b3R5cGU7TkwuX2NyZWF0ZVBvbHlsaW5lPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldEl0ZW1MYXlvdXQoZSksbz1uZXcgd1Moe3NoYXBlOntwb2ludHM6bn19KTt0aGlzLmFkZChvKSx0aGlzLl91cGRhdGVDb21tb25TdGwodCxlLGkpfSxOTC51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10Lmhvc3RNb2RlbDtmbyh0aGlzLmNoaWxkQXQoMCkse3NoYXBlOntwb2ludHM6dC5nZXRJdGVtTGF5b3V0KGUpfX0sbixlKSx0aGlzLl91cGRhdGVDb21tb25TdGwodCxlLGkpfSxOTC5fdXBkYXRlQ29tbW9uU3RsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmNoaWxkQXQoMCksbz10LmdldEl0ZW1Nb2RlbChlKSxhPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpLHM9aSYmaS5saW5lU3R5bGUsbD1pJiZpLmhvdmVyTGluZVN0eWxlO2kmJiF0Lmhhc0l0ZW1PcHRpb258fChzPW8uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGw9by5nZXRNb2RlbCgiZW1waGFzaXMubGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLG4udXNlU3R5bGUocih7c3Ryb2tlTm9TY2FsZTohMCxmaWxsOiJub25lIixzdHJva2U6YX0scykpLG4uaG92ZXJTdHlsZT1sLGVvKHRoaXMpfSxOTC51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmNoaWxkQXQoMCkuc2V0U2hhcGUoInBvaW50cyIsdC5nZXRJdGVtTGF5b3V0KGUpKX0sdSh6cCxydyk7dmFyIE9MPUJwLnByb3RvdHlwZTtPTC5jcmVhdGVMaW5lPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IHpwKHQsZSxpKX0sT0wudXBkYXRlQW5pbWF0aW9uUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcG9pbnRzPWU7Zm9yKHZhciBpPVswXSxuPTAsbz0xO288ZS5sZW5ndGg7bysrKXt2YXIgYT1lW28tMV0scj1lW29dO24rPWJfKGEsciksaS5wdXNoKG4pfWlmKDAhPT1uKXtmb3Iobz0wO288aS5sZW5ndGg7bysrKWlbb10vPW47dGhpcy5fb2Zmc2V0cz1pLHRoaXMuX2xlbmd0aD1ufX0sT0wuZ2V0TGluZUxlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGVuZ3RofSxPTC51cGRhdGVTeW1ib2xQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10Ll9fdCxpPXRoaXMuX3BvaW50cyxuPXRoaXMuX29mZnNldHMsbz1pLmxlbmd0aDtpZihuKXt2YXIgYT10aGlzLl9sYXN0RnJhbWU7aWYoZTx0aGlzLl9sYXN0RnJhbWVQZXJjZW50KXtmb3Iocj1NYXRoLm1pbihhKzEsby0xKTtyPj0wJiYhKG5bcl08PWUpO3ItLSk7cj1NYXRoLm1pbihyLG8tMil9ZWxzZXtmb3IodmFyIHI9YTtyPG8mJiEobltyXT5lKTtyKyspO3I9TWF0aC5taW4oci0xLG8tMil9Sih0LnBvc2l0aW9uLGlbcl0saVtyKzFdLChlLW5bcl0pLyhuW3IrMV0tbltyXSkpO3ZhciBzPWlbcisxXVswXS1pW3JdWzBdLGw9aVtyKzFdWzFdLWlbcl1bMV07dC5yb3RhdGlvbj0tTWF0aC5hdGFuMihsLHMpLU1hdGguUEkvMix0aGlzLl9sYXN0RnJhbWU9cix0aGlzLl9sYXN0RnJhbWVQZXJjZW50PWUsdC5pZ25vcmU9ITF9fSx1KEJwLFJwKTt2YXIgRUw9RW4oe3NoYXBlOntwb2x5bGluZTohMSxjdXJ2ZW5lc3M6MCxzZWdzOltdfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnNlZ3Msbj1lLmN1cnZlbmVzcztpZihlLnBvbHlsaW5lKWZvcihyPTA7cjxpLmxlbmd0aDspe3ZhciBvPWlbcisrXTtpZihvPjApe3QubW92ZVRvKGlbcisrXSxpW3IrK10pO2Zvcih2YXIgYT0xO2E8bzthKyspdC5saW5lVG8oaVtyKytdLGlbcisrXSl9fWVsc2UgZm9yKHZhciByPTA7cjxpLmxlbmd0aDspe3ZhciBzPWlbcisrXSxsPWlbcisrXSx1PWlbcisrXSxoPWlbcisrXTtpZih0Lm1vdmVUbyhzLGwpLG4+MCl7dmFyIGM9KHMrdSkvMi0obC1oKSpuLGQ9KGwraCkvMi0odS1zKSpuO3QucXVhZHJhdGljQ3VydmVUbyhjLGQsdSxoKX1lbHNlIHQubGluZVRvKHUsaCl9fSxmaW5kRGF0YUluZGV4OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zaGFwZSxuPWkuc2VncyxvPWkuY3VydmVuZXNzO2lmKGkucG9seWxpbmUpZm9yKHZhciBhPTAscj0wO3I8bi5sZW5ndGg7KXt2YXIgcz1uW3IrK107aWYocz4wKWZvcih2YXIgbD1uW3IrK10sdT1uW3IrK10saD0xO2g8cztoKyspaWYoY24obCx1LGM9bltyKytdLGQ9bltyKytdKSlyZXR1cm4gYTthKyt9ZWxzZSBmb3IodmFyIGE9MCxyPTA7cjxuLmxlbmd0aDspe3ZhciBsPW5bcisrXSx1PW5bcisrXSxjPW5bcisrXSxkPW5bcisrXTtpZihvPjApe2lmKGZuKGwsdSwobCtjKS8yLSh1LWQpKm8sKHUrZCkvMi0oYy1sKSpvLGMsZCkpcmV0dXJuIGF9ZWxzZSBpZihjbihsLHUsYyxkKSlyZXR1cm4gYTthKyt9cmV0dXJuLTF9fSksUkw9VnAucHJvdG90eXBlO1JMLmlzUGVyc2lzdGVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbmNyZW1lbnRhbH0sUkwudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBlPW5ldyBFTCh7cmVjdEhvdmVyOiEwLGN1cnNvcjoiZGVmYXVsdCJ9KTtlLnNldFNoYXBlKHtzZWdzOnQuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGUsdCksdGhpcy5ncm91cC5hZGQoZSksdGhpcy5faW5jcmVtZW50YWw9bnVsbH0sUkwuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHQuY291bnQoKT41ZTU/KHRoaXMuX2luY3JlbWVudGFsfHwodGhpcy5faW5jcmVtZW50YWw9bmV3IE9uKHtzaWxlbnQ6ITB9KSksdGhpcy5ncm91cC5hZGQodGhpcy5faW5jcmVtZW50YWwpKTp0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSxSTC5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBFTDtpLnNldFNoYXBlKHtzZWdzOmUuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGksZSwhIXRoaXMuX2luY3JlbWVudGFsKSx0aGlzLl9pbmNyZW1lbnRhbD90aGlzLl9pbmNyZW1lbnRhbC5hZGREaXNwbGF5YWJsZShpLCEwKTooaS5yZWN0SG92ZXI9ITAsaS5jdXJzb3I9ImRlZmF1bHQiLGkuX19zdGFydEluZGV4PXQuc3RhcnQsdGhpcy5ncm91cC5hZGQoaSkpfSxSTC5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckluY3JlbWVudGFsKCksdGhpcy5faW5jcmVtZW50YWw9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxSTC5fc2V0Q29tbW9uPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lLmhvc3RNb2RlbDt0LnNldFNoYXBlKHtwb2x5bGluZTpuLmdldCgicG9seWxpbmUiKSxjdXJ2ZW5lc3M6bi5nZXQoImxpbmVTdHlsZS5jdXJ2ZW5lc3MiKX0pLHQudXNlU3R5bGUobi5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLHQuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMDt2YXIgbz1lLmdldFZpc3VhbCgiY29sb3IiKTtvJiZ0LnNldFN0eWxlKCJzdHJva2UiLG8pLHQuc2V0U3R5bGUoImZpbGwiKSxpfHwodC5zZXJpZXNJbmRleD1uLnNlcmllc0luZGV4LHQub24oIm1vdXNlbW92ZSIsZnVuY3Rpb24oZSl7dC5kYXRhSW5kZXg9bnVsbDt2YXIgaT10LmZpbmREYXRhSW5kZXgoZS5vZmZzZXRYLGUub2Zmc2V0WSk7aT4wJiYodC5kYXRhSW5kZXg9aSt0Ll9fc3RhcnRJbmRleCl9KSl9LFJMLl9jbGVhckluY3JlbWVudGFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW5jcmVtZW50YWw7dCYmdC5jbGVhckRpc3BsYXlibGVzKCl9O3ZhciB6TD17c2VyaWVzVHlwZToibGluZXMiLHBsYW46Sk0oKSxyZXNldDpmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0saT10LmdldCgicG9seWxpbmUiKSxuPXQucGlwZWxpbmVDb250ZXh0LmxhcmdlO3JldHVybntwcm9ncmVzczpmdW5jdGlvbihvLGEpe3ZhciByPVtdO2lmKG4pe3ZhciBzLGw9by5lbmQtby5zdGFydDtpZihpKXtmb3IodmFyIHU9MCxoPW8uc3RhcnQ7aDxvLmVuZDtoKyspdSs9dC5nZXRMaW5lQ29vcmRzQ291bnQoaCk7cz1uZXcgRmxvYXQzMkFycmF5KGwrMip1KX1lbHNlIHM9bmV3IEZsb2F0MzJBcnJheSg0KmwpO2Zvcih2YXIgYz0wLGQ9W10saD1vLnN0YXJ0O2g8by5lbmQ7aCsrKXtnPXQuZ2V0TGluZUNvb3JkcyhoLHIpLGkmJihzW2MrK109Zyk7Zm9yKHZhciBmPTA7ZjxnO2YrKylkPWUuZGF0YVRvUG9pbnQocltmXSwhMSxkKSxzW2MrK109ZFswXSxzW2MrK109ZFsxXX1hLnNldExheW91dCgibGluZXNQb2ludHMiLHMpfWVsc2UgZm9yKGg9by5zdGFydDtoPG8uZW5kO2grKyl7dmFyIHA9YS5nZXRJdGVtTW9kZWwoaCksZz10LmdldExpbmVDb29yZHMoaCxyKSxtPVtdO2lmKGkpZm9yKHZhciB2PTA7djxnO3YrKyltLnB1c2goZS5kYXRhVG9Qb2ludChyW3ZdKSk7ZWxzZXttWzBdPWUuZGF0YVRvUG9pbnQoclswXSksbVsxXT1lLmRhdGFUb1BvaW50KHJbMV0pO3ZhciB5PXAuZ2V0KCJsaW5lU3R5bGUuY3VydmVuZXNzIik7K3kmJihtWzJdPVsobVswXVswXSttWzFdWzBdKS8yLShtWzBdWzFdLW1bMV1bMV0pKnksKG1bMF1bMV0rbVsxXVsxXSkvMi0obVsxXVswXS1tWzBdWzBdKSp5XSl9YS5zZXRJdGVtTGF5b3V0KGgsbSl9fX19fTtfcyh7dHlwZToibGluZXMiLGluaXQ6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCksbz10aGlzLl91cGRhdGVMaW5lRHJhdyhuLHQpLGE9dC5nZXQoInpsZXZlbCIpLHI9dC5nZXQoImVmZmVjdC50cmFpbExlbmd0aCIpLHM9aS5nZXRacigpLGw9InN2ZyI9PT1zLnBhaW50ZXIuZ2V0VHlwZSgpO2x8fHMucGFpbnRlci5nZXRMYXllcihhKS5jbGVhcighMCksbnVsbD09dGhpcy5fbGFzdFpsZXZlbHx8bHx8cy5jb25maWdMYXllcih0aGlzLl9sYXN0WmxldmVsLHttb3Rpb25CbHVyOiExfSksdGhpcy5fc2hvd0VmZmVjdCh0KSYmciYmKGx8fHMuY29uZmlnTGF5ZXIoYSx7bW90aW9uQmx1cjohMCxsYXN0RnJhbWVBbHBoYTpNYXRoLm1heChNYXRoLm1pbihyLzEwKy45LDEpLDApfSkpLG8udXBkYXRlRGF0YShuKSx0aGlzLl9sYXN0WmxldmVsPWEsdGhpcy5fZmluaXNoZWQ9ITB9LGluY3JlbWVudGFsUHJlcGFyZVJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCk7dGhpcy5fdXBkYXRlTGluZURyYXcobix0KS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGUobiksdGhpcy5fY2xlYXJMYXllcihpKSx0aGlzLl9maW5pc2hlZD0hMX0saW5jcmVtZW50YWxSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2xpbmVEcmF3LmluY3JlbWVudGFsVXBkYXRlKHQsZS5nZXREYXRhKCkpLHRoaXMuX2ZpbmlzaGVkPXQuZW5kPT09ZS5nZXREYXRhKCkuY291bnQoKX0sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKSxvPXQucGlwZWxpbmVDb250ZXh0O2lmKCF0aGlzLl9maW5pc2hlZHx8by5sYXJnZXx8by5wcm9ncmVzc2l2ZVJlbmRlcilyZXR1cm57dXBkYXRlOiEwfTt2YXIgYT16TC5yZXNldCh0KTthLnByb2dyZXNzJiZhLnByb2dyZXNzKHtzdGFydDowLGVuZDpuLmNvdW50KCl9LG4pLHRoaXMuX2xpbmVEcmF3LnVwZGF0ZUxheW91dCgpLHRoaXMuX2NsZWFyTGF5ZXIoaSl9LF91cGRhdGVMaW5lRHJhdzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2xpbmVEcmF3LG49dGhpcy5fc2hvd0VmZmVjdChlKSxvPSEhZS5nZXQoInBvbHlsaW5lIiksYT1lLnBpcGVsaW5lQ29udGV4dC5sYXJnZTtyZXR1cm4gaSYmbj09PXRoaXMuX2hhc0VmZmV0JiZvPT09dGhpcy5faXNQb2x5bGluZSYmYT09PXRoaXMuX2lzTGFyZ2VEcmF3fHwoaSYmaS5yZW1vdmUoKSxpPXRoaXMuX2xpbmVEcmF3PWE/bmV3IFZwOm5ldyBiZChvP24/QnA6enA6bj9ScDp3ZCksdGhpcy5faGFzRWZmZXQ9bix0aGlzLl9pc1BvbHlsaW5lPW8sdGhpcy5faXNMYXJnZURyYXc9YSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpKSx0aGlzLmdyb3VwLmFkZChpLmdyb3VwKSxpfSxfc2hvd0VmZmVjdDpmdW5jdGlvbih0KXtyZXR1cm4hIXQuZ2V0KCJlZmZlY3Quc2hvdyIpfSxfY2xlYXJMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10LmdldFpyKCk7InN2ZyI9PT1lLnBhaW50ZXIuZ2V0VHlwZSgpfHxudWxsPT10aGlzLl9sYXN0WmxldmVsfHxlLnBhaW50ZXIuZ2V0TGF5ZXIodGhpcy5fbGFzdFpsZXZlbCkuY2xlYXIoITApfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt0aGlzLl9saW5lRHJhdyYmdGhpcy5fbGluZURyYXcucmVtb3ZlKCksdGhpcy5fbGluZURyYXc9bnVsbCx0aGlzLl9jbGVhckxheWVyKGUpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX0pO3ZhciBCTD0ibGluZVN0eWxlLm9wYWNpdHkiLnNwbGl0KCIuIiksVkw9e3Nlcmllc1R5cGU6ImxpbmVzIixyZXNldDpmdW5jdGlvbih0LGUsaSl7dmFyIG49R3AodC5nZXQoInN5bWJvbCIpKSxvPUdwKHQuZ2V0KCJzeW1ib2xTaXplIikpLGE9dC5nZXREYXRhKCk7cmV0dXJuIGEuc2V0VmlzdWFsKCJmcm9tU3ltYm9sIixuJiZuWzBdKSxhLnNldFZpc3VhbCgidG9TeW1ib2wiLG4mJm5bMV0pLGEuc2V0VmlzdWFsKCJmcm9tU3ltYm9sU2l6ZSIsbyYmb1swXSksYS5zZXRWaXN1YWwoInRvU3ltYm9sU2l6ZSIsbyYmb1sxXSksYS5zZXRWaXN1YWwoIm9wYWNpdHkiLHQuZ2V0KEJMKSkse2RhdGFFYWNoOmEuaGFzSXRlbU9wdGlvbj9mdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0SXRlbU1vZGVsKGUpLG49R3AoaS5nZXRTaGFsbG93KCJzeW1ib2wiLCEwKSksbz1HcChpLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKSksYT1pLmdldChCTCk7blswXSYmdC5zZXRJdGVtVmlzdWFsKGUsImZyb21TeW1ib2wiLG5bMF0pLG5bMV0mJnQuc2V0SXRlbVZpc3VhbChlLCJ0b1N5bWJvbCIsblsxXSksb1swXSYmdC5zZXRJdGVtVmlzdWFsKGUsImZyb21TeW1ib2xTaXplIixvWzBdKSxvWzFdJiZ0LnNldEl0ZW1WaXN1YWwoZSwidG9TeW1ib2xTaXplIixvWzFdKSx0LnNldEl0ZW1WaXN1YWwoZSwib3BhY2l0eSIsYSl9Om51bGx9fX07ZnMoekwpLHBzKFZMKSxxTS5leHRlbmQoe3R5cGU6InNlcmllcy5oZWF0bWFwIixnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiBVcyh0aGlzLmdldFNvdXJjZSgpLHRoaXMse2dlbmVyYXRlQ29vcmQ6InZhbHVlIn0pfSxwcmV2ZW50SW5jcmVtZW50YWw6ZnVuY3Rpb24oKXt2YXIgdD1DYS5nZXQodGhpcy5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSk7aWYodCYmdC5kaW1lbnNpb25zKXJldHVybiJsbmciPT09dC5kaW1lbnNpb25zWzBdJiYibGF0Ij09PXQuZGltZW5zaW9uc1sxXX0sZGVmYXVsdE9wdGlvbjp7Y29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLHpsZXZlbDowLHo6MixnZW9JbmRleDowLGJsdXJTaXplOjMwLHBvaW50U2l6ZToyMCxtYXhPcGFjaXR5OjEsbWluT3BhY2l0eTowfX0pO1dwLnByb3RvdHlwZT17dXBkYXRlOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt2YXIgcj10aGlzLl9nZXRCcnVzaCgpLHM9dGhpcy5fZ2V0R3JhZGllbnQodCxvLCJpblJhbmdlIiksbD10aGlzLl9nZXRHcmFkaWVudCh0LG8sIm91dE9mUmFuZ2UiKSx1PXRoaXMucG9pbnRTaXplK3RoaXMuYmx1clNpemUsaD10aGlzLmNhbnZhcyxjPWguZ2V0Q29udGV4dCgiMmQiKSxkPXQubGVuZ3RoO2gud2lkdGg9ZSxoLmhlaWdodD1pO2Zvcih2YXIgZj0wO2Y8ZDsrK2Ype3ZhciBwPXRbZl0sZz1wWzBdLG09cFsxXSx2PW4ocFsyXSk7Yy5nbG9iYWxBbHBoYT12LGMuZHJhd0ltYWdlKHIsZy11LG0tdSl9aWYoIWgud2lkdGh8fCFoLmhlaWdodClyZXR1cm4gaDtmb3IodmFyIHk9Yy5nZXRJbWFnZURhdGEoMCwwLGgud2lkdGgsaC5oZWlnaHQpLHg9eS5kYXRhLF89MCx3PXgubGVuZ3RoLGI9dGhpcy5taW5PcGFjaXR5LFM9dGhpcy5tYXhPcGFjaXR5LWI7Xzx3Oyl7dmFyIHY9eFtfKzNdLzI1NixNPTQqTWF0aC5mbG9vcigyNTUqdik7aWYodj4wKXt2YXIgST1hKHYpP3M6bDt2PjAmJih2PXYqUytiKSx4W18rK109SVtNXSx4W18rK109SVtNKzFdLHhbXysrXT1JW00rMl0seFtfKytdPUlbTSszXSp2KjI1Nn1lbHNlIF8rPTR9cmV0dXJuIGMucHV0SW1hZ2VEYXRhKHksMCwwKSxofSxfZ2V0QnJ1c2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9icnVzaENhbnZhc3x8KHRoaXMuX2JydXNoQ2FudmFzPWdfKCkpLGU9dGhpcy5wb2ludFNpemUrdGhpcy5ibHVyU2l6ZSxpPTIqZTt0LndpZHRoPWksdC5oZWlnaHQ9aTt2YXIgbj10LmdldENvbnRleHQoIjJkIik7cmV0dXJuIG4uY2xlYXJSZWN0KDAsMCxpLGkpLG4uc2hhZG93T2Zmc2V0WD1pLG4uc2hhZG93Qmx1cj10aGlzLmJsdXJTaXplLG4uc2hhZG93Q29sb3I9IiMwMDAiLG4uYmVnaW5QYXRoKCksbi5hcmMoLWUsZSx0aGlzLnBvaW50U2l6ZSwwLDIqTWF0aC5QSSwhMCksbi5jbG9zZVBhdGgoKSxuLmZpbGwoKSx0fSxfZ2V0R3JhZGllbnQ6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10aGlzLl9ncmFkaWVudFBpeGVscyxvPW5baV18fChuW2ldPW5ldyBVaW50OENsYW1wZWRBcnJheSgxMDI0KSksYT1bMCwwLDAsMF0scj0wLHM9MDtzPDI1NjtzKyspZVtpXShzLzI1NSwhMCxhKSxvW3IrK109YVswXSxvW3IrK109YVsxXSxvW3IrK109YVsyXSxvW3IrK109YVszXTtyZXR1cm4gb319LF9zKHt0eXBlOiJoZWF0bWFwIixyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuO2UuZWFjaENvbXBvbmVudCgidmlzdWFsTWFwIixmdW5jdGlvbihlKXtlLmVhY2hUYXJnZXRTZXJpZXMoZnVuY3Rpb24oaSl7aT09PXQmJihuPWUpfSl9KSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2luY3JlbWVudGFsRGlzcGxheWFibGU9bnVsbDt2YXIgbz10LmNvb3JkaW5hdGVTeXN0ZW07ImNhcnRlc2lhbjJkIj09PW8udHlwZXx8ImNhbGVuZGFyIj09PW8udHlwZT90aGlzLl9yZW5kZXJPbkNhcnRlc2lhbkFuZENhbGVuZGFyKHQsaSwwLHQuZ2V0RGF0YSgpLmNvdW50KCkpOlpwKG8pJiZ0aGlzLl9yZW5kZXJPbkdlbyhvLHQsbixpKX0saW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxpbmNyZW1lbnRhbFJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtlLmNvb3JkaW5hdGVTeXN0ZW0mJnRoaXMuX3JlbmRlck9uQ2FydGVzaWFuQW5kQ2FsZW5kYXIoZSxuLHQuc3RhcnQsdC5lbmQsITApfSxfcmVuZGVyT25DYXJ0ZXNpYW5BbmRDYWxlbmRhcjpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciByLHMsbD10LmNvb3JkaW5hdGVTeXN0ZW07aWYoImNhcnRlc2lhbjJkIj09PWwudHlwZSl7dmFyIHU9bC5nZXRBeGlzKCJ4IiksaD1sLmdldEF4aXMoInkiKTtyPXUuZ2V0QmFuZFdpZHRoKCkscz1oLmdldEJhbmRXaWR0aCgpfWZvcih2YXIgYz10aGlzLmdyb3VwLGQ9dC5nZXREYXRhKCksZj10LmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSxwPXQuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLGc9dC5nZXRNb2RlbCgibGFiZWwiKSxtPXQuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIiksdj1sLnR5cGUseT0iY2FydGVzaWFuMmQiPT09dj9bZC5tYXBEaW1lbnNpb24oIngiKSxkLm1hcERpbWVuc2lvbigieSIpLGQubWFwRGltZW5zaW9uKCJ2YWx1ZSIpXTpbZC5tYXBEaW1lbnNpb24oInRpbWUiKSxkLm1hcERpbWVuc2lvbigidmFsdWUiKV0seD1pO3g8bjt4Kyspe3ZhciBfO2lmKCJjYXJ0ZXNpYW4yZCI9PT12KXtpZihpc05hTihkLmdldCh5WzJdLHgpKSljb250aW51ZTt2YXIgdz1sLmRhdGFUb1BvaW50KFtkLmdldCh5WzBdLHgpLGQuZ2V0KHlbMV0seCldKTtfPW5ldyBiUyh7c2hhcGU6e3g6d1swXS1yLzIseTp3WzFdLXMvMix3aWR0aDpyLGhlaWdodDpzfSxzdHlsZTp7ZmlsbDpkLmdldEl0ZW1WaXN1YWwoeCwiY29sb3IiKSxvcGFjaXR5OmQuZ2V0SXRlbVZpc3VhbCh4LCJvcGFjaXR5Iil9fSl9ZWxzZXtpZihpc05hTihkLmdldCh5WzFdLHgpKSljb250aW51ZTtfPW5ldyBiUyh7ejI6MSxzaGFwZTpsLmRhdGFUb1JlY3QoW2QuZ2V0KHlbMF0seCldKS5jb250ZW50U2hhcGUsc3R5bGU6e2ZpbGw6ZC5nZXRJdGVtVmlzdWFsKHgsImNvbG9yIiksb3BhY2l0eTpkLmdldEl0ZW1WaXN1YWwoeCwib3BhY2l0eSIpfX0pfXZhciBiPWQuZ2V0SXRlbU1vZGVsKHgpO2QuaGFzSXRlbU9wdGlvbiYmKGY9Yi5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKFsiY29sb3IiXSkscD1iLmdldE1vZGVsKCJlbXBoYXNpcy5pdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxnPWIuZ2V0TW9kZWwoImxhYmVsIiksbT1iLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpKTt2YXIgUz10LmdldFJhd1ZhbHVlKHgpLE09Ii0iO1MmJm51bGwhPVNbMl0mJihNPVNbMl0pLGlvKGYscCxnLG0se2xhYmVsRmV0Y2hlcjp0LGxhYmVsRGF0YUluZGV4OngsZGVmYXVsdFRleHQ6TSxpc1JlY3RUZXh0OiEwfSksXy5zZXRTdHlsZShmKSxlbyhfLGQuaGFzSXRlbU9wdGlvbj9wOmEoe30scCkpLF8uaW5jcmVtZW50YWw9byxvJiYoXy51c2VIb3ZlckxheWVyPSEwKSxjLmFkZChfKSxkLnNldEl0ZW1HcmFwaGljRWwoeCxfKX19LF9yZW5kZXJPbkdlbzpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1pLnRhcmdldFZpc3VhbHMuaW5SYW5nZSxhPWkudGFyZ2V0VmlzdWFscy5vdXRPZlJhbmdlLHI9ZS5nZXREYXRhKCkscz10aGlzLl9obUxheWVyfHx0aGlzLl9obUxheWVyfHxuZXcgV3A7cy5ibHVyU2l6ZT1lLmdldCgiYmx1clNpemUiKSxzLnBvaW50U2l6ZT1lLmdldCgicG9pbnRTaXplIikscy5taW5PcGFjaXR5PWUuZ2V0KCJtaW5PcGFjaXR5Iikscy5tYXhPcGFjaXR5PWUuZ2V0KCJtYXhPcGFjaXR5Iik7dmFyIGw9dC5nZXRWaWV3UmVjdCgpLmNsb25lKCksdT10LmdldFJvYW1UcmFuc2Zvcm0oKTtsLmFwcGx5VHJhbnNmb3JtKHUpO3ZhciBoPU1hdGgubWF4KGwueCwwKSxjPU1hdGgubWF4KGwueSwwKSxkPU1hdGgubWluKGwud2lkdGgrbC54LG4uZ2V0V2lkdGgoKSksZj1NYXRoLm1pbihsLmhlaWdodCtsLnksbi5nZXRIZWlnaHQoKSkscD1kLWgsZz1mLWMsbT1bci5tYXBEaW1lbnNpb24oImxuZyIpLHIubWFwRGltZW5zaW9uKCJsYXQiKSxyLm1hcERpbWVuc2lvbigidmFsdWUiKV0sdj1yLm1hcEFycmF5KG0sZnVuY3Rpb24oZSxpLG4pe3ZhciBvPXQuZGF0YVRvUG9pbnQoW2UsaV0pO3JldHVybiBvWzBdLT1oLG9bMV0tPWMsby5wdXNoKG4pLG99KSx5PWkuZ2V0RXh0ZW50KCkseD0idmlzdWFsTWFwLmNvbnRpbnVvdXMiPT09aS50eXBlP0hwKHksaS5vcHRpb24ucmFuZ2UpOkZwKHksaS5nZXRQaWVjZUxpc3QoKSxpLm9wdGlvbi5zZWxlY3RlZCk7cy51cGRhdGUodixwLGcsby5jb2xvci5nZXROb3JtYWxpemVyKCkse2luUmFuZ2U6by5jb2xvci5nZXRDb2xvck1hcHBlcigpLG91dE9mUmFuZ2U6YS5jb2xvci5nZXRDb2xvck1hcHBlcigpfSx4KTt2YXIgXz1uZXcgSmUoe3N0eWxlOnt3aWR0aDpwLGhlaWdodDpnLHg6aCx5OmMsaW1hZ2U6cy5jYW52YXN9LHNpbGVudDohMH0pO3RoaXMuZ3JvdXAuYWRkKF8pfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX0pO3ZhciBHTD1WRC5leHRlbmQoe3R5cGU6InNlcmllcy5waWN0b3JpYWxCYXIiLGRlcGVuZGVuY2llczpbImdyaWQiXSxkZWZhdWx0T3B0aW9uOntzeW1ib2w6ImNpcmNsZSIsc3ltYm9sU2l6ZTpudWxsLHN5bWJvbFJvdGF0ZTpudWxsLHN5bWJvbFBvc2l0aW9uOm51bGwsc3ltYm9sT2Zmc2V0Om51bGwsc3ltYm9sTWFyZ2luOm51bGwsc3ltYm9sUmVwZWF0OiExLHN5bWJvbFJlcGVhdERpcmVjdGlvbjoiZW5kIixzeW1ib2xDbGlwOiExLHN5bWJvbEJvdW5kaW5nRGF0YTpudWxsLHN5bWJvbFBhdHRlcm5TaXplOjQwMCxiYXJHYXA6Ii0xMDAlIixwcm9ncmVzc2l2ZTowLGhvdmVyQW5pbWF0aW9uOiExfSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFjaz1udWxsLEdMLnN1cGVyQXBwbHkodGhpcywiZ2V0SW5pdGlhbERhdGEiLGFyZ3VtZW50cyl9fSksV0w9WyJpdGVtU3R5bGUiLCJib3JkZXJXaWR0aCJdLEZMPVt7eHk6IngiLHdoOiJ3aWR0aCIsaW5kZXg6MCxwb3NEZXNjOlsibGVmdCIsInJpZ2h0Il19LHt4eToieSIsd2g6ImhlaWdodCIsaW5kZXg6MSxwb3NEZXNjOlsidG9wIiwiYm90dG9tIl19XSxITD1uZXcgZlM7X3Moe3R5cGU6InBpY3RvcmlhbEJhciIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmdyb3VwLG89dC5nZXREYXRhKCksYT10aGlzLl9kYXRhLHI9dC5jb29yZGluYXRlU3lzdGVtLHM9ISFyLmdldEJhc2VBeGlzKCkuaXNIb3Jpem9udGFsKCksbD1yLmdyaWQuZ2V0UmVjdCgpLHU9e2VjU2l6ZTp7d2lkdGg6aS5nZXRXaWR0aCgpLGhlaWdodDppLmdldEhlaWdodCgpfSxzZXJpZXNNb2RlbDp0LGNvb3JkU3lzOnIsY29vcmRTeXNFeHRlbnQ6W1tsLngsbC54K2wud2lkdGhdLFtsLnksbC55K2wuaGVpZ2h0XV0saXNIb3Jpem9udGFsOnMsdmFsdWVEaW06RkxbK3NdLGNhdGVnb3J5RGltOkZMWzEtc119O3JldHVybiBvLmRpZmYoYSkuYWRkKGZ1bmN0aW9uKHQpe2lmKG8uaGFzVmFsdWUodCkpe3ZhciBlPWlnKG8sdCksaT1VcChvLHQsZSx1KSxhPXJnKG8sdSxpKTtvLnNldEl0ZW1HcmFwaGljRWwodCxhKSxuLmFkZChhKSxkZyhhLHUsaSl9fSkudXBkYXRlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9YS5nZXRJdGVtR3JhcGhpY0VsKGUpO2lmKG8uaGFzVmFsdWUodCkpe3ZhciByPWlnKG8sdCkscz1VcChvLHQscix1KSxsPXVnKG8scyk7aSYmbCE9PWkuX19waWN0b3JpYWxTaGFwZVN0ciYmKG4ucmVtb3ZlKGkpLG8uc2V0SXRlbUdyYXBoaWNFbCh0LG51bGwpLGk9bnVsbCksaT9zZyhpLHUscyk6aT1yZyhvLHUscywhMCksby5zZXRJdGVtR3JhcGhpY0VsKHQsaSksaS5fX3BpY3RvcmlhbFN5bWJvbE1ldGE9cyxuLmFkZChpKSxkZyhpLHUscyl9ZWxzZSBuLnJlbW92ZShpKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT1hLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmbGcoYSx0LGUuX19waWN0b3JpYWxTeW1ib2xNZXRhLmFuaW1hdGlvbk1vZGVsLGUpfSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9byx0aGlzLmdyb3VwfSxkaXNwb3NlOkIscmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5ncm91cCxuPXRoaXMuX2RhdGE7dC5nZXQoImFuaW1hdGlvbiIpP24mJm4uZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24oZSl7bGcobixlLmRhdGFJbmRleCx0LGUpfSk6aS5yZW1vdmVBbGwoKX19KTtmcyh2KGhsLCJwaWN0b3JpYWxCYXIiKSkscHMocEQoInBpY3RvcmlhbEJhciIsInJvdW5kUmVjdCIpKTt2YXIgWkw9ZnVuY3Rpb24odCxlLGksbixvKXtZVC5jYWxsKHRoaXMsdCxlLGkpLHRoaXMudHlwZT1ufHwidmFsdWUiLHRoaXMucG9zaXRpb249b3x8ImJvdHRvbSIsdGhpcy5vcmllbnQ9bnVsbH07WkwucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpaTCxtb2RlbDpudWxsLGlzSG9yaXpvbnRhbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucG9zaXRpb247cmV0dXJuInRvcCI9PT10fHwiYm90dG9tIj09PXR9LHBvaW50VG9EYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZVN5c3RlbS5wb2ludFRvRGF0YSh0LGUpWzBdfSx0b0dsb2JhbENvb3JkOm51bGwsdG9Mb2NhbENvb3JkOm51bGx9LHUoWkwsWVQpLHBnLnByb3RvdHlwZT17dHlwZToic2luZ2xlQXhpcyIsYXhpc1BvaW50ZXJFbmFibGVkOiEwLGNvbnN0cnVjdG9yOnBnLF9pbml0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmRpbWVuc2lvbixvPW5ldyBaTChuLHlsKHQpLFswLDBdLHQuZ2V0KCJ0eXBlIiksdC5nZXQoInBvc2l0aW9uIikpLGE9ImNhdGVnb3J5Ij09PW8udHlwZTtvLm9uQmFuZD1hJiZ0LmdldCgiYm91bmRhcnlHYXAiKSxvLmludmVyc2U9dC5nZXQoImludmVyc2UiKSxvLm9yaWVudD10LmdldCgib3JpZW50IiksdC5heGlzPW8sby5tb2RlbD10LG8uY29vcmRpbmF0ZVN5c3RlbT10aGlzLHRoaXMuX2F4aXM9b30sdXBkYXRlOmZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe2lmKHQuY29vcmRpbmF0ZVN5c3RlbT09PXRoaXMpe3ZhciBlPXQuZ2V0RGF0YSgpO2QoZS5tYXBEaW1lbnNpb24odGhpcy5kaW1lbnNpb24sITApLGZ1bmN0aW9uKHQpe3RoaXMuX2F4aXMuc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShlLHQpfSx0aGlzKSx2bCh0aGlzLl9heGlzLnNjYWxlLHRoaXMuX2F4aXMubW9kZWwpfX0sdGhpcyl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3JlY3Q9UW8oe2xlZnQ6dC5nZXQoImxlZnQiKSx0b3A6dC5nZXQoInRvcCIpLHJpZ2h0OnQuZ2V0KCJyaWdodCIpLGJvdHRvbTp0LmdldCgiYm90dG9tIiksd2lkdGg6dC5nZXQoIndpZHRoIiksaGVpZ2h0OnQuZ2V0KCJoZWlnaHQiKX0se3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pLHRoaXMuX2FkanVzdEF4aXMoKX0sZ2V0UmVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN0fSxfYWRqdXN0QXhpczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3QsZT10aGlzLl9heGlzLGk9ZS5pc0hvcml6b250YWwoKSxuPWk/WzAsdC53aWR0aF06WzAsdC5oZWlnaHRdLG89ZS5yZXZlcnNlPzE6MDtlLnNldEV4dGVudChuW29dLG5bMS1vXSksdGhpcy5fdXBkYXRlQXhpc1RyYW5zZm9ybShlLGk/dC54OnQueSl9LF91cGRhdGVBeGlzVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRFeHRlbnQoKSxuPWlbMF0raVsxXSxvPXQuaXNIb3Jpem9udGFsKCk7dC50b0dsb2JhbENvb3JkPW8/ZnVuY3Rpb24odCl7cmV0dXJuIHQrZX06ZnVuY3Rpb24odCl7cmV0dXJuIG4tdCtlfSx0LnRvTG9jYWxDb29yZD1vP2Z1bmN0aW9uKHQpe3JldHVybiB0LWV9OmZ1bmN0aW9uKHQpe3JldHVybiBuLXQrZX19LGdldEF4aXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXhpc30sZ2V0QmFzZUF4aXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXhpc30sZ2V0QXhlczpmdW5jdGlvbigpe3JldHVyblt0aGlzLl9heGlzXX0sZ2V0VG9vbHRpcEF4ZXM6ZnVuY3Rpb24oKXtyZXR1cm57YmFzZUF4ZXM6W3RoaXMuZ2V0QXhpcygpXX19LGNvbnRhaW5Qb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFJlY3QoKSxpPXRoaXMuZ2V0QXhpcygpO3JldHVybiJob3Jpem9udGFsIj09PWkub3JpZW50P2kuY29udGFpbihpLnRvTG9jYWxDb29yZCh0WzBdKSkmJnRbMV0+PWUueSYmdFsxXTw9ZS55K2UuaGVpZ2h0OmkuY29udGFpbihpLnRvTG9jYWxDb29yZCh0WzFdKSkmJnRbMF0+PWUueSYmdFswXTw9ZS55K2UuaGVpZ2h0fSxwb2ludFRvRGF0YTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF4aXMoKTtyZXR1cm5bZS5jb29yZFRvRGF0YShlLnRvTG9jYWxDb29yZCh0WyJob3Jpem9udGFsIj09PWUub3JpZW50PzA6MV0pKV19LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXhpcygpLGk9dGhpcy5nZXRSZWN0KCksbj1bXSxvPSJob3Jpem9udGFsIj09PWUub3JpZW50PzA6MTtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5JiYodD10WzBdKSxuW29dPWUudG9HbG9iYWxDb29yZChlLmRhdGFUb0Nvb3JkKCt0KSksblsxLW9dPTA9PT1vP2kueStpLmhlaWdodC8yOmkueCtpLndpZHRoLzIsbn19LENhLnJlZ2lzdGVyKCJzaW5nbGUiLHtjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJzaW5nbGVBeGlzIixmdW5jdGlvbihuLG8pe3ZhciBhPW5ldyBwZyhuLHQsZSk7YS5uYW1lPSJzaW5nbGVfIitvLGEucmVzaXplKG4sZSksbi5jb29yZGluYXRlU3lzdGVtPWEsaS5wdXNoKGEpfSksdC5lYWNoU2VyaWVzKGZ1bmN0aW9uKGUpe2lmKCJzaW5nbGVBeGlzIj09PWUuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikpe3ZhciBpPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToic2luZ2xlQXhpcyIsaW5kZXg6ZS5nZXQoInNpbmdsZUF4aXNJbmRleCIpLGlkOmUuZ2V0KCJzaW5nbGVBeGlzSWQiKX0pWzBdO2UuY29vcmRpbmF0ZVN5c3RlbT1pJiZpLmNvb3JkaW5hdGVTeXN0ZW19fSksaX0sZGltZW5zaW9uczpwZy5wcm90b3R5cGUuZGltZW5zaW9uc30pO3ZhciBVTD1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sWEw9T0QuZXh0ZW5kKHt0eXBlOiJzaW5nbGVBeGlzIixheGlzUG9pbnRlckNsYXNzOiJTaW5nbGVBeGlzUG9pbnRlciIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuZ3JvdXA7by5yZW1vdmVBbGwoKTt2YXIgYT1nZyh0KSxyPW5ldyBDRCh0LGEpO2QoVUwsci5hZGQsciksby5hZGQoci5nZXRHcm91cCgpKSx0LmdldCgic3BsaXRMaW5lLnNob3ciKSYmdGhpcy5fc3BsaXRMaW5lKHQpLFhMLnN1cGVyQ2FsbCh0aGlzLCJyZW5kZXIiLHQsZSxpLG4pfSxfc3BsaXRMaW5lOmZ1bmN0aW9uKHQpe3ZhciBlPXQuYXhpcztpZighZS5zY2FsZS5pc0JsYW5rKCkpe3ZhciBpPXQuZ2V0TW9kZWwoInNwbGl0TGluZSIpLG49aS5nZXRNb2RlbCgibGluZVN0eWxlIiksbz1uLmdldCgid2lkdGgiKSxhPW4uZ2V0KCJjb2xvciIpO2E9YSBpbnN0YW5jZW9mIEFycmF5P2E6W2FdO2Zvcih2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHM9ZS5pc0hvcml6b250YWwoKSxsPVtdLHU9MCxoPWUuZ2V0VGlja3NDb29yZHMoe3RpY2tNb2RlbDppfSksYz1bXSxkPVtdLGY9MDtmPGgubGVuZ3RoOysrZil7dmFyIHA9ZS50b0dsb2JhbENvb3JkKGhbZl0uY29vcmQpO3M/KGNbMF09cCxjWzFdPXIueSxkWzBdPXAsZFsxXT1yLnkrci5oZWlnaHQpOihjWzBdPXIueCxjWzFdPXAsZFswXT1yLngrci53aWR0aCxkWzFdPXApO3ZhciBnPXUrKyVhLmxlbmd0aDtsW2ddPWxbZ118fFtdLGxbZ10ucHVzaChuZXcgU1MoR24oe3NoYXBlOnt4MTpjWzBdLHkxOmNbMV0seDI6ZFswXSx5MjpkWzFdfSxzdHlsZTp7bGluZVdpZHRoOm99LHNpbGVudDohMH0pKSl9Zm9yKGY9MDtmPGwubGVuZ3RoOysrZil0aGlzLmdyb3VwLmFkZChSUyhsW2ZdLHtzdHlsZTp7c3Ryb2tlOmFbZiVhLmxlbmd0aF0sbGluZURhc2g6bi5nZXRMaW5lRGFzaChvKSxsaW5lV2lkdGg6b30sc2lsZW50OiEwfSkpfX19KSxqTD11TS5leHRlbmQoe3R5cGU6InNpbmdsZUF4aXMiLGxheW91dE1vZGU6ImJveCIsYXhpczpudWxsLGNvb3JkaW5hdGVTeXN0ZW06bnVsbCxnZXRDb29yZFN5c01vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSksWUw9e2xlZnQ6IjUlIix0b3A6IjUlIixyaWdodDoiNSUiLGJvdHRvbToiNSUiLHR5cGU6InZhbHVlIixwb3NpdGlvbjoiYm90dG9tIixvcmllbnQ6Imhvcml6b250YWwiLGF4aXNMaW5lOntzaG93OiEwLGxpbmVTdHlsZTp7d2lkdGg6Mix0eXBlOiJzb2xpZCJ9fSx0b29sdGlwOntzaG93OiEwfSxheGlzVGljazp7c2hvdzohMCxsZW5ndGg6NixsaW5lU3R5bGU6e3dpZHRoOjJ9fSxheGlzTGFiZWw6e3Nob3c6ITAsaW50ZXJ2YWw6ImF1dG8ifSxzcGxpdExpbmU6e3Nob3c6ITAsbGluZVN0eWxlOnt0eXBlOiJkYXNoZWQiLG9wYWNpdHk6LjJ9fX07bihqTC5wcm90b3R5cGUsT1QpLFNEKCJzaW5nbGUiLGpMLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudHlwZXx8KGUuZGF0YT8iY2F0ZWdvcnkiOiJ2YWx1ZSIpfSxZTCk7dmFyIHFMPWZ1bmN0aW9uKHQsZSl7dmFyIGksbj1bXSxvPXQuc2VyaWVzSW5kZXg7aWYobnVsbD09b3x8IShpPWUuZ2V0U2VyaWVzQnlJbmRleChvKSkpcmV0dXJue3BvaW50OltdfTt2YXIgYT1pLmdldERhdGEoKSxyPVBpKGEsdCk7aWYobnVsbD09cnx8cjwwfHx5KHIpKXJldHVybntwb2ludDpbXX07dmFyIHM9YS5nZXRJdGVtR3JhcGhpY0VsKHIpLGw9aS5jb29yZGluYXRlU3lzdGVtO2lmKGkuZ2V0VG9vbHRpcFBvc2l0aW9uKW49aS5nZXRUb29sdGlwUG9zaXRpb24ocil8fFtdO2Vsc2UgaWYobCYmbC5kYXRhVG9Qb2ludCluPWwuZGF0YVRvUG9pbnQoYS5nZXRWYWx1ZXMoZihsLmRpbWVuc2lvbnMsZnVuY3Rpb24odCl7cmV0dXJuIGEubWFwRGltZW5zaW9uKHQpfSksciwhMCkpfHxbXTtlbHNlIGlmKHMpe3ZhciB1PXMuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTt1LmFwcGx5VHJhbnNmb3JtKHMudHJhbnNmb3JtKSxuPVt1LngrdS53aWR0aC8yLHUueSt1LmhlaWdodC8yXX1yZXR1cm57cG9pbnQ6bixlbDpzfX0sS0w9ZCwkTD12LEpMPU5pKCksUUw9KHZzKHt0eXBlOiJheGlzUG9pbnRlciIsY29vcmRTeXNBeGVzSW5mbzpudWxsLGRlZmF1bHRPcHRpb246e3Nob3c6ImF1dG8iLHRyaWdnZXJPbjpudWxsLHpsZXZlbDowLHo6NTAsdHlwZToibGluZSIsc25hcDohMSx0cmlnZ2VyVG9vbHRpcDohMCx2YWx1ZTpudWxsLHN0YXR1czpudWxsLGxpbms6W10sYW5pbWF0aW9uOm51bGwsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6MjAwLGxpbmVTdHlsZTp7Y29sb3I6IiNhYWEiLHdpZHRoOjEsdHlwZToic29saWQifSxzaGFkb3dTdHlsZTp7Y29sb3I6InJnYmEoMTUwLDE1MCwxNTAsMC4zKSJ9LGxhYmVsOntzaG93OiEwLGZvcm1hdHRlcjpudWxsLHByZWNpc2lvbjoiYXV0byIsbWFyZ2luOjMsY29sb3I6IiNmZmYiLHBhZGRpbmc6WzUsNyw1LDddLGJhY2tncm91bmRDb2xvcjoiYXV0byIsYm9yZGVyQ29sb3I6bnVsbCxib3JkZXJXaWR0aDowLHNoYWRvd0JsdXI6MyxzaGFkb3dDb2xvcjoiI2FhYSJ9LGhhbmRsZTp7c2hvdzohMSxpY29uOiJNMTAuNywxMS45di0xLjNIOS4zdjEuM2MtNC45LDAuMy04LjgsNC40LTguOCw5LjRjMCw1LDMuOSw5LjEsOC44LDkuNGgxLjNjNC45LTAuMyw4LjgtNC40LDguOC05LjRDMTkuNSwxNi4zLDE1LjYsMTIuMiwxMC43LDExLjl6IE0xMy4zLDI0LjRINi43di0xLjJoNi42eiBNMTMuMywyMkg2Ljd2LTEuMmg2LjZ6IE0xMy4zLDE5LjZINi43di0xLjJoNi42eiIsc2l6ZTo0NSxtYXJnaW46NTAsY29sb3I6IiMzMzMiLHNoYWRvd0JsdXI6MyxzaGFkb3dDb2xvcjoiI2FhYSIsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6Mix0aHJvdHRsZTo0MH19fSksTmkoKSksdGs9ZCxlaz15cyh7dHlwZToiYXhpc1BvaW50ZXIiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49ZS5nZXRDb21wb25lbnQoInRvb2x0aXAiKSxvPXQuZ2V0KCJ0cmlnZ2VyT24iKXx8biYmbi5nZXQoInRyaWdnZXJPbiIpfHwibW91c2Vtb3ZlfGNsaWNrIjtUZygiYXhpc1BvaW50ZXIiLGksZnVuY3Rpb24odCxlLGkpeyJub25lIiE9PW8mJigibGVhdmUiPT09dHx8by5pbmRleE9mKHQpPj0wKSYmaSh7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLGN1cnJUcmlnZ2VyOnQseDplJiZlLm9mZnNldFgseTplJiZlLm9mZnNldFl9KX0pfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXtQZyhlLmdldFpyKCksImF4aXNQb2ludGVyIiksZWsuc3VwZXJBcHBseSh0aGlzLl9tb2RlbCwicmVtb3ZlIixhcmd1bWVudHMpfSxkaXNwb3NlOmZ1bmN0aW9uKHQsZSl7UGcoImF4aXNQb2ludGVyIixlKSxlay5zdXBlckFwcGx5KHRoaXMuX21vZGVsLCJkaXNwb3NlIixhcmd1bWVudHMpfX0pLGlrPU5pKCksbms9aSxvaz1tOyhOZy5wcm90b3R5cGU9e19ncm91cDpudWxsLF9sYXN0R3JhcGhpY0tleTpudWxsLF9oYW5kbGU6bnVsbCxfZHJhZ2dpbmc6ITEsX2xhc3RWYWx1ZTpudWxsLF9sYXN0U3RhdHVzOm51bGwsX3BheWxvYWRJbmZvOm51bGwsYW5pbWF0aW9uVGhyZXNob2xkOjE1LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1lLmdldCgidmFsdWUiKSxhPWUuZ2V0KCJzdGF0dXMiKTtpZih0aGlzLl9heGlzTW9kZWw9dCx0aGlzLl9heGlzUG9pbnRlck1vZGVsPWUsdGhpcy5fYXBpPWksbnx8dGhpcy5fbGFzdFZhbHVlIT09b3x8dGhpcy5fbGFzdFN0YXR1cyE9PWEpe3RoaXMuX2xhc3RWYWx1ZT1vLHRoaXMuX2xhc3RTdGF0dXM9YTt2YXIgcj10aGlzLl9ncm91cCxzPXRoaXMuX2hhbmRsZTtpZighYXx8ImhpZGUiPT09YSlyZXR1cm4gciYmci5oaWRlKCksdm9pZChzJiZzLmhpZGUoKSk7ciYmci5zaG93KCkscyYmcy5zaG93KCk7dmFyIGw9e307dGhpcy5tYWtlRWxPcHRpb24obCxvLHQsZSxpKTt2YXIgdT1sLmdyYXBoaWNLZXk7dSE9PXRoaXMuX2xhc3RHcmFwaGljS2V5JiZ0aGlzLmNsZWFyKGkpLHRoaXMuX2xhc3RHcmFwaGljS2V5PXU7dmFyIGg9dGhpcy5fbW92ZUFuaW1hdGlvbj10aGlzLmRldGVybWluZUFuaW1hdGlvbih0LGUpO2lmKHIpe3ZhciBjPXYoT2csZSxoKTt0aGlzLnVwZGF0ZVBvaW50ZXJFbChyLGwsYyxlKSx0aGlzLnVwZGF0ZUxhYmVsRWwocixsLGMsZSl9ZWxzZSByPXRoaXMuX2dyb3VwPW5ldyBydyx0aGlzLmNyZWF0ZVBvaW50ZXJFbChyLGwsdCxlKSx0aGlzLmNyZWF0ZUxhYmVsRWwocixsLHQsZSksaS5nZXRacigpLmFkZChyKTtCZyhyLGUsITApLHRoaXMuX3JlbmRlckhhbmRsZShvKX19LHJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLmNsZWFyKHQpfSxkaXNwb3NlOmZ1bmN0aW9uKHQpe3RoaXMuY2xlYXIodCl9LGRldGVybWluZUFuaW1hdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpPWUuZ2V0KCJhbmltYXRpb24iKSxuPXQuYXhpcyxvPSJjYXRlZ29yeSI9PT1uLnR5cGUsYT1lLmdldCgic25hcCIpO2lmKCFhJiYhbylyZXR1cm4hMTtpZigiYXV0byI9PT1pfHxudWxsPT1pKXt2YXIgcj10aGlzLmFuaW1hdGlvblRocmVzaG9sZDtpZihvJiZuLmdldEJhbmRXaWR0aCgpPnIpcmV0dXJuITA7aWYoYSl7dmFyIHM9WXUodCkuc2VyaWVzRGF0YUNvdW50LGw9bi5nZXRFeHRlbnQoKTtyZXR1cm4gTWF0aC5hYnMobFswXS1sWzFdKS9zPnJ9cmV0dXJuITF9cmV0dXJuITA9PT1pfSxtYWtlRWxPcHRpb246ZnVuY3Rpb24odCxlLGksbixvKXt9LGNyZWF0ZVBvaW50ZXJFbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1lLnBvaW50ZXI7aWYobyl7dmFyIGE9aWsodCkucG9pbnRlckVsPW5ldyB6U1tvLnR5cGVdKG5rKGUucG9pbnRlcikpO3QuYWRkKGEpfX0sY3JlYXRlTGFiZWxFbDpmdW5jdGlvbih0LGUsaSxuKXtpZihlLmxhYmVsKXt2YXIgbz1payh0KS5sYWJlbEVsPW5ldyBiUyhuayhlLmxhYmVsKSk7dC5hZGQobyksUmcobyxuKX19LHVwZGF0ZVBvaW50ZXJFbDpmdW5jdGlvbih0LGUsaSl7dmFyIG49aWsodCkucG9pbnRlckVsO24mJihuLnNldFN0eWxlKGUucG9pbnRlci5zdHlsZSksaShuLHtzaGFwZTplLnBvaW50ZXIuc2hhcGV9KSl9LHVwZGF0ZUxhYmVsRWw6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89aWsodCkubGFiZWxFbDtvJiYoby5zZXRTdHlsZShlLmxhYmVsLnN0eWxlKSxpKG8se3NoYXBlOmUubGFiZWwuc2hhcGUscG9zaXRpb246ZS5sYWJlbC5wb3NpdGlvbn0pLFJnKG8sbikpfSxfcmVuZGVySGFuZGxlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9kcmFnZ2luZyYmdGhpcy51cGRhdGVIYW5kbGVUcmFuc2Zvcm0pe3ZhciBlPXRoaXMuX2F4aXNQb2ludGVyTW9kZWwsaT10aGlzLl9hcGkuZ2V0WnIoKSxuPXRoaXMuX2hhbmRsZSxvPWUuZ2V0TW9kZWwoImhhbmRsZSIpLGE9ZS5nZXQoInN0YXR1cyIpO2lmKCFvLmdldCgic2hvdyIpfHwhYXx8ImhpZGUiPT09YSlyZXR1cm4gbiYmaS5yZW1vdmUobiksdm9pZCh0aGlzLl9oYW5kbGU9bnVsbCk7dmFyIHI7dGhpcy5faGFuZGxlfHwocj0hMCxuPXRoaXMuX2hhbmRsZT1fbyhvLmdldCgiaWNvbiIpLHtjdXJzb3I6Im1vdmUiLGRyYWdnYWJsZTohMCxvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtSdyh0LmV2ZW50KX0sb25tb3VzZWRvd246b2sodGhpcy5fb25IYW5kbGVEcmFnTW92ZSx0aGlzLDAsMCksZHJpZnQ6b2sodGhpcy5fb25IYW5kbGVEcmFnTW92ZSx0aGlzKSxvbmRyYWdlbmQ6b2sodGhpcy5fb25IYW5kbGVEcmFnRW5kLHRoaXMpfSksaS5hZGQobikpLEJnKG4sZSwhMSk7dmFyIHM9WyJjb2xvciIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJvcGFjaXR5Iiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiXTtuLnNldFN0eWxlKG8uZ2V0SXRlbVN0eWxlKG51bGwscykpO3ZhciBsPW8uZ2V0KCJzaXplIik7eShsKXx8KGw9W2wsbF0pLG4uYXR0cigic2NhbGUiLFtsWzBdLzIsbFsxXS8yXSksd3IodGhpcywiX2RvRGlzcGF0Y2hBeGlzUG9pbnRlciIsby5nZXQoInRocm90dGxlIil8fDAsImZpeFJhdGUiKSx0aGlzLl9tb3ZlSGFuZGxlVG9WYWx1ZSh0LHIpfX0sX21vdmVIYW5kbGVUb1ZhbHVlOmZ1bmN0aW9uKHQsZSl7T2codGhpcy5fYXhpc1BvaW50ZXJNb2RlbCwhZSYmdGhpcy5fbW92ZUFuaW1hdGlvbix0aGlzLl9oYW5kbGUsemcodGhpcy5nZXRIYW5kbGVUcmFuc2Zvcm0odCx0aGlzLl9heGlzTW9kZWwsdGhpcy5fYXhpc1BvaW50ZXJNb2RlbCkpKX0sX29uSGFuZGxlRHJhZ01vdmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9oYW5kbGU7aWYoaSl7dGhpcy5fZHJhZ2dpbmc9ITA7dmFyIG49dGhpcy51cGRhdGVIYW5kbGVUcmFuc2Zvcm0oemcoaSksW3QsZV0sdGhpcy5fYXhpc01vZGVsLHRoaXMuX2F4aXNQb2ludGVyTW9kZWwpO3RoaXMuX3BheWxvYWRJbmZvPW4saS5zdG9wQW5pbWF0aW9uKCksaS5hdHRyKHpnKG4pKSxpayhpKS5sYXN0UHJvcD1udWxsLHRoaXMuX2RvRGlzcGF0Y2hBeGlzUG9pbnRlcigpfX0sX2RvRGlzcGF0Y2hBeGlzUG9pbnRlcjpmdW5jdGlvbigpe2lmKHRoaXMuX2hhbmRsZSl7dmFyIHQ9dGhpcy5fcGF5bG9hZEluZm8sZT10aGlzLl9heGlzTW9kZWw7dGhpcy5fYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ1cGRhdGVBeGlzUG9pbnRlciIseDp0LmN1cnNvclBvaW50WzBdLHk6dC5jdXJzb3JQb2ludFsxXSx0b29sdGlwT3B0aW9uOnQudG9vbHRpcE9wdGlvbixheGVzSW5mbzpbe2F4aXNEaW06ZS5heGlzLmRpbSxheGlzSW5kZXg6ZS5jb21wb25lbnRJbmRleH1dfSl9fSxfb25IYW5kbGVEcmFnRW5kOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2RyYWdnaW5nPSExLHRoaXMuX2hhbmRsZSl7dmFyIGU9dGhpcy5fYXhpc1BvaW50ZXJNb2RlbC5nZXQoInZhbHVlIik7dGhpcy5fbW92ZUhhbmRsZVRvVmFsdWUoZSksdGhpcy5fYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJoaWRlVGlwIn0pfX0sZ2V0SGFuZGxlVHJhbnNmb3JtOm51bGwsdXBkYXRlSGFuZGxlVHJhbnNmb3JtOm51bGwsY2xlYXI6ZnVuY3Rpb24odCl7dGhpcy5fbGFzdFZhbHVlPW51bGwsdGhpcy5fbGFzdFN0YXR1cz1udWxsO3ZhciBlPXQuZ2V0WnIoKSxpPXRoaXMuX2dyb3VwLG49dGhpcy5faGFuZGxlO2UmJmkmJih0aGlzLl9sYXN0R3JhcGhpY0tleT1udWxsLGkmJmUucmVtb3ZlKGkpLG4mJmUucmVtb3ZlKG4pLHRoaXMuX2dyb3VwPW51bGwsdGhpcy5faGFuZGxlPW51bGwsdGhpcy5fcGF5bG9hZEluZm89bnVsbCl9LGRvQ2xlYXI6ZnVuY3Rpb24oKXt9LGJ1aWxkTGFiZWw6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBpPWl8fDAse3g6dFtpXSx5OnRbMS1pXSx3aWR0aDplW2ldLGhlaWdodDplWzEtaV19fX0pLmNvbnN0cnVjdG9yPU5nLEdpKE5nKTt2YXIgYWs9TmcuZXh0ZW5kKHttYWtlRWxPcHRpb246ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT1pLmF4aXMscj1hLmdyaWQscz1uLmdldCgidHlwZSIpLGw9WWcocixhKS5nZXRPdGhlckF4aXMoYSkuZ2V0R2xvYmFsRXh0ZW50KCksdT1hLnRvR2xvYmFsQ29vcmQoYS5kYXRhVG9Db29yZChlLCEwKSk7aWYocyYmIm5vbmUiIT09cyl7dmFyIGg9VmcobiksYz1ya1tzXShhLHUsbCxoKTtjLnN0eWxlPWgsdC5ncmFwaGljS2V5PWMudHlwZSx0LnBvaW50ZXI9Y31aZyhlLHQsdGgoci5tb2RlbCxpKSxpLG4sbyl9LGdldEhhbmRsZVRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGgoZS5heGlzLmdyaWQubW9kZWwsZSx7bGFiZWxJbnNpZGU6ITF9KTtyZXR1cm4gbi5sYWJlbE1hcmdpbj1pLmdldCgiaGFuZGxlLm1hcmdpbiIpLHtwb3NpdGlvbjpIZyhlLmF4aXMsdCxuKSxyb3RhdGlvbjpuLnJvdGF0aW9uKyhuLmxhYmVsRGlyZWN0aW9uPDA/TWF0aC5QSTowKX19LHVwZGF0ZUhhbmRsZVRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1pLmF4aXMsYT1vLmdyaWQscj1vLmdldEdsb2JhbEV4dGVudCghMCkscz1ZZyhhLG8pLmdldE90aGVyQXhpcyhvKS5nZXRHbG9iYWxFeHRlbnQoKSxsPSJ4Ij09PW8uZGltPzA6MSx1PXQucG9zaXRpb247dVtsXSs9ZVtsXSx1W2xdPU1hdGgubWluKHJbMV0sdVtsXSksdVtsXT1NYXRoLm1heChyWzBdLHVbbF0pO3ZhciBoPShzWzFdK3NbMF0pLzIsYz1baCxoXTtjW2xdPXVbbF07dmFyIGQ9W3t2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSx7YWxpZ246ImNlbnRlciJ9XTtyZXR1cm57cG9zaXRpb246dSxyb3RhdGlvbjp0LnJvdGF0aW9uLGN1cnNvclBvaW50OmMsdG9vbHRpcE9wdGlvbjpkW2xdfX19KSxyaz17bGluZTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1VZyhbZSxpWzBdXSxbZSxpWzFdXSxxZyh0KSk7cmV0dXJuIEduKHtzaGFwZTpvLHN0eWxlOm59KSx7dHlwZToiTGluZSIsc2hhcGU6b319LHNoYWRvdzpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1NYXRoLm1heCgxLHQuZ2V0QmFuZFdpZHRoKCkpLGE9aVsxXS1pWzBdO3JldHVybnt0eXBlOiJSZWN0IixzaGFwZTpYZyhbZS1vLzIsaVswXV0sW28sYV0scWcodCkpfX19O09ELnJlZ2lzdGVyQXhpc1BvaW50ZXJDbGFzcygiQ2FydGVzaWFuQXhpc1BvaW50ZXIiLGFrKSx1cyhmdW5jdGlvbih0KXtpZih0KXsoIXQuYXhpc1BvaW50ZXJ8fDA9PT10LmF4aXNQb2ludGVyLmxlbmd0aCkmJih0LmF4aXNQb2ludGVyPXt9KTt2YXIgZT10LmF4aXNQb2ludGVyLmxpbms7ZSYmIXkoZSkmJih0LmF4aXNQb2ludGVyLmxpbms9W2VdKX19KSxocyhDSS5QUk9DRVNTT1IuU1RBVElTVElDLGZ1bmN0aW9uKHQsZSl7dC5nZXRDb21wb25lbnQoImF4aXNQb2ludGVyIikuY29vcmRTeXNBeGVzSW5mbz1XdSh0LGUpfSksY3Moe3R5cGU6InVwZGF0ZUF4aXNQb2ludGVyIixldmVudDoidXBkYXRlQXhpc1BvaW50ZXIiLHVwZGF0ZToiOnVwZGF0ZUF4aXNQb2ludGVyIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuY3VyclRyaWdnZXIsbz1bdC54LHQueV0sYT10LHI9dC5kaXNwYXRjaEFjdGlvbnx8bShpLmRpc3BhdGNoQWN0aW9uLGkpLHM9ZS5nZXRDb21wb25lbnQoImF4aXNQb2ludGVyIikuY29vcmRTeXNBeGVzSW5mbztpZihzKXtJZyhvKSYmKG89cUwoe3Nlcmllc0luZGV4OmEuc2VyaWVzSW5kZXgsZGF0YUluZGV4OmEuZGF0YUluZGV4fSxlKS5wb2ludCk7dmFyIGw9SWcobyksdT1hLmF4ZXNJbmZvLGg9cy5heGVzSW5mbyxjPSJsZWF2ZSI9PT1ufHxJZyhvKSxkPXt9LGY9e30scD17bGlzdDpbXSxtYXA6e319LGc9e3Nob3dQb2ludGVyOiRMKHlnLGYpLHNob3dUb29sdGlwOiRMKHhnLHApfTtLTChzLmNvb3JkU3lzTWFwLGZ1bmN0aW9uKHQsZSl7dmFyIGk9bHx8dC5jb250YWluUG9pbnQobyk7S0wocy5jb29yZFN5c0F4ZXNJbmZvW2VdLGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5heGlzLGE9U2codSx0KTtpZighYyYmaSYmKCF1fHxhKSl7dmFyIHI9YSYmYS52YWx1ZTtudWxsIT1yfHxsfHwocj1uLnBvaW50VG9EYXRhKG8pKSxudWxsIT1yJiZtZyh0LHIsZywhMSxkKX19KX0pO3ZhciB2PXt9O3JldHVybiBLTChoLGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5saW5rR3JvdXA7aSYmIWZbZV0mJktMKGkuYXhlc0luZm8sZnVuY3Rpb24oZSxuKXt2YXIgbz1mW25dO2lmKGUhPT10JiZvKXt2YXIgYT1vLnZhbHVlO2kubWFwcGVyJiYoYT10LmF4aXMuc2NhbGUucGFyc2UoaS5tYXBwZXIoYSxNZyhlKSxNZyh0KSkpKSx2W3Qua2V5XT1hfX0pfSksS0wodixmdW5jdGlvbih0LGUpe21nKGhbZV0sdCxnLCEwLGQpfSksX2coZixoLGQpLHdnKHAsbyx0LHIpLGJnKGgsMCxpKSxkfX0pO3ZhciBzaz1bIngiLCJ5Il0sbGs9WyJ3aWR0aCIsImhlaWdodCJdLHVrPU5nLmV4dGVuZCh7bWFrZUVsT3B0aW9uOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9aS5heGlzLHI9YS5jb29yZGluYXRlU3lzdGVtLHM9JGcociwxLUtnKGEpKSxsPXIuZGF0YVRvUG9pbnQoZSlbMF0sdT1uLmdldCgidHlwZSIpO2lmKHUmJiJub25lIiE9PXUpe3ZhciBoPVZnKG4pLGM9aGtbdV0oYSxsLHMsaCk7Yy5zdHlsZT1oLHQuZ3JhcGhpY0tleT1jLnR5cGUsdC5wb2ludGVyPWN9WmcoZSx0LGdnKGkpLGksbixvKX0sZ2V0SGFuZGxlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1nZyhlLHtsYWJlbEluc2lkZTohMX0pO3JldHVybiBuLmxhYmVsTWFyZ2luPWkuZ2V0KCJoYW5kbGUubWFyZ2luIikse3Bvc2l0aW9uOkhnKGUuYXhpcyx0LG4pLHJvdGF0aW9uOm4ucm90YXRpb24rKG4ubGFiZWxEaXJlY3Rpb248MD9NYXRoLlBJOjApfX0sdXBkYXRlSGFuZGxlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWkuYXhpcyxhPW8uY29vcmRpbmF0ZVN5c3RlbSxyPUtnKG8pLHM9JGcoYSxyKSxsPXQucG9zaXRpb247bFtyXSs9ZVtyXSxsW3JdPU1hdGgubWluKHNbMV0sbFtyXSksbFtyXT1NYXRoLm1heChzWzBdLGxbcl0pO3ZhciB1PSRnKGEsMS1yKSxoPSh1WzFdK3VbMF0pLzIsYz1baCxoXTtyZXR1cm4gY1tyXT1sW3JdLHtwb3NpdGlvbjpsLHJvdGF0aW9uOnQucm90YXRpb24sY3Vyc29yUG9pbnQ6Yyx0b29sdGlwT3B0aW9uOnt2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifX19fSksaGs9e2xpbmU6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89VWcoW2UsaVswXV0sW2UsaVsxXV0sS2codCkpO3JldHVybiBHbih7c2hhcGU6byxzdHlsZTpufSkse3R5cGU6IkxpbmUiLHNoYXBlOm99fSxzaGFkb3c6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXRCYW5kV2lkdGgoKSxhPWlbMV0taVswXTtyZXR1cm57dHlwZToiUmVjdCIsc2hhcGU6WGcoW2Utby8yLGlbMF1dLFtvLGFdLEtnKHQpKX19fTtPRC5yZWdpc3RlckF4aXNQb2ludGVyQ2xhc3MoIlNpbmdsZUF4aXNQb2ludGVyIix1aykseXMoe3R5cGU6InNpbmdsZSJ9KTt2YXIgY2s9cU0uZXh0ZW5kKHt0eXBlOiJzZXJpZXMudGhlbWVSaXZlciIsZGVwZW5kZW5jaWVzOlsic2luZ2xlQXhpcyJdLG5hbWVNYXA6bnVsbCxpbml0OmZ1bmN0aW9uKHQpe2NrLnN1cGVyQXBwbHkodGhpcywiaW5pdCIsYXJndW1lbnRzKSx0aGlzLmxlZ2VuZERhdGFQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFJhd0RhdGEoKX19LGZpeERhdGE6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLGk9ZigkZigpLmtleShmdW5jdGlvbih0KXtyZXR1cm4gdFsyXX0pLmVudHJpZXModCksZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dC5rZXksZGF0YUxpc3Q6dC52YWx1ZXN9fSksbj1pLmxlbmd0aCxvPS0xLGE9LTEscj0wO3I8bjsrK3Ipe3ZhciBzPWlbcl0uZGF0YUxpc3QubGVuZ3RoO3M+byYmKG89cyxhPXIpfWZvcih2YXIgbD0wO2w8bjsrK2wpaWYobCE9PWEpZm9yKHZhciB1PWlbbF0ubmFtZSxoPTA7aDxvOysraCl7Zm9yKHZhciBjPWlbYV0uZGF0YUxpc3RbaF1bMF0sZD1pW2xdLmRhdGFMaXN0Lmxlbmd0aCxwPS0xLGc9MDtnPGQ7KytnKWlmKGlbbF0uZGF0YUxpc3RbZ11bMF09PT1jKXtwPWc7YnJlYWt9LTE9PT1wJiYodFtlXT1bXSx0W2VdWzBdPWMsdFtlXVsxXT0wLHRbZV1bMl09dSxlKyspfXJldHVybiB0fSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1lLnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6InNpbmdsZUF4aXMiLGluZGV4OnRoaXMuZ2V0KCJzaW5nbGVBeGlzSW5kZXgiKSxpZDp0aGlzLmdldCgic2luZ2xlQXhpc0lkIil9KVswXS5nZXQoInR5cGUiKSxuPWcodC5kYXRhLGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10WzJdfSksbz10aGlzLmZpeERhdGEobnx8W10pLGE9W10scj10aGlzLm5hbWVNYXA9UigpLHM9MCxsPTA7bDxvLmxlbmd0aDsrK2wpYS5wdXNoKG9bbF1bMl0pLHIuZ2V0KG9bbF1bMl0pfHwoci5zZXQob1tsXVsyXSxzKSxzKyspO3ZhciB1PXVUKG8se2Nvb3JkRGltZW5zaW9uczpbInNpbmdsZSJdLGRpbWVuc2lvbnNEZWZpbmU6W3tuYW1lOiJ0aW1lIix0eXBlOlRzKGkpfSx7bmFtZToidmFsdWUiLHR5cGU6ImZsb2F0In0se25hbWU6Im5hbWUiLHR5cGU6Im9yZGluYWwifV0sZW5jb2RlRGVmaW5lOntzaW5nbGU6MCx2YWx1ZToxLGl0ZW1OYW1lOjJ9fSksaD1uZXcgclQodSx0aGlzKTtyZXR1cm4gaC5pbml0RGF0YShvKSxofSxnZXRMYXllclNlcmllczpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmdldERhdGEoKSxlPXQuY291bnQoKSxpPVtdLG49MDtuPGU7KytuKWlbbl09bjtmb3IodmFyIG89ZigkZigpLmtleShmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXQoIm5hbWUiLGUpfSkuZW50cmllcyhpKSxmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0LmtleSxpbmRpY2VzOnQudmFsdWVzfX0pLGE9dC5tYXBEaW1lbnNpb24oInNpbmdsZSIpLHI9MDtyPG8ubGVuZ3RoOysrcilvW3JdLmluZGljZXMuc29ydChmdW5jdGlvbihlLGkpe3JldHVybiB0LmdldChhLGUpLXQuZ2V0KGEsaSl9KTtyZXR1cm4gb30sZ2V0QXhpc1Rvb2x0aXBEYXRhOmZ1bmN0aW9uKHQsZSxpKXt5KHQpfHwodD10P1t0XTpbXSk7Zm9yKHZhciBuLG89dGhpcy5nZXREYXRhKCksYT10aGlzLmdldExheWVyU2VyaWVzKCkscj1bXSxzPWEubGVuZ3RoLGw9MDtsPHM7KytsKXtmb3IodmFyIHU9TnVtYmVyLk1BWF9WQUxVRSxoPS0xLGM9YVtsXS5pbmRpY2VzLmxlbmd0aCxkPTA7ZDxjOysrZCl7dmFyIGY9by5nZXQodFswXSxhW2xdLmluZGljZXNbZF0pLHA9TWF0aC5hYnMoZi1lKTtwPD11JiYobj1mLHU9cCxoPWFbbF0uaW5kaWNlc1tkXSl9ci5wdXNoKGgpfXJldHVybntkYXRhSW5kaWNlczpyLG5lc3Rlc3RWYWx1ZTpufX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPWUuZ2V0TmFtZSh0KSxuPWUuZ2V0KGUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHQpO3JldHVybihpc05hTihuKXx8bnVsbD09bikmJihuPSItIiksWm8oaSsiIDogIituKX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InNpbmdsZUF4aXMiLGJvdW5kYXJ5R2FwOlsiMTAlIiwiMTAlIl0sc2luZ2xlQXhpc0luZGV4OjAsYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLGxhYmVsOnttYXJnaW46NCxzaG93OiEwLHBvc2l0aW9uOiJsZWZ0Iixjb2xvcjoiIzAwMCIsZm9udFNpemU6MTF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH19fX0pO19zKHt0eXBlOiJ0aGVtZVJpdmVyIixpbml0OmZ1bmN0aW9uKCl7dGhpcy5fbGF5ZXJzPVtdfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQubmFtZX1mdW5jdGlvbiBvKGUsaSxuKXt2YXIgbz10aGlzLl9sYXllcnM7aWYoInJlbW92ZSIhPT1lKXtmb3IodmFyIHUsaD1bXSxjPVtdLGY9bFtpXS5pbmRpY2VzLHA9MDtwPGYubGVuZ3RoO3ArKyl7dmFyIGc9ci5nZXRJdGVtTGF5b3V0KGZbcF0pLG09Zy54LHY9Zy55MCx5PWcueTtoLnB1c2goW20sdl0pLGMucHVzaChbbSx2K3ldKSx1PXIuZ2V0SXRlbVZpc3VhbChmW3BdLCJjb2xvciIpfXZhciB4LF8sdz1yLmdldEl0ZW1MYXlvdXQoZlswXSksYj1yLmdldEl0ZW1Nb2RlbChmW3AtMV0pLFM9Yi5nZXRNb2RlbCgibGFiZWwiKSxNPVMuZ2V0KCJtYXJnaW4iKTtpZigiYWRkIj09PWUpe0k9ZFtpXT1uZXcgcnc7eD1uZXcgZkQoe3NoYXBlOntwb2ludHM6aCxzdGFja2VkT25Qb2ludHM6YyxzbW9vdGg6LjQsc3RhY2tlZE9uU21vb3RoOi40LHNtb290aENvbnN0cmFpbnQ6ITF9LHoyOjB9KSxfPW5ldyBkUyh7c3R5bGU6e3g6dy54LU0seTp3LnkwK3cueS8yfX0pLEkuYWRkKHgpLEkuYWRkKF8pLHMuYWRkKEkpLHguc2V0Q2xpcFBhdGgoSmcoeC5nZXRCb3VuZGluZ1JlY3QoKSx0LGZ1bmN0aW9uKCl7eC5yZW1vdmVDbGlwUGF0aCgpfSkpfWVsc2V7dmFyIEk9b1tuXTt4PUkuY2hpbGRBdCgwKSxfPUkuY2hpbGRBdCgxKSxzLmFkZChJKSxkW2ldPUksZm8oeCx7c2hhcGU6e3BvaW50czpoLHN0YWNrZWRPblBvaW50czpjfX0sdCksZm8oXyx7c3R5bGU6e3g6dy54LU0seTp3LnkwK3cueS8yfX0sdCl9dmFyIFQ9Yi5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIiksRD1iLmdldE1vZGVsKCJpdGVtU3R5bGUiKTtubyhfLnN0eWxlLFMse3RleHQ6Uy5nZXQoInNob3ciKT90LmdldEZvcm1hdHRlZExhYmVsKGZbcC0xXSwibm9ybWFsIil8fHIuZ2V0TmFtZShmW3AtMV0pOm51bGwsdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9KSx4LnNldFN0eWxlKGEoe2ZpbGw6dX0sRC5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSkpLGVvKHgsVC5nZXRJdGVtU3R5bGUoKSl9ZWxzZSBzLnJlbW92ZShvW2ldKX12YXIgcj10LmdldERhdGEoKSxzPXRoaXMuZ3JvdXAsbD10LmdldExheWVyU2VyaWVzKCksdT1yLmdldExheW91dCgibGF5b3V0SW5mbyIpLGg9dS5yZWN0LGM9dS5ib3VuZGFyeUdhcDtzLmF0dHIoInBvc2l0aW9uIixbMCxoLnkrY1swXV0pO3ZhciBkPXt9O25ldyBTcyh0aGlzLl9sYXllcnNTZXJpZXN8fFtdLGwsbixuKS5hZGQobShvLHRoaXMsImFkZCIpKS51cGRhdGUobShvLHRoaXMsInVwZGF0ZSIpKS5yZW1vdmUobShvLHRoaXMsInJlbW92ZSIpKS5leGVjdXRlKCksdGhpcy5fbGF5ZXJzU2VyaWVzPWwsdGhpcy5fbGF5ZXJzPWR9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fSk7ZnMoZnVuY3Rpb24odCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoInRoZW1lUml2ZXIiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLGk9dC5jb29yZGluYXRlU3lzdGVtLG49e30sbz1pLmdldFJlY3QoKTtuLnJlY3Q9bzt2YXIgYT10LmdldCgiYm91bmRhcnlHYXAiKSxyPWkuZ2V0QXhpcygpO24uYm91bmRhcnlHYXA9YSwiaG9yaXpvbnRhbCI9PT1yLm9yaWVudD8oYVswXT1EbyhhWzBdLG8uaGVpZ2h0KSxhWzFdPURvKGFbMV0sby5oZWlnaHQpLFFnKGUsdCxvLmhlaWdodC1hWzBdLWFbMV0pKTooYVswXT1EbyhhWzBdLG8ud2lkdGgpLGFbMV09RG8oYVsxXSxvLndpZHRoKSxRZyhlLHQsby53aWR0aC1hWzBdLWFbMV0pKSxlLnNldExheW91dCgibGF5b3V0SW5mbyIsbil9KX0pLHBzKGZ1bmN0aW9uKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgidGhlbWVSaXZlciIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT10LmdldFJhd0RhdGEoKSxuPXQuZ2V0KCJjb2xvciIpLG89UigpO2UuZWFjaChmdW5jdGlvbih0KXtvLnNldChlLmdldFJhd0luZGV4KHQpLHQpfSksaS5lYWNoKGZ1bmN0aW9uKGEpe3ZhciByPWkuZ2V0TmFtZShhKSxzPW5bKHQubmFtZU1hcC5nZXQociktMSklbi5sZW5ndGhdO2kuc2V0SXRlbVZpc3VhbChhLCJjb2xvciIscyk7dmFyIGw9by5nZXQoYSk7bnVsbCE9bCYmZS5zZXRJdGVtVmlzdWFsKGwsImNvbG9yIixzKX0pfSl9KSxocyhlQSgidGhlbWVSaXZlciIpKSxxTS5leHRlbmQoe3R5cGU6InNlcmllcy5zdW5idXJzdCIsX3ZpZXdSb290Om51bGwsZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT17bmFtZTp0Lm5hbWUsY2hpbGRyZW46dC5kYXRhfTtlbShpKTt2YXIgbj10LmxldmVsc3x8W10sbz17fTtyZXR1cm4gby5sZXZlbHM9bixlYy5jcmVhdGVUcmVlKGksdGhpcyxvKS5kYXRhfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKCl7dGhpcy5yZXNldFZpZXdSb290KCl9LGdldERhdGFQYXJhbXM6ZnVuY3Rpb24odCl7dmFyIGU9cU0ucHJvdG90eXBlLmdldERhdGFQYXJhbXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGk9dGhpcy5nZXREYXRhKCkudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgodCk7cmV0dXJuIGUudHJlZVBhdGhJbmZvPURjKGksdGhpcyksZX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNlbnRlcjpbIjUwJSIsIjUwJSJdLHJhZGl1czpbMCwiNzUlIl0sY2xvY2t3aXNlOiEwLHN0YXJ0QW5nbGU6OTAsbWluQW5nbGU6MCxwZXJjZW50UHJlY2lzaW9uOjIsc3RpbGxTaG93WmVyb1N1bTohMCxoaWdobGlnaHRQb2xpY3k6ImRlc2NlbmRhbnQiLG5vZGVDbGljazoicm9vdFRvTm9kZSIscmVuZGVyTGFiZWxGb3JaZXJvRGF0YTohMSxsYWJlbDp7cm90YXRlOiJyYWRpYWwiLHNob3c6ITAsb3BhY2l0eToxLGFsaWduOiJjZW50ZXIiLHBvc2l0aW9uOiJpbnNpZGUiLGRpc3RhbmNlOjUsc2lsZW50OiEwLGVtcGhhc2lzOnt9fSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6IndoaXRlIixvcGFjaXR5OjEsZW1waGFzaXM6e30saGlnaGxpZ2h0OntvcGFjaXR5OjF9LGRvd25wbGF5OntvcGFjaXR5Oi45fX0sYW5pbWF0aW9uVHlwZToiZXhwYW5zaW9uIixhbmltYXRpb25EdXJhdGlvbjoxZTMsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6NTAwLGFuaW1hdGlvbkVhc2luZzoiY3ViaWNPdXQiLGRhdGE6W10sbGV2ZWxzOltdLHNvcnQ6ImRlc2MifSxnZXRWaWV3Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3Um9vdH0scmVzZXRWaWV3Um9vdDpmdW5jdGlvbih0KXt0P3RoaXMuX3ZpZXdSb290PXQ6dD10aGlzLl92aWV3Um9vdDt2YXIgZT10aGlzLmdldFJhd0RhdGEoKS50cmVlLnJvb3Q7dCYmKHQ9PT1lfHxlLmNvbnRhaW5zKHQpKXx8KHRoaXMuX3ZpZXdSb290PWUpfX0pO3ZhciBkaz17Tk9ORToibm9uZSIsREVTQ0VOREFOVDoiZGVzY2VuZGFudCIsQU5DRVNUT1I6ImFuY2VzdG9yIixTRUxGOiJzZWxmIn0sZms9Mixwaz00LGdrPWltLnByb3RvdHlwZTtnay51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxpLG8scyl7dGhpcy5ub2RlPWUsZS5waWVjZT10aGlzLG89b3x8dGhpcy5fc2VyaWVzTW9kZWwscz1zfHx0aGlzLl9lY01vZGVsO3ZhciBsPXRoaXMuY2hpbGRBdCgwKTtsLmRhdGFJbmRleD1lLmRhdGFJbmRleDt2YXIgdT1lLmdldE1vZGVsKCksaD1lLmdldExheW91dCgpO2h8fGNvbnNvbGUubG9nKGUuZ2V0TGF5b3V0KCkpO3ZhciBjPWEoe30saCk7Yy5sYWJlbD1udWxsO3ZhciBkLGY9bm0oZSwwLHMpLHA9dS5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCk7ZD1yKHtsaW5lSm9pbjoiYmV2ZWwiLGZpbGw6KGQ9Im5vcm1hbCI9PT1pP3A6bih1LmdldE1vZGVsKGkrIi5pdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxwKSkuZmlsbHx8Zn0sZCksdD8obC5zZXRTaGFwZShjKSxsLnNoYXBlLnI9aC5yMCxmbyhsLHtzaGFwZTp7cjpoLnJ9fSxvLGUuZGF0YUluZGV4KSxsLnVzZVN0eWxlKGQpKToib2JqZWN0Ij09dHlwZW9mIGQuZmlsbCYmZC5maWxsLnR5cGV8fCJvYmplY3QiPT10eXBlb2YgbC5zdHlsZS5maWxsJiZsLnN0eWxlLmZpbGwudHlwZT8oZm8obCx7c2hhcGU6Y30sbyksbC51c2VTdHlsZShkKSk6Zm8obCx7c2hhcGU6YyxzdHlsZTpkfSxvKSx0aGlzLl91cGRhdGVMYWJlbChvLGYsaSk7dmFyIGc9dS5nZXRTaGFsbG93KCJjdXJzb3IiKTtpZihnJiZsLmF0dHIoImN1cnNvciIsZyksdCl7dmFyIG09by5nZXRTaGFsbG93KCJoaWdobGlnaHRQb2xpY3kiKTt0aGlzLl9pbml0RXZlbnRzKGwsZSxvLG0pfXRoaXMuX3Nlcmllc01vZGVsPW98fHRoaXMuX3Nlcmllc01vZGVsLHRoaXMuX2VjTW9kZWw9c3x8dGhpcy5fZWNNb2RlbH0sZ2sub25FbXBoYXNpcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMubm9kZS5ob3N0VHJlZS5yb290LmVhY2hOb2RlKGZ1bmN0aW9uKGkpe2kucGllY2UmJihlLm5vZGU9PT1pP2kucGllY2UudXBkYXRlRGF0YSghMSxpLCJlbXBoYXNpcyIpOmFtKGksZS5ub2RlLHQpP2kucGllY2UuY2hpbGRBdCgwKS50cmlnZ2VyKCJoaWdobGlnaHQiKTp0IT09ZGsuTk9ORSYmaS5waWVjZS5jaGlsZEF0KDApLnRyaWdnZXIoImRvd25wbGF5IikpfSl9LGdrLm9uTm9ybWFsPWZ1bmN0aW9uKCl7dGhpcy5ub2RlLmhvc3RUcmVlLnJvb3QuZWFjaE5vZGUoZnVuY3Rpb24odCl7dC5waWVjZSYmdC5waWVjZS51cGRhdGVEYXRhKCExLHQsIm5vcm1hbCIpfSl9LGdrLm9uSGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVEYXRhKCExLHRoaXMubm9kZSwiaGlnaGxpZ2h0Iil9LGdrLm9uRG93bnBsYXk9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZURhdGEoITEsdGhpcy5ub2RlLCJkb3ducGxheSIpfSxnay5fdXBkYXRlTGFiZWw9ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7dmFyIGU9ci5nZXQodCk7cmV0dXJuIG51bGw9PWU/YS5nZXQodCk6ZX12YXIgbz10aGlzLm5vZGUuZ2V0TW9kZWwoKSxhPW8uZ2V0TW9kZWwoImxhYmVsIikscj0ibm9ybWFsIj09PWl8fCJlbXBoYXNpcyI9PT1pP2E6by5nZXRNb2RlbChpKyIubGFiZWwiKSxzPW8uZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIiksbD1UKHQuZ2V0Rm9ybWF0dGVkTGFiZWwodGhpcy5ub2RlLmRhdGFJbmRleCwibm9ybWFsIixudWxsLG51bGwsImxhYmVsIiksdGhpcy5ub2RlLm5hbWUpOyExPT09bigic2hvdyIpJiYobD0iIik7dmFyIHU9dGhpcy5ub2RlLmdldExheW91dCgpLGg9ci5nZXQoIm1pbkFuZ2xlIik7bnVsbD09aCYmKGg9YS5nZXQoIm1pbkFuZ2xlIikpLGg9aC8xODAqTWF0aC5QSTt2YXIgYz11LmVuZEFuZ2xlLXUuc3RhcnRBbmdsZTtudWxsIT1oJiZNYXRoLmFicyhjKTxoJiYobD0iIik7dmFyIGQ9dGhpcy5jaGlsZEF0KDEpO2lvKGQuc3R5bGUsZC5ob3ZlclN0eWxlfHx7fSxhLHMse2RlZmF1bHRUZXh0OnIuZ2V0U2hhbGxvdygic2hvdyIpP2w6bnVsbCxhdXRvQ29sb3I6ZSx1c2VJbnNpZGVTdHlsZTohMH0pO3ZhciBmLHA9KHUuc3RhcnRBbmdsZSt1LmVuZEFuZ2xlKS8yLGc9TWF0aC5jb3MocCksbT1NYXRoLnNpbihwKSx2PW4oInBvc2l0aW9uIikseT1uKCJkaXN0YW5jZSIpfHwwLHg9bigiYWxpZ24iKTsib3V0c2lkZSI9PT12PyhmPXUucit5LHg9cD5NYXRoLlBJLzI/InJpZ2h0IjoibGVmdCIpOngmJiJjZW50ZXIiIT09eD8ibGVmdCI9PT14PyhmPXUucjAreSxwPk1hdGguUEkvMiYmKHg9InJpZ2h0IikpOiJyaWdodCI9PT14JiYoZj11LnIteSxwPk1hdGguUEkvMiYmKHg9ImxlZnQiKSk6KGY9KHUucit1LnIwKS8yLHg9ImNlbnRlciIpLGQuYXR0cigic3R5bGUiLHt0ZXh0OmwsdGV4dEFsaWduOngsdGV4dFZlcnRpY2FsQWxpZ246bigidmVydGljYWxBbGlnbiIpfHwibWlkZGxlIixvcGFjaXR5Om4oIm9wYWNpdHkiKX0pO3ZhciBfPWYqZyt1LmN4LHc9ZiptK3UuY3k7ZC5hdHRyKCJwb3NpdGlvbiIsW18sd10pO3ZhciBiPW4oInJvdGF0ZSIpLFM9MDsicmFkaWFsIj09PWI/KFM9LXApPC1NYXRoLlBJLzImJihTKz1NYXRoLlBJKToidGFuZ2VudGlhbCI9PT1iPyhTPU1hdGguUEkvMi1wKT5NYXRoLlBJLzI/Uy09TWF0aC5QSTpTPC1NYXRoLlBJLzImJihTKz1NYXRoLlBJKToibnVtYmVyIj09dHlwZW9mIGImJihTPWIqTWF0aC5QSS8xODApLGQuYXR0cigicm90YXRpb24iLFMpfSxnay5faW5pdEV2ZW50cz1mdW5jdGlvbih0LGUsaSxuKXt0Lm9mZigibW91c2VvdmVyIikub2ZmKCJtb3VzZW91dCIpLm9mZigiZW1waGFzaXMiKS5vZmYoIm5vcm1hbCIpO3ZhciBvPXRoaXMsYT1mdW5jdGlvbigpe28ub25FbXBoYXNpcyhuKX0scj1mdW5jdGlvbigpe28ub25Ob3JtYWwoKX07aS5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmdC5vbigibW91c2VvdmVyIixhKS5vbigibW91c2VvdXQiLHIpLm9uKCJlbXBoYXNpcyIsYSkub24oIm5vcm1hbCIscikub24oImRvd25wbGF5IixmdW5jdGlvbigpe28ub25Eb3ducGxheSgpfSkub24oImhpZ2hsaWdodCIsZnVuY3Rpb24oKXtvLm9uSGlnaGxpZ2h0KCl9KX0sdShpbSxydyk7Z3IuZXh0ZW5kKHt0eXBlOiJzdW5idXJzdCIsaW5pdDpmdW5jdGlvbigpe30scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2Z1bmN0aW9uIG8oaSxuKXtpZihjfHwhaXx8aS5nZXRWYWx1ZSgpfHwoaT1udWxsKSxpIT09bCYmbiE9PWwpaWYobiYmbi5waWVjZSlpPyhuLnBpZWNlLnVwZGF0ZURhdGEoITEsaSwibm9ybWFsIix0LGUpLHMuc2V0SXRlbUdyYXBoaWNFbChpLmRhdGFJbmRleCxuLnBpZWNlKSk6YShuKTtlbHNlIGlmKGkpe3ZhciBvPW5ldyBpbShpLHQsZSk7aC5hZGQobykscy5zZXRJdGVtR3JhcGhpY0VsKGkuZGF0YUluZGV4LG8pfX1mdW5jdGlvbiBhKHQpe3QmJnQucGllY2UmJihoLnJlbW92ZSh0LnBpZWNlKSx0LnBpZWNlPW51bGwpfXZhciByPXRoaXM7dGhpcy5zZXJpZXNNb2RlbD10LHRoaXMuYXBpPWksdGhpcy5lY01vZGVsPWU7dmFyIHM9dC5nZXREYXRhKCksbD1zLnRyZWUucm9vdCx1PXQuZ2V0Vmlld1Jvb3QoKSxoPXRoaXMuZ3JvdXAsYz10LmdldCgicmVuZGVyTGFiZWxGb3JaZXJvRGF0YSIpLGQ9W107dS5lYWNoTm9kZShmdW5jdGlvbih0KXtkLnB1c2godCl9KTt2YXIgZj10aGlzLl9vbGRDaGlsZHJlbnx8W107aWYoZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0LmdldElkKCl9ZnVuY3Rpb24gbihpLG4pe28obnVsbD09aT9udWxsOnRbaV0sbnVsbD09bj9udWxsOmVbbl0pfTA9PT10Lmxlbmd0aCYmMD09PWUubGVuZ3RofHxuZXcgU3MoZSx0LGksaSkuYWRkKG4pLnVwZGF0ZShuKS5yZW1vdmUodihuLG51bGwpKS5leGVjdXRlKCl9KGQsZiksZnVuY3Rpb24oaSxuKXtpZihuLmRlcHRoPjApe3IudmlydHVhbFBpZWNlP3IudmlydHVhbFBpZWNlLnVwZGF0ZURhdGEoITEsaSwibm9ybWFsIix0LGUpOihyLnZpcnR1YWxQaWVjZT1uZXcgaW0oaSx0LGUpLGguYWRkKHIudmlydHVhbFBpZWNlKSksbi5waWVjZS5fb25jbGlja0V2ZW50JiZuLnBpZWNlLm9mZigiY2xpY2siLG4ucGllY2UuX29uY2xpY2tFdmVudCk7dmFyIG89ZnVuY3Rpb24odCl7ci5fcm9vdFRvTm9kZShuLnBhcmVudE5vZGUpfTtuLnBpZWNlLl9vbmNsaWNrRXZlbnQ9byxyLnZpcnR1YWxQaWVjZS5vbigiY2xpY2siLG8pfWVsc2Ugci52aXJ0dWFsUGllY2UmJihoLnJlbW92ZShyLnZpcnR1YWxQaWVjZSksci52aXJ0dWFsUGllY2U9bnVsbCl9KGwsdSksbiYmbi5oaWdobGlnaHQmJm4uaGlnaGxpZ2h0LnBpZWNlKXt2YXIgcD10LmdldFNoYWxsb3coImhpZ2hsaWdodFBvbGljeSIpO24uaGlnaGxpZ2h0LnBpZWNlLm9uRW1waGFzaXMocCl9ZWxzZSBpZihuJiZuLnVuaGlnaGxpZ2h0KXt2YXIgZz10aGlzLnZpcnR1YWxQaWVjZTshZyYmbC5jaGlsZHJlbi5sZW5ndGgmJihnPWwuY2hpbGRyZW5bMF0ucGllY2UpLGcmJmcub25Ob3JtYWwoKX10aGlzLl9pbml0RXZlbnRzKCksdGhpcy5fb2xkQ2hpbGRyZW49ZH0sZGlzcG9zZTpmdW5jdGlvbigpe30sX2luaXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9ZnVuY3Rpb24oZSl7dmFyIGk9ITE7dC5zZXJpZXNNb2RlbC5nZXRWaWV3Um9vdCgpLmVhY2hOb2RlKGZ1bmN0aW9uKG4pe2lmKCFpJiZuLnBpZWNlJiZuLnBpZWNlLmNoaWxkQXQoMCk9PT1lLnRhcmdldCl7dmFyIG89bi5nZXRNb2RlbCgpLmdldCgibm9kZUNsaWNrIik7aWYoInJvb3RUb05vZGUiPT09byl0Ll9yb290VG9Ob2RlKG4pO2Vsc2UgaWYoImxpbmsiPT09byl7dmFyIGE9bi5nZXRNb2RlbCgpLHI9YS5nZXQoImxpbmsiKTtpZihyKXt2YXIgcz1hLmdldCgidGFyZ2V0IiwhMCl8fCJfYmxhbmsiO3dpbmRvdy5vcGVuKHIscyl9fWk9ITB9fSl9O3RoaXMuZ3JvdXAuX29uY2xpY2tFdmVudCYmdGhpcy5ncm91cC5vZmYoImNsaWNrIix0aGlzLmdyb3VwLl9vbmNsaWNrRXZlbnQpLHRoaXMuZ3JvdXAub24oImNsaWNrIixlKSx0aGlzLmdyb3VwLl9vbmNsaWNrRXZlbnQ9ZX0sX3Jvb3RUb05vZGU6ZnVuY3Rpb24odCl7dCE9PXRoaXMuc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKSYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InN1bmJ1cnN0Um9vdFRvTm9kZSIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHRhcmdldE5vZGU6dH0pfSxjb250YWluUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmdldERhdGEoKS5nZXRJdGVtTGF5b3V0KDApO2lmKGkpe3ZhciBuPXRbMF0taS5jeCxvPXRbMV0taS5jeSxhPU1hdGguc3FydChuKm4rbypvKTtyZXR1cm4gYTw9aS5yJiZhPj1pLnIwfX19KTt2YXIgbWs9InN1bmJ1cnN0Um9vdFRvTm9kZSI7Y3Moe3R5cGU6bWssdXBkYXRlOiJ1cGRhdGVWaWV3In0sZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InN1bmJ1cnN0IixxdWVyeTp0fSxmdW5jdGlvbihlLGkpe3ZhciBuPU1jKHQsW21rXSxlKTtpZihuKXt2YXIgbz1lLmdldFZpZXdSb290KCk7byYmKHQuZGlyZWN0aW9uPVRjKG8sbi5ub2RlKT8icm9sbFVwIjoiZHJpbGxEb3duIiksZS5yZXNldFZpZXdSb290KG4ubm9kZSl9fSl9KTt2YXIgdms9InN1bmJ1cnN0SGlnaGxpZ2h0Ijtjcyh7dHlwZTp2ayx1cGRhdGU6InVwZGF0ZVZpZXcifSxmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToic3VuYnVyc3QiLHF1ZXJ5OnR9LGZ1bmN0aW9uKGUsaSl7dmFyIG49TWModCxbdmtdLGUpO24mJih0LmhpZ2hsaWdodD1uLm5vZGUpfSl9KTtjcyh7dHlwZToic3VuYnVyc3RVbmhpZ2hsaWdodCIsdXBkYXRlOiJ1cGRhdGVWaWV3In0sZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InN1bmJ1cnN0IixxdWVyeTp0fSxmdW5jdGlvbihlLGkpe3QudW5oaWdobGlnaHQ9ITB9KX0pO3ZhciB5az1NYXRoLlBJLzE4MDtwcyh2KCRELCJzdW5idXJzdCIpKSxmcyh2KGZ1bmN0aW9uKHQsZSxpLG4pe2UuZWFjaFNlcmllc0J5VHlwZSh0LGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJjZW50ZXIiKSxuPXQuZ2V0KCJyYWRpdXMiKTt5KG4pfHwobj1bMCxuXSkseShlKXx8KGU9W2UsZV0pO3ZhciBvPWkuZ2V0V2lkdGgoKSxhPWkuZ2V0SGVpZ2h0KCkscj1NYXRoLm1pbihvLGEpLHM9RG8oZVswXSxvKSxsPURvKGVbMV0sYSksdT1EbyhuWzBdLHIvMiksaD1EbyhuWzFdLHIvMiksYz0tdC5nZXQoInN0YXJ0QW5nbGUiKSp5ayxmPXQuZ2V0KCJtaW5BbmdsZSIpKnlrLHA9dC5nZXREYXRhKCkudHJlZS5yb290LGc9dC5nZXRWaWV3Um9vdCgpLG09Zy5kZXB0aCx2PXQuZ2V0KCJzb3J0Iik7bnVsbCE9diYmcm0oZyx2KTt2YXIgeD0wO2QoZy5jaGlsZHJlbixmdW5jdGlvbih0KXshaXNOYU4odC5nZXRWYWx1ZSgpKSYmeCsrfSk7dmFyIF89Zy5nZXRWYWx1ZSgpLHc9TWF0aC5QSS8oX3x8eCkqMixiPWcuZGVwdGg+MCxTPWcuaGVpZ2h0LShiPy0xOjEpLE09KGgtdSkvKFN8fDEpLEk9dC5nZXQoImNsb2Nrd2lzZSIpLFQ9dC5nZXQoInN0aWxsU2hvd1plcm9TdW0iKSxEPUk/MTotMSxBPWZ1bmN0aW9uKHQsZSl7aWYodCl7dmFyIGk9ZTtpZih0IT09cCl7dmFyIG49dC5nZXRWYWx1ZSgpLG89MD09PV8mJlQ/dzpuKnc7bzxmJiYobz1mKSxpPWUrRCpvO3ZhciBhPXQuZGVwdGgtbS0oYj8tMToxKSxoPXUrTSphLGM9dStNKihhKzEpLGc9dC5nZXRNb2RlbCgpO251bGwhPWcuZ2V0KCJyMCIpJiYoaD1EbyhnLmdldCgicjAiKSxyLzIpKSxudWxsIT1nLmdldCgiciIpJiYoYz1EbyhnLmdldCgiciIpLHIvMikpLHQuc2V0TGF5b3V0KHthbmdsZTpvLHN0YXJ0QW5nbGU6ZSxlbmRBbmdsZTppLGNsb2Nrd2lzZTpJLGN4OnMsY3k6bCxyMDpoLHI6Y30pfWlmKHQuY2hpbGRyZW4mJnQuY2hpbGRyZW4ubGVuZ3RoKXt2YXIgdj0wO2QodC5jaGlsZHJlbixmdW5jdGlvbih0KXt2Kz1BKHQsZSt2KX0pfXJldHVybiBpLWV9fTtpZihiKXt2YXIgQz11LEw9dStNLGs9MipNYXRoLlBJO3Auc2V0TGF5b3V0KHthbmdsZTprLHN0YXJ0QW5nbGU6YyxlbmRBbmdsZTpjK2ssY2xvY2t3aXNlOkksY3g6cyxjeTpsLHIwOkMscjpMfSl9QShnLGMpfSl9LCJzdW5idXJzdCIpKSxocyh2KGVBLCJzdW5idXJzdCIpKTt2YXIgeGs9WyJpdGVtU3R5bGUiXSxfaz1bImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0sd2s9WyJsYWJlbCJdLGJrPVsiZW1waGFzaXMiLCJsYWJlbCJdLFNrPSJlXDBcMCIsTWs9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ3JpZC5nZXRSZWN0KCk7cmV0dXJue2Nvb3JkU3lzOnt0eXBlOiJjYXJ0ZXNpYW4yZCIseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9LGFwaTp7Y29vcmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVRvUG9pbnQoZSl9LHNpemU6bShsbSx0KX19fSxnZW86ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm57Y29vcmRTeXM6e3R5cGU6ImdlbyIseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9LGFwaTp7Y29vcmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVRvUG9pbnQoZSl9LHNpemU6bSh1bSx0KX19fSxzaW5nbGVBeGlzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmVjdCgpO3JldHVybntjb29yZFN5czp7dHlwZToic2luZ2xlQXhpcyIseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9LGFwaTp7Y29vcmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVRvUG9pbnQoZSl9LHNpemU6bShobSx0KX19fSxwb2xhcjpmdW5jdGlvbih0KXt2YXIgZT10LmdldFJhZGl1c0F4aXMoKSxpPXQuZ2V0QW5nbGVBeGlzKCksbj1lLmdldEV4dGVudCgpO3JldHVybiBuWzBdPm5bMV0mJm4ucmV2ZXJzZSgpLHtjb29yZFN5czp7dHlwZToicG9sYXIiLGN4OnQuY3gsY3k6dC5jeSxyOm5bMV0scjA6blswXX0sYXBpOntjb29yZDptKGZ1bmN0aW9uKG4pe3ZhciBvPWUuZGF0YVRvUmFkaXVzKG5bMF0pLGE9aS5kYXRhVG9BbmdsZShuWzFdKSxyPXQuY29vcmRUb1BvaW50KFtvLGFdKTtyZXR1cm4gci5wdXNoKG8sYSpNYXRoLlBJLzE4MCkscn0pLHNpemU6bShjbSx0KX19fSxjYWxlbmRhcjpmdW5jdGlvbih0KXt2YXIgZT10LmdldFJlY3QoKSxpPXQuZ2V0UmFuZ2VJbmZvKCk7cmV0dXJue2Nvb3JkU3lzOnt0eXBlOiJjYWxlbmRhciIseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY2VsbFdpZHRoOnQuZ2V0Q2VsbFdpZHRoKCksY2VsbEhlaWdodDp0LmdldENlbGxIZWlnaHQoKSxyYW5nZUluZm86e3N0YXJ0Omkuc3RhcnQsZW5kOmkuZW5kLHdlZWtzOmkud2Vla3MsZGF5Q291bnQ6aS5hbGxEYXl9fSxhcGk6e2Nvb3JkOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuZGF0YVRvUG9pbnQoZSxpKX19fX19O3hzKHt0eXBlOiJzZXJpZXMuY3VzdG9tIixkZXBlbmRlbmNpZXM6WyJncmlkIiwicG9sYXIiLCJnZW8iLCJzaW5nbGVBeGlzIiwiY2FsZW5kYXIiXSxkZWZhdWx0T3B0aW9uOntjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsemxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMH0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gVXModGhpcy5nZXRTb3VyY2UoKSx0aGlzKX19KSxfcyh7dHlwZToiY3VzdG9tIixfZGF0YTpudWxsLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZGF0YSxvPXQuZ2V0RGF0YSgpLGE9dGhpcy5ncm91cCxyPWdtKHQsbyxlLGkpO3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksby5kaWZmKG4pLmFkZChmdW5jdGlvbihlKXt2bShudWxsLGUscihlKSx0LGEsbyl9KS51cGRhdGUoZnVuY3Rpb24oZSxpKXt2bShuLmdldEl0ZW1HcmFwaGljRWwoaSksZSxyKGUpLHQsYSxvKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT1uLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmYS5yZW1vdmUoZSl9KS5leGVjdXRlKCksdGhpcy5fZGF0YT1vfSxpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxpbmNyZW1lbnRhbFJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtmb3IodmFyIG89ZS5nZXREYXRhKCksYT1nbShlLG8saSxuKSxyPXQuc3RhcnQ7cjx0LmVuZDtyKyspdm0obnVsbCxyLGEociksZSx0aGlzLmdyb3VwLG8pLnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3QuaXNHcm91cHx8KHQuaW5jcmVtZW50YWw9ITAsdC51c2VIb3ZlckxheWVyPSEwKX0pfSxkaXNwb3NlOkJ9KSx1cyhmdW5jdGlvbih0KXt2YXIgZT10LmdyYXBoaWM7eShlKT9lWzBdJiZlWzBdLmVsZW1lbnRzP3QuZ3JhcGhpYz1bdC5ncmFwaGljWzBdXTp0LmdyYXBoaWM9W3tlbGVtZW50czplfV06ZSYmIWUuZWxlbWVudHMmJih0LmdyYXBoaWM9W3tlbGVtZW50czpbZV19XSl9KTt2YXIgSWs9dnMoe3R5cGU6ImdyYXBoaWMiLGRlZmF1bHRPcHRpb246e2VsZW1lbnRzOltdLHBhcmVudElkOm51bGx9LF9lbE9wdGlvbnNUb1VwZGF0ZTpudWxsLG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmVsZW1lbnRzO3RoaXMub3B0aW9uLmVsZW1lbnRzPW51bGwsSWsuc3VwZXJBcHBseSh0aGlzLCJtZXJnZU9wdGlvbiIsYXJndW1lbnRzKSx0aGlzLm9wdGlvbi5lbGVtZW50cz1lfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5vcHRpb24sbj0oZT9pOnQpLmVsZW1lbnRzLG89aS5lbGVtZW50cz1lP1tdOmkuZWxlbWVudHMsYT1bXTt0aGlzLl9mbGF0dGVuKG4sYSk7dmFyIHI9RGkobyxhKTtBaShyKTt2YXIgcz10aGlzLl9lbE9wdGlvbnNUb1VwZGF0ZT1bXTtkKHIsZnVuY3Rpb24odCxlKXt2YXIgaT10Lm9wdGlvbjtpJiYocy5wdXNoKGkpLERtKHQsaSksQW0obyxlLGkpLENtKG9bZV0saSkpfSx0aGlzKTtmb3IodmFyIGw9by5sZW5ndGgtMTtsPj0wO2wtLSludWxsPT1vW2xdP28uc3BsaWNlKGwsMSk6ZGVsZXRlIG9bbF0uJGFjdGlvbn0sX2ZsYXR0ZW46ZnVuY3Rpb24odCxlLGkpe2QodCxmdW5jdGlvbih0KXtpZih0KXtpJiYodC5wYXJlbnRPcHRpb249aSksZS5wdXNoKHQpO3ZhciBuPXQuY2hpbGRyZW47Imdyb3VwIj09PXQudHlwZSYmbiYmdGhpcy5fZmxhdHRlbihuLGUsdCksZGVsZXRlIHQuY2hpbGRyZW59fSx0aGlzKX0sdXNlRWxPcHRpb25zVG9VcGRhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9lbE9wdGlvbnNUb1VwZGF0ZTtyZXR1cm4gdGhpcy5fZWxPcHRpb25zVG9VcGRhdGU9bnVsbCx0fX0pO3lzKHt0eXBlOiJncmFwaGljIixpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5fZWxNYXA9UigpLHRoaXMuX2xhc3RHcmFwaGljTW9kZWx9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dCE9PXRoaXMuX2xhc3RHcmFwaGljTW9kZWwmJnRoaXMuX2NsZWFyKCksdGhpcy5fbGFzdEdyYXBoaWNNb2RlbD10LHRoaXMuX3VwZGF0ZUVsZW1lbnRzKHQsaSksdGhpcy5fcmVsb2NhdGUodCxpKX0sX3VwZGF0ZUVsZW1lbnRzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC51c2VFbE9wdGlvbnNUb1VwZGF0ZSgpO2lmKGkpe3ZhciBuPXRoaXMuX2VsTWFwLG89dGhpcy5ncm91cDtkKGksZnVuY3Rpb24odCl7dmFyIGU9dC4kYWN0aW9uLGk9dC5pZCxhPW4uZ2V0KGkpLHI9dC5wYXJlbnRJZCxzPW51bGwhPXI/bi5nZXQocik6bztpZigidGV4dCI9PT10LnR5cGUpe3ZhciBsPXQuc3R5bGU7dC5odiYmdC5odlsxXSYmKGwudGV4dFZlcnRpY2FsQWxpZ249bC50ZXh0QmFzZWxpbmU9bnVsbCksIWwuaGFzT3duUHJvcGVydHkoInRleHRGaWxsIikmJmwuZmlsbCYmKGwudGV4dEZpbGw9bC5maWxsKSwhbC5oYXNPd25Qcm9wZXJ0eSgidGV4dFN0cm9rZSIpJiZsLnN0cm9rZSYmKGwudGV4dFN0cm9rZT1sLnN0cm9rZSl9dmFyIHU9SW0odCk7ZSYmIm1lcmdlIiE9PWU/InJlcGxhY2UiPT09ZT8oTW0oYSxuKSxTbShpLHMsdSxuKSk6InJlbW92ZSI9PT1lJiZNbShhLG4pOmE/YS5hdHRyKHUpOlNtKGkscyx1LG4pO3ZhciBoPW4uZ2V0KGkpO2gmJihoLl9fZWNHcmFwaGljV2lkdGg9dC53aWR0aCxoLl9fZWNHcmFwaGljSGVpZ2h0PXQuaGVpZ2h0KX0pfX0sX3JlbG9jYXRlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQub3B0aW9uLmVsZW1lbnRzLG49dGhpcy5ncm91cCxvPXRoaXMuX2VsTWFwLGE9aS5sZW5ndGgtMTthPj0wO2EtLSl7dmFyIHI9aVthXSxzPW8uZ2V0KHIuaWQpO2lmKHMpe3ZhciBsPXMucGFyZW50O3RhKHMscixsPT09bj97d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfTp7d2lkdGg6bC5fX2VjR3JhcGhpY1dpZHRofHwwLGhlaWdodDpsLl9fZWNHcmFwaGljSGVpZ2h0fHwwfSxudWxsLHtodjpyLmh2LGJvdW5kaW5nTW9kZTpyLmJvdW5kaW5nfSl9fX0sX2NsZWFyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZWxNYXA7dC5lYWNoKGZ1bmN0aW9uKGUpe01tKGUsdCl9KSx0aGlzLl9lbE1hcD1SKCl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhcigpfX0pO3ZhciBUaz12cyh7dHlwZToibGVnZW5kLnBsYWluIixkZXBlbmRlbmNpZXM6WyJzZXJpZXMiXSxsYXlvdXRNb2RlOnt0eXBlOiJib3giLGlnbm9yZVNpemU6ITB9LGluaXQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxpKSx0LnNlbGVjdGVkPXQuc2VsZWN0ZWR8fHt9fSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXtUay5zdXBlckNhbGwodGhpcywibWVyZ2VPcHRpb24iLHQpfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlRGF0YSh0aGlzLmVjTW9kZWwpO3ZhciB0PXRoaXMuX2RhdGE7aWYodFswXSYmInNpbmdsZSI9PT10aGlzLmdldCgic2VsZWN0ZWRNb2RlIikpe2Zvcih2YXIgZT0hMSxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV0uZ2V0KCJuYW1lIik7aWYodGhpcy5pc1NlbGVjdGVkKG4pKXt0aGlzLnNlbGVjdChuKSxlPSEwO2JyZWFrfX0hZSYmdGhpcy5zZWxlY3QodFswXS5nZXQoIm5hbWUiKSl9fSxfdXBkYXRlRGF0YTpmdW5jdGlvbih0KXt2YXIgZT1bXSxpPVtdO3QuZWFjaFJhd1NlcmllcyhmdW5jdGlvbihuKXt2YXIgbz1uLm5hbWU7aS5wdXNoKG8pO3ZhciBhO2lmKG4ubGVnZW5kRGF0YVByb3ZpZGVyKXt2YXIgcj1uLmxlZ2VuZERhdGFQcm92aWRlcigpLHM9ci5tYXBBcnJheShyLmdldE5hbWUpO3QuaXNTZXJpZXNGaWx0ZXJlZChuKXx8KGk9aS5jb25jYXQocykpLHMubGVuZ3RoP2U9ZS5jb25jYXQocyk6YT0hMH1lbHNlIGE9ITA7YSYmQ2kobikmJmUucHVzaChuLm5hbWUpfSksdGhpcy5fYXZhaWxhYmxlTmFtZXM9aTt2YXIgbj1mKHRoaXMuZ2V0KCJkYXRhIil8fGUsZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyIhPXR5cGVvZiB0JiYibnVtYmVyIiE9dHlwZW9mIHR8fCh0PXtuYW1lOnR9KSxuZXcgd28odCx0aGlzLHRoaXMuZWNNb2RlbCl9LHRoaXMpO3RoaXMuX2RhdGE9bn0sZ2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxzZWxlY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7InNpbmdsZSI9PT10aGlzLmdldCgic2VsZWN0ZWRNb2RlIikmJmQodGhpcy5fZGF0YSxmdW5jdGlvbih0KXtlW3QuZ2V0KCJuYW1lIildPSExfSksZVt0XT0hMH0sdW5TZWxlY3Q6ZnVuY3Rpb24odCl7InNpbmdsZSIhPT10aGlzLmdldCgic2VsZWN0ZWRNb2RlIikmJih0aGlzLm9wdGlvbi5zZWxlY3RlZFt0XT0hMSl9LHRvZ2dsZVNlbGVjdGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnNlbGVjdGVkO2UuaGFzT3duUHJvcGVydHkodCl8fChlW3RdPSEwKSx0aGlzW2VbdF0/InVuU2VsZWN0Ijoic2VsZWN0Il0odCl9LGlzU2VsZWN0ZWQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7cmV0dXJuIShlLmhhc093blByb3BlcnR5KHQpJiYhZVt0XSkmJmwodGhpcy5fYXZhaWxhYmxlTmFtZXMsdCk+PTB9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6NCxzaG93OiEwLG9yaWVudDoiaG9yaXpvbnRhbCIsbGVmdDoiY2VudGVyIix0b3A6MCxhbGlnbjoiYXV0byIsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsYm9yZGVyUmFkaXVzOjAsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsaXRlbUdhcDoxMCxpdGVtV2lkdGg6MjUsaXRlbUhlaWdodDoxNCxpbmFjdGl2ZUNvbG9yOiIjY2NjIix0ZXh0U3R5bGU6e2NvbG9yOiIjMzMzIn0sc2VsZWN0ZWRNb2RlOiEwLHRvb2x0aXA6e3Nob3c6ITF9fX0pO2NzKCJsZWdlbmRUb2dnbGVTZWxlY3QiLCJsZWdlbmRzZWxlY3RjaGFuZ2VkIix2KExtLCJ0b2dnbGVTZWxlY3RlZCIpKSxjcygibGVnZW5kU2VsZWN0IiwibGVnZW5kc2VsZWN0ZWQiLHYoTG0sInNlbGVjdCIpKSxjcygibGVnZW5kVW5TZWxlY3QiLCJsZWdlbmR1bnNlbGVjdGVkIix2KExtLCJ1blNlbGVjdCIpKTt2YXIgRGs9dixBaz1kLENrPXJ3LExrPXlzKHt0eXBlOiJsZWdlbmQucGxhaW4iLG5ld2xpbmVEaXNhYmxlZDohMSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5ncm91cC5hZGQodGhpcy5fY29udGVudEdyb3VwPW5ldyBDayksdGhpcy5fYmFja2dyb3VuZEVsfSxnZXRDb250ZW50R3JvdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGVudEdyb3VwfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMucmVzZXRJbm5lcigpLHQuZ2V0KCJzaG93IiwhMCkpe3ZhciBuPXQuZ2V0KCJhbGlnbiIpO24mJiJhdXRvIiE9PW58fChuPSJyaWdodCI9PT10LmdldCgibGVmdCIpJiYidmVydGljYWwiPT09dC5nZXQoIm9yaWVudCIpPyJyaWdodCI6ImxlZnQiKSx0aGlzLnJlbmRlcklubmVyKG4sdCxlLGkpO3ZhciBvPXQuZ2V0Qm94TGF5b3V0UGFyYW1zKCksYT17d2lkdGg6aS5nZXRXaWR0aCgpLGhlaWdodDppLmdldEhlaWdodCgpfSxzPXQuZ2V0KCJwYWRkaW5nIiksbD1RbyhvLGEscyksdT10aGlzLmxheW91dElubmVyKHQsbixsKSxoPVFvKHIoe3dpZHRoOnUud2lkdGgsaGVpZ2h0OnUuaGVpZ2h0fSxvKSxhLHMpO3RoaXMuZ3JvdXAuYXR0cigicG9zaXRpb24iLFtoLngtdS54LGgueS11LnldKSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9iYWNrZ3JvdW5kRWw9UG0odSx0KSl9fSxyZXNldElubmVyOmZ1bmN0aW9uKCl7dGhpcy5nZXRDb250ZW50R3JvdXAoKS5yZW1vdmVBbGwoKSx0aGlzLl9iYWNrZ3JvdW5kRWwmJnRoaXMuZ3JvdXAucmVtb3ZlKHRoaXMuX2JhY2tncm91bmRFbCl9LHJlbmRlcklubmVyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuZ2V0Q29udGVudEdyb3VwKCksYT1SKCkscj1lLmdldCgic2VsZWN0ZWRNb2RlIikscz1bXTtpLmVhY2hSYXdTZXJpZXMoZnVuY3Rpb24odCl7IXQuZ2V0KCJsZWdlbmRIb3ZlckxpbmsiKSYmcy5wdXNoKHQuaWQpfSksQWsoZS5nZXREYXRhKCksZnVuY3Rpb24obCx1KXt2YXIgaD1sLmdldCgibmFtZSIpO2lmKHRoaXMubmV3bGluZURpc2FibGVkfHwiIiE9PWgmJiJcbiIhPT1oKXt2YXIgYz1pLmdldFNlcmllc0J5TmFtZShoKVswXTtpZighYS5nZXQoaCkpaWYoYyl7dmFyIGQ9Yy5nZXREYXRhKCksZj1kLmdldFZpc3VhbCgiY29sb3IiKTsiZnVuY3Rpb24iPT10eXBlb2YgZiYmKGY9ZihjLmdldERhdGFQYXJhbXMoMCkpKTt2YXIgcD1kLmdldFZpc3VhbCgibGVnZW5kU3ltYm9sIil8fCJyb3VuZFJlY3QiLGc9ZC5nZXRWaXN1YWwoInN5bWJvbCIpO3RoaXMuX2NyZWF0ZUl0ZW0oaCx1LGwsZSxwLGcsdCxmLHIpLm9uKCJjbGljayIsRGsoTm0saCxuKSkub24oIm1vdXNlb3ZlciIsRGsoT20sYyxudWxsLG4scykpLm9uKCJtb3VzZW91dCIsRGsoRW0sYyxudWxsLG4scykpLGEuc2V0KGgsITApfWVsc2UgaS5lYWNoUmF3U2VyaWVzKGZ1bmN0aW9uKGkpe2lmKCFhLmdldChoKSYmaS5sZWdlbmREYXRhUHJvdmlkZXIpe3ZhciBvPWkubGVnZW5kRGF0YVByb3ZpZGVyKCksYz1vLmluZGV4T2ZOYW1lKGgpO2lmKGM8MClyZXR1cm47dmFyIGQ9by5nZXRJdGVtVmlzdWFsKGMsImNvbG9yIik7dGhpcy5fY3JlYXRlSXRlbShoLHUsbCxlLCJyb3VuZFJlY3QiLG51bGwsdCxkLHIpLm9uKCJjbGljayIsRGsoTm0saCxuKSkub24oIm1vdXNlb3ZlciIsRGsoT20saSxoLG4scykpLm9uKCJtb3VzZW91dCIsRGsoRW0saSxoLG4scykpLGEuc2V0KGgsITApfX0sdGhpcyl9ZWxzZSBvLmFkZChuZXcgQ2soe25ld2xpbmU6ITB9KSl9LHRoaXMpfSxfY3JlYXRlSXRlbTpmdW5jdGlvbih0LGUsaSxuLG8scixzLGwsdSl7dmFyIGg9bi5nZXQoIml0ZW1XaWR0aCIpLGM9bi5nZXQoIml0ZW1IZWlnaHQiKSxkPW4uZ2V0KCJpbmFjdGl2ZUNvbG9yIiksZj1uLmdldCgic3ltYm9sS2VlcEFzcGVjdCIpLHA9bi5pc1NlbGVjdGVkKHQpLGc9bmV3IENrLG09aS5nZXRNb2RlbCgidGV4dFN0eWxlIiksdj1pLmdldCgiaWNvbiIpLHk9aS5nZXRNb2RlbCgidG9vbHRpcCIpLHg9eS5wYXJlbnRNb2RlbDtpZihvPXZ8fG8sZy5hZGQoSWwobywwLDAsaCxjLHA/bDpkLG51bGw9PWZ8fGYpKSwhdiYmciYmKHIhPT1vfHwibm9uZSI9PXIpKXt2YXIgXz0uOCpjOyJub25lIj09PXImJihyPSJjaXJjbGUiKSxnLmFkZChJbChyLChoLV8pLzIsKGMtXykvMixfLF8scD9sOmQsbnVsbD09Znx8ZikpfXZhciB3PSJsZWZ0Ij09PXM/aCs1Oi01LGI9cyxTPW4uZ2V0KCJmb3JtYXR0ZXIiKSxNPXQ7InN0cmluZyI9PXR5cGVvZiBTJiZTP009Uy5yZXBsYWNlKCJ7bmFtZX0iLG51bGwhPXQ/dDoiIik6ImZ1bmN0aW9uIj09dHlwZW9mIFMmJihNPVModCkpLGcuYWRkKG5ldyBkUyh7c3R5bGU6bm8oe30sbSx7dGV4dDpNLHg6dyx5OmMvMix0ZXh0RmlsbDpwP20uZ2V0VGV4dENvbG9yKCk6ZCx0ZXh0QWxpZ246Yix0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIn0pfSkpO3ZhciBJPW5ldyBiUyh7c2hhcGU6Zy5nZXRCb3VuZGluZ1JlY3QoKSxpbnZpc2libGU6ITAsdG9vbHRpcDp5LmdldCgic2hvdyIpP2Eoe2NvbnRlbnQ6dCxmb3JtYXR0ZXI6eC5nZXQoImZvcm1hdHRlciIsITApfHxmdW5jdGlvbigpe3JldHVybiB0fSxmb3JtYXR0ZXJQYXJhbXM6e2NvbXBvbmVudFR5cGU6ImxlZ2VuZCIsbGVnZW5kSW5kZXg6bi5jb21wb25lbnRJbmRleCxuYW1lOnQsJHZhcnM6WyJuYW1lIl19fSx5Lm9wdGlvbik6bnVsbH0pO3JldHVybiBnLmFkZChJKSxnLmVhY2hDaGlsZChmdW5jdGlvbih0KXt0LnNpbGVudD0hMH0pLEkuc2lsZW50PSF1LHRoaXMuZ2V0Q29udGVudEdyb3VwKCkuYWRkKGcpLGVvKGcpLGcuX19sZWdlbmREYXRhSW5kZXg9ZSxnfSxsYXlvdXRJbm5lcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5nZXRDb250ZW50R3JvdXAoKTtyTSh0LmdldCgib3JpZW50Iiksbix0LmdldCgiaXRlbUdhcCIpLGkud2lkdGgsaS5oZWlnaHQpO3ZhciBvPW4uZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuIG4uYXR0cigicG9zaXRpb24iLFstby54LC1vLnldKSx0aGlzLmdyb3VwLmdldEJvdW5kaW5nUmVjdCgpfX0pO2hzKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZmluZENvbXBvbmVudHMoe21haW5UeXBlOiJsZWdlbmQifSk7ZSYmZS5sZW5ndGgmJnQuZmlsdGVyU2VyaWVzKGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKCFlW2ldLmlzU2VsZWN0ZWQodC5uYW1lKSlyZXR1cm4hMTtyZXR1cm4hMH0pfSksdU0ucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKCJsZWdlbmQiLGZ1bmN0aW9uKCl7cmV0dXJuInBsYWluIn0pO3ZhciBraz1Uay5leHRlbmQoe3R5cGU6ImxlZ2VuZC5zY3JvbGwiLHNldFNjcm9sbERhdGFJbmRleDpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5zY3JvbGxEYXRhSW5kZXg9dH0sZGVmYXVsdE9wdGlvbjp7c2Nyb2xsRGF0YUluZGV4OjAscGFnZUJ1dHRvbkl0ZW1HYXA6NSxwYWdlQnV0dG9uR2FwOm51bGwscGFnZUJ1dHRvblBvc2l0aW9uOiJlbmQiLHBhZ2VGb3JtYXR0ZXI6IntjdXJyZW50fS97dG90YWx9IixwYWdlSWNvbnM6e2hvcml6b250YWw6WyJNMCwwTDEyLC0xMEwxMiwxMHoiLCJNMCwwTC0xMiwtMTBMLTEyLDEweiJdLHZlcnRpY2FsOlsiTTAsMEwyMCwwTDEwLC0yMHoiLCJNMCwwTDIwLDBMMTAsMjB6Il19LHBhZ2VJY29uQ29sb3I6IiMyZjQ1NTQiLHBhZ2VJY29uSW5hY3RpdmVDb2xvcjoiI2FhYSIscGFnZUljb25TaXplOjE1LHBhZ2VUZXh0U3R5bGU6e2NvbG9yOiIjMzMzIn0sYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6ODAwfSxpbml0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPW5hKHQpO2trLnN1cGVyQ2FsbCh0aGlzLCJpbml0Iix0LGUsaSxuKSxSbSh0aGlzLHQsbyl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQsZSl7a2suc3VwZXJDYWxsKHRoaXMsIm1lcmdlT3B0aW9uIix0LGUpLFJtKHRoaXMsdGhpcy5vcHRpb24sdCl9LGdldE9yaWVudDpmdW5jdGlvbigpe3JldHVybiJ2ZXJ0aWNhbCI9PT10aGlzLmdldCgib3JpZW50Iik/e2luZGV4OjEsbmFtZToidmVydGljYWwifTp7aW5kZXg6MCxuYW1lOiJob3Jpem9udGFsIn19fSksUGs9cncsTms9WyJ3aWR0aCIsImhlaWdodCJdLE9rPVsieCIsInkiXSxFaz1May5leHRlbmQoe3R5cGU6ImxlZ2VuZC5zY3JvbGwiLG5ld2xpbmVEaXNhYmxlZDohMCxpbml0OmZ1bmN0aW9uKCl7RWsuc3VwZXJDYWxsKHRoaXMsImluaXQiKSx0aGlzLl9jdXJyZW50SW5kZXg9MCx0aGlzLmdyb3VwLmFkZCh0aGlzLl9jb250YWluZXJHcm91cD1uZXcgUGspLHRoaXMuX2NvbnRhaW5lckdyb3VwLmFkZCh0aGlzLmdldENvbnRlbnRHcm91cCgpKSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9jb250cm9sbGVyR3JvdXA9bmV3IFBrKSx0aGlzLl9zaG93Q29udHJvbGxlcn0scmVzZXRJbm5lcjpmdW5jdGlvbigpe0VrLnN1cGVyQ2FsbCh0aGlzLCJyZXNldElubmVyIiksdGhpcy5fY29udHJvbGxlckdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2NvbnRhaW5lckdyb3VwLnJlbW92ZUNsaXBQYXRoKCksdGhpcy5fY29udGFpbmVyR3JvdXAuX19yZWN0U2l6ZT1udWxsfSxyZW5kZXJJbm5lcjpmdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBvKHQsaSl7dmFyIG89dCsiRGF0YUluZGV4IixsPV9vKGUuZ2V0KCJwYWdlSWNvbnMiLCEwKVtlLmdldE9yaWVudCgpLm5hbWVdW2ldLHtvbmNsaWNrOm0oYS5fcGFnZUdvLGEsbyxlLG4pfSx7eDotc1swXS8yLHk6LXNbMV0vMix3aWR0aDpzWzBdLGhlaWdodDpzWzFdfSk7bC5uYW1lPXQsci5hZGQobCl9dmFyIGE9dGhpcztFay5zdXBlckNhbGwodGhpcywicmVuZGVySW5uZXIiLHQsZSxpLG4pO3ZhciByPXRoaXMuX2NvbnRyb2xsZXJHcm91cCxzPWUuZ2V0KCJwYWdlSWNvblNpemUiLCEwKTt5KHMpfHwocz1bcyxzXSksbygicGFnZVByZXYiLDApO3ZhciBsPWUuZ2V0TW9kZWwoInBhZ2VUZXh0U3R5bGUiKTtyLmFkZChuZXcgZFMoe25hbWU6InBhZ2VUZXh0IixzdHlsZTp7dGV4dEZpbGw6bC5nZXRUZXh0Q29sb3IoKSxmb250OmwuZ2V0Rm9udCgpLHRleHRWZXJ0aWNhbEFsaWduOiJtaWRkbGUiLHRleHRBbGlnbjoiY2VudGVyIn0sc2lsZW50OiEwfSkpLG8oInBhZ2VOZXh0IiwxKX0sbGF5b3V0SW5uZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuZ2V0Q29udGVudEdyb3VwKCksbz10aGlzLl9jb250YWluZXJHcm91cCxhPXRoaXMuX2NvbnRyb2xsZXJHcm91cCxyPXQuZ2V0T3JpZW50KCkuaW5kZXgscz1Oa1tyXSxsPU5rWzEtcl0sdT1Pa1sxLXJdO3JNKHQuZ2V0KCJvcmllbnQiKSxuLHQuZ2V0KCJpdGVtR2FwIikscj9pLndpZHRoOm51bGwscj9udWxsOmkuaGVpZ2h0KSxyTSgiaG9yaXpvbnRhbCIsYSx0LmdldCgicGFnZUJ1dHRvbkl0ZW1HYXAiLCEwKSk7dmFyIGg9bi5nZXRCb3VuZGluZ1JlY3QoKSxjPWEuZ2V0Qm91bmRpbmdSZWN0KCksZD10aGlzLl9zaG93Q29udHJvbGxlcj1oW3NdPmlbc10sZj1bLWgueCwtaC55XTtmW3JdPW4ucG9zaXRpb25bcl07dmFyIHA9WzAsMF0sZz1bLWMueCwtYy55XSxtPUQodC5nZXQoInBhZ2VCdXR0b25HYXAiLCEwKSx0LmdldCgiaXRlbUdhcCIsITApKTtkJiYoImVuZCI9PT10LmdldCgicGFnZUJ1dHRvblBvc2l0aW9uIiwhMCk/Z1tyXSs9aVtzXS1jW3NdOnBbcl0rPWNbc10rbSksZ1sxLXJdKz1oW2xdLzItY1tsXS8yLG4uYXR0cigicG9zaXRpb24iLGYpLG8uYXR0cigicG9zaXRpb24iLHApLGEuYXR0cigicG9zaXRpb24iLGcpO3ZhciB2PXRoaXMuZ3JvdXAuZ2V0Qm91bmRpbmdSZWN0KCk7aWYoKHY9e3g6MCx5OjB9KVtzXT1kP2lbc106aFtzXSx2W2xdPU1hdGgubWF4KGhbbF0sY1tsXSksdlt1XT1NYXRoLm1pbigwLGNbdV0rZ1sxLXJdKSxvLl9fcmVjdFNpemU9aVtzXSxkKXt2YXIgeT17eDowLHk6MH07eVtzXT1NYXRoLm1heChpW3NdLWNbc10tbSwwKSx5W2xdPXZbbF0sby5zZXRDbGlwUGF0aChuZXcgYlMoe3NoYXBlOnl9KSksby5fX3JlY3RTaXplPXlbc119ZWxzZSBhLmVhY2hDaGlsZChmdW5jdGlvbih0KXt0LmF0dHIoe2ludmlzaWJsZTohMCxzaWxlbnQ6ITB9KX0pO3ZhciB4PXRoaXMuX2dldFBhZ2VJbmZvKHQpO3JldHVybiBudWxsIT14LnBhZ2VJbmRleCYmZm8obix7cG9zaXRpb246eC5jb250ZW50UG9zaXRpb259LCEhZCYmdCksdGhpcy5fdXBkYXRlUGFnZUluZm9WaWV3KHQseCksdn0sX3BhZ2VHbzpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZ2V0UGFnZUluZm8oZSlbdF07bnVsbCE9biYmaS5kaXNwYXRjaEFjdGlvbih7dHlwZToibGVnZW5kU2Nyb2xsIixzY3JvbGxEYXRhSW5kZXg6bixsZWdlbmRJZDplLmlkfSl9LF91cGRhdGVQYWdlSW5mb1ZpZXc6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9jb250cm9sbGVyR3JvdXA7ZChbInBhZ2VQcmV2IiwicGFnZU5leHQiXSxmdW5jdGlvbihuKXt2YXIgbz1udWxsIT1lW24rIkRhdGFJbmRleCJdLGE9aS5jaGlsZE9mTmFtZShuKTthJiYoYS5zZXRTdHlsZSgiZmlsbCIsbz90LmdldCgicGFnZUljb25Db2xvciIsITApOnQuZ2V0KCJwYWdlSWNvbkluYWN0aXZlQ29sb3IiLCEwKSksYS5jdXJzb3I9bz8icG9pbnRlciI6ImRlZmF1bHQiKX0pO3ZhciBuPWkuY2hpbGRPZk5hbWUoInBhZ2VUZXh0Iiksbz10LmdldCgicGFnZUZvcm1hdHRlciIpLGE9ZS5wYWdlSW5kZXgscj1udWxsIT1hP2ErMTowLHM9ZS5wYWdlQ291bnQ7biYmbyYmbi5zZXRTdHlsZSgidGV4dCIsXyhvKT9vLnJlcGxhY2UoIntjdXJyZW50fSIscikucmVwbGFjZSgie3RvdGFsfSIscyk6byh7Y3VycmVudDpyLHRvdGFsOnN9KSl9LF9nZXRQYWdlSW5mbzpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtyZXR1cm4gZVtmXSs9dC5wb3NpdGlvbltoXSxlfXZhciBpLG4sbyxhLHI9dC5nZXQoInNjcm9sbERhdGFJbmRleCIsITApLHM9dGhpcy5nZXRDb250ZW50R3JvdXAoKSxsPXMuZ2V0Qm91bmRpbmdSZWN0KCksdT10aGlzLl9jb250YWluZXJHcm91cC5fX3JlY3RTaXplLGg9dC5nZXRPcmllbnQoKS5pbmRleCxjPU5rW2hdLGQ9TmtbMS1oXSxmPU9rW2hdLHA9cy5wb3NpdGlvbi5zbGljZSgpO3RoaXMuX3Nob3dDb250cm9sbGVyP3MuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe3QuX19sZWdlbmREYXRhSW5kZXg9PT1yJiYoYT10KX0pOmE9cy5jaGlsZEF0KDApO3ZhciBnPXU/TWF0aC5jZWlsKGxbY10vdSk6MDtpZihhKXt2YXIgbT1hLmdldEJvdW5kaW5nUmVjdCgpLHY9YS5wb3NpdGlvbltoXSttW2ZdO3BbaF09LXYtbFtmXSxpPU1hdGguZmxvb3IoZyoodittW2ZdK3UvMikvbFtjXSksaT1sW2NdJiZnP01hdGgubWF4KDAsTWF0aC5taW4oZy0xLGkpKTotMTt2YXIgeT17eDowLHk6MH07eVtjXT11LHlbZF09bFtkXSx5W2ZdPS1wW2hdLWxbZl07dmFyIHgsXz1zLmNoaWxkcmVuKCk7aWYocy5lYWNoQ2hpbGQoZnVuY3Rpb24odCxpKXt2YXIgbj1lKHQpO24uaW50ZXJzZWN0KHkpJiYobnVsbD09eCYmKHg9aSksbz10Ll9fbGVnZW5kRGF0YUluZGV4KSxpPT09Xy5sZW5ndGgtMSYmbltmXStuW2NdPD15W2ZdK3lbY10mJihvPW51bGwpfSksbnVsbCE9eCl7dmFyIHc9ZShfW3hdKTtpZih5W2ZdPXdbZl0rd1tjXS15W2NdLHg8PTAmJndbZl0+PXlbZl0pbj1udWxsO2Vsc2V7Zm9yKDt4PjAmJmUoX1t4LTFdKS5pbnRlcnNlY3QoeSk7KXgtLTtuPV9beF0uX19sZWdlbmREYXRhSW5kZXh9fX1yZXR1cm57Y29udGVudFBvc2l0aW9uOnAscGFnZUluZGV4OmkscGFnZUNvdW50OmcscGFnZVByZXZEYXRhSW5kZXg6bixwYWdlTmV4dERhdGFJbmRleDpvfX19KTtjcygibGVnZW5kU2Nyb2xsIiwibGVnZW5kc2Nyb2xsIixmdW5jdGlvbih0LGUpe3ZhciBpPXQuc2Nyb2xsRGF0YUluZGV4O251bGwhPWkmJmUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImxlZ2VuZCIsc3ViVHlwZToic2Nyb2xsIixxdWVyeTp0fSxmdW5jdGlvbih0KXt0LnNldFNjcm9sbERhdGFJbmRleChpKX0pfSksdnMoe3R5cGU6InRvb2x0aXAiLGRlcGVuZGVuY2llczpbImF4aXNQb2ludGVyIl0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo4LHNob3c6ITAsc2hvd0NvbnRlbnQ6ITAsdHJpZ2dlcjoiaXRlbSIsdHJpZ2dlck9uOiJtb3VzZW1vdmV8Y2xpY2siLGFsd2F5c1Nob3dDb250ZW50OiExLGRpc3BsYXlNb2RlOiJzaW5nbGUiLGNvbmZpbmU6ITEsc2hvd0RlbGF5OjAsaGlkZURlbGF5OjEwMCx0cmFuc2l0aW9uRHVyYXRpb246LjQsZW50ZXJhYmxlOiExLGJhY2tncm91bmRDb2xvcjoicmdiYSg1MCw1MCw1MCwwLjcpIixib3JkZXJDb2xvcjoiIzMzMyIsYm9yZGVyUmFkaXVzOjQsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsZXh0cmFDc3NUZXh0OiIiLGF4aXNQb2ludGVyOnt0eXBlOiJsaW5lIixheGlzOiJhdXRvIixhbmltYXRpb246ImF1dG8iLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjIwMCxhbmltYXRpb25FYXNpbmdVcGRhdGU6ImV4cG9uZW50aWFsT3V0Iixjcm9zc1N0eWxlOntjb2xvcjoiIzk5OSIsd2lkdGg6MSx0eXBlOiJkYXNoZWQiLHRleHRTdHlsZTp7fX19LHRleHRTdHlsZTp7Y29sb3I6IiNmZmYiLGZvbnRTaXplOjE0fX19KTt2YXIgUms9ZCx6az1IbyxCaz1bIiIsIi13ZWJraXQtIiwiLW1vei0iLCItby0iXTtHbS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkdtLF9lbnRlcmFibGU6ITAsdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyLGU9dC5jdXJyZW50U3R5bGV8fGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCksaT10LnN0eWxlOyJhYnNvbHV0ZSIhPT1pLnBvc2l0aW9uJiYiYWJzb2x1dGUiIT09ZS5wb3NpdGlvbiYmKGkucG9zaXRpb249InJlbGF0aXZlIil9LHNob3c6ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KTt2YXIgZT10aGlzLmVsO2Uuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jaztib3JkZXItc3R5bGU6c29saWQ7d2hpdGUtc3BhY2U6bm93cmFwO3otaW5kZXg6OTk5OTk5OTsiK1ZtKHQpKyI7bGVmdDoiK3RoaXMuX3grInB4O3RvcDoiK3RoaXMuX3krInB4OyIrKHQuZ2V0KCJleHRyYUNzc1RleHQiKXx8IiIpLGUuc3R5bGUuZGlzcGxheT1lLmlubmVySFRNTD8iYmxvY2siOiJub25lIix0aGlzLl9zaG93PSEwfSxzZXRDb250ZW50OmZ1bmN0aW9uKHQpe3RoaXMuZWwuaW5uZXJIVE1MPW51bGw9PXQ/IiI6dH0sc2V0RW50ZXJhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuX2VudGVyYWJsZT10fSxnZXRTaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbDtyZXR1cm5bdC5jbGllbnRXaWR0aCx0LmNsaWVudEhlaWdodF19LG1vdmVUbzpmdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcy5fenI7biYmbi5wYWludGVyJiYoaT1uLnBhaW50ZXIuZ2V0Vmlld3BvcnRSb290T2Zmc2V0KCkpJiYodCs9aS5vZmZzZXRMZWZ0LGUrPWkub2Zmc2V0VG9wKTt2YXIgbz10aGlzLmVsLnN0eWxlO28ubGVmdD10KyJweCIsby50b3A9ZSsicHgiLHRoaXMuX3g9dCx0aGlzLl95PWV9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmVsLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuX3Nob3c9ITF9LGhpZGVMYXRlcjpmdW5jdGlvbih0KXshdGhpcy5fc2hvd3x8dGhpcy5faW5Db250ZW50JiZ0aGlzLl9lbnRlcmFibGV8fCh0Pyh0aGlzLl9oaWRlRGVsYXk9dCx0aGlzLl9zaG93PSExLHRoaXMuX2hpZGVUaW1lb3V0PXNldFRpbWVvdXQobSh0aGlzLmhpZGUsdGhpcyksdCkpOnRoaXMuaGlkZSgpKX0saXNTaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nob3d9fTt2YXIgVms9bSxHaz1kLFdrPURvLEZrPW5ldyBiUyh7c2hhcGU6e3g6LTEseTotMSx3aWR0aDoyLGhlaWdodDoyfX0pO3lzKHt0eXBlOiJ0b29sdGlwIixpbml0OmZ1bmN0aW9uKHQsZSl7aWYoIW9fLm5vZGUpe3ZhciBpPW5ldyBHbShlLmdldERvbSgpLGUpO3RoaXMuX3Rvb2x0aXBDb250ZW50PWl9fSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe2lmKCFvXy5ub2RlJiYhb18ud3hhKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3Rvb2x0aXBNb2RlbD10LHRoaXMuX2VjTW9kZWw9ZSx0aGlzLl9hcGk9aSx0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9bnVsbCx0aGlzLl9hbHdheXNTaG93Q29udGVudD10LmdldCgiYWx3YXlzU2hvd0NvbnRlbnQiKTt2YXIgbj10aGlzLl90b29sdGlwQ29udGVudDtuLnVwZGF0ZSgpLG4uc2V0RW50ZXJhYmxlKHQuZ2V0KCJlbnRlcmFibGUiKSksdGhpcy5faW5pdEdsb2JhbExpc3RlbmVyKCksdGhpcy5fa2VlcFNob3coKX19LF9pbml0R2xvYmFsTGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90b29sdGlwTW9kZWwuZ2V0KCJ0cmlnZ2VyT24iKTtUZygiaXRlbVRvb2x0aXAiLHRoaXMuX2FwaSxWayhmdW5jdGlvbihlLGksbil7Im5vbmUiIT09dCYmKHQuaW5kZXhPZihlKT49MD90aGlzLl90cnlTaG93KGksbik6ImxlYXZlIj09PWUmJnRoaXMuX2hpZGUobikpfSx0aGlzKSl9LF9rZWVwU2hvdzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Rvb2x0aXBNb2RlbCxlPXRoaXMuX2VjTW9kZWwsaT10aGlzLl9hcGk7aWYobnVsbCE9dGhpcy5fbGFzdFgmJm51bGwhPXRoaXMuX2xhc3RZJiYibm9uZSIhPT10LmdldCgidHJpZ2dlck9uIikpe3ZhciBuPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMuX3JlZnJlc2hVcGRhdGVUaW1lb3V0KSx0aGlzLl9yZWZyZXNoVXBkYXRlVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5tYW51YWxseVNob3dUaXAodCxlLGkse3g6bi5fbGFzdFgseTpuLl9sYXN0WX0pfSl9fSxtYW51YWxseVNob3dUaXA6ZnVuY3Rpb24odCxlLGksbil7aWYobi5mcm9tIT09dGhpcy51aWQmJiFvXy5ub2RlKXt2YXIgbz1GbShuLGkpO3RoaXMuX3RpY2tldD0iIjt2YXIgYT1uLmRhdGFCeUNvb3JkU3lzO2lmKG4udG9vbHRpcCYmbnVsbCE9bi54JiZudWxsIT1uLnkpe3ZhciByPUZrO3IucG9zaXRpb249W24ueCxuLnldLHIudXBkYXRlKCksci50b29sdGlwPW4udG9vbHRpcCx0aGlzLl90cnlTaG93KHtvZmZzZXRYOm4ueCxvZmZzZXRZOm4ueSx0YXJnZXQ6cn0sbyl9ZWxzZSBpZihhKXRoaXMuX3RyeVNob3coe29mZnNldFg6bi54LG9mZnNldFk6bi55LHBvc2l0aW9uOm4ucG9zaXRpb24sZXZlbnQ6e30sZGF0YUJ5Q29vcmRTeXM6bi5kYXRhQnlDb29yZFN5cyx0b29sdGlwT3B0aW9uOm4udG9vbHRpcE9wdGlvbn0sbyk7ZWxzZSBpZihudWxsIT1uLnNlcmllc0luZGV4KXtpZih0aGlzLl9tYW51YWxseUF4aXNTaG93VGlwKHQsZSxpLG4pKXJldHVybjt2YXIgcz1xTChuLGUpLGw9cy5wb2ludFswXSx1PXMucG9pbnRbMV07bnVsbCE9bCYmbnVsbCE9dSYmdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDpsLG9mZnNldFk6dSxwb3NpdGlvbjpuLnBvc2l0aW9uLHRhcmdldDpzLmVsLGV2ZW50Ont9fSxvKX1lbHNlIG51bGwhPW4ueCYmbnVsbCE9bi55JiYoaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHg6bi54LHk6bi55fSksdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDpuLngsb2Zmc2V0WTpuLnkscG9zaXRpb246bi5wb3NpdGlvbix0YXJnZXQ6aS5nZXRacigpLmZpbmRIb3ZlcihuLngsbi55KS50YXJnZXQsZXZlbnQ6e319LG8pKX19LG1hbnVhbGx5SGlkZVRpcDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLl90b29sdGlwQ29udGVudDshdGhpcy5fYWx3YXlzU2hvd0NvbnRlbnQmJnRoaXMuX3Rvb2x0aXBNb2RlbCYmby5oaWRlTGF0ZXIodGhpcy5fdG9vbHRpcE1vZGVsLmdldCgiaGlkZURlbGF5IikpLHRoaXMuX2xhc3RYPXRoaXMuX2xhc3RZPW51bGwsbi5mcm9tIT09dGhpcy51aWQmJnRoaXMuX2hpZGUoRm0obixpKSl9LF9tYW51YWxseUF4aXNTaG93VGlwOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPW4uc2VyaWVzSW5kZXgsYT1uLmRhdGFJbmRleCxyPWUuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpLmNvb3JkU3lzQXhlc0luZm87aWYobnVsbCE9byYmbnVsbCE9YSYmbnVsbCE9cil7dmFyIHM9ZS5nZXRTZXJpZXNCeUluZGV4KG8pO2lmKHMmJiJheGlzIj09PSh0PVdtKFtzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwoYSkscywocy5jb29yZGluYXRlU3lzdGVtfHx7fSkubW9kZWwsdF0pKS5nZXQoInRyaWdnZXIiKSlyZXR1cm4gaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHNlcmllc0luZGV4Om8sZGF0YUluZGV4OmEscG9zaXRpb246bi5wb3NpdGlvbn0pLCEwfX0sX3RyeVNob3c6ZnVuY3Rpb24odCxlKXt2YXIgaT10LnRhcmdldDtpZih0aGlzLl90b29sdGlwTW9kZWwpe3RoaXMuX2xhc3RYPXQub2Zmc2V0WCx0aGlzLl9sYXN0WT10Lm9mZnNldFk7dmFyIG49dC5kYXRhQnlDb29yZFN5cztuJiZuLmxlbmd0aD90aGlzLl9zaG93QXhpc1Rvb2x0aXAobix0KTppJiZudWxsIT1pLmRhdGFJbmRleD8odGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdGhpcy5fc2hvd1Nlcmllc0l0ZW1Ub29sdGlwKHQsaSxlKSk6aSYmaS50b29sdGlwPyh0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9bnVsbCx0aGlzLl9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXAodCxpLGUpKToodGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdGhpcy5faGlkZShlKSl9fSxfc2hvd09yTW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0KCJzaG93RGVsYXkiKTtlPW0oZSx0aGlzKSxjbGVhclRpbWVvdXQodGhpcy5fc2hvd1RpbW91dCksaT4wP3RoaXMuX3Nob3dUaW1vdXQ9c2V0VGltZW91dChlLGkpOmUoKX0sX3Nob3dBeGlzVG9vbHRpcDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2VjTW9kZWwsbj10aGlzLl90b29sdGlwTW9kZWwsbz1bZS5vZmZzZXRYLGUub2Zmc2V0WV0sYT1bXSxyPVtdLHM9V20oW2UudG9vbHRpcE9wdGlvbixuXSk7R2sodCxmdW5jdGlvbih0KXtHayh0LmRhdGFCeUF4aXMsZnVuY3Rpb24odCl7dmFyIGU9aS5nZXRDb21wb25lbnQodC5heGlzRGltKyJBeGlzIix0LmF4aXNJbmRleCksbj10LnZhbHVlLG89W107aWYoZSYmbnVsbCE9bil7dmFyIHM9RmcobixlLmF4aXMsaSx0LnNlcmllc0RhdGFJbmRpY2VzLHQudmFsdWVMYWJlbE9wdCk7ZCh0LnNlcmllc0RhdGFJbmRpY2VzLGZ1bmN0aW9uKGEpe3ZhciBsPWkuZ2V0U2VyaWVzQnlJbmRleChhLnNlcmllc0luZGV4KSx1PWEuZGF0YUluZGV4SW5zaWRlLGg9bCYmbC5nZXREYXRhUGFyYW1zKHUpO2guYXhpc0RpbT10LmF4aXNEaW0saC5heGlzSW5kZXg9dC5heGlzSW5kZXgsaC5heGlzVHlwZT10LmF4aXNUeXBlLGguYXhpc0lkPXQuYXhpc0lkLGguYXhpc1ZhbHVlPXdsKGUuYXhpcyxuKSxoLmF4aXNWYWx1ZUxhYmVsPXMsaCYmKHIucHVzaChoKSxvLnB1c2gobC5mb3JtYXRUb29sdGlwKHUsITApKSl9KTt2YXIgbD1zO2EucHVzaCgobD9abyhsKSsiPGJyIC8+IjoiIikrby5qb2luKCI8YnIgLz4iKSl9fSl9LHRoaXMpLGEucmV2ZXJzZSgpLGE9YS5qb2luKCI8YnIgLz48YnIgLz4iKTt2YXIgbD1lLnBvc2l0aW9uO3RoaXMuX3Nob3dPck1vdmUocyxmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZUNvbnRlbnROb3RDaGFuZ2VkT25BeGlzKHQpP3RoaXMuX3VwZGF0ZVBvc2l0aW9uKHMsbCxvWzBdLG9bMV0sdGhpcy5fdG9vbHRpcENvbnRlbnQscik6dGhpcy5fc2hvd1Rvb2x0aXBDb250ZW50KHMsYSxyLE1hdGgucmFuZG9tKCksb1swXSxvWzFdLGwpfSl9LF9zaG93U2VyaWVzSXRlbVRvb2x0aXA6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2VjTW9kZWwsbz1lLnNlcmllc0luZGV4LGE9bi5nZXRTZXJpZXNCeUluZGV4KG8pLHI9ZS5kYXRhTW9kZWx8fGEscz1lLmRhdGFJbmRleCxsPWUuZGF0YVR5cGUsdT1yLmdldERhdGEoKSxoPVdtKFt1LmdldEl0ZW1Nb2RlbChzKSxyLGEmJihhLmNvb3JkaW5hdGVTeXN0ZW18fHt9KS5tb2RlbCx0aGlzLl90b29sdGlwTW9kZWxdKSxjPWguZ2V0KCJ0cmlnZ2VyIik7aWYobnVsbD09Y3x8Iml0ZW0iPT09Yyl7dmFyIGQ9ci5nZXREYXRhUGFyYW1zKHMsbCksZj1yLmZvcm1hdFRvb2x0aXAocywhMSxsKSxwPSJpdGVtXyIrci5uYW1lKyJfIitzO3RoaXMuX3Nob3dPck1vdmUoaCxmdW5jdGlvbigpe3RoaXMuX3Nob3dUb29sdGlwQ29udGVudChoLGYsZCxwLHQub2Zmc2V0WCx0Lm9mZnNldFksdC5wb3NpdGlvbix0LnRhcmdldCl9KSxpKHt0eXBlOiJzaG93VGlwIixkYXRhSW5kZXhJbnNpZGU6cyxkYXRhSW5kZXg6dS5nZXRSYXdJbmRleChzKSxzZXJpZXNJbmRleDpvLGZyb206dGhpcy51aWR9KX19LF9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXA6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUudG9vbHRpcDtpZigic3RyaW5nIj09dHlwZW9mIG4pe3ZhciBvPW47bj17Y29udGVudDpvLGZvcm1hdHRlcjpvfX12YXIgYT1uZXcgd28obix0aGlzLl90b29sdGlwTW9kZWwsdGhpcy5fZWNNb2RlbCkscj1hLmdldCgiY29udGVudCIpLHM9TWF0aC5yYW5kb20oKTt0aGlzLl9zaG93T3JNb3ZlKGEsZnVuY3Rpb24oKXt0aGlzLl9zaG93VG9vbHRpcENvbnRlbnQoYSxyLGEuZ2V0KCJmb3JtYXR0ZXJQYXJhbXMiKXx8e30scyx0Lm9mZnNldFgsdC5vZmZzZXRZLHQucG9zaXRpb24sZSl9KSxpKHt0eXBlOiJzaG93VGlwIixmcm9tOnRoaXMudWlkfSl9LF9zaG93VG9vbHRpcENvbnRlbnQ6ZnVuY3Rpb24odCxlLGksbixvLGEscixzKXtpZih0aGlzLl90aWNrZXQ9IiIsdC5nZXQoInNob3dDb250ZW50IikmJnQuZ2V0KCJzaG93Iikpe3ZhciBsPXRoaXMuX3Rvb2x0aXBDb250ZW50LHU9dC5nZXQoImZvcm1hdHRlciIpO3I9cnx8dC5nZXQoInBvc2l0aW9uIik7dmFyIGg9ZTtpZih1JiYic3RyaW5nIj09dHlwZW9mIHUpaD1Vbyh1LGksITApO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIHUpe3ZhciBjPVZrKGZ1bmN0aW9uKGUsbil7ZT09PXRoaXMuX3RpY2tldCYmKGwuc2V0Q29udGVudChuKSx0aGlzLl91cGRhdGVQb3NpdGlvbih0LHIsbyxhLGwsaSxzKSl9LHRoaXMpO3RoaXMuX3RpY2tldD1uLGg9dShpLG4sYyl9bC5zZXRDb250ZW50KGgpLGwuc2hvdyh0KSx0aGlzLl91cGRhdGVQb3NpdGlvbih0LHIsbyxhLGwsaSxzKX19LF91cGRhdGVQb3NpdGlvbjpmdW5jdGlvbih0LGUsaSxuLG8sYSxyKXt2YXIgcz10aGlzLl9hcGkuZ2V0V2lkdGgoKSxsPXRoaXMuX2FwaS5nZXRIZWlnaHQoKTtlPWV8fHQuZ2V0KCJwb3NpdGlvbiIpO3ZhciB1PW8uZ2V0U2l6ZSgpLGg9dC5nZXQoImFsaWduIiksYz10LmdldCgidmVydGljYWxBbGlnbiIpLGQ9ciYmci5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO2lmKHImJmQuYXBwbHlUcmFuc2Zvcm0oci50cmFuc2Zvcm0pLCJmdW5jdGlvbiI9PXR5cGVvZiBlJiYoZT1lKFtpLG5dLGEsby5lbCxkLHt2aWV3U2l6ZTpbcyxsXSxjb250ZW50U2l6ZTp1LnNsaWNlKCl9KSkseShlKSlpPVdrKGVbMF0scyksbj1XayhlWzFdLGwpO2Vsc2UgaWYodyhlKSl7ZS53aWR0aD11WzBdLGUuaGVpZ2h0PXVbMV07dmFyIGY9UW8oZSx7d2lkdGg6cyxoZWlnaHQ6bH0pO2k9Zi54LG49Zi55LGg9bnVsbCxjPW51bGx9ZWxzZSJzdHJpbmciPT10eXBlb2YgZSYmcj8oaT0ocD1YbShlLGQsdSkpWzBdLG49cFsxXSk6KGk9KHA9SG0oaSxuLG8uZWwscyxsLGg/bnVsbDoyMCxjP251bGw6MjApKVswXSxuPXBbMV0pO2lmKGgmJihpLT1qbShoKT91WzBdLzI6InJpZ2h0Ij09PWg/dVswXTowKSxjJiYobi09am0oYyk/dVsxXS8yOiJib3R0b20iPT09Yz91WzFdOjApLHQuZ2V0KCJjb25maW5lIikpe3ZhciBwPVptKGksbixvLmVsLHMsbCk7aT1wWzBdLG49cFsxXX1vLm1vdmVUbyhpLG4pfSxfdXBkYXRlQ29udGVudE5vdENoYW5nZWRPbkF4aXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzLGk9ISFlJiZlLmxlbmd0aD09PXQubGVuZ3RoO3JldHVybiBpJiZHayhlLGZ1bmN0aW9uKGUsbil7dmFyIG89ZS5kYXRhQnlBeGlzfHx7fSxhPSh0W25dfHx7fSkuZGF0YUJ5QXhpc3x8W107KGkmPW8ubGVuZ3RoPT09YS5sZW5ndGgpJiZHayhvLGZ1bmN0aW9uKHQsZSl7dmFyIG49YVtlXXx8e30sbz10LnNlcmllc0RhdGFJbmRpY2VzfHxbXSxyPW4uc2VyaWVzRGF0YUluZGljZXN8fFtdOyhpJj10LnZhbHVlPT09bi52YWx1ZSYmdC5heGlzVHlwZT09PW4uYXhpc1R5cGUmJnQuYXhpc0lkPT09bi5heGlzSWQmJm8ubGVuZ3RoPT09ci5sZW5ndGgpJiZHayhvLGZ1bmN0aW9uKHQsZSl7dmFyIG49cltlXTtpJj10LnNlcmllc0luZGV4PT09bi5zZXJpZXNJbmRleCYmdC5kYXRhSW5kZXg9PT1uLmRhdGFJbmRleH0pfSl9KSx0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9dCwhIWl9LF9oaWRlOmZ1bmN0aW9uKHQpe3RoaXMuX2xhc3REYXRhQnlDb29yZFN5cz1udWxsLHQoe3R5cGU6ImhpZGVUaXAiLGZyb206dGhpcy51aWR9KX0sZGlzcG9zZTpmdW5jdGlvbih0LGUpe29fLm5vZGV8fG9fLnd4YXx8KHRoaXMuX3Rvb2x0aXBDb250ZW50LmhpZGUoKSxQZygiaXRlbVRvb2x0aXAiLGUpKX19KSxjcyh7dHlwZToic2hvd1RpcCIsZXZlbnQ6InNob3dUaXAiLHVwZGF0ZToidG9vbHRpcDptYW51YWxseVNob3dUaXAifSxmdW5jdGlvbigpe30pLGNzKHt0eXBlOiJoaWRlVGlwIixldmVudDoiaGlkZVRpcCIsdXBkYXRlOiJ0b29sdGlwOm1hbnVhbGx5SGlkZVRpcCJ9LGZ1bmN0aW9uKCl7fSksJG0ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjokbSxwb2ludFRvRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnBvbGFyLnBvaW50VG9EYXRhKHQsZSlbInJhZGl1cyI9PT10aGlzLmRpbT8wOjFdfSxkYXRhVG9SYWRpdXM6WVQucHJvdG90eXBlLmRhdGFUb0Nvb3JkLHJhZGl1c1RvRGF0YTpZVC5wcm90b3R5cGUuY29vcmRUb0RhdGF9LHUoJG0sWVQpLEptLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Sm0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wb2xhci5wb2ludFRvRGF0YSh0LGUpWyJyYWRpdXMiPT09dGhpcy5kaW0/MDoxXX0sZGF0YVRvQW5nbGU6WVQucHJvdG90eXBlLmRhdGFUb0Nvb3JkLGFuZ2xlVG9EYXRhOllULnByb3RvdHlwZS5jb29yZFRvRGF0YX0sdShKbSxZVCk7dmFyIEhrPWZ1bmN0aW9uKHQpe3RoaXMubmFtZT10fHwiIix0aGlzLmN4PTAsdGhpcy5jeT0wLHRoaXMuX3JhZGl1c0F4aXM9bmV3ICRtLHRoaXMuX2FuZ2xlQXhpcz1uZXcgSm0sdGhpcy5fcmFkaXVzQXhpcy5wb2xhcj10aGlzLl9hbmdsZUF4aXMucG9sYXI9dGhpc307SGsucHJvdG90eXBlPXt0eXBlOiJwb2xhciIsYXhpc1BvaW50ZXJFbmFibGVkOiEwLGNvbnN0cnVjdG9yOkhrLGRpbWVuc2lvbnM6WyJyYWRpdXMiLCJhbmdsZSJdLG1vZGVsOm51bGwsY29udGFpblBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9pbnRUb0Nvb3JkKHQpO3JldHVybiB0aGlzLl9yYWRpdXNBeGlzLmNvbnRhaW4oZVswXSkmJnRoaXMuX2FuZ2xlQXhpcy5jb250YWluKGVbMV0pfSxjb250YWluRGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmFkaXVzQXhpcy5jb250YWluRGF0YSh0WzBdKSYmdGhpcy5fYW5nbGVBeGlzLmNvbnRhaW5EYXRhKHRbMV0pfSxnZXRBeGlzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWyJfIit0KyJBeGlzIl19LGdldEF4ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5fcmFkaXVzQXhpcyx0aGlzLl9hbmdsZUF4aXNdfSxnZXRBeGVzQnlTY2FsZTpmdW5jdGlvbih0KXt2YXIgZT1bXSxpPXRoaXMuX2FuZ2xlQXhpcyxuPXRoaXMuX3JhZGl1c0F4aXM7cmV0dXJuIGkuc2NhbGUudHlwZT09PXQmJmUucHVzaChpKSxuLnNjYWxlLnR5cGU9PT10JiZlLnB1c2gobiksZX0sZ2V0QW5nbGVBeGlzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuZ2xlQXhpc30sZ2V0UmFkaXVzQXhpczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYWRpdXNBeGlzfSxnZXRPdGhlckF4aXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYW5nbGVBeGlzO3JldHVybiB0PT09ZT90aGlzLl9yYWRpdXNBeGlzOmV9LGdldEJhc2VBeGlzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QXhlc0J5U2NhbGUoIm9yZGluYWwiKVswXXx8dGhpcy5nZXRBeGVzQnlTY2FsZSgidGltZSIpWzBdfHx0aGlzLmdldEFuZ2xlQXhpcygpfSxnZXRUb29sdGlwQXhlczpmdW5jdGlvbih0KXt2YXIgZT1udWxsIT10JiYiYXV0byIhPT10P3RoaXMuZ2V0QXhpcyh0KTp0aGlzLmdldEJhc2VBeGlzKCk7cmV0dXJue2Jhc2VBeGVzOltlXSxvdGhlckF4ZXM6W3RoaXMuZ2V0T3RoZXJBeGlzKGUpXX19LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29vcmRUb1BvaW50KFt0aGlzLl9yYWRpdXNBeGlzLmRhdGFUb1JhZGl1cyh0WzBdLGUpLHRoaXMuX2FuZ2xlQXhpcy5kYXRhVG9BbmdsZSh0WzFdLGUpXSl9LHBvaW50VG9EYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5wb2ludFRvQ29vcmQodCk7cmV0dXJuW3RoaXMuX3JhZGl1c0F4aXMucmFkaXVzVG9EYXRhKGlbMF0sZSksdGhpcy5fYW5nbGVBeGlzLmFuZ2xlVG9EYXRhKGlbMV0sZSldfSxwb2ludFRvQ29vcmQ6ZnVuY3Rpb24odCl7dmFyIGU9dFswXS10aGlzLmN4LGk9dFsxXS10aGlzLmN5LG49dGhpcy5nZXRBbmdsZUF4aXMoKSxvPW4uZ2V0RXh0ZW50KCksYT1NYXRoLm1pbihvWzBdLG9bMV0pLHI9TWF0aC5tYXgob1swXSxvWzFdKTtuLmludmVyc2U/YT1yLTM2MDpyPWErMzYwO3ZhciBzPU1hdGguc3FydChlKmUraSppKTtlLz1zLGkvPXM7Zm9yKHZhciBsPU1hdGguYXRhbjIoLWksZSkvTWF0aC5QSSoxODAsdT1sPGE/MTotMTtsPGF8fGw+cjspbCs9MzYwKnU7cmV0dXJuW3MsbF19LGNvb3JkVG9Qb2ludDpmdW5jdGlvbih0KXt2YXIgZT10WzBdLGk9dFsxXS8xODAqTWF0aC5QSTtyZXR1cm5bTWF0aC5jb3MoaSkqZSt0aGlzLmN4LC1NYXRoLnNpbihpKSplK3RoaXMuY3ldfX07dmFyIFprPXVNLmV4dGVuZCh7dHlwZToicG9sYXJBeGlzIixheGlzOm51bGwsZ2V0Q29vcmRTeXNNb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVjTW9kZWwucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToicG9sYXIiLGluZGV4OnRoaXMub3B0aW9uLnBvbGFySW5kZXgsaWQ6dGhpcy5vcHRpb24ucG9sYXJJZH0pWzBdfX0pO24oWmsucHJvdG90eXBlLE9UKTt2YXIgVWs9e2FuZ2xlOntzdGFydEFuZ2xlOjkwLGNsb2Nrd2lzZTohMCxzcGxpdE51bWJlcjoxMixheGlzTGFiZWw6e3JvdGF0ZTohMX19LHJhZGl1czp7c3BsaXROdW1iZXI6NX19O1NEKCJhbmdsZSIsWmssUW0sVWsuYW5nbGUpLFNEKCJyYWRpdXMiLFprLFFtLFVrLnJhZGl1cyksdnMoe3R5cGU6InBvbGFyIixkZXBlbmRlbmNpZXM6WyJwb2xhckF4aXMiLCJhbmdsZUF4aXMiXSxjb29yZGluYXRlU3lzdGVtOm51bGwsZmluZEF4aXNNb2RlbDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5lY01vZGVsLmVhY2hDb21wb25lbnQodCxmdW5jdGlvbih0KXt0LmdldENvb3JkU3lzTW9kZWwoKT09PXRoaXMmJihlPXQpfSx0aGlzKSxlfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjAsY2VudGVyOlsiNTAlIiwiNTAlIl0scmFkaXVzOiI4MCUifX0pO3ZhciBYaz17ZGltZW5zaW9uczpIay5wcm90b3R5cGUuZGltZW5zaW9ucyxjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJwb2xhciIsZnVuY3Rpb24odCxuKXt2YXIgbz1uZXcgSGsobik7by51cGRhdGU9ZXY7dmFyIGE9by5nZXRSYWRpdXNBeGlzKCkscj1vLmdldEFuZ2xlQXhpcygpLHM9dC5maW5kQXhpc01vZGVsKCJyYWRpdXNBeGlzIiksbD10LmZpbmRBeGlzTW9kZWwoImFuZ2xlQXhpcyIpO2l2KGEscyksaXYocixsKSx0dihvLHQsZSksaS5wdXNoKG8pLHQuY29vcmRpbmF0ZVN5c3RlbT1vLG8ubW9kZWw9dH0pLHQuZWFjaFNlcmllcyhmdW5jdGlvbihlKXtpZigicG9sYXIiPT09ZS5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSl7dmFyIGk9dC5xdWVyeUNvbXBvbmVudHMoe21haW5UeXBlOiJwb2xhciIsaW5kZXg6ZS5nZXQoInBvbGFySW5kZXgiKSxpZDplLmdldCgicG9sYXJJZCIpfSlbMF07ZS5jb29yZGluYXRlU3lzdGVtPWkuY29vcmRpbmF0ZVN5c3RlbX19KSxpfX07Q2EucmVnaXN0ZXIoInBvbGFyIixYayk7dmFyIGprPVsiYXhpc0xpbmUiLCJheGlzTGFiZWwiLCJheGlzVGljayIsInNwbGl0TGluZSIsInNwbGl0QXJlYSJdO09ELmV4dGVuZCh7dHlwZToiYW5nbGVBeGlzIixheGlzUG9pbnRlckNsYXNzOiJQb2xhckF4aXNQb2ludGVyIixyZW5kZXI6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHQuZ2V0KCJzaG93Iikpe3ZhciBuPXQuYXhpcyxvPW4ucG9sYXIsYT1vLmdldFJhZGl1c0F4aXMoKS5nZXRFeHRlbnQoKSxyPW4uZ2V0VGlja3NDb29yZHMoKSxzPWYobi5nZXRWaWV3TGFiZWxzKCksZnVuY3Rpb24odCl7cmV0dXJuKHQ9aSh0KSkuY29vcmQ9bi5kYXRhVG9Db29yZCh0LnRpY2tWYWx1ZSksdH0pO2F2KHMpLGF2KHIpLGQoamssZnVuY3Rpb24oZSl7IXQuZ2V0KGUrIi5zaG93Iil8fG4uc2NhbGUuaXNCbGFuaygpJiYiYXhpc0xpbmUiIT09ZXx8dGhpc1siXyIrZV0odCxvLHIsYSxzKX0sdGhpcyl9fSxfYXhpc0xpbmU6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXRNb2RlbCgiYXhpc0xpbmUubGluZVN0eWxlIiksYT1uZXcgZlMoe3NoYXBlOntjeDplLmN4LGN5OmUuY3kscjpuW292KGUpXX0sc3R5bGU6by5nZXRMaW5lU3R5bGUoKSx6MjoxLHNpbGVudDohMH0pO2Euc3R5bGUuZmlsbD1udWxsLHRoaXMuZ3JvdXAuYWRkKGEpfSxfYXhpc1RpY2s6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXRNb2RlbCgiYXhpc1RpY2siKSxhPShvLmdldCgiaW5zaWRlIik/LTE6MSkqby5nZXQoImxlbmd0aCIpLHM9bltvdihlKV0sbD1mKGksZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBTUyh7c2hhcGU6bnYoZSxbcyxzK2FdLHQuY29vcmQpfSl9KTt0aGlzLmdyb3VwLmFkZChSUyhsLHtzdHlsZTpyKG8uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLHtzdHJva2U6dC5nZXQoImF4aXNMaW5lLmxpbmVTdHlsZS5jb2xvciIpfSl9KSl9LF9heGlzTGFiZWw6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT10LmdldENhdGVnb3JpZXMoITApLHI9dC5nZXRNb2RlbCgiYXhpc0xhYmVsIikscz1yLmdldCgibWFyZ2luIik7ZChvLGZ1bmN0aW9uKGksbyl7dmFyIGw9cix1PWkudGlja1ZhbHVlLGg9bltvdihlKV0sYz1lLmNvb3JkVG9Qb2ludChbaCtzLGkuY29vcmRdKSxkPWUuY3gsZj1lLmN5LHA9TWF0aC5hYnMoY1swXS1kKS9oPC4zPyJjZW50ZXIiOmNbMF0+ZD8ibGVmdCI6InJpZ2h0IixnPU1hdGguYWJzKGNbMV0tZikvaDwuMz8ibWlkZGxlIjpjWzFdPmY/InRvcCI6ImJvdHRvbSI7YSYmYVt1XSYmYVt1XS50ZXh0U3R5bGUmJihsPW5ldyB3byhhW3VdLnRleHRTdHlsZSxyLHIuZWNNb2RlbCkpO3ZhciBtPW5ldyBkUyh7c2lsZW50OiEwfSk7dGhpcy5ncm91cC5hZGQobSksbm8obS5zdHlsZSxsLHt4OmNbMF0seTpjWzFdLHRleHRGaWxsOmwuZ2V0VGV4dENvbG9yKCl8fHQuZ2V0KCJheGlzTGluZS5saW5lU3R5bGUuY29sb3IiKSx0ZXh0OmkuZm9ybWF0dGVkTGFiZWwsdGV4dEFsaWduOnAsdGV4dFZlcnRpY2FsQWxpZ246Z30pfSx0aGlzKX0sX3NwbGl0TGluZTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldE1vZGVsKCJzcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIiksYT1vLmdldCgiY29sb3IiKSxzPTA7YT1hIGluc3RhbmNlb2YgQXJyYXk/YTpbYV07Zm9yKHZhciBsPVtdLHU9MDt1PGkubGVuZ3RoO3UrKyl7dmFyIGg9cysrJWEubGVuZ3RoO2xbaF09bFtoXXx8W10sbFtoXS5wdXNoKG5ldyBTUyh7c2hhcGU6bnYoZSxuLGlbdV0uY29vcmQpfSkpfWZvcih1PTA7dTxsLmxlbmd0aDt1KyspdGhpcy5ncm91cC5hZGQoUlMobFt1XSx7c3R5bGU6cih7c3Ryb2tlOmFbdSVhLmxlbmd0aF19LG8uZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMCx6OnQuZ2V0KCJ6Iil9KSl9LF9zcGxpdEFyZWE6ZnVuY3Rpb24odCxlLGksbil7aWYoaS5sZW5ndGgpe3ZhciBvPXQuZ2V0TW9kZWwoInNwbGl0QXJlYSIpLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxhPW8uZ2V0KCJjb2xvciIpLHM9MDthPWEgaW5zdGFuY2VvZiBBcnJheT9hOlthXTtmb3IodmFyIGw9W10sdT1NYXRoLlBJLzE4MCxoPS1pWzBdLmNvb3JkKnUsYz1NYXRoLm1pbihuWzBdLG5bMV0pLGQ9TWF0aC5tYXgoblswXSxuWzFdKSxmPXQuZ2V0KCJjbG9ja3dpc2UiKSxwPTE7cDxpLmxlbmd0aDtwKyspe3ZhciBnPXMrKyVhLmxlbmd0aDtsW2ddPWxbZ118fFtdLGxbZ10ucHVzaChuZXcgbVMoe3NoYXBlOntjeDplLmN4LGN5OmUuY3kscjA6YyxyOmQsc3RhcnRBbmdsZTpoLGVuZEFuZ2xlOi1pW3BdLmNvb3JkKnUsY2xvY2t3aXNlOmZ9LHNpbGVudDohMH0pKSxoPS1pW3BdLmNvb3JkKnV9Zm9yKHA9MDtwPGwubGVuZ3RoO3ArKyl0aGlzLmdyb3VwLmFkZChSUyhsW3BdLHtzdHlsZTpyKHtmaWxsOmFbcCVhLmxlbmd0aF19LG8uZ2V0QXJlYVN0eWxlKCkpLHNpbGVudDohMH0pKX19fSk7dmFyIFlrPVsiYXhpc0xpbmUiLCJheGlzVGlja0xhYmVsIiwiYXhpc05hbWUiXSxxaz1bInNwbGl0TGluZSIsInNwbGl0QXJlYSJdO09ELmV4dGVuZCh7dHlwZToicmFkaXVzQXhpcyIsYXhpc1BvaW50ZXJDbGFzczoiUG9sYXJBeGlzUG9pbnRlciIscmVuZGVyOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldCgic2hvdyIpKXt2YXIgaT10LmF4aXMsbj1pLnBvbGFyLG89bi5nZXRBbmdsZUF4aXMoKSxhPWkuZ2V0VGlja3NDb29yZHMoKSxyPW8uZ2V0RXh0ZW50KClbMF0scz1pLmdldEV4dGVudCgpLGw9cnYobix0LHIpLHU9bmV3IENEKHQsbCk7ZChZayx1LmFkZCx1KSx0aGlzLmdyb3VwLmFkZCh1LmdldEdyb3VwKCkpLGQocWssZnVuY3Rpb24oZSl7dC5nZXQoZSsiLnNob3ciKSYmIWkuc2NhbGUuaXNCbGFuaygpJiZ0aGlzWyJfIitlXSh0LG4scixzLGEpfSx0aGlzKX19LF9zcGxpdExpbmU6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT10LmdldE1vZGVsKCJzcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIikscz1hLmdldCgiY29sb3IiKSxsPTA7cz1zIGluc3RhbmNlb2YgQXJyYXk/czpbc107Zm9yKHZhciB1PVtdLGg9MDtoPG8ubGVuZ3RoO2grKyl7dmFyIGM9bCsrJXMubGVuZ3RoO3VbY109dVtjXXx8W10sdVtjXS5wdXNoKG5ldyBmUyh7c2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyOm9baF0uY29vcmR9LHNpbGVudDohMH0pKX1mb3IoaD0wO2g8dS5sZW5ndGg7aCsrKXRoaXMuZ3JvdXAuYWRkKFJTKHVbaF0se3N0eWxlOnIoe3N0cm9rZTpzW2glcy5sZW5ndGhdLGZpbGw6bnVsbH0sYS5nZXRMaW5lU3R5bGUoKSksc2lsZW50OiEwfSkpfSxfc3BsaXRBcmVhOmZ1bmN0aW9uKHQsZSxpLG4sbyl7aWYoby5sZW5ndGgpe3ZhciBhPXQuZ2V0TW9kZWwoInNwbGl0QXJlYSIpLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpLGw9MDtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIHU9W10saD1vWzBdLmNvb3JkLGM9MTtjPG8ubGVuZ3RoO2MrKyl7dmFyIGQ9bCsrJXMubGVuZ3RoO3VbZF09dVtkXXx8W10sdVtkXS5wdXNoKG5ldyBtUyh7c2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyMDpoLHI6b1tjXS5jb29yZCxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MipNYXRoLlBJfSxzaWxlbnQ6ITB9KSksaD1vW2NdLmNvb3JkfWZvcihjPTA7Yzx1Lmxlbmd0aDtjKyspdGhpcy5ncm91cC5hZGQoUlModVtjXSx7c3R5bGU6cih7ZmlsbDpzW2Mlcy5sZW5ndGhdfSxhLmdldEFyZWFTdHlsZSgpKSxzaWxlbnQ6ITB9KSl9fX0pO3ZhciBLaz1OZy5leHRlbmQoe21ha2VFbE9wdGlvbjpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWkuYXhpczsiYW5nbGUiPT09YS5kaW0mJih0aGlzLmFuaW1hdGlvblRocmVzaG9sZD1NYXRoLlBJLzE4KTt2YXIgcixzPWEucG9sYXIsbD1zLmdldE90aGVyQXhpcyhhKS5nZXRFeHRlbnQoKTtyPWFbImRhdGFUbyIrS28oYS5kaW0pXShlKTt2YXIgdT1uLmdldCgidHlwZSIpO2lmKHUmJiJub25lIiE9PXUpe3ZhciBoPVZnKG4pLGM9JGtbdV0oYSxzLHIsbCxoKTtjLnN0eWxlPWgsdC5ncmFwaGljS2V5PWMudHlwZSx0LnBvaW50ZXI9Y31HZyh0LGksbixvLHN2KGUsaSwwLHMsbi5nZXQoImxhYmVsLm1hcmdpbiIpKSl9fSksJGs9e2xpbmU6ZnVuY3Rpb24odCxlLGksbixvKXtyZXR1cm4iYW5nbGUiPT09dC5kaW0/e3R5cGU6IkxpbmUiLHNoYXBlOlVnKGUuY29vcmRUb1BvaW50KFtuWzBdLGldKSxlLmNvb3JkVG9Qb2ludChbblsxXSxpXSkpfTp7dHlwZToiQ2lyY2xlIixzaGFwZTp7Y3g6ZS5jeCxjeTplLmN5LHI6aX19fSxzaGFkb3c6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT1NYXRoLm1heCgxLHQuZ2V0QmFuZFdpZHRoKCkpLHI9TWF0aC5QSS8xODA7cmV0dXJuImFuZ2xlIj09PXQuZGltP3t0eXBlOiJTZWN0b3IiLHNoYXBlOmpnKGUuY3gsZS5jeSxuWzBdLG5bMV0sKC1pLWEvMikqciwoYS8yLWkpKnIpfTp7dHlwZToiU2VjdG9yIixzaGFwZTpqZyhlLmN4LGUuY3ksaS1hLzIsaSthLzIsMCwyKk1hdGguUEkpfX19O09ELnJlZ2lzdGVyQXhpc1BvaW50ZXJDbGFzcygiUG9sYXJBeGlzUG9pbnRlciIsS2spLGZzKHYoZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkuZ2V0V2lkdGgoKSxvPWkuZ2V0SGVpZ2h0KCksYT17fSxyPUttKGcoZS5nZXRTZXJpZXNCeVR5cGUodCksZnVuY3Rpb24odCl7cmV0dXJuIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSYmdC5jb29yZGluYXRlU3lzdGVtJiYicG9sYXIiPT09dC5jb29yZGluYXRlU3lzdGVtLnR5cGV9KSk7ZS5lYWNoU2VyaWVzQnlUeXBlKHQsZnVuY3Rpb24odCl7aWYoInBvbGFyIj09PXQuY29vcmRpbmF0ZVN5c3RlbS50eXBlKXt2YXIgZT10LmdldERhdGEoKSxpPXQuY29vcmRpbmF0ZVN5c3RlbSxzPWkuZ2V0QmFzZUF4aXMoKSxsPVltKHQpLHU9cltxbShzKV1bbF0saD11Lm9mZnNldCxjPXUud2lkdGgsZD1pLmdldE90aGVyQXhpcyhzKSxmPXQuZ2V0KCJjZW50ZXIiKXx8WyI1MCUiLCI1MCUiXSxwPURvKGZbMF0sbiksZz1EbyhmWzFdLG8pLG09dC5nZXQoImJhck1pbkhlaWdodCIpfHwwLHY9dC5nZXQoImJhck1pbkFuZ2xlIil8fDA7YVtsXT1hW2xdfHxbXTtmb3IodmFyIHk9ZS5tYXBEaW1lbnNpb24oZC5kaW0pLHg9ZS5tYXBEaW1lbnNpb24ocy5kaW0pLF89WnMoZSx5LHgpLHc9ZC5nZXRFeHRlbnQoKVswXSxiPTAsUz1lLmNvdW50KCk7YjxTO2IrKyl7dmFyIE09ZS5nZXQoeSxiKSxJPWUuZ2V0KHgsYik7aWYoIWlzTmFOKE0pKXt2YXIgVD1NPj0wPyJwIjoibiIsRD13O18mJihhW2xdW0ldfHwoYVtsXVtJXT17cDp3LG46d30pLEQ9YVtsXVtJXVtUXSk7dmFyIEEsQyxMLGs7aWYoInJhZGl1cyI9PT1kLmRpbSl7dmFyIFA9ZC5kYXRhVG9SYWRpdXMoTSktdyxOPXMuZGF0YVRvQW5nbGUoSSk7TWF0aC5hYnMoUCk8bSYmKFA9KFA8MD8tMToxKSptKSxBPUQsQz1EK1Asaz0oTD1OLWgpLWMsXyYmKGFbbF1bSV1bVF09Qyl9ZWxzZXt2YXIgTz1kLmRhdGFUb0FuZ2xlKE0sITApLXcsRT1zLmRhdGFUb1JhZGl1cyhJKTtNYXRoLmFicyhPKTx2JiYoTz0oTzwwPy0xOjEpKnYpLEM9KEE9RStoKStjLEw9RCxrPUQrTyxfJiYoYVtsXVtJXVtUXT1rKX1lLnNldEl0ZW1MYXlvdXQoYix7Y3g6cCxjeTpnLHIwOkEscjpDLHN0YXJ0QW5nbGU6LUwqTWF0aC5QSS8xODAsZW5kQW5nbGU6LWsqTWF0aC5QSS8xODB9KX19fX0sdGhpcyl9LCJiYXIiKSkseXMoe3R5cGU6InBvbGFyIn0pLGgodU0uZXh0ZW5kKHt0eXBlOiJnZW8iLGNvb3JkaW5hdGVTeXN0ZW06bnVsbCxsYXlvdXRNb2RlOiJib3giLGluaXQ6ZnVuY3Rpb24odCl7dU0ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLE1pKHQsImxhYmVsIixbInNob3ciXSl9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbixlPXRoaXM7dC5yZWdpb25zPW1BLmdldEZpbGxlZFJlZ2lvbnModC5yZWdpb25zLHQubWFwLHQubmFtZU1hcCksdGhpcy5fb3B0aW9uTW9kZWxNYXA9cCh0LnJlZ2lvbnN8fFtdLGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGkubmFtZSYmdC5zZXQoaS5uYW1lLG5ldyB3byhpLGUpKSx0fSxSKCkpLHRoaXMudXBkYXRlU2VsZWN0ZWRNYXAodC5yZWdpb25zKX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejowLHNob3c6ITAsbGVmdDoiY2VudGVyIix0b3A6ImNlbnRlciIsYXNwZWN0U2NhbGU6Ljc1LHNpbGVudDohMSxtYXA6IiIsYm91bmRpbmdDb29yZHM6bnVsbCxjZW50ZXI6bnVsbCx6b29tOjEsc2NhbGVMaW1pdDpudWxsLGxhYmVsOntzaG93OiExLGNvbG9yOiIjMDAwIn0saXRlbVN0eWxlOntib3JkZXJXaWR0aDouNSxib3JkZXJDb2xvcjoiIzQ0NCIsY29sb3I6IiNlZWUifSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITAsY29sb3I6InJnYigxMDAsMCwwKSJ9LGl0ZW1TdHlsZTp7Y29sb3I6InJnYmEoMjU1LDIxNSwwLDAuOCkifX0scmVnaW9uczpbXX0sZ2V0UmVnaW9uTW9kZWw6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29wdGlvbk1vZGVsTWFwLmdldCh0KXx8bmV3IHdvKG51bGwsdGhpcyx0aGlzLmVjTW9kZWwpfSxnZXRGb3JtYXR0ZWRMYWJlbDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0UmVnaW9uTW9kZWwodCkuZ2V0KCJsYWJlbC4iK2UrIi5mb3JtYXR0ZXIiKSxuPXtuYW1lOnR9O3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBpPyhuLnN0YXR1cz1lLGkobikpOiJzdHJpbmciPT10eXBlb2YgaT9pLnJlcGxhY2UoInthfSIsbnVsbCE9dD90OiIiKTp2b2lkIDB9LHNldFpvb206ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxzZXRDZW50ZXI6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9fSksakQpLHlzKHt0eXBlOiJnZW8iLGluaXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgWmgoZSwhMCk7dGhpcy5fbWFwRHJhdz1pLHRoaXMuZ3JvdXAuYWRkKGkuZ3JvdXApfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7aWYoIW58fCJnZW9Ub2dnbGVTZWxlY3QiIT09bi50eXBlfHxuLmZyb20hPT10aGlzLnVpZCl7dmFyIG89dGhpcy5fbWFwRHJhdzt0LmdldCgic2hvdyIpP28uZHJhdyh0LGUsaSx0aGlzLG4pOnRoaXMuX21hcERyYXcuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5ncm91cC5zaWxlbnQ9dC5nZXQoInNpbGVudCIpfX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCl9fSksbHYoInRvZ2dsZVNlbGVjdGVkIix7dHlwZToiZ2VvVG9nZ2xlU2VsZWN0IixldmVudDoiZ2Vvc2VsZWN0Y2hhbmdlZCJ9KSxsdigic2VsZWN0Iix7dHlwZToiZ2VvU2VsZWN0IixldmVudDoiZ2Vvc2VsZWN0ZWQifSksbHYoInVuU2VsZWN0Iix7dHlwZToiZ2VvVW5TZWxlY3QiLGV2ZW50OiJnZW91bnNlbGVjdGVkIn0pO3ZhciBKaz1bInJlY3QiLCJwb2x5Z29uIiwia2VlcCIsImNsZWFyIl0sUWs9ZCx0UD17bGluZVg6Z3YoMCksbGluZVk6Z3YoMSkscmVjdDp7cG9pbnQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0JiZpLmJvdW5kaW5nUmVjdC5jb250YWluKHRbMF0sdFsxXSl9LHJlY3Q6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0JiZpLmJvdW5kaW5nUmVjdC5pbnRlcnNlY3QodCl9fSxwb2x5Z29uOntwb2ludDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQmJmkuYm91bmRpbmdSZWN0LmNvbnRhaW4odFswXSx0WzFdKSYmRGwoaS5yYW5nZSx0WzBdLHRbMV0pfSxyZWN0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pLnJhbmdlO2lmKCF0fHxuLmxlbmd0aDw9MSlyZXR1cm4hMTt2YXIgbz10LngsYT10Lnkscj10LndpZHRoLHM9dC5oZWlnaHQsbD1uWzBdO3JldHVybiEhKERsKG4sbyxhKXx8RGwobixvK3IsYSl8fERsKG4sbyxhK3MpfHxEbChuLG8rcixhK3MpfHwkdC5jcmVhdGUodCkuY29udGFpbihsWzBdLGxbMV0pfHx2dihvLGEsbytyLGEsbil8fHZ2KG8sYSxvLGErcyxuKXx8dnYobytyLGEsbytyLGErcyxuKXx8dnYobyxhK3MsbytyLGErcyxuKSl8fHZvaWQgMH19fSxlUD1kLGlQPWwsblA9dixvUD1bImRhdGFUb1BvaW50IiwicG9pbnRUb0RhdGEiXSxhUD1bImdyaWQiLCJ4QXhpcyIsInlBeGlzIiwiZ2VvIiwiZ3JhcGgiLCJwb2xhciIsInJhZGl1c0F4aXMiLCJhbmdsZUF4aXMiLCJibWFwIl0sclA9d3YucHJvdG90eXBlO3JQLnNldE91dHB1dFJhbmdlcz1mdW5jdGlvbih0LGUpe3RoaXMubWF0Y2hPdXRwdXRSYW5nZXModCxlLGZ1bmN0aW9uKHQsZSxpKXtpZigodC5jb29yZFJhbmdlc3x8KHQuY29vcmRSYW5nZXM9W10pKS5wdXNoKGUpLCF0LmNvb3JkUmFuZ2Upe3QuY29vcmRSYW5nZT1lO3ZhciBuPWhQW3QuYnJ1c2hUeXBlXSgwLGksZSk7dC5fX3JhbmdlT2Zmc2V0PXtvZmZzZXQ6Y1BbdC5icnVzaFR5cGVdKG4udmFsdWVzLHQucmFuZ2UsWzEsMV0pLHh5TWluTWF4Om4ueHlNaW5NYXh9fX0pfSxyUC5tYXRjaE91dHB1dFJhbmdlcz1mdW5jdGlvbih0LGUsaSl7ZVAodCxmdW5jdGlvbih0KXt2YXIgbj10aGlzLmZpbmRUYXJnZXRJbmZvKHQsZSk7biYmITAhPT1uJiZkKG4uY29vcmRTeXNlcyxmdW5jdGlvbihuKXt2YXIgbz1oUFt0LmJydXNoVHlwZV0oMSxuLHQucmFuZ2UpO2kodCxvLnZhbHVlcyxuLGUpfSl9LHRoaXMpfSxyUC5zZXRJbnB1dFJhbmdlcz1mdW5jdGlvbih0LGUpe2VQKHQsZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5maW5kVGFyZ2V0SW5mbyh0LGUpO2lmKHQucmFuZ2U9dC5yYW5nZXx8W10saSYmITAhPT1pKXt0LnBhbmVsSWQ9aS5wYW5lbElkO3ZhciBuPWhQW3QuYnJ1c2hUeXBlXSgwLGkuY29vcmRTeXMsdC5jb29yZFJhbmdlKSxvPXQuX19yYW5nZU9mZnNldDt0LnJhbmdlPW8/Y1BbdC5icnVzaFR5cGVdKG4udmFsdWVzLG8ub2Zmc2V0LFR2KG4ueHlNaW5NYXgsby54eU1pbk1heCkpOm4udmFsdWVzfX0sdGhpcyl9LHJQLm1ha2VQYW5lbE9wdHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZih0aGlzLl90YXJnZXRJbmZvTGlzdCxmdW5jdGlvbihpKXt2YXIgbj1pLmdldFBhbmVsUmVjdCgpO3JldHVybntwYW5lbElkOmkucGFuZWxJZCxkZWZhdWx0QnJ1c2hUeXBlOmUmJmUoaSksY2xpcFBhdGg6T2YobiksaXNUYXJnZXRCeUN1cnNvcjpSZihuLHQsaS5jb29yZFN5c01vZGVsKSxnZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50OkVmKG4pfX0pfSxyUC5jb250cm9sU2VyaWVzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmZpbmRUYXJnZXRJbmZvKHQsaSk7cmV0dXJuITA9PT1ufHxuJiZpUChuLmNvb3JkU3lzZXMsZS5jb29yZGluYXRlU3lzdGVtKT49MH0sclAuZmluZFRhcmdldEluZm89ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5fdGFyZ2V0SW5mb0xpc3Qsbj1TdihlLHQpLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIGE9aVtvXSxyPXQucGFuZWxJZDtpZihyKXtpZihhLnBhbmVsSWQ9PT1yKXJldHVybiBhfWVsc2UgZm9yKG89MDtvPGxQLmxlbmd0aDtvKyspaWYobFBbb10obixhKSlyZXR1cm4gYX1yZXR1cm4hMH07dmFyIHNQPXtncmlkOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC54QXhpc01vZGVscyxuPXQueUF4aXNNb2RlbHMsbz10LmdyaWRNb2RlbHMsYT1SKCkscj17fSxzPXt9OyhpfHxufHxvKSYmKGVQKGksZnVuY3Rpb24odCl7dmFyIGU9dC5heGlzLmdyaWQubW9kZWw7YS5zZXQoZS5pZCxlKSxyW2UuaWRdPSEwfSksZVAobixmdW5jdGlvbih0KXt2YXIgZT10LmF4aXMuZ3JpZC5tb2RlbDthLnNldChlLmlkLGUpLHNbZS5pZF09ITB9KSxlUChvLGZ1bmN0aW9uKHQpe2Euc2V0KHQuaWQsdCksclt0LmlkXT0hMCxzW3QuaWRdPSEwfSksYS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQuY29vcmRpbmF0ZVN5c3RlbSxhPVtdO2VQKG8uZ2V0Q2FydGVzaWFucygpLGZ1bmN0aW9uKHQsZSl7KGlQKGksdC5nZXRBeGlzKCJ4IikubW9kZWwpPj0wfHxpUChuLHQuZ2V0QXhpcygieSIpLm1vZGVsKT49MCkmJmEucHVzaCh0KX0pLGUucHVzaCh7cGFuZWxJZDoiZ3JpZC0tIit0LmlkLGdyaWRNb2RlbDp0LGNvb3JkU3lzTW9kZWw6dCxjb29yZFN5czphWzBdLGNvb3JkU3lzZXM6YSxnZXRQYW5lbFJlY3Q6dVAuZ3JpZCx4QXhpc0RlY2xhcmVkOnJbdC5pZF0seUF4aXNEZWNsYXJlZDpzW3QuaWRdfSl9KSl9LGdlbzpmdW5jdGlvbih0LGUpe2VQKHQuZ2VvTW9kZWxzLGZ1bmN0aW9uKHQpe3ZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbTtlLnB1c2goe3BhbmVsSWQ6Imdlby0tIit0LmlkLGdlb01vZGVsOnQsY29vcmRTeXNNb2RlbDp0LGNvb3JkU3lzOmksY29vcmRTeXNlczpbaV0sZ2V0UGFuZWxSZWN0OnVQLmdlb30pfSl9fSxsUD1bZnVuY3Rpb24odCxlKXt2YXIgaT10LnhBeGlzTW9kZWwsbj10LnlBeGlzTW9kZWwsbz10LmdyaWRNb2RlbDtyZXR1cm4hbyYmaSYmKG89aS5heGlzLmdyaWQubW9kZWwpLCFvJiZuJiYobz1uLmF4aXMuZ3JpZC5tb2RlbCksbyYmbz09PWUuZ3JpZE1vZGVsfSxmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2VvTW9kZWw7cmV0dXJuIGkmJmk9PT1lLmdlb01vZGVsfV0sdVA9e2dyaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZFN5cy5ncmlkLmdldFJlY3QoKS5jbG9uZSgpfSxnZW86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvb3JkU3lzLGU9dC5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO3JldHVybiBlLmFwcGx5VHJhbnNmb3JtKGdvKHQpKSxlfX0saFA9e2xpbmVYOm5QKE12LDApLGxpbmVZOm5QKE12LDEpLHJlY3Q6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWVbb1BbdF1dKFtpWzBdWzBdLGlbMV1bMF1dKSxvPWVbb1BbdF1dKFtpWzBdWzFdLGlbMV1bMV1dKSxhPVtidihbblswXSxvWzBdXSksYnYoW25bMV0sb1sxXV0pXTtyZXR1cm57dmFsdWVzOmEseHlNaW5NYXg6YX19LHBvbHlnb246ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVtbMS8wLC0xLzBdLFsxLzAsLTEvMF1dO3JldHVybnt2YWx1ZXM6ZihpLGZ1bmN0aW9uKGkpe3ZhciBvPWVbb1BbdF1dKGkpO3JldHVybiBuWzBdWzBdPU1hdGgubWluKG5bMF1bMF0sb1swXSksblsxXVswXT1NYXRoLm1pbihuWzFdWzBdLG9bMV0pLG5bMF1bMV09TWF0aC5tYXgoblswXVsxXSxvWzBdKSxuWzFdWzFdPU1hdGgubWF4KG5bMV1bMV0sb1sxXSksb30pLHh5TWluTWF4Om59fX0sY1A9e2xpbmVYOm5QKEl2LDApLGxpbmVZOm5QKEl2LDEpLHJlY3Q6ZnVuY3Rpb24odCxlLGkpe3JldHVybltbdFswXVswXS1pWzBdKmVbMF1bMF0sdFswXVsxXS1pWzBdKmVbMF1bMV1dLFt0WzFdWzBdLWlbMV0qZVsxXVswXSx0WzFdWzFdLWlbMV0qZVsxXVsxXV1dfSxwb2x5Z29uOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZih0LGZ1bmN0aW9uKHQsbil7cmV0dXJuW3RbMF0taVswXSplW25dWzBdLHRbMV0taVsxXSplW25dWzFdXX0pfX0sZFA9WyJpbkJydXNoIiwib3V0T2ZCcnVzaCJdLGZQPSJfX2VjQnJ1c2hTZWxlY3QiLHBQPSJfX2VjSW5CcnVzaFNlbGVjdEV2ZW50IixnUD1DSS5WSVNVQUwuQlJVU0g7ZnMoZ1AsZnVuY3Rpb24odCxlLGkpe3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImJydXNoIn0sZnVuY3Rpb24oZSl7aSYmInRha2VHbG9iYWxDdXJzb3IiPT09aS50eXBlJiZlLnNldEJydXNoT3B0aW9uKCJicnVzaCI9PT1pLmtleT9pLmJydXNoT3B0aW9uOnticnVzaFR5cGU6ITF9KSwoZS5icnVzaFRhcmdldE1hbmFnZXI9bmV3IHd2KGUub3B0aW9uLHQpKS5zZXRJbnB1dFJhbmdlcyhlLmFyZWFzLHQpfSl9KSxwcyhnUCxmdW5jdGlvbih0LGUsbil7dmFyIG8sYSxzPVtdO3QuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImJydXNoIn0sZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBsKHQpe3JldHVybiJhbGwiPT09bXx8dlt0XX1mdW5jdGlvbiB1KHQpe3JldHVybiEhdC5sZW5ndGh9ZnVuY3Rpb24gaCh0LGUpe3ZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbTt3fD1pLmhhc0F4aXNCcnVzaGVkKCksbChlKSYmaS5lYWNoQWN0aXZlU3RhdGUodC5nZXREYXRhKCksZnVuY3Rpb24odCxlKXsiYWN0aXZlIj09PXQmJih4W2VdPTEpfSl9ZnVuY3Rpb24gYyhpLG4sbyl7dmFyIGE9a3YoaSk7aWYoYSYmIVB2KGUsbikmJihkKGIsZnVuY3Rpb24obil7YVtuLmJydXNoVHlwZV0mJmUuYnJ1c2hUYXJnZXRNYW5hZ2VyLmNvbnRyb2xTZXJpZXMobixpLHQpJiZvLnB1c2gobiksd3w9dShvKX0pLGwobikmJnUobykpKXt2YXIgcj1pLmdldERhdGEoKTtyLmVhY2goZnVuY3Rpb24odCl7THYoYSxvLHIsdCkmJih4W3RdPTEpfSl9fXZhciBwPXticnVzaElkOmUuaWQsYnJ1c2hJbmRleDpuLGJydXNoTmFtZTplLm5hbWUsYXJlYXM6aShlLmFyZWFzKSxzZWxlY3RlZDpbXX07cy5wdXNoKHApO3ZhciBnPWUub3B0aW9uLG09Zy5icnVzaExpbmssdj1bXSx4PVtdLF89W10sdz0wO258fChvPWcudGhyb3R0bGVUeXBlLGE9Zy50aHJvdHRsZURlbGF5KTt2YXIgYj1mKGUuYXJlYXMsZnVuY3Rpb24odCl7cmV0dXJuIE52KHIoe2JvdW5kaW5nUmVjdDptUFt0LmJydXNoVHlwZV0odCl9LHQpKX0pLFM9Y3YoZS5vcHRpb24sZFAsZnVuY3Rpb24odCl7dC5tYXBwaW5nTWV0aG9kPSJmaXhlZCJ9KTt5KG0pJiZkKG0sZnVuY3Rpb24odCl7dlt0XT0xfSksdC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQsZSl7dmFyIGk9X1tlXT1bXTsicGFyYWxsZWwiPT09dC5zdWJUeXBlP2godCxlKTpjKHQsZSxpKX0pLHQuZWFjaFNlcmllcyhmdW5jdGlvbih0LGUpe3ZhciBpPXtzZXJpZXNJZDp0LmlkLHNlcmllc0luZGV4OmUsc2VyaWVzTmFtZTp0Lm5hbWUsZGF0YUluZGV4OltdfTtwLnNlbGVjdGVkLnB1c2goaSk7dmFyIG49a3YodCksbz1fW2VdLGE9dC5nZXREYXRhKCkscj1sKGUpP2Z1bmN0aW9uKHQpe3JldHVybiB4W3RdPyhpLmRhdGFJbmRleC5wdXNoKGEuZ2V0UmF3SW5kZXgodCkpLCJpbkJydXNoIik6Im91dE9mQnJ1c2gifTpmdW5jdGlvbih0KXtyZXR1cm4gTHYobixvLGEsdCk/KGkuZGF0YUluZGV4LnB1c2goYS5nZXRSYXdJbmRleCh0KSksImluQnJ1c2giKToib3V0T2ZCcnVzaCJ9OyhsKGUpP3c6dShvKSkmJmZ2KGRQLFMsYSxyKX0pfSksQXYoZSxvLGEscyxuKX0pO3ZhciBtUD17bGluZVg6QixsaW5lWTpCLHJlY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIE92KHQucmFuZ2UpfSxwb2x5Z29uOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPXQucmFuZ2Usbj0wLG89aS5sZW5ndGg7bjxvO24rKyl7ZT1lfHxbWzEvMCwtMS8wXSxbMS8wLC0xLzBdXTt2YXIgYT1pW25dO2FbMF08ZVswXVswXSYmKGVbMF1bMF09YVswXSksYVswXT5lWzBdWzFdJiYoZVswXVsxXT1hWzBdKSxhWzFdPGVbMV1bMF0mJihlWzFdWzBdPWFbMV0pLGFbMV0+ZVsxXVsxXSYmKGVbMV1bMV09YVsxXSl9cmV0dXJuIGUmJk92KGUpfX0sdlA9WyIjZGRkIl07dnMoe3R5cGU6ImJydXNoIixkZXBlbmRlbmNpZXM6WyJnZW8iLCJncmlkIiwieEF4aXMiLCJ5QXhpcyIsInBhcmFsbGVsIiwic2VyaWVzIl0sZGVmYXVsdE9wdGlvbjp7dG9vbGJveDpudWxsLGJydXNoTGluazpudWxsLHNlcmllc0luZGV4OiJhbGwiLGdlb0luZGV4Om51bGwseEF4aXNJbmRleDpudWxsLHlBeGlzSW5kZXg6bnVsbCxicnVzaFR5cGU6InJlY3QiLGJydXNoTW9kZToic2luZ2xlIix0cmFuc2Zvcm1hYmxlOiEwLGJydXNoU3R5bGU6e2JvcmRlcldpZHRoOjEsY29sb3I6InJnYmEoMTIwLDE0MCwxODAsMC4zKSIsYm9yZGVyQ29sb3I6InJnYmEoMTIwLDE0MCwxODAsMC44KSJ9LHRocm90dGxlVHlwZToiZml4UmF0ZSIsdGhyb3R0bGVEZWxheTowLHJlbW92ZU9uQ2xpY2s6ITAsejoxZTR9LGFyZWFzOltdLGJydXNoVHlwZTpudWxsLGJydXNoT3B0aW9uOnt9LGNvb3JkSW5mb0xpc3Q6W10sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uOyFlJiZkdihpLHQsWyJpbkJydXNoIiwib3V0T2ZCcnVzaCJdKTt2YXIgbj1pLmluQnJ1c2g9aS5pbkJydXNofHx7fTtpLm91dE9mQnJ1c2g9aS5vdXRPZkJydXNofHx7Y29sb3I6dlB9LG4uaGFzT3duUHJvcGVydHkoImxpZnRaIil8fChuLmxpZnRaPTUpfSxzZXRBcmVhczpmdW5jdGlvbih0KXt0JiYodGhpcy5hcmVhcz1mKHQsZnVuY3Rpb24odCl7cmV0dXJuIEV2KHRoaXMub3B0aW9uLHQpfSx0aGlzKSl9LHNldEJydXNoT3B0aW9uOmZ1bmN0aW9uKHQpe3RoaXMuYnJ1c2hPcHRpb249RXYodGhpcy5vcHRpb24sdCksdGhpcy5icnVzaFR5cGU9dGhpcy5icnVzaE9wdGlvbi5icnVzaFR5cGV9fSk7eXMoe3R5cGU6ImJydXNoIixpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5lY01vZGVsPXQsdGhpcy5hcGk9ZSx0aGlzLm1vZGVsLCh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IEpkKGUuZ2V0WnIoKSkpLm9uKCJicnVzaCIsbSh0aGlzLl9vbkJydXNoLHRoaXMpKS5tb3VudCgpfSxyZW5kZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubW9kZWw9dCxSdi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHVwZGF0ZVRyYW5zZm9ybTpSdix1cGRhdGVWaWV3OlJ2LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9icnVzaENvbnRyb2xsZXIuZGlzcG9zZSgpfSxfb25CcnVzaDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubW9kZWwuaWQ7dGhpcy5tb2RlbC5icnVzaFRhcmdldE1hbmFnZXIuc2V0T3V0cHV0UmFuZ2VzKHQsdGhpcy5lY01vZGVsKSwoIWUuaXNFbmR8fGUucmVtb3ZlT25DbGljaykmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaCIsYnJ1c2hJZDpuLGFyZWFzOmkodCksJGZyb206bn0pfX0pLGNzKHt0eXBlOiJicnVzaCIsZXZlbnQ6ImJydXNoIn0sZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCIscXVlcnk6dH0sZnVuY3Rpb24oZSl7ZS5zZXRBcmVhcyh0LmFyZWFzKX0pfSksY3Moe3R5cGU6ImJydXNoU2VsZWN0IixldmVudDoiYnJ1c2hTZWxlY3RlZCIsdXBkYXRlOiJub25lIn0sZnVuY3Rpb24oKXt9KTt2YXIgeVA9e30seFA9c0kudG9vbGJveC5icnVzaDtWdi5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLHR5cGU6WyJyZWN0IiwicG9seWdvbiIsImxpbmVYIiwibGluZVkiLCJrZWVwIiwiY2xlYXIiXSxpY29uOntyZWN0OiJNNy4zLDM0LjcgTTAuNCwxMFYtMC4yaDkuOCBNODkuNiwxMFYtMC4yaC05LjggTTAuNCw2MHYxMC4yaDkuOCBNODkuNiw2MHYxMC4yaC05LjggTTEyLjMsMjIuNFYxMC41aDEzLjEgTTMzLjYsMTAuNWg3LjggTTQ5LjEsMTAuNWg3LjggTTc3LjUsMjIuNFYxMC41aC0xMyBNMTIuMywzMS4xdjguMiBNNzcuNywzMS4xdjguMiBNMTIuMyw0Ny42djExLjloMTMuMSBNMzMuNiw1OS41aDcuNiBNNDkuMSw1OS41IGg3LjcgTTc3LjUsNDcuNnYxMS45aC0xMyIscG9seWdvbjoiTTU1LjIsMzQuOWMxLjcsMCwzLjEsMS40LDMuMSwzLjFzLTEuNCwzLjEtMy4xLDMuMSBzLTMuMS0xLjQtMy4xLTMuMVM1My41LDM0LjksNTUuMiwzNC45eiBNNTAuNCw1MWMxLjcsMCwzLjEsMS40LDMuMSwzLjFjMCwxLjctMS40LDMuMS0zLjEsMy4xYy0xLjcsMC0zLjEtMS40LTMuMS0zLjEgQzQ3LjMsNTIuNCw0OC43LDUxLDUwLjQsNTF6IE01NS42LDM3LjFsMS41LTcuOCBNNjAuMSwxMy41bDEuNi04LjdsLTcuOCw0IE01OSwxOWwtMSw1LjMgTTI0LDE2LjFsNi40LDQuOWw2LjQtMy4zIE00OC41LDExLjYgbC01LjksMy4xIE0xOS4xLDEyLjhMOS43LDUuMWwxLjEsNy43IE0xMy40LDI5LjhsMSw3LjNsNi42LDEuNiBNMTEuNiwxOC40bDEsNi4xIE0zMi44LDQxLjkgTTI2LjYsNDAuNCBNMjcuMyw0MC4ybDYuMSwxLjYgTTQ5LjksNTIuMWwtNS42LTcuNmwtNC45LTEuMiIsbGluZVg6Ik0xNS4yLDMwIE0xOS43LDE1LjZWMS45SDI5IE0zNC44LDEuOUg0MC40IE01NS4zLDE1LjZWMS45SDQ1LjkgTTE5LjcsNDQuNFY1OC4xSDI5IE0zNC44LDU4LjFINDAuNCBNNTUuMyw0NC40IFY1OC4xSDQ1LjkgTTEyLjUsMjAuM2wtOS40LDkuNmw5LjYsOS44IE0zLjEsMjkuOWgxNi41IE02Mi41LDIwLjNsOS40LDkuNkw2Mi4zLDM5LjcgTTcxLjksMjkuOUg1NS40IixsaW5lWToiTTM4LjgsNy43IE01Mi43LDEyaDEzLjJ2OSBNNjUuOSwyNi42VjMyIE01Mi43LDQ2LjNoMTMuMnYtOSBNMjQuOSwxMkgxMS44djkgTTExLjgsMjYuNlYzMiBNMjQuOSw0Ni4zSDExLjh2LTkgTTQ4LjIsNS4xbC05LjMtOWwtOS40LDkuMiBNMzguOS0zLjlWMTIgTTQ4LjIsNTMuM2wtOS4zLDlsLTkuNC05LjIgTTM4LjksNjIuM1Y0Ni40IixrZWVwOiJNNCwxMC41VjFoMTAuMyBNMjAuNywxaDYuMSBNMzMsMWg2LjEgTTU1LjQsMTAuNVYxSDQ1LjIgTTQsMTcuM3Y2LjYgTTU1LjYsMTcuM3Y2LjYgTTQsMzAuNVY0MGgxMC4zIE0yMC43LDQwIGg2LjEgTTMzLDQwaDYuMSBNNTUuNCwzMC41VjQwSDQ1LjIgTTIxLDE4LjloNjIuOXY0OC42SDIxVjE4Ljl6IixjbGVhcjoiTTIyLDE0LjdsMzAuOSwzMSBNNTIuOSwxNC43TDIyLDQ1LjcgTTQuNywxNi44VjQuMmgxMy4xIE0yNiw0LjJoNy44IE00MS42LDQuMmg3LjggTTcwLjMsMTYuOFY0LjJINTcuMiBNNC43LDI1Ljl2OC42IE03MC4zLDI1Ljl2OC42IE00LjcsNDMuMnYxMi42aDEzLjEgTTI2LDU1LjhoNy44IE00MS42LDU1LjhoNy44IE03MC4zLDQzLjJ2MTIuNkg1Ny4yIn0sdGl0bGU6aSh4UC50aXRsZSl9O3ZhciBfUD1Wdi5wcm90b3R5cGU7X1AucmVuZGVyPV9QLnVwZGF0ZVZpZXc9ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG8sYTtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCJ9LGZ1bmN0aW9uKHQpe249dC5icnVzaFR5cGUsbz10LmJydXNoT3B0aW9uLmJydXNoTW9kZXx8InNpbmdsZSIsYXw9dC5hcmVhcy5sZW5ndGh9KSx0aGlzLl9icnVzaFR5cGU9bix0aGlzLl9icnVzaE1vZGU9byxkKHQuZ2V0KCJ0eXBlIiwhMCksZnVuY3Rpb24oZSl7dC5zZXRJY29uU3RhdHVzKGUsKCJrZWVwIj09PWU/Im11bHRpcGxlIj09PW86ImNsZWFyIj09PWU/YTplPT09bik/ImVtcGhhc2lzIjoibm9ybWFsIil9KX0sX1AuZ2V0SWNvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1vZGVsLGU9dC5nZXQoImljb24iLCEwKSxpPXt9O3JldHVybiBkKHQuZ2V0KCJ0eXBlIiwhMCksZnVuY3Rpb24odCl7ZVt0XSYmKGlbdF09ZVt0XSl9KSxpfSxfUC5vbmNsaWNrPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9icnVzaFR5cGUsbz10aGlzLl9icnVzaE1vZGU7ImNsZWFyIj09PWk/KGUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImF4aXNBcmVhU2VsZWN0IixpbnRlcnZhbHM6W119KSxlLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaCIsY29tbWFuZDoiY2xlYXIiLGFyZWFzOltdfSkpOmUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRha2VHbG9iYWxDdXJzb3IiLGtleToiYnJ1c2giLGJydXNoT3B0aW9uOnticnVzaFR5cGU6ImtlZXAiPT09aT9uOm4hPT1pJiZpLGJydXNoTW9kZToia2VlcCI9PT1pPyJtdWx0aXBsZSI9PT1vPyJzaW5nbGUiOiJtdWx0aXBsZSI6b319KX0senYoImJydXNoIixWdiksdXMoZnVuY3Rpb24odCxlKXt2YXIgaT10JiZ0LmJydXNoO2lmKHkoaSl8fChpPWk/W2ldOltdKSxpLmxlbmd0aCl7dmFyIG49W107ZChpLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaGFzT3duUHJvcGVydHkoInRvb2xib3giKT90LnRvb2xib3g6W107ZSBpbnN0YW5jZW9mIEFycmF5JiYobj1uLmNvbmNhdChlKSl9KTt2YXIgbz10JiZ0LnRvb2xib3g7eShvKSYmKG89b1swXSksb3x8KG89e2ZlYXR1cmU6e319LHQudG9vbGJveD1bb10pO3ZhciBhPW8uZmVhdHVyZXx8KG8uZmVhdHVyZT17fSkscj1hLmJydXNofHwoYS5icnVzaD17fSkscz1yLnR5cGV8fChyLnR5cGU9W10pO3MucHVzaC5hcHBseShzLG4pLHV2KHMpLGUmJiFzLmxlbmd0aCYmcy5wdXNoLmFwcGx5KHMsSmspfX0pO0d2LnByb3RvdHlwZT17Y29uc3RydWN0b3I6R3YsdHlwZToiY2FsZW5kYXIiLGRpbWVuc2lvbnM6WyJ0aW1lIiwidmFsdWUiXSxnZXREaW1lbnNpb25zSW5mbzpmdW5jdGlvbigpe3JldHVyblt7bmFtZToidGltZSIsdHlwZToidGltZSJ9LCJ2YWx1ZSJdfSxnZXRSYW5nZUluZm86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VJbmZvfSxnZXRNb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbH0sZ2V0UmVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN0fSxnZXRDZWxsV2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3d9LGdldENlbGxIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2h9LGdldE9yaWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnR9LGdldEZpcnN0RGF5T2ZXZWVrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpcnN0RGF5T2ZXZWVrfSxnZXREYXRlSW5mbzpmdW5jdGlvbih0KXt2YXIgZT0odD1Sbyh0KSkuZ2V0RnVsbFllYXIoKSxpPXQuZ2V0TW9udGgoKSsxO2k9aTwxMD8iMCIraTppO3ZhciBuPXQuZ2V0RGF0ZSgpO249bjwxMD8iMCIrbjpuO3ZhciBvPXQuZ2V0RGF5KCk7cmV0dXJuIG89TWF0aC5hYnMoKG8rNy10aGlzLmdldEZpcnN0RGF5T2ZXZWVrKCkpJTcpLHt5OmUsbTppLGQ6bixkYXk6byx0aW1lOnQuZ2V0VGltZSgpLGZvcm1hdGVkRGF0ZTplKyItIitpKyItIituLGRhdGU6dH19LGdldE5leHRORGF5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT0oZT1lfHwwKT90aGlzLmdldERhdGVJbmZvKHQpOigodD1uZXcgRGF0ZSh0aGlzLmdldERhdGVJbmZvKHQpLnRpbWUpKS5zZXREYXRlKHQuZ2V0RGF0ZSgpK2UpLHRoaXMuZ2V0RGF0ZUluZm8odCkpfSx1cGRhdGU6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7cmV0dXJuIG51bGwhPXRbZV0mJiJhdXRvIiE9PXRbZV19dGhpcy5fZmlyc3REYXlPZldlZWs9K3RoaXMuX21vZGVsLmdldE1vZGVsKCJkYXlMYWJlbCIpLmdldCgiZmlyc3REYXkiKSx0aGlzLl9vcmllbnQ9dGhpcy5fbW9kZWwuZ2V0KCJvcmllbnQiKSx0aGlzLl9saW5lV2lkdGg9dGhpcy5fbW9kZWwuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLmxpbmVXaWR0aHx8MCx0aGlzLl9yYW5nZUluZm89dGhpcy5fZ2V0UmFuZ2VJbmZvKHRoaXMuX2luaXRSYW5nZU9wdGlvbigpKTt2YXIgbj10aGlzLl9yYW5nZUluZm8ud2Vla3N8fDEsbz1bIndpZHRoIiwiaGVpZ2h0Il0sYT10aGlzLl9tb2RlbC5nZXQoImNlbGxTaXplIikuc2xpY2UoKSxyPXRoaXMuX21vZGVsLmdldEJveExheW91dFBhcmFtcygpLHM9Imhvcml6b250YWwiPT09dGhpcy5fb3JpZW50P1tuLDddOls3LG5dO2QoWzAsMV0sZnVuY3Rpb24odCl7aShhLHQpJiYocltvW3RdXT1hW3RdKnNbdF0pfSk7dmFyIGw9e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sdT10aGlzLl9yZWN0PVFvKHIsbCk7ZChbMCwxXSxmdW5jdGlvbih0KXtpKGEsdCl8fChhW3RdPXVbb1t0XV0vc1t0XSl9KSx0aGlzLl9zdz1hWzBdLHRoaXMuX3NoPWFbMV19LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQsZSl7eSh0KSYmKHQ9dFswXSksbnVsbD09ZSYmKGU9ITApO3ZhciBpPXRoaXMuZ2V0RGF0ZUluZm8odCksbj10aGlzLl9yYW5nZUluZm8sbz1pLmZvcm1hdGVkRGF0ZTtpZihlJiYhKGkudGltZT49bi5zdGFydC50aW1lJiZpLnRpbWU8bi5lbmQudGltZSs4NjRlNSkpcmV0dXJuW05hTixOYU5dO3ZhciBhPWkuZGF5LHI9dGhpcy5fZ2V0UmFuZ2VJbmZvKFtuLnN0YXJ0LnRpbWUsb10pLm50aFdlZWs7cmV0dXJuInZlcnRpY2FsIj09PXRoaXMuX29yaWVudD9bdGhpcy5fcmVjdC54K2EqdGhpcy5fc3crdGhpcy5fc3cvMix0aGlzLl9yZWN0Lnkrcip0aGlzLl9zaCt0aGlzLl9zaC8yXTpbdGhpcy5fcmVjdC54K3IqdGhpcy5fc3crdGhpcy5fc3cvMix0aGlzLl9yZWN0LnkrYSp0aGlzLl9zaCt0aGlzLl9zaC8yXX0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb2ludFRvRGF0ZSh0KTtyZXR1cm4gZSYmZS50aW1lfSxkYXRhVG9SZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5kYXRhVG9Qb2ludCh0LGUpO3JldHVybntjb250ZW50U2hhcGU6e3g6aVswXS0odGhpcy5fc3ctdGhpcy5fbGluZVdpZHRoKS8yLHk6aVsxXS0odGhpcy5fc2gtdGhpcy5fbGluZVdpZHRoKS8yLHdpZHRoOnRoaXMuX3N3LXRoaXMuX2xpbmVXaWR0aCxoZWlnaHQ6dGhpcy5fc2gtdGhpcy5fbGluZVdpZHRofSxjZW50ZXI6aSx0bDpbaVswXS10aGlzLl9zdy8yLGlbMV0tdGhpcy5fc2gvMl0sdHI6W2lbMF0rdGhpcy5fc3cvMixpWzFdLXRoaXMuX3NoLzJdLGJyOltpWzBdK3RoaXMuX3N3LzIsaVsxXSt0aGlzLl9zaC8yXSxibDpbaVswXS10aGlzLl9zdy8yLGlbMV0rdGhpcy5fc2gvMl19fSxwb2ludFRvRGF0ZTpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKCh0WzBdLXRoaXMuX3JlY3QueCkvdGhpcy5fc3cpKzEsaT1NYXRoLmZsb29yKCh0WzFdLXRoaXMuX3JlY3QueSkvdGhpcy5fc2gpKzEsbj10aGlzLl9yYW5nZUluZm8ucmFuZ2U7cmV0dXJuInZlcnRpY2FsIj09PXRoaXMuX29yaWVudD90aGlzLl9nZXREYXRlQnlXZWVrc0FuZERheShpLGUtMSxuKTp0aGlzLl9nZXREYXRlQnlXZWVrc0FuZERheShlLGktMSxuKX0sY29udmVydFRvUGl4ZWw6dihXdiwiZGF0YVRvUG9pbnQiKSxjb252ZXJ0RnJvbVBpeGVsOnYoV3YsInBvaW50VG9EYXRhIiksX2luaXRSYW5nZU9wdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21vZGVsLmdldCgicmFuZ2UiKSxlPXQ7aWYoeShlKSYmMT09PWUubGVuZ3RoJiYoZT1lWzBdKSwvXlxkezR9JC8udGVzdChlKSYmKHQ9W2UrIi0wMS0wMSIsZSsiLTEyLTMxIl0pLC9eXGR7NH1bXC98LV1cZHsxLDJ9JC8udGVzdChlKSl7dmFyIGk9dGhpcy5nZXREYXRlSW5mbyhlKSxuPWkuZGF0ZTtuLnNldE1vbnRoKG4uZ2V0TW9udGgoKSsxKTt2YXIgbz10aGlzLmdldE5leHRORGF5KG4sLTEpO3Q9W2kuZm9ybWF0ZWREYXRlLG8uZm9ybWF0ZWREYXRlXX0vXlxkezR9W1wvfC1dXGR7MSwyfVtcL3wtXVxkezEsMn0kLy50ZXN0KGUpJiYodD1bZSxlXSk7dmFyIGE9dGhpcy5fZ2V0UmFuZ2VJbmZvKHQpO3JldHVybiBhLnN0YXJ0LnRpbWU+YS5lbmQudGltZSYmdC5yZXZlcnNlKCksdH0sX2dldFJhbmdlSW5mbzpmdW5jdGlvbih0KXt2YXIgZTsodD1bdGhpcy5nZXREYXRlSW5mbyh0WzBdKSx0aGlzLmdldERhdGVJbmZvKHRbMV0pXSlbMF0udGltZT50WzFdLnRpbWUmJihlPSEwLHQucmV2ZXJzZSgpKTt2YXIgaT1NYXRoLmZsb29yKHRbMV0udGltZS84NjRlNSktTWF0aC5mbG9vcih0WzBdLnRpbWUvODY0ZTUpKzEsbj1uZXcgRGF0ZSh0WzBdLnRpbWUpLG89bi5nZXREYXRlKCksYT10WzFdLmRhdGUuZ2V0RGF0ZSgpO2lmKG4uc2V0RGF0ZShvK2ktMSksbi5nZXREYXRlKCkhPT1hKWZvcih2YXIgcj1uLmdldFRpbWUoKS10WzFdLnRpbWU+MD8xOi0xO24uZ2V0RGF0ZSgpIT09YSYmKG4uZ2V0VGltZSgpLXRbMV0udGltZSkqcj4wOylpLT1yLG4uc2V0RGF0ZShvK2ktMSk7dmFyIHM9TWF0aC5mbG9vcigoaSt0WzBdLmRheSs2KS83KSxsPWU/MS1zOnMtMTtyZXR1cm4gZSYmdC5yZXZlcnNlKCkse3JhbmdlOlt0WzBdLmZvcm1hdGVkRGF0ZSx0WzFdLmZvcm1hdGVkRGF0ZV0sc3RhcnQ6dFswXSxlbmQ6dFsxXSxhbGxEYXk6aSx3ZWVrczpzLG50aFdlZWs6bCxmd2Vlazp0WzBdLmRheSxsd2Vlazp0WzFdLmRheX19LF9nZXREYXRlQnlXZWVrc0FuZERheTpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZ2V0UmFuZ2VJbmZvKGkpO2lmKHQ+bi53ZWVrc3x8MD09PXQmJmU8bi5md2Vla3x8dD09PW4ud2Vla3MmJmU+bi5sd2VlaylyZXR1cm4hMTt2YXIgbz03Kih0LTEpLW4uZndlZWsrZSxhPW5ldyBEYXRlKG4uc3RhcnQudGltZSk7cmV0dXJuIGEuc2V0RGF0ZShuLnN0YXJ0LmQrbyksdGhpcy5nZXREYXRlSW5mbyhhKX19LEd2LmRpbWVuc2lvbnM9R3YucHJvdG90eXBlLmRpbWVuc2lvbnMsR3YuZ2V0RGltZW5zaW9uc0luZm89R3YucHJvdG90eXBlLmdldERpbWVuc2lvbnNJbmZvLEd2LmNyZWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiB0LmVhY2hDb21wb25lbnQoImNhbGVuZGFyIixmdW5jdGlvbihuKXt2YXIgbz1uZXcgR3Yobix0LGUpO2kucHVzaChvKSxuLmNvb3JkaW5hdGVTeXN0ZW09b30pLHQuZWFjaFNlcmllcyhmdW5jdGlvbih0KXsiY2FsZW5kYXIiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSYmKHQuY29vcmRpbmF0ZVN5c3RlbT1pW3QuZ2V0KCJjYWxlbmRhckluZGV4Iil8fDBdKX0pLGl9LENhLnJlZ2lzdGVyKCJjYWxlbmRhciIsR3YpO3ZhciB3UD11TS5leHRlbmQoe3R5cGU6ImNhbGVuZGFyIixjb29yZGluYXRlU3lzdGVtOm51bGwsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGxlZnQ6ODAsdG9wOjYwLGNlbGxTaXplOjIwLG9yaWVudDoiaG9yaXpvbnRhbCIsc3BsaXRMaW5lOntzaG93OiEwLGxpbmVTdHlsZTp7Y29sb3I6IiMwMDAiLHdpZHRoOjEsdHlwZToic29saWQifX0saXRlbVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoiI2NjYyJ9LGRheUxhYmVsOntzaG93OiEwLGZpcnN0RGF5OjAscG9zaXRpb246InN0YXJ0IixtYXJnaW46IjUwJSIsbmFtZU1hcDoiZW4iLGNvbG9yOiIjMDAwIn0sbW9udGhMYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoic3RhcnQiLG1hcmdpbjo1LGFsaWduOiJjZW50ZXIiLG5hbWVNYXA6ImVuIixmb3JtYXR0ZXI6bnVsbCxjb2xvcjoiIzAwMCJ9LHllYXJMYWJlbDp7c2hvdzohMCxwb3NpdGlvbjpudWxsLG1hcmdpbjozMCxmb3JtYXR0ZXI6bnVsbCxjb2xvcjoiI2NjYyIsZm9udEZhbWlseToic2Fucy1zZXJpZiIsZm9udFdlaWdodDoiYm9sZGVyIixmb250U2l6ZToyMH19LGluaXQ6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89bmEodCk7d1Auc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLEZ2KHQsbyl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQsZSl7d1Auc3VwZXJBcHBseSh0aGlzLCJtZXJnZU9wdGlvbiIsYXJndW1lbnRzKSxGdih0aGlzLm9wdGlvbix0KX19KSxiUD17RU46WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxDTjpbIuS4gOaciCIsIuS6jOaciCIsIuS4ieaciCIsIuWbm+aciCIsIuS6lOaciCIsIuWFreaciCIsIuS4g+aciCIsIuWFq+aciCIsIuS5neaciCIsIuWNgeaciCIsIuWNgeS4gOaciCIsIuWNgeS6jOaciCJdfSxTUD17RU46WyJTIiwiTSIsIlQiLCJXIiwiVCIsIkYiLCJTIl0sQ046WyLml6UiLCLkuIAiLCLkuowiLCLkuIkiLCLlm5siLCLkupQiLCLlha0iXX07eXMoe3R5cGU6ImNhbGVuZGFyIixfdGxwb2ludHM6bnVsbCxfYmxwb2ludHM6bnVsbCxfZmlyc3REYXlPZk1vbnRoOm51bGwsX2ZpcnN0RGF5UG9pbnRzOm51bGwscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmdyb3VwO24ucmVtb3ZlQWxsKCk7dmFyIG89dC5jb29yZGluYXRlU3lzdGVtLGE9by5nZXRSYW5nZUluZm8oKSxyPW8uZ2V0T3JpZW50KCk7dGhpcy5fcmVuZGVyRGF5UmVjdCh0LGEsbiksdGhpcy5fcmVuZGVyTGluZXModCxhLHIsbiksdGhpcy5fcmVuZGVyWWVhclRleHQodCxhLHIsbiksdGhpcy5fcmVuZGVyTW9udGhUZXh0KHQscixuKSx0aGlzLl9yZW5kZXJXZWVrVGV4dCh0LGEscixuKX0sX3JlbmRlckRheVJlY3Q6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0sbz10LmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxhPW4uZ2V0Q2VsbFdpZHRoKCkscj1uLmdldENlbGxIZWlnaHQoKSxzPWUuc3RhcnQudGltZTtzPD1lLmVuZC50aW1lO3M9bi5nZXROZXh0TkRheShzLDEpLnRpbWUpe3ZhciBsPW4uZGF0YVRvUmVjdChbc10sITEpLnRsLHU9bmV3IGJTKHtzaGFwZTp7eDpsWzBdLHk6bFsxXSx3aWR0aDphLGhlaWdodDpyfSxjdXJzb3I6ImRlZmF1bHQiLHN0eWxlOm99KTtpLmFkZCh1KX19LF9yZW5kZXJMaW5lczpmdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBvKGUpe2EuX2ZpcnN0RGF5T2ZNb250aC5wdXNoKHIuZ2V0RGF0ZUluZm8oZSkpLGEuX2ZpcnN0RGF5UG9pbnRzLnB1c2goci5kYXRhVG9SZWN0KFtlXSwhMSkudGwpO3ZhciBvPWEuX2dldExpbmVQb2ludHNPZk9uZVdlZWsodCxlLGkpO2EuX3RscG9pbnRzLnB1c2gob1swXSksYS5fYmxwb2ludHMucHVzaChvW28ubGVuZ3RoLTFdKSxsJiZhLl9kcmF3U3BsaXRsaW5lKG8scyxuKX12YXIgYT10aGlzLHI9dC5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRNb2RlbCgic3BsaXRMaW5lLmxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGw9dC5nZXQoInNwbGl0TGluZS5zaG93IiksdT1zLmxpbmVXaWR0aDt0aGlzLl90bHBvaW50cz1bXSx0aGlzLl9ibHBvaW50cz1bXSx0aGlzLl9maXJzdERheU9mTW9udGg9W10sdGhpcy5fZmlyc3REYXlQb2ludHM9W107Zm9yKHZhciBoPWUuc3RhcnQsYz0wO2gudGltZTw9ZS5lbmQudGltZTtjKyspe28oaC5mb3JtYXRlZERhdGUpLDA9PT1jJiYoaD1yLmdldERhdGVJbmZvKGUuc3RhcnQueSsiLSIrZS5zdGFydC5tKSk7dmFyIGQ9aC5kYXRlO2Quc2V0TW9udGgoZC5nZXRNb250aCgpKzEpLGg9ci5nZXREYXRlSW5mbyhkKX1vKHIuZ2V0TmV4dE5EYXkoZS5lbmQudGltZSwxKS5mb3JtYXRlZERhdGUpLGwmJnRoaXMuX2RyYXdTcGxpdGxpbmUoYS5fZ2V0RWRnZXNQb2ludHMoYS5fdGxwb2ludHMsdSxpKSxzLG4pLGwmJnRoaXMuX2RyYXdTcGxpdGxpbmUoYS5fZ2V0RWRnZXNQb2ludHMoYS5fYmxwb2ludHMsdSxpKSxzLG4pfSxfZ2V0RWRnZXNQb2ludHM6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVt0WzBdLnNsaWNlKCksdFt0Lmxlbmd0aC0xXS5zbGljZSgpXSxvPSJob3Jpem9udGFsIj09PWk/MDoxO3JldHVybiBuWzBdW29dPW5bMF1bb10tZS8yLG5bMV1bb109blsxXVtvXStlLzIsbn0sX2RyYXdTcGxpdGxpbmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPW5ldyB3Uyh7ejI6MjAsc2hhcGU6e3BvaW50czp0fSxzdHlsZTplfSk7aS5hZGQobil9LF9nZXRMaW5lUG9pbnRzT2ZPbmVXZWVrOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW07ZT1uLmdldERhdGVJbmZvKGUpO2Zvcih2YXIgbz1bXSxhPTA7YTw3O2ErKyl7dmFyIHI9bi5nZXROZXh0TkRheShlLnRpbWUsYSkscz1uLmRhdGFUb1JlY3QoW3IudGltZV0sITEpO29bMipyLmRheV09cy50bCxvWzIqci5kYXkrMV09c1siaG9yaXpvbnRhbCI9PT1pPyJibCI6InRyIl19cmV0dXJuIG99LF9mb3JtYXR0ZXJMYWJlbDpmdW5jdGlvbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmdD9Ybyh0LGUpOiJmdW5jdGlvbiI9PXR5cGVvZiB0P3QoZSk6ZS5uYW1lTWFwfSxfeWVhclRleHRQb3NpdGlvbkNvbnRyb2w6ZnVuY3Rpb24odCxlLGksbixvKXtlPWUuc2xpY2UoKTt2YXIgYT1bImNlbnRlciIsImJvdHRvbSJdOyJib3R0b20iPT09bj8oZVsxXSs9byxhPVsiY2VudGVyIiwidG9wIl0pOiJsZWZ0Ij09PW4/ZVswXS09bzoicmlnaHQiPT09bj8oZVswXSs9byxhPVsiY2VudGVyIiwidG9wIl0pOmVbMV0tPW87dmFyIHI9MDtyZXR1cm4ibGVmdCIhPT1uJiYicmlnaHQiIT09bnx8KHI9TWF0aC5QSS8yKSx7cm90YXRpb246cixwb3NpdGlvbjplLHN0eWxlOnt0ZXh0QWxpZ246YVswXSx0ZXh0VmVydGljYWxBbGlnbjphWzFdfX19LF9yZW5kZXJZZWFyVGV4dDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldE1vZGVsKCJ5ZWFyTGFiZWwiKTtpZihvLmdldCgic2hvdyIpKXt2YXIgYT1vLmdldCgibWFyZ2luIikscj1vLmdldCgicG9zaXRpb24iKTtyfHwocj0iaG9yaXpvbnRhbCIhPT1pPyJ0b3AiOiJsZWZ0Iik7dmFyIHM9W3RoaXMuX3RscG9pbnRzW3RoaXMuX3RscG9pbnRzLmxlbmd0aC0xXSx0aGlzLl9ibHBvaW50c1swXV0sbD0oc1swXVswXStzWzFdWzBdKS8yLHU9KHNbMF1bMV0rc1sxXVsxXSkvMixoPSJob3Jpem9udGFsIj09PWk/MDoxLGM9e3RvcDpbbCxzW2hdWzFdXSxib3R0b206W2wsc1sxLWhdWzFdXSxsZWZ0OltzWzEtaF1bMF0sdV0scmlnaHQ6W3NbaF1bMF0sdV19LGQ9ZS5zdGFydC55OytlLmVuZC55PitlLnN0YXJ0LnkmJihkPWQrIi0iK2UuZW5kLnkpO3ZhciBmPW8uZ2V0KCJmb3JtYXR0ZXIiKSxwPXtzdGFydDplLnN0YXJ0LnksZW5kOmUuZW5kLnksbmFtZU1hcDpkfSxnPXRoaXMuX2Zvcm1hdHRlckxhYmVsKGYscCksbT1uZXcgZFMoe3oyOjMwfSk7bm8obS5zdHlsZSxvLHt0ZXh0Omd9KSxtLmF0dHIodGhpcy5feWVhclRleHRQb3NpdGlvbkNvbnRyb2wobSxjW3JdLGkscixhKSksbi5hZGQobSl9fSxfbW9udGhUZXh0UG9zaXRpb25Db250cm9sOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9ImxlZnQiLHI9InRvcCIscz10WzBdLGw9dFsxXTtyZXR1cm4iaG9yaXpvbnRhbCI9PT1pPyhsKz1vLGUmJihhPSJjZW50ZXIiKSwic3RhcnQiPT09biYmKHI9ImJvdHRvbSIpKToocys9byxlJiYocj0ibWlkZGxlIiksInN0YXJ0Ij09PW4mJihhPSJyaWdodCIpKSx7eDpzLHk6bCx0ZXh0QWxpZ246YSx0ZXh0VmVydGljYWxBbGlnbjpyfX0sX3JlbmRlck1vbnRoVGV4dDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXRNb2RlbCgibW9udGhMYWJlbCIpO2lmKG4uZ2V0KCJzaG93Iikpe3ZhciBvPW4uZ2V0KCJuYW1lTWFwIikscj1uLmdldCgibWFyZ2luIikscz1uLmdldCgicG9zaXRpb24iKSxsPW4uZ2V0KCJhbGlnbiIpLHU9W3RoaXMuX3RscG9pbnRzLHRoaXMuX2JscG9pbnRzXTtfKG8pJiYobz1iUFtvLnRvVXBwZXJDYXNlKCldfHxbXSk7dmFyIGg9InN0YXJ0Ij09PXM/MDoxLGM9Imhvcml6b250YWwiPT09ZT8wOjE7cj0ic3RhcnQiPT09cz8tcjpyO2Zvcih2YXIgZD0iY2VudGVyIj09PWwsZj0wO2Y8dVtoXS5sZW5ndGgtMTtmKyspe3ZhciBwPXVbaF1bZl0uc2xpY2UoKSxnPXRoaXMuX2ZpcnN0RGF5T2ZNb250aFtmXTtpZihkKXt2YXIgbT10aGlzLl9maXJzdERheVBvaW50c1tmXTtwW2NdPShtW2NdK3VbMF1bZisxXVtjXSkvMn12YXIgdj1uLmdldCgiZm9ybWF0dGVyIikseT1vWytnLm0tMV0seD17eXl5eTpnLnkseXk6KGcueSsiIikuc2xpY2UoMiksTU06Zy5tLE06K2cubSxuYW1lTWFwOnl9LHc9dGhpcy5fZm9ybWF0dGVyTGFiZWwodix4KSxiPW5ldyBkUyh7ejI6MzB9KTthKG5vKGIuc3R5bGUsbix7dGV4dDp3fSksdGhpcy5fbW9udGhUZXh0UG9zaXRpb25Db250cm9sKHAsZCxlLHMscikpLGkuYWRkKGIpfX19LF93ZWVrVGV4dFBvc2l0aW9uQ29udHJvbDpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPSJjZW50ZXIiLHI9Im1pZGRsZSIscz10WzBdLGw9dFsxXSx1PSJzdGFydCI9PT1pO3JldHVybiJob3Jpem9udGFsIj09PWU/KHM9cytuKyh1PzE6LTEpKm9bMF0vMixhPXU/InJpZ2h0IjoibGVmdCIpOihsPWwrbisodT8xOi0xKSpvWzFdLzIscj11PyJib3R0b20iOiJ0b3AiKSx7eDpzLHk6bCx0ZXh0QWxpZ246YSx0ZXh0VmVydGljYWxBbGlnbjpyfX0sX3JlbmRlcldlZWtUZXh0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0TW9kZWwoImRheUxhYmVsIik7aWYoby5nZXQoInNob3ciKSl7dmFyIHI9dC5jb29yZGluYXRlU3lzdGVtLHM9by5nZXQoInBvc2l0aW9uIiksbD1vLmdldCgibmFtZU1hcCIpLHU9by5nZXQoIm1hcmdpbiIpLGg9ci5nZXRGaXJzdERheU9mV2VlaygpO18obCkmJihsPVNQW2wudG9VcHBlckNhc2UoKV18fFtdKTt2YXIgYz1yLmdldE5leHRORGF5KGUuZW5kLnRpbWUsNy1lLmx3ZWVrKS50aW1lLGQ9W3IuZ2V0Q2VsbFdpZHRoKCksci5nZXRDZWxsSGVpZ2h0KCldO3U9RG8odSxkWyJob3Jpem9udGFsIj09PWk/MDoxXSksInN0YXJ0Ij09PXMmJihjPXIuZ2V0TmV4dE5EYXkoZS5zdGFydC50aW1lLC0oNytlLmZ3ZWVrKSkudGltZSx1PS11KTtmb3IodmFyIGY9MDtmPDc7ZisrKXt2YXIgcD1yLmdldE5leHRORGF5KGMsZiksZz1yLmRhdGFUb1JlY3QoW3AudGltZV0sITEpLmNlbnRlcixtPWY7bT1NYXRoLmFicygoZitoKSU3KTt2YXIgdj1uZXcgZFMoe3oyOjMwfSk7YShubyh2LnN0eWxlLG8se3RleHQ6bFttXX0pLHRoaXMuX3dlZWtUZXh0UG9zaXRpb25Db250cm9sKGcsaSxzLHUsZCkpLG4uYWRkKHYpfX19fSksdnMoe3R5cGU6InRpdGxlIixsYXlvdXRNb2RlOnt0eXBlOiJib3giLGlnbm9yZVNpemU6ITB9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6NixzaG93OiEwLHRleHQ6IiIsdGFyZ2V0OiJibGFuayIsc3VidGV4dDoiIixzdWJ0YXJnZXQ6ImJsYW5rIixsZWZ0OjAsdG9wOjAsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsaXRlbUdhcDoxMCx0ZXh0U3R5bGU6e2ZvbnRTaXplOjE4LGZvbnRXZWlnaHQ6ImJvbGRlciIsY29sb3I6IiMzMzMifSxzdWJ0ZXh0U3R5bGU6e2NvbG9yOiIjYWFhIn19fSkseXMoe3R5cGU6InRpdGxlIixyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSl7dmFyIG49dGhpcy5ncm91cCxvPXQuZ2V0TW9kZWwoInRleHRTdHlsZSIpLGE9dC5nZXRNb2RlbCgic3VidGV4dFN0eWxlIikscj10LmdldCgidGV4dEFsaWduIikscz10LmdldCgidGV4dEJhc2VsaW5lIiksbD1uZXcgZFMoe3N0eWxlOm5vKHt9LG8se3RleHQ6dC5nZXQoInRleHQiKSx0ZXh0RmlsbDpvLmdldFRleHRDb2xvcigpfSx7ZGlzYWJsZUJveDohMH0pLHoyOjEwfSksdT1sLmdldEJvdW5kaW5nUmVjdCgpLGg9dC5nZXQoInN1YnRleHQiKSxjPW5ldyBkUyh7c3R5bGU6bm8oe30sYSx7dGV4dDpoLHRleHRGaWxsOmEuZ2V0VGV4dENvbG9yKCkseTp1LmhlaWdodCt0LmdldCgiaXRlbUdhcCIpLHRleHRWZXJ0aWNhbEFsaWduOiJ0b3AifSx7ZGlzYWJsZUJveDohMH0pLHoyOjEwfSksZD10LmdldCgibGluayIpLGY9dC5nZXQoInN1YmxpbmsiKTtsLnNpbGVudD0hZCxjLnNpbGVudD0hZixkJiZsLm9uKCJjbGljayIsZnVuY3Rpb24oKXt3aW5kb3cub3BlbihkLCJfIit0LmdldCgidGFyZ2V0IikpfSksZiYmYy5vbigiY2xpY2siLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW4oZiwiXyIrdC5nZXQoInN1YnRhcmdldCIpKX0pLG4uYWRkKGwpLGgmJm4uYWRkKGMpO3ZhciBwPW4uZ2V0Qm91bmRpbmdSZWN0KCksZz10LmdldEJveExheW91dFBhcmFtcygpO2cud2lkdGg9cC53aWR0aCxnLmhlaWdodD1wLmhlaWdodDt2YXIgbT1RbyhnLHt3aWR0aDppLmdldFdpZHRoKCksaGVpZ2h0OmkuZ2V0SGVpZ2h0KCl9LHQuZ2V0KCJwYWRkaW5nIikpO3J8fCgibWlkZGxlIj09PShyPXQuZ2V0KCJsZWZ0Iil8fHQuZ2V0KCJyaWdodCIpKSYmKHI9ImNlbnRlciIpLCJyaWdodCI9PT1yP20ueCs9bS53aWR0aDoiY2VudGVyIj09PXImJihtLngrPW0ud2lkdGgvMikpLHN8fCgiY2VudGVyIj09PShzPXQuZ2V0KCJ0b3AiKXx8dC5nZXQoImJvdHRvbSIpKSYmKHM9Im1pZGRsZSIpLCJib3R0b20iPT09cz9tLnkrPW0uaGVpZ2h0OiJtaWRkbGUiPT09cyYmKG0ueSs9bS5oZWlnaHQvMikscz1zfHwidG9wIiksbi5hdHRyKCJwb3NpdGlvbiIsW20ueCxtLnldKTt2YXIgdj17dGV4dEFsaWduOnIsdGV4dFZlcnRpY2FsQWxpZ246c307bC5zZXRTdHlsZSh2KSxjLnNldFN0eWxlKHYpLHA9bi5nZXRCb3VuZGluZ1JlY3QoKTt2YXIgeT1tLm1hcmdpbix4PXQuZ2V0SXRlbVN0eWxlKFsiY29sb3IiLCJvcGFjaXR5Il0pO3guZmlsbD10LmdldCgiYmFja2dyb3VuZENvbG9yIik7dmFyIF89bmV3IGJTKHtzaGFwZTp7eDpwLngteVszXSx5OnAueS15WzBdLHdpZHRoOnAud2lkdGgreVsxXSt5WzNdLGhlaWdodDpwLmhlaWdodCt5WzBdK3lbMl0scjp0LmdldCgiYm9yZGVyUmFkaXVzIil9LHN0eWxlOngsc2lsZW50OiEwfSk7V24oXyksbi5hZGQoXyl9fX0pLHVNLnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcigiZGF0YVpvb20iLGZ1bmN0aW9uKCl7cmV0dXJuInNsaWRlciJ9KTt2YXIgTVA9WyJjYXJ0ZXNpYW4yZCIsInBvbGFyIiwic2luZ2xlQXhpcyJdLElQPWZ1bmN0aW9uKHQsZSl7dmFyIGk9Zih0PXQuc2xpY2UoKSxLbyksbj1mKGU9KGV8fFtdKS5zbGljZSgpLEtvKTtyZXR1cm4gZnVuY3Rpb24obyxhKXtkKHQsZnVuY3Rpb24odCxyKXtmb3IodmFyIHM9e25hbWU6dCxjYXBpdGFsOmlbcl19LGw9MDtsPGUubGVuZ3RoO2wrKylzW2VbbF1dPXQrbltsXTtvLmNhbGwoYSxzKX0pfX0oWyJ4IiwieSIsInoiLCJyYWRpdXMiLCJhbmdsZSIsInNpbmdsZSJdLFsiYXhpc0luZGV4IiwiYXhpcyIsImluZGV4IiwiaWQiXSksVFA9ZCxEUD1DbyxBUD1mdW5jdGlvbih0LGUsaSxuKXt0aGlzLl9kaW1OYW1lPXQsdGhpcy5fYXhpc0luZGV4PWUsdGhpcy5fdmFsdWVXaW5kb3csdGhpcy5fcGVyY2VudFdpbmRvdyx0aGlzLl9kYXRhRXh0ZW50LHRoaXMuX21pbk1heFNwYW4sdGhpcy5lY01vZGVsPW4sdGhpcy5fZGF0YVpvb21Nb2RlbD1pfTtBUC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkFQLGhvc3RlZEJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhWm9vbU1vZGVsPT09dH0sZ2V0RGF0YVZhbHVlV2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlV2luZG93LnNsaWNlKCl9LGdldERhdGFQZXJjZW50V2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlcmNlbnRXaW5kb3cuc2xpY2UoKX0sZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzOmZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzLmVjTW9kZWw7cmV0dXJuIGUuZWFjaFNlcmllcyhmdW5jdGlvbihpKXtpZihIdihpLmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKSl7dmFyIG49dGhpcy5fZGltTmFtZSxvPWUucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTpuKyJBeGlzIixpbmRleDppLmdldChuKyJBeGlzSW5kZXgiKSxpZDppLmdldChuKyJBeGlzSWQiKX0pWzBdO3RoaXMuX2F4aXNJbmRleD09PShvJiZvLmNvbXBvbmVudEluZGV4KSYmdC5wdXNoKGkpfX0sdGhpcyksdH0sZ2V0QXhpc01vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQodGhpcy5fZGltTmFtZSsiQXhpcyIsdGhpcy5fYXhpc0luZGV4KX0sZ2V0T3RoZXJBeGlzTW9kZWw6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcy5fZGltTmFtZSxuPXRoaXMuZWNNb2RlbCxvPXRoaXMuZ2V0QXhpc01vZGVsKCk7IngiPT09aXx8InkiPT09aT8oZT0iZ3JpZEluZGV4Iix0PSJ4Ij09PWk/InkiOiJ4Iik6KGU9InBvbGFySW5kZXgiLHQ9ImFuZ2xlIj09PWk/InJhZGl1cyI6ImFuZ2xlIik7dmFyIGE7cmV0dXJuIG4uZWFjaENvbXBvbmVudCh0KyJBeGlzIixmdW5jdGlvbih0KXsodC5nZXQoZSl8fDApPT09KG8uZ2V0KGUpfHwwKSYmKGE9dCl9KSxhfSxnZXRNaW5NYXhTcGFuOmZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcy5fbWluTWF4U3Bhbil9LGNhbGN1bGF0ZURhdGFXaW5kb3c6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZGF0YUV4dGVudCxpPXRoaXMuZ2V0QXhpc01vZGVsKCkuYXhpcy5zY2FsZSxuPXRoaXMuX2RhdGFab29tTW9kZWwuZ2V0UmFuZ2VQcm9wTW9kZSgpLG89WzAsMTAwXSxhPVt0LnN0YXJ0LHQuZW5kXSxyPVtdO3JldHVybiBUUChbInN0YXJ0VmFsdWUiLCJlbmRWYWx1ZSJdLGZ1bmN0aW9uKGUpe3IucHVzaChudWxsIT10W2VdP2kucGFyc2UodFtlXSk6bnVsbCl9KSxUUChbMCwxXSxmdW5jdGlvbih0KXt2YXIgcz1yW3RdLGw9YVt0XTsicGVyY2VudCI9PT1uW3RdPyhudWxsPT1sJiYobD1vW3RdKSxzPWkucGFyc2UoVG8obCxvLGUsITApKSk6bD1UbyhzLGUsbywhMCksclt0XT1zLGFbdF09bH0pLHt2YWx1ZVdpbmRvdzpEUChyKSxwZXJjZW50V2luZG93OkRQKGEpfX0scmVzZXQ6ZnVuY3Rpb24odCl7aWYodD09PXRoaXMuX2RhdGFab29tTW9kZWwpe3ZhciBlPXRoaXMuZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzKCk7dGhpcy5fZGF0YUV4dGVudD1Vdih0aGlzLHRoaXMuX2RpbU5hbWUsZSk7dmFyIGk9dGhpcy5jYWxjdWxhdGVEYXRhV2luZG93KHQub3B0aW9uKTt0aGlzLl92YWx1ZVdpbmRvdz1pLnZhbHVlV2luZG93LHRoaXMuX3BlcmNlbnRXaW5kb3c9aS5wZXJjZW50V2luZG93LFl2KHRoaXMpLGp2KHRoaXMpfX0scmVzdG9yZTpmdW5jdGlvbih0KXt0PT09dGhpcy5fZGF0YVpvb21Nb2RlbCYmKHRoaXMuX3ZhbHVlV2luZG93PXRoaXMuX3BlcmNlbnRXaW5kb3c9bnVsbCxqdih0aGlzLCEwKSl9LGZpbHRlckRhdGE6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0Pj1yWzBdJiZ0PD1yWzFdfWlmKHQ9PT10aGlzLl9kYXRhWm9vbU1vZGVsKXt2YXIgbj10aGlzLl9kaW1OYW1lLG89dGhpcy5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSxhPXQuZ2V0KCJmaWx0ZXJNb2RlIikscj10aGlzLl92YWx1ZVdpbmRvdzsibm9uZSIhPT1hJiZUUChvLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG89ZS5tYXBEaW1lbnNpb24obiwhMCk7IndlYWtGaWx0ZXIiPT09YT9lLmZpbHRlclNlbGYoZnVuY3Rpb24odCl7Zm9yKHZhciBpLG4sYSxzPTA7czxvLmxlbmd0aDtzKyspe3ZhciBsPWUuZ2V0KG9bc10sdCksdT0haXNOYU4obCksaD1sPHJbMF0sYz1sPnJbMV07aWYodSYmIWgmJiFjKXJldHVybiEwO3UmJihhPSEwKSxoJiYoaT0hMCksYyYmKG49ITApfXJldHVybiBhJiZpJiZufSk6VFAobyxmdW5jdGlvbihuKXtpZigiZW1wdHkiPT09YSl0LnNldERhdGEoZS5tYXAobixmdW5jdGlvbih0KXtyZXR1cm4gaSh0KT90Ok5hTn0pKTtlbHNle3ZhciBvPXt9O29bbl09cixlLnNlbGVjdFJhbmdlKG8pfX0pLFRQKG8sZnVuY3Rpb24odCl7ZS5zZXRBcHByb3hpbWF0ZUV4dGVudChyLHQpfSl9KX19fTt2YXIgQ1A9ZCxMUD1JUCxrUD12cyh7dHlwZToiZGF0YVpvb20iLGRlcGVuZGVuY2llczpbInhBeGlzIiwieUF4aXMiLCJ6QXhpcyIsInJhZGl1c0F4aXMiLCJhbmdsZUF4aXMiLCJzaW5nbGVBeGlzIiwic2VyaWVzIl0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo0LG9yaWVudDpudWxsLHhBeGlzSW5kZXg6bnVsbCx5QXhpc0luZGV4Om51bGwsZmlsdGVyTW9kZToiZmlsdGVyIix0aHJvdHRsZTpudWxsLHN0YXJ0OjAsZW5kOjEwMCxzdGFydFZhbHVlOm51bGwsZW5kVmFsdWU6bnVsbCxtaW5TcGFuOm51bGwsbWF4U3BhbjpudWxsLG1pblZhbHVlU3BhbjpudWxsLG1heFZhbHVlU3BhbjpudWxsLHJhbmdlTW9kZTpudWxsfSxpbml0OmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9kYXRhSW50ZXJ2YWxCeUF4aXM9e30sdGhpcy5fZGF0YUluZm89e30sdGhpcy5fYXhpc1Byb3hpZXM9e30sdGhpcy50ZXh0U3R5bGVNb2RlbCx0aGlzLl9hdXRvVGhyb3R0bGU9ITAsdGhpcy5fcmFuZ2VQcm9wTW9kZT1bInBlcmNlbnQiLCJwZXJjZW50Il07dmFyIG49cXYodCk7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpLHRoaXMuZG9Jbml0KG4pfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT1xdih0KTtuKHRoaXMub3B0aW9uLHQsITApLHRoaXMuZG9Jbml0KGUpfSxkb0luaXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247b18uY2FudmFzU3VwcG9ydGVkfHwoZS5yZWFsdGltZT0hMSksdGhpcy5fc2V0RGVmYXVsdFRocm90dGxlKHQpLEt2KHRoaXMsdCksQ1AoW1sic3RhcnQiLCJzdGFydFZhbHVlIl0sWyJlbmQiLCJlbmRWYWx1ZSJdXSxmdW5jdGlvbih0LGkpeyJ2YWx1ZSI9PT10aGlzLl9yYW5nZVByb3BNb2RlW2ldJiYoZVt0WzBdXT1udWxsKX0sdGhpcyksdGhpcy50ZXh0U3R5bGVNb2RlbD10aGlzLmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSx0aGlzLl9yZXNldFRhcmdldCgpLHRoaXMuX2dpdmVBeGlzUHJveGllcygpfSxfZ2l2ZUF4aXNQcm94aWVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYXhpc1Byb3hpZXM7dGhpcy5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbihlLGksbixvKXt2YXIgYT10aGlzLmRlcGVuZGVudE1vZGVsc1tlLmF4aXNdW2ldLHI9YS5fX2R6QXhpc1Byb3h5fHwoYS5fX2R6QXhpc1Byb3h5PW5ldyBBUChlLm5hbWUsaSx0aGlzLG8pKTt0W2UubmFtZSsiXyIraV09cn0sdGhpcyl9LF9yZXNldFRhcmdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLGU9dGhpcy5fanVkZ2VBdXRvTW9kZSgpO0xQKGZ1bmN0aW9uKGUpe3ZhciBpPWUuYXhpc0luZGV4O3RbaV09U2kodFtpXSl9LHRoaXMpLCJheGlzSW5kZXgiPT09ZT90aGlzLl9hdXRvU2V0QXhpc0luZGV4KCk6Im9yaWVudCI9PT1lJiZ0aGlzLl9hdXRvU2V0T3JpZW50KCl9LF9qdWRnZUF1dG9Nb2RlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZT0hMTtMUChmdW5jdGlvbihpKXtudWxsIT10W2kuYXhpc0luZGV4XSYmKGU9ITApfSx0aGlzKTt2YXIgaT10Lm9yaWVudDtyZXR1cm4gbnVsbD09aSYmZT8ib3JpZW50IjplP3ZvaWQgMDoobnVsbD09aSYmKHQub3JpZW50PSJob3Jpem9udGFsIiksImF4aXNJbmRleCIpfSxfYXV0b1NldEF4aXNJbmRleDpmdW5jdGlvbigpe3ZhciB0PSEwLGU9dGhpcy5nZXQoIm9yaWVudCIsITApLGk9dGhpcy5vcHRpb24sbj10aGlzLmRlcGVuZGVudE1vZGVscztpZih0KXt2YXIgbz0idmVydGljYWwiPT09ZT8ieSI6IngiO25bbysiQXhpcyJdLmxlbmd0aD8oaVtvKyJBeGlzSW5kZXgiXT1bMF0sdD0hMSk6Q1Aobi5zaW5nbGVBeGlzLGZ1bmN0aW9uKG4pe3QmJm4uZ2V0KCJvcmllbnQiLCEwKT09PWUmJihpLnNpbmdsZUF4aXNJbmRleD1bbi5jb21wb25lbnRJbmRleF0sdD0hMSl9KX10JiZMUChmdW5jdGlvbihlKXtpZih0KXt2YXIgbj1bXSxvPXRoaXMuZGVwZW5kZW50TW9kZWxzW2UuYXhpc107aWYoby5sZW5ndGgmJiFuLmxlbmd0aClmb3IodmFyIGE9MCxyPW8ubGVuZ3RoO2E8cjthKyspImNhdGVnb3J5Ij09PW9bYV0uZ2V0KCJ0eXBlIikmJm4ucHVzaChhKTtpW2UuYXhpc0luZGV4XT1uLG4ubGVuZ3RoJiYodD0hMSl9fSx0aGlzKSx0JiZ0aGlzLmVjTW9kZWwuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt0aGlzLl9pc1Nlcmllc0hhc0FsbEF4ZXNUeXBlT2YodCwidmFsdWUiKSYmTFAoZnVuY3Rpb24oZSl7dmFyIG49aVtlLmF4aXNJbmRleF0sbz10LmdldChlLmF4aXNJbmRleCksYT10LmdldChlLmF4aXNJZCk7bChuLG89dC5lY01vZGVsLnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6ZS5heGlzLGluZGV4Om8saWQ6YX0pWzBdLmNvbXBvbmVudEluZGV4KTwwJiZuLnB1c2gobyl9KX0sdGhpcyl9LF9hdXRvU2V0T3JpZW50OmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbihlKXshdCYmKHQ9ZS5uYW1lKX0sdGhpcyksdGhpcy5vcHRpb24ub3JpZW50PSJ5Ij09PXQ/InZlcnRpY2FsIjoiaG9yaXpvbnRhbCJ9LF9pc1Nlcmllc0hhc0FsbEF4ZXNUeXBlT2Y6ZnVuY3Rpb24odCxlKXt2YXIgaT0hMDtyZXR1cm4gTFAoZnVuY3Rpb24obil7dmFyIG89dC5nZXQobi5heGlzSW5kZXgpLGE9dGhpcy5kZXBlbmRlbnRNb2RlbHNbbi5heGlzXVtvXTthJiZhLmdldCgidHlwZSIpPT09ZXx8KGk9ITEpfSx0aGlzKSxpfSxfc2V0RGVmYXVsdFRocm90dGxlOmZ1bmN0aW9uKHQpe2lmKHQuaGFzT3duUHJvcGVydHkoInRocm90dGxlIikmJih0aGlzLl9hdXRvVGhyb3R0bGU9ITEpLHRoaXMuX2F1dG9UaHJvdHRsZSl7dmFyIGU9dGhpcy5lY01vZGVsLm9wdGlvbjt0aGlzLm9wdGlvbi50aHJvdHRsZT1lLmFuaW1hdGlvbiYmZS5hbmltYXRpb25EdXJhdGlvblVwZGF0ZT4wPzEwMDoyMH19LGdldEZpcnN0VGFyZ2V0QXhpc01vZGVsOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIExQKGZ1bmN0aW9uKGUpe2lmKG51bGw9PXQpe3ZhciBpPXRoaXMuZ2V0KGUuYXhpc0luZGV4KTtpLmxlbmd0aCYmKHQ9dGhpcy5kZXBlbmRlbnRNb2RlbHNbZS5heGlzXVtpWzBdXSl9fSx0aGlzKSx0fSxlYWNoVGFyZ2V0QXhpczpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZWNNb2RlbDtMUChmdW5jdGlvbihuKXtDUCh0aGlzLmdldChuLmF4aXNJbmRleCksZnVuY3Rpb24obyl7dC5jYWxsKGUsbixvLHRoaXMsaSl9LHRoaXMpfSx0aGlzKX0sZ2V0QXhpc1Byb3h5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2F4aXNQcm94aWVzW3QrIl8iK2VdfSxnZXRBeGlzTW9kZWw6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEF4aXNQcm94eSh0LGUpO3JldHVybiBpJiZpLmdldEF4aXNNb2RlbCgpfSxzZXRSYXdSYW5nZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uO0NQKFtbInN0YXJ0Iiwic3RhcnRWYWx1ZSJdLFsiZW5kIiwiZW5kVmFsdWUiXV0sZnVuY3Rpb24oZSl7bnVsbD09dFtlWzBdXSYmbnVsbD09dFtlWzFdXXx8KGlbZVswXV09dFtlWzBdXSxpW2VbMV1dPXRbZVsxXV0pfSx0aGlzKSwhZSYmS3YodGhpcyx0KX0sZ2V0UGVyY2VudFJhbmdlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKTtpZih0KXJldHVybiB0LmdldERhdGFQZXJjZW50V2luZG93KCl9LGdldFZhbHVlUmFuZ2U6ZnVuY3Rpb24odCxlKXtpZihudWxsIT10fHxudWxsIT1lKXJldHVybiB0aGlzLmdldEF4aXNQcm94eSh0LGUpLmdldERhdGFWYWx1ZVdpbmRvdygpO3ZhciBpPXRoaXMuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCk7cmV0dXJuIGk/aS5nZXREYXRhVmFsdWVXaW5kb3coKTp2b2lkIDB9LGZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eTpmdW5jdGlvbih0KXtpZih0KXJldHVybiB0Ll9fZHpBeGlzUHJveHk7dmFyIGU9dGhpcy5fYXhpc1Byb3hpZXM7Zm9yKHZhciBpIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShpKSYmZVtpXS5ob3N0ZWRCeSh0aGlzKSlyZXR1cm4gZVtpXTtmb3IodmFyIGkgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGkpJiYhZVtpXS5ob3N0ZWRCeSh0aGlzKSlyZXR1cm4gZVtpXX0sZ2V0UmFuZ2VQcm9wTW9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZVByb3BNb2RlLnNsaWNlKCl9fSksUFA9S00uZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbSIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuZGF0YVpvb21Nb2RlbD10LHRoaXMuZWNNb2RlbD1lLHRoaXMuYXBpPWl9LGdldFRhcmdldENvb3JkSW5mbzpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbil7Zm9yKHZhciBvLGE9MDthPGkubGVuZ3RoO2ErKylpZihpW2FdLm1vZGVsPT09dCl7bz1pW2FdO2JyZWFrfW98fGkucHVzaChvPXttb2RlbDp0LGF4aXNNb2RlbHM6W10sY29vcmRJbmRleDpufSksby5heGlzTW9kZWxzLnB1c2goZSl9dmFyIGU9dGhpcy5kYXRhWm9vbU1vZGVsLGk9dGhpcy5lY01vZGVsLG49e307cmV0dXJuIGUuZWFjaFRhcmdldEF4aXMoZnVuY3Rpb24oZSxvKXt2YXIgYT1pLmdldENvbXBvbmVudChlLmF4aXMsbyk7aWYoYSl7dmFyIHI9YS5nZXRDb29yZFN5c01vZGVsKCk7ciYmdChyLGEsbltyLm1haW5UeXBlXXx8KG5bci5tYWluVHlwZV09W10pLHIuY29tcG9uZW50SW5kZXgpfX0sdGhpcyksbn19KSxOUD0oa1AuZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbS5zbGlkZXIiLGxheW91dE1vZGU6ImJveCIsZGVmYXVsdE9wdGlvbjp7c2hvdzohMCxyaWdodDoicGgiLHRvcDoicGgiLHdpZHRoOiJwaCIsaGVpZ2h0OiJwaCIsbGVmdDpudWxsLGJvdHRvbTpudWxsLGJhY2tncm91bmRDb2xvcjoicmdiYSg0Nyw2OSw4NCwwKSIsZGF0YUJhY2tncm91bmQ6e2xpbmVTdHlsZTp7Y29sb3I6IiMyZjQ1NTQiLHdpZHRoOi41LG9wYWNpdHk6LjN9LGFyZWFTdHlsZTp7Y29sb3I6InJnYmEoNDcsNjksODQsMC4zKSIsb3BhY2l0eTouM319LGJvcmRlckNvbG9yOiIjZGRkIixmaWxsZXJDb2xvcjoicmdiYSgxNjcsMTgzLDIwNCwwLjQpIixoYW5kbGVJY29uOiJNOC4yLDEzLjZWMy45SDYuM3Y5LjdIMy4xdjE0LjloMy4zdjkuN2gxLjh2LTkuN2gzLjNWMTMuNkg4LjJ6IE05LjcsMjQuNEg0Ljh2LTEuNGg0LjlWMjQuNHogTTkuNywxOS4xSDQuOHYtMS40aDQuOVYxOS4xeiIsaGFuZGxlU2l6ZToiMTAwJSIsaGFuZGxlU3R5bGU6e2NvbG9yOiIjYTdiN2NjIn0sbGFiZWxQcmVjaXNpb246bnVsbCxsYWJlbEZvcm1hdHRlcjpudWxsLHNob3dEZXRhaWw6ITAsc2hvd0RhdGFTaGFkb3c6ImF1dG8iLHJlYWx0aW1lOiEwLHpvb21Mb2NrOiExLHRleHRTdHlsZTp7Y29sb3I6IiMzMzMifX19KSxiUyksT1A9VG8sRVA9Q28sUlA9bSx6UD1kLEJQPSJob3Jpem9udGFsIixWUD01LEdQPVsibGluZSIsImJhciIsImNhbmRsZXN0aWNrIiwic2NhdHRlciJdLFdQPVBQLmV4dGVuZCh7dHlwZToiZGF0YVpvb20uc2xpZGVyIixpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5fZGlzcGxheWFibGVzPXt9LHRoaXMuX29yaWVudCx0aGlzLl9yYW5nZSx0aGlzLl9oYW5kbGVFbmRzLHRoaXMuX3NpemUsdGhpcy5faGFuZGxlV2lkdGgsdGhpcy5faGFuZGxlSGVpZ2h0LHRoaXMuX2xvY2F0aW9uLHRoaXMuX2RyYWdnaW5nLHRoaXMuX2RhdGFTaGFkb3dJbmZvLHRoaXMuYXBpPWV9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtXUC5zdXBlckFwcGx5KHRoaXMsInJlbmRlciIsYXJndW1lbnRzKSx3cih0aGlzLCJfZGlzcGF0Y2hab29tQWN0aW9uIix0aGlzLmRhdGFab29tTW9kZWwuZ2V0KCJ0aHJvdHRsZSIpLCJmaXhSYXRlIiksdGhpcy5fb3JpZW50PXQuZ2V0KCJvcmllbnQiKSwhMSE9PXRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoInNob3ciKT8obiYmImRhdGFab29tIj09PW4udHlwZSYmbi5mcm9tPT09dGhpcy51aWR8fHRoaXMuX2J1aWxkVmlldygpLHRoaXMuX3VwZGF0ZVZpZXcoKSk6dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0scmVtb3ZlOmZ1bmN0aW9uKCl7V1Auc3VwZXJBcHBseSh0aGlzLCJyZW1vdmUiLGFyZ3VtZW50cyksYnIodGhpcywiX2Rpc3BhdGNoWm9vbUFjdGlvbiIpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7V1Auc3VwZXJBcHBseSh0aGlzLCJkaXNwb3NlIixhcmd1bWVudHMpLGJyKHRoaXMsIl9kaXNwYXRjaFpvb21BY3Rpb24iKX0sX2J1aWxkVmlldzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXA7dC5yZW1vdmVBbGwoKSx0aGlzLl9yZXNldExvY2F0aW9uKCksdGhpcy5fcmVzZXRJbnRlcnZhbCgpO3ZhciBlPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cD1uZXcgcnc7dGhpcy5fcmVuZGVyQmFja2dyb3VuZCgpLHRoaXMuX3JlbmRlckhhbmRsZSgpLHRoaXMuX3JlbmRlckRhdGFTaGFkb3coKSx0LmFkZChlKSx0aGlzLl9wb3NpdGlvbkdyb3VwKCl9LF9yZXNldExvY2F0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dGhpcy5hcGksaT10aGlzLl9maW5kQ29vcmRSZWN0KCksbj17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxvPXRoaXMuX29yaWVudD09PUJQP3tyaWdodDpuLndpZHRoLWkueC1pLndpZHRoLHRvcDpuLmhlaWdodC0zMC03LHdpZHRoOmkud2lkdGgsaGVpZ2h0OjMwfTp7cmlnaHQ6Nyx0b3A6aS55LHdpZHRoOjMwLGhlaWdodDppLmhlaWdodH0sYT1uYSh0Lm9wdGlvbik7ZChbInJpZ2h0IiwidG9wIiwid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbih0KXsicGgiPT09YVt0XSYmKGFbdF09b1t0XSl9KTt2YXIgcj1RbyhhLG4sdC5wYWRkaW5nKTt0aGlzLl9sb2NhdGlvbj17eDpyLngseTpyLnl9LHRoaXMuX3NpemU9W3Iud2lkdGgsci5oZWlnaHRdLCJ2ZXJ0aWNhbCI9PT10aGlzLl9vcmllbnQmJnRoaXMuX3NpemUucmV2ZXJzZSgpfSxfcG9zaXRpb25Hcm91cDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXAsZT10aGlzLl9sb2NhdGlvbixpPXRoaXMuX29yaWVudCxuPXRoaXMuZGF0YVpvb21Nb2RlbC5nZXRGaXJzdFRhcmdldEF4aXNNb2RlbCgpLG89biYmbi5nZXQoImludmVyc2UiKSxhPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cCxyPSh0aGlzLl9kYXRhU2hhZG93SW5mb3x8e30pLm90aGVyQXhpc0ludmVyc2U7YS5hdHRyKGkhPT1CUHx8bz9pPT09QlAmJm8/e3NjYWxlOnI/Wy0xLDFdOlstMSwtMV19OiJ2ZXJ0aWNhbCIhPT1pfHxvP3tzY2FsZTpyP1stMSwtMV06Wy0xLDFdLHJvdGF0aW9uOk1hdGguUEkvMn06e3NjYWxlOnI/WzEsLTFdOlsxLDFdLHJvdGF0aW9uOk1hdGguUEkvMn06e3NjYWxlOnI/WzEsMV06WzEsLTFdfSk7dmFyIHM9dC5nZXRCb3VuZGluZ1JlY3QoW2FdKTt0LmF0dHIoInBvc2l0aW9uIixbZS54LXMueCxlLnktcy55XSl9LF9nZXRWaWV3RXh0ZW50OmZ1bmN0aW9uKCl7cmV0dXJuWzAsdGhpcy5fc2l6ZVswXV19LF9yZW5kZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dGhpcy5fc2l6ZSxpPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cDtpLmFkZChuZXcgTlAoe3NpbGVudDohMCxzaGFwZTp7eDowLHk6MCx3aWR0aDplWzBdLGhlaWdodDplWzFdfSxzdHlsZTp7ZmlsbDp0LmdldCgiYmFja2dyb3VuZENvbG9yIil9LHoyOi00MH0pKSxpLmFkZChuZXcgTlAoe3NoYXBlOnt4OjAseTowLHdpZHRoOmVbMF0saGVpZ2h0OmVbMV19LHN0eWxlOntmaWxsOiJ0cmFuc3BhcmVudCJ9LHoyOjAsb25jbGljazptKHRoaXMuX29uQ2xpY2tQYW5lbENsaWNrLHRoaXMpfSkpfSxfcmVuZGVyRGF0YVNoYWRvdzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGFTaGFkb3dJbmZvPXRoaXMuX3ByZXBhcmVEYXRhU2hhZG93SW5mbygpO2lmKHQpe3ZhciBlPXRoaXMuX3NpemUsaT10LnNlcmllcyxuPWkuZ2V0UmF3RGF0YSgpLG89aS5nZXRTaGFkb3dEaW0/aS5nZXRTaGFkb3dEaW0oKTp0Lm90aGVyRGltO2lmKG51bGwhPW8pe3ZhciBhPW4uZ2V0RGF0YUV4dGVudChvKSxzPS4zKihhWzFdLWFbMF0pO2E9W2FbMF0tcyxhWzFdK3NdO3ZhciBsLHU9WzAsZVsxXV0saD1bMCxlWzBdXSxjPVtbZVswXSwwXSxbMCwwXV0sZD1bXSxmPWhbMV0vKG4uY291bnQoKS0xKSxwPTAsZz1NYXRoLnJvdW5kKG4uY291bnQoKS9lWzBdKTtuLmVhY2goW29dLGZ1bmN0aW9uKHQsZSl7aWYoZz4wJiZlJWcpcCs9ZjtlbHNle3ZhciBpPW51bGw9PXR8fGlzTmFOKHQpfHwiIj09PXQsbj1pPzA6T1AodCxhLHUsITApO2kmJiFsJiZlPyhjLnB1c2goW2NbYy5sZW5ndGgtMV1bMF0sMF0pLGQucHVzaChbZFtkLmxlbmd0aC0xXVswXSwwXSkpOiFpJiZsJiYoYy5wdXNoKFtwLDBdKSxkLnB1c2goW3AsMF0pKSxjLnB1c2goW3Asbl0pLGQucHVzaChbcCxuXSkscCs9ZixsPWl9fSk7dmFyIG09dGhpcy5kYXRhWm9vbU1vZGVsO3RoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cC5hZGQobmV3IF9TKHtzaGFwZTp7cG9pbnRzOmN9LHN0eWxlOnIoe2ZpbGw6bS5nZXQoImRhdGFCYWNrZ3JvdW5kQ29sb3IiKX0sbS5nZXRNb2RlbCgiZGF0YUJhY2tncm91bmQuYXJlYVN0eWxlIikuZ2V0QXJlYVN0eWxlKCkpLHNpbGVudDohMCx6MjotMjB9KSksdGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwLmFkZChuZXcgd1Moe3NoYXBlOntwb2ludHM6ZH0sc3R5bGU6bS5nZXRNb2RlbCgiZGF0YUJhY2tncm91bmQubGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksc2lsZW50OiEwLHoyOi0xOX0pKX19fSxfcHJlcGFyZURhdGFTaGFkb3dJbmZvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dC5nZXQoInNob3dEYXRhU2hhZG93Iik7aWYoITEhPT1lKXt2YXIgaSxuPXRoaXMuZWNNb2RlbDtyZXR1cm4gdC5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbihvLGEpe2QodC5nZXRBeGlzUHJveHkoby5uYW1lLGEpLmdldFRhcmdldFNlcmllc01vZGVscygpLGZ1bmN0aW9uKHQpe2lmKCEoaXx8ITAhPT1lJiZsKEdQLHQuZ2V0KCJ0eXBlIikpPDApKXt2YXIgcixzPW4uZ2V0Q29tcG9uZW50KG8uYXhpcyxhKS5heGlzLHU9JHYoby5uYW1lKSxoPXQuY29vcmRpbmF0ZVN5c3RlbTtudWxsIT11JiZoLmdldE90aGVyQXhpcyYmKHI9aC5nZXRPdGhlckF4aXMocykuaW52ZXJzZSksdT10LmdldERhdGEoKS5tYXBEaW1lbnNpb24odSksaT17dGhpc0F4aXM6cyxzZXJpZXM6dCx0aGlzRGltOm8ubmFtZSxvdGhlckRpbTp1LG90aGVyQXhpc0ludmVyc2U6cn19fSx0aGlzKX0sdGhpcyksaX19LF9yZW5kZXJIYW5kbGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kaXNwbGF5YWJsZXMsZT10LmhhbmRsZXM9W10saT10LmhhbmRsZUxhYmVscz1bXSxuPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cCxvPXRoaXMuX3NpemUsYT10aGlzLmRhdGFab29tTW9kZWw7bi5hZGQodC5maWxsZXI9bmV3IE5QKHtkcmFnZ2FibGU6ITAsY3Vyc29yOkp2KHRoaXMuX29yaWVudCksZHJpZnQ6UlAodGhpcy5fb25EcmFnTW92ZSx0aGlzLCJhbGwiKSxvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtSdyh0LmV2ZW50KX0sb25kcmFnc3RhcnQ6UlAodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9uZHJhZ2VuZDpSUCh0aGlzLl9vbkRyYWdFbmQsdGhpcyksb25tb3VzZW92ZXI6UlAodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9ubW91c2VvdXQ6UlAodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITEpLHN0eWxlOntmaWxsOmEuZ2V0KCJmaWxsZXJDb2xvciIpLHRleHRQb3NpdGlvbjoiaW5zaWRlIn19KSksbi5hZGQobmV3IE5QKFduKHtzaWxlbnQ6ITAsc2hhcGU6e3g6MCx5OjAsd2lkdGg6b1swXSxoZWlnaHQ6b1sxXX0sc3R5bGU6e3N0cm9rZTphLmdldCgiZGF0YUJhY2tncm91bmRDb2xvciIpfHxhLmdldCgiYm9yZGVyQ29sb3IiKSxsaW5lV2lkdGg6MSxmaWxsOiJyZ2JhKDAsMCwwLDApIn19KSkpLHpQKFswLDFdLGZ1bmN0aW9uKHQpe3ZhciBvPV9vKGEuZ2V0KCJoYW5kbGVJY29uIikse2N1cnNvcjpKdih0aGlzLl9vcmllbnQpLGRyYWdnYWJsZTohMCxkcmlmdDpSUCh0aGlzLl9vbkRyYWdNb3ZlLHRoaXMsdCksb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7UncodC5ldmVudCl9LG9uZHJhZ2VuZDpSUCh0aGlzLl9vbkRyYWdFbmQsdGhpcyksb25tb3VzZW92ZXI6UlAodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9ubW91c2VvdXQ6UlAodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITEpfSx7eDotMSx5OjAsd2lkdGg6MixoZWlnaHQ6Mn0pLHI9by5nZXRCb3VuZGluZ1JlY3QoKTt0aGlzLl9oYW5kbGVIZWlnaHQ9RG8oYS5nZXQoImhhbmRsZVNpemUiKSx0aGlzLl9zaXplWzFdKSx0aGlzLl9oYW5kbGVXaWR0aD1yLndpZHRoL3IuaGVpZ2h0KnRoaXMuX2hhbmRsZUhlaWdodCxvLnNldFN0eWxlKGEuZ2V0TW9kZWwoImhhbmRsZVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpO3ZhciBzPWEuZ2V0KCJoYW5kbGVDb2xvciIpO251bGwhPXMmJihvLnN0eWxlLmZpbGw9cyksbi5hZGQoZVt0XT1vKTt2YXIgbD1hLnRleHRTdHlsZU1vZGVsO3RoaXMuZ3JvdXAuYWRkKGlbdF09bmV3IGRTKHtzaWxlbnQ6ITAsaW52aXNpYmxlOiEwLHN0eWxlOnt4OjAseTowLHRleHQ6IiIsdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOiJjZW50ZXIiLHRleHRGaWxsOmwuZ2V0VGV4dENvbG9yKCksdGV4dEZvbnQ6bC5nZXRGb250KCl9LHoyOjEwfSkpfSx0aGlzKX0sX3Jlc2V0SW50ZXJ2YWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yYW5nZT10aGlzLmRhdGFab29tTW9kZWwuZ2V0UGVyY2VudFJhbmdlKCksZT10aGlzLl9nZXRWaWV3RXh0ZW50KCk7dGhpcy5faGFuZGxlRW5kcz1bT1AodFswXSxbMCwxMDBdLGUsITApLE9QKHRbMV0sWzAsMTAwXSxlLCEwKV19LF91cGRhdGVJbnRlcnZhbDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZGF0YVpvb21Nb2RlbCxuPXRoaXMuX2hhbmRsZUVuZHMsbz10aGlzLl9nZXRWaWV3RXh0ZW50KCksYT1pLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLmdldE1pbk1heFNwYW4oKSxyPVswLDEwMF07a0MoZSxuLG8saS5nZXQoInpvb21Mb2NrIik/ImFsbCI6dCxudWxsIT1hLm1pblNwYW4/T1AoYS5taW5TcGFuLHIsbywhMCk6bnVsbCxudWxsIT1hLm1heFNwYW4/T1AoYS5tYXhTcGFuLHIsbywhMCk6bnVsbCk7dmFyIHM9dGhpcy5fcmFuZ2UsbD10aGlzLl9yYW5nZT1FUChbT1AoblswXSxvLHIsITApLE9QKG5bMV0sbyxyLCEwKV0pO3JldHVybiFzfHxzWzBdIT09bFswXXx8c1sxXSE9PWxbMV19LF91cGRhdGVWaWV3OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2Rpc3BsYXlhYmxlcyxpPXRoaXMuX2hhbmRsZUVuZHMsbj1FUChpLnNsaWNlKCkpLG89dGhpcy5fc2l6ZTt6UChbMCwxXSxmdW5jdGlvbih0KXt2YXIgbj1lLmhhbmRsZXNbdF0sYT10aGlzLl9oYW5kbGVIZWlnaHQ7bi5hdHRyKHtzY2FsZTpbYS8yLGEvMl0scG9zaXRpb246W2lbdF0sb1sxXS8yLWEvMl19KX0sdGhpcyksZS5maWxsZXIuc2V0U2hhcGUoe3g6blswXSx5OjAsd2lkdGg6blsxXS1uWzBdLGhlaWdodDpvWzFdfSksdGhpcy5fdXBkYXRlRGF0YUluZm8odCl9LF91cGRhdGVEYXRhSW5mbzpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPWdvKG4uaGFuZGxlc1t0XS5wYXJlbnQsdGhpcy5ncm91cCksaT12bygwPT09dD8icmlnaHQiOiJsZWZ0IixlKSxzPXRoaXMuX2hhbmRsZVdpZHRoLzIrVlAsbD1tbyhbY1t0XSsoMD09PXQ/LXM6cyksdGhpcy5fc2l6ZVsxXS8yXSxlKTtvW3RdLnNldFN0eWxlKHt4OmxbMF0seTpsWzFdLHRleHRWZXJ0aWNhbEFsaWduOmE9PT1CUD8ibWlkZGxlIjppLHRleHRBbGlnbjphPT09QlA/aToiY2VudGVyIix0ZXh0OnJbdF19KX12YXIgaT10aGlzLmRhdGFab29tTW9kZWwsbj10aGlzLl9kaXNwbGF5YWJsZXMsbz1uLmhhbmRsZUxhYmVscyxhPXRoaXMuX29yaWVudCxyPVsiIiwiIl07aWYoaS5nZXQoInNob3dEZXRhaWwiKSl7dmFyIHM9aS5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKTtpZihzKXt2YXIgbD1zLmdldEF4aXNNb2RlbCgpLmF4aXMsdT10aGlzLl9yYW5nZSxoPXQ/cy5jYWxjdWxhdGVEYXRhV2luZG93KHtzdGFydDp1WzBdLGVuZDp1WzFdfSkudmFsdWVXaW5kb3c6cy5nZXREYXRhVmFsdWVXaW5kb3coKTtyPVt0aGlzLl9mb3JtYXRMYWJlbChoWzBdLGwpLHRoaXMuX2Zvcm1hdExhYmVsKGhbMV0sbCldfX12YXIgYz1FUCh0aGlzLl9oYW5kbGVFbmRzLnNsaWNlKCkpO2UuY2FsbCh0aGlzLDApLGUuY2FsbCh0aGlzLDEpfSxfZm9ybWF0TGFiZWw6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmRhdGFab29tTW9kZWwsbj1pLmdldCgibGFiZWxGb3JtYXR0ZXIiKSxvPWkuZ2V0KCJsYWJlbFByZWNpc2lvbiIpO251bGwhPW8mJiJhdXRvIiE9PW98fChvPWUuZ2V0UGl4ZWxQcmVjaXNpb24oKSk7dmFyIGE9bnVsbD09dHx8aXNOYU4odCk/IiI6ImNhdGVnb3J5Ij09PWUudHlwZXx8InRpbWUiPT09ZS50eXBlP2Uuc2NhbGUuZ2V0TGFiZWwoTWF0aC5yb3VuZCh0KSk6dC50b0ZpeGVkKE1hdGgubWluKG8sMjApKTtyZXR1cm4geChuKT9uKHQsYSk6XyhuKT9uLnJlcGxhY2UoInt2YWx1ZX0iLGEpOmF9LF9zaG93RGF0YUluZm86ZnVuY3Rpb24odCl7dD10aGlzLl9kcmFnZ2luZ3x8dDt2YXIgZT10aGlzLl9kaXNwbGF5YWJsZXMuaGFuZGxlTGFiZWxzO2VbMF0uYXR0cigiaW52aXNpYmxlIiwhdCksZVsxXS5hdHRyKCJpbnZpc2libGUiLCF0KX0sX29uRHJhZ01vdmU6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2RyYWdnaW5nPSEwO3ZhciBuPW1vKFtlLGldLHRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cC5nZXRMb2NhbFRyYW5zZm9ybSgpLCEwKSxvPXRoaXMuX3VwZGF0ZUludGVydmFsKHQsblswXSksYT10aGlzLmRhdGFab29tTW9kZWwuZ2V0KCJyZWFsdGltZSIpO3RoaXMuX3VwZGF0ZVZpZXcoIWEpLG8mJmEmJnRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbigpfSxfb25EcmFnRW5kOmZ1bmN0aW9uKCl7dGhpcy5fZHJhZ2dpbmc9ITEsdGhpcy5fc2hvd0RhdGFJbmZvKCExKSwhdGhpcy5kYXRhWm9vbU1vZGVsLmdldCgicmVhbHRpbWUiKSYmdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKCl9LF9vbkNsaWNrUGFuZWxDbGljazpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zaXplLGk9dGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCh0Lm9mZnNldFgsdC5vZmZzZXRZKTtpZighKGlbMF08MHx8aVswXT5lWzBdfHxpWzFdPDB8fGlbMV0+ZVsxXSkpe3ZhciBuPXRoaXMuX2hhbmRsZUVuZHMsbz0oblswXStuWzFdKS8yLGE9dGhpcy5fdXBkYXRlSW50ZXJ2YWwoImFsbCIsaVswXS1vKTt0aGlzLl91cGRhdGVWaWV3KCksYSYmdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKCl9fSxfZGlzcGF0Y2hab29tQWN0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmFuZ2U7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImRhdGFab29tIixmcm9tOnRoaXMudWlkLGRhdGFab29tSWQ6dGhpcy5kYXRhWm9vbU1vZGVsLmlkLHN0YXJ0OnRbMF0sZW5kOnRbMV19KX0sX2ZpbmRDb29yZFJlY3Q6ZnVuY3Rpb24oKXt2YXIgdDtpZih6UCh0aGlzLmdldFRhcmdldENvb3JkSW5mbygpLGZ1bmN0aW9uKGUpe2lmKCF0JiZlLmxlbmd0aCl7dmFyIGk9ZVswXS5tb2RlbC5jb29yZGluYXRlU3lzdGVtO3Q9aS5nZXRSZWN0JiZpLmdldFJlY3QoKX19KSwhdCl7dmFyIGU9dGhpcy5hcGkuZ2V0V2lkdGgoKSxpPXRoaXMuYXBpLmdldEhlaWdodCgpO3Q9e3g6LjIqZSx5Oi4yKmksd2lkdGg6LjYqZSxoZWlnaHQ6LjYqaX19cmV0dXJuIHR9fSk7a1AuZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbS5pbnNpZGUiLGRlZmF1bHRPcHRpb246e2Rpc2FibGVkOiExLHpvb21Mb2NrOiExLHpvb21Pbk1vdXNlV2hlZWw6ITAsbW92ZU9uTW91c2VNb3ZlOiEwLHByZXZlbnREZWZhdWx0TW91c2VNb3ZlOiEwfX0pO3ZhciBGUD12LEhQPSJcMF9lY19kYXRhWm9vbV9yb2FtcyIsWlA9bSxVUD1QUC5leHRlbmQoe3R5cGU6ImRhdGFab29tLmluc2lkZSIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuX3JhbmdlfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7VVAuc3VwZXJBcHBseSh0aGlzLCJyZW5kZXIiLGFyZ3VtZW50cyksdGhpcy5fcmFuZ2U9dC5nZXRQZXJjZW50UmFuZ2UoKSxkKHRoaXMuZ2V0VGFyZ2V0Q29vcmRJbmZvKCksZnVuY3Rpb24oZSxuKXt2YXIgbz1mKGUsZnVuY3Rpb24odCl7cmV0dXJuIGV5KHQubW9kZWwpfSk7ZChlLGZ1bmN0aW9uKGUpe3ZhciBhPWUubW9kZWwscj10Lm9wdGlvbjtRdihpLHtjb29yZElkOmV5KGEpLGFsbENvb3JkSWRzOm8sY29udGFpbnNQb2ludDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGEuY29vcmRpbmF0ZVN5c3RlbS5jb250YWluUG9pbnQoW2UsaV0pfSxkYXRhWm9vbUlkOnQuaWQsdGhyb3R0bGVSYXRlOnQuZ2V0KCJ0aHJvdHRsZSIsITApLHBhbkdldFJhbmdlOlpQKHRoaXMuX29uUGFuLHRoaXMsZSxuKSx6b29tR2V0UmFuZ2U6WlAodGhpcy5fb25ab29tLHRoaXMsZSxuKSx6b29tTG9jazpyLnpvb21Mb2NrLGRpc2FibGVkOnIuZGlzYWJsZWQscm9hbUNvbnRyb2xsZXJPcHQ6e3pvb21Pbk1vdXNlV2hlZWw6ci56b29tT25Nb3VzZVdoZWVsLG1vdmVPbk1vdXNlTW92ZTpyLm1vdmVPbk1vdXNlTW92ZSxwcmV2ZW50RGVmYXVsdE1vdXNlTW92ZTpyLnByZXZlbnREZWZhdWx0TW91c2VNb3ZlfX0pfSx0aGlzKX0sdGhpcyl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0eSh0aGlzLmFwaSx0aGlzLmRhdGFab29tTW9kZWwuaWQpLFVQLnN1cGVyQXBwbHkodGhpcywiZGlzcG9zZSIsYXJndW1lbnRzKSx0aGlzLl9yYW5nZT1udWxsfSxfb25QYW46ZnVuY3Rpb24odCxlLGksbixvLGEscixzLGwpe3ZhciB1PXRoaXMuX3JhbmdlLGg9dS5zbGljZSgpLGM9dC5heGlzTW9kZWxzWzBdO2lmKGMpe3ZhciBkPVhQW2VdKFthLHJdLFtzLGxdLGMsaSx0KSxmPWQuc2lnbmFsKihoWzFdLWhbMF0pKmQucGl4ZWwvZC5waXhlbExlbmd0aDtyZXR1cm4ga0MoZixoLFswLDEwMF0sImFsbCIpLHRoaXMuX3JhbmdlPWgsdVswXSE9PWhbMF18fHVbMV0hPT1oWzFdP2g6dm9pZCAwfX0sX29uWm9vbTpmdW5jdGlvbih0LGUsaSxuLG8sYSl7dmFyIHI9dGhpcy5fcmFuZ2Uscz1yLnNsaWNlKCksbD10LmF4aXNNb2RlbHNbMF07aWYobCl7dmFyIHU9WFBbZV0obnVsbCxbbyxhXSxsLGksdCksaD0odS5zaWduYWw+MD91LnBpeGVsU3RhcnQrdS5waXhlbExlbmd0aC11LnBpeGVsOnUucGl4ZWwtdS5waXhlbFN0YXJ0KS91LnBpeGVsTGVuZ3RoKihzWzFdLXNbMF0pK3NbMF07bj1NYXRoLm1heCgxL24sMCksc1swXT0oc1swXS1oKSpuK2gsc1sxXT0oc1sxXS1oKSpuK2g7dmFyIGM9dGhpcy5kYXRhWm9vbU1vZGVsLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLmdldE1pbk1heFNwYW4oKTtyZXR1cm4ga0MoMCxzLFswLDEwMF0sMCxjLm1pblNwYW4sYy5tYXhTcGFuKSx0aGlzLl9yYW5nZT1zLHJbMF0hPT1zWzBdfHxyWzFdIT09c1sxXT9zOnZvaWQgMH19fSksWFA9e2dyaWQ6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT1pLmF4aXMscj17fSxzPW8ubW9kZWwuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCk7cmV0dXJuIHQ9dHx8WzAsMF0sIngiPT09YS5kaW0/KHIucGl4ZWw9ZVswXS10WzBdLHIucGl4ZWxMZW5ndGg9cy53aWR0aCxyLnBpeGVsU3RhcnQ9cy54LHIuc2lnbmFsPWEuaW52ZXJzZT8xOi0xKTooci5waXhlbD1lWzFdLXRbMV0sci5waXhlbExlbmd0aD1zLmhlaWdodCxyLnBpeGVsU3RhcnQ9cy55LHIuc2lnbmFsPWEuaW52ZXJzZT8tMToxKSxyfSxwb2xhcjpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWkuYXhpcyxyPXt9LHM9by5tb2RlbC5jb29yZGluYXRlU3lzdGVtLGw9cy5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCksdT1zLmdldEFuZ2xlQXhpcygpLmdldEV4dGVudCgpO3JldHVybiB0PXQ/cy5wb2ludFRvQ29vcmQodCk6WzAsMF0sZT1zLnBvaW50VG9Db29yZChlKSwicmFkaXVzQXhpcyI9PT1pLm1haW5UeXBlPyhyLnBpeGVsPWVbMF0tdFswXSxyLnBpeGVsTGVuZ3RoPWxbMV0tbFswXSxyLnBpeGVsU3RhcnQ9bFswXSxyLnNpZ25hbD1hLmludmVyc2U/MTotMSk6KHIucGl4ZWw9ZVsxXS10WzFdLHIucGl4ZWxMZW5ndGg9dVsxXS11WzBdLHIucGl4ZWxTdGFydD11WzBdLHIuc2lnbmFsPWEuaW52ZXJzZT8tMToxKSxyfSxzaW5nbGVBeGlzOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9aS5heGlzLHI9by5tb2RlbC5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSxzPXt9O3JldHVybiB0PXR8fFswLDBdLCJob3Jpem9udGFsIj09PWEub3JpZW50PyhzLnBpeGVsPWVbMF0tdFswXSxzLnBpeGVsTGVuZ3RoPXIud2lkdGgscy5waXhlbFN0YXJ0PXIueCxzLnNpZ25hbD1hLmludmVyc2U/MTotMSk6KHMucGl4ZWw9ZVsxXS10WzFdLHMucGl4ZWxMZW5ndGg9ci5oZWlnaHQscy5waXhlbFN0YXJ0PXIueSxzLnNpZ25hbD1hLmludmVyc2U/LTE6MSksc319O2hzKHtnZXRUYXJnZXRTZXJpZXM6ZnVuY3Rpb24odCl7dmFyIGU9UigpO3JldHVybiB0LmVhY2hDb21wb25lbnQoImRhdGFab29tIixmdW5jdGlvbih0KXt0LmVhY2hUYXJnZXRBeGlzKGZ1bmN0aW9uKHQsaSxuKXtkKG4uZ2V0QXhpc1Byb3h5KHQubmFtZSxpKS5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSxmdW5jdGlvbih0KXtlLnNldCh0LnVpZCx0KX0pfSl9KSxlfSxtb2RpZnlPdXRwdXRFbmQ6ITAsb3ZlcmFsbFJlc2V0OmZ1bmN0aW9uKHQsZSl7dC5lYWNoQ29tcG9uZW50KCJkYXRhWm9vbSIsZnVuY3Rpb24odCl7dC5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbih0LGksbil7bi5nZXRBeGlzUHJveHkodC5uYW1lLGkpLnJlc2V0KG4sZSl9KSx0LmVhY2hUYXJnZXRBeGlzKGZ1bmN0aW9uKHQsaSxuKXtuLmdldEF4aXNQcm94eSh0Lm5hbWUsaSkuZmlsdGVyRGF0YShuLGUpfSl9KSx0LmVhY2hDb21wb25lbnQoImRhdGFab29tIixmdW5jdGlvbih0KXt2YXIgZT10LmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLGk9ZS5nZXREYXRhUGVyY2VudFdpbmRvdygpLG49ZS5nZXREYXRhVmFsdWVXaW5kb3coKTt0LnNldFJhd1JhbmdlKHtzdGFydDppWzBdLGVuZDppWzFdLHN0YXJ0VmFsdWU6blswXSxlbmRWYWx1ZTpuWzFdfSwhMCl9KX19KSxjcygiZGF0YVpvb20iLGZ1bmN0aW9uKHQsZSl7dmFyIGk9WnYobShlLmVhY2hDb21wb25lbnQsZSwiZGF0YVpvb20iKSxJUCxmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldChlLmF4aXNJbmRleCl9KSxuPVtdO2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImRhdGFab29tIixxdWVyeTp0fSxmdW5jdGlvbih0LGUpe24ucHVzaC5hcHBseShuLGkodCkubm9kZXMpfSksZChuLGZ1bmN0aW9uKGUsaSl7ZS5zZXRSYXdSYW5nZSh7c3RhcnQ6dC5zdGFydCxlbmQ6dC5lbmQsc3RhcnRWYWx1ZTp0LnN0YXJ0VmFsdWUsZW5kVmFsdWU6dC5lbmRWYWx1ZX0pfSl9KTt2YXIgalA9ZCxZUD1mdW5jdGlvbih0KXt2YXIgZT10JiZ0LnZpc3VhbE1hcDt5KGUpfHwoZT1lP1tlXTpbXSksalAoZSxmdW5jdGlvbih0KXtpZih0KXtoeSh0LCJzcGxpdExpc3QiKSYmIWh5KHQsInBpZWNlcyIpJiYodC5waWVjZXM9dC5zcGxpdExpc3QsZGVsZXRlIHQuc3BsaXRMaXN0KTt2YXIgZT10LnBpZWNlcztlJiZ5KGUpJiZqUChlLGZ1bmN0aW9uKHQpe3codCkmJihoeSh0LCJzdGFydCIpJiYhaHkodCwibWluIikmJih0Lm1pbj10LnN0YXJ0KSxoeSh0LCJlbmQiKSYmIWh5KHQsIm1heCIpJiYodC5tYXg9dC5lbmQpKX0pfX0pfTt1TS5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoInZpc3VhbE1hcCIsZnVuY3Rpb24odCl7cmV0dXJuIHQuY2F0ZWdvcmllc3x8KHQucGllY2VzP3QucGllY2VzLmxlbmd0aD4wOnQuc3BsaXROdW1iZXI+MCkmJiF0LmNhbGN1bGFibGU/InBpZWNld2lzZSI6ImNvbnRpbnVvdXMifSk7dmFyIHFQPUNJLlZJU1VBTC5DT01QT05FTlQ7cHMocVAse2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107cmV0dXJuIGUuZWFjaENvbXBvbmVudCgidmlzdWFsTWFwIixmdW5jdGlvbihlKXt2YXIgbj10LnBpcGVsaW5lQ29udGV4dDshZS5pc1RhcmdldFNlcmllcyh0KXx8biYmbi5sYXJnZXx8aS5wdXNoKHB2KGUuc3RhdGVMaXN0LGUudGFyZ2V0VmlzdWFscyxtKGUuZ2V0VmFsdWVTdGF0ZSxlKSxlLmdldERhdGFEaW1lbnNpb24odC5nZXREYXRhKCkpKSl9KSxpfX0pLHBzKHFQLHtjcmVhdGVPbkFsbFNlcmllczohMCxyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0RGF0YSgpLG49W107ZS5lYWNoQ29tcG9uZW50KCJ2aXN1YWxNYXAiLGZ1bmN0aW9uKGUpe2lmKGUuaXNUYXJnZXRTZXJpZXModCkpe3ZhciBvPWUuZ2V0VmlzdWFsTWV0YShtKGN5LG51bGwsdCxlKSl8fHtzdG9wczpbXSxvdXRlckNvbG9yczpbXX0sYT1lLmdldERhdGFEaW1lbnNpb24oaSkscj1pLmdldERpbWVuc2lvbkluZm8oYSk7bnVsbCE9ciYmKG8uZGltZW5zaW9uPXIuaW5kZXgsbi5wdXNoKG8pKX19KSx0LmdldERhdGEoKS5zZXRWaXN1YWwoInZpc3VhbE1ldGEiLG4pfX0pO3ZhciBLUD17Z2V0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1pKCgkUFt0XXx8e30pW2VdKTtyZXR1cm4gbiYmeShvKT9vW28ubGVuZ3RoLTFdOm99fSwkUD17Y29sb3I6e2FjdGl2ZTpbIiMwMDZlZGQiLCIjZTBmZmZmIl0saW5hY3RpdmU6WyJyZ2JhKDAsMCwwLDApIl19LGNvbG9ySHVlOnthY3RpdmU6WzAsMzYwXSxpbmFjdGl2ZTpbMCwwXX0sY29sb3JTYXR1cmF0aW9uOnthY3RpdmU6Wy4zLDFdLGluYWN0aXZlOlswLDBdfSxjb2xvckxpZ2h0bmVzczp7YWN0aXZlOlsuOSwuNV0saW5hY3RpdmU6WzAsMF19LGNvbG9yQWxwaGE6e2FjdGl2ZTpbLjMsMV0saW5hY3RpdmU6WzAsMF19LG9wYWNpdHk6e2FjdGl2ZTpbLjMsMV0saW5hY3RpdmU6WzAsMF19LHN5bWJvbDp7YWN0aXZlOlsiY2lyY2xlIiwicm91bmRSZWN0IiwiZGlhbW9uZCJdLGluYWN0aXZlOlsibm9uZSJdfSxzeW1ib2xTaXplOnthY3RpdmU6WzEwLDUwXSxpbmFjdGl2ZTpbMCwwXX19LEpQPUhBLm1hcFZpc3VhbCxRUD1IQS5lYWNoVmlzdWFsLHROPXksZU49ZCxpTj1DbyxuTj1UbyxvTj1CLGFOPXZzKHt0eXBlOiJ2aXN1YWxNYXAiLGRlcGVuZGVuY2llczpbInNlcmllcyJdLHN0YXRlTGlzdDpbImluUmFuZ2UiLCJvdXRPZlJhbmdlIl0scmVwbGFjYWJsZU9wdGlvbktleXM6WyJpblJhbmdlIiwib3V0T2ZSYW5nZSIsInRhcmdldCIsImNvbnRyb2xsZXIiLCJjb2xvciJdLGRhdGFCb3VuZDpbLTEvMCwxLzBdLGxheW91dE1vZGU6e3R5cGU6ImJveCIsaWdub3JlU2l6ZTohMH0sZGVmYXVsdE9wdGlvbjp7c2hvdzohMCx6bGV2ZWw6MCx6OjQsc2VyaWVzSW5kZXg6ImFsbCIsbWluOjAsbWF4OjIwMCxkaW1lbnNpb246bnVsbCxpblJhbmdlOm51bGwsb3V0T2ZSYW5nZTpudWxsLGxlZnQ6MCxyaWdodDpudWxsLHRvcDpudWxsLGJvdHRvbTowLGl0ZW1XaWR0aDpudWxsLGl0ZW1IZWlnaHQ6bnVsbCxpbnZlcnNlOiExLG9yaWVudDoidmVydGljYWwiLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyQ29sb3I6IiNjY2MiLGNvbnRlbnRDb2xvcjoiIzU3OTNmMyIsaW5hY3RpdmVDb2xvcjoiI2FhYSIsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsdGV4dEdhcDoxMCxwcmVjaXNpb246MCxjb2xvcjpudWxsLGZvcm1hdHRlcjpudWxsLHRleHQ6bnVsbCx0ZXh0U3R5bGU6e2NvbG9yOiIjMzMzIn19LGluaXQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2RhdGFFeHRlbnQsdGhpcy50YXJnZXRWaXN1YWxzPXt9LHRoaXMuY29udHJvbGxlclZpc3VhbHM9e30sdGhpcy50ZXh0U3R5bGVNb2RlbCx0aGlzLml0ZW1TaXplLHRoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxpKX0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uO29fLmNhbnZhc1N1cHBvcnRlZHx8KGkucmVhbHRpbWU9ITEpLCFlJiZkdihpLHQsdGhpcy5yZXBsYWNhYmxlT3B0aW9uS2V5cyksdGhpcy50ZXh0U3R5bGVNb2RlbD10aGlzLmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSx0aGlzLnJlc2V0SXRlbVNpemUoKSx0aGlzLmNvbXBsZXRlVmlzdWFsT3B0aW9uKCl9LHJlc2V0VmlzdWFsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGVMaXN0O3Q9bSh0LHRoaXMpLHRoaXMuY29udHJvbGxlclZpc3VhbHM9Y3YodGhpcy5vcHRpb24uY29udHJvbGxlcixlLHQpLHRoaXMudGFyZ2V0VmlzdWFscz1jdih0aGlzLm9wdGlvbi50YXJnZXQsZSx0KX0sZ2V0VGFyZ2V0U2VyaWVzSW5kaWNlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnNlcmllc0luZGV4LGU9W107cmV0dXJuIG51bGw9PXR8fCJhbGwiPT09dD90aGlzLmVjTW9kZWwuZWFjaFNlcmllcyhmdW5jdGlvbih0LGkpe2UucHVzaChpKX0pOmU9U2kodCksZX0sZWFjaFRhcmdldFNlcmllczpmdW5jdGlvbih0LGUpe2QodGhpcy5nZXRUYXJnZXRTZXJpZXNJbmRpY2VzKCksZnVuY3Rpb24oaSl7dC5jYWxsKGUsdGhpcy5lY01vZGVsLmdldFNlcmllc0J5SW5kZXgoaSkpfSx0aGlzKX0saXNUYXJnZXRTZXJpZXM6ZnVuY3Rpb24odCl7dmFyIGU9ITE7cmV0dXJuIHRoaXMuZWFjaFRhcmdldFNlcmllcyhmdW5jdGlvbihpKXtpPT09dCYmKGU9ITApfSksZX0sZm9ybWF0VmFsdWVUZXh0OmZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiB0PT09bFswXT8ibWluIjp0PT09bFsxXT8ibWF4IjooK3QpLnRvRml4ZWQoTWF0aC5taW4ocywyMCkpfXZhciBvLGEscj10aGlzLm9wdGlvbixzPXIucHJlY2lzaW9uLGw9dGhpcy5kYXRhQm91bmQsdT1yLmZvcm1hdHRlcjtyZXR1cm4gaT1pfHxbIjwiLCI+Il0seSh0KSYmKHQ9dC5zbGljZSgpLG89ITApLGE9ZT90Om8/W24odFswXSksbih0WzFdKV06bih0KSxfKHUpP3UucmVwbGFjZSgie3ZhbHVlfSIsbz9hWzBdOmEpLnJlcGxhY2UoInt2YWx1ZTJ9IixvP2FbMV06YSk6eCh1KT9vP3UodFswXSx0WzFdKTp1KHQpOm8/dFswXT09PWxbMF0/aVswXSsiICIrYVsxXTp0WzFdPT09bFsxXT9pWzFdKyIgIithWzBdOmFbMF0rIiAtICIrYVsxXTphfSxyZXNldEV4dGVudDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLGU9aU4oW3QubWluLHQubWF4XSk7dGhpcy5fZGF0YUV4dGVudD1lfSxnZXREYXRhRGltZW5zaW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmRpbWVuc2lvbixpPXQuZGltZW5zaW9ucztpZihudWxsIT1lfHxpLmxlbmd0aCl7aWYobnVsbCE9ZSlyZXR1cm4gdC5nZXREaW1lbnNpb24oZSk7Zm9yKHZhciBuPXQuZGltZW5zaW9ucyxvPW4ubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPW5bb107aWYoIXQuZ2V0RGltZW5zaW9uSW5mbyhhKS5pc0NhbGN1bGF0aW9uQ29vcmQpcmV0dXJuIGF9fX0sZ2V0RXh0ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFFeHRlbnQuc2xpY2UoKX0sY29tcGxldGVWaXN1YWxPcHRpb246ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ROKG8uY29sb3IpJiYhdC5pblJhbmdlJiYodC5pblJhbmdlPXtjb2xvcjpvLmNvbG9yLnNsaWNlKCkucmV2ZXJzZSgpfSksdC5pblJhbmdlPXQuaW5SYW5nZXx8e2NvbG9yOmUuZ2V0KCJncmFkaWVudENvbG9yIil9LGVOKHRoaXMuc3RhdGVMaXN0LGZ1bmN0aW9uKGUpe3ZhciBpPXRbZV07aWYoXyhpKSl7dmFyIG49S1AuZ2V0KGksImFjdGl2ZSIsbCk7bj8odFtlXT17fSx0W2VdW2ldPW4pOmRlbGV0ZSB0W2VdfX0sdGhpcyl9dmFyIGU9dGhpcy5lY01vZGVsLG89dGhpcy5vcHRpb24sYT17aW5SYW5nZTpvLmluUmFuZ2Usb3V0T2ZSYW5nZTpvLm91dE9mUmFuZ2V9LHI9by50YXJnZXR8fChvLnRhcmdldD17fSkscz1vLmNvbnRyb2xsZXJ8fChvLmNvbnRyb2xsZXI9e30pO24ocixhKSxuKHMsYSk7dmFyIGw9dGhpcy5pc0NhdGVnb3J5KCk7dC5jYWxsKHRoaXMsciksdC5jYWxsKHRoaXMscyksZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRbZV0sbz10W2ldO24mJiFvJiYobz10W2ldPXt9LGVOKG4sZnVuY3Rpb24odCxlKXtpZihIQS5pc1ZhbGlkVHlwZShlKSl7dmFyIGk9S1AuZ2V0KGUsImluYWN0aXZlIixsKTtudWxsIT1pJiYob1tlXT1pLCJjb2xvciIhPT1lfHxvLmhhc093blByb3BlcnR5KCJvcGFjaXR5Iil8fG8uaGFzT3duUHJvcGVydHkoImNvbG9yQWxwaGEiKXx8KG8ub3BhY2l0eT1bMCwwXSkpfX0pKX0uY2FsbCh0aGlzLHIsImluUmFuZ2UiLCJvdXRPZlJhbmdlIiksZnVuY3Rpb24odCl7dmFyIGU9KHQuaW5SYW5nZXx8e30pLnN5bWJvbHx8KHQub3V0T2ZSYW5nZXx8e30pLnN5bWJvbCxuPSh0LmluUmFuZ2V8fHt9KS5zeW1ib2xTaXplfHwodC5vdXRPZlJhbmdlfHx7fSkuc3ltYm9sU2l6ZSxvPXRoaXMuZ2V0KCJpbmFjdGl2ZUNvbG9yIik7ZU4odGhpcy5zdGF0ZUxpc3QsZnVuY3Rpb24oYSl7dmFyIHI9dGhpcy5pdGVtU2l6ZSxzPXRbYV07c3x8KHM9dFthXT17Y29sb3I6bD9vOltvXX0pLG51bGw9PXMuc3ltYm9sJiYocy5zeW1ib2w9ZSYmaShlKXx8KGw/InJvdW5kUmVjdCI6WyJyb3VuZFJlY3QiXSkpLG51bGw9PXMuc3ltYm9sU2l6ZSYmKHMuc3ltYm9sU2l6ZT1uJiZpKG4pfHwobD9yWzBdOltyWzBdLHJbMF1dKSkscy5zeW1ib2w9SlAocy5zeW1ib2wsZnVuY3Rpb24odCl7cmV0dXJuIm5vbmUiPT09dHx8InNxdWFyZSI9PT10PyJyb3VuZFJlY3QiOnR9KTt2YXIgdT1zLnN5bWJvbFNpemU7aWYobnVsbCE9dSl7dmFyIGg9LTEvMDtRUCh1LGZ1bmN0aW9uKHQpe3Q+aCYmKGg9dCl9KSxzLnN5bWJvbFNpemU9SlAodSxmdW5jdGlvbih0KXtyZXR1cm4gbk4odCxbMCxoXSxbMCxyWzBdXSwhMCl9KX19LHRoaXMpfS5jYWxsKHRoaXMscyl9LHJlc2V0SXRlbVNpemU6ZnVuY3Rpb24oKXt0aGlzLml0ZW1TaXplPVtwYXJzZUZsb2F0KHRoaXMuZ2V0KCJpdGVtV2lkdGgiKSkscGFyc2VGbG9hdCh0aGlzLmdldCgiaXRlbUhlaWdodCIpKV19LGlzQ2F0ZWdvcnk6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMub3B0aW9uLmNhdGVnb3JpZXN9LHNldFNlbGVjdGVkOm9OLGdldFZhbHVlU3RhdGU6b04sZ2V0VmlzdWFsTWV0YTpvTn0pLHJOPVsyMCwxNDBdLHNOPWFOLmV4dGVuZCh7dHlwZToidmlzdWFsTWFwLmNvbnRpbnVvdXMiLGRlZmF1bHRPcHRpb246e2FsaWduOiJhdXRvIixjYWxjdWxhYmxlOiExLHJhbmdlOm51bGwscmVhbHRpbWU6ITAsaXRlbUhlaWdodDpudWxsLGl0ZW1XaWR0aDpudWxsLGhvdmVyTGluazohMCxob3ZlckxpbmtEYXRhU2l6ZTpudWxsLGhvdmVyTGlua09uSGFuZGxlOm51bGx9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24odCxlKXtzTi5zdXBlckFwcGx5KHRoaXMsIm9wdGlvblVwZGF0ZWQiLGFyZ3VtZW50cyksdGhpcy5yZXNldEV4dGVudCgpLHRoaXMucmVzZXRWaXN1YWwoZnVuY3Rpb24odCl7dC5tYXBwaW5nTWV0aG9kPSJsaW5lYXIiLHQuZGF0YUV4dGVudD10aGlzLmdldEV4dGVudCgpfSksdGhpcy5fcmVzZXRSYW5nZSgpfSxyZXNldEl0ZW1TaXplOmZ1bmN0aW9uKCl7c04uc3VwZXJBcHBseSh0aGlzLCJyZXNldEl0ZW1TaXplIixhcmd1bWVudHMpO3ZhciB0PXRoaXMuaXRlbVNpemU7Imhvcml6b250YWwiPT09dGhpcy5fb3JpZW50JiZ0LnJldmVyc2UoKSwobnVsbD09dFswXXx8aXNOYU4odFswXSkpJiYodFswXT1yTlswXSksKG51bGw9PXRbMV18fGlzTmFOKHRbMV0pKSYmKHRbMV09ck5bMV0pfSxfcmVzZXRSYW5nZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RXh0ZW50KCksZT10aGlzLm9wdGlvbi5yYW5nZTshZXx8ZS5hdXRvPyh0LmF1dG89MSx0aGlzLm9wdGlvbi5yYW5nZT10KTp5KGUpJiYoZVswXT5lWzFdJiZlLnJldmVyc2UoKSxlWzBdPU1hdGgubWF4KGVbMF0sdFswXSksZVsxXT1NYXRoLm1pbihlWzFdLHRbMV0pKX0sY29tcGxldGVWaXN1YWxPcHRpb246ZnVuY3Rpb24oKXthTi5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLGQodGhpcy5zdGF0ZUxpc3QsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uY29udHJvbGxlclt0XS5zeW1ib2xTaXplO2UmJmVbMF0hPT1lWzFdJiYoZVswXT0wKX0sdGhpcyl9LHNldFNlbGVjdGVkOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnJhbmdlPXQuc2xpY2UoKSx0aGlzLl9yZXNldFJhbmdlKCl9LGdldFNlbGVjdGVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFeHRlbnQoKSxlPUNvKCh0aGlzLmdldCgicmFuZ2UiKXx8W10pLnNsaWNlKCkpO3JldHVybiBlWzBdPnRbMV0mJihlWzBdPXRbMV0pLGVbMV0+dFsxXSYmKGVbMV09dFsxXSksZVswXTx0WzBdJiYoZVswXT10WzBdKSxlWzFdPHRbMF0mJihlWzFdPXRbMF0pLGV9LGdldFZhbHVlU3RhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24ucmFuZ2UsaT10aGlzLmdldEV4dGVudCgpO3JldHVybihlWzBdPD1pWzBdfHxlWzBdPD10KSYmKGVbMV0+PWlbMV18fHQ8PWVbMV0pPyJpblJhbmdlIjoib3V0T2ZSYW5nZSJ9LGZpbmRUYXJnZXREYXRhSW5kaWNlczpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0U2VyaWVzKGZ1bmN0aW9uKGkpe3ZhciBuPVtdLG89aS5nZXREYXRhKCk7by5lYWNoKHRoaXMuZ2V0RGF0YURpbWVuc2lvbihvKSxmdW5jdGlvbihlLGkpe3RbMF08PWUmJmU8PXRbMV0mJm4ucHVzaChpKX0sdGhpcyksZS5wdXNoKHtzZXJpZXNJZDppLmlkLGRhdGFJbmRleDpufSl9LHRoaXMpLGV9LGdldFZpc3VhbE1ldGE6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe28ucHVzaCh7dmFsdWU6ZSxjb2xvcjp0KGUsaSl9KX1mb3IodmFyIGk9ZHkoMCwwLHRoaXMuZ2V0RXh0ZW50KCkpLG49ZHkoMCwwLHRoaXMub3B0aW9uLnJhbmdlLnNsaWNlKCkpLG89W10sYT0wLHI9MCxzPW4ubGVuZ3RoLGw9aS5sZW5ndGg7cjxsJiYoIW4ubGVuZ3RofHxpW3JdPD1uWzBdKTtyKyspaVtyXTxuW2FdJiZlKGlbcl0sIm91dE9mUmFuZ2UiKTtmb3IodT0xO2E8czthKyssdT0wKXUmJm8ubGVuZ3RoJiZlKG5bYV0sIm91dE9mUmFuZ2UiKSxlKG5bYV0sImluUmFuZ2UiKTtmb3IodmFyIHU9MTtyPGw7cisrKSghbi5sZW5ndGh8fG5bbi5sZW5ndGgtMV08aVtyXSkmJih1JiYoby5sZW5ndGgmJmUob1tvLmxlbmd0aC0xXS52YWx1ZSwib3V0T2ZSYW5nZSIpLHU9MCksZShpW3JdLCJvdXRPZlJhbmdlIikpO3ZhciBoPW8ubGVuZ3RoO3JldHVybntzdG9wczpvLG91dGVyQ29sb3JzOltoP29bMF0uY29sb3I6InRyYW5zcGFyZW50IixoP29baC0xXS5jb2xvcjoidHJhbnNwYXJlbnQiXX19fSksbE49eXMoe3R5cGU6InZpc3VhbE1hcCIsYXV0b1Bvc2l0aW9uVmFsdWVzOntsZWZ0OjEscmlnaHQ6MSx0b3A6MSxib3R0b206MX0saW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuZWNNb2RlbD10LHRoaXMuYXBpPWUsdGhpcy52aXN1YWxNYXBNb2RlbH0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMudmlzdWFsTWFwTW9kZWw9dCwhMSE9PXQuZ2V0KCJzaG93Iik/dGhpcy5kb1JlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0scmVuZGVyQmFja2dyb3VuZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLGk9cVMoZS5nZXQoInBhZGRpbmciKXx8MCksbj10LmdldEJvdW5kaW5nUmVjdCgpO3QuYWRkKG5ldyBiUyh7ejI6LTEsc2lsZW50OiEwLHNoYXBlOnt4Om4ueC1pWzNdLHk6bi55LWlbMF0sd2lkdGg6bi53aWR0aCtpWzNdK2lbMV0saGVpZ2h0Om4uaGVpZ2h0K2lbMF0raVsyXX0sc3R5bGU6e2ZpbGw6ZS5nZXQoImJhY2tncm91bmRDb2xvciIpLHN0cm9rZTplLmdldCgiYm9yZGVyQ29sb3IiKSxsaW5lV2lkdGg6ZS5nZXQoImJvcmRlcldpZHRoIil9fSkpfSxnZXRDb250cm9sbGVyVmlzdWFsOmZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiBzW3RdfWZ1bmN0aW9uIG8odCxlKXtzW3RdPWV9dmFyIGE9KGk9aXx8e30pLmZvcmNlU3RhdGUscj10aGlzLnZpc3VhbE1hcE1vZGVsLHM9e307aWYoInN5bWJvbCI9PT1lJiYocy5zeW1ib2w9ci5nZXQoIml0ZW1TeW1ib2wiKSksImNvbG9yIj09PWUpe3ZhciBsPXIuZ2V0KCJjb250ZW50Q29sb3IiKTtzLmNvbG9yPWx9dmFyIHU9ci5jb250cm9sbGVyVmlzdWFsc1thfHxyLmdldFZhbHVlU3RhdGUodCldO3JldHVybiBkKEhBLnByZXBhcmVWaXN1YWxUeXBlcyh1KSxmdW5jdGlvbihhKXt2YXIgcj11W2FdO2kuY29udmVydE9wYWNpdHlUb0FscGhhJiYib3BhY2l0eSI9PT1hJiYoYT0iY29sb3JBbHBoYSIscj11Ll9fYWxwaGFGb3JPcGFjaXR5KSxIQS5kZXBlbmRzT24oYSxlKSYmciYmci5hcHBseVZpc3VhbCh0LG4sbyl9KSxzW2VdfSxwb3NpdGlvbkdyb3VwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsaT10aGlzLmFwaTt0YSh0LGUuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmkuZ2V0V2lkdGgoKSxoZWlnaHQ6aS5nZXRIZWlnaHQoKX0pfSxkb1JlbmRlcjpCfSksdU49VG8saE49ZCxjTj1NYXRoLm1pbixkTj1NYXRoLm1heCxmTj0xMixwTj02LGdOPWxOLmV4dGVuZCh7dHlwZToidmlzdWFsTWFwLmNvbnRpbnVvdXMiLGluaXQ6ZnVuY3Rpb24oKXtnTi5zdXBlckFwcGx5KHRoaXMsImluaXQiLGFyZ3VtZW50cyksdGhpcy5fc2hhcGVzPXt9LHRoaXMuX2RhdGFJbnRlcnZhbD1bXSx0aGlzLl9oYW5kbGVFbmRzPVtdLHRoaXMuX29yaWVudCx0aGlzLl91c2VIYW5kbGUsdGhpcy5faG92ZXJMaW5rRGF0YUluZGljZXM9W10sdGhpcy5fZHJhZ2dpbmcsdGhpcy5faG92ZXJpbmd9LGRvUmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe24mJiJzZWxlY3REYXRhUmFuZ2UiPT09bi50eXBlJiZuLmZyb209PT10aGlzLnVpZHx8dGhpcy5fYnVpbGRWaWV3KCl9LF9idWlsZFZpZXc6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10aGlzLmdyb3VwO3RoaXMuX29yaWVudD10LmdldCgib3JpZW50IiksdGhpcy5fdXNlSGFuZGxlPXQuZ2V0KCJjYWxjdWxhYmxlIiksdGhpcy5fcmVzZXRJbnRlcnZhbCgpLHRoaXMuX3JlbmRlckJhcihlKTt2YXIgaT10LmdldCgidGV4dCIpO3RoaXMuX3JlbmRlckVuZHNUZXh0KGUsaSwwKSx0aGlzLl9yZW5kZXJFbmRzVGV4dChlLGksMSksdGhpcy5fdXBkYXRlVmlldyghMCksdGhpcy5yZW5kZXJCYWNrZ3JvdW5kKGUpLHRoaXMuX3VwZGF0ZVZpZXcoKSx0aGlzLl9lbmFibGVIb3ZlckxpbmtUb1NlcmllcygpLHRoaXMuX2VuYWJsZUhvdmVyTGlua0Zyb21TZXJpZXMoKSx0aGlzLnBvc2l0aW9uR3JvdXAoZSl9LF9yZW5kZXJFbmRzVGV4dDpmdW5jdGlvbih0LGUsaSl7aWYoZSl7dmFyIG49ZVsxLWldO249bnVsbCE9bj9uKyIiOiIiO3ZhciBvPXRoaXMudmlzdWFsTWFwTW9kZWwsYT1vLmdldCgidGV4dEdhcCIpLHI9by5pdGVtU2l6ZSxzPXRoaXMuX3NoYXBlcy5iYXJHcm91cCxsPXRoaXMuX2FwcGx5VHJhbnNmb3JtKFtyWzBdLzIsMD09PWk/LWE6clsxXSthXSxzKSx1PXRoaXMuX2FwcGx5VHJhbnNmb3JtKDA9PT1pPyJib3R0b20iOiJ0b3AiLHMpLGg9dGhpcy5fb3JpZW50LGM9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbDt0aGlzLmdyb3VwLmFkZChuZXcgZFMoe3N0eWxlOnt4OmxbMF0seTpsWzFdLHRleHRWZXJ0aWNhbEFsaWduOiJob3Jpem9udGFsIj09PWg/Im1pZGRsZSI6dSx0ZXh0QWxpZ246Imhvcml6b250YWwiPT09aD91OiJjZW50ZXIiLHRleHQ6bix0ZXh0Rm9udDpjLmdldEZvbnQoKSx0ZXh0RmlsbDpjLmdldFRleHRDb2xvcigpfX0pKX19LF9yZW5kZXJCYXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxpPXRoaXMuX3NoYXBlcyxuPWUuaXRlbVNpemUsbz10aGlzLl9vcmllbnQsYT10aGlzLl91c2VIYW5kbGUscj1meShlLHRoaXMuYXBpLG4pLHM9aS5iYXJHcm91cD10aGlzLl9jcmVhdGVCYXJHcm91cChyKTtzLmFkZChpLm91dE9mUmFuZ2U9Z3koKSkscy5hZGQoaS5pblJhbmdlPWd5KG51bGwsYT9feSh0aGlzLl9vcmllbnQpOm51bGwsbSh0aGlzLl9kcmFnSGFuZGxlLHRoaXMsImFsbCIsITEpLG0odGhpcy5fZHJhZ0hhbmRsZSx0aGlzLCJhbGwiLCEwKSkpO3ZhciBsPWUudGV4dFN0eWxlTW9kZWwuZ2V0VGV4dFJlY3QoIuWbvSIpLHU9ZE4obC53aWR0aCxsLmhlaWdodCk7YSYmKGkuaGFuZGxlVGh1bWJzPVtdLGkuaGFuZGxlTGFiZWxzPVtdLGkuaGFuZGxlTGFiZWxQb2ludHM9W10sdGhpcy5fY3JlYXRlSGFuZGxlKHMsMCxuLHUsbyxyKSx0aGlzLl9jcmVhdGVIYW5kbGUocywxLG4sdSxvLHIpKSx0aGlzLl9jcmVhdGVJbmRpY2F0b3IocyxuLHUsbyksdC5hZGQocyl9LF9jcmVhdGVIYW5kbGU6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT1tKHRoaXMuX2RyYWdIYW5kbGUsdGhpcyxlLCExKSxyPW0odGhpcy5fZHJhZ0hhbmRsZSx0aGlzLGUsITApLHM9Z3kobXkoZSxuKSxfeSh0aGlzLl9vcmllbnQpLGEscik7cy5wb3NpdGlvblswXT1pWzBdLHQuYWRkKHMpO3ZhciBsPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWwsdT1uZXcgZFMoe2RyYWdnYWJsZTohMCxkcmlmdDphLG9ubW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe1J3KHQuZXZlbnQpfSxvbmRyYWdlbmQ6cixzdHlsZTp7eDowLHk6MCx0ZXh0OiIiLHRleHRGb250OmwuZ2V0Rm9udCgpLHRleHRGaWxsOmwuZ2V0VGV4dENvbG9yKCl9fSk7dGhpcy5ncm91cC5hZGQodSk7dmFyIGg9WyJob3Jpem9udGFsIj09PW8/bi8yOjEuNSpuLCJob3Jpem9udGFsIj09PW8/MD09PWU/LTEuNSpuOjEuNSpuOjA9PT1lPy1uLzI6bi8yXSxjPXRoaXMuX3NoYXBlcztjLmhhbmRsZVRodW1ic1tlXT1zLGMuaGFuZGxlTGFiZWxQb2ludHNbZV09aCxjLmhhbmRsZUxhYmVsc1tlXT11fSxfY3JlYXRlSW5kaWNhdG9yOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWd5KFtbMCwwXV0sIm1vdmUiKTtvLnBvc2l0aW9uWzBdPWVbMF0sby5hdHRyKHtpbnZpc2libGU6ITAsc2lsZW50OiEwfSksdC5hZGQobyk7dmFyIGE9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbCxyPW5ldyBkUyh7c2lsZW50OiEwLGludmlzaWJsZTohMCxzdHlsZTp7eDowLHk6MCx0ZXh0OiIiLHRleHRGb250OmEuZ2V0Rm9udCgpLHRleHRGaWxsOmEuZ2V0VGV4dENvbG9yKCl9fSk7dGhpcy5ncm91cC5hZGQocik7dmFyIHM9WyJob3Jpem9udGFsIj09PW4/aS8yOnBOKzMsMF0sbD10aGlzLl9zaGFwZXM7bC5pbmRpY2F0b3I9byxsLmluZGljYXRvckxhYmVsPXIsbC5pbmRpY2F0b3JMYWJlbFBvaW50PXN9LF9kcmFnSGFuZGxlOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKHRoaXMuX3VzZUhhbmRsZSl7aWYodGhpcy5fZHJhZ2dpbmc9IWUsIWUpe3ZhciBvPXRoaXMuX2FwcGx5VHJhbnNmb3JtKFtpLG5dLHRoaXMuX3NoYXBlcy5iYXJHcm91cCwhMCk7dGhpcy5fdXBkYXRlSW50ZXJ2YWwodCxvWzFdKSx0aGlzLl91cGRhdGVWaWV3KCl9ZT09PSF0aGlzLnZpc3VhbE1hcE1vZGVsLmdldCgicmVhbHRpbWUiKSYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InNlbGVjdERhdGFSYW5nZSIsZnJvbTp0aGlzLnVpZCx2aXN1YWxNYXBJZDp0aGlzLnZpc3VhbE1hcE1vZGVsLmlkLHNlbGVjdGVkOnRoaXMuX2RhdGFJbnRlcnZhbC5zbGljZSgpfSksZT8hdGhpcy5faG92ZXJpbmcmJnRoaXMuX2NsZWFySG92ZXJMaW5rVG9TZXJpZXMoKTp4eSh0aGlzLnZpc3VhbE1hcE1vZGVsKSYmdGhpcy5fZG9Ib3ZlckxpbmtUb1Nlcmllcyh0aGlzLl9oYW5kbGVFbmRzW3RdLCExKX19LF9yZXNldEludGVydmFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52aXN1YWxNYXBNb2RlbCxlPXRoaXMuX2RhdGFJbnRlcnZhbD10LmdldFNlbGVjdGVkKCksaT10LmdldEV4dGVudCgpLG49WzAsdC5pdGVtU2l6ZVsxXV07dGhpcy5faGFuZGxlRW5kcz1bdU4oZVswXSxpLG4sITApLHVOKGVbMV0saSxuLCEwKV19LF91cGRhdGVJbnRlcnZhbDpmdW5jdGlvbih0LGUpe2U9ZXx8MDt2YXIgaT10aGlzLnZpc3VhbE1hcE1vZGVsLG49dGhpcy5faGFuZGxlRW5kcyxvPVswLGkuaXRlbVNpemVbMV1dO2tDKGUsbixvLHQsMCk7dmFyIGE9aS5nZXRFeHRlbnQoKTt0aGlzLl9kYXRhSW50ZXJ2YWw9W3VOKG5bMF0sbyxhLCEwKSx1TihuWzFdLG8sYSwhMCldfSxfdXBkYXRlVmlldzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLGk9ZS5nZXRFeHRlbnQoKSxuPXRoaXMuX3NoYXBlcyxvPVswLGUuaXRlbVNpemVbMV1dLGE9dD9vOnRoaXMuX2hhbmRsZUVuZHMscj10aGlzLl9jcmVhdGVCYXJWaXN1YWwodGhpcy5fZGF0YUludGVydmFsLGksYSwiaW5SYW5nZSIpLHM9dGhpcy5fY3JlYXRlQmFyVmlzdWFsKGksaSxvLCJvdXRPZlJhbmdlIik7bi5pblJhbmdlLnNldFN0eWxlKHtmaWxsOnIuYmFyQ29sb3Isb3BhY2l0eTpyLm9wYWNpdHl9KS5zZXRTaGFwZSgicG9pbnRzIixyLmJhclBvaW50cyksbi5vdXRPZlJhbmdlLnNldFN0eWxlKHtmaWxsOnMuYmFyQ29sb3Isb3BhY2l0eTpzLm9wYWNpdHl9KS5zZXRTaGFwZSgicG9pbnRzIixzLmJhclBvaW50cyksdGhpcy5fdXBkYXRlSGFuZGxlKGEscil9LF9jcmVhdGVCYXJWaXN1YWw6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89e2ZvcmNlU3RhdGU6bixjb252ZXJ0T3BhY2l0eVRvQWxwaGE6ITB9LGE9dGhpcy5fbWFrZUNvbG9yR3JhZGllbnQodCxvKSxyPVt0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodFswXSwic3ltYm9sU2l6ZSIsbyksdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMV0sInN5bWJvbFNpemUiLG8pXSxzPXRoaXMuX2NyZWF0ZUJhclBvaW50cyhpLHIpO3JldHVybntiYXJDb2xvcjpuZXcgQ1MoMCwwLDAsMSxhKSxiYXJQb2ludHM6cyxoYW5kbGVzQ29sb3I6W2FbMF0uY29sb3IsYVthLmxlbmd0aC0xXS5jb2xvcl19fSxfbWFrZUNvbG9yR3JhZGllbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1bXSxuPSh0WzFdLXRbMF0pLzEwMDtpLnB1c2goe2NvbG9yOnRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0WzBdLCJjb2xvciIsZSksb2Zmc2V0OjB9KTtmb3IodmFyIG89MTtvPDEwMDtvKyspe3ZhciBhPXRbMF0rbipvO2lmKGE+dFsxXSlicmVhaztpLnB1c2goe2NvbG9yOnRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbChhLCJjb2xvciIsZSksb2Zmc2V0Om8vMTAwfSl9cmV0dXJuIGkucHVzaCh7Y29sb3I6dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMV0sImNvbG9yIixlKSxvZmZzZXQ6MX0pLGl9LF9jcmVhdGVCYXJQb2ludHM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnZpc3VhbE1hcE1vZGVsLml0ZW1TaXplO3JldHVybltbaVswXS1lWzBdLHRbMF1dLFtpWzBdLHRbMF1dLFtpWzBdLHRbMV1dLFtpWzBdLWVbMV0sdFsxXV1dfSxfY3JlYXRlQmFyR3JvdXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3JpZW50LGk9dGhpcy52aXN1YWxNYXBNb2RlbC5nZXQoImludmVyc2UiKTtyZXR1cm4gbmV3IHJ3KCJob3Jpem9udGFsIiE9PWV8fGk/Imhvcml6b250YWwiPT09ZSYmaT97c2NhbGU6ImJvdHRvbSI9PT10P1stMSwxXTpbMSwxXSxyb3RhdGlvbjotTWF0aC5QSS8yfToidmVydGljYWwiIT09ZXx8aT97c2NhbGU6ImxlZnQiPT09dD9bMSwxXTpbLTEsMV19OntzY2FsZToibGVmdCI9PT10P1sxLC0xXTpbLTEsLTFdfTp7c2NhbGU6ImJvdHRvbSI9PT10P1sxLDFdOlstMSwxXSxyb3RhdGlvbjpNYXRoLlBJLzJ9KX0sX3VwZGF0ZUhhbmRsZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX3VzZUhhbmRsZSl7dmFyIGk9dGhpcy5fc2hhcGVzLG49dGhpcy52aXN1YWxNYXBNb2RlbCxvPWkuaGFuZGxlVGh1bWJzLGE9aS5oYW5kbGVMYWJlbHM7aE4oWzAsMV0sZnVuY3Rpb24ocil7dmFyIHM9b1tyXTtzLnNldFN0eWxlKCJmaWxsIixlLmhhbmRsZXNDb2xvcltyXSkscy5wb3NpdGlvblsxXT10W3JdO3ZhciBsPW1vKGkuaGFuZGxlTGFiZWxQb2ludHNbcl0sZ28ocyx0aGlzLmdyb3VwKSk7YVtyXS5zZXRTdHlsZSh7eDpsWzBdLHk6bFsxXSx0ZXh0Om4uZm9ybWF0VmFsdWVUZXh0KHRoaXMuX2RhdGFJbnRlcnZhbFtyXSksdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOnRoaXMuX2FwcGx5VHJhbnNmb3JtKCJob3Jpem9udGFsIj09PXRoaXMuX29yaWVudD8wPT09cj8iYm90dG9tIjoidG9wIjoibGVmdCIsaS5iYXJHcm91cCl9KX0sdGhpcyl9fSxfc2hvd0luZGljYXRvcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLnZpc3VhbE1hcE1vZGVsLGE9by5nZXRFeHRlbnQoKSxyPW8uaXRlbVNpemUscz1bMCxyWzFdXSxsPXVOKHQsYSxzLCEwKSx1PXRoaXMuX3NoYXBlcyxoPXUuaW5kaWNhdG9yO2lmKGgpe2gucG9zaXRpb25bMV09bCxoLmF0dHIoImludmlzaWJsZSIsITEpLGguc2V0U2hhcGUoInBvaW50cyIsdnkoISFpLG4sbCxyWzFdKSk7dmFyIGM9e2NvbnZlcnRPcGFjaXR5VG9BbHBoYTohMH0sZD10aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodCwiY29sb3IiLGMpO2guc2V0U3R5bGUoImZpbGwiLGQpO3ZhciBmPW1vKHUuaW5kaWNhdG9yTGFiZWxQb2ludCxnbyhoLHRoaXMuZ3JvdXApKSxwPXUuaW5kaWNhdG9yTGFiZWw7cC5hdHRyKCJpbnZpc2libGUiLCExKTt2YXIgZz10aGlzLl9hcHBseVRyYW5zZm9ybSgibGVmdCIsdS5iYXJHcm91cCksbT10aGlzLl9vcmllbnQ7cC5zZXRTdHlsZSh7dGV4dDooaXx8IiIpK28uZm9ybWF0VmFsdWVUZXh0KGUpLHRleHRWZXJ0aWNhbEFsaWduOiJob3Jpem9udGFsIj09PW0/ZzoibWlkZGxlIix0ZXh0QWxpZ246Imhvcml6b250YWwiPT09bT8iY2VudGVyIjpnLHg6ZlswXSx5OmZbMV19KX19LF9lbmFibGVIb3ZlckxpbmtUb1NlcmllczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fc2hhcGVzLmJhckdyb3VwLm9uKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKGUpe2lmKHQuX2hvdmVyaW5nPSEwLCF0Ll9kcmFnZ2luZyl7dmFyIGk9dC52aXN1YWxNYXBNb2RlbC5pdGVtU2l6ZSxuPXQuX2FwcGx5VHJhbnNmb3JtKFtlLm9mZnNldFgsZS5vZmZzZXRZXSx0Ll9zaGFwZXMuYmFyR3JvdXAsITAsITApO25bMV09Y04oZE4oMCxuWzFdKSxpWzFdKSx0Ll9kb0hvdmVyTGlua1RvU2VyaWVzKG5bMV0sMDw9blswXSYmblswXTw9aVswXSl9fSkub24oIm1vdXNlb3V0IixmdW5jdGlvbigpe3QuX2hvdmVyaW5nPSExLCF0Ll9kcmFnZ2luZyYmdC5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpfSl9LF9lbmFibGVIb3ZlckxpbmtGcm9tU2VyaWVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hcGkuZ2V0WnIoKTt0aGlzLnZpc3VhbE1hcE1vZGVsLm9wdGlvbi5ob3Zlckxpbms/KHQub24oIm1vdXNlb3ZlciIsdGhpcy5faG92ZXJMaW5rRnJvbVNlcmllc01vdXNlT3Zlcix0aGlzKSx0Lm9uKCJtb3VzZW91dCIsdGhpcy5faGlkZUluZGljYXRvcix0aGlzKSk6dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCl9LF9kb0hvdmVyTGlua1RvU2VyaWVzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy52aXN1YWxNYXBNb2RlbCxuPWkuaXRlbVNpemU7aWYoaS5vcHRpb24uaG92ZXJMaW5rKXt2YXIgbz1bMCxuWzFdXSxhPWkuZ2V0RXh0ZW50KCk7dD1jTihkTihvWzBdLHQpLG9bMV0pO3ZhciByPXl5KGksYSxvKSxzPVt0LXIsdCtyXSxsPXVOKHQsbyxhLCEwKSx1PVt1TihzWzBdLG8sYSwhMCksdU4oc1sxXSxvLGEsITApXTtzWzBdPG9bMF0mJih1WzBdPS0xLzApLHNbMV0+b1sxXSYmKHVbMV09MS8wKSxlJiYodVswXT09PS0xLzA/dGhpcy5fc2hvd0luZGljYXRvcihsLHVbMV0sIjwgIixyKTp1WzFdPT09MS8wP3RoaXMuX3Nob3dJbmRpY2F0b3IobCx1WzBdLCI+ICIscik6dGhpcy5fc2hvd0luZGljYXRvcihsLGwsIuKJiCAiLHIpKTt2YXIgaD10aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlcyxjPVtdOyhlfHx4eShpKSkmJihjPXRoaXMuX2hvdmVyTGlua0RhdGFJbmRpY2VzPWkuZmluZFRhcmdldERhdGFJbmRpY2VzKHUpKTt2YXIgZD1raShoLGMpO3RoaXMuX2Rpc3BhdGNoSGlnaERvd24oImRvd25wbGF5IixweShkWzBdKSksdGhpcy5fZGlzcGF0Y2hIaWdoRG93bigiaGlnaGxpZ2h0IixweShkWzFdKSl9fSxfaG92ZXJMaW5rRnJvbVNlcmllc01vdXNlT3ZlcjpmdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldCxpPXRoaXMudmlzdWFsTWFwTW9kZWw7aWYoZSYmbnVsbCE9ZS5kYXRhSW5kZXgpe3ZhciBuPXRoaXMuZWNNb2RlbC5nZXRTZXJpZXNCeUluZGV4KGUuc2VyaWVzSW5kZXgpO2lmKGkuaXNUYXJnZXRTZXJpZXMobikpe3ZhciBvPW4uZ2V0RGF0YShlLmRhdGFUeXBlKSxhPW8uZ2V0KGkuZ2V0RGF0YURpbWVuc2lvbihvKSxlLmRhdGFJbmRleCwhMCk7aXNOYU4oYSl8fHRoaXMuX3Nob3dJbmRpY2F0b3IoYSxhKX19fSxfaGlkZUluZGljYXRvcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3NoYXBlczt0LmluZGljYXRvciYmdC5pbmRpY2F0b3IuYXR0cigiaW52aXNpYmxlIiwhMCksdC5pbmRpY2F0b3JMYWJlbCYmdC5pbmRpY2F0b3JMYWJlbC5hdHRyKCJpbnZpc2libGUiLCEwKX0sX2NsZWFySG92ZXJMaW5rVG9TZXJpZXM6ZnVuY3Rpb24oKXt0aGlzLl9oaWRlSW5kaWNhdG9yKCk7dmFyIHQ9dGhpcy5faG92ZXJMaW5rRGF0YUluZGljZXM7dGhpcy5fZGlzcGF0Y2hIaWdoRG93bigiZG93bnBsYXkiLHB5KHQpKSx0Lmxlbmd0aD0wfSxfY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzOmZ1bmN0aW9uKCl7dGhpcy5faGlkZUluZGljYXRvcigpO3ZhciB0PXRoaXMuYXBpLmdldFpyKCk7dC5vZmYoIm1vdXNlb3ZlciIsdGhpcy5faG92ZXJMaW5rRnJvbVNlcmllc01vdXNlT3ZlciksdC5vZmYoIm1vdXNlb3V0Iix0aGlzLl9oaWRlSW5kaWNhdG9yKX0sX2FwcGx5VHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWdvKGUsbj9udWxsOnRoaXMuZ3JvdXApO3JldHVybiB6U1t5KHQpPyJhcHBseVRyYW5zZm9ybSI6InRyYW5zZm9ybURpcmVjdGlvbiJdKHQsbyxpKX0sX2Rpc3BhdGNoSGlnaERvd246ZnVuY3Rpb24odCxlKXtlJiZlLmxlbmd0aCYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6dCxiYXRjaDplfSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckhvdmVyTGlua0Zyb21TZXJpZXMoKSx0aGlzLl9jbGVhckhvdmVyTGlua1RvU2VyaWVzKCl9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFySG92ZXJMaW5rRnJvbVNlcmllcygpLHRoaXMuX2NsZWFySG92ZXJMaW5rVG9TZXJpZXMoKX19KTtjcyh7dHlwZToic2VsZWN0RGF0YVJhbmdlIixldmVudDoiZGF0YVJhbmdlU2VsZWN0ZWQiLHVwZGF0ZToidXBkYXRlIn0sZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJ2aXN1YWxNYXAiLHF1ZXJ5OnR9LGZ1bmN0aW9uKGUpe2Uuc2V0U2VsZWN0ZWQodC5zZWxlY3RlZCl9KX0pLHVzKFlQKTt2YXIgbU49YU4uZXh0ZW5kKHt0eXBlOiJ2aXN1YWxNYXAucGllY2V3aXNlIixkZWZhdWx0T3B0aW9uOntzZWxlY3RlZDpudWxsLG1pbk9wZW46ITEsbWF4T3BlbjohMSxhbGlnbjoiYXV0byIsaXRlbVdpZHRoOjIwLGl0ZW1IZWlnaHQ6MTQsaXRlbVN5bWJvbDoicm91bmRSZWN0IixwaWVjZUxpc3Q6bnVsbCxjYXRlZ29yaWVzOm51bGwsc3BsaXROdW1iZXI6NSxzZWxlY3RlZE1vZGU6Im11bHRpcGxlIixpdGVtR2FwOjEwLGhvdmVyTGluazohMCxzaG93TGFiZWw6bnVsbH0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbih0LGUpe21OLnN1cGVyQXBwbHkodGhpcywib3B0aW9uVXBkYXRlZCIsYXJndW1lbnRzKSx0aGlzLl9waWVjZUxpc3Q9W10sdGhpcy5yZXNldEV4dGVudCgpO3ZhciBuPXRoaXMuX21vZGU9dGhpcy5fZGV0ZXJtaW5lTW9kZSgpO3ZOW3RoaXMuX21vZGVdLmNhbGwodGhpcyksdGhpcy5fcmVzZXRTZWxlY3RlZCh0LGUpO3ZhciBvPXRoaXMub3B0aW9uLmNhdGVnb3JpZXM7dGhpcy5yZXNldFZpc3VhbChmdW5jdGlvbih0LGUpeyJjYXRlZ29yaWVzIj09PW4/KHQubWFwcGluZ01ldGhvZD0iY2F0ZWdvcnkiLHQuY2F0ZWdvcmllcz1pKG8pKToodC5kYXRhRXh0ZW50PXRoaXMuZ2V0RXh0ZW50KCksdC5tYXBwaW5nTWV0aG9kPSJwaWVjZXdpc2UiLHQucGllY2VMaXN0PWYodGhpcy5fcGllY2VMaXN0LGZ1bmN0aW9uKHQpe3ZhciB0PWkodCk7cmV0dXJuImluUmFuZ2UiIT09ZSYmKHQudmlzdWFsPW51bGwpLHR9KSl9KX0sY29tcGxldGVWaXN1YWxPcHRpb246ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpKXtyZXR1cm4gdCYmdFtlXSYmKHcodFtlXSk/dFtlXS5oYXNPd25Qcm9wZXJ0eShpKTp0W2VdPT09aSl9dmFyIGU9dGhpcy5vcHRpb24saT17fSxuPUhBLmxpc3RWaXN1YWxUeXBlcygpLG89dGhpcy5pc0NhdGVnb3J5KCk7ZChlLnBpZWNlcyxmdW5jdGlvbih0KXtkKG4sZnVuY3Rpb24oZSl7dC5oYXNPd25Qcm9wZXJ0eShlKSYmKGlbZV09MSl9KX0pLGQoaSxmdW5jdGlvbihpLG4pe3ZhciBhPTA7ZCh0aGlzLnN0YXRlTGlzdCxmdW5jdGlvbihpKXthfD10KGUsaSxuKXx8dChlLnRhcmdldCxpLG4pfSx0aGlzKSwhYSYmZCh0aGlzLnN0YXRlTGlzdCxmdW5jdGlvbih0KXsoZVt0XXx8KGVbdF09e30pKVtuXT1LUC5nZXQobiwiaW5SYW5nZSI9PT10PyJhY3RpdmUiOiJpbmFjdGl2ZSIsbyl9KX0sdGhpcyksYU4ucHJvdG90eXBlLmNvbXBsZXRlVmlzdWFsT3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX3Jlc2V0U2VsZWN0ZWQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm9wdGlvbixuPXRoaXMuX3BpZWNlTGlzdCxvPShlP2k6dCkuc2VsZWN0ZWR8fHt9O2lmKGkuc2VsZWN0ZWQ9byxkKG4sZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldFNlbGVjdGVkTWFwS2V5KHQpO28uaGFzT3duUHJvcGVydHkoaSl8fChvW2ldPSEwKX0sdGhpcyksInNpbmdsZSI9PT1pLnNlbGVjdGVkTW9kZSl7dmFyIGE9ITE7ZChuLGZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRTZWxlY3RlZE1hcEtleSh0KTtvW2ldJiYoYT9vW2ldPSExOmE9ITApfSx0aGlzKX19LGdldFNlbGVjdGVkTWFwS2V5OmZ1bmN0aW9uKHQpe3JldHVybiJjYXRlZ29yaWVzIj09PXRoaXMuX21vZGU/dC52YWx1ZSsiIjp0LmluZGV4KyIifSxnZXRQaWVjZUxpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGllY2VMaXN0fSxfZGV0ZXJtaW5lTW9kZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uO3JldHVybiB0LnBpZWNlcyYmdC5waWVjZXMubGVuZ3RoPjA/InBpZWNlcyI6dGhpcy5vcHRpb24uY2F0ZWdvcmllcz8iY2F0ZWdvcmllcyI6InNwbGl0TnVtYmVyIn0sc2V0U2VsZWN0ZWQ6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uc2VsZWN0ZWQ9aSh0KX0sZ2V0VmFsdWVTdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT1IQS5maW5kUGllY2VJbmRleCh0LHRoaXMuX3BpZWNlTGlzdCk7cmV0dXJuIG51bGwhPWUmJnRoaXMub3B0aW9uLnNlbGVjdGVkW3RoaXMuZ2V0U2VsZWN0ZWRNYXBLZXkodGhpcy5fcGllY2VMaXN0W2VdKV0/ImluUmFuZ2UiOiJvdXRPZlJhbmdlIn0sZmluZFRhcmdldERhdGFJbmRpY2VzOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiB0aGlzLmVhY2hUYXJnZXRTZXJpZXMoZnVuY3Rpb24oaSl7dmFyIG49W10sbz1pLmdldERhdGEoKTtvLmVhY2godGhpcy5nZXREYXRhRGltZW5zaW9uKG8pLGZ1bmN0aW9uKGUsaSl7SEEuZmluZFBpZWNlSW5kZXgoZSx0aGlzLl9waWVjZUxpc3QpPT09dCYmbi5wdXNoKGkpfSx0aGlzKSxlLnB1c2goe3Nlcmllc0lkOmkuaWQsZGF0YUluZGV4Om59KX0sdGhpcyksZX0sZ2V0UmVwcmVzZW50VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU7aWYodGhpcy5pc0NhdGVnb3J5KCkpZT10LnZhbHVlO2Vsc2UgaWYobnVsbCE9dC52YWx1ZSllPXQudmFsdWU7ZWxzZXt2YXIgaT10LmludGVydmFsfHxbXTtlPWlbMF09PT0tMS8wJiZpWzFdPT09MS8wPzA6KGlbMF0raVsxXSkvMn1yZXR1cm4gZX0sZ2V0VmlzdWFsTWV0YTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsYSl7dmFyIHI9by5nZXRSZXByZXNlbnRWYWx1ZSh7aW50ZXJ2YWw6ZX0pO2F8fChhPW8uZ2V0VmFsdWVTdGF0ZShyKSk7dmFyIHM9dChyLGEpO2VbMF09PT0tMS8wP25bMF09czplWzFdPT09MS8wP25bMV09czppLnB1c2goe3ZhbHVlOmVbMF0sY29sb3I6c30se3ZhbHVlOmVbMV0sY29sb3I6c30pfWlmKCF0aGlzLmlzQ2F0ZWdvcnkoKSl7dmFyIGk9W10sbj1bXSxvPXRoaXMsYT10aGlzLl9waWVjZUxpc3Quc2xpY2UoKTtpZihhLmxlbmd0aCl7dmFyIHI9YVswXS5pbnRlcnZhbFswXTtyIT09LTEvMCYmYS51bnNoaWZ0KHtpbnRlcnZhbDpbLTEvMCxyXX0pLChyPWFbYS5sZW5ndGgtMV0uaW50ZXJ2YWxbMV0pIT09MS8wJiZhLnB1c2goe2ludGVydmFsOltyLDEvMF19KX1lbHNlIGEucHVzaCh7aW50ZXJ2YWw6Wy0xLzAsMS8wXX0pO3ZhciBzPS0xLzA7cmV0dXJuIGQoYSxmdW5jdGlvbih0KXt2YXIgaT10LmludGVydmFsO2kmJihpWzBdPnMmJmUoW3MsaVswXV0sIm91dE9mUmFuZ2UiKSxlKGkuc2xpY2UoKSkscz1pWzFdKX0sdGhpcykse3N0b3BzOmksb3V0ZXJDb2xvcnM6bn19fX0pLHZOPXtzcGxpdE51bWJlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLGU9dGhpcy5fcGllY2VMaXN0LGk9TWF0aC5taW4odC5wcmVjaXNpb24sMjApLG49dGhpcy5nZXRFeHRlbnQoKSxvPXQuc3BsaXROdW1iZXI7bz1NYXRoLm1heChwYXJzZUludChvLDEwKSwxKSx0LnNwbGl0TnVtYmVyPW87Zm9yKHZhciBhPShuWzFdLW5bMF0pL287K2EudG9GaXhlZChpKSE9PWEmJmk8NTspaSsrO3QucHJlY2lzaW9uPWksYT0rYS50b0ZpeGVkKGkpO3ZhciByPTA7dC5taW5PcGVuJiZlLnB1c2goe2luZGV4OnIrKyxpbnRlcnZhbDpbLTEvMCxuWzBdXSxjbG9zZTpbMCwwXX0pO2Zvcih2YXIgcz1uWzBdLGw9citvO3I8bDtzKz1hKXt2YXIgdT1yPT09by0xP25bMV06cythO2UucHVzaCh7aW5kZXg6cisrLGludGVydmFsOltzLHVdLGNsb3NlOlsxLDFdfSl9dC5tYXhPcGVuJiZlLnB1c2goe2luZGV4OnIrKyxpbnRlcnZhbDpbblsxXSwxLzBdLGNsb3NlOlswLDBdfSksR28oZSksZChlLGZ1bmN0aW9uKHQpe3QudGV4dD10aGlzLmZvcm1hdFZhbHVlVGV4dCh0LmludGVydmFsKX0sdGhpcyl9LGNhdGVnb3JpZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjtkKHQuY2F0ZWdvcmllcyxmdW5jdGlvbih0KXt0aGlzLl9waWVjZUxpc3QucHVzaCh7dGV4dDp0aGlzLmZvcm1hdFZhbHVlVGV4dCh0LCEwKSx2YWx1ZTp0fSl9LHRoaXMpLHd5KHQsdGhpcy5fcGllY2VMaXN0KX0scGllY2VzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZT10aGlzLl9waWVjZUxpc3Q7ZCh0LnBpZWNlcyxmdW5jdGlvbih0LGkpe3codCl8fCh0PXt2YWx1ZTp0fSk7dmFyIG49e3RleHQ6IiIsaW5kZXg6aX07aWYobnVsbCE9dC5sYWJlbCYmKG4udGV4dD10LmxhYmVsKSx0Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpKXt2YXIgbz1uLnZhbHVlPXQudmFsdWU7bi5pbnRlcnZhbD1bbyxvXSxuLmNsb3NlPVsxLDFdfWVsc2V7Zm9yKHZhciBhPW4uaW50ZXJ2YWw9W10scj1uLmNsb3NlPVswLDBdLHM9WzEsMCwxXSxsPVstMS8wLDEvMF0sdT1bXSxoPTA7aDwyO2grKyl7Zm9yKHZhciBjPVtbImd0ZSIsImd0IiwibWluIl0sWyJsdGUiLCJsdCIsIm1heCJdXVtoXSxkPTA7ZDwzJiZudWxsPT1hW2hdO2QrKylhW2hdPXRbY1tkXV0scltoXT1zW2RdLHVbaF09Mj09PWQ7bnVsbD09YVtoXSYmKGFbaF09bFtoXSl9dVswXSYmYVsxXT09PTEvMCYmKHJbMF09MCksdVsxXSYmYVswXT09PS0xLzAmJihyWzFdPTApLGFbMF09PT1hWzFdJiZyWzBdJiZyWzFdJiYobi52YWx1ZT1hWzBdKX1uLnZpc3VhbD1IQS5yZXRyaWV2ZVZpc3VhbHModCksZS5wdXNoKG4pfSx0aGlzKSx3eSh0LGUpLEdvKGUpLGQoZSxmdW5jdGlvbih0KXt2YXIgZT10LmNsb3NlLGk9W1siPCIsIuKJpCJdW2VbMV1dLFsiPiIsIuKJpSJdW2VbMF1dXTt0LnRleHQ9dC50ZXh0fHx0aGlzLmZvcm1hdFZhbHVlVGV4dChudWxsIT10LnZhbHVlP3QudmFsdWU6dC5pbnRlcnZhbCwhMSxpKX0sdGhpcyl9fTtsTi5leHRlbmQoe3R5cGU6InZpc3VhbE1hcC5waWVjZXdpc2UiLGRvUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ncm91cDt0LnJlbW92ZUFsbCgpO3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsaT1lLmdldCgidGV4dEdhcCIpLG49ZS50ZXh0U3R5bGVNb2RlbCxvPW4uZ2V0Rm9udCgpLGE9bi5nZXRUZXh0Q29sb3IoKSxyPXRoaXMuX2dldEl0ZW1BbGlnbigpLHM9ZS5pdGVtU2l6ZSxsPXRoaXMuX2dldFZpZXdEYXRhKCksdT1sLmVuZHNUZXh0LGg9VChlLmdldCgic2hvd0xhYmVsIiwhMCksIXUpO3UmJnRoaXMuX3JlbmRlckVuZHNUZXh0KHQsdVswXSxzLGgsciksZChsLnZpZXdQaWVjZUxpc3QsZnVuY3Rpb24obil7dmFyIGw9bi5waWVjZSx1PW5ldyBydzt1Lm9uY2xpY2s9bSh0aGlzLl9vbkl0ZW1DbGljayx0aGlzLGwpLHRoaXMuX2VuYWJsZUhvdmVyTGluayh1LG4uaW5kZXhJbk1vZGVsUGllY2VMaXN0KTt2YXIgYz1lLmdldFJlcHJlc2VudFZhbHVlKGwpO2lmKHRoaXMuX2NyZWF0ZUl0ZW1TeW1ib2wodSxjLFswLDAsc1swXSxzWzFdXSksaCl7dmFyIGQ9dGhpcy52aXN1YWxNYXBNb2RlbC5nZXRWYWx1ZVN0YXRlKGMpO3UuYWRkKG5ldyBkUyh7c3R5bGU6e3g6InJpZ2h0Ij09PXI/LWk6c1swXStpLHk6c1sxXS8yLHRleHQ6bC50ZXh0LHRleHRWZXJ0aWNhbEFsaWduOiJtaWRkbGUiLHRleHRBbGlnbjpyLHRleHRGb250Om8sdGV4dEZpbGw6YSxvcGFjaXR5OiJvdXRPZlJhbmdlIj09PWQ/LjU6MX19KSl9dC5hZGQodSl9LHRoaXMpLHUmJnRoaXMuX3JlbmRlckVuZHNUZXh0KHQsdVsxXSxzLGgsciksck0oZS5nZXQoIm9yaWVudCIpLHQsZS5nZXQoIml0ZW1HYXAiKSksdGhpcy5yZW5kZXJCYWNrZ3JvdW5kKHQpLHRoaXMucG9zaXRpb25Hcm91cCh0KX0sX2VuYWJsZUhvdmVyTGluazpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCl7dmFyIGk9dGhpcy52aXN1YWxNYXBNb2RlbDtpLm9wdGlvbi5ob3ZlckxpbmsmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOnQsYmF0Y2g6cHkoaS5maW5kVGFyZ2V0RGF0YUluZGljZXMoZSkpfSl9dC5vbigibW91c2VvdmVyIixtKGksdGhpcywiaGlnaGxpZ2h0IikpLm9uKCJtb3VzZW91dCIsbShpLHRoaXMsImRvd25wbGF5IikpfSxfZ2V0SXRlbUFsaWduOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52aXN1YWxNYXBNb2RlbCxlPXQub3B0aW9uO2lmKCJ2ZXJ0aWNhbCI9PT1lLm9yaWVudClyZXR1cm4gZnkodCx0aGlzLmFwaSx0Lml0ZW1TaXplKTt2YXIgaT1lLmFsaWduO3JldHVybiBpJiYiYXV0byIhPT1pfHwoaT0ibGVmdCIpLGl9LF9yZW5kZXJFbmRzVGV4dDpmdW5jdGlvbih0LGUsaSxuLG8pe2lmKGUpe3ZhciBhPW5ldyBydyxyPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWw7YS5hZGQobmV3IGRTKHtzdHlsZTp7eDpuPyJyaWdodCI9PT1vP2lbMF06MDppWzBdLzIseTppWzFdLzIsdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOm4/bzoiY2VudGVyIix0ZXh0OmUsdGV4dEZvbnQ6ci5nZXRGb250KCksdGV4dEZpbGw6ci5nZXRUZXh0Q29sb3IoKX19KSksdC5hZGQoYSl9fSxfZ2V0Vmlld0RhdGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9Zih0LmdldFBpZWNlTGlzdCgpLGZ1bmN0aW9uKHQsZSl7cmV0dXJue3BpZWNlOnQsaW5kZXhJbk1vZGVsUGllY2VMaXN0OmV9fSksaT10LmdldCgidGV4dCIpLG49dC5nZXQoIm9yaWVudCIpLG89dC5nZXQoImludmVyc2UiKTtyZXR1cm4oImhvcml6b250YWwiPT09bj9vOiFvKT9lLnJldmVyc2UoKTppJiYoaT1pLnNsaWNlKCkucmV2ZXJzZSgpKSx7dmlld1BpZWNlTGlzdDplLGVuZHNUZXh0Oml9fSxfY3JlYXRlSXRlbVN5bWJvbDpmdW5jdGlvbih0LGUsaSl7dC5hZGQoSWwodGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGUsInN5bWJvbCIpLGlbMF0saVsxXSxpWzJdLGlbM10sdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGUsImNvbG9yIikpKX0sX29uSXRlbUNsaWNrOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsbj1lLm9wdGlvbixvPWkobi5zZWxlY3RlZCksYT1lLmdldFNlbGVjdGVkTWFwS2V5KHQpOyJzaW5nbGUiPT09bi5zZWxlY3RlZE1vZGU/KG9bYV09ITAsZChvLGZ1bmN0aW9uKHQsZSl7b1tlXT1lPT09YX0pKTpvW2FdPSFvW2FdLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJzZWxlY3REYXRhUmFuZ2UiLGZyb206dGhpcy51aWQsdmlzdWFsTWFwSWQ6dGhpcy52aXN1YWxNYXBNb2RlbC5pZCxzZWxlY3RlZDpvfSl9fSk7dXMoWVApO3ZhciB5Tj1Gbyx4Tj1abyxfTj12cyh7dHlwZToibWFya2VyIixkZXBlbmRlbmNpZXM6WyJzZXJpZXMiLCJncmlkIiwicG9sYXIiLCJnZW8iXSxpbml0OmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxpKSx0aGlzLm1lcmdlT3B0aW9uKHQsaSxuLmNyZWF0ZWRCeVNlbGYsITApfSxpc0FuaW1hdGlvbkVuYWJsZWQ6ZnVuY3Rpb24oKXtpZihvXy5ub2RlKXJldHVybiExO3ZhciB0PXRoaXMuX19ob3N0U2VyaWVzO3JldHVybiB0aGlzLmdldFNoYWxsb3coImFuaW1hdGlvbiIpJiZ0JiZ0LmlzQW5pbWF0aW9uRW5hYmxlZCgpfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLmNvbnN0cnVjdG9yLHI9dGhpcy5tYWluVHlwZSsiTW9kZWwiO2l8fGUuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt2YXIgaT10LmdldCh0aGlzLm1haW5UeXBlLCEwKSxzPXRbcl07aSYmaS5kYXRhPyhzP3MubWVyZ2VPcHRpb24oaSxlLCEwKToobiYmYnkoaSksZChpLmRhdGEsZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIEFycmF5PyhieSh0WzBdKSxieSh0WzFdKSk6YnkodCl9KSxhKHM9bmV3IG8oaSx0aGlzLGUpLHttYWluVHlwZTp0aGlzLm1haW5UeXBlLHNlcmllc0luZGV4OnQuc2VyaWVzSW5kZXgsbmFtZTp0Lm5hbWUsY3JlYXRlZEJ5U2VsZjohMH0pLHMuX19ob3N0U2VyaWVzPXQpLHRbcl09cyk6dFtyXT1udWxsfSx0aGlzKX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPXRoaXMuZ2V0UmF3VmFsdWUodCksbj15KGkpP2YoaSx5Tikuam9pbigiLCAiKTp5TihpKSxvPWUuZ2V0TmFtZSh0KSxhPXhOKHRoaXMubmFtZSk7cmV0dXJuKG51bGwhPWl8fG8pJiYoYSs9IjxiciAvPiIpLG8mJihhKz14TihvKSxudWxsIT1pJiYoYSs9IiA6ICIpKSxudWxsIT1pJiYoYSs9eE4obikpLGF9LGdldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0sc2V0RGF0YTpmdW5jdGlvbih0KXt0aGlzLl9kYXRhPXR9fSk7aChfTixVTSksX04uZXh0ZW5kKHt0eXBlOiJtYXJrUG9pbnQiLGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6NSxzeW1ib2w6InBpbiIsc3ltYm9sU2l6ZTo1MCx0b29sdGlwOnt0cmlnZ2VyOiJpdGVtIn0sbGFiZWw6e3Nob3c6ITAscG9zaXRpb246Imluc2lkZSJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6Mn0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfX19fSk7dmFyIHdOPWwsYk49dixTTj17bWluOmJOKEl5LCJtaW4iKSxtYXg6Yk4oSXksIm1heCIpLGF2ZXJhZ2U6Yk4oSXksImF2ZXJhZ2UiKX0sTU49eXMoe3R5cGU6Im1hcmtlciIsaW5pdDpmdW5jdGlvbigpe3RoaXMubWFya2VyR3JvdXBNYXA9UigpfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMubWFya2VyR3JvdXBNYXA7bi5lYWNoKGZ1bmN0aW9uKHQpe3QuX19rZWVwPSExfSk7dmFyIG89dGhpcy50eXBlKyJNb2RlbCI7ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBuPXRbb107biYmdGhpcy5yZW5kZXJTZXJpZXModCxuLGUsaSl9LHRoaXMpLG4uZWFjaChmdW5jdGlvbih0KXshdC5fX2tlZXAmJnRoaXMuZ3JvdXAucmVtb3ZlKHQuZ3JvdXApfSx0aGlzKX0scmVuZGVyU2VyaWVzOmZ1bmN0aW9uKCl7fX0pO01OLmV4dGVuZCh7dHlwZToibWFya1BvaW50Iix1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLGkpe2UuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt2YXIgZT10Lm1hcmtQb2ludE1vZGVsO2UmJihQeShlLmdldERhdGEoKSx0LGkpLHRoaXMubWFya2VyR3JvdXBNYXAuZ2V0KHQuaWQpLnVwZGF0ZUxheW91dChlKSl9LHRoaXMpfSxyZW5kZXJTZXJpZXM6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5jb29yZGluYXRlU3lzdGVtLGE9dC5pZCxyPXQuZ2V0RGF0YSgpLHM9dGhpcy5tYXJrZXJHcm91cE1hcCxsPXMuZ2V0KGEpfHxzLnNldChhLG5ldyAkbCksdT1OeShvLHQsZSk7ZS5zZXREYXRhKHUpLFB5KGUuZ2V0RGF0YSgpLHQsbiksdS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPXUuZ2V0SXRlbU1vZGVsKHQpLG49aS5nZXRTaGFsbG93KCJzeW1ib2xTaXplIik7ImZ1bmN0aW9uIj09dHlwZW9mIG4mJihuPW4oZS5nZXRSYXdWYWx1ZSh0KSxlLmdldERhdGFQYXJhbXModCkpKSx1LnNldEl0ZW1WaXN1YWwodCx7c3ltYm9sU2l6ZTpuLGNvbG9yOmkuZ2V0KCJpdGVtU3R5bGUuY29sb3IiKXx8ci5nZXRWaXN1YWwoImNvbG9yIiksc3ltYm9sOmkuZ2V0U2hhbGxvdygic3ltYm9sIil9KX0pLGwudXBkYXRlRGF0YSh1KSx0aGlzLmdyb3VwLmFkZChsLmdyb3VwKSx1LmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQpe3QudHJhdmVyc2UoZnVuY3Rpb24odCl7dC5kYXRhTW9kZWw9ZX0pfSksbC5fX2tlZXA9ITAsbC5ncm91cC5zaWxlbnQ9ZS5nZXQoInNpbGVudCIpfHx0LmdldCgic2lsZW50Iil9fSksdXMoZnVuY3Rpb24odCl7dC5tYXJrUG9pbnQ9dC5tYXJrUG9pbnR8fHt9fSksX04uZXh0ZW5kKHt0eXBlOiJtYXJrTGluZSIsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo1LHN5bWJvbDpbImNpcmNsZSIsImFycm93Il0sc3ltYm9sU2l6ZTpbOCwxNl0scHJlY2lzaW9uOjIsdG9vbHRpcDp7dHJpZ2dlcjoiaXRlbSJ9LGxhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJlbmQifSxsaW5lU3R5bGU6e3R5cGU6ImRhc2hlZCJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH0sbGluZVN0eWxlOnt3aWR0aDozfX0sYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIifX0pO3ZhciBJTj1mdW5jdGlvbih0LGUsbyxyKXt2YXIgcz10LmdldERhdGEoKSxsPXIudHlwZTtpZigheShyKSYmKCJtaW4iPT09bHx8Im1heCI9PT1sfHwiYXZlcmFnZSI9PT1sfHwibWVkaWFuIj09PWx8fG51bGwhPXIueEF4aXN8fG51bGwhPXIueUF4aXMpKXt2YXIgdSxoO2lmKG51bGwhPXIueUF4aXN8fG51bGwhPXIueEF4aXMpdT1udWxsIT1yLnlBeGlzPyJ5IjoieCIsZS5nZXRBeGlzKHUpLGg9VChyLnlBeGlzLHIueEF4aXMpO2Vsc2V7dmFyIGM9RHkocixzLGUsdCk7dT1jLnZhbHVlRGF0YURpbSxjLnZhbHVlQXhpcyxoPWt5KHMsdSxsKX12YXIgZD0ieCI9PT11PzA6MSxmPTEtZCxwPWkociksZz17fTtwLnR5cGU9bnVsbCxwLmNvb3JkPVtdLGcuY29vcmQ9W10scC5jb29yZFtmXT0tMS8wLGcuY29vcmRbZl09MS8wO3ZhciBtPW8uZ2V0KCJwcmVjaXNpb24iKTttPj0wJiYibnVtYmVyIj09dHlwZW9mIGgmJihoPStoLnRvRml4ZWQoTWF0aC5taW4obSwyMCkpKSxwLmNvb3JkW2RdPWcuY29vcmRbZF09aCxyPVtwLGcse3R5cGU6bCx2YWx1ZUluZGV4OnIudmFsdWVJbmRleCx2YWx1ZTpofV19cmV0dXJuIHI9W1R5KHQsclswXSksVHkodCxyWzFdKSxhKHt9LHJbMl0pXSxyWzJdLnR5cGU9clsyXS50eXBlfHwiIixuKHJbMl0sclswXSksbihyWzJdLHJbMV0pLHJ9O01OLmV4dGVuZCh7dHlwZToibWFya0xpbmUiLHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSl7ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWFya0xpbmVNb2RlbDtpZihlKXt2YXIgbj1lLmdldERhdGEoKSxvPWUuX19mcm9tLGE9ZS5fX3RvO28uZWFjaChmdW5jdGlvbihlKXt6eShvLGUsITAsdCxpKSx6eShhLGUsITEsdCxpKX0pLG4uZWFjaChmdW5jdGlvbih0KXtuLnNldEl0ZW1MYXlvdXQodCxbby5nZXRJdGVtTGF5b3V0KHQpLGEuZ2V0SXRlbUxheW91dCh0KV0pfSksdGhpcy5tYXJrZXJHcm91cE1hcC5nZXQodC5pZCkudXBkYXRlTGF5b3V0KCl9fSx0aGlzKX0scmVuZGVyU2VyaWVzOmZ1bmN0aW9uKHQsZSxpLG4pe2Z1bmN0aW9uIG8oZSxpLG8pe3ZhciBhPWUuZ2V0SXRlbU1vZGVsKGkpO3p5KGUsaSxvLHQsbiksZS5zZXRJdGVtVmlzdWFsKGkse3N5bWJvbFNpemU6YS5nZXQoInN5bWJvbFNpemUiKXx8Z1tvPzA6MV0sc3ltYm9sOmEuZ2V0KCJzeW1ib2wiLCEwKXx8cFtvPzA6MV0sY29sb3I6YS5nZXQoIml0ZW1TdHlsZS5jb2xvciIpfHxzLmdldFZpc3VhbCgiY29sb3IiKX0pfXZhciBhPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXQuaWQscz10LmdldERhdGEoKSxsPXRoaXMubWFya2VyR3JvdXBNYXAsdT1sLmdldChyKXx8bC5zZXQocixuZXcgYmQpO3RoaXMuZ3JvdXAuYWRkKHUuZ3JvdXApO3ZhciBoPUJ5KGEsdCxlKSxjPWguZnJvbSxkPWgudG8sZj1oLmxpbmU7ZS5fX2Zyb209YyxlLl9fdG89ZCxlLnNldERhdGEoZik7dmFyIHA9ZS5nZXQoInN5bWJvbCIpLGc9ZS5nZXQoInN5bWJvbFNpemUiKTt5KHApfHwocD1bcCxwXSksIm51bWJlciI9PXR5cGVvZiBnJiYoZz1bZyxnXSksaC5mcm9tLmVhY2goZnVuY3Rpb24odCl7byhjLHQsITApLG8oZCx0LCExKX0pLGYuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1mLmdldEl0ZW1Nb2RlbCh0KS5nZXQoImxpbmVTdHlsZS5jb2xvciIpO2Yuc2V0SXRlbVZpc3VhbCh0LHtjb2xvcjplfHxjLmdldEl0ZW1WaXN1YWwodCwiY29sb3IiKX0pLGYuc2V0SXRlbUxheW91dCh0LFtjLmdldEl0ZW1MYXlvdXQodCksZC5nZXRJdGVtTGF5b3V0KHQpXSksZi5zZXRJdGVtVmlzdWFsKHQse2Zyb21TeW1ib2xTaXplOmMuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xTaXplIiksZnJvbVN5bWJvbDpjLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sIiksdG9TeW1ib2xTaXplOmQuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xTaXplIiksdG9TeW1ib2w6ZC5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbCIpfSl9KSx1LnVwZGF0ZURhdGEoZiksaC5saW5lLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsaSl7dC50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmRhdGFNb2RlbD1lfSl9KSx1Ll9fa2VlcD0hMCx1Lmdyb3VwLnNpbGVudD1lLmdldCgic2lsZW50Iil8fHQuZ2V0KCJzaWxlbnQiKX19KSx1cyhmdW5jdGlvbih0KXt0Lm1hcmtMaW5lPXQubWFya0xpbmV8fHt9fSksX04uZXh0ZW5kKHt0eXBlOiJtYXJrQXJlYSIsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoxLHRvb2x0aXA6e3RyaWdnZXI6Iml0ZW0ifSxhbmltYXRpb246ITEsbGFiZWw6e3Nob3c6ITAscG9zaXRpb246InRvcCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MH0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJ0b3AifX19fSk7dmFyIFROPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBhPVR5KHQsblswXSkscj1UeSh0LG5bMV0pLHM9VCxsPWEuY29vcmQsdT1yLmNvb3JkO2xbMF09cyhsWzBdLC0xLzApLGxbMV09cyhsWzFdLC0xLzApLHVbMF09cyh1WzBdLDEvMCksdVsxXT1zKHVbMV0sMS8wKTt2YXIgaD1vKFt7fSxhLHJdKTtyZXR1cm4gaC5jb29yZD1bYS5jb29yZCxyLmNvb3JkXSxoLngwPWEueCxoLnkwPWEueSxoLngxPXIueCxoLnkxPXIueSxofSxETj1bWyJ4MCIsInkwIl0sWyJ4MSIsInkwIl0sWyJ4MSIsInkxIl0sWyJ4MCIsInkxIl1dO01OLmV4dGVuZCh7dHlwZToibWFya0FyZWEiLHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSl7ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWFya0FyZWFNb2RlbDtpZihlKXt2YXIgbj1lLmdldERhdGEoKTtuLmVhY2goZnVuY3Rpb24oZSl7dmFyIG89ZihETixmdW5jdGlvbihvKXtyZXR1cm4gRnkobixlLG8sdCxpKX0pO24uc2V0SXRlbUxheW91dChlLG8pLG4uZ2V0SXRlbUdyYXBoaWNFbChlKS5zZXRTaGFwZSgicG9pbnRzIixvKX0pfX0sdGhpcyl9LHJlbmRlclNlcmllczpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmNvb3JkaW5hdGVTeXN0ZW0sYT10LmlkLHM9dC5nZXREYXRhKCksbD10aGlzLm1hcmtlckdyb3VwTWFwLHU9bC5nZXQoYSl8fGwuc2V0KGEse2dyb3VwOm5ldyByd30pO3RoaXMuZ3JvdXAuYWRkKHUuZ3JvdXApLHUuX19rZWVwPSEwO3ZhciBoPUh5KG8sdCxlKTtlLnNldERhdGEoaCksaC5lYWNoKGZ1bmN0aW9uKGUpe2guc2V0SXRlbUxheW91dChlLGYoRE4sZnVuY3Rpb24oaSl7cmV0dXJuIEZ5KGgsZSxpLHQsbil9KSksaC5zZXRJdGVtVmlzdWFsKGUse2NvbG9yOnMuZ2V0VmlzdWFsKCJjb2xvciIpfSl9KSxoLmRpZmYodS5fX2RhdGEpLmFkZChmdW5jdGlvbih0KXt2YXIgZT1uZXcgX1Moe3NoYXBlOntwb2ludHM6aC5nZXRJdGVtTGF5b3V0KHQpfX0pO2guc2V0SXRlbUdyYXBoaWNFbCh0LGUpLHUuZ3JvdXAuYWRkKGUpfSkudXBkYXRlKGZ1bmN0aW9uKHQsaSl7dmFyIG49dS5fX2RhdGEuZ2V0SXRlbUdyYXBoaWNFbChpKTtmbyhuLHtzaGFwZTp7cG9pbnRzOmguZ2V0SXRlbUxheW91dCh0KX19LGUsdCksdS5ncm91cC5hZGQobiksaC5zZXRJdGVtR3JhcGhpY0VsKHQsbil9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9dS5fX2RhdGEuZ2V0SXRlbUdyYXBoaWNFbCh0KTt1Lmdyb3VwLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSxoLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsaSl7dmFyIG49aC5nZXRJdGVtTW9kZWwoaSksbz1uLmdldE1vZGVsKCJsYWJlbCIpLGE9bi5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSxzPWguZ2V0SXRlbVZpc3VhbChpLCJjb2xvciIpO3QudXNlU3R5bGUocihuLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSx7ZmlsbDpSdChzLC40KSxzdHJva2U6c30pKSx0LmhvdmVyU3R5bGU9bi5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksaW8odC5zdHlsZSx0LmhvdmVyU3R5bGUsbyxhLHtsYWJlbEZldGNoZXI6ZSxsYWJlbERhdGFJbmRleDppLGRlZmF1bHRUZXh0OmguZ2V0TmFtZShpKXx8IiIsaXNSZWN0VGV4dDohMCxhdXRvQ29sb3I6c30pLGVvKHQse30pLHQuZGF0YU1vZGVsPWV9KSx1Ll9fZGF0YT1oLHUuZ3JvdXAuc2lsZW50PWUuZ2V0KCJzaWxlbnQiKXx8dC5nZXQoInNpbGVudCIpfX0pLHVzKGZ1bmN0aW9uKHQpe3QubWFya0FyZWE9dC5tYXJrQXJlYXx8e319KTt1TS5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoInRpbWVsaW5lIixmdW5jdGlvbigpe3JldHVybiJzbGlkZXIifSksY3Moe3R5cGU6InRpbWVsaW5lQ2hhbmdlIixldmVudDoidGltZWxpbmVDaGFuZ2VkIix1cGRhdGU6InByZXBhcmVBbmRVcGRhdGUifSxmdW5jdGlvbih0LGUpe3ZhciBpPWUuZ2V0Q29tcG9uZW50KCJ0aW1lbGluZSIpO3JldHVybiBpJiZudWxsIT10LmN1cnJlbnRJbmRleCYmKGkuc2V0Q3VycmVudEluZGV4KHQuY3VycmVudEluZGV4KSwhaS5nZXQoImxvb3AiLCEwKSYmaS5pc0luZGV4TWF4KCkmJmkuc2V0UGxheVN0YXRlKCExKSksZS5yZXNldE9wdGlvbigidGltZWxpbmUiKSxyKHtjdXJyZW50SW5kZXg6aS5vcHRpb24uY3VycmVudEluZGV4fSx0KX0pLGNzKHt0eXBlOiJ0aW1lbGluZVBsYXlDaGFuZ2UiLGV2ZW50OiJ0aW1lbGluZVBsYXlDaGFuZ2VkIix1cGRhdGU6InVwZGF0ZSJ9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXRDb21wb25lbnQoInRpbWVsaW5lIik7aSYmbnVsbCE9dC5wbGF5U3RhdGUmJmkuc2V0UGxheVN0YXRlKHQucGxheVN0YXRlKX0pO3ZhciBBTj11TS5leHRlbmQoe3R5cGU6InRpbWVsaW5lIixsYXlvdXRNb2RlOiJib3giLGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6NCxzaG93OiEwLGF4aXNUeXBlOiJ0aW1lIixyZWFsdGltZTohMCxsZWZ0OiIyMCUiLHRvcDpudWxsLHJpZ2h0OiIyMCUiLGJvdHRvbTowLHdpZHRoOm51bGwsaGVpZ2h0OjQwLHBhZGRpbmc6NSxjb250cm9sUG9zaXRpb246ImxlZnQiLGF1dG9QbGF5OiExLHJld2luZDohMSxsb29wOiEwLHBsYXlJbnRlcnZhbDoyZTMsY3VycmVudEluZGV4OjAsaXRlbVN0eWxlOnt9LGxhYmVsOntjb2xvcjoiIzAwMCJ9LGRhdGE6W119LGluaXQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2RhdGEsdGhpcy5fbmFtZXMsdGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpLHRoaXMuX2luaXREYXRhKCl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe0FOLnN1cGVyQXBwbHkodGhpcywibWVyZ2VPcHRpb24iLGFyZ3VtZW50cyksdGhpcy5faW5pdERhdGEoKX0sc2V0Q3VycmVudEluZGV4OmZ1bmN0aW9uKHQpe251bGw9PXQmJih0PXRoaXMub3B0aW9uLmN1cnJlbnRJbmRleCk7dmFyIGU9dGhpcy5fZGF0YS5jb3VudCgpO3RoaXMub3B0aW9uLmxvb3A/dD0odCVlK2UpJWU6KHQ+PWUmJih0PWUtMSksdDwwJiYodD0wKSksdGhpcy5vcHRpb24uY3VycmVudEluZGV4PXR9LGdldEN1cnJlbnRJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbi5jdXJyZW50SW5kZXh9LGlzSW5kZXhNYXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50SW5kZXgoKT49dGhpcy5fZGF0YS5jb3VudCgpLTF9LHNldFBsYXlTdGF0ZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5hdXRvUGxheT0hIXR9LGdldFBsYXlTdGF0ZTpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5vcHRpb24uYXV0b1BsYXl9LF9pbml0RGF0YTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLGU9dC5kYXRhfHxbXSxuPXQuYXhpc1R5cGUsbz10aGlzLl9uYW1lcz1bXTtpZigiY2F0ZWdvcnkiPT09bil7dmFyIGE9W107ZChlLGZ1bmN0aW9uKHQsZSl7dmFyIG4scj1JaSh0KTt3KHQpPyhuPWkodCkpLnZhbHVlPWU6bj1lLGEucHVzaChuKSxfKHIpfHxudWxsIT1yJiYhaXNOYU4ocil8fChyPSIiKSxvLnB1c2gocisiIil9KSxlPWF9dmFyIHI9e2NhdGVnb3J5OiJvcmRpbmFsIix0aW1lOiJ0aW1lIn1bbl18fCJudW1iZXIiOyh0aGlzLl9kYXRhPW5ldyByVChbe25hbWU6InZhbHVlIix0eXBlOnJ9XSx0aGlzKSkuaW5pdERhdGEoZSxvKX0sZ2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxnZXRDYXRlZ29yaWVzOmZ1bmN0aW9uKCl7aWYoImNhdGVnb3J5Ij09PXRoaXMuZ2V0KCJheGlzVHlwZSIpKXJldHVybiB0aGlzLl9uYW1lcy5zbGljZSgpfX0pO2goQU4uZXh0ZW5kKHt0eXBlOiJ0aW1lbGluZS5zbGlkZXIiLGRlZmF1bHRPcHRpb246e2JhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyQ29sb3I6IiNjY2MiLGJvcmRlcldpZHRoOjAsb3JpZW50OiJob3Jpem9udGFsIixpbnZlcnNlOiExLHRvb2x0aXA6e3RyaWdnZXI6Iml0ZW0ifSxzeW1ib2w6ImVtcHR5Q2lyY2xlIixzeW1ib2xTaXplOjEwLGxpbmVTdHlsZTp7c2hvdzohMCx3aWR0aDoyLGNvbG9yOiIjMzA0NjU0In0sbGFiZWw6e3Bvc2l0aW9uOiJhdXRvIixzaG93OiEwLGludGVydmFsOiJhdXRvIixyb3RhdGU6MCxjb2xvcjoiIzMwNDY1NCJ9LGl0ZW1TdHlsZTp7Y29sb3I6IiMzMDQ2NTQiLGJvcmRlcldpZHRoOjF9LGNoZWNrcG9pbnRTdHlsZTp7c3ltYm9sOiJjaXJjbGUiLHN5bWJvbFNpemU6MTMsY29sb3I6IiNjMjM1MzEiLGJvcmRlcldpZHRoOjUsYm9yZGVyQ29sb3I6InJnYmEoMTk0LDUzLDQ5LCAwLjUpIixhbmltYXRpb246ITAsYW5pbWF0aW9uRHVyYXRpb246MzAwLGFuaW1hdGlvbkVhc2luZzoicXVpbnRpY0luT3V0In0sY29udHJvbFN0eWxlOntzaG93OiEwLHNob3dQbGF5QnRuOiEwLHNob3dQcmV2QnRuOiEwLHNob3dOZXh0QnRuOiEwLGl0ZW1TaXplOjIyLGl0ZW1HYXA6MTIscG9zaXRpb246ImxlZnQiLHBsYXlJY29uOiJwYXRoOi8vTTMxLjYsNTNDMTcuNSw1Myw2LDQxLjUsNiwyNy40UzE3LjUsMS44LDMxLjYsMS44QzQ1LjcsMS44LDU3LjIsMTMuMyw1Ny4yLDI3LjRTNDUuNyw1MywzMS42LDUzeiBNMzEuNiwzLjMgQzE4LjQsMy4zLDcuNSwxNC4xLDcuNSwyNy40YzAsMTMuMywxMC44LDI0LjEsMjQuMSwyNC4xQzQ0LjksNTEuNSw1NS43LDQwLjcsNTUuNywyNy40QzU1LjcsMTQuMSw0NC45LDMuMywzMS42LDMuM3ogTTI0LjksMjEuMyBjMC0yLjIsMS42LTMuMSwzLjUtMmwxMC41LDYuMWMxLjg5OSwxLjEsMS44OTksMi45LDAsNGwtMTAuNSw2LjFjLTEuOSwxLjEtMy41LDAuMi0zLjUtMlYyMS4zeiIsc3RvcEljb246InBhdGg6Ly9NMzAuOSw1My4yQzE2LjgsNTMuMiw1LjMsNDEuNyw1LjMsMjcuNlMxNi44LDIsMzAuOSwyQzQ1LDIsNTYuNCwxMy41LDU2LjQsMjcuNlM0NSw1My4yLDMwLjksNTMuMnogTTMwLjksMy41QzE3LjYsMy41LDYuOCwxNC40LDYuOCwyNy42YzAsMTMuMywxMC44LDI0LjEsMjQuMTAxLDI0LjFDNDQuMiw1MS43LDU1LDQwLjksNTUsMjcuNkM1NC45LDE0LjQsNDQuMSwzLjUsMzAuOSwzLjV6IE0zNi45LDM1LjhjMCwwLjYwMS0wLjQsMS0wLjksMWgtMS4zYy0wLjUsMC0wLjktMC4zOTktMC45LTFWMTkuNWMwLTAuNiwwLjQtMSwwLjktMUgzNmMwLjUsMCwwLjksMC40LDAuOSwxVjM1Ljh6IE0yNy44LDM1LjggYzAsMC42MDEtMC40LDEtMC45LDFoLTEuM2MtMC41LDAtMC45LTAuMzk5LTAuOS0xVjE5LjVjMC0wLjYsMC40LTEsMC45LTFIMjdjMC41LDAsMC45LDAuNCwwLjksMUwyNy44LDM1LjhMMjcuOCwzNS44eiIsbmV4dEljb246InBhdGg6Ly9NMTguNiw1MC44bDIyLjUtMjIuNWMwLjItMC4yLDAuMy0wLjQsMC4zLTAuN2MwLTAuMy0wLjEtMC41LTAuMy0wLjdMMTguNyw0LjRjLTAuMS0wLjEtMC4yLTAuMy0wLjItMC41IGMwLTAuNCwwLjMtMC44LDAuOC0wLjhjMC4yLDAsMC41LDAuMSwwLjYsMC4zbDIzLjUsMjMuNWwwLDBjMC4yLDAuMiwwLjMsMC40LDAuMywwLjdjMCwwLjMtMC4xLDAuNS0wLjMsMC43bC0wLjEsMC4xTDE5LjcsNTIgYy0wLjEsMC4xLTAuMywwLjItMC41LDAuMmMtMC40LDAtMC44LTAuMy0wLjgtMC44QzE4LjQsNTEuMiwxOC41LDUxLDE4LjYsNTAuOHoiLHByZXZJY29uOiJwYXRoOi8vTTQzLDUyLjhMMjAuNCwzMC4zYy0wLjItMC4yLTAuMy0wLjQtMC4zLTAuN2MwLTAuMywwLjEtMC41LDAuMy0wLjdMNDIuOSw2LjRjMC4xLTAuMSwwLjItMC4zLDAuMi0wLjUgYzAtMC40LTAuMy0wLjgtMC44LTAuOGMtMC4yLDAtMC41LDAuMS0wLjYsMC4zTDE4LjMsMjguOGwwLDBjLTAuMiwwLjItMC4zLDAuNC0wLjMsMC43YzAsMC4zLDAuMSwwLjUsMC4zLDAuN2wwLjEsMC4xTDQxLjksNTQgYzAuMSwwLjEsMC4zLDAuMiwwLjUsMC4yYzAuNCwwLDAuOC0wLjMsMC44LTAuOEM0My4yLDUzLjIsNDMuMSw1Myw0Myw1Mi44eiIsY29sb3I6IiMzMDQ2NTQiLGJvcmRlckNvbG9yOiIjMzA0NjU0Iixib3JkZXJXaWR0aDoxfSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITAsY29sb3I6IiNjMjM1MzEifSxpdGVtU3R5bGU6e2NvbG9yOiIjYzIzNTMxIn0sY29udHJvbFN0eWxlOntjb2xvcjoiI2MyMzUzMSIsYm9yZGVyQ29sb3I6IiNjMjM1MzEiLGJvcmRlcldpZHRoOjJ9fSxkYXRhOltdfX0pLFVNKTt2YXIgQ049S00uZXh0ZW5kKHt0eXBlOiJ0aW1lbGluZSJ9KSxMTj1mdW5jdGlvbih0LGUsaSxuKXtZVC5jYWxsKHRoaXMsdCxlLGkpLHRoaXMudHlwZT1ufHwidmFsdWUiLHRoaXMubW9kZWw9bnVsbH07TE4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpMTixnZXRMYWJlbE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwuZ2V0TW9kZWwoImxhYmVsIil9LGlzSG9yaXpvbnRhbDpmdW5jdGlvbigpe3JldHVybiJob3Jpem9udGFsIj09PXRoaXMubW9kZWwuZ2V0KCJvcmllbnQiKX19LHUoTE4sWVQpO3ZhciBrTj1tLFBOPWQsTk49TWF0aC5QSTtDTi5leHRlbmQoe3R5cGU6InRpbWVsaW5lLnNsaWRlciIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuYXBpPWUsdGhpcy5fYXhpcyx0aGlzLl92aWV3UmVjdCx0aGlzLl90aW1lcix0aGlzLl9jdXJyZW50UG9pbnRlcix0aGlzLl9tYWluR3JvdXAsdGhpcy5fbGFiZWxHcm91cH0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKHRoaXMubW9kZWw9dCx0aGlzLmFwaT1pLHRoaXMuZWNNb2RlbD1lLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciLCEwKSl7dmFyIG89dGhpcy5fbGF5b3V0KHQsaSksYT10aGlzLl9jcmVhdGVHcm91cCgibWFpbkdyb3VwIikscj10aGlzLl9jcmVhdGVHcm91cCgibGFiZWxHcm91cCIpLHM9dGhpcy5fYXhpcz10aGlzLl9jcmVhdGVBeGlzKG8sdCk7dC5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQpe3JldHVybiBabyhzLnNjYWxlLmdldExhYmVsKHQpKX0sUE4oWyJBeGlzTGluZSIsIkF4aXNUaWNrIiwiQ29udHJvbCIsIkN1cnJlbnRQb2ludGVyIl0sZnVuY3Rpb24oZSl7dGhpc1siX3JlbmRlciIrZV0obyxhLHMsdCl9LHRoaXMpLHRoaXMuX3JlbmRlckF4aXNMYWJlbChvLHIscyx0KSx0aGlzLl9wb3NpdGlvbihvLHQpfXRoaXMuX2RvUGxheVN0b3AoKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhclRpbWVyKCl9LF9sYXlvdXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldCgibGFiZWwucG9zaXRpb24iKSxuPXQuZ2V0KCJvcmllbnQiKSxvPWp5KHQsZSk7bnVsbD09aXx8ImF1dG8iPT09aT9pPSJob3Jpem9udGFsIj09PW4/by55K28uaGVpZ2h0LzI8ZS5nZXRIZWlnaHQoKS8yPyItIjoiKyI6by54K28ud2lkdGgvMjxlLmdldFdpZHRoKCkvMj8iKyI6Ii0iOmlzTmFOKGkpJiYoaT17aG9yaXpvbnRhbDp7dG9wOiItIixib3R0b206IisifSx2ZXJ0aWNhbDp7bGVmdDoiLSIscmlnaHQ6IisifX1bbl1baV0pO3ZhciBhPXtob3Jpem9udGFsOiJjZW50ZXIiLHZlcnRpY2FsOmk+PTB8fCIrIj09PWk/ImxlZnQiOiJyaWdodCJ9LHI9e2hvcml6b250YWw6aT49MHx8IisiPT09aT8idG9wIjoiYm90dG9tIix2ZXJ0aWNhbDoibWlkZGxlIn0scz17aG9yaXpvbnRhbDowLHZlcnRpY2FsOk5OLzJ9LGw9InZlcnRpY2FsIj09PW4/by5oZWlnaHQ6by53aWR0aCx1PXQuZ2V0TW9kZWwoImNvbnRyb2xTdHlsZSIpLGg9dS5nZXQoInNob3ciLCEwKSxjPWg/dS5nZXQoIml0ZW1TaXplIik6MCxkPWg/dS5nZXQoIml0ZW1HYXAiKTowLGY9YytkLHA9dC5nZXQoImxhYmVsLnJvdGF0ZSIpfHwwO3A9cCpOTi8xODA7dmFyIGcsbSx2LHkseD11LmdldCgicG9zaXRpb24iLCEwKSxfPWgmJnUuZ2V0KCJzaG93UGxheUJ0biIsITApLHc9aCYmdS5nZXQoInNob3dQcmV2QnRuIiwhMCksYj1oJiZ1LmdldCgic2hvd05leHRCdG4iLCEwKSxTPTAsTT1sO3JldHVybiJsZWZ0Ij09PXh8fCJib3R0b20iPT09eD8oXyYmKGc9WzAsMF0sUys9ZiksdyYmKG09W1MsMF0sUys9ZiksYiYmKHY9W00tYywwXSxNLT1mKSk6KF8mJihnPVtNLWMsMF0sTS09ZiksdyYmKG09WzAsMF0sUys9ZiksYiYmKHY9W00tYywwXSxNLT1mKSkseT1bUyxNXSx0LmdldCgiaW52ZXJzZSIpJiZ5LnJldmVyc2UoKSx7dmlld1JlY3Q6byxtYWluTGVuZ3RoOmwsb3JpZW50Om4scm90YXRpb246c1tuXSxsYWJlbFJvdGF0aW9uOnAsbGFiZWxQb3NPcHQ6aSxsYWJlbEFsaWduOnQuZ2V0KCJsYWJlbC5hbGlnbiIpfHxhW25dLGxhYmVsQmFzZWxpbmU6dC5nZXQoImxhYmVsLnZlcnRpY2FsQWxpZ24iKXx8dC5nZXQoImxhYmVsLmJhc2VsaW5lIil8fHJbbl0scGxheVBvc2l0aW9uOmcscHJldkJ0blBvc2l0aW9uOm0sbmV4dEJ0blBvc2l0aW9uOnYsYXhpc0V4dGVudDp5LGNvbnRyb2xTaXplOmMsY29udHJvbEdhcDpkfX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXt2YXIgZT10LnBvc2l0aW9uO3Qub3JpZ2luPVtjWzBdWzBdLWVbMF0sY1sxXVswXS1lWzFdXX1mdW5jdGlvbiBuKHQpe3JldHVybltbdC54LHQueCt0LndpZHRoXSxbdC55LHQueSt0LmhlaWdodF1dfWZ1bmN0aW9uIG8odCxlLGksbixvKXt0W25dKz1pW25dW29dLWVbbl1bb119dmFyIGE9dGhpcy5fbWFpbkdyb3VwLHI9dGhpcy5fbGFiZWxHcm91cCxzPXQudmlld1JlY3Q7aWYoInZlcnRpY2FsIj09PXQub3JpZW50KXt2YXIgbD1zdCgpLHU9cy54LGg9cy55K3MuaGVpZ2h0O2N0KGwsbCxbLXUsLWhdKSxkdChsLGwsLU5OLzIpLGN0KGwsbCxbdSxoXSksKHM9cy5jbG9uZSgpKS5hcHBseVRyYW5zZm9ybShsKX12YXIgYz1uKHMpLGQ9bihhLmdldEJvdW5kaW5nUmVjdCgpKSxmPW4oci5nZXRCb3VuZGluZ1JlY3QoKSkscD1hLnBvc2l0aW9uLGc9ci5wb3NpdGlvbjtnWzBdPXBbMF09Y1swXVswXTt2YXIgbT10LmxhYmVsUG9zT3B0O2lmKGlzTmFOKG0pKW8ocCxkLGMsMSx2PSIrIj09PW0/MDoxKSxvKGcsZixjLDEsMS12KTtlbHNle3ZhciB2PW0+PTA/MDoxO28ocCxkLGMsMSx2KSxnWzFdPXBbMV0rbX1hLmF0dHIoInBvc2l0aW9uIixwKSxyLmF0dHIoInBvc2l0aW9uIixnKSxhLnJvdGF0aW9uPXIucm90YXRpb249dC5yb3RhdGlvbixpKGEpLGkocil9LF9jcmVhdGVBeGlzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXREYXRhKCksbj1lLmdldCgiYXhpc1R5cGUiKSxvPXlsKGUsbik7by5nZXRUaWNrcz1mdW5jdGlvbigpe3JldHVybiBpLm1hcEFycmF5KFsidmFsdWUiXSxmdW5jdGlvbih0KXtyZXR1cm4gdH0pfTt2YXIgYT1pLmdldERhdGFFeHRlbnQoInZhbHVlIik7by5zZXRFeHRlbnQoYVswXSxhWzFdKSxvLm5pY2VUaWNrcygpO3ZhciByPW5ldyBMTigidmFsdWUiLG8sdC5heGlzRXh0ZW50LG4pO3JldHVybiByLm1vZGVsPWUscn0sX2NyZWF0ZUdyb3VwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXNbIl8iK3RdPW5ldyBydztyZXR1cm4gdGhpcy5ncm91cC5hZGQoZSksZX0sX3JlbmRlckF4aXNMaW5lOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWkuZ2V0RXh0ZW50KCk7bi5nZXQoImxpbmVTdHlsZS5zaG93IikmJmUuYWRkKG5ldyBTUyh7c2hhcGU6e3gxOm9bMF0seTE6MCx4MjpvWzFdLHkyOjB9LHN0eWxlOmEoe2xpbmVDYXA6InJvdW5kIn0sbi5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMCx6MjoxfSkpfSxfcmVuZGVyQXhpc1RpY2s6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89bi5nZXREYXRhKCksYT1pLnNjYWxlLmdldFRpY2tzKCk7UE4oYSxmdW5jdGlvbih0KXt2YXIgYT1pLmRhdGFUb0Nvb3JkKHQpLHI9by5nZXRJdGVtTW9kZWwodCkscz1yLmdldE1vZGVsKCJpdGVtU3R5bGUiKSxsPXIuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLHU9e3Bvc2l0aW9uOlthLDBdLG9uY2xpY2s6a04odGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyx0KX0saD1xeShyLHMsZSx1KTtlbyhoLGwuZ2V0SXRlbVN0eWxlKCkpLHIuZ2V0KCJ0b29sdGlwIik/KGguZGF0YUluZGV4PXQsaC5kYXRhTW9kZWw9bik6aC5kYXRhSW5kZXg9aC5kYXRhTW9kZWw9bnVsbH0sdGhpcyl9LF9yZW5kZXJBeGlzTGFiZWw6ZnVuY3Rpb24odCxlLGksbil7aWYoaS5nZXRMYWJlbE1vZGVsKCkuZ2V0KCJzaG93Iikpe3ZhciBvPW4uZ2V0RGF0YSgpLGE9aS5nZXRWaWV3TGFiZWxzKCk7UE4oYSxmdW5jdGlvbihuKXt2YXIgYT1uLnRpY2tWYWx1ZSxyPW8uZ2V0SXRlbU1vZGVsKGEpLHM9ci5nZXRNb2RlbCgibGFiZWwiKSxsPXIuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIiksdT1pLmRhdGFUb0Nvb3JkKG4udGlja1ZhbHVlKSxoPW5ldyBkUyh7cG9zaXRpb246W3UsMF0scm90YXRpb246dC5sYWJlbFJvdGF0aW9uLXQucm90YXRpb24sb25jbGljazprTih0aGlzLl9jaGFuZ2VUaW1lbGluZSx0aGlzLGEpLHNpbGVudDohMX0pO25vKGguc3R5bGUscyx7dGV4dDpuLmZvcm1hdHRlZExhYmVsLHRleHRBbGlnbjp0LmxhYmVsQWxpZ24sdGV4dFZlcnRpY2FsQWxpZ246dC5sYWJlbEJhc2VsaW5lfSksZS5hZGQoaCksZW8oaCxubyh7fSxsKSl9LHRoaXMpfX0sX3JlbmRlckNvbnRyb2w6ZnVuY3Rpb24odCxlLGksbil7ZnVuY3Rpb24gbyh0LGksbyxoKXtpZih0KXt2YXIgYz1ZeShuLGksdSx7cG9zaXRpb246dCxvcmlnaW46W2EvMiwwXSxyb3RhdGlvbjpoPy1yOjAscmVjdEhvdmVyOiEwLHN0eWxlOnMsb25jbGljazpvfSk7ZS5hZGQoYyksZW8oYyxsKX19dmFyIGE9dC5jb250cm9sU2l6ZSxyPXQucm90YXRpb24scz1uLmdldE1vZGVsKCJjb250cm9sU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxsPW4uZ2V0TW9kZWwoImVtcGhhc2lzLmNvbnRyb2xTdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHU9WzAsLWEvMixhLGFdLGg9bi5nZXRQbGF5U3RhdGUoKSxjPW4uZ2V0KCJpbnZlcnNlIiwhMCk7byh0Lm5leHRCdG5Qb3NpdGlvbiwiY29udHJvbFN0eWxlLm5leHRJY29uIixrTih0aGlzLl9jaGFuZ2VUaW1lbGluZSx0aGlzLGM/Ii0iOiIrIikpLG8odC5wcmV2QnRuUG9zaXRpb24sImNvbnRyb2xTdHlsZS5wcmV2SWNvbiIsa04odGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyxjPyIrIjoiLSIpKSxvKHQucGxheVBvc2l0aW9uLCJjb250cm9sU3R5bGUuIisoaD8ic3RvcEljb24iOiJwbGF5SWNvbiIpLGtOKHRoaXMuX2hhbmRsZVBsYXlDbGljayx0aGlzLCFoKSwhMCl9LF9yZW5kZXJDdXJyZW50UG9pbnRlcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1uLmdldERhdGEoKSxhPW4uZ2V0Q3VycmVudEluZGV4KCkscj1vLmdldEl0ZW1Nb2RlbChhKS5nZXRNb2RlbCgiY2hlY2twb2ludFN0eWxlIikscz10aGlzLGw9e29uQ3JlYXRlOmZ1bmN0aW9uKHQpe3QuZHJhZ2dhYmxlPSEwLHQuZHJpZnQ9a04ocy5faGFuZGxlUG9pbnRlckRyYWcscyksdC5vbmRyYWdlbmQ9a04ocy5faGFuZGxlUG9pbnRlckRyYWdlbmQscyksS3kodCxhLGksbiwhMCl9LG9uVXBkYXRlOmZ1bmN0aW9uKHQpe0t5KHQsYSxpLG4pfX07dGhpcy5fY3VycmVudFBvaW50ZXI9cXkocixyLHRoaXMuX21haW5Hcm91cCx7fSx0aGlzLl9jdXJyZW50UG9pbnRlcixsKX0sX2hhbmRsZVBsYXlDbGljazpmdW5jdGlvbih0KXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRpbWVsaW5lUGxheUNoYW5nZSIscGxheVN0YXRlOnQsZnJvbTp0aGlzLnVpZH0pfSxfaGFuZGxlUG9pbnRlckRyYWc6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2NsZWFyVGltZXIoKSx0aGlzLl9wb2ludGVyQ2hhbmdlVGltZWxpbmUoW2kub2Zmc2V0WCxpLm9mZnNldFldKX0sX2hhbmRsZVBvaW50ZXJEcmFnZW5kOmZ1bmN0aW9uKHQpe3RoaXMuX3BvaW50ZXJDaGFuZ2VUaW1lbGluZShbdC5vZmZzZXRYLHQub2Zmc2V0WV0sITApfSxfcG9pbnRlckNoYW5nZVRpbWVsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fdG9BeGlzQ29vcmQodClbMF0sbj1Dbyh0aGlzLl9heGlzLmdldEV4dGVudCgpLnNsaWNlKCkpO2k+blsxXSYmKGk9blsxXSksaTxuWzBdJiYoaT1uWzBdKSx0aGlzLl9jdXJyZW50UG9pbnRlci5wb3NpdGlvblswXT1pLHRoaXMuX2N1cnJlbnRQb2ludGVyLmRpcnR5KCk7dmFyIG89dGhpcy5fZmluZE5lYXJlc3RUaWNrKGkpLGE9dGhpcy5tb2RlbDsoZXx8byE9PWEuZ2V0Q3VycmVudEluZGV4KCkmJmEuZ2V0KCJyZWFsdGltZSIpKSYmdGhpcy5fY2hhbmdlVGltZWxpbmUobyl9LF9kb1BsYXlTdG9wOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMubW9kZWwuZ2V0UGxheVN0YXRlKCkmJih0aGlzLl90aW1lcj1zZXRUaW1lb3V0KGtOKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tb2RlbDt0aGlzLl9jaGFuZ2VUaW1lbGluZSh0LmdldEN1cnJlbnRJbmRleCgpKyh0LmdldCgicmV3aW5kIiwhMCk/LTE6MSkpfSx0aGlzKSx0aGlzLm1vZGVsLmdldCgicGxheUludGVydmFsIikpKX0sX3RvQXhpc0Nvb3JkOmZ1bmN0aW9uKHQpe3JldHVybiBtbyh0LHRoaXMuX21haW5Hcm91cC5nZXRMb2NhbFRyYW5zZm9ybSgpLCEwKX0sX2ZpbmROZWFyZXN0VGljazpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMubW9kZWwuZ2V0RGF0YSgpLG49MS8wLG89dGhpcy5fYXhpcztyZXR1cm4gaS5lYWNoKFsidmFsdWUiXSxmdW5jdGlvbihpLGEpe3ZhciByPW8uZGF0YVRvQ29vcmQoaSkscz1NYXRoLmFicyhyLXQpO3M8biYmKG49cyxlPWEpfSksZX0sX2NsZWFyVGltZXI6ZnVuY3Rpb24oKXt0aGlzLl90aW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9bnVsbCl9LF9jaGFuZ2VUaW1lbGluZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm1vZGVsLmdldEN1cnJlbnRJbmRleCgpOyIrIj09PXQ/dD1lKzE6Ii0iPT09dCYmKHQ9ZS0xKSx0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidGltZWxpbmVDaGFuZ2UiLGN1cnJlbnRJbmRleDp0LGZyb206dGhpcy51aWR9KX19KSx1cyhmdW5jdGlvbih0KXt2YXIgZT10JiZ0LnRpbWVsaW5lO3koZSl8fChlPWU/W2VdOltdKSxkKGUsZnVuY3Rpb24odCl7dCYmWnkodCl9KX0pO3ZhciBPTj12cyh7dHlwZToidG9vbGJveCIsbGF5b3V0TW9kZTp7dHlwZToiYm94IixpZ25vcmVTaXplOiEwfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKCl7T04uc3VwZXJBcHBseSh0aGlzLCJvcHRpb25VcGRhdGVkIixhcmd1bWVudHMpLGQodGhpcy5vcHRpb24uZmVhdHVyZSxmdW5jdGlvbih0LGUpe3ZhciBpPUJ2KGUpO2kmJm4odCxpLmRlZmF1bHRPcHRpb24pfSl9LGRlZmF1bHRPcHRpb246e3Nob3c6ITAsejo2LHpsZXZlbDowLG9yaWVudDoiaG9yaXpvbnRhbCIsbGVmdDoicmlnaHQiLHRvcDoidG9wIixiYWNrZ3JvdW5kQ29sb3I6InRyYW5zcGFyZW50Iixib3JkZXJDb2xvcjoiI2NjYyIsYm9yZGVyUmFkaXVzOjAsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsaXRlbVNpemU6MTUsaXRlbUdhcDo4LHNob3dUaXRsZTohMCxpY29uU3R5bGU6e2JvcmRlckNvbG9yOiIjNjY2Iixjb2xvcjoibm9uZSJ9LGVtcGhhc2lzOntpY29uU3R5bGU6e2JvcmRlckNvbG9yOiIjM0U5OEM1In19fX0pO3lzKHt0eXBlOiJ0b29sYm94IixyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7ZnVuY3Rpb24gbyhvLHIpe3ZhciBzLGM9aFtvXSxkPWhbcl0sZj1uZXcgd28obFtjXSx0LHQuZWNNb2RlbCk7aWYoYyYmIWQpe2lmKCR5KGMpKXM9e21vZGVsOmYsb25jbGljazpmLm9wdGlvbi5vbmNsaWNrLGZlYXR1cmVOYW1lOmN9O2Vsc2V7dmFyIHA9QnYoYyk7aWYoIXApcmV0dXJuO3M9bmV3IHAoZixlLGkpfXVbY109c31lbHNle2lmKCEocz11W2RdKSlyZXR1cm47cy5tb2RlbD1mLHMuZWNNb2RlbD1lLHMuYXBpPWl9Y3x8IWQ/Zi5nZXQoInNob3ciKSYmIXMudW51c2FibGU/KGEoZixzLGMpLGYuc2V0SWNvblN0YXR1cz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLG49dGhpcy5pY29uUGF0aHM7aS5pY29uU3RhdHVzPWkuaWNvblN0YXR1c3x8e30saS5pY29uU3RhdHVzW3RdPWUsblt0XSYmblt0XS50cmlnZ2VyKGUpfSxzLnJlbmRlciYmcy5yZW5kZXIoZixlLGksbikpOnMucmVtb3ZlJiZzLnJlbW92ZShlLGkpOnMuZGlzcG9zZSYmcy5kaXNwb3NlKGUsaSl9ZnVuY3Rpb24gYShuLG8sYSl7dmFyIGw9bi5nZXRNb2RlbCgiaWNvblN0eWxlIiksdT1uLmdldE1vZGVsKCJlbXBoYXNpcy5pY29uU3R5bGUiKSxoPW8uZ2V0SWNvbnM/by5nZXRJY29ucygpOm4uZ2V0KCJpY29uIiksYz1uLmdldCgidGl0bGUiKXx8e307aWYoInN0cmluZyI9PXR5cGVvZiBoKXt2YXIgZj1oLHA9YztjPXt9LChoPXt9KVthXT1mLGNbYV09cH12YXIgZz1uLmljb25QYXRocz17fTtkKGgsZnVuY3Rpb24oYSxoKXt2YXIgZD1fbyhhLHt9LHt4Oi1zLzIseTotcy8yLHdpZHRoOnMsaGVpZ2h0OnN9KTtkLnNldFN0eWxlKGwuZ2V0SXRlbVN0eWxlKCkpLGQuaG92ZXJTdHlsZT11LmdldEl0ZW1TdHlsZSgpLGVvKGQpLHQuZ2V0KCJzaG93VGl0bGUiKSYmKGQuX190aXRsZT1jW2hdLGQub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXt2YXIgdD11LmdldEl0ZW1TdHlsZSgpO2Quc2V0U3R5bGUoe3RleHQ6Y1toXSx0ZXh0UG9zaXRpb246dC50ZXh0UG9zaXRpb258fCJib3R0b20iLHRleHRGaWxsOnQuZmlsbHx8dC5zdHJva2V8fCIjMDAwIix0ZXh0QWxpZ246dC50ZXh0QWxpZ258fCJjZW50ZXIifSl9KS5vbigibW91c2VvdXQiLGZ1bmN0aW9uKCl7ZC5zZXRTdHlsZSh7dGV4dEZpbGw6bnVsbH0pfSkpLGQudHJpZ2dlcihuLmdldCgiaWNvblN0YXR1cy4iK2gpfHwibm9ybWFsIiksci5hZGQoZCksZC5vbigiY2xpY2siLG0oby5vbmNsaWNrLG8sZSxpLGgpKSxnW2hdPWR9KX12YXIgcj10aGlzLmdyb3VwO2lmKHIucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSl7dmFyIHM9K3QuZ2V0KCJpdGVtU2l6ZSIpLGw9dC5nZXQoImZlYXR1cmUiKXx8e30sdT10aGlzLl9mZWF0dXJlc3x8KHRoaXMuX2ZlYXR1cmVzPXt9KSxoPVtdO2QobCxmdW5jdGlvbih0LGUpe2gucHVzaChlKX0pLG5ldyBTcyh0aGlzLl9mZWF0dXJlTmFtZXN8fFtdLGgpLmFkZChvKS51cGRhdGUobykucmVtb3ZlKHYobyxudWxsKSkuZXhlY3V0ZSgpLHRoaXMuX2ZlYXR1cmVOYW1lcz1oLGttKHIsdCxpKSxyLmFkZChQbShyLmdldEJvdW5kaW5nUmVjdCgpLHQpKSxyLmVhY2hDaGlsZChmdW5jdGlvbih0KXt2YXIgZT10Ll9fdGl0bGUsbj10LmhvdmVyU3R5bGU7aWYobiYmZSl7dmFyIG89bWUoZSxrZShuKSksYT10LnBvc2l0aW9uWzBdK3IucG9zaXRpb25bMF0sbD0hMTt0LnBvc2l0aW9uWzFdK3IucG9zaXRpb25bMV0rcytvLmhlaWdodD5pLmdldEhlaWdodCgpJiYobi50ZXh0UG9zaXRpb249InRvcCIsbD0hMCk7dmFyIHU9bD8tNS1vLmhlaWdodDpzKzg7YStvLndpZHRoLzI+aS5nZXRXaWR0aCgpPyhuLnRleHRQb3NpdGlvbj1bIjEwMCUiLHVdLG4udGV4dEFsaWduPSJyaWdodCIpOmEtby53aWR0aC8yPDAmJihuLnRleHRQb3NpdGlvbj1bMCx1XSxuLnRleHRBbGlnbj0ibGVmdCIpfX0pfX0sdXBkYXRlVmlldzpmdW5jdGlvbih0LGUsaSxuKXtkKHRoaXMuX2ZlYXR1cmVzLGZ1bmN0aW9uKHQpe3QudXBkYXRlVmlldyYmdC51cGRhdGVWaWV3KHQubW9kZWwsZSxpLG4pfSl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe2QodGhpcy5fZmVhdHVyZXMsZnVuY3Rpb24oaSl7aS5yZW1vdmUmJmkucmVtb3ZlKHQsZSl9KSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxkaXNwb3NlOmZ1bmN0aW9uKHQsZSl7ZCh0aGlzLl9mZWF0dXJlcyxmdW5jdGlvbihpKXtpLmRpc3Bvc2UmJmkuZGlzcG9zZSh0LGUpfSl9fSk7dmFyIEVOPXNJLnRvb2xib3guc2F2ZUFzSW1hZ2U7SnkuZGVmYXVsdE9wdGlvbj17c2hvdzohMCxpY29uOiJNNC43LDIyLjlMMjkuMyw0NS41TDU0LjcsMjMuNE00LjYsNDMuNkw0LjYsNThMNTMuOCw1OEw1My44LDQzLjZNMjkuMiw0NS4xTDI5LjIsMCIsdGl0bGU6RU4udGl0bGUsdHlwZToicG5nIixuYW1lOiIiLGV4Y2x1ZGVDb21wb25lbnRzOlsidG9vbGJveCJdLHBpeGVsUmF0aW86MSxsYW5nOkVOLmxhbmcuc2xpY2UoKX0sSnkucHJvdG90eXBlLnVudXNhYmxlPSFvXy5jYW52YXNTdXBwb3J0ZWQsSnkucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm1vZGVsLG49aS5nZXQoIm5hbWUiKXx8dC5nZXQoInRpdGxlLjAudGV4dCIpfHwiZWNoYXJ0cyIsbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksYT1pLmdldCgidHlwZSIsITApfHwicG5nIjtvLmRvd25sb2FkPW4rIi4iK2Esby50YXJnZXQ9Il9ibGFuayI7dmFyIHI9ZS5nZXRDb25uZWN0ZWREYXRhVVJMKHt0eXBlOmEsYmFja2dyb3VuZENvbG9yOmkuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiLCEwKXx8dC5nZXQoImJhY2tncm91bmRDb2xvciIpfHwiI2ZmZiIsZXhjbHVkZUNvbXBvbmVudHM6aS5nZXQoImV4Y2x1ZGVDb21wb25lbnRzIikscGl4ZWxSYXRpbzppLmdldCgicGl4ZWxSYXRpbyIpfSk7aWYoby5ocmVmPXIsImZ1bmN0aW9uIiE9dHlwZW9mIE1vdXNlRXZlbnR8fG9fLmJyb3dzZXIuaWV8fG9fLmJyb3dzZXIuZWRnZSlpZih3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2Ipe2Zvcih2YXIgcz1hdG9iKHIuc3BsaXQoIiwiKVsxXSksbD1zLmxlbmd0aCx1PW5ldyBVaW50OEFycmF5KGwpO2wtLTspdVtsXT1zLmNoYXJDb2RlQXQobCk7dmFyIGg9bmV3IEJsb2IoW3VdKTt3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoaCxuKyIuIithKX1lbHNle3ZhciBjPWkuZ2V0KCJsYW5nIiksZD0nPGJvZHkgc3R5bGU9Im1hcmdpbjowOyI+PGltZyBzcmM9IicrcisnIiBzdHlsZT0ibWF4LXdpZHRoOjEwMCU7IiB0aXRsZT0iJysoYyYmY1swXXx8IiIpKyciIC8+PC9ib2R5Pic7d2luZG93Lm9wZW4oKS5kb2N1bWVudC53cml0ZShkKX1lbHNle3ZhciBmPW5ldyBNb3VzZUV2ZW50KCJjbGljayIse3ZpZXc6d2luZG93LGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMX0pO28uZGlzcGF0Y2hFdmVudChmKX19LHp2KCJzYXZlQXNJbWFnZSIsSnkpO3ZhciBSTj1zSS50b29sYm94Lm1hZ2ljVHlwZTtReS5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLHR5cGU6W10saWNvbjp7bGluZToiTTQuMSwyOC45aDcuMWw5LjMtMjJsNy40LDM4bDkuNy0xOS43bDMsMTIuOGgxNC45TTQuMSw1OGg1MS40IixiYXI6Ik02LjcsMjIuOWgxMFY0OGgtMTBWMjIuOXpNMjQuOSwxM2gxMHYzNWgtMTBWMTN6TTQzLjIsMmgxMHY0NmgtMTBWMnpNMy4xLDU4aDUzLjciLHN0YWNrOiJNOC4yLDM4LjRsLTguNCw0LjFsMzAuNiwxNS4zTDYwLDQyLjVsLTguMS00LjFsLTIxLjUsMTFMOC4yLDM4LjR6IE01MS45LDMwbC04LjEsNC4ybC0xMy40LDYuOWwtMTMuOS02LjlMOC4yLDMwbC04LjQsNC4ybDguNCw0LjJsMjIuMiwxMWwyMS41LTExbDguMS00LjJMNTEuOSwzMHogTTUxLjksMjEuN2wtOC4xLDQuMkwzNS43LDMwbC01LjMsMi44TDI0LjksMzBsLTguNC00LjFsLTguMy00LjJsLTguNCw0LjJMOC4yLDMwbDguMyw0LjJsMTMuOSw2LjlsMTMuNC02LjlsOC4xLTQuMmw4LjEtNC4xTDUxLjksMjEuN3pNMzAuNCwyLjJMLTAuMiwxNy41bDguNCw0LjFsOC4zLDQuMmw4LjQsNC4ybDUuNSwyLjdsNS4zLTIuN2w4LjEtNC4ybDguMS00LjJsOC4xLTQuMUwzMC40LDIuMnoiLHRpbGVkOiJNMi4zLDIuMmgyMi44VjI1SDIuM1YyLjJ6IE0zNSwyLjJoMjIuOFYyNUgzNVYyLjJ6TTIuMywzNWgyMi44djIyLjhIMi4zVjM1eiBNMzUsMzVoMjIuOHYyMi44SDM1VjM1eiJ9LHRpdGxlOmkoUk4udGl0bGUpLG9wdGlvbjp7fSxzZXJpZXNJbmRleDp7fX07dmFyIHpOPVF5LnByb3RvdHlwZTt6Ti5nZXRJY29ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10LmdldCgiaWNvbiIpLGk9e307cmV0dXJuIGQodC5nZXQoInR5cGUiKSxmdW5jdGlvbih0KXtlW3RdJiYoaVt0XT1lW3RdKX0pLGl9O3ZhciBCTj17bGluZTpmdW5jdGlvbih0LGUsaSxvKXtpZigiYmFyIj09PXQpcmV0dXJuIG4oe2lkOmUsdHlwZToibGluZSIsZGF0YTppLmdldCgiZGF0YSIpLHN0YWNrOmkuZ2V0KCJzdGFjayIpLG1hcmtQb2ludDppLmdldCgibWFya1BvaW50IiksbWFya0xpbmU6aS5nZXQoIm1hcmtMaW5lIil9LG8uZ2V0KCJvcHRpb24ubGluZSIpfHx7fSwhMCl9LGJhcjpmdW5jdGlvbih0LGUsaSxvKXtpZigibGluZSI9PT10KXJldHVybiBuKHtpZDplLHR5cGU6ImJhciIsZGF0YTppLmdldCgiZGF0YSIpLHN0YWNrOmkuZ2V0KCJzdGFjayIpLG1hcmtQb2ludDppLmdldCgibWFya1BvaW50IiksbWFya0xpbmU6aS5nZXQoIm1hcmtMaW5lIil9LG8uZ2V0KCJvcHRpb24uYmFyIil8fHt9LCEwKX0sc3RhY2s6ZnVuY3Rpb24odCxlLGksbyl7aWYoImxpbmUiPT09dHx8ImJhciI9PT10KXJldHVybiBuKHtpZDplLHN0YWNrOiJfX2VjX21hZ2ljVHlwZV9zdGFja19fIn0sby5nZXQoIm9wdGlvbi5zdGFjayIpfHx7fSwhMCl9LHRpbGVkOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKCJsaW5lIj09PXR8fCJiYXIiPT09dClyZXR1cm4gbih7aWQ6ZSxzdGFjazoiIn0sby5nZXQoIm9wdGlvbi50aWxlZCIpfHx7fSwhMCl9fSxWTj1bWyJsaW5lIiwiYmFyIl0sWyJzdGFjayIsInRpbGVkIl1dO3pOLm9uY2xpY2s9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMubW9kZWwsbz1uLmdldCgic2VyaWVzSW5kZXguIitpKTtpZihCTltpXSl7dmFyIGE9e3NlcmllczpbXX07ZChWTixmdW5jdGlvbih0KXtsKHQsaSk+PTAmJmQodCxmdW5jdGlvbih0KXtuLnNldEljb25TdGF0dXModCwibm9ybWFsIil9KX0pLG4uc2V0SWNvblN0YXR1cyhpLCJlbXBoYXNpcyIpLHQuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIscXVlcnk6bnVsbD09bz9udWxsOntzZXJpZXNJbmRleDpvfX0sZnVuY3Rpb24oZSl7dmFyIG89ZS5zdWJUeXBlLHM9ZS5pZCxsPUJOW2ldKG8scyxlLG4pO2wmJihyKGwsZS5vcHRpb24pLGEuc2VyaWVzLnB1c2gobCkpO3ZhciB1PWUuY29vcmRpbmF0ZVN5c3RlbTtpZih1JiYiY2FydGVzaWFuMmQiPT09dS50eXBlJiYoImxpbmUiPT09aXx8ImJhciI9PT1pKSl7dmFyIGg9dS5nZXRBeGVzQnlTY2FsZSgib3JkaW5hbCIpWzBdO2lmKGgpe3ZhciBjPWguZGltKyJBeGlzIixkPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTpjLGluZGV4OmUuZ2V0KG5hbWUrIkluZGV4IiksaWQ6ZS5nZXQobmFtZSsiSWQiKX0pWzBdLmNvbXBvbmVudEluZGV4O2FbY109YVtjXXx8W107Zm9yKHZhciBmPTA7Zjw9ZDtmKyspYVtjXVtkXT1hW2NdW2RdfHx7fTthW2NdW2RdLmJvdW5kYXJ5R2FwPSJiYXIiPT09aX19fSksZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiY2hhbmdlTWFnaWNUeXBlIixjdXJyZW50VHlwZTppLG5ld09wdGlvbjphfSl9fSxjcyh7dHlwZToiY2hhbmdlTWFnaWNUeXBlIixldmVudDoibWFnaWNUeXBlQ2hhbmdlZCIsdXBkYXRlOiJwcmVwYXJlQW5kVXBkYXRlIn0sZnVuY3Rpb24odCxlKXtlLm1lcmdlT3B0aW9uKHQubmV3T3B0aW9uKX0pLHp2KCJtYWdpY1R5cGUiLFF5KTt2YXIgR049c0kudG9vbGJveC5kYXRhVmlldyxXTj1uZXcgQXJyYXkoNjApLmpvaW4oIi0iKSxGTj0iXHQiLEhOPW5ldyBSZWdFeHAoIlsiK0ZOKyJdKyIsImciKTt1eC5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLHJlYWRPbmx5OiExLG9wdGlvblRvQ29udGVudDpudWxsLGNvbnRlbnRUb09wdGlvbjpudWxsLGljb246Ik0xNy41LDE3LjNIMzMgTTE3LjUsMTcuM0gzMyBNNDUuNCwyOS41aC0yOCBNMTEuNSwydjU2SDUxVjE0LjhMMzguNCwySDExLjV6IE0zOC40LDIuMnYxMi43SDUxIE00NS40LDQxLjdoLTI4Iix0aXRsZTppKEdOLnRpdGxlKSxsYW5nOmkoR04ubGFuZyksYmFja2dyb3VuZENvbG9yOiIjZmZmIix0ZXh0Q29sb3I6IiMwMDAiLHRleHRhcmVhQ29sb3I6IiNmZmYiLHRleHRhcmVhQm9yZGVyQ29sb3I6IiMzMzMiLGJ1dHRvbkNvbG9yOiIjYzIzNTMxIixidXR0b25UZXh0Q29sb3I6IiNmZmYifSx1eC5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXtuLnJlbW92ZUNoaWxkKGEpLHguX2RvbT1udWxsfXZhciBuPWUuZ2V0RG9tKCksbz10aGlzLm1vZGVsO3RoaXMuX2RvbSYmbi5yZW1vdmVDaGlsZCh0aGlzLl9kb20pO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDo1cHg7dG9wOjVweDtib3R0b206NXB4O3JpZ2h0OjVweDsiLGEuc3R5bGUuYmFja2dyb3VuZENvbG9yPW8uZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKXx8IiNmZmYiO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImg0Iikscz1vLmdldCgibGFuZyIpfHxbXTtyLmlubmVySFRNTD1zWzBdfHxvLmdldCgidGl0bGUiKSxyLnN0eWxlLmNzc1RleHQ9Im1hcmdpbjogMTBweCAyMHB4OyIsci5zdHlsZS5jb2xvcj1vLmdldCgidGV4dENvbG9yIik7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO2wuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO292ZXJmbG93OmF1dG87Ijt2YXIgaD1vLmdldCgib3B0aW9uVG9Db250ZW50IiksYz1vLmdldCgiY29udGVudFRvT3B0aW9uIiksZD1ueCh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgaCl7dmFyIGY9aChlLmdldE9wdGlvbigpKTsic3RyaW5nIj09dHlwZW9mIGY/bC5pbm5lckhUTUw9ZjpNKGYpJiZsLmFwcGVuZENoaWxkKGYpfWVsc2UgbC5hcHBlbmRDaGlsZCh1KSx1LnJlYWRPbmx5PW8uZ2V0KCJyZWFkT25seSIpLHUuc3R5bGUuY3NzVGV4dD0id2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtmb250LWZhbWlseTptb25vc3BhY2U7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS42cmVtOyIsdS5zdHlsZS5jb2xvcj1vLmdldCgidGV4dENvbG9yIiksdS5zdHlsZS5ib3JkZXJDb2xvcj1vLmdldCgidGV4dGFyZWFCb3JkZXJDb2xvciIpLHUuc3R5bGUuYmFja2dyb3VuZENvbG9yPW8uZ2V0KCJ0ZXh0YXJlYUNvbG9yIiksdS52YWx1ZT1kLnZhbHVlO3ZhciBwPWQubWV0YSxnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7Ijt2YXIgbT0iZmxvYXQ6cmlnaHQ7bWFyZ2luLXJpZ2h0OjIwcHg7Ym9yZGVyOm5vbmU7Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzoycHggNXB4O2ZvbnQtc2l6ZToxMnB4O2JvcmRlci1yYWRpdXM6M3B4Iix2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bSs9IjtiYWNrZ3JvdW5kLWNvbG9yOiIrby5nZXQoImJ1dHRvbkNvbG9yIiksbSs9Ijtjb2xvcjoiK28uZ2V0KCJidXR0b25UZXh0Q29sb3IiKTt2YXIgeD10aGlzO3VpKHYsImNsaWNrIixpKSx1aSh5LCJjbGljayIsZnVuY3Rpb24oKXt2YXIgdDt0cnl7dD0iZnVuY3Rpb24iPT10eXBlb2YgYz9jKGwsZS5nZXRPcHRpb24oKSk6bHgodS52YWx1ZSxwKX1jYXRjaCh0KXt0aHJvdyBpKCksbmV3IEVycm9yKCJEYXRhIHZpZXcgZm9ybWF0IGVycm9yICIrdCl9dCYmZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiY2hhbmdlRGF0YVZpZXciLG5ld09wdGlvbjp0fSksaSgpfSksdi5pbm5lckhUTUw9c1sxXSx5LmlubmVySFRNTD1zWzJdLHkuc3R5bGUuY3NzVGV4dD1tLHYuc3R5bGUuY3NzVGV4dD1tLCFvLmdldCgicmVhZE9ubHkiKSYmZy5hcHBlbmRDaGlsZCh5KSxnLmFwcGVuZENoaWxkKHYpLHVpKHUsImtleWRvd24iLGZ1bmN0aW9uKHQpe2lmKDk9PT0odC5rZXlDb2RlfHx0LndoaWNoKSl7dmFyIGU9dGhpcy52YWx1ZSxpPXRoaXMuc2VsZWN0aW9uU3RhcnQsbj10aGlzLnNlbGVjdGlvbkVuZDt0aGlzLnZhbHVlPWUuc3Vic3RyaW5nKDAsaSkrRk4rZS5zdWJzdHJpbmcobiksdGhpcy5zZWxlY3Rpb25TdGFydD10aGlzLnNlbGVjdGlvbkVuZD1pKzEsUncodCl9fSksYS5hcHBlbmRDaGlsZChyKSxhLmFwcGVuZENoaWxkKGwpLGEuYXBwZW5kQ2hpbGQoZyksbC5zdHlsZS5oZWlnaHQ9bi5jbGllbnRIZWlnaHQtODArInB4IixuLmFwcGVuZENoaWxkKGEpLHRoaXMuX2RvbT1hfSx1eC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZG9tJiZlLmdldERvbSgpLnJlbW92ZUNoaWxkKHRoaXMuX2RvbSl9LHV4LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7dGhpcy5yZW1vdmUodCxlKX0senYoImRhdGFWaWV3Iix1eCksY3Moe3R5cGU6ImNoYW5nZURhdGFWaWV3IixldmVudDoiZGF0YVZpZXdDaGFuZ2VkIix1cGRhdGU6InByZXBhcmVBbmRVcGRhdGUifSxmdW5jdGlvbih0LGUpe3ZhciBpPVtdO2QodC5uZXdPcHRpb24uc2VyaWVzLGZ1bmN0aW9uKHQpe3ZhciBuPWUuZ2V0U2VyaWVzQnlOYW1lKHQubmFtZSlbMF07aWYobil7dmFyIG89bi5nZXQoImRhdGEiKTtpLnB1c2goe25hbWU6dC5uYW1lLGRhdGE6aHgodC5kYXRhLG8pfSl9ZWxzZSBpLnB1c2goYSh7dHlwZToic2NhdHRlciJ9LHQpKX0pLGUubWVyZ2VPcHRpb24ocih7c2VyaWVzOml9LHQubmV3T3B0aW9uKSl9KTt2YXIgWk49ZCxVTj0iXDBfZWNfaGlzdF9zdG9yZSI7a1AuZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbS5zZWxlY3QifSksUFAuZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbS5zZWxlY3QifSk7dmFyIFhOPXNJLnRvb2xib3guZGF0YVpvb20sak49ZCxZTj0iXDBfZWNfXDB0b29sYm94LWRhdGFab29tXyI7bXguZGVmYXVsdE9wdGlvbj17c2hvdzohMCxpY29uOnt6b29tOiJNMCwxMy41aDI2LjkgTTEzLjUsMjYuOVYwIE0zMi4xLDEzLjVINThWNThIMTMuNSBWMzIuMSIsYmFjazoiTTIyLDEuNEw5LjksMTMuNWwxMi4zLDEyLjMgTTEwLjMsMTMuNUg1NC45djQ0LjYgSDEwLjN2LTI2In0sdGl0bGU6aShYTi50aXRsZSl9O3ZhciBxTj1teC5wcm90b3R5cGU7cU4ucmVuZGVyPWZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMubW9kZWw9dCx0aGlzLmVjTW9kZWw9ZSx0aGlzLmFwaT1pLHh4KHQsZSx0aGlzLG4saSkseXgodCxlKX0scU4ub25jbGljaz1mdW5jdGlvbih0LGUsaSl7S05baV0uY2FsbCh0aGlzKX0scU4ucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fYnJ1c2hDb250cm9sbGVyLnVubW91bnQoKX0scU4uZGlzcG9zZT1mdW5jdGlvbih0LGUpe3RoaXMuX2JydXNoQ29udHJvbGxlci5kaXNwb3NlKCl9O3ZhciBLTj17em9vbTpmdW5jdGlvbigpe3ZhciB0PSF0aGlzLl9pc1pvb21BY3RpdmU7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRha2VHbG9iYWxDdXJzb3IiLGtleToiZGF0YVpvb21TZWxlY3QiLGRhdGFab29tU2VsZWN0QWN0aXZlOnR9KX0sYmFjazpmdW5jdGlvbigpe3RoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbihkeCh0aGlzLmVjTW9kZWwpKX19O3FOLl9vbkJydXNoPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSl7dmFyIHI9ZS5nZXRBeGlzKHQpLHM9ci5tb2RlbCxsPW4odCxzLGEpLHU9bC5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkocykuZ2V0TWluTWF4U3BhbigpO251bGw9PXUubWluVmFsdWVTcGFuJiZudWxsPT11Lm1heFZhbHVlU3Bhbnx8KGk9a0MoMCxpLnNsaWNlKCksci5zY2FsZS5nZXRFeHRlbnQoKSwwLHUubWluVmFsdWVTcGFuLHUubWF4VmFsdWVTcGFuKSksbCYmKG9bbC5pZF09e2RhdGFab29tSWQ6bC5pZCxzdGFydFZhbHVlOmlbMF0sZW5kVmFsdWU6aVsxXX0pfWZ1bmN0aW9uIG4odCxlLGkpe3ZhciBuO3JldHVybiBpLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJkYXRhWm9vbSIsc3ViVHlwZToic2VsZWN0In0sZnVuY3Rpb24oaSl7aS5nZXRBeGlzTW9kZWwodCxlLmNvbXBvbmVudEluZGV4KSYmKG49aSl9KSxufWlmKGUuaXNFbmQmJnQubGVuZ3RoKXt2YXIgbz17fSxhPXRoaXMuZWNNb2RlbDt0aGlzLl9icnVzaENvbnRyb2xsZXIudXBkYXRlQ292ZXJzKFtdKSxuZXcgd3YodngodGhpcy5tb2RlbC5vcHRpb24pLGEse2luY2x1ZGU6WyJncmlkIl19KS5tYXRjaE91dHB1dFJhbmdlcyh0LGEsZnVuY3Rpb24odCxlLG4pe2lmKCJjYXJ0ZXNpYW4yZCI9PT1uLnR5cGUpe3ZhciBvPXQuYnJ1c2hUeXBlOyJyZWN0Ij09PW8/KGkoIngiLG4sZVswXSksaSgieSIsbixlWzFdKSk6aSh7bGluZVg6IngiLGxpbmVZOiJ5In1bb10sbixlKX19KSxjeChhLG8pLHRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbihvKX19LHFOLl9kaXNwYXRjaFpvb21BY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9W107ak4odCxmdW5jdGlvbih0LG4pe2UucHVzaChpKHQpKX0pLGUubGVuZ3RoJiZ0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZGF0YVpvb20iLGZyb206dGhpcy51aWQsYmF0Y2g6ZX0pfSx6digiZGF0YVpvb20iLG14KSx1cyhmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7aWYoZSl7dmFyIG89dCsiSW5kZXgiLGE9ZVtvXTtudWxsPT1hfHwiYWxsIj09YXx8eShhKXx8KGE9ITE9PT1hfHwibm9uZSI9PT1hP1tdOlthXSksaSh0LGZ1bmN0aW9uKGUsaSl7aWYobnVsbD09YXx8ImFsbCI9PWF8fC0xIT09bChhLGkpKXt2YXIgcj17dHlwZToic2VsZWN0IiwkZnJvbVRvb2xib3g6ITAsaWQ6WU4rdCtpfTtyW29dPWksbi5wdXNoKHIpfX0pfX1mdW5jdGlvbiBpKGUsaSl7dmFyIG49dFtlXTt5KG4pfHwobj1uP1tuXTpbXSksak4obixpKX1pZih0KXt2YXIgbj10LmRhdGFab29tfHwodC5kYXRhWm9vbT1bXSk7eShuKXx8KHQuZGF0YVpvb209bj1bbl0pO3ZhciBvPXQudG9vbGJveDtpZihvJiYoeShvKSYmKG89b1swXSksbyYmby5mZWF0dXJlKSl7dmFyIGE9by5mZWF0dXJlLmRhdGFab29tO2UoInhBeGlzIixhKSxlKCJ5QXhpcyIsYSl9fX0pO3ZhciAkTj1zSS50b29sYm94LnJlc3RvcmU7X3guZGVmYXVsdE9wdGlvbj17c2hvdzohMCxpY29uOiJNMy44LDMzLjQgTTQ3LDE4LjloOS44VjguNyBNNTYuMywyMC4xIEM1Mi4xLDksNDAuNSwwLjYsMjYuOCwyLjFDMTIuNiwzLjcsMS42LDE2LjIsMi4xLDMwLjYgTTEzLDQxLjFIMy4xdjEwLjIgTTMuNywzOS45YzQuMiwxMS4xLDE1LjgsMTkuNSwyOS41LDE4IGMxNC4yLTEuNiwyNS4yLTE0LjEsMjQuNy0yOC41Iix0aXRsZTokTi50aXRsZX0sX3gucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlLGkpe2Z4KHQpLGUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InJlc3RvcmUiLGZyb206dGhpcy51aWR9KX0senYoInJlc3RvcmUiLF94KSxjcyh7dHlwZToicmVzdG9yZSIsZXZlbnQ6InJlc3RvcmUiLHVwZGF0ZToicHJlcGFyZUFuZFVwZGF0ZSJ9LGZ1bmN0aW9uKHQsZSl7ZS5yZXNldE9wdGlvbigicmVjcmVhdGUiKX0pO3ZhciBKTixRTj0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiLHRPPSJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93P251bGw6d2luZG93LGVPPSExLGlPPXRPJiZ0Ty5kb2N1bWVudDtpZihpTyYmIW9fLmNhbnZhc1N1cHBvcnRlZCl0cnl7IWlPLm5hbWVzcGFjZXMuenJ2bWwmJmlPLm5hbWVzcGFjZXMuYWRkKCJ6cnZtbCIsUU4pLEpOPWZ1bmN0aW9uKHQpe3JldHVybiBpTy5jcmVhdGVFbGVtZW50KCI8enJ2bWw6Iit0KycgY2xhc3M9Inpydm1sIj4nKX19Y2F0Y2godCl7Sk49ZnVuY3Rpb24odCl7cmV0dXJuIGlPLmNyZWF0ZUVsZW1lbnQoIjwiK3QrJyB4bWxucz0iJytRTisnIiBjbGFzcz0ienJ2bWwiPicpfX12YXIgbk89RmIuQ01ELG9PPU1hdGgucm91bmQsYU89TWF0aC5zcXJ0LHJPPU1hdGguYWJzLHNPPU1hdGguY29zLGxPPU1hdGguc2luLHVPPU1hdGgubWF4O2lmKCFvXy5jYW52YXNTdXBwb3J0ZWQpe3ZhciBoTz0yMTYwMCxjTz1oTy8yLGRPPWZ1bmN0aW9uKHQpe3Quc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjFweDtoZWlnaHQ6MXB4OyIsdC5jb29yZHNpemU9aE8rIiwiK2hPLHQuY29vcmRvcmlnaW49IjAsMCJ9LGZPPWZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZSgvJi9nLCImYW1wOyIpLnJlcGxhY2UoLyIvZywiJnF1b3Q7Iil9LHBPPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4icmdiKCIrW3QsZSxpXS5qb2luKCIsIikrIikifSxnTz1mdW5jdGlvbih0LGUpe2UmJnQmJmUucGFyZW50Tm9kZSE9PXQmJnQuYXBwZW5kQ2hpbGQoZSl9LG1PPWZ1bmN0aW9uKHQsZSl7ZSYmdCYmZS5wYXJlbnROb2RlPT09dCYmdC5yZW1vdmVDaGlsZChlKX0sdk89ZnVuY3Rpb24odCxlLGkpe3JldHVybiAxZTUqKHBhcnNlRmxvYXQodCl8fDApKzFlMyoocGFyc2VGbG9hdChlKXx8MCkraX0seU89ZnVuY3Rpb24odCxlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dC5sYXN0SW5kZXhPZigiJSIpPj0wP3BhcnNlRmxvYXQodCkvMTAwKmU6cGFyc2VGbG9hdCh0KTp0fSx4Tz1mdW5jdGlvbih0LGUsaSl7dmFyIG49QXQoZSk7aT0raSxpc05hTihpKSYmKGk9MSksbiYmKHQuY29sb3I9cE8oblswXSxuWzFdLG5bMl0pLHQub3BhY2l0eT1pKm5bM10pfSxfTz1mdW5jdGlvbih0KXt2YXIgZT1BdCh0KTtyZXR1cm5bcE8oZVswXSxlWzFdLGVbMl0pLGVbM11dfSx3Tz1mdW5jdGlvbih0LGUsaSl7dmFyIG49ZS5maWxsO2lmKG51bGwhPW4paWYobiBpbnN0YW5jZW9mIEFTKXt2YXIgbyxhPTAscj1bMCwwXSxzPTAsbD0xLHU9aS5nZXRCb3VuZGluZ1JlY3QoKSxoPXUud2lkdGgsYz11LmhlaWdodDtpZigibGluZWFyIj09PW4udHlwZSl7bz0iZ3JhZGllbnQiO3ZhciBkPWkudHJhbnNmb3JtLGY9W24ueCpoLG4ueSpjXSxwPVtuLngyKmgsbi55MipjXTtkJiYoUShmLGYsZCksUShwLHAsZCkpO3ZhciBnPXBbMF0tZlswXSxtPXBbMV0tZlsxXTsoYT0xODAqTWF0aC5hdGFuMihnLG0pL01hdGguUEkpPDAmJihhKz0zNjApLGE8MWUtNiYmKGE9MCl9ZWxzZXtvPSJncmFkaWVudHJhZGlhbCI7dmFyIGY9W24ueCpoLG4ueSpjXSxkPWkudHJhbnNmb3JtLHY9aS5zY2FsZSx5PWgseD1jO3I9WyhmWzBdLXUueCkveSwoZlsxXS11LnkpL3hdLGQmJlEoZixmLGQpLHkvPXZbMF0qaE8seC89dlsxXSpoTzt2YXIgXz11Tyh5LHgpO3M9MC9fLGw9MipuLnIvXy1zfXZhciB3PW4uY29sb3JTdG9wcy5zbGljZSgpO3cuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0Lm9mZnNldC1lLm9mZnNldH0pO2Zvcih2YXIgYj13Lmxlbmd0aCxTPVtdLE09W10sST0wO0k8YjtJKyspe3ZhciBUPXdbSV0sRD1fTyhULmNvbG9yKTtNLnB1c2goVC5vZmZzZXQqbCtzKyIgIitEWzBdKSwwIT09SSYmSSE9PWItMXx8Uy5wdXNoKEQpfWlmKGI+PTIpe3ZhciBBPVNbMF1bMF0sQz1TWzFdWzBdLEw9U1swXVsxXSplLm9wYWNpdHksaz1TWzFdWzFdKmUub3BhY2l0eTt0LnR5cGU9byx0Lm1ldGhvZD0ibm9uZSIsdC5mb2N1cz0iMTAwJSIsdC5hbmdsZT1hLHQuY29sb3I9QSx0LmNvbG9yMj1DLHQuY29sb3JzPU0uam9pbigiLCIpLHQub3BhY2l0eT1rLHQub3BhY2l0eTI9TH0icmFkaWFsIj09PW8mJih0LmZvY3VzcG9zaXRpb249ci5qb2luKCIsIikpfWVsc2UgeE8odCxuLGUub3BhY2l0eSl9LGJPPWZ1bmN0aW9uKHQsZSl7bnVsbCE9ZS5saW5lRGFzaCYmKHQuZGFzaHN0eWxlPWUubGluZURhc2guam9pbigiICIpKSxudWxsPT1lLnN0cm9rZXx8ZS5zdHJva2UgaW5zdGFuY2VvZiBBU3x8eE8odCxlLnN0cm9rZSxlLm9wYWNpdHkpfSxTTz1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz0iZmlsbCI9PWUsYT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpWzBdO251bGwhPWlbZV0mJiJub25lIiE9PWlbZV0mJihvfHwhbyYmaS5saW5lV2lkdGgpPyh0W28/ImZpbGxlZCI6InN0cm9rZWQiXT0idHJ1ZSIsaVtlXWluc3RhbmNlb2YgQVMmJm1PKHQsYSksYXx8KGE9YngoZSkpLG8/d08oYSxpLG4pOmJPKGEsaSksZ08odCxhKSk6KHRbbz8iZmlsbGVkIjoic3Ryb2tlZCJdPSJmYWxzZSIsbU8odCxhKSl9LE1PPVtbXSxbXSxbXV0sSU89ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8sYSxyLHMsbD1uTy5NLHU9bk8uQyxoPW5PLkwsYz1uTy5BLGQ9bk8uUSxmPVtdLHA9dC5kYXRhLGc9dC5sZW4oKTtmb3IoYT0wO2E8Zzspe3N3aXRjaChvPXBbYSsrXSxuPSIiLGk9MCxvKXtjYXNlIGw6bj0iIG0gIixpPTEscj1wW2ErK10scz1wW2ErK10sTU9bMF1bMF09cixNT1swXVsxXT1zO2JyZWFrO2Nhc2UgaDpuPSIgbCAiLGk9MSxyPXBbYSsrXSxzPXBbYSsrXSxNT1swXVswXT1yLE1PWzBdWzFdPXM7YnJlYWs7Y2FzZSBkOmNhc2UgdTpuPSIgYyAiLGk9Mzt2YXIgbSx2LHk9cFthKytdLHg9cFthKytdLF89cFthKytdLHc9cFthKytdO289PT1kPyhtPV8sdj13LF89KF8rMip5KS8zLHc9KHcrMip4KS8zLHk9KHIrMip5KS8zLHg9KHMrMip4KS8zKToobT1wW2ErK10sdj1wW2ErK10pLE1PWzBdWzBdPXksTU9bMF1bMV09eCxNT1sxXVswXT1fLE1PWzFdWzFdPXcsTU9bMl1bMF09bSxNT1syXVsxXT12LHI9bSxzPXY7YnJlYWs7Y2FzZSBjOnZhciBiPTAsUz0wLE09MSxJPTEsVD0wO2UmJihiPWVbNF0sUz1lWzVdLE09YU8oZVswXSplWzBdK2VbMV0qZVsxXSksST1hTyhlWzJdKmVbMl0rZVszXSplWzNdKSxUPU1hdGguYXRhbjIoLWVbMV0vSSxlWzBdL00pKTt2YXIgRD1wW2ErK10sQT1wW2ErK10sQz1wW2ErK10sTD1wW2ErK10saz1wW2ErK10rVCxQPXBbYSsrXStrK1Q7YSsrO3ZhciBOPXBbYSsrXSxPPUQrc08oaykqQyxFPUErbE8oaykqTCx5PUQrc08oUCkqQyx4PUErbE8oUCkqTCxSPU4/IiB3YSAiOiIgYXQgIjtNYXRoLmFicyhPLXkpPDFlLTQmJihNYXRoLmFicyhQLWspPi4wMT9OJiYoTys9LjAxMjUpOk1hdGguYWJzKEUtQSk8MWUtND9OJiZPPER8fCFOJiZPPkQ/eC09LjAxMjU6eCs9LjAxMjU6TiYmRTxBfHwhTiYmRT5BP3krPS4wMTI1OnktPS4wMTI1KSxmLnB1c2goUixvTygoKEQtQykqTStiKSpoTy1jTyksIiwiLG9PKCgoQS1MKSpJK1MpKmhPLWNPKSwiLCIsb08oKChEK0MpKk0rYikqaE8tY08pLCIsIixvTygoKEErTCkqSStTKSpoTy1jTyksIiwiLG9PKChPKk0rYikqaE8tY08pLCIsIixvTygoRSpJK1MpKmhPLWNPKSwiLCIsb08oKHkqTStiKSpoTy1jTyksIiwiLG9PKCh4KkkrUykqaE8tY08pKSxyPXkscz14O2JyZWFrO2Nhc2Ugbk8uUjp2YXIgej1NT1swXSxCPU1PWzFdO3pbMF09cFthKytdLHpbMV09cFthKytdLEJbMF09elswXStwW2ErK10sQlsxXT16WzFdK3BbYSsrXSxlJiYoUSh6LHosZSksUShCLEIsZSkpLHpbMF09b08oelswXSpoTy1jTyksQlswXT1vTyhCWzBdKmhPLWNPKSx6WzFdPW9PKHpbMV0qaE8tY08pLEJbMV09b08oQlsxXSpoTy1jTyksZi5wdXNoKCIgbSAiLHpbMF0sIiwiLHpbMV0sIiBsICIsQlswXSwiLCIselsxXSwiIGwgIixCWzBdLCIsIixCWzFdLCIgbCAiLHpbMF0sIiwiLEJbMV0pO2JyZWFrO2Nhc2Ugbk8uWjpmLnB1c2goIiB4ICIpfWlmKGk+MCl7Zi5wdXNoKG4pO2Zvcih2YXIgVj0wO1Y8aTtWKyspe3ZhciBHPU1PW1ZdO2UmJlEoRyxHLGUpLGYucHVzaChvTyhHWzBdKmhPLWNPKSwiLCIsb08oR1sxXSpoTy1jTyksVjxpLTE/IiwiOiIiKX19fXJldHVybiBmLmpvaW4oIiIpfTtJbi5wcm90b3R5cGUuYnJ1c2hWTUw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdHlsZSxpPXRoaXMuX3ZtbEVsO2l8fChpPWJ4KCJzaGFwZSIpLGRPKGkpLHRoaXMuX3ZtbEVsPWkpLFNPKGksImZpbGwiLGUsdGhpcyksU08oaSwic3Ryb2tlIixlLHRoaXMpO3ZhciBuPXRoaXMudHJhbnNmb3JtLG89bnVsbCE9bixhPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN0cm9rZSIpWzBdO2lmKGEpe3ZhciByPWUubGluZVdpZHRoO2lmKG8mJiFlLnN0cm9rZU5vU2NhbGUpe3ZhciBzPW5bMF0qblszXS1uWzFdKm5bMl07cio9YU8ock8ocykpfWEud2VpZ2h0PXIrInB4In12YXIgbD10aGlzLnBhdGh8fCh0aGlzLnBhdGg9bmV3IEZiKTt0aGlzLl9fZGlydHlQYXRoJiYobC5iZWdpblBhdGgoKSx0aGlzLmJ1aWxkUGF0aChsLHRoaXMuc2hhcGUpLGwudG9TdGF0aWMoKSx0aGlzLl9fZGlydHlQYXRoPSExKSxpLnBhdGg9SU8obCx0aGlzLnRyYW5zZm9ybSksaS5zdHlsZS56SW5kZXg9dk8odGhpcy56bGV2ZWwsdGhpcy56LHRoaXMuejIpLGdPKHQsaSksbnVsbCE9ZS50ZXh0P3RoaXMuZHJhd1JlY3RUZXh0KHQsdGhpcy5nZXRCb3VuZGluZ1JlY3QoKSk6dGhpcy5yZW1vdmVSZWN0VGV4dCh0KX0sSW4ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKHQpe21PKHQsdGhpcy5fdm1sRWwpLHRoaXMucmVtb3ZlUmVjdFRleHQodCl9LEluLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXtnTyh0LHRoaXMuX3ZtbEVsKSx0aGlzLmFwcGVuZFJlY3RUZXh0KHQpfTt2YXIgVE89ZnVuY3Rpb24odCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0JiZ0LnRhZ05hbWUmJiJJTUciPT09dC50YWdOYW1lLnRvVXBwZXJDYXNlKCl9O0plLnByb3RvdHlwZS5icnVzaFZNTD1mdW5jdGlvbih0KXt2YXIgZSxpLG49dGhpcy5zdHlsZSxvPW4uaW1hZ2U7aWYoVE8obykpe3ZhciBhPW8uc3JjO2lmKGE9PT10aGlzLl9pbWFnZVNyYyllPXRoaXMuX2ltYWdlV2lkdGgsaT10aGlzLl9pbWFnZUhlaWdodDtlbHNle3ZhciByPW8ucnVudGltZVN0eWxlLHM9ci53aWR0aCxsPXIuaGVpZ2h0O3Iud2lkdGg9ImF1dG8iLHIuaGVpZ2h0PSJhdXRvIixlPW8ud2lkdGgsaT1vLmhlaWdodCxyLndpZHRoPXMsci5oZWlnaHQ9bCx0aGlzLl9pbWFnZVNyYz1hLHRoaXMuX2ltYWdlV2lkdGg9ZSx0aGlzLl9pbWFnZUhlaWdodD1pfW89YX1lbHNlIG89PT10aGlzLl9pbWFnZVNyYyYmKGU9dGhpcy5faW1hZ2VXaWR0aCxpPXRoaXMuX2ltYWdlSGVpZ2h0KTtpZihvKXt2YXIgdT1uLnh8fDAsaD1uLnl8fDAsYz1uLndpZHRoLGQ9bi5oZWlnaHQsZj1uLnNXaWR0aCxwPW4uc0hlaWdodCxnPW4uc3h8fDAsbT1uLnN5fHwwLHY9ZiYmcCx5PXRoaXMuX3ZtbEVsO3l8fCh5PWlPLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGRPKHkpLHRoaXMuX3ZtbEVsPXkpO3ZhciB4LF89eS5zdHlsZSx3PSExLGI9MSxTPTE7aWYodGhpcy50cmFuc2Zvcm0mJih4PXRoaXMudHJhbnNmb3JtLGI9YU8oeFswXSp4WzBdK3hbMV0qeFsxXSksUz1hTyh4WzJdKnhbMl0reFszXSp4WzNdKSx3PXhbMV18fHhbMl0pLHcpe3ZhciBNPVt1LGhdLEk9W3UrYyxoXSxUPVt1LGgrZF0sRD1bdStjLGgrZF07UShNLE0seCksUShJLEkseCksUShULFQseCksUShELEQseCk7dmFyIEE9dU8oTVswXSxJWzBdLFRbMF0sRFswXSksQz11TyhNWzFdLElbMV0sVFsxXSxEWzFdKSxMPVtdO0wucHVzaCgiTTExPSIseFswXS9iLCIsIiwiTTEyPSIseFsyXS9TLCIsIiwiTTIxPSIseFsxXS9iLCIsIiwiTTIyPSIseFszXS9TLCIsIiwiRHg9IixvTyh1KmIreFs0XSksIiwiLCJEeT0iLG9PKGgqUyt4WzVdKSksXy5wYWRkaW5nPSIwICIrb08oQSkrInB4ICIrb08oQykrInB4IDAiLF8uZmlsdGVyPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KCIrTC5qb2luKCIiKSsiLCBTaXppbmdNZXRob2Q9Y2xpcCkifWVsc2UgeCYmKHU9dSpiK3hbNF0saD1oKlMreFs1XSksXy5maWx0ZXI9IiIsXy5sZWZ0PW9PKHUpKyJweCIsXy50b3A9b08oaCkrInB4Ijt2YXIgaz10aGlzLl9pbWFnZUVsLFA9dGhpcy5fY3JvcEVsO2t8fChrPWlPLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuX2ltYWdlRWw9ayk7dmFyIE49ay5zdHlsZTtpZih2KXtpZihlJiZpKU4ud2lkdGg9b08oYiplKmMvZikrInB4IixOLmhlaWdodD1vTyhTKmkqZC9wKSsicHgiO2Vsc2V7dmFyIE89bmV3IEltYWdlLEU9dGhpcztPLm9ubG9hZD1mdW5jdGlvbigpe08ub25sb2FkPW51bGwsZT1PLndpZHRoLGk9Ty5oZWlnaHQsTi53aWR0aD1vTyhiKmUqYy9mKSsicHgiLE4uaGVpZ2h0PW9PKFMqaSpkL3ApKyJweCIsRS5faW1hZ2VXaWR0aD1lLEUuX2ltYWdlSGVpZ2h0PWksRS5faW1hZ2VTcmM9b30sTy5zcmM9b31QfHwoKFA9aU8uY3JlYXRlRWxlbWVudCgiZGl2IikpLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLHRoaXMuX2Nyb3BFbD1QKTt2YXIgUj1QLnN0eWxlO1Iud2lkdGg9b08oKGMrZypjL2YpKmIpLFIuaGVpZ2h0PW9PKChkK20qZC9wKSpTKSxSLmZpbHRlcj0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChEeD0iKy1nKmMvZipiKyIsRHk9IistbSpkL3AqUysiKSIsUC5wYXJlbnROb2RlfHx5LmFwcGVuZENoaWxkKFApLGsucGFyZW50Tm9kZSE9UCYmUC5hcHBlbmRDaGlsZChrKX1lbHNlIE4ud2lkdGg9b08oYipjKSsicHgiLE4uaGVpZ2h0PW9PKFMqZCkrInB4Iix5LmFwcGVuZENoaWxkKGspLFAmJlAucGFyZW50Tm9kZSYmKHkucmVtb3ZlQ2hpbGQoUCksdGhpcy5fY3JvcEVsPW51bGwpO3ZhciB6PSIiLEI9bi5vcGFjaXR5O0I8MSYmKHorPSIuQWxwaGEob3BhY2l0eT0iK29PKDEwMCpCKSsiKSAiKSx6Kz0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhSW1hZ2VMb2FkZXIoc3JjPSIrbysiLCBTaXppbmdNZXRob2Q9c2NhbGUpIixOLmZpbHRlcj16LHkuc3R5bGUuekluZGV4PXZPKHRoaXMuemxldmVsLHRoaXMueix0aGlzLnoyKSxnTyh0LHkpLG51bGwhPW4udGV4dCYmdGhpcy5kcmF3UmVjdFRleHQodCx0aGlzLmdldEJvdW5kaW5nUmVjdCgpKX19LEplLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXttTyh0LHRoaXMuX3ZtbEVsKSx0aGlzLl92bWxFbD1udWxsLHRoaXMuX2Nyb3BFbD1udWxsLHRoaXMuX2ltYWdlRWw9bnVsbCx0aGlzLnJlbW92ZVJlY3RUZXh0KHQpfSxKZS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7Z08odCx0aGlzLl92bWxFbCksdGhpcy5hcHBlbmRSZWN0VGV4dCh0KX07dmFyIERPLEFPPXt9LENPPTAsTE89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksa089ZnVuY3Rpb24odCl7dmFyIGU9QU9bdF07aWYoIWUpe0NPPjEwMCYmKENPPTAsQU89e30pO3ZhciBpLG49TE8uc3R5bGU7dHJ5e24uZm9udD10LGk9bi5mb250RmFtaWx5LnNwbGl0KCIsIilbMF19Y2F0Y2godCl7fWU9e3N0eWxlOm4uZm9udFN0eWxlfHwibm9ybWFsIix2YXJpYW50Om4uZm9udFZhcmlhbnR8fCJub3JtYWwiLHdlaWdodDpuLmZvbnRXZWlnaHR8fCJub3JtYWwiLHNpemU6MHxwYXJzZUZsb2F0KG4uZm9udFNpemV8fDEyKSxmYW1pbHk6aXx8Ik1pY3Jvc29mdCBZYUhlaSJ9LEFPW3RdPWUsQ08rK31yZXR1cm4gZX07IWZ1bmN0aW9uKHQsZSl7VHdbdF09ZX0oIm1lYXN1cmVUZXh0IixmdW5jdGlvbih0LGUpe3ZhciBpPWlPO0RPfHwoKERPPWkuY3JlYXRlRWxlbWVudCgiZGl2IikpLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMjAwMDBweDtsZWZ0OjA7cGFkZGluZzowO21hcmdpbjowO2JvcmRlcjpub25lO3doaXRlLXNwYWNlOnByZTsiLGlPLmJvZHkuYXBwZW5kQ2hpbGQoRE8pKTt0cnl7RE8uc3R5bGUuZm9udD1lfWNhdGNoKHQpe31yZXR1cm4gRE8uaW5uZXJIVE1MPSIiLERPLmFwcGVuZENoaWxkKGkuY3JlYXRlVGV4dE5vZGUodCkpLHt3aWR0aDpETy5vZmZzZXRXaWR0aH19KTtmb3IodmFyIFBPPW5ldyAkdCxOTz1bTHcsJGUsSmUsSW4sZFNdLE9PPTA7T088Tk8ubGVuZ3RoO09PKyspe3ZhciBFTz1OT1tPT10ucHJvdG90eXBlO0VPLmRyYXdSZWN0VGV4dD1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLnN0eWxlO3RoaXMuX19kaXJ0eSYmTmUobyk7dmFyIGE9by50ZXh0O2lmKG51bGwhPWEmJihhKz0iIiksYSl7aWYoby5yaWNoKXt2YXIgcj1DZShhLG8pO2E9W107Zm9yKHZhciBzPTA7czxyLmxpbmVzLmxlbmd0aDtzKyspe2Zvcih2YXIgbD1yLmxpbmVzW3NdLnRva2Vucyx1PVtdLGg9MDtoPGwubGVuZ3RoO2grKyl1LnB1c2gobFtoXS50ZXh0KTthLnB1c2godS5qb2luKCIiKSl9YT1hLmpvaW4oIlxuIil9dmFyIGMsZCxmPW8udGV4dEFsaWduLHA9by50ZXh0VmVydGljYWxBbGlnbixnPWtPKG8uZm9udCksbT1nLnN0eWxlKyIgIitnLnZhcmlhbnQrIiAiK2cud2VpZ2h0KyIgIitnLnNpemUrJ3B4ICInK2cuZmFtaWx5KyciJztpPWl8fG1lKGEsbSxmLHApO3ZhciB2PXRoaXMudHJhbnNmb3JtO2lmKHYmJiFuJiYoUE8uY29weShlKSxQTy5hcHBseVRyYW5zZm9ybSh2KSxlPVBPKSxuKWM9ZS54LGQ9ZS55O2Vsc2V7dmFyIHk9by50ZXh0UG9zaXRpb24seD1vLnRleHREaXN0YW5jZTtpZih5IGluc3RhbmNlb2YgQXJyYXkpYz1lLngreU8oeVswXSxlLndpZHRoKSxkPWUueSt5Tyh5WzFdLGUuaGVpZ2h0KSxmPWZ8fCJsZWZ0IjtlbHNle3ZhciBfPXdlKHksZSx4KTtjPV8ueCxkPV8ueSxmPWZ8fF8udGV4dEFsaWduLHA9cHx8Xy50ZXh0VmVydGljYWxBbGlnbn19Yz14ZShjLGkud2lkdGgsZiksZD1fZShkLGkuaGVpZ2h0LHApLGQrPWkuaGVpZ2h0LzI7dmFyIHcsYixTLE09YngsST10aGlzLl90ZXh0Vm1sRWw7ST9iPSh3PShTPUkuZmlyc3RDaGlsZCkubmV4dFNpYmxpbmcpLm5leHRTaWJsaW5nOihJPU0oImxpbmUiKSx3PU0oInBhdGgiKSxiPU0oInRleHRwYXRoIiksUz1NKCJza2V3IiksYi5zdHlsZVsidi10ZXh0LWFsaWduIl09ImxlZnQiLGRPKEkpLHcudGV4dHBhdGhvaz0hMCxiLm9uPSEwLEkuZnJvbT0iMCAwIixJLnRvPSIxMDAwIDAuMDUiLGdPKEksUyksZ08oSSx3KSxnTyhJLGIpLHRoaXMuX3RleHRWbWxFbD1JKTt2YXIgVD1bYyxkXSxEPUkuc3R5bGU7diYmbj8oUShULFQsdiksUy5vbj0hMCxTLm1hdHJpeD12WzBdLnRvRml4ZWQoMykrIiwiK3ZbMl0udG9GaXhlZCgzKSsiLCIrdlsxXS50b0ZpeGVkKDMpKyIsIit2WzNdLnRvRml4ZWQoMykrIiwwLDAiLFMub2Zmc2V0PShvTyhUWzBdKXx8MCkrIiwiKyhvTyhUWzFdKXx8MCksUy5vcmlnaW49IjAgMCIsRC5sZWZ0PSIwcHgiLEQudG9wPSIwcHgiKTooUy5vbj0hMSxELmxlZnQ9b08oYykrInB4IixELnRvcD1vTyhkKSsicHgiKSxiLnN0cmluZz1mTyhhKTt0cnl7Yi5zdHlsZS5mb250PW19Y2F0Y2godCl7fVNPKEksImZpbGwiLHtmaWxsOm8udGV4dEZpbGwsb3BhY2l0eTpvLm9wYWNpdHl9LHRoaXMpLFNPKEksInN0cm9rZSIse3N0cm9rZTpvLnRleHRTdHJva2Usb3BhY2l0eTpvLm9wYWNpdHksbGluZURhc2g6by5saW5lRGFzaH0sdGhpcyksSS5zdHlsZS56SW5kZXg9dk8odGhpcy56bGV2ZWwsdGhpcy56LHRoaXMuejIpLGdPKHQsSSl9fSxFTy5yZW1vdmVSZWN0VGV4dD1mdW5jdGlvbih0KXttTyh0LHRoaXMuX3RleHRWbWxFbCksdGhpcy5fdGV4dFZtbEVsPW51bGx9LEVPLmFwcGVuZFJlY3RUZXh0PWZ1bmN0aW9uKHQpe2dPKHQsdGhpcy5fdGV4dFZtbEVsKX19ZFMucHJvdG90eXBlLmJydXNoVk1MPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3R5bGU7bnVsbCE9ZS50ZXh0P3RoaXMuZHJhd1JlY3RUZXh0KHQse3g6ZS54fHwwLHk6ZS55fHwwLHdpZHRoOjAsaGVpZ2h0OjB9LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksITApOnRoaXMucmVtb3ZlUmVjdFRleHQodCl9LGRTLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLnJlbW92ZVJlY3RUZXh0KHQpfSxkUy5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5hcHBlbmRSZWN0VGV4dCh0KX19SXgucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpJeCxnZXRUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuInZtbCJ9LGdldFZpZXdwb3J0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92bWxWaWV3cG9ydH0sZ2V0Vmlld3BvcnRSb290T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3cG9ydFJvb3QoKTtpZih0KXJldHVybntvZmZzZXRMZWZ0OnQub2Zmc2V0TGVmdHx8MCxvZmZzZXRUb3A6dC5vZmZzZXRUb3B8fDB9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwLCEwKTt0aGlzLl9wYWludExpc3QodCl9LF9wYWludExpc3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX3ZtbFJvb3QsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uaW52aXNpYmxlfHxuLmlnbm9yZT8obi5fX2FscmVhZHlOb3RWaXNpYmxlfHxuLm9uUmVtb3ZlKGUpLG4uX19hbHJlYWR5Tm90VmlzaWJsZT0hMCk6KG4uX19hbHJlYWR5Tm90VmlzaWJsZSYmbi5vbkFkZChlKSxuLl9fYWxyZWFkeU5vdFZpc2libGU9ITEsbi5fX2RpcnR5JiYobi5iZWZvcmVCcnVzaCYmbi5iZWZvcmVCcnVzaCgpLChuLmJydXNoVk1MfHxuLmJydXNoKS5jYWxsKG4sZSksbi5hZnRlckJydXNoJiZuLmFmdGVyQnJ1c2goKSkpLG4uX19kaXJ0eT0hMX10aGlzLl9maXJzdFBhaW50JiYodGhpcy5fdm1sVmlld3BvcnQuYXBwZW5kQ2hpbGQoZSksdGhpcy5fZmlyc3RQYWludD0hMSl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3ZhciB0PW51bGw9PXQ/dGhpcy5fZ2V0V2lkdGgoKTp0LGU9bnVsbD09ZT90aGlzLl9nZXRIZWlnaHQoKTplO2lmKHRoaXMuX3dpZHRoIT10fHx0aGlzLl9oZWlnaHQhPWUpe3RoaXMuX3dpZHRoPXQsdGhpcy5faGVpZ2h0PWU7dmFyIGk9dGhpcy5fdm1sVmlld3BvcnQuc3R5bGU7aS53aWR0aD10KyJweCIsaS5oZWlnaHQ9ZSsicHgifX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMucm9vdC5pbm5lckhUTUw9IiIsdGhpcy5fdm1sUm9vdD10aGlzLl92bWxWaWV3cG9ydD10aGlzLnN0b3JhZ2U9bnVsbH0sZ2V0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LGdldEhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fdm1sVmlld3BvcnQmJnRoaXMucm9vdC5yZW1vdmVDaGlsZCh0aGlzLl92bWxWaWV3cG9ydCl9LF9nZXRXaWR0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucm9vdCxlPXQuY3VycmVudFN0eWxlO3JldHVybih0LmNsaWVudFdpZHRofHxNeChlLndpZHRoKSktTXgoZS5wYWRkaW5nTGVmdCktTXgoZS5wYWRkaW5nUmlnaHQpfDB9LF9nZXRIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJvb3QsZT10LmN1cnJlbnRTdHlsZTtyZXR1cm4odC5jbGllbnRIZWlnaHR8fE14KGUuaGVpZ2h0KSktTXgoZS5wYWRkaW5nVG9wKS1NeChlLnBhZGRpbmdCb3R0b20pfDB9fSxkKFsiZ2V0TGF5ZXIiLCJpbnNlcnRMYXllciIsImVhY2hMYXllciIsImVhY2hCdWlsdGluTGF5ZXIiLCJlYWNoT3RoZXJMYXllciIsImdldExheWVycyIsIm1vZExheWVyIiwiZGVsTGF5ZXIiLCJjbGVhckxheWVyIiwidG9EYXRhVVJMIiwicGF0aFRvSW1hZ2UiXSxmdW5jdGlvbih0KXtJeC5wcm90b3R5cGVbdF09VHgodCl9KSx3aSgidm1sIixJeCk7dmFyIFJPPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsek89RmIuQ01ELEJPPUFycmF5LnByb3RvdHlwZS5qb2luLFZPPSJub25lIixHTz1NYXRoLnJvdW5kLFdPPU1hdGguc2luLEZPPU1hdGguY29zLEhPPU1hdGguUEksWk89MipNYXRoLlBJLFVPPTE4MC9ITyxYTz0xZS00LGpPPXt9O2pPLmJydXNoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3R5bGUsaT10Ll9fc3ZnRWw7aXx8KGk9RHgoInBhdGgiKSx0Ll9fc3ZnRWw9aSksdC5wYXRofHx0LmNyZWF0ZVBhdGhQcm94eSgpO3ZhciBuPXQucGF0aDtpZih0Ll9fZGlydHlQYXRoKXtuLmJlZ2luUGF0aCgpLHQuYnVpbGRQYXRoKG4sdC5zaGFwZSksdC5fX2RpcnR5UGF0aD0hMTt2YXIgbz1SeChuKTtvLmluZGV4T2YoIk5hTiIpPDAmJk54KGksImQiLG8pfUV4KGksZSksUHgoaSx0LnRyYW5zZm9ybSksbnVsbCE9ZS50ZXh0JiYkTyh0LHQuZ2V0Qm91bmRpbmdSZWN0KCkpfTt2YXIgWU89e307WU8uYnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZSxpPWUuaW1hZ2U7aWYoaSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQmJihpPWkuc3JjKSxpKXt2YXIgbj1lLnh8fDAsbz1lLnl8fDAsYT1lLndpZHRoLHI9ZS5oZWlnaHQscz10Ll9fc3ZnRWw7c3x8KHM9RHgoImltYWdlIiksdC5fX3N2Z0VsPXMpLGkhPT10Ll9faW1hZ2VTcmMmJihPeChzLCJocmVmIixpKSx0Ll9faW1hZ2VTcmM9aSksTngocywid2lkdGgiLGEpLE54KHMsImhlaWdodCIsciksTngocywieCIsbiksTngocywieSIsbyksUHgocyx0LnRyYW5zZm9ybSksbnVsbCE9ZS50ZXh0JiYkTyh0LHQuZ2V0Qm91bmRpbmdSZWN0KCkpfX07dmFyIHFPPXt9LEtPPW5ldyAkdCwkTz1mdW5jdGlvbih0LGUsaSl7dmFyIG49dC5zdHlsZTt0Ll9fZGlydHkmJk5lKG4pO3ZhciBvPW4udGV4dDtpZihudWxsIT1vKXtvKz0iIjt2YXIgYT10Ll9fdGV4dFN2Z0VsO2F8fChhPUR4KCJ0ZXh0IiksdC5fX3RleHRTdmdFbD1hKTt2YXIgcixzLGw9bi50ZXh0UG9zaXRpb24sdT1uLnRleHREaXN0YW5jZSxoPW4udGV4dEFsaWdufHwibGVmdCI7Im51bWJlciI9PXR5cGVvZiBuLmZvbnRTaXplJiYobi5mb250U2l6ZSs9InB4Iik7dmFyIGM9bi5mb250fHxbbi5mb250U3R5bGV8fCIiLG4uZm9udFdlaWdodHx8IiIsbi5mb250U2l6ZXx8IiIsbi5mb250RmFtaWx5fHwiIl0uam9pbigiICIpfHxJdyxkPXp4KG4udGV4dFZlcnRpY2FsQWxpZ24pLGY9KGk9bWUobyxjLGgsZCkpLmxpbmVIZWlnaHQ7aWYobCBpbnN0YW5jZW9mIEFycmF5KXI9ZS54K2xbMF0scz1lLnkrbFsxXTtlbHNle3ZhciBwPXdlKGwsZSx1KTtyPXAueCxzPXAueSxkPXp4KHAudGV4dFZlcnRpY2FsQWxpZ24pLGg9cC50ZXh0QWxpZ259TngoYSwiYWxpZ25tZW50LWJhc2VsaW5lIixkKSxjJiYoYS5zdHlsZS5mb250PWMpO3ZhciBnPW4udGV4dFBhZGRpbmc7aWYoTngoYSwieCIsciksTngoYSwieSIscyksRXgoYSxuLCEwKSx0IGluc3RhbmNlb2YgZFN8fHQuc3R5bGUudHJhbnNmb3JtVGV4dClQeChhLHQudHJhbnNmb3JtKTtlbHNle2lmKHQudHJhbnNmb3JtKUtPLmNvcHkoZSksS08uYXBwbHlUcmFuc2Zvcm0odC50cmFuc2Zvcm0pLGU9S087ZWxzZXt2YXIgbT10LnRyYW5zZm9ybUNvb3JkVG9HbG9iYWwoZS54LGUueSk7ZS54PW1bMF0sZS55PW1bMV19dmFyIHY9bi50ZXh0T3JpZ2luOyJjZW50ZXIiPT09dj8ocj1pLndpZHRoLzIrcixzPWkuaGVpZ2h0LzIrcyk6diYmKHI9dlswXStyLHM9dlsxXStzKTt2YXIgeT0tbi50ZXh0Um90YXRpb258fDAseD1zdCgpO2R0KHgsdC50cmFuc2Zvcm0seSksUHgoYSx4KX12YXIgXz1vLnNwbGl0KCJcbiIpLHc9Xy5sZW5ndGgsYj1oOyJsZWZ0Ij09PWI/KGI9InN0YXJ0IixnJiYocis9Z1szXSkpOiJyaWdodCI9PT1iPyhiPSJlbmQiLGcmJihyLT1nWzFdKSk6ImNlbnRlciI9PT1iJiYoYj0ibWlkZGxlIixnJiYocis9KGdbM10tZ1sxXSkvMikpO3ZhciBTPTA7aWYoImJhc2VsaW5lIj09PWQ/KFM9LWkuaGVpZ2h0K2YsZyYmKFMtPWdbMl0pKToibWlkZGxlIj09PWQ/KFM9KC1pLmhlaWdodCtmKS8yLGcmJihzKz0oZ1swXS1nWzJdKS8yKSk6ZyYmKFMrPWdbMF0pLHQuX190ZXh0IT09b3x8dC5fX3RleHRGb250IT09Yyl7dmFyIE09dC5fX3RzcGFuTGlzdHx8W107dC5fX3RzcGFuTGlzdD1NO2ZvcihUPTA7VDx3O1QrKykoRD1NW1RdKT9ELmlubmVySFRNTD0iIjooRD1NW1RdPUR4KCJ0c3BhbiIpLGEuYXBwZW5kQ2hpbGQoRCksTngoRCwiYWxpZ25tZW50LWJhc2VsaW5lIixkKSxOeChELCJ0ZXh0LWFuY2hvciIsYikpLE54KEQsIngiLHIpLE54KEQsInkiLHMrVCpmK1MpLEQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoX1tUXSkpO2Zvcig7VDxNLmxlbmd0aDtUKyspYS5yZW1vdmVDaGlsZChNW1RdKTtNLmxlbmd0aD13LHQuX190ZXh0PW8sdC5fX3RleHRGb250PWN9ZWxzZSBpZih0Ll9fdHNwYW5MaXN0Lmxlbmd0aClmb3IodmFyIEk9dC5fX3RzcGFuTGlzdC5sZW5ndGgsVD0wO1Q8STsrK1Qpe3ZhciBEPXQuX190c3Bhbkxpc3RbVF07RCYmKE54KEQsIngiLHIpLE54KEQsInkiLHMrVCpmK1MpKX19fTtxTy5kcmF3UmVjdFRleHQ9JE8scU8uYnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZTtudWxsIT1lLnRleHQmJihlLnRleHRQb3NpdGlvbj1bMCwwXSwkTyh0LHt4OmUueHx8MCx5OmUueXx8MCx3aWR0aDowLGhlaWdodDowfSx0LmdldEJvdW5kaW5nUmVjdCgpKSl9LEJ4LnByb3RvdHlwZT17ZGlmZjpmdW5jdGlvbih0LGUsaSl7aXx8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV9KSx0aGlzLmVxdWFscz1pO3ZhciBuPXRoaXM7dD10LnNsaWNlKCk7dmFyIG89KGU9ZS5zbGljZSgpKS5sZW5ndGgsYT10Lmxlbmd0aCxyPTEscz1vK2EsbD1be25ld1BvczotMSxjb21wb25lbnRzOltdfV0sdT10aGlzLmV4dHJhY3RDb21tb24obFswXSxlLHQsMCk7aWYobFswXS5uZXdQb3MrMT49byYmdSsxPj1hKXtmb3IodmFyIGg9W10sYz0wO2M8ZS5sZW5ndGg7YysrKWgucHVzaChjKTtyZXR1cm5be2luZGljZXM6aCxjb3VudDplLmxlbmd0aH1dfWZvcig7cjw9czspe3ZhciBkPWZ1bmN0aW9uKCl7Zm9yKHZhciBpPS0xKnI7aTw9cjtpKz0yKXt2YXIgcyx1PWxbaS0xXSxoPWxbaSsxXSxjPShoP2gubmV3UG9zOjApLWk7dSYmKGxbaS0xXT12b2lkIDApO3ZhciBkPXUmJnUubmV3UG9zKzE8byxmPWgmJjA8PWMmJmM8YTtpZihkfHxmKXtpZighZHx8ZiYmdS5uZXdQb3M8aC5uZXdQb3M/KHM9R3goaCksbi5wdXNoQ29tcG9uZW50KHMuY29tcG9uZW50cyx2b2lkIDAsITApKTooKHM9dSkubmV3UG9zKyssbi5wdXNoQ29tcG9uZW50KHMuY29tcG9uZW50cywhMCx2b2lkIDApKSxjPW4uZXh0cmFjdENvbW1vbihzLGUsdCxpKSxzLm5ld1BvcysxPj1vJiZjKzE+PWEpcmV0dXJuIFZ4KDAscy5jb21wb25lbnRzKTtsW2ldPXN9ZWxzZSBsW2ldPXZvaWQgMH1yKyt9KCk7aWYoZClyZXR1cm4gZH19LHB1c2hDb21wb25lbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRbdC5sZW5ndGgtMV07biYmbi5hZGRlZD09PWUmJm4ucmVtb3ZlZD09PWk/dFt0Lmxlbmd0aC0xXT17Y291bnQ6bi5jb3VudCsxLGFkZGVkOmUscmVtb3ZlZDppfTp0LnB1c2goe2NvdW50OjEsYWRkZWQ6ZSxyZW1vdmVkOml9KX0sZXh0cmFjdENvbW1vbjpmdW5jdGlvbih0LGUsaSxuKXtmb3IodmFyIG89ZS5sZW5ndGgsYT1pLmxlbmd0aCxyPXQubmV3UG9zLHM9ci1uLGw9MDtyKzE8byYmcysxPGEmJnRoaXMuZXF1YWxzKGVbcisxXSxpW3MrMV0pOylyKysscysrLGwrKztyZXR1cm4gbCYmdC5jb21wb25lbnRzLnB1c2goe2NvdW50Omx9KSx0Lm5ld1Bvcz1yLHN9LHRva2VuaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKCl9LGpvaW46ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2xpY2UoKX19O3ZhciBKTz1uZXcgQngsUU89ZnVuY3Rpb24odCxlLGkpe3JldHVybiBKTy5kaWZmKHQsZSxpKX07V3gucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9RHgsV3gucHJvdG90eXBlLmdldERlZnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3ZnUm9vdCxpPXRoaXMuX3N2Z1Jvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRlZnMiKTtyZXR1cm4gMD09PWkubGVuZ3RoP3Q/KChpPWUuaW5zZXJ0QmVmb3JlKHRoaXMuY3JlYXRlRWxlbWVudCgiZGVmcyIpLGUuZmlyc3RDaGlsZCkpLmNvbnRhaW5zfHwoaS5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT1pLmNoaWxkcmVuO2lmKCFlKXJldHVybiExO2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7LS1uKWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSksaSk6bnVsbDppWzBdfSxXeC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYodCl7dmFyIGk9dGhpcy5nZXREZWZzKCExKTtpZih0W3RoaXMuX2RvbU5hbWVdJiZpLmNvbnRhaW5zKHRbdGhpcy5fZG9tTmFtZV0pKSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlKHQpO2Vsc2V7dmFyIG49dGhpcy5hZGQodCk7biYmKHRbdGhpcy5fZG9tTmFtZV09bil9fX0sV3gucHJvdG90eXBlLmFkZERvbT1mdW5jdGlvbih0KXt0aGlzLmdldERlZnMoITApLmFwcGVuZENoaWxkKHQpfSxXeC5wcm90b3R5cGUucmVtb3ZlRG9tPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGVmcyghMSk7ZSYmdFt0aGlzLl9kb21OYW1lXSYmKGUucmVtb3ZlQ2hpbGQodFt0aGlzLl9kb21OYW1lXSksdFt0aGlzLl9kb21OYW1lXT1udWxsKX0sV3gucHJvdG90eXBlLmdldERvbXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERlZnMoITEpO2lmKCF0KXJldHVybltdO3ZhciBlPVtdO3JldHVybiBkKHRoaXMuX3RhZ05hbWVzLGZ1bmN0aW9uKGkpe3ZhciBuPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoaSk7ZT1lLmNvbmNhdChbXS5zbGljZS5jYWxsKG4pKX0pLGV9LFd4LnByb3RvdHlwZS5tYXJrQWxsVW51c2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztkKHRoaXMuZ2V0RG9tcygpLGZ1bmN0aW9uKGUpe2VbdC5fbWFya0xhYmVsXT0iMCJ9KX0sV3gucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKHQpe3QmJih0W3RoaXMuX21hcmtMYWJlbF09IjEiKX0sV3gucHJvdG90eXBlLnJlbW92ZVVudXNlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RGVmcyghMSk7aWYodCl7dmFyIGU9dGhpcztkKHRoaXMuZ2V0RG9tcygpLGZ1bmN0aW9uKGkpeyIxIiE9PWlbZS5fbWFya0xhYmVsXSYmdC5yZW1vdmVDaGlsZChpKX0pfX0sV3gucHJvdG90eXBlLmdldFN2Z1Byb3h5PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgSW4/ak86dCBpbnN0YW5jZW9mIEplP1lPOnQgaW5zdGFuY2VvZiBkUz9xTzpqT30sV3gucHJvdG90eXBlLmdldFRleHRTdmdFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fdGV4dFN2Z0VsfSxXeC5wcm90b3R5cGUuZ2V0U3ZnRWxlbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdC5fX3N2Z0VsfSx1KEZ4LFd4KSxGeC5wcm90b3R5cGUuYWRkV2l0aG91dFVwZGF0ZT1mdW5jdGlvbih0LGUpe2lmKGUmJmUuc3R5bGUpe3ZhciBpPXRoaXM7ZChbImZpbGwiLCJzdHJva2UiXSxmdW5jdGlvbihuKXtpZihlLnN0eWxlW25dJiYoImxpbmVhciI9PT1lLnN0eWxlW25dLnR5cGV8fCJyYWRpYWwiPT09ZS5zdHlsZVtuXS50eXBlKSl7dmFyIG8sYT1lLnN0eWxlW25dLHI9aS5nZXREZWZzKCEwKTthLl9kb20/KG89YS5fZG9tLHIuY29udGFpbnMoYS5fZG9tKXx8aS5hZGREb20obykpOm89aS5hZGQoYSksaS5tYXJrVXNlZChlKTt2YXIgcz1vLmdldEF0dHJpYnV0ZSgiaWQiKTt0LnNldEF0dHJpYnV0ZShuLCJ1cmwoIyIrcysiKSIpfX0pfX0sRngucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZTtpZigibGluZWFyIj09PXQudHlwZSllPXRoaXMuY3JlYXRlRWxlbWVudCgibGluZWFyR3JhZGllbnQiKTtlbHNle2lmKCJyYWRpYWwiIT09dC50eXBlKXJldHVybiB0dygiSWxsZWdhbCBncmFkaWVudCB0eXBlLiIpLG51bGw7ZT10aGlzLmNyZWF0ZUVsZW1lbnQoInJhZGlhbEdyYWRpZW50Iil9cmV0dXJuIHQuaWQ9dC5pZHx8dGhpcy5uZXh0SWQrKyxlLnNldEF0dHJpYnV0ZSgiaWQiLCJ6ciIrdGhpcy5fenJJZCsiLWdyYWRpZW50LSIrdC5pZCksdGhpcy51cGRhdGVEb20odCxlKSx0aGlzLmFkZERvbShlKSxlfSxGeC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7V3gucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsdCxmdW5jdGlvbigpe3ZhciBpPXQudHlwZSxuPXQuX2RvbS50YWdOYW1lOyJsaW5lYXIiPT09aSYmImxpbmVhckdyYWRpZW50Ij09PW58fCJyYWRpYWwiPT09aSYmInJhZGlhbEdyYWRpZW50Ij09PW4/ZS51cGRhdGVEb20odCx0Ll9kb20pOihlLnJlbW92ZURvbSh0KSxlLmFkZCh0KSl9KX0sRngucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUpe2lmKCJsaW5lYXIiPT09dC50eXBlKWUuc2V0QXR0cmlidXRlKCJ4MSIsdC54KSxlLnNldEF0dHJpYnV0ZSgieTEiLHQueSksZS5zZXRBdHRyaWJ1dGUoIngyIix0LngyKSxlLnNldEF0dHJpYnV0ZSgieTIiLHQueTIpO2Vsc2V7aWYoInJhZGlhbCIhPT10LnR5cGUpcmV0dXJuIHZvaWQgdHcoIklsbGVnYWwgZ3JhZGllbnQgdHlwZS4iKTtlLnNldEF0dHJpYnV0ZSgiY3giLHQueCksZS5zZXRBdHRyaWJ1dGUoImN5Iix0LnkpLGUuc2V0QXR0cmlidXRlKCJyIix0LnIpfXQuZ2xvYmFsP2Uuc2V0QXR0cmlidXRlKCJncmFkaWVudFVuaXRzIiwidXNlclNwYWNlT25Vc2UiKTplLnNldEF0dHJpYnV0ZSgiZ3JhZGllbnRVbml0cyIsIm9iamVjdEJvdW5kaW5nQm94IiksZS5pbm5lckhUTUw9IiI7Zm9yKHZhciBpPXQuY29sb3JTdG9wcyxuPTAsbz1pLmxlbmd0aDtuPG87KytuKXt2YXIgYT10aGlzLmNyZWF0ZUVsZW1lbnQoInN0b3AiKTthLnNldEF0dHJpYnV0ZSgib2Zmc2V0IiwxMDAqaVtuXS5vZmZzZXQrIiUiKSxhLnNldEF0dHJpYnV0ZSgic3RvcC1jb2xvciIsaVtuXS5jb2xvciksZS5hcHBlbmRDaGlsZChhKX10Ll9kb209ZX0sRngucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKHQpe2lmKHQuc3R5bGUpe3ZhciBlPXQuc3R5bGUuZmlsbDtlJiZlLl9kb20mJld4LnByb3RvdHlwZS5tYXJrVXNlZC5jYWxsKHRoaXMsZS5fZG9tKSwoZT10LnN0eWxlLnN0cm9rZSkmJmUuX2RvbSYmV3gucHJvdG90eXBlLm1hcmtVc2VkLmNhbGwodGhpcyxlLl9kb20pfX0sdShIeCxXeCksSHgucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFN2Z0VsZW1lbnQodCk7ZSYmdGhpcy51cGRhdGVEb20oZSx0Ll9fY2xpcFBhdGhzLCExKTt2YXIgaT10aGlzLmdldFRleHRTdmdFbGVtZW50KHQpO2kmJnRoaXMudXBkYXRlRG9tKGksdC5fX2NsaXBQYXRocywhMCksdGhpcy5tYXJrVXNlZCh0KX0sSHgucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUsaSl7aWYoZSYmZS5sZW5ndGg+MCl7dmFyIG4sbyxhPXRoaXMuZ2V0RGVmcyghMCkscj1lWzBdLHM9aT8iX3RleHREb20iOiJfZG9tIjtyW3NdPyhvPXJbc10uZ2V0QXR0cmlidXRlKCJpZCIpLG49cltzXSxhLmNvbnRhaW5zKG4pfHxhLmFwcGVuZENoaWxkKG4pKToobz0ienIiK3RoaXMuX3pySWQrIi1jbGlwLSIrdGhpcy5uZXh0SWQsKyt0aGlzLm5leHRJZCwobj10aGlzLmNyZWF0ZUVsZW1lbnQoImNsaXBQYXRoIikpLnNldEF0dHJpYnV0ZSgiaWQiLG8pLGEuYXBwZW5kQ2hpbGQobikscltzXT1uKTt2YXIgbD10aGlzLmdldFN2Z1Byb3h5KHIpO2lmKHIudHJhbnNmb3JtJiZyLnBhcmVudC5pbnZUcmFuc2Zvcm0mJiFpKXt2YXIgdT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyLnRyYW5zZm9ybSk7aHQoci50cmFuc2Zvcm0sci5wYXJlbnQuaW52VHJhbnNmb3JtLHIudHJhbnNmb3JtKSxsLmJydXNoKHIpLHIudHJhbnNmb3JtPXV9ZWxzZSBsLmJydXNoKHIpO3ZhciBoPXRoaXMuZ2V0U3ZnRWxlbWVudChyKTtuLmlubmVySFRNTD0iIixuLmFwcGVuZENoaWxkKGguY2xvbmVOb2RlKCkpLHQuc2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiLCJ1cmwoIyIrbysiKSIpLGUubGVuZ3RoPjEmJnRoaXMudXBkYXRlRG9tKG4sZS5zbGljZSgxKSxpKX1lbHNlIHQmJnQuc2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiLCJub25lIil9LEh4LnByb3RvdHlwZS5tYXJrVXNlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3QuX19jbGlwUGF0aHMmJnQuX19jbGlwUGF0aHMubGVuZ3RoPjAmJmQodC5fX2NsaXBQYXRocyxmdW5jdGlvbih0KXt0Ll9kb20mJld4LnByb3RvdHlwZS5tYXJrVXNlZC5jYWxsKGUsdC5fZG9tKSx0Ll90ZXh0RG9tJiZXeC5wcm90b3R5cGUubWFya1VzZWQuY2FsbChlLHQuX3RleHREb20pfSl9LHUoWngsV3gpLFp4LnByb3RvdHlwZS5hZGRXaXRob3V0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYoZSYmVXgoZS5zdHlsZSkpe3ZhciBpLG49ZS5zdHlsZTtuLl9zaGFkb3dEb20/KGk9bi5fc2hhZG93RG9tLHRoaXMuZ2V0RGVmcyghMCkuY29udGFpbnMobi5fc2hhZG93RG9tKXx8dGhpcy5hZGREb20oaSkpOmk9dGhpcy5hZGQoZSksdGhpcy5tYXJrVXNlZChlKTt2YXIgbz1pLmdldEF0dHJpYnV0ZSgiaWQiKTt0LnN0eWxlLmZpbHRlcj0idXJsKCMiK28rIikifX0sWngucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNyZWF0ZUVsZW1lbnQoImZpbHRlciIpLGk9dC5zdHlsZTtyZXR1cm4gaS5fc2hhZG93RG9tSWQ9aS5fc2hhZG93RG9tSWR8fHRoaXMubmV4dElkKyssZS5zZXRBdHRyaWJ1dGUoImlkIiwienIiK3RoaXMuX3pySWQrIi1zaGFkb3ctIitpLl9zaGFkb3dEb21JZCksdGhpcy51cGRhdGVEb20odCxlKSx0aGlzLmFkZERvbShlKSxlfSxaeC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5zdHlsZTtpZihVeChpKSl7dmFyIG49dGhpcztXeC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyxlLGZ1bmN0aW9uKHQpe24udXBkYXRlRG9tKGUsdC5fc2hhZG93RG9tKX0pfWVsc2UgdGhpcy5yZW1vdmUodCxpKX0sWngucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe251bGwhPWUuX3NoYWRvd0RvbUlkJiYodGhpcy5yZW1vdmVEb20oZSksdC5zdHlsZS5maWx0ZXI9IiIpfSxaeC5wcm90b3R5cGUudXBkYXRlRG9tPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZmVEcm9wU2hhZG93Iik7aT0wPT09aS5sZW5ndGg/dGhpcy5jcmVhdGVFbGVtZW50KCJmZURyb3BTaGFkb3ciKTppWzBdO3ZhciBuLG8sYSxyLHM9dC5zdHlsZSxsPXQuc2NhbGU/dC5zY2FsZVswXXx8MToxLHU9dC5zY2FsZT90LnNjYWxlWzFdfHwxOjE7aWYocy5zaGFkb3dCbHVyfHxzLnNoYWRvd09mZnNldFh8fHMuc2hhZG93T2Zmc2V0WSluPXMuc2hhZG93T2Zmc2V0WHx8MCxvPXMuc2hhZG93T2Zmc2V0WXx8MCxhPXMuc2hhZG93Qmx1cixyPXMuc2hhZG93Q29sb3I7ZWxzZXtpZighcy50ZXh0U2hhZG93Qmx1cilyZXR1cm4gdm9pZCB0aGlzLnJlbW92ZURvbShlLHMpO249cy50ZXh0U2hhZG93T2Zmc2V0WHx8MCxvPXMudGV4dFNoYWRvd09mZnNldFl8fDAsYT1zLnRleHRTaGFkb3dCbHVyLHI9cy50ZXh0U2hhZG93Q29sb3J9aS5zZXRBdHRyaWJ1dGUoImR4IixuL2wpLGkuc2V0QXR0cmlidXRlKCJkeSIsby91KSxpLnNldEF0dHJpYnV0ZSgiZmxvb2QtY29sb3IiLHIpO3ZhciBoPWEvMi9sKyIgIithLzIvdTtpLnNldEF0dHJpYnV0ZSgic3RkRGV2aWF0aW9uIixoKSxlLnNldEF0dHJpYnV0ZSgieCIsIi0xMDAlIiksZS5zZXRBdHRyaWJ1dGUoInkiLCItMTAwJSIpLGUuc2V0QXR0cmlidXRlKCJ3aWR0aCIsTWF0aC5jZWlsKGEvMioyMDApKyIlIiksZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsTWF0aC5jZWlsKGEvMioyMDApKyIlIiksZS5hcHBlbmRDaGlsZChpKSxzLl9zaGFkb3dEb209ZX0sWngucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3R5bGU7ZSYmZS5fc2hhZG93RG9tJiZXeC5wcm90b3R5cGUubWFya1VzZWQuY2FsbCh0aGlzLGUuX3NoYWRvd0RvbSl9O3ZhciB0RT1mdW5jdGlvbih0LGUsaSxuKXt0aGlzLnJvb3Q9dCx0aGlzLnN0b3JhZ2U9ZSx0aGlzLl9vcHRzPWk9YSh7fSxpfHx7fSk7dmFyIG89RHgoInN2ZyIpO28uc2V0QXR0cmlidXRlKCJ4bWxucyIsImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiksby5zZXRBdHRyaWJ1dGUoInZlcnNpb24iLCIxLjEiKSxvLnNldEF0dHJpYnV0ZSgiYmFzZVByb2ZpbGUiLCJmdWxsIiksby5zdHlsZS5jc3NUZXh0PSJ1c2VyLXNlbGVjdDpub25lO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDsiLHRoaXMuZ3JhZGllbnRNYW5hZ2VyPW5ldyBGeChuLG8pLHRoaXMuY2xpcFBhdGhNYW5hZ2VyPW5ldyBIeChuLG8pLHRoaXMuc2hhZG93TWFuYWdlcj1uZXcgWngobixvKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyLnN0eWxlLmNzc1RleHQ9Im92ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZSIsdGhpcy5fc3ZnUm9vdD1vLHRoaXMuX3ZpZXdwb3J0PXIsdC5hcHBlbmRDaGlsZChyKSxyLmFwcGVuZENoaWxkKG8pLHRoaXMucmVzaXplKGkud2lkdGgsaS5oZWlnaHQpLHRoaXMuX3Zpc2libGVMaXN0PVtdfTt0RS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnRFLGdldFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4ic3ZnIn0sZ2V0Vmlld3BvcnRSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0fSxnZXRWaWV3cG9ydFJvb3RPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdwb3J0Um9vdCgpO2lmKHQpcmV0dXJue29mZnNldExlZnQ6dC5vZmZzZXRMZWZ0fHwwLG9mZnNldFRvcDp0Lm9mZnNldFRvcHx8MH19LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoITApO3RoaXMuX3BhaW50TGlzdCh0KX0sc2V0QmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uKHQpe3RoaXMuX3ZpZXdwb3J0LnN0eWxlLmJhY2tncm91bmQ9dH0sX3BhaW50TGlzdDpmdW5jdGlvbih0KXt0aGlzLmdyYWRpZW50TWFuYWdlci5tYXJrQWxsVW51c2VkKCksdGhpcy5jbGlwUGF0aE1hbmFnZXIubWFya0FsbFVudXNlZCgpLHRoaXMuc2hhZG93TWFuYWdlci5tYXJrQWxsVW51c2VkKCk7dmFyIGUsaT10aGlzLl9zdmdSb290LG49dGhpcy5fdmlzaWJsZUxpc3Qsbz10Lmxlbmd0aCxhPVtdO2ZvcihlPTA7ZTxvO2UrKyl7dmFyIHI9angoZj10W2VdKSxzPVF4KGYpfHxKeChmKTtmLmludmlzaWJsZXx8KGYuX19kaXJ0eSYmKHImJnIuYnJ1c2goZiksdGhpcy5jbGlwUGF0aE1hbmFnZXIudXBkYXRlKGYpLGYuc3R5bGUmJih0aGlzLmdyYWRpZW50TWFuYWdlci51cGRhdGUoZi5zdHlsZS5maWxsKSx0aGlzLmdyYWRpZW50TWFuYWdlci51cGRhdGUoZi5zdHlsZS5zdHJva2UpLHRoaXMuc2hhZG93TWFuYWdlci51cGRhdGUocyxmKSksZi5fX2RpcnR5PSExKSxhLnB1c2goZikpfXZhciBsLHU9UU8obixhKTtmb3IoZT0wO2U8dS5sZW5ndGg7ZSsrKWlmKChjPXVbZV0pLnJlbW92ZWQpZm9yKGQ9MDtkPGMuY291bnQ7ZCsrKXt2YXIgcz1ReChmPW5bYy5pbmRpY2VzW2RdXSksaD1KeChmKTskeChpLHMpLCR4KGksaCl9Zm9yKGU9MDtlPHUubGVuZ3RoO2UrKyl7dmFyIGM9dVtlXTtpZihjLmFkZGVkKWZvcihkPTA7ZDxjLmNvdW50O2QrKyl7dmFyIHM9UXgoZj1hW2MuaW5kaWNlc1tkXV0pLGg9SngoZik7bD9xeChpLHMsbCk6S3goaSxzKSxzP3F4KGksaCxzKTpsP3F4KGksaCxsKTpLeChpLGgpLHF4KGksaCxzKSxsPWh8fHN8fGwsdGhpcy5ncmFkaWVudE1hbmFnZXIuYWRkV2l0aG91dFVwZGF0ZShzLGYpLHRoaXMuc2hhZG93TWFuYWdlci5hZGRXaXRob3V0VXBkYXRlKGwsZiksdGhpcy5jbGlwUGF0aE1hbmFnZXIubWFya1VzZWQoZil9ZWxzZSBpZighYy5yZW1vdmVkKWZvcih2YXIgZD0wO2Q8Yy5jb3VudDtkKyspe3ZhciBmPWFbYy5pbmRpY2VzW2RdXTtsPXM9SngoZil8fFF4KGYpfHxsLHRoaXMuZ3JhZGllbnRNYW5hZ2VyLm1hcmtVc2VkKGYpLHRoaXMuZ3JhZGllbnRNYW5hZ2VyLmFkZFdpdGhvdXRVcGRhdGUocyxmKSx0aGlzLnNoYWRvd01hbmFnZXIubWFya1VzZWQoZiksdGhpcy5zaGFkb3dNYW5hZ2VyLmFkZFdpdGhvdXRVcGRhdGUocyxmKSx0aGlzLmNsaXBQYXRoTWFuYWdlci5tYXJrVXNlZChmKX19dGhpcy5ncmFkaWVudE1hbmFnZXIucmVtb3ZlVW51c2VkKCksdGhpcy5jbGlwUGF0aE1hbmFnZXIucmVtb3ZlVW51c2VkKCksdGhpcy5zaGFkb3dNYW5hZ2VyLnJlbW92ZVVudXNlZCgpLHRoaXMuX3Zpc2libGVMaXN0PWF9LF9nZXREZWZzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N2Z1Jvb3QsaT10aGlzLl9zdmdSb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZWZzIik7cmV0dXJuIDA9PT1pLmxlbmd0aD90PygoaT1lLmluc2VydEJlZm9yZShEeCgiZGVmcyIpLGUuZmlyc3RDaGlsZCkpLmNvbnRhaW5zfHwoaS5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT1pLmNoaWxkcmVuO2lmKCFlKXJldHVybiExO2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7LS1uKWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSksaSk6bnVsbDppWzBdfSxyZXNpemU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl92aWV3cG9ydDtpLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3ZhciBuPXRoaXMuX29wdHM7aWYobnVsbCE9dCYmKG4ud2lkdGg9dCksbnVsbCE9ZSYmKG4uaGVpZ2h0PWUpLHQ9dGhpcy5fZ2V0U2l6ZSgwKSxlPXRoaXMuX2dldFNpemUoMSksaS5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuX3dpZHRoIT09dHx8dGhpcy5faGVpZ2h0IT09ZSl7dGhpcy5fd2lkdGg9dCx0aGlzLl9oZWlnaHQ9ZTt2YXIgbz1pLnN0eWxlO28ud2lkdGg9dCsicHgiLG8uaGVpZ2h0PWUrInB4Ijt2YXIgYT10aGlzLl9zdmdSb290O2Euc2V0QXR0cmlidXRlKCJ3aWR0aCIsdCksYS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZSl9fSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH0sX2dldFNpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3B0cyxpPVsid2lkdGgiLCJoZWlnaHQiXVt0XSxuPVsiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiXVt0XSxvPVsicGFkZGluZ0xlZnQiLCJwYWRkaW5nVG9wIl1bdF0sYT1bInBhZGRpbmdSaWdodCIsInBhZGRpbmdCb3R0b20iXVt0XTtpZihudWxsIT1lW2ldJiYiYXV0byIhPT1lW2ldKXJldHVybiBwYXJzZUZsb2F0KGVbaV0pO3ZhciByPXRoaXMucm9vdCxzPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUocik7cmV0dXJuKHJbbl18fFh4KHNbaV0pfHxYeChyLnN0eWxlW2ldKSktKFh4KHNbb10pfHwwKS0oWHgoc1thXSl8fDApfDB9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLnJvb3QuaW5uZXJIVE1MPSIiLHRoaXMuX3N2Z1Jvb3Q9dGhpcy5fdmlld3BvcnQ9dGhpcy5zdG9yYWdlPW51bGx9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fdmlld3BvcnQmJnRoaXMucm9vdC5yZW1vdmVDaGlsZCh0aGlzLl92aWV3cG9ydCl9LHBhdGhUb0RhdGFVcmw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWZyZXNoKCksImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PVVURi04LCIrdGhpcy5fc3ZnUm9vdC5vdXRlckhUTUx9fSxkKFsiZ2V0TGF5ZXIiLCJpbnNlcnRMYXllciIsImVhY2hMYXllciIsImVhY2hCdWlsdGluTGF5ZXIiLCJlYWNoT3RoZXJMYXllciIsImdldExheWVycyIsIm1vZExheWVyIiwiZGVsTGF5ZXIiLCJjbGVhckxheWVyIiwidG9EYXRhVVJMIiwicGF0aFRvSW1hZ2UiXSxmdW5jdGlvbih0KXt0RS5wcm90b3R5cGVbdF09dF8odCl9KSx3aSgic3ZnIix0RSksdC52ZXJzaW9uPSI0LjEuMCIsdC5kZXBlbmRlbmNpZXM9SUksdC5QUklPUklUWT1DSSx0LmluaXQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXNzKHQpO2lmKG4pcmV0dXJuIG47dmFyIG89bmV3IEdyKHQsZSxpKTtyZXR1cm4gby5pZD0iZWNfIitYSSsrLFpJW28uaWRdPW8sUmkodCxZSSxvLmlkKSxhcyhvKSxvfSx0LmNvbm5lY3Q9ZnVuY3Rpb24odCl7aWYoeSh0KSl7dmFyIGU9dDt0PW51bGwsd0koZSxmdW5jdGlvbihlKXtudWxsIT1lLmdyb3VwJiYodD1lLmdyb3VwKX0pLHQ9dHx8ImdfIitqSSsrLHdJKGUsZnVuY3Rpb24oZSl7ZS5ncm91cD10fSl9cmV0dXJuIFVJW3RdPSEwLHR9LHQuZGlzQ29ubmVjdD1ycyx0LmRpc2Nvbm5lY3Q9S0ksdC5kaXNwb3NlPWZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdD90PVpJW3RdOnQgaW5zdGFuY2VvZiBHcnx8KHQ9c3ModCkpLHQgaW5zdGFuY2VvZiBHciYmIXQuaXNEaXNwb3NlZCgpJiZ0LmRpc3Bvc2UoKX0sdC5nZXRJbnN0YW5jZUJ5RG9tPXNzLHQuZ2V0SW5zdGFuY2VCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiBaSVt0XX0sdC5yZWdpc3RlclRoZW1lPWxzLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3I9dXMsdC5yZWdpc3RlclByb2Nlc3Nvcj1ocyx0LnJlZ2lzdGVyUG9zdFVwZGF0ZT1mdW5jdGlvbih0KXtHSS5wdXNoKHQpfSx0LnJlZ2lzdGVyQWN0aW9uPWNzLHQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtPWRzLHQuZ2V0Q29vcmRpbmF0ZVN5c3RlbURpbWVuc2lvbnM9ZnVuY3Rpb24odCl7dmFyIGU9Q2EuZ2V0KHQpO2lmKGUpcmV0dXJuIGUuZ2V0RGltZW5zaW9uc0luZm8/ZS5nZXREaW1lbnNpb25zSW5mbygpOmUuZGltZW5zaW9ucy5zbGljZSgpfSx0LnJlZ2lzdGVyTGF5b3V0PWZzLHQucmVnaXN0ZXJWaXN1YWw9cHMsdC5yZWdpc3RlckxvYWRpbmc9bXMsdC5leHRlbmRDb21wb25lbnRNb2RlbD12cyx0LmV4dGVuZENvbXBvbmVudFZpZXc9eXMsdC5leHRlbmRTZXJpZXNNb2RlbD14cyx0LmV4dGVuZENoYXJ0Vmlldz1fcyx0LnNldENhbnZhc0NyZWF0b3I9ZnVuY3Rpb24odCl7ZSgiY3JlYXRlQ2FudmFzIix0KX0sdC5yZWdpc3Rlck1hcD1mdW5jdGlvbih0LGUsaSl7ZS5nZW9Kc29uJiYhZS5mZWF0dXJlcyYmKGk9ZS5zcGVjaWFsQXJlYXMsZT1lLmdlb0pzb24pLCJzdHJpbmciPT10eXBlb2YgZSYmKGU9InVuZGVmaW5lZCIhPXR5cGVvZiBKU09OJiZKU09OLnBhcnNlP0pTT04ucGFyc2UoZSk6bmV3IEZ1bmN0aW9uKCJyZXR1cm4gKCIrZSsiKTsiKSgpKSxxSVt0XT17Z2VvSnNvbjplLHNwZWNpYWxBcmVhczppfX0sdC5nZXRNYXA9d3MsdC5kYXRhVG9vbD0kSSx0LnpyZW5kZXI9S3csdC5ncmFwaGljPXpTLHQubnVtYmVyPVlTLHQuZm9ybWF0PWlNLHQudGhyb3R0bGU9X3IsdC5oZWxwZXI9SFQsdC5tYXRyaXg9a18sdC52ZWN0b3I9TV8sdC5jb2xvcj1ZXyx0LnBhcnNlR2VvSlNPTj1VVCx0LnBhcnNlR2VvSnNvbj1xVCx0LnV0aWw9S1QsdC5MaXN0PXJULHQuTW9kZWw9d28sdC5BeGlzPVlULHQuZW52PW9ffSk7Cg=="},{"meta":{"name":"qrcode.min.js","url":"https://cdn.staticfile.org/qrcode-generator/1.4.3/qrcode.min.js","ts":1584071792136,"mimetype":"text/javascript"},"source":"dmFyIHFyY29kZT1mdW5jdGlvbigpe3ZhciBpPWZ1bmN0aW9uKHIsdCl7dmFyIHU9cixhPXlbdF0sYz1udWxsLGg9MCxuPW51bGwsZj1bXSxzPXt9LGc9ZnVuY3Rpb24ocix0KXtjPWZ1bmN0aW9uKHIpe2Zvcih2YXIgdD1uZXcgQXJyYXkociksZT0wO2U8cjtlKz0xKXt0W2VdPW5ldyBBcnJheShyKTtmb3IodmFyIG49MDtuPHI7bis9MSl0W2VdW25dPW51bGx9cmV0dXJuIHR9KGg9NCp1KzE3KSxlKDAsMCksZShoLTcsMCksZSgwLGgtNyksaSgpLG8oKSx2KHIsdCksNzw9dSYmbChyKSxudWxsPT1uJiYobj13KHUsYSxmKSksZChuLHQpfSxlPWZ1bmN0aW9uKHIsdCl7Zm9yKHZhciBlPS0xO2U8PTc7ZSs9MSlpZighKHIrZTw9LTF8fGg8PXIrZSkpZm9yKHZhciBuPS0xO248PTc7bis9MSl0K248PS0xfHxoPD10K258fChjW3IrZV1bdCtuXT0wPD1lJiZlPD02JiYoMD09bnx8Nj09bil8fDA8PW4mJm48PTYmJigwPT1lfHw2PT1lKXx8Mjw9ZSYmZTw9NCYmMjw9biYmbjw9NCl9LG89ZnVuY3Rpb24oKXtmb3IodmFyIHI9ODtyPGgtODtyKz0xKW51bGw9PWNbcl1bNl0mJihjW3JdWzZdPXIlMj09MCk7Zm9yKHZhciB0PTg7dDxoLTg7dCs9MSludWxsPT1jWzZdW3RdJiYoY1s2XVt0XT10JTI9PTApfSxpPWZ1bmN0aW9uKCl7Zm9yKHZhciByPXAuZ2V0UGF0dGVyblBvc2l0aW9uKHUpLHQ9MDt0PHIubGVuZ3RoO3QrPTEpZm9yKHZhciBlPTA7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW3RdLG89cltlXTtpZihudWxsPT1jW25dW29dKWZvcih2YXIgaT0tMjtpPD0yO2krPTEpZm9yKHZhciBhPS0yO2E8PTI7YSs9MSljW24raV1bbythXT0tMj09aXx8Mj09aXx8LTI9PWF8fDI9PWF8fDA9PWkmJjA9PWF9fSxsPWZ1bmN0aW9uKHIpe2Zvcih2YXIgdD1wLmdldEJDSFR5cGVOdW1iZXIodSksZT0wO2U8MTg7ZSs9MSl7dmFyIG49IXImJjE9PSh0Pj5lJjEpO2NbTWF0aC5mbG9vcihlLzMpXVtlJTMraC04LTNdPW59Zm9yKGU9MDtlPDE4O2UrPTEpe249IXImJjE9PSh0Pj5lJjEpO2NbZSUzK2gtOC0zXVtNYXRoLmZsb29yKGUvMyldPW59fSx2PWZ1bmN0aW9uKHIsdCl7Zm9yKHZhciBlPWE8PDN8dCxuPXAuZ2V0QkNIVHlwZUluZm8oZSksbz0wO288MTU7bys9MSl7dmFyIGk9IXImJjE9PShuPj5vJjEpO288Nj9jW29dWzhdPWk6bzw4P2NbbysxXVs4XT1pOmNbaC0xNStvXVs4XT1pfWZvcihvPTA7bzwxNTtvKz0xKXtpPSFyJiYxPT0obj4+byYxKTtvPDg/Y1s4XVtoLW8tMV09aTpvPDk/Y1s4XVsxNS1vLTErMV09aTpjWzhdWzE1LW8tMV09aX1jW2gtOF1bOF09IXJ9LGQ9ZnVuY3Rpb24ocix0KXtmb3IodmFyIGU9LTEsbj1oLTEsbz03LGk9MCxhPXAuZ2V0TWFza0Z1bmN0aW9uKHQpLHU9aC0xOzA8dTt1LT0yKWZvcig2PT11JiYodS09MSk7Oyl7Zm9yKHZhciBmPTA7ZjwyO2YrPTEpaWYobnVsbD09Y1tuXVt1LWZdKXt2YXIgZz0hMTtpPHIubGVuZ3RoJiYoZz0xPT0ocltpXT4+Pm8mMSkpLGEobix1LWYpJiYoZz0hZyksY1tuXVt1LWZdPWcsLTE9PShvLT0xKSYmKGkrPTEsbz03KX1pZigobis9ZSk8MHx8aDw9bil7bi09ZSxlPS1lO2JyZWFrfX19LHc9ZnVuY3Rpb24ocix0LGUpe2Zvcih2YXIgbj1rLmdldFJTQmxvY2tzKHIsdCksbz1NKCksaT0wO2k8ZS5sZW5ndGg7aSs9MSl7dmFyIGE9ZVtpXTtvLnB1dChhLmdldE1vZGUoKSw0KSxvLnB1dChhLmdldExlbmd0aCgpLHAuZ2V0TGVuZ3RoSW5CaXRzKGEuZ2V0TW9kZSgpLHIpKSxhLndyaXRlKG8pfXZhciB1PTA7Zm9yKGk9MDtpPG4ubGVuZ3RoO2krPTEpdSs9bltpXS5kYXRhQ291bnQ7aWYoby5nZXRMZW5ndGhJbkJpdHMoKT44KnUpdGhyb3ciY29kZSBsZW5ndGggb3ZlcmZsb3cuICgiK28uZ2V0TGVuZ3RoSW5CaXRzKCkrIj4iKzgqdSsiKSI7Zm9yKG8uZ2V0TGVuZ3RoSW5CaXRzKCkrNDw9OCp1JiZvLnB1dCgwLDQpO28uZ2V0TGVuZ3RoSW5CaXRzKCklOCE9MDspby5wdXRCaXQoITEpO2Zvcig7IShvLmdldExlbmd0aEluQml0cygpPj04KnV8fChvLnB1dCgyMzYsOCksby5nZXRMZW5ndGhJbkJpdHMoKT49OCp1KSk7KW8ucHV0KDE3LDgpO3JldHVybiBmdW5jdGlvbihyLHQpe2Zvcih2YXIgZT0wLG49MCxvPTAsaT1uZXcgQXJyYXkodC5sZW5ndGgpLGE9bmV3IEFycmF5KHQubGVuZ3RoKSx1PTA7dTx0Lmxlbmd0aDt1Kz0xKXt2YXIgZj10W3VdLmRhdGFDb3VudCxnPXRbdV0udG90YWxDb3VudC1mO249TWF0aC5tYXgobixmKSxvPU1hdGgubWF4KG8sZyksaVt1XT1uZXcgQXJyYXkoZik7Zm9yKHZhciBjPTA7YzxpW3VdLmxlbmd0aDtjKz0xKWlbdV1bY109MjU1JnIuZ2V0QnVmZmVyKClbYytlXTtlKz1mO3ZhciBoPXAuZ2V0RXJyb3JDb3JyZWN0UG9seW5vbWlhbChnKSxsPUIoaVt1XSxoLmdldExlbmd0aCgpLTEpLm1vZChoKTtmb3IoYVt1XT1uZXcgQXJyYXkoaC5nZXRMZW5ndGgoKS0xKSxjPTA7YzxhW3VdLmxlbmd0aDtjKz0xKXt2YXIgcz1jK2wuZ2V0TGVuZ3RoKCktYVt1XS5sZW5ndGg7YVt1XVtjXT0wPD1zP2wuZ2V0QXQocyk6MH19dmFyIHY9MDtmb3IoYz0wO2M8dC5sZW5ndGg7Yys9MSl2Kz10W2NdLnRvdGFsQ291bnQ7dmFyIGQ9bmV3IEFycmF5KHYpLHc9MDtmb3IoYz0wO2M8bjtjKz0xKWZvcih1PTA7dTx0Lmxlbmd0aDt1Kz0xKWM8aVt1XS5sZW5ndGgmJihkW3ddPWlbdV1bY10sdys9MSk7Zm9yKGM9MDtjPG87Yys9MSlmb3IodT0wO3U8dC5sZW5ndGg7dSs9MSljPGFbdV0ubGVuZ3RoJiYoZFt3XT1hW3VdW2NdLHcrPTEpO3JldHVybiBkfShvLG4pfTtzLmFkZERhdGE9ZnVuY3Rpb24ocix0KXt2YXIgZT1udWxsO3N3aXRjaCh0PXR8fCJCeXRlIil7Y2FzZSJOdW1lcmljIjplPWIocik7YnJlYWs7Y2FzZSJBbHBoYW51bWVyaWMiOmU9bShyKTticmVhaztjYXNlIkJ5dGUiOmU9TChyKTticmVhaztjYXNlIkthbmppIjplPUQocik7YnJlYWs7ZGVmYXVsdDp0aHJvdyJtb2RlOiIrdH1mLnB1c2goZSksbj1udWxsfSxzLmlzRGFyaz1mdW5jdGlvbihyLHQpe2lmKHI8MHx8aDw9cnx8dDwwfHxoPD10KXRocm93IHIrIiwiK3Q7cmV0dXJuIGNbcl1bdF19LHMuZ2V0TW9kdWxlQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gaH0scy5tYWtlPWZ1bmN0aW9uKCl7aWYodTwxKXtmb3IodmFyIHI9MTtyPDQwO3IrKyl7Zm9yKHZhciB0PWsuZ2V0UlNCbG9ja3MocixhKSxlPU0oKSxuPTA7bjxmLmxlbmd0aDtuKyspe3ZhciBvPWZbbl07ZS5wdXQoby5nZXRNb2RlKCksNCksZS5wdXQoby5nZXRMZW5ndGgoKSxwLmdldExlbmd0aEluQml0cyhvLmdldE1vZGUoKSxyKSksby53cml0ZShlKX12YXIgaT0wO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspaSs9dFtuXS5kYXRhQ291bnQ7aWYoZS5nZXRMZW5ndGhJbkJpdHMoKTw9OCppKWJyZWFrfXU9cn1nKCExLGZ1bmN0aW9uKCl7Zm9yKHZhciByPTAsdD0wLGU9MDtlPDg7ZSs9MSl7ZyghMCxlKTt2YXIgbj1wLmdldExvc3RQb2ludChzKTsoMD09ZXx8bjxyKSYmKHI9bix0PWUpfXJldHVybiB0fSgpKX0scy5jcmVhdGVUYWJsZVRhZz1mdW5jdGlvbihyLHQpe3I9cnx8Mjt2YXIgZT0iIjtlKz0nPHRhYmxlIHN0eWxlPSInLGUrPSIgYm9yZGVyLXdpZHRoOiAwcHg7IGJvcmRlci1zdHlsZTogbm9uZTsiLGUrPSIgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsiLGUrPSIgcGFkZGluZzogMHB4OyBtYXJnaW46ICIrKHQ9dm9pZCAwPT09dD80KnI6dCkrInB4OyIsZSs9JyI+JyxlKz0iPHRib2R5PiI7Zm9yKHZhciBuPTA7bjxzLmdldE1vZHVsZUNvdW50KCk7bis9MSl7ZSs9Ijx0cj4iO2Zvcih2YXIgbz0wO288cy5nZXRNb2R1bGVDb3VudCgpO28rPTEpZSs9Jzx0ZCBzdHlsZT0iJyxlKz0iIGJvcmRlci13aWR0aDogMHB4OyBib3JkZXItc3R5bGU6IG5vbmU7IixlKz0iIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IixlKz0iIHBhZGRpbmc6IDBweDsgbWFyZ2luOiAwcHg7IixlKz0iIHdpZHRoOiAiK3IrInB4OyIsZSs9IiBoZWlnaHQ6ICIrcisicHg7IixlKz0iIGJhY2tncm91bmQtY29sb3I6ICIsZSs9cy5pc0RhcmsobixvKT8iIzAwMDAwMCI6IiNmZmZmZmYiLGUrPSI7IixlKz0nIi8+JztlKz0iPC90cj4ifXJldHVybiBlKz0iPC90Ym9keT4iLGUrPSI8L3RhYmxlPiJ9LHMuY3JlYXRlU3ZnVGFnPWZ1bmN0aW9uKHIsdCl7dmFyIGU9e307Im9iamVjdCI9PXR5cGVvZiByJiYocj0oZT1yKS5jZWxsU2l6ZSx0PWUubWFyZ2luKSxyPXJ8fDIsdD12b2lkIDA9PT10PzQqcjp0O3ZhciBuLG8saSxhLHU9cy5nZXRNb2R1bGVDb3VudCgpKnIrMip0LGY9IiI7Zm9yKGE9ImwiK3IrIiwwIDAsIityKyIgLSIrcisiLDAgMCwtIityKyJ6ICIsZis9JzxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciJyxmKz1lLnNjYWxhYmxlPyIiOicgd2lkdGg9IicrdSsncHgiIGhlaWdodD0iJyt1KydweCInLGYrPScgdmlld0JveD0iMCAwICcrdSsiICIrdSsnIiAnLGYrPScgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pbllNaW4gbWVldCI+JyxmKz0nPHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0id2hpdGUiIGN4PSIwIiBjeT0iMCIvPicsZis9JzxwYXRoIGQ9Iicsbz0wO288cy5nZXRNb2R1bGVDb3VudCgpO28rPTEpZm9yKGk9bypyK3Qsbj0wO248cy5nZXRNb2R1bGVDb3VudCgpO24rPTEpcy5pc0RhcmsobyxuKSYmKGYrPSJNIisobipyK3QpKyIsIitpK2EpO3JldHVybiBmKz0nIiBzdHJva2U9InRyYW5zcGFyZW50IiBmaWxsPSJibGFjayIvPicsZis9Ijwvc3ZnPiJ9LHMuY3JlYXRlRGF0YVVSTD1mdW5jdGlvbihvLHIpe289b3x8MixyPXZvaWQgMD09PXI/NCpvOnI7dmFyIHQ9cy5nZXRNb2R1bGVDb3VudCgpKm8rMipyLGk9cixhPXQtcjtyZXR1cm4gSSh0LHQsZnVuY3Rpb24ocix0KXtpZihpPD1yJiZyPGEmJmk8PXQmJnQ8YSl7dmFyIGU9TWF0aC5mbG9vcigoci1pKS9vKSxuPU1hdGguZmxvb3IoKHQtaSkvbyk7cmV0dXJuIHMuaXNEYXJrKG4sZSk/MDoxfXJldHVybiAxfSl9LHMuY3JlYXRlSW1nVGFnPWZ1bmN0aW9uKHIsdCxlKXtyPXJ8fDIsdD12b2lkIDA9PT10PzQqcjp0O3ZhciBuPXMuZ2V0TW9kdWxlQ291bnQoKSpyKzIqdCxvPSIiO3JldHVybiBvKz0iPGltZyIsbys9JyBzcmM9Iicsbys9cy5jcmVhdGVEYXRhVVJMKHIsdCksbys9JyInLG8rPScgd2lkdGg9Iicsbys9bixvKz0nIicsbys9JyBoZWlnaHQ9Iicsbys9bixvKz0nIicsZSYmKG8rPScgYWx0PSInLG8rPWUsbys9JyInKSxvKz0iLz4ifTtyZXR1cm4gcy5jcmVhdGVBU0NJST1mdW5jdGlvbihyLHQpe2lmKChyPXJ8fDEpPDIpcmV0dXJuIGZ1bmN0aW9uKHIpe3I9dm9pZCAwPT09cj8yOnI7dmFyIHQsZSxuLG8saSxhPTEqcy5nZXRNb2R1bGVDb3VudCgpKzIqcix1PXIsZj1hLXIsZz17IuKWiOKWiCI6IuKWiCIsIuKWiCAiOiLiloAiLCIg4paIIjoi4paEIiwiICAiOiIgIn0sYz17IuKWiOKWiCI6IuKWgCIsIuKWiCAiOiLiloAiLCIg4paIIjoiICIsIiAgIjoiICJ9LGg9IiI7Zm9yKHQ9MDt0PGE7dCs9Mil7Zm9yKG49TWF0aC5mbG9vcigodC11KS8xKSxvPU1hdGguZmxvb3IoKHQrMS11KS8xKSxlPTA7ZTxhO2UrPTEpaT0i4paIIix1PD1lJiZlPGYmJnU8PXQmJnQ8ZiYmcy5pc0RhcmsobixNYXRoLmZsb29yKChlLXUpLzEpKSYmKGk9IiAiKSx1PD1lJiZlPGYmJnU8PXQrMSYmdCsxPGYmJnMuaXNEYXJrKG8sTWF0aC5mbG9vcigoZS11KS8xKSk/aSs9IiAiOmkrPSLilogiLGgrPXI8MSYmZjw9dCsxP2NbaV06Z1tpXTtoKz0iXG4ifXJldHVybiBhJTImJjA8cj9oLnN1YnN0cmluZygwLGgubGVuZ3RoLWEtMSkrQXJyYXkoYSsxKS5qb2luKCLiloAiKTpoLnN1YnN0cmluZygwLGgubGVuZ3RoLTEpfSh0KTtyLT0xLHQ9dm9pZCAwPT09dD8yKnI6dDt2YXIgZSxuLG8saSxhPXMuZ2V0TW9kdWxlQ291bnQoKSpyKzIqdCx1PXQsZj1hLXQsZz1BcnJheShyKzEpLmpvaW4oIuKWiOKWiCIpLGM9QXJyYXkocisxKS5qb2luKCIgICIpLGg9IiIsbD0iIjtmb3IoZT0wO2U8YTtlKz0xKXtmb3Iobz1NYXRoLmZsb29yKChlLXUpL3IpLGw9IiIsbj0wO248YTtuKz0xKWk9MSx1PD1uJiZuPGYmJnU8PWUmJmU8ZiYmcy5pc0RhcmsobyxNYXRoLmZsb29yKChuLXUpL3IpKSYmKGk9MCksbCs9aT9nOmM7Zm9yKG89MDtvPHI7bys9MSloKz1sKyJcbiJ9cmV0dXJuIGguc3Vic3RyaW5nKDAsaC5sZW5ndGgtMSl9LHMucmVuZGVyVG8yZENvbnRleHQ9ZnVuY3Rpb24ocix0KXt0PXR8fDI7Zm9yKHZhciBlPXMuZ2V0TW9kdWxlQ291bnQoKSxuPTA7bjxlO24rKylmb3IodmFyIG89MDtvPGU7bysrKXIuZmlsbFN0eWxlPXMuaXNEYXJrKG4sbyk/ImJsYWNrIjoid2hpdGUiLHIuZmlsbFJlY3Qobip0LG8qdCx0LHQpfSxzfTtpLnN0cmluZ1RvQnl0ZXM9KGkuc3RyaW5nVG9CeXRlc0Z1bmNzPXtkZWZhdWx0OmZ1bmN0aW9uKHIpe2Zvcih2YXIgdD1bXSxlPTA7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yLmNoYXJDb2RlQXQoZSk7dC5wdXNoKDI1NSZuKX1yZXR1cm4gdH19KS5kZWZhdWx0LGkuY3JlYXRlU3RyaW5nVG9CeXRlcz1mdW5jdGlvbih1LGYpe3ZhciBpPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXgodSkscj1mdW5jdGlvbigpe3ZhciByPXQucmVhZCgpO2lmKC0xPT1yKXRocm93ImVvZiI7cmV0dXJuIHJ9LGU9MCxuPXt9Ozspe3ZhciBvPXQucmVhZCgpO2lmKC0xPT1vKWJyZWFrO3ZhciBpPXIoKSxhPXIoKTw8OHxyKCk7bltTdHJpbmcuZnJvbUNoYXJDb2RlKG88PDh8aSldPWEsZSs9MX1pZihlIT1mKXRocm93IGUrIiAhPSAiK2Y7cmV0dXJuIG59KCksYT0iPyIuY2hhckNvZGVBdCgwKTtyZXR1cm4gZnVuY3Rpb24ocil7Zm9yKHZhciB0PVtdLGU9MDtlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXIuY2hhckNvZGVBdChlKTtpZihuPDEyOCl0LnB1c2gobik7ZWxzZXt2YXIgbz1pW3IuY2hhckF0KGUpXTsibnVtYmVyIj09dHlwZW9mIG8/KDI1NSZvKT09bz90LnB1c2gobyk6KHQucHVzaChvPj4+OCksdC5wdXNoKDI1NSZvKSk6dC5wdXNoKGEpfX1yZXR1cm4gdH19O3ZhciB0LHIsZSxhPTEsdT0yLG89NCxmPTgseT17TDoxLE06MCxROjMsSDoyfSxuPTAsZz0xLGM9MixoPTMsbD00LHM9NSx2PTYsZD03LHA9KHQ9W1tdLFs2LDE4XSxbNiwyMl0sWzYsMjZdLFs2LDMwXSxbNiwzNF0sWzYsMjIsMzhdLFs2LDI0LDQyXSxbNiwyNiw0Nl0sWzYsMjgsNTBdLFs2LDMwLDU0XSxbNiwzMiw1OF0sWzYsMzQsNjJdLFs2LDI2LDQ2LDY2XSxbNiwyNiw0OCw3MF0sWzYsMjYsNTAsNzRdLFs2LDMwLDU0LDc4XSxbNiwzMCw1Niw4Ml0sWzYsMzAsNTgsODZdLFs2LDM0LDYyLDkwXSxbNiwyOCw1MCw3Miw5NF0sWzYsMjYsNTAsNzQsOThdLFs2LDMwLDU0LDc4LDEwMl0sWzYsMjgsNTQsODAsMTA2XSxbNiwzMiw1OCw4NCwxMTBdLFs2LDMwLDU4LDg2LDExNF0sWzYsMzQsNjIsOTAsMTE4XSxbNiwyNiw1MCw3NCw5OCwxMjJdLFs2LDMwLDU0LDc4LDEwMiwxMjZdLFs2LDI2LDUyLDc4LDEwNCwxMzBdLFs2LDMwLDU2LDgyLDEwOCwxMzRdLFs2LDM0LDYwLDg2LDExMiwxMzhdLFs2LDMwLDU4LDg2LDExNCwxNDJdLFs2LDM0LDYyLDkwLDExOCwxNDZdLFs2LDMwLDU0LDc4LDEwMiwxMjYsMTUwXSxbNiwyNCw1MCw3NiwxMDIsMTI4LDE1NF0sWzYsMjgsNTQsODAsMTA2LDEzMiwxNThdLFs2LDMyLDU4LDg0LDExMCwxMzYsMTYyXSxbNiwyNiw1NCw4MiwxMTAsMTM4LDE2Nl0sWzYsMzAsNTgsODYsMTE0LDE0MiwxNzBdXSxlPWZ1bmN0aW9uKHIpe2Zvcih2YXIgdD0wOzAhPXI7KXQrPTEscj4+Pj0xO3JldHVybiB0fSwocj17fSkuZ2V0QkNIVHlwZUluZm89ZnVuY3Rpb24ocil7Zm9yKHZhciB0PXI8PDEwOzA8PWUodCktZSgxMzM1KTspdF49MTMzNTw8ZSh0KS1lKDEzMzUpO3JldHVybiAyMTUyMl4ocjw8MTB8dCl9LHIuZ2V0QkNIVHlwZU51bWJlcj1mdW5jdGlvbihyKXtmb3IodmFyIHQ9cjw8MTI7MDw9ZSh0KS1lKDc5NzMpOyl0Xj03OTczPDxlKHQpLWUoNzk3Myk7cmV0dXJuIHI8PDEyfHR9LHIuZ2V0UGF0dGVyblBvc2l0aW9uPWZ1bmN0aW9uKHIpe3JldHVybiB0W3ItMV19LHIuZ2V0TWFza0Z1bmN0aW9uPWZ1bmN0aW9uKHIpe3N3aXRjaChyKXtjYXNlIG46cmV0dXJuIGZ1bmN0aW9uKHIsdCl7cmV0dXJuKHIrdCklMj09MH07Y2FzZSBnOnJldHVybiBmdW5jdGlvbihyLHQpe3JldHVybiByJTI9PTB9O2Nhc2UgYzpyZXR1cm4gZnVuY3Rpb24ocix0KXtyZXR1cm4gdCUzPT0wfTtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKHIsdCl7cmV0dXJuKHIrdCklMz09MH07Y2FzZSBsOnJldHVybiBmdW5jdGlvbihyLHQpe3JldHVybihNYXRoLmZsb29yKHIvMikrTWF0aC5mbG9vcih0LzMpKSUyPT0wfTtjYXNlIHM6cmV0dXJuIGZ1bmN0aW9uKHIsdCl7cmV0dXJuIHIqdCUyK3IqdCUzPT0wfTtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKHIsdCl7cmV0dXJuKHIqdCUyK3IqdCUzKSUyPT0wfTtjYXNlIGQ6cmV0dXJuIGZ1bmN0aW9uKHIsdCl7cmV0dXJuKHIqdCUzKyhyK3QpJTIpJTI9PTB9O2RlZmF1bHQ6dGhyb3ciYmFkIG1hc2tQYXR0ZXJuOiIrcn19LHIuZ2V0RXJyb3JDb3JyZWN0UG9seW5vbWlhbD1mdW5jdGlvbihyKXtmb3IodmFyIHQ9QihbMV0sMCksZT0wO2U8cjtlKz0xKXQ9dC5tdWx0aXBseShCKFsxLHcuZ2V4cChlKV0sMCkpO3JldHVybiB0fSxyLmdldExlbmd0aEluQml0cz1mdW5jdGlvbihyLHQpe2lmKDE8PXQmJnQ8MTApc3dpdGNoKHIpe2Nhc2UgYTpyZXR1cm4gMTA7Y2FzZSB1OnJldHVybiA5O2Nhc2UgbzpjYXNlIGY6cmV0dXJuIDg7ZGVmYXVsdDp0aHJvdyJtb2RlOiIrcn1lbHNlIGlmKHQ8Mjcpc3dpdGNoKHIpe2Nhc2UgYTpyZXR1cm4gMTI7Y2FzZSB1OnJldHVybiAxMTtjYXNlIG86cmV0dXJuIDE2O2Nhc2UgZjpyZXR1cm4gMTA7ZGVmYXVsdDp0aHJvdyJtb2RlOiIrcn1lbHNle2lmKCEodDw0MSkpdGhyb3cidHlwZToiK3Q7c3dpdGNoKHIpe2Nhc2UgYTpyZXR1cm4gMTQ7Y2FzZSB1OnJldHVybiAxMztjYXNlIG86cmV0dXJuIDE2O2Nhc2UgZjpyZXR1cm4gMTI7ZGVmYXVsdDp0aHJvdyJtb2RlOiIrcn19fSxyLmdldExvc3RQb2ludD1mdW5jdGlvbihyKXtmb3IodmFyIHQ9ci5nZXRNb2R1bGVDb3VudCgpLGU9MCxuPTA7bjx0O24rPTEpZm9yKHZhciBvPTA7bzx0O28rPTEpe2Zvcih2YXIgaT0wLGE9ci5pc0RhcmsobixvKSx1PS0xO3U8PTE7dSs9MSlpZighKG4rdTwwfHx0PD1uK3UpKWZvcih2YXIgZj0tMTtmPD0xO2YrPTEpbytmPDB8fHQ8PW8rZnx8MD09dSYmMD09Znx8YT09ci5pc0Rhcmsobit1LG8rZikmJihpKz0xKTs1PGkmJihlKz0zK2ktNSl9Zm9yKG49MDtuPHQtMTtuKz0xKWZvcihvPTA7bzx0LTE7bys9MSl7dmFyIGc9MDtyLmlzRGFyayhuLG8pJiYoZys9MSksci5pc0RhcmsobisxLG8pJiYoZys9MSksci5pc0RhcmsobixvKzEpJiYoZys9MSksci5pc0RhcmsobisxLG8rMSkmJihnKz0xKSwwIT1nJiY0IT1nfHwoZSs9Myl9Zm9yKG49MDtuPHQ7bis9MSlmb3Iobz0wO288dC02O28rPTEpci5pc0RhcmsobixvKSYmIXIuaXNEYXJrKG4sbysxKSYmci5pc0RhcmsobixvKzIpJiZyLmlzRGFyayhuLG8rMykmJnIuaXNEYXJrKG4sbys0KSYmIXIuaXNEYXJrKG4sbys1KSYmci5pc0RhcmsobixvKzYpJiYoZSs9NDApO2ZvcihvPTA7bzx0O28rPTEpZm9yKG49MDtuPHQtNjtuKz0xKXIuaXNEYXJrKG4sbykmJiFyLmlzRGFyayhuKzEsbykmJnIuaXNEYXJrKG4rMixvKSYmci5pc0RhcmsobiszLG8pJiZyLmlzRGFyayhuKzQsbykmJiFyLmlzRGFyayhuKzUsbykmJnIuaXNEYXJrKG4rNixvKSYmKGUrPTQwKTt2YXIgYz0wO2ZvcihvPTA7bzx0O28rPTEpZm9yKG49MDtuPHQ7bis9MSlyLmlzRGFyayhuLG8pJiYoYys9MSk7cmV0dXJuIGUrPU1hdGguYWJzKDEwMCpjL3QvdC01MCkvNSoxMH0sciksdz1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgQXJyYXkoMjU2KSxlPW5ldyBBcnJheSgyNTYpLHI9MDtyPDg7cis9MSl0W3JdPTE8PHI7Zm9yKHI9ODtyPDI1NjtyKz0xKXRbcl09dFtyLTRdXnRbci01XV50W3ItNl1edFtyLThdO2ZvcihyPTA7cjwyNTU7cis9MSllW3Rbcl1dPXI7dmFyIG49e2dsb2c6ZnVuY3Rpb24ocil7aWYocjwxKXRocm93Imdsb2coIityKyIpIjtyZXR1cm4gZVtyXX0sZ2V4cDpmdW5jdGlvbihyKXtmb3IoO3I8MDspcis9MjU1O2Zvcig7MjU2PD1yOylyLT0yNTU7cmV0dXJuIHRbcl19fTtyZXR1cm4gbn0oKTtmdW5jdGlvbiBCKG4sbyl7aWYodm9pZCAwPT09bi5sZW5ndGgpdGhyb3cgbi5sZW5ndGgrIi8iK287dmFyIHQ9ZnVuY3Rpb24oKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoJiYwPT1uW3JdOylyKz0xO2Zvcih2YXIgdD1uZXcgQXJyYXkobi5sZW5ndGgtcitvKSxlPTA7ZTxuLmxlbmd0aC1yO2UrPTEpdFtlXT1uW2Urcl07cmV0dXJuIHR9KCksaT17Z2V0QXQ6ZnVuY3Rpb24ocil7cmV0dXJuIHRbcl19LGdldExlbmd0aDpmdW5jdGlvbigpe3JldHVybiB0Lmxlbmd0aH0sbXVsdGlwbHk6ZnVuY3Rpb24ocil7Zm9yKHZhciB0PW5ldyBBcnJheShpLmdldExlbmd0aCgpK3IuZ2V0TGVuZ3RoKCktMSksZT0wO2U8aS5nZXRMZW5ndGgoKTtlKz0xKWZvcih2YXIgbj0wO248ci5nZXRMZW5ndGgoKTtuKz0xKXRbZStuXV49dy5nZXhwKHcuZ2xvZyhpLmdldEF0KGUpKSt3Lmdsb2coci5nZXRBdChuKSkpO3JldHVybiBCKHQsMCl9LG1vZDpmdW5jdGlvbihyKXtpZihpLmdldExlbmd0aCgpLXIuZ2V0TGVuZ3RoKCk8MClyZXR1cm4gaTtmb3IodmFyIHQ9dy5nbG9nKGkuZ2V0QXQoMCkpLXcuZ2xvZyhyLmdldEF0KDApKSxlPW5ldyBBcnJheShpLmdldExlbmd0aCgpKSxuPTA7bjxpLmdldExlbmd0aCgpO24rPTEpZVtuXT1pLmdldEF0KG4pO2ZvcihuPTA7bjxyLmdldExlbmd0aCgpO24rPTEpZVtuXV49dy5nZXhwKHcuZ2xvZyhyLmdldEF0KG4pKSt0KTtyZXR1cm4gQihlLDApLm1vZChyKX19O3JldHVybiBpfXZhciBDLEEsaz0oQz1bWzEsMjYsMTldLFsxLDI2LDE2XSxbMSwyNiwxM10sWzEsMjYsOV0sWzEsNDQsMzRdLFsxLDQ0LDI4XSxbMSw0NCwyMl0sWzEsNDQsMTZdLFsxLDcwLDU1XSxbMSw3MCw0NF0sWzIsMzUsMTddLFsyLDM1LDEzXSxbMSwxMDAsODBdLFsyLDUwLDMyXSxbMiw1MCwyNF0sWzQsMjUsOV0sWzEsMTM0LDEwOF0sWzIsNjcsNDNdLFsyLDMzLDE1LDIsMzQsMTZdLFsyLDMzLDExLDIsMzQsMTJdLFsyLDg2LDY4XSxbNCw0MywyN10sWzQsNDMsMTldLFs0LDQzLDE1XSxbMiw5OCw3OF0sWzQsNDksMzFdLFsyLDMyLDE0LDQsMzMsMTVdLFs0LDM5LDEzLDEsNDAsMTRdLFsyLDEyMSw5N10sWzIsNjAsMzgsMiw2MSwzOV0sWzQsNDAsMTgsMiw0MSwxOV0sWzQsNDAsMTQsMiw0MSwxNV0sWzIsMTQ2LDExNl0sWzMsNTgsMzYsMiw1OSwzN10sWzQsMzYsMTYsNCwzNywxN10sWzQsMzYsMTIsNCwzNywxM10sWzIsODYsNjgsMiw4Nyw2OV0sWzQsNjksNDMsMSw3MCw0NF0sWzYsNDMsMTksMiw0NCwyMF0sWzYsNDMsMTUsMiw0NCwxNl0sWzQsMTAxLDgxXSxbMSw4MCw1MCw0LDgxLDUxXSxbNCw1MCwyMiw0LDUxLDIzXSxbMywzNiwxMiw4LDM3LDEzXSxbMiwxMTYsOTIsMiwxMTcsOTNdLFs2LDU4LDM2LDIsNTksMzddLFs0LDQ2LDIwLDYsNDcsMjFdLFs3LDQyLDE0LDQsNDMsMTVdLFs0LDEzMywxMDddLFs4LDU5LDM3LDEsNjAsMzhdLFs4LDQ0LDIwLDQsNDUsMjFdLFsxMiwzMywxMSw0LDM0LDEyXSxbMywxNDUsMTE1LDEsMTQ2LDExNl0sWzQsNjQsNDAsNSw2NSw0MV0sWzExLDM2LDE2LDUsMzcsMTddLFsxMSwzNiwxMiw1LDM3LDEzXSxbNSwxMDksODcsMSwxMTAsODhdLFs1LDY1LDQxLDUsNjYsNDJdLFs1LDU0LDI0LDcsNTUsMjVdLFsxMSwzNiwxMiw3LDM3LDEzXSxbNSwxMjIsOTgsMSwxMjMsOTldLFs3LDczLDQ1LDMsNzQsNDZdLFsxNSw0MywxOSwyLDQ0LDIwXSxbMyw0NSwxNSwxMyw0NiwxNl0sWzEsMTM1LDEwNyw1LDEzNiwxMDhdLFsxMCw3NCw0NiwxLDc1LDQ3XSxbMSw1MCwyMiwxNSw1MSwyM10sWzIsNDIsMTQsMTcsNDMsMTVdLFs1LDE1MCwxMjAsMSwxNTEsMTIxXSxbOSw2OSw0Myw0LDcwLDQ0XSxbMTcsNTAsMjIsMSw1MSwyM10sWzIsNDIsMTQsMTksNDMsMTVdLFszLDE0MSwxMTMsNCwxNDIsMTE0XSxbMyw3MCw0NCwxMSw3MSw0NV0sWzE3LDQ3LDIxLDQsNDgsMjJdLFs5LDM5LDEzLDE2LDQwLDE0XSxbMywxMzUsMTA3LDUsMTM2LDEwOF0sWzMsNjcsNDEsMTMsNjgsNDJdLFsxNSw1NCwyNCw1LDU1LDI1XSxbMTUsNDMsMTUsMTAsNDQsMTZdLFs0LDE0NCwxMTYsNCwxNDUsMTE3XSxbMTcsNjgsNDJdLFsxNyw1MCwyMiw2LDUxLDIzXSxbMTksNDYsMTYsNiw0NywxN10sWzIsMTM5LDExMSw3LDE0MCwxMTJdLFsxNyw3NCw0Nl0sWzcsNTQsMjQsMTYsNTUsMjVdLFszNCwzNywxM10sWzQsMTUxLDEyMSw1LDE1MiwxMjJdLFs0LDc1LDQ3LDE0LDc2LDQ4XSxbMTEsNTQsMjQsMTQsNTUsMjVdLFsxNiw0NSwxNSwxNCw0NiwxNl0sWzYsMTQ3LDExNyw0LDE0OCwxMThdLFs2LDczLDQ1LDE0LDc0LDQ2XSxbMTEsNTQsMjQsMTYsNTUsMjVdLFszMCw0NiwxNiwyLDQ3LDE3XSxbOCwxMzIsMTA2LDQsMTMzLDEwN10sWzgsNzUsNDcsMTMsNzYsNDhdLFs3LDU0LDI0LDIyLDU1LDI1XSxbMjIsNDUsMTUsMTMsNDYsMTZdLFsxMCwxNDIsMTE0LDIsMTQzLDExNV0sWzE5LDc0LDQ2LDQsNzUsNDddLFsyOCw1MCwyMiw2LDUxLDIzXSxbMzMsNDYsMTYsNCw0NywxN10sWzgsMTUyLDEyMiw0LDE1MywxMjNdLFsyMiw3Myw0NSwzLDc0LDQ2XSxbOCw1MywyMywyNiw1NCwyNF0sWzEyLDQ1LDE1LDI4LDQ2LDE2XSxbMywxNDcsMTE3LDEwLDE0OCwxMThdLFszLDczLDQ1LDIzLDc0LDQ2XSxbNCw1NCwyNCwzMSw1NSwyNV0sWzExLDQ1LDE1LDMxLDQ2LDE2XSxbNywxNDYsMTE2LDcsMTQ3LDExN10sWzIxLDczLDQ1LDcsNzQsNDZdLFsxLDUzLDIzLDM3LDU0LDI0XSxbMTksNDUsMTUsMjYsNDYsMTZdLFs1LDE0NSwxMTUsMTAsMTQ2LDExNl0sWzE5LDc1LDQ3LDEwLDc2LDQ4XSxbMTUsNTQsMjQsMjUsNTUsMjVdLFsyMyw0NSwxNSwyNSw0NiwxNl0sWzEzLDE0NSwxMTUsMywxNDYsMTE2XSxbMiw3NCw0NiwyOSw3NSw0N10sWzQyLDU0LDI0LDEsNTUsMjVdLFsyMyw0NSwxNSwyOCw0NiwxNl0sWzE3LDE0NSwxMTVdLFsxMCw3NCw0NiwyMyw3NSw0N10sWzEwLDU0LDI0LDM1LDU1LDI1XSxbMTksNDUsMTUsMzUsNDYsMTZdLFsxNywxNDUsMTE1LDEsMTQ2LDExNl0sWzE0LDc0LDQ2LDIxLDc1LDQ3XSxbMjksNTQsMjQsMTksNTUsMjVdLFsxMSw0NSwxNSw0Niw0NiwxNl0sWzEzLDE0NSwxMTUsNiwxNDYsMTE2XSxbMTQsNzQsNDYsMjMsNzUsNDddLFs0NCw1NCwyNCw3LDU1LDI1XSxbNTksNDYsMTYsMSw0NywxN10sWzEyLDE1MSwxMjEsNywxNTIsMTIyXSxbMTIsNzUsNDcsMjYsNzYsNDhdLFszOSw1NCwyNCwxNCw1NSwyNV0sWzIyLDQ1LDE1LDQxLDQ2LDE2XSxbNiwxNTEsMTIxLDE0LDE1MiwxMjJdLFs2LDc1LDQ3LDM0LDc2LDQ4XSxbNDYsNTQsMjQsMTAsNTUsMjVdLFsyLDQ1LDE1LDY0LDQ2LDE2XSxbMTcsMTUyLDEyMiw0LDE1MywxMjNdLFsyOSw3NCw0NiwxNCw3NSw0N10sWzQ5LDU0LDI0LDEwLDU1LDI1XSxbMjQsNDUsMTUsNDYsNDYsMTZdLFs0LDE1MiwxMjIsMTgsMTUzLDEyM10sWzEzLDc0LDQ2LDMyLDc1LDQ3XSxbNDgsNTQsMjQsMTQsNTUsMjVdLFs0Miw0NSwxNSwzMiw0NiwxNl0sWzIwLDE0NywxMTcsNCwxNDgsMTE4XSxbNDAsNzUsNDcsNyw3Niw0OF0sWzQzLDU0LDI0LDIyLDU1LDI1XSxbMTAsNDUsMTUsNjcsNDYsMTZdLFsxOSwxNDgsMTE4LDYsMTQ5LDExOV0sWzE4LDc1LDQ3LDMxLDc2LDQ4XSxbMzQsNTQsMjQsMzQsNTUsMjVdLFsyMCw0NSwxNSw2MSw0NiwxNl1dLChBPXt9KS5nZXRSU0Jsb2Nrcz1mdW5jdGlvbihyLHQpe3ZhciBlPWZ1bmN0aW9uKHIsdCl7c3dpdGNoKHQpe2Nhc2UgeS5MOnJldHVybiBDWzQqKHItMSkrMF07Y2FzZSB5Lk06cmV0dXJuIENbNCooci0xKSsxXTtjYXNlIHkuUTpyZXR1cm4gQ1s0KihyLTEpKzJdO2Nhc2UgeS5IOnJldHVybiBDWzQqKHItMSkrM107ZGVmYXVsdDpyZXR1cm59fShyLHQpO2lmKHZvaWQgMD09PWUpdGhyb3ciYmFkIHJzIGJsb2NrIEAgdHlwZU51bWJlcjoiK3IrIi9lcnJvckNvcnJlY3Rpb25MZXZlbDoiK3Q7Zm9yKHZhciBuLG8saT1lLmxlbmd0aC8zLGE9W10sdT0wO3U8aTt1Kz0xKWZvcih2YXIgZj1lWzMqdSswXSxnPWVbMyp1KzFdLGM9ZVszKnUrMl0saD0wO2g8ZjtoKz0xKWEucHVzaCgobj1jLG89dm9pZCAwLChvPXt9KS50b3RhbENvdW50PWcsby5kYXRhQ291bnQ9bixvKSk7cmV0dXJuIGF9LEEpLE09ZnVuY3Rpb24oKXt2YXIgZT1bXSxuPTAsbz17Z2V0QnVmZmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGV9LGdldEF0OmZ1bmN0aW9uKHIpe3ZhciB0PU1hdGguZmxvb3Ioci84KTtyZXR1cm4gMT09KGVbdF0+Pj43LXIlOCYxKX0scHV0OmZ1bmN0aW9uKHIsdCl7Zm9yKHZhciBlPTA7ZTx0O2UrPTEpby5wdXRCaXQoMT09KHI+Pj50LWUtMSYxKSl9LGdldExlbmd0aEluQml0czpmdW5jdGlvbigpe3JldHVybiBufSxwdXRCaXQ6ZnVuY3Rpb24ocil7dmFyIHQ9TWF0aC5mbG9vcihuLzgpO2UubGVuZ3RoPD10JiZlLnB1c2goMCksciYmKGVbdF18PTEyOD4+Pm4lOCksbis9MX19O3JldHVybiBvfSxiPWZ1bmN0aW9uKHIpe3ZhciB0PWEsbj1yLGU9e2dldE1vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdH0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKHIpe3JldHVybiBuLmxlbmd0aH0sd3JpdGU6ZnVuY3Rpb24ocil7Zm9yKHZhciB0PW4sZT0wO2UrMjx0Lmxlbmd0aDspci5wdXQobyh0LnN1YnN0cmluZyhlLGUrMykpLDEwKSxlKz0zO2U8dC5sZW5ndGgmJih0Lmxlbmd0aC1lPT0xP3IucHV0KG8odC5zdWJzdHJpbmcoZSxlKzEpKSw0KTp0Lmxlbmd0aC1lPT0yJiZyLnB1dChvKHQuc3Vic3RyaW5nKGUsZSsyKSksNykpfX0sbz1mdW5jdGlvbihyKXtmb3IodmFyIHQ9MCxlPTA7ZTxyLmxlbmd0aDtlKz0xKXQ9MTAqdCtpKHIuY2hhckF0KGUpKTtyZXR1cm4gdH0saT1mdW5jdGlvbihyKXtpZigiMCI8PXImJnI8PSI5IilyZXR1cm4gci5jaGFyQ29kZUF0KDApLSIwIi5jaGFyQ29kZUF0KDApO3Rocm93ImlsbGVnYWwgY2hhciA6IityfTtyZXR1cm4gZX0sbT1mdW5jdGlvbihyKXt2YXIgdD11LG49cixlPXtnZXRNb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LGdldExlbmd0aDpmdW5jdGlvbihyKXtyZXR1cm4gbi5sZW5ndGh9LHdyaXRlOmZ1bmN0aW9uKHIpe2Zvcih2YXIgdD1uLGU9MDtlKzE8dC5sZW5ndGg7KXIucHV0KDQ1Km8odC5jaGFyQXQoZSkpK28odC5jaGFyQXQoZSsxKSksMTEpLGUrPTI7ZTx0Lmxlbmd0aCYmci5wdXQobyh0LmNoYXJBdChlKSksNil9fSxvPWZ1bmN0aW9uKHIpe2lmKCIwIjw9ciYmcjw9IjkiKXJldHVybiByLmNoYXJDb2RlQXQoMCktIjAiLmNoYXJDb2RlQXQoMCk7aWYoIkEiPD1yJiZyPD0iWiIpcmV0dXJuIHIuY2hhckNvZGVBdCgwKS0iQSIuY2hhckNvZGVBdCgwKSsxMDtzd2l0Y2gocil7Y2FzZSIgIjpyZXR1cm4gMzY7Y2FzZSIkIjpyZXR1cm4gMzc7Y2FzZSIlIjpyZXR1cm4gMzg7Y2FzZSIqIjpyZXR1cm4gMzk7Y2FzZSIrIjpyZXR1cm4gNDA7Y2FzZSItIjpyZXR1cm4gNDE7Y2FzZSIuIjpyZXR1cm4gNDI7Y2FzZSIvIjpyZXR1cm4gNDM7Y2FzZSI6IjpyZXR1cm4gNDQ7ZGVmYXVsdDp0aHJvdyJpbGxlZ2FsIGNoYXIgOiIrcn19O3JldHVybiBlfSxMPWZ1bmN0aW9uKHIpe3ZhciB0PW8sZT1pLnN0cmluZ1RvQnl0ZXMociksbj17Z2V0TW9kZTpmdW5jdGlvbigpe3JldHVybiB0fSxnZXRMZW5ndGg6ZnVuY3Rpb24ocil7cmV0dXJuIGUubGVuZ3RofSx3cml0ZTpmdW5jdGlvbihyKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrPTEpci5wdXQoZVt0XSw4KX19O3JldHVybiBufSxEPWZ1bmN0aW9uKHIpe3ZhciB0PWYsbj1pLnN0cmluZ1RvQnl0ZXNGdW5jcy5TSklTO2lmKCFuKXRocm93InNqaXMgbm90IHN1cHBvcnRlZC4iOyFmdW5jdGlvbihyLHQpe3ZhciBlPW4oIuWPiyIpO2lmKDIhPWUubGVuZ3RofHwzODcyNiE9KGVbMF08PDh8ZVsxXSkpdGhyb3cic2ppcyBub3Qgc3VwcG9ydGVkLiJ9KCk7dmFyIG89bihyKSxlPXtnZXRNb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LGdldExlbmd0aDpmdW5jdGlvbihyKXtyZXR1cm5+fihvLmxlbmd0aC8yKX0sd3JpdGU6ZnVuY3Rpb24ocil7Zm9yKHZhciB0PW8sZT0wO2UrMTx0Lmxlbmd0aDspe3ZhciBuPSgyNTUmdFtlXSk8PDh8MjU1JnRbZSsxXTtpZigzMzA4ODw9biYmbjw9NDA5NTYpbi09MzMwODg7ZWxzZXtpZighKDU3NDA4PD1uJiZuPD02MDM1MSkpdGhyb3ciaWxsZWdhbCBjaGFyIGF0ICIrKGUrMSkrIi8iK247bi09NDk0NzJ9bj0xOTIqKG4+Pj44JjI1NSkrKDI1NSZuKSxyLnB1dChuLDEzKSxlKz0yfWlmKGU8dC5sZW5ndGgpdGhyb3ciaWxsZWdhbCBjaGFyIGF0ICIrKGUrMSl9fTtyZXR1cm4gZX0sUz1mdW5jdGlvbigpe3ZhciBlPVtdLG89e3dyaXRlQnl0ZTpmdW5jdGlvbihyKXtlLnB1c2goMjU1JnIpfSx3cml0ZVNob3J0OmZ1bmN0aW9uKHIpe28ud3JpdGVCeXRlKHIpLG8ud3JpdGVCeXRlKHI+Pj44KX0sd3JpdGVCeXRlczpmdW5jdGlvbihyLHQsZSl7dD10fHwwLGU9ZXx8ci5sZW5ndGg7Zm9yKHZhciBuPTA7bjxlO24rPTEpby53cml0ZUJ5dGUocltuK3RdKX0sd3JpdGVTdHJpbmc6ZnVuY3Rpb24ocil7Zm9yKHZhciB0PTA7dDxyLmxlbmd0aDt0Kz0xKW8ud3JpdGVCeXRlKHIuY2hhckNvZGVBdCh0KSl9LHRvQnl0ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGV9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHI9IiI7cis9IlsiO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCs9MSkwPHQmJihyKz0iLCIpLHIrPWVbdF07cmV0dXJuIHIrPSJdIn19O3JldHVybiBvfSx4PWZ1bmN0aW9uKHIpe3ZhciBlPXIsbj0wLG89MCxpPTAsdD17cmVhZDpmdW5jdGlvbigpe2Zvcig7aTw4Oyl7aWYobj49ZS5sZW5ndGgpe2lmKDA9PWkpcmV0dXJuLTE7dGhyb3cidW5leHBlY3RlZCBlbmQgb2YgZmlsZS4vIitpfXZhciByPWUuY2hhckF0KG4pO2lmKG4rPTEsIj0iPT1yKXJldHVybiBpPTAsLTE7ci5tYXRjaCgvXlxzJC8pfHwobz1vPDw2fGEoci5jaGFyQ29kZUF0KDApKSxpKz02KX12YXIgdD1vPj4+aS04JjI1NTtyZXR1cm4gaS09OCx0fX0sYT1mdW5jdGlvbihyKXtpZig2NTw9ciYmcjw9OTApcmV0dXJuIHItNjU7aWYoOTc8PXImJnI8PTEyMilyZXR1cm4gci05NysyNjtpZig0ODw9ciYmcjw9NTcpcmV0dXJuIHItNDgrNTI7aWYoNDM9PXIpcmV0dXJuIDYyO2lmKDQ3PT1yKXJldHVybiA2Mzt0aHJvdyJjOiIrcn07cmV0dXJuIHR9LEk9ZnVuY3Rpb24ocix0LGUpe2Zvcih2YXIgbixvLGksYSx2LHUsZixkLGc9KGk9bj1yLGE9bz10LHY9bmV3IEFycmF5KG4qbyksdT17c2V0UGl4ZWw6ZnVuY3Rpb24ocix0LGUpe3ZbdCppK3JdPWV9LHdyaXRlOmZ1bmN0aW9uKHIpe3Iud3JpdGVTdHJpbmcoIkdJRjg3YSIpLHIud3JpdGVTaG9ydChpKSxyLndyaXRlU2hvcnQoYSksci53cml0ZUJ5dGUoMTI4KSxyLndyaXRlQnl0ZSgwKSxyLndyaXRlQnl0ZSgwKSxyLndyaXRlQnl0ZSgwKSxyLndyaXRlQnl0ZSgwKSxyLndyaXRlQnl0ZSgwKSxyLndyaXRlQnl0ZSgyNTUpLHIud3JpdGVCeXRlKDI1NSksci53cml0ZUJ5dGUoMjU1KSxyLndyaXRlU3RyaW5nKCIsIiksci53cml0ZVNob3J0KDApLHIud3JpdGVTaG9ydCgwKSxyLndyaXRlU2hvcnQoaSksci53cml0ZVNob3J0KGEpLHIud3JpdGVCeXRlKDApO3ZhciB0PWYoMik7ci53cml0ZUJ5dGUoMik7Zm9yKHZhciBlPTA7MjU1PHQubGVuZ3RoLWU7KXIud3JpdGVCeXRlKDI1NSksci53cml0ZUJ5dGVzKHQsZSwyNTUpLGUrPTI1NTtyLndyaXRlQnl0ZSh0Lmxlbmd0aC1lKSxyLndyaXRlQnl0ZXModCxlLHQubGVuZ3RoLWUpLHIud3JpdGVCeXRlKDApLHIud3JpdGVTdHJpbmcoIjsiKX19LGY9ZnVuY3Rpb24ocil7Zm9yKHZhciB0PTE8PHIsZT0xKygxPDxyKSxuPXIrMSxvPWQoKSxpPTA7aTx0O2krPTEpby5hZGQoU3RyaW5nLmZyb21DaGFyQ29kZShpKSk7by5hZGQoU3RyaW5nLmZyb21DaGFyQ29kZSh0KSksby5hZGQoU3RyaW5nLmZyb21DaGFyQ29kZShlKSk7dmFyIGEsdSxmLGc9UygpLGM9KGE9ZyxmPXU9MCx7d3JpdGU6ZnVuY3Rpb24ocix0KXtpZihyPj4+dCE9MCl0aHJvdyJsZW5ndGggb3ZlciI7Zm9yKDs4PD11K3Q7KWEud3JpdGVCeXRlKDI1NSYocjw8dXxmKSksdC09OC11LHI+Pj49OC11LHU9Zj0wO2Z8PXI8PHUsdSs9dH0sZmx1c2g6ZnVuY3Rpb24oKXswPHUmJmEud3JpdGVCeXRlKGYpfX0pO2Mud3JpdGUodCxuKTt2YXIgaD0wLGw9U3RyaW5nLmZyb21DaGFyQ29kZSh2W2hdKTtmb3IoaCs9MTtoPHYubGVuZ3RoOyl7dmFyIHM9U3RyaW5nLmZyb21DaGFyQ29kZSh2W2hdKTtoKz0xLG8uY29udGFpbnMobCtzKT9sKz1zOihjLndyaXRlKG8uaW5kZXhPZihsKSxuKSxvLnNpemUoKTw0MDk1JiYoby5zaXplKCk9PTE8PG4mJihuKz0xKSxvLmFkZChsK3MpKSxsPXMpfXJldHVybiBjLndyaXRlKG8uaW5kZXhPZihsKSxuKSxjLndyaXRlKGUsbiksYy5mbHVzaCgpLGcudG9CeXRlQXJyYXkoKX0sZD1mdW5jdGlvbigpe3ZhciB0PXt9LGU9MCxuPXthZGQ6ZnVuY3Rpb24ocil7aWYobi5jb250YWlucyhyKSl0aHJvdyJkdXAga2V5OiIrcjt0W3JdPWUsZSs9MX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiBlfSxpbmRleE9mOmZ1bmN0aW9uKHIpe3JldHVybiB0W3JdfSxjb250YWluczpmdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwIT09dFtyXX19O3JldHVybiBufSx1KSxjPTA7Yzx0O2MrPTEpZm9yKHZhciBoPTA7aDxyO2grPTEpZy5zZXRQaXhlbChoLGMsZShoLGMpKTt2YXIgbD1TKCk7Zy53cml0ZShsKTtmb3IodmFyIHMsdyx5LHAsQixDLEEsaz0oeT13PXM9MCxwPSIiLEM9ZnVuY3Rpb24ocil7cCs9U3RyaW5nLmZyb21DaGFyQ29kZShBKDYzJnIpKX0sQT1mdW5jdGlvbihyKXtpZihyPDApO2Vsc2V7aWYocjwyNilyZXR1cm4gNjUrcjtpZihyPDUyKXJldHVybiByLTI2Kzk3O2lmKHI8NjIpcmV0dXJuIHItNTIrNDg7aWYoNjI9PXIpcmV0dXJuIDQzO2lmKDYzPT1yKXJldHVybiA0N310aHJvdyJuOiIrcn0sKEI9e30pLndyaXRlQnl0ZT1mdW5jdGlvbihyKXtmb3Iocz1zPDw4fDI1NSZyLHcrPTgseSs9MTs2PD13OylDKHM+Pj53LTYpLHctPTZ9LEIuZmx1c2g9ZnVuY3Rpb24oKXtpZigwPHcmJihDKHM8PDYtdyksdz1zPTApLHklMyE9MClmb3IodmFyIHI9My15JTMsdD0wO3Q8cjt0Kz0xKXArPSI9In0sQi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBwfSxCKSxNPWwudG9CeXRlQXJyYXkoKSxiPTA7YjxNLmxlbmd0aDtiKz0xKWsud3JpdGVCeXRlKE1bYl0pO3JldHVybiBrLmZsdXNoKCksImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCwiK2t9O3JldHVybiBpfSgpO3FyY29kZS5zdHJpbmdUb0J5dGVzRnVuY3NbIlVURi04Il09ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIpe2Zvcih2YXIgdD1bXSxlPTA7ZTxyLmxlbmd0aDtlKyspe3ZhciBuPXIuY2hhckNvZGVBdChlKTtuPDEyOD90LnB1c2gobik6bjwyMDQ4P3QucHVzaCgxOTJ8bj4+NiwxMjh8NjMmbik6bjw1NTI5Nnx8NTczNDQ8PW4/dC5wdXNoKDIyNHxuPj4xMiwxMjh8bj4+NiY2MywxMjh8NjMmbik6KGUrKyxuPTY1NTM2KygoMTAyMyZuKTw8MTB8MTAyMyZyLmNoYXJDb2RlQXQoZSkpLHQucHVzaCgyNDB8bj4+MTgsMTI4fG4+PjEyJjYzLDEyOHxuPj42JjYzLDEyOHw2MyZuKSl9cmV0dXJuIHR9KHIpfSxmdW5jdGlvbihyKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxyKToib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1yKCkpfShmdW5jdGlvbigpe3JldHVybiBxcmNvZGV9KTs="},{"meta":{"name":"vue.min.js","url":"https://cdn.staticfile.org/vue/2.6.6/vue.min.js","ts":1584071792156,"mimetype":"text/javascript"},"source":"LyohCiAqIFZ1ZS5qcyB2Mi42LjYKICogKGMpIDIwMTQtMjAxOSBFdmFuIFlvdQogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuCiAqLwohZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTooZT1lfHxzZWxmKS5WdWU9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBlPU9iamVjdC5mcmVlemUoe30pO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIG51bGw9PWV9ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbCE9ZX1mdW5jdGlvbiByKGUpe3JldHVybiEwPT09ZX1mdW5jdGlvbiBpKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZXx8Im51bWJlciI9PXR5cGVvZiBlfHwic3ltYm9sIj09dHlwZW9mIGV8fCJib29sZWFuIj09dHlwZW9mIGV9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gbnVsbCE9PWUmJiJvYmplY3QiPT10eXBlb2YgZX12YXIgYT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIltvYmplY3QgT2JqZWN0XSI9PT1hLmNhbGwoZSl9ZnVuY3Rpb24gYyhlKXt2YXIgdD1wYXJzZUZsb2F0KFN0cmluZyhlKSk7cmV0dXJuIHQ+PTAmJk1hdGguZmxvb3IodCk9PT10JiZpc0Zpbml0ZShlKX1mdW5jdGlvbiB1KGUpe3JldHVybiBuKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS50aGVuJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5jYXRjaH1mdW5jdGlvbiBsKGUpe3JldHVybiBudWxsPT1lPyIiOkFycmF5LmlzQXJyYXkoZSl8fHMoZSkmJmUudG9TdHJpbmc9PT1hP0pTT04uc3RyaW5naWZ5KGUsbnVsbCwyKTpTdHJpbmcoZSl9ZnVuY3Rpb24gZihlKXt2YXIgdD1wYXJzZUZsb2F0KGUpO3JldHVybiBpc05hTih0KT9lOnR9ZnVuY3Rpb24gcChlLHQpe2Zvcih2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpLHI9ZS5zcGxpdCgiLCIpLGk9MDtpPHIubGVuZ3RoO2krKyluW3JbaV1dPSEwO3JldHVybiB0P2Z1bmN0aW9uKGUpe3JldHVybiBuW2UudG9Mb3dlckNhc2UoKV19OmZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfX12YXIgZD1wKCJzbG90LGNvbXBvbmVudCIsITApLHY9cCgia2V5LHJlZixzbG90LHNsb3Qtc2NvcGUsaXMiKTtmdW5jdGlvbiBoKGUsdCl7aWYoZS5sZW5ndGgpe3ZhciBuPWUuaW5kZXhPZih0KTtpZihuPi0xKXJldHVybiBlLnNwbGljZShuLDEpfX12YXIgbT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIHkoZSx0KXtyZXR1cm4gbS5jYWxsKGUsdCl9ZnVuY3Rpb24gZyhlKXt2YXIgdD1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdFtuXXx8KHRbbl09ZShuKSl9fXZhciBfPS8tKFx3KS9nLGI9ZyhmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKF8sZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90LnRvVXBwZXJDYXNlKCk6IiJ9KX0pLCQ9ZyhmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpfSksdz0vXEIoW0EtWl0pL2cseD1nKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UodywiLSQxIikudG9Mb3dlckNhc2UoKX0pO3ZhciBDPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYmluZCh0KX06ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg7cmV0dXJuIHI/cj4xP2UuYXBwbHkodCxhcmd1bWVudHMpOmUuY2FsbCh0LG4pOmUuY2FsbCh0KX1yZXR1cm4gbi5fbGVuZ3RoPWUubGVuZ3RoLG59O2Z1bmN0aW9uIEEoZSx0KXt0PXR8fDA7Zm9yKHZhciBuPWUubGVuZ3RoLXQscj1uZXcgQXJyYXkobik7bi0tOylyW25dPWVbbit0XTtyZXR1cm4gcn1mdW5jdGlvbiBrKGUsdCl7Zm9yKHZhciBuIGluIHQpZVtuXT10W25dO3JldHVybiBlfWZ1bmN0aW9uIE8oZSl7Zm9yKHZhciB0PXt9LG49MDtuPGUubGVuZ3RoO24rKyllW25dJiZrKHQsZVtuXSk7cmV0dXJuIHR9ZnVuY3Rpb24gUyhlLHQsbil7fXZhciBUPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMX0sRT1mdW5jdGlvbihlKXtyZXR1cm4gZX07ZnVuY3Rpb24gaihlLHQpe2lmKGU9PT10KXJldHVybiEwO3ZhciBuPW8oZSkscj1vKHQpO2lmKCFufHwhcilyZXR1cm4hbiYmIXImJlN0cmluZyhlKT09PVN0cmluZyh0KTt0cnl7dmFyIGk9QXJyYXkuaXNBcnJheShlKSxhPUFycmF5LmlzQXJyYXkodCk7aWYoaSYmYSlyZXR1cm4gZS5sZW5ndGg9PT10Lmxlbmd0aCYmZS5ldmVyeShmdW5jdGlvbihlLG4pe3JldHVybiBqKGUsdFtuXSl9KTtpZihlIGluc3RhbmNlb2YgRGF0ZSYmdCBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIGUuZ2V0VGltZSgpPT09dC5nZXRUaW1lKCk7aWYoaXx8YSlyZXR1cm4hMTt2YXIgcz1PYmplY3Qua2V5cyhlKSxjPU9iamVjdC5rZXlzKHQpO3JldHVybiBzLmxlbmd0aD09PWMubGVuZ3RoJiZzLmV2ZXJ5KGZ1bmN0aW9uKG4pe3JldHVybiBqKGVbbl0sdFtuXSl9KX1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gTihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKGooZVtuXSx0KSlyZXR1cm4gbjtyZXR1cm4tMX1mdW5jdGlvbiBMKGUpe3ZhciB0PSExO3JldHVybiBmdW5jdGlvbigpe3R8fCh0PSEwLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX19dmFyIE09ImRhdGEtc2VydmVyLXJlbmRlcmVkIixJPVsiY29tcG9uZW50IiwiZGlyZWN0aXZlIiwiZmlsdGVyIl0sRD1bImJlZm9yZUNyZWF0ZSIsImNyZWF0ZWQiLCJiZWZvcmVNb3VudCIsIm1vdW50ZWQiLCJiZWZvcmVVcGRhdGUiLCJ1cGRhdGVkIiwiYmVmb3JlRGVzdHJveSIsImRlc3Ryb3llZCIsImFjdGl2YXRlZCIsImRlYWN0aXZhdGVkIiwiZXJyb3JDYXB0dXJlZCIsInNlcnZlclByZWZldGNoIl0sUD17b3B0aW9uTWVyZ2VTdHJhdGVnaWVzOk9iamVjdC5jcmVhdGUobnVsbCksc2lsZW50OiExLHByb2R1Y3Rpb25UaXA6ITEsZGV2dG9vbHM6ITEscGVyZm9ybWFuY2U6ITEsZXJyb3JIYW5kbGVyOm51bGwsd2FybkhhbmRsZXI6bnVsbCxpZ25vcmVkRWxlbWVudHM6W10sa2V5Q29kZXM6T2JqZWN0LmNyZWF0ZShudWxsKSxpc1Jlc2VydmVkVGFnOlQsaXNSZXNlcnZlZEF0dHI6VCxpc1Vua25vd25FbGVtZW50OlQsZ2V0VGFnTmFtZXNwYWNlOlMscGFyc2VQbGF0Zm9ybVRhZ05hbWU6RSxtdXN0VXNlUHJvcDpULGFzeW5jOiEwLF9saWZlY3ljbGVIb29rczpEfTtmdW5jdGlvbiBSKGUsdCxuLHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohIXIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9dmFyIEY9bmV3IFJlZ0V4cCgiW15hLXpBLVpceGI3XHhjMC1ceGQ2XHhkOC1ceGY2XHhmOC1cdTAzN2RcdTAzN2YtXHUxZmZmXHUyMDBjLVx1MjAwZFx1MjAzZi1cdTIwNDBcdTIwNzAtXHUyMThmXHUyYzAwLVx1MmZlZlx1MzAwMS1cdWQ3ZmZcdWY5MDAtXHVmZGNmXHVmZGYwLVx1ZmZmZC4kX1xcZF0iKTt2YXIgSCxCPSJfX3Byb3RvX18iaW57fSxVPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LHo9InVuZGVmaW5lZCIhPXR5cGVvZiBXWEVudmlyb25tZW50JiYhIVdYRW52aXJvbm1lbnQucGxhdGZvcm0sVj16JiZXWEVudmlyb25tZW50LnBsYXRmb3JtLnRvTG93ZXJDYXNlKCksSz1VJiZ3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLEo9SyYmL21zaWV8dHJpZGVudC8udGVzdChLKSxxPUsmJksuaW5kZXhPZigibXNpZSA5LjAiKT4wLFc9SyYmSy5pbmRleE9mKCJlZGdlLyIpPjAsWj0oSyYmSy5pbmRleE9mKCJhbmRyb2lkIiksSyYmL2lwaG9uZXxpcGFkfGlwb2R8aW9zLy50ZXN0KEspfHwiaW9zIj09PVYpLEc9KEsmJi9jaHJvbWVcL1xkKy8udGVzdChLKSxLJiYvcGhhbnRvbWpzLy50ZXN0KEspLEsmJksubWF0Y2goL2ZpcmVmb3hcLyhcZCspLykpLFg9e30ud2F0Y2gsWT0hMTtpZihVKXRyeXt2YXIgUT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUSwicGFzc2l2ZSIse2dldDpmdW5jdGlvbigpe1k9ITB9fSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRlc3QtcGFzc2l2ZSIsbnVsbCxRKX1jYXRjaChlKXt9dmFyIGVlPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PUgmJihIPSFVJiYheiYmInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJihnbG9iYWwucHJvY2VzcyYmInNlcnZlciI9PT1nbG9iYWwucHJvY2Vzcy5lbnYuVlVFX0VOVikpLEh9LHRlPVUmJndpbmRvdy5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO2Z1bmN0aW9uIG5lKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYvbmF0aXZlIGNvZGUvLnRlc3QoZS50b1N0cmluZygpKX12YXIgcmUsaWU9InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm5lKFN5bWJvbCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgUmVmbGVjdCYmbmUoUmVmbGVjdC5vd25LZXlzKTtyZT0idW5kZWZpbmVkIiE9dHlwZW9mIFNldCYmbmUoU2V0KT9TZXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5zZXQ9T2JqZWN0LmNyZWF0ZShudWxsKX1yZXR1cm4gZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09dGhpcy5zZXRbZV19LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXt0aGlzLnNldFtlXT0hMH0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNldD1PYmplY3QuY3JlYXRlKG51bGwpfSxlfSgpO3ZhciBvZT1TLGFlPTAsc2U9ZnVuY3Rpb24oKXt0aGlzLmlkPWFlKyssdGhpcy5zdWJzPVtdfTtzZS5wcm90b3R5cGUuYWRkU3ViPWZ1bmN0aW9uKGUpe3RoaXMuc3Vicy5wdXNoKGUpfSxzZS5wcm90b3R5cGUucmVtb3ZlU3ViPWZ1bmN0aW9uKGUpe2godGhpcy5zdWJzLGUpfSxzZS5wcm90b3R5cGUuZGVwZW5kPWZ1bmN0aW9uKCl7c2UudGFyZ2V0JiZzZS50YXJnZXQuYWRkRGVwKHRoaXMpfSxzZS5wcm90b3R5cGUubm90aWZ5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuc3Vicy5zbGljZSgpLHQ9MCxuPWUubGVuZ3RoO3Q8bjt0KyspZVt0XS51cGRhdGUoKX0sc2UudGFyZ2V0PW51bGw7dmFyIGNlPVtdO2Z1bmN0aW9uIHVlKGUpe2NlLnB1c2goZSksc2UudGFyZ2V0PWV9ZnVuY3Rpb24gbGUoKXtjZS5wb3AoKSxzZS50YXJnZXQ9Y2VbY2UubGVuZ3RoLTFdfXZhciBmZT1mdW5jdGlvbihlLHQsbixyLGksbyxhLHMpe3RoaXMudGFnPWUsdGhpcy5kYXRhPXQsdGhpcy5jaGlsZHJlbj1uLHRoaXMudGV4dD1yLHRoaXMuZWxtPWksdGhpcy5ucz12b2lkIDAsdGhpcy5jb250ZXh0PW8sdGhpcy5mbkNvbnRleHQ9dm9pZCAwLHRoaXMuZm5PcHRpb25zPXZvaWQgMCx0aGlzLmZuU2NvcGVJZD12b2lkIDAsdGhpcy5rZXk9dCYmdC5rZXksdGhpcy5jb21wb25lbnRPcHRpb25zPWEsdGhpcy5jb21wb25lbnRJbnN0YW5jZT12b2lkIDAsdGhpcy5wYXJlbnQ9dm9pZCAwLHRoaXMucmF3PSExLHRoaXMuaXNTdGF0aWM9ITEsdGhpcy5pc1Jvb3RJbnNlcnQ9ITAsdGhpcy5pc0NvbW1lbnQ9ITEsdGhpcy5pc0Nsb25lZD0hMSx0aGlzLmlzT25jZT0hMSx0aGlzLmFzeW5jRmFjdG9yeT1zLHRoaXMuYXN5bmNNZXRhPXZvaWQgMCx0aGlzLmlzQXN5bmNQbGFjZWhvbGRlcj0hMX0scGU9e2NoaWxkOntjb25maWd1cmFibGU6ITB9fTtwZS5jaGlsZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRJbnN0YW5jZX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZmUucHJvdG90eXBlLHBlKTt2YXIgZGU9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9IiIpO3ZhciB0PW5ldyBmZTtyZXR1cm4gdC50ZXh0PWUsdC5pc0NvbW1lbnQ9ITAsdH07ZnVuY3Rpb24gdmUoZSl7cmV0dXJuIG5ldyBmZSh2b2lkIDAsdm9pZCAwLHZvaWQgMCxTdHJpbmcoZSkpfWZ1bmN0aW9uIGhlKGUpe3ZhciB0PW5ldyBmZShlLnRhZyxlLmRhdGEsZS5jaGlsZHJlbiYmZS5jaGlsZHJlbi5zbGljZSgpLGUudGV4dCxlLmVsbSxlLmNvbnRleHQsZS5jb21wb25lbnRPcHRpb25zLGUuYXN5bmNGYWN0b3J5KTtyZXR1cm4gdC5ucz1lLm5zLHQuaXNTdGF0aWM9ZS5pc1N0YXRpYyx0LmtleT1lLmtleSx0LmlzQ29tbWVudD1lLmlzQ29tbWVudCx0LmZuQ29udGV4dD1lLmZuQ29udGV4dCx0LmZuT3B0aW9ucz1lLmZuT3B0aW9ucyx0LmZuU2NvcGVJZD1lLmZuU2NvcGVJZCx0LmFzeW5jTWV0YT1lLmFzeW5jTWV0YSx0LmlzQ2xvbmVkPSEwLHR9dmFyIG1lPUFycmF5LnByb3RvdHlwZSx5ZT1PYmplY3QuY3JlYXRlKG1lKTtbInB1c2giLCJwb3AiLCJzaGlmdCIsInVuc2hpZnQiLCJzcGxpY2UiLCJzb3J0IiwicmV2ZXJzZSJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bWVbZV07Uih5ZSxlLGZ1bmN0aW9uKCl7Zm9yKHZhciBuPVtdLHI9YXJndW1lbnRzLmxlbmd0aDtyLS07KW5bcl09YXJndW1lbnRzW3JdO3ZhciBpLG89dC5hcHBseSh0aGlzLG4pLGE9dGhpcy5fX29iX187c3dpdGNoKGUpe2Nhc2UicHVzaCI6Y2FzZSJ1bnNoaWZ0IjppPW47YnJlYWs7Y2FzZSJzcGxpY2UiOmk9bi5zbGljZSgyKX1yZXR1cm4gaSYmYS5vYnNlcnZlQXJyYXkoaSksYS5kZXAubm90aWZ5KCksb30pfSk7dmFyIGdlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHllKSxfZT0hMDtmdW5jdGlvbiBiZShlKXtfZT1lfXZhciAkZT1mdW5jdGlvbihlKXt2YXIgdDt0aGlzLnZhbHVlPWUsdGhpcy5kZXA9bmV3IHNlLHRoaXMudm1Db3VudD0wLFIoZSwiX19vYl9fIix0aGlzKSxBcnJheS5pc0FycmF5KGUpPyhCPyh0PXllLGUuX19wcm90b19fPXQpOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MCxpPW4ubGVuZ3RoO3I8aTtyKyspe3ZhciBvPW5bcl07UihlLG8sdFtvXSl9fShlLHllLGdlKSx0aGlzLm9ic2VydmVBcnJheShlKSk6dGhpcy53YWxrKGUpfTtmdW5jdGlvbiB3ZShlLHQpe3ZhciBuO2lmKG8oZSkmJiEoZSBpbnN0YW5jZW9mIGZlKSlyZXR1cm4geShlLCJfX29iX18iKSYmZS5fX29iX18gaW5zdGFuY2VvZiAkZT9uPWUuX19vYl9fOl9lJiYhZWUoKSYmKEFycmF5LmlzQXJyYXkoZSl8fHMoZSkpJiZPYmplY3QuaXNFeHRlbnNpYmxlKGUpJiYhZS5faXNWdWUmJihuPW5ldyAkZShlKSksdCYmbiYmbi52bUNvdW50Kyssbn1mdW5jdGlvbiB4ZShlLHQsbixyLGkpe3ZhciBvPW5ldyBzZSxhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTtpZighYXx8ITEhPT1hLmNvbmZpZ3VyYWJsZSl7dmFyIHM9YSYmYS5nZXQsYz1hJiZhLnNldDtzJiYhY3x8MiE9PWFyZ3VtZW50cy5sZW5ndGh8fChuPWVbdF0pO3ZhciB1PSFpJiZ3ZShuKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1zP3MuY2FsbChlKTpuO3JldHVybiBzZS50YXJnZXQmJihvLmRlcGVuZCgpLHUmJih1LmRlcC5kZXBlbmQoKSxBcnJheS5pc0FycmF5KHQpJiZmdW5jdGlvbiBlKHQpe2Zvcih2YXIgbj12b2lkIDAscj0wLGk9dC5sZW5ndGg7cjxpO3IrKykobj10W3JdKSYmbi5fX29iX18mJm4uX19vYl9fLmRlcC5kZXBlbmQoKSxBcnJheS5pc0FycmF5KG4pJiZlKG4pfSh0KSkpLHR9LHNldDpmdW5jdGlvbih0KXt2YXIgcj1zP3MuY2FsbChlKTpuO3Q9PT1yfHx0IT10JiZyIT1yfHxzJiYhY3x8KGM/Yy5jYWxsKGUsdCk6bj10LHU9IWkmJndlKHQpLG8ubm90aWZ5KCkpfX0pfX1mdW5jdGlvbiBDZShlLHQsbil7aWYoQXJyYXkuaXNBcnJheShlKSYmYyh0KSlyZXR1cm4gZS5sZW5ndGg9TWF0aC5tYXgoZS5sZW5ndGgsdCksZS5zcGxpY2UodCwxLG4pLG47aWYodCBpbiBlJiYhKHQgaW4gT2JqZWN0LnByb3RvdHlwZSkpcmV0dXJuIGVbdF09bixuO3ZhciByPWUuX19vYl9fO3JldHVybiBlLl9pc1Z1ZXx8ciYmci52bUNvdW50P246cj8oeGUoci52YWx1ZSx0LG4pLHIuZGVwLm5vdGlmeSgpLG4pOihlW3RdPW4sbil9ZnVuY3Rpb24gQWUoZSx0KXtpZihBcnJheS5pc0FycmF5KGUpJiZjKHQpKWUuc3BsaWNlKHQsMSk7ZWxzZXt2YXIgbj1lLl9fb2JfXztlLl9pc1Z1ZXx8biYmbi52bUNvdW50fHx5KGUsdCkmJihkZWxldGUgZVt0XSxuJiZuLmRlcC5ub3RpZnkoKSl9fSRlLnByb3RvdHlwZS53YWxrPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDtuKyspeGUoZSx0W25dKX0sJGUucHJvdG90eXBlLm9ic2VydmVBcnJheT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoO3Q8bjt0Kyspd2UoZVt0XSl9O3ZhciBrZT1QLm9wdGlvbk1lcmdlU3RyYXRlZ2llcztmdW5jdGlvbiBPZShlLHQpe2lmKCF0KXJldHVybiBlO2Zvcih2YXIgbixyLGksbz1pZT9SZWZsZWN0Lm93bktleXModCk6T2JqZWN0LmtleXModCksYT0wO2E8by5sZW5ndGg7YSsrKSJfX29iX18iIT09KG49b1thXSkmJihyPWVbbl0saT10W25dLHkoZSxuKT9yIT09aSYmcyhyKSYmcyhpKSYmT2UocixpKTpDZShlLG4saSkpO3JldHVybiBlfWZ1bmN0aW9uIFNlKGUsdCxuKXtyZXR1cm4gbj9mdW5jdGlvbigpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3QuY2FsbChuLG4pOnQsaT0iZnVuY3Rpb24iPT10eXBlb2YgZT9lLmNhbGwobixuKTplO3JldHVybiByP09lKHIsaSk6aX06dD9lP2Z1bmN0aW9uKCl7cmV0dXJuIE9lKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3QuY2FsbCh0aGlzLHRoaXMpOnQsImZ1bmN0aW9uIj09dHlwZW9mIGU/ZS5jYWxsKHRoaXMsdGhpcyk6ZSl9OnQ6ZX1mdW5jdGlvbiBUZShlLHQpe3ZhciBuPXQ/ZT9lLmNvbmNhdCh0KTpBcnJheS5pc0FycmF5KHQpP3Q6W3RdOmU7cmV0dXJuIG4/ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyktMT09PXQuaW5kZXhPZihlW25dKSYmdC5wdXNoKGVbbl0pO3JldHVybiB0fShuKTpufWZ1bmN0aW9uIEVlKGUsdCxuLHIpe3ZhciBpPU9iamVjdC5jcmVhdGUoZXx8bnVsbCk7cmV0dXJuIHQ/ayhpLHQpOml9a2UuZGF0YT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG4/U2UoZSx0LG4pOnQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6U2UoZSx0KX0sRC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2tlW2VdPVRlfSksSS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2tlW2UrInMiXT1FZX0pLGtlLndhdGNoPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGU9PT1YJiYoZT12b2lkIDApLHQ9PT1YJiYodD12b2lkIDApLCF0KXJldHVybiBPYmplY3QuY3JlYXRlKGV8fG51bGwpO2lmKCFlKXJldHVybiB0O3ZhciBpPXt9O2Zvcih2YXIgbyBpbiBrKGksZSksdCl7dmFyIGE9aVtvXSxzPXRbb107YSYmIUFycmF5LmlzQXJyYXkoYSkmJihhPVthXSksaVtvXT1hP2EuY29uY2F0KHMpOkFycmF5LmlzQXJyYXkocyk/czpbc119cmV0dXJuIGl9LGtlLnByb3BzPWtlLm1ldGhvZHM9a2UuaW5qZWN0PWtlLmNvbXB1dGVkPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCFlKXJldHVybiB0O3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGsoaSxlKSx0JiZrKGksdCksaX0sa2UucHJvdmlkZT1TZTt2YXIgamU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9lOnR9O2Z1bmN0aW9uIE5lKGUsdCxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHQ9dC5vcHRpb25zKSxmdW5jdGlvbihlLHQpe3ZhciBuPWUucHJvcHM7aWYobil7dmFyIHIsaSxvPXt9O2lmKEFycmF5LmlzQXJyYXkobikpZm9yKHI9bi5sZW5ndGg7ci0tOykic3RyaW5nIj09dHlwZW9mKGk9bltyXSkmJihvW2IoaSldPXt0eXBlOm51bGx9KTtlbHNlIGlmKHMobikpZm9yKHZhciBhIGluIG4paT1uW2FdLG9bYihhKV09cyhpKT9pOnt0eXBlOml9O2UucHJvcHM9b319KHQpLGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5pbmplY3Q7aWYobil7dmFyIHI9ZS5pbmplY3Q9e307aWYoQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKylyW25baV1dPXtmcm9tOm5baV19O2Vsc2UgaWYocyhuKSlmb3IodmFyIG8gaW4gbil7dmFyIGE9bltvXTtyW29dPXMoYSk/ayh7ZnJvbTpvfSxhKTp7ZnJvbTphfX19fSh0KSxmdW5jdGlvbihlKXt2YXIgdD1lLmRpcmVjdGl2ZXM7aWYodClmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXTsiZnVuY3Rpb24iPT10eXBlb2YgciYmKHRbbl09e2JpbmQ6cix1cGRhdGU6cn0pfX0odCksIXQuX2Jhc2UmJih0LmV4dGVuZHMmJihlPU5lKGUsdC5leHRlbmRzLG4pKSx0Lm1peGlucykpZm9yKHZhciByPTAsaT10Lm1peGlucy5sZW5ndGg7cjxpO3IrKyllPU5lKGUsdC5taXhpbnNbcl0sbik7dmFyIG8sYT17fTtmb3IobyBpbiBlKWMobyk7Zm9yKG8gaW4gdCl5KGUsbyl8fGMobyk7ZnVuY3Rpb24gYyhyKXt2YXIgaT1rZVtyXXx8amU7YVtyXT1pKGVbcl0sdFtyXSxuLHIpfXJldHVybiBhfWZ1bmN0aW9uIExlKGUsdCxuLHIpe2lmKCJzdHJpbmciPT10eXBlb2Ygbil7dmFyIGk9ZVt0XTtpZih5KGksbikpcmV0dXJuIGlbbl07dmFyIG89YihuKTtpZih5KGksbykpcmV0dXJuIGlbb107dmFyIGE9JChvKTtyZXR1cm4geShpLGEpP2lbYV06aVtuXXx8aVtvXXx8aVthXX19ZnVuY3Rpb24gTWUoZSx0LG4scil7dmFyIGk9dFtlXSxvPSF5KG4sZSksYT1uW2VdLHM9UGUoQm9vbGVhbixpLnR5cGUpO2lmKHM+LTEpaWYobyYmIXkoaSwiZGVmYXVsdCIpKWE9ITE7ZWxzZSBpZigiIj09PWF8fGE9PT14KGUpKXt2YXIgYz1QZShTdHJpbmcsaS50eXBlKTsoYzwwfHxzPGMpJiYoYT0hMCl9aWYodm9pZCAwPT09YSl7YT1mdW5jdGlvbihlLHQsbil7aWYoIXkodCwiZGVmYXVsdCIpKXJldHVybjt2YXIgcj10LmRlZmF1bHQ7aWYoZSYmZS4kb3B0aW9ucy5wcm9wc0RhdGEmJnZvaWQgMD09PWUuJG9wdGlvbnMucHJvcHNEYXRhW25dJiZ2b2lkIDAhPT1lLl9wcm9wc1tuXSlyZXR1cm4gZS5fcHJvcHNbbl07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHImJiJGdW5jdGlvbiIhPT1JZSh0LnR5cGUpP3IuY2FsbChlKTpyfShyLGksZSk7dmFyIHU9X2U7YmUoITApLHdlKGEpLGJlKHUpfXJldHVybiBhfWZ1bmN0aW9uIEllKGUpe3ZhciB0PWUmJmUudG9TdHJpbmcoKS5tYXRjaCgvXlxzKmZ1bmN0aW9uIChcdyspLyk7cmV0dXJuIHQ/dFsxXToiIn1mdW5jdGlvbiBEZShlLHQpe3JldHVybiBJZShlKT09PUllKHQpfWZ1bmN0aW9uIFBlKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIERlKHQsZSk/MDotMTtmb3IodmFyIG49MCxyPXQubGVuZ3RoO248cjtuKyspaWYoRGUodFtuXSxlKSlyZXR1cm4gbjtyZXR1cm4tMX1mdW5jdGlvbiBSZShlLHQsbil7aWYodClmb3IodmFyIHI9dDtyPXIuJHBhcmVudDspe3ZhciBpPXIuJG9wdGlvbnMuZXJyb3JDYXB0dXJlZDtpZihpKWZvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXRyeXtpZighMT09PWlbb10uY2FsbChyLGUsdCxuKSlyZXR1cm59Y2F0Y2goZSl7SGUoZSxyLCJlcnJvckNhcHR1cmVkIGhvb2siKX19SGUoZSx0LG4pfWZ1bmN0aW9uIEZlKGUsdCxuLHIsaSl7dmFyIG87dHJ5eyhvPW4/ZS5hcHBseSh0LG4pOmUuY2FsbCh0KSkmJiFvLl9pc1Z1ZSYmdShvKSYmby5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gUmUoZSxyLGkrIiAoUHJvbWlzZS9hc3luYykiKX0pfWNhdGNoKGUpe1JlKGUscixpKX1yZXR1cm4gb31mdW5jdGlvbiBIZShlLHQsbil7aWYoUC5lcnJvckhhbmRsZXIpdHJ5e3JldHVybiBQLmVycm9ySGFuZGxlci5jYWxsKG51bGwsZSx0LG4pfWNhdGNoKHQpe3QhPT1lJiZCZSh0LG51bGwsImNvbmZpZy5lcnJvckhhbmRsZXIiKX1CZShlLHQsbil9ZnVuY3Rpb24gQmUoZSx0LG4pe2lmKCFVJiYhenx8InVuZGVmaW5lZCI9PXR5cGVvZiBjb25zb2xlKXRocm93IGU7Y29uc29sZS5lcnJvcihlKX12YXIgVWUsemU9ITEsVmU9W10sS2U9ITE7ZnVuY3Rpb24gSmUoKXtLZT0hMTt2YXIgZT1WZS5zbGljZSgwKTtWZS5sZW5ndGg9MDtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdKCl9aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBQcm9taXNlJiZuZShQcm9taXNlKSl7dmFyIHFlPVByb21pc2UucmVzb2x2ZSgpO1VlPWZ1bmN0aW9uKCl7cWUudGhlbihKZSksWiYmc2V0VGltZW91dChTKX0semU9ITB9ZWxzZSBpZihKfHwidW5kZWZpbmVkIj09dHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXJ8fCFuZShNdXRhdGlvbk9ic2VydmVyKSYmIltvYmplY3QgTXV0YXRpb25PYnNlcnZlckNvbnN0cnVjdG9yXSIhPT1NdXRhdGlvbk9ic2VydmVyLnRvU3RyaW5nKCkpVWU9InVuZGVmaW5lZCIhPXR5cGVvZiBzZXRJbW1lZGlhdGUmJm5lKHNldEltbWVkaWF0ZSk/ZnVuY3Rpb24oKXtzZXRJbW1lZGlhdGUoSmUpfTpmdW5jdGlvbigpe3NldFRpbWVvdXQoSmUsMCl9O2Vsc2V7dmFyIFdlPTEsWmU9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoSmUpLEdlPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFN0cmluZyhXZSkpO1plLm9ic2VydmUoR2Use2NoYXJhY3RlckRhdGE6ITB9KSxVZT1mdW5jdGlvbigpe1dlPShXZSsxKSUyLEdlLmRhdGE9U3RyaW5nKFdlKX0semU9ITB9ZnVuY3Rpb24gWGUoZSx0KXt2YXIgbjtpZihWZS5wdXNoKGZ1bmN0aW9uKCl7aWYoZSl0cnl7ZS5jYWxsKHQpfWNhdGNoKGUpe1JlKGUsdCwibmV4dFRpY2siKX1lbHNlIG4mJm4odCl9KSxLZXx8KEtlPSEwLFVlKCkpLCFlJiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb21pc2UpcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpe249ZX0pfXZhciBZZT1uZXcgcmU7ZnVuY3Rpb24gUWUoZSl7IWZ1bmN0aW9uIGUodCxuKXt2YXIgcixpO3ZhciBhPUFycmF5LmlzQXJyYXkodCk7aWYoIWEmJiFvKHQpfHxPYmplY3QuaXNGcm96ZW4odCl8fHQgaW5zdGFuY2VvZiBmZSlyZXR1cm47aWYodC5fX29iX18pe3ZhciBzPXQuX19vYl9fLmRlcC5pZDtpZihuLmhhcyhzKSlyZXR1cm47bi5hZGQocyl9aWYoYSlmb3Iocj10Lmxlbmd0aDtyLS07KWUodFtyXSxuKTtlbHNlIGZvcihpPU9iamVjdC5rZXlzKHQpLHI9aS5sZW5ndGg7ci0tOyllKHRbaVtyXV0sbil9KGUsWWUpLFllLmNsZWFyKCl9dmFyIGV0PWcoZnVuY3Rpb24oZSl7dmFyIHQ9IiYiPT09ZS5jaGFyQXQoMCksbj0ifiI9PT0oZT10P2Uuc2xpY2UoMSk6ZSkuY2hhckF0KDApLHI9IiEiPT09KGU9bj9lLnNsaWNlKDEpOmUpLmNoYXJBdCgwKTtyZXR1cm57bmFtZTplPXI/ZS5zbGljZSgxKTplLG9uY2U6bixjYXB0dXJlOnIscGFzc2l2ZTp0fX0pO2Z1bmN0aW9uIHR0KGUsdCl7ZnVuY3Rpb24gbigpe3ZhciBlPWFyZ3VtZW50cyxyPW4uZm5zO2lmKCFBcnJheS5pc0FycmF5KHIpKXJldHVybiBGZShyLG51bGwsYXJndW1lbnRzLHQsInYtb24gaGFuZGxlciIpO2Zvcih2YXIgaT1yLnNsaWNlKCksbz0wO288aS5sZW5ndGg7bysrKUZlKGlbb10sbnVsbCxlLHQsInYtb24gaGFuZGxlciIpfXJldHVybiBuLmZucz1lLG59ZnVuY3Rpb24gbnQoZSxuLGksbyxhLHMpe3ZhciBjLHUsbCxmO2ZvcihjIGluIGUpdT1lW2NdLGw9bltjXSxmPWV0KGMpLHQodSl8fCh0KGwpPyh0KHUuZm5zKSYmKHU9ZVtjXT10dCh1LHMpKSxyKGYub25jZSkmJih1PWVbY109YShmLm5hbWUsdSxmLmNhcHR1cmUpKSxpKGYubmFtZSx1LGYuY2FwdHVyZSxmLnBhc3NpdmUsZi5wYXJhbXMpKTp1IT09bCYmKGwuZm5zPXUsZVtjXT1sKSk7Zm9yKGMgaW4gbil0KGVbY10pJiZvKChmPWV0KGMpKS5uYW1lLG5bY10sZi5jYXB0dXJlKX1mdW5jdGlvbiBydChlLGksbyl7dmFyIGE7ZSBpbnN0YW5jZW9mIGZlJiYoZT1lLmRhdGEuaG9va3x8KGUuZGF0YS5ob29rPXt9KSk7dmFyIHM9ZVtpXTtmdW5jdGlvbiBjKCl7by5hcHBseSh0aGlzLGFyZ3VtZW50cyksaChhLmZucyxjKX10KHMpP2E9dHQoW2NdKTpuKHMuZm5zKSYmcihzLm1lcmdlZCk/KGE9cykuZm5zLnB1c2goYyk6YT10dChbcyxjXSksYS5tZXJnZWQ9ITAsZVtpXT1hfWZ1bmN0aW9uIGl0KGUsdCxyLGksbyl7aWYobih0KSl7aWYoeSh0LHIpKXJldHVybiBlW3JdPXRbcl0sb3x8ZGVsZXRlIHRbcl0sITA7aWYoeSh0LGkpKXJldHVybiBlW3JdPXRbaV0sb3x8ZGVsZXRlIHRbaV0sITB9cmV0dXJuITF9ZnVuY3Rpb24gb3QoZSl7cmV0dXJuIGkoZSk/W3ZlKGUpXTpBcnJheS5pc0FycmF5KGUpP2Z1bmN0aW9uIGUobyxhKXt2YXIgcz1bXTt2YXIgYyx1LGwsZjtmb3IoYz0wO2M8by5sZW5ndGg7YysrKXQodT1vW2NdKXx8ImJvb2xlYW4iPT10eXBlb2YgdXx8KGw9cy5sZW5ndGgtMSxmPXNbbF0sQXJyYXkuaXNBcnJheSh1KT91Lmxlbmd0aD4wJiYoYXQoKHU9ZSh1LChhfHwiIikrIl8iK2MpKVswXSkmJmF0KGYpJiYoc1tsXT12ZShmLnRleHQrdVswXS50ZXh0KSx1LnNoaWZ0KCkpLHMucHVzaC5hcHBseShzLHUpKTppKHUpP2F0KGYpP3NbbF09dmUoZi50ZXh0K3UpOiIiIT09dSYmcy5wdXNoKHZlKHUpKTphdCh1KSYmYXQoZik/c1tsXT12ZShmLnRleHQrdS50ZXh0KToocihvLl9pc1ZMaXN0KSYmbih1LnRhZykmJnQodS5rZXkpJiZuKGEpJiYodS5rZXk9Il9fdmxpc3QiK2ErIl8iK2MrIl9fIikscy5wdXNoKHUpKSk7cmV0dXJuIHN9KGUpOnZvaWQgMH1mdW5jdGlvbiBhdChlKXtyZXR1cm4gbihlKSYmbihlLnRleHQpJiYhMT09PWUuaXNDb21tZW50fWZ1bmN0aW9uIHN0KGUsdCl7aWYoZSl7Zm9yKHZhciBuPU9iamVjdC5jcmVhdGUobnVsbCkscj1pZT9SZWZsZWN0Lm93bktleXMoZSk6T2JqZWN0LmtleXMoZSksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgbz1yW2ldO2lmKCJfX29iX18iIT09byl7Zm9yKHZhciBhPWVbb10uZnJvbSxzPXQ7czspe2lmKHMuX3Byb3ZpZGVkJiZ5KHMuX3Byb3ZpZGVkLGEpKXtuW29dPXMuX3Byb3ZpZGVkW2FdO2JyZWFrfXM9cy4kcGFyZW50fWlmKCFzJiYiZGVmYXVsdCJpbiBlW29dKXt2YXIgYz1lW29dLmRlZmF1bHQ7bltvXT0iZnVuY3Rpb24iPT10eXBlb2YgYz9jLmNhbGwodCk6Y319fXJldHVybiBufX1mdW5jdGlvbiBjdChlLHQpe2lmKCFlfHwhZS5sZW5ndGgpcmV0dXJue307Zm9yKHZhciBuPXt9LHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe3ZhciBvPWVbcl0sYT1vLmRhdGE7aWYoYSYmYS5hdHRycyYmYS5hdHRycy5zbG90JiZkZWxldGUgYS5hdHRycy5zbG90LG8uY29udGV4dCE9PXQmJm8uZm5Db250ZXh0IT09dHx8IWF8fG51bGw9PWEuc2xvdCkobi5kZWZhdWx0fHwobi5kZWZhdWx0PVtdKSkucHVzaChvKTtlbHNle3ZhciBzPWEuc2xvdCxjPW5bc118fChuW3NdPVtdKTsidGVtcGxhdGUiPT09by50YWc/Yy5wdXNoLmFwcGx5KGMsby5jaGlsZHJlbnx8W10pOmMucHVzaChvKX19Zm9yKHZhciB1IGluIG4pblt1XS5ldmVyeSh1dCkmJmRlbGV0ZSBuW3VdO3JldHVybiBufWZ1bmN0aW9uIHV0KGUpe3JldHVybiBlLmlzQ29tbWVudCYmIWUuYXN5bmNGYWN0b3J5fHwiICI9PT1lLnRleHR9ZnVuY3Rpb24gbHQodCxuLHIpe3ZhciBpO2lmKHQpe2lmKHQuX25vcm1hbGl6ZWQpcmV0dXJuIHQuX25vcm1hbGl6ZWQ7aWYodC4kc3RhYmxlJiZyJiZyIT09ZSYmMD09PU9iamVjdC5rZXlzKG4pLmxlbmd0aClyZXR1cm4gcjtmb3IodmFyIG8gaW4gaT17fSx0KXRbb10mJiIkIiE9PW9bMF0mJihpW29dPWZ0KG4sbyx0W29dKSl9ZWxzZSBpPXt9O2Zvcih2YXIgYSBpbiBuKWEgaW4gaXx8KGlbYV09cHQobixhKSk7cmV0dXJuIHQmJk9iamVjdC5pc0V4dGVuc2libGUodCkmJih0Ll9ub3JtYWxpemVkPWkpLFIoaSwiJHN0YWJsZSIsIXR8fCEhdC4kc3RhYmxlKSxpfWZ1bmN0aW9uIGZ0KGUsdCxuKXt2YXIgcj1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg/bi5hcHBseShudWxsLGFyZ3VtZW50cyk6bih7fSk7cmV0dXJuKGU9ZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYhQXJyYXkuaXNBcnJheShlKT9bZV06b3QoZSkpJiYwPT09ZS5sZW5ndGg/dm9pZCAwOmV9O3JldHVybiBuLnByb3h5JiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtnZXQ6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHJ9ZnVuY3Rpb24gcHQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZVt0XX19ZnVuY3Rpb24gZHQoZSx0KXt2YXIgcixpLGEscyxjO2lmKEFycmF5LmlzQXJyYXkoZSl8fCJzdHJpbmciPT10eXBlb2YgZSlmb3Iocj1uZXcgQXJyYXkoZS5sZW5ndGgpLGk9MCxhPWUubGVuZ3RoO2k8YTtpKyspcltpXT10KGVbaV0saSk7ZWxzZSBpZigibnVtYmVyIj09dHlwZW9mIGUpZm9yKHI9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXJbaV09dChpKzEsaSk7ZWxzZSBpZihvKGUpKWlmKGllJiZlW1N5bWJvbC5pdGVyYXRvcl0pe3I9W107Zm9yKHZhciB1PWVbU3ltYm9sLml0ZXJhdG9yXSgpLGw9dS5uZXh0KCk7IWwuZG9uZTspci5wdXNoKHQobC52YWx1ZSxyLmxlbmd0aCkpLGw9dS5uZXh0KCl9ZWxzZSBmb3Iocz1PYmplY3Qua2V5cyhlKSxyPW5ldyBBcnJheShzLmxlbmd0aCksaT0wLGE9cy5sZW5ndGg7aTxhO2krKyljPXNbaV0scltpXT10KGVbY10sYyxpKTtyZXR1cm4gbihyKXx8KHI9W10pLHIuX2lzVkxpc3Q9ITAscn1mdW5jdGlvbiB2dChlLHQsbixyKXt2YXIgaSxvPXRoaXMuJHNjb3BlZFNsb3RzW2VdO28/KG49bnx8e30sciYmKG49ayhrKHt9LHIpLG4pKSxpPW8obil8fHQpOmk9dGhpcy4kc2xvdHNbZV18fHQ7dmFyIGE9biYmbi5zbG90O3JldHVybiBhP3RoaXMuJGNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIix7c2xvdDphfSxpKTppfWZ1bmN0aW9uIGh0KGUpe3JldHVybiBMZSh0aGlzLiRvcHRpb25zLCJmaWx0ZXJzIixlKXx8RX1mdW5jdGlvbiBtdChlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KGUpPy0xPT09ZS5pbmRleE9mKHQpOmUhPT10fWZ1bmN0aW9uIHl0KGUsdCxuLHIsaSl7dmFyIG89UC5rZXlDb2Rlc1t0XXx8bjtyZXR1cm4gaSYmciYmIVAua2V5Q29kZXNbdF0/bXQoaSxyKTpvP210KG8sZSk6cj94KHIpIT09dDp2b2lkIDB9ZnVuY3Rpb24gZ3QoZSx0LG4scixpKXtpZihuKWlmKG8obikpe3ZhciBhO0FycmF5LmlzQXJyYXkobikmJihuPU8obikpO3ZhciBzPWZ1bmN0aW9uKG8pe2lmKCJjbGFzcyI9PT1vfHwic3R5bGUiPT09b3x8dihvKSlhPWU7ZWxzZXt2YXIgcz1lLmF0dHJzJiZlLmF0dHJzLnR5cGU7YT1yfHxQLm11c3RVc2VQcm9wKHQscyxvKT9lLmRvbVByb3BzfHwoZS5kb21Qcm9wcz17fSk6ZS5hdHRyc3x8KGUuYXR0cnM9e30pfXZhciBjPWIobyk7byBpbiBhfHxjIGluIGF8fChhW29dPW5bb10saSYmKChlLm9ufHwoZS5vbj17fSkpWyJ1cGRhdGU6IitjXT1mdW5jdGlvbihlKXtuW29dPWV9KSl9O2Zvcih2YXIgYyBpbiBuKXMoYyl9ZWxzZTtyZXR1cm4gZX1mdW5jdGlvbiBfdChlLHQpe3ZhciBuPXRoaXMuX3N0YXRpY1RyZWVzfHwodGhpcy5fc3RhdGljVHJlZXM9W10pLHI9bltlXTtyZXR1cm4gciYmIXQ/cjooJHQocj1uW2VdPXRoaXMuJG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zW2VdLmNhbGwodGhpcy5fcmVuZGVyUHJveHksbnVsbCx0aGlzKSwiX19zdGF0aWNfXyIrZSwhMSkscil9ZnVuY3Rpb24gYnQoZSx0LG4pe3JldHVybiAkdChlLCJfX29uY2VfXyIrdCsobj8iXyIrbjoiIiksITApLGV9ZnVuY3Rpb24gJHQoZSx0LG4pe2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspZVtyXSYmInN0cmluZyIhPXR5cGVvZiBlW3JdJiZ3dChlW3JdLHQrIl8iK3Isbik7ZWxzZSB3dChlLHQsbil9ZnVuY3Rpb24gd3QoZSx0LG4pe2UuaXNTdGF0aWM9ITAsZS5rZXk9dCxlLmlzT25jZT1ufWZ1bmN0aW9uIHh0KGUsdCl7aWYodClpZihzKHQpKXt2YXIgbj1lLm9uPWUub24/ayh7fSxlLm9uKTp7fTtmb3IodmFyIHIgaW4gdCl7dmFyIGk9bltyXSxvPXRbcl07bltyXT1pP1tdLmNvbmNhdChpLG8pOm99fWVsc2U7cmV0dXJuIGV9ZnVuY3Rpb24gQ3QoZSx0LG4pe249bnx8eyRzdGFibGU6IXR9O2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdO0FycmF5LmlzQXJyYXkoaSk/Q3QoaSx0LG4pOmkmJihpLnByb3h5JiYoaS5mbi5wcm94eT0hMCksbltpLmtleV09aS5mbil9cmV0dXJuIG59ZnVuY3Rpb24gQXQoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rPTIpe3ZhciByPXRbbl07InN0cmluZyI9PXR5cGVvZiByJiZyJiYoZVt0W25dXT10W24rMV0pfXJldHVybiBlfWZ1bmN0aW9uIGt0KGUsdCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP3QrZTplfWZ1bmN0aW9uIE90KGUpe2UuX289YnQsZS5fbj1mLGUuX3M9bCxlLl9sPWR0LGUuX3Q9dnQsZS5fcT1qLGUuX2k9TixlLl9tPV90LGUuX2Y9aHQsZS5faz15dCxlLl9iPWd0LGUuX3Y9dmUsZS5fZT1kZSxlLl91PUN0LGUuX2c9eHQsZS5fZD1BdCxlLl9wPWt0fWZ1bmN0aW9uIFN0KHQsbixpLG8sYSl7dmFyIHMsYz10aGlzLHU9YS5vcHRpb25zO3kobywiX3VpZCIpPyhzPU9iamVjdC5jcmVhdGUobykpLl9vcmlnaW5hbD1vOihzPW8sbz1vLl9vcmlnaW5hbCk7dmFyIGw9cih1Ll9jb21waWxlZCksZj0hbDt0aGlzLmRhdGE9dCx0aGlzLnByb3BzPW4sdGhpcy5jaGlsZHJlbj1pLHRoaXMucGFyZW50PW8sdGhpcy5saXN0ZW5lcnM9dC5vbnx8ZSx0aGlzLmluamVjdGlvbnM9c3QodS5pbmplY3QsbyksdGhpcy5zbG90cz1mdW5jdGlvbigpe3JldHVybiBjLiRzbG90c3x8bHQodC5zY29wZWRTbG90cyxjLiRzbG90cz1jdChpLG8pKSxjLiRzbG90c30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInNjb3BlZFNsb3RzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQodC5zY29wZWRTbG90cyx0aGlzLnNsb3RzKCkpfX0pLGwmJih0aGlzLiRvcHRpb25zPXUsdGhpcy4kc2xvdHM9dGhpcy5zbG90cygpLHRoaXMuJHNjb3BlZFNsb3RzPWx0KHQuc2NvcGVkU2xvdHMsdGhpcy4kc2xvdHMpKSx1Ll9zY29wZUlkP3RoaXMuX2M9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9UHQocyxlLHQsbixyLGYpO3JldHVybiBpJiYhQXJyYXkuaXNBcnJheShpKSYmKGkuZm5TY29wZUlkPXUuX3Njb3BlSWQsaS5mbkNvbnRleHQ9byksaX06dGhpcy5fYz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gUHQocyxlLHQsbixyLGYpfX1mdW5jdGlvbiBUdChlLHQsbixyLGkpe3ZhciBvPWhlKGUpO3JldHVybiBvLmZuQ29udGV4dD1uLG8uZm5PcHRpb25zPXIsdC5zbG90JiYoKG8uZGF0YXx8KG8uZGF0YT17fSkpLnNsb3Q9dC5zbG90KSxvfWZ1bmN0aW9uIEV0KGUsdCl7Zm9yKHZhciBuIGluIHQpZVtiKG4pXT10W25dfU90KFN0LnByb3RvdHlwZSk7dmFyIGp0PXtpbml0OmZ1bmN0aW9uKGUsdCl7aWYoZS5jb21wb25lbnRJbnN0YW5jZSYmIWUuY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkJiZlLmRhdGEua2VlcEFsaXZlKXt2YXIgcj1lO2p0LnByZXBhdGNoKHIscil9ZWxzZXsoZS5jb21wb25lbnRJbnN0YW5jZT1mdW5jdGlvbihlLHQpe3ZhciByPXtfaXNDb21wb25lbnQ6ITAsX3BhcmVudFZub2RlOmUscGFyZW50OnR9LGk9ZS5kYXRhLmlubGluZVRlbXBsYXRlO24oaSkmJihyLnJlbmRlcj1pLnJlbmRlcixyLnN0YXRpY1JlbmRlckZucz1pLnN0YXRpY1JlbmRlckZucyk7cmV0dXJuIG5ldyBlLmNvbXBvbmVudE9wdGlvbnMuQ3RvcihyKX0oZSxxdCkpLiRtb3VudCh0P2UuZWxtOnZvaWQgMCx0KX19LHByZXBhdGNoOmZ1bmN0aW9uKHQsbil7dmFyIHI9bi5jb21wb25lbnRPcHRpb25zOyFmdW5jdGlvbih0LG4scixpLG8pe3ZhciBhPSEhKGkuZGF0YS5zY29wZWRTbG90cyYmIWkuZGF0YS5zY29wZWRTbG90cy4kc3RhYmxlfHx0LiRzY29wZWRTbG90cyE9PWUmJiF0LiRzY29wZWRTbG90cy4kc3RhYmxlKSxzPSEhKG98fHQuJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVufHxhKTt0LiRvcHRpb25zLl9wYXJlbnRWbm9kZT1pLHQuJHZub2RlPWksdC5fdm5vZGUmJih0Ll92bm9kZS5wYXJlbnQ9aSk7aWYodC4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW49byx0LiRhdHRycz1pLmRhdGEuYXR0cnN8fGUsdC4kbGlzdGVuZXJzPXJ8fGUsbiYmdC4kb3B0aW9ucy5wcm9wcyl7YmUoITEpO2Zvcih2YXIgYz10Ll9wcm9wcyx1PXQuJG9wdGlvbnMuX3Byb3BLZXlzfHxbXSxsPTA7bDx1Lmxlbmd0aDtsKyspe3ZhciBmPXVbbF0scD10LiRvcHRpb25zLnByb3BzO2NbZl09TWUoZixwLG4sdCl9YmUoITApLHQuJG9wdGlvbnMucHJvcHNEYXRhPW59cj1yfHxlO3ZhciBkPXQuJG9wdGlvbnMuX3BhcmVudExpc3RlbmVyczt0LiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM9cixKdCh0LHIsZCkscyYmKHQuJHNsb3RzPWN0KG8saS5jb250ZXh0KSx0LiRmb3JjZVVwZGF0ZSgpKX0obi5jb21wb25lbnRJbnN0YW5jZT10LmNvbXBvbmVudEluc3RhbmNlLHIucHJvcHNEYXRhLHIubGlzdGVuZXJzLG4sci5jaGlsZHJlbil9LGluc2VydDpmdW5jdGlvbihlKXt2YXIgdCxuPWUuY29udGV4dCxyPWUuY29tcG9uZW50SW5zdGFuY2U7ci5faXNNb3VudGVkfHwoci5faXNNb3VudGVkPSEwLFh0KHIsIm1vdW50ZWQiKSksZS5kYXRhLmtlZXBBbGl2ZSYmKG4uX2lzTW91bnRlZD8oKHQ9cikuX2luYWN0aXZlPSExLFF0LnB1c2godCkpOkd0KHIsITApKX0sZGVzdHJveTpmdW5jdGlvbihlKXt2YXIgdD1lLmNvbXBvbmVudEluc3RhbmNlO3QuX2lzRGVzdHJveWVkfHwoZS5kYXRhLmtlZXBBbGl2ZT9mdW5jdGlvbiBlKHQsbil7aWYobiYmKHQuX2RpcmVjdEluYWN0aXZlPSEwLFp0KHQpKSlyZXR1cm47aWYoIXQuX2luYWN0aXZlKXt0Ll9pbmFjdGl2ZT0hMDtmb3IodmFyIHI9MDtyPHQuJGNoaWxkcmVuLmxlbmd0aDtyKyspZSh0LiRjaGlsZHJlbltyXSk7WHQodCwiZGVhY3RpdmF0ZWQiKX19KHQsITApOnQuJGRlc3Ryb3koKSl9fSxOdD1PYmplY3Qua2V5cyhqdCk7ZnVuY3Rpb24gTHQoaSxhLHMsYyxsKXtpZighdChpKSl7dmFyIGY9cy4kb3B0aW9ucy5fYmFzZTtpZihvKGkpJiYoaT1mLmV4dGVuZChpKSksImZ1bmN0aW9uIj09dHlwZW9mIGkpe3ZhciBwO2lmKHQoaS5jaWQpJiZ2b2lkIDA9PT0oaT1mdW5jdGlvbihlLGkpe2lmKHIoZS5lcnJvcikmJm4oZS5lcnJvckNvbXApKXJldHVybiBlLmVycm9yQ29tcDtpZihuKGUucmVzb2x2ZWQpKXJldHVybiBlLnJlc29sdmVkO2lmKHIoZS5sb2FkaW5nKSYmbihlLmxvYWRpbmdDb21wKSlyZXR1cm4gZS5sb2FkaW5nQ29tcDt2YXIgYT1GdDtpZighbihlLm93bmVycykpe3ZhciBzPWUub3duZXJzPVthXSxjPSEwLGw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1zLmxlbmd0aDt0PG47dCsrKXNbdF0uJGZvcmNlVXBkYXRlKCk7ZSYmKHMubGVuZ3RoPTApfSxmPUwoZnVuY3Rpb24odCl7ZS5yZXNvbHZlZD1IdCh0LGkpLGM/cy5sZW5ndGg9MDpsKCEwKX0pLHA9TChmdW5jdGlvbih0KXtuKGUuZXJyb3JDb21wKSYmKGUuZXJyb3I9ITAsbCghMCkpfSksZD1lKGYscCk7cmV0dXJuIG8oZCkmJih1KGQpP3QoZS5yZXNvbHZlZCkmJmQudGhlbihmLHApOnUoZC5jb21wb25lbnQpJiYoZC5jb21wb25lbnQudGhlbihmLHApLG4oZC5lcnJvcikmJihlLmVycm9yQ29tcD1IdChkLmVycm9yLGkpKSxuKGQubG9hZGluZykmJihlLmxvYWRpbmdDb21wPUh0KGQubG9hZGluZyxpKSwwPT09ZC5kZWxheT9lLmxvYWRpbmc9ITA6c2V0VGltZW91dChmdW5jdGlvbigpe3QoZS5yZXNvbHZlZCkmJnQoZS5lcnJvcikmJihlLmxvYWRpbmc9ITAsbCghMSkpfSxkLmRlbGF5fHwyMDApKSxuKGQudGltZW91dCkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGUucmVzb2x2ZWQpJiZwKG51bGwpfSxkLnRpbWVvdXQpKSksYz0hMSxlLmxvYWRpbmc/ZS5sb2FkaW5nQ29tcDplLnJlc29sdmVkfWUub3duZXJzLnB1c2goYSl9KHA9aSxmKSkpcmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89ZGUoKTtyZXR1cm4gby5hc3luY0ZhY3Rvcnk9ZSxvLmFzeW5jTWV0YT17ZGF0YTp0LGNvbnRleHQ6bixjaGlsZHJlbjpyLHRhZzppfSxvfShwLGEscyxjLGwpO2E9YXx8e30sX24oaSksbihhLm1vZGVsKSYmZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm1vZGVsJiZlLm1vZGVsLnByb3B8fCJ2YWx1ZSIsaT1lLm1vZGVsJiZlLm1vZGVsLmV2ZW50fHwiaW5wdXQiOyh0LmF0dHJzfHwodC5hdHRycz17fSkpW3JdPXQubW9kZWwudmFsdWU7dmFyIG89dC5vbnx8KHQub249e30pLGE9b1tpXSxzPXQubW9kZWwuY2FsbGJhY2s7bihhKT8oQXJyYXkuaXNBcnJheShhKT8tMT09PWEuaW5kZXhPZihzKTphIT09cykmJihvW2ldPVtzXS5jb25jYXQoYSkpOm9baV09c30oaS5vcHRpb25zLGEpO3ZhciBkPWZ1bmN0aW9uKGUscixpKXt2YXIgbz1yLm9wdGlvbnMucHJvcHM7aWYoIXQobykpe3ZhciBhPXt9LHM9ZS5hdHRycyxjPWUucHJvcHM7aWYobihzKXx8bihjKSlmb3IodmFyIHUgaW4gbyl7dmFyIGw9eCh1KTtpdChhLGMsdSxsLCEwKXx8aXQoYSxzLHUsbCwhMSl9cmV0dXJuIGF9fShhLGkpO2lmKHIoaS5vcHRpb25zLmZ1bmN0aW9uYWwpKXJldHVybiBmdW5jdGlvbih0LHIsaSxvLGEpe3ZhciBzPXQub3B0aW9ucyxjPXt9LHU9cy5wcm9wcztpZihuKHUpKWZvcih2YXIgbCBpbiB1KWNbbF09TWUobCx1LHJ8fGUpO2Vsc2UgbihpLmF0dHJzKSYmRXQoYyxpLmF0dHJzKSxuKGkucHJvcHMpJiZFdChjLGkucHJvcHMpO3ZhciBmPW5ldyBTdChpLGMsYSxvLHQpLHA9cy5yZW5kZXIuY2FsbChudWxsLGYuX2MsZik7aWYocCBpbnN0YW5jZW9mIGZlKXJldHVybiBUdChwLGksZi5wYXJlbnQscyk7aWYoQXJyYXkuaXNBcnJheShwKSl7Zm9yKHZhciBkPW90KHApfHxbXSx2PW5ldyBBcnJheShkLmxlbmd0aCksaD0wO2g8ZC5sZW5ndGg7aCsrKXZbaF09VHQoZFtoXSxpLGYucGFyZW50LHMpO3JldHVybiB2fX0oaSxkLGEscyxjKTt2YXIgdj1hLm9uO2lmKGEub249YS5uYXRpdmVPbixyKGkub3B0aW9ucy5hYnN0cmFjdCkpe3ZhciBoPWEuc2xvdDthPXt9LGgmJihhLnNsb3Q9aCl9IWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmhvb2t8fChlLmhvb2s9e30pLG49MDtuPE50Lmxlbmd0aDtuKyspe3ZhciByPU50W25dLGk9dFtyXSxvPWp0W3JdO2k9PT1vfHxpJiZpLl9tZXJnZWR8fCh0W3JdPWk/TXQobyxpKTpvKX19KGEpO3ZhciBtPWkub3B0aW9ucy5uYW1lfHxsO3JldHVybiBuZXcgZmUoInZ1ZS1jb21wb25lbnQtIitpLmNpZCsobT8iLSIrbToiIiksYSx2b2lkIDAsdm9pZCAwLHZvaWQgMCxzLHtDdG9yOmkscHJvcHNEYXRhOmQsbGlzdGVuZXJzOnYsdGFnOmwsY2hpbGRyZW46Y30scCl9fX1mdW5jdGlvbiBNdChlLHQpe3ZhciBuPWZ1bmN0aW9uKG4scil7ZShuLHIpLHQobixyKX07cmV0dXJuIG4uX21lcmdlZD0hMCxufXZhciBJdD0xLER0PTI7ZnVuY3Rpb24gUHQoZSxhLHMsYyx1LGwpe3JldHVybihBcnJheS5pc0FycmF5KHMpfHxpKHMpKSYmKHU9YyxjPXMscz12b2lkIDApLHIobCkmJih1PUR0KSxmdW5jdGlvbihlLGksYSxzLGMpe2lmKG4oYSkmJm4oYS5fX29iX18pKXJldHVybiBkZSgpO24oYSkmJm4oYS5pcykmJihpPWEuaXMpO2lmKCFpKXJldHVybiBkZSgpO0FycmF5LmlzQXJyYXkocykmJiJmdW5jdGlvbiI9PXR5cGVvZiBzWzBdJiYoKGE9YXx8e30pLnNjb3BlZFNsb3RzPXtkZWZhdWx0OnNbMF19LHMubGVuZ3RoPTApO2M9PT1EdD9zPW90KHMpOmM9PT1JdCYmKHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoQXJyYXkuaXNBcnJheShlW3RdKSlyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxlKTtyZXR1cm4gZX0ocykpO3ZhciB1LGw7aWYoInN0cmluZyI9PXR5cGVvZiBpKXt2YXIgZjtsPWUuJHZub2RlJiZlLiR2bm9kZS5uc3x8UC5nZXRUYWdOYW1lc3BhY2UoaSksdT1QLmlzUmVzZXJ2ZWRUYWcoaSk/bmV3IGZlKFAucGFyc2VQbGF0Zm9ybVRhZ05hbWUoaSksYSxzLHZvaWQgMCx2b2lkIDAsZSk6YSYmYS5wcmV8fCFuKGY9TGUoZS4kb3B0aW9ucywiY29tcG9uZW50cyIsaSkpP25ldyBmZShpLGEscyx2b2lkIDAsdm9pZCAwLGUpOkx0KGYsYSxlLHMsaSl9ZWxzZSB1PUx0KGksYSxlLHMpO3JldHVybiBBcnJheS5pc0FycmF5KHUpP3U6bih1KT8obihsKSYmZnVuY3Rpb24gZShpLG8sYSl7aS5ucz1vOyJmb3JlaWduT2JqZWN0Ij09PWkudGFnJiYobz12b2lkIDAsYT0hMCk7aWYobihpLmNoaWxkcmVuKSlmb3IodmFyIHM9MCxjPWkuY2hpbGRyZW4ubGVuZ3RoO3M8YztzKyspe3ZhciB1PWkuY2hpbGRyZW5bc107bih1LnRhZykmJih0KHUubnMpfHxyKGEpJiYic3ZnIiE9PXUudGFnKSYmZSh1LG8sYSl9fSh1LGwpLG4oYSkmJmZ1bmN0aW9uKGUpe28oZS5zdHlsZSkmJlFlKGUuc3R5bGUpO28oZS5jbGFzcykmJlFlKGUuY2xhc3MpfShhKSx1KTpkZSgpfShlLGEscyxjLHUpfXZhciBSdCxGdD1udWxsO2Z1bmN0aW9uIEh0KGUsdCl7cmV0dXJuKGUuX19lc01vZHVsZXx8aWUmJiJNb2R1bGUiPT09ZVtTeW1ib2wudG9TdHJpbmdUYWddKSYmKGU9ZS5kZWZhdWx0KSxvKGUpP3QuZXh0ZW5kKGUpOmV9ZnVuY3Rpb24gQnQoZSl7cmV0dXJuIGUuaXNDb21tZW50JiZlLmFzeW5jRmFjdG9yeX1mdW5jdGlvbiBVdChlKXtpZihBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgcj1lW3RdO2lmKG4ocikmJihuKHIuY29tcG9uZW50T3B0aW9ucyl8fEJ0KHIpKSlyZXR1cm4gcn19ZnVuY3Rpb24genQoZSx0KXtSdC4kb24oZSx0KX1mdW5jdGlvbiBWdChlLHQpe1J0LiRvZmYoZSx0KX1mdW5jdGlvbiBLdChlLHQpe3ZhciBuPVJ0O3JldHVybiBmdW5jdGlvbiByKCl7bnVsbCE9PXQuYXBwbHkobnVsbCxhcmd1bWVudHMpJiZuLiRvZmYoZSxyKX19ZnVuY3Rpb24gSnQoZSx0LG4pe1J0PWUsbnQodCxufHx7fSx6dCxWdCxLdCxlKSxSdD12b2lkIDB9dmFyIHF0PW51bGw7ZnVuY3Rpb24gV3QoZSl7dmFyIHQ9cXQ7cmV0dXJuIHF0PWUsZnVuY3Rpb24oKXtxdD10fX1mdW5jdGlvbiBadChlKXtmb3IoO2UmJihlPWUuJHBhcmVudCk7KWlmKGUuX2luYWN0aXZlKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEd0KGUsdCl7aWYodCl7aWYoZS5fZGlyZWN0SW5hY3RpdmU9ITEsWnQoZSkpcmV0dXJufWVsc2UgaWYoZS5fZGlyZWN0SW5hY3RpdmUpcmV0dXJuO2lmKGUuX2luYWN0aXZlfHxudWxsPT09ZS5faW5hY3RpdmUpe2UuX2luYWN0aXZlPSExO2Zvcih2YXIgbj0wO248ZS4kY2hpbGRyZW4ubGVuZ3RoO24rKylHdChlLiRjaGlsZHJlbltuXSk7WHQoZSwiYWN0aXZhdGVkIil9fWZ1bmN0aW9uIFh0KGUsdCl7dWUoKTt2YXIgbj1lLiRvcHRpb25zW3RdLHI9dCsiIGhvb2siO2lmKG4pZm9yKHZhciBpPTAsbz1uLmxlbmd0aDtpPG87aSsrKUZlKG5baV0sZSxudWxsLGUscik7ZS5faGFzSG9va0V2ZW50JiZlLiRlbWl0KCJob29rOiIrdCksbGUoKX12YXIgWXQ9W10sUXQ9W10sZW49e30sdG49ITEsbm49ITEscm49MDt2YXIgb249MCxhbj1EYXRlLm5vdztmdW5jdGlvbiBzbigpe3ZhciBlLHQ7Zm9yKG9uPWFuKCksbm49ITAsWXQuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLmlkLXQuaWR9KSxybj0wO3JuPFl0Lmxlbmd0aDtybisrKShlPVl0W3JuXSkuYmVmb3JlJiZlLmJlZm9yZSgpLHQ9ZS5pZCxlblt0XT1udWxsLGUucnVuKCk7dmFyIG49UXQuc2xpY2UoKSxyPVl0LnNsaWNlKCk7cm49WXQubGVuZ3RoPVF0Lmxlbmd0aD0wLGVuPXt9LHRuPW5uPSExLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0uX2luYWN0aXZlPSEwLEd0KGVbdF0sITApfShuKSxmdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtmb3IoO3QtLTspe3ZhciBuPWVbdF0scj1uLnZtO3IuX3dhdGNoZXI9PT1uJiZyLl9pc01vdW50ZWQmJiFyLl9pc0Rlc3Ryb3llZCYmWHQociwidXBkYXRlZCIpfX0ociksdGUmJlAuZGV2dG9vbHMmJnRlLmVtaXQoImZsdXNoIil9VSYmYW4oKT5kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKS50aW1lU3RhbXAmJihhbj1mdW5jdGlvbigpe3JldHVybiBwZXJmb3JtYW5jZS5ub3coKX0pO3ZhciBjbj0wLHVuPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dGhpcy52bT1lLGkmJihlLl93YXRjaGVyPXRoaXMpLGUuX3dhdGNoZXJzLnB1c2godGhpcykscj8odGhpcy5kZWVwPSEhci5kZWVwLHRoaXMudXNlcj0hIXIudXNlcix0aGlzLmxhenk9ISFyLmxhenksdGhpcy5zeW5jPSEhci5zeW5jLHRoaXMuYmVmb3JlPXIuYmVmb3JlKTp0aGlzLmRlZXA9dGhpcy51c2VyPXRoaXMubGF6eT10aGlzLnN5bmM9ITEsdGhpcy5jYj1uLHRoaXMuaWQ9Kytjbix0aGlzLmFjdGl2ZT0hMCx0aGlzLmRpcnR5PXRoaXMubGF6eSx0aGlzLmRlcHM9W10sdGhpcy5uZXdEZXBzPVtdLHRoaXMuZGVwSWRzPW5ldyByZSx0aGlzLm5ld0RlcElkcz1uZXcgcmUsdGhpcy5leHByZXNzaW9uPSIiLCJmdW5jdGlvbiI9PXR5cGVvZiB0P3RoaXMuZ2V0dGVyPXQ6KHRoaXMuZ2V0dGVyPWZ1bmN0aW9uKGUpe2lmKCFGLnRlc3QoZSkpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe2lmKCFlKXJldHVybjtlPWVbdFtuXV19cmV0dXJuIGV9fX0odCksdGhpcy5nZXR0ZXJ8fCh0aGlzLmdldHRlcj1TKSksdGhpcy52YWx1ZT10aGlzLmxhenk/dm9pZCAwOnRoaXMuZ2V0KCl9O3VuLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgZTt1ZSh0aGlzKTt2YXIgdD10aGlzLnZtO3RyeXtlPXRoaXMuZ2V0dGVyLmNhbGwodCx0KX1jYXRjaChlKXtpZighdGhpcy51c2VyKXRocm93IGU7UmUoZSx0LCdnZXR0ZXIgZm9yIHdhdGNoZXIgIicrdGhpcy5leHByZXNzaW9uKyciJyl9ZmluYWxseXt0aGlzLmRlZXAmJlFlKGUpLGxlKCksdGhpcy5jbGVhbnVwRGVwcygpfXJldHVybiBlfSx1bi5wcm90b3R5cGUuYWRkRGVwPWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQ7dGhpcy5uZXdEZXBJZHMuaGFzKHQpfHwodGhpcy5uZXdEZXBJZHMuYWRkKHQpLHRoaXMubmV3RGVwcy5wdXNoKGUpLHRoaXMuZGVwSWRzLmhhcyh0KXx8ZS5hZGRTdWIodGhpcykpfSx1bi5wcm90b3R5cGUuY2xlYW51cERlcHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5kZXBzLmxlbmd0aDtlLS07KXt2YXIgdD10aGlzLmRlcHNbZV07dGhpcy5uZXdEZXBJZHMuaGFzKHQuaWQpfHx0LnJlbW92ZVN1Yih0aGlzKX12YXIgbj10aGlzLmRlcElkczt0aGlzLmRlcElkcz10aGlzLm5ld0RlcElkcyx0aGlzLm5ld0RlcElkcz1uLHRoaXMubmV3RGVwSWRzLmNsZWFyKCksbj10aGlzLmRlcHMsdGhpcy5kZXBzPXRoaXMubmV3RGVwcyx0aGlzLm5ld0RlcHM9bix0aGlzLm5ld0RlcHMubGVuZ3RoPTB9LHVuLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmxhenk/dGhpcy5kaXJ0eT0hMDp0aGlzLnN5bmM/dGhpcy5ydW4oKTpmdW5jdGlvbihlKXt2YXIgdD1lLmlkO2lmKG51bGw9PWVuW3RdKXtpZihlblt0XT0hMCxubil7Zm9yKHZhciBuPVl0Lmxlbmd0aC0xO24+cm4mJll0W25dLmlkPmUuaWQ7KW4tLTtZdC5zcGxpY2UobisxLDAsZSl9ZWxzZSBZdC5wdXNoKGUpO3RufHwodG49ITAsWGUoc24pKX19KHRoaXMpfSx1bi5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmUpe3ZhciBlPXRoaXMuZ2V0KCk7aWYoZSE9PXRoaXMudmFsdWV8fG8oZSl8fHRoaXMuZGVlcCl7dmFyIHQ9dGhpcy52YWx1ZTtpZih0aGlzLnZhbHVlPWUsdGhpcy51c2VyKXRyeXt0aGlzLmNiLmNhbGwodGhpcy52bSxlLHQpfWNhdGNoKGUpe1JlKGUsdGhpcy52bSwnY2FsbGJhY2sgZm9yIHdhdGNoZXIgIicrdGhpcy5leHByZXNzaW9uKyciJyl9ZWxzZSB0aGlzLmNiLmNhbGwodGhpcy52bSxlLHQpfX19LHVuLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbigpe3RoaXMudmFsdWU9dGhpcy5nZXQoKSx0aGlzLmRpcnR5PSExfSx1bi5wcm90b3R5cGUuZGVwZW5kPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZGVwcy5sZW5ndGg7ZS0tOyl0aGlzLmRlcHNbZV0uZGVwZW5kKCl9LHVuLnByb3RvdHlwZS50ZWFyZG93bj1mdW5jdGlvbigpe2lmKHRoaXMuYWN0aXZlKXt0aGlzLnZtLl9pc0JlaW5nRGVzdHJveWVkfHxoKHRoaXMudm0uX3dhdGNoZXJzLHRoaXMpO2Zvcih2YXIgZT10aGlzLmRlcHMubGVuZ3RoO2UtLTspdGhpcy5kZXBzW2VdLnJlbW92ZVN1Yih0aGlzKTt0aGlzLmFjdGl2ZT0hMX19O3ZhciBsbj17ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OlMsc2V0OlN9O2Z1bmN0aW9uIGZuKGUsdCxuKXtsbi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0XVtuXX0sbG4uc2V0PWZ1bmN0aW9uKGUpe3RoaXNbdF1bbl09ZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixsbil9ZnVuY3Rpb24gcG4oZSl7ZS5fd2F0Y2hlcnM9W107dmFyIHQ9ZS4kb3B0aW9uczt0LnByb3BzJiZmdW5jdGlvbihlLHQpe3ZhciBuPWUuJG9wdGlvbnMucHJvcHNEYXRhfHx7fSxyPWUuX3Byb3BzPXt9LGk9ZS4kb3B0aW9ucy5fcHJvcEtleXM9W107ZS4kcGFyZW50JiZiZSghMSk7dmFyIG89ZnVuY3Rpb24obyl7aS5wdXNoKG8pO3ZhciBhPU1lKG8sdCxuLGUpO3hlKHIsbyxhKSxvIGluIGV8fGZuKGUsIl9wcm9wcyIsbyl9O2Zvcih2YXIgYSBpbiB0KW8oYSk7YmUoITApfShlLHQucHJvcHMpLHQubWV0aG9kcyYmZnVuY3Rpb24oZSx0KXtlLiRvcHRpb25zLnByb3BzO2Zvcih2YXIgbiBpbiB0KWVbbl09ImZ1bmN0aW9uIiE9dHlwZW9mIHRbbl0/UzpDKHRbbl0sZSl9KGUsdC5tZXRob2RzKSx0LmRhdGE/ZnVuY3Rpb24oZSl7dmFyIHQ9ZS4kb3B0aW9ucy5kYXRhO3ModD1lLl9kYXRhPSJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUsdCl7dWUoKTt0cnl7cmV0dXJuIGUuY2FsbCh0LHQpfWNhdGNoKGUpe3JldHVybiBSZShlLHQsImRhdGEoKSIpLHt9fWZpbmFsbHl7bGUoKX19KHQsZSk6dHx8e30pfHwodD17fSk7dmFyIG49T2JqZWN0LmtleXModCkscj1lLiRvcHRpb25zLnByb3BzLGk9KGUuJG9wdGlvbnMubWV0aG9kcyxuLmxlbmd0aCk7Zm9yKDtpLS07KXt2YXIgbz1uW2ldO3ImJnkocixvKXx8KGE9dm9pZCAwLDM2IT09KGE9KG8rIiIpLmNoYXJDb2RlQXQoMCkpJiY5NSE9PWEmJmZuKGUsIl9kYXRhIixvKSl9dmFyIGE7d2UodCwhMCl9KGUpOndlKGUuX2RhdGE9e30sITApLHQuY29tcHV0ZWQmJmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5fY29tcHV0ZWRXYXRjaGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHI9ZWUoKTtmb3IodmFyIGkgaW4gdCl7dmFyIG89dFtpXSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBvP286by5nZXQ7cnx8KG5baV09bmV3IHVuKGUsYXx8UyxTLGRuKSksaSBpbiBlfHx2bihlLGksbyl9fShlLHQuY29tcHV0ZWQpLHQud2F0Y2gmJnQud2F0Y2ghPT1YJiZmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXt2YXIgcj10W25dO2lmKEFycmF5LmlzQXJyYXkocikpZm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspeW4oZSxuLHJbaV0pO2Vsc2UgeW4oZSxuLHIpfX0oZSx0LndhdGNoKX12YXIgZG49e2xhenk6ITB9O2Z1bmN0aW9uIHZuKGUsdCxuKXt2YXIgcj0hZWUoKTsiZnVuY3Rpb24iPT10eXBlb2Ygbj8obG4uZ2V0PXI/aG4odCk6bW4obiksbG4uc2V0PVMpOihsbi5nZXQ9bi5nZXQ/ciYmITEhPT1uLmNhY2hlP2huKHQpOm1uKG4uZ2V0KTpTLGxuLnNldD1uLnNldHx8UyksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxsbil9ZnVuY3Rpb24gaG4oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29tcHV0ZWRXYXRjaGVycyYmdGhpcy5fY29tcHV0ZWRXYXRjaGVyc1tlXTtpZih0KXJldHVybiB0LmRpcnR5JiZ0LmV2YWx1YXRlKCksc2UudGFyZ2V0JiZ0LmRlcGVuZCgpLHQudmFsdWV9fWZ1bmN0aW9uIG1uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyx0aGlzKX19ZnVuY3Rpb24geW4oZSx0LG4scil7cmV0dXJuIHMobikmJihyPW4sbj1uLmhhbmRsZXIpLCJzdHJpbmciPT10eXBlb2YgbiYmKG49ZVtuXSksZS4kd2F0Y2godCxuLHIpfXZhciBnbj0wO2Z1bmN0aW9uIF9uKGUpe3ZhciB0PWUub3B0aW9ucztpZihlLnN1cGVyKXt2YXIgbj1fbihlLnN1cGVyKTtpZihuIT09ZS5zdXBlck9wdGlvbnMpe2Uuc3VwZXJPcHRpb25zPW47dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLm9wdGlvbnMscj1lLnNlYWxlZE9wdGlvbnM7Zm9yKHZhciBpIGluIG4pbltpXSE9PXJbaV0mJih0fHwodD17fSksdFtpXT1uW2ldKTtyZXR1cm4gdH0oZSk7ciYmayhlLmV4dGVuZE9wdGlvbnMsciksKHQ9ZS5vcHRpb25zPU5lKG4sZS5leHRlbmRPcHRpb25zKSkubmFtZSYmKHQuY29tcG9uZW50c1t0Lm5hbWVdPWUpfX1yZXR1cm4gdH1mdW5jdGlvbiBibihlKXt0aGlzLl9pbml0KGUpfWZ1bmN0aW9uICRuKGUpe2UuY2lkPTA7dmFyIHQ9MTtlLmV4dGVuZD1mdW5jdGlvbihlKXtlPWV8fHt9O3ZhciBuPXRoaXMscj1uLmNpZCxpPWUuX0N0b3J8fChlLl9DdG9yPXt9KTtpZihpW3JdKXJldHVybiBpW3JdO3ZhciBvPWUubmFtZXx8bi5vcHRpb25zLm5hbWUsYT1mdW5jdGlvbihlKXt0aGlzLl9pbml0KGUpfTtyZXR1cm4oYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEsYS5jaWQ9dCsrLGEub3B0aW9ucz1OZShuLm9wdGlvbnMsZSksYS5zdXBlcj1uLGEub3B0aW9ucy5wcm9wcyYmZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vcHRpb25zLnByb3BzO2Zvcih2YXIgbiBpbiB0KWZuKGUucHJvdG90eXBlLCJfcHJvcHMiLG4pfShhKSxhLm9wdGlvbnMuY29tcHV0ZWQmJmZ1bmN0aW9uKGUpe3ZhciB0PWUub3B0aW9ucy5jb21wdXRlZDtmb3IodmFyIG4gaW4gdCl2bihlLnByb3RvdHlwZSxuLHRbbl0pfShhKSxhLmV4dGVuZD1uLmV4dGVuZCxhLm1peGluPW4ubWl4aW4sYS51c2U9bi51c2UsSS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLG8mJihhLm9wdGlvbnMuY29tcG9uZW50c1tvXT1hKSxhLnN1cGVyT3B0aW9ucz1uLm9wdGlvbnMsYS5leHRlbmRPcHRpb25zPWUsYS5zZWFsZWRPcHRpb25zPWsoe30sYS5vcHRpb25zKSxpW3JdPWEsYX19ZnVuY3Rpb24gd24oZSl7cmV0dXJuIGUmJihlLkN0b3Iub3B0aW9ucy5uYW1lfHxlLnRhZyl9ZnVuY3Rpb24geG4oZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLmluZGV4T2YodCk+LTE6InN0cmluZyI9PXR5cGVvZiBlP2Uuc3BsaXQoIiwiKS5pbmRleE9mKHQpPi0xOihuPWUsIltvYmplY3QgUmVnRXhwXSI9PT1hLmNhbGwobikmJmUudGVzdCh0KSk7dmFyIG59ZnVuY3Rpb24gQ24oZSx0KXt2YXIgbj1lLmNhY2hlLHI9ZS5rZXlzLGk9ZS5fdm5vZGU7Zm9yKHZhciBvIGluIG4pe3ZhciBhPW5bb107aWYoYSl7dmFyIHM9d24oYS5jb21wb25lbnRPcHRpb25zKTtzJiYhdChzKSYmQW4obixvLHIsaSl9fX1mdW5jdGlvbiBBbihlLHQsbixyKXt2YXIgaT1lW3RdOyFpfHxyJiZpLnRhZz09PXIudGFnfHxpLmNvbXBvbmVudEluc3RhbmNlLiRkZXN0cm95KCksZVt0XT1udWxsLGgobix0KX0hZnVuY3Rpb24odCl7dC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcztuLl91aWQ9Z24rKyxuLl9pc1Z1ZT0hMCx0JiZ0Ll9pc0NvbXBvbmVudD9mdW5jdGlvbihlLHQpe3ZhciBuPWUuJG9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLmNvbnN0cnVjdG9yLm9wdGlvbnMpLHI9dC5fcGFyZW50Vm5vZGU7bi5wYXJlbnQ9dC5wYXJlbnQsbi5fcGFyZW50Vm5vZGU9cjt2YXIgaT1yLmNvbXBvbmVudE9wdGlvbnM7bi5wcm9wc0RhdGE9aS5wcm9wc0RhdGEsbi5fcGFyZW50TGlzdGVuZXJzPWkubGlzdGVuZXJzLG4uX3JlbmRlckNoaWxkcmVuPWkuY2hpbGRyZW4sbi5fY29tcG9uZW50VGFnPWkudGFnLHQucmVuZGVyJiYobi5yZW5kZXI9dC5yZW5kZXIsbi5zdGF0aWNSZW5kZXJGbnM9dC5zdGF0aWNSZW5kZXJGbnMpfShuLHQpOm4uJG9wdGlvbnM9TmUoX24obi5jb25zdHJ1Y3RvciksdHx8e30sbiksbi5fcmVuZGVyUHJveHk9bixuLl9zZWxmPW4sZnVuY3Rpb24oZSl7dmFyIHQ9ZS4kb3B0aW9ucyxuPXQucGFyZW50O2lmKG4mJiF0LmFic3RyYWN0KXtmb3IoO24uJG9wdGlvbnMuYWJzdHJhY3QmJm4uJHBhcmVudDspbj1uLiRwYXJlbnQ7bi4kY2hpbGRyZW4ucHVzaChlKX1lLiRwYXJlbnQ9bixlLiRyb290PW4/bi4kcm9vdDplLGUuJGNoaWxkcmVuPVtdLGUuJHJlZnM9e30sZS5fd2F0Y2hlcj1udWxsLGUuX2luYWN0aXZlPW51bGwsZS5fZGlyZWN0SW5hY3RpdmU9ITEsZS5faXNNb3VudGVkPSExLGUuX2lzRGVzdHJveWVkPSExLGUuX2lzQmVpbmdEZXN0cm95ZWQ9ITF9KG4pLGZ1bmN0aW9uKGUpe2UuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLGUuX2hhc0hvb2tFdmVudD0hMTt2YXIgdD1lLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7dCYmSnQoZSx0KX0obiksZnVuY3Rpb24odCl7dC5fdm5vZGU9bnVsbCx0Ll9zdGF0aWNUcmVlcz1udWxsO3ZhciBuPXQuJG9wdGlvbnMscj10LiR2bm9kZT1uLl9wYXJlbnRWbm9kZSxpPXImJnIuY29udGV4dDt0LiRzbG90cz1jdChuLl9yZW5kZXJDaGlsZHJlbixpKSx0LiRzY29wZWRTbG90cz1lLHQuX2M9ZnVuY3Rpb24oZSxuLHIsaSl7cmV0dXJuIFB0KHQsZSxuLHIsaSwhMSl9LHQuJGNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oZSxuLHIsaSl7cmV0dXJuIFB0KHQsZSxuLHIsaSwhMCl9O3ZhciBvPXImJnIuZGF0YTt4ZSh0LCIkYXR0cnMiLG8mJm8uYXR0cnN8fGUsbnVsbCwhMCkseGUodCwiJGxpc3RlbmVycyIsbi5fcGFyZW50TGlzdGVuZXJzfHxlLG51bGwsITApfShuKSxYdChuLCJiZWZvcmVDcmVhdGUiKSxmdW5jdGlvbihlKXt2YXIgdD1zdChlLiRvcHRpb25zLmluamVjdCxlKTt0JiYoYmUoITEpLE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24obil7eGUoZSxuLHRbbl0pfSksYmUoITApKX0obikscG4obiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS4kb3B0aW9ucy5wcm92aWRlO3QmJihlLl9wcm92aWRlZD0iZnVuY3Rpb24iPT10eXBlb2YgdD90LmNhbGwoZSk6dCl9KG4pLFh0KG4sImNyZWF0ZWQiKSxuLiRvcHRpb25zLmVsJiZuLiRtb3VudChuLiRvcHRpb25zLmVsKX19KGJuKSxmdW5jdGlvbihlKXt2YXIgdD17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fSxuPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvcHN9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIiRkYXRhIix0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIiRwcm9wcyIsbiksZS5wcm90b3R5cGUuJHNldD1DZSxlLnByb3RvdHlwZS4kZGVsZXRlPUFlLGUucHJvdG90eXBlLiR3YXRjaD1mdW5jdGlvbihlLHQsbil7aWYocyh0KSlyZXR1cm4geW4odGhpcyxlLHQsbik7KG49bnx8e30pLnVzZXI9ITA7dmFyIHI9bmV3IHVuKHRoaXMsZSx0LG4pO2lmKG4uaW1tZWRpYXRlKXRyeXt0LmNhbGwodGhpcyxyLnZhbHVlKX1jYXRjaChlKXtSZShlLHRoaXMsJ2NhbGxiYWNrIGZvciBpbW1lZGlhdGUgd2F0Y2hlciAiJytyLmV4cHJlc3Npb24rJyInKX1yZXR1cm4gZnVuY3Rpb24oKXtyLnRlYXJkb3duKCl9fX0oYm4pLGZ1bmN0aW9uKGUpe3ZhciB0PS9eaG9vazovO2UucHJvdG90eXBlLiRvbj1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIGk9MCxvPWUubGVuZ3RoO2k8bztpKyspci4kb24oZVtpXSxuKTtlbHNlKHIuX2V2ZW50c1tlXXx8KHIuX2V2ZW50c1tlXT1bXSkpLnB1c2gobiksdC50ZXN0KGUpJiYoci5faGFzSG9va0V2ZW50PSEwKTtyZXR1cm4gcn0sZS5wcm90b3R5cGUuJG9uY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2Z1bmN0aW9uIHIoKXtuLiRvZmYoZSxyKSx0LmFwcGx5KG4sYXJndW1lbnRzKX1yZXR1cm4gci5mbj10LG4uJG9uKGUsciksbn0sZS5wcm90b3R5cGUuJG9mZj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4uX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLG47aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciByPTAsaT1lLmxlbmd0aDtyPGk7cisrKW4uJG9mZihlW3JdLHQpO3JldHVybiBufXZhciBvLGE9bi5fZXZlbnRzW2VdO2lmKCFhKXJldHVybiBuO2lmKCF0KXJldHVybiBuLl9ldmVudHNbZV09bnVsbCxuO2Zvcih2YXIgcz1hLmxlbmd0aDtzLS07KWlmKChvPWFbc10pPT09dHx8by5mbj09PXQpe2Euc3BsaWNlKHMsMSk7YnJlYWt9cmV0dXJuIG59LGUucHJvdG90eXBlLiRlbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2V2ZW50c1tlXTtpZih0KXt0PXQubGVuZ3RoPjE/QSh0KTp0O2Zvcih2YXIgbj1BKGFyZ3VtZW50cywxKSxyPSdldmVudCBoYW5kbGVyIGZvciAiJytlKyciJyxpPTAsbz10Lmxlbmd0aDtpPG87aSsrKUZlKHRbaV0sdGhpcyxuLHRoaXMscil9cmV0dXJuIHRoaXN9fShibiksZnVuY3Rpb24oZSl7ZS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1uLiRlbCxpPW4uX3Zub2RlLG89V3Qobik7bi5fdm5vZGU9ZSxuLiRlbD1pP24uX19wYXRjaF9fKGksZSk6bi5fX3BhdGNoX18obi4kZWwsZSx0LCExKSxvKCksciYmKHIuX192dWVfXz1udWxsKSxuLiRlbCYmKG4uJGVsLl9fdnVlX189biksbi4kdm5vZGUmJm4uJHBhcmVudCYmbi4kdm5vZGU9PT1uLiRwYXJlbnQuX3Zub2RlJiYobi4kcGFyZW50LiRlbD1uLiRlbCl9LGUucHJvdG90eXBlLiRmb3JjZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3dhdGNoZXImJnRoaXMuX3dhdGNoZXIudXBkYXRlKCl9LGUucHJvdG90eXBlLiRkZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighZS5faXNCZWluZ0Rlc3Ryb3llZCl7WHQoZSwiYmVmb3JlRGVzdHJveSIpLGUuX2lzQmVpbmdEZXN0cm95ZWQ9ITA7dmFyIHQ9ZS4kcGFyZW50OyF0fHx0Ll9pc0JlaW5nRGVzdHJveWVkfHxlLiRvcHRpb25zLmFic3RyYWN0fHxoKHQuJGNoaWxkcmVuLGUpLGUuX3dhdGNoZXImJmUuX3dhdGNoZXIudGVhcmRvd24oKTtmb3IodmFyIG49ZS5fd2F0Y2hlcnMubGVuZ3RoO24tLTspZS5fd2F0Y2hlcnNbbl0udGVhcmRvd24oKTtlLl9kYXRhLl9fb2JfXyYmZS5fZGF0YS5fX29iX18udm1Db3VudC0tLGUuX2lzRGVzdHJveWVkPSEwLGUuX19wYXRjaF9fKGUuX3Zub2RlLG51bGwpLFh0KGUsImRlc3Ryb3llZCIpLGUuJG9mZigpLGUuJGVsJiYoZS4kZWwuX192dWVfXz1udWxsKSxlLiR2bm9kZSYmKGUuJHZub2RlLnBhcmVudD1udWxsKX19fShibiksZnVuY3Rpb24oZSl7T3QoZS5wcm90b3R5cGUpLGUucHJvdG90eXBlLiRuZXh0VGljaz1mdW5jdGlvbihlKXtyZXR1cm4gWGUoZSx0aGlzKX0sZS5wcm90b3R5cGUuX3JlbmRlcj1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxuPXQuJG9wdGlvbnMscj1uLnJlbmRlcixpPW4uX3BhcmVudFZub2RlO2kmJih0LiRzY29wZWRTbG90cz1sdChpLmRhdGEuc2NvcGVkU2xvdHMsdC4kc2xvdHMsdC4kc2NvcGVkU2xvdHMpKSx0LiR2bm9kZT1pO3RyeXtGdD10LGU9ci5jYWxsKHQuX3JlbmRlclByb3h5LHQuJGNyZWF0ZUVsZW1lbnQpfWNhdGNoKG4pe1JlKG4sdCwicmVuZGVyIiksZT10Ll92bm9kZX1maW5hbGx5e0Z0PW51bGx9cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjE9PT1lLmxlbmd0aCYmKGU9ZVswXSksZSBpbnN0YW5jZW9mIGZlfHwoZT1kZSgpKSxlLnBhcmVudD1pLGV9fShibik7dmFyIGtuPVtTdHJpbmcsUmVnRXhwLEFycmF5XSxPbj17S2VlcEFsaXZlOntuYW1lOiJrZWVwLWFsaXZlIixhYnN0cmFjdDohMCxwcm9wczp7aW5jbHVkZTprbixleGNsdWRlOmtuLG1heDpbU3RyaW5nLE51bWJlcl19LGNyZWF0ZWQ6ZnVuY3Rpb24oKXt0aGlzLmNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5rZXlzPVtdfSxkZXN0cm95ZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5jYWNoZSlBbih0aGlzLmNhY2hlLGUsdGhpcy5rZXlzKX0sbW91bnRlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy4kd2F0Y2goImluY2x1ZGUiLGZ1bmN0aW9uKHQpe0NuKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHhuKHQsZSl9KX0pLHRoaXMuJHdhdGNoKCJleGNsdWRlIixmdW5jdGlvbih0KXtDbihlLGZ1bmN0aW9uKGUpe3JldHVybiF4bih0LGUpfSl9KX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kc2xvdHMuZGVmYXVsdCx0PVV0KGUpLG49dCYmdC5jb21wb25lbnRPcHRpb25zO2lmKG4pe3ZhciByPXduKG4pLGk9dGhpcy5pbmNsdWRlLG89dGhpcy5leGNsdWRlO2lmKGkmJighcnx8IXhuKGkscikpfHxvJiZyJiZ4bihvLHIpKXJldHVybiB0O3ZhciBhPXRoaXMuY2FjaGUscz10aGlzLmtleXMsYz1udWxsPT10LmtleT9uLkN0b3IuY2lkKyhuLnRhZz8iOjoiK24udGFnOiIiKTp0LmtleTthW2NdPyh0LmNvbXBvbmVudEluc3RhbmNlPWFbY10uY29tcG9uZW50SW5zdGFuY2UsaChzLGMpLHMucHVzaChjKSk6KGFbY109dCxzLnB1c2goYyksdGhpcy5tYXgmJnMubGVuZ3RoPnBhcnNlSW50KHRoaXMubWF4KSYmQW4oYSxzWzBdLHMsdGhpcy5fdm5vZGUpKSx0LmRhdGEua2VlcEFsaXZlPSEwfXJldHVybiB0fHxlJiZlWzBdfX19OyFmdW5jdGlvbihlKXt2YXIgdD17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFB9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiY29uZmlnIix0KSxlLnV0aWw9e3dhcm46b2UsZXh0ZW5kOmssbWVyZ2VPcHRpb25zOk5lLGRlZmluZVJlYWN0aXZlOnhlfSxlLnNldD1DZSxlLmRlbGV0ZT1BZSxlLm5leHRUaWNrPVhlLGUub2JzZXJ2YWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gd2UoZSksZX0sZS5vcHRpb25zPU9iamVjdC5jcmVhdGUobnVsbCksSS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uub3B0aW9uc1t0KyJzIl09T2JqZWN0LmNyZWF0ZShudWxsKX0pLGUub3B0aW9ucy5fYmFzZT1lLGsoZS5vcHRpb25zLmNvbXBvbmVudHMsT24pLGZ1bmN0aW9uKGUpe2UudXNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2luc3RhbGxlZFBsdWdpbnN8fCh0aGlzLl9pbnN0YWxsZWRQbHVnaW5zPVtdKTtpZih0LmluZGV4T2YoZSk+LTEpcmV0dXJuIHRoaXM7dmFyIG49QShhcmd1bWVudHMsMSk7cmV0dXJuIG4udW5zaGlmdCh0aGlzKSwiZnVuY3Rpb24iPT10eXBlb2YgZS5pbnN0YWxsP2UuaW5zdGFsbC5hcHBseShlLG4pOiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFwcGx5KG51bGwsbiksdC5wdXNoKGUpLHRoaXN9fShlKSxmdW5jdGlvbihlKXtlLm1peGluPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9wdGlvbnM9TmUodGhpcy5vcHRpb25zLGUpLHRoaXN9fShlKSwkbihlKSxmdW5jdGlvbihlKXtJLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT1mdW5jdGlvbihlLG4pe3JldHVybiBuPygiY29tcG9uZW50Ij09PXQmJnMobikmJihuLm5hbWU9bi5uYW1lfHxlLG49dGhpcy5vcHRpb25zLl9iYXNlLmV4dGVuZChuKSksImRpcmVjdGl2ZSI9PT10JiYiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49e2JpbmQ6bix1cGRhdGU6bn0pLHRoaXMub3B0aW9uc1t0KyJzIl1bZV09bixuKTp0aGlzLm9wdGlvbnNbdCsicyJdW2VdfX0pfShlKX0oYm4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShibi5wcm90b3R5cGUsIiRpc1NlcnZlciIse2dldDplZX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShibi5wcm90b3R5cGUsIiRzc3JDb250ZXh0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHZub2RlJiZ0aGlzLiR2bm9kZS5zc3JDb250ZXh0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShibiwiRnVuY3Rpb25hbFJlbmRlckNvbnRleHQiLHt2YWx1ZTpTdH0pLGJuLnZlcnNpb249IjIuNi42Ijt2YXIgU249cCgic3R5bGUsY2xhc3MiKSxUbj1wKCJpbnB1dCx0ZXh0YXJlYSxvcHRpb24sc2VsZWN0LHByb2dyZXNzIiksRW49ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJ2YWx1ZSI9PT1uJiZUbihlKSYmImJ1dHRvbiIhPT10fHwic2VsZWN0ZWQiPT09biYmIm9wdGlvbiI9PT1lfHwiY2hlY2tlZCI9PT1uJiYiaW5wdXQiPT09ZXx8Im11dGVkIj09PW4mJiJ2aWRlbyI9PT1lfSxqbj1wKCJjb250ZW50ZWRpdGFibGUsZHJhZ2dhYmxlLHNwZWxsY2hlY2siKSxObj1wKCJldmVudHMsY2FyZXQsdHlwaW5nLHBsYWludGV4dC1vbmx5IiksTG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUm4odCl8fCJmYWxzZSI9PT10PyJmYWxzZSI6ImNvbnRlbnRlZGl0YWJsZSI9PT1lJiZObih0KT90OiJ0cnVlIn0sTW49cCgiYWxsb3dmdWxsc2NyZWVuLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjaGVja2VkLGNvbXBhY3QsY29udHJvbHMsZGVjbGFyZSxkZWZhdWx0LGRlZmF1bHRjaGVja2VkLGRlZmF1bHRtdXRlZCxkZWZhdWx0c2VsZWN0ZWQsZGVmZXIsZGlzYWJsZWQsZW5hYmxlZCxmb3Jtbm92YWxpZGF0ZSxoaWRkZW4saW5kZXRlcm1pbmF0ZSxpbmVydCxpc21hcCxpdGVtc2NvcGUsbG9vcCxtdWx0aXBsZSxtdXRlZCxub2hyZWYsbm9yZXNpemUsbm9zaGFkZSxub3ZhbGlkYXRlLG5vd3JhcCxvcGVuLHBhdXNlb25leGl0LHJlYWRvbmx5LHJlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxzZWxlY3RlZCxzb3J0YWJsZSx0cmFuc2xhdGUsdHJ1ZXNwZWVkLHR5cGVtdXN0bWF0Y2gsdmlzaWJsZSIpLEluPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIixEbj1mdW5jdGlvbihlKXtyZXR1cm4iOiI9PT1lLmNoYXJBdCg1KSYmInhsaW5rIj09PWUuc2xpY2UoMCw1KX0sUG49ZnVuY3Rpb24oZSl7cmV0dXJuIERuKGUpP2Uuc2xpY2UoNixlLmxlbmd0aCk6IiJ9LFJuPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lfHwhMT09PWV9O2Z1bmN0aW9uIEZuKGUpe2Zvcih2YXIgdD1lLmRhdGEscj1lLGk9ZTtuKGkuY29tcG9uZW50SW5zdGFuY2UpOykoaT1pLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZSkmJmkuZGF0YSYmKHQ9SG4oaS5kYXRhLHQpKTtmb3IoO24ocj1yLnBhcmVudCk7KXImJnIuZGF0YSYmKHQ9SG4odCxyLmRhdGEpKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihuKGUpfHxuKHQpKXJldHVybiBCbihlLFVuKHQpKTtyZXR1cm4iIn0odC5zdGF0aWNDbGFzcyx0LmNsYXNzKX1mdW5jdGlvbiBIbihlLHQpe3JldHVybntzdGF0aWNDbGFzczpCbihlLnN0YXRpY0NsYXNzLHQuc3RhdGljQ2xhc3MpLGNsYXNzOm4oZS5jbGFzcyk/W2UuY2xhc3MsdC5jbGFzc106dC5jbGFzc319ZnVuY3Rpb24gQm4oZSx0KXtyZXR1cm4gZT90P2UrIiAiK3Q6ZTp0fHwiIn1mdW5jdGlvbiBVbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9mdW5jdGlvbihlKXtmb3IodmFyIHQscj0iIixpPTAsbz1lLmxlbmd0aDtpPG87aSsrKW4odD1VbihlW2ldKSkmJiIiIT09dCYmKHImJihyKz0iICIpLHIrPXQpO3JldHVybiByfShlKTpvKGUpP2Z1bmN0aW9uKGUpe3ZhciB0PSIiO2Zvcih2YXIgbiBpbiBlKWVbbl0mJih0JiYodCs9IiAiKSx0Kz1uKTtyZXR1cm4gdH0oZSk6InN0cmluZyI9PXR5cGVvZiBlP2U6IiJ9dmFyIHpuPXtzdmc6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixtYXRoOiJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MIn0sVm49cCgiaHRtbCxib2R5LGJhc2UsaGVhZCxsaW5rLG1ldGEsc3R5bGUsdGl0bGUsYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlcixoZWFkZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGdyb3VwLG5hdixzZWN0aW9uLGRpdixkZCxkbCxkdCxmaWdjYXB0aW9uLGZpZ3VyZSxwaWN0dXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLGEsYixhYmJyLGJkaSxiZG8sYnIsY2l0ZSxjb2RlLGRhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydGMscnVieSxzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCx0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucyxjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCx0aCx0cixidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSxtZW51aXRlbSxzdW1tYXJ5LGNvbnRlbnQsZWxlbWVudCxzaGFkb3csdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3QiKSxLbj1wKCJzdmcsYW5pbWF0ZSxjaXJjbGUsY2xpcHBhdGgsY3Vyc29yLGRlZnMsZGVzYyxlbGxpcHNlLGZpbHRlcixmb250LWZhY2UsZm9yZWlnbk9iamVjdCxnLGdseXBoLGltYWdlLGxpbmUsbWFya2VyLG1hc2ssbWlzc2luZy1nbHlwaCxwYXRoLHBhdHRlcm4scG9seWdvbixwb2x5bGluZSxyZWN0LHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0cGF0aCx0c3Bhbix1c2UsdmlldyIsITApLEpuPWZ1bmN0aW9uKGUpe3JldHVybiBWbihlKXx8S24oZSl9O2Z1bmN0aW9uIHFuKGUpe3JldHVybiBLbihlKT8ic3ZnIjoibWF0aCI9PT1lPyJtYXRoIjp2b2lkIDB9dmFyIFduPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIFpuPXAoInRleHQsbnVtYmVyLHBhc3N3b3JkLHNlYXJjaCxlbWFpbCx0ZWwsdXJsIik7ZnVuY3Rpb24gR24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO3JldHVybiB0fHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKX1yZXR1cm4gZX12YXIgWG49T2JqZWN0LmZyZWV6ZSh7Y3JlYXRlRWxlbWVudDpmdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSk7cmV0dXJuInNlbGVjdCIhPT1lP246KHQuZGF0YSYmdC5kYXRhLmF0dHJzJiZ2b2lkIDAhPT10LmRhdGEuYXR0cnMubXVsdGlwbGUmJm4uc2V0QXR0cmlidXRlKCJtdWx0aXBsZSIsIm11bHRpcGxlIiksbil9LGNyZWF0ZUVsZW1lbnROUzpmdW5jdGlvbihlLHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoem5bZV0sdCl9LGNyZWF0ZVRleHROb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKX0sY3JlYXRlQ29tbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChlKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGUsdCxuKXtlLmluc2VydEJlZm9yZSh0LG4pfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihlLHQpe2UucmVtb3ZlQ2hpbGQodCl9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKGUsdCl7ZS5hcHBlbmRDaGlsZCh0KX0scGFyZW50Tm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlfSxuZXh0U2libGluZzpmdW5jdGlvbihlKXtyZXR1cm4gZS5uZXh0U2libGluZ30sdGFnTmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gZS50YWdOYW1lfSxzZXRUZXh0Q29udGVudDpmdW5jdGlvbihlLHQpe2UudGV4dENvbnRlbnQ9dH0sc2V0U3R5bGVTY29wZTpmdW5jdGlvbihlLHQpe2Uuc2V0QXR0cmlidXRlKHQsIiIpfX0pLFluPXtjcmVhdGU6ZnVuY3Rpb24oZSx0KXtRbih0KX0sdXBkYXRlOmZ1bmN0aW9uKGUsdCl7ZS5kYXRhLnJlZiE9PXQuZGF0YS5yZWYmJihRbihlLCEwKSxRbih0KSl9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7UW4oZSwhMCl9fTtmdW5jdGlvbiBRbihlLHQpe3ZhciByPWUuZGF0YS5yZWY7aWYobihyKSl7dmFyIGk9ZS5jb250ZXh0LG89ZS5jb21wb25lbnRJbnN0YW5jZXx8ZS5lbG0sYT1pLiRyZWZzO3Q/QXJyYXkuaXNBcnJheShhW3JdKT9oKGFbcl0sbyk6YVtyXT09PW8mJihhW3JdPXZvaWQgMCk6ZS5kYXRhLnJlZkluRm9yP0FycmF5LmlzQXJyYXkoYVtyXSk/YVtyXS5pbmRleE9mKG8pPDAmJmFbcl0ucHVzaChvKTphW3JdPVtvXTphW3JdPW99fXZhciBlcj1uZXcgZmUoIiIse30sW10pLHRyPVsiY3JlYXRlIiwiYWN0aXZhdGUiLCJ1cGRhdGUiLCJyZW1vdmUiLCJkZXN0cm95Il07ZnVuY3Rpb24gbnIoZSxpKXtyZXR1cm4gZS5rZXk9PT1pLmtleSYmKGUudGFnPT09aS50YWcmJmUuaXNDb21tZW50PT09aS5pc0NvbW1lbnQmJm4oZS5kYXRhKT09PW4oaS5kYXRhKSYmZnVuY3Rpb24oZSx0KXtpZigiaW5wdXQiIT09ZS50YWcpcmV0dXJuITA7dmFyIHIsaT1uKHI9ZS5kYXRhKSYmbihyPXIuYXR0cnMpJiZyLnR5cGUsbz1uKHI9dC5kYXRhKSYmbihyPXIuYXR0cnMpJiZyLnR5cGU7cmV0dXJuIGk9PT1vfHxabihpKSYmWm4obyl9KGUsaSl8fHIoZS5pc0FzeW5jUGxhY2Vob2xkZXIpJiZlLmFzeW5jRmFjdG9yeT09PWkuYXN5bmNGYWN0b3J5JiZ0KGkuYXN5bmNGYWN0b3J5LmVycm9yKSl9ZnVuY3Rpb24gcnIoZSx0LHIpe3ZhciBpLG8sYT17fTtmb3IoaT10O2k8PXI7KytpKW4obz1lW2ldLmtleSkmJihhW29dPWkpO3JldHVybiBhfXZhciBpcj17Y3JlYXRlOm9yLHVwZGF0ZTpvcixkZXN0cm95OmZ1bmN0aW9uKGUpe29yKGUsZXIpfX07ZnVuY3Rpb24gb3IoZSx0KXsoZS5kYXRhLmRpcmVjdGl2ZXN8fHQuZGF0YS5kaXJlY3RpdmVzKSYmZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz1lPT09ZXIsYT10PT09ZXIscz1zcihlLmRhdGEuZGlyZWN0aXZlcyxlLmNvbnRleHQpLGM9c3IodC5kYXRhLmRpcmVjdGl2ZXMsdC5jb250ZXh0KSx1PVtdLGw9W107Zm9yKG4gaW4gYylyPXNbbl0saT1jW25dLHI/KGkub2xkVmFsdWU9ci52YWx1ZSxpLm9sZEFyZz1yLmFyZyx1cihpLCJ1cGRhdGUiLHQsZSksaS5kZWYmJmkuZGVmLmNvbXBvbmVudFVwZGF0ZWQmJmwucHVzaChpKSk6KHVyKGksImJpbmQiLHQsZSksaS5kZWYmJmkuZGVmLmluc2VydGVkJiZ1LnB1c2goaSkpO2lmKHUubGVuZ3RoKXt2YXIgZj1mdW5jdGlvbigpe2Zvcih2YXIgbj0wO248dS5sZW5ndGg7bisrKXVyKHVbbl0sImluc2VydGVkIix0LGUpfTtvP3J0KHQsImluc2VydCIsZik6ZigpfWwubGVuZ3RoJiZydCh0LCJwb3N0cGF0Y2giLGZ1bmN0aW9uKCl7Zm9yKHZhciBuPTA7bjxsLmxlbmd0aDtuKyspdXIobFtuXSwiY29tcG9uZW50VXBkYXRlZCIsdCxlKX0pO2lmKCFvKWZvcihuIGluIHMpY1tuXXx8dXIoc1tuXSwidW5iaW5kIixlLGUsYSl9KGUsdCl9dmFyIGFyPU9iamVjdC5jcmVhdGUobnVsbCk7ZnVuY3Rpb24gc3IoZSx0KXt2YXIgbixyLGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZighZSlyZXR1cm4gaTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKShyPWVbbl0pLm1vZGlmaWVyc3x8KHIubW9kaWZpZXJzPWFyKSxpW2NyKHIpXT1yLHIuZGVmPUxlKHQuJG9wdGlvbnMsImRpcmVjdGl2ZXMiLHIubmFtZSk7cmV0dXJuIGl9ZnVuY3Rpb24gY3IoZSl7cmV0dXJuIGUucmF3TmFtZXx8ZS5uYW1lKyIuIitPYmplY3Qua2V5cyhlLm1vZGlmaWVyc3x8e30pLmpvaW4oIi4iKX1mdW5jdGlvbiB1cihlLHQsbixyLGkpe3ZhciBvPWUuZGVmJiZlLmRlZlt0XTtpZihvKXRyeXtvKG4uZWxtLGUsbixyLGkpfWNhdGNoKHIpe1JlKHIsbi5jb250ZXh0LCJkaXJlY3RpdmUgIitlLm5hbWUrIiAiK3QrIiBob29rIil9fXZhciBscj1bWW4saXJdO2Z1bmN0aW9uIGZyKGUscil7dmFyIGk9ci5jb21wb25lbnRPcHRpb25zO2lmKCEobihpKSYmITE9PT1pLkN0b3Iub3B0aW9ucy5pbmhlcml0QXR0cnN8fHQoZS5kYXRhLmF0dHJzKSYmdChyLmRhdGEuYXR0cnMpKSl7dmFyIG8sYSxzPXIuZWxtLGM9ZS5kYXRhLmF0dHJzfHx7fSx1PXIuZGF0YS5hdHRyc3x8e307Zm9yKG8gaW4gbih1Ll9fb2JfXykmJih1PXIuZGF0YS5hdHRycz1rKHt9LHUpKSx1KWE9dVtvXSxjW29dIT09YSYmcHIocyxvLGEpO2ZvcihvIGluKEp8fFcpJiZ1LnZhbHVlIT09Yy52YWx1ZSYmcHIocywidmFsdWUiLHUudmFsdWUpLGMpdCh1W29dKSYmKERuKG8pP3MucmVtb3ZlQXR0cmlidXRlTlMoSW4sUG4obykpOmpuKG8pfHxzLnJlbW92ZUF0dHJpYnV0ZShvKSl9fWZ1bmN0aW9uIHByKGUsdCxuKXtlLnRhZ05hbWUuaW5kZXhPZigiLSIpPi0xP2RyKGUsdCxuKTpNbih0KT9SbihuKT9lLnJlbW92ZUF0dHJpYnV0ZSh0KToobj0iYWxsb3dmdWxsc2NyZWVuIj09PXQmJiJFTUJFRCI9PT1lLnRhZ05hbWU/InRydWUiOnQsZS5zZXRBdHRyaWJ1dGUodCxuKSk6am4odCk/ZS5zZXRBdHRyaWJ1dGUodCxMbih0LG4pKTpEbih0KT9SbihuKT9lLnJlbW92ZUF0dHJpYnV0ZU5TKEluLFBuKHQpKTplLnNldEF0dHJpYnV0ZU5TKEluLHQsbik6ZHIoZSx0LG4pfWZ1bmN0aW9uIGRyKGUsdCxuKXtpZihSbihuKSllLnJlbW92ZUF0dHJpYnV0ZSh0KTtlbHNle2lmKEomJiFxJiYiVEVYVEFSRUEiPT09ZS50YWdOYW1lJiYicGxhY2Vob2xkZXIiPT09dCYmIiIhPT1uJiYhZS5fX2llcGgpe3ZhciByPWZ1bmN0aW9uKHQpe3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJpbnB1dCIscil9O2UuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLHIpLGUuX19pZXBoPSEwfWUuc2V0QXR0cmlidXRlKHQsbil9fXZhciB2cj17Y3JlYXRlOmZyLHVwZGF0ZTpmcn07ZnVuY3Rpb24gaHIoZSxyKXt2YXIgaT1yLmVsbSxvPXIuZGF0YSxhPWUuZGF0YTtpZighKHQoby5zdGF0aWNDbGFzcykmJnQoby5jbGFzcykmJih0KGEpfHx0KGEuc3RhdGljQ2xhc3MpJiZ0KGEuY2xhc3MpKSkpe3ZhciBzPUZuKHIpLGM9aS5fdHJhbnNpdGlvbkNsYXNzZXM7bihjKSYmKHM9Qm4ocyxVbihjKSkpLHMhPT1pLl9wcmV2Q2xhc3MmJihpLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpLGkuX3ByZXZDbGFzcz1zKX19dmFyIG1yLHlyLGdyLF9yLGJyLCRyLHdyPXtjcmVhdGU6aHIsdXBkYXRlOmhyfSx4cj0vW1x3KS4rXC1fJFxdXS87ZnVuY3Rpb24gQ3IoZSl7dmFyIHQsbixyLGksbyxhPSExLHM9ITEsYz0hMSx1PSExLGw9MCxmPTAscD0wLGQ9MDtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKWlmKG49dCx0PWUuY2hhckNvZGVBdChyKSxhKTM5PT09dCYmOTIhPT1uJiYoYT0hMSk7ZWxzZSBpZihzKTM0PT09dCYmOTIhPT1uJiYocz0hMSk7ZWxzZSBpZihjKTk2PT09dCYmOTIhPT1uJiYoYz0hMSk7ZWxzZSBpZih1KTQ3PT09dCYmOTIhPT1uJiYodT0hMSk7ZWxzZSBpZigxMjQhPT10fHwxMjQ9PT1lLmNoYXJDb2RlQXQocisxKXx8MTI0PT09ZS5jaGFyQ29kZUF0KHItMSl8fGx8fGZ8fHApe3N3aXRjaCh0KXtjYXNlIDM0OnM9ITA7YnJlYWs7Y2FzZSAzOTphPSEwO2JyZWFrO2Nhc2UgOTY6Yz0hMDticmVhaztjYXNlIDQwOnArKzticmVhaztjYXNlIDQxOnAtLTticmVhaztjYXNlIDkxOmYrKzticmVhaztjYXNlIDkzOmYtLTticmVhaztjYXNlIDEyMzpsKys7YnJlYWs7Y2FzZSAxMjU6bC0tfWlmKDQ3PT09dCl7Zm9yKHZhciB2PXItMSxoPXZvaWQgMDt2Pj0wJiYiICI9PT0oaD1lLmNoYXJBdCh2KSk7di0tKTtoJiZ4ci50ZXN0KGgpfHwodT0hMCl9fWVsc2Ugdm9pZCAwPT09aT8oZD1yKzEsaT1lLnNsaWNlKDAscikudHJpbSgpKTptKCk7ZnVuY3Rpb24gbSgpeyhvfHwobz1bXSkpLnB1c2goZS5zbGljZShkLHIpLnRyaW0oKSksZD1yKzF9aWYodm9pZCAwPT09aT9pPWUuc2xpY2UoMCxyKS50cmltKCk6MCE9PWQmJm0oKSxvKWZvcihyPTA7cjxvLmxlbmd0aDtyKyspaT1BcihpLG9bcl0pO3JldHVybiBpfWZ1bmN0aW9uIEFyKGUsdCl7dmFyIG49dC5pbmRleE9mKCIoIik7aWYobjwwKXJldHVybidfZigiJyt0KyciKSgnK2UrIikiO3ZhciByPXQuc2xpY2UoMCxuKSxpPXQuc2xpY2UobisxKTtyZXR1cm4nX2YoIicrcisnIikoJytlKygiKSIhPT1pPyIsIitpOmkpfWZ1bmN0aW9uIGtyKGUsdCl7Y29uc29sZS5lcnJvcigiW1Z1ZSBjb21waWxlcl06ICIrZSl9ZnVuY3Rpb24gT3IoZSx0KXtyZXR1cm4gZT9lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZVt0XX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZX0pOltdfWZ1bmN0aW9uIFNyKGUsdCxuLHIsaSl7KGUucHJvcHN8fChlLnByb3BzPVtdKSkucHVzaChQcih7bmFtZTp0LHZhbHVlOm4sZHluYW1pYzppfSxyKSksZS5wbGFpbj0hMX1mdW5jdGlvbiBUcihlLHQsbixyLGkpeyhpP2UuZHluYW1pY0F0dHJzfHwoZS5keW5hbWljQXR0cnM9W10pOmUuYXR0cnN8fChlLmF0dHJzPVtdKSkucHVzaChQcih7bmFtZTp0LHZhbHVlOm4sZHluYW1pYzppfSxyKSksZS5wbGFpbj0hMX1mdW5jdGlvbiBFcihlLHQsbixyKXtlLmF0dHJzTWFwW3RdPW4sZS5hdHRyc0xpc3QucHVzaChQcih7bmFtZTp0LHZhbHVlOm59LHIpKX1mdW5jdGlvbiBqcihlLHQsbixyLGksbyxhLHMpeyhlLmRpcmVjdGl2ZXN8fChlLmRpcmVjdGl2ZXM9W10pKS5wdXNoKFByKHtuYW1lOnQscmF3TmFtZTpuLHZhbHVlOnIsYXJnOmksaXNEeW5hbWljQXJnOm8sbW9kaWZpZXJzOmF9LHMpKSxlLnBsYWluPSExfWZ1bmN0aW9uIE5yKGUsdCxuKXtyZXR1cm4gbj8iX3AoIit0KycsIicrZSsnIiknOmUrdH1mdW5jdGlvbiBMcih0LG4scixpLG8sYSxzLGMpe3ZhciB1OyhpPWl8fGUpLnJpZ2h0P2M/bj0iKCIrbisiKT09PSdjbGljayc/J2NvbnRleHRtZW51JzooIituKyIpIjoiY2xpY2siPT09biYmKG49ImNvbnRleHRtZW51IixkZWxldGUgaS5yaWdodCk6aS5taWRkbGUmJihjP249IigiK24rIik9PT0nY2xpY2snPydtb3VzZXVwJzooIituKyIpIjoiY2xpY2siPT09biYmKG49Im1vdXNldXAiKSksaS5jYXB0dXJlJiYoZGVsZXRlIGkuY2FwdHVyZSxuPU5yKCIhIixuLGMpKSxpLm9uY2UmJihkZWxldGUgaS5vbmNlLG49TnIoIn4iLG4sYykpLGkucGFzc2l2ZSYmKGRlbGV0ZSBpLnBhc3NpdmUsbj1OcigiJiIsbixjKSksaS5uYXRpdmU/KGRlbGV0ZSBpLm5hdGl2ZSx1PXQubmF0aXZlRXZlbnRzfHwodC5uYXRpdmVFdmVudHM9e30pKTp1PXQuZXZlbnRzfHwodC5ldmVudHM9e30pO3ZhciBsPVByKHt2YWx1ZTpyLnRyaW0oKSxkeW5hbWljOmN9LHMpO2khPT1lJiYobC5tb2RpZmllcnM9aSk7dmFyIGY9dVtuXTtBcnJheS5pc0FycmF5KGYpP28/Zi51bnNoaWZ0KGwpOmYucHVzaChsKTp1W25dPWY/bz9bbCxmXTpbZixsXTpsLHQucGxhaW49ITF9ZnVuY3Rpb24gTXIoZSx0LG4pe3ZhciByPUlyKGUsIjoiK3QpfHxJcihlLCJ2LWJpbmQ6Iit0KTtpZihudWxsIT1yKXJldHVybiBDcihyKTtpZighMSE9PW4pe3ZhciBpPUlyKGUsdCk7aWYobnVsbCE9aSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoaSl9fWZ1bmN0aW9uIElyKGUsdCxuKXt2YXIgcjtpZihudWxsIT0ocj1lLmF0dHJzTWFwW3RdKSlmb3IodmFyIGk9ZS5hdHRyc0xpc3Qsbz0wLGE9aS5sZW5ndGg7bzxhO28rKylpZihpW29dLm5hbWU9PT10KXtpLnNwbGljZShvLDEpO2JyZWFrfXJldHVybiBuJiZkZWxldGUgZS5hdHRyc01hcFt0XSxyfWZ1bmN0aW9uIERyKGUsdCl7Zm9yKHZhciBuPWUuYXR0cnNMaXN0LHI9MCxpPW4ubGVuZ3RoO3I8aTtyKyspe3ZhciBvPW5bcl07aWYodC50ZXN0KG8ubmFtZSkpcmV0dXJuIG4uc3BsaWNlKHIsMSksb319ZnVuY3Rpb24gUHIoZSx0KXtyZXR1cm4gdCYmKG51bGwhPXQuc3RhcnQmJihlLnN0YXJ0PXQuc3RhcnQpLG51bGwhPXQuZW5kJiYoZS5lbmQ9dC5lbmQpKSxlfWZ1bmN0aW9uIFJyKGUsdCxuKXt2YXIgcj1ufHx7fSxpPXIubnVtYmVyLG89IiQkdiI7ci50cmltJiYobz0iKHR5cGVvZiAkJHYgPT09ICdzdHJpbmcnPyAkJHYudHJpbSgpOiAkJHYpIiksaSYmKG89Il9uKCIrbysiKSIpO3ZhciBhPUZyKHQsbyk7ZS5tb2RlbD17dmFsdWU6IigiK3QrIikiLGV4cHJlc3Npb246SlNPTi5zdHJpbmdpZnkodCksY2FsbGJhY2s6ImZ1bmN0aW9uICgkJHYpIHsiK2ErIn0ifX1mdW5jdGlvbiBGcihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUpe2lmKGU9ZS50cmltKCksbXI9ZS5sZW5ndGgsZS5pbmRleE9mKCJbIik8MHx8ZS5sYXN0SW5kZXhPZigiXSIpPG1yLTEpcmV0dXJuKF9yPWUubGFzdEluZGV4T2YoIi4iKSk+LTE/e2V4cDplLnNsaWNlKDAsX3IpLGtleTonIicrZS5zbGljZShfcisxKSsnIid9OntleHA6ZSxrZXk6bnVsbH07eXI9ZSxfcj1icj0kcj0wO2Zvcig7IUJyKCk7KVVyKGdyPUhyKCkpP1ZyKGdyKTo5MT09PWdyJiZ6cihncik7cmV0dXJue2V4cDplLnNsaWNlKDAsYnIpLGtleTplLnNsaWNlKGJyKzEsJHIpfX0oZSk7cmV0dXJuIG51bGw9PT1uLmtleT9lKyI9Iit0OiIkc2V0KCIrbi5leHArIiwgIituLmtleSsiLCAiK3QrIikifWZ1bmN0aW9uIEhyKCl7cmV0dXJuIHlyLmNoYXJDb2RlQXQoKytfcil9ZnVuY3Rpb24gQnIoKXtyZXR1cm4gX3I+PW1yfWZ1bmN0aW9uIFVyKGUpe3JldHVybiAzND09PWV8fDM5PT09ZX1mdW5jdGlvbiB6cihlKXt2YXIgdD0xO2Zvcihicj1fcjshQnIoKTspaWYoVXIoZT1IcigpKSlWcihlKTtlbHNlIGlmKDkxPT09ZSYmdCsrLDkzPT09ZSYmdC0tLDA9PT10KXskcj1fcjticmVha319ZnVuY3Rpb24gVnIoZSl7Zm9yKHZhciB0PWU7IUJyKCkmJihlPUhyKCkpIT09dDspO312YXIgS3IsSnI9Il9fciIscXI9Il9fYyI7ZnVuY3Rpb24gV3IoZSx0LG4pe3ZhciByPUtyO3JldHVybiBmdW5jdGlvbiBpKCl7bnVsbCE9PXQuYXBwbHkobnVsbCxhcmd1bWVudHMpJiZYcihlLGksbixyKX19dmFyIFpyPXplJiYhKEcmJk51bWJlcihHWzFdKTw9NTMpO2Z1bmN0aW9uIEdyKGUsdCxuLHIpe2lmKFpyKXt2YXIgaT1vbixvPXQ7dD1vLl93cmFwcGVyPWZ1bmN0aW9uKGUpe2lmKGUudGFyZ2V0PT09ZS5jdXJyZW50VGFyZ2V0fHxlLnRpbWVTdGFtcD49aXx8MD09PWUudGltZVN0YW1wfHxlLnRhcmdldC5vd25lckRvY3VtZW50IT09ZG9jdW1lbnQpcmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX1Lci5hZGRFdmVudExpc3RlbmVyKGUsdCxZP3tjYXB0dXJlOm4scGFzc2l2ZTpyfTpuKX1mdW5jdGlvbiBYcihlLHQsbixyKXsocnx8S3IpLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0Ll93cmFwcGVyfHx0LG4pfWZ1bmN0aW9uIFlyKGUscil7aWYoIXQoZS5kYXRhLm9uKXx8IXQoci5kYXRhLm9uKSl7dmFyIGk9ci5kYXRhLm9ufHx7fSxvPWUuZGF0YS5vbnx8e307S3I9ci5lbG0sZnVuY3Rpb24oZSl7aWYobihlW0pyXSkpe3ZhciB0PUo/ImNoYW5nZSI6ImlucHV0IjtlW3RdPVtdLmNvbmNhdChlW0pyXSxlW3RdfHxbXSksZGVsZXRlIGVbSnJdfW4oZVtxcl0pJiYoZS5jaGFuZ2U9W10uY29uY2F0KGVbcXJdLGUuY2hhbmdlfHxbXSksZGVsZXRlIGVbcXJdKX0oaSksbnQoaSxvLEdyLFhyLFdyLHIuY29udGV4dCksS3I9dm9pZCAwfX12YXIgUXIsZWk9e2NyZWF0ZTpZcix1cGRhdGU6WXJ9O2Z1bmN0aW9uIHRpKGUscil7aWYoIXQoZS5kYXRhLmRvbVByb3BzKXx8IXQoci5kYXRhLmRvbVByb3BzKSl7dmFyIGksbyxhPXIuZWxtLHM9ZS5kYXRhLmRvbVByb3BzfHx7fSxjPXIuZGF0YS5kb21Qcm9wc3x8e307Zm9yKGkgaW4gbihjLl9fb2JfXykmJihjPXIuZGF0YS5kb21Qcm9wcz1rKHt9LGMpKSxzKXQoY1tpXSkmJihhW2ldPSIiKTtmb3IoaSBpbiBjKXtpZihvPWNbaV0sInRleHRDb250ZW50Ij09PWl8fCJpbm5lckhUTUwiPT09aSl7aWYoci5jaGlsZHJlbiYmKHIuY2hpbGRyZW4ubGVuZ3RoPTApLG89PT1zW2ldKWNvbnRpbnVlOzE9PT1hLmNoaWxkTm9kZXMubGVuZ3RoJiZhLnJlbW92ZUNoaWxkKGEuY2hpbGROb2Rlc1swXSl9aWYoInZhbHVlIj09PWl8fG8hPT1zW2ldKWlmKCJ2YWx1ZSI9PT1pKXthLl92YWx1ZT1vO3ZhciB1PXQobyk/IiI6U3RyaW5nKG8pO25pKGEsdSkmJihhLnZhbHVlPXUpfWVsc2UgaWYoImlubmVySFRNTCI9PT1pJiZLbihhLnRhZ05hbWUpJiZ0KGEuaW5uZXJIVE1MKSl7KFFyPVFyfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuaW5uZXJIVE1MPSI8c3ZnPiIrbysiPC9zdmc+Ijtmb3IodmFyIGw9UXIuZmlyc3RDaGlsZDthLmZpcnN0Q2hpbGQ7KWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKTtmb3IoO2wuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZChsLmZpcnN0Q2hpbGQpfWVsc2UgYVtpXT1vfX19ZnVuY3Rpb24gbmkoZSx0KXtyZXR1cm4hZS5jb21wb3NpbmcmJigiT1BUSU9OIj09PWUudGFnTmFtZXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMDt0cnl7bj1kb2N1bWVudC5hY3RpdmVFbGVtZW50IT09ZX1jYXRjaChlKXt9cmV0dXJuIG4mJmUudmFsdWUhPT10fShlLHQpfHxmdW5jdGlvbihlLHQpe3ZhciByPWUudmFsdWUsaT1lLl92TW9kaWZpZXJzO2lmKG4oaSkpe2lmKGkubnVtYmVyKXJldHVybiBmKHIpIT09Zih0KTtpZihpLnRyaW0pcmV0dXJuIHIudHJpbSgpIT09dC50cmltKCl9cmV0dXJuIHIhPT10fShlLHQpKX12YXIgcmk9e2NyZWF0ZTp0aSx1cGRhdGU6dGl9LGlpPWcoZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj0vOiguKykvO3JldHVybiBlLnNwbGl0KC87KD8hW14oXSpcKSkvZykuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlKXt2YXIgcj1lLnNwbGl0KG4pO3IubGVuZ3RoPjEmJih0W3JbMF0udHJpbSgpXT1yWzFdLnRyaW0oKSl9fSksdH0pO2Z1bmN0aW9uIG9pKGUpe3ZhciB0PWFpKGUuc3R5bGUpO3JldHVybiBlLnN0YXRpY1N0eWxlP2soZS5zdGF0aWNTdHlsZSx0KTp0fWZ1bmN0aW9uIGFpKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP08oZSk6InN0cmluZyI9PXR5cGVvZiBlP2lpKGUpOmV9dmFyIHNpLGNpPS9eLS0vLHVpPS9ccyohaW1wb3J0YW50JC8sbGk9ZnVuY3Rpb24oZSx0LG4pe2lmKGNpLnRlc3QodCkpZS5zdHlsZS5zZXRQcm9wZXJ0eSh0LG4pO2Vsc2UgaWYodWkudGVzdChuKSllLnN0eWxlLnNldFByb3BlcnR5KHgodCksbi5yZXBsYWNlKHVpLCIiKSwiaW1wb3J0YW50Iik7ZWxzZXt2YXIgcj1waSh0KTtpZihBcnJheS5pc0FycmF5KG4pKWZvcih2YXIgaT0wLG89bi5sZW5ndGg7aTxvO2krKyllLnN0eWxlW3JdPW5baV07ZWxzZSBlLnN0eWxlW3JdPW59fSxmaT1bIldlYmtpdCIsIk1veiIsIm1zIl0scGk9ZyhmdW5jdGlvbihlKXtpZihzaT1zaXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsImZpbHRlciIhPT0oZT1iKGUpKSYmZSBpbiBzaSlyZXR1cm4gZTtmb3IodmFyIHQ9ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLG49MDtuPGZpLmxlbmd0aDtuKyspe3ZhciByPWZpW25dK3Q7aWYociBpbiBzaSlyZXR1cm4gcn19KTtmdW5jdGlvbiBkaShlLHIpe3ZhciBpPXIuZGF0YSxvPWUuZGF0YTtpZighKHQoaS5zdGF0aWNTdHlsZSkmJnQoaS5zdHlsZSkmJnQoby5zdGF0aWNTdHlsZSkmJnQoby5zdHlsZSkpKXt2YXIgYSxzLGM9ci5lbG0sdT1vLnN0YXRpY1N0eWxlLGw9by5ub3JtYWxpemVkU3R5bGV8fG8uc3R5bGV8fHt9LGY9dXx8bCxwPWFpKHIuZGF0YS5zdHlsZSl8fHt9O3IuZGF0YS5ub3JtYWxpemVkU3R5bGU9bihwLl9fb2JfXyk/ayh7fSxwKTpwO3ZhciBkPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj17fTtpZih0KWZvcih2YXIgaT1lO2kuY29tcG9uZW50SW5zdGFuY2U7KShpPWkuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlKSYmaS5kYXRhJiYobj1vaShpLmRhdGEpKSYmayhyLG4pOyhuPW9pKGUuZGF0YSkpJiZrKHIsbik7Zm9yKHZhciBvPWU7bz1vLnBhcmVudDspby5kYXRhJiYobj1vaShvLmRhdGEpKSYmayhyLG4pO3JldHVybiByfShyLCEwKTtmb3IocyBpbiBmKXQoZFtzXSkmJmxpKGMscywiIik7Zm9yKHMgaW4gZCkoYT1kW3NdKSE9PWZbc10mJmxpKGMscyxudWxsPT1hPyIiOmEpfX12YXIgdmk9e2NyZWF0ZTpkaSx1cGRhdGU6ZGl9LGhpPS9ccysvO2Z1bmN0aW9uIG1pKGUsdCl7aWYodCYmKHQ9dC50cmltKCkpKWlmKGUuY2xhc3NMaXN0KXQuaW5kZXhPZigiICIpPi0xP3Quc3BsaXQoaGkpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZCh0KX0pOmUuY2xhc3NMaXN0LmFkZCh0KTtlbHNle3ZhciBuPSIgIisoZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKSsiICI7bi5pbmRleE9mKCIgIit0KyIgIik8MCYmZS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwobit0KS50cmltKCkpfX1mdW5jdGlvbiB5aShlLHQpe2lmKHQmJih0PXQudHJpbSgpKSlpZihlLmNsYXNzTGlzdCl0LmluZGV4T2YoIiAiKT4tMT90LnNwbGl0KGhpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNsYXNzTGlzdC5yZW1vdmUodCl9KTplLmNsYXNzTGlzdC5yZW1vdmUodCksZS5jbGFzc0xpc3QubGVuZ3RofHxlLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3MiKTtlbHNle2Zvcih2YXIgbj0iICIrKGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIikrIiAiLHI9IiAiK3QrIiAiO24uaW5kZXhPZihyKT49MDspbj1uLnJlcGxhY2UociwiICIpOyhuPW4udHJpbSgpKT9lLnNldEF0dHJpYnV0ZSgiY2xhc3MiLG4pOmUucmVtb3ZlQXR0cmlidXRlKCJjbGFzcyIpfX1mdW5jdGlvbiBnaShlKXtpZihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGUpe3ZhciB0PXt9O3JldHVybiExIT09ZS5jc3MmJmsodCxfaShlLm5hbWV8fCJ2IikpLGsodCxlKSx0fXJldHVybiJzdHJpbmciPT10eXBlb2YgZT9faShlKTp2b2lkIDB9fXZhciBfaT1nKGZ1bmN0aW9uKGUpe3JldHVybntlbnRlckNsYXNzOmUrIi1lbnRlciIsZW50ZXJUb0NsYXNzOmUrIi1lbnRlci10byIsZW50ZXJBY3RpdmVDbGFzczplKyItZW50ZXItYWN0aXZlIixsZWF2ZUNsYXNzOmUrIi1sZWF2ZSIsbGVhdmVUb0NsYXNzOmUrIi1sZWF2ZS10byIsbGVhdmVBY3RpdmVDbGFzczplKyItbGVhdmUtYWN0aXZlIn19KSxiaT1VJiYhcSwkaT0idHJhbnNpdGlvbiIsd2k9ImFuaW1hdGlvbiIseGk9InRyYW5zaXRpb24iLENpPSJ0cmFuc2l0aW9uZW5kIixBaT0iYW5pbWF0aW9uIixraT0iYW5pbWF0aW9uZW5kIjtiaSYmKHZvaWQgMD09PXdpbmRvdy5vbnRyYW5zaXRpb25lbmQmJnZvaWQgMCE9PXdpbmRvdy5vbndlYmtpdHRyYW5zaXRpb25lbmQmJih4aT0iV2Via2l0VHJhbnNpdGlvbiIsQ2k9IndlYmtpdFRyYW5zaXRpb25FbmQiKSx2b2lkIDA9PT13aW5kb3cub25hbmltYXRpb25lbmQmJnZvaWQgMCE9PXdpbmRvdy5vbndlYmtpdGFuaW1hdGlvbmVuZCYmKEFpPSJXZWJraXRBbmltYXRpb24iLGtpPSJ3ZWJraXRBbmltYXRpb25FbmQiKSk7dmFyIE9pPVU/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KTpzZXRUaW1lb3V0OmZ1bmN0aW9uKGUpe3JldHVybiBlKCl9O2Z1bmN0aW9uIFNpKGUpe09pKGZ1bmN0aW9uKCl7T2koZSl9KX1mdW5jdGlvbiBUaShlLHQpe3ZhciBuPWUuX3RyYW5zaXRpb25DbGFzc2VzfHwoZS5fdHJhbnNpdGlvbkNsYXNzZXM9W10pO24uaW5kZXhPZih0KTwwJiYobi5wdXNoKHQpLG1pKGUsdCkpfWZ1bmN0aW9uIEVpKGUsdCl7ZS5fdHJhbnNpdGlvbkNsYXNzZXMmJmgoZS5fdHJhbnNpdGlvbkNsYXNzZXMsdCkseWkoZSx0KX1mdW5jdGlvbiBqaShlLHQsbil7dmFyIHI9TGkoZSx0KSxpPXIudHlwZSxvPXIudGltZW91dCxhPXIucHJvcENvdW50O2lmKCFpKXJldHVybiBuKCk7dmFyIHM9aT09PSRpP0NpOmtpLGM9MCx1PWZ1bmN0aW9uKCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKHMsbCksbigpfSxsPWZ1bmN0aW9uKHQpe3QudGFyZ2V0PT09ZSYmKytjPj1hJiZ1KCl9O3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjPGEmJnUoKX0sbysxKSxlLmFkZEV2ZW50TGlzdGVuZXIocyxsKX12YXIgTmk9L1xiKHRyYW5zZm9ybXxhbGwpKCx8JCkvO2Z1bmN0aW9uIExpKGUsdCl7dmFyIG4scj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKSxpPShyW3hpKyJEZWxheSJdfHwiIikuc3BsaXQoIiwgIiksbz0oclt4aSsiRHVyYXRpb24iXXx8IiIpLnNwbGl0KCIsICIpLGE9TWkoaSxvKSxzPShyW0FpKyJEZWxheSJdfHwiIikuc3BsaXQoIiwgIiksYz0ocltBaSsiRHVyYXRpb24iXXx8IiIpLnNwbGl0KCIsICIpLHU9TWkocyxjKSxsPTAsZj0wO3JldHVybiB0PT09JGk/YT4wJiYobj0kaSxsPWEsZj1vLmxlbmd0aCk6dD09PXdpP3U+MCYmKG49d2ksbD11LGY9Yy5sZW5ndGgpOmY9KG49KGw9TWF0aC5tYXgoYSx1KSk+MD9hPnU/JGk6d2k6bnVsbCk/bj09PSRpP28ubGVuZ3RoOmMubGVuZ3RoOjAse3R5cGU6bix0aW1lb3V0OmwscHJvcENvdW50OmYsaGFzVHJhbnNmb3JtOm49PT0kaSYmTmkudGVzdChyW3hpKyJQcm9wZXJ0eSJdKX19ZnVuY3Rpb24gTWkoZSx0KXtmb3IoO2UubGVuZ3RoPHQubGVuZ3RoOyllPWUuY29uY2F0KGUpO3JldHVybiBNYXRoLm1heC5hcHBseShudWxsLHQubWFwKGZ1bmN0aW9uKHQsbil7cmV0dXJuIElpKHQpK0lpKGVbbl0pfSkpfWZ1bmN0aW9uIElpKGUpe3JldHVybiAxZTMqTnVtYmVyKGUuc2xpY2UoMCwtMSkucmVwbGFjZSgiLCIsIi4iKSl9ZnVuY3Rpb24gRGkoZSxyKXt2YXIgaT1lLmVsbTtuKGkuX2xlYXZlQ2IpJiYoaS5fbGVhdmVDYi5jYW5jZWxsZWQ9ITAsaS5fbGVhdmVDYigpKTt2YXIgYT1naShlLmRhdGEudHJhbnNpdGlvbik7aWYoIXQoYSkmJiFuKGkuX2VudGVyQ2IpJiYxPT09aS5ub2RlVHlwZSl7Zm9yKHZhciBzPWEuY3NzLGM9YS50eXBlLHU9YS5lbnRlckNsYXNzLGw9YS5lbnRlclRvQ2xhc3MscD1hLmVudGVyQWN0aXZlQ2xhc3MsZD1hLmFwcGVhckNsYXNzLHY9YS5hcHBlYXJUb0NsYXNzLGg9YS5hcHBlYXJBY3RpdmVDbGFzcyxtPWEuYmVmb3JlRW50ZXIseT1hLmVudGVyLGc9YS5hZnRlckVudGVyLF89YS5lbnRlckNhbmNlbGxlZCxiPWEuYmVmb3JlQXBwZWFyLCQ9YS5hcHBlYXIsdz1hLmFmdGVyQXBwZWFyLHg9YS5hcHBlYXJDYW5jZWxsZWQsQz1hLmR1cmF0aW9uLEE9cXQsaz1xdC4kdm5vZGU7ayYmay5wYXJlbnQ7KUE9KGs9ay5wYXJlbnQpLmNvbnRleHQ7dmFyIE89IUEuX2lzTW91bnRlZHx8IWUuaXNSb290SW5zZXJ0O2lmKCFPfHwkfHwiIj09PSQpe3ZhciBTPU8mJmQ/ZDp1LFQ9TyYmaD9oOnAsRT1PJiZ2P3Y6bCxqPU8mJmJ8fG0sTj1PJiYiZnVuY3Rpb24iPT10eXBlb2YgJD8kOnksTT1PJiZ3fHxnLEk9TyYmeHx8XyxEPWYobyhDKT9DLmVudGVyOkMpLFA9ITEhPT1zJiYhcSxSPUZpKE4pLEY9aS5fZW50ZXJDYj1MKGZ1bmN0aW9uKCl7UCYmKEVpKGksRSksRWkoaSxUKSksRi5jYW5jZWxsZWQ/KFAmJkVpKGksUyksSSYmSShpKSk6TSYmTShpKSxpLl9lbnRlckNiPW51bGx9KTtlLmRhdGEuc2hvd3x8cnQoZSwiaW5zZXJ0IixmdW5jdGlvbigpe3ZhciB0PWkucGFyZW50Tm9kZSxuPXQmJnQuX3BlbmRpbmcmJnQuX3BlbmRpbmdbZS5rZXldO24mJm4udGFnPT09ZS50YWcmJm4uZWxtLl9sZWF2ZUNiJiZuLmVsbS5fbGVhdmVDYigpLE4mJk4oaSxGKX0pLGomJmooaSksUCYmKFRpKGksUyksVGkoaSxUKSxTaShmdW5jdGlvbigpe0VpKGksUyksRi5jYW5jZWxsZWR8fChUaShpLEUpLFJ8fChSaShEKT9zZXRUaW1lb3V0KEYsRCk6amkoaSxjLEYpKSl9KSksZS5kYXRhLnNob3cmJihyJiZyKCksTiYmTihpLEYpKSxQfHxSfHxGKCl9fX1mdW5jdGlvbiBQaShlLHIpe3ZhciBpPWUuZWxtO24oaS5fZW50ZXJDYikmJihpLl9lbnRlckNiLmNhbmNlbGxlZD0hMCxpLl9lbnRlckNiKCkpO3ZhciBhPWdpKGUuZGF0YS50cmFuc2l0aW9uKTtpZih0KGEpfHwxIT09aS5ub2RlVHlwZSlyZXR1cm4gcigpO2lmKCFuKGkuX2xlYXZlQ2IpKXt2YXIgcz1hLmNzcyxjPWEudHlwZSx1PWEubGVhdmVDbGFzcyxsPWEubGVhdmVUb0NsYXNzLHA9YS5sZWF2ZUFjdGl2ZUNsYXNzLGQ9YS5iZWZvcmVMZWF2ZSx2PWEubGVhdmUsaD1hLmFmdGVyTGVhdmUsbT1hLmxlYXZlQ2FuY2VsbGVkLHk9YS5kZWxheUxlYXZlLGc9YS5kdXJhdGlvbixfPSExIT09cyYmIXEsYj1GaSh2KSwkPWYobyhnKT9nLmxlYXZlOmcpLHc9aS5fbGVhdmVDYj1MKGZ1bmN0aW9uKCl7aS5wYXJlbnROb2RlJiZpLnBhcmVudE5vZGUuX3BlbmRpbmcmJihpLnBhcmVudE5vZGUuX3BlbmRpbmdbZS5rZXldPW51bGwpLF8mJihFaShpLGwpLEVpKGkscCkpLHcuY2FuY2VsbGVkPyhfJiZFaShpLHUpLG0mJm0oaSkpOihyKCksaCYmaChpKSksaS5fbGVhdmVDYj1udWxsfSk7eT95KHgpOngoKX1mdW5jdGlvbiB4KCl7dy5jYW5jZWxsZWR8fCghZS5kYXRhLnNob3cmJmkucGFyZW50Tm9kZSYmKChpLnBhcmVudE5vZGUuX3BlbmRpbmd8fChpLnBhcmVudE5vZGUuX3BlbmRpbmc9e30pKVtlLmtleV09ZSksZCYmZChpKSxfJiYoVGkoaSx1KSxUaShpLHApLFNpKGZ1bmN0aW9uKCl7RWkoaSx1KSx3LmNhbmNlbGxlZHx8KFRpKGksbCksYnx8KFJpKCQpP3NldFRpbWVvdXQodywkKTpqaShpLGMsdykpKX0pKSx2JiZ2KGksdyksX3x8Ynx8dygpKX19ZnVuY3Rpb24gUmkoZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlJiYhaXNOYU4oZSl9ZnVuY3Rpb24gRmkoZSl7aWYodChlKSlyZXR1cm4hMTt2YXIgcj1lLmZucztyZXR1cm4gbihyKT9GaShBcnJheS5pc0FycmF5KHIpP3JbMF06cik6KGUuX2xlbmd0aHx8ZS5sZW5ndGgpPjF9ZnVuY3Rpb24gSGkoZSx0KXshMCE9PXQuZGF0YS5zaG93JiZEaSh0KX12YXIgQmk9ZnVuY3Rpb24oZSl7dmFyIG8sYSxzPXt9LGM9ZS5tb2R1bGVzLHU9ZS5ub2RlT3BzO2ZvcihvPTA7bzx0ci5sZW5ndGg7KytvKWZvcihzW3RyW29dXT1bXSxhPTA7YTxjLmxlbmd0aDsrK2EpbihjW2FdW3RyW29dXSkmJnNbdHJbb11dLnB1c2goY1thXVt0cltvXV0pO2Z1bmN0aW9uIGwoZSl7dmFyIHQ9dS5wYXJlbnROb2RlKGUpO24odCkmJnUucmVtb3ZlQ2hpbGQodCxlKX1mdW5jdGlvbiBmKGUsdCxpLG8sYSxjLGwpe2lmKG4oZS5lbG0pJiZuKGMpJiYoZT1jW2xdPWhlKGUpKSxlLmlzUm9vdEluc2VydD0hYSwhZnVuY3Rpb24oZSx0LGksbyl7dmFyIGE9ZS5kYXRhO2lmKG4oYSkpe3ZhciBjPW4oZS5jb21wb25lbnRJbnN0YW5jZSkmJmEua2VlcEFsaXZlO2lmKG4oYT1hLmhvb2spJiZuKGE9YS5pbml0KSYmYShlLCExKSxuKGUuY29tcG9uZW50SW5zdGFuY2UpKXJldHVybiBkKGUsdCksdihpLGUuZWxtLG8pLHIoYykmJmZ1bmN0aW9uKGUsdCxyLGkpe2Zvcih2YXIgbyxhPWU7YS5jb21wb25lbnRJbnN0YW5jZTspaWYoYT1hLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZSxuKG89YS5kYXRhKSYmbihvPW8udHJhbnNpdGlvbikpe2ZvcihvPTA7bzxzLmFjdGl2YXRlLmxlbmd0aDsrK28pcy5hY3RpdmF0ZVtvXShlcixhKTt0LnB1c2goYSk7YnJlYWt9dihyLGUuZWxtLGkpfShlLHQsaSxvKSwhMH19KGUsdCxpLG8pKXt2YXIgZj1lLmRhdGEscD1lLmNoaWxkcmVuLG09ZS50YWc7bihtKT8oZS5lbG09ZS5ucz91LmNyZWF0ZUVsZW1lbnROUyhlLm5zLG0pOnUuY3JlYXRlRWxlbWVudChtLGUpLGcoZSksaChlLHAsdCksbihmKSYmeShlLHQpLHYoaSxlLmVsbSxvKSk6cihlLmlzQ29tbWVudCk/KGUuZWxtPXUuY3JlYXRlQ29tbWVudChlLnRleHQpLHYoaSxlLmVsbSxvKSk6KGUuZWxtPXUuY3JlYXRlVGV4dE5vZGUoZS50ZXh0KSx2KGksZS5lbG0sbykpfX1mdW5jdGlvbiBkKGUsdCl7bihlLmRhdGEucGVuZGluZ0luc2VydCkmJih0LnB1c2guYXBwbHkodCxlLmRhdGEucGVuZGluZ0luc2VydCksZS5kYXRhLnBlbmRpbmdJbnNlcnQ9bnVsbCksZS5lbG09ZS5jb21wb25lbnRJbnN0YW5jZS4kZWwsbShlKT8oeShlLHQpLGcoZSkpOihRbihlKSx0LnB1c2goZSkpfWZ1bmN0aW9uIHYoZSx0LHIpe24oZSkmJihuKHIpP3UucGFyZW50Tm9kZShyKT09PWUmJnUuaW5zZXJ0QmVmb3JlKGUsdCxyKTp1LmFwcGVuZENoaWxkKGUsdCkpfWZ1bmN0aW9uIGgoZSx0LG4pe2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3IpZih0W3JdLG4sZS5lbG0sbnVsbCwhMCx0LHIpO2Vsc2UgaShlLnRleHQpJiZ1LmFwcGVuZENoaWxkKGUuZWxtLHUuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKGUudGV4dCkpKX1mdW5jdGlvbiBtKGUpe2Zvcig7ZS5jb21wb25lbnRJbnN0YW5jZTspZT1lLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZTtyZXR1cm4gbihlLnRhZyl9ZnVuY3Rpb24geShlLHQpe2Zvcih2YXIgcj0wO3I8cy5jcmVhdGUubGVuZ3RoOysrcilzLmNyZWF0ZVtyXShlcixlKTtuKG89ZS5kYXRhLmhvb2spJiYobihvLmNyZWF0ZSkmJm8uY3JlYXRlKGVyLGUpLG4oby5pbnNlcnQpJiZ0LnB1c2goZSkpfWZ1bmN0aW9uIGcoZSl7dmFyIHQ7aWYobih0PWUuZm5TY29wZUlkKSl1LnNldFN0eWxlU2NvcGUoZS5lbG0sdCk7ZWxzZSBmb3IodmFyIHI9ZTtyOyluKHQ9ci5jb250ZXh0KSYmbih0PXQuJG9wdGlvbnMuX3Njb3BlSWQpJiZ1LnNldFN0eWxlU2NvcGUoZS5lbG0sdCkscj1yLnBhcmVudDtuKHQ9cXQpJiZ0IT09ZS5jb250ZXh0JiZ0IT09ZS5mbkNvbnRleHQmJm4odD10LiRvcHRpb25zLl9zY29wZUlkKSYmdS5zZXRTdHlsZVNjb3BlKGUuZWxtLHQpfWZ1bmN0aW9uIF8oZSx0LG4scixpLG8pe2Zvcig7cjw9aTsrK3IpZihuW3JdLG8sZSx0LCExLG4scil9ZnVuY3Rpb24gYihlKXt2YXIgdCxyLGk9ZS5kYXRhO2lmKG4oaSkpZm9yKG4odD1pLmhvb2spJiZuKHQ9dC5kZXN0cm95KSYmdChlKSx0PTA7dDxzLmRlc3Ryb3kubGVuZ3RoOysrdClzLmRlc3Ryb3lbdF0oZSk7aWYobih0PWUuY2hpbGRyZW4pKWZvcihyPTA7cjxlLmNoaWxkcmVuLmxlbmd0aDsrK3IpYihlLmNoaWxkcmVuW3JdKX1mdW5jdGlvbiAkKGUsdCxyLGkpe2Zvcig7cjw9aTsrK3Ipe3ZhciBvPXRbcl07bihvKSYmKG4oby50YWcpPyh3KG8pLGIobykpOmwoby5lbG0pKX19ZnVuY3Rpb24gdyhlLHQpe2lmKG4odCl8fG4oZS5kYXRhKSl7dmFyIHIsaT1zLnJlbW92ZS5sZW5ndGgrMTtmb3Iobih0KT90Lmxpc3RlbmVycys9aTp0PWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpezA9PS0tbi5saXN0ZW5lcnMmJmwoZSl9cmV0dXJuIG4ubGlzdGVuZXJzPXQsbn0oZS5lbG0saSksbihyPWUuY29tcG9uZW50SW5zdGFuY2UpJiZuKHI9ci5fdm5vZGUpJiZuKHIuZGF0YSkmJncocix0KSxyPTA7cjxzLnJlbW92ZS5sZW5ndGg7KytyKXMucmVtb3ZlW3JdKGUsdCk7bihyPWUuZGF0YS5ob29rKSYmbihyPXIucmVtb3ZlKT9yKGUsdCk6dCgpfWVsc2UgbChlLmVsbSl9ZnVuY3Rpb24geChlLHQscixpKXtmb3IodmFyIG89cjtvPGk7bysrKXt2YXIgYT10W29dO2lmKG4oYSkmJm5yKGUsYSkpcmV0dXJuIG99fWZ1bmN0aW9uIEMoZSxpLG8sYSxjLGwpe2lmKGUhPT1pKXtuKGkuZWxtKSYmbihhKSYmKGk9YVtjXT1oZShpKSk7dmFyIHA9aS5lbG09ZS5lbG07aWYocihlLmlzQXN5bmNQbGFjZWhvbGRlcikpbihpLmFzeW5jRmFjdG9yeS5yZXNvbHZlZCk/TyhlLmVsbSxpLG8pOmkuaXNBc3luY1BsYWNlaG9sZGVyPSEwO2Vsc2UgaWYocihpLmlzU3RhdGljKSYmcihlLmlzU3RhdGljKSYmaS5rZXk9PT1lLmtleSYmKHIoaS5pc0Nsb25lZCl8fHIoaS5pc09uY2UpKSlpLmNvbXBvbmVudEluc3RhbmNlPWUuY29tcG9uZW50SW5zdGFuY2U7ZWxzZXt2YXIgZCx2PWkuZGF0YTtuKHYpJiZuKGQ9di5ob29rKSYmbihkPWQucHJlcGF0Y2gpJiZkKGUsaSk7dmFyIGg9ZS5jaGlsZHJlbix5PWkuY2hpbGRyZW47aWYobih2KSYmbShpKSl7Zm9yKGQ9MDtkPHMudXBkYXRlLmxlbmd0aDsrK2Qpcy51cGRhdGVbZF0oZSxpKTtuKGQ9di5ob29rKSYmbihkPWQudXBkYXRlKSYmZChlLGkpfXQoaS50ZXh0KT9uKGgpJiZuKHkpP2ghPT15JiZmdW5jdGlvbihlLHIsaSxvLGEpe2Zvcih2YXIgcyxjLGwscD0wLGQ9MCx2PXIubGVuZ3RoLTEsaD1yWzBdLG09clt2XSx5PWkubGVuZ3RoLTEsZz1pWzBdLGI9aVt5XSx3PSFhO3A8PXYmJmQ8PXk7KXQoaCk/aD1yWysrcF06dChtKT9tPXJbLS12XTpucihoLGcpPyhDKGgsZyxvLGksZCksaD1yWysrcF0sZz1pWysrZF0pOm5yKG0sYik/KEMobSxiLG8saSx5KSxtPXJbLS12XSxiPWlbLS15XSk6bnIoaCxiKT8oQyhoLGIsbyxpLHkpLHcmJnUuaW5zZXJ0QmVmb3JlKGUsaC5lbG0sdS5uZXh0U2libGluZyhtLmVsbSkpLGg9clsrK3BdLGI9aVstLXldKTpucihtLGcpPyhDKG0sZyxvLGksZCksdyYmdS5pbnNlcnRCZWZvcmUoZSxtLmVsbSxoLmVsbSksbT1yWy0tdl0sZz1pWysrZF0pOih0KHMpJiYocz1ycihyLHAsdikpLHQoYz1uKGcua2V5KT9zW2cua2V5XTp4KGcscixwLHYpKT9mKGcsbyxlLGguZWxtLCExLGksZCk6bnIobD1yW2NdLGcpPyhDKGwsZyxvLGksZCkscltjXT12b2lkIDAsdyYmdS5pbnNlcnRCZWZvcmUoZSxsLmVsbSxoLmVsbSkpOmYoZyxvLGUsaC5lbG0sITEsaSxkKSxnPWlbKytkXSk7cD52P18oZSx0KGlbeSsxXSk/bnVsbDppW3krMV0uZWxtLGksZCx5LG8pOmQ+eSYmJCgwLHIscCx2KX0ocCxoLHksbyxsKTpuKHkpPyhuKGUudGV4dCkmJnUuc2V0VGV4dENvbnRlbnQocCwiIiksXyhwLG51bGwseSwwLHkubGVuZ3RoLTEsbykpOm4oaCk/JCgwLGgsMCxoLmxlbmd0aC0xKTpuKGUudGV4dCkmJnUuc2V0VGV4dENvbnRlbnQocCwiIik6ZS50ZXh0IT09aS50ZXh0JiZ1LnNldFRleHRDb250ZW50KHAsaS50ZXh0KSxuKHYpJiZuKGQ9di5ob29rKSYmbihkPWQucG9zdHBhdGNoKSYmZChlLGkpfX19ZnVuY3Rpb24gQShlLHQsaSl7aWYocihpKSYmbihlLnBhcmVudCkpZS5wYXJlbnQuZGF0YS5wZW5kaW5nSW5zZXJ0PXQ7ZWxzZSBmb3IodmFyIG89MDtvPHQubGVuZ3RoOysrbyl0W29dLmRhdGEuaG9vay5pbnNlcnQodFtvXSl9dmFyIGs9cCgiYXR0cnMsY2xhc3Msc3RhdGljQ2xhc3Msc3RhdGljU3R5bGUsa2V5Iik7ZnVuY3Rpb24gTyhlLHQsaSxvKXt2YXIgYSxzPXQudGFnLGM9dC5kYXRhLHU9dC5jaGlsZHJlbjtpZihvPW98fGMmJmMucHJlLHQuZWxtPWUscih0LmlzQ29tbWVudCkmJm4odC5hc3luY0ZhY3RvcnkpKXJldHVybiB0LmlzQXN5bmNQbGFjZWhvbGRlcj0hMCwhMDtpZihuKGMpJiYobihhPWMuaG9vaykmJm4oYT1hLmluaXQpJiZhKHQsITApLG4oYT10LmNvbXBvbmVudEluc3RhbmNlKSkpcmV0dXJuIGQodCxpKSwhMDtpZihuKHMpKXtpZihuKHUpKWlmKGUuaGFzQ2hpbGROb2RlcygpKWlmKG4oYT1jKSYmbihhPWEuZG9tUHJvcHMpJiZuKGE9YS5pbm5lckhUTUwpKXtpZihhIT09ZS5pbm5lckhUTUwpcmV0dXJuITF9ZWxzZXtmb3IodmFyIGw9ITAsZj1lLmZpcnN0Q2hpbGQscD0wO3A8dS5sZW5ndGg7cCsrKXtpZighZnx8IU8oZix1W3BdLGksbykpe2w9ITE7YnJlYWt9Zj1mLm5leHRTaWJsaW5nfWlmKCFsfHxmKXJldHVybiExfWVsc2UgaCh0LHUsaSk7aWYobihjKSl7dmFyIHY9ITE7Zm9yKHZhciBtIGluIGMpaWYoIWsobSkpe3Y9ITAseSh0LGkpO2JyZWFrfSF2JiZjLmNsYXNzJiZRZShjLmNsYXNzKX19ZWxzZSBlLmRhdGEhPT10LnRleHQmJihlLmRhdGE9dC50ZXh0KTtyZXR1cm4hMH1yZXR1cm4gZnVuY3Rpb24oZSxpLG8sYSl7aWYoIXQoaSkpe3ZhciBjLGw9ITEscD1bXTtpZih0KGUpKWw9ITAsZihpLHApO2Vsc2V7dmFyIGQ9bihlLm5vZGVUeXBlKTtpZighZCYmbnIoZSxpKSlDKGUsaSxwLG51bGwsbnVsbCxhKTtlbHNle2lmKGQpe2lmKDE9PT1lLm5vZGVUeXBlJiZlLmhhc0F0dHJpYnV0ZShNKSYmKGUucmVtb3ZlQXR0cmlidXRlKE0pLG89ITApLHIobykmJk8oZSxpLHApKXJldHVybiBBKGkscCwhMCksZTtjPWUsZT1uZXcgZmUodS50YWdOYW1lKGMpLnRvTG93ZXJDYXNlKCkse30sW10sdm9pZCAwLGMpfXZhciB2PWUuZWxtLGg9dS5wYXJlbnROb2RlKHYpO2lmKGYoaSxwLHYuX2xlYXZlQ2I/bnVsbDpoLHUubmV4dFNpYmxpbmcodikpLG4oaS5wYXJlbnQpKWZvcih2YXIgeT1pLnBhcmVudCxnPW0oaSk7eTspe2Zvcih2YXIgXz0wO188cy5kZXN0cm95Lmxlbmd0aDsrK18pcy5kZXN0cm95W19dKHkpO2lmKHkuZWxtPWkuZWxtLGcpe2Zvcih2YXIgdz0wO3c8cy5jcmVhdGUubGVuZ3RoOysrdylzLmNyZWF0ZVt3XShlcix5KTt2YXIgeD15LmRhdGEuaG9vay5pbnNlcnQ7aWYoeC5tZXJnZWQpZm9yKHZhciBrPTE7azx4LmZucy5sZW5ndGg7aysrKXguZm5zW2tdKCl9ZWxzZSBRbih5KTt5PXkucGFyZW50fW4oaCk/JCgwLFtlXSwwLDApOm4oZS50YWcpJiZiKGUpfX1yZXR1cm4gQShpLHAsbCksaS5lbG19bihlKSYmYihlKX19KHtub2RlT3BzOlhuLG1vZHVsZXM6W3ZyLHdyLGVpLHJpLHZpLFU/e2NyZWF0ZTpIaSxhY3RpdmF0ZTpIaSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXshMCE9PWUuZGF0YS5zaG93P1BpKGUsdCk6dCgpfX06e31dLmNvbmNhdChscil9KTtxJiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtlJiZlLnZtb2RlbCYmWmkoZSwiaW5wdXQiKX0pO3ZhciBVaT17aW5zZXJ0ZWQ6ZnVuY3Rpb24oZSx0LG4scil7InNlbGVjdCI9PT1uLnRhZz8oci5lbG0mJiFyLmVsbS5fdk9wdGlvbnM/cnQobiwicG9zdHBhdGNoIixmdW5jdGlvbigpe1VpLmNvbXBvbmVudFVwZGF0ZWQoZSx0LG4pfSk6emkoZSx0LG4uY29udGV4dCksZS5fdk9wdGlvbnM9W10ubWFwLmNhbGwoZS5vcHRpb25zLEppKSk6KCJ0ZXh0YXJlYSI9PT1uLnRhZ3x8Wm4oZS50eXBlKSkmJihlLl92TW9kaWZpZXJzPXQubW9kaWZpZXJzLHQubW9kaWZpZXJzLmxhenl8fChlLmFkZEV2ZW50TGlzdGVuZXIoImNvbXBvc2l0aW9uc3RhcnQiLHFpKSxlLmFkZEV2ZW50TGlzdGVuZXIoImNvbXBvc2l0aW9uZW5kIixXaSksZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLFdpKSxxJiYoZS52bW9kZWw9ITApKSl9LGNvbXBvbmVudFVwZGF0ZWQ6ZnVuY3Rpb24oZSx0LG4pe2lmKCJzZWxlY3QiPT09bi50YWcpe3ppKGUsdCxuLmNvbnRleHQpO3ZhciByPWUuX3ZPcHRpb25zLGk9ZS5fdk9wdGlvbnM9W10ubWFwLmNhbGwoZS5vcHRpb25zLEppKTtpZihpLnNvbWUoZnVuY3Rpb24oZSx0KXtyZXR1cm4haihlLHJbdF0pfSkpKGUubXVsdGlwbGU/dC52YWx1ZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBLaShlLGkpfSk6dC52YWx1ZSE9PXQub2xkVmFsdWUmJktpKHQudmFsdWUsaSkpJiZaaShlLCJjaGFuZ2UiKX19fTtmdW5jdGlvbiB6aShlLHQsbil7VmkoZSx0LG4pLChKfHxXKSYmc2V0VGltZW91dChmdW5jdGlvbigpe1ZpKGUsdCxuKX0sMCl9ZnVuY3Rpb24gVmkoZSx0LG4pe3ZhciByPXQudmFsdWUsaT1lLm11bHRpcGxlO2lmKCFpfHxBcnJheS5pc0FycmF5KHIpKXtmb3IodmFyIG8sYSxzPTAsYz1lLm9wdGlvbnMubGVuZ3RoO3M8YztzKyspaWYoYT1lLm9wdGlvbnNbc10saSlvPU4ocixKaShhKSk+LTEsYS5zZWxlY3RlZCE9PW8mJihhLnNlbGVjdGVkPW8pO2Vsc2UgaWYoaihKaShhKSxyKSlyZXR1cm4gdm9pZChlLnNlbGVjdGVkSW5kZXghPT1zJiYoZS5zZWxlY3RlZEluZGV4PXMpKTtpfHwoZS5zZWxlY3RlZEluZGV4PS0xKX19ZnVuY3Rpb24gS2koZSx0KXtyZXR1cm4gdC5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4haih0LGUpfSl9ZnVuY3Rpb24gSmkoZSl7cmV0dXJuIl92YWx1ZSJpbiBlP2UuX3ZhbHVlOmUudmFsdWV9ZnVuY3Rpb24gcWkoZSl7ZS50YXJnZXQuY29tcG9zaW5nPSEwfWZ1bmN0aW9uIFdpKGUpe2UudGFyZ2V0LmNvbXBvc2luZyYmKGUudGFyZ2V0LmNvbXBvc2luZz0hMSxaaShlLnRhcmdldCwiaW5wdXQiKSl9ZnVuY3Rpb24gWmkoZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO24uaW5pdEV2ZW50KHQsITAsITApLGUuZGlzcGF0Y2hFdmVudChuKX1mdW5jdGlvbiBHaShlKXtyZXR1cm4hZS5jb21wb25lbnRJbnN0YW5jZXx8ZS5kYXRhJiZlLmRhdGEudHJhbnNpdGlvbj9lOkdpKGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlKX12YXIgWGk9e21vZGVsOlVpLHNob3c6e2JpbmQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQudmFsdWUsaT0obj1HaShuKSkuZGF0YSYmbi5kYXRhLnRyYW5zaXRpb24sbz1lLl9fdk9yaWdpbmFsRGlzcGxheT0ibm9uZSI9PT1lLnN0eWxlLmRpc3BsYXk/IiI6ZS5zdHlsZS5kaXNwbGF5O3ImJmk/KG4uZGF0YS5zaG93PSEwLERpKG4sZnVuY3Rpb24oKXtlLnN0eWxlLmRpc3BsYXk9b30pKTplLnN0eWxlLmRpc3BsYXk9cj9vOiJub25lIn0sdXBkYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LnZhbHVlOyFyIT0hdC5vbGRWYWx1ZSYmKChuPUdpKG4pKS5kYXRhJiZuLmRhdGEudHJhbnNpdGlvbj8obi5kYXRhLnNob3c9ITAscj9EaShuLGZ1bmN0aW9uKCl7ZS5zdHlsZS5kaXNwbGF5PWUuX192T3JpZ2luYWxEaXNwbGF5fSk6UGkobixmdW5jdGlvbigpe2Uuc3R5bGUuZGlzcGxheT0ibm9uZSJ9KSk6ZS5zdHlsZS5kaXNwbGF5PXI/ZS5fX3ZPcmlnaW5hbERpc3BsYXk6Im5vbmUiKX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCxuLHIsaSl7aXx8KGUuc3R5bGUuZGlzcGxheT1lLl9fdk9yaWdpbmFsRGlzcGxheSl9fX0sWWk9e25hbWU6U3RyaW5nLGFwcGVhcjpCb29sZWFuLGNzczpCb29sZWFuLG1vZGU6U3RyaW5nLHR5cGU6U3RyaW5nLGVudGVyQ2xhc3M6U3RyaW5nLGxlYXZlQ2xhc3M6U3RyaW5nLGVudGVyVG9DbGFzczpTdHJpbmcsbGVhdmVUb0NsYXNzOlN0cmluZyxlbnRlckFjdGl2ZUNsYXNzOlN0cmluZyxsZWF2ZUFjdGl2ZUNsYXNzOlN0cmluZyxhcHBlYXJDbGFzczpTdHJpbmcsYXBwZWFyQWN0aXZlQ2xhc3M6U3RyaW5nLGFwcGVhclRvQ2xhc3M6U3RyaW5nLGR1cmF0aW9uOltOdW1iZXIsU3RyaW5nLE9iamVjdF19O2Z1bmN0aW9uIFFpKGUpe3ZhciB0PWUmJmUuY29tcG9uZW50T3B0aW9ucztyZXR1cm4gdCYmdC5DdG9yLm9wdGlvbnMuYWJzdHJhY3Q/UWkoVXQodC5jaGlsZHJlbikpOmV9ZnVuY3Rpb24gZW8oZSl7dmFyIHQ9e30sbj1lLiRvcHRpb25zO2Zvcih2YXIgciBpbiBuLnByb3BzRGF0YSl0W3JdPWVbcl07dmFyIGk9bi5fcGFyZW50TGlzdGVuZXJzO2Zvcih2YXIgbyBpbiBpKXRbYihvKV09aVtvXTtyZXR1cm4gdH1mdW5jdGlvbiB0byhlLHQpe2lmKC9cZC1rZWVwLWFsaXZlJC8udGVzdCh0LnRhZykpcmV0dXJuIGUoImtlZXAtYWxpdmUiLHtwcm9wczp0LmNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhfSl9dmFyIG5vPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRhZ3x8QnQoZSl9LHJvPWZ1bmN0aW9uKGUpe3JldHVybiJzaG93Ij09PWUubmFtZX0saW89e25hbWU6InRyYW5zaXRpb24iLHByb3BzOllpLGFic3RyYWN0OiEwLHJlbmRlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy4kc2xvdHMuZGVmYXVsdDtpZihuJiYobj1uLmZpbHRlcihubykpLmxlbmd0aCl7dmFyIHI9dGhpcy5tb2RlLG89blswXTtpZihmdW5jdGlvbihlKXtmb3IoO2U9ZS5wYXJlbnQ7KWlmKGUuZGF0YS50cmFuc2l0aW9uKXJldHVybiEwfSh0aGlzLiR2bm9kZSkpcmV0dXJuIG87dmFyIGE9UWkobyk7aWYoIWEpcmV0dXJuIG87aWYodGhpcy5fbGVhdmluZylyZXR1cm4gdG8oZSxvKTt2YXIgcz0iX190cmFuc2l0aW9uLSIrdGhpcy5fdWlkKyItIjthLmtleT1udWxsPT1hLmtleT9hLmlzQ29tbWVudD9zKyJjb21tZW50IjpzK2EudGFnOmkoYS5rZXkpPzA9PT1TdHJpbmcoYS5rZXkpLmluZGV4T2Yocyk/YS5rZXk6cythLmtleTphLmtleTt2YXIgYz0oYS5kYXRhfHwoYS5kYXRhPXt9KSkudHJhbnNpdGlvbj1lbyh0aGlzKSx1PXRoaXMuX3Zub2RlLGw9UWkodSk7aWYoYS5kYXRhLmRpcmVjdGl2ZXMmJmEuZGF0YS5kaXJlY3RpdmVzLnNvbWUocm8pJiYoYS5kYXRhLnNob3c9ITApLGwmJmwuZGF0YSYmIWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQua2V5PT09ZS5rZXkmJnQudGFnPT09ZS50YWd9KGEsbCkmJiFCdChsKSYmKCFsLmNvbXBvbmVudEluc3RhbmNlfHwhbC5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUuaXNDb21tZW50KSl7dmFyIGY9bC5kYXRhLnRyYW5zaXRpb249ayh7fSxjKTtpZigib3V0LWluIj09PXIpcmV0dXJuIHRoaXMuX2xlYXZpbmc9ITAscnQoZiwiYWZ0ZXJMZWF2ZSIsZnVuY3Rpb24oKXt0Ll9sZWF2aW5nPSExLHQuJGZvcmNlVXBkYXRlKCl9KSx0byhlLG8pO2lmKCJpbi1vdXQiPT09cil7aWYoQnQoYSkpcmV0dXJuIHU7dmFyIHAsZD1mdW5jdGlvbigpe3AoKX07cnQoYywiYWZ0ZXJFbnRlciIsZCkscnQoYywiZW50ZXJDYW5jZWxsZWQiLGQpLHJ0KGYsImRlbGF5TGVhdmUiLGZ1bmN0aW9uKGUpe3A9ZX0pfX1yZXR1cm4gb319fSxvbz1rKHt0YWc6U3RyaW5nLG1vdmVDbGFzczpTdHJpbmd9LFlpKTtmdW5jdGlvbiBhbyhlKXtlLmVsbS5fbW92ZUNiJiZlLmVsbS5fbW92ZUNiKCksZS5lbG0uX2VudGVyQ2ImJmUuZWxtLl9lbnRlckNiKCl9ZnVuY3Rpb24gc28oZSl7ZS5kYXRhLm5ld1Bvcz1lLmVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1mdW5jdGlvbiBjbyhlKXt2YXIgdD1lLmRhdGEucG9zLG49ZS5kYXRhLm5ld1BvcyxyPXQubGVmdC1uLmxlZnQsaT10LnRvcC1uLnRvcDtpZihyfHxpKXtlLmRhdGEubW92ZWQ9ITA7dmFyIG89ZS5lbG0uc3R5bGU7by50cmFuc2Zvcm09by5XZWJraXRUcmFuc2Zvcm09InRyYW5zbGF0ZSgiK3IrInB4LCIraSsicHgpIixvLnRyYW5zaXRpb25EdXJhdGlvbj0iMHMifX1kZWxldGUgb28ubW9kZTt2YXIgdW89e1RyYW5zaXRpb246aW8sVHJhbnNpdGlvbkdyb3VwOntwcm9wczpvbyxiZWZvcmVNb3VudDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl91cGRhdGU7dGhpcy5fdXBkYXRlPWZ1bmN0aW9uKG4scil7dmFyIGk9V3QoZSk7ZS5fX3BhdGNoX18oZS5fdm5vZGUsZS5rZXB0LCExLCEwKSxlLl92bm9kZT1lLmtlcHQsaSgpLHQuY2FsbChlLG4scil9fSxyZW5kZXI6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudGFnfHx0aGlzLiR2bm9kZS5kYXRhLnRhZ3x8InNwYW4iLG49T2JqZWN0LmNyZWF0ZShudWxsKSxyPXRoaXMucHJldkNoaWxkcmVuPXRoaXMuY2hpbGRyZW4saT10aGlzLiRzbG90cy5kZWZhdWx0fHxbXSxvPXRoaXMuY2hpbGRyZW49W10sYT1lbyh0aGlzKSxzPTA7czxpLmxlbmd0aDtzKyspe3ZhciBjPWlbc107Yy50YWcmJm51bGwhPWMua2V5JiYwIT09U3RyaW5nKGMua2V5KS5pbmRleE9mKCJfX3ZsaXN0IikmJihvLnB1c2goYyksbltjLmtleV09YywoYy5kYXRhfHwoYy5kYXRhPXt9KSkudHJhbnNpdGlvbj1hKX1pZihyKXtmb3IodmFyIHU9W10sbD1bXSxmPTA7ZjxyLmxlbmd0aDtmKyspe3ZhciBwPXJbZl07cC5kYXRhLnRyYW5zaXRpb249YSxwLmRhdGEucG9zPXAuZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG5bcC5rZXldP3UucHVzaChwKTpsLnB1c2gocCl9dGhpcy5rZXB0PWUodCxudWxsLHUpLHRoaXMucmVtb3ZlZD1sfXJldHVybiBlKHQsbnVsbCxvKX0sdXBkYXRlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJldkNoaWxkcmVuLHQ9dGhpcy5tb3ZlQ2xhc3N8fCh0aGlzLm5hbWV8fCJ2IikrIi1tb3ZlIjtlLmxlbmd0aCYmdGhpcy5oYXNNb3ZlKGVbMF0uZWxtLHQpJiYoZS5mb3JFYWNoKGFvKSxlLmZvckVhY2goc28pLGUuZm9yRWFjaChjbyksdGhpcy5fcmVmbG93PWRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0LGUuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlLmRhdGEubW92ZWQpe3ZhciBuPWUuZWxtLHI9bi5zdHlsZTtUaShuLHQpLHIudHJhbnNmb3JtPXIuV2Via2l0VHJhbnNmb3JtPXIudHJhbnNpdGlvbkR1cmF0aW9uPSIiLG4uYWRkRXZlbnRMaXN0ZW5lcihDaSxuLl9tb3ZlQ2I9ZnVuY3Rpb24gZShyKXtyJiZyLnRhcmdldCE9PW58fHImJiEvdHJhbnNmb3JtJC8udGVzdChyLnByb3BlcnR5TmFtZSl8fChuLnJlbW92ZUV2ZW50TGlzdGVuZXIoQ2ksZSksbi5fbW92ZUNiPW51bGwsRWkobix0KSl9KX19KSl9LG1ldGhvZHM6e2hhc01vdmU6ZnVuY3Rpb24oZSx0KXtpZighYmkpcmV0dXJuITE7aWYodGhpcy5faGFzTW92ZSlyZXR1cm4gdGhpcy5faGFzTW92ZTt2YXIgbj1lLmNsb25lTm9kZSgpO2UuX3RyYW5zaXRpb25DbGFzc2VzJiZlLl90cmFuc2l0aW9uQ2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3lpKG4sZSl9KSxtaShuLHQpLG4uc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy4kZWwuYXBwZW5kQ2hpbGQobik7dmFyIHI9TGkobik7cmV0dXJuIHRoaXMuJGVsLnJlbW92ZUNoaWxkKG4pLHRoaXMuX2hhc01vdmU9ci5oYXNUcmFuc2Zvcm19fX19O2JuLmNvbmZpZy5tdXN0VXNlUHJvcD1Fbixibi5jb25maWcuaXNSZXNlcnZlZFRhZz1Kbixibi5jb25maWcuaXNSZXNlcnZlZEF0dHI9U24sYm4uY29uZmlnLmdldFRhZ05hbWVzcGFjZT1xbixibi5jb25maWcuaXNVbmtub3duRWxlbWVudD1mdW5jdGlvbihlKXtpZighVSlyZXR1cm4hMDtpZihKbihlKSlyZXR1cm4hMTtpZihlPWUudG9Mb3dlckNhc2UoKSxudWxsIT1XbltlXSlyZXR1cm4gV25bZV07dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtyZXR1cm4gZS5pbmRleE9mKCItIik+LTE/V25bZV09dC5jb25zdHJ1Y3Rvcj09PXdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnR8fHQuY29uc3RydWN0b3I9PT13aW5kb3cuSFRNTEVsZW1lbnQ6V25bZV09L0hUTUxVbmtub3duRWxlbWVudC8udGVzdCh0LnRvU3RyaW5nKCkpfSxrKGJuLm9wdGlvbnMuZGlyZWN0aXZlcyxYaSksayhibi5vcHRpb25zLmNvbXBvbmVudHMsdW8pLGJuLnByb3RvdHlwZS5fX3BhdGNoX189VT9CaTpTLGJuLnByb3RvdHlwZS4kbW91bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiBlLiRlbD10LGUuJG9wdGlvbnMucmVuZGVyfHwoZS4kb3B0aW9ucy5yZW5kZXI9ZGUpLFh0KGUsImJlZm9yZU1vdW50Iikscj1mdW5jdGlvbigpe2UuX3VwZGF0ZShlLl9yZW5kZXIoKSxuKX0sbmV3IHVuKGUscixTLHtiZWZvcmU6ZnVuY3Rpb24oKXtlLl9pc01vdW50ZWQmJiFlLl9pc0Rlc3Ryb3llZCYmWHQoZSwiYmVmb3JlVXBkYXRlIil9fSwhMCksbj0hMSxudWxsPT1lLiR2bm9kZSYmKGUuX2lzTW91bnRlZD0hMCxYdChlLCJtb3VudGVkIikpLGV9KHRoaXMsZT1lJiZVP0duKGUpOnZvaWQgMCx0KX0sVSYmc2V0VGltZW91dChmdW5jdGlvbigpe1AuZGV2dG9vbHMmJnRlJiZ0ZS5lbWl0KCJpbml0Iixibil9LDApO3ZhciBsbz0vXHtceygoPzoufFxyP1xuKSs/KVx9XH0vZyxmbz0vWy0uKis/XiR7fSgpfFtcXVwvXFxdL2cscG89ZyhmdW5jdGlvbihlKXt2YXIgdD1lWzBdLnJlcGxhY2UoZm8sIlxcJCYiKSxuPWVbMV0ucmVwbGFjZShmbywiXFwkJiIpO3JldHVybiBuZXcgUmVnRXhwKHQrIigoPzoufFxcbikrPykiK24sImciKX0pO3ZhciB2bz17c3RhdGljS2V5czpbInN0YXRpY0NsYXNzIl0sdHJhbnNmb3JtTm9kZTpmdW5jdGlvbihlLHQpe3Qud2Fybjt2YXIgbj1JcihlLCJjbGFzcyIpO24mJihlLnN0YXRpY0NsYXNzPUpTT04uc3RyaW5naWZ5KG4pKTt2YXIgcj1NcihlLCJjbGFzcyIsITEpO3ImJihlLmNsYXNzQmluZGluZz1yKX0sZ2VuRGF0YTpmdW5jdGlvbihlKXt2YXIgdD0iIjtyZXR1cm4gZS5zdGF0aWNDbGFzcyYmKHQrPSJzdGF0aWNDbGFzczoiK2Uuc3RhdGljQ2xhc3MrIiwiKSxlLmNsYXNzQmluZGluZyYmKHQrPSJjbGFzczoiK2UuY2xhc3NCaW5kaW5nKyIsIiksdH19O3ZhciBobyxtbz17c3RhdGljS2V5czpbInN0YXRpY1N0eWxlIl0sdHJhbnNmb3JtTm9kZTpmdW5jdGlvbihlLHQpe3Qud2Fybjt2YXIgbj1JcihlLCJzdHlsZSIpO24mJihlLnN0YXRpY1N0eWxlPUpTT04uc3RyaW5naWZ5KGlpKG4pKSk7dmFyIHI9TXIoZSwic3R5bGUiLCExKTtyJiYoZS5zdHlsZUJpbmRpbmc9cil9LGdlbkRhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9IiI7cmV0dXJuIGUuc3RhdGljU3R5bGUmJih0Kz0ic3RhdGljU3R5bGU6IitlLnN0YXRpY1N0eWxlKyIsIiksZS5zdHlsZUJpbmRpbmcmJih0Kz0ic3R5bGU6KCIrZS5zdHlsZUJpbmRpbmcrIiksIiksdH19LHlvPWZ1bmN0aW9uKGUpe3JldHVybihobz1ob3x8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpLmlubmVySFRNTD1lLGhvLnRleHRDb250ZW50fSxnbz1wKCJhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGZyYW1lLGhyLGltZyxpbnB1dCxpc2luZGV4LGtleWdlbixsaW5rLG1ldGEscGFyYW0sc291cmNlLHRyYWNrLHdiciIpLF9vPXAoImNvbGdyb3VwLGRkLGR0LGxpLG9wdGlvbnMscCx0ZCx0Zm9vdCx0aCx0aGVhZCx0cixzb3VyY2UiKSxibz1wKCJhZGRyZXNzLGFydGljbGUsYXNpZGUsYmFzZSxibG9ja3F1b3RlLGJvZHksY2FwdGlvbixjb2wsY29sZ3JvdXAsZGQsZGV0YWlscyxkaWFsb2csZGl2LGRsLGR0LGZpZWxkc2V0LGZpZ2NhcHRpb24sZmlndXJlLGZvb3Rlcixmb3JtLGgxLGgyLGgzLGg0LGg1LGg2LGhlYWQsaGVhZGVyLGhncm91cCxocixodG1sLGxlZ2VuZCxsaSxtZW51aXRlbSxtZXRhLG9wdGdyb3VwLG9wdGlvbixwYXJhbSxycCxydCxzb3VyY2Usc3R5bGUsc3VtbWFyeSx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCx0aXRsZSx0cix0cmFjayIpLCRvPS9eXHMqKFteXHMiJzw+XC89XSspKD86XHMqKD0pXHMqKD86IihbXiJdKikiK3wnKFteJ10qKScrfChbXlxzIic9PD5gXSspKSk/Lyx3bz0vXlxzKigoPzp2LVtcdy1dKzp8QHw6fCMpXFtbXj1dK1xdW15ccyInPD5cLz1dKikoPzpccyooPSlccyooPzoiKFteIl0qKSIrfCcoW14nXSopJyt8KFteXHMiJz08PmBdKykpKT8vLHhvPSJbYS16QS1aX11bXFwtXFwuMC05X2EtekEtWmEtekEtWlx4YjdceGMwLVx4ZDZceGQ4LVx4ZjZceGY4LVx1MDM3ZFx1MDM3Zi1cdTFmZmZcdTIwMGMtXHUyMDBkXHUyMDNmLVx1MjA0MFx1MjA3MC1cdTIxOGZcdTJjMDAtXHUyZmVmXHUzMDAxLVx1ZDdmZlx1ZjkwMC1cdWZkY2ZcdWZkZjAtXHVmZmZkXSoiLENvPSIoKD86Iit4bysiXFw6KT8iK3hvKyIpIixBbz1uZXcgUmVnRXhwKCJePCIrQ28pLGtvPS9eXHMqKFwvPyk+LyxPbz1uZXcgUmVnRXhwKCJePFxcLyIrQ28rIltePl0qPiIpLFNvPS9ePCFET0NUWVBFIFtePl0rPi9pLFRvPS9ePCFcLS0vLEVvPS9ePCFcWy8sam89cCgic2NyaXB0LHN0eWxlLHRleHRhcmVhIiwhMCksTm89e30sTG89eyImbHQ7IjoiPCIsIiZndDsiOiI+IiwiJnF1b3Q7IjonIicsIiZhbXA7IjoiJiIsIiYjMTA7IjoiXG4iLCImIzk7IjoiXHQiLCImIzM5OyI6IicifSxNbz0vJig/Omx0fGd0fHF1b3R8YW1wfCMzOSk7L2csSW89LyYoPzpsdHxndHxxdW90fGFtcHwjMzl8IzEwfCM5KTsvZyxEbz1wKCJwcmUsdGV4dGFyZWEiLCEwKSxQbz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZEbyhlKSYmIlxuIj09PXRbMF19O2Z1bmN0aW9uIFJvKGUsdCl7dmFyIG49dD9JbzpNbztyZXR1cm4gZS5yZXBsYWNlKG4sZnVuY3Rpb24oZSl7cmV0dXJuIExvW2VdfSl9dmFyIEZvLEhvLEJvLFVvLHpvLFZvLEtvLEpvLHFvPS9eQHxedi1vbjovLFdvPS9edi18XkB8XjovLFpvPS8oW1xzXFNdKj8pXHMrKD86aW58b2YpXHMrKFtcc1xTXSopLyxHbz0vLChbXixcfVxdXSopKD86LChbXixcfVxdXSopKT8kLyxYbz0vXlwofFwpJC9nLFlvPS9eXFsuKlxdJC8sUW89LzooLiopJC8sZWE9L146fF5cLnxedi1iaW5kOi8sdGE9L1wuW14uXSsvZyxuYT0vXnYtc2xvdCg6fCQpfF4jLyxyYT0vW1xyXG5dLyxpYT0vXHMrL2csb2E9Zyh5byksYWE9Il9lbXB0eV8iO2Z1bmN0aW9uIHNhKGUsdCxuKXtyZXR1cm57dHlwZToxLHRhZzplLGF0dHJzTGlzdDp0LGF0dHJzTWFwOnZhKHQpLHJhd0F0dHJzTWFwOnt9LHBhcmVudDpuLGNoaWxkcmVuOltdfX1mdW5jdGlvbiBjYShlLHQpe0ZvPXQud2Fybnx8a3IsVm89dC5pc1ByZVRhZ3x8VCxLbz10Lm11c3RVc2VQcm9wfHxULEpvPXQuZ2V0VGFnTmFtZXNwYWNlfHxUO3QuaXNSZXNlcnZlZFRhZztCbz1Pcih0Lm1vZHVsZXMsInRyYW5zZm9ybU5vZGUiKSxVbz1Pcih0Lm1vZHVsZXMsInByZVRyYW5zZm9ybU5vZGUiKSx6bz1Pcih0Lm1vZHVsZXMsInBvc3RUcmFuc2Zvcm1Ob2RlIiksSG89dC5kZWxpbWl0ZXJzO3ZhciBuLHIsaT1bXSxvPSExIT09dC5wcmVzZXJ2ZVdoaXRlc3BhY2UsYT10LndoaXRlc3BhY2Uscz0hMSxjPSExO2Z1bmN0aW9uIHUoZSl7aWYobChlKSxzfHxlLnByb2Nlc3NlZHx8KGU9dWEoZSx0KSksaS5sZW5ndGh8fGU9PT1ufHxuLmlmJiYoZS5lbHNlaWZ8fGUuZWxzZSkmJmZhKG4se2V4cDplLmVsc2VpZixibG9jazplfSksciYmIWUuZm9yYmlkZGVuKWlmKGUuZWxzZWlmfHxlLmVsc2UpYT1lLCh1PWZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2Zvcig7dC0tOyl7aWYoMT09PWVbdF0udHlwZSlyZXR1cm4gZVt0XTtlLnBvcCgpfX0oci5jaGlsZHJlbikpJiZ1LmlmJiZmYSh1LHtleHA6YS5lbHNlaWYsYmxvY2s6YX0pO2Vsc2V7aWYoZS5zbG90U2NvcGUpe3ZhciBvPWUuc2xvdFRhcmdldHx8JyJkZWZhdWx0Iic7KHIuc2NvcGVkU2xvdHN8fChyLnNjb3BlZFNsb3RzPXt9KSlbb109ZX1yLmNoaWxkcmVuLnB1c2goZSksZS5wYXJlbnQ9cn12YXIgYSx1O2UuY2hpbGRyZW49ZS5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUuc2xvdFNjb3BlfSksbChlKSxlLnByZSYmKHM9ITEpLFZvKGUudGFnKSYmKGM9ITEpO2Zvcih2YXIgZj0wO2Y8em8ubGVuZ3RoO2YrKyl6b1tmXShlLHQpfWZ1bmN0aW9uIGwoZSl7aWYoIWMpZm9yKHZhciB0Oyh0PWUuY2hpbGRyZW5bZS5jaGlsZHJlbi5sZW5ndGgtMV0pJiYzPT09dC50eXBlJiYiICI9PT10LnRleHQ7KWUuY2hpbGRyZW4ucG9wKCl9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsaT1bXSxvPXQuZXhwZWN0SFRNTCxhPXQuaXNVbmFyeVRhZ3x8VCxzPXQuY2FuQmVMZWZ0T3BlblRhZ3x8VCxjPTA7ZTspe2lmKG49ZSxyJiZqbyhyKSl7dmFyIHU9MCxsPXIudG9Mb3dlckNhc2UoKSxmPU5vW2xdfHwoTm9bbF09bmV3IFJlZ0V4cCgiKFtcXHNcXFNdKj8pKDwvIitsKyJbXj5dKj4pIiwiaSIpKSxwPWUucmVwbGFjZShmLGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdT1yLmxlbmd0aCxqbyhsKXx8Im5vc2NyaXB0Ij09PWx8fChuPW4ucmVwbGFjZSgvPCFcLS0oW1xzXFNdKj8pLS0+L2csIiQxIikucmVwbGFjZSgvPCFcW0NEQVRBXFsoW1xzXFNdKj8pXV0+L2csIiQxIikpLFBvKGwsbikmJihuPW4uc2xpY2UoMSkpLHQuY2hhcnMmJnQuY2hhcnMobiksIiJ9KTtjKz1lLmxlbmd0aC1wLmxlbmd0aCxlPXAsayhsLGMtdSxjKX1lbHNle3ZhciBkPWUuaW5kZXhPZigiPCIpO2lmKDA9PT1kKXtpZihUby50ZXN0KGUpKXt2YXIgdj1lLmluZGV4T2YoIi0tXHgzZSIpO2lmKHY+PTApe3Quc2hvdWxkS2VlcENvbW1lbnQmJnQuY29tbWVudChlLnN1YnN0cmluZyg0LHYpLGMsYyt2KzMpLHgodiszKTtjb250aW51ZX19aWYoRW8udGVzdChlKSl7dmFyIGg9ZS5pbmRleE9mKCJdPiIpO2lmKGg+PTApe3goaCsyKTtjb250aW51ZX19dmFyIG09ZS5tYXRjaChTbyk7aWYobSl7eChtWzBdLmxlbmd0aCk7Y29udGludWV9dmFyIHk9ZS5tYXRjaChPbyk7aWYoeSl7dmFyIGc9Yzt4KHlbMF0ubGVuZ3RoKSxrKHlbMV0sZyxjKTtjb250aW51ZX12YXIgXz1DKCk7aWYoXyl7QShfKSxQbyhfLnRhZ05hbWUsZSkmJngoMSk7Y29udGludWV9fXZhciBiPXZvaWQgMCwkPXZvaWQgMCx3PXZvaWQgMDtpZihkPj0wKXtmb3IoJD1lLnNsaWNlKGQpOyEoT28udGVzdCgkKXx8QW8udGVzdCgkKXx8VG8udGVzdCgkKXx8RW8udGVzdCgkKXx8KHc9JC5pbmRleE9mKCI8IiwxKSk8MCk7KWQrPXcsJD1lLnNsaWNlKGQpO2I9ZS5zdWJzdHJpbmcoMCxkKX1kPDAmJihiPWUpLGImJngoYi5sZW5ndGgpLHQuY2hhcnMmJmImJnQuY2hhcnMoYixjLWIubGVuZ3RoLGMpfWlmKGU9PT1uKXt0LmNoYXJzJiZ0LmNoYXJzKGUpO2JyZWFrfX1mdW5jdGlvbiB4KHQpe2MrPXQsZT1lLnN1YnN0cmluZyh0KX1mdW5jdGlvbiBDKCl7dmFyIHQ9ZS5tYXRjaChBbyk7aWYodCl7dmFyIG4scixpPXt0YWdOYW1lOnRbMV0sYXR0cnM6W10sc3RhcnQ6Y307Zm9yKHgodFswXS5sZW5ndGgpOyEobj1lLm1hdGNoKGtvKSkmJihyPWUubWF0Y2god28pfHxlLm1hdGNoKCRvKSk7KXIuc3RhcnQ9Yyx4KHJbMF0ubGVuZ3RoKSxyLmVuZD1jLGkuYXR0cnMucHVzaChyKTtpZihuKXJldHVybiBpLnVuYXJ5U2xhc2g9blsxXSx4KG5bMF0ubGVuZ3RoKSxpLmVuZD1jLGl9fWZ1bmN0aW9uIEEoZSl7dmFyIG49ZS50YWdOYW1lLGM9ZS51bmFyeVNsYXNoO28mJigicCI9PT1yJiZibyhuKSYmayhyKSxzKG4pJiZyPT09biYmayhuKSk7Zm9yKHZhciB1PWEobil8fCEhYyxsPWUuYXR0cnMubGVuZ3RoLGY9bmV3IEFycmF5KGwpLHA9MDtwPGw7cCsrKXt2YXIgZD1lLmF0dHJzW3BdLHY9ZFszXXx8ZFs0XXx8ZFs1XXx8IiIsaD0iYSI9PT1uJiYiaHJlZiI9PT1kWzFdP3Quc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOnQuc2hvdWxkRGVjb2RlTmV3bGluZXM7ZltwXT17bmFtZTpkWzFdLHZhbHVlOlJvKHYsaCl9fXV8fChpLnB1c2goe3RhZzpuLGxvd2VyQ2FzZWRUYWc6bi50b0xvd2VyQ2FzZSgpLGF0dHJzOmYsc3RhcnQ6ZS5zdGFydCxlbmQ6ZS5lbmR9KSxyPW4pLHQuc3RhcnQmJnQuc3RhcnQobixmLHUsZS5zdGFydCxlLmVuZCl9ZnVuY3Rpb24gayhlLG4sbyl7dmFyIGEscztpZihudWxsPT1uJiYobj1jKSxudWxsPT1vJiYobz1jKSxlKWZvcihzPWUudG9Mb3dlckNhc2UoKSxhPWkubGVuZ3RoLTE7YT49MCYmaVthXS5sb3dlckNhc2VkVGFnIT09czthLS0pO2Vsc2UgYT0wO2lmKGE+PTApe2Zvcih2YXIgdT1pLmxlbmd0aC0xO3U+PWE7dS0tKXQuZW5kJiZ0LmVuZChpW3VdLnRhZyxuLG8pO2kubGVuZ3RoPWEscj1hJiZpW2EtMV0udGFnfWVsc2UiYnIiPT09cz90LnN0YXJ0JiZ0LnN0YXJ0KGUsW10sITAsbixvKToicCI9PT1zJiYodC5zdGFydCYmdC5zdGFydChlLFtdLCExLG4sbyksdC5lbmQmJnQuZW5kKGUsbixvKSl9aygpfShlLHt3YXJuOkZvLGV4cGVjdEhUTUw6dC5leHBlY3RIVE1MLGlzVW5hcnlUYWc6dC5pc1VuYXJ5VGFnLGNhbkJlTGVmdE9wZW5UYWc6dC5jYW5CZUxlZnRPcGVuVGFnLHNob3VsZERlY29kZU5ld2xpbmVzOnQuc2hvdWxkRGVjb2RlTmV3bGluZXMsc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOnQuc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmLHNob3VsZEtlZXBDb21tZW50OnQuY29tbWVudHMsb3V0cHV0U291cmNlUmFuZ2U6dC5vdXRwdXRTb3VyY2VSYW5nZSxzdGFydDpmdW5jdGlvbihlLG8sYSxsKXt2YXIgZj1yJiZyLm5zfHxKbyhlKTtKJiYic3ZnIj09PWYmJihvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07aGEudGVzdChyLm5hbWUpfHwoci5uYW1lPXIubmFtZS5yZXBsYWNlKG1hLCIiKSx0LnB1c2gocikpfXJldHVybiB0fShvKSk7dmFyIHAsZD1zYShlLG8scik7ZiYmKGQubnM9ZiksInN0eWxlIiE9PShwPWQpLnRhZyYmKCJzY3JpcHQiIT09cC50YWd8fHAuYXR0cnNNYXAudHlwZSYmInRleHQvamF2YXNjcmlwdCIhPT1wLmF0dHJzTWFwLnR5cGUpfHxlZSgpfHwoZC5mb3JiaWRkZW49ITApO2Zvcih2YXIgdj0wO3Y8VW8ubGVuZ3RoO3YrKylkPVVvW3ZdKGQsdCl8fGQ7c3x8KCFmdW5jdGlvbihlKXtudWxsIT1JcihlLCJ2LXByZSIpJiYoZS5wcmU9ITApfShkKSxkLnByZSYmKHM9ITApKSxWbyhkLnRhZykmJihjPSEwKSxzP2Z1bmN0aW9uKGUpe3ZhciB0PWUuYXR0cnNMaXN0LG49dC5sZW5ndGg7aWYobilmb3IodmFyIHI9ZS5hdHRycz1uZXcgQXJyYXkobiksaT0wO2k8bjtpKyspcltpXT17bmFtZTp0W2ldLm5hbWUsdmFsdWU6SlNPTi5zdHJpbmdpZnkodFtpXS52YWx1ZSl9LG51bGwhPXRbaV0uc3RhcnQmJihyW2ldLnN0YXJ0PXRbaV0uc3RhcnQscltpXS5lbmQ9dFtpXS5lbmQpO2Vsc2UgZS5wcmV8fChlLnBsYWluPSEwKX0oZCk6ZC5wcm9jZXNzZWR8fChsYShkKSxmdW5jdGlvbihlKXt2YXIgdD1JcihlLCJ2LWlmIik7aWYodCllLmlmPXQsZmEoZSx7ZXhwOnQsYmxvY2s6ZX0pO2Vsc2V7bnVsbCE9SXIoZSwidi1lbHNlIikmJihlLmVsc2U9ITApO3ZhciBuPUlyKGUsInYtZWxzZS1pZiIpO24mJihlLmVsc2VpZj1uKX19KGQpLGZ1bmN0aW9uKGUpe251bGwhPUlyKGUsInYtb25jZSIpJiYoZS5vbmNlPSEwKX0oZCkpLG58fChuPWQpLGE/dShkKToocj1kLGkucHVzaChkKSl9LGVuZDpmdW5jdGlvbihlLHQsbil7dmFyIG89aVtpLmxlbmd0aC0xXTtpLmxlbmd0aC09MSxyPWlbaS5sZW5ndGgtMV0sdShvKX0sY2hhcnM6ZnVuY3Rpb24oZSx0LG4pe2lmKHImJighSnx8InRleHRhcmVhIiE9PXIudGFnfHxyLmF0dHJzTWFwLnBsYWNlaG9sZGVyIT09ZSkpe3ZhciBpLHUsbCxmPXIuY2hpbGRyZW47aWYoZT1jfHxlLnRyaW0oKT8ic2NyaXB0Ij09PShpPXIpLnRhZ3x8InN0eWxlIj09PWkudGFnP2U6b2EoZSk6Zi5sZW5ndGg/YT8iY29uZGVuc2UiPT09YSYmcmEudGVzdChlKT8iIjoiICI6bz8iICI6IiI6IiIpImNvbmRlbnNlIj09PWEmJihlPWUucmVwbGFjZShpYSwiICIpKSwhcyYmIiAiIT09ZSYmKHU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10P3BvKHQpOmxvO2lmKG4udGVzdChlKSl7Zm9yKHZhciByLGksbyxhPVtdLHM9W10sYz1uLmxhc3RJbmRleD0wO3I9bi5leGVjKGUpOyl7KGk9ci5pbmRleCk+YyYmKHMucHVzaChvPWUuc2xpY2UoYyxpKSksYS5wdXNoKEpTT04uc3RyaW5naWZ5KG8pKSk7dmFyIHU9Q3IoclsxXS50cmltKCkpO2EucHVzaCgiX3MoIit1KyIpIikscy5wdXNoKHsiQGJpbmRpbmciOnV9KSxjPWkrclswXS5sZW5ndGh9cmV0dXJuIGM8ZS5sZW5ndGgmJihzLnB1c2gobz1lLnNsaWNlKGMpKSxhLnB1c2goSlNPTi5zdHJpbmdpZnkobykpKSx7ZXhwcmVzc2lvbjphLmpvaW4oIisiKSx0b2tlbnM6c319fShlLEhvKSk/bD17dHlwZToyLGV4cHJlc3Npb246dS5leHByZXNzaW9uLHRva2Vuczp1LnRva2Vucyx0ZXh0OmV9OiIgIj09PWUmJmYubGVuZ3RoJiYiICI9PT1mW2YubGVuZ3RoLTFdLnRleHR8fChsPXt0eXBlOjMsdGV4dDplfSksbCYmZi5wdXNoKGwpfX0sY29tbWVudDpmdW5jdGlvbihlLHQsbil7aWYocil7dmFyIGk9e3R5cGU6Myx0ZXh0OmUsaXNDb21tZW50OiEwfTtyLmNoaWxkcmVuLnB1c2goaSl9fX0pLG59ZnVuY3Rpb24gdWEoZSx0KXt2YXIgbixyOyhyPU1yKG49ZSwia2V5IikpJiYobi5rZXk9ciksZS5wbGFpbj0hZS5rZXkmJiFlLnNjb3BlZFNsb3RzJiYhZS5hdHRyc0xpc3QubGVuZ3RoLGZ1bmN0aW9uKGUpe3ZhciB0PU1yKGUsInJlZiIpO3QmJihlLnJlZj10LGUucmVmSW5Gb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtmb3IoO3Q7KXtpZih2b2lkIDAhPT10LmZvcilyZXR1cm4hMDt0PXQucGFyZW50fXJldHVybiExfShlKSl9KGUpLGZ1bmN0aW9uKGUpe3ZhciB0OyJ0ZW1wbGF0ZSI9PT1lLnRhZz8odD1JcihlLCJzY29wZSIpLGUuc2xvdFNjb3BlPXR8fElyKGUsInNsb3Qtc2NvcGUiKSk6KHQ9SXIoZSwic2xvdC1zY29wZSIpKSYmKGUuc2xvdFNjb3BlPXQpO3ZhciBuPU1yKGUsInNsb3QiKTtuJiYoZS5zbG90VGFyZ2V0PSciIic9PT1uPyciZGVmYXVsdCInOm4sZS5zbG90VGFyZ2V0RHluYW1pYz0hKCFlLmF0dHJzTWFwWyI6c2xvdCJdJiYhZS5hdHRyc01hcFsidi1iaW5kOnNsb3QiXSksInRlbXBsYXRlIj09PWUudGFnfHxlLnNsb3RTY29wZXx8VHIoZSwic2xvdCIsbixmdW5jdGlvbihlLHQpe3JldHVybiBlLnJhd0F0dHJzTWFwWyI6Iit0XXx8ZS5yYXdBdHRyc01hcFsidi1iaW5kOiIrdF18fGUucmF3QXR0cnNNYXBbdF19KGUsInNsb3QiKSkpO2lmKCJ0ZW1wbGF0ZSI9PT1lLnRhZyl7dmFyIHI9RHIoZSxuYSk7aWYocil7dmFyIGk9cGEociksbz1pLm5hbWUsYT1pLmR5bmFtaWM7ZS5zbG90VGFyZ2V0PW8sZS5zbG90VGFyZ2V0RHluYW1pYz1hLGUuc2xvdFNjb3BlPXIudmFsdWV8fGFhfX1lbHNle3ZhciBzPURyKGUsbmEpO2lmKHMpe3ZhciBjPWUuc2NvcGVkU2xvdHN8fChlLnNjb3BlZFNsb3RzPXt9KSx1PXBhKHMpLGw9dS5uYW1lLGY9dS5keW5hbWljLHA9Y1tsXT1zYSgidGVtcGxhdGUiLFtdLGUpO3Auc2xvdFRhcmdldD1sLHAuc2xvdFRhcmdldER5bmFtaWM9ZixwLmNoaWxkcmVuPWUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uKGUpe2lmKCFlLnNsb3RTY29wZSlyZXR1cm4gZS5wYXJlbnQ9cCwhMH0pLHAuc2xvdFNjb3BlPXMudmFsdWV8fGFhLGUuY2hpbGRyZW49W10sZS5wbGFpbj0hMX19fShlKSxmdW5jdGlvbihlKXsic2xvdCI9PT1lLnRhZyYmKGUuc2xvdE5hbWU9TXIoZSwibmFtZSIpKX0oZSksZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9TXIoZSwiaXMiKSkmJihlLmNvbXBvbmVudD10KTtudWxsIT1JcihlLCJpbmxpbmUtdGVtcGxhdGUiKSYmKGUuaW5saW5lVGVtcGxhdGU9ITApfShlKTtmb3IodmFyIGk9MDtpPEJvLmxlbmd0aDtpKyspZT1Cb1tpXShlLHQpfHxlO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscyxjLHU9ZS5hdHRyc0xpc3Q7Zm9yKHQ9MCxuPXUubGVuZ3RoO3Q8bjt0KyspaWYocj1pPXVbdF0ubmFtZSxvPXVbdF0udmFsdWUsV28udGVzdChyKSlpZihlLmhhc0JpbmRpbmdzPSEwLChhPWRhKHIucmVwbGFjZShXbywiIikpKSYmKHI9ci5yZXBsYWNlKHRhLCIiKSksZWEudGVzdChyKSlyPXIucmVwbGFjZShlYSwiIiksbz1DcihvKSwoYz1Zby50ZXN0KHIpKSYmKHI9ci5zbGljZSgxLC0xKSksYSYmKGEucHJvcCYmIWMmJiJpbm5lckh0bWwiPT09KHI9YihyKSkmJihyPSJpbm5lckhUTUwiKSxhLmNhbWVsJiYhYyYmKHI9YihyKSksYS5zeW5jJiYocz1GcihvLCIkZXZlbnQiKSxjP0xyKGUsJyJ1cGRhdGU6IisoJytyKyIpIixzLG51bGwsITEsMCx1W3RdLCEwKTooTHIoZSwidXBkYXRlOiIrYihyKSxzLG51bGwsITEsMCx1W3RdKSx4KHIpIT09YihyKSYmTHIoZSwidXBkYXRlOiIreChyKSxzLG51bGwsITEsMCx1W3RdKSkpKSxhJiZhLnByb3B8fCFlLmNvbXBvbmVudCYmS28oZS50YWcsZS5hdHRyc01hcC50eXBlLHIpP1NyKGUscixvLHVbdF0sYyk6VHIoZSxyLG8sdVt0XSxjKTtlbHNlIGlmKHFvLnRlc3Qocikpcj1yLnJlcGxhY2UocW8sIiIpLChjPVlvLnRlc3QocikpJiYocj1yLnNsaWNlKDEsLTEpKSxMcihlLHIsbyxhLCExLDAsdVt0XSxjKTtlbHNle3ZhciBsPShyPXIucmVwbGFjZShXbywiIikpLm1hdGNoKFFvKSxmPWwmJmxbMV07Yz0hMSxmJiYocj1yLnNsaWNlKDAsLShmLmxlbmd0aCsxKSksWW8udGVzdChmKSYmKGY9Zi5zbGljZSgxLC0xKSxjPSEwKSksanIoZSxyLGksbyxmLGMsYSx1W3RdKX1lbHNlIFRyKGUscixKU09OLnN0cmluZ2lmeShvKSx1W3RdKSwhZS5jb21wb25lbnQmJiJtdXRlZCI9PT1yJiZLbyhlLnRhZyxlLmF0dHJzTWFwLnR5cGUscikmJlNyKGUsciwidHJ1ZSIsdVt0XSl9KGUpLGV9ZnVuY3Rpb24gbGEoZSl7dmFyIHQ7aWYodD1JcihlLCJ2LWZvciIpKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKFpvKTtpZighdClyZXR1cm47dmFyIG49e307bi5mb3I9dFsyXS50cmltKCk7dmFyIHI9dFsxXS50cmltKCkucmVwbGFjZShYbywiIiksaT1yLm1hdGNoKEdvKTtpPyhuLmFsaWFzPXIucmVwbGFjZShHbywiIikudHJpbSgpLG4uaXRlcmF0b3IxPWlbMV0udHJpbSgpLGlbMl0mJihuLml0ZXJhdG9yMj1pWzJdLnRyaW0oKSkpOm4uYWxpYXM9cjtyZXR1cm4gbn0odCk7biYmayhlLG4pfX1mdW5jdGlvbiBmYShlLHQpe2UuaWZDb25kaXRpb25zfHwoZS5pZkNvbmRpdGlvbnM9W10pLGUuaWZDb25kaXRpb25zLnB1c2godCl9ZnVuY3Rpb24gcGEoZSl7dmFyIHQ9ZS5uYW1lLnJlcGxhY2UobmEsIiIpO3JldHVybiB0fHwiIyIhPT1lLm5hbWVbMF0mJih0PSJkZWZhdWx0IiksWW8udGVzdCh0KT97bmFtZTp0LnNsaWNlKDEsLTEpLGR5bmFtaWM6ITB9OntuYW1lOiciJyt0KyciJyxkeW5hbWljOiExfX1mdW5jdGlvbiBkYShlKXt2YXIgdD1lLm1hdGNoKHRhKTtpZih0KXt2YXIgbj17fTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZS5zbGljZSgxKV09ITB9KSxufX1mdW5jdGlvbiB2YShlKXtmb3IodmFyIHQ9e30sbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl0W2Vbbl0ubmFtZV09ZVtuXS52YWx1ZTtyZXR1cm4gdH12YXIgaGE9L154bWxuczpOU1xkKy8sbWE9L15OU1xkKzovO2Z1bmN0aW9uIHlhKGUpe3JldHVybiBzYShlLnRhZyxlLmF0dHJzTGlzdC5zbGljZSgpLGUucGFyZW50KX12YXIgZ2E9W3ZvLG1vLHtwcmVUcmFuc2Zvcm1Ob2RlOmZ1bmN0aW9uKGUsdCl7aWYoImlucHV0Ij09PWUudGFnKXt2YXIgbixyPWUuYXR0cnNNYXA7aWYoIXJbInYtbW9kZWwiXSlyZXR1cm47aWYoKHJbIjp0eXBlIl18fHJbInYtYmluZDp0eXBlIl0pJiYobj1NcihlLCJ0eXBlIikpLHIudHlwZXx8bnx8IXJbInYtYmluZCJdfHwobj0iKCIrclsidi1iaW5kIl0rIikudHlwZSIpLG4pe3ZhciBpPUlyKGUsInYtaWYiLCEwKSxvPWk/IiYmKCIraSsiKSI6IiIsYT1udWxsIT1JcihlLCJ2LWVsc2UiLCEwKSxzPUlyKGUsInYtZWxzZS1pZiIsITApLGM9eWEoZSk7bGEoYyksRXIoYywidHlwZSIsImNoZWNrYm94IiksdWEoYyx0KSxjLnByb2Nlc3NlZD0hMCxjLmlmPSIoIituKyIpPT09J2NoZWNrYm94JyIrbyxmYShjLHtleHA6Yy5pZixibG9jazpjfSk7dmFyIHU9eWEoZSk7SXIodSwidi1mb3IiLCEwKSxFcih1LCJ0eXBlIiwicmFkaW8iKSx1YSh1LHQpLGZhKGMse2V4cDoiKCIrbisiKT09PSdyYWRpbyciK28sYmxvY2s6dX0pO3ZhciBsPXlhKGUpO3JldHVybiBJcihsLCJ2LWZvciIsITApLEVyKGwsIjp0eXBlIixuKSx1YShsLHQpLGZhKGMse2V4cDppLGJsb2NrOmx9KSxhP2MuZWxzZT0hMDpzJiYoYy5lbHNlaWY9cyksY319fX1dO3ZhciBfYSxiYSwkYT17ZXhwZWN0SFRNTDohMCxtb2R1bGVzOmdhLGRpcmVjdGl2ZXM6e21vZGVsOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LnZhbHVlLGk9dC5tb2RpZmllcnMsbz1lLnRhZyxhPWUuYXR0cnNNYXAudHlwZTtpZihlLmNvbXBvbmVudClyZXR1cm4gUnIoZSxyLGkpLCExO2lmKCJzZWxlY3QiPT09bykhZnVuY3Rpb24oZSx0LG4pe3ZhciByPSd2YXIgJCRzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsZnVuY3Rpb24obyl7cmV0dXJuIG8uc2VsZWN0ZWR9KS5tYXAoZnVuY3Rpb24obyl7dmFyIHZhbCA9ICJfdmFsdWUiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7cmV0dXJuICcrKG4mJm4ubnVtYmVyPyJfbih2YWwpIjoidmFsIikrIn0pOyI7cj1yKyIgIitGcih0LCIkZXZlbnQudGFyZ2V0Lm11bHRpcGxlID8gJCRzZWxlY3RlZFZhbCA6ICQkc2VsZWN0ZWRWYWxbMF0iKSxMcihlLCJjaGFuZ2UiLHIsbnVsbCwhMCl9KGUscixpKTtlbHNlIGlmKCJpbnB1dCI9PT1vJiYiY2hlY2tib3giPT09YSkhZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4mJm4ubnVtYmVyLGk9TXIoZSwidmFsdWUiKXx8Im51bGwiLG89TXIoZSwidHJ1ZS12YWx1ZSIpfHwidHJ1ZSIsYT1NcihlLCJmYWxzZS12YWx1ZSIpfHwiZmFsc2UiO1NyKGUsImNoZWNrZWQiLCJBcnJheS5pc0FycmF5KCIrdCsiKT9faSgiK3QrIiwiK2krIik+LTEiKygidHJ1ZSI9PT1vPyI6KCIrdCsiKSI6IjpfcSgiK3QrIiwiK28rIikiKSksTHIoZSwiY2hhbmdlIiwidmFyICQkYT0iK3QrIiwkJGVsPSRldmVudC50YXJnZXQsJCRjPSQkZWwuY2hlY2tlZD8oIitvKyIpOigiK2ErIik7aWYoQXJyYXkuaXNBcnJheSgkJGEpKXt2YXIgJCR2PSIrKHI/Il9uKCIraSsiKSI6aSkrIiwkJGk9X2koJCRhLCQkdik7aWYoJCRlbC5jaGVja2VkKXskJGk8MCYmKCIrRnIodCwiJCRhLmNvbmNhdChbJCR2XSkiKSsiKX1lbHNleyQkaT4tMSYmKCIrRnIodCwiJCRhLnNsaWNlKDAsJCRpKS5jb25jYXQoJCRhLnNsaWNlKCQkaSsxKSkiKSsiKX19ZWxzZXsiK0ZyKHQsIiQkYyIpKyJ9IixudWxsLCEwKX0oZSxyLGkpO2Vsc2UgaWYoImlucHV0Ij09PW8mJiJyYWRpbyI9PT1hKSFmdW5jdGlvbihlLHQsbil7dmFyIHI9biYmbi5udW1iZXIsaT1NcihlLCJ2YWx1ZSIpfHwibnVsbCI7U3IoZSwiY2hlY2tlZCIsIl9xKCIrdCsiLCIrKGk9cj8iX24oIitpKyIpIjppKSsiKSIpLExyKGUsImNoYW5nZSIsRnIodCxpKSxudWxsLCEwKX0oZSxyLGkpO2Vsc2UgaWYoImlucHV0Ij09PW98fCJ0ZXh0YXJlYSI9PT1vKSFmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5hdHRyc01hcC50eXBlLGk9bnx8e30sbz1pLmxhenksYT1pLm51bWJlcixzPWkudHJpbSxjPSFvJiYicmFuZ2UiIT09cix1PW8/ImNoYW5nZSI6InJhbmdlIj09PXI/SnI6ImlucHV0IixsPSIkZXZlbnQudGFyZ2V0LnZhbHVlIjtzJiYobD0iJGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCkiKSxhJiYobD0iX24oIitsKyIpIik7dmFyIGY9RnIodCxsKTtjJiYoZj0iaWYoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpcmV0dXJuOyIrZiksU3IoZSwidmFsdWUiLCIoIit0KyIpIiksTHIoZSx1LGYsbnVsbCwhMCksKHN8fGEpJiZMcihlLCJibHVyIiwiJGZvcmNlVXBkYXRlKCkiKX0oZSxyLGkpO2Vsc2UgaWYoIVAuaXNSZXNlcnZlZFRhZyhvKSlyZXR1cm4gUnIoZSxyLGkpLCExO3JldHVybiEwfSx0ZXh0OmZ1bmN0aW9uKGUsdCl7dC52YWx1ZSYmU3IoZSwidGV4dENvbnRlbnQiLCJfcygiK3QudmFsdWUrIikiLHQpfSxodG1sOmZ1bmN0aW9uKGUsdCl7dC52YWx1ZSYmU3IoZSwiaW5uZXJIVE1MIiwiX3MoIit0LnZhbHVlKyIpIix0KX19LGlzUHJlVGFnOmZ1bmN0aW9uKGUpe3JldHVybiJwcmUiPT09ZX0saXNVbmFyeVRhZzpnbyxtdXN0VXNlUHJvcDpFbixjYW5CZUxlZnRPcGVuVGFnOl9vLGlzUmVzZXJ2ZWRUYWc6Sm4sZ2V0VGFnTmFtZXNwYWNlOnFuLHN0YXRpY0tleXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQuc3RhdGljS2V5c3x8W10pfSxbXSkuam9pbigiLCIpfShnYSl9LHdhPWcoZnVuY3Rpb24oZSl7cmV0dXJuIHAoInR5cGUsdGFnLGF0dHJzTGlzdCxhdHRyc01hcCxwbGFpbixwYXJlbnQsY2hpbGRyZW4sYXR0cnMsc3RhcnQsZW5kLHJhd0F0dHJzTWFwIisoZT8iLCIrZToiIikpfSk7ZnVuY3Rpb24geGEoZSx0KXtlJiYoX2E9d2EodC5zdGF0aWNLZXlzfHwiIiksYmE9dC5pc1Jlc2VydmVkVGFnfHxULGZ1bmN0aW9uIGUodCl7dC5zdGF0aWM9ZnVuY3Rpb24oZSl7aWYoMj09PWUudHlwZSlyZXR1cm4hMTtpZigzPT09ZS50eXBlKXJldHVybiEwO3JldHVybiEoIWUucHJlJiYoZS5oYXNCaW5kaW5nc3x8ZS5pZnx8ZS5mb3J8fGQoZS50YWcpfHwhYmEoZS50YWcpfHxmdW5jdGlvbihlKXtmb3IoO2UucGFyZW50Oyl7aWYoInRlbXBsYXRlIiE9PShlPWUucGFyZW50KS50YWcpcmV0dXJuITE7aWYoZS5mb3IpcmV0dXJuITB9cmV0dXJuITF9KGUpfHwhT2JqZWN0LmtleXMoZSkuZXZlcnkoX2EpKSl9KHQpO2lmKDE9PT10LnR5cGUpe2lmKCFiYSh0LnRhZykmJiJzbG90IiE9PXQudGFnJiZudWxsPT10LmF0dHJzTWFwWyJpbmxpbmUtdGVtcGxhdGUiXSlyZXR1cm47Zm9yKHZhciBuPTAscj10LmNoaWxkcmVuLmxlbmd0aDtuPHI7bisrKXt2YXIgaT10LmNoaWxkcmVuW25dO2UoaSksaS5zdGF0aWN8fCh0LnN0YXRpYz0hMSl9aWYodC5pZkNvbmRpdGlvbnMpZm9yKHZhciBvPTEsYT10LmlmQ29uZGl0aW9ucy5sZW5ndGg7bzxhO28rKyl7dmFyIHM9dC5pZkNvbmRpdGlvbnNbb10uYmxvY2s7ZShzKSxzLnN0YXRpY3x8KHQuc3RhdGljPSExKX19fShlKSxmdW5jdGlvbiBlKHQsbil7aWYoMT09PXQudHlwZSl7aWYoKHQuc3RhdGljfHx0Lm9uY2UpJiYodC5zdGF0aWNJbkZvcj1uKSx0LnN0YXRpYyYmdC5jaGlsZHJlbi5sZW5ndGgmJigxIT09dC5jaGlsZHJlbi5sZW5ndGh8fDMhPT10LmNoaWxkcmVuWzBdLnR5cGUpKXJldHVybiB2b2lkKHQuc3RhdGljUm9vdD0hMCk7aWYodC5zdGF0aWNSb290PSExLHQuY2hpbGRyZW4pZm9yKHZhciByPTAsaT10LmNoaWxkcmVuLmxlbmd0aDtyPGk7cisrKWUodC5jaGlsZHJlbltyXSxufHwhIXQuZm9yKTtpZih0LmlmQ29uZGl0aW9ucylmb3IodmFyIG89MSxhPXQuaWZDb25kaXRpb25zLmxlbmd0aDtvPGE7bysrKWUodC5pZkNvbmRpdGlvbnNbb10uYmxvY2ssbil9fShlLCExKSl9dmFyIENhPS9eKFtcdyRfXSt8XChbXildKj9cKSlccyo9PnxeZnVuY3Rpb25ccypcKC8sQWE9L1woW14pXSo/XCk7KiQvLGthPS9eW0EtWmEtel8kXVtcdyRdKig/OlwuW0EtWmEtel8kXVtcdyRdKnxcWydbXiddKj8nXXxcWyJbXiJdKj8iXXxcW1xkK118XFtbQS1aYS16XyRdW1x3JF0qXSkqJC8sT2E9e2VzYzoyNyx0YWI6OSxlbnRlcjoxMyxzcGFjZTozMix1cDozOCxsZWZ0OjM3LHJpZ2h0OjM5LGRvd246NDAsZGVsZXRlOls4LDQ2XX0sU2E9e2VzYzpbIkVzYyIsIkVzY2FwZSJdLHRhYjoiVGFiIixlbnRlcjoiRW50ZXIiLHNwYWNlOlsiICIsIlNwYWNlYmFyIl0sdXA6WyJVcCIsIkFycm93VXAiXSxsZWZ0OlsiTGVmdCIsIkFycm93TGVmdCJdLHJpZ2h0OlsiUmlnaHQiLCJBcnJvd1JpZ2h0Il0sZG93bjpbIkRvd24iLCJBcnJvd0Rvd24iXSxkZWxldGU6WyJCYWNrc3BhY2UiLCJEZWxldGUiLCJEZWwiXX0sVGE9ZnVuY3Rpb24oZSl7cmV0dXJuImlmKCIrZSsiKXJldHVybiBudWxsOyJ9LEVhPXtzdG9wOiIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IixwcmV2ZW50OiIkZXZlbnQucHJldmVudERlZmF1bHQoKTsiLHNlbGY6VGEoIiRldmVudC50YXJnZXQgIT09ICRldmVudC5jdXJyZW50VGFyZ2V0IiksY3RybDpUYSgiISRldmVudC5jdHJsS2V5Iiksc2hpZnQ6VGEoIiEkZXZlbnQuc2hpZnRLZXkiKSxhbHQ6VGEoIiEkZXZlbnQuYWx0S2V5IiksbWV0YTpUYSgiISRldmVudC5tZXRhS2V5IiksbGVmdDpUYSgiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDAiKSxtaWRkbGU6VGEoIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAxIikscmlnaHQ6VGEoIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAyIil9O2Z1bmN0aW9uIGphKGUsdCl7dmFyIG49dD8ibmF0aXZlT246Ijoib246IixyPSIiLGk9IiI7Zm9yKHZhciBvIGluIGUpe3ZhciBhPU5hKGVbb10pO2Vbb10mJmVbb10uZHluYW1pYz9pKz1vKyIsIithKyIsIjpyKz0nIicrbysnIjonK2ErIiwifXJldHVybiByPSJ7IityLnNsaWNlKDAsLTEpKyJ9IixpP24rIl9kKCIrcisiLFsiK2kuc2xpY2UoMCwtMSkrIl0pIjpuK3J9ZnVuY3Rpb24gTmEoZSl7aWYoIWUpcmV0dXJuImZ1bmN0aW9uKCl7fSI7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4iWyIrZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE5hKGUpfSkuam9pbigiLCIpKyJdIjt2YXIgdD1rYS50ZXN0KGUudmFsdWUpLG49Q2EudGVzdChlLnZhbHVlKSxyPWthLnRlc3QoZS52YWx1ZS5yZXBsYWNlKEFhLCIiKSk7aWYoZS5tb2RpZmllcnMpe3ZhciBpPSIiLG89IiIsYT1bXTtmb3IodmFyIHMgaW4gZS5tb2RpZmllcnMpaWYoRWFbc10pbys9RWFbc10sT2Fbc10mJmEucHVzaChzKTtlbHNlIGlmKCJleGFjdCI9PT1zKXt2YXIgYz1lLm1vZGlmaWVycztvKz1UYShbImN0cmwiLCJzaGlmdCIsImFsdCIsIm1ldGEiXS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWNbZV19KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiRldmVudC4iK2UrIktleSJ9KS5qb2luKCJ8fCIpKX1lbHNlIGEucHVzaChzKTtyZXR1cm4gYS5sZW5ndGgmJihpKz1mdW5jdGlvbihlKXtyZXR1cm4iaWYoISRldmVudC50eXBlLmluZGV4T2YoJ2tleScpJiYiK2UubWFwKExhKS5qb2luKCImJiIpKyIpcmV0dXJuIG51bGw7In0oYSkpLG8mJihpKz1vKSwiZnVuY3Rpb24oJGV2ZW50KXsiK2krKHQ/InJldHVybiAiK2UudmFsdWUrIigkZXZlbnQpIjpuPyJyZXR1cm4gKCIrZS52YWx1ZSsiKSgkZXZlbnQpIjpyPyJyZXR1cm4gIitlLnZhbHVlOmUudmFsdWUpKyJ9In1yZXR1cm4gdHx8bj9lLnZhbHVlOiJmdW5jdGlvbigkZXZlbnQpeyIrKHI/InJldHVybiAiK2UudmFsdWU6ZS52YWx1ZSkrIn0ifWZ1bmN0aW9uIExhKGUpe3ZhciB0PXBhcnNlSW50KGUsMTApO2lmKHQpcmV0dXJuIiRldmVudC5rZXlDb2RlIT09Iit0O3ZhciBuPU9hW2VdLHI9U2FbZV07cmV0dXJuIl9rKCRldmVudC5rZXlDb2RlLCIrSlNPTi5zdHJpbmdpZnkoZSkrIiwiK0pTT04uc3RyaW5naWZ5KG4pKyIsJGV2ZW50LmtleSwiK0pTT04uc3RyaW5naWZ5KHIpKyIpIn12YXIgTWE9e29uOmZ1bmN0aW9uKGUsdCl7ZS53cmFwTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiJfZygiK2UrIiwiK3QudmFsdWUrIikifX0sYmluZDpmdW5jdGlvbihlLHQpe2Uud3JhcERhdGE9ZnVuY3Rpb24obil7cmV0dXJuIl9iKCIrbisiLCciK2UudGFnKyInLCIrdC52YWx1ZSsiLCIrKHQubW9kaWZpZXJzJiZ0Lm1vZGlmaWVycy5wcm9wPyJ0cnVlIjoiZmFsc2UiKSsodC5tb2RpZmllcnMmJnQubW9kaWZpZXJzLnN5bmM/Iix0cnVlIjoiIikrIikifX0sY2xvYWs6U30sSWE9ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zPWUsdGhpcy53YXJuPWUud2Fybnx8a3IsdGhpcy50cmFuc2Zvcm1zPU9yKGUubW9kdWxlcywidHJhbnNmb3JtQ29kZSIpLHRoaXMuZGF0YUdlbkZucz1PcihlLm1vZHVsZXMsImdlbkRhdGEiKSx0aGlzLmRpcmVjdGl2ZXM9ayhrKHt9LE1hKSxlLmRpcmVjdGl2ZXMpO3ZhciB0PWUuaXNSZXNlcnZlZFRhZ3x8VDt0aGlzLm1heWJlQ29tcG9uZW50PWZ1bmN0aW9uKGUpe3JldHVybiEhZS5jb21wb25lbnR8fCF0KGUudGFnKX0sdGhpcy5vbmNlSWQ9MCx0aGlzLnN0YXRpY1JlbmRlckZucz1bXSx0aGlzLnByZT0hMX07ZnVuY3Rpb24gRGEoZSx0KXt2YXIgbj1uZXcgSWEodCk7cmV0dXJue3JlbmRlcjoid2l0aCh0aGlzKXtyZXR1cm4gIisoZT9QYShlLG4pOidfYygiZGl2IiknKSsifSIsc3RhdGljUmVuZGVyRm5zOm4uc3RhdGljUmVuZGVyRm5zfX1mdW5jdGlvbiBQYShlLHQpe2lmKGUucGFyZW50JiYoZS5wcmU9ZS5wcmV8fGUucGFyZW50LnByZSksZS5zdGF0aWNSb290JiYhZS5zdGF0aWNQcm9jZXNzZWQpcmV0dXJuIFJhKGUsdCk7aWYoZS5vbmNlJiYhZS5vbmNlUHJvY2Vzc2VkKXJldHVybiBGYShlLHQpO2lmKGUuZm9yJiYhZS5mb3JQcm9jZXNzZWQpcmV0dXJuIEJhKGUsdCk7aWYoZS5pZiYmIWUuaWZQcm9jZXNzZWQpcmV0dXJuIEhhKGUsdCk7aWYoInRlbXBsYXRlIiE9PWUudGFnfHxlLnNsb3RUYXJnZXR8fHQucHJlKXtpZigic2xvdCI9PT1lLnRhZylyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnNsb3ROYW1lfHwnImRlZmF1bHQiJyxyPUthKGUsdCksaT0iX3QoIituKyhyPyIsIityOiIiKSxvPWUuYXR0cnN8fGUuZHluYW1pY0F0dHJzP1dhKChlLmF0dHJzfHxbXSkuY29uY2F0KGUuZHluYW1pY0F0dHJzfHxbXSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOmIoZS5uYW1lKSx2YWx1ZTplLnZhbHVlLGR5bmFtaWM6ZS5keW5hbWljfX0pKTpudWxsLGE9ZS5hdHRyc01hcFsidi1iaW5kIl07IW8mJiFhfHxyfHwoaSs9IixudWxsIik7byYmKGkrPSIsIitvKTthJiYoaSs9KG8/IiI6IixudWxsIikrIiwiK2EpO3JldHVybiBpKyIpIn0oZSx0KTt2YXIgbjtpZihlLmNvbXBvbmVudCluPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LmlubGluZVRlbXBsYXRlP251bGw6S2EodCxuLCEwKTtyZXR1cm4iX2MoIitlKyIsIitVYSh0LG4pKyhyPyIsIityOiIiKSsiKSJ9KGUuY29tcG9uZW50LGUsdCk7ZWxzZXt2YXIgcjsoIWUucGxhaW58fGUucHJlJiZ0Lm1heWJlQ29tcG9uZW50KGUpKSYmKHI9VWEoZSx0KSk7dmFyIGk9ZS5pbmxpbmVUZW1wbGF0ZT9udWxsOkthKGUsdCwhMCk7bj0iX2MoJyIrZS50YWcrIiciKyhyPyIsIityOiIiKSsoaT8iLCIraToiIikrIikifWZvcih2YXIgbz0wO288dC50cmFuc2Zvcm1zLmxlbmd0aDtvKyspbj10LnRyYW5zZm9ybXNbb10oZSxuKTtyZXR1cm4gbn1yZXR1cm4gS2EoZSx0KXx8InZvaWQgMCJ9ZnVuY3Rpb24gUmEoZSx0KXtlLnN0YXRpY1Byb2Nlc3NlZD0hMDt2YXIgbj10LnByZTtyZXR1cm4gZS5wcmUmJih0LnByZT1lLnByZSksdC5zdGF0aWNSZW5kZXJGbnMucHVzaCgid2l0aCh0aGlzKXtyZXR1cm4gIitQYShlLHQpKyJ9IiksdC5wcmU9biwiX20oIisodC5zdGF0aWNSZW5kZXJGbnMubGVuZ3RoLTEpKyhlLnN0YXRpY0luRm9yPyIsdHJ1ZSI6IiIpKyIpIn1mdW5jdGlvbiBGYShlLHQpe2lmKGUub25jZVByb2Nlc3NlZD0hMCxlLmlmJiYhZS5pZlByb2Nlc3NlZClyZXR1cm4gSGEoZSx0KTtpZihlLnN0YXRpY0luRm9yKXtmb3IodmFyIG49IiIscj1lLnBhcmVudDtyOyl7aWYoci5mb3Ipe249ci5rZXk7YnJlYWt9cj1yLnBhcmVudH1yZXR1cm4gbj8iX28oIitQYShlLHQpKyIsIit0Lm9uY2VJZCsrKyIsIituKyIpIjpQYShlLHQpfXJldHVybiBSYShlLHQpfWZ1bmN0aW9uIEhhKGUsdCxuLHIpe3JldHVybiBlLmlmUHJvY2Vzc2VkPSEwLGZ1bmN0aW9uIGUodCxuLHIsaSl7aWYoIXQubGVuZ3RoKXJldHVybiBpfHwiX2UoKSI7dmFyIG89dC5zaGlmdCgpO3JldHVybiBvLmV4cD8iKCIrby5leHArIik/IithKG8uYmxvY2spKyI6IitlKHQsbixyLGkpOiIiK2Eoby5ibG9jayk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gcj9yKGUsbik6ZS5vbmNlP0ZhKGUsbik6UGEoZSxuKX19KGUuaWZDb25kaXRpb25zLnNsaWNlKCksdCxuLHIpfWZ1bmN0aW9uIEJhKGUsdCxuLHIpe3ZhciBpPWUuZm9yLG89ZS5hbGlhcyxhPWUuaXRlcmF0b3IxPyIsIitlLml0ZXJhdG9yMToiIixzPWUuaXRlcmF0b3IyPyIsIitlLml0ZXJhdG9yMjoiIjtyZXR1cm4gZS5mb3JQcm9jZXNzZWQ9ITAsKHJ8fCJfbCIpKyIoKCIraSsiKSxmdW5jdGlvbigiK28rYStzKyIpe3JldHVybiAiKyhufHxQYSkoZSx0KSsifSkifWZ1bmN0aW9uIFVhKGUsdCl7dmFyIG49InsiLHI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRpcmVjdGl2ZXM7aWYoIW4pcmV0dXJuO3ZhciByLGksbyxhLHM9ImRpcmVjdGl2ZXM6WyIsYz0hMTtmb3Iocj0wLGk9bi5sZW5ndGg7cjxpO3IrKyl7bz1uW3JdLGE9ITA7dmFyIHU9dC5kaXJlY3RpdmVzW28ubmFtZV07dSYmKGE9ISF1KGUsbyx0Lndhcm4pKSxhJiYoYz0hMCxzKz0ne25hbWU6Iicrby5uYW1lKyciLHJhd05hbWU6Iicrby5yYXdOYW1lKyciJysoby52YWx1ZT8iLHZhbHVlOigiK28udmFsdWUrIiksZXhwcmVzc2lvbjoiK0pTT04uc3RyaW5naWZ5KG8udmFsdWUpOiIiKSsoby5hcmc/Iixhcmc6Iisoby5pc0R5bmFtaWNBcmc/by5hcmc6JyInK28uYXJnKyciJyk6IiIpKyhvLm1vZGlmaWVycz8iLG1vZGlmaWVyczoiK0pTT04uc3RyaW5naWZ5KG8ubW9kaWZpZXJzKToiIikrIn0sIil9aWYoYylyZXR1cm4gcy5zbGljZSgwLC0xKSsiXSJ9KGUsdCk7ciYmKG4rPXIrIiwiKSxlLmtleSYmKG4rPSJrZXk6IitlLmtleSsiLCIpLGUucmVmJiYobis9InJlZjoiK2UucmVmKyIsIiksZS5yZWZJbkZvciYmKG4rPSJyZWZJbkZvcjp0cnVlLCIpLGUucHJlJiYobis9InByZTp0cnVlLCIpLGUuY29tcG9uZW50JiYobis9J3RhZzoiJytlLnRhZysnIiwnKTtmb3IodmFyIGk9MDtpPHQuZGF0YUdlbkZucy5sZW5ndGg7aSsrKW4rPXQuZGF0YUdlbkZuc1tpXShlKTtpZihlLmF0dHJzJiYobis9ImF0dHJzOiIrV2EoZS5hdHRycykrIiwiKSxlLnByb3BzJiYobis9ImRvbVByb3BzOiIrV2EoZS5wcm9wcykrIiwiKSxlLmV2ZW50cyYmKG4rPWphKGUuZXZlbnRzLCExKSsiLCIpLGUubmF0aXZlRXZlbnRzJiYobis9amEoZS5uYXRpdmVFdmVudHMsITApKyIsIiksZS5zbG90VGFyZ2V0JiYhZS5zbG90U2NvcGUmJihuKz0ic2xvdDoiK2Uuc2xvdFRhcmdldCsiLCIpLGUuc2NvcGVkU2xvdHMmJihuKz1mdW5jdGlvbihlLHQsbil7dmFyIHI9T2JqZWN0LmtleXModCkuc29tZShmdW5jdGlvbihlKXt2YXIgbj10W2VdO3JldHVybiBuLnNsb3RUYXJnZXREeW5hbWljfHxuLmlmfHxuLmZvcnx8emEobil9KTtpZighcilmb3IodmFyIGk9ZS5wYXJlbnQ7aTspe2lmKGkuc2xvdFNjb3BlJiZpLnNsb3RTY29wZSE9PWFhKXtyPSEwO2JyZWFrfWk9aS5wYXJlbnR9cmV0dXJuInNjb3BlZFNsb3RzOl91KFsiK09iamVjdC5rZXlzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gVmEodFtlXSxuKX0pLmpvaW4oIiwiKSsiXSIrKHI/Iix0cnVlIjoiIikrIikifShlLGUuc2NvcGVkU2xvdHMsdCkrIiwiKSxlLm1vZGVsJiYobis9Im1vZGVsOnt2YWx1ZToiK2UubW9kZWwudmFsdWUrIixjYWxsYmFjazoiK2UubW9kZWwuY2FsbGJhY2srIixleHByZXNzaW9uOiIrZS5tb2RlbC5leHByZXNzaW9uKyJ9LCIpLGUuaW5saW5lVGVtcGxhdGUpe3ZhciBvPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5jaGlsZHJlblswXTtpZihuJiYxPT09bi50eXBlKXt2YXIgcj1EYShuLHQub3B0aW9ucyk7cmV0dXJuImlubGluZVRlbXBsYXRlOntyZW5kZXI6ZnVuY3Rpb24oKXsiK3IucmVuZGVyKyJ9LHN0YXRpY1JlbmRlckZuczpbIityLnN0YXRpY1JlbmRlckZucy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uKCl7IitlKyJ9In0pLmpvaW4oIiwiKSsiXX0ifX0oZSx0KTtvJiYobis9bysiLCIpfXJldHVybiBuPW4ucmVwbGFjZSgvLCQvLCIiKSsifSIsZS5keW5hbWljQXR0cnMmJihuPSJfYigiK24rJywiJytlLnRhZysnIiwnK1dhKGUuZHluYW1pY0F0dHJzKSsiKSIpLGUud3JhcERhdGEmJihuPWUud3JhcERhdGEobikpLGUud3JhcExpc3RlbmVycyYmKG49ZS53cmFwTGlzdGVuZXJzKG4pKSxufWZ1bmN0aW9uIHphKGUpe3JldHVybiAxPT09ZS50eXBlJiYoInNsb3QiPT09ZS50YWd8fGUuY2hpbGRyZW4uc29tZSh6YSkpfWZ1bmN0aW9uIFZhKGUsdCl7dmFyIG49ZS5hdHRyc01hcFsic2xvdC1zY29wZSJdO2lmKGUuaWYmJiFlLmlmUHJvY2Vzc2VkJiYhbilyZXR1cm4gSGEoZSx0LFZhLCJudWxsIik7aWYoZS5mb3ImJiFlLmZvclByb2Nlc3NlZClyZXR1cm4gQmEoZSx0LFZhKTt2YXIgcj1lLnNsb3RTY29wZT09PWFhPyIiOlN0cmluZyhlLnNsb3RTY29wZSksaT0iZnVuY3Rpb24oIityKyIpe3JldHVybiAiKygidGVtcGxhdGUiPT09ZS50YWc/ZS5pZiYmbj8iKCIrZS5pZisiKT8iKyhLYShlLHQpfHwidW5kZWZpbmVkIikrIjp1bmRlZmluZWQiOkthKGUsdCl8fCJ1bmRlZmluZWQiOlBhKGUsdCkpKyJ9IixvPXI/IiI6Iixwcm94eTp0cnVlIjtyZXR1cm4ie2tleToiKyhlLnNsb3RUYXJnZXR8fCciZGVmYXVsdCInKSsiLGZuOiIraStvKyJ9In1mdW5jdGlvbiBLYShlLHQsbixyLGkpe3ZhciBvPWUuY2hpbGRyZW47aWYoby5sZW5ndGgpe3ZhciBhPW9bMF07aWYoMT09PW8ubGVuZ3RoJiZhLmZvciYmInRlbXBsYXRlIiE9PWEudGFnJiYic2xvdCIhPT1hLnRhZyl7dmFyIHM9bj90Lm1heWJlQ29tcG9uZW50KGEpPyIsMSI6IiwwIjoiIjtyZXR1cm4iIisocnx8UGEpKGEsdCkrc312YXIgYz1uP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdO2lmKDE9PT1pLnR5cGUpe2lmKEphKGkpfHxpLmlmQ29uZGl0aW9ucyYmaS5pZkNvbmRpdGlvbnMuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gSmEoZS5ibG9jayl9KSl7bj0yO2JyZWFrfSh0KGkpfHxpLmlmQ29uZGl0aW9ucyYmaS5pZkNvbmRpdGlvbnMuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gdChlLmJsb2NrKX0pKSYmKG49MSl9fXJldHVybiBufShvLHQubWF5YmVDb21wb25lbnQpOjAsdT1pfHxxYTtyZXR1cm4iWyIrby5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSx0KX0pLmpvaW4oIiwiKSsiXSIrKGM/IiwiK2M6IiIpfX1mdW5jdGlvbiBKYShlKXtyZXR1cm4gdm9pZCAwIT09ZS5mb3J8fCJ0ZW1wbGF0ZSI9PT1lLnRhZ3x8InNsb3QiPT09ZS50YWd9ZnVuY3Rpb24gcWEoZSx0KXtyZXR1cm4gMT09PWUudHlwZT9QYShlLHQpOjM9PT1lLnR5cGUmJmUuaXNDb21tZW50PyhyPWUsIl9lKCIrSlNPTi5zdHJpbmdpZnkoci50ZXh0KSsiKSIpOiJfdigiKygyPT09KG49ZSkudHlwZT9uLmV4cHJlc3Npb246WmEoSlNPTi5zdHJpbmdpZnkobi50ZXh0KSkpKyIpIjt2YXIgbixyfWZ1bmN0aW9uIFdhKGUpe2Zvcih2YXIgdD0iIixuPSIiLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXSxvPVphKGkudmFsdWUpO2kuZHluYW1pYz9uKz1pLm5hbWUrIiwiK28rIiwiOnQrPSciJytpLm5hbWUrJyI6JytvKyIsIn1yZXR1cm4gdD0ieyIrdC5zbGljZSgwLC0xKSsifSIsbj8iX2QoIit0KyIsWyIrbi5zbGljZSgwLC0xKSsiXSkiOnR9ZnVuY3Rpb24gWmEoZSl7cmV0dXJuIGUucmVwbGFjZSgvXHUyMDI4L2csIlxcdTIwMjgiKS5yZXBsYWNlKC9cdTIwMjkvZywiXFx1MjAyOSIpfW5ldyBSZWdFeHAoIlxcYiIrImRvLGlmLGZvcixsZXQsbmV3LHRyeSx2YXIsY2FzZSxlbHNlLHdpdGgsYXdhaXQsYnJlYWssY2F0Y2gsY2xhc3MsY29uc3Qsc3VwZXIsdGhyb3csd2hpbGUseWllbGQsZGVsZXRlLGV4cG9ydCxpbXBvcnQscmV0dXJuLHN3aXRjaCxkZWZhdWx0LGV4dGVuZHMsZmluYWxseSxjb250aW51ZSxkZWJ1Z2dlcixmdW5jdGlvbixhcmd1bWVudHMiLnNwbGl0KCIsIikuam9pbigiXFxifFxcYiIpKyJcXGIiKTtmdW5jdGlvbiBHYShlLHQpe3RyeXtyZXR1cm4gbmV3IEZ1bmN0aW9uKGUpfWNhdGNoKG4pe3JldHVybiB0LnB1c2goe2VycjpuLGNvZGU6ZX0pLFN9fWZ1bmN0aW9uIFhhKGUpe3ZhciB0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGZ1bmN0aW9uKG4scixpKXsocj1rKHt9LHIpKS53YXJuO2RlbGV0ZSByLndhcm47dmFyIG89ci5kZWxpbWl0ZXJzP1N0cmluZyhyLmRlbGltaXRlcnMpK246bjtpZih0W29dKXJldHVybiB0W29dO3ZhciBhPWUobixyKSxzPXt9LGM9W107cmV0dXJuIHMucmVuZGVyPUdhKGEucmVuZGVyLGMpLHMuc3RhdGljUmVuZGVyRm5zPWEuc3RhdGljUmVuZGVyRm5zLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gR2EoZSxjKX0pLHRbb109c319dmFyIFlhLFFhLGVzPShZYT1mdW5jdGlvbihlLHQpe3ZhciBuPWNhKGUudHJpbSgpLHQpOyExIT09dC5vcHRpbWl6ZSYmeGEobix0KTt2YXIgcj1EYShuLHQpO3JldHVybnthc3Q6bixyZW5kZXI6ci5yZW5kZXIsc3RhdGljUmVuZGVyRm5zOnIuc3RhdGljUmVuZGVyRm5zfX0sZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPU9iamVjdC5jcmVhdGUoZSksaT1bXSxvPVtdO2lmKG4pZm9yKHZhciBhIGluIG4ubW9kdWxlcyYmKHIubW9kdWxlcz0oZS5tb2R1bGVzfHxbXSkuY29uY2F0KG4ubW9kdWxlcykpLG4uZGlyZWN0aXZlcyYmKHIuZGlyZWN0aXZlcz1rKE9iamVjdC5jcmVhdGUoZS5kaXJlY3RpdmVzfHxudWxsKSxuLmRpcmVjdGl2ZXMpKSxuKSJtb2R1bGVzIiE9PWEmJiJkaXJlY3RpdmVzIiE9PWEmJihyW2FdPW5bYV0pO3Iud2Fybj1mdW5jdGlvbihlLHQsbil7KG4/bzppKS5wdXNoKGUpfTt2YXIgcz1ZYSh0LnRyaW0oKSxyKTtyZXR1cm4gcy5lcnJvcnM9aSxzLnRpcHM9byxzfXJldHVybntjb21waWxlOnQsY29tcGlsZVRvRnVuY3Rpb25zOlhhKHQpfX0pKCRhKSx0cz0oZXMuY29tcGlsZSxlcy5jb21waWxlVG9GdW5jdGlvbnMpO2Z1bmN0aW9uIG5zKGUpe3JldHVybihRYT1RYXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpLmlubmVySFRNTD1lPyc8YSBocmVmPSJcbiIvPic6JzxkaXYgYT0iXG4iLz4nLFFhLmlubmVySFRNTC5pbmRleE9mKCImIzEwOyIpPjB9dmFyIHJzPSEhVSYmbnMoITEpLGlzPSEhVSYmbnMoITApLG9zPWcoZnVuY3Rpb24oZSl7dmFyIHQ9R24oZSk7cmV0dXJuIHQmJnQuaW5uZXJIVE1MfSksYXM9Ym4ucHJvdG90eXBlLiRtb3VudDtyZXR1cm4gYm4ucHJvdG90eXBlLiRtb3VudD1mdW5jdGlvbihlLHQpe2lmKChlPWUmJkduKGUpKT09PWRvY3VtZW50LmJvZHl8fGU9PT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy4kb3B0aW9ucztpZighbi5yZW5kZXIpe3ZhciByPW4udGVtcGxhdGU7aWYocilpZigic3RyaW5nIj09dHlwZW9mIHIpIiMiPT09ci5jaGFyQXQoMCkmJihyPW9zKHIpKTtlbHNle2lmKCFyLm5vZGVUeXBlKXJldHVybiB0aGlzO3I9ci5pbm5lckhUTUx9ZWxzZSBlJiYocj1mdW5jdGlvbihlKXtpZihlLm91dGVySFRNTClyZXR1cm4gZS5vdXRlckhUTUw7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIHQuYXBwZW5kQ2hpbGQoZS5jbG9uZU5vZGUoITApKSx0LmlubmVySFRNTH0oZSkpO2lmKHIpe3ZhciBpPXRzKHIse291dHB1dFNvdXJjZVJhbmdlOiExLHNob3VsZERlY29kZU5ld2xpbmVzOnJzLHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZjppcyxkZWxpbWl0ZXJzOm4uZGVsaW1pdGVycyxjb21tZW50czpuLmNvbW1lbnRzfSx0aGlzKSxvPWkucmVuZGVyLGE9aS5zdGF0aWNSZW5kZXJGbnM7bi5yZW5kZXI9byxuLnN0YXRpY1JlbmRlckZucz1hfX1yZXR1cm4gYXMuY2FsbCh0aGlzLGUsdCl9LGJuLmNvbXBpbGU9dHMsYm59KTs="},{"meta":{"name":"findAndReplaceDOMText.min.js","url":"https://cdn.staticfile.org/findAndReplaceDOMText/0.4.6/findAndReplaceDOMText.min.js","ts":1584071792147,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPXQoKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTplLmZpbmRBbmRSZXBsYWNlRE9NVGV4dD10KCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cmV0dXJuIGZ1bmN0aW9uKG4scixpLG8sZCl7aWYociYmIXIubm9kZVR5cGUmJmFyZ3VtZW50cy5sZW5ndGg8PTIpcmV0dXJuITE7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIGk7YSYmKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUodC50ZXh0LG4uc3RhcnRJbmRleCl9fShpKSk7dmFyIHM9dChyLHtmaW5kOm4sd3JhcDphP251bGw6aSxyZXBsYWNlOmE/aToiJCIrKG98fCImIikscHJlcE1hdGNoOmZ1bmN0aW9uKGUsdCl7aWYoIWVbMF0pdGhyb3ciZmluZEFuZFJlcGxhY2VET01UZXh0IGNhbm5vdCBoYW5kbGUgemVyby1sZW5ndGggbWF0Y2hlcyI7aWYobz4wKXt2YXIgbj1lW29dO2UuaW5kZXgrPWVbMF0uaW5kZXhPZihuKSxlWzBdPW59cmV0dXJuIGUuZW5kSW5kZXg9ZS5pbmRleCtlWzBdLmxlbmd0aCxlLnN0YXJ0SW5kZXg9ZS5pbmRleCxlLmluZGV4PXQsZX0sZmlsdGVyRWxlbWVudHM6ZH0pO3JldHVybiBlLnJldmVydD1mdW5jdGlvbigpe3JldHVybiBzLnJldmVydCgpfSwhMH0uYXBwbHkobnVsbCxhcmd1bWVudHMpfHx0LmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiB0KGUsdCl7cmV0dXJuIG5ldyBuKGUsdCl9ZnVuY3Rpb24gbih0LG4pe3ZhciBpPW4ucHJlc2V0JiZlLlBSRVNFVFNbbi5wcmVzZXRdO2lmKG4ucG9ydGlvbk1vZGU9bi5wb3J0aW9uTW9kZXx8cixpKWZvcih2YXIgZCBpbiBpKW8uY2FsbChpLGQpJiYhby5jYWxsKG4sZCkmJihuW2RdPWlbZF0pO3RoaXMubm9kZT10LHRoaXMub3B0aW9ucz1uLHRoaXMucHJlcE1hdGNoPW4ucHJlcE1hdGNofHx0aGlzLnByZXBNYXRjaCx0aGlzLnJldmVydHM9W10sdGhpcy5tYXRjaGVzPXRoaXMuc2VhcmNoKCksdGhpcy5tYXRjaGVzLmxlbmd0aCYmdGhpcy5wcm9jZXNzTWF0Y2hlcygpfXZhciByPSJyZXRhaW4iLGk9ZG9jdW1lbnQsbz17fS5oYXNPd25Qcm9wZXJ0eTtyZXR1cm4gZS5OT05fUFJPU0VfRUxFTUVOVFM9e2JyOjEsaHI6MSxzY3JpcHQ6MSxzdHlsZToxLGltZzoxLHZpZGVvOjEsYXVkaW86MSxjYW52YXM6MSxzdmc6MSxtYXA6MSxvYmplY3Q6MSxpbnB1dDoxLHRleHRhcmVhOjEsc2VsZWN0OjEsb3B0aW9uOjEsb3B0Z3JvdXA6MSxidXR0b246MX0sZS5OT05fQ09OVElHVU9VU19QUk9TRV9FTEVNRU5UUz17YWRkcmVzczoxLGFydGljbGU6MSxhc2lkZToxLGJsb2NrcXVvdGU6MSxkZDoxLGRpdjoxLGRsOjEsZmllbGRzZXQ6MSxmaWdjYXB0aW9uOjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLGhyOjEsbWFpbjoxLG5hdjoxLG5vc2NyaXB0OjEsb2w6MSxvdXRwdXQ6MSxwOjEscHJlOjEsc2VjdGlvbjoxLHVsOjEsYnI6MSxsaToxLHN1bW1hcnk6MSxkdDoxLGRldGFpbHM6MSxycDoxLHJ0OjEscnRjOjEsc2NyaXB0OjEsc3R5bGU6MSxpbWc6MSx2aWRlbzoxLGF1ZGlvOjEsY2FudmFzOjEsc3ZnOjEsbWFwOjEsb2JqZWN0OjEsaW5wdXQ6MSx0ZXh0YXJlYToxLHNlbGVjdDoxLG9wdGlvbjoxLG9wdGdyb3VwOjEsYnV0dG9uOjEsdGFibGU6MSx0Ym9keToxLHRoZWFkOjEsdGg6MSx0cjoxLHRkOjEsY2FwdGlvbjoxLGNvbDoxLHRmb290OjEsY29sZ3JvdXA6MX0sZS5OT05fSU5MSU5FX1BST1NFPWZ1bmN0aW9uKHQpe3JldHVybiBvLmNhbGwoZS5OT05fQ09OVElHVU9VU19QUk9TRV9FTEVNRU5UUyx0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpfSxlLlBSRVNFVFM9e3Byb3NlOntmb3JjZUNvbnRleHQ6ZS5OT05fSU5MSU5FX1BST1NFLGZpbHRlckVsZW1lbnRzOmZ1bmN0aW9uKHQpe3JldHVybiFvLmNhbGwoZS5OT05fUFJPU0VfRUxFTUVOVFMsdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKX19fSxlLkZpbmRlcj1uLG4ucHJvdG90eXBlPXtzZWFyY2g6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKG8pe2Zvcih2YXIgcz0wLHA9by5sZW5ndGg7czxwOysrcyl7dmFyIGg9b1tzXTtpZigic3RyaW5nIj09dHlwZW9mIGgpe2lmKGkuZ2xvYmFsKWZvcig7dD1pLmV4ZWMoaCk7KWQucHVzaChhLnByZXBNYXRjaCh0LG4rKyxyKSk7ZWxzZSh0PWgubWF0Y2goaSkpJiZkLnB1c2goYS5wcmVwTWF0Y2godCwwLHIpKTtyKz1oLmxlbmd0aH1lbHNlIGUoaCl9fXZhciB0LG49MCxyPTAsaT10aGlzLm9wdGlvbnMuZmluZCxvPXRoaXMuZ2V0QWdncmVnYXRlVGV4dCgpLGQ9W10sYT10aGlzO3JldHVybiBpPSJzdHJpbmciPT10eXBlb2YgaT9SZWdFeHAoZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xdXC9cXF0pL2csIlxcJDEiKX0oaSksImciKTppLGUobyksZH0scHJlcE1hdGNoOmZ1bmN0aW9uKGUsdCxuKXtpZighZVswXSl0aHJvdyBuZXcgRXJyb3IoImZpbmRBbmRSZXBsYWNlRE9NVGV4dCBjYW5ub3QgaGFuZGxlIHplcm8tbGVuZ3RoIG1hdGNoZXMiKTtyZXR1cm4gZS5lbmRJbmRleD1uK2UuaW5kZXgrZVswXS5sZW5ndGgsZS5zdGFydEluZGV4PW4rZS5pbmRleCxlLmluZGV4PXQsZX0sZ2V0QWdncmVnYXRlVGV4dDpmdW5jdGlvbigpe2Z1bmN0aW9uIGUocil7aWYoci5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKXJldHVybltyLmRhdGFdO2lmKHQmJiF0KHIpKXJldHVybltdO3ZhciBpPVsiIl0sbz0wO2lmKHI9ci5maXJzdENoaWxkKWRve2lmKHIubm9kZVR5cGUhPT1Ob2RlLlRFWFRfTk9ERSl7dmFyIGQ9ZShyKTtuJiZyLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJighMD09PW58fG4ocikpPyhpWysrb109ZCxpWysrb109IiIpOigic3RyaW5nIj09dHlwZW9mIGRbMF0mJihpW29dKz1kLnNoaWZ0KCkpLGQubGVuZ3RoJiYoaVsrK29dPWQsaVsrK29dPSIiKSl9ZWxzZSBpW29dKz1yLmRhdGF9d2hpbGUocj1yLm5leHRTaWJsaW5nKTtyZXR1cm4gaX12YXIgdD10aGlzLm9wdGlvbnMuZmlsdGVyRWxlbWVudHMsbj10aGlzLm9wdGlvbnMuZm9yY2VDb250ZXh0O3JldHVybiBlKHRoaXMubm9kZSl9LHByb2Nlc3NNYXRjaGVzOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9dGhpcy5tYXRjaGVzLGk9dGhpcy5ub2RlLG89dGhpcy5vcHRpb25zLmZpbHRlckVsZW1lbnRzLGQ9W10sYT1pLHM9ci5zaGlmdCgpLHA9MCxoPTAsbD0wLGM9W2ldO2U6Zm9yKDs7KXtpZihhLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREUmJighdCYmYS5sZW5ndGgrcD49cy5lbmRJbmRleD90PXtub2RlOmEsaW5kZXg6bCsrLHRleHQ6YS5kYXRhLnN1YnN0cmluZyhzLnN0YXJ0SW5kZXgtcCxzLmVuZEluZGV4LXApLGluZGV4SW5NYXRjaDowPT09cD8wOnAtcy5zdGFydEluZGV4LGluZGV4SW5Ob2RlOnMuc3RhcnRJbmRleC1wLGVuZEluZGV4SW5Ob2RlOnMuZW5kSW5kZXgtcCxpc0VuZDohMH06ZSYmZC5wdXNoKHtub2RlOmEsaW5kZXg6bCsrLHRleHQ6YS5kYXRhLGluZGV4SW5NYXRjaDpwLXMuc3RhcnRJbmRleCxpbmRleEluTm9kZTowfSksIWUmJmEubGVuZ3RoK3A+cy5zdGFydEluZGV4JiYoZT17bm9kZTphLGluZGV4OmwrKyxpbmRleEluTWF0Y2g6MCxpbmRleEluTm9kZTpzLnN0YXJ0SW5kZXgtcCxlbmRJbmRleEluTm9kZTpzLmVuZEluZGV4LXAsdGV4dDphLmRhdGEuc3Vic3RyaW5nKHMuc3RhcnRJbmRleC1wLHMuZW5kSW5kZXgtcCl9KSxwKz1hLmRhdGEubGVuZ3RoKSxuPWEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmbyYmIW8oYSksZSYmdCl7aWYoYT10aGlzLnJlcGxhY2VNYXRjaChzLGUsZCx0KSxwLT10Lm5vZGUuZGF0YS5sZW5ndGgtdC5lbmRJbmRleEluTm9kZSxlPW51bGwsdD1udWxsLGQ9W10scz1yLnNoaWZ0KCksbD0wLGgrKywhcylicmVha31lbHNlIGlmKCFuJiYoYS5maXJzdENoaWxkfHxhLm5leHRTaWJsaW5nKSl7YS5maXJzdENoaWxkPyhjLnB1c2goYSksYT1hLmZpcnN0Q2hpbGQpOmE9YS5uZXh0U2libGluZztjb250aW51ZX1mb3IoOzspe2lmKGEubmV4dFNpYmxpbmcpe2E9YS5uZXh0U2libGluZzticmVha31pZigoYT1jLnBvcCgpKT09PWkpYnJlYWsgZX19fSxyZXZlcnQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5yZXZlcnRzLmxlbmd0aDtlLS07KXRoaXMucmV2ZXJ0c1tlXSgpO3RoaXMucmV2ZXJ0cz1bXX0scHJlcGFyZVJlcGxhY2VtZW50U3RyaW5nOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLm9wdGlvbnMucG9ydGlvbk1vZGU7cmV0dXJuImZpcnN0Ij09PXImJnQuaW5kZXhJbk1hdGNoPjA/IiI6KGU9ZS5yZXBsYWNlKC9cJChcZCt8JnxgfCcpL2csZnVuY3Rpb24oZSx0KXt2YXIgcjtzd2l0Y2godCl7Y2FzZSImIjpyPW5bMF07YnJlYWs7Y2FzZSJgIjpyPW4uaW5wdXQuc3Vic3RyaW5nKDAsbi5zdGFydEluZGV4KTticmVhaztjYXNlIiciOnI9bi5pbnB1dC5zdWJzdHJpbmcobi5lbmRJbmRleCk7YnJlYWs7ZGVmYXVsdDpyPW5bK3RdfHwiIn1yZXR1cm4gcn0pLCJmaXJzdCI9PT1yP2U6dC5pc0VuZD9lLnN1YnN0cmluZyh0LmluZGV4SW5NYXRjaCk6ZS5zdWJzdHJpbmcodC5pbmRleEluTWF0Y2gsdC5pbmRleEluTWF0Y2grdC50ZXh0Lmxlbmd0aCkpfSxnZXRQb3J0aW9uUmVwbGFjZW1lbnROb2RlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5vcHRpb25zLnJlcGxhY2V8fCIkJiIscj10aGlzLm9wdGlvbnMud3JhcCxvPXRoaXMub3B0aW9ucy53cmFwQ2xhc3M7aWYociYmci5ub2RlVHlwZSl7dmFyIGQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLmlubmVySFRNTD1yLm91dGVySFRNTHx8KG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhyKSxyPWQuZmlyc3RDaGlsZH1pZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4obj1uKGUsdCkpJiZuLm5vZGVUeXBlP246aS5jcmVhdGVUZXh0Tm9kZShTdHJpbmcobikpO3ZhciBhPSJzdHJpbmciPT10eXBlb2Ygcj9pLmNyZWF0ZUVsZW1lbnQocik6cjtyZXR1cm4gYSYmbyYmKGEuY2xhc3NOYW1lPW8pLChuPWkuY3JlYXRlVGV4dE5vZGUodGhpcy5wcmVwYXJlUmVwbGFjZW1lbnRTdHJpbmcobixlLHQpKSkuZGF0YSYmYT8oYS5hcHBlbmRDaGlsZChuKSxhKTpufSxyZXBsYWNlTWF0Y2g6ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8sZCxhPXQubm9kZSxzPXIubm9kZTtpZihhPT09cyl7dmFyIHA9YTt0LmluZGV4SW5Ob2RlPjAmJihvPWkuY3JlYXRlVGV4dE5vZGUocC5kYXRhLnN1YnN0cmluZygwLHQuaW5kZXhJbk5vZGUpKSxwLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG8scCkpO3ZhciBoPXRoaXMuZ2V0UG9ydGlvblJlcGxhY2VtZW50Tm9kZShyLGUpO3JldHVybiBwLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGgscCksci5lbmRJbmRleEluTm9kZTxwLmxlbmd0aCYmKGQ9aS5jcmVhdGVUZXh0Tm9kZShwLmRhdGEuc3Vic3RyaW5nKHIuZW5kSW5kZXhJbk5vZGUpKSxwLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGQscCkpLHAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwKSx0aGlzLnJldmVydHMucHVzaChmdW5jdGlvbigpe289PT1oLnByZXZpb3VzU2libGluZyYmby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pLGQ9PT1oLm5leHRTaWJsaW5nJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCksaC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChwLGgpfSksaH1vPWkuY3JlYXRlVGV4dE5vZGUoYS5kYXRhLnN1YnN0cmluZygwLHQuaW5kZXhJbk5vZGUpKSxkPWkuY3JlYXRlVGV4dE5vZGUocy5kYXRhLnN1YnN0cmluZyhyLmVuZEluZGV4SW5Ob2RlKSk7Zm9yKHZhciBsPXRoaXMuZ2V0UG9ydGlvblJlcGxhY2VtZW50Tm9kZSh0LGUpLGM9W10sdT0wLGY9bi5sZW5ndGg7dTxmOysrdSl7dmFyIHg9blt1XSxOPXRoaXMuZ2V0UG9ydGlvblJlcGxhY2VtZW50Tm9kZSh4LGUpO3gubm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChOLHgubm9kZSksdGhpcy5yZXZlcnRzLnB1c2goZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGUubm9kZSx0KX19KHgsTikpLGMucHVzaChOKX12YXIgZz10aGlzLmdldFBvcnRpb25SZXBsYWNlbWVudE5vZGUocixlKTtyZXR1cm4gYS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvLGEpLGEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobCxhKSxhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSkscy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnLHMpLHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZCxzKSxzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocyksdGhpcy5yZXZlcnRzLnB1c2goZnVuY3Rpb24oKXtvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyksbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChhLGwpLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSxnLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHMsZyl9KSxnfX0sZX0pOw=="}]},{"name":"Aria2下载助手","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["baidu.com","baidupcs.com","bilibili.com","111.229.137.150","127.0.0.1","localhost","self"],"orig_excludes":[],"orig_includes":["https://pan.baidu.com/*","https://yun.baidu.com/*","https://wallhaven.cc/*","https://www.bilibili.com/video/av*","https://www.bilibili.com/bangumi/play/*","https://live.bilibili.com/*","https://space.bilibili.com/*","https://search.bilibili.com/*","https://nyaa.fun/*","https://nyaa.si/*","https://sukebei.nyaa.si/*","https://nyaa.mlyx.workers.dev/*","https://acg.rip/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"ts":1575342523153,"data":{}},"enabled":true,"position":10,"file_url":"https://greasyfork.org/scripts/390707-aria2%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B/code/Aria2%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B.user.js","uuid":"0467382b-df6e-4231-bb4a-f747609c92d1","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWVzcGFjZSB6eXh1YmluZwovLyBAbmFtZSBBcmlhMuS4i+i9veWKqeaJiwovLyBAZGVzY3JpcHRpb24gVGhpcyBzY3JpcHQgd2FzIGRlbGV0ZWQgZnJvbSBHcmVhc3kgRm9yaywgYW5kIGR1ZSB0byBpdHMgbmVnYXRpdmUgZWZmZWN0cywgaXQgaGFzIGJlZW4gYXV0b21hdGljYWxseSByZW1vdmVkIGZyb20geW91ciBicm93c2VyLgovLyBAdmVyc2lvbiAwLjMuMy4xCi8vIEBpbmNsdWRlIGh0dHBzOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlIGh0dHBzOi8veXVuLmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlIGh0dHBzOi8vd2FsbGhhdmVuLmNjLyoKLy8gQGluY2x1ZGUgaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL2F2KgovLyBAaW5jbHVkZSBodHRwczovL3d3dy5iaWxpYmlsaS5jb20vYmFuZ3VtaS9wbGF5LyoKLy8gQGluY2x1ZGUgaHR0cHM6Ly9saXZlLmJpbGliaWxpLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHBzOi8vc3BhY2UuYmlsaWJpbGkuY29tLyoKLy8gQGluY2x1ZGUgaHR0cHM6Ly9zZWFyY2guYmlsaWJpbGkuY29tLyoKLy8gQGluY2x1ZGUgaHR0cHM6Ly9ueWFhLmZ1bi8qCi8vIEBpbmNsdWRlIGh0dHBzOi8vbnlhYS5zaS8qCi8vIEBpbmNsdWRlIGh0dHBzOi8vc3VrZWJlaS5ueWFhLnNpLyoKLy8gQGluY2x1ZGUgaHR0cHM6Ly9ueWFhLm1seXgud29ya2Vycy5kZXYvKgovLyBAaW5jbHVkZSBodHRwczovL2FjZy5yaXAvKgovLyBAZG9tYWluIGJhaWR1LmNvbQovLyBAZG9tYWluIGJhaWR1cGNzLmNvbQovLyBAZG9tYWluIGJpbGliaWxpLmNvbQovLyBAZG9tYWluIDExMS4yMjkuMTM3LjE1MAovLyBAZG9tYWluIDEyNy4wLjAuMQovLyBAZG9tYWluIGxvY2FsaG9zdAovLyBAZG9tYWluIHNlbGYKLy8gQGdyYW50IEdNX2Nvb2tpZQovLyBAZ3JhbnQgR01fc2V0Q2xpcGJvYXJkCi8vIEBncmFudCBHTV94bWxodHRwUmVxdWVzdAovLyBAcnVuLWF0IGRvY3VtZW50LWlkbGUKLy8gPT0vVXNlclNjcmlwdD09Cg=="},{"name":"视频跳过广告和 VIP 视频解析","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://v.qq.com/x/cover/*","*://v.qq.com/x/page/*","*://www.iqiyi.com/v*","*://v.youku.com/v_show/*","*://www.mgtv.com/b/*","*://tv.sohu.com/v/*","*://film.sohu.com/album/*","*://www.le.com/ptv/vplay/*","*://video.tudou.com/v/*","*://v.pptv.com/show/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"ts":1582364134118,"data":{}},"enabled":false,"position":11,"file_url":"https://greasyfork.org/scripts/373063-%E8%A7%86%E9%A2%91%E8%B7%B3%E8%BF%87%E5%B9%BF%E5%91%8A%E5%92%8C-vip-%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90/code/%E8%A7%86%E9%A2%91%E8%B7%B3%E8%BF%87%E5%B9%BF%E5%91%8A%E5%92%8C%20VIP%20%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90.user.js","uuid":"8c4aa6af-7440-410c-9d12-c7fe77fe6234","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIOinhumikei3s+i/h+W5v+WRiuWSjCBWSVAg6KeG6aKR6Kej5p6QCi8vIEBuYW1lOmVuICAgICAgICAgICBLaWxsIEFEcyBhbmQgV2F0Y2ggVklQIFZpZGVvcwovLyBAbmFtZXNwYWNlICAgICAgICAgaHR0cDovL21vZml0ZXIuY29tLwovLyBAdmVyc2lvbiAgICAgICAgICAgMS42Ci8vIEBkZXNjcmlwdGlvbiAgICAgICDkuZ/orrjmmK/po47moLzmnIDotLTov5Hljp/op4bpopHnvZHnq5nnmoQgVklQIOinhumikeino+aekOiEmuacrOS6hu+8jOa3u+WKoOeahOino+aekOaMiemSruagt+W8j+i3n+WOn+inhumikee9keermeW3suacieeahOaMiemSruS4gOiHtO+8jOS4jeS8muS6p+eUn+eqgeWFgOaEn++8jOaUr+aMgeiFvuiur+inhumikeOAgeeIseWlh+iJuuOAgeS8mOmFt+OAgeWcn+ixhuOAgeiKkuaenCBUVuOAgeaQnOeLkOinhumikeOAgeS5kOinhuinhumikeOAgVBQVFbnrYnvvIzmlK/mjIHlpJrkuKrop6PmnpDmjqXlj6PliIfmjaLvvIzmlK/mjIHoh6rlrprkuYnmjqXlj6PvvIzmlK/mjIHnq5nlhoXnq5nlpJbop6PmnpDvvIzmlK/mjIEgVGFtcGVybW9ua2V544CBVmlvbGVudG1vbmtleeOAgUdyZWFzZW1vbmtleQovLyBAZGVzY3JpcHRpb246ZW4gICAgbWF5YmUgaXQncyB0aGUgbW9zdCBzaW1pbGFyIFZJUCB2aWRlb3Mgc2NyaXB0IHRvIG9yaWdpbiB3ZWJzaXRlCi8vIEBhdXRob3IgICAgICAgICAgICBtb2ZpdGVyCi8vIEByZXF1aXJlICAgICAgICAgICBodHRwczovL2Nkbi5ib290Y3NzLmNvbS9qcXVlcnkvMS4xMi40L2pxdWVyeS5taW4uanMKLy8gQHJlcXVpcmUgICAgICAgICAgIGh0dHBzOi8vZ3JlYXNlbW9ua2V5LmdpdGh1Yi5pby9nbTQtcG9seWZpbGwvZ200LXBvbHlmaWxsLmpzCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vdi5xcS5jb20veC9jb3Zlci8qCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vdi5xcS5jb20veC9wYWdlLyoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly93d3cuaXFpeWkuY29tL3YqCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vdi55b3VrdS5jb20vdl9zaG93LyoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly93d3cubWd0di5jb20vYi8qCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vdHYuc29odS5jb20vdi8qCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vZmlsbS5zb2h1LmNvbS9hbGJ1bS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vd3d3LmxlLmNvbS9wdHYvdnBsYXkvKgovLyBAbWF0Y2ggICAgICAgICAgICAgKjovL3ZpZGVvLnR1ZG91LmNvbS92LyoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly92LnBwdHYuY29tL3Nob3cvKgovLyBAZ3JhbnQgICAgICAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICAgICAgICBHTV9vcGVuSW5UYWIKLy8gQGdyYW50ICAgICAgICAgICAgIEdNLm9wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgICAgIEdNLmdldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgR00uc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgJCA9ICQgfHwgd2luZG93LiQ7CiAgICB2YXIgbG9nX2NvdW50ID0gMTsKICAgIHZhciBwYXJzZUludGVyZmFjZUxpc3QgPSBbXTsKICAgIHZhciB1c2VySW50ZXJmYWNlTGlzdCA9IFtdOwogICAgdmFyIG9yaWdpbmFsSW50ZXJmYWNlTGlzdCA9IFt7Im5hbWUiOiI5MjciLCJ0eXBlIjoi56uZ5YaFIiwidXJsIjoiaHR0cHM6Ly9hcGkuOTI3anguY29tL3ZpcC8/dXJsPSJ9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Im5hbWUiOiJhYjMzIiwidHlwZSI6IuermeWGhSIsInVybCI6Imh0dHBzOi8vanguYWIzMy50b3AvdmlwLz91cmw9In0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsibmFtZSI6IjE3MTd5dW4iLCJ0eXBlIjoi56uZ5YaFIiwidXJsIjoiaHR0cHM6Ly93d3cuMTcxN3l1bi5jb20vangvdHkucGhwP3VybD0ifSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyJuYW1lIjoi6YeR5qGlIiwidHlwZSI6IuermeWGhSIsInVybCI6Imh0dHBzOi8vd3d3LmpxYWFhLmNvbS9qeC5waHA/dXJsPSJ9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Im5hbWUiOiI2MThnIiwidHlwZSI6IuermeWGhSIsInVybCI6Imh0dHBzOi8vanguNjE4Zy5jb20vP3VybD0ifSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyJuYW1lIjoiMTcxN3l1biIsInR5cGUiOiLnq5nlpJYiLCJ1cmwiOiJodHRwczovL3d3dy4xNzE3eXVuLmNvbS9qeC90eS5waHA/dXJsPSJ9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Im5hbWUiOiJtMTkwNyIsInR5cGUiOiLnq5nlpJYiLCJ1cmwiOiJodHRwczovL3oxLm0xOTA3LmNuLz9qeD0ifSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyJuYW1lIjoiYmVhYyIsInR5cGUiOiLnq5nlpJYiLCJ1cmwiOiJodHRwczovL2JlYWFjYy5jb20vYXBpLnBocD91cmw9In1dOwoKICAgIC8v6Ieq5a6a5LmJIGxvZyDlh73mlbAKICAgIGZ1bmN0aW9uIG15bG9nKHBhcmFtMSxwYXJhbTIpewogICAgICAgIHBhcmFtMSA9IHBhcmFtMSA/IHBhcmFtMSA6ICIiOwogICAgICAgIHBhcmFtMiA9IHBhcmFtMiA/IHBhcmFtMiA6ICIiOwogICAgICAgIGNvbnNvbGUubG9nKCIjIiArIGxvZ19jb3VudCsrICsgIi1WSVAtbG9nOiIscGFyYW0xLHBhcmFtMik7CiAgICB9CgogICAgZnVuY3Rpb24gaW5uZXJQYXJzZSh1cmwpewogICAgICAgICQoIiNpZnJhbWUtcGxheWVyIikuYXR0cigic3JjIix1cmwpOwogICAgfQoKICAgIGZ1bmN0aW9uIEdNb3BlbkluVGFiKHVybCxvcGVuX2luX2JhY2tncm91bmQpewogICAgICAgIGlmKHR5cGVvZiBHTV9vcGVuSW5UYWIgPT09ICJmdW5jdGlvbiIpewogICAgICAgICAgICBHTV9vcGVuSW5UYWIodXJsLG9wZW5faW5fYmFja2dyb3VuZCk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIEdNLm9wZW5JblRhYih1cmwsb3Blbl9pbl9iYWNrZ3JvdW5kKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gR01nZXRWYWx1ZShuYW1lLHZhbHVlKXsKICAgICAgICBpZih0eXBlb2YgR01fZ2V0VmFsdWUgPT09ICJmdW5jdGlvbiIpewogICAgICAgICAgICByZXR1cm4gR01fZ2V0VmFsdWUobmFtZSx2YWx1ZSk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHJldHVybiBHTS5nZXRWYWx1ZShuYW1lLHZhbHVlKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gR01zZXRWYWx1ZShuYW1lLHZhbHVlKXsKICAgICAgICBpZih0eXBlb2YgR01fc2V0VmFsdWUgPT09ICJmdW5jdGlvbiIpewogICAgICAgICAgICBHTV9zZXRWYWx1ZShuYW1lLHZhbHVlKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgR00uc2V0VmFsdWUobmFtZSx2YWx1ZSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIEdNYWRkU3R5bGUoY3NzKXsKICAgICAgICB2YXIgbXlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgbXlTdHlsZS50ZXh0Q29udGVudCA9IGNzczsKICAgICAgICB2YXIgZG9jID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgZG9jLmFwcGVuZENoaWxkKG15U3R5bGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNob3dTZXR0aW5nKCl7CiAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ppZXhpLXNldHRpbmcnKSA9PSBudWxsKXsKICAgICAgICAgICAgR01hZGRTdHlsZShgCiAgICAgICAgICAgICAgICAgICAgICAgI2ppZXhpLXNldHRpbmcgbGVnZW5kLHRhYmxlLHRhYmxlIHRoLHRke3RleHQtYWxpZ246Y2VudGVyO30KICAgICAgICAgICAgICAgICAgICAgICBgKTsKICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICBjb250YWluZXIuaWQgPSAiamlleGktc2V0dGluZyI7CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZSA9ICJwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjIxNDc0ODM2NDc7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0b3A6MDtsZWZ0OjA7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuNSk7IjsKICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9CiAgICAgICAgICAgICAgICAiPGRpdiBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NTAwcHg7aGVpZ2h0OjMwMHB4O3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTI1MHB4O21hcmdpbi10b3A6LTE1MHB4O3BhZGRpbmc6MTBweDtiYWNrZ3JvdW5kLWNvbG9yOiMyNDI0MjQ7Y29sb3I6d2hpdGU7Zm9udC1zaXplOjE0cHg7Jz4iICsKICAgICAgICAgICAgICAgICI8ZGl2IGlkPSdjYW5jZWwtYnV0dG9uJyBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOi0xNXB4O3JpZ2h0Oi04cHg7Zm9udC1zaXplOjIwcHg7Y3Vyc29yOnBvaW50ZXI7Jz7ilbM8L2Rpdj4iICsKICAgICAgICAgICAgICAgICI8bGVnZW5kIHN0eWxlPSdmb250LXNpemU6MTZweDtjb2xvcjojZmZmO21hcmdpbjphdXRvOyc+VklQIOino+aekOiuvue9rjwvbGVnZW5kPiIgKwogICAgICAgICAgICAgICAgIjx0YWJsZSBpZD0naW50ZXJmYWNlLXRhYmxlJyBzdHlsZT0nbGluZS1oZWlnaHQ6MzBweDttYXJnaW46MCBhdXRvOyc+PHRyPjx0aD7mjqXlj6PlkI3np7A8L3RoPjx0aD7mjqXlj6PlnLDlnYA8L3RoPjx0aD7mjqXlj6Pnsbvlnos8L3RoPjx0aD7mk43kvZw8L3RoPjwvdHI+IiArCiAgICAgICAgICAgICAgICAiPHRyPjx0ZD48aW5wdXQgdHlwZT0ndGV4dCcgaWQ9J2ludGVyZmFjZS1uYW1lJyBuYW1lPSdpbnRlcmZhY2UtbmFtZScgcGxhY2Vob2xkZXI9J+aOpeWPo+aYvuekuuWQjeensCcgc3R5bGU9J2JvcmRlcjowO3dpZHRoOjEwMHB4O21hcmdpbi1yaWdodDoxMHB4Oyc+PC9pbnB1dD48L3RkPiIgKwogICAgICAgICAgICAgICAgIjx0ZD48aW5wdXQgdHlwZT0ndGV4dCcgaWQ9J2ludGVyZmFjZS11cmwnIG5hbWU9J2ludGVyZmFjZS11cmwnIHBsYWNlaG9sZGVyPSfmjqXlj6PlnLDlnYDlv4XpobvljIXlkKsgaHR0cCDmiJYgaHR0cHMnIHN0eWxlPSdib3JkZXI6MDt3aWR0aDoyMDBweDttYXJnaW4tcmlnaHQ6MTBweDsnPjwvaW5wdXQ+PC90ZD4iICsKICAgICAgICAgICAgICAgICI8dGQ+PGxhYmVsIHRpdGxlPSfnq5nlhoUnIHN0eWxlPSdtYXJnaW4tcmlnaHQ6NXB4Oyc+PGlucHV0IGlkPSdpbnRlcmZhY2UtdHlwZS1pbicgbmFtZT0naW50ZXJmYWNlLXR5cGUnIHZhbHVlPSfnq5nlhoUnIHR5cGU9J3JhZGlvJyBzdHlsZT0nbWFyZ2luOjAgNXB4Oyc+PC9pbnB1dD7nq5nlhoU8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgIjxsYWJlbCB0aXRsZT0n56uZ5aSWJyBzdHlsZT0nbWFyZ2luLXJpZ2h0OjEwcHg7Jz48aW5wdXQgaWQ9J2ludGVyZmFjZS10eXBlLW91dCcgbmFtZT0naW50ZXJmYWNlLXR5cGUnIHZhbHVlPSfnq5nlpJYnIHR5cGU9J3JhZGlvJyBzdHlsZT0nbWFyZ2luOjAgNXB4OycgY2hlY2tlZD48L2lucHV0PuermeWkljwvbGFiZWw+PC90ZD4iICsKICAgICAgICAgICAgICAgICI8dGQ+PGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J+WinuWKoCcgaWQ9J3NhdmVfYnV0dG9uJyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjEycHg7YmFja2dyb3VuZC1jb2xvcjojMjQyNDI0O2NvbG9yOndoaXRlO2JvcmRlcjoxcHggc29saWQgI2NjYztib3JkZXItcmFkaXVzOjVweDtwYWRkaW5nOjJweCA2cHg7Jz48L2lucHV0PjwvdGQ+PC90cj4iICsKICAgICAgICAgICAgICAgICI8L3RhYmxlPjwvZGl2PiI7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTsKICAgICAgICAgICAgaWYodXNlckludGVyZmFjZUxpc3QubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICB1c2VySW50ZXJmYWNlTGlzdC5mb3JFYWNoKChpdGVtLGluZGV4KT0+ewogICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmZhY2Vfcm93ID0gJCgiPHRyPjx0ZD4iICsgaXRlbS5uYW1lICsgIjwvdGQ+PHRkPiIgKyBpdGVtLnVybCArICI8L3RkPjx0ZD4iICsgaXRlbS50eXBlICsgIjwvdGQ+PHRkPjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSfliKDpmaQnIGNsYXNzPSdkZWxldGUtYnV0dG9uJyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjEycHg7YmFja2dyb3VuZC1jb2xvcjojMjQyNDI0O2NvbG9yOndoaXRlO2JvcmRlcjoxcHggc29saWQgI2NjYztib3JkZXItcmFkaXVzOjVweDtwYWRkaW5nOjJweCA2cHg7Jz48L2lucHV0PjwvdGQ+Iik7CiAgICAgICAgICAgICAgICAgICAgJCgiI2ludGVyZmFjZS10YWJsZSIpLmFwcGVuZChpbnRlcmZhY2Vfcm93KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICQoIiNjYW5jZWwtYnV0dG9uIikuY2xpY2soKCk9PnsKICAgICAgICAgICAgJCgiI2ppZXhpLXNldHRpbmciKS5yZW1vdmUoKTsKICAgICAgICB9KTsKICAgICAgICAkKCIjc2F2ZV9idXR0b24iKS5jbGljaygoKT0+ewogICAgICAgICAgICB2YXIgaW50ZXJmYWNlX25hbWUgPSAkKCJpbnB1dFtuYW1lPSdpbnRlcmZhY2UtbmFtZSddIikudmFsKCkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpOwogICAgICAgICAgICB2YXIgaW50ZXJmYWNlX3VybCA9ICQoImlucHV0W25hbWU9J2ludGVyZmFjZS11cmwnXSIpLnZhbCgpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKTsKICAgICAgICAgICAgdmFyIGludGVyZmFjZV90eXBlID0gJCgnaW5wdXRbbmFtZT0iaW50ZXJmYWNlLXR5cGUiXTpjaGVja2VkJykudmFsKCk7CiAgICAgICAgICAgIHZhciBzYXZlT3JOb3QgPSB0cnVlOwogICAgICAgICAgICBpZihpbnRlcmZhY2VfbmFtZSA9PSAiIil7CiAgICAgICAgICAgICAgICBhbGVydCgi6K+36L6T5YWl5o6l5Y+j5ZCN56ewIik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoaW50ZXJmYWNlX3VybCA9PSAiIil7CiAgICAgICAgICAgICAgICBhbGVydCgiIOivt+i+k+WFpeaOpeWPo+WcsOWdgCIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGludGVyZmFjZV91cmwuaW5kZXhPZigiaHR0cCIpICE9IDApewogICAgICAgICAgICAgICAgYWxlcnQoIiDor7fovpPlhaXku6UgaHR0cCDmiJYgaHR0cHMg5byA5aS055qE5o6l5Y+j5Zyw5Z2AIik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoaW50ZXJmYWNlX3R5cGUgPT0gIuermeWGhSIgJiYgaW50ZXJmYWNlX3VybC5pbmRleE9mKCJodHRwcyIpICE9IDApewogICAgICAgICAgICAgICAgYWxlcnQoIuermeWGheino+aekOWPquaUr+aMgeS7pSBodHRwcyDlvIDlpLTnmoTmjqXlj6PlnLDlnYDvvIzor7fkv67mlLnmjqXlj6PnsbvlnosiKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB1c2VySW50ZXJmYWNlTGlzdC5mb3JFYWNoKChpdGVtLGluZGV4KT0+ewogICAgICAgICAgICAgICAgaWYoaW50ZXJmYWNlX25hbWUgPT0gaXRlbS5uYW1lKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi5bey5a2Y5Zyo5ZCM5ZCN5o6l5Y+j77yM6K+35L+u5pS55o6l5Y+j5ZCN56ewIik7CiAgICAgICAgICAgICAgICAgICAgc2F2ZU9yTm90ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZihzYXZlT3JOb3QpewogICAgICAgICAgICAgICAgc2F2ZU9yTm90ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB2YXIgbmV3X2ludGVyZmFjZSA9IHsibmFtZSI6aW50ZXJmYWNlX25hbWUsInVybCI6aW50ZXJmYWNlX3VybCwidHlwZSI6aW50ZXJmYWNlX3R5cGV9OwogICAgICAgICAgICAgICAgdXNlckludGVyZmFjZUxpc3QucHVzaChuZXdfaW50ZXJmYWNlKTsKICAgICAgICAgICAgICAgIEdNc2V0VmFsdWUoInVzZXJfaW50ZXJmYWNlIix1c2VySW50ZXJmYWNlTGlzdCk7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgICQoIi5kZWxldGUtYnV0dG9uIikuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsKCk9PnsKICAgICAgICAgICAgICAgICB2YXIgZGVsZXRlX2l0ZW1fbmFtZSA9IGl0ZW0ucGFyZW50Tm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQuaW5uZXJIVE1MOwogICAgICAgICAgICAgICAgdXNlckludGVyZmFjZUxpc3QuZm9yRWFjaCgoaXRlbSxpbmRleCk9PnsKICAgICAgICAgICAgICAgICAgICBpZihkZWxldGVfaXRlbV9uYW1lID09IGl0ZW0ubmFtZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmZhY2VMaXN0LnNwbGljZShpbmRleCwxKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIEdNc2V0VmFsdWUoInVzZXJfaW50ZXJmYWNlIix1c2VySW50ZXJmYWNlTGlzdCk7CiAgICAgICAgICAgICAgICAkKGl0ZW0ucGFyZW50Tm9kZS5wYXJlbnROb2RlKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICQoImxpIikuZWFjaCgoaW5kZXgsbGlfaXRlbSk9PnsKICAgICAgICAgICAgICAgICAgICBpZihsaV9pdGVtLmlubmVySFRNTC5pbmRleE9mKGRlbGV0ZV9pdGVtX25hbWUpID4gLTEpewogICAgICAgICAgICAgICAgICAgICAgICAkKGxpX2l0ZW0pLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgi6Ieq5a6a5LmJIFZJUCDop4bpopHop6PmnpDmjqXlj6MiLHNob3dTZXR0aW5nKTsKICAgICAgICB1c2VySW50ZXJmYWNlTGlzdCA9IEdNZ2V0VmFsdWUoInVzZXJfaW50ZXJmYWNlIixbXSk7CiAgICAgICAgaWYodXNlckludGVyZmFjZUxpc3QubGVuZ3RoID4gMCl7CiAgICAgICAgICAgIHBhcnNlSW50ZXJmYWNlTGlzdCA9IHBhcnNlSW50ZXJmYWNlTGlzdC5jb25jYXQob3JpZ2luYWxJbnRlcmZhY2VMaXN0LHVzZXJJbnRlcmZhY2VMaXN0KTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgcGFyc2VJbnRlcmZhY2VMaXN0ID0gb3JpZ2luYWxJbnRlcmZhY2VMaXN0OwogICAgICAgIH0KICAgICAgICB2YXIgaW5uZXJMaXN0ID0gW10sb3V0ZXJMaXN0ID0gW107CiAgICAgICAgdmFyIGlubmVybGkgPSAiIixvdXRlcmxpID0gIiI7CiAgICAgICAgcGFyc2VJbnRlcmZhY2VMaXN0LmZvckVhY2goKGl0ZW0saW5kZXgpPT57CiAgICAgICAgICAgIGlmKGl0ZW0udHlwZSA9PSAi56uZ5YaFIil7CiAgICAgICAgICAgICAgICBpbm5lckxpc3QucHVzaChpdGVtKTsKICAgICAgICAgICAgICAgIGlubmVybGkgKz0gIjxsaT4iICsgaXRlbS5uYW1lICsgIjwvbGk+IjsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBvdXRlckxpc3QucHVzaChpdGVtKTsKICAgICAgICAgICAgICAgIG91dGVybGkgKz0gIjxsaT4iICsgaXRlbS5uYW1lICsgIjwvbGk+IjsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHBhcnNlSW50ZXJmYWNlTGlzdCA9IGlubmVyTGlzdC5jb25jYXQob3V0ZXJMaXN0KTsKICAgICAgICB2YXIgamlleGlESVYgPSAiPGRpdiBzdHlsZT0nZGlzcGxheTpmbGV4Oyc+PGRpdiBzdHlsZT0nd2lkdGg6MTgwcHg7cGFkZGluZzoxMHB4IDA7Jz48ZGl2IHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojY2NjY2NjO2xpbmUtaGVpZ2h0OjIwcHg7Jz7nq5nlhoXop6PmnpA8L2Rpdj4iICsKICAgICAgICAgICAgIjx1bCBzdHlsZT0nbWFyZ2luOjAgMTBweDsnPiIgKyBpbm5lcmxpICsgIjxkaXYgc3R5bGU9J2NsZWFyOmJvdGg7Jz48L2Rpdj48L3VsPjxkaXYgc3R5bGU9J3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOiNjY2NjY2M7bGluZS1oZWlnaHQ6MjBweDsnPuermeWkluino+aekDwvZGl2PiIgKwogICAgICAgICAgICAiPHVsIHN0eWxlPSdtYXJnaW46MCAxMHB4Oyc+IiArIG91dGVybGkgKyAiPGRpdiBzdHlsZT0nY2xlYXI6Ym90aDsnPjwvZGl2PjwvdWw+PC9kaXY+PGRpdiBzdHlsZT0nbWFyZ2luOmF1dG87Jz48aW1nIHN0eWxlPSd3aWR0aDoyMDBweDsnIHNyYz0naHR0cHM6Ly9kZXYudGVuY2VudC5jb20vdS9tb2ZpdGVyL3AvcHVibGljX2ZpbGVzL2dpdC9yYXcvbWFzdGVyL3Nob3cucG5nJz48L2Rpdj48L2Rpdj4iOwogICAgICAgIHZhciB2aWRlb1BsYXllciA9ICQoIjxkaXYgaWQ9J2lmcmFtZS1kaXYnIHN0eWxlPSd3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MjE0NzQ4MzY0NzsnPjxpZnJhbWUgaWQ9J2lmcmFtZS1wbGF5ZXInIGZyYW1lYm9yZGVyPScwJyBhbGxvd2Z1bGxzY3JlZW49J3RydWUnIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnPjwvaWZyYW1lPjwvZGl2PiIpOwogICAgICAgIGlmIChsb2NhdGlvbi5ocmVmLmluZGV4T2YoInd3dy5pcWl5aS5jb20iKSA+IC0xKXsKICAgICAgICAgICAgR01hZGRTdHlsZShgLmZuLWlxaXlpLWppZXhpIGxpe2NvbG9yOiNjY2NjY2M7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6NjBweDtsaW5lLWhlaWdodDoyMHB4O2Zsb2F0OmxlZnQ7Ym9yZGVyOjFweCBzb2xpZCBncmF5O2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmc6MCA0cHg7bWFyZ2luOjRweCAycHg7fWApOwogICAgICAgICAgICB2YXIgaXFpeWlfamlleGkgPSAkKCI8ZGl2IGNsYXNzPSdmdW5jLWl0ZW0nPjxzcGFuIGNsYXNzPSdmdW5jLWlubmVyIGZuLWlxaXlpLWppZXhpLXRleHQnIHN0eWxlPSdsaW5lLWhlaWdodDo0MHB4Oyc+PHNwYW4gY2xhc3M9J2Z1bmMtbmFtZSc+6Kej5p6QPC9zcGFuPjwvc3Bhbj4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiPGRpdiBjbGFzcz0ncXktZnVuYy1qaWV4aS1wb3AgZm4taXFpeWktamlleGknIHN0eWxlPSdkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotNTBweDt0ZXh0LWFsaWduOmNlbnRlcjt6LWluZGV4OjIxNDc0ODM2NDc7Jz48ZGl2IGNsYXNzPSdxeS1wb3B1cC1ib3gnIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOiMyZTJlMmU7Ym9yZGVyOjFweCBzb2xpZCBncmF5Oyc+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamlleGlESVYgKyAiPC9kaXY+PC9kaXY+PC9kaXY+Iik7CiAgICAgICAgICAgIHZhciBhZGRCdXR0b25Mb29wID0gc2V0SW50ZXJ2YWwoKCk9PnsKICAgICAgICAgICAgICAgIGlmKCQoIi5mdW5jLWxpa2UtdjEiKS5pcygiOnZpc2libGUiKSAmJiAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZm4taXFpeWktamlleGkiKVswXSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHF5X2ZsYXNoX2Z1bmMgPSAkKCIucXktZmxhc2gtZnVuYyIpOwogICAgICAgICAgICAgICAgICAgIHF5X2ZsYXNoX2Z1bmMucHJlcGVuZChpcWl5aV9qaWV4aSk7CiAgICAgICAgICAgICAgICAgICAgJCgiLmZuLWlxaXlpLWppZXhpLXRleHQiKS5jbGljaygoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWZyYW1lLXBsYXllciIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImN1cGlkLXB1YmxpYy10aW1lIilbMF0gIT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiY3VwaWQtcHVibGljLXRpbWUiKVswXS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZsYXNoYm94ID0gJCgiI2ZsYXNoYm94Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFzaGJveC5hdHRyKCJ6LWluZGV4IiwiNDAwIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFzaGJveC5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhc2hib3guYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpbm5lclBhcnNlKHBhcnNlSW50ZXJmYWNlTGlzdFswXS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAkKCIuZm4taXFpeWktamlleGkgbGkiKS5lYWNoKChpbmRleCxpdGVtKT0+ewogICAgICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdtb3VzZW92ZXInLCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY3Vyc29yJywncG9pbnRlcicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnIzAxYmUwNycpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5vbignbW91c2VvdXQnLCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY29sb3InLCcjY2NjY2NjJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdjbGljaycsKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udHlwZSA9PSAi56uZ5YaFIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlmcmFtZS1wbGF5ZXIiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImN1cGlkLXB1YmxpYy10aW1lIilbMF0gIT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJjdXBpZC1wdWJsaWMtdGltZSIpWzBdLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZsYXNoYm94ID0gJCgiI2ZsYXNoYm94Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXNoYm94LmF0dHIoInotaW5kZXgiLCI0MDAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhc2hib3guZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhc2hib3guYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR01vcGVuSW5UYWIocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhZGRCdXR0b25Mb29wKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwxMDAwKTsKICAgICAgICAgICAgaXFpeWlfamlleGkub24oIm1vdXNlb3ZlciIsKCk9PnsKICAgICAgICAgICAgICAgICQoIi5xeS1mdW5jLWppZXhpLXBvcCIpLnNob3coKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlxaXlpX2ppZXhpLm9uKCJtb3VzZW91dCIsKCk9PnsKICAgICAgICAgICAgICAgICQoIi5xeS1mdW5jLWppZXhpLXBvcCIpLmhpZGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBpcWl5aV9qaWV4aV9uZXcgPSAkKCI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0O2NvbG9yOiM5OTk7Y3Vyc29yOnBvaW50ZXI7Jz48c3BhbiBjbGFzcz0nZnVuYy1uYW1lJz7op6PmnpA8L3NwYW4+PC9kaXY+Iik7CiAgICAgICAgICAgIHZhciBmdW5jUmlnaHQgPSAkKCIuZnVuY1JpZ2h0Iik7CiAgICAgICAgICAgIGZ1bmNSaWdodC5wcmVwZW5kKGlxaXlpX2ppZXhpX25ldyk7CiAgICAgICAgICAgIGlxaXlpX2ppZXhpX25ldy5jbGljaygoKT0+ewogICAgICAgICAgICAgICAgdmFyIHZpcEZsb2F0YmdDbHMgPSAkKCIudmlwRmxvYXRiZ0NscyIpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgJCh2aXBGbG9hdGJnQ2xzKS5jc3MoImRpc3BsYXkiLCJub25lIik7CiAgICAgICAgICAgICAgICAkKCIuSl9wbGF5LXVuZGVyRnJhbWUiKS5jc3MoImRpc3BsYXkiLCJub25lIik7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ1c3JUeC1yZWdpc3RlciIpWzBdLnF1ZXJ5U2VsZWN0b3IoImEiKS5jbGljaygpCiAgICAgICAgICAgICAgICAkKCIjZmxhc2hib3giKS5lbXB0eSgpOwogICAgICAgICAgICAgICAgJCgiI2ZsYXNoYm94IikuYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlxaXlpX2ppZXhpX25ldy5vbigibW91c2VvdmVyIiwoKT0+ewogICAgICAgICAgICAgICAgaXFpeWlfamlleGlfbmV3LmNzcygiY29sb3IiLCIjNmJhNDMwIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpcWl5aV9qaWV4aV9uZXcub24oIm1vdXNlb3V0IiwoKT0+ewogICAgICAgICAgICAgICAgaXFpeWlfamlleGlfbmV3LmNzcygiY29sb3IiLCIjOTk5Iik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzZXRJbnRlcnZhbCgoKT0+ewogICAgICAgICAgICAgICAgaWYoJCgiLnF5LXBsYXllci12aXBwYXktcG9wdXAiKSAhPSBudWxsKXsKICAgICAgICAgICAgICAgICAgICB2YXIgcXlfcGxheWVyX3ZpcHBheV9wb3B1cCA9ICQoIi5xeS1wbGF5ZXItdmlwcGF5LXBvcHVwIikucGFyZW50KCk7CiAgICAgICAgICAgICAgICAgICAgJChxeV9wbGF5ZXJfdmlwcGF5X3BvcHVwKS5jc3MoImRpc3BsYXkiLCJub25lIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gJCgiYm9keSIpLmNoaWxkcmVuKCJkaXYiKTsKICAgICAgICAgICAgICAgIGRpdi5lYWNoKChpbmRleCxpdGVtKT0+ewogICAgICAgICAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJChpdGVtKS5jc3MoInBvc2l0aW9uIikgPT09ICJmaXhlZCIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1jYXRjaChlcnIpewogICAgICAgICAgICAgICAgICAgICAgICBteWxvZyhlcnIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LDUwMCk7CiAgICAgICAgfWVsc2UgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKCJ2LnFxLmNvbSIpID4gLTEpewogICAgICAgICAgICB2YXIgdHlwZV9uYW1lID0gdW5zYWZlV2luZG93LkNPVkVSX0lORk8udHlwZV9uYW1lOwogICAgICAgICAgICB2YXIgdmlwUGFnZSA9IHVuc2FmZVdpbmRvdy5DT1ZFUl9JTkZPLnZpcFBhZ2U7CiAgICAgICAgICAgIHZhciBtb2RfcGxheWVyOwogICAgICAgICAgICBpZih0eXBlX25hbWUgPT09ICLnlLXlvbEiKXsKICAgICAgICAgICAgICAgIHZhciBsaXN0X2l0ZW0gPSAkKCIubW9kX2ZpZ3VyZV9saXN0IC5saXN0X2l0ZW0iKTsKICAgICAgICAgICAgICAgIGxpc3RfaXRlbS5lYWNoKGZ1bmN0aW9uKGluZGV4LGl0ZW0pewogICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9LDEwMDApOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH1lbHNlIGlmKHR5cGVfbmFtZSA9PT0gIueUteinhuWJpyIgfHwgdHlwZV9uYW1lID09PSAi5Yqo5ryrIil7CiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0X2l0ZW1zID0gJCgnLm1vZF9lcGlzb2RlIC5pdGVtJyk7CiAgICAgICAgICAgICAgICBzZWxlY3RfaXRlbXMuZWFjaChmdW5jdGlvbihpbmRleCxpdGVtKXsKICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdmFyIG1vZF9lcGlzb2RlX2ZpbHRlciA9ICQoIi5tb2RfZXBpc29kZV9maWx0ZXIiKTsKICAgICAgICAgICAgICAgIG1vZF9lcGlzb2RlX2ZpbHRlci5jbGljaygoKT0+ewogICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RfaXRlbXMgPSAkKCcubW9kX2VwaXNvZGUgLml0ZW0nKTsKICAgICAgICAgICAgICAgICAgICBzZWxlY3RfaXRlbXMuZWFjaChmdW5jdGlvbihpbmRleCxpdGVtKXsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImFjdGlvbl9naWZ0IilbMF0pIHsgLy8g5Li65LqG6YG/5YWN5pi+56S656m66Ze05LiN6Laz77yM56e76Zmk6LWg54mH5oyJ6ZKuCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhY3Rpb25fZ2lmdCIpWzBdLnJlbW92ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhY3Rpb25fbW9yZSIpWzBdKSB7IC8vIOS4uuS6humBv+WFjeaYvuekuuepuumXtOS4jei2s++8jOenu+mZpOS4vuaKpeaMiemSrgogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYWN0aW9uX21vcmUiKVswXS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgYWN0aW9uX3dyYXAgPSAkKCIuYWN0aW9uX3dyYXAiKTsKICAgICAgICAgICAgR01hZGRTdHlsZShgLmZuLXFxLWppZXhpIGxpe3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjYwcHg7bGluZS1oZWlnaHQ6MjBweDtmbG9hdDpsZWZ0O2JvcmRlcjoxcHggc29saWQgZ3JheTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjAgNHB4O21hcmdpbjo0cHggMnB4O31gKTsKICAgICAgICAgICAgdmFyIHFxX2ppZXhpID0gJCgiPGRpdiBpZD0ncXEtamlleGktYnRuJyBjbGFzcz0nYWN0aW9uX2l0ZW0gYWN0aW9uX2ppZXhpJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmU7Jz48YSBjbGFzcz0nYWN0aW9uX3RpdGxlIGZuLXFxLWppZXhpLXRleHQnPjxzcGFuPuino+aekDwvc3Bhbj48L2E+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIjxkaXYgY2xhc3M9J21vZF9wb3BfYWN0aW9uIGZuLXFxLWppZXhpJyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMmUyZTJlO3dpZHRoOmF1dG87bGVmdDotNTBweDtib3JkZXI6MXB4IHNvbGlkIGdyYXk7Jz4iICsgamlleGlESVYgKyAiPC9kaXY+PC9kaXY+Iik7CiAgICAgICAgICAgIGFjdGlvbl93cmFwLmFwcGVuZChxcV9qaWV4aSk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxcS1qaWV4aS1idG4iKS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCgpPT57CiAgICAgICAgICAgICAgICAkKCIuYWN0aW9uX2ppZXhpIikudG9nZ2xlQ2xhc3MoIm9wZW4iKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxcS1qaWV4aS1idG4iKS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsKCk9PnsKICAgICAgICAgICAgICAgICQoIi5hY3Rpb25famlleGkiKS50b2dnbGVDbGFzcygib3BlbiIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZm4tcXEtamlleGktdGV4dCIpWzBdLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwoKT0+ewogICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlmcmFtZS1wbGF5ZXIiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICB2YXIgdHhwX2FkX3NraXBfdGV4dCA9ICQoIi50eHBfYWRfaW5uZXIgLnR4cF9hZF9za2lwX3RleHQiKTsKICAgICAgICAgICAgICAgICAgICBpZih0eHBfYWRfc2tpcF90ZXh0LnRleHQoKSA9PT0gIlZJUOWPr+WFs+mXreW5v+WRiiIpewogICAgICAgICAgICAgICAgICAgICAgICB0eHBfYWRfc2tpcF90ZXh0LmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIG1vZF9wbGF5ZXIgPSAkKCIjbW9kX3BsYXllciIpOwogICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIG1vZF9wbGF5ZXIuYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih0eHBfYWRfc2tpcF90ZXh0LnRleHQoKSA9PT0gIuWFs+mXreW5v+WRiiIpewogICAgICAgICAgICAgICAgICAgICAgICB0eHBfYWRfc2tpcF90ZXh0LmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodmlwUGFnZSA9PT0gdHJ1ZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eHBfYnRuX3BsYXkgPSAkKCIudHhwX2xlZnRfY29udHJvbHMgLnR4cF9idG5fcGxheSIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZih0eHBfYnRuX3BsYXkuYXR0cigiZGF0YS1zdGF0dXMiKSA9PT0gInBhdXNlIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eHBfYnRuX3BsYXkuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyID0gJCgiI21vZF9wbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgbW9kX3BsYXllci5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbMF0udXJsICsgbG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIuZm4tcXEtamlleGkgbGkiKS5lYWNoKChpbmRleCxpdGVtKT0+ewogICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2N1cnNvcicsJ3BvaW50ZXInKTsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY29sb3InLCcjZmU2NTI3Jyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnIzk5OTk5OScpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+ewogICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udHlwZSA9PSAi56uZ5YaFIil7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHhwX2FkX3NraXBfdGV4dCA9ICQoIi50eHBfYWRfaW5uZXIgLnR4cF9hZF9za2lwX3RleHQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR4cF9hZF9za2lwX3RleHQudGV4dCgpID09PSAiVklQ5Y+v5YWz6Zet5bm/5ZGKIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhwX2FkX3NraXBfdGV4dC5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZF9wbGF5ZXIgPSAkKCIjbW9kX3BsYXllciIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZF9wbGF5ZXIuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih0eHBfYWRfc2tpcF90ZXh0LnRleHQoKSA9PT0gIuWFs+mXreW5v+WRiiIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4cF9hZF9za2lwX3RleHQuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHZpcFBhZ2UgPT09IHRydWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eHBfYnRuX3BsYXkgPSAkKCIudHhwX2xlZnRfY29udHJvbHMgLnR4cF9idG5fcGxheSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR4cF9idG5fcGxheS5hdHRyKCJkYXRhLXN0YXR1cyIpID09PSAicGF1c2UiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhwX2J0bl9wbGF5LmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZF9wbGF5ZXIgPSAkKCIjbW9kX3BsYXllciIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZF9wbGF5ZXIuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RfcGxheWVyLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBHTW9wZW5JblRhYihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2V0SW50ZXJ2YWwoKCk9PnsKICAgICAgICAgICAgICAgICQoIi50dmlwX2xheWVyIikuY3NzKCJkaXNwbGF5Iiwibm9uZSIpOwogICAgICAgICAgICAgICAgJCgiI21hc2tfbGF5ZXIiKS5jc3MoImRpc3BsYXkiLCJub25lIik7CiAgICAgICAgICAgIH0sNTAwKTsKICAgICAgICB9ZWxzZSBpZihsb2NhdGlvbi5ocmVmLmluZGV4T2YoInYueW91a3UuY29tIikgPiAtMSl7CiAgICAgICAgICAgIHNldEludGVydmFsKCgpPT57CiAgICAgICAgICAgICAgICAkKCIueWstZG10eHRib3giKS5jc3MoIndpZHRoIiwiMzAwcHgiKTsKICAgICAgICAgICAgfSwxMDAwKTsKICAgICAgICAgICAgR01hZGRTdHlsZShgLmZuLXlvdWt1LWppZXhpIGxpe2NvbG9yOiNjY2NjY2M7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6NjBweDtsaW5lLWhlaWdodDoyMHB4O2Zsb2F0OmxlZnQ7Ym9yZGVyOjFweCBzb2xpZCBncmF5O2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmc6MCA0cHg7bWFyZ2luOjRweCAycHg7fWApOwogICAgICAgICAgICB2YXIgYnBtb2R1bGVfcGxheXBhZ2VfcGFjdGlvbiA9ICQoIiNicG1vZHVsZS1wbGF5cGFnZS1wYWN0aW9uIC5wbGF5LWZuIik7CiAgICAgICAgICAgIHZhciB5b3VrdV9qaWV4aSA9ICQoIjxsaSBjbGFzcz0nZm4tZG93bmxvYWQgZm4teW91a3UtamlleGknPjxzcGFuIGNsYXNzPSdmbi10aXRsZSc+PGkgY2xhc3M9J2ZuLWljb24nPjwvaT48L3NwYW4+PHNwYW4gY2xhc3M9J3RleHQgZm4teW91a3UtamlleGktdGV4dCc+6Kej5p6QPC9zcGFuPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICI8ZGl2IGNsYXNzPSdmbi1wYW5lbCcgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IzJlMmUyZTttaW4td2lkdGg6MTAwcHg7d2lkdGg6YXV0bztib3JkZXI6MXB4IHNvbGlkIGdyYXk7Jz4iICsgamlleGlESVYgKyAiPC9kaXY+PC9saT4iKTsKICAgICAgICAgICAgYnBtb2R1bGVfcGxheXBhZ2VfcGFjdGlvbi5hcHBlbmQoeW91a3VfamlleGkpOwogICAgICAgICAgICAkKCIuZm4teW91a3UtamlleGktdGV4dCIpLmNsaWNrKCgpPT57CiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWZyYW1lLXBsYXllciIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgIHZhciB5a1BsYXllciA9ICQoIiN5a1BsYXllciIpOwogICAgICAgICAgICAgICAgICAgIHlrUGxheWVyLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgeWtQbGF5ZXIuYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgICAgICAkKCIjbW9kdWxlX2Jhc2ljX3BsYXllciIpLmNzcygiaGVpZ2h0IiwiMTAwJSIpOwogICAgICAgICAgICAgICAgICAgIHZhciBwbGF5ZXIgPSAkKCIjcGxheWVyIik7CiAgICAgICAgICAgICAgICAgICAgcGxheWVyLmNzcygiaGVpZ2h0IiwiMTAwJSIpOwogICAgICAgICAgICAgICAgICAgIHBsYXllci5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgIHBsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbMF0udXJsICsgbG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIuZm4teW91a3UtamlleGkgbGkiKS5lYWNoKChpbmRleCxpdGVtKT0+ewogICAgICAgICAgICAgICAgJChpdGVtKS5vbignbW91c2VvdmVyJywoKT0+ewogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjdXJzb3InLCdwb2ludGVyJyk7CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnIzI1OTJmZicpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdtb3VzZW91dCcsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY29sb3InLCcjY2NjY2NjJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ2NsaWNrJywoKT0+ewogICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udHlwZSA9PSAi56uZ5YaFIil7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWtQbGF5ZXIgPSAkKCIjeWtQbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlrUGxheWVyLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5a1BsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiI21vZHVsZV9iYXNpY19wbGF5ZXIiKS5jc3MoImhlaWdodCIsIjEwMCUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbGF5ZXIgPSAkKCIjcGxheWVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuY3NzKCJoZWlnaHQiLCIxMDAlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgR01vcGVuSW5UYWIocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfWVsc2UgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKCJ3d3cubWd0di5jb20iKSA+IC0xKXsKICAgICAgICAgICAgR01hZGRTdHlsZShgLmZuLW1ndHYtamlleGkgbGl7Y29sb3I6I2NjY2NjYzt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDo2MHB4O2xpbmUtaGVpZ2h0OjIwcHg7ZmxvYXQ6bGVmdDtib3JkZXI6MXB4IHNvbGlkIGdyYXk7Ym9yZGVyLXJhZGl1czo4cHg7cGFkZGluZzowIDRweDttYXJnaW46NHB4IDJweDt9YCk7CiAgICAgICAgICAgIHZhciB2X3BhbmVsX2JveCA9ICQoIi52LXBhbmVsLWJveCIpOwogICAgICAgICAgICB2YXIgbWd0dl9qaWV4aSA9ICQoIjxkaXYgY2xhc3M9J3YtcGFuZWwtbW9kIGZuLW1ndHYtamlleGknIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjsnPjxhIGNsYXNzPSd2LXBhbmVsLXN1Ym1vZCBmbi1tZ3R2LWppZXhpLXRleHQnPuino+aekDwvYT4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICI8ZGl2IGNsYXNzPSdleHRlbmQnIHN0eWxlPSd0b3A6LTVweDtsZWZ0Oi01MHB4O3RleHQtYWxpZ246Y2VudGVyO3Bvc2l0aW9uOnJlbGF0aXZlOyc+PGRpdiBjbGFzcz0ndi1wYW5lbC1leHRlbmQnPjxkaXYgY2xhc3M9J2ZuLXBhbmVsJyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMmUyZTJlO3dpZHRoOmF1dG87Ym9yZGVyOjFweCBzb2xpZCBncmF5Oyc+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqaWV4aURJViArICI8L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4iKTsKICAgICAgICAgICAgdl9wYW5lbF9ib3guYXBwZW5kKG1ndHZfamlleGkpOwogICAgICAgICAgICBtZ3R2X2ppZXhpLm9uKCJtb3VzZW92ZXIiLCgpPT57CiAgICAgICAgICAgICAgICAkKCIuZm4tbWd0di1qaWV4aSAuZXh0ZW5kIikuc2hvdygpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbWd0dl9qaWV4aS5vbigibW91c2VvdXQiLCgpPT57CiAgICAgICAgICAgICAgICAkKCIuZm4tbWd0di1qaWV4aSAuZXh0ZW5kIikuaGlkZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiLmZuLW1ndHYtamlleGktdGV4dCIpLmNsaWNrKCgpPT57CiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWZyYW1lLXBsYXllciIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgIHZhciBtZ3R2X3BsYXllcl93cmFwID0gJCgiI21ndHYtcGxheWVyLXdyYXAiKTsKICAgICAgICAgICAgICAgICAgICBtZ3R2X3BsYXllcl93cmFwLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgbWd0dl9wbGF5ZXJfd3JhcC5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbMF0udXJsICsgbG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIuZm4tbWd0di1qaWV4aSBsaSIpLmVhY2goKGluZGV4LGl0ZW0pPT57CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdtb3VzZW92ZXInLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnI2ZmNmYwMCcpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdtb3VzZW91dCcsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY29sb3InLCcjY2NjY2NjJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ2NsaWNrJywoKT0+ewogICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udHlwZSA9PSAi56uZ5YaFIil7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWd0dl9wbGF5ZXJfd3JhcCA9ICQoIiNtZ3R2LXBsYXllci13cmFwIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZ3R2X3BsYXllcl93cmFwLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZ3R2X3BsYXllcl93cmFwLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBHTW9wZW5JblRhYihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIHNlbGVjdGVkX2l0ZW1zID0gJCgiLmFzaWRlLXRhYmJveCBsaSIpOwogICAgICAgICAgICBzZWxlY3RlZF9pdGVtcy5lYWNoKGZ1bmN0aW9uKGluZGV4LGl0ZW0pewogICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PnsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIH0sMTAwMCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfWVsc2UgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKCJ0di5zb2h1LmNvbSIpID4gLTEpewogICAgICAgICAgICBHTWFkZFN0eWxlKGAuZm4tc29odS1qaWV4aSBsaXtjb2xvcjojY2NjY2NjO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjYwcHg7bGluZS1oZWlnaHQ6MjBweDtmbG9hdDpsZWZ0O2JvcmRlcjoxcHggc29saWQgZ3JheTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjAgNHB4O21hcmdpbjo0cHggMnB4O31gKTsKICAgICAgICAgICAgdmFyIHZCb3hfcmlnaHQgPSAkKCIudkJveC1yaWdodCIpOwogICAgICAgICAgICB2YXIgc29odV9qaWV4aSA9ICQoIjxkaXYgY2xhc3M9J3ZCb3ggdkJveC1wbGF5Jz48YSBjbGFzcz0ndmJ0bic+6Kej5p6QPC9hPjxkaXYgY2xhc3M9J3ZDb250IGZuLXNvaHUtamlleGknIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOiMyZTJlMmU7Ym9yZGVyOjFweCBzb2xpZCBncmF5O3BhZGRpbmc6MDt3aWR0aDphdXRvO21hcmdpbjowIDAgMCAtNjBweDtsaW5lLWhlaWdodDoyNXB4Oyc+IiArIGppZXhpRElWICsgIjwvZGl2PjwvZGl2PiIpOwogICAgICAgICAgICB2Qm94X3JpZ2h0LnByZXBlbmQoc29odV9qaWV4aSk7CiAgICAgICAgICAgIHNvaHVfamlleGkuY2xpY2soKCk9PnsKICAgICAgICAgICAgICAgICQoIi5mbi1zb2h1LWppZXhpIikudG9nZ2xlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIuZm4tc29odS1qaWV4aSBsaSIpLmVhY2goKGluZGV4LGl0ZW0pPT57CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdtb3VzZW92ZXInLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2N1cnNvcicsJ3BvaW50ZXInKTsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY29sb3InLCcjZTMzYzMwJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ21vdXNlb3V0JywoKT0+ewogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjb2xvcicsJyNjY2NjY2MnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJChpdGVtKS5vbignY2xpY2snLCgpPT57CiAgICAgICAgICAgICAgICAgICAgaWYocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS50eXBlID09ICLnq5nlhoUiKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlmcmFtZS1wbGF5ZXIiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbGF5ZXJfdmlwVGlwcyA9ICQoIiNwbGF5ZXJfdmlwVGlwcyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX3ZpcFRpcHMuY3NzKCJkaXNwbGF5Iiwibm9uZSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI21lbnUiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc29odXBsYXllciA9ICQoIiNzb2h1cGxheWVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29odXBsYXllci5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvaHVwbGF5ZXIuYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbGF5ZXIgPSAkKCIjcGxheWVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQYXJzZShwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBHTW9wZW5JblRhYihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnVybCArIGxvY2F0aW9uLmhyZWYsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSBpZihsb2NhdGlvbi5ocmVmLmluZGV4T2YoImZpbG0uc29odS5jb20iKSA+IC0xKXsKICAgICAgICAgICAgR01hZGRTdHlsZShgLmZuLXNvaHUtamlleGkgbGl7Y29sb3I6I2NjY2NjYzt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDo2MHB4O2xpbmUtaGVpZ2h0OjIwcHg7ZmxvYXQ6bGVmdDtib3JkZXI6MXB4IHNvbGlkIGdyYXk7Ym9yZGVyLXJhZGl1czo4cHg7cGFkZGluZzowIDRweDttYXJnaW46NHB4IDJweDt9YCk7CiAgICAgICAgICAgIHZhciBwbGF5ZXJfY29udGVudF9pbmZvID0gJCgiLnBsYXllci1jb250ZW50LWluZm8iKTsKICAgICAgICAgICAgdmFyIHNvaHVfZmlsbV9qaWV4aSA9ICQoIjxkaXYgY2xhc3M9J2FjdGlvbi1pdGVtJz48YSBjbGFzcz0nYWN0aW9uLXRpdGxlIGZuLXNvaHUtamlleGktdGV4dCc+PHNwYW4gY2xhc3M9J2ljby10ZXh0Jz7op6PmnpA8L3NwYW4+PGkgY2xhc3M9J2ljby1kb3duJz48L2k+PC9hPjxkaXYgY2xhc3M9J2hvdmVyLWNvbnRlbnQgZm4tc29odS1qaWV4aScgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IzJlMmUyZTtib3JkZXI6MXB4IHNvbGlkIGdyYXk7d2lkdGg6YXV0bzt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tbGVmdDotNjFweDsnPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqaWV4aURJViArICI8L2Rpdj48L2Rpdj4iKTsKICAgICAgICAgICAgcGxheWVyX2NvbnRlbnRfaW5mby5wcmVwZW5kKHNvaHVfZmlsbV9qaWV4aSk7CiAgICAgICAgICAgIHNvaHVfZmlsbV9qaWV4aS5vbigibW91c2VvdmVyIiwoKT0+ewogICAgICAgICAgICAgICAgJCgiLmZuLXNvaHUtamlleGkiKS5zaG93KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzb2h1X2ZpbG1famlleGkub24oIm1vdXNlb3V0IiwoKT0+ewogICAgICAgICAgICAgICAgJCgiLmZuLXNvaHUtamlleGkiKS5oaWRlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIuZm4tc29odS1qaWV4aS10ZXh0IikuY2xpY2soKCk9PnsKICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXllcldyYXAgPSAkKCIjcGxheWVyV3JhcCIpOwogICAgICAgICAgICAgICAgICAgIHBsYXllcldyYXAuZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICBwbGF5ZXJXcmFwLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpbm5lclBhcnNlKHBhcnNlSW50ZXJmYWNlTGlzdFswXS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi5mbi1zb2h1LWppZXhpIGxpIikuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ21vdXNlb3ZlcicsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY3Vyc29yJywncG9pbnRlcicpOwogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjb2xvcicsJyNlZTNjM2EnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJChpdGVtKS5vbignbW91c2VvdXQnLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnI2NjY2NjYycpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdjbGljaycsKCk9PnsKICAgICAgICAgICAgICAgICAgICBpZihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnR5cGUgPT0gIuermeWGhSIpewogICAgICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWZyYW1lLXBsYXllciIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXllcldyYXAgPSAkKCIjcGxheWVyV3JhcCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyV3JhcC5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyV3JhcC5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgR01vcGVuSW5UYWIocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfWVsc2UgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKCJ3d3cubGUuY29tIikgPiAtMSl7CiAgICAgICAgICAgIEdNYWRkU3R5bGUoYC5mbi1sZS1qaWV4aSBsaXtjb2xvcjojY2NjY2NjO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjYwcHg7bGluZS1oZWlnaHQ6MjBweDtmbG9hdDpsZWZ0O2JvcmRlcjoxcHggc29saWQgZ3JheTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjAgNHB4O21hcmdpbjo0cHggMnB4O31gKTsKICAgICAgICAgICAgdmFyIGludGVyYWN0X2FyZWEgPSAkKCIuaW50ZXJhY3RfYXJlYSIpOwogICAgICAgICAgICB2YXIgbGVfamlleGkgPSAkKCI8bGk+PGEgY2xhc3M9J2ZuLWxlLWppZXhpLXRleHQnPjxzcGFuPuino+aekDwvc3Bhbj48L2E+PGRpdiBjbGFzcz0nZm4tbGUtamlleGknIHN0eWxlPSdkaXNwbGF5Om5vbmU7YmFja2dyb3VuZC1jb2xvcjojMmUyZTJlO2JvcmRlcjoxcHggc29saWQgZ3JheTt3aWR0aDphdXRvO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0NXB4O2xlZnQ6LTQwcHg7Ym9yZGVyLXRvcDoycHggc29saWQgI0U0MjExMjtib3gtc2hhZG93OjAgMnB4IDZweCAwIHJnYmEoMCwwLDAsLjEpOyc+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamlleGlESVYgKyAiPC9kaXY+PC9saT4iKTsKICAgICAgICAgICAgaW50ZXJhY3RfYXJlYS5wcmVwZW5kKGxlX2ppZXhpKTsKICAgICAgICAgICAgbGVfamlleGkub24oIm1vdXNlb3ZlciIsKCk9PnsKICAgICAgICAgICAgICAgICQoIi5mbi1sZS1qaWV4aSIpLnNob3coKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGxlX2ppZXhpLm9uKCJtb3VzZW91dCIsKCk9PnsKICAgICAgICAgICAgICAgICQoIi5mbi1sZS1qaWV4aSIpLmhpZGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi5mbi1sZS1qaWV4aS10ZXh0IikuY2xpY2soKCk9PnsKICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxlX3BsYXlib3ggPSAkKCIjbGVfcGxheWJveCIpOwogICAgICAgICAgICAgICAgICAgIGxlX3BsYXlib3guZW1wdHkoKTsKICAgICAgICAgICAgICAgICAgICBsZV9wbGF5Ym94LmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpbm5lclBhcnNlKHBhcnNlSW50ZXJmYWNlTGlzdFswXS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi5mbi1sZS1qaWV4aSBsaSIpLmVhY2goKGluZGV4LGl0ZW0pPT57CiAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnaGVpZ2h0JywnMjVweCcpOwogICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ3BhZGRpbmcnLCcwIDVweCcpOwogICAgICAgICAgICAgICAgJChpdGVtKS5vbignbW91c2VvdmVyJywoKT0+ewogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjb2xvcicsJyNlNDIwMTMnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJChpdGVtKS5vbignbW91c2VvdXQnLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2NvbG9yJywnI2NjY2NjYycpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdjbGljaycsKCk9PnsKICAgICAgICAgICAgICAgICAgICBpZihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnR5cGUgPT0gIuermeWGhSIpewogICAgICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWZyYW1lLXBsYXllciIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlX3BsYXlib3ggPSAkKCIjbGVfcGxheWJveCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVfcGxheWJveC5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVfcGxheWJveC5hcHBlbmQodmlkZW9QbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUGFyc2UocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgR01vcGVuSW5UYWIocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS51cmwgKyBsb2NhdGlvbi5ocmVmLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfWVsc2UgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKCJ2aWRlby50dWRvdS5jb20iKSA+IC0xKXsKICAgICAgICAgICAgR01hZGRTdHlsZShgLmZuLXR1ZG91LWppZXhpIGxpe2NvbG9yOiNjY2NjY2M7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6NjBweDtsaW5lLWhlaWdodDoyMHB4O2Zsb2F0OmxlZnQ7Ym9yZGVyOjFweCBzb2xpZCBncmF5O2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmc6MCA0cHg7bWFyZ2luOjRweCAycHg7fWApOwogICAgICAgICAgICB2YXIgdGRfaW50ZXJhY3Rib3ggPSAkKCIudGQtaW50ZXJhY3Rib3hfX2ZuLS1yaWdodCIpOwogICAgICAgICAgICB2YXIgdHVkb3VfamlleGkgPSAkKCI8ZGl2IGNsYXNzPSd0ZC1pbnRlcmFjdGJveF9fZm5fX2l0ZW0nPjxkaXYgY2xhc3M9J2Ryb3Bkb3duJz48ZGl2IGNsYXNzPSd0dWRvdS1qaWV4aS10ZXh0JyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7Y29sb3I6I2ZmZjsnPuino+aekDwvZGl2PjxkaXYgY2xhc3M9J2Ryb3Bkb3duX19wYW5lbCBmbi10dWRvdS1qaWV4aScgc3R5bGU9J2JvcmRlcjowO3RleHQtYWxpZ246Y2VudGVyOyc+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIjxkaXYgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IzJlMmUyZTtib3JkZXI6MXB4IHNvbGlkIGdyYXk7d2lkdGg6YXV0bztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTBweDtsZWZ0Oi0xMDAlOyc+IiArIGppZXhpRElWICsgIjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PiIpOwogICAgICAgICAgICB0ZF9pbnRlcmFjdGJveC5wcmVwZW5kKHR1ZG91X2ppZXhpKTsKICAgICAgICAgICAgdHVkb3VfamlleGkub24oIm1vdXNlb3ZlciIsKCk9PnsKICAgICAgICAgICAgICAgICQoIi50dWRvdS1qaWV4aS10ZXh0IikuY3NzKCJjb2xvciIsIiNlZjZmMmUiKTsKICAgICAgICAgICAgICAgICQoIi5mbi10dWRvdS1qaWV4aSIpLnNob3coKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHR1ZG91X2ppZXhpLm9uKCJtb3VzZW91dCIsKCk9PnsKICAgICAgICAgICAgICAgICQoIi50dWRvdS1qaWV4aS10ZXh0IikuY3NzKCJjb2xvciIsIiNmZmYiKTsKICAgICAgICAgICAgICAgICQoIi5mbi10dWRvdS1qaWV4aSIpLmhpZGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi50dWRvdS1qaWV4aS10ZXh0IikuY2xpY2soKCk9PnsKICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZnJhbWUtcGxheWVyIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIGpzX3BsYXllciA9ICQoIi50ZC1wbGF5Ym94Iik7CiAgICAgICAgICAgICAgICAgICAganNfcGxheWVyLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAganNfcGxheWVyLmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpbm5lclBhcnNlKHBhcnNlSW50ZXJmYWNlTGlzdFswXS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi5mbi10dWRvdS1qaWV4aSBsaSIpLmVhY2goKGluZGV4LGl0ZW0pPT57CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCdtb3VzZW92ZXInLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ2N1cnNvcicsJ3BvaW50ZXInKTsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygnY29sb3InLCcjZWY2ZjJlJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oJ21vdXNlb3V0JywoKT0+ewogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdjb2xvcicsJyNjY2NjY2MnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJChpdGVtKS5vbignY2xpY2snLCgpPT57CiAgICAgICAgICAgICAgICAgICAgaWYocGFyc2VJbnRlcmZhY2VMaXN0W2luZGV4XS50eXBlID09ICLnq5nlhoUiKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlmcmFtZS1wbGF5ZXIiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc19wbGF5ZXIgPSAkKCIudGQtcGxheWJveCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAganNfcGxheWVyLmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc19wbGF5ZXIuYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpbm5lclBhcnNlKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udXJsICsgbG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNb3BlbkluVGFiKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udXJsICsgbG9jYXRpb24uaHJlZixmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH1lbHNlIGlmKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigidi5wcHR2LmNvbSIpID4gLTEpewogICAgICAgICAgICBHTWFkZFN0eWxlKGAKICAgICAgICAgICAgICAgICAgICAgICAjZm4tcHB0di1qaWV4aSBsaXt3aWR0aDphdXRvO2NvbG9yOiNjY2NjY2M7YmFja2dyb3VuZDowO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjYwcHg7bGluZS1oZWlnaHQ6MjBweDtmbG9hdDpsZWZ0O2JvcmRlcjoxcHggc29saWQgZ3JheTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjAgNHB4O21hcmdpbjo0cHggMnB4O30KICAgICAgICAgICAgICAgICAgICAgICAjZm4tcHB0di1qaWV4aSB7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MHB4O3dpZHRoOmF1dG87dGV4dC1hbGlnbjpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjojMmUyZTJlO2JvcmRlcjoxcHggc29saWQgZ3JheTt9CiAgICAgICAgICAgICAgICAgICAgICAgYCk7CiAgICAgICAgICAgIHZhciBtb2R1bGVfdmlkZW8yMDE2X29wcyA9ICQoIi5tb2R1bGUtdmlkZW8yMDE2LW9wcyB1bCIpOwogICAgICAgICAgICB2YXIgcHB0dl9qaWV4aSA9ICQoIjxsaSBpZD0ncHB0di1qaWV4aS1idG4nPjxhIGNsYXNzPSdwcHR2X2ppZXhpLXRleHQnIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjsnPjxpIGNsYXNzPSdpYzQnPjwvaT7op6PmnpA8L2E+PGRpdiBpZD0nZm4tcHB0di1qaWV4aSc+IiArIGppZXhpRElWICsgIjwvZGl2PjwvbGk+Iik7CiAgICAgICAgICAgIG1vZHVsZV92aWRlbzIwMTZfb3BzLnByZXBlbmQocHB0dl9qaWV4aSk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcHR2LWppZXhpLWJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsKCk9PnsKICAgICAgICAgICAgICAgICQoIiNmbi1wcHR2LWppZXhpIikuc2hvdygpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBwdHYtamlleGktYnRuIikuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCgpPT57CiAgICAgICAgICAgICAgICAkKCIjZm4tcHB0di1qaWV4aSIpLmhpZGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInBwdHZfamlleGktdGV4dCIpWzBdLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwoKT0+ewogICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlmcmFtZS1wbGF5ZXIiKSA9PSBudWxsKXsKICAgICAgICAgICAgICAgICAgICB2YXIgcHB0dl9wbGF5cGFnZV9ib3ggPSAkKCIjcHB0dl9wbGF5cGFnZV9ib3giKTsKICAgICAgICAgICAgICAgICAgICBwcHR2X3BsYXlwYWdlX2JveC5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgIHBwdHZfcGxheXBhZ2VfYm94LmFwcGVuZCh2aWRlb1BsYXllcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpbm5lclBhcnNlKHBhcnNlSW50ZXJmYWNlTGlzdFswXS51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIiNmbi1wcHR2LWppZXhpIGxpIikuZWFjaCgoaW5kZXgsaXRlbSk9PnsKICAgICAgICAgICAgICAgICQoaXRlbSkub24oIm1vdXNlb3ZlciIsKCk9PnsKICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcygiY3Vyc29yIiwicG9pbnRlciIpOwogICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCJjb2xvciIsIiMzMzk5ZmYiKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJChpdGVtKS5vbigibW91c2VvdXQiLCgpPT57CiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoImNvbG9yIiwiI2NjY2NjYyIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKGl0ZW0pLm9uKCJjbGljayIsKCk9PnsKICAgICAgICAgICAgICAgICAgICBpZihwYXJzZUludGVyZmFjZUxpc3RbaW5kZXhdLnR5cGUgPT0gIuermeWGhSIpewogICAgICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWZyYW1lLXBsYXllciIpID09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBwdHZfcGxheXBhZ2VfYm94ID0gJCgiI3BwdHZfcGxheXBhZ2VfYm94Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcHR2X3BsYXlwYWdlX2JveC5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHB0dl9wbGF5cGFnZV9ib3guYXBwZW5kKHZpZGVvUGxheWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpbm5lclBhcnNlKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udXJsICsgbG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNb3BlbkluVGFiKHBhcnNlSW50ZXJmYWNlTGlzdFtpbmRleF0udXJsICsgbG9jYXRpb24uaHJlZixmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0sMzAwMCk7Cn0pKCk7","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js","ts":1582364134220,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2MS4xMi40IHwgKGMpIGpRdWVyeSBGb3VuZGF0aW9uIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEuZG9jdW1lbnQ/YihhLCEwKTpmdW5jdGlvbihhKXtpZighYS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gYihhKX06YihhKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1jLnNsaWNlLGY9Yy5jb25jYXQsZz1jLnB1c2gsaD1jLmluZGV4T2YsaT17fSxqPWkudG9TdHJpbmcsaz1pLmhhc093blByb3BlcnR5LGw9e30sbT0iMS4xMi40IixuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBuLmZuLmluaXQoYSxiKX0sbz0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2cscD0vXi1tcy0vLHE9Ly0oW1xkYS16XSkvZ2kscj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O24uZm49bi5wcm90b3R5cGU9e2pxdWVyeTptLGNvbnN0cnVjdG9yOm4sc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmUuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW4ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZWFjaCh0aGlzLGEpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpnLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG4uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oZT1hcmd1bWVudHNbaF0pKWZvcihkIGluIGUpYT1nW2RdLGM9ZVtkXSxnIT09YyYmKGomJmMmJihuLmlzUGxhaW5PYmplY3QoYyl8fChiPW4uaXNBcnJheShjKSkpPyhiPyhiPSExLGY9YSYmbi5pc0FycmF5KGEpP2E6W10pOmY9YSYmbi5pc1BsYWluT2JqZWN0KGEpP2E6e30sZ1tkXT1uLmV4dGVuZChqLGYsYykpOnZvaWQgMCE9PWMmJihnW2RdPWMpKTtyZXR1cm4gZ30sbi5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iYXJyYXkiPT09bi50eXBlKGEpfSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXt2YXIgYj1hJiZhLnRvU3RyaW5nKCk7cmV0dXJuIW4uaXNBcnJheShhKSYmYi1wYXJzZUZsb2F0KGIpKzE+PTB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtpZighYXx8Im9iamVjdCIhPT1uLnR5cGUoYSl8fGEubm9kZVR5cGV8fG4uaXNXaW5kb3coYSkpcmV0dXJuITE7dHJ5e2lmKGEuY29uc3RydWN0b3ImJiFrLmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIWsuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWlmKCFsLm93bkZpcnN0KWZvcihiIGluIGEpcmV0dXJuIGsuY2FsbChhLGIpO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxrLmNhbGwoYSxiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aVtqLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZuLnRyaW0oYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTA7aWYocyhhKSl7Zm9yKGM9YS5sZW5ndGg7Yz5kO2QrKylpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoZCBpbiBhKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjooYSsiIikucmVwbGFjZShvLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLCJzdHJpbmciPT10eXBlb2YgYT9bYV06YSk6Zy5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKGgpcmV0dXJuIGguY2FsbChiLGEsYyk7Zm9yKGQ9Yi5sZW5ndGgsYz1jPzA+Yz9NYXRoLm1heCgwLGQrYyk6YzowO2Q+YztjKyspaWYoYyBpbiBiJiZiW2NdPT09YSlyZXR1cm4gY31yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7d2hpbGUoYz5kKWFbZSsrXT1iW2QrK107aWYoYyE9PWMpd2hpbGUodm9pZCAwIT09YltkXSlhW2UrK109YltkKytdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGc9MCxoPVtdO2lmKHMoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5nO2crKyllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihnIGluIGEpZT1iKGFbZ10sZyxjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGYuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGImJihmPWFbYl0sYj1hLGE9Ziksbi5pc0Z1bmN0aW9uKGEpPyhjPWUuY2FsbChhcmd1bWVudHMsMiksZD1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsYy5jb25jYXQoZS5jYWxsKGFyZ3VtZW50cykpKX0sZC5ndWlkPWEuZ3VpZD1hLmd1aWR8fG4uZ3VpZCsrLGQpOnZvaWQgMH0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxzdXBwb3J0Omx9KSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYobi5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2lbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gcyhhKXt2YXIgYj0hIWEmJiJsZW5ndGgiaW4gYSYmYS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2EoKSx6PWdhKCksQT1nYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTD0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTT0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLE49IlxcWyIrTCsiKigiK00rIikoPzoiK0wrIiooWypeJHwhfl0/PSkiK0wrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitNKyIpKXwpIitMKyIqXFxdIixPPSI6KCIrTSsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrTisiKSopfC4qKVxcKXwpIixQPW5ldyBSZWdFeHAoTCsiKyIsImciKSxRPW5ldyBSZWdFeHAoIl4iK0wrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTCsiKyQiLCJnIiksUj1uZXcgUmVnRXhwKCJeIitMKyIqLCIrTCsiKiIpLFM9bmV3IFJlZ0V4cCgiXiIrTCsiKihbPit+XXwiK0wrIikiK0wrIioiKSxUPW5ldyBSZWdFeHAoIj0iK0wrIiooW15cXF0nXCJdKj8pIitMKyIqXFxdIiwiZyIpLFU9bmV3IFJlZ0V4cChPKSxWPW5ldyBSZWdFeHAoIl4iK00rIiQiKSxXPXtJRDpuZXcgUmVnRXhwKCJeIygiK00rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK04pLFBTRVVETzpuZXcgUmVnRXhwKCJeIitPKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK0wrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK0wrIiooPzooWystXXwpIitMKyIqKFxcZCspfCkpIitMKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitLKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTCsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitMKyIqKCg/Oi1cXGQpP1xcZCopIitMKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxYPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWT0vXmhcZCQvaSxaPS9eW157XStce1xzKlxbbmF0aXZlIFx3LywkPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sXz0vWyt+XS8sYWE9Lyd8XFwvZyxiYT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0wrIj98KCIrTCsiKXwuKSIsImlnIiksY2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGRhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmEoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3PWImJmIub3duZXJEb2N1bWVudCx4PWI/Yi5ub2RlVHlwZTo5O2lmKGQ9ZHx8W10sInN0cmluZyIhPXR5cGVvZiBhfHwhYXx8MSE9PXgmJjkhPT14JiYxMSE9PXgpcmV0dXJuIGQ7aWYoIWUmJigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixwKSl7aWYoMTEhPT14JiYobz0kLmV4ZWMoYSkpKWlmKGY9b1sxXSl7aWYoOT09PXgpe2lmKCEoaj1iLmdldEVsZW1lbnRCeUlkKGYpKSlyZXR1cm4gZDtpZihqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZSBpZih3JiYoaj13LmdldEVsZW1lbnRCeUlkKGYpKSYmdChiLGopJiZqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZXtpZihvWzJdKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoZj1vWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZikpLGR9aWYoYy5xc2EmJiFBW2ErIiAiXSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYoMSE9PXgpdz1iLHM9YTtlbHNlIGlmKCJvYmplY3QiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXsoaz1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/az1rLnJlcGxhY2UoYWEsIlxcJCYiKTpiLnNldEF0dHJpYnV0ZSgiaWQiLGs9dSkscj1nKGEpLGg9ci5sZW5ndGgsbD1WLnRlc3Qoayk/IiMiK2s6IltpZD0nIitrKyInXSI7d2hpbGUoaC0tKXJbaF09bCsiICIrcWEocltoXSk7cz1yLmpvaW4oIiwiKSx3PV8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8Yn1pZihzKXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbChzKSksZH1jYXRjaCh5KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUSwiJDEiKSxiLGQsZSl9ZnVuY3Rpb24gZ2EoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjKyIgIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrIiAiXT1lfXJldHVybiBifWZ1bmN0aW9uIGhhKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gaWEoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYShhLGIpe3ZhciBjPWEuc3BsaXQoInwiKSxlPWMubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbWEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PWN8fCJidXR0b24iPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBoYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9hKGEpe3JldHVybiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1mYS5zdXBwb3J0PXt9LGY9ZmEuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiPyJIVE1MIiE9PWIubm9kZU5hbWU6ITF9LG09ZmEuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZSxnPWE/YS5vd25lckRvY3VtZW50fHxhOnY7cmV0dXJuIGchPT1uJiY5PT09Zy5ub2RlVHlwZSYmZy5kb2N1bWVudEVsZW1lbnQ/KG49ZyxvPW4uZG9jdW1lbnRFbGVtZW50LHA9IWYobiksKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixkYSkpLGMuYXR0cmlidXRlcz1pYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVoudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImlkIik9PT1ifX0pOihkZWxldGUgZC5maW5kLklELGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPSJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOmMucXNhP2IucXVlcnlTZWxlY3RvckFsbChhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKCIqIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1aLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD0iPGEgaWQ9JyIrdSsiJz48L2E+PHNlbGVjdCBpZD0nIit1KyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGEucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnEucHVzaCgiWypeJF09IitMKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHEucHVzaCgiXFxbIitMKyIqKD86dmFsdWV8IitLKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrdSsiLV0iKS5sZW5ndGh8fHEucHVzaCgifj0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrdSsiKyoiKS5sZW5ndGh8fHEucHVzaCgiLiMuK1srfl0iKX0pLGlhKGZ1bmN0aW9uKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrTCsiKlsqXiR8IX5dPz0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPVoudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmaWEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiZGl2Iikscy5jYWxsKGEsIltzIT0nJ106eCIpLHIucHVzaCgiIT0iLE8pfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oInwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oInwiKSksYj1aLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxaLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGthKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9rYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZmEubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYShhLG51bGwsbnVsbCxiKX0sZmEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFQsIj0nJDEnXSIpLGMubWF0Y2hlc1NlbGVjdG9yJiZwJiYhQVtiKyIgIl0mJighcnx8IXIudGVzdChiKSkmJighcXx8IXEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGZhKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGZhLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZmEuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkQuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGZhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZmEudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1mYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpoYSxtYXRjaDpXLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoYmEsY2EpLGFbM109KGFbM118fGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGJhLGNhKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmEuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZmEuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFcuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8IiI6YyYmVS50ZXN0KGMpJiYoYj1nKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrTCsiKSIrYSsiKCIrTCsifCQpIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmEuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UucmVwbGFjZShQLCIgIikrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPSJvbmx5Ij09PWEmJiFvJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLCIiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2hhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1KKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmhhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShRLCIkMSIpKTtyZXR1cm4gZFt1XT9oYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmEoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoYmEsY2EpLGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8ZShiKSkuaW5kZXhPZihhKT4tMX19KSxsYW5nOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBWLnRlc3QoYXx8IiIpfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIithKSxhPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPXA/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxiLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhKyItIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09b30sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1uLmFjdGl2ZUVsZW1lbnQmJighbi5oYXNGb2N1c3x8bi5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmISFhLmNoZWNrZWR8fCJvcHRpb24iPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmImJ1dHRvbiI9PT1hLnR5cGV8fCJidXR0b24iPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4iaW5wdXQiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bmEoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Om5hKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpuYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6bmEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpuYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bGEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bWEoYik7ZnVuY3Rpb24gcGEoKXt9cGEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBwYSxnPWZhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpe2MmJiEoZT1SLmV4ZWMoaCkpfHwoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1XW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmEuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHJhKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJihjJiYhYyhmLGQsZSl8fChnLnB1c2goZiksaiYmYi5wdXNoKGgpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHwiKiIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXVhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtyYShzYShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdmEoaT4xJiZzYShtKSxpPjEmJnFhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09YVtpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoUSwiJDEiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9IjAiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKCIqIixrKSx5PXcrPW51bGw9PXY/MTpNYXRoLnJhbmRvbSgpfHwuMSx6PXgubGVuZ3RoO2ZvcihrJiYoaj1nPT09bnx8Z3x8ayk7cyE9PXomJm51bGwhPShsPXhbc10pO3MrKyl7aWYoZSYmbCl7bz0wLGd8fGwub3duZXJEb2N1bWVudD09PW58fChtKGwpLGg9IXApO3doaWxlKHE9YVtvKytdKWlmKHEobCxnfHxuLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9eSl9YyYmKChsPSFxJiZsKSYmci0tLGYmJnQucHVzaChsKSl9aWYocis9cyxjJiZzIT09cil7bz0wO3doaWxlKHE9YltvKytdKXEodCx1LGcsaCk7aWYoZil7aWYocj4wKXdoaWxlKHMtLSl0W3NdfHx1W3NdfHwodVtzXT1GLmNhbGwoaSkpO3U9dWEodSl9SC5hcHBseShpLHUpLGsmJiFmJiZ1Lmxlbmd0aD4wJiZyK2IubGVuZ3RoPjEmJmZhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXksaj12KSx0fTtyZXR1cm4gYz9oYShmKTpmfXJldHVybiBoPWZhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErIiAiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1XLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksXy50ZXN0KGpbMF0udHlwZSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYShqKSwhYSlyZXR1cm4gSC5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSwhYnx8Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGphKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGphKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlU29ydD1uLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sdj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sdz1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHg9L148KFtcdy1dKylccypcLz8+KD86PFwvXDE+fCkkLyx5PS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih5LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBuLmluQXJyYXkoYSxiKT4tMSE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPVtdLGQ9dGhpcyxlPWQubGVuZ3RoO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2U+YjtiKyspaWYobi5jb250YWlucyhkW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7ZT5iO2IrKyluLmZpbmQoYSxkW2JdLGMpO3JldHVybiBjPXRoaXMucHVzaFN0YWNrKGU+MT9uLnVuaXF1ZShjKTpjKSxjLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrYTphLGN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEheih0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8sQz1uLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxBLCJzdHJpbmciPT10eXBlb2YgYSl7aWYoZT0iPCI9PT1hLmNoYXJBdCgwKSYmIj4iPT09YS5jaGFyQXQoYS5sZW5ndGgtMSkmJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06Qi5leGVjKGEpLCFlfHwhZVsxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fGMpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGVbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChlWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmQsITApKSx4LnRlc3QoZVsxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoZSBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2VdKT90aGlzW2VdKGJbZV0pOnRoaXMuYXR0cihlLGJbZV0pO3JldHVybiB0aGlzfWlmKGY9ZC5nZXRFbGVtZW50QnlJZChlWzJdKSxmJiZmLnBhcmVudE5vZGUpe2lmKGYuaWQhPT1lWzJdKXJldHVybiBBLmZpbmQoYSk7dGhpcy5sZW5ndGg9MSx0aGlzWzBdPWZ9cmV0dXJuIHRoaXMuY29udGV4dD1kLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpPyJ1bmRlZmluZWQiIT10eXBlb2YgYy5yZWFkeT9jLnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0MucHJvdG90eXBlPW4uZm4sQT1uKGQpO3ZhciBEPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYixjPW4oYSx0aGlzKSxkPWMubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7ZD5iO2IrKylpZihuLmNvbnRhaW5zKHRoaXMsY1tiXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dy50ZXN0KGEpfHwic3RyaW5nIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlU29ydChmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP24uaW5BcnJheSh0aGlzWzBdLG4oYSkpOm4uaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWVTb3J0KG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEYoYSxiKXtkbyBhPWFbYl07d2hpbGUoYSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gdigoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIHYoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYSwiaWZyYW1lIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDpuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihFW2FdfHwoZT1uLnVuaXF1ZVNvcnQoZSkpLEQudGVzdChhKSYmKGU9ZS5yZXZlcnNlKCkpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRz0vXFMrL2c7ZnVuY3Rpb24gSChhKXt2YXIgYj17fTtyZXR1cm4gbi5lYWNoKGEubWF0Y2goRyl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9bi5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT0ic3RyaW5nIj09dHlwZW9mIGE/SChhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmPVtdLGc9W10saD0tMSxpPWZ1bmN0aW9uKCl7Zm9yKGU9YS5vbmNlLGQ9Yj0hMDtnLmxlbmd0aDtoPS0xKXtjPWcuc2hpZnQoKTt3aGlsZSgrK2g8Zi5sZW5ndGgpZltoXS5hcHBseShjWzBdLGNbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2UmJihoPWYubGVuZ3RoLGM9ITEpfWEubWVtb3J5fHwoYz0hMSksYj0hMSxlJiYoZj1jP1tdOiIiKX0saj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihjJiYhYiYmKGg9Zi5sZW5ndGgtMSxnLnB1c2goYykpLGZ1bmN0aW9uIGQoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXtuLmlzRnVuY3Rpb24oYyk/YS51bmlxdWUmJmouaGFzKGMpfHxmLnB1c2goYyk6YyYmYy5sZW5ndGgmJiJzdHJpbmciIT09bi50eXBlKGMpJiZkKGMpfSl9KGFyZ3VtZW50cyksYyYmIWImJmkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixmLGMpKT4tMSlmLnNwbGljZShjLDEpLGg+PWMmJmgtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxmKT4tMTpmLmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBmJiYoZj1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sZj1jPSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZT0hMCxjfHxqLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfSxuLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpXV0sYz0icGVuZGluZyIsZD17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuLkRlZmVycmVkKGZ1bmN0aW9uKGMpe24uZWFjaChiLGZ1bmN0aW9uKGIsZil7dmFyIGc9bi5pc0Z1bmN0aW9uKGFbYl0pJiZhW2JdO2VbZlsxXV0oZnVuY3Rpb24oKXt2YXIgYT1nJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhjLm5vdGlmeSkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpOmNbZlswXSsiV2l0aCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdKyJXaXRoIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1lLmNhbGwoYXJndW1lbnRzKSxkPWMubGVuZ3RoLGY9MSE9PWR8fGEmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2Q6MCxnPTE9PT1mP2E6bi5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ZS5jYWxsKGFyZ3VtZW50cyk6ZCxjPT09aT9nLm5vdGlmeVdpdGgoYixjKTotLWZ8fGcucmVzb2x2ZVdpdGgoYixjKX19LGksaixrO2lmKGQ+MSlmb3IoaT1uZXcgQXJyYXkoZCksaj1uZXcgQXJyYXkoZCksaz1uZXcgQXJyYXkoZCk7ZD5iO2IrKyljW2JdJiZuLmlzRnVuY3Rpb24oY1tiXS5wcm9taXNlKT9jW2JdLnByb21pc2UoKS5wcm9ncmVzcyhoKGIsaixpKSkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCk6LS1mO3JldHVybiBmfHxnLnJlc29sdmVXaXRoKGssYyksZy5wcm9taXNlKCl9fSk7dmFyIEk7bi5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gbi5yZWFkeS5wcm9taXNlKCkuZG9uZShhKSx0aGlzfSxuLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9uLnJlYWR5V2FpdCsrOm4ucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tbi5yZWFkeVdhaXQ6bi5pc1JlYWR5KXx8KG4uaXNSZWFkeT0hMCxhIT09ITAmJi0tbi5yZWFkeVdhaXQ+MHx8KEkucmVzb2x2ZVdpdGgoZCxbbl0pLG4uZm4udHJpZ2dlckhhbmRsZXImJihuKGQpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpLG4oZCkub2ZmKCJyZWFkeSIpKSkpfX0pO2Z1bmN0aW9uIEooKXtkLmFkZEV2ZW50TGlzdGVuZXI/KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixLKSk6KGQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5kZXRhY2hFdmVudCgib25sb2FkIixLKSl9ZnVuY3Rpb24gSygpeyhkLmFkZEV2ZW50TGlzdGVuZXJ8fCJsb2FkIj09PWEuZXZlbnQudHlwZXx8ImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZSkmJihKKCksbi5yZWFkeSgpKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7aWYoIUkpaWYoST1uLkRlZmVycmVkKCksImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09ZC5yZWFkeVN0YXRlJiYhZC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpYS5zZXRUaW1lb3V0KG4ucmVhZHkpO2Vsc2UgaWYoZC5hZGRFdmVudExpc3RlbmVyKWQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixLKTtlbHNle2QuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5hdHRhY2hFdmVudCgib25sb2FkIixLKTt2YXIgYz0hMTt0cnl7Yz1udWxsPT1hLmZyYW1lRWxlbWVudCYmZC5kb2N1bWVudEVsZW1lbnR9Y2F0Y2goZSl7fWMmJmMuZG9TY3JvbGwmJiFmdW5jdGlvbiBmKCl7aWYoIW4uaXNSZWFkeSl7dHJ5e2MuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChiKXtyZXR1cm4gYS5zZXRUaW1lb3V0KGYsNTApfUooKSxuLnJlYWR5KCl9fSgpfXJldHVybiBJLnByb21pc2UoYil9LG4ucmVhZHkucHJvbWlzZSgpO3ZhciBMO2ZvcihMIGluIG4obCkpYnJlYWs7bC5vd25GaXJzdD0iMCI9PT1MLGwuaW5saW5lQmxvY2tOZWVkc0xheW91dD0hMSxuKGZ1bmN0aW9uKCl7dmFyIGEsYixjLGU7Yz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sYyYmYy5zdHlsZSYmKGI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsYy5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZChiKSwidW5kZWZpbmVkIiE9dHlwZW9mIGIuc3R5bGUuem9vbSYmKGIuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsbC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWE9Mz09PWIub2Zmc2V0V2lkdGgsYSYmKGMuc3R5bGUuem9vbT0xKSksYy5yZW1vdmVDaGlsZChlKSl9KSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5kZWxldGVFeHBhbmRvPSEwO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKGIpe2wuZGVsZXRlRXhwYW5kbz0hMX1hPW51bGx9KCk7dmFyIE09ZnVuY3Rpb24oYSl7dmFyIGI9bi5ub0RhdGFbKGEubm9kZU5hbWUrIiAiKS50b0xvd2VyQ2FzZSgpXSxjPSthLm5vZGVUeXBlfHwxO3JldHVybiAxIT09YyYmOSE9PWM/ITE6IWJ8fGIhPT0hMCYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKT09PWJ9LE49L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpe3ZhciBkPSJkYXRhLSIrYi5yZXBsYWNlKE8sIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9bi5kYXRhKGEsYixjKX1lbHNlIGM9dm9pZCAwOwp9cmV0dXJuIGN9ZnVuY3Rpb24gUShhKXt2YXIgYjtmb3IoYiBpbiBhKWlmKCgiZGF0YSIhPT1ifHwhbi5pc0VtcHR5T2JqZWN0KGFbYl0pKSYmInRvSlNPTiIhPT1iKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFIoYSxiLGQsZSl7aWYoTShhKSl7dmFyIGYsZyxoPW4uZXhwYW5kbyxpPWEubm9kZVR5cGUsaj1pP24uY2FjaGU6YSxrPWk/YVtoXTphW2hdJiZoO2lmKGsmJmpba10mJihlfHxqW2tdLmRhdGEpfHx2b2lkIDAhPT1kfHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIGt8fChrPWk/YVtoXT1jLnBvcCgpfHxuLmd1aWQrKzpoKSxqW2tdfHwoaltrXT1pP3t9Ont0b0pTT046bi5ub29wfSksIm9iamVjdCIhPXR5cGVvZiBiJiYiZnVuY3Rpb24iIT10eXBlb2YgYnx8KGU/altrXT1uLmV4dGVuZChqW2tdLGIpOmpba10uZGF0YT1uLmV4dGVuZChqW2tdLmRhdGEsYikpLGc9altrXSxlfHwoZy5kYXRhfHwoZy5kYXRhPXt9KSxnPWcuZGF0YSksdm9pZCAwIT09ZCYmKGdbbi5jYW1lbENhc2UoYildPWQpLCJzdHJpbmciPT10eXBlb2YgYj8oZj1nW2JdLG51bGw9PWYmJihmPWdbbi5jYW1lbENhc2UoYildKSk6Zj1nLGZ9fWZ1bmN0aW9uIFMoYSxiLGMpe2lmKE0oYSkpe3ZhciBkLGUsZj1hLm5vZGVUeXBlLGc9Zj9uLmNhY2hlOmEsaD1mP2Fbbi5leHBhbmRvXTpuLmV4cGFuZG87aWYoZ1toXSl7aWYoYiYmKGQ9Yz9nW2hdOmdbaF0uZGF0YSkpe24uaXNBcnJheShiKT9iPWIuY29uY2F0KG4ubWFwKGIsbi5jYW1lbENhc2UpKTpiIGluIGQ/Yj1bYl06KGI9bi5jYW1lbENhc2UoYiksYj1iIGluIGQ/W2JdOmIuc3BsaXQoIiAiKSksZT1iLmxlbmd0aDt3aGlsZShlLS0pZGVsZXRlIGRbYltlXV07aWYoYz8hUShkKTohbi5pc0VtcHR5T2JqZWN0KGQpKXJldHVybn0oY3x8KGRlbGV0ZSBnW2hdLmRhdGEsUShnW2hdKSkpJiYoZj9uLmNsZWFuRGF0YShbYV0sITApOmwuZGVsZXRlRXhwYW5kb3x8ZyE9Zy53aW5kb3c/ZGVsZXRlIGdbaF06Z1toXT12b2lkIDApfX19bi5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7ImFwcGxldCAiOiEwLCJlbWJlZCAiOiEwLCJvYmplY3QgIjoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIn0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLm5vZGVUeXBlP24uY2FjaGVbYVtuLmV4cGFuZG9dXTphW24uZXhwYW5kb10sISFhJiYhUShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFIoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFMoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBSKGEsYixjLCEwKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyhhLGIsITApfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9bi5kYXRhKGYpLDE9PT1mLm5vZGVUeXBlJiYhbi5fZGF0YShmLCJwYXJzZWRBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFAoZixkLGVbZF0pKSk7bi5fZGF0YShmLCJwYXJzZWRBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhKX0pOmFyZ3VtZW50cy5sZW5ndGg+MT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhLGIpfSk6Zj9QKGYsYSxuLmRhdGEoZixhKSk6dm9pZCAwfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1uLl9kYXRhKGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1uLl9kYXRhKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gbi5fZGF0YShhLGMpfHxuLl9kYXRhKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7bi5fcmVtb3ZlRGF0YShhLGIrInF1ZXVlIiksbi5fcmVtb3ZlRGF0YShhLGMpfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSljPW4uX2RhdGEoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSksZnVuY3Rpb24oKXt2YXIgYTtsLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXtpZihudWxsIT1hKXJldHVybiBhO2E9ITE7dmFyIGIsYyxlO3JldHVybiBjPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxjJiZjLnN0eWxlPyhiPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGMuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoYiksInVuZGVmaW5lZCIhPXR5cGVvZiBiLnN0eWxlLnpvb20mJihiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLGIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUud2lkdGg9IjVweCIsYT0zIT09Yi5vZmZzZXRXaWR0aCksYy5yZW1vdmVDaGlsZChlKSxhKTp2b2lkIDB9fSgpO3ZhciBUPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK1QrIikoW2EteiVdKikkIiwiaSIpLFY9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxXPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX07ZnVuY3Rpb24gWChhLGIsYyxkKXt2YXIgZSxmPTEsZz0yMCxoPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZC5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gbi5jc3MoYSxiLCIiKX0saT1oKCksaj1jJiZjWzNdfHwobi5jc3NOdW1iZXJbYl0/IiI6InB4Iiksaz0obi5jc3NOdW1iZXJbYl18fCJweCIhPT1qJiYraSkmJlUuZXhlYyhuLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fCIuNSIsay89ZixuLnN0eWxlKGEsYixrK2opO3doaWxlKGYhPT0oZj1oKCkvaSkmJjEhPT1mJiYtLWcpfXJldHVybiBjJiYoaz0ra3x8K2l8fDAsZT1jWzFdP2srKGNbMV0rMSkqY1syXTorY1syXSxkJiYoZC51bml0PWosZC5zdGFydD1rLGQuZW5kPWUpKSxlfXZhciBZPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoIm9iamVjdCI9PT1uLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYylZKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9LFo9L14oPzpjaGVja2JveHxyYWRpbykkL2ksJD0vPChbXHc6LV0rKS8sXz0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksYWE9L15ccysvLGJhPSJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZGlhbG9nfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1haW58bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHBpY3R1cmV8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRlbXBsYXRlfHRpbWV8dmlkZW8iO2Z1bmN0aW9uIGNhKGEpe3ZhciBiPWJhLnNwbGl0KCJ8IiksYz1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihjLmNyZWF0ZUVsZW1lbnQpd2hpbGUoYi5sZW5ndGgpYy5jcmVhdGVFbGVtZW50KGIucG9wKCkpO3JldHVybiBjfSFmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTthLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixsLmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1hLmZpcnN0Q2hpbGQubm9kZVR5cGUsbC50Ym9keT0hYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsbC5odG1sU2VyaWFsaXplPSEhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxsLmh0bWw1Q2xvbmU9Ijw6bmF2PjwvOm5hdj4iIT09ZC5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCxjLnR5cGU9ImNoZWNrYm94IixjLmNoZWNrZWQ9ITAsYi5hcHBlbmRDaGlsZChjKSxsLmFwcGVuZENoZWNrZWQ9Yy5jaGVja2VkLGEuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixsLm5vQ2xvbmVDaGVja2VkPSEhYS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsYi5hcHBlbmRDaGlsZChhKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksYy5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksYy5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0IiksYS5hcHBlbmRDaGlsZChjKSxsLmNoZWNrQ2xvbmU9YS5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsbC5ub0Nsb25lRXZlbnQ9ISFhLmFkZEV2ZW50TGlzdGVuZXIsYVtuLmV4cGFuZG9dPTEsbC5hdHRyaWJ1dGVzPSFhLmdldEF0dHJpYnV0ZShuLmV4cGFuZG8pfSgpO3ZhciBkYT17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLHBhcmFtOlsxLCI8b2JqZWN0PiIsIjwvb2JqZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6bC5odG1sU2VyaWFsaXplP1swLCIiLCIiXTpbMSwiWDxkaXY+IiwiPC9kaXY+Il19O2RhLm9wdGdyb3VwPWRhLm9wdGlvbixkYS50Ym9keT1kYS50Zm9vdD1kYS5jb2xncm91cD1kYS5jYXB0aW9uPWRhLnRoZWFkLGRhLnRoPWRhLnRkO2Z1bmN0aW9uIGVhKGEsYil7dmFyIGMsZCxlPTAsZj0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOnZvaWQgMDtpZighZilmb3IoZj1bXSxjPWEuY2hpbGROb2Rlc3x8YTtudWxsIT0oZD1jW2VdKTtlKyspIWJ8fG4ubm9kZU5hbWUoZCxiKT9mLnB1c2goZCk6bi5tZXJnZShmLGVhKGQsYikpO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sZik6Zn1mdW5jdGlvbiBmYShhLGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YVtkXSk7ZCsrKW4uX2RhdGEoYywiZ2xvYmFsRXZhbCIsIWJ8fG4uX2RhdGEoYltkXSwiZ2xvYmFsRXZhbCIpKX12YXIgZ2E9Lzx8JiM/XHcrOy8saGE9Lzx0Ym9keS9pO2Z1bmN0aW9uIGlhKGEpe1oudGVzdChhLnR5cGUpJiYoYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWQpfWZ1bmN0aW9uIGphKGEsYixjLGQsZSl7Zm9yKHZhciBmLGcsaCxpLGosayxtLG89YS5sZW5ndGgscD1jYShiKSxxPVtdLHI9MDtvPnI7cisrKWlmKGc9YVtyXSxnfHwwPT09ZylpZigib2JqZWN0Ij09PW4udHlwZShnKSluLm1lcmdlKHEsZy5ub2RlVHlwZT9bZ106Zyk7ZWxzZSBpZihnYS50ZXN0KGcpKXtpPWl8fHAuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksaj0oJC5leGVjKGcpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLG09ZGFbal18fGRhLl9kZWZhdWx0LGkuaW5uZXJIVE1MPW1bMV0rbi5odG1sUHJlZmlsdGVyKGcpK21bMl0sZj1tWzBdO3doaWxlKGYtLSlpPWkubGFzdENoaWxkO2lmKCFsLmxlYWRpbmdXaGl0ZXNwYWNlJiZhYS50ZXN0KGcpJiZxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShhYS5leGVjKGcpWzBdKSksIWwudGJvZHkpe2c9InRhYmxlIiE9PWp8fGhhLnRlc3QoZyk/Ijx0YWJsZT4iIT09bVsxXXx8aGEudGVzdChnKT8wOmk6aS5maXJzdENoaWxkLGY9ZyYmZy5jaGlsZE5vZGVzLmxlbmd0aDt3aGlsZShmLS0pbi5ub2RlTmFtZShrPWcuY2hpbGROb2Rlc1tmXSwidGJvZHkiKSYmIWsuY2hpbGROb2Rlcy5sZW5ndGgmJmcucmVtb3ZlQ2hpbGQoayl9bi5tZXJnZShxLGkuY2hpbGROb2RlcyksaS50ZXh0Q29udGVudD0iIjt3aGlsZShpLmZpcnN0Q2hpbGQpaS5yZW1vdmVDaGlsZChpLmZpcnN0Q2hpbGQpO2k9cC5sYXN0Q2hpbGR9ZWxzZSBxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShnKSk7aSYmcC5yZW1vdmVDaGlsZChpKSxsLmFwcGVuZENoZWNrZWR8fG4uZ3JlcChlYShxLCJpbnB1dCIpLGlhKSxyPTA7d2hpbGUoZz1xW3IrK10paWYoZCYmbi5pbkFycmF5KGcsZCk+LTEpZSYmZS5wdXNoKGcpO2Vsc2UgaWYoaD1uLmNvbnRhaW5zKGcub3duZXJEb2N1bWVudCxnKSxpPWVhKHAuYXBwZW5kQ2hpbGQoZyksInNjcmlwdCIpLGgmJmZhKGkpLGMpe2Y9MDt3aGlsZShnPWlbZisrXSlfLnRlc3QoZy50eXBlfHwiIikmJmMucHVzaChnKX1yZXR1cm4gaT1udWxsLHB9IWZ1bmN0aW9uKCl7dmFyIGIsYyxlPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGIgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSljPSJvbiIrYiwobFtiXT1jIGluIGEpfHwoZS5zZXRBdHRyaWJ1dGUoYywidCIpLGxbYl09ZS5hdHRyaWJ1dGVzW2NdLmV4cGFuZG89PT0hMSk7ZT1udWxsfSgpO3ZhciBrYT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksbGE9L15rZXkvLG1hPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxuYT0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sb2E9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHBhKCl7cmV0dXJuITB9ZnVuY3Rpb24gcWEoKXtyZXR1cm4hMX1mdW5jdGlvbiByYSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gc2EoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoIm9iamVjdCI9PXR5cGVvZiBiKXsic3RyaW5nIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpc2EoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoInN0cmluZyI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9cWE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1uLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPW4uX2RhdGEoYSk7aWYocil7Yy5oYW5kbGVyJiYoaT1jLGM9aS5oYW5kbGVyLGU9aS5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoZz1yLmV2ZW50cyl8fChnPXIuZXZlbnRzPXt9KSwoaz1yLmhhbmRsZSl8fChrPXIuaGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygbnx8YSYmbi5ldmVudC50cmlnZ2VyZWQ9PT1hLnR5cGU/dm9pZCAwOm4uZXZlbnQuZGlzcGF0Y2guYXBwbHkoay5lbGVtLGFyZ3VtZW50cyl9LGsuZWxlbT1hKSxiPShifHwiIikubWF0Y2goRyl8fFsiIl0saD1iLmxlbmd0aDt3aGlsZShoLS0pZj1vYS5leGVjKGJbaF0pfHxbXSxvPXE9ZlsxXSxwPShmWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2ouZGVsZWdhdGVUeXBlOmouYmluZFR5cGUpfHxvLGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxsPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9LGkpLChtPWdbb10pfHwobT1nW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGouc2V0dXAmJmouc2V0dXAuY2FsbChhLGQscCxrKSE9PSExfHwoYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihvLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitvLGspKSksai5hZGQmJihqLmFkZC5jYWxsKGEsbCksbC5oYW5kbGVyLmd1aWR8fChsLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsbCk6bS5wdXNoKGwpLG4uZXZlbnQuZ2xvYmFsW29dPSEwKTthPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9bi5oYXNEYXRhKGEpJiZuLl9kYXRhKGEpO2lmKHImJihrPXIuZXZlbnRzKSl7Yj0oYnx8IiIpLm1hdGNoKEcpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9b2EuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8pe2w9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLG09a1tvXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitwLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGk9Zj1tLmxlbmd0aDt3aGlsZShmLS0pZz1tW2ZdLCFlJiZxIT09Zy5vcmlnVHlwZXx8YyYmYy5ndWlkIT09Zy5ndWlkfHxoJiYhaC50ZXN0KGcubmFtZXNwYWNlKXx8ZCYmZCE9PWcuc2VsZWN0b3ImJigiKioiIT09ZHx8IWcuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxnLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGcpKTtpJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGtbb10pfWVsc2UgZm9yKG8gaW4gayluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChrKSYmKGRlbGV0ZSByLmhhbmRsZSxuLl9yZW1vdmVEYXRhKGEsImV2ZW50cyIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGcsaCxpLGosbCxtLG8scD1bZXx8ZF0scT1rLmNhbGwoYiwidHlwZSIpP2IudHlwZTpiLHI9ay5jYWxsKGIsIm5hbWVzcGFjZSIpP2IubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoaT1tPWU9ZXx8ZCwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJiFuYS50ZXN0KHErbi5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKCIuIik+LTEmJihyPXEuc3BsaXQoIi4iKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaD1xLmluZGV4T2YoIjoiKTwwJiYib24iK3EsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChxLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9Zj8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKCIuIiksYi5ybmFtZXNwYWNlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1lKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxsPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZnx8IWwudHJpZ2dlcnx8bC50cmlnZ2VyLmFwcGx5KGUsYykhPT0hMSkpe2lmKCFmJiYhbC5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZSkpe2ZvcihqPWwuZGVsZWdhdGVUeXBlfHxxLG5hLnRlc3QoaitxKXx8KGk9aS5wYXJlbnROb2RlKTtpO2k9aS5wYXJlbnROb2RlKXAucHVzaChpKSxtPWk7bT09PShlLm93bmVyRG9jdW1lbnR8fGQpJiZwLnB1c2gobS5kZWZhdWx0Vmlld3x8bS5wYXJlbnRXaW5kb3d8fGEpfW89MDt3aGlsZSgoaT1wW28rK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWIudHlwZT1vPjE/ajpsLmJpbmRUeXBlfHxxLGc9KG4uX2RhdGEoaSwiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZuLl9kYXRhKGksImhhbmRsZSIpLGcmJmcuYXBwbHkoaSxjKSxnPWgmJmlbaF0sZyYmZy5hcHBseSYmTShpKSYmKGIucmVzdWx0PWcuYXBwbHkoaSxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO2lmKGIudHlwZT1xLCFmJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKCFsLl9kZWZhdWx0fHxsLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYyk9PT0hMSkmJk0oZSkmJmgmJmVbcV0mJiFuLmlzV2luZG93KGUpKXttPWVbaF0sbSYmKGVbaF09bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cTt0cnl7ZVtxXSgpfWNhdGNoKHMpe31uLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbSYmKGVbaF09bSl9cmV0dXJuIGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGQsZixnLGg9W10saT1lLmNhbGwoYXJndW1lbnRzKSxqPShuLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYS50eXBlXXx8W10saz1uLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWEucm5hbWVzcGFjZSYmIWEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKXx8KGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxkPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1kJiYoYS5yZXN1bHQ9ZCk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoImNsaWNrIiE9PWEudHlwZXx8aXNOYU4oYS5idXR0b24pfHxhLmJ1dHRvbjwxKSlmb3IoO2khPXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9uKGUsdGhpcykuaW5kZXgoaSk+LTE6bi5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LGZpeDpmdW5jdGlvbihhKXtpZihhW24uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxlLGY9YS50eXBlLGc9YSxoPXRoaXMuZml4SG9va3NbZl07aHx8KHRoaXMuZml4SG9va3NbZl09aD1tYS50ZXN0KGYpP3RoaXMubW91c2VIb29rczpsYS50ZXN0KGYpP3RoaXMua2V5SG9va3M6e30pLGU9aC5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChoLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG4uRXZlbnQoZyksYj1lLmxlbmd0aDt3aGlsZShiLS0pYz1lW2JdLGFbY109Z1tjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1nLnNyY0VsZW1lbnR8fGQpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGEubWV0YUtleT0hIWEubWV0YUtleSxoLmZpbHRlcj9oLmZpbHRlcihhLGcpOmF9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBkZXRhaWwgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc9Yi5idXR0b24saD1iLmZyb21FbGVtZW50O3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihlPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGQsZj1lLmRvY3VtZW50RWxlbWVudCxjPWUuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZiYmZi5zY3JvbGxMZWZ0fHxjJiZjLnNjcm9sbExlZnR8fDApLShmJiZmLmNsaWVudExlZnR8fGMmJmMuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGYmJmYuc2Nyb2xsVG9wfHxjJiZjLnNjcm9sbFRvcHx8MCktKGYmJmYuY2xpZW50VG9wfHxjJiZjLmNsaWVudFRvcHx8MCkpLCFhLnJlbGF0ZWRUYXJnZXQmJmgmJihhLnJlbGF0ZWRUYXJnZXQ9aD09PWEudGFyZ2V0P2IudG9FbGVtZW50OmgpLGEud2hpY2h8fHZvaWQgMD09PWd8fChhLndoaWNoPTEmZz8xOjImZz8zOjQmZz8yOjApLGF9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09cmEoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChhKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1yYSgpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiBuLm5vZGVOYW1lKHRoaXMsImlucHV0IikmJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2s/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMH0pO24uZXZlbnQudHJpZ2dlcihkLG51bGwsYiksZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0sbi5yZW1vdmVFdmVudD1kLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0ib24iK2I7YS5kZXRhY2hFdmVudCYmKCJ1bmRlZmluZWQiPT10eXBlb2YgYVtkXSYmKGFbZF09bnVsbCksYS5kZXRhY2hFdmVudChkLGMpKX0sbi5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbi5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/cGE6cWEpOnRoaXMudHlwZT1hLGImJm4uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG4ubm93KCksdm9pZCh0aGlzW24uZXhwYW5kb109ITApKTpuZXcgbi5FdmVudChhLGIpfSxuLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bi5FdmVudCxpc0RlZmF1bHRQcmV2ZW50ZWQ6cWEsaXNQcm9wYWdhdGlvblN0b3BwZWQ6cWEsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6cWEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cGEsYSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1wYSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmKGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9cGEsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybiBlJiYoZT09PWR8fG4uY29udGFpbnMoZCxlKSl8fChhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLGwuc3VibWl0fHwobi5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gbi5ub2RlTmFtZSh0aGlzLCJmb3JtIik/ITE6dm9pZCBuLmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9bi5ub2RlTmFtZShiLCJpbnB1dCIpfHxuLm5vZGVOYW1lKGIsImJ1dHRvbiIpP24ucHJvcChiLCJmb3JtIik6dm9pZCAwO2MmJiFuLl9kYXRhKGMsInN1Ym1pdCIpJiYobi5ldmVudC5hZGQoYywic3VibWl0Ll9zdWJtaXQiLGZ1bmN0aW9uKGEpe2EuX3N1Ym1pdEJ1YmJsZT0hMH0pLG4uX2RhdGEoYywic3VibWl0IiwhMCkpfSl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihhKXthLl9zdWJtaXRCdWJibGUmJihkZWxldGUgYS5fc3VibWl0QnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWEuaXNUcmlnZ2VyJiZuLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxhKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubm9kZU5hbWUodGhpcywiZm9ybSIpPyExOnZvaWQgbi5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KSxsLmNoYW5nZXx8KG4uZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGthLnRlc3QodGhpcy5ub2RlTmFtZSk/KCJjaGVja2JveCIhPT10aGlzLnR5cGUmJiJyYWRpbyIhPT10aGlzLnR5cGV8fChuLmV2ZW50LmFkZCh0aGlzLCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXsiY2hlY2tlZCI9PT1hLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiYodGhpcy5fanVzdENoYW5nZWQ9ITApfSksbi5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5fanVzdENoYW5nZWQmJiFhLmlzVHJpZ2dlciYmKHRoaXMuX2p1c3RDaGFuZ2VkPSExKSxuLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMsYSl9KSksITEpOnZvaWQgbi5ldmVudC5hZGQodGhpcywiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7a2EudGVzdChiLm5vZGVOYW1lKSYmIW4uX2RhdGEoYiwiY2hhbmdlIikmJihuLmV2ZW50LmFkZChiLCJjaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oYSl7IXRoaXMucGFyZW50Tm9kZXx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fG4uZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcy5wYXJlbnROb2RlLGEpfSksbi5fZGF0YShiLCJjaGFuZ2UiLCEwKSl9KX0saGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3JldHVybiB0aGlzIT09Ynx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fCJyYWRpbyIhPT1iLnR5cGUmJiJjaGVja2JveCIhPT1iLnR5cGU/YS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBuLmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpLCFrYS50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLGwuZm9jdXNpbnx8bi5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1uLl9kYXRhKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksbi5fZGF0YShkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPW4uX2RhdGEoZCxiKS0xO2U/bi5fZGF0YShkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLG4uX3JlbW92ZURhdGEoZCxiKSl9fX0pLG4uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gc2EodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBzYSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGIhPT0hMSYmImZ1bmN0aW9uIiE9dHlwZW9mIGJ8fChjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9cWEpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIHRhPS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2csdWE9bmV3IFJlZ0V4cCgiPCg/OiIrYmErIilbXFxzLz5dIiwiaSIpLHZhPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzotXSspW14+XSopXC8+L2dpLHdhPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLHhhPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHlhPS9edHJ1ZVwvKC4qKS8semE9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLEFhPWNhKGQpLEJhPUFhLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2Z1bmN0aW9uIENhKGEsYil7cmV0dXJuIG4ubm9kZU5hbWUoYSwidGFibGUiKSYmbi5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsInRyIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiBEYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09bi5maW5kLmF0dHIoYSwidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9eWEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiBGYShhLGIpe2lmKDE9PT1iLm5vZGVUeXBlJiZuLmhhc0RhdGEoYSkpe3ZhciBjLGQsZSxmPW4uX2RhdGEoYSksZz1uLl9kYXRhKGIsZiksaD1mLmV2ZW50cztpZihoKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGMgaW4gaClmb3IoZD0wLGU9aFtjXS5sZW5ndGg7ZT5kO2QrKyluLmV2ZW50LmFkZChiLGMsaFtjXVtkXSl9Zy5kYXRhJiYoZy5kYXRhPW4uZXh0ZW5kKHt9LGcuZGF0YSkpfX1mdW5jdGlvbiBHYShhLGIpe3ZhciBjLGQsZTtpZigxPT09Yi5ub2RlVHlwZSl7aWYoYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIWwubm9DbG9uZUV2ZW50JiZiW24uZXhwYW5kb10pe2U9bi5fZGF0YShiKTtmb3IoZCBpbiBlLmV2ZW50cyluLnJlbW92ZUV2ZW50KGIsZCxlLmhhbmRsZSk7Yi5yZW1vdmVBdHRyaWJ1dGUobi5leHBhbmRvKX0ic2NyaXB0Ij09PWMmJmIudGV4dCE9PWEudGV4dD8oRGEoYikudGV4dD1hLnRleHQsRWEoYikpOiJvYmplY3QiPT09Yz8oYi5wYXJlbnROb2RlJiYoYi5vdXRlckhUTUw9YS5vdXRlckhUTUwpLGwuaHRtbDVDbG9uZSYmYS5pbm5lckhUTUwmJiFuLnRyaW0oYi5pbm5lckhUTUwpJiYoYi5pbm5lckhUTUw9YS5pbm5lckhUTUwpKToiaW5wdXQiPT09YyYmWi50ZXN0KGEudHlwZSk/KGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCxiLnZhbHVlIT09YS52YWx1ZSYmKGIudmFsdWU9YS52YWx1ZSkpOiJvcHRpb24iPT09Yz9iLmRlZmF1bHRTZWxlY3RlZD1iLnNlbGVjdGVkPWEuZGVmYXVsdFNlbGVjdGVkOiJpbnB1dCIhPT1jJiYidGV4dGFyZWEiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX19ZnVuY3Rpb24gSGEoYSxiLGMsZCl7Yj1mLmFwcGx5KFtdLGIpO3ZhciBlLGcsaCxpLGosayxtPTAsbz1hLmxlbmd0aCxwPW8tMSxxPWJbMF0scj1uLmlzRnVuY3Rpb24ocSk7aWYocnx8bz4xJiYic3RyaW5nIj09dHlwZW9mIHEmJiFsLmNoZWNrQ2xvbmUmJnhhLnRlc3QocSkpcmV0dXJuIGEuZWFjaChmdW5jdGlvbihlKXt2YXIgZj1hLmVxKGUpO3ImJihiWzBdPXEuY2FsbCh0aGlzLGUsZi5odG1sKCkpKSxIYShmLGIsYyxkKX0pO2lmKG8mJihrPWphKGIsYVswXS5vd25lckRvY3VtZW50LCExLGEsZCksZT1rLmZpcnN0Q2hpbGQsMT09PWsuY2hpbGROb2Rlcy5sZW5ndGgmJihrPWUpLGV8fGQpKXtmb3IoaT1uLm1hcChlYShrLCJzY3JpcHQiKSxEYSksaD1pLmxlbmd0aDtvPm07bSsrKWc9ayxtIT09cCYmKGc9bi5jbG9uZShnLCEwLCEwKSxoJiZuLm1lcmdlKGksZWEoZywic2NyaXB0IikpKSxjLmNhbGwoYVttXSxnLG0pO2lmKGgpZm9yKGo9aVtpLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG4ubWFwKGksRWEpLG09MDtoPm07bSsrKWc9aVttXSxfLnRlc3QoZy50eXBlfHwiIikmJiFuLl9kYXRhKGcsImdsb2JhbEV2YWwiKSYmbi5jb250YWlucyhqLGcpJiYoZy5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChnLnNyYyk6bi5nbG9iYWxFdmFsKChnLnRleHR8fGcudGV4dENvbnRlbnR8fGcuaW5uZXJIVE1MfHwiIikucmVwbGFjZSh6YSwiIikpKTtrPWU9bnVsbH1yZXR1cm4gYX1mdW5jdGlvbiBJYShhLGIsYyl7Zm9yKHZhciBkLGU9Yj9uLmZpbHRlcihiLGEpOmEsZj0wO251bGwhPShkPWVbZl0pO2YrKyljfHwxIT09ZC5ub2RlVHlwZXx8bi5jbGVhbkRhdGEoZWEoZCkpLGQucGFyZW50Tm9kZSYmKGMmJm4uY29udGFpbnMoZC5vd25lckRvY3VtZW50LGQpJiZmYShlYShkLCJzY3JpcHQiKSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKTtyZXR1cm4gYX1uLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHZhLCI8JDE+PC8kMj4iKX0sY2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1uLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZihsLmh0bWw1Q2xvbmV8fG4uaXNYTUxEb2MoYSl8fCF1YS50ZXN0KCI8IithLm5vZGVOYW1lKyI+Iik/Zj1hLmNsb25lTm9kZSghMCk6KEJhLmlubmVySFRNTD1hLm91dGVySFRNTCxCYS5yZW1vdmVDaGlsZChmPUJhLmZpcnN0Q2hpbGQpKSwhKGwubm9DbG9uZUV2ZW50JiZsLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZD1lYShmKSxoPWVhKGEpLGc9MDtudWxsIT0oZT1oW2ddKTsrK2cpZFtnXSYmR2EoZSxkW2ddKTtpZihiKWlmKGMpZm9yKGg9aHx8ZWEoYSksZD1kfHxlYShmKSxnPTA7bnVsbCE9KGU9aFtnXSk7ZysrKUZhKGUsZFtnXSk7ZWxzZSBGYShhLGYpO3JldHVybiBkPWVhKGYsInNjcmlwdCIpLGQubGVuZ3RoPjAmJmZhKGQsIWkmJmVhKGEsInNjcmlwdCIpKSxkPWg9ZT1udWxsLGZ9LGNsZWFuRGF0YTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZCxlLGYsZyxoPTAsaT1uLmV4cGFuZG8saj1uLmNhY2hlLGs9bC5hdHRyaWJ1dGVzLG09bi5ldmVudC5zcGVjaWFsO251bGwhPShkPWFbaF0pO2grKylpZigoYnx8TShkKSkmJihmPWRbaV0sZz1mJiZqW2ZdKSl7aWYoZy5ldmVudHMpZm9yKGUgaW4gZy5ldmVudHMpbVtlXT9uLmV2ZW50LnJlbW92ZShkLGUpOm4ucmVtb3ZlRXZlbnQoZCxlLGcuaGFuZGxlKTtqW2ZdJiYoZGVsZXRlIGpbZl0sa3x8InVuZGVmaW5lZCI9PXR5cGVvZiBkLnJlbW92ZUF0dHJpYnV0ZT9kW2ldPXZvaWQgMDpkLnJlbW92ZUF0dHJpYnV0ZShpKSxjLnB1c2goZikpfX19KSxuLmZuLmV4dGVuZCh7ZG9tTWFuaXA6SGEsZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiBJYSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIElhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxkKS5jcmVhdGVUZXh0Tm9kZShhKSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEhhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1DYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPUNhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKyl7MT09PWEubm9kZVR5cGUmJm4uY2xlYW5EYXRhKGVhKGEsITEpKTt3aGlsZShhLmZpcnN0Q2hpbGQpYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Eub3B0aW9ucyYmbi5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGEub3B0aW9ucy5sZW5ndGg9MCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gWSh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEpcmV0dXJuIDE9PT1iLm5vZGVUeXBlP2IuaW5uZXJIVE1MLnJlcGxhY2UodGEsIiIpOnZvaWQgMDtpZigic3RyaW5nIj09dHlwZW9mIGEmJiF3YS50ZXN0KGEpJiYobC5odG1sU2VyaWFsaXplfHwhdWEudGVzdChhKSkmJihsLmxlYWRpbmdXaGl0ZXNwYWNlfHwhYWEudGVzdChhKSkmJiFkYVsoJC5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1uLmh0bWxQcmVmaWx0ZXIoYSk7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoZWEoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5wYXJlbnROb2RlO24uaW5BcnJheSh0aGlzLGEpPDAmJihuLmNsZWFuRGF0YShlYSh0aGlzKSksYyYmYy5yZXBsYWNlQ2hpbGQoYix0aGlzKSl9LGEpfX0pLG4uZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD0wLGU9W10sZj1uKGEpLGg9Zi5sZW5ndGgtMTtoPj1kO2QrKyljPWQ9PT1oP3RoaXM6dGhpcy5jbG9uZSghMCksbihmW2RdKVtiXShjKSxnLmFwcGx5KGUsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBKYSxLYT17SFRNTDoiYmxvY2siLEJPRFk6ImJsb2NrIn07ZnVuY3Rpb24gTGEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sImRpc3BsYXkiKTtyZXR1cm4gYy5kZXRhY2goKSxkfWZ1bmN0aW9uIE1hKGEpe3ZhciBiPWQsYz1LYVthXTtyZXR1cm4gY3x8KGM9TGEoYSxiKSwibm9uZSIhPT1jJiZjfHwoSmE9KEphfHxuKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPShKYVswXS5jb250ZW50V2luZG93fHxKYVswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGIud3JpdGUoKSxiLmNsb3NlKCksYz1MYShhLGIpLEphLmRldGFjaCgpKSxLYVthXT1jKSxjfXZhciBOYT0vXm1hcmdpbi8sT2E9bmV3IFJlZ0V4cCgiXigiK1QrIikoPyFweClbYS16JV0rJCIsImkiKSxQYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sUWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZyxoLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxqPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYoai5zdHlsZSl7ai5zdHlsZS5jc3NUZXh0PSJmbG9hdDpsZWZ0O29wYWNpdHk6LjUiLGwub3BhY2l0eT0iMC41Ij09PWouc3R5bGUub3BhY2l0eSxsLmNzc0Zsb2F0PSEhai5zdHlsZS5jc3NGbG9hdCxqLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsai5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGwuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1qLnN0eWxlLmJhY2tncm91bmRDbGlwLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7cGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlIixqLmlubmVySFRNTD0iIixpLmFwcGVuZENoaWxkKGopLGwuYm94U2l6aW5nPSIiPT09ai5zdHlsZS5ib3hTaXppbmd8fCIiPT09ai5zdHlsZS5Nb3pCb3hTaXppbmd8fCIiPT09ai5zdHlsZS5XZWJraXRCb3hTaXppbmcsbi5leHRlbmQobCx7cmVsaWFibGVIaWRkZW5PZmZzZXRzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxmfSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZX0scGl4ZWxNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksY30scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksYn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZ30scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxofX0pO2Z1bmN0aW9uIGsoKXt2YXIgayxsLG09ZC5kb2N1bWVudEVsZW1lbnQ7bS5hcHBlbmRDaGlsZChpKSxqLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJSIsYj1lPWg9ITEsYz1nPSEwLGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKGw9YS5nZXRDb21wdXRlZFN0eWxlKGopLGI9IjElIiE9PShsfHx7fSkudG9wLGg9IjJweCI9PT0obHx8e30pLm1hcmdpbkxlZnQsZT0iNHB4Ij09PShsfHx7d2lkdGg6IjRweCJ9KS53aWR0aCxqLnN0eWxlLm1hcmdpblJpZ2h0PSI1MCUiLGM9IjRweCI9PT0obHx8e21hcmdpblJpZ2h0OiI0cHgifSkubWFyZ2luUmlnaHQsaz1qLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGsuc3R5bGUuY3NzVGV4dD1qLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MCIsay5zdHlsZS5tYXJnaW5SaWdodD1rLnN0eWxlLndpZHRoPSIwIixqLnN0eWxlLndpZHRoPSIxcHgiLGc9IXBhcnNlRmxvYXQoKGEuZ2V0Q29tcHV0ZWRTdHlsZShrKXx8e30pLm1hcmdpblJpZ2h0KSxqLnJlbW92ZUNoaWxkKGspKSxqLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWouZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgsZiYmKGouc3R5bGUuZGlzcGxheT0iIixqLmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIsai5jaGlsZE5vZGVzWzBdLnN0eWxlLmJvcmRlckNvbGxhcHNlPSJzZXBhcmF0ZSIsaz1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLGtbMF0uc3R5bGUuY3NzVGV4dD0ibWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowO2Rpc3BsYXk6bm9uZSIsZj0wPT09a1swXS5vZmZzZXRIZWlnaHQsZiYmKGtbMF0uc3R5bGUuZGlzcGxheT0iIixrWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWtbMF0ub2Zmc2V0SGVpZ2h0KSksbS5yZW1vdmVDaGlsZChpKX19fSgpO3ZhciBSYSxTYSxUYT0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87YS5nZXRDb21wdXRlZFN0eWxlPyhSYT1mdW5jdGlvbihiKXt2YXIgYz1iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIGMmJmMub3BlbmVyfHwoYz1hKSxjLmdldENvbXB1dGVkU3R5bGUoYil9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2MuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXTp2b2lkIDAsIiIhPT1nJiZ2b2lkIDAhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSxjJiYhbC5waXhlbE1hcmdpblJpZ2h0KCkmJk9hLnRlc3QoZykmJk5hLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9Ziksdm9pZCAwPT09Zz9nOmcrIiJ9KTpRYS5jdXJyZW50U3R5bGUmJihSYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5jdXJyZW50U3R5bGV9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2NbYl06dm9pZCAwLG51bGw9PWcmJmgmJmhbYl0mJihnPWhbYl0pLE9hLnRlc3QoZykmJiFUYS50ZXN0KGIpJiYoZD1oLmxlZnQsZT1hLnJ1bnRpbWVTdHlsZSxmPWUmJmUubGVmdCxmJiYoZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQpLGgubGVmdD0iZm9udFNpemUiPT09Yj8iMWVtIjpnLGc9aC5waXhlbExlZnQrInB4IixoLmxlZnQ9ZCxmJiYoZS5sZWZ0PWYpKSx2b2lkIDA9PT1nP2c6ZysiInx8ImF1dG8ifSk7ZnVuY3Rpb24gVWEoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIFZhPS9hbHBoYVwoW14pXSpcKS9pLFdhPS9vcGFjaXR5XHMqPVxzKihbXildKikvaSxYYT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sWWE9bmV3IFJlZ0V4cCgiXigiK1QrIikoLiopJCIsImkiKSxaYT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sJGE9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LF9hPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl0sYWI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZTtmdW5jdGlvbiBiYihhKXtpZihhIGluIGFiKXJldHVybiBhO3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKSxjPV9hLmxlbmd0aDt3aGlsZShjLS0paWYoYT1fYVtjXStiLGEgaW4gYWIpcmV0dXJuIGF9ZnVuY3Rpb24gY2IoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109bi5fZGF0YShkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlcoZCkmJihmW2ddPW4uX2RhdGEoZCwib2xkZGlzcGxheSIsTWEoZC5ub2RlTmFtZSkpKSk6KGU9VyhkKSwoYyYmIm5vbmUiIT09Y3x8IWUpJiZuLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGU/YzpuLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfWZ1bmN0aW9uIGRiKGEsYixjKXt2YXIgZD1ZYS5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHwicHgiKTpifWZ1bmN0aW9uIGViKGEsYixjLGQsZSl7Zm9yKHZhciBmPWM9PT0oZD8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PWI/MTowLGc9MDs0PmY7Zis9MikibWFyZ2luIj09PWMmJihnKz1uLmNzcyhhLGMrVltmXSwhMCxlKSksZD8oImNvbnRlbnQiPT09YyYmKGctPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSkpLCJtYXJnaW4iIT09YyYmKGctPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk6KGcrPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSksInBhZGRpbmciIT09YyYmKGcrPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gZmIoYSxiLGMpe3ZhciBkPSEwLGU9IndpZHRoIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPVJhKGEpLGc9bC5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT1TYShhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLE9hLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK2ViKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPVNhKGEsIm9wYWNpdHkiKTtyZXR1cm4iIj09PWM/IjEiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6bC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7aWYoYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1iYihoKXx8aCksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLHZvaWQgMD09PWMpcmV0dXJuIGcmJiJnZXQiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdO2lmKGY9dHlwZW9mIGMsInN0cmluZyI9PT1mJiYoZT1VLmV4ZWMoYykpJiZlWzFdJiYoYz1YKGEsYixlKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiPT09ZiYmKGMrPWUmJmVbM118fChuLmNzc051bWJlcltoXT8iIjoicHgiKSksbC5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLCEoZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpKSkpdHJ5e2lbYl09Y31jYXRjaChqKXt9fX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPWJiKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmImdldCJpbiBnJiYoZj1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1mJiYoZj1TYShhLGIsZCkpLCJub3JtYWwiPT09ZiYmYiBpbiAkYSYmKGY9JGFbYl0pLCIiPT09Y3x8Yz8oZT1wYXJzZUZsb2F0KGYpLGM9PT0hMHx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pLG4uZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP1hhLnRlc3Qobi5jc3MoYSwiZGlzcGxheSIpKSYmMD09PWEub2Zmc2V0V2lkdGg/UGEoYSxaYSxmdW5jdGlvbigpe3JldHVybiBmYihhLGIsZCl9KTpmYihhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQmJlJhKGEpO3JldHVybiBkYihhLGMsZD9lYihhLGIsZCxsLmJveFNpemluZyYmImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksbC5vcGFjaXR5fHwobi5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gV2EudGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZSxlPW4uaXNOdW1lcmljKGIpPyJhbHBoYShvcGFjaXR5PSIrMTAwKmIrIikiOiIiLGY9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLnpvb209MSwoYj49MXx8IiI9PT1iKSYmIiI9PT1uLnRyaW0oZi5yZXBsYWNlKFZhLCIiKSkmJmMucmVtb3ZlQXR0cmlidXRlJiYoYy5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCIiPT09Ynx8ZCYmIWQuZmlsdGVyKXx8KGMuZmlsdGVyPVZhLnRlc3QoZik/Zi5yZXBsYWNlKFZhLGUpOmYrIiAiK2UpfX0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9VWEobC5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/UGEoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sU2EsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG4uY3NzSG9va3MubWFyZ2luTGVmdD1VYShsLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihhLGIpe3JldHVybiBiPyhwYXJzZUZsb2F0KFNhKGEsIm1hcmdpbkxlZnQiKSl8fChuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKT9hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtUGEoYSx7Cm1hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSk6MCkpKyJweCI6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5kO2QrKyllW2ErVltkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxOYS50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1kYil9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPVJhKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtXKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gZ2IoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IGdiLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1nYixnYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmdiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPWdiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpnYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1nYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOmdiLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LGdiLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1nYi5wcm90b3R5cGUsZ2IucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6MSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbD09YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV0mJiFuLmNzc0hvb2tzW2EucHJvcF0/YS5lbGVtW2EucHJvcF09YS5ub3c6bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCl9fX0sZ2IucHJvcEhvb2tzLnNjcm9sbFRvcD1nYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LG4uZng9Z2IucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBoYixpYixqYj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sa2I9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBsYigpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtoYj12b2lkIDB9KSxoYj1uLm5vdygpfWZ1bmN0aW9uIG1iKGEsYil7dmFyIGMsZD17aGVpZ2h0OmF9LGU9MDtmb3IoYj1iPzE6MDs0PmU7ZSs9Mi1iKWM9VltlXSxkWyJtYXJnaW4iK2NdPWRbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihkLm9wYWNpdHk9ZC53aWR0aD1hKSxkfWZ1bmN0aW9uIG5iKGEsYixjKXtmb3IodmFyIGQsZT0ocWIudHdlZW5lcnNbYl18fFtdKS5jb25jYXQocWIudHdlZW5lcnNbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gb2IoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbT10aGlzLG89e30scD1hLnN0eWxlLHE9YS5ub2RlVHlwZSYmVyhhKSxyPW4uX2RhdGEoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLG0uYWx3YXlzKGZ1bmN0aW9uKCl7bS5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoYy5vdmVyZmxvdz1bcC5vdmVyZmxvdyxwLm92ZXJmbG93WCxwLm92ZXJmbG93WV0saj1uLmNzcyhhLCJkaXNwbGF5Iiksaz0ibm9uZSI9PT1qP24uX2RhdGEoYSwib2xkZGlzcGxheSIpfHxNYShhLm5vZGVOYW1lKTpqLCJpbmxpbmUiPT09ayYmIm5vbmUiPT09bi5jc3MoYSwiZmxvYXQiKSYmKGwuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmImlubGluZSIhPT1NYShhLm5vZGVOYW1lKT9wLnpvb209MTpwLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIixsLnNocmlua1dyYXBCbG9ja3MoKXx8bS5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLGpiLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXJ8fHZvaWQgMD09PXJbZF0pY29udGludWU7cT0hMH1vW2RdPXImJnJbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChvKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP01hKGEubm9kZU5hbWUpOmopJiYocC5kaXNwbGF5PWopO2Vsc2V7cj8iaGlkZGVuImluIHImJihxPXIuaGlkZGVuKTpyPW4uX2RhdGEoYSwiZnhzaG93Iix7fSksZiYmKHIuaGlkZGVuPSFxKSxxP24oYSkuc2hvdygpOm0uZG9uZShmdW5jdGlvbigpe24oYSkuaGlkZSgpfSksbS5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7bi5fcmVtb3ZlRGF0YShhLCJmeHNob3ciKTtmb3IoYiBpbiBvKW4uc3R5bGUoYSxiLG9bYl0pfSk7Zm9yKGQgaW4gbylnPW5iKHE/cltkXTowLGQsbSksZCBpbiByfHwocltkXT1nLnN0YXJ0LHEmJihnLmVuZD1nLnN0YXJ0LGcuc3RhcnQ9IndpZHRoIj09PWR8fCJoZWlnaHQiPT09ZD8xOjApKX19ZnVuY3Rpb24gcGIoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiYiZXhwYW5kImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBxYihhLGIsYyl7dmFyIGQsZSxmPTAsZz1xYi5wcmVmaWx0ZXJzLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPWhifHxsYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpuLmVhc2luZy5fZGVmYXVsdH0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOmhifHxsYigpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtkPmM7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj8oaC5ub3RpZnlXaXRoKGEsW2osMSwwXSksaC5yZXNvbHZlV2l0aChhLFtqLGJdKSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihwYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9cWIucHJlZmlsdGVyc1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIG4uaXNGdW5jdGlvbihkLnN0b3ApJiYobi5fcXVldWVIb29rcyhqLmVsZW0sai5vcHRzLnF1ZXVlKS5zdG9wPW4ucHJveHkoZC5zdG9wLGQpKSxkO3JldHVybiBuLm1hcChrLG5iLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQocWIse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpO3JldHVybiBYKGMuZWxlbSxhLFUuZXhlYyhiKSxjKSxjfV19LHR3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVsiKiJdKTphPWEubWF0Y2goRyk7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLHFiLnR3ZWVuZXJzW2NdPXFiLnR3ZWVuZXJzW2NdfHxbXSxxYi50d2VlbmVyc1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXJzOltvYl0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9xYi5wcmVmaWx0ZXJzLnVuc2hpZnQoYSk6cWIucHJlZmlsdGVycy5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJiJvYmplY3QiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsbnVsbCE9ZC5xdWV1ZSYmZC5xdWV1ZSE9PSEwfHwoZC5xdWV1ZT0iZngiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtuLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJm4uZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxuLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihXKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmlzRW1wdHlPYmplY3QoYSksZj1uLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9cWIodGhpcyxuLmV4dGVuZCh7fSxhKSxmKTsoZXx8bi5fZGF0YSh0aGlzLCJmaW5pc2giKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihjPWIsYj1hLGE9dm9pZCAwKSxiJiZhIT09ITEmJnRoaXMucXVldWUoYXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhKyJxdWV1ZUhvb2tzIixmPW4udGltZXJzLGc9bi5fZGF0YSh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZrYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1uLl9kYXRhKHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUobWIoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOm1iKCJzaG93Iiksc2xpZGVVcDptYigiaGlkZSIpLHNsaWRlVG9nZ2xlOm1iKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPW4udGltZXJzLGM9MDtmb3IoaGI9bi5ub3coKTtjPGIubGVuZ3RoO2MrKylhPWJbY10sYSgpfHxiW2NdIT09YXx8Yi5zcGxpY2UoYy0tLDEpO2IubGVuZ3RofHxuLmZ4LnN0b3AoKSxoYj12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtpYnx8KGliPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKGliKSxpYj1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8ImZ4Iix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYSxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGY9ZS5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYy5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxjLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxiLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94IiksYy5hcHBlbmRDaGlsZChiKSxhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxhLnN0eWxlLmNzc1RleHQ9InRvcDoxcHgiLGwuZ2V0U2V0QXR0cmlidXRlPSJ0IiE9PWMuY2xhc3NOYW1lLGwuc3R5bGU9L3RvcC8udGVzdChhLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksbC5ocmVmTm9ybWFsaXplZD0iL2EiPT09YS5nZXRBdHRyaWJ1dGUoImhyZWYiKSxsLmNoZWNrT249ISFiLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Zi5zZWxlY3RlZCxsLmVuY3R5cGU9ISFkLmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGUuZGlzYWJsZWQ9ITAsbC5vcHREaXNhYmxlZD0hZi5kaXNhYmxlZCxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSxsLmlucHV0PSIiPT09Yi5nZXRBdHRyaWJ1dGUoInZhbHVlIiksYi52YWx1ZT0idCIsYi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGwucmFkaW9WYWx1ZT0idCI9PT1iLnZhbHVlfSgpO3ZhciByYj0vXHIvZyxzYj0vW1x4MjBcdFxyXG5cZl0rL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT0iIjoibnVtYmVyIj09dHlwZW9mIGU/ZSs9IiI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOmErIiJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYic2V0ImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSwidmFsdWUiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKHJiLCIiKTpudWxsPT1jPyIiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsInZhbHVlIik7cmV0dXJuIG51bGwhPWI/YjpuLnRyaW0obi50ZXh0KGEpKS5yZXBsYWNlKHNiLCIgIil9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwoYy5zZWxlY3RlZHx8aT09PWUpJiYobC5vcHREaXNhYmxlZD8hYy5kaXNhYmxlZDpudWxsPT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0paWYoZD1lW2ddLG4uaW5BcnJheShuLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpdHJ5e2Quc2VsZWN0ZWQ9Yz0hMH1jYXRjaChoKXtkLnNjcm9sbEhlaWdodH1lbHNlIGQuc2VsZWN0ZWQ9ITE7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGV9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSk7dmFyIHRiLHViLHZiPW4uZXhwci5hdHRySGFuZGxlLHdiPS9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2kseGI9bC5nZXRTZXRBdHRyaWJ1dGUseWI9bC5pbnB1dDtuLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBZKHRoaXMsbi5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT91Yjp0YikpLHZvaWQgMCE9PWM/bnVsbD09PWM/dm9pZCBuLnJlbW92ZUF0dHIoYSxiKTplJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOihkPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZD92b2lkIDA6ZCkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFsLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1iJiZuLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEcpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZltlKytdKWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYyk/eWImJnhifHwhd2IudGVzdChjKT9hW2RdPSExOmFbbi5jYW1lbENhc2UoImRlZmF1bHQtIitjKV09YVtkXT0hMTpuLmF0dHIoYSxjLCIiKSxhLnJlbW92ZUF0dHJpYnV0ZSh4Yj9jOmQpfX0pLHViPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRyKGEsYyk6eWImJnhifHwhd2IudGVzdChjKT9hLnNldEF0dHJpYnV0ZSgheGImJm4ucHJvcEZpeFtjXXx8YyxjKTphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYyldPWFbY109ITAsY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPXZiW2JdfHxuLmZpbmQuYXR0cjt5YiYmeGJ8fCF3Yi50ZXN0KGIpP3ZiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj12YltiXSx2YltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsdmJbYl09ZiksZX06dmJbYl09ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYildP2IudG9Mb3dlckNhc2UoKTpudWxsfX0pLHliJiZ4Ynx8KG4uYXR0ckhvb2tzLnZhbHVlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLm5vZGVOYW1lKGEsImlucHV0Iik/dm9pZChhLmRlZmF1bHRWYWx1ZT1iKTp0YiYmdGIuc2V0KGEsYixjKX19KSx4Ynx8KHRiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlTm9kZShjKTtyZXR1cm4gZHx8YS5zZXRBdHRyaWJ1dGVOb2RlKGQ9YS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShjKSksZC52YWx1ZT1iKz0iIiwidmFsdWUiPT09Y3x8Yj09PWEuZ2V0QXR0cmlidXRlKGMpP2I6dm9pZCAwfX0sdmIuaWQ9dmIubmFtZT12Yi5jb29yZHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiYiIiE9PWQudmFsdWU/ZC52YWx1ZTpudWxsfSxuLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpO3JldHVybiBjJiZjLnNwZWNpZmllZD9jLnZhbHVlOnZvaWQgMH0sc2V0OnRiLnNldH0sbi5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3RiLnNldChhLCIiPT09Yj8hMTpiLGMpfX0sbi5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGIpe24uYXR0ckhvb2tzW2JdPXtzZXQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4iIj09PWM/KGEuc2V0QXR0cmlidXRlKGIsImF1dG8iKSxjKTp2b2lkIDB9fX0pKSxsLnN0eWxlfHwobi5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0fHx2b2lkIDB9LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnN0eWxlLmNzc1RleHQ9YisiIn19KTt2YXIgemI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkL2ksQWI9L14oPzphfGFyZWEpJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9bi5wcm9wRml4W2FdfHxhLHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2FdPXZvaWQgMCxkZWxldGUgdGhpc1thXX1jYXRjaChiKXt9fSl9fSksbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuIDE9PT1mJiZuLmlzWE1MRG9jKGEpfHwoYj1uLnByb3BGaXhbYl18fGIsZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSwidGFiaW5kZXgiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTp6Yi50ZXN0KGEubm9kZU5hbWUpfHxBYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KSxsLmhyZWZOb3JtYWxpemVkfHxuLmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oYSxiKXtuLnByb3BIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShiLDQpfX19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLG4uZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pLGwuZW5jdHlwZXx8KG4ucHJvcEZpeC5lbmN0eXBlPSJlbmNvZGluZyIpO3ZhciBCYj0vW1x0XHJcblxmXS9nO2Z1bmN0aW9uIENiKGEpe3JldHVybiBuLmF0dHIoYSwiY2xhc3MiKXx8IiJ9bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsQ2IodGhpcykpKX0pO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZigiICIrZisiICIpPDAmJihkKz1mKyIgIik7aD1uLnRyaW0oZCksZSE9PWgmJm4uYXR0cihjLCJjbGFzcyIsaCl9fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLENiKHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKCJjbGFzcyIsIiIpO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKXdoaWxlKGQuaW5kZXhPZigiICIrZisiICIpPi0xKWQ9ZC5yZXBsYWNlKCIgIitmKyIgIiwiICIpO2g9bi50cmltKGQpLGUhPT1oJiZuLmF0dHIoYywiY2xhc3MiLGgpfX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6bi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsQ2IodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZigic3RyaW5nIj09PWMpe2Q9MCxlPW4odGhpcyksZj1hLm1hdGNoKEcpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlIHZvaWQgMCE9PWEmJiJib29sZWFuIiE9PWN8fChiPUNiKHRoaXMpLGImJm4uX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsYiksbi5hdHRyKHRoaXMsImNsYXNzIixifHxhPT09ITE/IiI6bi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj0iICIrYSsiICI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJigiICIrQ2IoYykrIiAiKS5yZXBsYWNlKEJiLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KSxuLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIERiPWEubG9jYXRpb24sRWI9bi5ub3coKSxGYj0vXD8vLEdiPS8oLCl8KFxbfHspfCh9fF0pfCIoPzpbXiJcXFxyXG5dfFxcWyJcXFwvYmZucnRdfFxcdVtcZGEtZkEtRl17NH0pKiJccyo6P3x0cnVlfGZhbHNlfG51bGx8LT8oPyEwXGQpXGQrKD86XC5cZCt8KSg/OltlRV1bKy1dP1xkK3wpL2c7bi5wYXJzZUpTT049ZnVuY3Rpb24oYil7aWYoYS5KU09OJiZhLkpTT04ucGFyc2UpcmV0dXJuIGEuSlNPTi5wYXJzZShiKyIiKTt2YXIgYyxkPW51bGwsZT1uLnRyaW0oYisiIik7cmV0dXJuIGUmJiFuLnRyaW0oZS5yZXBsYWNlKEdiLGZ1bmN0aW9uKGEsYixlLGYpe3JldHVybiBjJiZiJiYoZD0wKSwwPT09ZD9hOihjPWV8fGIsZCs9IWYtIWUsIiIpfSkpP0Z1bmN0aW9uKCJyZXR1cm4gIitlKSgpOm4uZXJyb3IoIkludmFsaWQgSlNPTjogIitiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgYyxkO2lmKCFifHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIG51bGw7dHJ5e2EuRE9NUGFyc2VyPyhkPW5ldyBhLkRPTVBhcnNlcixjPWQucGFyc2VGcm9tU3RyaW5nKGIsInRleHQveG1sIikpOihjPW5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSJmYWxzZSIsYy5sb2FkWE1MKGIpKX1jYXRjaChlKXtjPXZvaWQgMH1yZXR1cm4gYyYmYy5kb2N1bWVudEVsZW1lbnQmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8bi5lcnJvcigiSW52YWxpZCBYTUw6ICIrYiksY307dmFyIEhiPS8jLiokLyxJYj0vKFs/Jl0pXz1bXiZdKi8sSmI9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSxLYj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxMYj0vXig/OkdFVHxIRUFEKSQvLE1iPS9eXC9cLy8sTmI9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sT2I9e30sUGI9e30sUWI9IiovIi5jb25jYXQoIioiKSxSYj1EYi5ocmVmLFNiPU5iLmV4ZWMoUmIudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIFRiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9YixiPSIqIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEcpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pIisiPT09ZC5jaGFyQXQoMCk/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gVWIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09UGI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBWYihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYil2b2lkIDAhPT1iW2RdJiYoKGVbZF0/YTpjfHwoYz17fSkpW2RdPWJbZF0pO3JldHVybiBjJiZuLmV4dGVuZCghMCxhLGMpLGF9ZnVuY3Rpb24gV2IoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWUmJihlPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcihnIGluIGgpaWYoaFtnXSYmaFtnXS50ZXN0KGUpKXtpLnVuc2hpZnQoZyk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGcgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tnKyIgIitpWzBdXSl7Zj1nO2JyZWFrfWR8fChkPWcpfWY9Znx8ZH1yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gWGIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6UmIsdHlwZToiR0VUIixpc0xvY2FsOktiLnRlc3QoU2JbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6UWIsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6bi5wYXJzZUpTT04sInRleHQgeG1sIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9WYihWYihhLG4uYWpheFNldHRpbmdzKSxiKTpWYihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpUYihPYiksYWpheFRyYW5zcG9ydDpUYihQYiksYWpheDpmdW5jdGlvbihiLGMpeyJvYmplY3QiPT10eXBlb2YgYiYmKGM9YixiPXZvaWQgMCksYz1jfHx7fTt2YXIgZCxlLGYsZyxoLGksaixrLGw9bi5hamF4U2V0dXAoe30sYyksbT1sLmNvbnRleHR8fGwsbz1sLmNvbnRleHQmJihtLm5vZGVUeXBlfHxtLmpxdWVyeSk/bihtKTpuLmV2ZW50LHA9bi5EZWZlcnJlZCgpLHE9bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iikscj1sLnN0YXR1c0NvZGV8fHt9LHM9e30sdD17fSx1PTAsdj0iY2FuY2VsZWQiLHc9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dSl7aWYoIWspe2s9e307d2hpbGUoYj1KYi5leGVjKGcpKWtbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9a1thLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT11P2c6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdXx8KGE9dFtjXT10W2NdfHxhLHNbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdXx8KGwubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dSlmb3IoYiBpbiBhKXJbYl09W3JbYl0sYVtiXV07ZWxzZSB3LmFsd2F5cyhhW3cuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHY7cmV0dXJuIGomJmouYWJvcnQoYikseSgwLGIpLHRoaXN9fTtpZihwLnByb21pc2UodykuY29tcGxldGU9cS5hZGQsdy5zdWNjZXNzPXcuZG9uZSx3LmVycm9yPXcuZmFpbCxsLnVybD0oKGJ8fGwudXJsfHxSYikrIiIpLnJlcGxhY2UoSGIsIiIpLnJlcGxhY2UoTWIsU2JbMV0rIi8vIiksbC50eXBlPWMubWV0aG9kfHxjLnR5cGV8fGwubWV0aG9kfHxsLnR5cGUsbC5kYXRhVHlwZXM9bi50cmltKGwuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8WyIiXSxudWxsPT1sLmNyb3NzRG9tYWluJiYoZD1OYi5leGVjKGwudXJsLnRvTG93ZXJDYXNlKCkpLGwuY3Jvc3NEb21haW49ISghZHx8ZFsxXT09PVNiWzFdJiZkWzJdPT09U2JbMl0mJihkWzNdfHwoImh0dHA6Ij09PWRbMV0/IjgwIjoiNDQzIikpPT09KFNiWzNdfHwoImh0dHA6Ij09PVNiWzFdPyI4MCI6IjQ0MyIpKSkpLGwuZGF0YSYmbC5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBsLmRhdGEmJihsLmRhdGE9bi5wYXJhbShsLmRhdGEsbC50cmFkaXRpb25hbCkpLFViKE9iLGwsYyx3KSwyPT09dSlyZXR1cm4gdztpPW4uZXZlbnQmJmwuZ2xvYmFsLGkmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGwudHlwZT1sLnR5cGUudG9VcHBlckNhc2UoKSxsLmhhc0NvbnRlbnQ9IUxiLnRlc3QobC50eXBlKSxmPWwudXJsLGwuaGFzQ29udGVudHx8KGwuZGF0YSYmKGY9bC51cmwrPShGYi50ZXN0KGYpPyImIjoiPyIpK2wuZGF0YSxkZWxldGUgbC5kYXRhKSxsLmNhY2hlPT09ITEmJihsLnVybD1JYi50ZXN0KGYpP2YucmVwbGFjZShJYiwiJDFfPSIrRWIrKyk6ZisoRmIudGVzdChmKT8iJiI6Ij8iKSsiXz0iK0ViKyspKSxsLmlmTW9kaWZpZWQmJihuLmxhc3RNb2RpZmllZFtmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsbi5sYXN0TW9kaWZpZWRbZl0pLG4uZXRhZ1tmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixuLmV0YWdbZl0pKSwobC5kYXRhJiZsLmhhc0NvbnRlbnQmJmwuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJncuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixsLmNvbnRlbnRUeXBlKSx3LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsbC5kYXRhVHlwZXNbMF0mJmwuYWNjZXB0c1tsLmRhdGFUeXBlc1swXV0/bC5hY2NlcHRzW2wuZGF0YVR5cGVzWzBdXSsoIioiIT09bC5kYXRhVHlwZXNbMF0/IiwgIitRYisiOyBxPTAuMDEiOiIiKTpsLmFjY2VwdHNbIioiXSk7Zm9yKGUgaW4gbC5oZWFkZXJzKXcuc2V0UmVxdWVzdEhlYWRlcihlLGwuaGVhZGVyc1tlXSk7aWYobC5iZWZvcmVTZW5kJiYobC5iZWZvcmVTZW5kLmNhbGwobSx3LGwpPT09ITF8fDI9PT11KSlyZXR1cm4gdy5hYm9ydCgpO3Y9ImFib3J0Ijtmb3IoZSBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl3W2VdKGxbZV0pO2lmKGo9VWIoUGIsbCxjLHcpKXtpZih3LnJlYWR5U3RhdGU9MSxpJiZvLnRyaWdnZXIoImFqYXhTZW5kIixbdyxsXSksMj09PXUpcmV0dXJuIHc7bC5hc3luYyYmbC50aW1lb3V0PjAmJihoPWEuc2V0VGltZW91dChmdW5jdGlvbigpe3cuYWJvcnQoInRpbWVvdXQiKX0sbC50aW1lb3V0KSk7dHJ5e3U9MSxqLnNlbmQocyx5KX1jYXRjaCh4KXtpZighKDI+dSkpdGhyb3cgeDt5KC0xLHgpfX1lbHNlIHkoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIHkoYixjLGQsZSl7dmFyIGsscyx0LHYseCx5PWM7MiE9PXUmJih1PTIsaCYmYS5jbGVhclRpbWVvdXQoaCksaj12b2lkIDAsZz1lfHwiIix3LnJlYWR5U3RhdGU9Yj4wPzQ6MCxrPWI+PTIwMCYmMzAwPmJ8fDMwND09PWIsZCYmKHY9V2IobCx3LGQpKSx2PVhiKGwsdix3LGspLGs/KGwuaWZNb2RpZmllZCYmKHg9dy5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLHgmJihuLmxhc3RNb2RpZmllZFtmXT14KSx4PXcuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSx4JiYobi5ldGFnW2ZdPXgpKSwyMDQ9PT1ifHwiSEVBRCI9PT1sLnR5cGU/eT0ibm9jb250ZW50IjozMDQ9PT1iP3k9Im5vdG1vZGlmaWVkIjooeT12LnN0YXRlLHM9di5kYXRhLHQ9di5lcnJvcixrPSF0KSk6KHQ9eSwhYiYmeXx8KHk9ImVycm9yIiwwPmImJihiPTApKSksdy5zdGF0dXM9Yix3LnN0YXR1c1RleHQ9KGN8fHkpKyIiLGs/cC5yZXNvbHZlV2l0aChtLFtzLHksd10pOnAucmVqZWN0V2l0aChtLFt3LHksdF0pLHcuc3RhdHVzQ29kZShyKSxyPXZvaWQgMCxpJiZvLnRyaWdnZXIoaz8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt3LGwsaz9zOnRdKSxxLmZpcmVXaXRoKG0sW3cseV0pLGkmJihvLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3csbF0pLC0tbi5hY3RpdmV8fG4uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB3fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG4uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheChuLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sbi5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmMT09PWEuZmlyc3RDaGlsZC5ub2RlVHlwZSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPW4odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9bi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24ubm9kZU5hbWUodGhpcywiYm9keSIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KTtmdW5jdGlvbiBZYihhKXtyZXR1cm4gYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxuLmNzcyhhLCJkaXNwbGF5Iil9ZnVuY3Rpb24gWmIoYSl7aWYoIW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50fHxkLGEpKXJldHVybiEwO3doaWxlKGEmJjE9PT1hLm5vZGVUeXBlKXtpZigibm9uZSI9PT1ZYihhKXx8ImhpZGRlbiI9PT1hLnR5cGUpcmV0dXJuITA7YT1hLnBhcmVudE5vZGV9cmV0dXJuITF9bi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBsLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpP2Eub2Zmc2V0V2lkdGg8PTAmJmEub2Zmc2V0SGVpZ2h0PD0wJiYhYS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aDpaYihhKX0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgJGI9LyUyMC9nLF9iPS9cW1xdJC8sYWM9L1xyP1xuL2csYmM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGNjPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBkYyhhLGIsYyxkKXt2YXIgZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxfYi50ZXN0KGEpP2QoYSxlKTpkYyhhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09bi50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpZGMoYSsiWyIrZSsiXSIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj8iIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5PYmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlkYyhjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSgkYiwiKyIpfSxuLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1uLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYT9uLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmY2MudGVzdCh0aGlzLm5vZGVOYW1lKSYmIWJjLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFaLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYWMsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGFjLCJcclxuIil9fSkuZ2V0KCl9fSksbi5hamF4U2V0dGluZ3MueGhyPXZvaWQgMCE9PWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTG9jYWw/aWMoKTpkLmRvY3VtZW50TW9kZT44P2hjKCk6L14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmaGMoKXx8aWMoKX06aGM7dmFyIGVjPTAsZmM9e30sZ2M9bi5hamF4U2V0dGluZ3MueGhyKCk7YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGZjKWZjW2FdKHZvaWQgMCwhMCl9KSxsLmNvcnM9ISFnYyYmIndpdGhDcmVkZW50aWFscyJpbiBnYyxnYz1sLmFqYXg9ISFnYyxnYyYmbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe2lmKCFiLmNyb3NzRG9tYWlufHxsLmNvcnMpe3ZhciBjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7dmFyIGYsZz1iLnhocigpLGg9KytlYztpZihnLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZiBpbiBiLnhockZpZWxkcylnW2ZdPWIueGhyRmllbGRzW2ZdO2IubWltZVR5cGUmJmcub3ZlcnJpZGVNaW1lVHlwZSYmZy5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGRbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGRbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZiBpbiBkKXZvaWQgMCE9PWRbZl0mJmcuc2V0UmVxdWVzdEhlYWRlcihmLGRbZl0rIiIpO2cuc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCksYz1mdW5jdGlvbihhLGQpe3ZhciBmLGksajtpZihjJiYoZHx8ND09PWcucmVhZHlTdGF0ZSkpaWYoZGVsZXRlIGZjW2hdLGM9dm9pZCAwLGcub25yZWFkeXN0YXRlY2hhbmdlPW4ubm9vcCxkKTQhPT1nLnJlYWR5U3RhdGUmJmcuYWJvcnQoKTtlbHNle2o9e30sZj1nLnN0YXR1cywic3RyaW5nIj09dHlwZW9mIGcucmVzcG9uc2VUZXh0JiYoai50ZXh0PWcucmVzcG9uc2VUZXh0KTt0cnl7aT1nLnN0YXR1c1RleHR9Y2F0Y2goayl7aT0iIn1mfHwhYi5pc0xvY2FsfHxiLmNyb3NzRG9tYWluPzEyMjM9PT1mJiYoZj0yMDQpOmY9ai50ZXh0PzIwMDo0MDR9aiYmZShmLGksaixnLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX0sYi5hc3luYz80PT09Zy5yZWFkeVN0YXRlP2Euc2V0VGltZW91dChjKTpnLm9ucmVhZHlzdGF0ZWNoYW5nZT1mY1toXT1jOmMoKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKHZvaWQgMCwhMCl9fX19KTtmdW5jdGlvbiBoYygpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBpYygpe3RyeXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChiKXt9fW4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLG4uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjPWQuaGVhZHx8bigiaGVhZCIpWzBdfHxkLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe2I9ZC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLmFzeW5jPSEwLGEuc2NyaXB0Q2hhcnNldCYmKGIuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGIuc3JjPWEudXJsLGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7KGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSkmJihiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxmKDIwMCwic3VjY2VzcyIpKX0sYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2ImJmIub25sb2FkKHZvaWQgMCwhMCl9fX19KTt2YXIgamM9W10sa2M9Lyg9KVw/KD89JnwkKXxcP1w/LztuLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9amMucG9wKCl8fG4uZXhwYW5kbysiXyIrRWIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKGtjLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYma2MudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKGtjLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShGYi50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP24oYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssamMucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fGQ7dmFyIGU9eC5leGVjKGEpLGY9IWMmJltdO3JldHVybiBlP1tiLmNyZWF0ZUVsZW1lbnQoZVsxXSldOihlPWphKFthXSxiLGYpLGYmJmYubGVuZ3RoJiZuKGYpLnJlbW92ZSgpLG4ubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9O3ZhciBsYz1uLmZuLmxvYWQ7bi5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJmxjKXJldHVybiBsYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZigiICIpO3JldHVybiBoPi0xJiYoZD1uLnRyaW0oYS5zbGljZShoLGEubGVuZ3RoKSksYT1hLnNsaWNlKDAsaCkpLG4uaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiYib2JqZWN0Ij09dHlwZW9mIGImJihlPSJQT1NUIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmV8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP24oIjxkaXY+IikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sbi5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07ZnVuY3Rpb24gbWMoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsInBvc2l0aW9uIiksbD1uKGEpLG09e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLCJ0b3AiKSxpPW4uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiZuLmluQXJyYXkoImF1dG8iLFtmLGldKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLG4uZXh0ZW5kKHt9LGgpKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXt0b3A6MCxsZWZ0OjB9LGU9dGhpc1swXSxmPWUmJmUub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixlKT8oInVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1tYyhmKSx7dG9wOmQudG9wKyhjLnBhZ2VZT2Zmc2V0fHxiLnNjcm9sbFRvcCktKGIuY2xpZW50VG9wfHwwKSxsZWZ0OmQubGVmdCsoYy5wYWdlWE9mZnNldHx8Yi5zY3JvbGxMZWZ0KS0oYi5jbGllbnRMZWZ0fHwwKX0pOmR9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXt0b3A6MCxsZWZ0OjB9LGQ9dGhpc1swXTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoZCwicG9zaXRpb24iKT9iPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1sIil8fChjPWEub2Zmc2V0KCkpLGMudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLGMubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6Yi50b3AtYy50b3Atbi5jc3MoZCwibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtYy5sZWZ0LW4uY3NzKGQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShhJiYhbi5ub2RlTmFtZShhLCJodG1sIikmJiJzdGF0aWMiPT09bi5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxRYX0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPS9ZLy50ZXN0KGIpO24uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9bWMoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9iIGluIGY/ZltiXTpmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/bihmKS5zY3JvbGxMZWZ0KCk6ZSxjP2U6bihmKS5zY3JvbGxUb3AoKSk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksbi5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT1VYShsLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1TYShhLGIpLE9hLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxuLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7CnBhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGVbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGVbIm9mZnNldCIrYV0sZVsiY2xpZW50IithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsIioqIik6dGhpcy5vZmYoYixhfHwiKioiLGMpfX0pLG4uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sbi5mbi5hbmRTZWxmPW4uZm4uYWRkQmFjaywiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBuYz1hLmpRdWVyeSxvYz1hLiQ7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYmKGEuJD1vYyksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9bmMpLG59LGJ8fChhLmpRdWVyeT1hLiQ9biksbn0pOwo="},{"meta":{"name":"gm4-polyfill.js","url":"https://greasemonkey.github.io/gm4-polyfill/gm4-polyfill.js","ts":1582364134304,"mimetype":"text/javascript"},"source":"LyoKVGhpcyBoZWxwZXIgc2NyaXB0IGJyaWRnZXMgY29tcGF0aWJpbGl0eSBiZXR3ZWVuIHRoZSBHcmVhc2Vtb25rZXkgNCBBUElzIGFuZApleGlzdGluZy9sZWdhY3kgQVBJcy4gIFNheSBmb3IgZXhhbXBsZSB5b3VyIHVzZXIgc2NyaXB0IGluY2x1ZGVzCgogICAgLy8gQGdyYW50IEdNX2dldFZhbHVlCgpBbmQgeW91J2QgbGlrZSB0byBiZSBjb21wYXRpYmxlIHdpdGggYm90aCBHcmVhc2Vtb25rZXkgMyBhbmQgR3JlYXNlbW9ua2V5IDQKKGFuZCBmb3IgdGhhdCBtYXR0ZXIgYWxsIHZlcnNpb25zIG9mIFZpb2xlbnRtb25rZXksIFRhbXBlcm1vbmtleSwgYW5kIGFueSBvdGhlcgp1c2VyIHNjcmlwdCBlbmdpbmUpLiAgQWRkOgoKICAgIC8vIEBncmFudCBHTS5nZXRWYWx1ZQogICAgLy8gQHJlcXVpcmUgaHR0cHM6Ly9ncmVhc2Vtb25rZXkuZ2l0aHViLmlvL2dtNC1wb2x5ZmlsbC9nbTQtcG9seWZpbGwuanMKCkFuZCBzd2l0Y2ggdG8gdGhlIG5ldyAoR00tZG90KSBBUElzLCB3aGljaCByZXR1cm4gcHJvbWlzZXMuICBJZiB5b3VyIHNjcmlwdAppcyBydW5uaW5nIGluIGFuIGVuZ2luZSB0aGF0IGRvZXMgbm90IHByb3ZpZGUgdGhlIG5ldyBhc3luY2hyb25vdXMgQVBJcywgdGhpcwpoZWxwZXIgd2lsbCBhZGQgdGhlbSwgYmFzZWQgb24gdGhlIG9sZCBBUElzLgoKSWYgeW91IHVzZSBgYXdhaXRgIGF0IHRoZSB0b3AgbGV2ZWwsIHlvdSdsbCBuZWVkIHRvIHdyYXAgeW91ciBzY3JpcHQgaW4gYW4KYGFzeW5jYCBmdW5jdGlvbiB0byBiZSBjb21wYXRpYmxlIHdpdGggYW55IHVzZXIgc2NyaXB0IGVuZ2luZSBiZXNpZGVzCkdyZWFzZW1vbmtleSA0LgoKICAgIChhc3luYyAoKSA9PiB7CiAgICBsZXQgeCA9IGF3YWl0IEdNLmdldFZhbHVlKCd4Jyk7CiAgICB9KSgpOwoqLwoKaWYgKHR5cGVvZiBHTSA9PSAndW5kZWZpbmVkJykgewogIHRoaXMuR00gPSB7fTsKfQoKCmlmICh0eXBlb2YgR01fYWRkU3R5bGUgPT0gJ3VuZGVmaW5lZCcpIHsKICB0aGlzLkdNX2FkZFN0eWxlID0gKGFDc3MpID0+IHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGxldCBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTsKICAgIGlmIChoZWFkKSB7CiAgICAgIGxldCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpOwogICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGFDc3M7CiAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgICByZXR1cm4gc3R5bGU7CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9Owp9CgoKaWYgKHR5cGVvZiBHTV9yZWdpc3Rlck1lbnVDb21tYW5kID09ICd1bmRlZmluZWQnKSB7CiAgdGhpcy5HTV9yZWdpc3Rlck1lbnVDb21tYW5kID0gKGNhcHRpb24sIGNvbW1hbmRGdW5jLCBhY2Nlc3NLZXkpID0+IHsKICAgIGlmICghZG9jdW1lbnQuYm9keSkgewogICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnCiAgICAgICAgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sb2NhbE5hbWUgPT09ICdodG1sJykgewogICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSkgewogICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoY2FwdGlvbiwgY29tbWFuZEZ1bmMsIGFjY2Vzc0tleSk7CiAgICAgICAgICB9CiAgICAgICAgfSkub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtjaGlsZExpc3Q6IHRydWV9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdHTV9yZWdpc3Rlck1lbnVDb21tYW5kIGdvdCBubyBib2R5LicpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGxldCBjb250ZXh0TWVudSA9IGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKCdjb250ZXh0bWVudScpOwogICAgbGV0IG1lbnUgPSAoY29udGV4dE1lbnUgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZW51IycgKyBjb250ZXh0TWVudSkgOiBudWxsKTsKICAgIGlmICghbWVudSkgewogICAgICBtZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWVudScpOwogICAgICBtZW51LnNldEF0dHJpYnV0ZSgnaWQnLCAnZ20tcmVnaXN0ZXJlZC1tZW51Jyk7CiAgICAgIG1lbnUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NvbnRleHQnKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtZW51KTsKICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2NvbnRleHRtZW51JywgJ2dtLXJlZ2lzdGVyZWQtbWVudScpOwogICAgfQogICAgbGV0IG1lbnVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWVudWl0ZW0nKTsKICAgIG1lbnVJdGVtLnRleHRDb250ZW50ID0gY2FwdGlvbjsKICAgIG1lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29tbWFuZEZ1bmMsIHRydWUpOwogICAgbWVudS5hcHBlbmRDaGlsZChtZW51SXRlbSk7CiAgfTsKfQoKCmlmICh0eXBlb2YgR01fZ2V0UmVzb3VyY2VUZXh0ID09ICd1bmRlZmluZWQnKSB7CiAgdGhpcy5HTV9nZXRSZXNvdXJjZVRleHQgPSAoYVJlcykgPT4gewogICAgJ3VzZSBzdHJpY3QnOwogICAgcmV0dXJuIEdNLmdldFJlc291cmNlVXJsKGFSZXMpCiAgICAgIC50aGVuKHVybCA9PiBmZXRjaCh1cmwpKQogICAgICAudGhlbihyZXNwID0+IHJlc3AudGV4dCgpKQogICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICBHTS5sb2coJ1JlcXVlc3QgZmFpbGVkJywgZXJyb3IpOwogICAgICAgIHJldHVybiBudWxsOwogICAgICB9KTsKICB9Owp9CgoKT2JqZWN0LmVudHJpZXMoewogICdsb2cnOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLCAgLy8gUGFsZSBNb29uIGNvbXBhdGliaWxpdHkuICBTZWUgIzEzLgogICdpbmZvJzogR01faW5mbywKfSkuZm9yRWFjaCgoW25ld0tleSwgb2xkXSkgPT4gewogIGlmIChvbGQgJiYgKHR5cGVvZiBHTVtuZXdLZXldID09ICd1bmRlZmluZWQnKSkgewogICAgR01bbmV3S2V5XSA9IG9sZDsKICB9Cn0pOwoKCk9iamVjdC5lbnRyaWVzKHsKICAnR01fYWRkU3R5bGUnOiAnYWRkU3R5bGUnLAogICdHTV9kZWxldGVWYWx1ZSc6ICdkZWxldGVWYWx1ZScsCiAgJ0dNX2dldFJlc291cmNlVVJMJzogJ2dldFJlc291cmNlVXJsJywKICAnR01fZ2V0VmFsdWUnOiAnZ2V0VmFsdWUnLAogICdHTV9saXN0VmFsdWVzJzogJ2xpc3RWYWx1ZXMnLAogICdHTV9ub3RpZmljYXRpb24nOiAnbm90aWZpY2F0aW9uJywKICAnR01fb3BlbkluVGFiJzogJ29wZW5JblRhYicsCiAgJ0dNX3JlZ2lzdGVyTWVudUNvbW1hbmQnOiAncmVnaXN0ZXJNZW51Q29tbWFuZCcsCiAgJ0dNX3NldENsaXBib2FyZCc6ICdzZXRDbGlwYm9hcmQnLAogICdHTV9zZXRWYWx1ZSc6ICdzZXRWYWx1ZScsCiAgJ0dNX3htbGh0dHBSZXF1ZXN0JzogJ3htbEh0dHBSZXF1ZXN0JywKICAnR01fZ2V0UmVzb3VyY2VUZXh0JzogJ2dldFJlc291cmNlVGV4dCcsCn0pLmZvckVhY2goKFtvbGRLZXksIG5ld0tleV0pID0+IHsKICBsZXQgb2xkID0gdGhpc1tvbGRLZXldOwogIGlmIChvbGQgJiYgKHR5cGVvZiBHTVtuZXdLZXldID09ICd1bmRlZmluZWQnKSkgewogICAgR01bbmV3S2V5XSA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICB0cnkgewogICAgICAgICAgcmVzb2x2ZShvbGQuYXBwbHkodGhpcywgYXJncykpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJlamVjdChlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9Cn0pOwo="}]}],"settings":{"configMode":100,"connect_mode":"off","external_connect":"all","forbiddenPages":["*example.org/*","*paypal.tld/*","*stripe.com/*","https://*deutsche-bank-24.tld/*","https://*bankofamerica.tld/*","/^.*:\\/\\/apis\\.google\\.com\\/((?!render)([^\\/]+)\\/)+([^\\/]+)?$/","*://www.facebook.com/plugins/*","*://platform.twitter.com/widgets/*"],"incognito_mode":"temporary","page_filter_mode":"black","page_whitelist":["/https?:\\/\\/greasyfork\\.org\\/.*/","http://xkcd.com/970/"],"require_sri_mode":"supported","script_blacklist_server":[{"rules":["/https?:\\/\\/userscripts\\.org\\/scripts\\/(source|version)/(102614).*\\.user\\.js/"],"severity":"2"},{"name":"SaveFrom.net helper","reason":"Shows advertisements","rules":["/https?:\\/\\/sf-addon\\.com\\/.*\\/.*\\.user\\.js/","/https?:\\/\\/.*\\.sf-helper\\.com\\/.*\\.user\\.js/"],"severity":"3"},{"reasons":{"en":"Used for a phishing compain to compromise users of baon-nutrition.com"},"rules":["/https?:\\/\\/files\\.ulysse\\.travel\\/.*\\.user\\.js/"],"severity":"8"}],"webrequest_fixCSP":"yes","webrequest_modHeaders":"yes"}}